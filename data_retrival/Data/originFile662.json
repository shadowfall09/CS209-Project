{"items":[{"tags":["java","google-cloud-platform","google-bigquery","gcs"],"answers":[{"tags":[],"owner":{"account_id":19863790,"reputation":1361,"user_id":14551567,"display_name":"Betjens"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1644501071,"creation_date":1644501071,"answer_id":71066322,"question_id":71060793,"body_markdown":"In short, you need to update `TableResults` variable with your `getNextPage()`  variable. If you don&#39;t update it you will always be looping the same results over and over. Thats why you are getting tons of records in your output. \r\n\r\nIf you check the following samples: [Bigquery Pagination](https://cloud.google.com/bigquery/docs/samples/bigquery-query-pagination) and [Using Java Client Library](https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#complete_source_code). There are ways that we can deal with pagination results. Although not specific for single run queries. \r\n\r\nAs show on the code below, which is partially based on pagination sample, you need to use the output of `getNextPage()` to update `results` variable and proceed to perform the next iteration inside the while up until it iterates all pages but the last. \r\n\r\n\r\n**QueryRun.Java**\r\n```\r\npackage com.projects;\r\n\r\n// [START bigquery_query]\r\nimport com.google.cloud.bigquery.BigQuery;\r\nimport com.google.cloud.bigquery.BigQueryException;\r\nimport com.google.cloud.bigquery.BigQueryOptions;\r\nimport com.google.cloud.bigquery.QueryJobConfiguration; \r\nimport com.google.cloud.bigquery.TableResult;\r\nimport com.google.cloud.bigquery.Job;\r\nimport com.google.cloud.bigquery.JobId;\r\nimport com.google.cloud.bigquery.FieldValueList;\r\nimport com.google.cloud.bigquery.JobInfo;\r\nimport com.google.cloud.bigquery.BigQuery.QueryResultsOption;\r\nimport java.util.UUID;\r\n\r\nimport sun.jvm.hotspot.debugger.Page;\r\n\r\npublic class QueryRun {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    String projectId = &quot;bigquery-public-data&quot;;\r\n    String datasetName = &quot;covid19_ecdc_eu&quot;;\r\n    String tableName = &quot;covid_19_geographic_distribution_worldwide&quot;;\r\n    String query =\r\n        &quot;SELECT * &quot;\r\n            + &quot; FROM `&quot;\r\n            + projectId\r\n            + &quot;.&quot;\r\n            + datasetName\r\n            + &quot;.&quot;\r\n            + tableName\r\n            + &quot;`&quot;\r\n            + &quot; LIMIT 100&quot;;\r\n    System.out.println(query);\r\n    query(query);\r\n  }\r\n\r\n  public static void query(String query) {\r\n    try {\r\n      BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\r\n      QueryJobConfiguration queryConfig = QueryJobConfiguration.newBuilder(query).build();\r\n\r\n      // Create a job ID so that we can safely retry.\r\n      JobId jobId = JobId.of(UUID.randomUUID().toString());\r\n      Job queryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\r\n\r\n      TableResult results = queryJob.getQueryResults(QueryResultsOption.pageSize(10));\r\n\r\n      int i = 0;\r\n      int j =0; \r\n\r\n      // get all paged data except last line\r\n      while(results.hasNextPage()) {\r\n        j++;   \r\n        for (FieldValueList row : results.getValues()) { \r\n            i++;\r\n        }\r\n        results = results.getNextPage();\r\n        print_msg(i,j);\r\n      }\r\n\r\n      // last line run\r\n      j++;\r\n      for (FieldValueList row : results.getValues()) {  \r\n        i++;\r\n      }\r\n      print_msg(i,j);\r\n\r\n      System.out.println(&quot;Query performed successfully.&quot;);\r\n    } catch (BigQueryException | InterruptedException e) {\r\n      System.out.println(&quot;Query not performed \\n&quot; + e.toString());\r\n    }\r\n  }\r\n\r\n  public static void print_msg(int i,int j)\r\n  {\r\n    System.out.println(&quot;page &quot; + j);\r\n    System.out.println(&quot;Data Extracted::&quot; + i + &quot; records&quot;); \r\n  }\r\n\r\n} \r\n// [END bigquery_query]\r\n```\r\n\r\n**output:**\r\n```\r\nSELECT *  FROM `bigquery-public-data.covid19_ecdc_eu.covid_19_geographic_distribution_worldwide` LIMIT 100\r\npage 1\r\nData Extracted::10 records\r\npage 2\r\nData Extracted::20 records\r\npage 3\r\nData Extracted::30 records\r\npage 4\r\nData Extracted::40 records\r\npage 5\r\nData Extracted::50 records\r\npage 6\r\nData Extracted::60 records\r\npage 7\r\nData Extracted::70 records\r\npage 8\r\nData Extracted::80 records\r\npage 9\r\nData Extracted::90 records\r\npage 10\r\nData Extracted::100 records\r\nQuery performed successfully.\r\n```\r\n\r\nAs a final note, there are not official sample about pagination for queries so I&#39;m not totally sure of the recommended way to handle pagination with java. Its not quite clear on the [BigQuery for Java](https://javadoc.io/doc/com.google.cloud/google-cloud-bigquery/latest/com/google/cloud/bigquery/BigQuery.html) documentation page. If you can update your question with your approach to pagination I would appreciate. \r\n\r\nIf you have issues running the attached sample please see [Using the BigQuery Java client](https://cloud.google.com/bigquery/docs/reference/libraries#using_the_client_library) sample, its [github](https://github.com/googleapis/java-bigquery/blob/HEAD/samples/snippets/src/main/java/com/example/bigquery/Query.java) page and its `pom.xml` file inside of it and check if you are in compliance with it.","title":"How to properly iterate Bigquery TableResult in Java","body":"<p>In short, you need to update <code>TableResults</code> variable with your <code>getNextPage()</code>  variable. If you don't update it you will always be looping the same results over and over. Thats why you are getting tons of records in your output.</p>\n<p>If you check the following samples: <a href=\"https://cloud.google.com/bigquery/docs/samples/bigquery-query-pagination\" rel=\"nofollow noreferrer\">Bigquery Pagination</a> and <a href=\"https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#complete_source_code\" rel=\"nofollow noreferrer\">Using Java Client Library</a>. There are ways that we can deal with pagination results. Although not specific for single run queries.</p>\n<p>As show on the code below, which is partially based on pagination sample, you need to use the output of <code>getNextPage()</code> to update <code>results</code> variable and proceed to perform the next iteration inside the while up until it iterates all pages but the last.</p>\n<p><strong>QueryRun.Java</strong></p>\n<pre><code>package com.projects;\n\n// [START bigquery_query]\nimport com.google.cloud.bigquery.BigQuery;\nimport com.google.cloud.bigquery.BigQueryException;\nimport com.google.cloud.bigquery.BigQueryOptions;\nimport com.google.cloud.bigquery.QueryJobConfiguration; \nimport com.google.cloud.bigquery.TableResult;\nimport com.google.cloud.bigquery.Job;\nimport com.google.cloud.bigquery.JobId;\nimport com.google.cloud.bigquery.FieldValueList;\nimport com.google.cloud.bigquery.JobInfo;\nimport com.google.cloud.bigquery.BigQuery.QueryResultsOption;\nimport java.util.UUID;\n\nimport sun.jvm.hotspot.debugger.Page;\n\npublic class QueryRun {\n\n  public static void main(String[] args) {\n\n    String projectId = &quot;bigquery-public-data&quot;;\n    String datasetName = &quot;covid19_ecdc_eu&quot;;\n    String tableName = &quot;covid_19_geographic_distribution_worldwide&quot;;\n    String query =\n        &quot;SELECT * &quot;\n            + &quot; FROM `&quot;\n            + projectId\n            + &quot;.&quot;\n            + datasetName\n            + &quot;.&quot;\n            + tableName\n            + &quot;`&quot;\n            + &quot; LIMIT 100&quot;;\n    System.out.println(query);\n    query(query);\n  }\n\n  public static void query(String query) {\n    try {\n      BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\n      QueryJobConfiguration queryConfig = QueryJobConfiguration.newBuilder(query).build();\n\n      // Create a job ID so that we can safely retry.\n      JobId jobId = JobId.of(UUID.randomUUID().toString());\n      Job queryJob = bigquery.create(JobInfo.newBuilder(queryConfig).setJobId(jobId).build());\n\n      TableResult results = queryJob.getQueryResults(QueryResultsOption.pageSize(10));\n\n      int i = 0;\n      int j =0; \n\n      // get all paged data except last line\n      while(results.hasNextPage()) {\n        j++;   \n        for (FieldValueList row : results.getValues()) { \n            i++;\n        }\n        results = results.getNextPage();\n        print_msg(i,j);\n      }\n\n      // last line run\n      j++;\n      for (FieldValueList row : results.getValues()) {  \n        i++;\n      }\n      print_msg(i,j);\n\n      System.out.println(&quot;Query performed successfully.&quot;);\n    } catch (BigQueryException | InterruptedException e) {\n      System.out.println(&quot;Query not performed \\n&quot; + e.toString());\n    }\n  }\n\n  public static void print_msg(int i,int j)\n  {\n    System.out.println(&quot;page &quot; + j);\n    System.out.println(&quot;Data Extracted::&quot; + i + &quot; records&quot;); \n  }\n\n} \n// [END bigquery_query]\n</code></pre>\n<p><strong>output:</strong></p>\n<pre><code>SELECT *  FROM `bigquery-public-data.covid19_ecdc_eu.covid_19_geographic_distribution_worldwide` LIMIT 100\npage 1\nData Extracted::10 records\npage 2\nData Extracted::20 records\npage 3\nData Extracted::30 records\npage 4\nData Extracted::40 records\npage 5\nData Extracted::50 records\npage 6\nData Extracted::60 records\npage 7\nData Extracted::70 records\npage 8\nData Extracted::80 records\npage 9\nData Extracted::90 records\npage 10\nData Extracted::100 records\nQuery performed successfully.\n</code></pre>\n<p>As a final note, there are not official sample about pagination for queries so I'm not totally sure of the recommended way to handle pagination with java. Its not quite clear on the <a href=\"https://javadoc.io/doc/com.google.cloud/google-cloud-bigquery/latest/com/google/cloud/bigquery/BigQuery.html\" rel=\"nofollow noreferrer\">BigQuery for Java</a> documentation page. If you can update your question with your approach to pagination I would appreciate.</p>\n<p>If you have issues running the attached sample please see <a href=\"https://cloud.google.com/bigquery/docs/reference/libraries#using_the_client_library\" rel=\"nofollow noreferrer\">Using the BigQuery Java client</a> sample, its <a href=\"https://github.com/googleapis/java-bigquery/blob/HEAD/samples/snippets/src/main/java/com/example/bigquery/Query.java\" rel=\"nofollow noreferrer\">github</a> page and its <code>pom.xml</code> file inside of it and check if you are in compliance with it.</p>\n"},{"tags":[],"owner":{"account_id":4816003,"reputation":33,"user_id":3888078,"display_name":"casfed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675936087,"creation_date":1675936087,"answer_id":75396818,"question_id":71060793,"body_markdown":"Probably I Am late in the response.\r\nBut reading on the java client guide (https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#complete_source_code)\r\n\r\nit says that: \r\n\r\n&gt; Iterate over the QueryResponse to get all the rows in the results. The iterator automatically handles pagination. Each FieldList exposes the columns by numeric index or column name.\r\n\r\nSai that, it should be easier to simply use the iterateAll() method.\r\n\r\nLet me know if I Am wrong.\r\n\r\n","title":"How to properly iterate Bigquery TableResult in Java","body":"<p>Probably I Am late in the response.\nBut reading on the java client guide (<a href=\"https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#complete_source_code\" rel=\"nofollow noreferrer\">https://cloud.google.com/bigquery/docs/quickstarts/quickstart-client-libraries#complete_source_code</a>)</p>\n<p>it says that:</p>\n<blockquote>\n<p>Iterate over the QueryResponse to get all the rows in the results. The iterator automatically handles pagination. Each FieldList exposes the columns by numeric index or column name.</p>\n</blockquote>\n<p>Sai that, it should be easier to simply use the iterateAll() method.</p>\n<p>Let me know if I Am wrong.</p>\n"}],"owner":{"account_id":7267060,"reputation":239,"user_id":5541338,"display_name":"1stenjoydmoment"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3956,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71066322,"answer_count":2,"score":1,"last_activity_date":1675936087,"creation_date":1644475404,"question_id":71060793,"body_markdown":"I am trying to iterate the rows from TableResult using `getValues()` as below.\r\nif I use `getValues()`, it&#39;s retrieving only the first page rows. I want to iterate all the rows using `getValues()` and NOT using `iterateAll()`. \r\nIn the below code, the problem is its going infinite time. not ending. `while(results.hasNextPage())` is not ending. what is the problem in the below code?\r\n\r\n        {\r\n        query = &quot;select from aa.bb.cc&quot;;\r\n        QueryJobConfiguration queryConfig =\r\n                QueryJobConfiguration.newBuilder(query)\r\n                        .setPriority(QueryJobConfiguration.Priority.BATCH)\r\n                        .build();\r\n        TableResult results = bigquery.query(queryConfig);\r\n\r\n        int i = 0;\r\n        int j=0;\r\n        while(results.hasNextPage()) {\r\n            j++;\r\n            System.out.println(&quot;page &quot; + j);\r\n            System.out.println(&quot;Data Extracted::&quot; + i + &quot; records&quot;);\r\n            for (FieldValueList row : results.getNextPage().getValues()) {\r\n                i++;\r\n            }\r\n        }\r\n        System.out.println(&quot;Total Count::&quot; + results.getTotalRows());\r\n        System.out.println(&quot;Data Extracted::&quot; + i + &quot; records&quot;);\r\n    }\r\n\r\n\r\nI have only 200,000 records in the source table. below is the out put and I forcefully stopped the process.\r\n\r\n    page 1\r\n    Data Extracted::0 records\r\n    page 2\r\n    Data Extracted::85242 records\r\n    page 3\r\n    Data Extracted::170484 records\r\n    page 4\r\n    Data Extracted::255726 records\r\n    page 5\r\n    Data Extracted::340968 records\r\n    page 6\r\n    Data Extracted::426210 records\r\n    page 7\r\n    Data Extracted::511452 records\r\n    page 8\r\n    Data Extracted::596694 records\r\n    .......\r\n    .......\r\n    .......\r\n    .......\r\n\r\n","title":"How to properly iterate Bigquery TableResult in Java","body":"<p>I am trying to iterate the rows from TableResult using <code>getValues()</code> as below.\nif I use <code>getValues()</code>, it's retrieving only the first page rows. I want to iterate all the rows using <code>getValues()</code> and NOT using <code>iterateAll()</code>.\nIn the below code, the problem is its going infinite time. not ending. <code>while(results.hasNextPage())</code> is not ending. what is the problem in the below code?</p>\n<pre><code>    {\n    query = &quot;select from aa.bb.cc&quot;;\n    QueryJobConfiguration queryConfig =\n            QueryJobConfiguration.newBuilder(query)\n                    .setPriority(QueryJobConfiguration.Priority.BATCH)\n                    .build();\n    TableResult results = bigquery.query(queryConfig);\n\n    int i = 0;\n    int j=0;\n    while(results.hasNextPage()) {\n        j++;\n        System.out.println(&quot;page &quot; + j);\n        System.out.println(&quot;Data Extracted::&quot; + i + &quot; records&quot;);\n        for (FieldValueList row : results.getNextPage().getValues()) {\n            i++;\n        }\n    }\n    System.out.println(&quot;Total Count::&quot; + results.getTotalRows());\n    System.out.println(&quot;Data Extracted::&quot; + i + &quot; records&quot;);\n}\n</code></pre>\n<p>I have only 200,000 records in the source table. below is the out put and I forcefully stopped the process.</p>\n<pre><code>page 1\nData Extracted::0 records\npage 2\nData Extracted::85242 records\npage 3\nData Extracted::170484 records\npage 4\nData Extracted::255726 records\npage 5\nData Extracted::340968 records\npage 6\nData Extracted::426210 records\npage 7\nData Extracted::511452 records\npage 8\nData Extracted::596694 records\n.......\n.......\n.......\n.......\n</code></pre>\n"},{"tags":["java","string","file-io","java-stream","java-nio"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1647705395,"post_id":71539612,"comment_id":126440276,"body_markdown":"&quot;I want to get String array&quot; containing what? Content of that file? Please [edit] your question to clarify it. Also is `Files.list(Paths.get(&quot;path&quot;))` mandatory? `Files.readAllLines(filePath, charset)` would create List&lt;String&gt; containing all lines from specified file, or if you really want to create String[] *array* you can use something like `File.lines(filePath, charset).toArray(String[]::new)`.","body":"&quot;I want to get String array&quot; containing what? Content of that file? Please <a href=\"https://stackoverflow.com/posts/71539612/edit\">edit</a> your question to clarify it. Also is <code>Files.list(Paths.get(&quot;path&quot;))</code> mandatory? <code>Files.readAllLines(filePath, charset)</code> would create List&lt;String&gt; containing all lines from specified file, or if you really want to create String[] <i>array</i> you can use something like <code>File.lines(filePath, charset).toArray(String[]::new)</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1647763802,"post_id":71539612,"comment_id":126449234,"body_markdown":"See also https://stackoverflow.com/questions/34208962","body":"See also <a href=\"https://stackoverflow.com/questions/34208962\">stackoverflow.com/questions/34208962</a>"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647874284,"creation_date":1647706022,"answer_id":71539777,"question_id":71539612,"body_markdown":"`Files.list()` expects a *path* pointing to the *directory* as a parameter, and it&#39;ll give you a *stream* of `Path` objects (*if any*) contained in this directory. In case if the given *path* will be a *file*, you will get a `NotDirectoryException` exception. You can&#39;t access the *contents of a file* with `Files.list()`, it&#39;s simply meant for another purpose.\r\n\r\nIn order to **read** from the *text file* you can use either [`Files.lines()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path,java.nio.charset.Charset)) or [`Files.readAllLines()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path,java.nio.charset.Charset)). \r\n\r\nContrary to `Files.readAllLines()` which dumps all file content into memory, the stream produced by `Files.lines()` will be populated lazily. Hence, in a general case `Files.lines()` a preferred way to read from a file, especially when you&#39;re unaware of it&#39;s size. \r\n\r\nFor this task, even though all file&#39;s content has to be allocated in the memory (*i.e. in this case the mentioned above upper-hand of a stream&#39;s laziness isn&#39;t important*), `Files.lines()` is a better choice because the expected result needs to be an *array of strings*. It will be both more performant and more space-efficient to generate an *array* as a result of execution of the stream pipeline, rather than reading the file into a *list* (which `readAllLines()` returns) and then creating a string array based on this list.\r\n\r\nWith `Files.lines()` it could be implemented like that:\r\n\r\n    public static String[] readFromFile(Path path) {\r\n        String[] result;\r\n        try(Stream&lt;String&gt; stream = Files.lines(path)) {\r\n            result = stream.toArray(String[]::new);\r\n        } catch (IOException e) {\r\n            result = new String[0];\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\nThere are several **important issues** in your code:\r\n* You are not closing the resource. Because stream is accessing the file, it has to be closed either explicitly inside the `finally` block or by using [**try with resources**](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html), as shown above (which preferred and more concise way).\r\n* It not a good idea to store `String` in the array of `Object`s because in order to do anything with these strings apart from printing them you will have to do an unsafe type casting.\r\n* It not very nice to return `null` in case when attempt to read from the file fails. Because `null` can a cause a problem afterwards when it&#39;ll not be obvious where it came from.\r\n\r\nAnd lastly, a few **recommendations**:\r\n* Avoid placing the *return* statement inside the `try` and `catch` blocks, it reduces readability.\r\n* `List` is more convent and flexible container of data than array. In cases when you are not dealing with an existing code that expects an array, use `List` instead.","title":"How to get String array using Files.list()","body":"<p><code>Files.list()</code> expects a <em>path</em> pointing to the <em>directory</em> as a parameter, and it'll give you a <em>stream</em> of <code>Path</code> objects (<em>if any</em>) contained in this directory. In case if the given <em>path</em> will be a <em>file</em>, you will get a <code>NotDirectoryException</code> exception. You can't access the <em>contents of a file</em> with <code>Files.list()</code>, it's simply meant for another purpose.</p>\n<p>In order to <strong>read</strong> from the <em>text file</em> you can use either <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>Files.lines()</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#readAllLines(java.nio.file.Path,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>Files.readAllLines()</code></a>.</p>\n<p>Contrary to <code>Files.readAllLines()</code> which dumps all file content into memory, the stream produced by <code>Files.lines()</code> will be populated lazily. Hence, in a general case <code>Files.lines()</code> a preferred way to read from a file, especially when you're unaware of it's size.</p>\n<p>For this task, even though all file's content has to be allocated in the memory (<em>i.e. in this case the mentioned above upper-hand of a stream's laziness isn't important</em>), <code>Files.lines()</code> is a better choice because the expected result needs to be an <em>array of strings</em>. It will be both more performant and more space-efficient to generate an <em>array</em> as a result of execution of the stream pipeline, rather than reading the file into a <em>list</em> (which <code>readAllLines()</code> returns) and then creating a string array based on this list.</p>\n<p>With <code>Files.lines()</code> it could be implemented like that:</p>\n<pre><code>public static String[] readFromFile(Path path) {\n    String[] result;\n    try(Stream&lt;String&gt; stream = Files.lines(path)) {\n        result = stream.toArray(String[]::new);\n    } catch (IOException e) {\n        result = new String[0];\n    }\n    return result;\n}\n</code></pre>\n<p>There are several <strong>important issues</strong> in your code:</p>\n<ul>\n<li>You are not closing the resource. Because stream is accessing the file, it has to be closed either explicitly inside the <code>finally</code> block or by using <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\"><strong>try with resources</strong></a>, as shown above (which preferred and more concise way).</li>\n<li>It not a good idea to store <code>String</code> in the array of <code>Object</code>s because in order to do anything with these strings apart from printing them you will have to do an unsafe type casting.</li>\n<li>It not very nice to return <code>null</code> in case when attempt to read from the file fails. Because <code>null</code> can a cause a problem afterwards when it'll not be obvious where it came from.</li>\n</ul>\n<p>And lastly, a few <strong>recommendations</strong>:</p>\n<ul>\n<li>Avoid placing the <em>return</em> statement inside the <code>try</code> and <code>catch</code> blocks, it reduces readability.</li>\n<li><code>List</code> is more convent and flexible container of data than array. In cases when you are not dealing with an existing code that expects an array, use <code>List</code> instead.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":17912521,"reputation":1,"user_id":13014294,"display_name":"Riad Merz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675935796,"creation_date":1675935796,"answer_id":75396759,"question_id":71539612,"body_markdown":"You can do this very easily with functional programming. Use a StringBuffer to add the paths in the recursive loop :\r\n\r\n\t\tStringBuffer strList = new StringBuffer();\r\n\t\tFiles.list(Paths.get(&quot;.&quot;)).forEach(s -&gt; strList.append(s));\r\n\t\tSystem.out.println(strList);","title":"How to get String array using Files.list()","body":"<p>You can do this very easily with functional programming. Use a StringBuffer to add the paths in the recursive loop :</p>\n<pre><code>    StringBuffer strList = new StringBuffer();\n    Files.list(Paths.get(&quot;.&quot;)).forEach(s -&gt; strList.append(s));\n    System.out.println(strList);\n</code></pre>\n"}],"owner":{"account_id":21026693,"reputation":35,"user_id":17026320,"display_name":"miclelov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":914,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71539777,"answer_count":2,"score":0,"last_activity_date":1675935796,"creation_date":1647704764,"question_id":71539612,"body_markdown":"I have a **txt file** with strings.\r\n\r\nI want to get a `String` array containing all lines from the file via `Files.list(Paths.get(&quot;path&quot;))` method.\r\n\r\nI tried to use `toArray()` but it returns an array of *paths* to files in &quot;path&quot; directory \r\n\r\nHow can I get it using `Files.list(Paths.get(&quot;path&quot;))` (it&#39;s mandatory)?\r\n\r\nI have something like this:\r\n\r\n    public Object[] returnStrings(){\r\n        Object[] strings;\r\n        try {\r\n            strings = Files.list(Paths.get(path)).toArray();\r\n        }catch (IOException ex){\r\n            return null;\r\n        }\r\n        return strings;\r\n    }","title":"How to get String array using Files.list()","body":"<p>I have a <strong>txt file</strong> with strings.</p>\n<p>I want to get a <code>String</code> array containing all lines from the file via <code>Files.list(Paths.get(&quot;path&quot;))</code> method.</p>\n<p>I tried to use <code>toArray()</code> but it returns an array of <em>paths</em> to files in &quot;path&quot; directory</p>\n<p>How can I get it using <code>Files.list(Paths.get(&quot;path&quot;))</code> (it's mandatory)?</p>\n<p>I have something like this:</p>\n<pre><code>public Object[] returnStrings(){\n    Object[] strings;\n    try {\n        strings = Files.list(Paths.get(path)).toArray();\n    }catch (IOException ex){\n        return null;\n    }\n    return strings;\n}\n</code></pre>\n"},{"tags":["java","sql","spring","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1612654039,"creation_date":1612562857,"answer_id":66071251,"question_id":66071165,"body_markdown":"There are two ways around that when you use  Spring Data JPA \r\n\r\n**1) Named Parameters**\r\n\r\n    public interface CarRepository extends JpaRepository&lt;TRace, String&gt; {\r\n            @Query(nativeQuery = true,\r\n                   value = &quot;select *&quot; +\r\n                           &quot;from car_records&quot; +\r\n                            &quot;where carVinNo = :vinNo and carSerialNo &gt;= :serialNo&quot;)\r\n         }\r\n         List&lt;Car&gt; retrieveCars(@Param(&quot;vinNo&quot;) Long vinNo,@Param(&quot;serialNo&quot;) Long serialNo); \r\n        }\r\n\r\n[spring doc for named parameters][1]\r\n\r\n**2) Indexed Parameters**\r\n\r\n    public interface CarRepository extends JpaRepository&lt;TRace, String&gt; {\r\n        @Query(nativeQuery = true,\r\n               value = &quot;select *&quot; +\r\n                       &quot;from car_records&quot; +\r\n                        &quot;where carVinNo = ?1 and carSerialNo &gt;= ?2&quot;)\r\n     }\r\n     List&lt;Car&gt; retrieveCars(Long vinNo, Long serialNo); \r\n    }\r\n\r\n[example for index parameter from spring doc][2]\r\n\r\nThen from your service class you call it\r\n\r\n    carRepository.retrieveCars(vinNo, serialNo);\r\n\r\nBoth cases will work the same for you.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.native","title":"How to pass parameters in a native query JPA","body":"<p>There are two ways around that when you use  Spring Data JPA</p>\n<p><strong>1) Named Parameters</strong></p>\n<pre><code>public interface CarRepository extends JpaRepository&lt;TRace, String&gt; {\n        @Query(nativeQuery = true,\n               value = &quot;select *&quot; +\n                       &quot;from car_records&quot; +\n                        &quot;where carVinNo = :vinNo and carSerialNo &gt;= :serialNo&quot;)\n     }\n     List&lt;Car&gt; retrieveCars(@Param(&quot;vinNo&quot;) Long vinNo,@Param(&quot;serialNo&quot;) Long serialNo); \n    }\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.named-parameters\" rel=\"noreferrer\">spring doc for named parameters</a></p>\n<p><strong>2) Indexed Parameters</strong></p>\n<pre><code>public interface CarRepository extends JpaRepository&lt;TRace, String&gt; {\n    @Query(nativeQuery = true,\n           value = &quot;select *&quot; +\n                   &quot;from car_records&quot; +\n                    &quot;where carVinNo = ?1 and carSerialNo &gt;= ?2&quot;)\n }\n List&lt;Car&gt; retrieveCars(Long vinNo, Long serialNo); \n}\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.native\" rel=\"noreferrer\">example for index parameter from spring doc</a></p>\n<p>Then from your service class you call it</p>\n<pre><code>carRepository.retrieveCars(vinNo, serialNo);\n</code></pre>\n<p>Both cases will work the same for you.</p>\n"},{"tags":[],"owner":{"account_id":27741258,"reputation":11,"user_id":21177673,"display_name":"vishvajeet.rajput"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675935637,"creation_date":1675922016,"answer_id":75394728,"question_id":66071165,"body_markdown":"```\r\n@Query(value = &quot;SELECT * FROM db.issuer_details where creation_date between ?1 AND ?2&quot;, nativeQuery = true)\r\n\tList&lt;MerchantData&gt; dataWithDate(String from ,String to);\r\n```","title":"How to pass parameters in a native query JPA","body":"<pre><code>@Query(value = &quot;SELECT * FROM db.issuer_details where creation_date between ?1 AND ?2&quot;, nativeQuery = true)\n    List&lt;MerchantData&gt; dataWithDate(String from ,String to);\n</code></pre>\n"}],"owner":{"account_id":20624339,"reputation":393,"user_id":15140588,"display_name":"Mar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82106,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":66071251,"answer_count":2,"score":28,"last_activity_date":1675935637,"creation_date":1612562353,"question_id":66071165,"body_markdown":"I have service class which receives list of cars by calling JPA repository with `carRepository.retrieveCars()`. Repository method is using native query to retrieves records.\r\n\r\n    public interface CarRepository extends JpaRepository&lt;Car, String&gt; {\r\n        @Query(nativeQuery = true,\r\n               value = &quot;select *&quot; +\r\n                       &quot;from car_records&quot;)\r\n     }\r\n     List&lt;Car&gt; retrieveCars(); \r\n\r\nNow I would like to pass parameters `carRepository.retrieveCars(Long vinNo, Long serialNo)` and use them in a query. I assume that I will need something as a prepared statements. However Im not sure how to implement that.\r\n\r\n    public interface CarRepository extends JpaRepository&lt;TRace, String&gt; {\r\n        @Query(nativeQuery = true,\r\n               value = &quot;select *&quot; +\r\n                       &quot;from car_records&quot; +\r\n                        &quot;where carVinNo = ?! and carSerialNo &gt;= ?1&quot;)\r\n     }\r\n     \r\n     query.setParameter(1, vinNo, 2,serialNo);   //this is certainly not correct implementation\r\n     List&lt;Car&gt; retrieveCars(vinNo, serialNo); \r\n","title":"How to pass parameters in a native query JPA","body":"<p>I have service class which receives list of cars by calling JPA repository with <code>carRepository.retrieveCars()</code>. Repository method is using native query to retrieves records.</p>\n<pre><code>public interface CarRepository extends JpaRepository&lt;Car, String&gt; {\n    @Query(nativeQuery = true,\n           value = &quot;select *&quot; +\n                   &quot;from car_records&quot;)\n }\n List&lt;Car&gt; retrieveCars(); \n</code></pre>\n<p>Now I would like to pass parameters <code>carRepository.retrieveCars(Long vinNo, Long serialNo)</code> and use them in a query. I assume that I will need something as a prepared statements. However Im not sure how to implement that.</p>\n<pre><code>public interface CarRepository extends JpaRepository&lt;TRace, String&gt; {\n    @Query(nativeQuery = true,\n           value = &quot;select *&quot; +\n                   &quot;from car_records&quot; +\n                    &quot;where carVinNo = ?! and carSerialNo &gt;= ?1&quot;)\n }\n \n query.setParameter(1, vinNo, 2,serialNo);   //this is certainly not correct implementation\n List&lt;Car&gt; retrieveCars(vinNo, serialNo); \n</code></pre>\n"},{"tags":["java","xmpp","openfire","smack"],"comments":[{"owner":{"account_id":4256368,"reputation":4122,"user_id":3481973,"display_name":"Lucas Ferraz"},"score":0,"creation_date":1460575741,"post_id":36588324,"comment_id":60812427,"body_markdown":"I`m using last version of Smack and login like you, and its working fine. I have no access to my code now, in 3 hours i`ll try to help you","body":"I<code>m using last version of Smack and login like you, and its working fine. I have no access to my code now, in 3 hours i</code>ll try to help you"}],"answers":[{"tags":[],"owner":{"account_id":12091643,"reputation":812,"user_id":8837516,"accept_rate":75,"display_name":"Adil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1516693271,"creation_date":1516693271,"answer_id":48396485,"question_id":36588324,"body_markdown":"*Lets start with step by step*\r\n\r\n1) add dependencies\r\n\r\n    compile &#39;org.igniterealtime.smack:smack-tcp:4.1.0&#39;\r\n    compile &#39;org.igniterealtime.smack:smack-android-extensions:4.1.0&#39;\r\n    compile &#39;org.igniterealtime.smack:smack-im:4.1.0&#39;\r\n\r\n2) async task for connect or login to server\r\n\r\n    //connect or login to server\r\n    private class MyOpenfireLoginTask extends AsyncTask&lt;String, String, String&gt; {\r\n        private Context mContext;\r\n        String username, password;\r\n        ProgressDialog dialog;\r\n\r\n\r\n        public MyOpenfireLoginTask(Context context) {\r\n            mContext = context;\r\n        }\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n            dialog = new ProgressDialog(mContext);\r\n            dialog.setMessage(&quot;Loading...&quot;);\r\n            dialog.setCanceledOnTouchOutside(false);\r\n            dialog.show();\r\n        }\r\n\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n\r\n            username = params[0];\r\n            password = params[1];\r\n\r\n            Log.e(&quot;Login using &quot;, username + &quot; , &quot; + password);\r\n            Config.config = XMPPTCPConnectionConfiguration.builder()\r\n                    .setUsernameAndPassword(username, password)\r\n                    .setHost(&quot;your host ex- wec.com&quot;)\r\n                    .setResource(&quot;Android&quot;)\r\n                    .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled)\r\n                    .setServiceName(&quot;domain name(@) ex-   secureserver.net&quot;)\r\n                    .setPort(&quot;5222&quot;)\r\n                    .setDebuggerEnabled(true)\r\n                    .build();\r\n            Config.conn1 = new XMPPTCPConnection(Config.config);\r\n\r\n            Config.conn1.setPacketReplyTimeout(5000);\r\n            try {\r\n                Config.conn1.connect();\r\n                if (Config.conn1.isConnected()) {\r\n                    Log.w(&quot;app&quot;, &quot;conn done&quot;);\r\n\r\n                }\r\n                Config.conn1.login();\r\n\r\n\r\n                if (Config.conn1.isAuthenticated()) {\r\n                    Log.w(&quot;app&quot;, &quot;Auth done&quot;);\r\n\r\n                } else {\r\n                    Log.e(&quot;User Not Authenticated&quot;, &quot;Needs to Update Password&quot;);\r\n\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                Log.w(&quot;app&quot;, e.toString());\r\n            }\r\n\r\n            return &quot;&quot;;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n\r\n\r\n            dialog.dismiss();\r\n\r\n            if (Config.conn1.isAuthenticated()) {\r\n                 //success\r\n\r\n            } else {\r\n                Log.e(TAG, &quot;username password wrong&quot;);\r\n               \r\n            }\r\n        }\r\n    }\r\n\r\n3)execute above class\r\n\r\n      if (username.length() &gt; 0 &amp;&amp; password.length() &gt; 0) {\r\n            MyOpenfireLoginTask task = new MyOpenfireLoginTask(activity);\r\n            task.execute(username, password);\r\n        }\r\n\r\n\r\n\r\n\r\n","title":"Openfire does not respond to Smack login()","body":"<p><em>Lets start with step by step</em></p>\n\n<p>1) add dependencies</p>\n\n<pre><code>compile 'org.igniterealtime.smack:smack-tcp:4.1.0'\ncompile 'org.igniterealtime.smack:smack-android-extensions:4.1.0'\ncompile 'org.igniterealtime.smack:smack-im:4.1.0'\n</code></pre>\n\n<p>2) async task for connect or login to server</p>\n\n<pre><code>//connect or login to server\nprivate class MyOpenfireLoginTask extends AsyncTask&lt;String, String, String&gt; {\n    private Context mContext;\n    String username, password;\n    ProgressDialog dialog;\n\n\n    public MyOpenfireLoginTask(Context context) {\n        mContext = context;\n    }\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        dialog = new ProgressDialog(mContext);\n        dialog.setMessage(\"Loading...\");\n        dialog.setCanceledOnTouchOutside(false);\n        dialog.show();\n    }\n\n    @Override\n    protected String doInBackground(String... params) {\n\n        username = params[0];\n        password = params[1];\n\n        Log.e(\"Login using \", username + \" , \" + password);\n        Config.config = XMPPTCPConnectionConfiguration.builder()\n                .setUsernameAndPassword(username, password)\n                .setHost(\"your host ex- wec.com\")\n                .setResource(\"Android\")\n                .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled)\n                .setServiceName(\"domain name(@) ex-   secureserver.net\")\n                .setPort(\"5222\")\n                .setDebuggerEnabled(true)\n                .build();\n        Config.conn1 = new XMPPTCPConnection(Config.config);\n\n        Config.conn1.setPacketReplyTimeout(5000);\n        try {\n            Config.conn1.connect();\n            if (Config.conn1.isConnected()) {\n                Log.w(\"app\", \"conn done\");\n\n            }\n            Config.conn1.login();\n\n\n            if (Config.conn1.isAuthenticated()) {\n                Log.w(\"app\", \"Auth done\");\n\n            } else {\n                Log.e(\"User Not Authenticated\", \"Needs to Update Password\");\n\n            }\n\n        } catch (Exception e) {\n            Log.w(\"app\", e.toString());\n        }\n\n        return \"\";\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n\n\n        dialog.dismiss();\n\n        if (Config.conn1.isAuthenticated()) {\n             //success\n\n        } else {\n            Log.e(TAG, \"username password wrong\");\n\n        }\n    }\n}\n</code></pre>\n\n<p>3)execute above class</p>\n\n<pre><code>  if (username.length() &gt; 0 &amp;&amp; password.length() &gt; 0) {\n        MyOpenfireLoginTask task = new MyOpenfireLoginTask(activity);\n        task.execute(username, password);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24468215,"reputation":1,"user_id":18388293,"display_name":"Anthony Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675935277,"creation_date":1675935277,"answer_id":75396662,"question_id":36588324,"body_markdown":"I have do it and works for me. Here is my config\r\n\r\n```java\r\n\r\nconf.setCompressionEnabled(false)\r\n            .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled)\r\n\r\n```","title":"Openfire does not respond to Smack login()","body":"<p>I have do it and works for me. Here is my config</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nconf.setCompressionEnabled(false)\n            .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled)\n\n</code></pre>\n"}],"owner":{"account_id":935174,"reputation":629,"user_id":964220,"accept_rate":57,"display_name":"Jiaqi Liu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48396485,"answer_count":2,"score":1,"last_activity_date":1675935277,"creation_date":1460520004,"question_id":36588324,"body_markdown":"I am using Smack API trying to connect and login to the Openfire XMPP server which is setup on my laptop (localhost).\r\n\r\n        XMPPTCPConnectionConfiguration conf = XMPPTCPConnectionConfiguration.builder()\r\n                .setServiceName(&quot;win10-xps15&quot;)\r\n                .setHost(&quot;192.168.1.100&quot;)\r\n                .setPort(5222)\r\n                .setCompressionEnabled(false)\r\n                .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled)\r\n                .build();\r\n\r\n        XMPPTCPConnection connection = new XMPPTCPConnection(conf);\r\n\r\n        connection.connect();\r\n        connection.login(&quot;admin&quot;, &quot;password&quot;);\r\n\r\nThe connect() method is successful but the login() method fails with a NoResponse (timeout) exception.\r\n\r\n    Exception in thread &quot;main&quot; org.jivesoftware.smack.SmackException$NoResponseException: No response received within reply timeout. Timeout was 5000ms (~5s). Used filter: No filter used or filter was &#39;null&#39;.\r\n    \tat org.jivesoftware.smack.SmackException$NoResponseException.newWith(SmackException.java:106)\r\n    \tat org.jivesoftware.smack.SmackException$NoResponseException.newWith(SmackException.java:85)\r\n    \tat org.jivesoftware.smack.SASLAuthentication.authenticate(SASLAuthentication.java:250)\r\n    \tat org.jivesoftware.smack.tcp.XMPPTCPConnection.loginNonAnonymously(XMPPTCPConnection.java:374)\r\n    \tat org.jivesoftware.smack.AbstractXMPPConnection.login(AbstractXMPPConnection.java:456)\r\n    \tat org.jivesoftware.smack.AbstractXMPPConnection.login(AbstractXMPPConnection.java:431)\r\n    \tat MyConnector.main(MyConnector.java:23)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\r\n    Apr 13, 2016 11:45:42 AM org.jivesoftware.smack.AbstractXMPPConnection callConnectionClosedOnErrorListener\r\n    WARNING: Connection closed with error\r\n    java.lang.NullPointerException\r\n    \tat org.jivesoftware.smack.util.stringencoder.Base64.decode(Base64.java:86)\r\n    \tat org.jivesoftware.smack.sasl.SASLMechanism.challengeReceived(SASLMechanism.java:233)\r\n    \tat org.jivesoftware.smack.SASLAuthentication.challengeReceived(SASLAuthentication.java:328)\r\n    \tat org.jivesoftware.smack.SASLAuthentication.challengeReceived(SASLAuthentication.java:313)\r\n    \tat org.jivesoftware.smack.tcp.XMPPTCPConnection$PacketReader.parsePackets(XMPPTCPConnection.java:1051)\r\n    \tat org.jivesoftware.smack.tcp.XMPPTCPConnection$PacketReader.access$300(XMPPTCPConnection.java:948)\r\n    \tat org.jivesoftware.smack.tcp.XMPPTCPConnection$PacketReader$1.run(XMPPTCPConnection.java:963)\r\n    \tat java.lang.Thread.run(Thread.java:745) \r\n\r\nI am running Openfire 3.9.3 on my Windows laptop and the local IP is 192.168.1.100. The version of the smack library is 4.1.6.\r\n\r\nSince it is the login() method that fails, I wonder if there is any Openfire server settings related to login/user that I should be aware of? \r\n\r\nIn addition, I tried to login with the [Spark IM client][1] and it could login the local server without problems.\r\n\r\nRegards.\r\n\r\n\r\n----------\r\nMore info added below.\r\n\r\nI just tried an old version (3.4.1) of smack obtained from the [Spark IM github repo][2] with the following code:\r\n\r\n        ConnectionConfiguration conf = \r\n                new ConnectionConfiguration(&quot;192.168.1.100&quot;, 5222);\r\n        XMPPConnection connection = new XMPPConnection(conf);\r\n\r\n        connection.connect();\r\n        connection.login(&quot;admin&quot;, &quot;password&quot;);\r\n\r\nNow the code works fine. Both connect() and login() are OK.\r\n\r\nBut I really want to know why the lastet version of smack does not work as I expect. Because I am considering using smack on Android while the old version does not support Android natively.\r\n\r\n  [1]: http://www.igniterealtime.org/projects/spark/\r\n  [2]: https://github.com/igniterealtime/Spark/tree/master/build/lib/dist","title":"Openfire does not respond to Smack login()","body":"<p>I am using Smack API trying to connect and login to the Openfire XMPP server which is setup on my laptop (localhost).</p>\n\n<pre><code>    XMPPTCPConnectionConfiguration conf = XMPPTCPConnectionConfiguration.builder()\n            .setServiceName(\"win10-xps15\")\n            .setHost(\"192.168.1.100\")\n            .setPort(5222)\n            .setCompressionEnabled(false)\n            .setSecurityMode(ConnectionConfiguration.SecurityMode.disabled)\n            .build();\n\n    XMPPTCPConnection connection = new XMPPTCPConnection(conf);\n\n    connection.connect();\n    connection.login(\"admin\", \"password\");\n</code></pre>\n\n<p>The connect() method is successful but the login() method fails with a NoResponse (timeout) exception.</p>\n\n<pre><code>Exception in thread \"main\" org.jivesoftware.smack.SmackException$NoResponseException: No response received within reply timeout. Timeout was 5000ms (~5s). Used filter: No filter used or filter was 'null'.\n    at org.jivesoftware.smack.SmackException$NoResponseException.newWith(SmackException.java:106)\n    at org.jivesoftware.smack.SmackException$NoResponseException.newWith(SmackException.java:85)\n    at org.jivesoftware.smack.SASLAuthentication.authenticate(SASLAuthentication.java:250)\n    at org.jivesoftware.smack.tcp.XMPPTCPConnection.loginNonAnonymously(XMPPTCPConnection.java:374)\n    at org.jivesoftware.smack.AbstractXMPPConnection.login(AbstractXMPPConnection.java:456)\n    at org.jivesoftware.smack.AbstractXMPPConnection.login(AbstractXMPPConnection.java:431)\n    at MyConnector.main(MyConnector.java:23)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)\nApr 13, 2016 11:45:42 AM org.jivesoftware.smack.AbstractXMPPConnection callConnectionClosedOnErrorListener\nWARNING: Connection closed with error\njava.lang.NullPointerException\n    at org.jivesoftware.smack.util.stringencoder.Base64.decode(Base64.java:86)\n    at org.jivesoftware.smack.sasl.SASLMechanism.challengeReceived(SASLMechanism.java:233)\n    at org.jivesoftware.smack.SASLAuthentication.challengeReceived(SASLAuthentication.java:328)\n    at org.jivesoftware.smack.SASLAuthentication.challengeReceived(SASLAuthentication.java:313)\n    at org.jivesoftware.smack.tcp.XMPPTCPConnection$PacketReader.parsePackets(XMPPTCPConnection.java:1051)\n    at org.jivesoftware.smack.tcp.XMPPTCPConnection$PacketReader.access$300(XMPPTCPConnection.java:948)\n    at org.jivesoftware.smack.tcp.XMPPTCPConnection$PacketReader$1.run(XMPPTCPConnection.java:963)\n    at java.lang.Thread.run(Thread.java:745) \n</code></pre>\n\n<p>I am running Openfire 3.9.3 on my Windows laptop and the local IP is 192.168.1.100. The version of the smack library is 4.1.6.</p>\n\n<p>Since it is the login() method that fails, I wonder if there is any Openfire server settings related to login/user that I should be aware of? </p>\n\n<p>In addition, I tried to login with the <a href=\"http://www.igniterealtime.org/projects/spark/\" rel=\"nofollow\">Spark IM client</a> and it could login the local server without problems.</p>\n\n<p>Regards.</p>\n\n<hr>\n\n<p>More info added below.</p>\n\n<p>I just tried an old version (3.4.1) of smack obtained from the <a href=\"https://github.com/igniterealtime/Spark/tree/master/build/lib/dist\" rel=\"nofollow\">Spark IM github repo</a> with the following code:</p>\n\n<pre><code>    ConnectionConfiguration conf = \n            new ConnectionConfiguration(\"192.168.1.100\", 5222);\n    XMPPConnection connection = new XMPPConnection(conf);\n\n    connection.connect();\n    connection.login(\"admin\", \"password\");\n</code></pre>\n\n<p>Now the code works fine. Both connect() and login() are OK.</p>\n\n<p>But I really want to know why the lastet version of smack does not work as I expect. Because I am considering using smack on Android while the old version does not support Android natively.</p>\n"},{"tags":["java","android","multithreading","performance","cold-start"],"comments":[{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":1,"creation_date":1464179169,"post_id":37437037,"comment_id":62376789,"body_markdown":"You found the problem yourself, you are doing to many init in in the application context, blocking the loading of the activity, try to asynchronized this, letting a loading activity to show up until some thread ends.","body":"You found the problem yourself, you are doing to many init in in the application context, blocking the loading of the activity, try to asynchronized this, letting a loading activity to show up until some thread ends."},{"owner":{"account_id":4061727,"reputation":14535,"user_id":5699956,"accept_rate":70,"display_name":"Atiq"},"score":0,"creation_date":1464179305,"post_id":37437037,"comment_id":62376889,"body_markdown":"[This](http://stackoverflow.com/questions/35054872/how-to-pre-load-mainactivity-in-splashactivity-so-there-would-be-no-delay-when-l) might help","body":"<a href=\"http://stackoverflow.com/questions/35054872/how-to-pre-load-mainactivity-in-splashactivity-so-there-would-be-no-delay-when-l\">This</a> might help"},{"owner":{"account_id":2158717,"reputation":611,"user_id":1913371,"accept_rate":100,"display_name":"Beshoy Hanna"},"score":0,"creation_date":1464179666,"post_id":37437037,"comment_id":62377185,"body_markdown":"Have you looked into lazy loading? I believe you are on the right track with services not on the main thread.","body":"Have you looked into lazy loading? I believe you are on the right track with services not on the main thread."},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464179736,"post_id":37437037,"comment_id":62377235,"body_markdown":"@BeshoyHanna: please explain how we would use that here ...","body":"@BeshoyHanna: please explain how we would use that here ..."},{"owner":{"account_id":2158717,"reputation":611,"user_id":1913371,"accept_rate":100,"display_name":"Beshoy Hanna"},"score":1,"creation_date":1464179968,"post_id":37437037,"comment_id":62377452,"body_markdown":"Ideally, an application would offload processing and not use the main thread for long operations. This is a well accepted practice. If the operations need to happen before the app loads, then it should an least not share a thread with the UI.","body":"Ideally, an application would offload processing and not use the main thread for long operations. This is a well accepted practice. If the operations need to happen before the app loads, then it should an least not share a thread with the UI."},{"owner":{"account_id":473257,"reputation":7312,"user_id":882251,"accept_rate":100,"display_name":"Darwind"},"score":1,"creation_date":1464180015,"post_id":37437037,"comment_id":62377486,"body_markdown":"You might find that this is still an issue after you&#39;ve moved all initialisationcode out of the `Application` class. This is due to newer versions of Android&#39;s way of &quot;cold-starting&quot; the apps. Google actually addressed the launchtimes at Google I/O this year and it will be fixed in N from what I remember.\nIn the meantime, you should look at what Google calls a &quot;branded launchscreen&quot;. Here&#39;s an example on how to create it: http://antonioleiva.com/branded-launch-screen/ - no more white screen in the beginning ;-) And please don&#39;t use splashscreens - it&#39;s annoying to the user.","body":"You might find that this is still an issue after you&#39;ve moved all initialisationcode out of the <code>Application</code> class. This is due to newer versions of Android&#39;s way of &quot;cold-starting&quot; the apps. Google actually addressed the launchtimes at Google I/O this year and it will be fixed in N from what I remember. In the meantime, you should look at what Google calls a &quot;branded launchscreen&quot;. Here&#39;s an example on how to create it: <a href=\"http://antonioleiva.com/branded-launch-screen/\" rel=\"nofollow noreferrer\">antonioleiva.com/branded-launch-screen</a> - no more white screen in the beginning ;-) And please don&#39;t use splashscreens - it&#39;s annoying to the user."},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464180468,"post_id":37437037,"comment_id":62377858,"body_markdown":"@BeshoyHanna: So I should use an `IntentService` then?","body":"@BeshoyHanna: So I should use an <code>IntentService</code> then?"},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464180487,"post_id":37437037,"comment_id":62377871,"body_markdown":"@Anders: interesting idea ... :)","body":"@Anders: interesting idea ... :)"},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464180526,"post_id":37437037,"comment_id":62377911,"body_markdown":"@AxelH: please be more specific ... what should I use exactly? A Service? A Thread?","body":"@AxelH: please be more specific ... what should I use exactly? A Service? A Thread?"},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464180569,"post_id":37437037,"comment_id":62377950,"body_markdown":"@Darwind: wow ... cool idea! Looks neat. You should post this as an answer ... :)","body":"@Darwind: wow ... cool idea! Looks neat. You should post this as an answer ... :)"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1464180862,"post_id":37437037,"comment_id":62378183,"body_markdown":"Wrt theme, the trick is not to set a NoActionBar theme, it&#39;s to adjust the initial activity&#39;s theme so that an empty themed screen looks like the fully initialized one.","body":"Wrt theme, the trick is not to set a NoActionBar theme, it&#39;s to adjust the initial activity&#39;s theme so that an empty themed screen looks like the fully initialized one."},{"owner":{"account_id":1576496,"reputation":16217,"user_id":1462770,"accept_rate":67,"display_name":"Amir"},"score":0,"creation_date":1464861380,"post_id":37437037,"comment_id":62662175,"body_markdown":"If you use android studio 2.0 disable instant run and this issue will fixed.","body":"If you use android studio 2.0 disable instant run and this issue will fixed."},{"owner":{"account_id":2211999,"reputation":9954,"user_id":1953590,"accept_rate":74,"display_name":"Kevin Krumwiede"},"score":0,"creation_date":1464861493,"post_id":37437037,"comment_id":62662268,"body_markdown":"Incidentally, are you aware that the `Application` instance may be retained even when all your activities have finished?  When that happens, `Application#onCreate()` will *not* be called again the next time your app is launched.","body":"Incidentally, are you aware that the <code>Application</code> instance may be retained even when all your activities have finished?  When that happens, <code>Application#onCreate()</code> will <i>not</i> be called again the next time your app is launched."},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464862481,"post_id":37437037,"comment_id":62662982,"body_markdown":"@KevinKrumwiede: yes, that is the case when the app is still in the background, and the app process is alive and well. If you dismiss the app, the process is killed, the `Application` instance is gone, and the white screen is back with a vengeance ... :)","body":"@KevinKrumwiede: yes, that is the case when the app is still in the background, and the app process is alive and well. If you dismiss the app, the process is killed, the <code>Application</code> instance is gone, and the white screen is back with a vengeance ... :)"},{"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"score":0,"creation_date":1464862645,"post_id":37437037,"comment_id":62663091,"body_markdown":"@Amir: I think you may be mistaken about what I am asking. This has nothing to do with Instant Run. It is a long-running problem with Android applications. It happens irrespective of OS version and even with projects that are built with Eclipse.","body":"@Amir: I think you may be mistaken about what I am asking. This has nothing to do with Instant Run. It is a long-running problem with Android applications. It happens irrespective of OS version and even with projects that are built with Eclipse."},{"owner":{"account_id":3730535,"reputation":2265,"user_id":3103093,"display_name":"Tin Tran"},"score":0,"creation_date":1465403038,"post_id":37437037,"comment_id":62889861,"body_markdown":"What are the operations in Application#onCreate(). Is it IO?","body":"What are the operations in Application#onCreate(). Is it IO?"},{"owner":{"account_id":5887937,"reputation":1604,"user_id":4635346,"accept_rate":67,"display_name":"Vivek Pratap Singh"},"score":0,"creation_date":1472801177,"post_id":37437037,"comment_id":65907218,"body_markdown":"i have not extended Application class but i am still getting the white screen","body":"i have not extended Application class but i am still getting the white screen"},{"owner":{"account_id":5762640,"reputation":2957,"user_id":4548520,"accept_rate":80,"display_name":"user25"},"score":0,"creation_date":1551043353,"post_id":37437037,"comment_id":96484870,"body_markdown":"What is the point of using thread, service to load something later? You don&#39;t need all that stuff when user opens your app? This doesn&#39;t make sense. Just you splash screen and that&#39;s all. Even official Google apps do it.","body":"What is the point of using thread, service to load something later? You don&#39;t need all that stuff when user opens your app? This doesn&#39;t make sense. Just you splash screen and that&#39;s all. Even official Google apps do it."}],"answers":[{"tags":[],"owner":{"account_id":1963159,"reputation":3916,"user_id":1764080,"accept_rate":65,"display_name":"Shmuel"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1464179937,"creation_date":1464179937,"answer_id":37437432,"question_id":37437037,"body_markdown":"First of all, to remove the white screen read this - https://www.bignerdranch.com/blog/splash-screens-the-right-way/\r\n\r\nBut more importantly, optimize your initial load and defer any heavy work to when you have time to run it. Post your application class here if you want us to take a look at it.","title":"Android - Prevent white screen at startup","body":"<p>First of all, to remove the white screen read this - <a href=\"https://www.bignerdranch.com/blog/splash-screens-the-right-way/\" rel=\"noreferrer\">https://www.bignerdranch.com/blog/splash-screens-the-right-way/</a></p>\n\n<p>But more importantly, optimize your initial load and defer any heavy work to when you have time to run it. Post your application class here if you want us to take a look at it.</p>\n"},{"tags":[],"owner":{"account_id":3016236,"reputation":15507,"user_id":4969827,"display_name":"Sergey Shustikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464861958,"creation_date":1464861958,"answer_id":37588747,"question_id":37437037,"body_markdown":"Did you try to put initialization to `onActivityCreated`?\r\n\r\nInside `Application` class :\r\n\r\n\r\n     registerActivityLifecycleCallbacks(new ActivityLifecycleCallbacks() {\r\n                @Override\r\n                public void onActivityCreated(Activity activity, Bundle savedInstanceState) {\r\n                    if(activity.getClass().equals(FirstActivity.class) {\r\n                        // try without runOnUiThread if it will not help\r\n                        activity.runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                new InitializatioTask().execute();\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onActivityStarted(Activity activity) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onActivityResumed(Activity activity) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onActivityPaused(Activity activity) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onActivityStopped(Activity activity) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onActivitySaveInstanceState(Activity activity, Bundle outState) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onActivityDestroyed(Activity activity) {\r\n    \r\n                }\r\n            });","title":"Android - Prevent white screen at startup","body":"<p>Did you try to put initialization to <code>onActivityCreated</code>?</p>\n\n<p>Inside <code>Application</code> class :</p>\n\n<pre><code> registerActivityLifecycleCallbacks(new ActivityLifecycleCallbacks() {\n            @Override\n            public void onActivityCreated(Activity activity, Bundle savedInstanceState) {\n                if(activity.getClass().equals(FirstActivity.class) {\n                    // try without runOnUiThread if it will not help\n                    activity.runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            new InitializatioTask().execute();\n                        }\n                    });\n                }\n            }\n\n            @Override\n            public void onActivityStarted(Activity activity) {\n\n            }\n\n            @Override\n            public void onActivityResumed(Activity activity) {\n\n            }\n\n            @Override\n            public void onActivityPaused(Activity activity) {\n\n            }\n\n            @Override\n            public void onActivityStopped(Activity activity) {\n\n            }\n\n            @Override\n            public void onActivitySaveInstanceState(Activity activity, Bundle outState) {\n\n            }\n\n            @Override\n            public void onActivityDestroyed(Activity activity) {\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3251487,"reputation":3147,"user_id":2741598,"accept_rate":50,"display_name":"Vickyexpert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1464861962,"creation_date":1464861962,"answer_id":37588748,"question_id":37437037,"body_markdown":"As you are already aware why this white screen is there, as due to background processes or application initialization or large files, so just check below idea for overcome from this.\r\n\r\n   To prevent this white screen on beginning of the app, one way is splash screen, this is just a way not final and you must have to use.\r\n\r\n   When you will show splash screen from your splash.xml file, then also this issue will be remain same,\r\n\r\n   So you have to create ont style in style.xml file for splash screen and there you have to set window background as your splash image and then apply that theme to your splash activity from manifest file. So now when you will run app, first it will set theme and by this way user will be able to see directly splash image instead of white screen.","title":"Android - Prevent white screen at startup","body":"<p>As you are already aware why this white screen is there, as due to background processes or application initialization or large files, so just check below idea for overcome from this.</p>\n\n<p>To prevent this white screen on beginning of the app, one way is splash screen, this is just a way not final and you must have to use.</p>\n\n<p>When you will show splash screen from your splash.xml file, then also this issue will be remain same,</p>\n\n<p>So you have to create ont style in style.xml file for splash screen and there you have to set window background as your splash image and then apply that theme to your splash activity from manifest file. So now when you will run app, first it will set theme and by this way user will be able to see directly splash image instead of white screen.</p>\n"},{"tags":[],"owner":{"account_id":1129864,"reputation":6795,"user_id":1116216,"accept_rate":100,"display_name":"Michele La Ferla"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1662061119,"creation_date":1464877239,"answer_id":37594546,"question_id":37437037,"body_markdown":"Within the lifecycle callback methods, you can declare how your activity behaves when the user leaves and re-enters the activity. Remember that the way Android is designed, there is a lifecycle for each and every app. If you put too much load to the `onCreate()` method (which is the method used to load the layout files and initalise any controls you have in it), then the white screen will become more visible, as the layout file will take longer to load.\r\n\r\nI suggest using several different methods when starting an activity. Such are the `onStart()` (being called as the first thing once the app is loaded), `onActivityCreated()` (being called after the layout is displayed and useful if you are making any data processing upon starting the activity).\r\n\r\nTo make it easier for you, below is the official activity lifecycle diagram (from http://web.archive.org/web/20140218132043/http://developer.android.com/training/basics/activity-lifecycle/starting.html):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KozRu.png","title":"Android - Prevent white screen at startup","body":"<p>Within the lifecycle callback methods, you can declare how your activity behaves when the user leaves and re-enters the activity. Remember that the way Android is designed, there is a lifecycle for each and every app. If you put too much load to the <code>onCreate()</code> method (which is the method used to load the layout files and initalise any controls you have in it), then the white screen will become more visible, as the layout file will take longer to load.</p>\n<p>I suggest using several different methods when starting an activity. Such are the <code>onStart()</code> (being called as the first thing once the app is loaded), <code>onActivityCreated()</code> (being called after the layout is displayed and useful if you are making any data processing upon starting the activity).</p>\n<p>To make it easier for you, below is the official activity lifecycle diagram (from <a href=\"http://web.archive.org/web/20140218132043/http://developer.android.com/training/basics/activity-lifecycle/starting.html\" rel=\"nofollow noreferrer\">http://web.archive.org/web/20140218132043/http://developer.android.com/training/basics/activity-lifecycle/starting.html</a>):</p>\n<p><a href=\"https://i.stack.imgur.com/KozRu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KozRu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7201903,"reputation":2058,"user_id":5498855,"display_name":"Ivan Milisavljevic"},"down_vote_count":3,"up_vote_count":105,"is_accepted":true,"score":102,"last_activity_date":1490998158,"creation_date":1465301471,"answer_id":37679026,"question_id":37437037,"body_markdown":"The problem with white background is caused because of android&#39;s cold start while the app loads to memory, and it can be avoided with this:\r\n\r\n    public class OnboardingWithCenterAnimationActivity extends AppCompatActivity {\r\n    public static final int STARTUP_DELAY = 300;\r\n    public static final int ANIM_ITEM_DURATION = 1000;\r\n    public static final int ITEM_DELAY = 300;\r\n\r\n    private boolean animationStarted = false;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        setTheme(R.style.AppTheme);\r\n        getWindow().getDecorView().setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_onboarding_center);\r\n    }\r\n\r\n    @Override\r\n    public void onWindowFocusChanged(boolean hasFocus) {\r\n\r\n        if (!hasFocus || animationStarted) {\r\n            return;\r\n        }\r\n\r\n        animate();\r\n\r\n        super.onWindowFocusChanged(hasFocus);\r\n    }\r\n\r\n    private void animate() {\r\n        ImageView logoImageView = (ImageView) findViewById(R.id.img_logo);\r\n        ViewGroup container = (ViewGroup) findViewById(R.id.container);\r\n\r\n        ViewCompat.animate(logoImageView)\r\n            .translationY(-250)\r\n            .setStartDelay(STARTUP_DELAY)\r\n            .setDuration(ANIM_ITEM_DURATION).setInterpolator(\r\n                new DecelerateInterpolator(1.2f)).start();\r\n\r\n        for (int i = 0; i &lt; container.getChildCount(); i++) {\r\n            View v = container.getChildAt(i);\r\n            ViewPropertyAnimatorCompat viewAnimator;\r\n\r\n            if (!(v instanceof Button)) {\r\n                viewAnimator = ViewCompat.animate(v)\r\n                        .translationY(50).alpha(1)\r\n                        .setStartDelay((ITEM_DELAY * i) + 500)\r\n                        .setDuration(1000);\r\n            } else {\r\n                viewAnimator = ViewCompat.animate(v)\r\n                        .scaleY(1).scaleX(1)\r\n                        .setStartDelay((ITEM_DELAY * i) + 500)\r\n                        .setDuration(500);\r\n            }\r\n\r\n            viewAnimator.setInterpolator(new DecelerateInterpolator()).start();\r\n        }\r\n    }\r\n    }\r\n\r\nlayout\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;?colorPrimary&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    &gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:paddingTop=&quot;144dp&quot;\r\n        tools:ignore=&quot;HardcodedText&quot;\r\n        &gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginTop=&quot;16dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            android:text=&quot;Hello world&quot;         android:textAppearance=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Title.Inverse&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:textSize=&quot;22sp&quot;\r\n            tools:alpha=&quot;1&quot;\r\n            /&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:alpha=&quot;0&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;This a nice text&quot;\r\n          android:textAppearance=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Subtitle.Inverse&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            tools:alpha=&quot;1&quot;\r\n            /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_choice1&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;48dp&quot;\r\n            android:scaleX=&quot;0&quot;\r\n            android:scaleY=&quot;0&quot;\r\n            android:text=&quot;A nice choice&quot;\r\n            android:theme=&quot;@style/Button&quot;\r\n            /&gt;\r\n\r\n        &lt;Button\r\n            android:id=&quot;@+id/btn_choice2&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;4dp&quot;\r\n            android:scaleX=&quot;0&quot;\r\n            android:scaleY=&quot;0&quot;\r\n            android:text=&quot;Far better!&quot;\r\n            android:theme=&quot;@style/Button&quot;\r\n            /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/img_logo&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:src=&quot;@drawable/img_face&quot;\r\n        tools:visibility=&quot;gone&quot;\r\n        /&gt;\r\n    &lt;/FrameLayout&gt;\r\n\r\nimg face\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            android:opacity=&quot;opaque&quot;&gt;\r\n\r\n    &lt;item android:drawable=&quot;?colorPrimary&quot;/&gt;\r\n    &lt;item&gt;\r\n        &lt;bitmap\r\n            android:gravity=&quot;center&quot;\r\n            android:src=&quot;@drawable/img_face&quot;/&gt;\r\n    &lt;/item&gt;\r\n&lt;/layer-list&gt;\r\n\r\nAdd this theme to your splashscreen in the manifest\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@null&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;AppTheme.CenterAnimation&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/ll_face_logo&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\n&lt;/resources&gt;\r\n\r\nwhich will produce efect like this\r\n\r\n![a busy cat](https://raw.githubusercontent.com/saulmm/onboarding-examples-android/master/art/center.gif)\r\n\r\nfor more details and more solutions you can check this\r\n[BlogPost][2]\r\n\r\n  [2]: http://saulmm.github.io/avoding-android-cold-starts","title":"Android - Prevent white screen at startup","body":"<p>The problem with white background is caused because of android's cold start while the app loads to memory, and it can be avoided with this:</p>\n\n<pre><code>public class OnboardingWithCenterAnimationActivity extends AppCompatActivity {\npublic static final int STARTUP_DELAY = 300;\npublic static final int ANIM_ITEM_DURATION = 1000;\npublic static final int ITEM_DELAY = 300;\n\nprivate boolean animationStarted = false;\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    setTheme(R.style.AppTheme);\n    getWindow().getDecorView().setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION);\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_onboarding_center);\n}\n\n@Override\npublic void onWindowFocusChanged(boolean hasFocus) {\n\n    if (!hasFocus || animationStarted) {\n        return;\n    }\n\n    animate();\n\n    super.onWindowFocusChanged(hasFocus);\n}\n\nprivate void animate() {\n    ImageView logoImageView = (ImageView) findViewById(R.id.img_logo);\n    ViewGroup container = (ViewGroup) findViewById(R.id.container);\n\n    ViewCompat.animate(logoImageView)\n        .translationY(-250)\n        .setStartDelay(STARTUP_DELAY)\n        .setDuration(ANIM_ITEM_DURATION).setInterpolator(\n            new DecelerateInterpolator(1.2f)).start();\n\n    for (int i = 0; i &lt; container.getChildCount(); i++) {\n        View v = container.getChildAt(i);\n        ViewPropertyAnimatorCompat viewAnimator;\n\n        if (!(v instanceof Button)) {\n            viewAnimator = ViewCompat.animate(v)\n                    .translationY(50).alpha(1)\n                    .setStartDelay((ITEM_DELAY * i) + 500)\n                    .setDuration(1000);\n        } else {\n            viewAnimator = ViewCompat.animate(v)\n                    .scaleY(1).scaleX(1)\n                    .setStartDelay((ITEM_DELAY * i) + 500)\n                    .setDuration(500);\n        }\n\n        viewAnimator.setInterpolator(new DecelerateInterpolator()).start();\n    }\n}\n}\n</code></pre>\n\n<p>layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"?colorPrimary\"\nandroid:orientation=\"vertical\"\n&gt;\n\n&lt;LinearLayout\n    android:id=\"@+id/container\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"\n    android:paddingTop=\"144dp\"\n    tools:ignore=\"HardcodedText\"\n    &gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center_horizontal\"\n        android:layout_marginTop=\"16dp\"\n        android:alpha=\"0\"\n        android:text=\"Hello world\"         android:textAppearance=\"@style/TextAppearance.AppCompat.Widget.ActionBar.Title.Inverse\"\n        android:textColor=\"@android:color/white\"\n        android:textSize=\"22sp\"\n        tools:alpha=\"1\"\n        /&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center_horizontal\"\n        android:layout_marginTop=\"8dp\"\n        android:alpha=\"0\"\n        android:gravity=\"center\"\n        android:text=\"This a nice text\"\n      android:textAppearance=\"@style/TextAppearance.AppCompat.Widget.ActionBar.Subtitle.Inverse\"\n        android:textSize=\"20sp\"\n        tools:alpha=\"1\"\n        /&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_choice1\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"48dp\"\n        android:scaleX=\"0\"\n        android:scaleY=\"0\"\n        android:text=\"A nice choice\"\n        android:theme=\"@style/Button\"\n        /&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_choice2\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"4dp\"\n        android:scaleX=\"0\"\n        android:scaleY=\"0\"\n        android:text=\"Far better!\"\n        android:theme=\"@style/Button\"\n        /&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;ImageView\n    android:id=\"@+id/img_logo\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:src=\"@drawable/img_face\"\n    tools:visibility=\"gone\"\n    /&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>img face</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:opacity=\"opaque\"&gt;\n\n&lt;item android:drawable=\"?colorPrimary\"/&gt;\n&lt;item&gt;\n    &lt;bitmap\n        android:gravity=\"center\"\n        android:src=\"@drawable/img_face\"/&gt;\n&lt;/item&gt;\n</code></pre>\n\n<p></p>\n\n<p>Add this theme to your splashscreen in the manifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@null&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"AppTheme.CenterAnimation\"&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@drawable/ll_face_logo&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p></p>\n\n<p>which will produce efect like this</p>\n\n<p><img src=\"https://raw.githubusercontent.com/saulmm/onboarding-examples-android/master/art/center.gif\" alt=\"a busy cat\"></p>\n\n<p>for more details and more solutions you can check this\n<a href=\"http://saulmm.github.io/avoding-android-cold-starts\" rel=\"noreferrer\">BlogPost</a></p>\n"},{"tags":[],"owner":{"account_id":8509289,"reputation":2918,"user_id":6379785,"display_name":"gmetal"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1465307102,"creation_date":1465307102,"answer_id":37681189,"question_id":37437037,"body_markdown":"Have you tried setting the`android:windowBackground` attribute in the theme of your launcher activity, to either a color or a drawable?\r\n\r\nFor example this: \r\n\r\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/black&lt;/item&gt;\r\n\r\nwhen added to the Launcher activity theme will show a black color (rather than the white color) on startup. This is an easy trick to hide long initialisation, while showing your users something, **and it works fine** even if you subclass the Application object.\r\n\r\nAvoid using other constructs (even Threads) for doing long initialisation tasks, because you may end up not being able to control the lifecycle of such constructs. The Application object is the correct place for doing exactly this type of actions. ","title":"Android - Prevent white screen at startup","body":"<p>Have you tried setting the<code>android:windowBackground</code> attribute in the theme of your launcher activity, to either a color or a drawable?</p>\n\n<p>For example this: </p>\n\n<pre><code>&lt;item name=\"android:windowBackground\"&gt;@android:color/black&lt;/item&gt;\n</code></pre>\n\n<p>when added to the Launcher activity theme will show a black color (rather than the white color) on startup. This is an easy trick to hide long initialisation, while showing your users something, <strong>and it works fine</strong> even if you subclass the Application object.</p>\n\n<p>Avoid using other constructs (even Threads) for doing long initialisation tasks, because you may end up not being able to control the lifecycle of such constructs. The Application object is the correct place for doing exactly this type of actions. </p>\n"},{"tags":[],"owner":{"account_id":2593996,"reputation":1971,"user_id":2248045,"display_name":"Hitesh Singh"},"down_vote_count":8,"up_vote_count":134,"is_accepted":false,"score":126,"last_activity_date":1575439237,"creation_date":1465455372,"answer_id":37718830,"question_id":37437037,"body_markdown":"please add this line into your app theme \r\n\r\n    &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n\r\nfor more information : [https://developer.android.com/topic/performance/vitals/launch-time#themed][1]\r\n\r\n\r\n  [1]: https://developer.android.com/topic/performance/vitals/launch-time#themed","title":"Android - Prevent white screen at startup","body":"<p>please add this line into your app theme </p>\n\n<pre><code>&lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;\n</code></pre>\n\n<p>for more information : <a href=\"https://developer.android.com/topic/performance/vitals/launch-time#themed\" rel=\"noreferrer\">https://developer.android.com/topic/performance/vitals/launch-time#themed</a></p>\n"},{"tags":[],"owner":{"account_id":6080415,"reputation":8109,"user_id":4746376,"accept_rate":73,"display_name":"Sohail Zahid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471511197,"creation_date":1471511197,"answer_id":39014103,"question_id":37437037,"body_markdown":"Both properties works\r\n\r\n        &lt;style name=&quot;AppBaseThemeDark&quot; parent=&quot;@style/Theme.AppCompat&quot;&gt;\r\n                &lt;!--your other properties --&gt;\r\n                &lt;!--&lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;--&gt;\r\n                &lt;item name=&quot;android:windowBackground&quot;&gt;@null&lt;/item&gt;\r\n                &lt;!--your other properties --&gt;\r\n        &lt;/style&gt;\r\n\r\n","title":"Android - Prevent white screen at startup","body":"<p>Both properties works</p>\n\n<pre><code>    &lt;style name=\"AppBaseThemeDark\" parent=\"@style/Theme.AppCompat\"&gt;\n            &lt;!--your other properties --&gt;\n            &lt;!--&lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;--&gt;\n            &lt;item name=\"android:windowBackground\"&gt;@null&lt;/item&gt;\n            &lt;!--your other properties --&gt;\n    &lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9419272,"reputation":11,"user_id":7803889,"display_name":"Javier Reinoso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491120410,"creation_date":1491118425,"answer_id":43165801,"question_id":37437037,"body_markdown":"Just write the item in values/styles.xml:\r\n\r\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/black&lt;/item&gt;\r\n\r\nFor example, in the AppTheme:\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n        \r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/black&lt;/item&gt;\r\n\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n    &lt;/style&gt;\r\n","title":"Android - Prevent white screen at startup","body":"<p>Just write the item in values/styles.xml:</p>\n\n<pre><code>&lt;item name=\"android:windowBackground\"&gt;@android:color/black&lt;/item&gt;\n</code></pre>\n\n<p>For example, in the AppTheme:</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n    &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"android:windowFullscreen\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n\n    &lt;item name=\"android:windowBackground\"&gt;@android:color/black&lt;/item&gt;\n\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2075948,"reputation":52334,"user_id":4233197,"accept_rate":55,"display_name":"Hiren Patel"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1496909476,"creation_date":1496909476,"answer_id":44430166,"question_id":37437037,"body_markdown":"I had same issue, you have to update your style.\r\n\r\n**style.xml**\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n     &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n    \r\n            &lt;!-- Customize your theme here. --&gt;\r\n            &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/DrawerArrowStyle&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowBackground&quot;&gt;@null&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;\r\n    \r\n     &lt;/style&gt;\r\n\r\nYour manifest file should looks like below.\r\n\r\n    &lt;application\r\n            android:name=&quot;.MyApplication&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n         // Other stuff\r\n    &lt;/application&gt;\r\n\r\n**Outout:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/78a5r.gif\r\n\r\nHope this would help you.","title":"Android - Prevent white screen at startup","body":"<p>I had same issue, you have to update your style.</p>\n\n<p><strong>style.xml</strong></p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"drawerArrowStyle\"&gt;@style/DrawerArrowStyle&lt;/item&gt;\n        &lt;item name=\"android:windowNoTitle\"&gt;true&lt;/item&gt;\n        &lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;\n        &lt;item name=\"android:windowBackground\"&gt;@null&lt;/item&gt;\n        &lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n\n &lt;/style&gt;\n</code></pre>\n\n<p>Your manifest file should looks like below.</p>\n\n<pre><code>&lt;application\n        android:name=\".MyApplication\"\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme\"&gt;\n     // Other stuff\n&lt;/application&gt;\n</code></pre>\n\n<p><strong>Outout:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/78a5r.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/78a5r.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Hope this would help you.</p>\n"},{"tags":[],"owner":{"account_id":3244300,"reputation":2975,"user_id":2736367,"accept_rate":75,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1520938475,"creation_date":1520938475,"answer_id":49254344,"question_id":37437037,"body_markdown":"Recommended way of solving this problem is missing in the answers. So I am adding my answer here. The white-screen-at-startup problem occurs because of the initial blank screen that the system process draws when launching the app. A common way to solve this is by turning off this initial screen by adding this to your `styles.xml` file.\r\n\r\n    &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n\r\nBut according to android documentation this can result in longer startup time. Recommended way of avoiding this initial white screen according to google is to use activity&#39;s `windowBackground` theme attribute and provide a simple custom drawable for the starting activity.  \r\n\r\nLike this:\r\n\r\nDrawable Layout file, `my_drawable.xml`\r\n\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:opacity=&quot;opaque&quot;&gt;\r\n      &lt;!-- The background color, preferably the same as your normal theme --&gt;\r\n      &lt;item android:drawable=&quot;@android:color/white&quot;/&gt;\r\n      &lt;!-- Your product logo - 144dp color version of your app icon --&gt;\r\n      &lt;item&gt;\r\n        &lt;bitmap\r\n          android:src=&quot;@drawable/product_logo_144dp&quot;\r\n          android:gravity=&quot;center&quot;/&gt;\r\n      &lt;/item&gt;\r\n    &lt;/layer-list&gt;\r\n\r\nCreate a new style in your `styles.xml`\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;AppTheme&quot;&gt;\r\n        &lt;!-- Customize your theme here. --&gt;               \r\n    &lt;/style&gt;\r\n    \r\n    &lt;!-- Starting activity theme --&gt;\r\n    &lt;style name=&quot;AppTheme.Launcher&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/my_drawable&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nAdd this theme to your starting activity in the Manifest file \r\n\r\n    &lt;activity ...\r\n    android:theme=&quot;@style/AppTheme.Launcher&quot; /&gt;\r\n\r\nAnd when you want to transition back to your normal theme call `setTheme(R.style.Apptheme)` before calling `super.onCreate()` and `setContentView()` \r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        // Make sure this is before calling super.onCreate\r\n        setTheme(R.style.Theme_MyApp);\r\n        super.onCreate(savedInstanceState);\r\n        // ...\r\n      }\r\n    }\r\n\r\nThis is the recommended way to solve the problem and this is from google [Material Design][1] patterns.\r\n\r\n\r\n  [1]: https://material.io/guidelines/patterns/launch-screens.html#","title":"Android - Prevent white screen at startup","body":"<p>Recommended way of solving this problem is missing in the answers. So I am adding my answer here. The white-screen-at-startup problem occurs because of the initial blank screen that the system process draws when launching the app. A common way to solve this is by turning off this initial screen by adding this to your <code>styles.xml</code> file.</p>\n\n<pre><code>&lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;\n</code></pre>\n\n<p>But according to android documentation this can result in longer startup time. Recommended way of avoiding this initial white screen according to google is to use activity's <code>windowBackground</code> theme attribute and provide a simple custom drawable for the starting activity.  </p>\n\n<p>Like this:</p>\n\n<p>Drawable Layout file, <code>my_drawable.xml</code></p>\n\n<pre><code>&lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\" android:opacity=\"opaque\"&gt;\n  &lt;!-- The background color, preferably the same as your normal theme --&gt;\n  &lt;item android:drawable=\"@android:color/white\"/&gt;\n  &lt;!-- Your product logo - 144dp color version of your app icon --&gt;\n  &lt;item&gt;\n    &lt;bitmap\n      android:src=\"@drawable/product_logo_144dp\"\n      android:gravity=\"center\"/&gt;\n  &lt;/item&gt;\n&lt;/layer-list&gt;\n</code></pre>\n\n<p>Create a new style in your <code>styles.xml</code></p>\n\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=\"AppTheme\"&gt;\n    &lt;!-- Customize your theme here. --&gt;               \n&lt;/style&gt;\n\n&lt;!-- Starting activity theme --&gt;\n&lt;style name=\"AppTheme.Launcher\"&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@drawable/my_drawable&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Add this theme to your starting activity in the Manifest file </p>\n\n<pre><code>&lt;activity ...\nandroid:theme=\"@style/AppTheme.Launcher\" /&gt;\n</code></pre>\n\n<p>And when you want to transition back to your normal theme call <code>setTheme(R.style.Apptheme)</code> before calling <code>super.onCreate()</code> and <code>setContentView()</code> </p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    // Make sure this is before calling super.onCreate\n    setTheme(R.style.Theme_MyApp);\n    super.onCreate(savedInstanceState);\n    // ...\n  }\n}\n</code></pre>\n\n<p>This is the recommended way to solve the problem and this is from google <a href=\"https://material.io/guidelines/patterns/launch-screens.html#\" rel=\"noreferrer\">Material Design</a> patterns.</p>\n"},{"tags":[],"owner":{"account_id":9240608,"reputation":399,"user_id":6864013,"display_name":"prasad reddy"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1521183452,"creation_date":1521183452,"answer_id":49314844,"question_id":37437037,"body_markdown":"Please copy and paste these two lines in your manifest app theme i.e res/styles/AppTheme. then it will work like charm..\r\n\r\n    &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n    &lt;item name=&quot;android:windowIsTranslucent&quot;&gt;true&lt;/item&gt;","title":"Android - Prevent white screen at startup","body":"<p>Please copy and paste these two lines in your manifest app theme i.e res/styles/AppTheme. then it will work like charm..</p>\n\n<pre><code>&lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;\n&lt;item name=\"android:windowIsTranslucent\"&gt;true&lt;/item&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8324600,"reputation":1566,"user_id":6255036,"display_name":"Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530860546,"creation_date":1530860546,"answer_id":51204730,"question_id":37437037,"body_markdown":"    Style :- \r\n    &lt;style name=&quot;SplashViewTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    In Manifest :- \r\n    &lt;activity android:name=&quot;.SplashActivity&quot;\r\n            android:theme=&quot;@style/SplashViewTheme&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;","title":"Android - Prevent white screen at startup","body":"<pre><code>Style :- \n&lt;style name=\"SplashViewTheme\" parent=\"Theme.AppCompat.NoActionBar\"&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@drawable/splash&lt;/item&gt;\n    &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\nIn Manifest :- \n&lt;activity android:name=\".SplashActivity\"\n        android:theme=\"@style/SplashViewTheme\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8047963,"reputation":1160,"user_id":6067590,"display_name":"Akanshi Srivastava"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1548662806,"creation_date":1548662806,"answer_id":54397744,"question_id":37437037,"body_markdown":"I added the following two lines in my theme\r\nunder styles.xml\r\n\r\n\r\n        &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@null&lt;/item&gt;\r\n\r\nWorked like a charm","title":"Android - Prevent white screen at startup","body":"<p>I added the following two lines in my theme\nunder styles.xml</p>\n\n<pre><code>    &lt;item name=\"android:windowDisablePreview\"&gt;true&lt;/item&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@null&lt;/item&gt;\n</code></pre>\n\n<p>Worked like a charm</p>\n"},{"tags":[],"owner":{"account_id":4264857,"reputation":5594,"user_id":3488208,"accept_rate":20,"display_name":"Surendar D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1599478405,"creation_date":1563439626,"answer_id":57090517,"question_id":37437037,"body_markdown":"Please try this once.\r\n\r\n1) Create a drawable file splash_background.xml\r\n\r\n    \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n        &lt;item android:drawable=&quot;@color/{your color}&quot; /&gt;\r\n    \r\n        &lt;item&gt;\r\n            &lt;bitmap\r\n                android:layout_width=&quot;@dimen/size_250&quot;\r\n                android:layout_height=&quot;@dimen/size_100&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:scaleType=&quot;fitXY&quot;\r\n                android:src=&quot;{your image}&quot;\r\n                android:tint=&quot;@color/colorPrimary&quot; /&gt;\r\n        &lt;/item&gt;\r\n    \r\n    &lt;/layer-list&gt;\r\n2) Put this in styles.xml\r\n\r\n         &lt;style name=&quot;SplashTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\r\n             &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_background&lt;/item&gt;\r\n         &lt;/style&gt;\r\n3) In your AndroidMainfest.xml set the above theme to Launch activity.\r\n\r\n           &lt;activity\r\n                android:name=&quot;.SplashScreenActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:theme=&quot;@style/SplashTheme&quot;\r\n                android:windowSoftInputMode=&quot;stateVisible|adjustResize&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n\r\n","title":"Android - Prevent white screen at startup","body":"<p>Please try this once.</p>\n<ol>\n<li>Create a drawable file splash_background.xml</li>\n</ol>\n\n<pre><code>&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;item android:drawable=&quot;@color/{your color}&quot; /&gt;\n\n    &lt;item&gt;\n        &lt;bitmap\n            android:layout_width=&quot;@dimen/size_250&quot;\n            android:layout_height=&quot;@dimen/size_100&quot;\n            android:gravity=&quot;center&quot;\n            android:scaleType=&quot;fitXY&quot;\n            android:src=&quot;{your image}&quot;\n            android:tint=&quot;@color/colorPrimary&quot; /&gt;\n    &lt;/item&gt;\n\n&lt;/layer-list&gt;\n</code></pre>\n<ol start=\"2\">\n<li><p>Put this in styles.xml</p>\n<pre><code>  &lt;style name=&quot;SplashTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\n      &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_background&lt;/item&gt;\n  &lt;/style&gt;\n</code></pre>\n</li>\n<li><p>In your AndroidMainfest.xml set the above theme to Launch activity.</p>\n<pre><code>    &lt;activity\n         android:name=&quot;.SplashScreenActivity&quot;\n         android:screenOrientation=&quot;portrait&quot;\n         android:theme=&quot;@style/SplashTheme&quot;\n         android:windowSoftInputMode=&quot;stateVisible|adjustResize&quot;&gt;\n         &lt;intent-filter&gt;\n             &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n             &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n         &lt;/intent-filter&gt;\n     &lt;/activity&gt;\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6477138,"reputation":829,"user_id":5015427,"display_name":"ranojan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624966050,"creation_date":1624966050,"answer_id":68177787,"question_id":37437037,"body_markdown":"Delete \r\n\r\n    &lt;style name=&quot;AppTheme.Launcher&quot;&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splashscreen&lt;/item&gt;\r\n    &lt;/style&gt;\r\nfrom style.xml file\r\n\r\n","title":"Android - Prevent white screen at startup","body":"<p>Delete</p>\n<pre><code>&lt;style name=&quot;AppTheme.Launcher&quot;&gt;\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splashscreen&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>from style.xml file</p>\n"},{"tags":[],"owner":{"account_id":10898797,"reputation":1961,"user_id":8011734,"display_name":"Marwa Eltayeb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634784057,"creation_date":1634784057,"answer_id":69655199,"question_id":37437037,"body_markdown":"According to **Google&#39;s recommendation** [Here][1], you *should not* prevent this white screen from launching. You can use this theme attribute to turn off the initial blank screen that the system process draws when launching the app.   \r\n\r\n    &lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\r\n\r\nHowever, **This approach is not recommended** because it can result in a longer startup time than apps that dont suppress the preview window. Also, it forces the user to wait with no feedback while the activity launches, making them wonder if the app is functioning properly. \r\n\r\nThey recommend to use the activity&#39;s windowBackground theme attribute to provide a simple custom drawable for the starting activity instead of disabling the preview window.\r\n\r\nTherefore, here is the recommended solution:\r\n\r\nFirst, create a new drawable file for example startup_screen.xml \r\n\r\n   \r\n\r\n     &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:opacity=&quot;opaque&quot;&gt;\r\n        &lt;!-- The background color, preferably the same as normal theme --&gt;\r\n        &lt;item android:drawable=&quot;@android:color/white&quot;/&gt;\r\n        &lt;!-- Product logo - 144dp color version of App icon --&gt;\r\n        &lt;item&gt;\r\n            &lt;bitmap\r\n                android:src=&quot;@drawable/logo&quot;\r\n                android:gravity=&quot;center&quot;/&gt;\r\n        &lt;/item&gt;\r\n     &lt;/layer-list&gt;\r\n\r\n\r\nSecond, reference it from your style file. If you use Night mode. Add it in both themes.xml files.\r\n\r\n    &lt;!-- Start Up Screen --&gt;\r\n    &lt;style name=&quot;AppThemeLauncher&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n         &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;@color/lightGray&lt;/item&gt;\r\n         &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/startup_screen&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\nIf you notice, I added statusBarColor attribute to change the color of status Bar according to my custom design.\r\n\r\nThen, Add *AppThemeLauncher* Theme in your current activity. \r\n\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity&quot;\r\n        android:theme=&quot;@style/AppThemeLauncher&quot;/&gt;\r\n\r\nIf you want to transition back to your normal theme, call setTheme(R.style.AppTheme) before calling super.onCreate() and setContentView():\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            // Make sure this is before calling super.onCreate\r\n            setTheme(R.style.AppTheme)\r\n            super.onCreate(savedInstanceState)\r\n            // ...\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/topic/performance/vitals/launch-time","title":"Android - Prevent white screen at startup","body":"<p>According to <strong>Google's recommendation</strong> <a href=\"https://developer.android.com/topic/performance/vitals/launch-time\" rel=\"nofollow noreferrer\">Here</a>, you <em>should not</em> prevent this white screen from launching. You can use this theme attribute to turn off the initial blank screen that the system process draws when launching the app.</p>\n<pre><code>&lt;item name=&quot;android:windowDisablePreview&quot;&gt;true&lt;/item&gt;\n</code></pre>\n<p>However, <strong>This approach is not recommended</strong> because it can result in a longer startup time than apps that dont suppress the preview window. Also, it forces the user to wait with no feedback while the activity launches, making them wonder if the app is functioning properly.</p>\n<p>They recommend to use the activity's windowBackground theme attribute to provide a simple custom drawable for the starting activity instead of disabling the preview window.</p>\n<p>Therefore, here is the recommended solution:</p>\n<p>First, create a new drawable file for example startup_screen.xml</p>\n<pre><code> &lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:opacity=&quot;opaque&quot;&gt;\n    &lt;!-- The background color, preferably the same as normal theme --&gt;\n    &lt;item android:drawable=&quot;@android:color/white&quot;/&gt;\n    &lt;!-- Product logo - 144dp color version of App icon --&gt;\n    &lt;item&gt;\n        &lt;bitmap\n            android:src=&quot;@drawable/logo&quot;\n            android:gravity=&quot;center&quot;/&gt;\n    &lt;/item&gt;\n &lt;/layer-list&gt;\n</code></pre>\n<p>Second, reference it from your style file. If you use Night mode. Add it in both themes.xml files.</p>\n<pre><code>&lt;!-- Start Up Screen --&gt;\n&lt;style name=&quot;AppThemeLauncher&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n     &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;@color/lightGray&lt;/item&gt;\n     &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/startup_screen&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>If you notice, I added statusBarColor attribute to change the color of status Bar according to my custom design.</p>\n<p>Then, Add <em>AppThemeLauncher</em> Theme in your current activity.</p>\n<pre><code>&lt;activity\n    android:name=&quot;.MainActivity&quot;\n    android:theme=&quot;@style/AppThemeLauncher&quot;/&gt;\n</code></pre>\n<p>If you want to transition back to your normal theme, call setTheme(R.style.AppTheme) before calling super.onCreate() and setContentView():</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        // Make sure this is before calling super.onCreate\n        setTheme(R.style.AppTheme)\n        super.onCreate(savedInstanceState)\n        // ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1662506,"reputation":1874,"user_id":1530504,"accept_rate":36,"display_name":"asok Buzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645074489,"creation_date":1645074489,"answer_id":71152787,"question_id":37437037,"body_markdown":"You should have `colors.xml` on values-night (create alongside values folder if it doesn&#39;t already exist) folder for dark theme colors. \r\neg.\r\n\r\n    &lt;resources&gt;\r\n        &lt;color name=&quot;status_bar&quot;&gt;#0e0e0e&lt;/color&gt;\r\n    &lt;/resources&gt;\r\n(`colors.xml` on regular values folder will be used for light theme)\r\n\r\nAnd on `styles.xml` which supplies your app theme you will have entry for background and statusbar which takes necessary values.\r\neg.\r\n\r\n    &lt;style name=&quot;Theme.&lt;AppName&gt;&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;item name=&quot;colorPrimary&quot;&gt;@color/red700&lt;/item&gt;\r\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/red900&lt;/item&gt;\r\n            &lt;item name=&quot;colorAccent&quot;&gt;@color/red700&lt;/item&gt;\r\n            &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/status_bar&lt;/item&gt;\r\n            &lt;item name=&quot;android:background&quot;&gt;@color/status_bar&lt;/item&gt;\r\n        &lt;/style&gt;\r\nThis style is referenced on AndroidManifest.xml file\r\n\r\n    android:theme=&quot;@style/Theme.&lt;AppName&gt;&quot;&gt;","title":"Android - Prevent white screen at startup","body":"<p>You should have <code>colors.xml</code> on values-night (create alongside values folder if it doesn't already exist) folder for dark theme colors.\neg.</p>\n<pre><code>&lt;resources&gt;\n    &lt;color name=&quot;status_bar&quot;&gt;#0e0e0e&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>(<code>colors.xml</code> on regular values folder will be used for light theme)</p>\n<p>And on <code>styles.xml</code> which supplies your app theme you will have entry for background and statusbar which takes necessary values.\neg.</p>\n<pre><code>&lt;style name=&quot;Theme.&lt;AppName&gt;&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/red700&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/red900&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/red700&lt;/item&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/status_bar&lt;/item&gt;\n        &lt;item name=&quot;android:background&quot;&gt;@color/status_bar&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>This style is referenced on AndroidManifest.xml file</p>\n<pre><code>android:theme=&quot;@style/Theme.&lt;AppName&gt;&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":3986910,"reputation":30181,"user_id":3287204,"accept_rate":56,"display_name":"Yash Sampat"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120331,"favorite_count":0,"down_vote_count":0,"up_vote_count":149,"accepted_answer_id":37679026,"answer_count":18,"score":149,"last_activity_date":1675934785,"creation_date":1464179021,"question_id":37437037,"body_markdown":"As we all know, many Android apps display a white screen very briefly before their first `Activity` comes into focus. This problem is observed in the following cases:\r\n\r\n - Android apps that extend the global [`Application`](https://developer.android.com/reference/android/app/Application.html) class and\r\n   perform major initializations therein. The `Application`\r\n   object is always created before the first `Activity` (a fact that can\r\n   be observed in the debugger), so this makes sense. This is the cause of the delay in my case.\r\n   \r\n - Android apps that display the default preview window before the splash screen.\r\n\r\nSetting `android:windowDisablePreview = &quot;true&quot;` obviously does not work here. Nor can I set the parent theme of the splash screen to `Theme.Holo.NoActionBar` as described [here](http://cyrilmottier.com/2013/01/23/android-app-launching-made-gorgeous/), because [unfortunately] my splash screen makes use of an `ActionBar`.\r\n\r\nMeanwhile, apps that do not extend the `Application` class ***do not*** show the white screen at startup.\r\n\r\nThe thing is, ideally the initializations performed in the `Application` object need to occur *before* the first `Activity` is shown. So my question is, how can I perform these initializations on app startup *without* using an `Application` object? Possibly using a `Thread` or `Service`, I suppose?\r\n\r\nThis is an interesting problem to think about. I can&#39;t bypass it the usual way (by setting the `NoActionBar` theme), as tragically my Splash screen actually has an `ActionBar` due to some unrelated reasons.\r\n\r\n**Note:**\r\n\r\nI have already referred to the following questions:\r\n\r\n - [**How To fix white screen on app Start\r\n   up?**](https://stackoverflow.com/q/20546703)\r\n   \r\n - [**Android splash screen is white in the\r\n   beginning?**](https://stackoverflow.com/q/17181455)\r\n   \r\n - [**White screen before\r\n   splashscreen**](https://stackoverflow.com/q/15067615)\r\n\r\n - [**White background when Android app start up**](https://stackoverflow.com/q/19738879)\r\n\r\n - [**Why there is a white screen appears for 1sec when starting to run the apps in Android?**](https://stackoverflow.com/q/12613217)\r\n\r\n**References:**\r\n\r\n - [**Patterns  Launch screens**](https://www.google.com/design/spec/patterns/launch-screens.html).\r\n\r\n - [**Branded launch screen: the new splash for Android**](http://antonioleiva.com/branded-launch-screen/).\r\n\r\n - [**Splash Screens the Right Way**](https://www.bignerdranch.com/blog/splash-screens-the-right-way/).","title":"Android - Prevent white screen at startup","body":"<p>As we all know, many Android apps display a white screen very briefly before their first <code>Activity</code> comes into focus. This problem is observed in the following cases:</p>\n\n<ul>\n<li><p>Android apps that extend the global <a href=\"https://developer.android.com/reference/android/app/Application.html\" rel=\"noreferrer\"><code>Application</code></a> class and\nperform major initializations therein. The <code>Application</code>\nobject is always created before the first <code>Activity</code> (a fact that can\nbe observed in the debugger), so this makes sense. This is the cause of the delay in my case.</p></li>\n<li><p>Android apps that display the default preview window before the splash screen.</p></li>\n</ul>\n\n<p>Setting <code>android:windowDisablePreview = \"true\"</code> obviously does not work here. Nor can I set the parent theme of the splash screen to <code>Theme.Holo.NoActionBar</code> as described <a href=\"http://cyrilmottier.com/2013/01/23/android-app-launching-made-gorgeous/\" rel=\"noreferrer\">here</a>, because [unfortunately] my splash screen makes use of an <code>ActionBar</code>.</p>\n\n<p>Meanwhile, apps that do not extend the <code>Application</code> class <strong><em>do not</em></strong> show the white screen at startup.</p>\n\n<p>The thing is, ideally the initializations performed in the <code>Application</code> object need to occur <em>before</em> the first <code>Activity</code> is shown. So my question is, how can I perform these initializations on app startup <em>without</em> using an <code>Application</code> object? Possibly using a <code>Thread</code> or <code>Service</code>, I suppose?</p>\n\n<p>This is an interesting problem to think about. I can't bypass it the usual way (by setting the <code>NoActionBar</code> theme), as tragically my Splash screen actually has an <code>ActionBar</code> due to some unrelated reasons.</p>\n\n<p><strong>Note:</strong></p>\n\n<p>I have already referred to the following questions:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/q/20546703\"><strong>How To fix white screen on app Start\nup?</strong></a></p></li>\n<li><p><a href=\"https://stackoverflow.com/q/17181455\"><strong>Android splash screen is white in the\nbeginning?</strong></a></p></li>\n<li><p><a href=\"https://stackoverflow.com/q/15067615\"><strong>White screen before\nsplashscreen</strong></a></p></li>\n<li><p><a href=\"https://stackoverflow.com/q/19738879\"><strong>White background when Android app start up</strong></a></p></li>\n<li><p><a href=\"https://stackoverflow.com/q/12613217\"><strong>Why there is a white screen appears for 1sec when starting to run the apps in Android?</strong></a></p></li>\n</ul>\n\n<p><strong>References:</strong></p>\n\n<ul>\n<li><p><a href=\"https://www.google.com/design/spec/patterns/launch-screens.html\" rel=\"noreferrer\"><strong>Patterns  Launch screens</strong></a>.</p></li>\n<li><p><a href=\"http://antonioleiva.com/branded-launch-screen/\" rel=\"noreferrer\"><strong>Branded launch screen: the new splash for Android</strong></a>.</p></li>\n<li><p><a href=\"https://www.bignerdranch.com/blog/splash-screens-the-right-way/\" rel=\"noreferrer\"><strong>Splash Screens the Right Way</strong></a>.</p></li>\n</ul>\n"},{"tags":["java","java-stream","grouping","collectors","reducing"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1563201032,"post_id":57041896,"comment_id":100611493,"body_markdown":"I think it&#39;s just common sense and `Collectors` knowledge, nothing like a pattern if you ask me.","body":"I think it&#39;s just common sense and <code>Collectors</code> knowledge, nothing like a pattern if you ask me."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":8,"creation_date":1563201156,"post_id":57041896,"comment_id":100611573,"body_markdown":"&quot;Anyone can tel me how he figured this out ?&quot; I&#39;d guess Holger would be the best person to ask!","body":"&quot;Anyone can tel me how he figured this out ?&quot; I&#39;d guess Holger would be the best person to ask!"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1563202223,"post_id":57041896,"comment_id":100612175,"body_markdown":"@ElmaCherb commenting again on that answer (using `@Holger`) would notify him directly. It was several weeks ago, so he is unlikely to revisit the question unless prompted.","body":"@ElmaCherb commenting again on that answer (using <code>@Holger</code>) would notify him directly. It was several weeks ago, so he is unlikely to revisit the question unless prompted."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1675934662,"creation_date":1563203504,"answer_id":57042622,"question_id":57041896,"body_markdown":"This pattern became evident by experience with using both collectors. Youll find several Q&amp;As on Stackoverflow, where a problem could be solved with either collector, but one of them seems a better fit for the particular task.\r\n\r\nThis is a variation of the difference between [Reduction] and [Mutable Reduction]. In the first case, we use `reduce` on the Stream, in the second we use `collect`. It comes naturally, that the `groupingBy` collector, which takes a second `Collector` as argument, is the right tool when we want to apply a Mutable Reduction to the groups.\r\n\r\nNot that obviously, the `toMap` collector taking a *merge* function is the right tool when we want to perform a classical Reduction, as that merge function has the same shape and purpose as a Reduction function, even if it is not called as such.\r\n\r\nIn practice, we note that the collectors which perform a Reduction, return an `Optional`, which is usually not desired when being used with `groupingBy`, which is the reason why `toMap` works more smoothly in these cases.\r\n\r\nThere are surely more patterns which become apparent while using these APIs, but collecting them in one answer is not the scope of Stackoverflow.\r\n\r\n[Reduction]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Reduction\r\n[Mutable Reduction]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#MutableReduction","title":"Java Streams: Replacing groupingBy and reducing by toMap","body":"<p>This pattern became evident by experience with using both collectors. Youll find several Q&amp;As on Stackoverflow, where a problem could be solved with either collector, but one of them seems a better fit for the particular task.</p>\n<p>This is a variation of the difference between <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\">Reduction</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#MutableReduction\" rel=\"nofollow noreferrer\">Mutable Reduction</a>. In the first case, we use <code>reduce</code> on the Stream, in the second we use <code>collect</code>. It comes naturally, that the <code>groupingBy</code> collector, which takes a second <code>Collector</code> as argument, is the right tool when we want to apply a Mutable Reduction to the groups.</p>\n<p>Not that obviously, the <code>toMap</code> collector taking a <em>merge</em> function is the right tool when we want to perform a classical Reduction, as that merge function has the same shape and purpose as a Reduction function, even if it is not called as such.</p>\n<p>In practice, we note that the collectors which perform a Reduction, return an <code>Optional</code>, which is usually not desired when being used with <code>groupingBy</code>, which is the reason why <code>toMap</code> works more smoothly in these cases.</p>\n<p>There are surely more patterns which become apparent while using these APIs, but collecting them in one answer is not the scope of Stackoverflow.</p>\n"}],"owner":{"account_id":11356216,"reputation":2637,"user_id":8325761,"display_name":"bubbles"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1279,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"accepted_answer_id":57042622,"answer_count":1,"score":13,"last_activity_date":1675934662,"creation_date":1563200862,"question_id":57041896,"body_markdown":"I&#39;ve asked a question before about enhancing some code, [here][1]. [@Holger][2] gives me the right response and he said that:\r\n\r\n&gt; Whenever you find yourself using the reducing collector with\r\n&gt; groupingBy, you should check whether toMap isnt more appropriate\r\n\r\nIt seems like a pattern ! and what he suggests me to do was just perfect.\r\n\r\nIs this a well known pattern ?  Why `toMap` is better than (in some cases) combining `groupingBy` and `reducing` ?\r\n\r\n  [1]: https://stackoverflow.com/questions/56684523/do-i-need-a-custom-spliterator-to-avoid-extra-stream-call\r\n  [2]: https://stackoverflow.com/users/2711488/holger","title":"Java Streams: Replacing groupingBy and reducing by toMap","body":"<p>I've asked a question before about enhancing some code, <a href=\"https://stackoverflow.com/questions/56684523/do-i-need-a-custom-spliterator-to-avoid-extra-stream-call\">here</a>. <a href=\"https://stackoverflow.com/users/2711488/holger\">@Holger</a> gives me the right response and he said that:</p>\n\n<blockquote>\n  <p>Whenever you find yourself using the reducing collector with\n  groupingBy, you should check whether toMap isnt more appropriate</p>\n</blockquote>\n\n<p>It seems like a pattern ! and what he suggests me to do was just perfect.</p>\n\n<p>Is this a well known pattern ?  Why <code>toMap</code> is better than (in some cases) combining <code>groupingBy</code> and <code>reducing</code> ?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":3093133,"reputation":318,"user_id":2618886,"display_name":"Anant Goswami"},"score":0,"creation_date":1554917358,"post_id":55617909,"comment_id":97929726,"body_markdown":"Use @TransactionSynchronizationManager","body":"Use @TransactionSynchronizationManager"},{"owner":{"account_id":4939497,"reputation":456,"user_id":3976662,"display_name":"seb.wired"},"score":0,"creation_date":1554919108,"post_id":55617909,"comment_id":97930568,"body_markdown":"Which database are you using? Can you provide the configuration for the corresponding `TransactionManager`?","body":"Which database are you using? Can you provide the configuration for the corresponding <code>TransactionManager</code>?"},{"owner":{"account_id":9488737,"reputation":93,"user_id":7054317,"display_name":"Adrian Sowiski"},"score":1,"creation_date":1554919782,"post_id":55617909,"comment_id":97930874,"body_markdown":"I use mysql and don&#39;t configured TransactionManager. I use spring boot for autoconfiguration","body":"I use mysql and don&#39;t configured TransactionManager. I use spring boot for autoconfiguration"},{"owner":{"account_id":10350691,"reputation":907,"user_id":7634201,"display_name":"C. Weber"},"score":0,"creation_date":1554998342,"post_id":55617909,"comment_id":97964618,"body_markdown":"What do you mean with error? What kind of Exception has been thrown?","body":"What do you mean with error? What kind of Exception has been thrown?"},{"owner":{"account_id":2937533,"reputation":1848,"user_id":2516131,"accept_rate":25,"display_name":"Chamly Idunil"},"score":0,"creation_date":1555002997,"post_id":55617909,"comment_id":97967042,"body_markdown":"it will roll back only for RestClientException.class, IllegalStateException.class. what exception is it throw.","body":"it will roll back only for RestClientException.class, IllegalStateException.class. what exception is it throw."},{"owner":{"account_id":9488737,"reputation":93,"user_id":7054317,"display_name":"Adrian Sowiski"},"score":1,"creation_date":1555004319,"post_id":55617909,"comment_id":97967664,"body_markdown":"RestClientException.class - Error with processing data on server,\nIllegalStateException.class - When there is no registered service.\nThat&#39;s all posible.","body":"RestClientException.class - Error with processing data on server, IllegalStateException.class - When there is no registered service. That&#39;s all posible."}],"answers":[{"tags":[],"owner":{"account_id":15696710,"reputation":36,"user_id":11326015,"display_name":"Guhan Sundaresan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1579855011,"creation_date":1554998005,"answer_id":55636601,"question_id":55617909,"body_markdown":"I think your problem is with the `createProfileRequest()` method visibility here. Transactional annotation works by default only with public methods.","title":"Spring transaction doesn&#39;t rollback after Exception","body":"<p>I think your problem is with the <code>createProfileRequest()</code> method visibility here. Transactional annotation works by default only with public methods.</p>\n"}],"owner":{"account_id":9488737,"reputation":93,"user_id":7054317,"display_name":"Adrian Sowiski"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55636601,"answer_count":1,"score":1,"last_activity_date":1675934580,"creation_date":1554915924,"question_id":55617909,"body_markdown":"I&#39;m creating new user and after that when I create profile for user by ```createProfileRequest()``` and service retrive me an error, user is not being rolled back\r\n\r\n```\r\n@Transactional(rollbackFor = {RestClientException.class, IllegalStateException.class})\r\n    public User createUser(UserRegistrationForm registrationForm) throws UserAlreadyExistsException {\r\n        if (userRepository.existsUserByEmailOrUsername(registrationForm.getEmail(), registrationForm.getUsername()))\r\n            throw new UserAlreadyExistsException(&quot;User with credentials &quot;  +\r\n                    registrationForm.getEmail() + &quot;/&quot; + registrationForm.getUsername() + &quot; already exists&quot;);\r\n\r\n        User user = new User(registrationForm.getUsername(), registrationForm.getEmail());\r\n        user.setPassword(passwordEncoder.encode(registrationForm.getPassword()));\r\n        user.setRoles(getDefaultRoles());\r\n\r\n        userRepository.save(user);\r\n\r\n        createProfileRequest(user);\r\n\r\n        tokenService.createToken(user.getId(), TokenType.ACTIVATION);\r\n        log.info(&quot;Created user with id: &quot; + user.getId());\r\n        return user;\r\n    }\r\n\r\n    private void createProfileRequest(User user) throws RestClientException, IllegalStateException {\r\n        ObjectNode profile = new ObjectMapper().createObjectNode();\r\n        profile.put(&quot;userId&quot;, user.getId());\r\n        profile.put(&quot;visibleName&quot;, user.getUsername());\r\n        restTemplate.postForLocation(&quot;http://profile/api&quot;, profile);\r\n    }\r\n```","title":"Spring transaction doesn&#39;t rollback after Exception","body":"<p>I'm creating new user and after that when I create profile for user by <code>createProfileRequest()</code> and service retrive me an error, user is not being rolled back</p>\n\n<pre><code>@Transactional(rollbackFor = {RestClientException.class, IllegalStateException.class})\n    public User createUser(UserRegistrationForm registrationForm) throws UserAlreadyExistsException {\n        if (userRepository.existsUserByEmailOrUsername(registrationForm.getEmail(), registrationForm.getUsername()))\n            throw new UserAlreadyExistsException(\"User with credentials \"  +\n                    registrationForm.getEmail() + \"/\" + registrationForm.getUsername() + \" already exists\");\n\n        User user = new User(registrationForm.getUsername(), registrationForm.getEmail());\n        user.setPassword(passwordEncoder.encode(registrationForm.getPassword()));\n        user.setRoles(getDefaultRoles());\n\n        userRepository.save(user);\n\n        createProfileRequest(user);\n\n        tokenService.createToken(user.getId(), TokenType.ACTIVATION);\n        log.info(\"Created user with id: \" + user.getId());\n        return user;\n    }\n\n    private void createProfileRequest(User user) throws RestClientException, IllegalStateException {\n        ObjectNode profile = new ObjectMapper().createObjectNode();\n        profile.put(\"userId\", user.getId());\n        profile.put(\"visibleName\", user.getUsername());\n        restTemplate.postForLocation(\"http://profile/api\", profile);\n    }\n</code></pre>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":3164250,"reputation":138,"user_id":2674606,"display_name":"MadMG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675934513,"creation_date":1675934513,"answer_id":75396516,"question_id":75396282,"body_markdown":"I guess jackson is used to read the json data.\r\n\r\nRequired imports:\r\n\r\n    import org.codehaus.jackson.map.ObjectMapper;\r\n    import org.codehaus.jackson.type.TypeReference;\r\n\r\n\r\nImplementation of `CamelCaseHashMap`:\r\n\r\n    private static class CamelCaseHashMap&lt;K,V&gt; extends HashMap&lt;K, V&gt; {\r\n      public V put(K key, V value) {\r\n        // add your code here...\r\n      }\r\n    }\r\n\r\n...then the following code will work as expected:\r\n        \r\n    String json = &quot;[{\\&quot;alarmCount\\&quot;:\\&quot;192\\&quot;,\\&quot;sensorId\\&quot;:\\&quot;CM07000071\\&quot;},{\\&quot;alarmCount\\&quot;:\\&quot;192\\&quot;,\\&quot;sensorId\\&quot;:\\&quot;CM07000072\\&quot;}]&quot;;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    List&lt;CamelCaseHashMap&gt; data = mapper.readValue(json, new TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;(){});\r\n\r\n\r\n","title":"how to convert String Array to list HashMap in java?","body":"<p>I guess jackson is used to read the json data.</p>\n<p>Required imports:</p>\n<pre><code>import org.codehaus.jackson.map.ObjectMapper;\nimport org.codehaus.jackson.type.TypeReference;\n</code></pre>\n<p>Implementation of <code>CamelCaseHashMap</code>:</p>\n<pre><code>private static class CamelCaseHashMap&lt;K,V&gt; extends HashMap&lt;K, V&gt; {\n  public V put(K key, V value) {\n    // add your code here...\n  }\n}\n</code></pre>\n<p>...then the following code will work as expected:</p>\n<pre><code>String json = &quot;[{\\&quot;alarmCount\\&quot;:\\&quot;192\\&quot;,\\&quot;sensorId\\&quot;:\\&quot;CM07000071\\&quot;},{\\&quot;alarmCount\\&quot;:\\&quot;192\\&quot;,\\&quot;sensorId\\&quot;:\\&quot;CM07000072\\&quot;}]&quot;;\nObjectMapper mapper = new ObjectMapper();\nList&lt;CamelCaseHashMap&gt; data = mapper.readValue(json, new TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;(){});\n</code></pre>\n"}],"owner":{"account_id":25656090,"reputation":33,"user_id":19422466,"display_name":"hi-inbeom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675934513,"creation_date":1675933229,"question_id":75396282,"body_markdown":"I Want to Convert JsonArray to List &lt; HashMap &gt;\r\n\r\n```\r\n[{&quot;alarmCount&quot;:&quot;192&quot;,&quot;sensorId&quot;:&quot;CM07000071&quot;},\r\n{&quot;alarmCount&quot;:&quot;192&quot;,&quot;sensorId&quot;:&quot;CM07000072&quot;}]\r\n```\r\n\r\n## I Try this code\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nList&lt;CamelCaseHashMap&gt; data = mapper.readValue(json, new TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;(){});\r\n```\r\nbut try code was error\r\n## Error\r\n```\r\nThe method readValue(String, Class&lt;T&gt;) in the type ObjectMapper is not applicable for\r\nthe arguments (String, TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;)\r\n```\r\n\r\n## CamelCaseHashMap Class\r\n```\r\npublic Object put(String key, Object value) {\r\n        return super.put(JdbcUtils.convertUnderscoreNameToPropertyName(key), value);\r\n    }\r\n```","title":"how to convert String Array to list HashMap in java?","body":"<p>I Want to Convert JsonArray to List &lt; HashMap &gt;</p>\n<pre><code>[{&quot;alarmCount&quot;:&quot;192&quot;,&quot;sensorId&quot;:&quot;CM07000071&quot;},\n{&quot;alarmCount&quot;:&quot;192&quot;,&quot;sensorId&quot;:&quot;CM07000072&quot;}]\n</code></pre>\n<h2>I Try this code</h2>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nList&lt;CamelCaseHashMap&gt; data = mapper.readValue(json, new TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;(){});\n</code></pre>\n<p>but try code was error</p>\n<h2>Error</h2>\n<pre><code>The method readValue(String, Class&lt;T&gt;) in the type ObjectMapper is not applicable for\nthe arguments (String, TypeReference&lt;List&lt;CamelCaseHashMap&gt;&gt;)\n</code></pre>\n<h2>CamelCaseHashMap Class</h2>\n<pre><code>public Object put(String key, Object value) {\n        return super.put(JdbcUtils.convertUnderscoreNameToPropertyName(key), value);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","security","log4j2","cve-2021-44228"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":1,"creation_date":1639674049,"post_id":70382613,"comment_id":124415084,"body_markdown":"Usually upgrading a dependency version is way easier than promoting a flag that might require to be configured everywhere (several configs, scripts, etc, etc, etc). Additionally, having upgraded to 2.16.0 you wouldn&#39;t even care the value of the flag. (N.B. Opt-out flags like that are awful.)","body":"Usually upgrading a dependency version is way easier than promoting a flag that might require to be configured everywhere (several configs, scripts, etc, etc, etc). Additionally, having upgraded to 2.16.0 you wouldn&#39;t even care the value of the flag. (N.B. Opt-out flags like that are awful.)"}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639673201,"creation_date":1639673201,"answer_id":70382696,"question_id":70382613,"body_markdown":"Look at the [Apache Log4j Security Vulnerabilities](https://logging.apache.org/log4j/2.x/security.html) page, especially the explanation under the heading &quot;Fixed in Log4j 2.12.2 and Log4j 2.16.0&quot;.\r\n\r\nIt explains that even in 2.15.0, which had the initial fix for CVE-2021-44228, there was a situation possible in which you still had a problem, which has a new ID: [CVE-2021-45046](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-45046)\r\n\r\n&gt; Note that previous mitigations involving configuration such as to set the system property log4j2.formatMsgNoLookups to true do NOT mitigate this specific vulnerability.\r\n\r\nTo protect yourself against the new CVE, update to 2.16.0.\r\n","title":"Log4j2 Vulnerability in version 2.16.0","body":"<p>Look at the <a href=\"https://logging.apache.org/log4j/2.x/security.html\" rel=\"nofollow noreferrer\">Apache Log4j Security Vulnerabilities</a> page, especially the explanation under the heading &quot;Fixed in Log4j 2.12.2 and Log4j 2.16.0&quot;.</p>\n<p>It explains that even in 2.15.0, which had the initial fix for CVE-2021-44228, there was a situation possible in which you still had a problem, which has a new ID: <a href=\"https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-45046\" rel=\"nofollow noreferrer\">CVE-2021-45046</a></p>\n<blockquote>\n<p>Note that previous mitigations involving configuration such as to set the system property log4j2.formatMsgNoLookups to true do NOT mitigate this specific vulnerability.</p>\n</blockquote>\n<p>To protect yourself against the new CVE, update to 2.16.0.</p>\n"}],"owner":{"account_id":2310465,"reputation":975,"user_id":2028705,"display_name":"Keaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":651,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70382696,"answer_count":1,"score":-2,"last_activity_date":1675934388,"creation_date":1639672819,"question_id":70382613,"body_markdown":"Our system is a microservices-based system. It has more than 120 services. We were advised to upgrade the log4j version in our microservices to 2.16.0 to mitigate the recent log4j vulnerability. Currently, our services use the 2.11.2 version. Can&#39;t we just use `-Dlog4j2.formatMsgNoLookups=true` to mitigate these vulnerabilities.","title":"Log4j2 Vulnerability in version 2.16.0","body":"<p>Our system is a microservices-based system. It has more than 120 services. We were advised to upgrade the log4j version in our microservices to 2.16.0 to mitigate the recent log4j vulnerability. Currently, our services use the 2.11.2 version. Can't we just use <code>-Dlog4j2.formatMsgNoLookups=true</code> to mitigate these vulnerabilities.</p>\n"},{"tags":["java","android","sqlite","security","httpconnection"],"comments":[{"owner":{"account_id":7121994,"reputation":2012,"user_id":5446285,"display_name":"Jack&#39;"},"score":0,"creation_date":1675933111,"post_id":75396167,"comment_id":133035259,"body_markdown":"Please fix the first words of the post (&quot;enter image description here&quot;)","body":"Please fix the first words of the post (&quot;enter image description here&quot;)"}],"owner":{"account_id":12907291,"reputation":1,"user_id":9334199,"display_name":"prince malav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675934103,"creation_date":1675932519,"question_id":75396167,"body_markdown":"I&#39;m facing issue while resolving DAST issue &#39;USAGE OF\r\nUNENCRYPTED HTTP PROTOCOL [SAST] [M3] [CWE-\r\n319]&#39; in this it&#39;s pointing about new URL() used but as\r\nper documentation to create url in java we mainly use\r\nURL object and then open the connection.\r\nI want to know the reason why it&#39;s showing issue\r\nregarding URL, while I&#39;m using HttpsURLconnection.\r\n\r\nBelow reference is provided in report to solve issue but it did not worked.\r\nhttps://developer.android.com/reference/java/sql/PreparedStatement\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EJ7FA.png","title":"Unencrypted HTTP protocol error when creating new URL() object in Java","body":"<p>I'm facing issue while resolving DAST issue 'USAGE OF\nUNENCRYPTED HTTP PROTOCOL [SAST] [M3] [CWE-\n319]' in this it's pointing about new URL() used but as\nper documentation to create url in java we mainly use\nURL object and then open the connection.\nI want to know the reason why it's showing issue\nregarding URL, while I'm using HttpsURLconnection.</p>\n<p>Below reference is provided in report to solve issue but it did not worked.\n<a href=\"https://developer.android.com/reference/java/sql/PreparedStatement\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/sql/PreparedStatement</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1675933907,"post_id":75396308,"comment_id":133035493,"body_markdown":"THIS IS NOT  JSP Question, This is a BASIC Java Syntax Question. `if (&quot;en_1-01-01&quot;.equals(id) || &quot;en_1-01-02&quot;.equals(id) || &quot;en_1-01-03&quot;.equals(id)){ //TODO } ...`\n`","body":"THIS IS NOT  JSP Question, This is a BASIC Java Syntax Question. <code>if (&quot;en_1-01-01&quot;.equals(id) || &quot;en_1-01-02&quot;.equals(id) || &quot;en_1-01-03&quot;.equals(id)){ &#47;&#47;TODO } ...</code> `"}],"owner":{"account_id":26376370,"reputation":31,"user_id":21108814,"display_name":"_da code learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675933937,"creation_date":1675933363,"question_id":75396308,"body_markdown":"how to make .jsp if else (or) work together, I simpled the question that I want the last two in to one line     \r\n\r\n` if (id.equals(&quot;en_1-01-01&quot; or &quot;en_1-01-02&quot; or &quot;en_1-01-03&quot; )`\r\n\r\n- .jsp\r\n\r\n```\r\n&lt;%@page contentType=&quot;text/html;charset=UTF-8&quot;\t%&gt;\r\n&lt;%@include file=&quot;/include/gds_include.jsp&quot;\t\t%&gt;\r\n\r\n&lt;%\r\n\r\n      if(id.equals(&quot;en_1-01&quot;))  {\r\n%&gt;\r\n    &lt;%@include file=&quot;nordic_product_categories_detail.html&quot;%&gt;\r\n&lt;%\r\n    }   else if (id.equals(&quot;en_1-02&quot;)) {\r\n%&gt;      \r\n     &lt;%@include file=&quot;microchip_product_categories_detail.html&quot;%&gt;\r\n&lt;%\r\n\r\n    }   else if (id.equals(&quot;en_1-01-01&quot;)) {\r\n%&gt;      \r\n     &lt;%@include file=&quot;product_footer.html&quot;%&gt;\r\n&lt;%\r\n    }\r\n\r\n&lt;%\r\n\r\n    }   else if (id.equals(&quot;en_1-01-02&quot;)) {\r\n%&gt;      \r\n     &lt;%@include file=&quot;product_footer.html&quot;%&gt;\r\n&lt;%\r\n    }\r\n\r\n&lt;%\r\n\r\n    }   else if (id.equals(&quot;en_1-01-03&quot;)) {\r\n%&gt;      \r\n     &lt;%@include file=&quot;product_footer.html&quot;%&gt;\r\n&lt;%\r\n    }\r\n%&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\nit might be a somple question, that I learn .jsp just for few days, but I does like it&#39;s function more than .html","title":"how to make .jsp if else + or work together","body":"<p>how to make .jsp if else (or) work together, I simpled the question that I want the last two in to one line</p>\n<p><code> if (id.equals(&quot;en_1-01-01&quot; or &quot;en_1-01-02&quot; or &quot;en_1-01-03&quot; )</code></p>\n<ul>\n<li>.jsp</li>\n</ul>\n<pre><code>&lt;%@page contentType=&quot;text/html;charset=UTF-8&quot;   %&gt;\n&lt;%@include file=&quot;/include/gds_include.jsp&quot;      %&gt;\n\n&lt;%\n\n      if(id.equals(&quot;en_1-01&quot;))  {\n%&gt;\n    &lt;%@include file=&quot;nordic_product_categories_detail.html&quot;%&gt;\n&lt;%\n    }   else if (id.equals(&quot;en_1-02&quot;)) {\n%&gt;      \n     &lt;%@include file=&quot;microchip_product_categories_detail.html&quot;%&gt;\n&lt;%\n\n    }   else if (id.equals(&quot;en_1-01-01&quot;)) {\n%&gt;      \n     &lt;%@include file=&quot;product_footer.html&quot;%&gt;\n&lt;%\n    }\n\n&lt;%\n\n    }   else if (id.equals(&quot;en_1-01-02&quot;)) {\n%&gt;      \n     &lt;%@include file=&quot;product_footer.html&quot;%&gt;\n&lt;%\n    }\n\n&lt;%\n\n    }   else if (id.equals(&quot;en_1-01-03&quot;)) {\n%&gt;      \n     &lt;%@include file=&quot;product_footer.html&quot;%&gt;\n&lt;%\n    }\n%&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>it might be a somple question, that I learn .jsp just for few days, but I does like it's function more than .html</p>\n"},{"tags":["java","c#",".net","windows","network-programming"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675869808,"post_id":75384777,"comment_id":133021292,"body_markdown":"Why is this tagged with java?","body":"Why is this tagged with java?"},{"owner":{"account_id":14128035,"reputation":163,"user_id":10206700,"display_name":"Syed Rafey Husain"},"score":0,"creation_date":1675933581,"post_id":75384777,"comment_id":133035386,"body_markdown":"@VGR because I could get helpful direction if someone worked on Java JCIFS https://www.jcifs.org","body":"@VGR because I could get helpful direction if someone worked on Java JCIFS <a href=\"https://www.jcifs.org\" rel=\"nofollow noreferrer\">jcifs.org</a>"}],"answers":[{"tags":[],"owner":{"account_id":2348027,"reputation":1439,"user_id":3419770,"display_name":"Tal Aloni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675861216,"creation_date":1675861216,"answer_id":75386183,"question_id":75384777,"body_markdown":"1. No, System.IO does not contain an SMB 1.0 or SMB 2.0 client.\r\n2. In order to move file from one share to another, the client must read the content of the file from the source share, and then write its content to the second share. it must be copied in this manner (and then deleted from the source).","title":"Does System.IO.File encapsulates SMB1.0/SMB2.0?","body":"<ol>\n<li>No, System.IO does not contain an SMB 1.0 or SMB 2.0 client.</li>\n<li>In order to move file from one share to another, the client must read the content of the file from the source share, and then write its content to the second share. it must be copied in this manner (and then deleted from the source).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14128035,"reputation":163,"user_id":10206700,"display_name":"Syed Rafey Husain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675933747,"creation_date":1675933747,"answer_id":75396375,"question_id":75384777,"body_markdown":"I found **EzSmb** &lt;https://github.com/ume05rw/EzSmb&gt; library with which you could move files within same SMB share using the following code:\r\n\r\n```csharp\r\n// ** SMB1 NOT Supported. **\r\n\r\n//using EzSmb;\r\n//using System;\r\n//using System.Threading.Tasks;\r\n\r\n// Get Node of file.\r\nvar file = await Node.GetNode(@&quot;192.168.0.1\\ShareName\\FileName.txt&quot;, &quot;userName&quot;, &quot;password&quot;);\r\n\r\n// Move to child folder path.\r\n// ** Even if you don&#39;t change the file/folder name, write the name. **\r\nvar movedFile = await file.Move(@&quot;FolderName\\RenamedFileName.txt&quot;);\r\n\r\nConsole.WriteLine(movedFile.FullPath);\r\n// -&gt; 192.168.0.1\\ShareName\\FolderName\\RenamedFileName.txt\r\n\r\n\r\n// Get Node of folder.\r\nvar folder = await Node.GetNode(@&quot;192.168.0.1\\ShareName\\FolderName\\SubFolderName&quot;, &quot;userName&quot;, &quot;password&quot;);\r\n\r\n// Move to Parent path.\r\nvar movedFolder = await folder.Move(@&quot;..\\RenamedSubFolderName&quot;);\r\n\r\nConsole.WriteLine(movedFolder.FullPath);\r\n// -&gt; 192.168.0.1\\ShareName\\RenamedSubFolderName\r\n```","title":"Does System.IO.File encapsulates SMB1.0/SMB2.0?","body":"<p>I found <strong>EzSmb</strong> <a href=\"https://github.com/ume05rw/EzSmb\" rel=\"nofollow noreferrer\">https://github.com/ume05rw/EzSmb</a> library with which you could move files within same SMB share using the following code:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>// ** SMB1 NOT Supported. **\n\n//using EzSmb;\n//using System;\n//using System.Threading.Tasks;\n\n// Get Node of file.\nvar file = await Node.GetNode(@&quot;192.168.0.1\\ShareName\\FileName.txt&quot;, &quot;userName&quot;, &quot;password&quot;);\n\n// Move to child folder path.\n// ** Even if you don't change the file/folder name, write the name. **\nvar movedFile = await file.Move(@&quot;FolderName\\RenamedFileName.txt&quot;);\n\nConsole.WriteLine(movedFile.FullPath);\n// -&gt; 192.168.0.1\\ShareName\\FolderName\\RenamedFileName.txt\n\n\n// Get Node of folder.\nvar folder = await Node.GetNode(@&quot;192.168.0.1\\ShareName\\FolderName\\SubFolderName&quot;, &quot;userName&quot;, &quot;password&quot;);\n\n// Move to Parent path.\nvar movedFolder = await folder.Move(@&quot;..\\RenamedSubFolderName&quot;);\n\nConsole.WriteLine(movedFolder.FullPath);\n// -&gt; 192.168.0.1\\ShareName\\RenamedSubFolderName\n</code></pre>\n"}],"owner":{"account_id":14128035,"reputation":163,"user_id":10206700,"display_name":"Syed Rafey Husain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75386183,"answer_count":2,"score":0,"last_activity_date":1675933747,"creation_date":1675853887,"question_id":75384777,"body_markdown":"I am new to SMB1.0/SMB2.0 and am trying to create a C# class library to encapsulate basic File/Directory operations like Copy, ReadAllText, Delete, etc., using &lt;https://github.com/TalAloni/SMBLibrary&gt;.\r\n\r\nMy questions are:\r\n\r\n1. Is System.IO.File already encapsulate SMB1.0/SMB2.0 protocol, and do I not need to use 3rd party SMBLibrary?\r\n\r\n2. I have written the following code to Move a file from one SMB share to another SMB share, but it only renames and does not Move the file from a source location to the target location. How can I do that?\r\n\r\n```chsarp\r\n  public bool Move(string sourceFilePath, string targetFilePath)\r\n        {\r\n            if (!CheckLoggedIn())\r\n            {\r\n                return false;\r\n            }\r\n\r\n            object fileHandle = null;\r\n            _status = _store.CreateFile(out fileHandle,\r\n                                       out FileStatus _,\r\n                                       sourceFilePath,\r\n                                       AccessMask.GENERIC_ALL | AccessMask.SYNCHRONIZE,\r\n                                       FileAttributes.Normal,\r\n                                       ShareAccess.Write,\r\n                                       CreateDisposition.FILE_OPEN,\r\n                                       CreateOptions.FILE_NON_DIRECTORY_FILE | CreateOptions.FILE_SYNCHRONOUS_IO_ALERT,\r\n                                       null);\r\n\r\n            if (_status == NTStatus.STATUS_SUCCESS)\r\n            {\r\n                _status = _store.SetFileInformation(fileHandle, new FileRenameInformationType2()\r\n                {\r\n                    FileName = targetFilePath\r\n                });\r\n\r\n                _status = _store.CloseFile(fileHandle);\r\n            }\r\n\r\n            return _status == NTStatus.STATUS_SUCCESS;\r\n        }\r\n```","title":"Does System.IO.File encapsulates SMB1.0/SMB2.0?","body":"<p>I am new to SMB1.0/SMB2.0 and am trying to create a C# class library to encapsulate basic File/Directory operations like Copy, ReadAllText, Delete, etc., using <a href=\"https://github.com/TalAloni/SMBLibrary\" rel=\"nofollow noreferrer\">https://github.com/TalAloni/SMBLibrary</a>.</p>\n<p>My questions are:</p>\n<ol>\n<li><p>Is System.IO.File already encapsulate SMB1.0/SMB2.0 protocol, and do I not need to use 3rd party SMBLibrary?</p>\n</li>\n<li><p>I have written the following code to Move a file from one SMB share to another SMB share, but it only renames and does not Move the file from a source location to the target location. How can I do that?</p>\n</li>\n</ol>\n<pre><code>  public bool Move(string sourceFilePath, string targetFilePath)\n        {\n            if (!CheckLoggedIn())\n            {\n                return false;\n            }\n\n            object fileHandle = null;\n            _status = _store.CreateFile(out fileHandle,\n                                       out FileStatus _,\n                                       sourceFilePath,\n                                       AccessMask.GENERIC_ALL | AccessMask.SYNCHRONIZE,\n                                       FileAttributes.Normal,\n                                       ShareAccess.Write,\n                                       CreateDisposition.FILE_OPEN,\n                                       CreateOptions.FILE_NON_DIRECTORY_FILE | CreateOptions.FILE_SYNCHRONOUS_IO_ALERT,\n                                       null);\n\n            if (_status == NTStatus.STATUS_SUCCESS)\n            {\n                _status = _store.SetFileInformation(fileHandle, new FileRenameInformationType2()\n                {\n                    FileName = targetFilePath\n                });\n\n                _status = _store.CloseFile(fileHandle);\n            }\n\n            return _status == NTStatus.STATUS_SUCCESS;\n        }\n</code></pre>\n"},{"tags":["java","jackson","jackson-modules"],"owner":{"account_id":27347879,"reputation":1,"user_id":21058629,"display_name":"Kapoa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675933504,"creation_date":1675932101,"question_id":75396111,"body_markdown":"I am trying to deserialize the RequestParameters class using a custom deserializer for the source field, but apparently jackson is only taking the deserializer annotated in the Source class (`Source.Builder`) not the one i registered (`SourceDeserializer`), this is the exception i get: \r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\r\n&gt; construct instance of `Source$Builder`\r\n\r\n is there a proper way to fix this?\r\n```\r\npublic class Main {\r\n\r\n  public static void main(String[] args) throws IOException {\r\n    ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\r\n\r\n    SimpleModule simpleModule = new SimpleModule();\r\n    simpleModule.addDeserializer(new SourceDeserializer(CookiesCollection.savedTags()), Source.class);\r\n    objectMapper.registerModule(simpleModule);\r\n\r\n    RequestParameters requestParameters = objectMapper.readValue(Path.of(&quot;/files/sampleRequest.yml&quot;).toFile(), RequestParameters.class);\r\n  }\r\n  \r\n  @AutoValue\r\n  @Immutable\r\n  @JsonDeserialize(builder = RequestParameters.Builder.class)\r\n  public abstract static class RequestParameters {\r\n\r\n    public static Builder builder() {\r\n      return new AutoValue_RequestParameters.Builder();\r\n    }\r\n\r\n    @JsonProperty(&quot;rarity&quot;)\r\n    public abstract Rarity getRarity();\r\n\r\n    @JsonProperty(&quot;source&quot;)\r\n    public abstract Source getSource();\r\n\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n      @JsonCreator\r\n      public static Builder builder() {\r\n        return RequestParameters.builder();\r\n      }\r\n\r\n      @JsonProperty(&quot;rarity&quot;)\r\n      public abstract Builder setRarity(Rarity rarity);\r\n\r\n      @JsonProperty(&quot;source&quot;)\r\n      public abstract Builder setSource(Source source);\r\n\r\n      public abstract ItemSet build();\r\n    }\r\n  }\r\n\r\n  @AutoValue\r\n  @Immutable\r\n  @JsonDeserialize(builder = Source.Builder.class)\r\n  public abstract class Source {\r\n\r\n    public static Builder builder() {\r\n      return new AutoValue_Source.Builder();\r\n    }\r\n\r\n    @JsonProperty(&quot;tag&quot;)\r\n    public abstract String getTag();\r\n\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n      @JsonCreator\r\n      public static Builder builder() {\r\n        return Source.builder();\r\n      }\r\n\r\n      @JsonProperty(&quot;tag&quot;)\r\n      public abstract Builder setTag(String tag);\r\n\r\n      public abstract Source build();\r\n    }\r\n  }\r\n}\r\n```\r\n","title":"Override deserializer with fields","body":"<p>I am trying to deserialize the RequestParameters class using a custom deserializer for the source field, but apparently jackson is only taking the deserializer annotated in the Source class (<code>Source.Builder</code>) not the one i registered (<code>SourceDeserializer</code>), this is the exception i get:</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\nconstruct instance of <code>Source$Builder</code></p>\n</blockquote>\n<p>is there a proper way to fix this?</p>\n<pre><code>public class Main {\n\n  public static void main(String[] args) throws IOException {\n    ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());\n\n    SimpleModule simpleModule = new SimpleModule();\n    simpleModule.addDeserializer(new SourceDeserializer(CookiesCollection.savedTags()), Source.class);\n    objectMapper.registerModule(simpleModule);\n\n    RequestParameters requestParameters = objectMapper.readValue(Path.of(&quot;/files/sampleRequest.yml&quot;).toFile(), RequestParameters.class);\n  }\n  \n  @AutoValue\n  @Immutable\n  @JsonDeserialize(builder = RequestParameters.Builder.class)\n  public abstract static class RequestParameters {\n\n    public static Builder builder() {\n      return new AutoValue_RequestParameters.Builder();\n    }\n\n    @JsonProperty(&quot;rarity&quot;)\n    public abstract Rarity getRarity();\n\n    @JsonProperty(&quot;source&quot;)\n    public abstract Source getSource();\n\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n      @JsonCreator\n      public static Builder builder() {\n        return RequestParameters.builder();\n      }\n\n      @JsonProperty(&quot;rarity&quot;)\n      public abstract Builder setRarity(Rarity rarity);\n\n      @JsonProperty(&quot;source&quot;)\n      public abstract Builder setSource(Source source);\n\n      public abstract ItemSet build();\n    }\n  }\n\n  @AutoValue\n  @Immutable\n  @JsonDeserialize(builder = Source.Builder.class)\n  public abstract class Source {\n\n    public static Builder builder() {\n      return new AutoValue_Source.Builder();\n    }\n\n    @JsonProperty(&quot;tag&quot;)\n    public abstract String getTag();\n\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n      @JsonCreator\n      public static Builder builder() {\n        return Source.builder();\n      }\n\n      @JsonProperty(&quot;tag&quot;)\n      public abstract Builder setTag(String tag);\n\n      public abstract Source build();\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1675934310,"post_id":75396110,"comment_id":133035608,"body_markdown":"*in debug mode I see that at this point, we reach again step 3 (decode token, find user in db, update security context), but it does not perform the switch* This step should not be executed, because it changes the user back to the old one. Change your imeplemtation of  `TokenAuthenticationFilter`.","body":"<i>in debug mode I see that at this point, we reach again step 3 (decode token, find user in db, update security context), but it does not perform the switch</i> This step should not be executed, because it changes the user back to the old one. Change your imeplemtation of  <code>TokenAuthenticationFilter</code>."},{"owner":{"account_id":3344727,"reputation":2460,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"score":0,"creation_date":1675936880,"post_id":75396110,"comment_id":133036445,"body_markdown":"@dur - I know, that&#39;s why that line is under the &quot;until this point everything works fine&quot; :). How should the implementation change? I want to be able to have a stateless application and be able to have multiple instances of the app serving this kind of requests. Maybe I should generate another token with extra info and then the third party should make use of it. But that basically defeats the purpose of SwitchUserFilter and I have to re-implement it all by myself.","body":"@dur - I know, that&#39;s why that line is under the &quot;until this point everything works fine&quot; :). How should the implementation change? I want to be able to have a stateless application and be able to have multiple instances of the app serving this kind of requests. Maybe I should generate another token with extra info and then the third party should make use of it. But that basically defeats the purpose of SwitchUserFilter and I have to re-implement it all by myself."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1675952076,"post_id":75396110,"comment_id":133041283,"body_markdown":"AFAIK you can&#39;t use `SwitchUserFilter` in a stateless application. It is form based.","body":"AFAIK you can&#39;t use <code>SwitchUserFilter</code> in a stateless application. It is form based."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1675952271,"post_id":75396110,"comment_id":133041370,"body_markdown":"You would need to write your own `SwitchUserFilter` changing the default implementation: https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/switchuser/SwitchUserFilter.java. This filter needs to be applied every request and switch the user every request.","body":"You would need to write your own <code>SwitchUserFilter</code> changing the default implementation: <a href=\"https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/authentication/switchuser/SwitchUserFilter.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-security/blob/main/web/src&zwnj;&#8203;/&hellip;</a>. This filter needs to be applied every request and switch the user every request."}],"owner":{"account_id":3344727,"reputation":2460,"user_id":2810099,"accept_rate":81,"display_name":"Marius Manastireanu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675933369,"creation_date":1675932095,"question_id":75396110,"body_markdown":"I have a question in relation with the combination of SwitchUser filter and authentication.\r\n\r\nWhat I&#39;m trying to achieve is to impersonate an existing user with the help of another user with elevated rights.\r\nI was happy to find out that we can make use of the `SwitchUserFilter` provided by Spring Security, but when I tried to adapt it to my project and workflow it did not work as expected.\r\n\r\nI have the following setup:\r\n\r\n\r\n```java\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Autowired\r\n    private CustomUserDetailsService customUserDetailsService;\r\n\r\n    @Bean\r\n    public TokenAuthenticationFilter tokenAuthenticationFilter() {\r\n        return new TokenAuthenticationFilter();\r\n    }\r\n\r\n    @Bean\r\n    public SwitchUserFilter switchUserFilter() {\r\n        var filter = new SwitchUserFilter();\r\n        filter.setUserDetailsService(customUserDetailsService);\r\n        filter.setSwitchUserUrl(&quot;/impersonate&quot;);\r\n        filter.setSwitchFailureUrl(&quot;/switchUser&quot;);\r\n        filter.setTargetUrl(&quot;/user&quot;); // this is already implemented in my app (GET /user)\r\n        return filter;\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n// I&#39;ve stripped this to the bare minimum which reproduces my flow\r\n// usually I also configure authenticated access to endpoints &amp; other security related configurations\r\n        http.csrf().disable();\r\n        http.addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        http.addFilterAfter(switchUserFilter(), FilterSecurityInterceptor.class);\r\n    }\r\n```\r\nwhere\r\n```java\r\npublic class TokenAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private TokenProvider tokenProvider;\r\n\r\n    @Autowired\r\n    private CustomUserDetailsService customUserDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        try {\r\n            String jwt = getJwtFromRequest(request);\r\n\r\n            if (StringUtils.hasText(jwt) &amp;&amp; tokenProvider.validateToken(jwt)) {\r\n                Long userId = tokenProvider.getUserIdFromToken(jwt);\r\n\r\n                UserDetails userDetails = customUserDetailsService.loadUserById(userId);\r\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        } catch (Exception ex) {\r\n            log.error(&quot;Could not set user authentication in security context&quot;, ex);\r\n        }\r\n\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n\r\n}\r\n```\r\nIn the token I save the user id, and the user details service performs a findById in user&#39;s database.\r\n\r\n\r\nThe flow I perform is as follows:\r\n1. login into application (call endpoint, use authentication manager to authenticate based on username/pass, generate token and return it)\r\n2. call `/impersonate?username=anotherUser` with the Bearer token from previous step\r\n3. the application reaches `TokenAuthenticationFilter`, decodes the token, finds the user in the database and updates the security context\r\n4. after that it reaches the `SwitchUserFilter` where it performs the switch (finds user in database, creates user details and finally updates security context)\r\n\r\n---  until this point everything works fine ---\r\n\r\n5. the SwitchUser filter is configured to redirect to `GET /user`\r\n6. in debug mode I see that at this point, we reach again step 3 (decode token, find user in db, update security context), but it does not perform the switch\r\n7. application reaches `GET /user` with the updated user from previous step (original user, not the switched one)\r\n\r\nMy question is - how is this combo of authenticating users and switch user filter is supposed to work?\r\nI feel that the flow is kinda natural and normal, the redirect and subsequent requests that will be made from outside need to be authenticated based on the bearer token.\r\nHow is this supposed to work? What am I missing/doing wrong?\r\n\r\nThanks!\r\n","title":"Spring&#39;s SwitchUserFilter loses user information after redirect","body":"<p>I have a question in relation with the combination of SwitchUser filter and authentication.</p>\n<p>What I'm trying to achieve is to impersonate an existing user with the help of another user with elevated rights.\nI was happy to find out that we can make use of the <code>SwitchUserFilter</code> provided by Spring Security, but when I tried to adapt it to my project and workflow it did not work as expected.</p>\n<p>I have the following setup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private CustomUserDetailsService customUserDetailsService;\n\n    @Bean\n    public TokenAuthenticationFilter tokenAuthenticationFilter() {\n        return new TokenAuthenticationFilter();\n    }\n\n    @Bean\n    public SwitchUserFilter switchUserFilter() {\n        var filter = new SwitchUserFilter();\n        filter.setUserDetailsService(customUserDetailsService);\n        filter.setSwitchUserUrl(&quot;/impersonate&quot;);\n        filter.setSwitchFailureUrl(&quot;/switchUser&quot;);\n        filter.setTargetUrl(&quot;/user&quot;); // this is already implemented in my app (GET /user)\n        return filter;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n// I've stripped this to the bare minimum which reproduces my flow\n// usually I also configure authenticated access to endpoints &amp; other security related configurations\n        http.csrf().disable();\n        http.addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n        http.addFilterAfter(switchUserFilter(), FilterSecurityInterceptor.class);\n    }\n</code></pre>\n<p>where</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TokenAuthenticationFilter extends OncePerRequestFilter {\n\n    @Autowired\n    private TokenProvider tokenProvider;\n\n    @Autowired\n    private CustomUserDetailsService customUserDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        try {\n            String jwt = getJwtFromRequest(request);\n\n            if (StringUtils.hasText(jwt) &amp;&amp; tokenProvider.validateToken(jwt)) {\n                Long userId = tokenProvider.getUserIdFromToken(jwt);\n\n                UserDetails userDetails = customUserDetailsService.loadUserById(userId);\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception ex) {\n            log.error(&quot;Could not set user authentication in security context&quot;, ex);\n        }\n\n        filterChain.doFilter(request, response);\n    }\n\n\n}\n</code></pre>\n<p>In the token I save the user id, and the user details service performs a findById in user's database.</p>\n<p>The flow I perform is as follows:</p>\n<ol>\n<li>login into application (call endpoint, use authentication manager to authenticate based on username/pass, generate token and return it)</li>\n<li>call <code>/impersonate?username=anotherUser</code> with the Bearer token from previous step</li>\n<li>the application reaches <code>TokenAuthenticationFilter</code>, decodes the token, finds the user in the database and updates the security context</li>\n<li>after that it reaches the <code>SwitchUserFilter</code> where it performs the switch (finds user in database, creates user details and finally updates security context)</li>\n</ol>\n<p>---  until this point everything works fine ---</p>\n<ol start=\"5\">\n<li>the SwitchUser filter is configured to redirect to <code>GET /user</code></li>\n<li>in debug mode I see that at this point, we reach again step 3 (decode token, find user in db, update security context), but it does not perform the switch</li>\n<li>application reaches <code>GET /user</code> with the updated user from previous step (original user, not the switched one)</li>\n</ol>\n<p>My question is - how is this combo of authenticating users and switch user filter is supposed to work?\nI feel that the flow is kinda natural and normal, the redirect and subsequent requests that will be made from outside need to be authenticated based on the bearer token.\nHow is this supposed to work? What am I missing/doing wrong?</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","android-studio","bitmap","uri"],"comments":[{"owner":{"account_id":26487448,"reputation":206,"user_id":20125791,"display_name":"Android Newbie A"},"score":2,"creation_date":1675933792,"post_id":75396286,"comment_id":133035462,"body_markdown":"To view a `bitmap` in an `ImageView`, just call `ImageView#setImageBitmap`. There is no need to conver the image to a `Uri`. Though this is not answering your question so just treat me as an advice here.","body":"To view a <code>bitmap</code> in an <code>ImageView</code>, just call <code>ImageView#setImageBitmap</code>. There is no need to conver the image to a <code>Uri</code>. Though this is not answering your question so just treat me as an advice here."},{"owner":{"account_id":10698530,"reputation":582,"user_id":7874746,"display_name":"Abdullah Javed"},"score":1,"creation_date":1675933953,"post_id":75396286,"comment_id":133035505,"body_markdown":"https://stackoverflow.com/a/50945443/7874746","body":"<a href=\"https://stackoverflow.com/a/50945443/7874746\">stackoverflow.com/a/50945443/7874746</a>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1675935273,"post_id":75396286,"comment_id":133035930,"body_markdown":"One cannot convert an uri in a bitmap. Or a bitmap in an uri. They are quite incomparable.","body":"One cannot convert an uri in a bitmap. Or a bitmap in an uri. They are quite incomparable."},{"owner":{"account_id":10592921,"reputation":101,"user_id":7802802,"display_name":"Piyush Kumar"},"score":2,"creation_date":1675935474,"post_id":75396286,"comment_id":133036004,"body_markdown":"You can save the bitmap as file in local storage then you will get the Uri of that file.","body":"You can save the bitmap as file in local storage then you will get the Uri of that file."}],"owner":{"account_id":20307144,"reputation":853,"user_id":14895107,"display_name":"Abhimanyu Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675933272,"creation_date":1675933272,"question_id":75396286,"body_markdown":"here&#39;s the code to convert `Uri` into `Bitmap`\r\n```\r\nimageBitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), galleryImage);\r\n```\r\ni want to convert this bitmap image into uri to view it on `ImageView` :\r\n\r\n```\r\nBundle extras = data.getExtras();\r\nBitmap cameraBitmapImage = (Bitmap) extras.get(&quot;data&quot;);\r\nUri cameraImage = data.getData();\r\nimageView.setImageURI(cameraImage);\r\nisImageSelected = true;\r\nimageBitmap = cameraBitmapImage;\r\n```","title":"How do i convert this bitmap image into uri in java","body":"<p>here's the code to convert <code>Uri</code> into <code>Bitmap</code></p>\n<pre><code>imageBitmap = MediaStore.Images.Media.getBitmap(getContentResolver(), galleryImage);\n</code></pre>\n<p>i want to convert this bitmap image into uri to view it on <code>ImageView</code> :</p>\n<pre><code>Bundle extras = data.getExtras();\nBitmap cameraBitmapImage = (Bitmap) extras.get(&quot;data&quot;);\nUri cameraImage = data.getData();\nimageView.setImageURI(cameraImage);\nisImageSelected = true;\nimageBitmap = cameraBitmapImage;\n</code></pre>\n"},{"tags":["java","android","dex"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1483653705,"post_id":11223408,"comment_id":70197157,"body_markdown":"Your question has nothing to do with [tag:compiler-construction]. You aren&#39;t constructing a compiler. Don&#39;t tag indiscriminately.","body":"Your question has nothing to do with <a href=\"https://stackoverflow.com/questions/tagged/compiler-construction\">compiler-construction</a>. You aren&#39;t constructing a compiler. Don&#39;t tag indiscriminately."}],"answers":[{"tags":[],"owner":{"account_id":1601572,"reputation":3992,"user_id":1603952,"accept_rate":77,"display_name":"Marvin Emil Brach"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1340959897,"creation_date":1340805220,"answer_id":11227849,"question_id":11223408,"body_markdown":"I succeeded after taking inspiration from source of [JavaIDEdroid](http://code.google.com/p/java-ide-droid/) and realizing that I&#39;m dumb (for a time I tried to uses the compiler with the dexified framework classes on the device - which naturtally could not work).&lt;br&gt;\r\nAfter i succeeded compiling my Test.java with a copy of ADTs android-jar on sdcard I just had to load the classes with the DexClassLoader.&lt;br&gt;\r\nWhile informing myselft about how to do that I found this nice article [Custom Class Loading in Dalvik ](http://android-developers.blogspot.de/2011/07/custom-class-loading-in-dalvik.html) which inspired me at least to write this piece of code:\r\n\r\n    \tFile storage = getDir(&quot;all41&quot;, Context.MODE_PRIVATE);\r\n\r\n\r\n    \tSystem.err.println(&quot;copying the android.jar from asssets to the internal storage to make it available to the compiler&quot;);\r\n    \tBufferedInputStream bis = null;\r\n    \tOutputStream dexWriter = null;\r\n    \tint BUF_SIZE = 8 * 1024;\r\n    \ttry {\r\n    \t      bis = new BufferedInputStream(getAssets().open(&quot;android.jar&quot;));\r\n    \t      dexWriter = new BufferedOutputStream(\r\n    \t          new FileOutputStream(storage.getAbsolutePath() + &quot;/android.jar&quot;));\r\n    \t      byte[] buf = new byte[BUF_SIZE];\r\n    \t      int len;\r\n    \t      while((len = bis.read(buf, 0, BUF_SIZE)) &gt; 0) {\r\n    \t          dexWriter.write(buf, 0, len);\r\n    \t      }\r\n    \t      dexWriter.close();\r\n    \t      bis.close();\r\n    \t      \r\n    \t} catch (Exception e) {\r\n    \t\tSystem.err.println(&quot;Error while copying from assets: &quot; + e.getMessage());\r\n    \t\te.printStackTrace();\r\n    \t}\r\n\r\n    \t\r\n    \tSystem.err.println(&quot;instantiating the compiler and compiling the java file&quot;); \r\n    \torg.eclipse.jdt.internal.compiler.batch.Main ecjMain = new org.eclipse.jdt.internal.compiler.batch.Main(new PrintWriter(System.out), new PrintWriter(System.err), false/*noSystemExit*/, null);\r\n\t\tecjMain.compile(new String[] {&quot;-classpath&quot;, storage.getAbsolutePath()+&quot;/android.jar&quot;, Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/Test.java&quot;});\r\n\t\t\r\n\t\t\r\n\t\tSystem.err.println(&quot;calling DEX and dexifying the test class&quot;); \r\n\t    com.android.dx.command.Main.main(new String[] {&quot;--dex&quot;, &quot;--output=&quot; + storage.getAbsolutePath() + &quot;/Test.zip&quot;, Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/./Test.class&quot;});\r\n\t    \r\n\t    \r\n\t    System.err.println(&quot;instantiating DexClassLoader, loading class and invoking toString()&quot;);\r\n\t    DexClassLoader cl = new DexClassLoader(storage.getAbsolutePath() + &quot;/Test.zip&quot;, storage.getAbsolutePath(), null, getClassLoader());\r\n\t    try {\r\n\t    \tClass libProviderClazz = cl.loadClass(&quot;Test&quot;);\r\n\t        Object instance = libProviderClazz.newInstance();\r\n\t        System.err.println(instance.toString());\r\n\t    } catch (Exception e) {\r\n    \t\tSystem.err.println(&quot;Error while instanciating object: &quot; + e.getMessage());\r\n    \t\te.printStackTrace();\r\n\t    }\r\n\r\nThe Test.java only contains one method:\r\n\r\n\tpublic String toString() {\r\n\t\treturn &quot;Hallo Welt!&quot;;\r\n\t}\r\n\r\nTo get it running you need the jars jdt-compiler-x.x.x.jar (found in plugins directory of eclipse) and dx.jar (found in directory platform-tools/lib of Android SDK)\r\n\r\n---\r\nNot really hard ;) &lt;br&gt;And now I will find out what to change in source of JasperReports to get it work on our beloved Android devices :D","title":"How to implement a Java compiler and DEX converter into an Android app?","body":"<p>I succeeded after taking inspiration from source of <a href=\"http://code.google.com/p/java-ide-droid/\" rel=\"noreferrer\">JavaIDEdroid</a> and realizing that I'm dumb (for a time I tried to uses the compiler with the dexified framework classes on the device - which naturtally could not work).<br>\nAfter i succeeded compiling my Test.java with a copy of ADTs android-jar on sdcard I just had to load the classes with the DexClassLoader.<br>\nWhile informing myselft about how to do that I found this nice article <a href=\"http://android-developers.blogspot.de/2011/07/custom-class-loading-in-dalvik.html\" rel=\"noreferrer\">Custom Class Loading in Dalvik </a> which inspired me at least to write this piece of code:</p>\n\n<pre><code>    File storage = getDir(\"all41\", Context.MODE_PRIVATE);\n\n\n    System.err.println(\"copying the android.jar from asssets to the internal storage to make it available to the compiler\");\n    BufferedInputStream bis = null;\n    OutputStream dexWriter = null;\n    int BUF_SIZE = 8 * 1024;\n    try {\n          bis = new BufferedInputStream(getAssets().open(\"android.jar\"));\n          dexWriter = new BufferedOutputStream(\n              new FileOutputStream(storage.getAbsolutePath() + \"/android.jar\"));\n          byte[] buf = new byte[BUF_SIZE];\n          int len;\n          while((len = bis.read(buf, 0, BUF_SIZE)) &gt; 0) {\n              dexWriter.write(buf, 0, len);\n          }\n          dexWriter.close();\n          bis.close();\n\n    } catch (Exception e) {\n        System.err.println(\"Error while copying from assets: \" + e.getMessage());\n        e.printStackTrace();\n    }\n\n\n    System.err.println(\"instantiating the compiler and compiling the java file\"); \n    org.eclipse.jdt.internal.compiler.batch.Main ecjMain = new org.eclipse.jdt.internal.compiler.batch.Main(new PrintWriter(System.out), new PrintWriter(System.err), false/*noSystemExit*/, null);\n    ecjMain.compile(new String[] {\"-classpath\", storage.getAbsolutePath()+\"/android.jar\", Environment.getExternalStorageDirectory().getAbsolutePath() + \"/Test.java\"});\n\n\n    System.err.println(\"calling DEX and dexifying the test class\"); \n    com.android.dx.command.Main.main(new String[] {\"--dex\", \"--output=\" + storage.getAbsolutePath() + \"/Test.zip\", Environment.getExternalStorageDirectory().getAbsolutePath() + \"/./Test.class\"});\n\n\n    System.err.println(\"instantiating DexClassLoader, loading class and invoking toString()\");\n    DexClassLoader cl = new DexClassLoader(storage.getAbsolutePath() + \"/Test.zip\", storage.getAbsolutePath(), null, getClassLoader());\n    try {\n        Class libProviderClazz = cl.loadClass(\"Test\");\n        Object instance = libProviderClazz.newInstance();\n        System.err.println(instance.toString());\n    } catch (Exception e) {\n        System.err.println(\"Error while instanciating object: \" + e.getMessage());\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>The Test.java only contains one method:</p>\n\n<pre><code>public String toString() {\n    return \"Hallo Welt!\";\n}\n</code></pre>\n\n<p>To get it running you need the jars jdt-compiler-x.x.x.jar (found in plugins directory of eclipse) and dx.jar (found in directory platform-tools/lib of Android SDK)</p>\n\n<hr>\n\n<p>Not really hard ;) <br>And now I will find out what to change in source of JasperReports to get it work on our beloved Android devices :D</p>\n"}],"owner":{"account_id":1601572,"reputation":3992,"user_id":1603952,"accept_rate":77,"display_name":"Marvin Emil Brach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4900,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":11227849,"answer_count":1,"score":6,"last_activity_date":1675932003,"creation_date":1340790279,"question_id":11223408,"body_markdown":"While trying to find an answer to https://stackoverflow.com/q/7085943/1482507 I found out that there are two other questions to be answered therefor, which I been asked to ask as a question, not as an answer ;):\r\n\r\nMy questions are now: &quot;Is there any compiler to use directly on the device&quot; AND &quot;how to execute such without rooting the device.\r\nIf anybody could give me a hint I would really appreciate it...\r\n\r\n----\r\n\r\nI looked a little time forward on this approach, and found apps which makes it possible to create APKs directly on an Android device which is NOT rooted:&lt;br&gt;\r\n\r\n - TerminalIDE - https://play.google.com/store/apps/details?id=com.spartacusrex.spartacuside&amp;hl=de\r\n - JavaIDEdroid - http://code.google.com/p/java-ide-droid/\r\n - AIDE - https://play.google.com/store/apps/details?id=com.aide.ui&amp;hl=en\r\n\r\nLooks like they&#39;re using the compiler from eclipse and a ported dex converter. Now I&#39;m trying to figure out how to do the same.\r\n\r\nSure: get the source code and look into it. But while I&#39;m having curious problems to get a connection to the servers and trying to solve it, I follow the plea to ask this question here. Hoping both to help others with it and also getting an answer for myself ;)\r\n\r\n---\r\n\r\nI took the org.eclipse.jdt.core_3.7.3.v20120119-1537.jar from the plugin directory of my indigo and tried following code:\r\n\r\n    \t org.eclipse.jdt.internal.compiler.batch.Main ecjMain = new org.eclipse.jdt.internal.compiler.batch.Main(new PrintWriter(System.out), new PrintWriter(System.err), false/*noSystemExit*/, null, progress);\r\n    \t System.err.println(&quot;compiling...&quot;);\r\n         ecjMain.compile(new String[] {&quot;-classpath&quot;, &quot;/system/framework&quot;, storage.getAbsolutePath()+&quot;/Test.java&quot;});\r\n         ecjMain.compile(new String[] {storage.getAbsolutePath()+&quot;/Test.java&quot;});\r\n         System.err.println(&quot;compile succeeded!!!&quot;);\r\n\r\nSometimes the Exception was thrown that java.lang.Object could not be found and othertimes it stuck doing nothing while heating up my processor with 100% usage ... ...\r\n\r\nAt this time i could not figure out what is happening and why. And in cause that i have other work to do this part has to wait a little.\r\n","title":"How to implement a Java compiler and DEX converter into an Android app?","body":"<p>While trying to find an answer to <a href=\"https://stackoverflow.com/q/7085943/1482507\">Android Jasper Reporting</a> I found out that there are two other questions to be answered therefor, which I been asked to ask as a question, not as an answer ;):</p>\n\n<p>My questions are now: \"Is there any compiler to use directly on the device\" AND \"how to execute such without rooting the device.\nIf anybody could give me a hint I would really appreciate it...</p>\n\n<hr>\n\n<p>I looked a little time forward on this approach, and found apps which makes it possible to create APKs directly on an Android device which is NOT rooted:<br></p>\n\n<ul>\n<li>TerminalIDE - <a href=\"https://play.google.com/store/apps/details?id=com.spartacusrex.spartacuside&amp;hl=de\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.spartacusrex.spartacuside&amp;hl=de</a></li>\n<li>JavaIDEdroid - <a href=\"http://code.google.com/p/java-ide-droid/\" rel=\"nofollow noreferrer\">http://code.google.com/p/java-ide-droid/</a></li>\n<li>AIDE - <a href=\"https://play.google.com/store/apps/details?id=com.aide.ui&amp;hl=en\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.aide.ui&amp;hl=en</a></li>\n</ul>\n\n<p>Looks like they're using the compiler from eclipse and a ported dex converter. Now I'm trying to figure out how to do the same.</p>\n\n<p>Sure: get the source code and look into it. But while I'm having curious problems to get a connection to the servers and trying to solve it, I follow the plea to ask this question here. Hoping both to help others with it and also getting an answer for myself ;)</p>\n\n<hr>\n\n<p>I took the org.eclipse.jdt.core_3.7.3.v20120119-1537.jar from the plugin directory of my indigo and tried following code:</p>\n\n<pre><code>     org.eclipse.jdt.internal.compiler.batch.Main ecjMain = new org.eclipse.jdt.internal.compiler.batch.Main(new PrintWriter(System.out), new PrintWriter(System.err), false/*noSystemExit*/, null, progress);\n     System.err.println(\"compiling...\");\n     ecjMain.compile(new String[] {\"-classpath\", \"/system/framework\", storage.getAbsolutePath()+\"/Test.java\"});\n     ecjMain.compile(new String[] {storage.getAbsolutePath()+\"/Test.java\"});\n     System.err.println(\"compile succeeded!!!\");\n</code></pre>\n\n<p>Sometimes the Exception was thrown that java.lang.Object could not be found and othertimes it stuck doing nothing while heating up my processor with 100% usage ... ...</p>\n\n<p>At this time i could not figure out what is happening and why. And in cause that i have other work to do this part has to wait a little.</p>\n"},{"tags":["java","android","ios","flutter","react-native"],"comments":[{"owner":{"account_id":27081187,"reputation":202,"user_id":20630325,"display_name":"Sanket Patel"},"score":0,"creation_date":1675857862,"post_id":75385289,"comment_id":133017202,"body_markdown":"Suppose Your Application is `App1` and another application which is `App2` which is installed on your phone.\n\nDo you want to lunch an application `App2` from the `App1`&#39;s Button  Right ??.","body":"Suppose Your Application is <code>App1</code> and another application which is <code>App2</code> which is installed on your phone.  Do you want to lunch an application <code>App2</code> from the <code>App1</code>&#39;s Button  Right ??."},{"owner":{"account_id":21143408,"reputation":44,"user_id":15545283,"display_name":"Sethubharathi B"},"score":0,"creation_date":1675931651,"post_id":75385289,"comment_id":133034834,"body_markdown":"App1 should launch App2 and click a button in App2","body":"App1 should launch App2 and click a button in App2"}],"answers":[{"tags":[],"owner":{"account_id":8777002,"reputation":3712,"user_id":6561930,"display_name":"Ridha Rezzag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675857097,"creation_date":1675857097,"answer_id":75385416,"question_id":75385289,"body_markdown":"Icant understand exactly whats your goal but if i understood, Maybe you&#39;re  looking  for deeplinking\r\n\r\nFlutter supports deep linking on iOS, Android, and web browsers. Opening a URL displays that screen in your app.\r\nSee the documentation here \r\n    \r\n[Deep linking][1]\r\n\r\n\r\n  [1]: https://docs.flutter.dev/development/ui/navigation/deep-linking","title":"Automatically launch an app and click a button in it","body":"<p>Icant understand exactly whats your goal but if i understood, Maybe you're  looking  for deeplinking</p>\n<p>Flutter supports deep linking on iOS, Android, and web browsers. Opening a URL displays that screen in your app.\nSee the documentation here</p>\n<p><a href=\"https://docs.flutter.dev/development/ui/navigation/deep-linking\" rel=\"nofollow noreferrer\">Deep linking</a></p>\n"}],"owner":{"account_id":21143408,"reputation":44,"user_id":15545283,"display_name":"Sethubharathi B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675931747,"creation_date":1675856478,"question_id":75385289,"body_markdown":"I want to automatically launch an application and click a button in it through another application like [this][1].\r\n\r\nI know it is some Accessibility settings needed to be enables for that app. But I don&#39;t know how to code it. I would appreciate the help. Thanks in advance\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.codefish.sqedit&amp;hl=en&amp;gl=US","title":"Automatically launch an app and click a button in it","body":"<p>I want to automatically launch an application and click a button in it through another application like <a href=\"https://play.google.com/store/apps/details?id=com.codefish.sqedit&amp;hl=en&amp;gl=US\" rel=\"nofollow noreferrer\">this</a>.</p>\n<p>I know it is some Accessibility settings needed to be enables for that app. But I don't know how to code it. I would appreciate the help. Thanks in advance</p>\n"},{"tags":["java","reactjs","spring-boot","routes"],"comments":[{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":1,"creation_date":1675400489,"post_id":75331622,"comment_id":132925246,"body_markdown":"Create a separate API controller `@RestController\n@RequestMapping(&quot;/api&quot;)\nclass ApiController {...}`","body":"Create a separate API controller <code>@RestController @RequestMapping(&quot;&#47;api&quot;) class ApiController {...}</code>"},{"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"score":0,"creation_date":1675401594,"post_id":75331622,"comment_id":132925414,"body_markdown":"I have created it, and the POST APIs in that controller work fine.","body":"I have created it, and the POST APIs in that controller work fine."},{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":0,"creation_date":1675402228,"post_id":75331622,"comment_id":132925493,"body_markdown":"Then you need to add a configuration that will tune the path matching precedence. The [documentation](https://docs.spring.io/spring-framework/docs/current/reference/html/web.html) has an explanation and example. The direct link doesn&#39;t work, but it is in section 1.12.12 of the documentation.","body":"Then you need to add a configuration that will tune the path matching precedence. The <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html\" rel=\"nofollow noreferrer\">documentation</a> has an explanation and example. The direct link doesn&#39;t work, but it is in section 1.12.12 of the documentation."}],"answers":[{"tags":[],"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675409144,"creation_date":1675409144,"answer_id":75332667,"question_id":75331622,"body_markdown":"I have found a solution to this question.\r\n\r\nI&#39;ve added SwaggerController.java controller\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/docs&quot;)\r\n    public class SwaggerController {\r\n        @GetMapping\r\n        public String index() {\r\n            return &quot;redirect:/swagger-ui/index.html&quot;;\r\n        }\r\n    }\r\n\r\nThe point is to override the \r\n&quot;/**&quot; matching in the previous controller I wrote above in the question. \r\n\r\nAnd with the API endpoints (&quot;/api&quot;), I had a mistake to put GetMapping(&quot;/&quot;) for that controller so it has to write (&quot;/api/something/something/&quot;) to match [I wrote &quot;/api/something/something&quot;]. So all the problems were fixed.\r\n\r\n ","title":"How to custom Java Spring GET match all routes except &quot;/api&quot; and &quot;/swagger-ui&quot;","body":"<p>I have found a solution to this question.</p>\n<p>I've added SwaggerController.java controller</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/docs&quot;)\npublic class SwaggerController {\n    @GetMapping\n    public String index() {\n        return &quot;redirect:/swagger-ui/index.html&quot;;\n    }\n}\n</code></pre>\n<p>The point is to override the\n&quot;/**&quot; matching in the previous controller I wrote above in the question.</p>\n<p>And with the API endpoints (&quot;/api&quot;), I had a mistake to put GetMapping(&quot;/&quot;) for that controller so it has to write (&quot;/api/something/something/&quot;) to match [I wrote &quot;/api/something/something&quot;]. So all the problems were fixed.</p>\n"}],"owner":{"account_id":19257635,"reputation":100,"user_id":14074180,"display_name":"Ho Quang Lam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75332667,"answer_count":1,"score":0,"last_activity_date":1675931710,"creation_date":1675399555,"question_id":75331622,"body_markdown":"I&#39;m setting up the controller to match all routes and return the built production React. While doing that I couldn&#39;t do GET APIs from http://localhost:8080/api/ (Return the blank screen of React) when the POST method works fine. Any suggestion on how to make React match all routes except &quot;/api&quot;, please?\r\n\r\nMy Controller Code \r\n\r\n    @Controller\r\n    public class ClientForwardController {\r\n    \r\n        @GetMapping(value = &quot;/**/{path:[^\\\\.]*}&quot;)\r\n        public String forward() { \r\n            return &quot;forward:/&quot;;\r\n        }\r\n    }","title":"How to custom Java Spring GET match all routes except &quot;/api&quot; and &quot;/swagger-ui&quot;","body":"<p>I'm setting up the controller to match all routes and return the built production React. While doing that I couldn't do GET APIs from http://localhost:8080/api/ (Return the blank screen of React) when the POST method works fine. Any suggestion on how to make React match all routes except &quot;/api&quot;, please?</p>\n<p>My Controller Code</p>\n<pre><code>@Controller\npublic class ClientForwardController {\n\n    @GetMapping(value = &quot;/**/{path:[^\\\\.]*}&quot;)\n    public String forward() { \n        return &quot;forward:/&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1675895384,"post_id":75392363,"comment_id":133029024,"body_markdown":"Not an answer to your question, but Lists can only hold references (non-primitives). So this wording is redundant in your title.","body":"Not an answer to your question, but Lists can only hold references (non-primitives). So this wording is redundant in your title."}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675931371,"creation_date":1675931371,"answer_id":75395976,"question_id":75392363,"body_markdown":"You should use [`@ConfigurationProperties`][1] in this case!\r\n\r\n```java\r\n@Configuration\r\n@ConfigurationProperties(&quot;myservice.api&quot;)\r\n@Getter\r\n@Setter\r\n@Validated\r\npublic class ApiProperties {\r\n\r\n    @NestedConfigurationProperty\r\n    @NotEmpty\r\n    private List&lt;@Valid Perm&gt; perms;\r\n\r\n    @Getter\r\n    @Setter\r\n    public static class Perm {\r\n\r\n        @NotBlank\r\n        private String name;\r\n\r\n        @NotBlank\r\n        private String guid;\r\n\r\n        @NotNull\r\n        @Positive\r\n        private Integer index;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nMore resources:\r\n- [Guide to @ConfigurationProperties in Spring Boot][2] (Baeldung)\r\n- [Type-safe Configuration Properties][3] (Spring reference)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html\r\n  [2]: https://www.baeldung.com/configuration-properties-in-spring-boot\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties","title":"How to inject List of non-primitive Objects in Spring @Value","body":"<p>You should use <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/context/properties/ConfigurationProperties.html\" rel=\"nofollow noreferrer\"><code>@ConfigurationProperties</code></a> in this case!</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConfigurationProperties(&quot;myservice.api&quot;)\n@Getter\n@Setter\n@Validated\npublic class ApiProperties {\n\n    @NestedConfigurationProperty\n    @NotEmpty\n    private List&lt;@Valid Perm&gt; perms;\n\n    @Getter\n    @Setter\n    public static class Perm {\n\n        @NotBlank\n        private String name;\n\n        @NotBlank\n        private String guid;\n\n        @NotNull\n        @Positive\n        private Integer index;\n\n    }\n\n}\n</code></pre>\n<p>More resources:</p>\n<ul>\n<li><a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">Guide to @ConfigurationProperties in Spring Boot</a> (Baeldung)</li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties\" rel=\"nofollow noreferrer\">Type-safe Configuration Properties</a> (Spring reference)</li>\n</ul>\n"}],"owner":{"account_id":11614164,"reputation":83,"user_id":8507504,"display_name":"Jared"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75395976,"answer_count":1,"score":2,"last_activity_date":1675931371,"creation_date":1675895280,"question_id":75392363,"body_markdown":"Hi Spring/SpringBoot/Yaml/Java Experts, I want to inject a list of values that belong to the class `Perm` in @Value\r\n\r\nHowever, Spring fails to start my application and is throwing the error shown below:\r\n\r\n`Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;myservice.api.perms&#39; in value &quot;${myservice.api.perms}&quot;`\r\n\r\nMay I request you to help me as I am new to Spring, Spring Boot, and Yaml\r\n\r\n\r\n```\r\n# application.yaml file\r\n\r\nmyservice:\r\n  api:\r\n    perms:\r\n      -\r\n        name: xyz\r\n        guid: abc\r\n        index: 0\r\n```\r\n\r\n\r\n```\r\n// Class file that wants to read a List&lt;Perm&gt; from the application.yaml file\r\n\r\n@Slf4j\r\n@Getter\r\n@Service\r\n@Accessors(fluent = true)\r\npublic class MyService {\r\n\r\n    @Value(&quot;${myservice.api.perms}&quot;)\r\n    private List&lt;Perm&gt; perms;\r\n\r\n    public List&lt;Perm&gt; getListOfPerms() {\r\n        return perms;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public static class Perm {\r\n\r\n        @NotBlank\r\n        private String name;\r\n\r\n        @NotBlank\r\n        private String guid;\r\n\r\n        private int index;\r\n    }\r\n}\r\n```","title":"How to inject List of non-primitive Objects in Spring @Value","body":"<p>Hi Spring/SpringBoot/Yaml/Java Experts, I want to inject a list of values that belong to the class <code>Perm</code> in @Value</p>\n<p>However, Spring fails to start my application and is throwing the error shown below:</p>\n<p><code>Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'myservice.api.perms' in value &quot;${myservice.api.perms}&quot;</code></p>\n<p>May I request you to help me as I am new to Spring, Spring Boot, and Yaml</p>\n<pre><code># application.yaml file\n\nmyservice:\n  api:\n    perms:\n      -\n        name: xyz\n        guid: abc\n        index: 0\n</code></pre>\n<pre><code>// Class file that wants to read a List&lt;Perm&gt; from the application.yaml file\n\n@Slf4j\n@Getter\n@Service\n@Accessors(fluent = true)\npublic class MyService {\n\n    @Value(&quot;${myservice.api.perms}&quot;)\n    private List&lt;Perm&gt; perms;\n\n    public List&lt;Perm&gt; getListOfPerms() {\n        return perms;\n    }\n\n    @Getter\n    @Setter\n    @Builder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public static class Perm {\n\n        @NotBlank\n        private String name;\n\n        @NotBlank\n        private String guid;\n\n        private int index;\n    }\n}\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1640793515,"post_id":70521697,"comment_id":124660966,"body_markdown":"It&#39;s a warning not an error (it will only be an error starting from Java 16).","body":"It&#39;s a warning not an error (it will only be an error starting from Java 16)."},{"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"score":0,"creation_date":1640793608,"post_id":70521697,"comment_id":124661001,"body_markdown":"It is crash running the test","body":"It is crash running the test"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1640793676,"post_id":70521697,"comment_id":124661033,"body_markdown":"If there is a crash running a test, then you&#39;re probably focusing on the wrong issue, because the illegal reflective access warning doesn&#39;t cause that (it&#39;s just a warning that something is done that will be disallowed in the future). Posting a [mre] would help.","body":"If there is a crash running a test, then you&#39;re probably focusing on the wrong issue, because the illegal reflective access warning doesn&#39;t cause that (it&#39;s just a warning that something is done that will be disallowed in the future). Posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help."},{"owner":{"account_id":23776694,"reputation":31,"user_id":17790041,"display_name":"Lights_Legend_ 7276"},"score":0,"creation_date":1640870816,"post_id":70521697,"comment_id":124679466,"body_markdown":"Hi @MarkRotteveel, I belive you are correct on further inspection I ma getting a null pointer exception on each test. It stems from the init method I have. When trying to mock a method from the Authentication class as shown in my edit above. When running on java 8 I don&#39;t get this exception.","body":"Hi @MarkRotteveel, I belive you are correct on further inspection I ma getting a null pointer exception on each test. It stems from the init method I have. When trying to mock a method from the Authentication class as shown in my edit above. When running on java 8 I don&#39;t get this exception."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1640871013,"post_id":70521697,"comment_id":124679541,"body_markdown":"Without a [mre] that is impossible to answer.","body":"Without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that is impossible to answer."},{"owner":{"account_id":23776694,"reputation":31,"user_id":17790041,"display_name":"Lights_Legend_ 7276"},"score":0,"creation_date":1641216093,"post_id":70521697,"comment_id":124741941,"body_markdown":"My tests are failing before a test is even ran. It&#39;s running the init method we have coded to run before each test at the same line giving the same null pointer exception. When running the any tests in debug I can see that the Mock initializes, but still gets null pointer on mocked method call in init method.","body":"My tests are failing before a test is even ran. It&#39;s running the init method we have coded to run before each test at the same line giving the same null pointer exception. When running the any tests in debug I can see that the Mock initializes, but still gets null pointer on mocked method call in init method."}],"answers":[{"tags":[],"owner":{"account_id":18452928,"reputation":2722,"user_id":14927001,"display_name":"Dmitrii B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640874504,"creation_date":1640793644,"answer_id":70521879,"question_id":70521697,"body_markdown":"Try to add this dependency\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n    &lt;version&gt;4.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAlso, your test class has some mistakes, you didn&#39;t initialize mocks, change it:\r\n\r\n    public class SomeClassTest {\r\n    \r\n    @Mock\r\n    private Authentication authentication;\r\n    \r\n    @InjectMocks\r\n    private YourTestService yourTestService;\r\n    \r\n    @BeforeEach\r\n    void setUp(){\r\n      initMocks(this);\r\n    }\r\n    \r\n      @Test\r\n      public void init() {\r\n    \r\n      //put test code\r\n      }\r\n    }\r\n\r\n","title":"Upgrade Mockito illegal reflective access operation","body":"<p>Try to add this dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, your test class has some mistakes, you didn't initialize mocks, change it:</p>\n<pre><code>public class SomeClassTest {\n\n@Mock\nprivate Authentication authentication;\n\n@InjectMocks\nprivate YourTestService yourTestService;\n\n@BeforeEach\nvoid setUp(){\n  initMocks(this);\n}\n\n  @Test\n  public void init() {\n\n  //put test code\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":23776694,"reputation":31,"user_id":17790041,"display_name":"Lights_Legend_ 7276"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2417,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675931342,"creation_date":1640792648,"question_id":70521697,"body_markdown":"I am upgrading a library to Java 11 from Java 8. I&#39;m using Maven 3.8.x, Spring boot 2, Mockito-core 4.2.0. I am receiving the following warning message:\r\n\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.mockito.internal.util.reflection.RefelectionMemberAccessor\r\n\r\nIn doing some research I found some possible solutions, but none have seemed to work. I&#39;ve tried using `--add-opens` in arg line, upgraded Mockito from 3.8.0 to 4.2.0, upgraded Byte Buddy. \r\n\r\nNote: I&#39;m not sure if I used the `--add-opens` arg correctly. I&#39;m a bit confused as to what the `&lt;module&gt;/&lt;package&gt;=VALUE` needs to be in my case. I thought I had it correct, but it didn&#39;t help.\r\n\r\nI have other micro-services that inherit this library and use Mockito in tests as well that are working fine. In those micro-services, we overrode the java version and updated the necessary dependencies in the pom of those projects.\r\n\r\n*** this is giving me a null pointer, but not sure why. I wasn&#39;t getting a null pointer on these tests when running on java 8 ***\r\nExample of class test failing:\r\n\r\n    @RunWith(MocktioJunitRunner.class)\r\n    public class SomeClassTest {\r\n\r\n    @Mock\r\n    private Authentication authentication;\r\n\r\n      @Before\r\n      public void init() {\r\n      Mockito.when(authentication.getDetails()).thenReturn(someReturn);\r\n      }\r\n    }\r\n\r\nException:\r\n\r\n    java.lang.NullPointerException\r\n    at java.base/java.lang.reflect.Method.getParameterTypes(Method.java:311)\r\n    at org.springframework.security.core.Authentication$MockitoMock$1943314113.getDetails(UnknownSource)\r\n\r\n\r\n","title":"Upgrade Mockito illegal reflective access operation","body":"<p>I am upgrading a library to Java 11 from Java 8. I'm using Maven 3.8.x, Spring boot 2, Mockito-core 4.2.0. I am receiving the following warning message:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.mockito.internal.util.reflection.RefelectionMemberAccessor\n</code></pre>\n<p>In doing some research I found some possible solutions, but none have seemed to work. I've tried using <code>--add-opens</code> in arg line, upgraded Mockito from 3.8.0 to 4.2.0, upgraded Byte Buddy.</p>\n<p>Note: I'm not sure if I used the <code>--add-opens</code> arg correctly. I'm a bit confused as to what the <code>&lt;module&gt;/&lt;package&gt;=VALUE</code> needs to be in my case. I thought I had it correct, but it didn't help.</p>\n<p>I have other micro-services that inherit this library and use Mockito in tests as well that are working fine. In those micro-services, we overrode the java version and updated the necessary dependencies in the pom of those projects.</p>\n<p>*** this is giving me a null pointer, but not sure why. I wasn't getting a null pointer on these tests when running on java 8 ***\nExample of class test failing:</p>\n<pre><code>@RunWith(MocktioJunitRunner.class)\npublic class SomeClassTest {\n\n@Mock\nprivate Authentication authentication;\n\n  @Before\n  public void init() {\n  Mockito.when(authentication.getDetails()).thenReturn(someReturn);\n  }\n}\n</code></pre>\n<p>Exception:</p>\n<pre><code>java.lang.NullPointerException\nat java.base/java.lang.reflect.Method.getParameterTypes(Method.java:311)\nat org.springframework.security.core.Authentication$MockitoMock$1943314113.getDetails(UnknownSource)\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":15010990,"reputation":1358,"user_id":10835478,"display_name":"niceumang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583486209,"creation_date":1583486209,"answer_id":60560871,"question_id":60560662,"body_markdown":"Add below code \r\n\r\n    @override\r\n    public void onDestroy()\r\n    {\r\n        super.onDestroy();\r\n        sweetAlertDialog.dismissWithAnimation();\r\n    }","title":"Activity &lt;Activity name&gt; has leaked window DecorView@59feb10[activity] that was originally added here","body":"<p>Add below code </p>\n\n<pre><code>@override\npublic void onDestroy()\n{\n    super.onDestroy();\n    sweetAlertDialog.dismissWithAnimation();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17892564,"reputation":1,"user_id":12998742,"display_name":"Hitanshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583487957,"creation_date":1583486465,"answer_id":60560951,"question_id":60560662,"body_markdown":"Pass Activity name instead of context.\r\n\r\nlike this :\r\n\r\nnew SweetAlertDialog(YourActivity.this,SweetAlertDialog.NORMAL_TYPE).show();","title":"Activity &lt;Activity name&gt; has leaked window DecorView@59feb10[activity] that was originally added here","body":"<p>Pass Activity name instead of context.</p>\n\n<p>like this :</p>\n\n<p>new SweetAlertDialog(YourActivity.this,SweetAlertDialog.NORMAL_TYPE).show();</p>\n"}],"owner":{"account_id":16815824,"reputation":1,"user_id":12157647,"display_name":"Shoeb Sayyed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675931014,"creation_date":1583485408,"question_id":60560662,"body_markdown":"&lt;My Application has not shown a dialog box.when we pressed back button then below code  has run\r\n\r\n    @Override\r\n        public void onBackPressed() {\r\n            super.onBackPressed();\r\n            new SweetAlertDialog(context,SweetAlertDialog.NORMAL_TYPE)\r\n                    .setTitleText(&quot;Cancel Create Account?&quot;)\r\n                    .setContentText(&quot;Do yo u really want to cancel sign up? press yes to exit.&quot;)\r\n                    .setConfirmText(&quot;Yes&quot;)\r\n                    .setCancelText(&quot;No&quot;)\r\n                    .setConfirmClickListener(new SweetAlertDialog.OnSweetClickListener() {\r\n                        @Override\r\n                        public void onClick(SweetAlertDialog sweetAlertDialog) {\r\n                            sweetAlertDialog.dismissWithAnimation();\r\n                            RegisterMerDetailsActivity.this.finish();\r\n                        }\r\n                    })\r\n                    .show();\r\n        }\r\n\r\nshow method pointed to the leaked window error.I am still trying why this happening. but still, get same error.","title":"Activity &lt;Activity name&gt; has leaked window DecorView@59feb10[activity] that was originally added here","body":"<p>\n\n<pre><code>@Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        new SweetAlertDialog(context,SweetAlertDialog.NORMAL_TYPE)\n                .setTitleText(\"Cancel Create Account?\")\n                .setContentText(\"Do yo u really want to cancel sign up? press yes to exit.\")\n                .setConfirmText(\"Yes\")\n                .setCancelText(\"No\")\n                .setConfirmClickListener(new SweetAlertDialog.OnSweetClickListener() {\n                    @Override\n                    public void onClick(SweetAlertDialog sweetAlertDialog) {\n                        sweetAlertDialog.dismissWithAnimation();\n                        RegisterMerDetailsActivity.this.finish();\n                    }\n                })\n                .show();\n    }\n</code></pre>\n\n<p>show method pointed to the leaked window error.I am still trying why this happening. but still, get same error.</p>\n"},{"tags":["java","proguard","jlink","module-info"],"owner":{"account_id":450787,"reputation":1364,"user_id":846300,"accept_rate":50,"display_name":"Lukas Hanacek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675930682,"creation_date":1675930682,"question_id":75395869,"body_markdown":"Proguard does remove module-info in default.\r\n\r\n```keep &#39;class module-info&#39;```\r\n\r\nForce proguard to keep the module-info class but it does not update the references inside to the obfuscated names, therefore jlink fails with \r\n```&quot;Package x.y.z not found in module&quot;```\r\n\r\nIs there a way how to keep module-info but let proguard update it so that it corresponds to the obfuscated package names ?","title":"proguard module-info and jlink","body":"<p>Proguard does remove module-info in default.</p>\n<p><code>keep 'class module-info'</code></p>\n<p>Force proguard to keep the module-info class but it does not update the references inside to the obfuscated names, therefore jlink fails with\n<code>&quot;Package x.y.z not found in module&quot;</code></p>\n<p>Is there a way how to keep module-info but let proguard update it so that it corresponds to the obfuscated package names ?</p>\n"},{"tags":["java","maven","spring-restcontroller","spring-rest"],"comments":[{"owner":{"account_id":2127970,"reputation":2483,"user_id":1889574,"accept_rate":67,"display_name":"Nikhil Sahu"},"score":0,"creation_date":1467741123,"post_id":33887618,"comment_id":63843288,"body_markdown":"did u resolve this issue? If yes can u post the solution so that it may help others.","body":"did u resolve this issue? If yes can u post the solution so that it may help others."}],"answers":[{"tags":[],"owner":{"account_id":2449464,"reputation":2268,"user_id":2136086,"display_name":"asg"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1448349932,"creation_date":1448349932,"answer_id":33887669,"question_id":33887618,"body_markdown":"First thing is your request mapping should be - \r\n@RequestMapping(&quot;/sample&quot;) and not\r\n@RequestMapping(&quot;sample&quot;)","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>First thing is your request mapping should be - \n@RequestMapping(\"/sample\") and not\n@RequestMapping(\"sample\")</p>\n"},{"tags":[],"owner":{"account_id":137166,"reputation":1740,"user_id":341170,"display_name":"Mohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448356297,"creation_date":1448356297,"answer_id":33889525,"question_id":33887618,"body_markdown":"Your servlet URL mapping is incorrect. It should be /* instead of /.\r\n\r\nTake a look at this SO question for difference.\r\nhttps://stackoverflow.com/questions/4140448/difference-between-and-in-servlet-mapping-url-pattern","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>Your servlet URL mapping is incorrect. It should be /* instead of /.</p>\n\n<p>Take a look at this SO question for difference.\n<a href=\"https://stackoverflow.com/questions/4140448/difference-between-and-in-servlet-mapping-url-pattern\">Difference between / and /* in servlet mapping url pattern</a></p>\n"},{"tags":[],"owner":{"account_id":2408554,"reputation":4086,"user_id":2104303,"accept_rate":100,"display_name":"Omkar Puttagunta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448441328,"creation_date":1448357723,"answer_id":33889977,"question_id":33887618,"body_markdown":"You have to add the `context path` in the url - `localhost:8080/&lt;context-path&gt;/sample`.\r\nTypically `Context path` would be your `war` file name if you deploy the app on `Tomcat`. If your `war` file name is `helloworld.war`, then the URL would be `localhost:8080/helloworld/sample`.\r\n\r\nIf you are using `Tomcat` configured in `Eclipse`, you can set the `context-path` in the  Modules tab.\r\n\r\nWays to Deploy your application to `Tomcat` root - \r\n\r\n1. You can do it by simply naming the `war` file as `ROOT.war`\r\n\r\n2. In `ROOT.xml` file, you have to specify this configuration `&lt;Context  docBase=&quot;pathToWarFile&quot; path=&quot;&quot; reloadable=&quot;true&quot; /&gt;` and make sure that your `war` file is not in `webapps` folder.\r\n\r\nIf you deploy the application to the tomcat root, then there is no need to specify the `context path`. You will get the homepage of your app with the url `localhost:8080/`. In your case, you can call the controller method with the url `localhost:8080/sample`.","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>You have to add the <code>context path</code> in the url - <code>localhost:8080/&lt;context-path&gt;/sample</code>.\nTypically <code>Context path</code> would be your <code>war</code> file name if you deploy the app on <code>Tomcat</code>. If your <code>war</code> file name is <code>helloworld.war</code>, then the URL would be <code>localhost:8080/helloworld/sample</code>.</p>\n\n<p>If you are using <code>Tomcat</code> configured in <code>Eclipse</code>, you can set the <code>context-path</code> in the  Modules tab.</p>\n\n<p>Ways to Deploy your application to <code>Tomcat</code> root - </p>\n\n<ol>\n<li><p>You can do it by simply naming the <code>war</code> file as <code>ROOT.war</code></p></li>\n<li><p>In <code>ROOT.xml</code> file, you have to specify this configuration <code>&lt;Context  docBase=\"pathToWarFile\" path=\"\" reloadable=\"true\" /&gt;</code> and make sure that your <code>war</code> file is not in <code>webapps</code> folder.</p></li>\n</ol>\n\n<p>If you deploy the application to the tomcat root, then there is no need to specify the <code>context path</code>. You will get the homepage of your app with the url <code>localhost:8080/</code>. In your case, you can call the controller method with the url <code>localhost:8080/sample</code>.</p>\n"},{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1482837425,"creation_date":1482837425,"answer_id":41344163,"question_id":33887618,"body_markdown":"If you have &quot;SLF4J: Defaulting to no-operation (NOP) logger implementation&quot; message:\r\n---\r\n\r\nAdd a dependency to simple-logger like this:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nOtherwise\r\n---\r\n\r\nIt needs reverse search.\r\n\r\n1. Find what message you like to see. [This article][1] gives me the hint that i need the message `No mapping found for HTTP request with`.\r\n2. Search for sources in the web [like this][2]. \r\n\r\nAnd here we have the line:\r\n\r\n    if (pageNotFoundLogger.isWarnEnabled()) {\r\n      pageNotFoundLogger.warn(&quot;No mapping found for HTTP request with URI [&quot; + getRequestUri(request) +\r\n          &quot;] in DispatcherServlet with name &#39;&quot; + getServletName() + &quot;&#39;&quot;);\r\n    }\r\n\r\n3. Finally lookup for the class and add the logging-level.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15163035\r\n  [2]: https://www.google.de/search?q=%2Ffiletype%3Ajava%20%22No%20mapping%20found%20for%20HTTP%20request%22","title":"How to debug 404 resource not found in spring mvc rest?","body":"<h2>If you have \"SLF4J: Defaulting to no-operation (NOP) logger implementation\" message:</h2>\n\n<p>Add a dependency to simple-logger like this:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.5&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<h2>Otherwise</h2>\n\n<p>It needs reverse search.</p>\n\n<ol>\n<li>Find what message you like to see. <a href=\"https://stackoverflow.com/questions/15163035\">This article</a> gives me the hint that i need the message <code>No mapping found for HTTP request with</code>.</li>\n<li>Search for sources in the web <a href=\"https://www.google.de/search?q=%2Ffiletype%3Ajava%20%22No%20mapping%20found%20for%20HTTP%20request%22\" rel=\"nofollow noreferrer\">like this</a>. </li>\n</ol>\n\n<p>And here we have the line:</p>\n\n<pre><code>if (pageNotFoundLogger.isWarnEnabled()) {\n  pageNotFoundLogger.warn(\"No mapping found for HTTP request with URI [\" + getRequestUri(request) +\n      \"] in DispatcherServlet with name '\" + getServletName() + \"'\");\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>Finally lookup for the class and add the logging-level.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4439777,"reputation":3830,"user_id":3614578,"accept_rate":55,"display_name":"gary69"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517002782,"creation_date":1517002782,"answer_id":48469943,"question_id":33887618,"body_markdown":"Make sure you&#39;re scanning the packages your controllers are in.  Otherwise spring won&#39;t create beans for your controllers and the paths they&#39;re listening for will return a 404.","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>Make sure you're scanning the packages your controllers are in.  Otherwise spring won't create beans for your controllers and the paths they're listening for will return a 404.</p>\n"},{"tags":[],"owner":{"account_id":44082,"reputation":3850,"user_id":129150,"accept_rate":48,"display_name":"isobretatel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1562955824,"creation_date":1562955824,"answer_id":57012282,"question_id":33887618,"body_markdown":"Place a breakpoint in \r\n\r\norg.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getMatchingPattern(String pattern, String lookupPath).\r\n\r\nYou will see why there is no match for your request.","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>Place a breakpoint in </p>\n\n<p>org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getMatchingPattern(String pattern, String lookupPath).</p>\n\n<p>You will see why there is no match for your request.</p>\n"},{"tags":[],"owner":{"account_id":4458992,"reputation":1216,"user_id":3628421,"accept_rate":67,"display_name":"JRA_TLL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675930499,"creation_date":1675930499,"answer_id":75395849,"question_id":33887618,"body_markdown":"You will find the error the easiest way by increasing logging. Add to your application.properties or application-default.properties a line\r\n\r\n    logging.level.org.springframework.web.servlet.DispatcherServlet=DEBUG","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>You will find the error the easiest way by increasing logging. Add to your application.properties or application-default.properties a line</p>\n<pre><code>logging.level.org.springframework.web.servlet.DispatcherServlet=DEBUG\n</code></pre>\n"}],"owner":{"account_id":2029198,"reputation":553,"user_id":1813415,"accept_rate":25,"display_name":"diwakarb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17657,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":7,"score":10,"last_activity_date":1675930499,"creation_date":1448349743,"question_id":33887618,"body_markdown":"I have a sample spring rest mvc application which has the following java code:\r\n\r\nSampleController.java\r\n\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.util.StringUtils;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;sample&quot;)\r\n    public class SampleController {\r\n            @RequestMapping(method = RequestMethod.GET, produces = &quot;application/json&quot;)\r\n            @ResponseBody\r\n            public String getBatches()//@RequestParam(name = &quot;name&quot;, required = true) String name)\r\n            {\r\n                    return &quot;Hello &quot;;\r\n            }\r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;ved&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;platform&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;platform Maven Webapp&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;spring.version&gt;4.2.1.RELEASE&lt;/spring.version&gt;\r\n    \t\t&lt;jackson.version&gt;2.6.2&lt;/jackson.version&gt;\r\n    \t\t&lt;spring-boot.version&gt;1.2.6.RELEASE&lt;/spring-boot.version&gt;\r\n    \t\t&lt;filter.name&gt;DEV&lt;/filter.name&gt;\r\n    \t\t&lt;jersey.version&gt;1.9&lt;/jersey.version&gt;\r\n    \t\t&lt;base.directory&gt;${basedir}&lt;/base.directory&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;local&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;property&gt;\r\n    \t\t\t\t\t&lt;name&gt;env&lt;/name&gt;\r\n    \t\t\t\t\t&lt;value&gt;local&lt;/value&gt;\r\n    \t\t\t\t&lt;/property&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;filter.name&gt;DEV&lt;/filter.name&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;qa&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;property&gt;\r\n    \t\t\t\t\t&lt;name&gt;env&lt;/name&gt;\r\n    \t\t\t\t\t&lt;value&gt;qa&lt;/value&gt;\r\n    \t\t\t\t&lt;/property&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;filter.name&gt;QA&lt;/filter.name&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;property&gt;\r\n    \t\t\t\t\t&lt;name&gt;env&lt;/name&gt;\r\n    \t\t\t\t\t&lt;value&gt;prod&lt;/value&gt;\r\n    \t\t\t\t&lt;/property&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;filter.name&gt;PROD&lt;/filter.name&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8.0.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jersey.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;!-- &lt;filters&gt; &lt;filter&gt;${basedir}/src/main/resources/ENV-${filter.name}/application.properties&lt;/filter&gt; \r\n    \t\t\t&lt;/filters&gt; --&gt;\r\n    \t\t&lt;finalName&gt;platform&lt;/finalName&gt;\r\n    \r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t&lt;debug&gt;true&lt;/debug&gt;\r\n    \t\t\t\t\t&lt;debuglevel&gt;source,lines&lt;/debuglevel&gt;\r\n    \t\t\t\t\t&lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n    \t\t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;systemPropertyVariables&gt;\r\n    \t\t\t\t\t\t&lt;environment&gt;prod&lt;/environment&gt;\r\n    \t\t\t\t\t&lt;/systemPropertyVariables&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.google.code.maven-svn-revision-number-plugin&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-svn-revision-number-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;revision&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;entries&gt;\r\n    \t\t\t\t\t\t&lt;entry&gt;\r\n    \t\t\t\t\t\t\t&lt;prefix&gt;svn&lt;/prefix&gt;\r\n    \t\t\t\t\t\t&lt;/entry&gt;\r\n    \t\t\t\t\t&lt;/entries&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;generate-timestamp&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;create-timestamp&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;format&gt;{0,date,yyyy-MM-dd HH:mm}&lt;/format&gt;\r\n    \t\t\t\t\t&lt;items&gt;\r\n    \t\t\t\t\t\t&lt;item&gt;timestamp&lt;/item&gt;\r\n    \t\t\t\t\t&lt;/items&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nweb.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;\r\n    \tid=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n    \r\n    \t&lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n    \t\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\ndispatcher-servlet.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:util=&quot;http://www.springframework.org/schema/util&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mongo=&quot;http://www.springframework.org/schema/data/mongo&quot;\r\n    \txsi:schemaLocation=&quot;\r\n    http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans-4.0.xsd\r\n    http://www.springframework.org/schema/mvc \r\n    http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context-4.0.xsd\r\n    http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd\r\n    http://www.springframework.org/schema/data/mongo\r\n    http://www.springframework.org/schema/data/mongo/spring-mongo-1.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;!-- &lt;context:property-placeholder location=&quot;classpath:application.properties&quot; \r\n    \t\t/&gt; --&gt;\r\n    \r\n    \t&lt;context:annotation-config /&gt;\r\n    \t&lt;context:component-scan base-package=&quot;com.ved.platform&quot; /&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;jacksonMessageConverter&quot;\r\n    \t\tclass=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot; /&gt;\r\n    \r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt;\r\n    \t\t&lt;property name=&quot;messageConverters&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;ref bean=&quot;jacksonMessageConverter&quot; /&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot;&gt;\r\n    \t\t\t&lt;value&gt;/WEB-INF/views/&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot;&gt;\r\n    \t\t\t&lt;value&gt;.jsp&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- &lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter&quot;&gt; \r\n    \t\t&lt;property name=&quot;messageConverters&quot;&gt; &lt;list&gt; &lt;bean class=&quot;org.springframework.http.converter.json.MappingJacksonHttpMessageConverter&quot;&gt; \r\n    \t\t&lt;/bean&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; --&gt;\r\n    \r\n    \t&lt;mvc:resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n    \r\n    \t&lt;mvc:annotation-driven /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nhomepage is giving me the apache page, but once I try to access 127.0.0.1:8080/sample It throws me a 404 error. Logs are all silent about it. Not sure how to fix this.","title":"How to debug 404 resource not found in spring mvc rest?","body":"<p>I have a sample spring rest mvc application which has the following java code:</p>\n\n<p>SampleController.java</p>\n\n<pre><code>import org.apache.logging.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(\"sample\")\npublic class SampleController {\n        @RequestMapping(method = RequestMethod.GET, produces = \"application/json\")\n        @ResponseBody\n        public String getBatches()//@RequestParam(name = \"name\", required = true) String name)\n        {\n                return \"Hello \";\n        }\n}\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ved&lt;/groupId&gt;\n    &lt;artifactId&gt;platform&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;platform Maven Webapp&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;spring.version&gt;4.2.1.RELEASE&lt;/spring.version&gt;\n        &lt;jackson.version&gt;2.6.2&lt;/jackson.version&gt;\n        &lt;spring-boot.version&gt;1.2.6.RELEASE&lt;/spring-boot.version&gt;\n        &lt;filter.name&gt;DEV&lt;/filter.name&gt;\n        &lt;jersey.version&gt;1.9&lt;/jersey.version&gt;\n        &lt;base.directory&gt;${basedir}&lt;/base.directory&gt;\n    &lt;/properties&gt;\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;local&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;env&lt;/name&gt;\n                    &lt;value&gt;local&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;filter.name&gt;DEV&lt;/filter.name&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;qa&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;env&lt;/name&gt;\n                    &lt;value&gt;qa&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;filter.name&gt;QA&lt;/filter.name&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;property&gt;\n                    &lt;name&gt;env&lt;/name&gt;\n                    &lt;value&gt;prod&lt;/value&gt;\n                &lt;/property&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;filter.name&gt;PROD&lt;/filter.name&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-core&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;!-- &lt;filters&gt; &lt;filter&gt;${basedir}/src/main/resources/ENV-${filter.name}/application.properties&lt;/filter&gt; \n            &lt;/filters&gt; --&gt;\n        &lt;finalName&gt;platform&lt;/finalName&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;debug&gt;true&lt;/debug&gt;\n                    &lt;debuglevel&gt;source,lines&lt;/debuglevel&gt;\n                    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n                    &lt;archive&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;environment&gt;prod&lt;/environment&gt;\n                    &lt;/systemPropertyVariables&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.google.code.maven-svn-revision-number-plugin&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-svn-revision-number-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.7&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;revision&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;entries&gt;\n                        &lt;entry&gt;\n                            &lt;prefix&gt;svn&lt;/prefix&gt;\n                        &lt;/entry&gt;\n                    &lt;/entries&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-timestamp&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;create-timestamp&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;format&gt;{0,date,yyyy-MM-dd HH:mm}&lt;/format&gt;\n                    &lt;items&gt;\n                        &lt;item&gt;timestamp&lt;/item&gt;\n                    &lt;/items&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    id=\"WebApp_ID\" version=\"3.0\"&gt;\n\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>dispatcher-servlet.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\" xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:util=\"http://www.springframework.org/schema/util\" xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:mongo=\"http://www.springframework.org/schema/data/mongo\"\n    xsi:schemaLocation=\"\nhttp://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans-4.0.xsd\nhttp://www.springframework.org/schema/mvc \nhttp://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context-4.0.xsd\nhttp://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-3.0.xsd\nhttp://www.springframework.org/schema/data/mongo\nhttp://www.springframework.org/schema/data/mongo/spring-mongo-1.0.xsd\"&gt;\n\n    &lt;!-- &lt;context:property-placeholder location=\"classpath:application.properties\" \n        /&gt; --&gt;\n\n    &lt;context:annotation-config /&gt;\n    &lt;context:component-scan base-package=\"com.ved.platform\" /&gt;\n\n    &lt;bean id=\"jacksonMessageConverter\"\n        class=\"org.springframework.http.converter.json.MappingJackson2HttpMessageConverter\" /&gt;\n\n    &lt;bean\n        class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt;\n        &lt;property name=\"messageConverters\"&gt;\n            &lt;list&gt;\n                &lt;ref bean=\"jacksonMessageConverter\" /&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;bean\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property name=\"prefix\"&gt;\n            &lt;value&gt;/WEB-INF/views/&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"suffix\"&gt;\n            &lt;value&gt;.jsp&lt;/value&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- &lt;bean class=\"org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter\"&gt; \n        &lt;property name=\"messageConverters\"&gt; &lt;list&gt; &lt;bean class=\"org.springframework.http.converter.json.MappingJacksonHttpMessageConverter\"&gt; \n        &lt;/bean&gt; &lt;/list&gt; &lt;/property&gt; &lt;/bean&gt; --&gt;\n\n    &lt;mvc:resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n\n    &lt;mvc:annotation-driven /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>homepage is giving me the apache page, but once I try to access 127.0.0.1:8080/sample It throws me a 404 error. Logs are all silent about it. Not sure how to fix this.</p>\n"},{"tags":["java","performance","kotlin","project"],"owner":{"account_id":25842688,"reputation":1,"user_id":19578007,"display_name":"zeinakhadem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675930220,"answer_count":0,"score":0,"last_activity_date":1675930120,"creation_date":1675929935,"question_id":75395770,"body_markdown":"My project is about a simple &quot;book&quot; library in java and I need to do this &quot;check in check out&quot; class\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.Properties.getProperty(String)&quot; because the return value of &quot;org.jdatepicker.impl.JDatePanelImpl.access$500(org.jdatepicker.impl.JDatePanelImpl)&quot; is null\r\n    \tat org.jdatepicker.impl.JDatePanelImpl$InternalView.getPreviousMonthButton(JDatePanelImpl.java:517)\r\n    \tat org.jdatepicker.impl.JDatePanelImpl$InternalView.getPreviousButtonPanel(JDatePanelImpl.java:442)\r\n    \tat org.jdatepicker.impl.JDatePanelImpl$InternalView.getNorthPanel(JDatePanelImpl.java:251)\r\n    \tat org.jdatepicker.impl.JDatePanelImpl$InternalView.initialise(JDatePanelImpl.java:234)\r\n    \tat org.jdatepicker.impl.JDatePanelImpl$InternalView.&lt;init&gt;(JDatePanelImpl.java:222)\r\n    \tat org.jdatepicker.impl.JDatePanelImpl.&lt;init&gt;(JDatePanelImpl.java:110)\r\n    \tat CheckInCheckOut.main(CheckInCheckOut.java:22)\r\n\r\nI really don&#39;t know what to do , please help","title":"I dont understand this problem and i need to do this for my project,","body":"<p>My project is about a simple &quot;book&quot; library in java and I need to do this &quot;check in check out&quot; class</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;java.util.Properties.getProperty(String)&quot; because the return value of &quot;org.jdatepicker.impl.JDatePanelImpl.access$500(org.jdatepicker.impl.JDatePanelImpl)&quot; is null\n    at org.jdatepicker.impl.JDatePanelImpl$InternalView.getPreviousMonthButton(JDatePanelImpl.java:517)\n    at org.jdatepicker.impl.JDatePanelImpl$InternalView.getPreviousButtonPanel(JDatePanelImpl.java:442)\n    at org.jdatepicker.impl.JDatePanelImpl$InternalView.getNorthPanel(JDatePanelImpl.java:251)\n    at org.jdatepicker.impl.JDatePanelImpl$InternalView.initialise(JDatePanelImpl.java:234)\n    at org.jdatepicker.impl.JDatePanelImpl$InternalView.&lt;init&gt;(JDatePanelImpl.java:222)\n    at org.jdatepicker.impl.JDatePanelImpl.&lt;init&gt;(JDatePanelImpl.java:110)\n    at CheckInCheckOut.main(CheckInCheckOut.java:22)\n</code></pre>\n<p>I really don't know what to do , please help</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1675924464,"post_id":75394601,"comment_id":133033190,"body_markdown":"Have you tried it without customOpenAPI bean?","body":"Have you tried it without customOpenAPI bean?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1675924636,"post_id":75394601,"comment_id":133033211,"body_markdown":"@sge I tested it but nothing changed. Can you test it for me if you don&#39;t mind?","body":"@sge I tested it but nothing changed. Can you test it for me if you don&#39;t mind?"}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675930079,"creation_date":1675930079,"answer_id":75395783,"question_id":75394601,"body_markdown":"You need to use a different dependency for Spring Boot 3:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Cannot open swagger-ui with the usage of Openapi in Spring Boot 3 (Whitelabel Error Page)","body":"<p>You need to use a different dependency for Spring Boot 3:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2077,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75395783,"answer_count":1,"score":1,"last_activity_date":1675930079,"creation_date":1675920974,"question_id":75394601,"body_markdown":"I have an issue to open swagger-ui through Openapi in Spring Boot.\r\n\r\nWhen I try to open this URL http://localhost:8080/swagger-ui.html, I get **Whitelabel Error Page** \r\n\r\nHow can I fix the issue?\r\n\r\nHere is the **dependency** defined in **pom.xml** shown below.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHere is the **openpi config class** shown below.\r\n\r\n    @Configuration\r\n    public class OpenApiConfig {\r\n    \r\n        @Bean\r\n        public OpenAPI customOpenAPI(@Value(&quot;${application-description}&quot;) String description,\r\n                                     @Value(&quot;${application-version}&quot;) String version) {\r\n            return new OpenAPI()\r\n                    .info(new Info().title(&quot;API&quot;)\r\n                            .version(version)\r\n                            .description(description)\r\n                            .license(new License().name(&quot;API Licence&quot;)));\r\n        }\r\n    }\r\n\r\nHere is the application.properties file shown below.\r\n\r\n    springdoc.swagger-ui.path=/swagger-ui.html\r\n    application-description=API Description\r\n    application-version=1.0\r\n    \r\n    logging.level.org.springframework.web=DEBUG\r\n    logging.level.io.springfox=DEBUG\r\n\r\nHere is the error shown below when I try to open this URL `http://localhost:8080/swagger-ui.html`\r\n\r\n    2023-02-09T08:36:16.593+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/swagger-ui.html&quot;, parameters={}\r\n    2023-02-09T08:36:16.594+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\r\n    2023-02-09T08:36:16.596+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\r\n    2023-02-09T08:36:16.596+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\r\n    2023-02-09T08:36:16.597+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n    2023-02-09T08:36:16.597+03:00 DEBUG 20184 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\r\n    2023-02-09T08:36:16.599+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, text/html;q=0.8]\r\n    2023-02-09T08:36:16.599+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\r\n\r\nHow can I fix the issue?\r\n\r\nHere is the repo : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/DepremApi","title":"Cannot open swagger-ui with the usage of Openapi in Spring Boot 3 (Whitelabel Error Page)","body":"<p>I have an issue to open swagger-ui through Openapi in Spring Boot.</p>\n<p>When I try to open this URL http://localhost:8080/swagger-ui.html, I get <strong>Whitelabel Error Page</strong></p>\n<p>How can I fix the issue?</p>\n<p>Here is the <strong>dependency</strong> defined in <strong>pom.xml</strong> shown below.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the <strong>openpi config class</strong> shown below.</p>\n<pre><code>@Configuration\npublic class OpenApiConfig {\n\n    @Bean\n    public OpenAPI customOpenAPI(@Value(&quot;${application-description}&quot;) String description,\n                                 @Value(&quot;${application-version}&quot;) String version) {\n        return new OpenAPI()\n                .info(new Info().title(&quot;API&quot;)\n                        .version(version)\n                        .description(description)\n                        .license(new License().name(&quot;API Licence&quot;)));\n    }\n}\n</code></pre>\n<p>Here is the application.properties file shown below.</p>\n<pre><code>springdoc.swagger-ui.path=/swagger-ui.html\napplication-description=API Description\napplication-version=1.0\n\nlogging.level.org.springframework.web=DEBUG\nlogging.level.io.springfox=DEBUG\n</code></pre>\n<p>Here is the error shown below when I try to open this URL <code>http://localhost:8080/swagger-ui.html</code></p>\n<pre><code>2023-02-09T08:36:16.593+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/swagger-ui.html&quot;, parameters={}\n2023-02-09T08:36:16.594+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]\n2023-02-09T08:36:16.596+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found\n2023-02-09T08:36:16.596+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND\n2023-02-09T08:36:16.597+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n2023-02-09T08:36:16.597+03:00 DEBUG 20184 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#errorHtml(HttpServletRequest, HttpServletResponse)\n2023-02-09T08:36:16.599+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, text/html;q=0.8]\n2023-02-09T08:36:16.599+03:00 DEBUG 20184 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from &quot;ERROR&quot; dispatch, status 404\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/DepremApi\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","selenium","appium","browserstack","selenium4"],"answers":[{"tags":[],"owner":{"account_id":4215032,"reputation":11,"user_id":3451534,"display_name":"Learning Technology"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665214740,"creation_date":1665214740,"answer_id":73995235,"question_id":73921000,"body_markdown":"Found the solution as a few configurations were required. Below are the values I have added and the test script worked on BrowserStack:\r\n\r\nFor Android App: \r\n\r\n    `DesiredCapabilities mobileApp = new DesiredCapabilities();`\r\n     mobileApp.setCapability(&quot;project&quot;, &quot;Project Name&quot;);\r\n    mobileApp.setCapability(&quot;build&quot;, &quot;You Build Name&quot;);\r\n    mobileApp.setCapability(&quot;name&quot;, &quot;Any Name you want to provide&quot;);\r\n    mobileApp.setCapability(&quot;browserstack.debug&quot;, &quot;true&quot;);\r\n    mobileApp.setCapability(&quot;app&quot;, &quot;Your application URL on BrowserStack&quot;);\r\n    mobileApp.setCapability(&quot;deviceName&quot;, &quot;Google Pixel 6&quot;);\r\n    mobileApp.setCapability(&quot;platformVersion&quot;, &quot;12.0&quot;);\r\n\r\n\r\nFor browser in mobile(Android):\r\n\r\n    MutableCapabilities androidCap = new MutableCapabilities();\r\n    HashMap&lt;String, Object&gt; androidOptions = new HashMap&lt;String, Object&gt;();\r\n    androidOptions.put(&quot;osVersion&quot;, &quot;12.0&quot;);\r\n    androidOptions.put(&quot;deviceName&quot;, &quot;Google Pixel 6&quot;);\r\n    androidOptions.put(&quot;realMobile&quot;, &quot;true&quot;);\r\n    androidOptions.put(&quot;local&quot;, &quot;false&quot;);\r\n    androidCap.setCapability(&quot;bstack:options&quot;, androidOptions);\r\n    driver = new RemoteWebDriver(new URL(&quot;Your credentials&quot;), androidCap);","title":"BrowserStack/Appium: Getting error after updating the selenium version to 4","body":"<p>Found the solution as a few configurations were required. Below are the values I have added and the test script worked on BrowserStack:</p>\n<p>For Android App:</p>\n<pre><code>`DesiredCapabilities mobileApp = new DesiredCapabilities();`\n mobileApp.setCapability(&quot;project&quot;, &quot;Project Name&quot;);\nmobileApp.setCapability(&quot;build&quot;, &quot;You Build Name&quot;);\nmobileApp.setCapability(&quot;name&quot;, &quot;Any Name you want to provide&quot;);\nmobileApp.setCapability(&quot;browserstack.debug&quot;, &quot;true&quot;);\nmobileApp.setCapability(&quot;app&quot;, &quot;Your application URL on BrowserStack&quot;);\nmobileApp.setCapability(&quot;deviceName&quot;, &quot;Google Pixel 6&quot;);\nmobileApp.setCapability(&quot;platformVersion&quot;, &quot;12.0&quot;);\n</code></pre>\n<p>For browser in mobile(Android):</p>\n<pre><code>MutableCapabilities androidCap = new MutableCapabilities();\nHashMap&lt;String, Object&gt; androidOptions = new HashMap&lt;String, Object&gt;();\nandroidOptions.put(&quot;osVersion&quot;, &quot;12.0&quot;);\nandroidOptions.put(&quot;deviceName&quot;, &quot;Google Pixel 6&quot;);\nandroidOptions.put(&quot;realMobile&quot;, &quot;true&quot;);\nandroidOptions.put(&quot;local&quot;, &quot;false&quot;);\nandroidCap.setCapability(&quot;bstack:options&quot;, androidOptions);\ndriver = new RemoteWebDriver(new URL(&quot;Your credentials&quot;), androidCap);\n</code></pre>\n"}],"owner":{"account_id":4215032,"reputation":11,"user_id":3451534,"display_name":"Learning Technology"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675929846,"creation_date":1664650703,"question_id":73921000,"body_markdown":"I am running my app automation on Browserstack and it was working fine until I upgraded the Selenium and Java client versions. Below are the upgraded versions:\r\n\r\nJava Client - 8.1.1\r\nSelenium - 4.2.2\r\n\r\n```none\r\nError: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:565)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:224)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:79)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:87)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:116)\r\n\tat com.browserstack.run_first_test.BrowserStackTestNGTest.setUp(BrowserStackTestNGTest.java:61)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)\r\n\tat org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)\r\n\tat org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:589)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:820)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1128)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:782)\r\n\tat org.testng.TestRunner.run(TestRunner.java:632)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:268)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\r\n\tat org.testng.TestNG.run(TestNG.java:1064)\r\n\tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\nCaused by: org.openqa.selenium.WebDriverException: java.lang.reflect.InvocationTargetException\r\nBuild info: version: &#39;4.5.0&#39;, revision: &#39;fe167b119a&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_172&#39;\r\nDriver info: driver.version: AndroidDriver\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:130)\r\n\tat io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:146)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:180)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\r\n\t... 32 more\r\n```","title":"BrowserStack/Appium: Getting error after updating the selenium version to 4","body":"<p>I am running my app automation on Browserstack and it was working fine until I upgraded the Selenium and Java client versions. Below are the upgraded versions:</p>\n<p>Java Client - 8.1.1\nSelenium - 4.2.2</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:565)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:224)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:79)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:87)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:116)\n    at com.browserstack.run_first_test.BrowserStackTestNGTest.setUp(BrowserStackTestNGTest.java:61)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:86)\n    at org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:514)\n    at org.testng.internal.Invoker.invokeConfigurations(Invoker.java:215)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:589)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:820)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1128)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:129)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112)\n    at org.testng.TestRunner.privateRun(TestRunner.java:782)\n    at org.testng.TestRunner.run(TestRunner.java:632)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:366)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:361)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:319)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:268)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1244)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\n    at org.testng.TestNG.run(TestNG.java:1064)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\nCaused by: org.openqa.selenium.WebDriverException: java.lang.reflect.InvocationTargetException\nBuild info: version: '4.5.0', revision: 'fe167b119a'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_172'\nDriver info: driver.version: AndroidDriver\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:130)\n    at io.appium.java_client.remote.AppiumProtocolHandshake.createSession(AppiumProtocolHandshake.java:102)\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:146)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:180)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:547)\n    ... 32 more\n</code></pre>\n"},{"tags":["java","stack","push","reverse"],"comments":[{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1602345537,"post_id":64295338,"comment_id":113693848,"body_markdown":"Why 6 should be printed as `011`?  `110` is correct","body":"Why 6 should be printed as <code>011</code>?  <code>110</code> is correct"},{"owner":{"account_id":12224999,"reputation":337,"user_id":8922935,"display_name":"Tuk Tuk"},"score":1,"creation_date":1602345620,"post_id":64295338,"comment_id":113693872,"body_markdown":"Binary value of 6 is 110. Why do want to reverse it?","body":"Binary value of 6 is 110. Why do want to reverse it?"},{"owner":{"account_id":17076755,"reputation":39,"user_id":12356214,"display_name":"Edwin Salinas"},"score":0,"creation_date":1602354115,"post_id":64295338,"comment_id":113696208,"body_markdown":"I&#39;m taking a class and the question itself might be bugged. I&#39;ll update the question with the assignment question itself.","body":"I&#39;m taking a class and the question itself might be bugged. I&#39;ll update the question with the assignment question itself."}],"answers":[{"tags":[],"owner":{"account_id":16395885,"reputation":91,"user_id":11843435,"display_name":"PineappleEater"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602345843,"creation_date":1602345509,"answer_id":64295417,"question_id":64295338,"body_markdown":"First using predefined method then a custom one.\n```\r\npublic class IntToBinary {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint decimalNumber = 10;\r\n\r\n\t\tSystem.out.println(Integer.toBinaryString(decimalNumber));\r\n\r\n\t\tSystem.out.println(convertBinary(10));\r\n\t}\r\n\r\n\tpublic static String convertBinary(int num) {\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tint binary[] = new int[40];\r\n\t\tint index = 0;\r\n\t\twhile (num &gt; 0) {\r\n\t\t\tbinary[index++] = num % 2;\r\n\t\t\tnum = num / 2;\r\n\t\t}\r\n\t\tfor (int i = index - 1; i &gt;= 0; i--) {\r\n\t\t\tsb.append(binary[i]);\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\n}\r\n```","title":"Reversing an integer in binary representation","body":"<p>First using predefined method then a custom one.</p>\n<pre><code>public class IntToBinary {\n\n    public static void main(String[] args) {\n        int decimalNumber = 10;\n\n        System.out.println(Integer.toBinaryString(decimalNumber));\n\n        System.out.println(convertBinary(10));\n    }\n\n    public static String convertBinary(int num) {\n        StringBuilder sb = new StringBuilder();\n        int binary[] = new int[40];\n        int index = 0;\n        while (num &gt; 0) {\n            binary[index++] = num % 2;\n            num = num / 2;\n        }\n        for (int i = index - 1; i &gt;= 0; i--) {\n            sb.append(binary[i]);\n        }\n        return sb.toString();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602348584,"creation_date":1602347410,"answer_id":64295741,"question_id":64295338,"body_markdown":"Your program appears to work fine for positive values.  However it does not handle negative numbers which have their own unique binary representation known as [two&#39;s complement](https://en.wikipedia.org/wiki/Two%27s_complement).  You could do something like the following to accommodate:\r\n```\r\nprivate static void binary(int userNum) {\r\n    int remainder;\r\n\r\n   //  while (userNum &lt;= 1) {\r\n   //     System.out.print(userNum);\r\n   //     return;\r\n   // }\r\n   if (userNum == 0) {\r\n          return;\r\n    }\r\n\r\n    // simply mask off the bit instead of dividing by two\r\n    remainder = userNum &amp; 1;\r\n    // and shift right thru the sign bit\r\n    binary(userNum &gt;&gt;&gt; 1);\r\n    System.out.print(remainder);    \r\n}\r\n}\r\n\r\nbinary(-6));\r\n```\r\nprints\r\n```\r\n11111111111111111111111111111010\r\n```\r\nAnd the reason these printed out in proper order is because your routine is recursive.  That is a natural behavior of printing the values stored in the stack from a recursive procedure.","title":"Reversing an integer in binary representation","body":"<p>Your program appears to work fine for positive values.  However it does not handle negative numbers which have their own unique binary representation known as <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">two's complement</a>.  You could do something like the following to accommodate:</p>\n<pre><code>private static void binary(int userNum) {\n    int remainder;\n\n   //  while (userNum &lt;= 1) {\n   //     System.out.print(userNum);\n   //     return;\n   // }\n   if (userNum == 0) {\n          return;\n    }\n\n    // simply mask off the bit instead of dividing by two\n    remainder = userNum &amp; 1;\n    // and shift right thru the sign bit\n    binary(userNum &gt;&gt;&gt; 1);\n    System.out.print(remainder);    \n}\n}\n\nbinary(-6));\n</code></pre>\n<p>prints</p>\n<pre><code>11111111111111111111111111111010\n</code></pre>\n<p>And the reason these printed out in proper order is because your routine is recursive.  That is a natural behavior of printing the values stored in the stack from a recursive procedure.</p>\n"},{"tags":[],"owner":{"account_id":22356234,"reputation":21,"user_id":16573482,"display_name":"DEC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627846469,"creation_date":1627846469,"answer_id":68613754,"question_id":64295338,"body_markdown":"Per the requirement and not taking into consideration of negative numbers\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n    public static void main(String[] args) {\r\n        int userNum;\r\n\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n        userNum = scnr.nextInt();\r\n\r\n        while(userNum &gt; 0){\r\n            System.out.print(userNum % 2);\r\n            userNum = userNum / 2;\r\n        }\r\n        System.out.print(&quot;\\n&quot;);\r\n    }\r\n}\r\n```","title":"Reversing an integer in binary representation","body":"<p>Per the requirement and not taking into consideration of negative numbers</p>\n<pre><code>import java.util.Scanner;\n\npublic class LabProgram {\n    public static void main(String[] args) {\n        int userNum;\n\n        Scanner scnr = new Scanner(System.in);\n\n        userNum = scnr.nextInt();\n\n        while(userNum &gt; 0){\n            System.out.print(userNum % 2);\n            userNum = userNum / 2;\n        }\n        System.out.print(&quot;\\n&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27717688,"reputation":1,"user_id":21159039,"display_name":"Asmita Dalwala"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675929803,"creation_date":1675698060,"answer_id":75363468,"question_id":64295338,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class Reverse_BinaryNum {\r\n\r\n        public static void main(String[] args) {\r\n            /* Type your code here. */\r\n\r\n            Scanner scnr = new Scanner(System.in);\r\n\r\n            int inputNum;\r\n\r\n            System.out.println(&quot;Enter the Digit : &quot;);\r\n            inputNum = scnr.nextInt();\r\n\r\n            System.out.println(&quot;The Reverse Binary for the given Digit is : &quot;);\r\n            while (inputNum &gt; 0) {\r\n                System.out.print(inputNum % 2);\r\n                inputNum = inputNum / 2;\r\n\r\n            }\r\n            scnr.close();\r\n        }\r\n    }","title":"Reversing an integer in binary representation","body":"<pre><code>import java.util.Scanner;\n\npublic class Reverse_BinaryNum {\n\n    public static void main(String[] args) {\n        /* Type your code here. */\n\n        Scanner scnr = new Scanner(System.in);\n\n        int inputNum;\n\n        System.out.println(&quot;Enter the Digit : &quot;);\n        inputNum = scnr.nextInt();\n\n        System.out.println(&quot;The Reverse Binary for the given Digit is : &quot;);\n        while (inputNum &gt; 0) {\n            System.out.print(inputNum % 2);\n            inputNum = inputNum / 2;\n\n        }\n        scnr.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17076755,"reputation":39,"user_id":12356214,"display_name":"Edwin Salinas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1675929803,"creation_date":1602345122,"question_id":64295338,"body_markdown":"I tried to create a code to take in a whole number in Java and output it in binary. The problem would seem that the binary is printing out backward. For instance, `6` should output as `011` but comes out as `110`.\r\n\r\n``` java\r\nimport java.util.Scanner;\r\n\r\npublic class LabProgram {\r\n  public static void main(String[] args) {\r\n\r\n    int userNum;\r\n\r\n    Scanner in =new Scanner(System. in );\r\n\r\n    userNum = in.nextInt();\r\n\r\n    binary(userNum);\r\n    System.out.print(&quot;\\n&quot;);\r\n  }\r\n\r\n  private static void binary(int userNum) {\r\n    int remainder;\r\n\r\n    while (userNum &lt;= 1) {\r\n      System.out.print(userNum);\r\n      return;\r\n    }\r\n\r\n    remainder = userNum % 2;\r\n    binary(userNum &gt;&gt; 1);\r\n    System.out.print(remainder);\r\n  }\r\n}\r\n```\r\nI tried incorporating a push stack to push the remainder into a stack that I can pull later, but couldn&#39;t quite get it to land.\r\n\r\n``` java\r\nprivate static void reverse(int userNum) {\r\n\r\n  String backwards;\r\n\r\n  while (userNum &gt;= 0) {\r\n    backwards.push(int userNum);\r\n    System.out.println(backwards);\r\n    return;\r\n  }\r\n}\r\n```\r\nIt is part of a class assignment which asks the following.\r\n\r\n&gt; Write a program that takes in a positive integer as input, and outputs a string of 1&#39;s and 0&#39;s representing the integer in binary. For an integer x, the algorithm is:\r\n\r\n    As long as x is greater than 0\r\n       Output x % 2 (remainder is either 0 or 1)\r\n       x = x / 2\r\n\r\nNote: The above algorithm outputs the 0&#39;s and 1&#39;s in reverse order.\r\n\r\nEx: If the input is:\r\n\r\n`6`\r\n\r\nthe output is:\r\n\r\n`011`\r\n\r\n`6` in binary is `110`; the algorithm outputs the bits in reverse.\r\n\r\n\r\nThese are the tests the program applies and my results.\r\n\r\nInput `6`\r\n\r\nYour output `binary is:110`\r\n\r\nExpected output `011`\r\n\r\n\r\nInput `19`\r\n\r\nYour output `10011`\r\n\r\nExpected output `11001`\r\n\r\n\r\nInput `255`\r\n\r\nYour output `11111111`\r\n\r\nExpected output `11111111`\r\n\r\nAny help or guidance in this, I would be greatly appreciative of it.","title":"Reversing an integer in binary representation","body":"<p>I tried to create a code to take in a whole number in Java and output it in binary. The problem would seem that the binary is printing out backward. For instance, <code>6</code> should output as <code>011</code> but comes out as <code>110</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class LabProgram {\n  public static void main(String[] args) {\n\n    int userNum;\n\n    Scanner in =new Scanner(System. in );\n\n    userNum = in.nextInt();\n\n    binary(userNum);\n    System.out.print(&quot;\\n&quot;);\n  }\n\n  private static void binary(int userNum) {\n    int remainder;\n\n    while (userNum &lt;= 1) {\n      System.out.print(userNum);\n      return;\n    }\n\n    remainder = userNum % 2;\n    binary(userNum &gt;&gt; 1);\n    System.out.print(remainder);\n  }\n}\n</code></pre>\n<p>I tried incorporating a push stack to push the remainder into a stack that I can pull later, but couldn't quite get it to land.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void reverse(int userNum) {\n\n  String backwards;\n\n  while (userNum &gt;= 0) {\n    backwards.push(int userNum);\n    System.out.println(backwards);\n    return;\n  }\n}\n</code></pre>\n<p>It is part of a class assignment which asks the following.</p>\n<blockquote>\n<p>Write a program that takes in a positive integer as input, and outputs a string of 1's and 0's representing the integer in binary. For an integer x, the algorithm is:</p>\n</blockquote>\n<pre><code>As long as x is greater than 0\n   Output x % 2 (remainder is either 0 or 1)\n   x = x / 2\n</code></pre>\n<p>Note: The above algorithm outputs the 0's and 1's in reverse order.</p>\n<p>Ex: If the input is:</p>\n<p><code>6</code></p>\n<p>the output is:</p>\n<p><code>011</code></p>\n<p><code>6</code> in binary is <code>110</code>; the algorithm outputs the bits in reverse.</p>\n<p>These are the tests the program applies and my results.</p>\n<p>Input <code>6</code></p>\n<p>Your output <code>binary is:110</code></p>\n<p>Expected output <code>011</code></p>\n<p>Input <code>19</code></p>\n<p>Your output <code>10011</code></p>\n<p>Expected output <code>11001</code></p>\n<p>Input <code>255</code></p>\n<p>Your output <code>11111111</code></p>\n<p>Expected output <code>11111111</code></p>\n<p>Any help or guidance in this, I would be greatly appreciative of it.</p>\n"},{"tags":["java","generics","abstract-class"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1675912383,"post_id":75393750,"comment_id":133031477,"body_markdown":"Just to confirm, those &quot;clients&quot; that you are talking about are using this through `ListClass`, and not through the interface of `GenericClass`, right? Because the clients cannot get different types of lists just from the signature `T getValue(T value);` with just one instance of `GenericClass`.","body":"Just to confirm, those &quot;clients&quot; that you are talking about are using this through <code>ListClass</code>, and not through the interface of <code>GenericClass</code>, right? Because the clients cannot get different types of lists just from the signature <code>T getValue(T value);</code> with just one instance of <code>GenericClass</code>."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1675912454,"post_id":75393750,"comment_id":133031488,"body_markdown":"You probably just cannot do this.  Sorry.","body":"You probably just cannot do this.  Sorry."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1675929451,"post_id":75393750,"comment_id":133034225,"body_markdown":"You could use `List&lt;?&gt;`, but that would limit the usefulness.","body":"You could use <code>List&lt;?&gt;</code>, but that would limit the usefulness."}],"owner":{"account_id":5873690,"reputation":603,"user_id":5948647,"display_name":"Robin Zimmerman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675929398,"creation_date":1675911531,"question_id":75393750,"body_markdown":"Let&#39;s say I have\r\n\r\n```java\r\npublic abstract class GenericClass&lt;T&gt; {\r\n  abstract T getValue(T value);\r\n}\r\n```\r\n\r\nI want to sub-class this with a class that works for any `List&lt;U&gt;`. Is it possible to implement this without having to do `@SuppressWarnings(&quot;rawtypes&quot;)` and `@SuppressWarnings(&quot;unchecked&quot;)`? For example, this works:\r\n\r\n```java\r\npublic class ListClass extends GenericClass&lt;List&gt; {\r\n  @Override\r\n  List getValue(List value) {\r\n    return value;\r\n  }\r\n}\r\n```\r\n\r\nbut I have to use `@SuppressWarnings(&quot;rawtypes&quot;)` to get ride of the compiler warnings. I want to avoid doing `ListClass&lt;U&gt; extends GenericClass&lt;List&lt;U&gt;&gt;` because my `ListClass` doesn&#39;t actually care what `U` is so client&#39;s shouldn&#39;t have to have separate instances for `ListClass&lt;Double&gt;` and `ListClass&lt;Integer&gt;` (for example).\r\n\r\nNote: my real code uses `CompletableFuture` and is obviously more complicated and I end up having to add ugly casts and `@SuppressWarnings(&quot;unchecked&quot;)` when I try to use the extension methods off of `CompletableFuture` such as `future.exceptionallyAsync((e) -&gt; handleException((Throwable) e))`.\r\n\r\nIdeally I would want something like this to work (but it doesn&#39;t recognize the method as a valid override):\r\n\r\n\r\n```java\r\npublic class ListClass extends GenericClass&lt;List&gt; {\r\n  @Override\r\n  &lt;U&gt; List&lt;U&gt; getValue(List&lt;U&gt; value) {\r\n    return value;\r\n  }\r\n}\r\n```","title":"How do I implement a generic class with a generic type parameter without specifying the value for the type","body":"<p>Let's say I have</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class GenericClass&lt;T&gt; {\n  abstract T getValue(T value);\n}\n</code></pre>\n<p>I want to sub-class this with a class that works for any <code>List&lt;U&gt;</code>. Is it possible to implement this without having to do <code>@SuppressWarnings(&quot;rawtypes&quot;)</code> and <code>@SuppressWarnings(&quot;unchecked&quot;)</code>? For example, this works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListClass extends GenericClass&lt;List&gt; {\n  @Override\n  List getValue(List value) {\n    return value;\n  }\n}\n</code></pre>\n<p>but I have to use <code>@SuppressWarnings(&quot;rawtypes&quot;)</code> to get ride of the compiler warnings. I want to avoid doing <code>ListClass&lt;U&gt; extends GenericClass&lt;List&lt;U&gt;&gt;</code> because my <code>ListClass</code> doesn't actually care what <code>U</code> is so client's shouldn't have to have separate instances for <code>ListClass&lt;Double&gt;</code> and <code>ListClass&lt;Integer&gt;</code> (for example).</p>\n<p>Note: my real code uses <code>CompletableFuture</code> and is obviously more complicated and I end up having to add ugly casts and <code>@SuppressWarnings(&quot;unchecked&quot;)</code> when I try to use the extension methods off of <code>CompletableFuture</code> such as <code>future.exceptionallyAsync((e) -&gt; handleException((Throwable) e))</code>.</p>\n<p>Ideally I would want something like this to work (but it doesn't recognize the method as a valid override):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListClass extends GenericClass&lt;List&gt; {\n  @Override\n  &lt;U&gt; List&lt;U&gt; getValue(List&lt;U&gt; value) {\n    return value;\n  }\n}\n</code></pre>\n"},{"tags":["java","java-8","timezone","datetime-parsing","datetime-conversion"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1675920881,"post_id":75394554,"comment_id":133032601,"body_markdown":"Please stop immediately to use `SimpleDateFormat`. Its a notorious troublemaker of a class and fortunately long outdated. Youve got `DateTimeFormatter` from java.time, the modern Java date and time API, which you can pass to `LocalDateTime.parse)CharSequence, DateTimeFormatter)` and parse methods of other modern classes.","body":"Please stop immediately to use <code>SimpleDateFormat</code>. Its a notorious troublemaker of a class and fortunately long outdated. Youve got <code>DateTimeFormatter</code> from java.time, the modern Java date and time API, which you can pass to <code>LocalDateTime.parse)CharSequence, DateTimeFormatter)</code> and parse methods of other modern classes."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1675922804,"post_id":75394554,"comment_id":133032901,"body_markdown":"If `dbTime` means that the date and time are coming from the SQL database, do not retrieve them as a `String` from there. Retrieve a `LocalDateTime` and save yourself from having to parse. See for example [my answer here](https://stackoverflow.com/a/54907501/5772882).","body":"If <code>dbTime</code> means that the date and time are coming from the SQL database, do not retrieve them as a <code>String</code> from there. Retrieve a <code>LocalDateTime</code> and save yourself from having to parse. See for example <a href=\"https://stackoverflow.com/a/54907501/5772882\">my answer here</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1675925682,"post_id":75394554,"comment_id":133033404,"body_markdown":"For your future questions (whether on Stack Overflow or elsewhere) I recommend that you learn [how to create a minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). I believe that the parsing error you asked about could have been demonstrated in about three lines of code, so if you can, dont post more than that.","body":"For your future questions (whether on Stack Overflow or elsewhere) I recommend that you learn <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">how to create a minimal reproducible example</a>. I believe that the parsing error you asked about could have been demonstrated in about three lines of code, so if you can, dont post more than that."}],"answers":[{"tags":[],"owner":{"account_id":27741131,"reputation":11,"user_id":21177565,"display_name":"Avanika Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675921666,"creation_date":1675921666,"answer_id":75394686,"question_id":75394554,"body_markdown":"use the &quot;HH:mm:ss&quot; format where &quot;H&quot; is 24hr format.\r\n&quot;h&quot; is 12hr format. should solve your problem","title":"Time Conversion in java from SGT to UTC not working for 12:35:42","body":"<p>use the &quot;HH:mm:ss&quot; format where &quot;H&quot; is 24hr format.\n&quot;h&quot; is 12hr format. should solve your problem</p>\n"}],"owner":{"account_id":7072552,"reputation":152,"user_id":5413688,"display_name":"Varun Yadav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1675922611,"answer_count":1,"score":-1,"last_activity_date":1675929315,"creation_date":1675920551,"question_id":75394554,"body_markdown":"Trying to convert Singapore Time to UTc and need the result in OffsetDateTime. The below code works for me for all scenerios except one for 12:35..... for 12:00 noon it is somehow giving wrong results. Should be giving 8th Feb 04:35 morning but instead giving 7th Feb 16:35 .\r\nwhat could be the way around it\r\n\r\nCode snippets as below\r\n\r\n```public OffsetDateTime parseToOffsetDateTime(String dbTime) {\r\n    if (dbTime == null) {\r\n        return null;\r\n    }\r\n    SimpleDateFormat dateTimeFormatter = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\r\n    dateTimeFormatter.setTimeZone(TimeZone.getTimeZone(ZoneId.of(&quot;Asia/Singapore&quot;)));\r\n    Instant instant = null;\r\n    try {\r\n        dateTimeFormatter.parse(dbTime);\r\n        instant = dateTimeFormatter.parse(dbTime).toInstant();\r\n    } catch (ParseException e) {\r\n        LOGGER.warn(&quot;Could not parse ({}) to valid DateTime &quot;, dbTime, e);\r\n        return null;\r\n    }\r\n    OffsetDateTime offsetDateTime = instant.atOffset(ZoneOffset.UTC);\r\n    return offsetDateTime;\r\n}\r\n\r\n@Test\r\nvoid canConvertSGTToUTC() {\r\n    String sqlDate = &quot;2023-02-08 12:35:45.0&quot;;\r\n    var result = dateParser.parseToOffsetDateTime(sqlDate);\r\n    assertEquals( &quot;2023-02-08T04:35:45Z&quot;, result.toString());\r\n}\r\n\r\n```\r\n\r\nSGT or Asia/Singapore is local system time from the servers.","title":"Time Conversion in java from SGT to UTC not working for 12:35:42","body":"<p>Trying to convert Singapore Time to UTc and need the result in OffsetDateTime. The below code works for me for all scenerios except one for 12:35..... for 12:00 noon it is somehow giving wrong results. Should be giving 8th Feb 04:35 morning but instead giving 7th Feb 16:35 .\nwhat could be the way around it</p>\n<p>Code snippets as below</p>\n<pre><code>    if (dbTime == null) {\n        return null;\n    }\n    SimpleDateFormat dateTimeFormatter = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;);\n    dateTimeFormatter.setTimeZone(TimeZone.getTimeZone(ZoneId.of(&quot;Asia/Singapore&quot;)));\n    Instant instant = null;\n    try {\n        dateTimeFormatter.parse(dbTime);\n        instant = dateTimeFormatter.parse(dbTime).toInstant();\n    } catch (ParseException e) {\n        LOGGER.warn(&quot;Could not parse ({}) to valid DateTime &quot;, dbTime, e);\n        return null;\n    }\n    OffsetDateTime offsetDateTime = instant.atOffset(ZoneOffset.UTC);\n    return offsetDateTime;\n}\n\n@Test\nvoid canConvertSGTToUTC() {\n    String sqlDate = &quot;2023-02-08 12:35:45.0&quot;;\n    var result = dateParser.parseToOffsetDateTime(sqlDate);\n    assertEquals( &quot;2023-02-08T04:35:45Z&quot;, result.toString());\n}\n\n</code></pre>\n<p>SGT or Asia/Singapore is local system time from the servers.</p>\n"},{"tags":["java","string","algorithm","recursion"],"comments":[{"owner":{"account_id":1771265,"reputation":73,"user_id":1615965,"display_name":"user1615965"},"score":1,"creation_date":1361244851,"post_id":14949372,"comment_id":20983379,"body_markdown":"What do you mean when you say balanced?","body":"What do you mean when you say balanced?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1361244941,"post_id":14949372,"comment_id":20983404,"body_markdown":"@user1615965 by looking at the algorithm, the `String` must be balanced with `(`, `[` and `{` i.e. *(4 + [ 5 * { 6 - 1 } ] )*","body":"@user1615965 by looking at the algorithm, the <code>String</code> must be balanced with <code>(</code>, <code>[</code> and <code>{</code> i.e. <i>(4 + [ 5 * { 6 - 1 } ] )</i>"},{"owner":{"account_id":1617712,"reputation":43,"user_id":1494928,"accept_rate":75,"display_name":"katrina"},"score":1,"creation_date":1361245207,"post_id":14949372,"comment_id":20983481,"body_markdown":"@djechlin When did I say I wanted anyone to code it for me? Thanks for pointing out the obvious that I am learning, I hope you feel better about yourself for trolling a noobie.","body":"@djechlin When did I say I wanted anyone to code it for me? Thanks for pointing out the obvious that I am learning, I hope you feel better about yourself for trolling a noobie."},{"owner":{"account_id":1413944,"reputation":59678,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"score":0,"creation_date":1361245358,"post_id":14949372,"comment_id":20983521,"body_markdown":"@katrina it&#39;s your responsibility to ask a precise question.  &quot;how do I do it&quot; is not acceptable and is asking us to do it for you.  This is not trolling; these are the standards anyone who posts on SO are expected to follow and they can take some time to learn.","body":"@katrina it&#39;s your responsibility to ask a precise question.  &quot;how do I do it&quot; is not acceptable and is asking us to do it for you.  This is not trolling; these are the standards anyone who posts on SO are expected to follow and they can take some time to learn."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1361245362,"post_id":14949372,"comment_id":20983522,"body_markdown":"You return true, but not false.  Odd.","body":"You return true, but not false.  Odd."}],"answers":[{"tags":[],"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361245623,"creation_date":1361245623,"answer_id":14949496,"question_id":14949372,"body_markdown":"The idea to doing it with recursion is the same principle with using a stack.  The *call stack* is your LIFO structure, and you make calls in concordance with that.\r\n\r\nTake a simple balanced String:\r\n\r\n    String bal = &quot;(This is (perfectly) balanced.)&quot;;\r\n\r\nFirst things first - let&#39;s establish our conditions.\r\n\r\n  - We don&#39;t care about anything that isn&#39;t a paren, brace, or bracket. We can disregard any character that isn&#39;t one of those three.\r\n  - If we encounter a paren, brace, or bracket, we immediately recurse and search for its match on the rest of the string.  That is, if I were starting with `bal`, I&#39;d recurse on `bal.substring(1)`.\r\n\r\nI wouldn&#39;t use a loop, since you&#39;re still traversing the entire String.  I would rather consume it instead, to reduce the amount of characters I&#39;d have to backtrack on.\r\n\r\n","title":"Check if a String is balanced","body":"<p>The idea to doing it with recursion is the same principle with using a stack.  The <em>call stack</em> is your LIFO structure, and you make calls in concordance with that.</p>\n\n<p>Take a simple balanced String:</p>\n\n<pre><code>String bal = \"(This is (perfectly) balanced.)\";\n</code></pre>\n\n<p>First things first - let's establish our conditions.</p>\n\n<ul>\n<li>We don't care about anything that isn't a paren, brace, or bracket. We can disregard any character that isn't one of those three.</li>\n<li>If we encounter a paren, brace, or bracket, we immediately recurse and search for its match on the rest of the string.  That is, if I were starting with <code>bal</code>, I'd recurse on <code>bal.substring(1)</code>.</li>\n</ul>\n\n<p>I wouldn't use a loop, since you're still traversing the entire String.  I would rather consume it instead, to reduce the amount of characters I'd have to backtrack on.</p>\n"},{"tags":[],"owner":{"account_id":458804,"reputation":2122,"user_id":858926,"accept_rate":100,"display_name":"Shivam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1361263869,"creation_date":1361246267,"answer_id":14949594,"question_id":14949372,"body_markdown":"Here is the algorithm, I just tried and it works. Idea is that on every opening bracket you expect the closing one of the same type. The function above needs to be called like this `isBalanced(&quot;([2+3])&quot;, 0, new Stack&lt;Character&gt;())`. The expecting characters are maintained using `stack`.\r\n\r\n\tpublic static boolean isBalanced(String s, int i, Stack&lt;Character&gt; expected) {\r\n\t    /* end has reached and not expecting anything then break */\r\n\t    if (i == s.length())\r\n\t        return expected.isEmpty();\r\n\r\n\t    char c = s.charAt(i);\r\n\t    /* expecting something and it is a closing type */\r\n\t    /* then it should match expecting type */\r\n\t    if (c == &#39;}&#39; || c == &#39;)&#39; || c == &#39;]&#39;) {\r\n\t    \tchar e = expected.isEmpty() ? &#39;\\0&#39; : expected.pop();\r\n\t    \tif(e != c)\r\n\t    \t\treturn false;\r\n\t    }\r\n\r\n\t    if(c == &#39;{&#39;) \r\n            expected.push(&#39;}&#39;);\r\n        else if(c == &#39;[&#39;)\r\n        \texpected.push(&#39;]&#39;);\r\n        else if(c == &#39;(&#39;)\r\n        \texpected.push(&#39;)&#39;);\r\n\r\n\t    /* call recursively with i + 1 */ \r\n\t    return isBalanced(s, i + 1, expected);\r\n\r\n\t}\r\n\r\nHere is non-stack version of code:\r\nCall is like this `isBalanced2(&quot;{[]}[()]&quot;, 0, &#39;\\0&#39;) &lt; 0 ? false : true`.\r\n\r\n    public static int isBalanced2(String s, int i, char match)\r\n\t{\r\n\t    if(i &gt;= s.length())\r\n\t        return match == &#39;\\0&#39; ? 0 : -1;\r\n\t    \r\n\t    char c;\r\n\t    int j;\r\n\t    for(j = i; j &lt; s.length(); j++)\r\n\t    {\r\n\t        c = s.charAt(j); \r\n\t        /* any of the closing type */\r\n\t        if(c == &#39;]&#39; || c == &#39;}&#39; || c == &#39;)&#39;) {\r\n\t        \treturn c == match ? j : -1;\r\n\t        }\r\n\t        \r\n\t        if(c == &#39;{&#39;) \r\n\t            j = isBalanced2(s, j + 1, &#39;}&#39;);\r\n\r\n\t        else if(c == &#39;[&#39;)\r\n\t            j = isBalanced2(s, j + 1, &#39;]&#39;);\r\n\r\n\t        else if(c == &#39;(&#39;)\r\n\t            j = isBalanced2(s, j + 1, &#39;)&#39;);\r\n\t        \r\n\t        if(j == -1)\r\n\t        \tbreak;\r\n\t    }\r\n\t    \r\n\t    return match != &#39;\\0&#39; ? -1 : j;\r\n\t}","title":"Check if a String is balanced","body":"<p>Here is the algorithm, I just tried and it works. Idea is that on every opening bracket you expect the closing one of the same type. The function above needs to be called like this <code>isBalanced(\"([2+3])\", 0, new Stack&lt;Character&gt;())</code>. The expecting characters are maintained using <code>stack</code>.</p>\n\n<pre><code>public static boolean isBalanced(String s, int i, Stack&lt;Character&gt; expected) {\n    /* end has reached and not expecting anything then break */\n    if (i == s.length())\n        return expected.isEmpty();\n\n    char c = s.charAt(i);\n    /* expecting something and it is a closing type */\n    /* then it should match expecting type */\n    if (c == '}' || c == ')' || c == ']') {\n        char e = expected.isEmpty() ? '\\0' : expected.pop();\n        if(e != c)\n            return false;\n    }\n\n    if(c == '{') \n        expected.push('}');\n    else if(c == '[')\n        expected.push(']');\n    else if(c == '(')\n        expected.push(')');\n\n    /* call recursively with i + 1 */ \n    return isBalanced(s, i + 1, expected);\n\n}\n</code></pre>\n\n<p>Here is non-stack version of code:\nCall is like this <code>isBalanced2(\"{[]}[()]\", 0, '\\0') &lt; 0 ? false : true</code>.</p>\n\n<pre><code>public static int isBalanced2(String s, int i, char match)\n{\n    if(i &gt;= s.length())\n        return match == '\\0' ? 0 : -1;\n\n    char c;\n    int j;\n    for(j = i; j &lt; s.length(); j++)\n    {\n        c = s.charAt(j); \n        /* any of the closing type */\n        if(c == ']' || c == '}' || c == ')') {\n            return c == match ? j : -1;\n        }\n\n        if(c == '{') \n            j = isBalanced2(s, j + 1, '}');\n\n        else if(c == '[')\n            j = isBalanced2(s, j + 1, ']');\n\n        else if(c == '(')\n            j = isBalanced2(s, j + 1, ')');\n\n        if(j == -1)\n            break;\n    }\n\n    return match != '\\0' ? -1 : j;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28897,"reputation":378129,"user_id":77567,"display_name":"rob mayoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361248965,"creation_date":1361248965,"answer_id":14949989,"question_id":14949372,"body_markdown":"Let&#39;s approach this formally, to increase the probability that we come up with a working solution without lots of debugging.\r\n\r\nWhat&#39;s a balanced string?  Here&#39;s a simple grammar:\r\n\r\n    BalancedString: Sequence end-of-string;\r\n\r\n    Sequence:\r\n        Fragment Sequence |\r\n        (* empty *);\r\n    \r\n    Fragment:\r\n        &#39;(&#39; Sequence &#39;)&#39; |\r\n        &#39;[&#39; Sequence &#39;]&#39; |\r\n        &#39;{&#39; Sequence &#39;}&#39; |\r\n        any-character-not-in-&#39;()[]{}&#39;;\r\n\r\nNote that this grammar produces strings like `(hello)[[good]{bye}]` that have more than one &quot;top-level&quot; group.\r\n\r\nNow let&#39;s turn that into a recursive-descent parser.  Each nonterminal (`BalancedString`, `Sequence`, and `Fragment`) becomes a function.  We&#39;ll start with the function that parses the &#39;BalancedString&#39; non-terminal:\r\n\r\n    private static bool parseBalancedString(String input, int offset) {\r\n        offset = parseSequence(input, offset);\r\n        return offset == input.length();\r\n    }\r\n\r\nNotice that this function expects `parseSequence` to return the offset at which it stopped parsing.  Let&#39;s write `parseSequence` next.  We&#39;ll use a loop instead of making it directly recursive.\r\n\r\n    private static int parseSequence(String input, int offset) {\r\n        bool parseSucceeded = true;\r\n        while (parseSucceeded) {\r\n            int newOffset = parseFragment(input, offset);\r\n            parseSucceeded = newOffset &gt; offset;\r\n            newOffset = offset;\r\n        }\r\n        return offset;\r\n    }\r\n\r\nNotice that `parseSequence` expects `parseFragment` to return the offset at which it stopped parsing, and it should return the offset it was passed if it fails.  Now we&#39;ll write `parseFragment`.  We&#39;ll extract the common code from its three similar productions into a helper function.\r\n\r\n    private static int parseFragment(String input, int offset) {\r\n        if (offset &gt;= input.length()) {\r\n            return offset;\r\n        }\r\n\r\n        switch (input.charAt(offset)) {\r\n            case &#39;(&#39;: return helpParseFragment(input, offset, &#39;)&#39;);\r\n            case &#39;[&#39;: return helpParseFragment(input, offset, &#39;]&#39;);\r\n            case &#39;{&#39;: return helpParseFragment(input, offset, &#39;}&#39;);\r\n            default: return offset + 1;\r\n        }\r\n    }\r\n\r\nThe helper function expects to receive the offset of the opener, so that it can return that offset if it fails.  If it succeeds, it returns the offset just past the closer.\r\n\r\n    private static int helpParseFragment(String input, int offset, char closer) {\r\n        int newOffset = parseSequence(input, offset + 1);\r\n        if (newOffset &gt; offset &amp;&amp; newOffset &lt; input.length() &amp;&amp; input.charAt(newOffset) == closer) {\r\n            return newOffset + 1;\r\n        } else {\r\n            return offset;\r\n        }\r\n    }\r\n","title":"Check if a String is balanced","body":"<p>Let's approach this formally, to increase the probability that we come up with a working solution without lots of debugging.</p>\n\n<p>What's a balanced string?  Here's a simple grammar:</p>\n\n<pre><code>BalancedString: Sequence end-of-string;\n\nSequence:\n    Fragment Sequence |\n    (* empty *);\n\nFragment:\n    '(' Sequence ')' |\n    '[' Sequence ']' |\n    '{' Sequence '}' |\n    any-character-not-in-'()[]{}';\n</code></pre>\n\n<p>Note that this grammar produces strings like <code>(hello)[[good]{bye}]</code> that have more than one \"top-level\" group.</p>\n\n<p>Now let's turn that into a recursive-descent parser.  Each nonterminal (<code>BalancedString</code>, <code>Sequence</code>, and <code>Fragment</code>) becomes a function.  We'll start with the function that parses the 'BalancedString' non-terminal:</p>\n\n<pre><code>private static bool parseBalancedString(String input, int offset) {\n    offset = parseSequence(input, offset);\n    return offset == input.length();\n}\n</code></pre>\n\n<p>Notice that this function expects <code>parseSequence</code> to return the offset at which it stopped parsing.  Let's write <code>parseSequence</code> next.  We'll use a loop instead of making it directly recursive.</p>\n\n<pre><code>private static int parseSequence(String input, int offset) {\n    bool parseSucceeded = true;\n    while (parseSucceeded) {\n        int newOffset = parseFragment(input, offset);\n        parseSucceeded = newOffset &gt; offset;\n        newOffset = offset;\n    }\n    return offset;\n}\n</code></pre>\n\n<p>Notice that <code>parseSequence</code> expects <code>parseFragment</code> to return the offset at which it stopped parsing, and it should return the offset it was passed if it fails.  Now we'll write <code>parseFragment</code>.  We'll extract the common code from its three similar productions into a helper function.</p>\n\n<pre><code>private static int parseFragment(String input, int offset) {\n    if (offset &gt;= input.length()) {\n        return offset;\n    }\n\n    switch (input.charAt(offset)) {\n        case '(': return helpParseFragment(input, offset, ')');\n        case '[': return helpParseFragment(input, offset, ']');\n        case '{': return helpParseFragment(input, offset, '}');\n        default: return offset + 1;\n    }\n}\n</code></pre>\n\n<p>The helper function expects to receive the offset of the opener, so that it can return that offset if it fails.  If it succeeds, it returns the offset just past the closer.</p>\n\n<pre><code>private static int helpParseFragment(String input, int offset, char closer) {\n    int newOffset = parseSequence(input, offset + 1);\n    if (newOffset &gt; offset &amp;&amp; newOffset &lt; input.length() &amp;&amp; input.charAt(newOffset) == closer) {\n        return newOffset + 1;\n    } else {\n        return offset;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2097364,"reputation":2839,"user_id":1865826,"display_name":""},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361262240,"creation_date":1361262240,"answer_id":14952903,"question_id":14949372,"body_markdown":"Direct cycle is fastes solution here:\r\n\r\n    private static boolean isBalanced(String s)\r\n    {\r\n        char[] chars = new char[s.length()];\r\n        int size = 0;\r\n        for (int i = 0; i &lt; s.length(); i++)\r\n        {\r\n            char c = s.charAt(i);\r\n            if (c == &#39;{&#39; || c == &#39;(&#39; || c == &#39;[&#39;) chars[size++] = c;\r\n            if (c == &#39;}&#39; &amp;&amp; (size == 0 || chars[--size] != &#39;{&#39;)) return false;\r\n            if (c == &#39;)&#39; &amp;&amp; (size == 0 || chars[--size] != &#39;(&#39;)) return false;\r\n            if (c == &#39;]&#39; &amp;&amp; (size == 0 || chars[--size] != &#39;[&#39;)) return false;\r\n        }\r\n    \r\n        return true;\r\n    }\r\n\r\nComplexity of algo is **O(N)** without substrings and etc.","title":"Check if a String is balanced","body":"<p>Direct cycle is fastes solution here:</p>\n\n<pre><code>private static boolean isBalanced(String s)\n{\n    char[] chars = new char[s.length()];\n    int size = 0;\n    for (int i = 0; i &lt; s.length(); i++)\n    {\n        char c = s.charAt(i);\n        if (c == '{' || c == '(' || c == '[') chars[size++] = c;\n        if (c == '}' &amp;&amp; (size == 0 || chars[--size] != '{')) return false;\n        if (c == ')' &amp;&amp; (size == 0 || chars[--size] != '(')) return false;\n        if (c == ']' &amp;&amp; (size == 0 || chars[--size] != '[')) return false;\n    }\n\n    return true;\n}\n</code></pre>\n\n<p>Complexity of algo is <strong>O(N)</strong> without substrings and etc.</p>\n"},{"tags":[],"owner":{"account_id":1676053,"reputation":177,"user_id":1541612,"display_name":"Rajat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470224326,"creation_date":1470224326,"answer_id":38742517,"question_id":14949372,"body_markdown":"    import java.util.*;\r\n    class Solution{\r\n       \r\n       public static void main(String []argh)\r\n       {\r\n          Scanner sc = new Scanner(System.in);\r\n        \r\n          \r\n          while (sc.hasNext()) \r\n          {\r\n             String input=sc.next();\r\n             Stack&lt;Character&gt; stacky = new Stack&lt;&gt;();\r\n              int x=0,y=0,z=0,a=0,b=0,c=0;\r\n             for (int i = 0; i &lt; input.length(); i++) \r\n             {\r\n               \r\n                    switch(input.charAt(i)) \r\n                    {\r\n                        case &#39;[&#39; : a++; break;\r\n                        case &#39;{&#39; : b++;break;\r\n                   \r\n                         case &#39;(&#39; : c++;\r\n                        break;\r\n                        \r\n                        case &#39;]&#39; :x++; break;\r\n                        case &#39;}&#39; : y++; break;\r\n                   \r\n                         case &#39;)&#39; :\r\n                                z++;\r\n                        break;\r\n                        \r\n                    \r\n                        \r\n                    default: stacky.push(input.charAt(i));\r\n              }\r\n          \r\n              \r\n                //Complete the code\r\n                 \r\n                if(x==a &amp;&amp; y==b &amp;&amp; z==c)\r\n                    {\r\n                    \r\n                    System.out.println(&quot;true&quot;);\r\n                    \r\n                     }\r\n                 else\r\n                     {\r\n                     System.out.println(&quot;false&quot;);\r\n                 }\r\n              \r\n    \r\n              \r\n              \r\n          }\r\n          \r\n       }\r\n       }}\r\n\r\nhttp://www.geekpandit.com/2016/07/25/simple-balanced-parenthesis-problem-stack-implementation/.\r\n\r\n\r\n","title":"Check if a String is balanced","body":"<pre><code>import java.util.*;\nclass Solution{\n\n   public static void main(String []argh)\n   {\n      Scanner sc = new Scanner(System.in);\n\n\n      while (sc.hasNext()) \n      {\n         String input=sc.next();\n         Stack&lt;Character&gt; stacky = new Stack&lt;&gt;();\n          int x=0,y=0,z=0,a=0,b=0,c=0;\n         for (int i = 0; i &lt; input.length(); i++) \n         {\n\n                switch(input.charAt(i)) \n                {\n                    case '[' : a++; break;\n                    case '{' : b++;break;\n\n                     case '(' : c++;\n                    break;\n\n                    case ']' :x++; break;\n                    case '}' : y++; break;\n\n                     case ')' :\n                            z++;\n                    break;\n\n\n\n                default: stacky.push(input.charAt(i));\n          }\n\n\n            //Complete the code\n\n            if(x==a &amp;&amp; y==b &amp;&amp; z==c)\n                {\n\n                System.out.println(\"true\");\n\n                 }\n             else\n                 {\n                 System.out.println(\"false\");\n             }\n\n\n\n\n      }\n\n   }\n   }}\n</code></pre>\n\n<p><a href=\"http://www.geekpandit.com/2016/07/25/simple-balanced-parenthesis-problem-stack-implementation/\" rel=\"nofollow\">http://www.geekpandit.com/2016/07/25/simple-balanced-parenthesis-problem-stack-implementation/</a>.</p>\n"}],"owner":{"account_id":1617712,"reputation":43,"user_id":1494928,"accept_rate":75,"display_name":"katrina"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9164,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":14949594,"answer_count":5,"score":1,"last_activity_date":1675929216,"creation_date":1361244739,"question_id":14949372,"body_markdown":"I want to check if a string is balanced with recursion. I found some other posts on the forum related to this question, some answers are in programming languages that I don&#39;t understand. I can do it with a stack after reading similar questions here on Stack Overflow, how do I do it recursively?\r\n\r\n    private static boolean isBalanced(String s, char match)\r\n\t{\r\n\t\tchar c;\r\n\t\t\r\n\t\tif(s.isEmpty())\r\n\t\t\treturn true;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; s.length(); i++)\r\n\t\t{\r\n\t\t\tc = s.charAt(i); \r\n\r\n\t\t\tif(c == &#39;{&#39;) \r\n\t\t\t\treturn isBalanced(s.substring(i+1), &#39;}&#39;);\r\n\t\t\t\t\r\n\t\t\telse if(c == &#39;[&#39;)\r\n\t\t\t\treturn isBalanced(s.substring(i+1), &#39;]&#39;);\r\n\t\t\t\t\r\n\t\t\telse if(c == &#39;(&#39;)\r\n\t\t\t\treturn isBalanced(s.substring(i+1), &#39;)&#39;);\r\n\t\t\t\r\n\t\t\t// Closing matches.\r\n\t\t\telse if(c == match)\r\n\t\t\t\treturn true;\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn \r\n\t}\r\n\r\nBalanced is {}()[] and any combination of that such as [()]\r\n\r\nI don&#39;t want anyone to code it for me, in fact, I would appreciate knowing how to do it instead. That is why I didn&#39;t understand the answers in other languages because they are too specific to that language instead of an algorithm.\r\n\r\n","title":"Check if a String is balanced","body":"<p>I want to check if a string is balanced with recursion. I found some other posts on the forum related to this question, some answers are in programming languages that I don't understand. I can do it with a stack after reading similar questions here on Stack Overflow, how do I do it recursively?</p>\n<pre><code>private static boolean isBalanced(String s, char match)\n{\n    char c;\n    \n    if(s.isEmpty())\n        return true;\n    \n    for(int i = 0; i &lt; s.length(); i++)\n    {\n        c = s.charAt(i); \n\n        if(c == '{') \n            return isBalanced(s.substring(i+1), '}');\n            \n        else if(c == '[')\n            return isBalanced(s.substring(i+1), ']');\n            \n        else if(c == '(')\n            return isBalanced(s.substring(i+1), ')');\n        \n        // Closing matches.\n        else if(c == match)\n            return true;\n            \n    }\n    \n    return \n}\n</code></pre>\n<p>Balanced is {}()[] and any combination of that such as [()]</p>\n<p>I don't want anyone to code it for me, in fact, I would appreciate knowing how to do it instead. That is why I didn't understand the answers in other languages because they are too specific to that language instead of an algorithm.</p>\n"},{"tags":["java","encryption","jakarta-mail","postfix-mta","starttls"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1660938801,"creation_date":1623230238,"answer_id":67901142,"question_id":67899129,"body_markdown":"&gt; Here I&#39;m wondering about the line [in s_client]  \r\n&gt; New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\r\n\r\nYou&#39;re apparently using OpenSSL 1.0.2, where that&#39;s a basically useless relic. Back in the days when OpenSSL supported SSLv2 (mostly until 2010, although almost no one used it much after 2000), the ciphersuite values used for SSLv3 and up (including all TLS, but before 2014 OpenSSL didn&#39;t implement higher than [TLS 1.0][1]) were structured differently than those used for [SSL 2.0][2], so it was important to qualify the ciphersuite by the &#39;universe&#39; it existed in. It has almost nothing to do with the protocol version actually used, which appears later in the session-param decode:\r\n\r\n```lang-none\r\nSSL-Session:\r\n    Protocol  : TLSv1.2\r\n...\r\n```\r\n\r\n-- although you already know this from the ciphersuite, because ECDHE-RSA-AES256-GCM-SHA384 cannot be used in any protocol version other than TLS 1.2.\r\n\r\nIn OpenSSL 1.1.0 up, the protocol state machine is redesigned and among other things this field is changed to display the minimum protocol version compatible with the ciphersuite, which is no longer totally useless, but still may be different from the actual protocol used.\r\n\r\nIn any case your exception occurs before JSSE client even sends the ClientHello to the server to start the handshake, so it is physically impossible for it to be be caused by anything wrong in the server.\r\nIt is instead caused by something wrong in the coding or configuration on the (Java) client, about which you have provided almost no information.\r\n\r\nIt _may_ help to run with sysprop `javax.net.debug=ssl:handshake` although this problem occurs early and may be before anything usefully traceable.\r\n\r\nMake sure you don&#39;t have sysprops `mail.smtp.ssl.{protocols,ciphersuites}` set to something unsuitable. See e.g. [com.sun.mail.util.SocketFetcher.configureSSLSocket][3]) and *https://stackoverflow.com/questions/67742776/docker-container-javax-mail-messagingexception-no-appropriate-protocol-* and links there.\r\nAlso check for any settings of `mail.smtp.ssl.trust mail.smtp.ssl.socketfactory.class mail.smtp.socketfactory.class`, and any &lt;s&gt;code that alters the `SSLSocketFactory` default and maybe&lt;/s&gt; (*Edit*) alteration to the `SSLContext` default i.e. at or near the point you try to connect with javamail print or otherwise get `Arrays.toString(SSLContext.getDefaultSSLParameters().getProtocols())` and the same for `getCipherSuites`.\r\n\r\n*Edit 2*: **it&#39;s version dependent**. Older Sun/Oracle (i.e., pre-[Jakarta][4]) versions below 1.5.3 (2015-04-15) had the default (if `mail.smtp.ssl.protocols` is *not* configured) [*hardcoded* to `TLSv1` meaning 1.0 *only*][5]. As a result the connection will fail with the exception in the question on a Java that has TLS 1.0 disabled, as 11.0.11 does when installed, and also 16.0.0 up and 8u291 (presumably up). On Java instances without TLS 1.0 disabled it will _attempt_ the connection, but if the server refuses TLS 1.0 -- which the one in this question should -- the connection will still fail with a different exception.\r\n\r\n&gt; I have added already ECDHE-RSA-AES256-GCM-SHA384 as jdk.tls.legacyAlgorithms.\r\n\r\nThat&#39;s backwards. Legacy algorithms are ones you prefer *not* to use and accept only as fallback; this ciphersuite is among the best currently available and should be preferred (and is by default, so you shouldn&#39;t change it). Plus, although the doc and comments in the file don&#39;t make this clear, the legacy constraint only applies server-side anyway -- because that&#39;s where ciphersuite selection, and for 1.3 related algorithm selection, is done.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Transport_Layer_Security#TLS_1.0\r\n  [2]: https://en.wikipedia.org/wiki/Transport_Layer_Security#SSL_1.0,_2.0,_and_3.0\r\n  [3]: https://github.com/eclipse-ee4j/mail/blob/master/mail/src/main/java/com/sun/mail/util/SocketFetcher.java#L558\r\n  [4]: https://en.wikipedia.org/wiki/Jakarta_EE\r\n  [5]: https://github.com/javaee/javamail/commit/df5438b2592b6be31eccfd7f4e9aea08571c5e53#diff-357c30ebc89c3d3237e4039b007d15cebe3eee7467136ebaf561f525420378aaL521\r\n\r\n\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<blockquote>\n<p>Here I'm wondering about the line [in s_client]<br />\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384</p>\n</blockquote>\n<p>You're apparently using OpenSSL 1.0.2, where that's a basically useless relic. Back in the days when OpenSSL supported SSLv2 (mostly until 2010, although almost no one used it much after 2000), the ciphersuite values used for SSLv3 and up (including all TLS, but before 2014 OpenSSL didn't implement higher than <a href=\"https://en.wikipedia.org/wiki/Transport_Layer_Security#TLS_1.0\" rel=\"nofollow noreferrer\">TLS 1.0</a>) were structured differently than those used for <a href=\"https://en.wikipedia.org/wiki/Transport_Layer_Security#SSL_1.0,_2.0,_and_3.0\" rel=\"nofollow noreferrer\">SSL 2.0</a>, so it was important to qualify the ciphersuite by the 'universe' it existed in. It has almost nothing to do with the protocol version actually used, which appears later in the session-param decode:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SSL-Session:\n    Protocol  : TLSv1.2\n...\n</code></pre>\n<p>-- although you already know this from the ciphersuite, because ECDHE-RSA-AES256-GCM-SHA384 cannot be used in any protocol version other than TLS 1.2.</p>\n<p>In OpenSSL 1.1.0 up, the protocol state machine is redesigned and among other things this field is changed to display the minimum protocol version compatible with the ciphersuite, which is no longer totally useless, but still may be different from the actual protocol used.</p>\n<p>In any case your exception occurs before JSSE client even sends the ClientHello to the server to start the handshake, so it is physically impossible for it to be be caused by anything wrong in the server.\nIt is instead caused by something wrong in the coding or configuration on the (Java) client, about which you have provided almost no information.</p>\n<p>It <em>may</em> help to run with sysprop <code>javax.net.debug=ssl:handshake</code> although this problem occurs early and may be before anything usefully traceable.</p>\n<p>Make sure you don't have sysprops <code>mail.smtp.ssl.{protocols,ciphersuites}</code> set to something unsuitable. See e.g. <a href=\"https://github.com/eclipse-ee4j/mail/blob/master/mail/src/main/java/com/sun/mail/util/SocketFetcher.java#L558\" rel=\"nofollow noreferrer\">com.sun.mail.util.SocketFetcher.configureSSLSocket</a>) and <em><a href=\"https://stackoverflow.com/questions/67742776/docker-container-javax-mail-messagingexception-no-appropriate-protocol-\">Docker container error: &quot;javax.mail.MessagingException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate);&quot;</a></em> and links there.\nAlso check for any settings of <code>mail.smtp.ssl.trust mail.smtp.ssl.socketfactory.class mail.smtp.socketfactory.class</code>, and any <s>code that alters the <code>SSLSocketFactory</code> default and maybe</s> (<em>Edit</em>) alteration to the <code>SSLContext</code> default i.e. at or near the point you try to connect with javamail print or otherwise get <code>Arrays.toString(SSLContext.getDefaultSSLParameters().getProtocols())</code> and the same for <code>getCipherSuites</code>.</p>\n<p><em>Edit 2</em>: <strong>it's version dependent</strong>. Older Sun/Oracle (i.e., pre-<a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">Jakarta</a>) versions below 1.5.3 (2015-04-15) had the default (if <code>mail.smtp.ssl.protocols</code> is <em>not</em> configured) <a href=\"https://github.com/javaee/javamail/commit/df5438b2592b6be31eccfd7f4e9aea08571c5e53#diff-357c30ebc89c3d3237e4039b007d15cebe3eee7467136ebaf561f525420378aaL521\" rel=\"nofollow noreferrer\"><em>hardcoded</em> to <code>TLSv1</code> meaning 1.0 <em>only</em></a>. As a result the connection will fail with the exception in the question on a Java that has TLS 1.0 disabled, as 11.0.11 does when installed, and also 16.0.0 up and 8u291 (presumably up). On Java instances without TLS 1.0 disabled it will <em>attempt</em> the connection, but if the server refuses TLS 1.0 -- which the one in this question should -- the connection will still fail with a different exception.</p>\n<blockquote>\n<p>I have added already ECDHE-RSA-AES256-GCM-SHA384 as jdk.tls.legacyAlgorithms.</p>\n</blockquote>\n<p>That's backwards. Legacy algorithms are ones you prefer <em>not</em> to use and accept only as fallback; this ciphersuite is among the best currently available and should be preferred (and is by default, so you shouldn't change it). Plus, although the doc and comments in the file don't make this clear, the legacy constraint only applies server-side anyway -- because that's where ciphersuite selection, and for 1.3 related algorithm selection, is done.</p>\n"},{"tags":[],"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1660939074,"creation_date":1623649357,"answer_id":67965317,"question_id":67899129,"body_markdown":"After upgrading JavaMail from 1.4.7 to 1.6.2, the error is gone! I&#39;m sure there are also other clients which use JavaMail 1.4.7 and which works. So there must also be another difference on that machine. However, now it *works*!\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>After upgrading JavaMail from 1.4.7 to 1.6.2, the error is gone! I'm sure there are also other clients which use JavaMail 1.4.7 and which works. So there must also be another difference on that machine. However, now it <em>works</em>!</p>\n"},{"tags":[],"owner":{"account_id":5598647,"reputation":431,"user_id":4435517,"display_name":"Zeenat Hussain"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1660939564,"creation_date":1627276596,"answer_id":68524796,"question_id":67899129,"body_markdown":"I was facing the same issue using JDK 11. But I resolved it by commenting this line in the *java.security* file:\r\n\r\n```lang-none\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA,\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL,\r\n    include jdk.disabled.namedCurves\r\n```\r\n\r\n\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>I was facing the same issue using JDK 11. But I resolved it by commenting this line in the <em>java.security</em> file:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA,\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL,\n    include jdk.disabled.namedCurves\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1660939538,"creation_date":1628361187,"answer_id":68695153,"question_id":67899129,"body_markdown":"In my case, Postfix supports TLS 1.0, TLS 1.1, TLS 1.2 and TLS 1.3.\r\nI prepared some tests, using different OpenJDKs.\r\n\r\n- Using OpenJDK 11.0.9 (2020-10-20)\r\n\r\n    I was able to send email without any exceptions\r\n\r\n- Using OpenJDK 11.0.10 (2021-01-19)\r\n\r\n    I was able to send email without any exceptions\r\n\r\n- Using OpenJDK 11.0.11 (2021-04-20)\r\n\r\n    I was getting the exception,\r\n\r\n    &gt; SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\n- Using OpenJDK 11.0.12 (2021-07-20)\r\n\r\n    I was getting the same exception,\r\n\r\n    &gt; SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\n***As far as I am concerned, the cause of the issue is that OpenJDK requires TLSv1.2 or TLSv1.3, starting from version 11.0.11.*** The change will apply to at least OpenJDK 8u292 onward, OpenJDK 11.0.11 onward, and all versions of OpenJDK 16, following the JRE and JDK Crypto Roadmap published by [an Oracle reference][1].\r\n\r\nHow to fix the problem,\r\n\r\n1. Go back to OpenJDK 11.0.10, you can find binaries [here][2]. More OpenJDK versions [here][3].\r\n2. *(Preferred)* Set the TLS version to TLS 1.2 for sending emails. You can do it by setting a system property like below, before you configure the Java [SMTP][4] client.\r\n\r\n&gt; `System.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);`\r\n\r\nI use [Apache Commons][5] email and setting the aforementioned property before initializing my `HtmlEmail` object, I was able to send using the current OpenJDK version 11.0.12.\r\n\r\nIn any case you use a [POP3][6] Java client, the same there,\r\n\r\n&gt; `System.setProperty(&quot;mail.pop3s.ssl.protocols&quot;, &quot;TLSv1.2&quot;);`\r\n\r\n  [1]: https://aws.amazon.com/blogs/opensource/tls-1-0-1-1-changes-in-openjdk-and-amazon-corretto/\r\n  [2]: https://github.com/AdoptOpenJDK/openjdk11-upstream-binaries/releases/tag/jdk-11.0.10%2B9\r\n  [3]: https://wiki.openjdk.java.net/display/JDKUpdates/Archived+Releases\r\n  [4]: https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol\r\n  [5]: https://en.wikipedia.org/wiki/Apache_Commons\r\n  [6]: https://en.wikipedia.org/wiki/Post_Office_Protocol\r\n\r\n\r\n\r\n\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>In my case, Postfix supports TLS 1.0, TLS 1.1, TLS 1.2 and TLS 1.3.\nI prepared some tests, using different OpenJDKs.</p>\n<ul>\n<li><p>Using OpenJDK 11.0.9 (2020-10-20)</p>\n<p>I was able to send email without any exceptions</p>\n</li>\n<li><p>Using OpenJDK 11.0.10 (2021-01-19)</p>\n<p>I was able to send email without any exceptions</p>\n</li>\n<li><p>Using OpenJDK 11.0.11 (2021-04-20)</p>\n<p>I was getting the exception,</p>\n<blockquote>\n<p>SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)</p>\n</blockquote>\n</li>\n<li><p>Using OpenJDK 11.0.12 (2021-07-20)</p>\n<p>I was getting the same exception,</p>\n<blockquote>\n<p>SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)</p>\n</blockquote>\n</li>\n</ul>\n<p><em><strong>As far as I am concerned, the cause of the issue is that OpenJDK requires TLSv1.2 or TLSv1.3, starting from version 11.0.11.</strong></em> The change will apply to at least OpenJDK 8u292 onward, OpenJDK 11.0.11 onward, and all versions of OpenJDK 16, following the JRE and JDK Crypto Roadmap published by <a href=\"https://aws.amazon.com/blogs/opensource/tls-1-0-1-1-changes-in-openjdk-and-amazon-corretto/\" rel=\"noreferrer\">an Oracle reference</a>.</p>\n<p>How to fix the problem,</p>\n<ol>\n<li>Go back to OpenJDK 11.0.10, you can find binaries <a href=\"https://github.com/AdoptOpenJDK/openjdk11-upstream-binaries/releases/tag/jdk-11.0.10%2B9\" rel=\"noreferrer\">here</a>. More OpenJDK versions <a href=\"https://wiki.openjdk.java.net/display/JDKUpdates/Archived+Releases\" rel=\"noreferrer\">here</a>.</li>\n<li><em>(Preferred)</em> Set the TLS version to TLS 1.2 for sending emails. You can do it by setting a system property like below, before you configure the Java <a href=\"https://en.wikipedia.org/wiki/Simple_Mail_Transfer_Protocol\" rel=\"noreferrer\">SMTP</a> client.</li>\n</ol>\n<blockquote>\n<p><code>System.setProperty(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);</code></p>\n</blockquote>\n<p>I use <a href=\"https://en.wikipedia.org/wiki/Apache_Commons\" rel=\"noreferrer\">Apache Commons</a> email and setting the aforementioned property before initializing my <code>HtmlEmail</code> object, I was able to send using the current OpenJDK version 11.0.12.</p>\n<p>In any case you use a <a href=\"https://en.wikipedia.org/wiki/Post_Office_Protocol\" rel=\"noreferrer\">POP3</a> Java client, the same there,</p>\n<blockquote>\n<p><code>System.setProperty(&quot;mail.pop3s.ssl.protocols&quot;, &quot;TLSv1.2&quot;);</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17246855,"reputation":429,"user_id":12667201,"display_name":"Usama"},"down_vote_count":8,"up_vote_count":17,"is_accepted":false,"score":9,"last_activity_date":1660939975,"creation_date":1632431337,"answer_id":69306914,"question_id":67899129,"body_markdown":"I got rid of the above exception by adding this to my connection string.\r\n\r\n```lang-none\r\njdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;useSSL=false\r\n```\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>I got rid of the above exception by adding this to my connection string.</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;useSSL=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1660940495,"creation_date":1658738106,"answer_id":73106223,"question_id":67899129,"body_markdown":"If you using Java 1.8, go to directory\r\n\r\n```lang-none\r\n..\\Java\\jre1.8.0_261\\lib\\security\r\n```\r\n\r\nIf you using Java 11 or 17,\r\n\r\n  ```lang-none\r\n  ..\\Java\\jdk-11.0.15\\conf\\security\\\r\n  ```\r\n\r\nFind the file *java.security*.\r\n\r\nFind the lines\r\n\r\n```lang-none\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\r\n```\r\n\r\nAnd put **#** before each line, and save it.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>If you using Java 1.8, go to directory</p>\n<pre class=\"lang-none prettyprint-override\"><code>..\\Java\\jre1.8.0_261\\lib\\security\n</code></pre>\n<p>If you using Java 11 or 17,</p>\n<pre class=\"lang-none prettyprint-override\"><code>..\\Java\\jdk-11.0.15\\conf\\security\\\n</code></pre>\n<p>Find the file <em>java.security</em>.</p>\n<p>Find the lines</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL\n</code></pre>\n<p>And put <strong>#</strong> before each line, and save it.</p>\n"},{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675929149,"creation_date":1675929149,"answer_id":75395635,"question_id":67899129,"body_markdown":"For Java \r\n\r\n    openjdk version &quot;11.0.13&quot; 2021-10-19\r\n    OpenJDK Runtime Environment (build 11.0.13+8-Ubuntu-0ubuntu1.20.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.13+8-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)\r\n\r\nI had the same problem. The smpt server used Tls1.2, which was proved by `openssl` test like that: \r\n\r\n     openssl s_client  smtp -connect ourhost:587\r\n\r\nand this output clearly shown me that SMTP server uses Tls1.2:\r\n\r\n    ---\r\n    No client certificate CA names sent\r\n    Peer signing digest: SHA256\r\n    Peer signature type: RSA\r\n    Server Temp Key: ECDH, P-256, 256 bits\r\n    ---\r\n    SSL handshake has read 2412 bytes and written 442 bytes\r\n    Verification: OK\r\n    ---\r\n    New, TLSv1.2, Cipher is ECDHE-RSA-AES128-GCM-SHA256\r\n    Server public key is 2048 bit\r\n    Secure Renegotiation IS supported\r\n    Compression: NONE\r\n    Expansion: NONE\r\n    No ALPN negotiated\r\n\r\nBut with all settings like \r\n\r\n    mail.properties.mail.smtp.auth=true\r\n    mail.properties.mail.smtp.starttls.enable=true\r\n    mail.properties.mail.smtp.ssl.protocols=TLSv1.2\r\n    jdk.tls.client.protocols=TLSv1.2\r\n    mail.properties.mail.smtp.ssl.trust=*\r\n\r\nit still was the error\r\n\r\n    Mail server connection failed; nested exception is javax.mail.MessagingException: Could not convert socket to TLS; nested exception is: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate). Failed messages: javax.mail.MessagingException: Could not convert socket to TLS; nested exception is: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\nAnd the only stuff that helped was removing Tls parts from `java.security` file as was said above:\r\n\r\n    jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n\r\nto \r\n\r\n    jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, \\\r\n        DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n        EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n        include jdk.disabled.namedCurves\r\n\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>For Java</p>\n<pre><code>openjdk version &quot;11.0.13&quot; 2021-10-19\nOpenJDK Runtime Environment (build 11.0.13+8-Ubuntu-0ubuntu1.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.13+8-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)\n</code></pre>\n<p>I had the same problem. The smpt server used Tls1.2, which was proved by <code>openssl</code> test like that:</p>\n<pre><code> openssl s_client  smtp -connect ourhost:587\n</code></pre>\n<p>and this output clearly shown me that SMTP server uses Tls1.2:</p>\n<pre><code>---\nNo client certificate CA names sent\nPeer signing digest: SHA256\nPeer signature type: RSA\nServer Temp Key: ECDH, P-256, 256 bits\n---\nSSL handshake has read 2412 bytes and written 442 bytes\nVerification: OK\n---\nNew, TLSv1.2, Cipher is ECDHE-RSA-AES128-GCM-SHA256\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\n</code></pre>\n<p>But with all settings like</p>\n<pre><code>mail.properties.mail.smtp.auth=true\nmail.properties.mail.smtp.starttls.enable=true\nmail.properties.mail.smtp.ssl.protocols=TLSv1.2\njdk.tls.client.protocols=TLSv1.2\nmail.properties.mail.smtp.ssl.trust=*\n</code></pre>\n<p>it still was the error</p>\n<pre><code>Mail server connection failed; nested exception is javax.mail.MessagingException: Could not convert socket to TLS; nested exception is: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate). Failed messages: javax.mail.MessagingException: Could not convert socket to TLS; nested exception is: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n</code></pre>\n<p>And the only stuff that helped was removing Tls parts from <code>java.security</code> file as was said above:</p>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n</code></pre>\n<p>to</p>\n<pre><code>jdk.tls.disabledAlgorithms=SSLv3, RC4, DES, MD5withRSA, DH keySize &lt; 1024, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    include jdk.disabled.namedCurves\n</code></pre>\n"}],"owner":{"account_id":1580243,"reputation":2552,"user_id":1465758,"accept_rate":71,"display_name":"Steffen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158864,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":67965317,"answer_count":7,"score":46,"last_activity_date":1675929149,"creation_date":1623222202,"question_id":67899129,"body_markdown":"I know there are some other questions (with answers) to this topic. But none of these was helpful for me.\r\n\r\nI have a [Postfix][1] server (postfix 3.4.14 on [Debian 10][2] (Buster)) with the following configuration (only the interesting section):\r\n\r\n```lang-none\r\nsmtpd_tls_mandatory_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\r\nsmtp_tls_mandatory_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\r\nsmtp_tls_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\r\nsmtpd_tls_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\r\nsmtpd_tls_exclude_ciphers = aNULL, LOW, EXP, MEDIUM, ADH, AECDH, MD5, DSS, ECDSA,\r\n    CAMELLIA128, 3DES, CAMELLIA256, RSA+AES, eNULL\r\nsmtp_tls_exclude_ciphers = aNULL, LOW, EXP, MEDIUM, ADH, AECDH, MD5, DSS, ECDSA,\r\n    CAMELLIA128, 3DES, CAMELLIA256, RSA+AES, eNULL\r\ntls_preempt_cipherlist = yes\r\ntls_high_cipherlist = !aNULL:!eNULL:!CAMELLIA:HIGH:@STRENGTH\r\n```\r\n\r\nIf I check the configuration with [OpenSSL][3], I get (please note that I have made the domain name unrecognizable with &quot;xxxxxx.de&quot;):\r\n\r\n```lang-none\r\n#&gt; openssl s_client -connect xxxxxx.de:25 -starttls smtp\r\nCONNECTED(00000003)\r\ndepth=3 O = Digital Signature Trust Co., CN = DST Root CA X3\r\nverify return:1\r\ndepth=2 C = US, O = Internet Security Research Group, CN = ISRG Root X1\r\nverify return:1\r\ndepth=1 C = US, O = Let&#39;s Encrypt, CN = R3\r\nverify return:1\r\ndepth=0 CN = xxxxxx.de\r\nverify return:1\r\n---\r\nCertificate chain\r\n 0 s:/CN=xxxxxx.de\r\n   i:/C=US/O=Let&#39;s Encrypt/CN=R3\r\n 1 s:/C=US/O=Let&#39;s Encrypt/CN=R3\r\n   i:/C=US/O=Internet Security Research Group/CN=ISRG Root X1\r\n 2 s:/C=US/O=Internet Security Research Group/CN=ISRG Root X1\r\n   i:/O=Digital Signature Trust Co./CN=DST Root CA X3\r\n---\r\nServer certificate\r\n-----BEGIN CERTIFICATE-----\r\nMIIFRjCCBC6gAwIBAgISA6SNmc1MPKtxwSiNNKEvxc/EMA0GCSqGSIb3DQEBCwUA\r\nMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQD\r\n...\r\n...\r\n...\r\nVG2iG8sEGCcgG4w1LnWTO4tMlCYFE+tcXxAfE/7pB/VjmvRZlLCypanuwBzVRw5W\r\nbPwabUtCMRDrRlT8wI9UHAhQYTb5Hhm0F0u1hi6e/7fybK6tuFnPpWs/vgT3Z4Fj\r\n2onoaTHk/rKlhQ==\r\n-----END CERTIFICATE-----\r\nsubject=/CN=xxxxxx.de\r\nissuer=/C=US/O=Let&#39;s Encrypt/CN=R3\r\n---\r\nNo client certificate CA names sent\r\nPeer signing digest: SHA256\r\nServer Temp Key: ECDH, P-256, 256 bits\r\n---\r\nSSL handshake has read 4950 bytes and written 450 bytes\r\n---\r\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\r\nServer public key is 2048 bit\r\nSecure Renegotiation IS supported\r\nCompression: NONE\r\nExpansion: NONE\r\nNo ALPN negotiated\r\nSSL-Session:\r\n    Protocol  : TLSv1.2\r\n    Cipher    : ECDHE-RSA-AES256-GCM-SHA384\r\n    Session-ID: B20E725616C98083988847B90FB42BFDCAEED745129C53E79E723692C641F6F5\r\n    Session-ID-ctx:\r\n    Master-Key: A3D2C497E11E47C6260C119E47DC3B4CAA119485EAFA5BCF6CDA882F115D80E78960C802A48E375DAA293A3A2C1DAE35\r\n    Key-Arg   : None\r\n    Krb5 Principal: None\r\n    PSK identity: None\r\n    PSK identity hint: None\r\n    TLS session ticket lifetime hint: 7200 (seconds)\r\n    TLS session ticket:\r\n    0000 - ec 40 39 d6 f4 94 ac 7b-d8 f8 ef 94 98 62 d7 35   .@9....{.....b.5\r\n    0010 - de fb c3 f5 f3 b1 3a d1-24 3e 62 57 fb 06 56 eb   ......:.$&gt;bW..V.\r\n    0020 - 84 61 2a 0d 30 7d 9f ac-70 e7 a8 a3 23 4a c6 57   .a*.0}..p...#J.W\r\n    0030 - dc 21 7c d3 5d f4 e8 14-c5 4c 18 da 35 1d 32 49   .!|.]....L..5.2I\r\n    0040 - f0 19 de 75 77 22 25 f9-74 4d a2 47 39 0d ce 75   ...uw&quot;%.tM.G9..u\r\n    0050 - 0a 04 41 85 0d 67 05 fe-a4 09 ec 72 4b a5 ad f4   ..A..g.....rK...\r\n    0060 - 8b 73 a2 a3 2e 28 46 b8-2a 60 4b ed ce 75 09 fb   .s...(F.*`K..u..\r\n    0070 - ef 95 e3 e2 6e 6a 90 bd-9e 46 e8 c9 aa 52 c3 ae   ....nj...F...R..\r\n    0080 - 72 6f 9f 37 fd 6c 12 e9-bb 60 83 c6 c4 44 ca 85   ro.7.l...`...D..\r\n    0090 - cb ee 1d bd 69 29 77 31-4f 96 d5 4d 93 8e 63 d2   ....i)w1O..M..c.\r\n\r\n    Start Time: 1623221077\r\n    Timeout   : 300 (sec)\r\n    Verify return code: 0 (ok)\r\n---\r\n250 CHUNKING\r\n```\r\n\r\nHere I&#39;m wondering about the line\r\n\r\n    New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\r\n\r\nbecause TLSv1/SSLv3 should be disabled by the postfix configuration. Could be that the problem?\r\n\r\nHowever. On the client side I have a Java application ([OpenJDK][4] 11.0.11) and every time I will send an email I get:\r\n\r\n```lang-none\r\njavax.mail.MessagingException: Could not convert socket to TLS;\r\nnested exception is:\r\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\r\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\r\nat javax.mail.Service.connect(Service.java:295)\r\n...\r\n```\r\n\r\nOf course, I have already edited the `conf/security/java.security` file. I have added already `ECDHE-RSA-AES256-GCM-SHA384` as `jdk.tls.legacyAlgorithms`. Here are the interesting settings from `java.securtity`:\r\n\r\n```lang-none\r\njdk.tls.legacyAlgorithms= \\\r\n        K_NULL, C_NULL, M_NULL, \\\r\n        DH_anon, ECDH_anon, \\\r\n        RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\r\n        3DES_EDE_CBC, ECDHE-RSA-AES256-GCM, ECDHE-RSA-AES256-GCM-SHA384\r\n\r\njdk.certpath.disabledAlgorithms=MD2, MD5, SHA1 jdkCA &amp; usage TLSServer, \\\r\n    RSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224, \\\r\n    include jdk.disabled.namedCurves\r\n\r\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\r\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\r\n    include jdk.disabled.namedCurves\r\n```\r\n\r\nMay be I&#39;m blind, but I don&#39;t see where my problem is ...\r\n\r\nOk, at first I have removed my extensions from `jdk.tls.legacyAlgorithms`, because these are not helpful and wrong (thanks to dave_thompson_085 for the hint).\r\n\r\nHere are the Java code for sending the emails (the code has a &quot;long&quot; history, so please don&#39;t wonder why there are `Vector` instead of `ArrayList` or so was used...)\r\n\r\n    // Create some properties and get the default Session\r\n    Properties props = new Properties();\r\n    props.put(&quot;mail.smtp.host&quot;, smtpServer);\r\n    props.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\r\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\n    // SMTP authentication?\r\n    Session session;\r\n    if (username != null &amp;&amp; pwd != null &amp;&amp; username.length() &gt; 0 &amp;&amp; pwd.length() &gt; 0) {\r\n      props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n      //props.put(&quot;mail.smtp.user&quot;, username);\r\n      //props.put(&quot;mail.password&quot;, pwd);\r\n\r\n      // if SMTP authentication: use TLS in every case!\r\n      tls = true;\r\n\r\n      session = Session.getInstance(props, new MyPasswordAuthenticator(username, pwd));\r\n    } else {\r\n      session = Session.getDefaultInstance(props, null);\r\n    }\r\n\r\n    // TLS?\r\n    if (tls) {\r\n      props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n      //props.put(&quot;mail.smtp.tls&quot;, &quot;true&quot;);\r\n    }\r\n\r\n    // create a message\r\n    SMTPMessage mimeMsg = new SMTPMessage(session);\r\n\r\n    InternetAddress addressFrom = new InternetAddress(sender);\r\n    mimeMsg.setFrom(addressFrom);\r\n    mimeMsg.setEnvelopeFrom(sender);\r\n\r\n    // Set recipients ...\r\n    InternetAddress[] tos = new InternetAddress[receivers.size()];\r\n    int i = 0;\r\n    for (String addr : receivers) {\r\n      tos[i++] = new InternetAddress(addr, extractPersonalNameFromEMailAddr(addr));\r\n    }\r\n\r\n    // Set CC recipients ...\r\n    InternetAddress[] ccAddrs = new InternetAddress[0];\r\n    if (ccs != null) {\r\n      ccAddrs = new InternetAddress[ccs.size()];\r\n\r\n      i = 0;\r\n      for (String addr : ccs) {\r\n        ccAddrs[i++] = new InternetAddress(addr, extractPersonalNameFromEMailAddr(addr));\r\n      }\r\n    }\r\n\r\n    mimeMsg.setRecipients(Message.RecipientType.TO, tos);\r\n    mimeMsg.setRecipients(Message.RecipientType.CC, ccAddrs);\r\n\r\n    // Set return notifications\r\n    if (readNotificationRequest) {\r\n      String notifyAddr = replyTo;\r\n      if (notifyAddr == null || notifyAddr.trim().length() == 0) notifyAddr = sender;\r\n\r\n      mimeMsg.addHeader(&quot;Disposition-Notification-To&quot;, &quot;&lt;&quot; + notifyAddr + &quot;&gt;&quot;);\r\n      mimeMsg.addHeader(&quot;Return-Receipt-To&quot;, &quot;&lt;&quot; + notifyAddr + &quot;&gt;&quot;);\r\n    }\r\n\r\n    mimeMsg.addHeader(&quot;Date&quot;, mailDateFormat.format(new Date()));\r\n\r\n    mimeMsg.setNotifyOptions(deliverNotificationRequest);\r\n    mimeMsg.setReturnOption(deliverNotificationContent);\r\n\r\n    if (replyTo != null) {\r\n      Address[] replyToAddrs = new Address[1];\r\n      replyToAddrs[0] = new InternetAddress(this.replyTo);\r\n\r\n      mimeMsg.setReplyTo(replyToAddrs);\r\n      mimeMsg.setFrom(replyToAddrs[0]);\r\n    }\r\n\r\n    mimeMsg.setSentDate(new Date());\r\n    mimeMsg.setSubject(subject);\r\n    //mimeMsg.setContent(msg, msgType);\r\n\r\n    // Set the text content:\r\n    MimeBodyPart msgPart = new MimeBodyPart();\r\n    msgPart.setContent(msg, msgType + &quot;; charset=&quot; + charset);\r\n\r\n    Multipart multipart = new MimeMultipart();\r\n    multipart.addBodyPart(msgPart);\r\n\r\n    // Add the attachments:\r\n    String attFile;\r\n    MimeBodyPart attachment;\r\n    Iterator&lt;String&gt; it = new Vector&lt;String&gt;(attachments).iterator();\r\n\r\n    while (it.hasNext()) {\r\n      attFile = it.next();\r\n\r\n      attachment = new MimeBodyPart();\r\n      attachment.setDataHandler(new DataHandler(new AppOctetStreamFileDataSource(attFile)));\r\n      attachment.setFileName(FileUtil.extractFilename(attFile));\r\n\r\n      multipart.addBodyPart(attachment);\r\n    }\r\n\r\n    mimeMsg.setContent(multipart);\r\n\r\n    System.out.println(&quot;mail.smtp.ssl.trust: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.trust&quot;) + &quot;&gt;&gt;&quot;);\r\n    System.out.println(&quot;mail.smtp.ssl.socketfactory.class: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.socketfactory.class&quot;) + &quot;&gt;&gt;&quot;);\r\n    System.out.println(&quot;mail.smtp.socketfactory.class: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.socketfactory.class&quot;) + &quot;&gt;&gt;&quot;);\r\n    System.out.println(&quot;mail.smtp.ssl.protocols: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.protocols&quot;) + &quot;&gt;&gt;&quot;);\r\n    System.out.println(&quot;mail.smtp.ssl.ciphersuites: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.ciphersuites&quot;) + &quot;&gt;&gt;&quot;);\r\n    System.out.println(&quot;SSLContext.getDefault().getDefaultSSLParameters().getProtocols(): &quot;\r\n            + Arrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getProtocols()));\r\n    System.out.println(&quot;Arrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getCipherSuites(): &quot;\r\n            + Arrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getCipherSuites()));\r\n\r\n    session.setDebug(debug);\r\n    Transport transport = session.getTransport(&quot;smtp&quot;);\r\n    transport.connect(smtpServer, 25, username, pwd);\r\n\r\n    //System.out.println(&quot;#########&quot; + System.getProperty(&quot;mail.smtp.localhost&quot;));\r\n\r\n    transport.sendMessage(mimeMsg, mimeMsg.getAllRecipients());\r\n\r\n    transport.close();\r\n\r\nFor debugging I have add some System.out&#39;s for output the some interesting values.\r\n\r\nHere the standard output:\r\n\r\n```lang-none\r\nDEBUG: JavaMail version 1.4.7\r\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\r\nDEBUG: Tables of loaded providers\r\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\r\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\r\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\nmail.smtp.ssl.trust: &lt;&lt;null&gt;&gt;\r\nmail.smtp.ssl.socketfactory.class: &lt;&lt;null&gt;&gt;\r\nmail.smtp.socketfactory.class: &lt;&lt;null&gt;&gt;\r\nmail.smtp.ssl.protocols: &lt;&lt;null&gt;&gt;\r\nmail.smtp.ssl.ciphersuites: &lt;&lt;null&gt;&gt;\r\nSSLContext.getDefault().getDefaultSSLParameters().getProtocols(): [TLSv1.3, TLSv1.2]\r\nArrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getCipherSuites(): [TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n```\r\n\r\nAnd standard error:\r\n\r\n```lang-none\r\njavax.net.ssl|DEBUG|01|main|2021-06-10 08:28:39.042 CEST|SSLCipher.java:438|jdk.tls.keyLimits: entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\r\njavax.net.ssl|ERROR|01|main|2021-06-10 08:28:39.306 CEST|TransportContext.java:341|Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking (\r\n&quot;throwable&quot; : {\r\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\nat java.base/sun.security.ssl.HandshakeContext.(HandshakeContext.java:170)\r\nat java.base/sun.security.ssl.ClientHandshakeContext.(ClientHandshakeContext.java:98)\r\nat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:221)\r\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\r\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\r\nat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:549)\r\nat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:486)\r\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1902)\r\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\r\nat javax.mail.Service.connect(Service.java:295)\r\nat com.coco_on.tools.general.useCases.net.UCSendEMail.start(UCSendEMail.java:470)\r\nat com.tetrixSystems.tHiddenExecuter.Executer.start(Executer.java:233)\r\nat com.tetrixSystems.tHiddenExecuter.UCMain.start(UCMain.java:83)\r\nat com.tetrixSystems.tHiddenExecuter.UCMain.main(UCMain.java:49)}\r\n\r\n)\r\njavax.net.ssl|DEBUG|01|main|2021-06-10 08:28:39.306 CEST|SSLSocketImpl.java:1638|close the underlying socket\r\njavax.net.ssl|DEBUG|01|main|2021-06-10 08:28:39.306 CEST|SSLSocketImpl.java:1657|close the SSL connection (initiative)\r\njavax.mail.MessagingException: Could not convert socket to TLS;\r\nnested exception is:\r\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\r\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\r\nat javax.mail.Service.connect(Service.java:295)\r\nat com.coco_on.tools.general.useCases.net.UCSendEMail.start(UCSendEMail.java:470)\r\nat com.tetrixSystems.tHiddenExecuter.Executer.start(Executer.java:233)\r\nat com.tetrixSystems.tHiddenExecuter.UCMain.start(UCMain.java:83)\r\nat com.tetrixSystems.tHiddenExecuter.UCMain.main(UCMain.java:49)\r\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\nat java.base/sun.security.ssl.HandshakeContext.(HandshakeContext.java:170)\r\nat java.base/sun.security.ssl.ClientHandshakeContext.(ClientHandshakeContext.java:98)\r\nat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:221)\r\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\r\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\r\nat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:549)\r\nat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:486)\r\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1902)\r\n... 6 more\r\n```\r\n\r\nOn the Postfix server side, OpenSSL 1.1.1 is installed:\r\n\r\n```lang-none\r\n#&gt; openssl version\r\nOpenSSL 1.1.1d  10 Sep 2019\r\n```\r\n\r\nI don&#39;t believe that Java is using OpenSSL internally, but the client side openssl version ([CentOS][5]/[RHEL][6] 7) may be also interesting:\r\n\r\n```lang-none\r\n#&gt; openssl version\r\nOpenSSL 1.0.2k-fips  26 Jan 2017\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Postfix_(software)\r\n  [2]: https://en.wikipedia.org/wiki/Debian_version_history#Debian_10_(Buster)\r\n  [3]: https://en.wikipedia.org/wiki/OpenSSL\r\n  [4]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [5]: https://en.wikipedia.org/wiki/CentOS\r\n  [6]: https://en.wikipedia.org/wiki/Red_Hat_Enterprise_Linux\r\n\r\n\r\n\r\n","title":"Postfix and OpenJDK 11: &quot;No appropriate protocol (protocol is disabled or cipher suites are inappropriate)&quot;","body":"<p>I know there are some other questions (with answers) to this topic. But none of these was helpful for me.</p>\n<p>I have a <a href=\"https://en.wikipedia.org/wiki/Postfix_(software)\" rel=\"noreferrer\">Postfix</a> server (postfix 3.4.14 on <a href=\"https://en.wikipedia.org/wiki/Debian_version_history#Debian_10_(Buster)\" rel=\"noreferrer\">Debian 10</a> (Buster)) with the following configuration (only the interesting section):</p>\n<pre class=\"lang-none prettyprint-override\"><code>smtpd_tls_mandatory_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\nsmtp_tls_mandatory_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\nsmtp_tls_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\nsmtpd_tls_protocols = !SSLv2, !SSLv3, !TLSv1, !TLSv1.1\nsmtpd_tls_exclude_ciphers = aNULL, LOW, EXP, MEDIUM, ADH, AECDH, MD5, DSS, ECDSA,\n    CAMELLIA128, 3DES, CAMELLIA256, RSA+AES, eNULL\nsmtp_tls_exclude_ciphers = aNULL, LOW, EXP, MEDIUM, ADH, AECDH, MD5, DSS, ECDSA,\n    CAMELLIA128, 3DES, CAMELLIA256, RSA+AES, eNULL\ntls_preempt_cipherlist = yes\ntls_high_cipherlist = !aNULL:!eNULL:!CAMELLIA:HIGH:@STRENGTH\n</code></pre>\n<p>If I check the configuration with <a href=\"https://en.wikipedia.org/wiki/OpenSSL\" rel=\"noreferrer\">OpenSSL</a>, I get (please note that I have made the domain name unrecognizable with &quot;xxxxxx.de&quot;):</p>\n<pre class=\"lang-none prettyprint-override\"><code>#&gt; openssl s_client -connect xxxxxx.de:25 -starttls smtp\nCONNECTED(00000003)\ndepth=3 O = Digital Signature Trust Co., CN = DST Root CA X3\nverify return:1\ndepth=2 C = US, O = Internet Security Research Group, CN = ISRG Root X1\nverify return:1\ndepth=1 C = US, O = Let's Encrypt, CN = R3\nverify return:1\ndepth=0 CN = xxxxxx.de\nverify return:1\n---\nCertificate chain\n 0 s:/CN=xxxxxx.de\n   i:/C=US/O=Let's Encrypt/CN=R3\n 1 s:/C=US/O=Let's Encrypt/CN=R3\n   i:/C=US/O=Internet Security Research Group/CN=ISRG Root X1\n 2 s:/C=US/O=Internet Security Research Group/CN=ISRG Root X1\n   i:/O=Digital Signature Trust Co./CN=DST Root CA X3\n---\nServer certificate\n-----BEGIN CERTIFICATE-----\nMIIFRjCCBC6gAwIBAgISA6SNmc1MPKtxwSiNNKEvxc/EMA0GCSqGSIb3DQEBCwUA\nMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQD\n...\n...\n...\nVG2iG8sEGCcgG4w1LnWTO4tMlCYFE+tcXxAfE/7pB/VjmvRZlLCypanuwBzVRw5W\nbPwabUtCMRDrRlT8wI9UHAhQYTb5Hhm0F0u1hi6e/7fybK6tuFnPpWs/vgT3Z4Fj\n2onoaTHk/rKlhQ==\n-----END CERTIFICATE-----\nsubject=/CN=xxxxxx.de\nissuer=/C=US/O=Let's Encrypt/CN=R3\n---\nNo client certificate CA names sent\nPeer signing digest: SHA256\nServer Temp Key: ECDH, P-256, 256 bits\n---\nSSL handshake has read 4950 bytes and written 450 bytes\n---\nNew, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\nServer public key is 2048 bit\nSecure Renegotiation IS supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1.2\n    Cipher    : ECDHE-RSA-AES256-GCM-SHA384\n    Session-ID: B20E725616C98083988847B90FB42BFDCAEED745129C53E79E723692C641F6F5\n    Session-ID-ctx:\n    Master-Key: A3D2C497E11E47C6260C119E47DC3B4CAA119485EAFA5BCF6CDA882F115D80E78960C802A48E375DAA293A3A2C1DAE35\n    Key-Arg   : None\n    Krb5 Principal: None\n    PSK identity: None\n    PSK identity hint: None\n    TLS session ticket lifetime hint: 7200 (seconds)\n    TLS session ticket:\n    0000 - ec 40 39 d6 f4 94 ac 7b-d8 f8 ef 94 98 62 d7 35   .@9....{.....b.5\n    0010 - de fb c3 f5 f3 b1 3a d1-24 3e 62 57 fb 06 56 eb   ......:.$&gt;bW..V.\n    0020 - 84 61 2a 0d 30 7d 9f ac-70 e7 a8 a3 23 4a c6 57   .a*.0}..p...#J.W\n    0030 - dc 21 7c d3 5d f4 e8 14-c5 4c 18 da 35 1d 32 49   .!|.]....L..5.2I\n    0040 - f0 19 de 75 77 22 25 f9-74 4d a2 47 39 0d ce 75   ...uw&quot;%.tM.G9..u\n    0050 - 0a 04 41 85 0d 67 05 fe-a4 09 ec 72 4b a5 ad f4   ..A..g.....rK...\n    0060 - 8b 73 a2 a3 2e 28 46 b8-2a 60 4b ed ce 75 09 fb   .s...(F.*`K..u..\n    0070 - ef 95 e3 e2 6e 6a 90 bd-9e 46 e8 c9 aa 52 c3 ae   ....nj...F...R..\n    0080 - 72 6f 9f 37 fd 6c 12 e9-bb 60 83 c6 c4 44 ca 85   ro.7.l...`...D..\n    0090 - cb ee 1d bd 69 29 77 31-4f 96 d5 4d 93 8e 63 d2   ....i)w1O..M..c.\n\n    Start Time: 1623221077\n    Timeout   : 300 (sec)\n    Verify return code: 0 (ok)\n---\n250 CHUNKING\n</code></pre>\n<p>Here I'm wondering about the line</p>\n<pre><code>New, TLSv1/SSLv3, Cipher is ECDHE-RSA-AES256-GCM-SHA384\n</code></pre>\n<p>because TLSv1/SSLv3 should be disabled by the postfix configuration. Could be that the problem?</p>\n<p>However. On the client side I have a Java application (<a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"noreferrer\">OpenJDK</a> 11.0.11) and every time I will send an email I get:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javax.mail.MessagingException: Could not convert socket to TLS;\nnested exception is:\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\nat javax.mail.Service.connect(Service.java:295)\n...\n</code></pre>\n<p>Of course, I have already edited the <code>conf/security/java.security</code> file. I have added already <code>ECDHE-RSA-AES256-GCM-SHA384</code> as <code>jdk.tls.legacyAlgorithms</code>. Here are the interesting settings from <code>java.securtity</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdk.tls.legacyAlgorithms= \\\n        K_NULL, C_NULL, M_NULL, \\\n        DH_anon, ECDH_anon, \\\n        RC4_128, RC4_40, DES_CBC, DES40_CBC, \\\n        3DES_EDE_CBC, ECDHE-RSA-AES256-GCM, ECDHE-RSA-AES256-GCM-SHA384\n\njdk.certpath.disabledAlgorithms=MD2, MD5, SHA1 jdkCA &amp; usage TLSServer, \\\n    RSA keySize &lt; 1024, DSA keySize &lt; 1024, EC keySize &lt; 224, \\\n    include jdk.disabled.namedCurves\n\njdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \\\n    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL, \\\n    include jdk.disabled.namedCurves\n</code></pre>\n<p>May be I'm blind, but I don't see where my problem is ...</p>\n<p>Ok, at first I have removed my extensions from <code>jdk.tls.legacyAlgorithms</code>, because these are not helpful and wrong (thanks to dave_thompson_085 for the hint).</p>\n<p>Here are the Java code for sending the emails (the code has a &quot;long&quot; history, so please don't wonder why there are <code>Vector</code> instead of <code>ArrayList</code> or so was used...)</p>\n<pre><code>// Create some properties and get the default Session\nProperties props = new Properties();\nprops.put(&quot;mail.smtp.host&quot;, smtpServer);\nprops.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\nprops.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n// SMTP authentication?\nSession session;\nif (username != null &amp;&amp; pwd != null &amp;&amp; username.length() &gt; 0 &amp;&amp; pwd.length() &gt; 0) {\n  props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n  //props.put(&quot;mail.smtp.user&quot;, username);\n  //props.put(&quot;mail.password&quot;, pwd);\n\n  // if SMTP authentication: use TLS in every case!\n  tls = true;\n\n  session = Session.getInstance(props, new MyPasswordAuthenticator(username, pwd));\n} else {\n  session = Session.getDefaultInstance(props, null);\n}\n\n// TLS?\nif (tls) {\n  props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n  //props.put(&quot;mail.smtp.tls&quot;, &quot;true&quot;);\n}\n\n// create a message\nSMTPMessage mimeMsg = new SMTPMessage(session);\n\nInternetAddress addressFrom = new InternetAddress(sender);\nmimeMsg.setFrom(addressFrom);\nmimeMsg.setEnvelopeFrom(sender);\n\n// Set recipients ...\nInternetAddress[] tos = new InternetAddress[receivers.size()];\nint i = 0;\nfor (String addr : receivers) {\n  tos[i++] = new InternetAddress(addr, extractPersonalNameFromEMailAddr(addr));\n}\n\n// Set CC recipients ...\nInternetAddress[] ccAddrs = new InternetAddress[0];\nif (ccs != null) {\n  ccAddrs = new InternetAddress[ccs.size()];\n\n  i = 0;\n  for (String addr : ccs) {\n    ccAddrs[i++] = new InternetAddress(addr, extractPersonalNameFromEMailAddr(addr));\n  }\n}\n\nmimeMsg.setRecipients(Message.RecipientType.TO, tos);\nmimeMsg.setRecipients(Message.RecipientType.CC, ccAddrs);\n\n// Set return notifications\nif (readNotificationRequest) {\n  String notifyAddr = replyTo;\n  if (notifyAddr == null || notifyAddr.trim().length() == 0) notifyAddr = sender;\n\n  mimeMsg.addHeader(&quot;Disposition-Notification-To&quot;, &quot;&lt;&quot; + notifyAddr + &quot;&gt;&quot;);\n  mimeMsg.addHeader(&quot;Return-Receipt-To&quot;, &quot;&lt;&quot; + notifyAddr + &quot;&gt;&quot;);\n}\n\nmimeMsg.addHeader(&quot;Date&quot;, mailDateFormat.format(new Date()));\n\nmimeMsg.setNotifyOptions(deliverNotificationRequest);\nmimeMsg.setReturnOption(deliverNotificationContent);\n\nif (replyTo != null) {\n  Address[] replyToAddrs = new Address[1];\n  replyToAddrs[0] = new InternetAddress(this.replyTo);\n\n  mimeMsg.setReplyTo(replyToAddrs);\n  mimeMsg.setFrom(replyToAddrs[0]);\n}\n\nmimeMsg.setSentDate(new Date());\nmimeMsg.setSubject(subject);\n//mimeMsg.setContent(msg, msgType);\n\n// Set the text content:\nMimeBodyPart msgPart = new MimeBodyPart();\nmsgPart.setContent(msg, msgType + &quot;; charset=&quot; + charset);\n\nMultipart multipart = new MimeMultipart();\nmultipart.addBodyPart(msgPart);\n\n// Add the attachments:\nString attFile;\nMimeBodyPart attachment;\nIterator&lt;String&gt; it = new Vector&lt;String&gt;(attachments).iterator();\n\nwhile (it.hasNext()) {\n  attFile = it.next();\n\n  attachment = new MimeBodyPart();\n  attachment.setDataHandler(new DataHandler(new AppOctetStreamFileDataSource(attFile)));\n  attachment.setFileName(FileUtil.extractFilename(attFile));\n\n  multipart.addBodyPart(attachment);\n}\n\nmimeMsg.setContent(multipart);\n\nSystem.out.println(&quot;mail.smtp.ssl.trust: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.trust&quot;) + &quot;&gt;&gt;&quot;);\nSystem.out.println(&quot;mail.smtp.ssl.socketfactory.class: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.socketfactory.class&quot;) + &quot;&gt;&gt;&quot;);\nSystem.out.println(&quot;mail.smtp.socketfactory.class: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.socketfactory.class&quot;) + &quot;&gt;&gt;&quot;);\nSystem.out.println(&quot;mail.smtp.ssl.protocols: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.protocols&quot;) + &quot;&gt;&gt;&quot;);\nSystem.out.println(&quot;mail.smtp.ssl.ciphersuites: &lt;&lt;&quot; + System.getProperty(&quot;mail.smtp.ssl.ciphersuites&quot;) + &quot;&gt;&gt;&quot;);\nSystem.out.println(&quot;SSLContext.getDefault().getDefaultSSLParameters().getProtocols(): &quot;\n        + Arrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getProtocols()));\nSystem.out.println(&quot;Arrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getCipherSuites(): &quot;\n        + Arrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getCipherSuites()));\n\nsession.setDebug(debug);\nTransport transport = session.getTransport(&quot;smtp&quot;);\ntransport.connect(smtpServer, 25, username, pwd);\n\n//System.out.println(&quot;#########&quot; + System.getProperty(&quot;mail.smtp.localhost&quot;));\n\ntransport.sendMessage(mimeMsg, mimeMsg.getAllRecipients());\n\ntransport.close();\n</code></pre>\n<p>For debugging I have add some System.out's for output the some interesting values.</p>\n<p>Here the standard output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DEBUG: JavaMail version 1.4.7\nDEBUG: successfully loaded resource: /META-INF/javamail.default.providers\nDEBUG: Tables of loaded providers\nDEBUG: Providers Listed By Class Name: {com.sun.mail.smtp.SMTPSSLTransport=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], com.sun.mail.smtp.SMTPTransport=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle], com.sun.mail.imap.IMAPSSLStore=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], com.sun.mail.pop3.POP3SSLStore=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], com.sun.mail.imap.IMAPStore=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], com.sun.mail.pop3.POP3Store=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle]}\nDEBUG: Providers Listed By Protocol: {imaps=javax.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle], imap=javax.mail.Provider[STORE,imap,com.sun.mail.imap.IMAPStore,Oracle], smtps=javax.mail.Provider[TRANSPORT,smtps,com.sun.mail.smtp.SMTPSSLTransport,Oracle], pop3=javax.mail.Provider[STORE,pop3,com.sun.mail.pop3.POP3Store,Oracle], pop3s=javax.mail.Provider[STORE,pop3s,com.sun.mail.pop3.POP3SSLStore,Oracle], smtp=javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]}\nDEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\nmail.smtp.ssl.trust: &lt;&lt;null&gt;&gt;\nmail.smtp.ssl.socketfactory.class: &lt;&lt;null&gt;&gt;\nmail.smtp.socketfactory.class: &lt;&lt;null&gt;&gt;\nmail.smtp.ssl.protocols: &lt;&lt;null&gt;&gt;\nmail.smtp.ssl.ciphersuites: &lt;&lt;null&gt;&gt;\nSSLContext.getDefault().getDefaultSSLParameters().getProtocols(): [TLSv1.3, TLSv1.2]\nArrays.toString(SSLContext.getDefault().getDefaultSSLParameters().getCipherSuites(): [TLS_AES_128_GCM_SHA256, TLS_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\n</code></pre>\n<p>And standard error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>javax.net.ssl|DEBUG|01|main|2021-06-10 08:28:39.042 CEST|SSLCipher.java:438|jdk.tls.keyLimits: entry = AES/GCM/NoPadding KeyUpdate 2^37. AES/GCM/NOPADDING:KEYUPDATE = 137438953472\njavax.net.ssl|ERROR|01|main|2021-06-10 08:28:39.306 CEST|TransportContext.java:341|Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking (\n&quot;throwable&quot; : {\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nat java.base/sun.security.ssl.HandshakeContext.(HandshakeContext.java:170)\nat java.base/sun.security.ssl.ClientHandshakeContext.(ClientHandshakeContext.java:98)\nat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:221)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\nat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:549)\nat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:486)\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1902)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\nat javax.mail.Service.connect(Service.java:295)\nat com.coco_on.tools.general.useCases.net.UCSendEMail.start(UCSendEMail.java:470)\nat com.tetrixSystems.tHiddenExecuter.Executer.start(Executer.java:233)\nat com.tetrixSystems.tHiddenExecuter.UCMain.start(UCMain.java:83)\nat com.tetrixSystems.tHiddenExecuter.UCMain.main(UCMain.java:49)}\n\n)\njavax.net.ssl|DEBUG|01|main|2021-06-10 08:28:39.306 CEST|SSLSocketImpl.java:1638|close the underlying socket\njavax.net.ssl|DEBUG|01|main|2021-06-10 08:28:39.306 CEST|SSLSocketImpl.java:1657|close the SSL connection (initiative)\njavax.mail.MessagingException: Could not convert socket to TLS;\nnested exception is:\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1907)\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:666)\nat javax.mail.Service.connect(Service.java:295)\nat com.coco_on.tools.general.useCases.net.UCSendEMail.start(UCSendEMail.java:470)\nat com.tetrixSystems.tHiddenExecuter.Executer.start(Executer.java:233)\nat com.tetrixSystems.tHiddenExecuter.UCMain.start(UCMain.java:83)\nat com.tetrixSystems.tHiddenExecuter.UCMain.main(UCMain.java:49)\nCaused by: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nat java.base/sun.security.ssl.HandshakeContext.(HandshakeContext.java:170)\nat java.base/sun.security.ssl.ClientHandshakeContext.(ClientHandshakeContext.java:98)\nat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:221)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)\nat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:549)\nat com.sun.mail.util.SocketFetcher.startTLS(SocketFetcher.java:486)\nat com.sun.mail.smtp.SMTPTransport.startTLS(SMTPTransport.java:1902)\n... 6 more\n</code></pre>\n<p>On the Postfix server side, OpenSSL 1.1.1 is installed:</p>\n<pre class=\"lang-none prettyprint-override\"><code>#&gt; openssl version\nOpenSSL 1.1.1d  10 Sep 2019\n</code></pre>\n<p>I don't believe that Java is using OpenSSL internally, but the client side openssl version (<a href=\"https://en.wikipedia.org/wiki/CentOS\" rel=\"noreferrer\">CentOS</a>/<a href=\"https://en.wikipedia.org/wiki/Red_Hat_Enterprise_Linux\" rel=\"noreferrer\">RHEL</a> 7) may be also interesting:</p>\n<pre class=\"lang-none prettyprint-override\"><code>#&gt; openssl version\nOpenSSL 1.0.2k-fips  26 Jan 2017\n</code></pre>\n"},{"tags":["java","lambda","java-8","final"],"comments":[{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":7,"creation_date":1406799234,"post_id":25055392,"comment_id":38974813,"body_markdown":"Related: [Why are only final variables accessible in anonymous class?](http://stackoverflow.com/questions/4732544)","body":"Related: <a href=\"http://stackoverflow.com/questions/4732544\">Why are only final variables accessible in anonymous class?</a>"},{"owner":{"account_id":181369,"reputation":2736,"user_id":415320,"accept_rate":100,"display_name":"Valentin Ruano"},"score":0,"creation_date":1528316339,"post_id":25055392,"comment_id":88465705,"body_markdown":"Let be known that at least with the latest version of the compiler java 1.8 local variables only need to be effectively final so they don&#39;t need to be declared final per se but the cannot be modified.","body":"Let be known that at least with the latest version of the compiler java 1.8 local variables only need to be effectively final so they don&#39;t need to be declared final per se but the cannot be modified."},{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":0,"creation_date":1538640338,"post_id":25055392,"comment_id":92216028,"body_markdown":"After reading all the answers here, I still think it&#39;s just a rule enforced by the compiler, designed to minimize programmer error - that is, there is no technical reason why mutable local variables can&#39;t be captured, or why captured local variables can&#39;t be mutated, for that matter. This point is supported by the fact that this rule can be readily circumvented by using an object wrapper (so the object reference is effectively final, but not the object itself). Another way is to create an array, i.e. `Integer[] count = {new Integer(5)}`. See also https://stackoverflow.com/a/50457016/7154924.","body":"After reading all the answers here, I still think it&#39;s just a rule enforced by the compiler, designed to minimize programmer error - that is, there is no technical reason why mutable local variables can&#39;t be captured, or why captured local variables can&#39;t be mutated, for that matter. This point is supported by the fact that this rule can be readily circumvented by using an object wrapper (so the object reference is effectively final, but not the object itself). Another way is to create an array, i.e. <code>Integer[] count = {new Integer(5)}</code>. See also <a href=\"https://stackoverflow.com/a/50457016/7154924\">stackoverflow.com/a/50457016/7154924</a>."},{"owner":{"account_id":316665,"reputation":87001,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":0,"creation_date":1589584632,"post_id":25055392,"comment_id":109362260,"body_markdown":"@McDowell, lambda&#39;s are not merely syntax sugar for anonymous classes but a different construct altogether.","body":"@McDowell, lambda&#39;s are not merely syntax sugar for anonymous classes but a different construct altogether."},{"owner":{"account_id":4248662,"reputation":843,"user_id":3476492,"accept_rate":89,"display_name":"01000001"},"score":0,"creation_date":1676653987,"post_id":25055392,"comment_id":133187312,"body_markdown":"@flow2k this is ok only as long as the reference to &quot;count&quot; doesn&#39;t change which is not the same as changing the value that points to it. Reference to the value must be final/effectively final, not the value itself. Considering this and article http://www.lambdafaq.org/what-are-the-reasons-for-the-restriction-to-effective-immutability/ it does make sense why allowing a mutable reference will have undesirable effects.","body":"@flow2k this is ok only as long as the reference to &quot;count&quot; doesn&#39;t change which is not the same as changing the value that points to it. Reference to the value must be final/effectively final, not the value itself. Considering this and article <a href=\"http://www.lambdafaq.org/what-are-the-reasons-for-the-restriction-to-effective-immutability/\" rel=\"nofollow noreferrer\">lambdafaq.org/&hellip;</a> it does make sense why allowing a mutable reference will have undesirable effects."}],"answers":[{"tags":[],"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1406799201,"creation_date":1406799201,"answer_id":25055489,"question_id":25055392,"body_markdown":"It seems like you are asking about variables that you can reference from a lambda body.\r\n\r\nFrom the [JLS &#167;15.27.2][1]\r\n\r\n&gt; Any local variable, formal parameter, or exception parameter used but not declared in a lambda expression must either be declared final or be effectively final (&#167;4.12.4), or a compile-time error occurs where the use is attempted.\r\n\r\nSo you don&#39;t need to declare variables as `final` you just need to make sure that they are &quot;effectively final&quot;. This is the same rule as applies to anonymous classes.\r\n\r\n[1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>It seems like you are asking about variables that you can reference from a lambda body.</p>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.27.2\">JLS 15.27.2</a></p>\n\n<blockquote>\n  <p>Any local variable, formal parameter, or exception parameter used but not declared in a lambda expression must either be declared final or be effectively final (4.12.4), or a compile-time error occurs where the use is attempted.</p>\n</blockquote>\n\n<p>So you don't need to declare variables as <code>final</code> you just need to make sure that they are \"effectively final\". This is the same rule as applies to anonymous classes.</p>\n"},{"tags":[],"owner":{"account_id":396919,"reputation":3944,"user_id":760757,"display_name":"Adam Adamaszek"},"down_vote_count":0,"up_vote_count":64,"is_accepted":true,"score":64,"last_activity_date":1460019275,"creation_date":1406799444,"answer_id":25055561,"question_id":25055392,"body_markdown":"The fundamental difference between a field and a local variable is that the local variable is ***copied*** when JVM creates a lambda instance. On the other hand, fields can be changed freely, because the changes to them are propagated to the outside class instance as well (their *scope* is the whole outside class, as Boris pointed out below).\r\n\r\nThe easiest way of thinking about anonymous classes, closures and labmdas is from the *variable scope* perspective; imagine a copy constructor added for all local variables you pass to a closure.\r\n","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>The fundamental difference between a field and a local variable is that the local variable is <strong><em>copied</em></strong> when JVM creates a lambda instance. On the other hand, fields can be changed freely, because the changes to them are propagated to the outside class instance as well (their <em>scope</em> is the whole outside class, as Boris pointed out below).</p>\n\n<p>The easiest way of thinking about anonymous classes, closures and labmdas is from the <em>variable scope</em> perspective; imagine a copy constructor added for all local variables you pass to a closure.</p>\n"},{"tags":[],"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1675929018,"creation_date":1406799967,"answer_id":25055739,"question_id":25055392,"body_markdown":"In a document of project lambda, [State of the Lambda v4][1], under Section **7. Variable capture**, it is mentioned that:\r\n\r\n&gt; It is our intent to prohibit capture of mutable local variables. The\r\n&gt; reason is that idioms like this:\r\n&gt;\r\n&gt;     int sum = 0;\r\n&gt;     list.forEach(e -&gt; { sum += e.size(); });\r\n&gt;\r\n&gt; are fundamentally serial; it is quite difficult to write lambda bodies\r\n&gt; like this that do not have race conditions. Unless we are willing to\r\n&gt; enforcepreferably at compile timethat such a function cannot escape\r\n&gt; its capturing thread, this feature may well cause more trouble than it\r\n&gt; solves.\r\n\r\nAnother thing to note here is, local variables are passed in the constructor of an inner class when you access them inside your inner class, and this won&#39;t work with non-final variable because value of non-final variables can be changed after construction.\r\n\r\nWhile in case of an instance variable, the compiler passes a reference of the object and object reference will be used to access instance variables. So, it is not required in case of instance variables.\r\n\r\nPS : It is worth mentioning that anonymous classes can access only final local variables (in Java SE 7), while in Java SE 8 you can access effectively final variables also inside lambda as well as inner classes.\r\n\r\n\r\n  [1]: http://cr.openjdk.java.net/~briangoetz/lambda/lambda-state-4.html","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>In a document of project lambda, <a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/lambda/lambda-state-4.html\" rel=\"nofollow noreferrer\">State of the Lambda v4</a>, under Section <strong>7. Variable capture</strong>, it is mentioned that:</p>\n<blockquote>\n<p>It is our intent to prohibit capture of mutable local variables. The\nreason is that idioms like this:</p>\n<pre><code>int sum = 0;\nlist.forEach(e -&gt; { sum += e.size(); });\n</code></pre>\n<p>are fundamentally serial; it is quite difficult to write lambda bodies\nlike this that do not have race conditions. Unless we are willing to\nenforcepreferably at compile timethat such a function cannot escape\nits capturing thread, this feature may well cause more trouble than it\nsolves.</p>\n</blockquote>\n<p>Another thing to note here is, local variables are passed in the constructor of an inner class when you access them inside your inner class, and this won't work with non-final variable because value of non-final variables can be changed after construction.</p>\n<p>While in case of an instance variable, the compiler passes a reference of the object and object reference will be used to access instance variables. So, it is not required in case of instance variables.</p>\n<p>PS : It is worth mentioning that anonymous classes can access only final local variables (in Java SE 7), while in Java SE 8 you can access effectively final variables also inside lambda as well as inner classes.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1406830557,"creation_date":1406830557,"answer_id":25066143,"question_id":25055392,"body_markdown":"Because instance variables are always accessed through a field access operation on a reference to some object, i.e. `some_expression.instance_variable`. Even when you don&#39;t explicitly access it through dot notation, like `instance_variable`, it is implicitly treated as `this.instance_variable` (or if you&#39;re in an inner class accessing an outer class&#39;s instance variable, `OuterClass.this.instance_variable`, which is under the hood `this.&lt;hidden reference to outer this&gt;.instance_variable`).\r\n\r\nThus an instance variable is never directly accessed, and the real &quot;variable&quot; you&#39;re directly accessing is `this` (which is &quot;effectively final&quot; since it is not assignable), or a variable at the beginning of some other expression.","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>Because instance variables are always accessed through a field access operation on a reference to some object, i.e. <code>some_expression.instance_variable</code>. Even when you don't explicitly access it through dot notation, like <code>instance_variable</code>, it is implicitly treated as <code>this.instance_variable</code> (or if you're in an inner class accessing an outer class's instance variable, <code>OuterClass.this.instance_variable</code>, which is under the hood <code>this.&lt;hidden reference to outer this&gt;.instance_variable</code>).</p>\n\n<p>Thus an instance variable is never directly accessed, and the real \"variable\" you're directly accessing is <code>this</code> (which is \"effectively final\" since it is not assignable), or a variable at the beginning of some other expression.</p>\n"},{"tags":[],"owner":{"account_id":4772387,"reputation":147,"user_id":3856718,"display_name":"losty"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1408608335,"creation_date":1408608335,"answer_id":25421211,"question_id":25055392,"body_markdown":"Here is a code example, as I didn&#39;t expect this either, I expected to be unable to modify anything outside my lambda\r\n\r\n\r\n     public class LambdaNonFinalExample {\r\n        static boolean odd = false;\r\n     \r\n        public static void main(String[] args) throws Exception {\r\n           //boolean odd = false; - If declared inside the method then I get the expected &quot;Effectively Final&quot; compile error\r\n           runLambda(() -&gt; odd = true);\r\n           System.out.println(&quot;Odd=&quot; + odd);\r\n        }\r\n     \r\n        public static void runLambda(Callable c) throws Exception {\r\n           c.call();\r\n        }\r\n     \r\n     }\r\n\r\nOutput:\r\n     Odd=true","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>Here is a code example, as I didn't expect this either, I expected to be unable to modify anything outside my lambda</p>\n\n<pre><code> public class LambdaNonFinalExample {\n    static boolean odd = false;\n\n    public static void main(String[] args) throws Exception {\n       //boolean odd = false; - If declared inside the method then I get the expected \"Effectively Final\" compile error\n       runLambda(() -&gt; odd = true);\n       System.out.println(\"Odd=\" + odd);\n    }\n\n    public static void runLambda(Callable c) throws Exception {\n       c.call();\n    }\n\n }\n</code></pre>\n\n<p>Output:\n     Odd=true</p>\n"},{"tags":[],"owner":{"account_id":6381340,"reputation":131,"user_id":4950679,"display_name":"nasioman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1437322108,"creation_date":1437321191,"answer_id":31503057,"question_id":25055392,"body_markdown":"Within Lambda expressions you can use effectively final variables from the surrounding scope.\r\nEffectively means that it is not mandatory to declare variable final but make sure you do not change its state within the lambda expresssion.\r\n\r\nYou can also use this within closures and using &quot;this&quot; means the enclosing object but not the lambda itself as closures are anonymous functions and they do not have class associated with them.\r\n\r\nSo when you use any field (let say private Integer i;)from the enclosing class which is not declared final and not effectively final it will still work as the compiler makes the trick on your behalf and insert &quot;this&quot; (this.i).\r\n\r\n    private Integer i = 0;\r\n\tpublic  void process(){\r\n\t\tConsumer&lt;Integer&gt; c = (i)-&gt; System.out.println(++this.i);\r\n\t\tc.accept(i);\r\n\t}\r\n","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>Within Lambda expressions you can use effectively final variables from the surrounding scope.\nEffectively means that it is not mandatory to declare variable final but make sure you do not change its state within the lambda expresssion.</p>\n\n<p>You can also use this within closures and using \"this\" means the enclosing object but not the lambda itself as closures are anonymous functions and they do not have class associated with them.</p>\n\n<p>So when you use any field (let say private Integer i;)from the enclosing class which is not declared final and not effectively final it will still work as the compiler makes the trick on your behalf and insert \"this\" (this.i).</p>\n\n<pre><code>private Integer i = 0;\npublic  void process(){\n    Consumer&lt;Integer&gt; c = (i)-&gt; System.out.println(++this.i);\n    c.accept(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3725757,"reputation":3130,"user_id":3099704,"accept_rate":70,"display_name":"Sedat Gokcen"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1493850610,"creation_date":1493850610,"answer_id":43771031,"question_id":25055392,"body_markdown":"In [Java 8 in Action][1] book, this situation is explained as:\r\n\r\n&gt; You may be asking yourself why local variables have these restrictions. \r\nFirst, theres a key\r\ndifference in how instance and local variables are implemented behind the scenes. Instance\r\nvariables are stored on the heap, whereas local variables live on the stack. If a lambda could\r\naccess the local variable directly and the lambda were used in a thread, then the thread using the\r\nlambda could try to access the variable after the thread that allocated the variable had\r\ndeallocated it. Hence, Java implements access to a free local variable as access to a copy of it\r\nrather than access to the original variable. This makes no difference if the local variable is\r\nassigned to only oncehence the restriction.\r\nSecond, this restriction also discourages typical imperative programming patterns (which, as we\r\nexplain in later chapters, prevent easy parallelization) that mutate an outer variable.\r\n\r\n\r\n  [1]: https://www.manning.com/books/java-8-in-action","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>In <a href=\"https://www.manning.com/books/java-8-in-action\" rel=\"noreferrer\">Java 8 in Action</a> book, this situation is explained as:</p>\n\n<blockquote>\n  <p>You may be asking yourself why local variables have these restrictions. \n  First, theres a key\n  difference in how instance and local variables are implemented behind the scenes. Instance\n  variables are stored on the heap, whereas local variables live on the stack. If a lambda could\n  access the local variable directly and the lambda were used in a thread, then the thread using the\n  lambda could try to access the variable after the thread that allocated the variable had\n  deallocated it. Hence, Java implements access to a free local variable as access to a copy of it\n  rather than access to the original variable. This makes no difference if the local variable is\n  assigned to only oncehence the restriction.\n  Second, this restriction also discourages typical imperative programming patterns (which, as we\n  explain in later chapters, prevent easy parallelization) that mutate an outer variable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526102261,"creation_date":1526096786,"answer_id":50302655,"question_id":25055392,"body_markdown":"YES, you can change the **member variables** of the instance but you **CANNOT** change the instance itself just like when you handle **variables**. \r\n\r\nSomething like this as mentioned:\r\n\r\n        class Car {\r\n            public String name;\r\n        }\r\n    \r\n        public void testLocal() {\r\n            int theLocal = 6;\r\n            Car bmw = new Car();\r\n            bmw.name = &quot;BMW&quot;;\r\n            Stream.iterate(0, i -&gt; i + 2).limit(2)\r\n            .forEach(i -&gt; {\r\n    //            bmw = new Car(); // LINE - 1;\r\n                bmw.name = &quot;BMW NEW&quot;; // LINE - 2;\r\n                System.out.println(&quot;Testing local variables: &quot; + (theLocal + i));\r\n                \r\n            });\r\n            // have to comment this to ensure it&#39;s `effectively final`;\r\n    //        theLocal = 2; \r\n        }\r\n\r\nThe basic principle to restrict the **local variables** is about [data and computation validity](http://www.lambdafaq.org/what-are-the-reasons-for-the-restriction-to-effective-immutability/)\r\n\r\n&gt; If the lambda, evaluated by the second thread, were given the ability to mutate local variables. Even the ability to read the value of mutable local variables from a different thread would introduce the necessity for **synchronization** or the use of **volatile** in order to avoid reading stale data.\r\n\r\nBut as we know the [**principal purpose** of the lambdas](http://www.lambdafaq.org/why-are-lambda-expressions-being-added-to-java/) \r\n\r\n&gt; Amongst the different reasons for this, the most pressing one for the Java platform is that they make it easier to distribute processing of collections over **multiple threads**. \r\n\r\nQuite unlike local variables, local **instance** can be mutated, because it&#39;s **shared** globally. We can understand this better via the [heap and stack difference](https://www.journaldev.com/4098/java-heap-space-vs-stack-memory): \r\n\r\n&gt; Whenever an object is created, its always stored in the Heap space and stack memory contains the reference to it. Stack memory only contains local primitive variables and reference variables to objects in heap space.\r\n\r\nSo to sum up, there are two points I think really matter:\r\n\r\n1. It&#39;s really hard to make the **instance** *effectively final*, which might cause lots of senseless burden (just imagine the deep-nested class);\r\n\r\n2. the instance itself is already globally shared and lambda is also shareable among threads, so they can work together properly since we know we&#39;re handling the **mutation** and want to pass this mutation around; \r\n\r\nBalance point here is clear: if you know what you are doing, you can do it **easily** but if not then the **default restriction** will help to avoid *insidious* bugs. \r\n\r\nP.S. If the *synchronization* required in **instance mutation**, you can use directly the [stream reduction methods](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html) or if there is dependency issue in **instance mutation**, you still can use `thenApply` or `thenCompose` in [Function](https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html) while `mapping` or methods similar. ","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>YES, you can change the <strong>member variables</strong> of the instance but you <strong>CANNOT</strong> change the instance itself just like when you handle <strong>variables</strong>. </p>\n\n<p>Something like this as mentioned:</p>\n\n<pre><code>    class Car {\n        public String name;\n    }\n\n    public void testLocal() {\n        int theLocal = 6;\n        Car bmw = new Car();\n        bmw.name = \"BMW\";\n        Stream.iterate(0, i -&gt; i + 2).limit(2)\n        .forEach(i -&gt; {\n//            bmw = new Car(); // LINE - 1;\n            bmw.name = \"BMW NEW\"; // LINE - 2;\n            System.out.println(\"Testing local variables: \" + (theLocal + i));\n\n        });\n        // have to comment this to ensure it's `effectively final`;\n//        theLocal = 2; \n    }\n</code></pre>\n\n<p>The basic principle to restrict the <strong>local variables</strong> is about <a href=\"http://www.lambdafaq.org/what-are-the-reasons-for-the-restriction-to-effective-immutability/\" rel=\"nofollow noreferrer\">data and computation validity</a></p>\n\n<blockquote>\n  <p>If the lambda, evaluated by the second thread, were given the ability to mutate local variables. Even the ability to read the value of mutable local variables from a different thread would introduce the necessity for <strong>synchronization</strong> or the use of <strong>volatile</strong> in order to avoid reading stale data.</p>\n</blockquote>\n\n<p>But as we know the <a href=\"http://www.lambdafaq.org/why-are-lambda-expressions-being-added-to-java/\" rel=\"nofollow noreferrer\"><strong>principal purpose</strong> of the lambdas</a> </p>\n\n<blockquote>\n  <p>Amongst the different reasons for this, the most pressing one for the Java platform is that they make it easier to distribute processing of collections over <strong>multiple threads</strong>. </p>\n</blockquote>\n\n<p>Quite unlike local variables, local <strong>instance</strong> can be mutated, because it's <strong>shared</strong> globally. We can understand this better via the <a href=\"https://www.journaldev.com/4098/java-heap-space-vs-stack-memory\" rel=\"nofollow noreferrer\">heap and stack difference</a>: </p>\n\n<blockquote>\n  <p>Whenever an object is created, its always stored in the Heap space and stack memory contains the reference to it. Stack memory only contains local primitive variables and reference variables to objects in heap space.</p>\n</blockquote>\n\n<p>So to sum up, there are two points I think really matter:</p>\n\n<ol>\n<li><p>It's really hard to make the <strong>instance</strong> <em>effectively final</em>, which might cause lots of senseless burden (just imagine the deep-nested class);</p></li>\n<li><p>the instance itself is already globally shared and lambda is also shareable among threads, so they can work together properly since we know we're handling the <strong>mutation</strong> and want to pass this mutation around; </p></li>\n</ol>\n\n<p>Balance point here is clear: if you know what you are doing, you can do it <strong>easily</strong> but if not then the <strong>default restriction</strong> will help to avoid <em>insidious</em> bugs. </p>\n\n<p>P.S. If the <em>synchronization</em> required in <strong>instance mutation</strong>, you can use directly the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\">stream reduction methods</a> or if there is dependency issue in <strong>instance mutation</strong>, you still can use <code>thenApply</code> or <code>thenCompose</code> in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\">Function</a> while <code>mapping</code> or methods similar. </p>\n"},{"tags":[],"owner":{"account_id":5968065,"reputation":14213,"user_id":4691279,"accept_rate":58,"display_name":"hagrawal7777"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1534282276,"creation_date":1534282276,"answer_id":51850049,"question_id":25055392,"body_markdown":"*Putting up some concepts for future visitors:*\r\n\r\nBasically it all boils down to the point that **compiler should be able to deterministically tell that lambda expression body is not working on a stale copy of the variables**. \r\n\r\nIn case of local variables, compiler has no way to be sure that lambda expression body is not working on a stale copy of the variable unless that variable is final or effectively final, so local variables should be either final or effectively final.\r\n\r\nNow, in case of instance fields, when you access an instance field inside the lambda expression then compiler will append a `this` to that variable access (if you have not done it explicitly) and since `this` is effectively final so compiler is sure that lambda expression body will always have the latest copy of the variable (please note that multi-threading is out of scope right now for this discussion). So, in case instance fields, compiler can tell that lambda body has latest copy of instance variable so instance variables need not to be final or effectively final.  Please refer below screen shot from an Oracle slide:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso, please note that if you are accessing an instance field in lambda expression and that is getting executed in multi-threaded environment then you could potentially run in problem.\r\n\r\n  [1]: https://i.stack.imgur.com/QOQmt.png","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p><em>Putting up some concepts for future visitors:</em></p>\n\n<p>Basically it all boils down to the point that <strong>compiler should be able to deterministically tell that lambda expression body is not working on a stale copy of the variables</strong>. </p>\n\n<p>In case of local variables, compiler has no way to be sure that lambda expression body is not working on a stale copy of the variable unless that variable is final or effectively final, so local variables should be either final or effectively final.</p>\n\n<p>Now, in case of instance fields, when you access an instance field inside the lambda expression then compiler will append a <code>this</code> to that variable access (if you have not done it explicitly) and since <code>this</code> is effectively final so compiler is sure that lambda expression body will always have the latest copy of the variable (please note that multi-threading is out of scope right now for this discussion). So, in case instance fields, compiler can tell that lambda body has latest copy of instance variable so instance variables need not to be final or effectively final.  Please refer below screen shot from an Oracle slide:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QOQmt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QOQmt.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also, please note that if you are accessing an instance field in lambda expression and that is getting executed in multi-threaded environment then you could potentially run in problem.</p>\n"},{"tags":[],"owner":{"account_id":10255582,"reputation":21,"user_id":7568528,"display_name":"Sambhav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579369026,"creation_date":1579368715,"answer_id":59803124,"question_id":25055392,"body_markdown":"First, there is a key difference in how local and instance variables are implemented behind the scenes. Instance variables are stored in the heap, whereas local variables stored in the stack.\r\nIf the lambda could access the local variable directly and the lambda was used in a thread, then the thread using the lambda could try to access the variable after the thread that allocated the variable had deallocated it.\r\n\r\nIn short: to ensure another thread does not override the original value, it is better to provide access to the copy variable rather than the original one.\r\n\r\n","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>First, there is a key difference in how local and instance variables are implemented behind the scenes. Instance variables are stored in the heap, whereas local variables stored in the stack.\nIf the lambda could access the local variable directly and the lambda was used in a thread, then the thread using the lambda could try to access the variable after the thread that allocated the variable had deallocated it.</p>\n\n<p>In short: to ensure another thread does not override the original value, it is better to provide access to the copy variable rather than the original one.</p>\n"}],"owner":{"account_id":1768281,"reputation":2824,"user_id":1613613,"accept_rate":89,"display_name":"Gerard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89320,"favorite_count":0,"down_vote_count":1,"up_vote_count":81,"accepted_answer_id":25055561,"answer_count":10,"score":80,"last_activity_date":1675929018,"creation_date":1406798939,"question_id":25055392,"body_markdown":"In a lambda, local variables need to be final, but instance variables don&#39;t. Why so?","title":"Lambdas: local variables need final, instance variables don&#39;t","body":"<p>In a lambda, local variables need to be final, but instance variables don't. Why so?</p>\n"},{"tags":["java","linux","spring-boot"],"comments":[{"owner":{"account_id":20504373,"reputation":13,"user_id":18131215,"display_name":"Eliana Ch&#225;vez Valencia"},"score":0,"creation_date":1675887675,"post_id":75391156,"comment_id":133027127,"body_markdown":"No it isn&#39;t :(  &#39;Cause the devops tool we use copy the jar files outside the project folder.","body":"No it isn&#39;t :(  &#39;Cause the devops tool we use copy the jar files outside the project folder."}],"answers":[{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675928719,"creation_date":1675928719,"answer_id":75395578,"question_id":75391156,"body_markdown":"Reading the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLClassLoader.html) of `URLClassLoader` we find:\r\n\r\n&gt; This class loader is used to load classes and resources from a search path of URLs referring to both JAR files and directories. Any `jar:` scheme URL (see [JarURLConnection](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/JarURLConnection.html)) is assumed to refer to a JAR file.\r\n\r\nand following the above [link](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/JarURLConnection.html) to `JarURLConnection`:\r\n\r\n&gt; The syntax of a JAR URL is:\r\n&gt; \r\n&gt;  `jar:&lt;url&gt;!/{entry}`  \r\n&gt;\r\n&gt; . . . If the entry name is omitted, the URL refers to the whole JAR file: `jar:http://www.example.com/bar/baz.jar!/` **&#185;**\r\n&gt; \r\n\r\nPutting these together, we get, for the first JAR posted in question: \r\n\r\n`jar:file:/Users/test.user/test/library.jar!/`\r\n\r\n-----\r\n\r\n&lt;sub&gt;**1** address changed from `foo` to `example` since the first is not accepted by StackOverflow (apparently even not inside a quoted code) &lt;/sub&gt;","title":"Access an external jar file in Java","body":"<p>Reading the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\">documentation</a> of <code>URLClassLoader</code> we find:</p>\n<blockquote>\n<p>This class loader is used to load classes and resources from a search path of URLs referring to both JAR files and directories. Any <code>jar:</code> scheme URL (see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/JarURLConnection.html\" rel=\"nofollow noreferrer\">JarURLConnection</a>) is assumed to refer to a JAR file.</p>\n</blockquote>\n<p>and following the above <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/JarURLConnection.html\" rel=\"nofollow noreferrer\">link</a> to <code>JarURLConnection</code>:</p>\n<blockquote>\n<p>The syntax of a JAR URL is:</p>\n<p><code>jar:&lt;url&gt;!/{entry}</code></p>\n<p>. . . If the entry name is omitted, the URL refers to the whole JAR file: <code>jar:http://www.example.com/bar/baz.jar!/</code> <strong></strong></p>\n</blockquote>\n<p>Putting these together, we get, for the first JAR posted in question:</p>\n<p><code>jar:file:/Users/test.user/test/library.jar!/</code></p>\n<hr />\n<p><sub><strong>1</strong> address changed from <code>foo</code> to <code>example</code> since the first is not accepted by StackOverflow (apparently even not inside a quoted code) </sub></p>\n"}],"owner":{"account_id":20504373,"reputation":13,"user_id":18131215,"display_name":"Eliana Ch&#225;vez Valencia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675928930,"creation_date":1675886454,"question_id":75391156,"body_markdown":"I&#39;m trying to access a specific class from an external jar library.\r\nI have configured the path in my properties file\r\n\r\n`test-library = file:/Users/test.user/test/library.jar`\r\n\r\n`test-library2 = file:/Users/test.user/test/library2.jar`\r\n\r\nThen I try to access it from the code but I get ClassNotFoundErrorException or IllegalArgumentException: URI is not absolute when I modify the path as follows\r\n\r\n`test-library = /Users/test.user/test/library.jar`\r\n\r\n`test-library2 = /Users/test.user/test/library2.jar`\r\n\r\nWhen I locate the jar files in the resources folder and specify the path as follows **it works fine.** \r\n\r\n`test-library = classpath:library/library.jar`\r\n\r\n`test-library2 = classpath:library/library2.jar`\r\n\r\nHowever I need to access the jar files because when the code is deployed we cannot have the jar files in the resource folder but in an external location.\r\n\r\n**What is the correct way to specify the path of the external jar files so java could find the classes I need?**\r\n \r\n\r\nThis is the code where I&#39;m invoking the external libraries and as I said before it works fine if the jar files are in the resource folder but I need to access the jar files from an external location in the machine.\r\n\r\n\r\n```\r\n@Value(&quot;${test-library}&quot;)\r\nString library;\r\n\r\n@Value(&quot;${test-library2}&quot;)\r\nString library2;\r\n\r\n  \r\npublic String testMethod(String text1, String text2) {\r\n try {\r\n   log.info(&quot;[testMethod] start process&quot;);\r\n\r\n   URLClassLoader urlClassLoader =\r\n          new URLClassLoader(\r\n              new URL[] {URI.create(library).toURL(), URI.create(library2).toURL()},\r\n              this.getClass().getClassLoader());\r\n\r\n      Class&lt;?&gt; classInstance = Class.forName(&quot;pro.test.service.TestService&quot;, true, urlClassLoader);\r\n      \r\n      Method getInstanceMethod = classInstance.getMethod(&quot;getInstance&quot;, String.class, String.class);\r\n\r\n      Object instance = getInstanceMethod.invoke(null, data1, data2);\r\n\r\n      Method libraryMethod = classInstance.getMethod(&quot;libraryMethod&quot;, String.class, String.class);\r\n\r\n      log.info(&quot;[testMethod] end process&quot;);\r\n\r\n      return (String) libraryMethod.invoke(instance, text1, text2);\r\n\r\n    } catch (Exception e) {\r\n      log.error(&quot;Error testing library method: &quot;, e);\r\n      throw e;\r\n    }\r\n  }```\r\n","title":"Access an external jar file in Java","body":"<p>I'm trying to access a specific class from an external jar library.\nI have configured the path in my properties file</p>\n<p><code>test-library = file:/Users/test.user/test/library.jar</code></p>\n<p><code>test-library2 = file:/Users/test.user/test/library2.jar</code></p>\n<p>Then I try to access it from the code but I get ClassNotFoundErrorException or IllegalArgumentException: URI is not absolute when I modify the path as follows</p>\n<p><code>test-library = /Users/test.user/test/library.jar</code></p>\n<p><code>test-library2 = /Users/test.user/test/library2.jar</code></p>\n<p>When I locate the jar files in the resources folder and specify the path as follows <strong>it works fine.</strong></p>\n<p><code>test-library = classpath:library/library.jar</code></p>\n<p><code>test-library2 = classpath:library/library2.jar</code></p>\n<p>However I need to access the jar files because when the code is deployed we cannot have the jar files in the resource folder but in an external location.</p>\n<p><strong>What is the correct way to specify the path of the external jar files so java could find the classes I need?</strong></p>\n<p>This is the code where I'm invoking the external libraries and as I said before it works fine if the jar files are in the resource folder but I need to access the jar files from an external location in the machine.</p>\n<pre><code>@Value(&quot;${test-library}&quot;)\nString library;\n\n@Value(&quot;${test-library2}&quot;)\nString library2;\n\n  \npublic String testMethod(String text1, String text2) {\n try {\n   log.info(&quot;[testMethod] start process&quot;);\n\n   URLClassLoader urlClassLoader =\n          new URLClassLoader(\n              new URL[] {URI.create(library).toURL(), URI.create(library2).toURL()},\n              this.getClass().getClassLoader());\n\n      Class&lt;?&gt; classInstance = Class.forName(&quot;pro.test.service.TestService&quot;, true, urlClassLoader);\n      \n      Method getInstanceMethod = classInstance.getMethod(&quot;getInstance&quot;, String.class, String.class);\n\n      Object instance = getInstanceMethod.invoke(null, data1, data2);\n\n      Method libraryMethod = classInstance.getMethod(&quot;libraryMethod&quot;, String.class, String.class);\n\n      log.info(&quot;[testMethod] end process&quot;);\n\n      return (String) libraryMethod.invoke(instance, text1, text2);\n\n    } catch (Exception e) {\n      log.error(&quot;Error testing library method: &quot;, e);\n      throw e;\n    }\n  }```\n</code></pre>\n"},{"tags":["java","logstash","elastic-stack","elk"],"answers":[{"tags":[],"owner":{"account_id":16329104,"reputation":3983,"user_id":11792977,"display_name":"Badger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622555116,"creation_date":1622555116,"answer_id":67790040,"question_id":67789961,"body_markdown":"You will need to install an older version of logstash. Currently your clickhouse plugin requires the http_client mixin to be less than 6.0.0, whilst the http output and http filter require the http_client mixin to be greater than or equal to 6.0.0.","title":"logstash-output-clickhouse throws error while installing plugin","body":"<p>You will need to install an older version of logstash. Currently your clickhouse plugin requires the http_client mixin to be less than 6.0.0, whilst the http output and http filter require the http_client mixin to be greater than or equal to 6.0.0.</p>\n"},{"tags":[],"owner":{"account_id":2551102,"reputation":5113,"user_id":2214831,"accept_rate":58,"display_name":"boycod3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675928896,"creation_date":1675928896,"answer_id":75395609,"question_id":67789961,"body_markdown":"instead of using .gem file, you can use.\r\n `./logstash-plugin install logstash-output-clickhouse`","title":"logstash-output-clickhouse throws error while installing plugin","body":"<p>instead of using .gem file, you can use.\n<code>./logstash-plugin install logstash-output-clickhouse</code></p>\n"}],"owner":{"account_id":11703318,"reputation":73,"user_id":8567637,"accept_rate":75,"display_name":"flixy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67790040,"answer_count":2,"score":0,"last_activity_date":1675928896,"creation_date":1622554836,"question_id":67789961,"body_markdown":"    Validating logstash-output-clickhouse-0.1.0.gem\r\n    Installing logstash-output-clickhouse\r\n    Plugin version conflict, aborting\r\n    ERROR: Installation Aborted, message: Bundler could not find compatible versions for gem &quot;logstash-mixin-http_client&quot;:\r\n      In snapshot (Gemfile.lock):\r\n        logstash-mixin-http_client (= 6.0.1)\r\n    \r\n      In Gemfile:\r\n        logstash-filter-http java was resolved to 1.0.2, which depends on\r\n          logstash-mixin-http_client (&gt;= 5.0.0, &lt; 9.0.0) java\r\n    \r\n        logstash-input-http_poller java was resolved to 4.0.5, which depends on\r\n          logstash-mixin-http_client (&gt;= 6.0.0, &lt; 7.0.0) java\r\n    \r\n        logstash-output-clickhouse (= 0.1.0) java was resolved to 0.1.0, which depends on\r\n          logstash-mixin-http_client (&gt;= 2.2.1, &lt; 6.0.0) java\r\n    \r\n        logstash-output-http java was resolved to 5.2.4, which depends on\r\n          logstash-mixin-http_client (&gt;= 6.0.0, &lt; 8.0.0) java\r\n    \r\n    Running `bundle update` will rebuild your snapshot from scratch, using only\r\n    the gems in your Gemfile, which may resolve the conflict.\r\n\r\n\r\nI&#39;m trying to install logstash-output-clickhouse-0.1.0.gem on Centos. And I&#39;m getting this error when I try to install the plugin using the below command.\r\n\r\n    bin/logstash-plugin install logstash-output-clickhouse-0.1.0.gem\r\n\r\n**Can anyone please explain what version needs to be upgrade or downgrade.**","title":"logstash-output-clickhouse throws error while installing plugin","body":"<pre><code>Validating logstash-output-clickhouse-0.1.0.gem\nInstalling logstash-output-clickhouse\nPlugin version conflict, aborting\nERROR: Installation Aborted, message: Bundler could not find compatible versions for gem &quot;logstash-mixin-http_client&quot;:\n  In snapshot (Gemfile.lock):\n    logstash-mixin-http_client (= 6.0.1)\n\n  In Gemfile:\n    logstash-filter-http java was resolved to 1.0.2, which depends on\n      logstash-mixin-http_client (&gt;= 5.0.0, &lt; 9.0.0) java\n\n    logstash-input-http_poller java was resolved to 4.0.5, which depends on\n      logstash-mixin-http_client (&gt;= 6.0.0, &lt; 7.0.0) java\n\n    logstash-output-clickhouse (= 0.1.0) java was resolved to 0.1.0, which depends on\n      logstash-mixin-http_client (&gt;= 2.2.1, &lt; 6.0.0) java\n\n    logstash-output-http java was resolved to 5.2.4, which depends on\n      logstash-mixin-http_client (&gt;= 6.0.0, &lt; 8.0.0) java\n\nRunning `bundle update` will rebuild your snapshot from scratch, using only\nthe gems in your Gemfile, which may resolve the conflict.\n</code></pre>\n<p>I'm trying to install logstash-output-clickhouse-0.1.0.gem on Centos. And I'm getting this error when I try to install the plugin using the below command.</p>\n<pre><code>bin/logstash-plugin install logstash-output-clickhouse-0.1.0.gem\n</code></pre>\n<p><strong>Can anyone please explain what version needs to be upgrade or downgrade.</strong></p>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1487347421,"post_id":42302080,"comment_id":71759390,"body_markdown":"Welcome to SO.  Can you show us some code about what you&#39;ve tried so far?","body":"Welcome to SO.  Can you show us some code about what you&#39;ve tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":1732446,"reputation":10581,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487347610,"creation_date":1487347109,"answer_id":42302216,"question_id":42302080,"body_markdown":"It&#39;s not impossible to have a ManyToOne relationship in JPA. Here you have an example:\r\n\r\nhttps://en.wikibooks.org/wiki/Java_Persistence/ManyToOne\r\n\r\nConcerning how to solve your particular problem using tables in two databases, you could use two different data sources, or a view on one of the databases, pointing to the table on the other one. The choice mainly depends on the nature of the databases you&#39;re trying to connect.","title":"JPA: many to one mapping from table in another database","body":"<p>It's not impossible to have a ManyToOne relationship in JPA. Here you have an example:</p>\n\n<p><a href=\"https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne\" rel=\"nofollow noreferrer\">https://en.wikibooks.org/wiki/Java_Persistence/ManyToOne</a></p>\n\n<p>Concerning how to solve your particular problem using tables in two databases, you could use two different data sources, or a view on one of the databases, pointing to the table on the other one. The choice mainly depends on the nature of the databases you're trying to connect.</p>\n"},{"tags":[],"owner":{"account_id":2973078,"reputation":2872,"user_id":2524749,"accept_rate":80,"display_name":"Bhetzie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487355382,"creation_date":1487355382,"answer_id":42304836,"question_id":42302080,"body_markdown":"Expanding on this answer (https://stackoverflow.com/questions/1301399/jpa-using-multiple-database-schemas) I think that you would need to do something like:\r\n\r\n    public class Schemas {\r\n      public static final String S1D=&quot;S1D&quot;;\r\n      public static final String S2D=&quot;S2D&quot;;\r\n    }\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;Tickets&quot;, schema=Schemas.S1D)\r\n    public class Tickets {\r\n    \r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;transaction_id&quot;)\r\n    \tprivate Transaction transaction;\r\n    \r\n    }\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;Transaction&quot;, schema=Schemas.S2D)\r\n    public class Transaction {\r\n    ...\r\n    }","title":"JPA: many to one mapping from table in another database","body":"<p>Expanding on this answer (<a href=\"https://stackoverflow.com/questions/1301399/jpa-using-multiple-database-schemas\">JPA using multiple database schemas</a>) I think that you would need to do something like:</p>\n\n<pre><code>public class Schemas {\n  public static final String S1D=\"S1D\";\n  public static final String S2D=\"S2D\";\n}\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = \"Tickets\", schema=Schemas.S1D)\npublic class Tickets {\n\n@ManyToOne\n@JoinColumn(name = \"transaction_id\")\n    private Transaction transaction;\n\n}\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = \"Transaction\", schema=Schemas.S2D)\npublic class Transaction {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13365877,"reputation":11,"user_id":9646171,"display_name":"Pritam Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675928873,"creation_date":1675497308,"answer_id":75343719,"question_id":42302080,"body_markdown":"Here is an example of implementing a many-to-many parent-child relationship using JPA, with a Category table and a mapping table, as well as a save API and a fetch API by root ID:\r\n\r\nHere is an example of implementing a many-to-many parent-child relationship using JPA, with a Category table and a mapping table, as well as a save API and a fetch API by root ID:\r\n\r\n\r\n\r\n\r\n    @Entity\r\n    \r\n    public class Category {\r\n    \r\n      @Id\r\n    \r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \r\n      private Long id;\r\n    \r\n    \r\n    \r\n      private String name;\r\n    \r\n    \r\n    \r\n      @ManyToMany(cascade = CascadeType.ALL)\r\n    \r\n      @JoinTable(\r\n    \r\n          name = &quot;category_mapping&quot;,\r\n    \r\n          joinColumns = @JoinColumn(name = &quot;category_id&quot;),\r\n    \r\n          inverseJoinColumns = @JoinColumn(name = &quot;child_id&quot;)\r\n    \r\n      )\r\n    \r\n      private Set&lt;Category&gt; children;\r\n    \r\n    \r\n    \r\n      // getters and setters\r\n    \r\n    }\r\n    \r\n    \r\n    @Entity\r\n    \r\n    public class CategoryMapping {\r\n    \r\n      @Id\r\n    \r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \r\n      private Long id;\r\n    \r\n    \r\n    \r\n      @ManyToOne\r\n    \r\n      @JoinColumn(name = &quot;category_id&quot;)\r\n    \r\n      private Category category;\r\n    \r\n    \r\n    \r\n      @ManyToOne\r\n    \r\n      @JoinColumn(name = &quot;child_id&quot;)\r\n    \r\n      private Category child;\r\n    \r\n    \r\n    \r\n      // getters and setters\r\n    }\r\n\r\n\r\n[check here][1]\r\n\r\n\r\n https://java-speed.blogspot.com/2023/02/jpa-implemntation-many-to-many-parent.html\r\n","title":"JPA: many to one mapping from table in another database","body":"<p>Here is an example of implementing a many-to-many parent-child relationship using JPA, with a Category table and a mapping table, as well as a save API and a fetch API by root ID:</p>\n<p>Here is an example of implementing a many-to-many parent-child relationship using JPA, with a Category table and a mapping table, as well as a save API and a fetch API by root ID:</p>\n<pre><code>@Entity\n\npublic class Category {\n\n  @Id\n\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n  private Long id;\n\n\n\n  private String name;\n\n\n\n  @ManyToMany(cascade = CascadeType.ALL)\n\n  @JoinTable(\n\n      name = &quot;category_mapping&quot;,\n\n      joinColumns = @JoinColumn(name = &quot;category_id&quot;),\n\n      inverseJoinColumns = @JoinColumn(name = &quot;child_id&quot;)\n\n  )\n\n  private Set&lt;Category&gt; children;\n\n\n\n  // getters and setters\n\n}\n\n\n@Entity\n\npublic class CategoryMapping {\n\n  @Id\n\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n  private Long id;\n\n\n\n  @ManyToOne\n\n  @JoinColumn(name = &quot;category_id&quot;)\n\n  private Category category;\n\n\n\n  @ManyToOne\n\n  @JoinColumn(name = &quot;child_id&quot;)\n\n  private Category child;\n\n\n\n  // getters and setters\n}\n</code></pre>\n<p>[check here][1]</p>\n<p><a href=\"https://java-speed.blogspot.com/2023/02/jpa-implemntation-many-to-many-parent.html\" rel=\"nofollow noreferrer\">https://java-speed.blogspot.com/2023/02/jpa-implemntation-many-to-many-parent.html</a></p>\n"}],"owner":{"account_id":10274173,"reputation":21,"user_id":7581659,"display_name":"Kap"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1675928873,"creation_date":1487346665,"question_id":42302080,"body_markdown":"I have an existing table (let&#39;s call this Tickets), and I need to have a many-to-one relationship into a table in another database (let&#39;s call this Transaction). I know that it&#39;s impossible to have a many-to-one relationship in JPA, but what I am looking for is to connect these two tables without resorting to JPA. Also, merging these tables to one db is not an option (as per client request).\r\n\r\nI&#39;m at a loss here.\r\n\r\n","title":"JPA: many to one mapping from table in another database","body":"<p>I have an existing table (let's call this Tickets), and I need to have a many-to-one relationship into a table in another database (let's call this Transaction). I know that it's impossible to have a many-to-one relationship in JPA, but what I am looking for is to connect these two tables without resorting to JPA. Also, merging these tables to one db is not an option (as per client request).</p>\n\n<p>I'm at a loss here.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1675928220,"post_id":75395474,"comment_id":133033933,"body_markdown":"Can you explain why you think the code shouldn&#39;t work? You say you &quot;understand the concept&quot;, but evidently you don&#39;t...","body":"Can you explain why you think the code shouldn&#39;t work? You say you &quot;understand the concept&quot;, but evidently you don&#39;t..."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1675928390,"post_id":75395474,"comment_id":133033989,"body_markdown":"`x` is a field, not a local variable, so the requirement for final/effectively final doesn&#39;t apply. Also, the rule doesn&#39;t exist to _&quot;protect[s] from side effects&quot;_, it has to do with the lifetime of local variables, which can be shorter than the lambda created in a method, so Java **copies** the variable to the lambda. The final/effectively final rule is there so you don&#39;t get weird behaviour (or weird expectations about behaviour).","body":"<code>x</code> is a field, not a local variable, so the requirement for final/effectively final doesn&#39;t apply. Also, the rule doesn&#39;t exist to <i>&quot;protect[s] from side effects&quot;</i>, it has to do with the lifetime of local variables, which can be shorter than the lambda created in a method, so Java <b>copies</b> the variable to the lambda. The final/effectively final rule is there so you don&#39;t get weird behaviour (or weird expectations about behaviour)."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1675928775,"post_id":75395474,"comment_id":133034082,"body_markdown":"IIRC the Java Language Specification doesn&#39;t actually specify that it must copy the variable just that it captures the variable, but AFAIK the capture is currently achieved by copying, because with the final/effectively final rule that is the simplest way to do so.","body":"IIRC the Java Language Specification doesn&#39;t actually specify that it must copy the variable just that it captures the variable, but AFAIK the capture is currently achieved by copying, because with the final/effectively final rule that is the simplest way to do so."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675931514,"post_id":75395474,"comment_id":133034792,"body_markdown":"If you meant that `x = i;` violates the requirement, I think of that as `Learn.this.x = i;` (its perfectly equivalent). Here `Learn.this` is considered final, which suffices to fulfil the requirement. You are allowed to modify the state of an object that you can reach over a final or effectively final reference. This is also why the usual tricks of using an `AtomicInteger` or an `int[1]` array work.","body":"If you meant that <code>x = i;</code> violates the requirement, I think of that as <code>Learn.this.x = i;</code> (its perfectly equivalent). Here <code>Learn.this</code> is considered final, which suffices to fulfil the requirement. You are allowed to modify the state of an object that you can reach over a final or effectively final reference. This is also why the usual tricks of using an <code>AtomicInteger</code> or an <code>int[1]</code> array work."},{"owner":{"account_id":10257386,"reputation":1,"user_id":7569852,"display_name":"Amit Sinha"},"score":0,"creation_date":1675932425,"post_id":75395474,"comment_id":133035066,"body_markdown":"@OleV.V  Thanks for the clarification . Yes that makes sense. Related question .. not having the constraint of final / effectively final for local variable ...what kind of complexity /ambiguity can arise","body":"@OleV.V  Thanks for the clarification . Yes that makes sense. Related question .. not having the constraint of final / effectively final for local variable ...what kind of complexity /ambiguity can arise"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1675947891,"post_id":75395474,"comment_id":133039750,"body_markdown":"One case I can think of: you may pass the lambda to someone who executes it long after the method where it came from has returned. In that case the local variable that the lambda refers to does not exist anymore. By making sure that the local variable is effectively final, I suppose you can just pass its constant value along with the lambda.","body":"One case I can think of: you may pass the lambda to someone who executes it long after the method where it came from has returned. In that case the local variable that the lambda refers to does not exist anymore. By making sure that the local variable is effectively final, I suppose you can just pass its constant value along with the lambda."}],"owner":{"account_id":10257386,"reputation":1,"user_id":7569852,"display_name":"Amit Sinha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675928631,"answer_count":0,"score":0,"last_activity_date":1675928700,"creation_date":1675927887,"question_id":75395474,"body_markdown":"I understand the concept of final / effectively final within lambda , it essentially protects from side effects. However why the following code snippet works? Is it also not violating this behaviour?\r\n\r\n```\r\nimport java.util.stream.Stream;\r\n\r\npublic class Learn {\r\n    int x = 0;\r\n    Stream&lt;Integer&gt; numbers() {\r\n        x = x +1;\r\n        return Stream.iterate(0, i -&gt; {\r\n            int result = x + i;\r\n            x = i;\r\n            return result;\r\n        });\r\n    }\r\n    public static void main(String[] args) {\r\n\r\n        Learn l = new Learn();\r\n        l.numbers()\r\n                .skip(20) // Don&#39;t use the first 20\r\n                .limit(10) // Then take 10 of them\r\n                .forEach(System.out::println);\r\n        System.out.println(&quot;=====================&quot;);\r\n        System.out.println(l.x);\r\n\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n```none\r\n75025\r\n121393\r\n196418\r\n317811\r\n514229\r\n=====================\r\n317811\r\n```","title":"Java Lambda final / effectively final","body":"<p>I understand the concept of final / effectively final within lambda , it essentially protects from side effects. However why the following code snippet works? Is it also not violating this behaviour?</p>\n<pre><code>import java.util.stream.Stream;\n\npublic class Learn {\n    int x = 0;\n    Stream&lt;Integer&gt; numbers() {\n        x = x +1;\n        return Stream.iterate(0, i -&gt; {\n            int result = x + i;\n            x = i;\n            return result;\n        });\n    }\n    public static void main(String[] args) {\n\n        Learn l = new Learn();\n        l.numbers()\n                .skip(20) // Don't use the first 20\n                .limit(10) // Then take 10 of them\n                .forEach(System.out::println);\n        System.out.println(&quot;=====================&quot;);\n        System.out.println(l.x);\n\n\n    }\n}\n\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>75025\n121393\n196418\n317811\n514229\n=====================\n317811\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675903365,"creation_date":1675903365,"answer_id":75393117,"question_id":75393099,"body_markdown":"Autowire the `StudentMgtApiDelegate`; do not construct it manually.\r\n\r\n```java\r\n@Autowired\r\nStudentMgtApiDelegate delegate;\r\n```","title":"How do I call the retrieveStudents() from my cron job?","body":"<p>Autowire the <code>StudentMgtApiDelegate</code>; do not construct it manually.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nStudentMgtApiDelegate delegate;\n</code></pre>\n"}],"owner":{"account_id":27344222,"reputation":15,"user_id":20854393,"display_name":"jma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75393117,"answer_count":1,"score":1,"last_activity_date":1675928425,"creation_date":1675903192,"question_id":75393099,"body_markdown":"I&#39;m new to Java development and Spring/Springboot. I was tasked to create a cron job that would execute a query to a database. Although, my problem would focus on calling the function since it&#39;s already existing in the project. I&#39;m still quite confused and learning about Dependency Injection, Design Patterns and Spring. I tried to resolve this myself, but it&#39;s taking a while now -- so I figured to ask while I&#39;m also trying to figure it out just to save time in case they ask me for a deadline. Thank you so much in advance!\r\n\r\nThis is how the programs are generally structured:\r\n\r\n**QueryConfig.java**\r\n&lt;br&gt; This is a new and only file I created. I was able to make the cron job work, as I tried to put a logger inside runQuery() and it was able to run every 5 minutes as per the configuration file.\r\n```\r\n@RefreshScope\r\n@Component\r\npublic class QueryConfig {\r\n\r\n    @Value(&quot;${cron.job.query}&quot;)\r\n    private String sql;\r\n\r\n    String name = &quot;Bob&quot;;\r\n\r\n    StudentMgtApiDelegate delegate = new StudentMgtApiDelegateImpl();\r\n\r\n    @Scheduled(cron = &quot;${cron.job.schedule}&quot;, zone = &quot;${cron.job.timezone}&quot;)\r\n    public void runQuery() {\r\n        delegate.retrieveStudents(name);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n**StudentMgtApiDelegateImpl.java**\r\n&lt;br&gt; Please also note that this is just a representation of the code since I cannot share the actual. I&#39;ll try my best to make it as close to the real implementation. There are 3 methods for the API, but I just want to call the retrieveStudents().\r\n```\r\n@Component\r\npublic class StudentMgtApiDelegateImpl implements StudentMgtApiDelegate {\r\n\r\n    @Autowired\r\n    private StudentFacade studentFacade;   \r\n\r\n    @Override\r\n    public ResponseEntity&lt;List&lt;Student&gt;&gt; retrieveStudents(String name) {\r\n        return ResponseEntity.ok(studentFacade.retrieveStudents(\r\n           ...\r\n        ));\r\n    }\r\n\r\n    @Override\r\n    public ResponseEntity&lt;StudentDetails&gt; retrieveStudentDetails(String name...) {\r\n        return ResponseEntity.ok(studentFacade.retrieveStudentDetails(\r\n           ...\r\n        ));\r\n    }\r\n\r\n    @Override\r\n    public ResponseEntity&lt;List&lt;CountBreakdown&gt;&gt; retrieveStudentCounts(String name) {\r\n        return ResponseEntity.ok(studentFacade.studentCountsRetrieve(\r\n           ...\r\n        ));\r\n    }  \r\n    \r\n}\r\n```\r\n\r\n**StudentFacade.java**\r\n\r\n```\r\npublic class StudentFacade {\r\n    private Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, List&lt;Student&gt;&gt; studentListRetrieveFn;\r\n    private Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, StudentDetails&gt; studentDetailsRetrieveFn;\r\n    private Function&lt;DataWrapper&lt;StudentRetrieveCriteria&gt;, List&lt;CountBreakdown&gt;&gt; studentCountsRetrieveFn;\r\n\r\n    public StudentFacade(Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, List&lt;Student&gt;&gt; studentListRetrieveFn, Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, StudentDetails&gt; studentDetailsRetrieveFn, Function&lt;DataWrapper&lt;StudentRetrieveCriteria&gt;, List&lt;CountBreakdown&gt;&gt; studentCountsRetrieveFn) {\r\n        this.studentListRetrieveFn = studentListRetrieveFn;\r\n        this.studentDetailsRetrieveFn = studentDetailsRetrieveFn;\r\n        this.studentCountsRetrieveFn = studentCountsRetrieveFn;\r\n    }\r\n\r\n    public List&lt;Student&gt; retrieveStudents(DataWrapper&lt;StudentParams&lt;String&gt;&gt; wrapper) {\r\n        return Optional.ofNullable(wrapper).map(studentListRetrieveFn).orElse(null);\r\n    }\r\n\r\n    public StudentDetails retrieveStudentDetails(DataWrapper&lt;StudentParams&lt;String&gt;&gt; wrapper) {\r\n        return Optional.ofNullable(wrapper).map(studentDetailsRetrieveFn).orElse(null);\r\n    }\r\n\r\n    public List&lt;CountBreakdown&gt; studentCountsRetrieve(DataWrapper&lt;StudentRetrieveCriteria&gt; wrapper) {\r\n        return Optional.ofNullable(wrapper).map(studentCountsRetrieveFn).orElse(null);\r\n    }\r\n}\r\n```\r\n\r\nI apologize in advance for the many code omissions and I know some parameters won&#39;t match and make sense. But as of the current implementation in my QueryConfig.java, I am encountering this error:\r\n\r\n```\r\n[scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task \r\njava.lang.NullPointerException: null\r\n```\r\n\r\nI tried to debug and see the value of **delegate** inside the QueryConfig.java, and it has a studentFacade that is null.","title":"How do I call the retrieveStudents() from my cron job?","body":"<p>I'm new to Java development and Spring/Springboot. I was tasked to create a cron job that would execute a query to a database. Although, my problem would focus on calling the function since it's already existing in the project. I'm still quite confused and learning about Dependency Injection, Design Patterns and Spring. I tried to resolve this myself, but it's taking a while now -- so I figured to ask while I'm also trying to figure it out just to save time in case they ask me for a deadline. Thank you so much in advance!</p>\n<p>This is how the programs are generally structured:</p>\n<p><strong>QueryConfig.java</strong>\n<br> This is a new and only file I created. I was able to make the cron job work, as I tried to put a logger inside runQuery() and it was able to run every 5 minutes as per the configuration file.</p>\n<pre><code>@RefreshScope\n@Component\npublic class QueryConfig {\n\n    @Value(&quot;${cron.job.query}&quot;)\n    private String sql;\n\n    String name = &quot;Bob&quot;;\n\n    StudentMgtApiDelegate delegate = new StudentMgtApiDelegateImpl();\n\n    @Scheduled(cron = &quot;${cron.job.schedule}&quot;, zone = &quot;${cron.job.timezone}&quot;)\n    public void runQuery() {\n        delegate.retrieveStudents(name);\n    }\n\n}\n</code></pre>\n<p><strong>StudentMgtApiDelegateImpl.java</strong>\n<br> Please also note that this is just a representation of the code since I cannot share the actual. I'll try my best to make it as close to the real implementation. There are 3 methods for the API, but I just want to call the retrieveStudents().</p>\n<pre><code>@Component\npublic class StudentMgtApiDelegateImpl implements StudentMgtApiDelegate {\n\n    @Autowired\n    private StudentFacade studentFacade;   \n\n    @Override\n    public ResponseEntity&lt;List&lt;Student&gt;&gt; retrieveStudents(String name) {\n        return ResponseEntity.ok(studentFacade.retrieveStudents(\n           ...\n        ));\n    }\n\n    @Override\n    public ResponseEntity&lt;StudentDetails&gt; retrieveStudentDetails(String name...) {\n        return ResponseEntity.ok(studentFacade.retrieveStudentDetails(\n           ...\n        ));\n    }\n\n    @Override\n    public ResponseEntity&lt;List&lt;CountBreakdown&gt;&gt; retrieveStudentCounts(String name) {\n        return ResponseEntity.ok(studentFacade.studentCountsRetrieve(\n           ...\n        ));\n    }  \n    \n}\n</code></pre>\n<p><strong>StudentFacade.java</strong></p>\n<pre><code>public class StudentFacade {\n    private Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, List&lt;Student&gt;&gt; studentListRetrieveFn;\n    private Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, StudentDetails&gt; studentDetailsRetrieveFn;\n    private Function&lt;DataWrapper&lt;StudentRetrieveCriteria&gt;, List&lt;CountBreakdown&gt;&gt; studentCountsRetrieveFn;\n\n    public StudentFacade(Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, List&lt;Student&gt;&gt; studentListRetrieveFn, Function&lt;DataWrapper&lt;StudentParams&lt;String&gt;&gt;, StudentDetails&gt; studentDetailsRetrieveFn, Function&lt;DataWrapper&lt;StudentRetrieveCriteria&gt;, List&lt;CountBreakdown&gt;&gt; studentCountsRetrieveFn) {\n        this.studentListRetrieveFn = studentListRetrieveFn;\n        this.studentDetailsRetrieveFn = studentDetailsRetrieveFn;\n        this.studentCountsRetrieveFn = studentCountsRetrieveFn;\n    }\n\n    public List&lt;Student&gt; retrieveStudents(DataWrapper&lt;StudentParams&lt;String&gt;&gt; wrapper) {\n        return Optional.ofNullable(wrapper).map(studentListRetrieveFn).orElse(null);\n    }\n\n    public StudentDetails retrieveStudentDetails(DataWrapper&lt;StudentParams&lt;String&gt;&gt; wrapper) {\n        return Optional.ofNullable(wrapper).map(studentDetailsRetrieveFn).orElse(null);\n    }\n\n    public List&lt;CountBreakdown&gt; studentCountsRetrieve(DataWrapper&lt;StudentRetrieveCriteria&gt; wrapper) {\n        return Optional.ofNullable(wrapper).map(studentCountsRetrieveFn).orElse(null);\n    }\n}\n</code></pre>\n<p>I apologize in advance for the many code omissions and I know some parameters won't match and make sense. But as of the current implementation in my QueryConfig.java, I am encountering this error:</p>\n<pre><code>[scheduling-1] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler - Unexpected error occurred in scheduled task \njava.lang.NullPointerException: null\n</code></pre>\n<p>I tried to debug and see the value of <strong>delegate</strong> inside the QueryConfig.java, and it has a studentFacade that is null.</p>\n"},{"tags":["java","spring-boot","junit","flyway","spring-boot-test"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1675928079,"post_id":75395410,"comment_id":133033891,"body_markdown":"Flyway orders migrations by version number in the file name from the locations you define. Your example has every script at V1_0. Have you tried changing the versions to control the order?","body":"Flyway orders migrations by version number in the file name from the locations you define. Your example has every script at V1_0. Have you tried changing the versions to control the order?"},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1675928202,"post_id":75395410,"comment_id":133033926,"body_markdown":"Thanks for the response. I am aware about the versioning. But all db script files are on different folder (directory).","body":"Thanks for the response. I am aware about the versioning. But all db script files are on different folder (directory)."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1675929315,"post_id":75395410,"comment_id":133034193,"body_markdown":"Right, but I believe that flyway doesn&#39;t order by directories, but rather discovers all files within the locations and orders by this. The naming of your scripts doesn&#39;t fully comply with the convention defined by flyway. See flywaydb.org/documentation/concepts/migrations.html#naming-1 (Double underscore to separate version and description) I recommend trying to version the scripts in numerical order.","body":"Right, but I believe that flyway doesn&#39;t order by directories, but rather discovers all files within the locations and orders by this. The naming of your scripts doesn&#39;t fully comply with the convention defined by flyway. See flywaydb.org/documentation/concepts/migrations.html#naming-1 (Double underscore to separate version and description) I recommend trying to version the scripts in numerical order."},{"owner":{"account_id":17291618,"reputation":119,"user_id":12523079,"display_name":"Jilliss"},"score":0,"creation_date":1675929699,"post_id":75395410,"comment_id":133034281,"body_markdown":"Can you implement your requirements with the `init-sqls` property @ODDminus1","body":"Can you implement your requirements with the <code>init-sqls</code> property @ODDminus1"},{"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"score":0,"creation_date":1675931079,"post_id":75395410,"comment_id":133034664,"body_markdown":"@ODDminus1 I tried to update the versions of the db script. But it looks like flyway always first executing main src directory which is db.migrate and not taking first priority to test directory which is test/resources/db/data-sql. My need to execute test db scripts first instead of main src.","body":"@ODDminus1 I tried to update the versions of the db script. But it looks like flyway always first executing main src directory which is db.migrate and not taking first priority to test directory which is test/resources/db/data-sql. My need to execute test db scripts first instead of main src."}],"owner":{"account_id":3250464,"reputation":1553,"user_id":2740908,"accept_rate":54,"display_name":"Ronak Joshi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675928114,"creation_date":1675927470,"question_id":75395410,"body_markdown":"In our Spring boot Java project we are having flyway migration scripts. Below is our project structure,\r\n\r\n    Project\r\n     |\r\n     |    \r\n     +-- src\r\n     |  |  \r\n     |  +-- resources\r\n            |\r\n            +-- db.migration\r\n                |\r\n                +--V1_0_db_script.sql (scheme_one)\r\n     +-- test\r\n     |  |  \r\n     |  +-- resources\r\n     |      |\r\n     |      +-- db\r\n            |    |\r\n            |    +-- data-test\r\n            |    |   \t\t |\r\n            |    |    \t +--V1_0_test_db_script.sql (scheme_one)\r\n            |    +-- data-sql\r\n            |    |\t\t \t |\r\n            |    |\t\t \t +--V1_0_sql_db_script.sql (scheme_second)\r\n            |    |\r\n            +-- application-test.yml\t  \r\n     \r\n\r\n\r\nNow, here is my application-test.yml structure.\r\n\r\n    Flyway :\r\n    \tenabled: true\r\n    \tschemas: scheme_one\r\n    \tlocations: \r\n    \t - classpath: /db/data-sql\r\n    \t - classpath: /db/migration\r\n    \t - classpath: /db/data-test\r\n\r\nNow, what is needed here is that while running test cases, it should execute `data-sql` directory first it means `V1_0_sql_db_script.sql` should execute first then `db.migration` and then `data-test` directory. But its not executing in the order which defined in location (My assumption is from top to bottom, even I tried bottom to top).\r\n\r\nNow what&#39;s happening, it always first executing `db.migration` which is located under main src package. But I want to execute `data-sql` directory scripts first anyhow while test cases are started to run as there are some queries which is needed for other scripts. One more thing, there are actually two different schemes used. I have defined in brackets.\r\n\r\nKindly suggest if flyway have any property to define order or any other feedback will be appreciated.\r\n","title":"Flyway scripts migration execution order while running test cases Junit","body":"<p>In our Spring boot Java project we are having flyway migration scripts. Below is our project structure,</p>\n<pre><code>Project\n |\n |    \n +-- src\n |  |  \n |  +-- resources\n        |\n        +-- db.migration\n            |\n            +--V1_0_db_script.sql (scheme_one)\n +-- test\n |  |  \n |  +-- resources\n |      |\n |      +-- db\n        |    |\n        |    +-- data-test\n        |    |           |\n        |    |       +--V1_0_test_db_script.sql (scheme_one)\n        |    +-- data-sql\n        |    |           |\n        |    |           +--V1_0_sql_db_script.sql (scheme_second)\n        |    |\n        +-- application-test.yml      \n \n</code></pre>\n<p>Now, here is my application-test.yml structure.</p>\n<pre><code>Flyway :\n    enabled: true\n    schemas: scheme_one\n    locations: \n     - classpath: /db/data-sql\n     - classpath: /db/migration\n     - classpath: /db/data-test\n</code></pre>\n<p>Now, what is needed here is that while running test cases, it should execute <code>data-sql</code> directory first it means <code>V1_0_sql_db_script.sql</code> should execute first then <code>db.migration</code> and then <code>data-test</code> directory. But its not executing in the order which defined in location (My assumption is from top to bottom, even I tried bottom to top).</p>\n<p>Now what's happening, it always first executing <code>db.migration</code> which is located under main src package. But I want to execute <code>data-sql</code> directory scripts first anyhow while test cases are started to run as there are some queries which is needed for other scripts. One more thing, there are actually two different schemes used. I have defined in brackets.</p>\n<p>Kindly suggest if flyway have any property to define order or any other feedback will be appreciated.</p>\n"},{"tags":["java","firebase","spring-boot","web-applications","firebase-authentication"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676107267,"post_id":75395471,"comment_id":133074132,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25484357,"reputation":1,"user_id":19280129,"display_name":"Nirman More"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675927877,"creation_date":1675927877,"question_id":75395471,"body_markdown":"I am trying to use firebase otp authentication for my web application but haven&#39;t found any docs related to same on firebase website. Is it possible to do so if yes then how to. Please guide me.\r\n\r\nI have searched online for documentations but only found those related with an android app. I am building a website which requires registration and sign in. This registration is to be validated by authenticating users phone number for which I am required to use firebase authentication.","title":"How to Authenticate with Firebase with a Phone Number Using Java Spring Boot on server side","body":"<p>I am trying to use firebase otp authentication for my web application but haven't found any docs related to same on firebase website. Is it possible to do so if yes then how to. Please guide me.</p>\n<p>I have searched online for documentations but only found those related with an android app. I am building a website which requires registration and sign in. This registration is to be validated by authenticating users phone number for which I am required to use firebase authentication.</p>\n"},{"tags":["java","php","android"],"owner":{"account_id":24503017,"reputation":11,"user_id":18418391,"display_name":"Jude Dcoutho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675927198,"creation_date":1675927167,"question_id":75395378,"body_markdown":"Im able to create a generic pass in the google wallet with the mentioned properties: enableSmartTap as well as smartTapRedemptionValue but when I&#39;m trying to read on Hik Visions Terminal Model: DS-K1T671MF using nfc it&#39;s reading some data but every time its random card no what it&#39;s getting not what i mentioned.\r\n\r\nI need to read that custom generic pass in google wallet on any nfc based reader for access and get the data from that pass\r\n\r\nI created a custom pass using google wallet api with data in payload as well as smartTap enabled and data in &quot;smartTapRedemptionValue&quot; and when i tried to scan on any mobile nfc reader application or  in HIK Vision&#39;s DS-K1T671MF facial Recognition Terminal using NFC it&#39;s detecting card but always print any random value in card no and m unable to fetch data from that google wallet pass using any nfc reader.","title":"Unable to read and get data from generic pass created using google wallet API on any nfc reader","body":"<p>Im able to create a generic pass in the google wallet with the mentioned properties: enableSmartTap as well as smartTapRedemptionValue but when I'm trying to read on Hik Visions Terminal Model: DS-K1T671MF using nfc it's reading some data but every time its random card no what it's getting not what i mentioned.</p>\n<p>I need to read that custom generic pass in google wallet on any nfc based reader for access and get the data from that pass</p>\n<p>I created a custom pass using google wallet api with data in payload as well as smartTap enabled and data in &quot;smartTapRedemptionValue&quot; and when i tried to scan on any mobile nfc reader application or  in HIK Vision's DS-K1T671MF facial Recognition Terminal using NFC it's detecting card but always print any random value in card no and m unable to fetch data from that google wallet pass using any nfc reader.</p>\n"},{"tags":["java","junit","clone","hamcrest","spring5"],"owner":{"account_id":27706510,"reputation":13,"user_id":21150033,"display_name":"Aditi Mogha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1676199733,"answer_count":0,"score":1,"last_activity_date":1675927184,"creation_date":1675867056,"question_id":75387349,"body_markdown":"I have upgraded java8 to 17 and spring4 to 5 , I am getting a test case failed.\r\n\r\n    \r\njava.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7960847b\r\n\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\r\n\tat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\r\n\r\nhere is my test case:\r\n\r\n    public class RestExceptionMappingHandlerTest {\r\n\r\n    private static final String EXPECTED_EXCEPTION_MESSAGE = &quot;testException&quot;;\r\n\r\n    private RestExceptionMappingHandler handler;\r\n\r\n    @Before\r\n    public void initHandler() {\r\n        handler = new RestExceptionMappingHandler();\r\n    }\r\n\r\n    @Test\r\n    public void shouldHandleGenericException() {\r\n        Exception testException = new Exception(EXPECTED_EXCEPTION_MESSAGE);\r\n\r\n        final ResponseEntity&lt;ClmErrorResponse&gt; actualResponse = handler.handleGenericException(testException);\r\n\r\n        assertErrorResponse(actualResponse, INTERNAL_SERVER_ERROR, EXPECTED_EXCEPTION_MESSAGE);\r\n    }\r\n\r\n    private void assertErrorResponse(ResponseEntity&lt;ClmErrorResponse&gt; actualResponse, HttpStatus expectedStatus,\r\n                                     String expectedMessage, Set&lt;InputError&gt; expectedErrors) {\r\n        MatcherAssert.assertThat(actualResponse.getStatusCode(), is(expectedStatus));\r\n        final ClmErrorResponse errorResponse = actualResponse.getBody();\r\n        MatcherAssert.assertThat(errorResponse.getCode(), is(String.valueOf(expectedStatus.value())));\r\n        MatcherAssert.assertThat(errorResponse.getMessage(), is(expectedMessage));\r\n    }\r\n\r\n    private void assertErrorResponse(ResponseEntity&lt;ClmErrorResponse&gt; actualResponse, HttpStatus expectedStatus,\r\n                                     String expectedMessage) {\r\n        assertErrorResponse(actualResponse, expectedStatus, expectedMessage, null);\r\n    }\r\n\r\nCould someone please help here","title":"java.lang.reflect.InaccessibleObjectException:throws java.lang.CloneNotSupportedException","body":"<p>I have upgraded java8 to 17 and spring4 to 5 , I am getting a test case failed.</p>\n<p>java.lang.reflect.InaccessibleObjectException: Unable to make protected native java.lang.Object java.lang.Object.clone() throws java.lang.CloneNotSupportedException accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @7960847b</p>\n<pre><code>at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\nat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:199)\nat java.base/java.lang.reflect.Method.setAccessible(Method.java:193)\n</code></pre>\n<p>here is my test case:</p>\n<pre><code>public class RestExceptionMappingHandlerTest {\n\nprivate static final String EXPECTED_EXCEPTION_MESSAGE = &quot;testException&quot;;\n\nprivate RestExceptionMappingHandler handler;\n\n@Before\npublic void initHandler() {\n    handler = new RestExceptionMappingHandler();\n}\n\n@Test\npublic void shouldHandleGenericException() {\n    Exception testException = new Exception(EXPECTED_EXCEPTION_MESSAGE);\n\n    final ResponseEntity&lt;ClmErrorResponse&gt; actualResponse = handler.handleGenericException(testException);\n\n    assertErrorResponse(actualResponse, INTERNAL_SERVER_ERROR, EXPECTED_EXCEPTION_MESSAGE);\n}\n\nprivate void assertErrorResponse(ResponseEntity&lt;ClmErrorResponse&gt; actualResponse, HttpStatus expectedStatus,\n                                 String expectedMessage, Set&lt;InputError&gt; expectedErrors) {\n    MatcherAssert.assertThat(actualResponse.getStatusCode(), is(expectedStatus));\n    final ClmErrorResponse errorResponse = actualResponse.getBody();\n    MatcherAssert.assertThat(errorResponse.getCode(), is(String.valueOf(expectedStatus.value())));\n    MatcherAssert.assertThat(errorResponse.getMessage(), is(expectedMessage));\n}\n\nprivate void assertErrorResponse(ResponseEntity&lt;ClmErrorResponse&gt; actualResponse, HttpStatus expectedStatus,\n                                 String expectedMessage) {\n    assertErrorResponse(actualResponse, expectedStatus, expectedMessage, null);\n}\n</code></pre>\n<p>Could someone please help here</p>\n"},{"tags":["java","xsd","jaxb","jaxb2-maven-plugin","schemagen"],"owner":{"account_id":19474470,"reputation":11,"user_id":14246106,"display_name":"kasder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675926910,"creation_date":1675926910,"question_id":75395346,"body_markdown":"I&#39;m trying to generate XSD files from my java project with the jaxb2-maven-plugin. When doing this i get a syntax error referencing pieces of code where there are java notations like @Nonnull or @Nullable.\r\n\r\n\r\nIm using the jaxb2 maven plugin to generate XSD files from Java files.\r\nI declare my plugin like this:\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.1.0&lt;/version&gt;\r\n  &lt;executions&gt;\r\n    &lt;execution&gt;\r\n      &lt;id&gt;schemagen&lt;/id&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;schemagen&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n  &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\nI get this error:\r\n&gt; Execution schemagen of goal org.codehaus.mojo:jaxb2-maven-plugin:3.1.0:schemagen failed: syntax error @[51,4] in file:/D:/project/src/main/java/api/ConfigurableIO.java (org.codehaus.mojo:jaxb2-maven-plugin:3.1.0:schemagen:schemagen:generate-resources)\r\n\r\nThe piece of code at referenced in the error:\r\n```\r\n  &lt;@Nonnull E extends Entity&gt;\r\n  EntityLink&lt;E&gt; getEntityLink();\r\n```\r\nI can exclude this file and this will result in a syntax error on a different file always with a @Nonnull or @Nullable annotation.\r\n\r\nI tried to annotate the specified attribute with @XmlTransient but without succes.\r\n\r\nIs there a way to configure the plugin so that it will ignore these annotations, or work with them?","title":"How do I resolve syntax error when using jaxb2-maven-plugin to generate xsd files from Java files with java annotations?","body":"<p>I'm trying to generate XSD files from my java project with the jaxb2-maven-plugin. When doing this i get a syntax error referencing pieces of code where there are java notations like @Nonnull or @Nullable.</p>\n<p>Im using the jaxb2 maven plugin to generate XSD files from Java files.\nI declare my plugin like this:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;schemagen&lt;/id&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;schemagen&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I get this error:</p>\n<blockquote>\n<p>Execution schemagen of goal org.codehaus.mojo:jaxb2-maven-plugin:3.1.0:schemagen failed: syntax error @[51,4] in file:/D:/project/src/main/java/api/ConfigurableIO.java (org.codehaus.mojo:jaxb2-maven-plugin:3.1.0:schemagen:schemagen:generate-resources)</p>\n</blockquote>\n<p>The piece of code at referenced in the error:</p>\n<pre><code>  &lt;@Nonnull E extends Entity&gt;\n  EntityLink&lt;E&gt; getEntityLink();\n</code></pre>\n<p>I can exclude this file and this will result in a syntax error on a different file always with a @Nonnull or @Nullable annotation.</p>\n<p>I tried to annotate the specified attribute with @XmlTransient but without succes.</p>\n<p>Is there a way to configure the plugin so that it will ignore these annotations, or work with them?</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675842664,"creation_date":1675842664,"answer_id":75382720,"question_id":75382595,"body_markdown":"&gt; After I save a new patient entity, when I search the entity in the database by jpa query findById it works perfectly fine\r\n\r\n`JpaRepository.findById()` works fine as it takes the entity from Hibernate&#39;s 1st level cache, not from the database, because inserting into the database is usually deferred until necessary, e.g. until your session is flushed. An entity can be fetched from the 1st level cache only by its id.\r\n\r\nSo you have to either flush the Session manually with `JpaRepository.flush()`, or use `JpaRepository.saveAndFlush()` instead of `JpaRepository.save()` or execute your operations within one transaction. In this case your requests share one session and Hibernate is going to flush its cache as soon as it gets a new query for the same entity.\r\n","title":"Hibernate JPA cannot fetch new record after immediately saving it(within ms) by non-primary key(email,type) but can fetch by primary key(id)","body":"<blockquote>\n<p>After I save a new patient entity, when I search the entity in the database by jpa query findById it works perfectly fine</p>\n</blockquote>\n<p><code>JpaRepository.findById()</code> works fine as it takes the entity from Hibernate's 1st level cache, not from the database, because inserting into the database is usually deferred until necessary, e.g. until your session is flushed. An entity can be fetched from the 1st level cache only by its id.</p>\n<p>So you have to either flush the Session manually with <code>JpaRepository.flush()</code>, or use <code>JpaRepository.saveAndFlush()</code> instead of <code>JpaRepository.save()</code> or execute your operations within one transaction. In this case your requests share one session and Hibernate is going to flush its cache as soon as it gets a new query for the same entity.</p>\n"}],"owner":{"account_id":18231990,"reputation":117,"user_id":13270751,"display_name":"Ali Azlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":652,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675926741,"creation_date":1675841765,"question_id":75382595,"body_markdown":"My system has a *patient* entity that contains email(string), type(integer) fields, both non primary, not unique and not null fields along with other fields and of course a primary key id. &lt;br&gt;&lt;br&gt;\r\nAfter I save a new patient entity, when I search the entity in the database by jpa query *findById* it works perfectly fine and it fetches that new entity that was just saved few ms ago.&lt;br&gt;\r\nBut when I search the newly saved entity by email and type by jpa query *findByEmailAndTypeAndEmailIsNotNull* it returns nothing but if I run the very same *findByEmailAndTypeAndEmailIsNotNull* query after 1 second of saving that new entity then it returns that newly saved entity.&lt;br&gt;&lt;br&gt;\r\nCan some one diagnose the problem, is it even related to JPA? or with Database itself?\r\n\r\nEdit: \r\n\r\n    @Transactional\r\n    public synchronized Patient addPatient(PatientProfileDto patientProfileDto, Integer facilityId)\r\n            throws ResourceAlreadyExistsException, EntityNotFoundException, ClientException {\r\n        // some code\r\n\r\n        performPatientCreationValidations(ownerDto, ownerDemographicDto.getNationality().getId(), Boolean.FALSE, Boolean.FALSE);\r\n\r\n        // patient creation\r\n\r\n        patientRepository.saveAndFlush(patient);\r\n\r\n        // some code to link patient to other entities\r\n    }\r\n\r\n    private void performPatientCreationValidations(...params)\r\n            throws ResourceAlreadyExistsException, ClientException {\r\n        if (patientRepository.findByEmailAndTypeAndEmailIsNotNull(patientDto.getEmail(), PatientType.OWNER.getId()).isPresent()) {\r\n            // throw error\r\n        }\r\n    }\r\n\r\nIf I hit the API 5 times in a row with neglible delay then 2 duplicate patient would get created, however on the last 3 apis hits it will throw error as it should. It should have also thrown the error upon 2nd api hit it receives. Also note the adding of patient is synchronized function so when one api hit is completed saving the patient then another api hit acquires lock on function n go on.","title":"Hibernate JPA cannot fetch new record after immediately saving it(within ms) by non-primary key(email,type) but can fetch by primary key(id)","body":"<p>My system has a <em>patient</em> entity that contains email(string), type(integer) fields, both non primary, not unique and not null fields along with other fields and of course a primary key id. <br><br>\nAfter I save a new patient entity, when I search the entity in the database by jpa query <em>findById</em> it works perfectly fine and it fetches that new entity that was just saved few ms ago.<br>\nBut when I search the newly saved entity by email and type by jpa query <em>findByEmailAndTypeAndEmailIsNotNull</em> it returns nothing but if I run the very same <em>findByEmailAndTypeAndEmailIsNotNull</em> query after 1 second of saving that new entity then it returns that newly saved entity.<br><br>\nCan some one diagnose the problem, is it even related to JPA? or with Database itself?</p>\n<p>Edit:</p>\n<pre><code>@Transactional\npublic synchronized Patient addPatient(PatientProfileDto patientProfileDto, Integer facilityId)\n        throws ResourceAlreadyExistsException, EntityNotFoundException, ClientException {\n    // some code\n\n    performPatientCreationValidations(ownerDto, ownerDemographicDto.getNationality().getId(), Boolean.FALSE, Boolean.FALSE);\n\n    // patient creation\n\n    patientRepository.saveAndFlush(patient);\n\n    // some code to link patient to other entities\n}\n\nprivate void performPatientCreationValidations(...params)\n        throws ResourceAlreadyExistsException, ClientException {\n    if (patientRepository.findByEmailAndTypeAndEmailIsNotNull(patientDto.getEmail(), PatientType.OWNER.getId()).isPresent()) {\n        // throw error\n    }\n}\n</code></pre>\n<p>If I hit the API 5 times in a row with neglible delay then 2 duplicate patient would get created, however on the last 3 apis hits it will throw error as it should. It should have also thrown the error upon 2nd api hit it receives. Also note the adding of patient is synchronized function so when one api hit is completed saving the patient then another api hit acquires lock on function n go on.</p>\n"},{"tags":["java","assertion","spring5"],"owner":{"account_id":27706510,"reputation":13,"user_id":21150033,"display_name":"Aditi Mogha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675926513,"creation_date":1675926513,"question_id":75395291,"body_markdown":"I have upgraded java8 to java 17 and spring 4 to spring 5 , I am getting this error.\r\n\r\n    java.lang.AssertionError: Status \r\nExpected :400\r\nActual   :401\r\n&lt;Click to see difference&gt;\r\n\r\n\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\r\n\tat org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)\r\n\r\nI am using these dependencies:\r\n\r\n                        &quot;org.springframework:spring-test:5.3.24&quot;,\r\n                    &quot;org.springframework.security:spring-security-test:5.5.5&quot;,\r\n\r\nCould someone please help here :) \r\n","title":"java.lang.AssertionError: at org.springframework.test.util.AssertionErrors.fail at AssertionErrors.java:59","body":"<p>I have upgraded java8 to java 17 and spring 4 to spring 5 , I am getting this error.</p>\n<pre><code>java.lang.AssertionError: Status \n</code></pre>\n<p>Expected :400\nActual   :401\n</p>\n<pre><code>at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\nat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\nat org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:627)\nat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)\n</code></pre>\n<p>I am using these dependencies:</p>\n<pre><code>                    &quot;org.springframework:spring-test:5.3.24&quot;,\n                &quot;org.springframework.security:spring-security-test:5.5.5&quot;,\n</code></pre>\n<p>Could someone please help here :)</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1675857155,"post_id":75385220,"comment_id":133016984,"body_markdown":"You can switch to a production build instead of debug build in Android Studio and then youll be able to easily test and view stack traces. This probably has something to do with reflection and minification.","body":"You can switch to a production build instead of debug build in Android Studio and then youll be able to easily test and view stack traces. This probably has something to do with reflection and minification."},{"owner":{"account_id":19355220,"reputation":725,"user_id":14151698,"display_name":"Manjeet deswal"},"score":0,"creation_date":1675862494,"post_id":75385220,"comment_id":133018605,"body_markdown":"are you using firebase","body":"are you using firebase"},{"owner":{"account_id":27734197,"reputation":9,"user_id":21172097,"display_name":"Mehmood Mir"},"score":0,"creation_date":1675920962,"post_id":75385220,"comment_id":133032611,"body_markdown":"Yes I am using firebase","body":"Yes I am using firebase"}],"owner":{"account_id":27734197,"reputation":9,"user_id":21172097,"display_name":"Mehmood Mir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675926512,"creation_date":1675856164,"question_id":75385220,"body_markdown":"so i am working on android app programmed in java which shows a list of animals sounds in recycler view. The app works fine when i install it on my device from android studio but when i upload the apk to play console and install from play store the adapter becomes real mess and apps gets crashing untill i clear cache and app data from settings.  \r\n\r\nHere is what app looks like on first install from play store (https://i.stack.imgur.com/OTQkX.jpg)\r\n\r\n\r\nWhen i clear cache and app data from settings and relaunch the app it works absolutely fine.(https://i.stack.imgur.com/HPbgM.jpg)\r\n\r\n\r\n\r\nI have tries all possible solutions which i found online but they could not help. Can anybody explain why this occurs and whats the solution to this? \r\n\r\n**Update:** Following @Tenfour4,s comment i switched to production build in android studio but surprisingly app is working fine . The issue only occurs when app is uploaded to play console and installed from there.","title":"Adapter not showing data after installing app from playstore","body":"<p>so i am working on android app programmed in java which shows a list of animals sounds in recycler view. The app works fine when i install it on my device from android studio but when i upload the apk to play console and install from play store the adapter becomes real mess and apps gets crashing untill i clear cache and app data from settings.</p>\n<p>Here is what app looks like on first install from play store (<a href=\"https://i.stack.imgur.com/OTQkX.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/OTQkX.jpg</a>)</p>\n<p>When i clear cache and app data from settings and relaunch the app it works absolutely fine.(<a href=\"https://i.stack.imgur.com/HPbgM.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/HPbgM.jpg</a>)</p>\n<p>I have tries all possible solutions which i found online but they could not help. Can anybody explain why this occurs and whats the solution to this?</p>\n<p><strong>Update:</strong> Following @Tenfour4,s comment i switched to production build in android studio but surprisingly app is working fine . The issue only occurs when app is uploaded to play console and installed from there.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":5812179,"reputation":113,"user_id":4586638,"accept_rate":67,"display_name":"CuriousCurie"},"score":0,"creation_date":1651412264,"post_id":72076867,"comment_id":127354196,"body_markdown":"My question has been marked as duplicate, but if you read through, my question about thread names is not answered in other posts. Can anyone please help.","body":"My question has been marked as duplicate, but if you read through, my question about thread names is not answered in other posts. Can anyone please help."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1651415765,"post_id":72076867,"comment_id":127355053,"body_markdown":"There is a lot of code here, its hard to sort out everything, and in the end either the existing Runnable vs Thread question will cover it or it will be a typo.  Please try reading answers on the pre existing question.","body":"There is a lot of code here, its hard to sort out everything, and in the end either the existing Runnable vs Thread question will cover it or it will be a typo.  Please try reading answers on the pre existing question."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1651415872,"post_id":72076867,"comment_id":127355078,"body_markdown":"@NathanHughes, I re-opened the question and I am answering it. This is not the usual `implements Runnable` vs. `extends Thread` question. OP&#39;s confusion runs a bit deeper here.","body":"@NathanHughes, I re-opened the question and I am answering it. This is not the usual <code>implements Runnable</code> vs. <code>extends Thread</code> question. OP&#39;s confusion runs a bit deeper here."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1651417086,"creation_date":1651416556,"answer_id":72077742,"question_id":72076867,"body_markdown":"&gt; Does this snippet create 3 threads? \r\n\r\nYour program creates five threads. Each thread is responsible for one of the five lines of output that you showed.\r\n\r\n&gt; I thought that the thread names that will be printed would be demo2.1, t1, t2 since I passed these names in constructor.\r\n\r\nThe five threads are named &quot;demo2.1&quot;, &quot;t1&quot;, &quot;t2&quot;, &quot;tR1&quot;, and &quot;tR2&quot;, but the &quot;t1&quot; and &quot;t2&quot; threads never get to print their own names. That&#39;s because you gave each one of them a `Runnable` [_delegate_](https://en.wikipedia.org/wiki/Delegation_(object-oriented_programming)), which happens to be the &quot;demo2.1&quot; thread instance.\r\n\r\nThe `run()` method of the &quot;demo2.1&quot; instance (the `run()` method of the `Demo2` class) prints its own name, which is not always the name of the thread that is running it.\r\n\r\n**In more detail:**\r\n\r\nHere, you create a new object, which is a `Demo2`, and which is a `Thread`, and which `implements&#160;Runnable`, and which is named &quot;demo2.1&quot;:\r\n\r\n    Demo2&#160;objT1&#160;=&#160;new&#160;Demo2(&quot;demo2.1&quot;)\r\n\r\nWhen you call `objT1.start()`, the new thread calls the `Demo2.run()` method, and that method prints `this.getName()`.\r\n\r\nOK, That&#39;s simple, but the next bit is not so simple.\r\n\r\nHere, you create another new object, which is a `Thread` that uses the previous `objT1` as its `Runnable` delegate, and which is named &quot;t1&quot;:\r\n\r\n    Thread tT1 = new Thread(objT1,&quot;t1&quot;);\r\n\r\nWhen you call `tT1.start()`, the new thread will call it&#39;s delegate&#39;s `run()` method. It will call `Demo2.run()`. But recall that `Demo2` is a `Thread` with a name, and its run method prints its _own_ name (actually, `this.getName()`) instead of printing the name of the thread that is running it (which would be `Thread.currentThread().getName()`).\r\n\r\n**Recap:**\r\n\r\nYou are using `objT1` in two different ways:\r\n\r\n1. You use it as a `Thread`\r\n2. You use it again, two more times, as the delegate of a _different_ thread.\r\n\r\nAll three times, it prints its _own_ name, which is not the same as the name of the thread that is running it in the two cases where you use the object as the delegate of a thread.","title":"Create multiple threads by extending Thread class that share same object in Java","body":"<blockquote>\n<p>Does this snippet create 3 threads?</p>\n</blockquote>\n<p>Your program creates five threads. Each thread is responsible for one of the five lines of output that you showed.</p>\n<blockquote>\n<p>I thought that the thread names that will be printed would be demo2.1, t1, t2 since I passed these names in constructor.</p>\n</blockquote>\n<p>The five threads are named &quot;demo2.1&quot;, &quot;t1&quot;, &quot;t2&quot;, &quot;tR1&quot;, and &quot;tR2&quot;, but the &quot;t1&quot; and &quot;t2&quot; threads never get to print their own names. That's because you gave each one of them a <code>Runnable</code> <a href=\"https://en.wikipedia.org/wiki/Delegation_(object-oriented_programming)\" rel=\"nofollow noreferrer\"><em>delegate</em></a>, which happens to be the &quot;demo2.1&quot; thread instance.</p>\n<p>The <code>run()</code> method of the &quot;demo2.1&quot; instance (the <code>run()</code> method of the <code>Demo2</code> class) prints its own name, which is not always the name of the thread that is running it.</p>\n<p><strong>In more detail:</strong></p>\n<p>Here, you create a new object, which is a <code>Demo2</code>, and which is a <code>Thread</code>, and which <code>implementsRunnable</code>, and which is named &quot;demo2.1&quot;:</p>\n<pre><code>Demo2objT1=newDemo2(&quot;demo2.1&quot;)\n</code></pre>\n<p>When you call <code>objT1.start()</code>, the new thread calls the <code>Demo2.run()</code> method, and that method prints <code>this.getName()</code>.</p>\n<p>OK, That's simple, but the next bit is not so simple.</p>\n<p>Here, you create another new object, which is a <code>Thread</code> that uses the previous <code>objT1</code> as its <code>Runnable</code> delegate, and which is named &quot;t1&quot;:</p>\n<pre><code>Thread tT1 = new Thread(objT1,&quot;t1&quot;);\n</code></pre>\n<p>When you call <code>tT1.start()</code>, the new thread will call it's delegate's <code>run()</code> method. It will call <code>Demo2.run()</code>. But recall that <code>Demo2</code> is a <code>Thread</code> with a name, and its run method prints its <em>own</em> name (actually, <code>this.getName()</code>) instead of printing the name of the thread that is running it (which would be <code>Thread.currentThread().getName()</code>).</p>\n<p><strong>Recap:</strong></p>\n<p>You are using <code>objT1</code> in two different ways:</p>\n<ol>\n<li>You use it as a <code>Thread</code></li>\n<li>You use it again, two more times, as the delegate of a <em>different</em> thread.</li>\n</ol>\n<p>All three times, it prints its <em>own</em> name, which is not the same as the name of the thread that is running it in the two cases where you use the object as the delegate of a thread.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675926375,"creation_date":1652301999,"answer_id":72207419,"question_id":72076867,"body_markdown":"The [Answer by Solomon Slow][1] is informative, and excellent. \r\n\r\nIn addition, I&#39;d like to add that in modern Java we rarely need to address the `Thread` class directly. The Executors framework was added in Java 5 to vastly simplify such code as yours.\r\n\r\nThe key concept is to separate the task(s) from the threads. Focus on the work to be by defining a task as a [`Runnable`][2] (or [`Callable`][3] if returning a result). \r\n\r\nIn your example, you seem to have two tasks that each result in incrementing a number, and you want to run each task twice. So let&#39;s define  two classes that implement `Runnable`. Both increment a counter, but only after pretending to do some amount of work. We simulate that work by sleeping some number of seconds. One sleeps a few seconds, the other sleeps longer, just to imagine two different workloads.\r\n\r\nBoth classes carry a private member field of an `AtomicInteger`. That class provides thread-safe ways to increment a number. We need thread-safety protection because we are accessing the same number across threads. \r\n\r\nWe mark the `AtomicInteger` member field as `final` to prevent us from inadvertently re-assigning another object, as we might do during future edits to this code.\r\n\r\n```java\r\npublic class FastCalc implements Runnable\r\n{\r\n    private final AtomicInteger counter = new AtomicInteger();\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        System.out.println( &quot;INFO - starting `run` on `FastCalc` at &quot; + Instant.now() + &quot; on thread ID &quot; + Thread.currentThread().getId() );  // Beware: Output does *not* necessarily appear on console in chronological order.\r\n        try { Thread.sleep( ThreadLocalRandom.current().nextInt( 2_000 , 4_000 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        int currentCount = this.counter.incrementAndGet();\r\n        System.out.println( &quot;INFO - result of `run` on `FastCalc` at &quot; + Instant.now() + &quot; is: &quot; + currentCount );\r\n    }\r\n\r\n    public int report ( )\r\n    {\r\n        return this.counter.get();\r\n    }\r\n}\r\n```\r\n\r\nAnd the slower version.\r\n\r\n```java\r\npublic class SlowCalc implements Runnable\r\n{\r\n    private final AtomicInteger counter = new AtomicInteger();\r\n\r\n    @Override\r\n    public void run ( )\r\n    {\r\n        System.out.println( &quot;INFO - starting `run` on `SlowCalc` at &quot; + Instant.now() + &quot; on thread ID &quot; + Thread.currentThread().getId() );  // Beware: Output does *not* necessarily appear on console in chronological order.\r\n        try { Thread.sleep( ThreadLocalRandom.current().nextInt( 8_000 , 12_000 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\r\n        int currentCount = this.counter.incrementAndGet();\r\n        System.out.println( &quot;INFO - result of `run` on `SlowCalc` at &quot; + Instant.now() + &quot; is: &quot; + currentCount );\r\n    }\r\n\r\n    public int report ( )\r\n    {\r\n        return this.counter.get();\r\n    }\r\n}\r\n```\r\n\r\nInstantiate each of those tasks.\r\n\r\n```java\r\nFastCalc taskFast = new FastCalc();  // Implements `Runnable`.\r\nSlowCalc taskSlow = new SlowCalc();  // Implements `Runnable`.\r\n```\r\n\r\nInstantiate an `ExecutorService` to handle the threading on our behalf. Usually we get an executor service by way of [`Executors`][4] utility class.\r\n\r\nHere we use [`Executors.newCachedThreadPool()`][5] for an executor service that creates any number of threads as needed. This is appropriate in situations where we know we will use a limited number of threads. \r\n\r\n```java\r\nExecutorService executorService = Executors.newCachedThreadPool();\r\n```\r\n\r\nYour example runs each task twice. So we submit each task twice to our executor service. \r\n\r\nRemember that both of our classes, `FastCalc` &amp; `SlowCalc`, implements `Runnable`. So we are passing `Runnable` objects to the `submit` method here.\r\n\r\n```java\r\nexecutorService.submit( taskFast );  // Passing a `Runnable` object.\r\nexecutorService.submit( taskSlow );\r\n\r\nexecutorService.submit( taskFast );\r\nexecutorService.submit( taskSlow );\r\n```\r\n\r\nThen we wait for the tasks to complete. We do this by calling a method that we pulled as boilerplate from the Javadoc of [`ExecutorService`][6]. We changed that code a bit to pass [`Duration`][7] as the amount of time we should reasonably wait for tasks to complete. \r\n\r\n```java\r\nthis.shutdownAndAwaitTermination( executorService , Duration.ofMinutes( 1 ) );\r\n```\r\n\r\nHere is that boilerplate.\r\n\r\n```java\r\nvoid shutdownAndAwaitTermination ( ExecutorService executorService , Duration duration )\r\n{\r\n    executorService.shutdown(); // Disable new tasks from being submitted\r\n    try\r\n    {\r\n        // Wait a while for existing tasks to terminate\r\n        if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\r\n        {\r\n            executorService.shutdownNow(); // Cancel currently executing tasks\r\n            // Wait a while for tasks to respond to being cancelled\r\n            if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\r\n            { System.err.println( &quot;Pool did not terminate&quot; ); }\r\n        }\r\n    }\r\n    catch ( InterruptedException ex )\r\n    {\r\n        // (Re-)Cancel if current thread also interrupted\r\n        executorService.shutdownNow();\r\n        // Preserve interrupt status\r\n        Thread.currentThread().interrupt();\r\n    }\r\n}\r\n```\r\n\r\nLastly, we want to report on the results of the run.\r\n\r\n```java\r\nSystem.out.println(&quot;Report  taskFast counter: &quot; + taskFast.report() );\r\nSystem.out.println(&quot;Report  taskSlow counter: &quot; + taskFast.report() );\r\n```\r\n\r\nPulling that code together.\r\n\r\n\r\n```java\r\npackage work.basil.example.threading;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class App2\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        App2 app = new App2();\r\n        app.demo();\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        System.out.println( &quot;INFO - Start running demo. &quot; + Instant.now() );\r\n\r\n        FastCalc taskFast = new FastCalc();  // Implements `Runnable`.\r\n        SlowCalc taskSlow = new SlowCalc();  // Implements `Runnable`.\r\n\r\n        ExecutorService executorService = Executors.newCachedThreadPool();\r\n\r\n        executorService.submit( taskFast );  // Passing a `Runnable` object.\r\n        executorService.submit( taskSlow );\r\n\r\n        executorService.submit( taskFast );\r\n        executorService.submit( taskSlow );\r\n\r\n        this.shutdownAndAwaitTermination( executorService , Duration.ofMinutes( 1 ) );\r\n\r\n        System.out.println( &quot;Report  taskFast counter: &quot; + taskFast.report() );\r\n        System.out.println( &quot;Report  taskSlow counter: &quot; + taskFast.report() );\r\n\r\n        System.out.println( &quot;INFO - End running demo. &quot; + Instant.now() );\r\n    }\r\n\r\n\r\n    // Boilerplate pulled from Javadoc of `ExecutorService`.\r\n    // https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n    void shutdownAndAwaitTermination ( ExecutorService executorService , Duration duration )\r\n    {\r\n        executorService.shutdown(); // Disable new tasks from being submitted\r\n        try\r\n        {\r\n            // Wait a while for existing tasks to terminate\r\n            if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\r\n            {\r\n                executorService.shutdownNow(); // Cancel currently executing tasks\r\n                // Wait a while for tasks to respond to being cancelled\r\n                if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\r\n                { System.err.println( &quot;Pool did not terminate&quot; ); }\r\n            }\r\n        }\r\n        catch ( InterruptedException ex )\r\n        {\r\n            // (Re-)Cancel if current thread also interrupted\r\n            executorService.shutdownNow();\r\n            // Preserve interrupt status\r\n            Thread.currentThread().interrupt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n\r\n```none\r\nINFO - Start running demo. 2022-05-11T20:50:36.796870Z\r\nINFO - starting `run` on `FastCalc` at 2022-05-11T20:50:36.809083Z on thread ID 16\r\nINFO - starting `run` on `SlowCalc` at 2022-05-11T20:50:36.809228Z on thread ID 17\r\nINFO - starting `run` on `SlowCalc` at 2022-05-11T20:50:36.808793Z on thread ID 15\r\nINFO - starting `run` on `FastCalc` at 2022-05-11T20:50:36.808714Z on thread ID 14\r\nINFO - result of `run` on `FastCalc` at 2022-05-11T20:50:40.081938Z is: 1\r\nINFO - result of `run` on `FastCalc` at 2022-05-11T20:50:40.385796Z is: 2\r\nINFO - result of `run` on `SlowCalc` at 2022-05-11T20:50:47.620290Z is: 1\r\nINFO - result of `run` on `SlowCalc` at 2022-05-11T20:50:47.699582Z is: 2\r\nReport  taskFast counter: 2\r\nReport  taskSlow counter: 2\r\nINFO - End running demo. 2022-05-11T20:50:47.703597Z\r\n```\r\n\r\nRegarding your original interest in total number of threads, we can see here by the thread ID numbers that this code uses a total of 4 threads, one thread per task submission. \r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72077742/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html#newCachedThreadPool()\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html","title":"Create multiple threads by extending Thread class that share same object in Java","body":"<p>The <a href=\"https://stackoverflow.com/a/72077742/642706\">Answer by Solomon Slow</a> is informative, and excellent.</p>\n<p>In addition, I'd like to add that in modern Java we rarely need to address the <code>Thread</code> class directly. The Executors framework was added in Java 5 to vastly simplify such code as yours.</p>\n<p>The key concept is to separate the task(s) from the threads. Focus on the work to be by defining a task as a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Runnable.html\" rel=\"nofollow noreferrer\"><code>Runnable</code></a> (or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a> if returning a result).</p>\n<p>In your example, you seem to have two tasks that each result in incrementing a number, and you want to run each task twice. So let's define  two classes that implement <code>Runnable</code>. Both increment a counter, but only after pretending to do some amount of work. We simulate that work by sleeping some number of seconds. One sleeps a few seconds, the other sleeps longer, just to imagine two different workloads.</p>\n<p>Both classes carry a private member field of an <code>AtomicInteger</code>. That class provides thread-safe ways to increment a number. We need thread-safety protection because we are accessing the same number across threads.</p>\n<p>We mark the <code>AtomicInteger</code> member field as <code>final</code> to prevent us from inadvertently re-assigning another object, as we might do during future edits to this code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FastCalc implements Runnable\n{\n    private final AtomicInteger counter = new AtomicInteger();\n\n    @Override\n    public void run ( )\n    {\n        System.out.println( &quot;INFO - starting `run` on `FastCalc` at &quot; + Instant.now() + &quot; on thread ID &quot; + Thread.currentThread().getId() );  // Beware: Output does *not* necessarily appear on console in chronological order.\n        try { Thread.sleep( ThreadLocalRandom.current().nextInt( 2_000 , 4_000 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        int currentCount = this.counter.incrementAndGet();\n        System.out.println( &quot;INFO - result of `run` on `FastCalc` at &quot; + Instant.now() + &quot; is: &quot; + currentCount );\n    }\n\n    public int report ( )\n    {\n        return this.counter.get();\n    }\n}\n</code></pre>\n<p>And the slower version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SlowCalc implements Runnable\n{\n    private final AtomicInteger counter = new AtomicInteger();\n\n    @Override\n    public void run ( )\n    {\n        System.out.println( &quot;INFO - starting `run` on `SlowCalc` at &quot; + Instant.now() + &quot; on thread ID &quot; + Thread.currentThread().getId() );  // Beware: Output does *not* necessarily appear on console in chronological order.\n        try { Thread.sleep( ThreadLocalRandom.current().nextInt( 8_000 , 12_000 ) ); } catch ( InterruptedException e ) { throw new RuntimeException( e ); }\n        int currentCount = this.counter.incrementAndGet();\n        System.out.println( &quot;INFO - result of `run` on `SlowCalc` at &quot; + Instant.now() + &quot; is: &quot; + currentCount );\n    }\n\n    public int report ( )\n    {\n        return this.counter.get();\n    }\n}\n</code></pre>\n<p>Instantiate each of those tasks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>FastCalc taskFast = new FastCalc();  // Implements `Runnable`.\nSlowCalc taskSlow = new SlowCalc();  // Implements `Runnable`.\n</code></pre>\n<p>Instantiate an <code>ExecutorService</code> to handle the threading on our behalf. Usually we get an executor service by way of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\"><code>Executors</code></a> utility class.</p>\n<p>Here we use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Executors.html#newCachedThreadPool()\" rel=\"nofollow noreferrer\"><code>Executors.newCachedThreadPool()</code></a> for an executor service that creates any number of threads as needed. This is appropriate in situations where we know we will use a limited number of threads.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executorService = Executors.newCachedThreadPool();\n</code></pre>\n<p>Your example runs each task twice. So we submit each task twice to our executor service.</p>\n<p>Remember that both of our classes, <code>FastCalc</code> &amp; <code>SlowCalc</code>, implements <code>Runnable</code>. So we are passing <code>Runnable</code> objects to the <code>submit</code> method here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>executorService.submit( taskFast );  // Passing a `Runnable` object.\nexecutorService.submit( taskSlow );\n\nexecutorService.submit( taskFast );\nexecutorService.submit( taskSlow );\n</code></pre>\n<p>Then we wait for the tasks to complete. We do this by calling a method that we pulled as boilerplate from the Javadoc of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>. We changed that code a bit to pass <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> as the amount of time we should reasonably wait for tasks to complete.</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.shutdownAndAwaitTermination( executorService , Duration.ofMinutes( 1 ) );\n</code></pre>\n<p>Here is that boilerplate.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void shutdownAndAwaitTermination ( ExecutorService executorService , Duration duration )\n{\n    executorService.shutdown(); // Disable new tasks from being submitted\n    try\n    {\n        // Wait a while for existing tasks to terminate\n        if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\n        {\n            executorService.shutdownNow(); // Cancel currently executing tasks\n            // Wait a while for tasks to respond to being cancelled\n            if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\n            { System.err.println( &quot;Pool did not terminate&quot; ); }\n        }\n    }\n    catch ( InterruptedException ex )\n    {\n        // (Re-)Cancel if current thread also interrupted\n        executorService.shutdownNow();\n        // Preserve interrupt status\n        Thread.currentThread().interrupt();\n    }\n}\n</code></pre>\n<p>Lastly, we want to report on the results of the run.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;Report  taskFast counter: &quot; + taskFast.report() );\nSystem.out.println(&quot;Report  taskSlow counter: &quot; + taskFast.report() );\n</code></pre>\n<p>Pulling that code together.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.threading;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\n\npublic class App2\n{\n    public static void main ( String[] args )\n    {\n        App2 app = new App2();\n        app.demo();\n    }\n\n    private void demo ( )\n    {\n        System.out.println( &quot;INFO - Start running demo. &quot; + Instant.now() );\n\n        FastCalc taskFast = new FastCalc();  // Implements `Runnable`.\n        SlowCalc taskSlow = new SlowCalc();  // Implements `Runnable`.\n\n        ExecutorService executorService = Executors.newCachedThreadPool();\n\n        executorService.submit( taskFast );  // Passing a `Runnable` object.\n        executorService.submit( taskSlow );\n\n        executorService.submit( taskFast );\n        executorService.submit( taskSlow );\n\n        this.shutdownAndAwaitTermination( executorService , Duration.ofMinutes( 1 ) );\n\n        System.out.println( &quot;Report  taskFast counter: &quot; + taskFast.report() );\n        System.out.println( &quot;Report  taskSlow counter: &quot; + taskFast.report() );\n\n        System.out.println( &quot;INFO - End running demo. &quot; + Instant.now() );\n    }\n\n\n    // Boilerplate pulled from Javadoc of `ExecutorService`.\n    // https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html\n    void shutdownAndAwaitTermination ( ExecutorService executorService , Duration duration )\n    {\n        executorService.shutdown(); // Disable new tasks from being submitted\n        try\n        {\n            // Wait a while for existing tasks to terminate\n            if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\n            {\n                executorService.shutdownNow(); // Cancel currently executing tasks\n                // Wait a while for tasks to respond to being cancelled\n                if ( ! executorService.awaitTermination( duration.toSeconds() , TimeUnit.SECONDS ) )\n                { System.err.println( &quot;Pool did not terminate&quot; ); }\n            }\n        }\n        catch ( InterruptedException ex )\n        {\n            // (Re-)Cancel if current thread also interrupted\n            executorService.shutdownNow();\n            // Preserve interrupt status\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>INFO - Start running demo. 2022-05-11T20:50:36.796870Z\nINFO - starting `run` on `FastCalc` at 2022-05-11T20:50:36.809083Z on thread ID 16\nINFO - starting `run` on `SlowCalc` at 2022-05-11T20:50:36.809228Z on thread ID 17\nINFO - starting `run` on `SlowCalc` at 2022-05-11T20:50:36.808793Z on thread ID 15\nINFO - starting `run` on `FastCalc` at 2022-05-11T20:50:36.808714Z on thread ID 14\nINFO - result of `run` on `FastCalc` at 2022-05-11T20:50:40.081938Z is: 1\nINFO - result of `run` on `FastCalc` at 2022-05-11T20:50:40.385796Z is: 2\nINFO - result of `run` on `SlowCalc` at 2022-05-11T20:50:47.620290Z is: 1\nINFO - result of `run` on `SlowCalc` at 2022-05-11T20:50:47.699582Z is: 2\nReport  taskFast counter: 2\nReport  taskSlow counter: 2\nINFO - End running demo. 2022-05-11T20:50:47.703597Z\n</code></pre>\n<p>Regarding your original interest in total number of threads, we can see here by the thread ID numbers that this code uses a total of 4 threads, one thread per task submission.</p>\n"}],"owner":{"account_id":5812179,"reputation":113,"user_id":4586638,"accept_rate":67,"display_name":"CuriousCurie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":933,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72077742,"answer_count":2,"score":1,"last_activity_date":1675926375,"creation_date":1651409422,"question_id":72076867,"body_markdown":"I was going through basics of multithreading and was writing a program to understand the difference between using the 2 approaches of creating threads.\r\n\r\nI have read that using Runnable allows multiple threads to share same object and wanted to try similar thing while extending Thread. So after creating new object of Demo2 I passed the reference to Thread constructor (similar to what we do in Runnable).\r\n\r\nI achieved what I was trying to as objT1, tT1, tT2 incremented value of sum to 3. But while printing out the current thread&#39;s name, it prints only `demo2.1`. I thought that the thread names that will be printed would be demo2.1, t1, t2 since I passed these names in constructor.\r\n\r\n        class Main {\r\n    \tpublic static void main(String args[]) {\r\n    \t\tDemo1 objR1 = new Demo1();\r\n    \t\tDemo2 objT1 = new Demo2(&quot;demo2.1&quot;);\r\n    \r\n    \t\tThread tT1 = new Thread(objT1,&quot;t1&quot;);\r\n    \t\tThread tT2 = new Thread(objT1,&quot;t2&quot;);\r\n    \r\n    \t\tThread tR1 = new Thread(objR1,&quot;tR1&quot;);\r\n    \t\tThread tR2 = new Thread(objR1,&quot;tR2&quot;);\r\n    \t\r\n    \t\tobjT1.start();\r\n    \t\ttT1.start();\r\n    \t\ttT2.start();\r\n    \r\n    \t\ttR1.start();\r\n    \t\ttR2.start();\r\n    \t}\r\n    }\r\n    \r\n    \r\n    class Demo1 implements Runnable {\r\n    \r\n        int sum = 0;\r\n    \r\n        synchronized void calculate() {\r\n            sum = sum +1;\t\r\n        }\r\n    \r\n    \tpublic void run()\r\n    \t{\r\n    \t\tcalculate();\t\r\n    \t\tSystem.out.print(Thread.currentThread().getName());\t\r\n    \t\tSystem.out.println(&quot; &quot;+sum);\r\n    \t}\r\n    }\r\n    \r\n    class Demo2 extends Thread {\r\n    \r\n        int sum = 0;\r\n    \r\n    \tDemo2(String n) {\r\n    \t\tsuper(n); \t\r\n    \t}\r\n    \t\r\n        synchronized void calculate() {\r\n            sum = sum +1;\t\t\r\n        }\r\n    \r\n    \tpublic void run()\r\n    \t{\r\n    \t\tcalculate();\t\t\r\n    \t\tSystem.out.println(this.getName()+&quot; &quot;+sum);\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n```none\r\ndemo2.1 1\r\ndemo2.1 2\r\ndemo2.1 3\r\ntR1 1\r\ntR2 2\r\n```\r\n \r\nSo my question is - Does this snippet create 3 threads? If yes, then why aren&#39;t there 3 different names for each thread. If no, then what do these statements do.\r\n\r\n    Demo2 objT1 = new Demo2(&quot;demo2.1&quot;);\r\n    Thread tT1 = new Thread(objT1,&quot;t1&quot;);\r\n    Thread tT2 = new Thread(objT1,&quot;t2&quot;); \r\n\r\n\r\nI know this must be something trivial but I cannot get answers in tutorials. \r\n","title":"Create multiple threads by extending Thread class that share same object in Java","body":"<p>I was going through basics of multithreading and was writing a program to understand the difference between using the 2 approaches of creating threads.</p>\n<p>I have read that using Runnable allows multiple threads to share same object and wanted to try similar thing while extending Thread. So after creating new object of Demo2 I passed the reference to Thread constructor (similar to what we do in Runnable).</p>\n<p>I achieved what I was trying to as objT1, tT1, tT2 incremented value of sum to 3. But while printing out the current thread's name, it prints only <code>demo2.1</code>. I thought that the thread names that will be printed would be demo2.1, t1, t2 since I passed these names in constructor.</p>\n<pre><code>    class Main {\n    public static void main(String args[]) {\n        Demo1 objR1 = new Demo1();\n        Demo2 objT1 = new Demo2(&quot;demo2.1&quot;);\n\n        Thread tT1 = new Thread(objT1,&quot;t1&quot;);\n        Thread tT2 = new Thread(objT1,&quot;t2&quot;);\n\n        Thread tR1 = new Thread(objR1,&quot;tR1&quot;);\n        Thread tR2 = new Thread(objR1,&quot;tR2&quot;);\n    \n        objT1.start();\n        tT1.start();\n        tT2.start();\n\n        tR1.start();\n        tR2.start();\n    }\n}\n\n\nclass Demo1 implements Runnable {\n\n    int sum = 0;\n\n    synchronized void calculate() {\n        sum = sum +1;   \n    }\n\n    public void run()\n    {\n        calculate();    \n        System.out.print(Thread.currentThread().getName()); \n        System.out.println(&quot; &quot;+sum);\n    }\n}\n\nclass Demo2 extends Thread {\n\n    int sum = 0;\n\n    Demo2(String n) {\n        super(n);   \n    }\n    \n    synchronized void calculate() {\n        sum = sum +1;       \n    }\n\n    public void run()\n    {\n        calculate();        \n        System.out.println(this.getName()+&quot; &quot;+sum);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>demo2.1 1\ndemo2.1 2\ndemo2.1 3\ntR1 1\ntR2 2\n</code></pre>\n<p>So my question is - Does this snippet create 3 threads? If yes, then why aren't there 3 different names for each thread. If no, then what do these statements do.</p>\n<pre><code>Demo2 objT1 = new Demo2(&quot;demo2.1&quot;);\nThread tT1 = new Thread(objT1,&quot;t1&quot;);\nThread tT2 = new Thread(objT1,&quot;t2&quot;); \n</code></pre>\n<p>I know this must be something trivial but I cannot get answers in tutorials.</p>\n"},{"tags":["java","apache-nifi","avro","parquet"],"comments":[{"owner":{"account_id":18576633,"reputation":661,"user_id":13537183,"display_name":"Pdeuxa"},"score":0,"creation_date":1601032893,"post_id":64057182,"comment_id":113284839,"body_markdown":"Could you please give a sample of the avro data?","body":"Could you please give a sample of the avro data?"},{"owner":{"account_id":19590378,"reputation":9,"user_id":14337539,"display_name":"Bob Carlos"},"score":0,"creation_date":1601037479,"post_id":64057182,"comment_id":113287084,"body_markdown":"[ {\n  &quot;tp_resposta_id&quot; : 1,\n  &quot;nome&quot; : &quot;MULTIPLA_ESCOLHA&quot;,\n  &quot;descricao&quot; : &quot;item que indicar&#225; a escolha de op&#231;&#227;o de resposta.&quot;,\n  &quot;dt_inclusao&quot; : &quot;2020-04-22 10:28:00.0&quot;,\n  &quot;dt_alteracao&quot; : null,\n  &quot;usuario&quot; : &quot;CARGA_CC_3&quot;\n}, {\n  &quot;tp_resposta_id&quot; : 2,\n  &quot;nome&quot; : &quot;TEXTO&quot;,\n  &quot;descricao&quot; : &quot;item que indicar&#225; uma resposta inserida em um campo de texto.&quot;,\n  &quot;dt_inclusao&quot; : &quot;2020-04-22 10:28:00.0&quot;,\n  &quot;dt_alteracao&quot; : null,\n  &quot;usuario&quot; : &quot;CARGA_CC_3&quot;\n}]","body":"[ {   &quot;tp_resposta_id&quot; : 1,   &quot;nome&quot; : &quot;MULTIPLA_ESCOLHA&quot;,   &quot;descricao&quot; : &quot;item que indicar&#225; a escolha de op&#231;&#227;o de resposta.&quot;,   &quot;dt_inclusao&quot; : &quot;2020-04-22 10:28:00.0&quot;,   &quot;dt_alteracao&quot; : null,   &quot;usuario&quot; : &quot;CARGA_CC_3&quot; }, {   &quot;tp_resposta_id&quot; : 2,   &quot;nome&quot; : &quot;TEXTO&quot;,   &quot;descricao&quot; : &quot;item que indicar&#225; uma resposta inserida em um campo de texto.&quot;,   &quot;dt_inclusao&quot; : &quot;2020-04-22 10:28:00.0&quot;,   &quot;dt_alteracao&quot; : null,   &quot;usuario&quot; : &quot;CARGA_CC_3&quot; }]"},{"owner":{"account_id":18576633,"reputation":661,"user_id":13537183,"display_name":"Pdeuxa"},"score":0,"creation_date":1601043391,"post_id":64057182,"comment_id":113290020,"body_markdown":"Based on your sample: I did ConvertJsontoAvro then AvroToParquet. I didn&#39;t had any issue. What I would do, check if your data from your SQL request are in Avro format(not Json). Check on a smaller file.","body":"Based on your sample: I did ConvertJsontoAvro then AvroToParquet. I didn&#39;t had any issue. What I would do, check if your data from your SQL request are in Avro format(not Json). Check on a smaller file."}],"answers":[{"tags":[],"owner":{"account_id":19590378,"reputation":9,"user_id":14337539,"display_name":"Bob Carlos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1601055386,"creation_date":1601055386,"answer_id":64068917,"question_id":64057182,"body_markdown":"I did what you proposed, Pdeuxa, and it worked perfectly for a small table, but not for large table. So, I increased the JVM&#39;s heap memory in the `nifi-1.10.0/conf/bootstrap.conf` file, and it worked for me.\r\n\r\n## JVM memory settings\r\n```\r\n#java.arg.2=-Xms512m\r\n#java.arg.3=-Xmx512m\r\njava.arg.2=-Xms2048m\r\njava.arg.3=-Xmx2048m\r\n```\r\nThanks for your time and your attention, Pdeuxa.\r\n","title":"NiFi ConvertAvroToParquet IllegalArgumentException You cannot call toBytes() more than once without calling reset()","body":"<p>I did what you proposed, Pdeuxa, and it worked perfectly for a small table, but not for large table. So, I increased the JVM's heap memory in the <code>nifi-1.10.0/conf/bootstrap.conf</code> file, and it worked for me.</p>\n<h2>JVM memory settings</h2>\n<pre><code>#java.arg.2=-Xms512m\n#java.arg.3=-Xmx512m\njava.arg.2=-Xms2048m\njava.arg.3=-Xmx2048m\n</code></pre>\n<p>Thanks for your time and your attention, Pdeuxa.</p>\n"},{"tags":[],"owner":{"account_id":5494549,"reputation":368,"user_id":4366141,"display_name":"Teng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675925081,"creation_date":1675925081,"answer_id":75395096,"question_id":64057182,"body_markdown":"TL,DR: `ParquetWriter` was interrupted by other exception, and it shouldn&#39;t be reused after the exception. In your case, it should be an OOM exception.\r\n\r\nI encountered the same issue recently in a project Hudi. This exception was thrown by `ParquetWriter` when I was trying to write a record into a Parquet file.\r\n\r\n```log\r\n2023-01-31 11:54:20,199 ERROR org.apache.hudi.io.HoodieMergeHandle                         [] - Error writing record  HoodieRecord{key=HoodieKey { recordKey=149389890 partitionPath=}, currentLocation=&#39;null&#39;, newLocation=&#39;null&#39;}\r\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\n\tat org.apache.parquet.Preconditions.checkArgument(Preconditions.java:57)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:69)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:60)\r\n\tat org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreBase.sizeCheck(ColumnWriteStoreBase.java:235)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreBase.endRecord(ColumnWriteStoreBase.java:222)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreV1.endRecord(ColumnWriteStoreV1.java:29)\r\n\tat org.apache.parquet.io.MessageColumnIO$MessageColumnIORecordConsumer.endMessage(MessageColumnIO.java:307)\r\n\tat org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:172)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:138)\r\n\tat org.apache.parquet.hadoop.ParquetWriter.write(ParquetWriter.java:310)\r\n\tat org.apache.hudi.io.storage.HoodieBaseParquetWriter.write(HoodieBaseParquetWriter.java:80)\r\n\tat org.apache.hudi.io.storage.HoodieAvroParquetWriter.writeAvro(HoodieAvroParquetWriter.java:76)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.writeToFile(HoodieMergeHandle.java:386)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.writeRecord(HoodieMergeHandle.java:315)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.writeInsertRecord(HoodieMergeHandle.java:296)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.writeIncomingRecords(HoodieMergeHandle.java:399)\r\n\tat org.apache.hudi.io.HoodieMergeHandle.close(HoodieMergeHandle.java:414)\r\n\tat org.apache.hudi.table.action.commit.FlinkMergeHelper.runMerge(FlinkMergeHelper.java:133)\r\n\tat org.apache.hudi.table.HoodieFlinkCopyOnWriteTable.handleUpdateInternal(HoodieFlinkCopyOnWriteTable.java:375)\r\n\tat org.apache.hudi.table.HoodieFlinkCopyOnWriteTable.handleUpdate(HoodieFlinkCopyOnWriteTable.java:366)\r\n\tat org.apache.hudi.table.action.compact.HoodieCompactor.compact(HoodieCompactor.java:238)\r\n\tat org.apache.hudi.sink.compact.CompactFunction.doCompaction(CompactFunction.java:110)\r\n\tat org.apache.hudi.sink.compact.CompactFunction.processElement(CompactFunction.java:101)\r\n\tat org.apache.hudi.sink.compact.CompactFunction.processElement(CompactFunction.java:46)\r\n\tat org.apache.flink.streaming.api.operators.ProcessOperator.processElement(ProcessOperator.java:66)\r\n\tat org.apache.flink.streaming.runtime.tasks.OneInputStreamTask$StreamTaskNetworkOutput.emitRecord(OneInputStreamTask.java:233)\r\n\tat org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.processElement(AbstractStreamTaskNetworkInput.java:134)\r\n\tat org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.emitNext(AbstractStreamTaskNetworkInput.java:105)\r\n\tat org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:524)\r\n\tat org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:203)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:809)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:758)\r\n\tat org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:951)\r\n\tat org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:930)\r\n\tat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:744)\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:563)\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\r\n```\r\n\r\nAfter checking the source code of parquet-column. The cause of this exception is that the parquet writer can&#39;t be reused if it was interrupted by other exception. According to the source code of `org.apache.parquet.column.impl.ColumnWriterBase#writePage`, `repetitionLevelColumn`, `definitionLevelColumn` and `dataColumn` will be reset after `writePage(...)`, but the reset code is not in finally block, so, if there is anything wrong in `writePage(...)`, the reset code won&#39;t be executed.\r\n\r\n```java\r\nabstract class ColumnWriterBase implements ColumnWriter {\r\n  ...\r\n  void writePage() {\r\n    if (valueCount == 0) {\r\n      throw new ParquetEncodingException(&quot;writing empty page&quot;);\r\n    }\r\n    this.rowsWrittenSoFar += pageRowCount;\r\n    if (DEBUG)\r\n      LOG.debug(&quot;write page&quot;);\r\n    try {\r\n      writePage(pageRowCount, valueCount, statistics, repetitionLevelColumn, definitionLevelColumn, dataColumn);\r\n    } catch (IOException e) {\r\n      throw new ParquetEncodingException(&quot;could not write page for &quot; + path, e);\r\n    }\r\n    repetitionLevelColumn.reset();\r\n    definitionLevelColumn.reset();\r\n    dataColumn.reset();\r\n    valueCount = 0;\r\n    resetStatistics();\r\n    pageRowCount = 0;\r\n  }\r\n}\r\n```\r\n\r\nIn my case, the exception thrown in `writePage(...)` was a class not found exception, and my code caught it wrongly, and want to reuse the same writer.\r\n\r\n```log\r\nCaused by: java.lang.ClassNotFoundException: com.github.luben.zstd.NoPool\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat org.apache.flink.util.FlinkUserCodeClassLoader.loadClassWithoutExceptionHandling(FlinkUserCodeClassLoader.java:68)\r\n\tat org.apache.flink.util.ChildFirstClassLoader.loadClassWithoutExceptionHandling(ChildFirstClassLoader.java:74)\r\n\tat org.apache.flink.util.FlinkUserCodeClassLoader.loadClass(FlinkUserCodeClassLoader.java:52)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat org.apache.parquet.hadoop.codec.ZstandardCodec.createOutputStream(ZstandardCodec.java:109)\r\n\tat org.apache.parquet.hadoop.codec.ZstandardCodec.createOutputStream(ZstandardCodec.java:100)\r\n\tat org.apache.parquet.hadoop.CodecFactory$HeapBytesCompressor.compress(CodecFactory.java:165)\r\n\tat org.apache.parquet.hadoop.ColumnChunkPageWriteStore$ColumnChunkPageWriter.writePage(ColumnChunkPageWriteStore.java:168)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:59)\r\n\tat org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreBase.sizeCheck(ColumnWriteStoreBase.java:235)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreBase.endRecord(ColumnWriteStoreBase.java:222)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreV1.endRecord(ColumnWriteStoreV1.java:29)\r\n```","title":"NiFi ConvertAvroToParquet IllegalArgumentException You cannot call toBytes() more than once without calling reset()","body":"<p>TL,DR: <code>ParquetWriter</code> was interrupted by other exception, and it shouldn't be reused after the exception. In your case, it should be an OOM exception.</p>\n<p>I encountered the same issue recently in a project Hudi. This exception was thrown by <code>ParquetWriter</code> when I was trying to write a record into a Parquet file.</p>\n<pre><code>2023-01-31 11:54:20,199 ERROR org.apache.hudi.io.HoodieMergeHandle                         [] - Error writing record  HoodieRecord{key=HoodieKey { recordKey=149389890 partitionPath=}, currentLocation='null', newLocation='null'}\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\n    at org.apache.parquet.Preconditions.checkArgument(Preconditions.java:57)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:69)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:60)\n    at org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.sizeCheck(ColumnWriteStoreBase.java:235)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.endRecord(ColumnWriteStoreBase.java:222)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.endRecord(ColumnWriteStoreV1.java:29)\n    at org.apache.parquet.io.MessageColumnIO$MessageColumnIORecordConsumer.endMessage(MessageColumnIO.java:307)\n    at org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:172)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:138)\n    at org.apache.parquet.hadoop.ParquetWriter.write(ParquetWriter.java:310)\n    at org.apache.hudi.io.storage.HoodieBaseParquetWriter.write(HoodieBaseParquetWriter.java:80)\n    at org.apache.hudi.io.storage.HoodieAvroParquetWriter.writeAvro(HoodieAvroParquetWriter.java:76)\n    at org.apache.hudi.io.HoodieMergeHandle.writeToFile(HoodieMergeHandle.java:386)\n    at org.apache.hudi.io.HoodieMergeHandle.writeRecord(HoodieMergeHandle.java:315)\n    at org.apache.hudi.io.HoodieMergeHandle.writeInsertRecord(HoodieMergeHandle.java:296)\n    at org.apache.hudi.io.HoodieMergeHandle.writeIncomingRecords(HoodieMergeHandle.java:399)\n    at org.apache.hudi.io.HoodieMergeHandle.close(HoodieMergeHandle.java:414)\n    at org.apache.hudi.table.action.commit.FlinkMergeHelper.runMerge(FlinkMergeHelper.java:133)\n    at org.apache.hudi.table.HoodieFlinkCopyOnWriteTable.handleUpdateInternal(HoodieFlinkCopyOnWriteTable.java:375)\n    at org.apache.hudi.table.HoodieFlinkCopyOnWriteTable.handleUpdate(HoodieFlinkCopyOnWriteTable.java:366)\n    at org.apache.hudi.table.action.compact.HoodieCompactor.compact(HoodieCompactor.java:238)\n    at org.apache.hudi.sink.compact.CompactFunction.doCompaction(CompactFunction.java:110)\n    at org.apache.hudi.sink.compact.CompactFunction.processElement(CompactFunction.java:101)\n    at org.apache.hudi.sink.compact.CompactFunction.processElement(CompactFunction.java:46)\n    at org.apache.flink.streaming.api.operators.ProcessOperator.processElement(ProcessOperator.java:66)\n    at org.apache.flink.streaming.runtime.tasks.OneInputStreamTask$StreamTaskNetworkOutput.emitRecord(OneInputStreamTask.java:233)\n    at org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.processElement(AbstractStreamTaskNetworkInput.java:134)\n    at org.apache.flink.streaming.runtime.io.AbstractStreamTaskNetworkInput.emitNext(AbstractStreamTaskNetworkInput.java:105)\n    at org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:524)\n    at org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:203)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:809)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:758)\n    at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:951)\n    at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:930)\n    at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:744)\n    at org.apache.flink.runtime.taskmanager.Task.run(Task.java:563)\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\n</code></pre>\n<p>After checking the source code of parquet-column. The cause of this exception is that the parquet writer can't be reused if it was interrupted by other exception. According to the source code of <code>org.apache.parquet.column.impl.ColumnWriterBase#writePage</code>, <code>repetitionLevelColumn</code>, <code>definitionLevelColumn</code> and <code>dataColumn</code> will be reset after <code>writePage(...)</code>, but the reset code is not in finally block, so, if there is anything wrong in <code>writePage(...)</code>, the reset code won't be executed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class ColumnWriterBase implements ColumnWriter {\n  ...\n  void writePage() {\n    if (valueCount == 0) {\n      throw new ParquetEncodingException(&quot;writing empty page&quot;);\n    }\n    this.rowsWrittenSoFar += pageRowCount;\n    if (DEBUG)\n      LOG.debug(&quot;write page&quot;);\n    try {\n      writePage(pageRowCount, valueCount, statistics, repetitionLevelColumn, definitionLevelColumn, dataColumn);\n    } catch (IOException e) {\n      throw new ParquetEncodingException(&quot;could not write page for &quot; + path, e);\n    }\n    repetitionLevelColumn.reset();\n    definitionLevelColumn.reset();\n    dataColumn.reset();\n    valueCount = 0;\n    resetStatistics();\n    pageRowCount = 0;\n  }\n}\n</code></pre>\n<p>In my case, the exception thrown in <code>writePage(...)</code> was a class not found exception, and my code caught it wrongly, and want to reuse the same writer.</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.github.luben.zstd.NoPool\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at org.apache.flink.util.FlinkUserCodeClassLoader.loadClassWithoutExceptionHandling(FlinkUserCodeClassLoader.java:68)\n    at org.apache.flink.util.ChildFirstClassLoader.loadClassWithoutExceptionHandling(ChildFirstClassLoader.java:74)\n    at org.apache.flink.util.FlinkUserCodeClassLoader.loadClass(FlinkUserCodeClassLoader.java:52)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    at org.apache.parquet.hadoop.codec.ZstandardCodec.createOutputStream(ZstandardCodec.java:109)\n    at org.apache.parquet.hadoop.codec.ZstandardCodec.createOutputStream(ZstandardCodec.java:100)\n    at org.apache.parquet.hadoop.CodecFactory$HeapBytesCompressor.compress(CodecFactory.java:165)\n    at org.apache.parquet.hadoop.ColumnChunkPageWriteStore$ColumnChunkPageWriter.writePage(ColumnChunkPageWriteStore.java:168)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:59)\n    at org.apache.parquet.column.impl.ColumnWriterBase.writePage(ColumnWriterBase.java:387)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.sizeCheck(ColumnWriteStoreBase.java:235)\n    at org.apache.parquet.column.impl.ColumnWriteStoreBase.endRecord(ColumnWriteStoreBase.java:222)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.endRecord(ColumnWriteStoreV1.java:29)\n</code></pre>\n"}],"owner":{"account_id":19590378,"reputation":9,"user_id":14337539,"display_name":"Bob Carlos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675925081,"creation_date":1601002855,"question_id":64057182,"body_markdown":"I am not able to convert a 3.7GB avro file to parquet format using ConvertAvroToParquet.\r\n\r\nMy setup: ExecuteSQL 1.10.0 &gt; ConvertAvroToParquet 1.10.0 &gt; PutS3Object 1.10.0.\r\n\r\n[ConvertAvroToParquet][1] settings are by default. \r\n\r\n```\r\n2020-09-24 20:54:40,534 INFO [Write-Ahead Local State Provider Maintenance] org.wali.MinimalLockingWriteAheadLog org.wali.MinimalLockingWriteAheadLog@6c8e0773 checkpointed with 645 Records and 0 Swap Files in 5 milliseconds (Stop-the-world time = 1 milliseconds, Clear Edit Logs time = 1 millis), max Transaction ID 9971\r\n2020-09-24 20:54:48,015 INFO [pool-12-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\r\n2020-09-24 20:54:48,015 INFO [pool-12-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 2 records in 0 milliseconds\r\n2020-09-24 20:55:03,820 INFO [Timer-Driven Process Thread-7] o.a.p.hadoop.InternalParquetRecordWriter Flushing mem columnStore to file. allocated memory: 100899470\r\n2020-09-24 20:55:03,953 ERROR [Timer-Driven Process Thread-7] o.a.n.p.parquet.ConvertAvroToParquet ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] failed to process session due to java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset(); Processor Administratively Yielded for 1 sec: java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\n\tat org.apache.parquet.Preconditions.checkArgument(Preconditions.java:53)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:65)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:148)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.flush(ColumnWriterV1.java:235)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:122)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:172)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:114)\r\n\tat org.apache.parquet.hadoop.ParquetWriter.close(ParquetWriter.java:308)\r\n\tat org.apache.nifi.processors.parquet.ConvertAvroToParquet.lambda$onTrigger$0(ConvertAvroToParquet.java:159)\r\n\tat org.apache.nifi.controller.repository.StandardProcessSession.write(StandardProcessSession.java:2990)\r\n\tat org.apache.nifi.processors.parquet.ConvertAvroToParquet.onTrigger(ConvertAvroToParquet.java:141)\r\n\tat org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\r\n\tat org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1176)\r\n\tat org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:213)\r\n\tat org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:117)\r\n\tat org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n2020-09-24 20:55:03,954 WARN [Timer-Driven Process Thread-7] o.a.n.controller.tasks.ConnectableTask Administratively Yielding ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] due to uncaught Exception: java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\r\n\tat org.apache.parquet.Preconditions.checkArgument(Preconditions.java:53)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\r\n\tat org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:65)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:148)\r\n\tat org.apache.parquet.column.impl.ColumnWriterV1.flush(ColumnWriterV1.java:235)\r\n\tat org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:122)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:172)\r\n\tat org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:114)\r\n\tat org.apache.parquet.hadoop.ParquetWriter.close(ParquetWriter.java:308)\r\n\tat org.apache.nifi.processors.parquet.ConvertAvroToParquet.lambda$onTrigger$0(ConvertAvroToParquet.java:159)\r\n\tat org.apache.nifi.controller.repository.StandardProcessSession.write(StandardProcessSession.java:2990)\r\n\tat org.apache.nifi.processors.parquet.ConvertAvroToParquet.onTrigger(ConvertAvroToParquet.java:141)\r\n\tat org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\r\n\tat org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1176)\r\n\tat org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:213)\r\n\tat org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:117)\r\n\tat org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n2020-09-24 20:55:52,897 INFO [Timer-Driven Process Thread-4] o.a.p.hadoop.InternalParquetRecordWriter Flushing mem columnStore to file. allocated memory: 101841856\r\n``` \r\nWhat can this be?\r\n\r\n  [1]: https://i.stack.imgur.com/HVORw.png","title":"NiFi ConvertAvroToParquet IllegalArgumentException You cannot call toBytes() more than once without calling reset()","body":"<p>I am not able to convert a 3.7GB avro file to parquet format using ConvertAvroToParquet.</p>\n<p>My setup: ExecuteSQL 1.10.0 &gt; ConvertAvroToParquet 1.10.0 &gt; PutS3Object 1.10.0.</p>\n<p><a href=\"https://i.stack.imgur.com/HVORw.png\" rel=\"nofollow noreferrer\">ConvertAvroToParquet</a> settings are by default.</p>\n<pre><code>2020-09-24 20:54:40,534 INFO [Write-Ahead Local State Provider Maintenance] org.wali.MinimalLockingWriteAheadLog org.wali.MinimalLockingWriteAheadLog@6c8e0773 checkpointed with 645 Records and 0 Swap Files in 5 milliseconds (Stop-the-world time = 1 milliseconds, Clear Edit Logs time = 1 millis), max Transaction ID 9971\n2020-09-24 20:54:48,015 INFO [pool-12-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Initiating checkpoint of FlowFile Repository\n2020-09-24 20:54:48,015 INFO [pool-12-thread-1] o.a.n.c.r.WriteAheadFlowFileRepository Successfully checkpointed FlowFile Repository with 2 records in 0 milliseconds\n2020-09-24 20:55:03,820 INFO [Timer-Driven Process Thread-7] o.a.p.hadoop.InternalParquetRecordWriter Flushing mem columnStore to file. allocated memory: 100899470\n2020-09-24 20:55:03,953 ERROR [Timer-Driven Process Thread-7] o.a.n.p.parquet.ConvertAvroToParquet ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] failed to process session due to java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset(); Processor Administratively Yielded for 1 sec: java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\n    at org.apache.parquet.Preconditions.checkArgument(Preconditions.java:53)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:65)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:148)\n    at org.apache.parquet.column.impl.ColumnWriterV1.flush(ColumnWriterV1.java:235)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:122)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:172)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:114)\n    at org.apache.parquet.hadoop.ParquetWriter.close(ParquetWriter.java:308)\n    at org.apache.nifi.processors.parquet.ConvertAvroToParquet.lambda$onTrigger$0(ConvertAvroToParquet.java:159)\n    at org.apache.nifi.controller.repository.StandardProcessSession.write(StandardProcessSession.java:2990)\n    at org.apache.nifi.processors.parquet.ConvertAvroToParquet.onTrigger(ConvertAvroToParquet.java:141)\n    at org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\n    at org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1176)\n    at org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:213)\n    at org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:117)\n    at org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n2020-09-24 20:55:03,954 WARN [Timer-Driven Process Thread-7] o.a.n.controller.tasks.ConnectableTask Administratively Yielding ConvertAvroToParquet[id=c08ff95c-0174-1000-9e67-1f59b4d34dfe] due to uncaught Exception: java.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\njava.lang.IllegalArgumentException: You cannot call toBytes() more than once without calling reset()\n    at org.apache.parquet.Preconditions.checkArgument(Preconditions.java:53)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridEncoder.toBytes(RunLengthBitPackingHybridEncoder.java:254)\n    at org.apache.parquet.column.values.rle.RunLengthBitPackingHybridValuesWriter.getBytes(RunLengthBitPackingHybridValuesWriter.java:65)\n    at org.apache.parquet.column.impl.ColumnWriterV1.writePage(ColumnWriterV1.java:148)\n    at org.apache.parquet.column.impl.ColumnWriterV1.flush(ColumnWriterV1.java:235)\n    at org.apache.parquet.column.impl.ColumnWriteStoreV1.flush(ColumnWriteStoreV1.java:122)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.flushRowGroupToStore(InternalParquetRecordWriter.java:172)\n    at org.apache.parquet.hadoop.InternalParquetRecordWriter.close(InternalParquetRecordWriter.java:114)\n    at org.apache.parquet.hadoop.ParquetWriter.close(ParquetWriter.java:308)\n    at org.apache.nifi.processors.parquet.ConvertAvroToParquet.lambda$onTrigger$0(ConvertAvroToParquet.java:159)\n    at org.apache.nifi.controller.repository.StandardProcessSession.write(StandardProcessSession.java:2990)\n    at org.apache.nifi.processors.parquet.ConvertAvroToParquet.onTrigger(ConvertAvroToParquet.java:141)\n    at org.apache.nifi.processor.AbstractProcessor.onTrigger(AbstractProcessor.java:27)\n    at org.apache.nifi.controller.StandardProcessorNode.onTrigger(StandardProcessorNode.java:1176)\n    at org.apache.nifi.controller.tasks.ConnectableTask.invoke(ConnectableTask.java:213)\n    at org.apache.nifi.controller.scheduling.TimerDrivenSchedulingAgent$1.run(TimerDrivenSchedulingAgent.java:117)\n    at org.apache.nifi.engine.FlowEngine$2.run(FlowEngine.java:110)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n2020-09-24 20:55:52,897 INFO [Timer-Driven Process Thread-4] o.a.p.hadoop.InternalParquetRecordWriter Flushing mem columnStore to file. allocated memory: 101841856\n</code></pre>\n<p>What can this be?</p>\n"},{"tags":["java","jaxb"],"comments":[{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":2,"creation_date":1644700391,"post_id":71095913,"comment_id":125677617,"body_markdown":"I think confusion like this is a big contributor to why so many developers are still using Java 8. Upgrading to a new JDK was mostly trivial up to Java 8. If you start with 11 or later you are fine, but 11 represents a significant barrier when migrating from earlier versions.","body":"I think confusion like this is a big contributor to why so many developers are still using Java 8. Upgrading to a new JDK was mostly trivial up to Java 8. If you start with 11 or later you are fine, but 11 represents a significant barrier when migrating from earlier versions."},{"owner":{"account_id":15740225,"reputation":155,"user_id":19249736,"display_name":"ConfusedUbuntist"},"score":0,"creation_date":1655323666,"post_id":71095913,"comment_id":128308650,"body_markdown":"Hey, I am just wondering if you ever found out more. Specifically I am looking for some central location where I can read about the current state of affairs with JAXB.","body":"Hey, I am just wondering if you ever found out more. Specifically I am looking for some central location where I can read about the current state of affairs with JAXB."},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1655333381,"post_id":71095913,"comment_id":128310942,"body_markdown":"@ConfusedUbuntist Nope... I haven&#39;t found any place that has a complete description of the state of JAXB. I just try to put together the pieces from digging through the eclipse-ee4j stuff.  It&#39;s sparse and mostly undocumented.","body":"@ConfusedUbuntist Nope... I haven&#39;t found any place that has a complete description of the state of JAXB. I just try to put together the pieces from digging through the eclipse-ee4j stuff.  It&#39;s sparse and mostly undocumented."},{"owner":{"account_id":15740225,"reputation":155,"user_id":19249736,"display_name":"ConfusedUbuntist"},"score":0,"creation_date":1655386719,"post_id":71095913,"comment_id":128323955,"body_markdown":"That is too bad. Hopefully at some point, things will get at least some clear documentation.","body":"That is too bad. Hopefully at some point, things will get at least some clear documentation."},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1697704811,"post_id":71095913,"comment_id":136314162,"body_markdown":"@swpalmer migrating from 8 to 11 was hell for me, but you can&#39;t avoid it, 8 is cave age now. Last LTS is 17","body":"@swpalmer migrating from 8 to 11 was hell for me, but you can&#39;t avoid it, 8 is cave age now. Last LTS is 17"},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":1,"creation_date":1697731840,"post_id":71095913,"comment_id":136319651,"body_markdown":"@zakmck Last LTS when you wrote that comment is Java 21, but yes I agree 8-&gt;11 is the hard jump.  It get&#39;s easier after that.","body":"@zakmck Last LTS when you wrote that comment is Java 21, but yes I agree 8-&gt;11 is the hard jump.  It get&#39;s easier after that."},{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":0,"creation_date":1697791993,"post_id":71095913,"comment_id":136326864,"body_markdown":"Oh damn, the 21 is already around! This policy of releasing based just on time is commercial nonsense.","body":"Oh damn, the 21 is already around! This policy of releasing based just on time is commercial nonsense."}],"answers":[{"tags":[],"owner":{"account_id":150780,"reputation":1979,"user_id":364206,"accept_rate":40,"display_name":"Danny Thomas"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1675924982,"creation_date":1651920450,"answer_id":72151763,"question_id":71095913,"body_markdown":"The only difference between `jaxb-impl` and `jaxb-runtime` is packaging: `jaxb-impl` bundles istack/txw2 inside the jar, whereas `jaxb-runtime` provides them via separate dependencies. \r\n\r\n## Version Compatibility and the JakartaEE Migration\r\n\r\nI&#39;ve been trying to make sense of this for the last day, and it&#39;s incredibly confusing. Particularly when you&#39;re trying to avoid the `java.xml.bind` to `jakarta.xml.bind` migration. There&#39;s out of date information everywhere and some broken releases in the `jaxb-impl` 2.3.x release line.\r\n\r\nBest I can tell, GlassFish was providing the JAXB reference implementation. It&#39;s since moved to EE4J, but releases continue from that project against both sets of coordinates. Appears that `com.sun.xml.bind:jaxb-ri` is where the latest full bundles are released:\r\n\r\nhttps://github.com/eclipse-ee4j/jaxb-ri/\r\n\r\nHaving figured out that piece of history, the real mess is that none of the artifacts reflect the `javax.xml.bind` to `jakarta.xml.bind` move in their artifact coordinates, only in the versions. This means if you&#39;re in ecosystem where you need both to exist, you&#39;re going to have a bad time.\r\n\r\nFor instance, the 2.3.3 release changed from depending on `javax.xml.bind:jaxb-api` to `jakarta.xml.bind:jakarta.xml.bind-api` because at 2.x, the `jakarta` artifacts provide the `javax.xml.bind` packages. At version 3.0.0 it provides `jakarta.xml.bind`.\r\n\r\nThe implementations are the same at 3.0.0 which means while the earlier versions could happily exist at runtime, you have no way of resolving them both in build tools and conflict resolution is going to break legacy uses of `javax.xml.bind` APIs.\r\n\r\n## Allow javax.xml.bind and jakarta.xml.bind to coexist\r\n\r\nFor projects that need both APIs to coexist without migrating the legacy code:\r\n\r\n - For `javax.xml.bind` use `com.sun.xml.bind:jaxb-impl:2.3.6`. Ignore the 3.0.0 and later releases. Add an explicit dependency on `javax.xml.bind:jaxb-api:2.3.1` so that you have a package providing the `javax.xml.bind` API\r\n - For `jakarta.xml.bind` use the latest `org.glassfish.jaxb:jaxb-runtime`. Ignore the releases earlier than 3.0.0\r\n\r\n## Runtime compatibility with jakarta.xml.bind\r\n\r\nUse the [tomcat-jakartaee-migration](https://github.com/apache/tomcat-jakartaee-migration) tool to rewrite classes for deployment. \r\n\r\nFor Gradle projects, you can use the [gradle-jakartaee-migration-plugin](https://github.com/nebula-plugins/gradle-jakartaee-migration-plugin/), and get the benefit of capabilities and transforms at development time too.\r\n\r\n## Migrate to jakarta.xml.bind\r\n\r\nYou can use either of the coordinates for the runtime based on your preferences for packaging:\r\n\r\n - `com.sun.xml.bind:jaxb-impl:4.0.0`\r\n - `org.glassfish.jaxb:jaxb-runtime:4.0.0`\r\n\r\nBoth depend on `jakarta.xml.bind:jakarta.xml.bind-api` with the `jakarta.xml.bind` package namespace.","title":"What is the difference between jaxb-impl and jaxb-runtime?","body":"<p>The only difference between <code>jaxb-impl</code> and <code>jaxb-runtime</code> is packaging: <code>jaxb-impl</code> bundles istack/txw2 inside the jar, whereas <code>jaxb-runtime</code> provides them via separate dependencies.</p>\n<h2>Version Compatibility and the JakartaEE Migration</h2>\n<p>I've been trying to make sense of this for the last day, and it's incredibly confusing. Particularly when you're trying to avoid the <code>java.xml.bind</code> to <code>jakarta.xml.bind</code> migration. There's out of date information everywhere and some broken releases in the <code>jaxb-impl</code> 2.3.x release line.</p>\n<p>Best I can tell, GlassFish was providing the JAXB reference implementation. It's since moved to EE4J, but releases continue from that project against both sets of coordinates. Appears that <code>com.sun.xml.bind:jaxb-ri</code> is where the latest full bundles are released:</p>\n<p><a href=\"https://github.com/eclipse-ee4j/jaxb-ri/\" rel=\"noreferrer\">https://github.com/eclipse-ee4j/jaxb-ri/</a></p>\n<p>Having figured out that piece of history, the real mess is that none of the artifacts reflect the <code>javax.xml.bind</code> to <code>jakarta.xml.bind</code> move in their artifact coordinates, only in the versions. This means if you're in ecosystem where you need both to exist, you're going to have a bad time.</p>\n<p>For instance, the 2.3.3 release changed from depending on <code>javax.xml.bind:jaxb-api</code> to <code>jakarta.xml.bind:jakarta.xml.bind-api</code> because at 2.x, the <code>jakarta</code> artifacts provide the <code>javax.xml.bind</code> packages. At version 3.0.0 it provides <code>jakarta.xml.bind</code>.</p>\n<p>The implementations are the same at 3.0.0 which means while the earlier versions could happily exist at runtime, you have no way of resolving them both in build tools and conflict resolution is going to break legacy uses of <code>javax.xml.bind</code> APIs.</p>\n<h2>Allow javax.xml.bind and jakarta.xml.bind to coexist</h2>\n<p>For projects that need both APIs to coexist without migrating the legacy code:</p>\n<ul>\n<li>For <code>javax.xml.bind</code> use <code>com.sun.xml.bind:jaxb-impl:2.3.6</code>. Ignore the 3.0.0 and later releases. Add an explicit dependency on <code>javax.xml.bind:jaxb-api:2.3.1</code> so that you have a package providing the <code>javax.xml.bind</code> API</li>\n<li>For <code>jakarta.xml.bind</code> use the latest <code>org.glassfish.jaxb:jaxb-runtime</code>. Ignore the releases earlier than 3.0.0</li>\n</ul>\n<h2>Runtime compatibility with jakarta.xml.bind</h2>\n<p>Use the <a href=\"https://github.com/apache/tomcat-jakartaee-migration\" rel=\"noreferrer\">tomcat-jakartaee-migration</a> tool to rewrite classes for deployment.</p>\n<p>For Gradle projects, you can use the <a href=\"https://github.com/nebula-plugins/gradle-jakartaee-migration-plugin/\" rel=\"noreferrer\">gradle-jakartaee-migration-plugin</a>, and get the benefit of capabilities and transforms at development time too.</p>\n<h2>Migrate to jakarta.xml.bind</h2>\n<p>You can use either of the coordinates for the runtime based on your preferences for packaging:</p>\n<ul>\n<li><code>com.sun.xml.bind:jaxb-impl:4.0.0</code></li>\n<li><code>org.glassfish.jaxb:jaxb-runtime:4.0.0</code></li>\n</ul>\n<p>Both depend on <code>jakarta.xml.bind:jakarta.xml.bind-api</code> with the <code>jakarta.xml.bind</code> package namespace.</p>\n"}],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20369,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":72151763,"answer_count":1,"score":27,"last_activity_date":1675924982,"creation_date":1644700350,"question_id":71095913,"body_markdown":"Clearly the com.sun.xml.bind:jaxb-impl artifact is labelled &quot;**Old** JAXB Runtime module&quot; in the maven repository (see link below), and yet both of these artifacts are still getting new releases:\r\n\r\nhttps://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime\r\nhttps://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl\r\n\r\nThis answer https://stackoverflow.com/questions/26413431/which-artifacts-should-i-use-for-jaxb-ri-in-my-maven-project/26413432#26413432\r\ndoes not clarify the difference.\r\n\r\nThe accepted answer to both the above question and this one https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception conclude that for Java 9+ you should use:  org.glassfish.jaxb:jaxb-runtime\r\n\r\nBut I have code using com.sun.xml.bind:jaxb-impl and it appears to be working fine.  So what do I lose or gain by moving to jaxb-runtime?\r\n\r\nEven the latest (3.0.2 at the time I write this) version is available for the &quot;OLD&quot; jaxb-impl module.  If Oracle isn&#39;t doing this anymore, who makes the com.sun.xml.bind:jaxb-impl artifact? What is it for? Why doesn&#39;t it share the Maven group coordinates with jaxb-runtime?\r\n\r\nIs there any central location that clearly documents what the current state of affairs is with JAXB?\r\n\r\nThere is just so much confusion with JAXB now.\r\n\r\nP.S. I need to remain compatible with Java 8 for the time being - so I can&#39;t go to 3.x yet, and 2.4.x appears to be an abandoned attempt at fixing the modularity that they foolishly broke when it was split out of the JDK.\r\n","title":"What is the difference between jaxb-impl and jaxb-runtime?","body":"<p>Clearly the com.sun.xml.bind:jaxb-impl artifact is labelled &quot;<strong>Old</strong> JAXB Runtime module&quot; in the maven repository (see link below), and yet both of these artifacts are still getting new releases:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime</a>\n<a href=\"https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl\" rel=\"noreferrer\">https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl</a></p>\n<p>This answer <a href=\"https://stackoverflow.com/questions/26413431/which-artifacts-should-i-use-for-jaxb-ri-in-my-maven-project/26413432#26413432\">Which artifacts should I use for JAXB RI in my Maven project?</a>\ndoes not clarify the difference.</p>\n<p>The accepted answer to both the above question and this one <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException</a> conclude that for Java 9+ you should use:  org.glassfish.jaxb:jaxb-runtime</p>\n<p>But I have code using com.sun.xml.bind:jaxb-impl and it appears to be working fine.  So what do I lose or gain by moving to jaxb-runtime?</p>\n<p>Even the latest (3.0.2 at the time I write this) version is available for the &quot;OLD&quot; jaxb-impl module.  If Oracle isn't doing this anymore, who makes the com.sun.xml.bind:jaxb-impl artifact? What is it for? Why doesn't it share the Maven group coordinates with jaxb-runtime?</p>\n<p>Is there any central location that clearly documents what the current state of affairs is with JAXB?</p>\n<p>There is just so much confusion with JAXB now.</p>\n<p>P.S. I need to remain compatible with Java 8 for the time being - so I can't go to 3.x yet, and 2.4.x appears to be an abandoned attempt at fixing the modularity that they foolishly broke when it was split out of the JDK.</p>\n"},{"tags":["java","azure","eclipse","servlets","azure-web-app-service"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1675351541,"post_id":75324013,"comment_id":132914400,"body_markdown":"Check the Tomcat logs for stack traces and the reason for the 500 error. Share them in the question.","body":"Check the Tomcat logs for stack traces and the reason for the 500 error. Share them in the question."},{"owner":{"account_id":27527957,"reputation":19,"user_id":21006958,"display_name":"lalala"},"score":0,"creation_date":1675393300,"post_id":75324013,"comment_id":132924334,"body_markdown":"@nitind By tomcat logs do you mean in azure or in eclipse?","body":"@nitind By tomcat logs do you mean in azure or in eclipse?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1675397314,"post_id":75324013,"comment_id":132924822,"body_markdown":"The place where you&#39;re getting the 500 error--Azure.","body":"The place where you&#39;re getting the 500 error--Azure."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1675943457,"post_id":75324013,"comment_id":133038454,"body_markdown":"You absolutely need to copy and paste the stack trace into the question as plain text instead of as screenshots. This way your question is Googleable for others facing the same problem.","body":"You absolutely need to copy and paste the stack trace into the question as plain text instead of as screenshots. This way your question is Googleable for others facing the same problem."}],"answers":[{"tags":[],"owner":{"account_id":26887289,"reputation":1376,"user_id":20466646,"display_name":"Rajesh  Mopati"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675924963,"creation_date":1675924963,"answer_id":75395080,"question_id":75324013,"body_markdown":"The below are the things need to check to resolve the issue of servlet pages not being deployed to Azure.\r\n\r\n1. Verify the required dependencies for your servlet pages are included in your pom.xml file.\r\n2. Check the Azure logs for any error messages related to the deployment of your servlet pages. \r\n3. Ensure that the database configuration in your application is correct and matches the configuration of your database in Azure.\r\n4. Try redeploying your application after making any necessary changes to your database configuration.\r\n5. Make sure that the Apache Tomcat server version you are using is compatible with Azure.\r\n6. Ensure that the port on which your Apache Tomcat server is running is open in the firewall settings in Azure.\r\n\r\n**Steps to deploy java application using maven eclipse to Azure:**\r\n\r\nCreating a Java project in Eclipse, go to File &gt; New &gt; Java Project, enter a name for your project, and click Finish.\r\nIf Maven is not already configured in your Eclipse installation, and you need to install the Maven plugin. Go to Help &gt; Eclipse Marketplace, search for &quot;Maven&quot;, and select the Maven Integration for Eclipse plugin. \r\n\r\nClick the Install button, accept the license agreement, and restart Eclipse when prompted.\r\nCreate a pom.xml file and Right-click on your Java project, go to New &gt; Other, select Maven &gt; Maven Project, and click Next. Select the project and enter your project information, such as groupId, artifactId, and version, and click Finish.\r\n\r\n**Create a deployment package.** \r\n\r\nIn the pom.xml file, add the following build plugin to create a deployment package:\r\n```XML\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;jar&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nBuild the deployment package by choosing Java project, go to Run As &gt; Maven build, enter &quot;package&quot; in the Goals field, and click Run. \r\nA jar file will be created in the target directory of your project.\r\n\r\nCreate an Azure App Service \r\n\r\nDeploy the Java application to Azure In the Azure portal, go to the Deployment Center of your Azure App Service, select FTP, and click Continue. Download the publish profile, and then use an FTP client, such as FileZilla, to upload the jar file to the site/wwwroot/webapps directory.\r\n\r\nVerify the deployment In the Azure portal, go to the URL of your Azure App Service, and verify that your Java application.\r\n\r\n![enter image description here](https://i.stack.imgur.com/8T6NM.png)\r\n\r\n\r\n![enter image description here](https://i.stack.imgur.com/queHH.png)\r\n\r\n\r\nReference taken from\r\n[Java app on Azure App Service](https://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-linux-development-environment-maven)\r\n\r\n[Deploy WebApps to Azure](https://azure.microsoft.com/en-in/blog/maven-deploy-java-web-apps-to-azure/)\r\n\r\n","title":"When deploying java application using maven eclipse to Azure, servlet pages do not get deployed","body":"<p>The below are the things need to check to resolve the issue of servlet pages not being deployed to Azure.</p>\n<ol>\n<li>Verify the required dependencies for your servlet pages are included in your pom.xml file.</li>\n<li>Check the Azure logs for any error messages related to the deployment of your servlet pages.</li>\n<li>Ensure that the database configuration in your application is correct and matches the configuration of your database in Azure.</li>\n<li>Try redeploying your application after making any necessary changes to your database configuration.</li>\n<li>Make sure that the Apache Tomcat server version you are using is compatible with Azure.</li>\n<li>Ensure that the port on which your Apache Tomcat server is running is open in the firewall settings in Azure.</li>\n</ol>\n<p><strong>Steps to deploy java application using maven eclipse to Azure:</strong></p>\n<p>Creating a Java project in Eclipse, go to File &gt; New &gt; Java Project, enter a name for your project, and click Finish.\nIf Maven is not already configured in your Eclipse installation, and you need to install the Maven plugin. Go to Help &gt; Eclipse Marketplace, search for &quot;Maven&quot;, and select the Maven Integration for Eclipse plugin.</p>\n<p>Click the Install button, accept the license agreement, and restart Eclipse when prompted.\nCreate a pom.xml file and Right-click on your Java project, go to New &gt; Other, select Maven &gt; Maven Project, and click Next. Select the project and enter your project information, such as groupId, artifactId, and version, and click Finish.</p>\n<p><strong>Create a deployment package.</strong></p>\n<p>In the pom.xml file, add the following build plugin to create a deployment package:</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.2.0&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;jar&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Build the deployment package by choosing Java project, go to Run As &gt; Maven build, enter &quot;package&quot; in the Goals field, and click Run.\nA jar file will be created in the target directory of your project.</p>\n<p>Create an Azure App Service</p>\n<p>Deploy the Java application to Azure In the Azure portal, go to the Deployment Center of your Azure App Service, select FTP, and click Continue. Download the publish profile, and then use an FTP client, such as FileZilla, to upload the jar file to the site/wwwroot/webapps directory.</p>\n<p>Verify the deployment In the Azure portal, go to the URL of your Azure App Service, and verify that your Java application.</p>\n<p><img src=\"https://i.stack.imgur.com/8T6NM.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/queHH.png\" alt=\"enter image description here\" /></p>\n<p>Reference taken from\n<a href=\"https://learn.microsoft.com/en-us/azure/app-service/quickstart-java?tabs=javase&amp;pivots=platform-linux-development-environment-maven\" rel=\"nofollow noreferrer\">Java app on Azure App Service</a></p>\n<p><a href=\"https://azure.microsoft.com/en-in/blog/maven-deploy-java-web-apps-to-azure/\" rel=\"nofollow noreferrer\">Deploy WebApps to Azure</a></p>\n"}],"owner":{"account_id":27527957,"reputation":19,"user_id":21006958,"display_name":"lalala"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1675924963,"creation_date":1675345163,"question_id":75324013,"body_markdown":"This is my first time trying to deploy an application to azure using eclipse. I am using pHp myadmin local database. I have not configured my database in azure yet. I am not sure if its needed. I am using apache tom cat server. It runs fine on apache tomcat including the servlet pages. I get issues when I deploy the application on Azure.\r\n\r\nI tried to deploy my web application using the Azure toolkit plugin available in eclipse. \r\nThese are the exact steps I followed.\r\nhttps://learn.microsoft.com/en-us/training/modules/publish-azure-web-app-with-azure-toolkit-eclipse/4-deploy-web-app-azure \r\n\r\nConfiguration\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see below non servlet pages are visible upon deployment\r\n[![enter image description here][2]][2]\r\n\r\nBut the moment I go to a page with servlet they give me this error.\r\n[![enter image description here][3]][3]\r\n\r\nAny suggestions on how to fix this issue is greatly appreciated!\r\n\r\nEdit: I managed to access logs in Azure \r\n[![enter image description here][4]][4]\r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ivqIL.png\r\n  [2]: https://i.stack.imgur.com/PsDXH.jpg\r\n  [3]: https://i.stack.imgur.com/HVNy9.png\r\n  [4]: https://i.stack.imgur.com/PWpet.png\r\n  [5]: https://i.stack.imgur.com/BnLLJ.png\r\n  [6]: https://i.stack.imgur.com/7OLZO.png\r\n  [7]: https://i.stack.imgur.com/Ijii8.png","title":"When deploying java application using maven eclipse to Azure, servlet pages do not get deployed","body":"<p>This is my first time trying to deploy an application to azure using eclipse. I am using pHp myadmin local database. I have not configured my database in azure yet. I am not sure if its needed. I am using apache tom cat server. It runs fine on apache tomcat including the servlet pages. I get issues when I deploy the application on Azure.</p>\n<p>I tried to deploy my web application using the Azure toolkit plugin available in eclipse.\nThese are the exact steps I followed.\n<a href=\"https://learn.microsoft.com/en-us/training/modules/publish-azure-web-app-with-azure-toolkit-eclipse/4-deploy-web-app-azure\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/training/modules/publish-azure-web-app-with-azure-toolkit-eclipse/4-deploy-web-app-azure</a></p>\n<p>Configuration\n<a href=\"https://i.stack.imgur.com/ivqIL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ivqIL.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see below non servlet pages are visible upon deployment\n<a href=\"https://i.stack.imgur.com/PsDXH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PsDXH.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But the moment I go to a page with servlet they give me this error.\n<a href=\"https://i.stack.imgur.com/HVNy9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HVNy9.png\" alt=\"enter image description here\" /></a></p>\n<p>Any suggestions on how to fix this issue is greatly appreciated!</p>\n<p>Edit: I managed to access logs in Azure\n<a href=\"https://i.stack.imgur.com/PWpet.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PWpet.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/BnLLJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BnLLJ.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/7OLZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7OLZO.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Ijii8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ijii8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","gradle","build"],"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1675687374,"post_id":75361199,"comment_id":132976181,"body_markdown":"Is the project setup from spring initializr? If not, I&#39;d recommend starting from there, since everything is already set up.","body":"Is the project setup from spring initializr? If not, I&#39;d recommend starting from there, since everything is already set up."},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1675695782,"post_id":75361199,"comment_id":132978972,"body_markdown":"@0x150 Project was setup from spring initializr only. I tried another fresh project from spring initializr. Getting same error.","body":"@0x150 Project was setup from spring initializr only. I tried another fresh project from spring initializr. Getting same error."},{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1675713820,"post_id":75361199,"comment_id":132984486,"body_markdown":"Spring Boot 3 requires Java 17 as a minimum (https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes#java-17-baseline-and-java-19-support). Are you trying to build with Java 11?","body":"Spring Boot 3 requires Java 17 as a minimum (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes#java-17-baseline-and-java-19-support\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>). Are you trying to build with Java 11?"},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1675744784,"post_id":75361199,"comment_id":132989838,"body_markdown":"@ScottFrederick yes","body":"@ScottFrederick yes"},{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1675790372,"post_id":75361199,"comment_id":133003050,"body_markdown":"You can&#39;t use Java 11 to compile an app using Spring Boot 3. You&#39;ll have to use at least Java 17.","body":"You can&#39;t use Java 11 to compile an app using Spring Boot 3. You&#39;ll have to use at least Java 17."},{"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"score":0,"creation_date":1675832512,"post_id":75361199,"comment_id":133011005,"body_markdown":"@ScottFrederick Ok, but error doesn&#39;t seems to be a compilation error, it looks like issue while resolving the dependency","body":"@ScottFrederick Ok, but error doesn&#39;t seems to be a compilation error, it looks like issue while resolving the dependency"},{"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"score":0,"creation_date":1675879321,"post_id":75361199,"comment_id":133024811,"body_markdown":"It&#39;s hard to tell exactly what&#39;s going on in your case with the limited build output above and without seeing the entire project, but Gradle will not be able to resolve the plugin unless Java 17 or later used for the build. See https://github.com/spring-projects/spring-boot/issues/33365 for some details and example output.","body":"It&#39;s hard to tell exactly what&#39;s going on in your case with the limited build output above and without seeing the entire project, but Gradle will not be able to resolve the plugin unless Java 17 or later used for the build. See <a href=\"https://github.com/spring-projects/spring-boot/issues/33365\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/33365</a> for some details and example output."}],"answers":[{"tags":[],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675924638,"creation_date":1675924638,"answer_id":75395032,"question_id":75361199,"body_markdown":"Not Sure why error message was not that clear. It was related to certificate issue. I added  some organization specific certificate in java cacerts keystore and it resolved the gradle issue with plugin download.\r\n\r\nThanks to All who tried to help.","title":"Issue while setting up the spring boot with gradle","body":"<p>Not Sure why error message was not that clear. It was related to certificate issue. I added  some organization specific certificate in java cacerts keystore and it resolved the gradle issue with plugin download.</p>\n<p>Thanks to All who tried to help.</p>\n"}],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75395032,"answer_count":1,"score":0,"last_activity_date":1675924638,"creation_date":1675685732,"question_id":75361199,"body_markdown":"I am trying to setting up a Spring boot gradle project in intelliJ. If I am trying with reload button on the gradle pane, it&#39;s giving me error for setting.gradle\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut setting.gradle file is already there is the root directory.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWhen I tried `./gradlew clean build` on terminal getting the below error:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nbuild.gradle\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.0.0&#39;\r\n    }\r\n    \r\n    group &#39;com&#39;\r\n    version &#39;1.0&#39;\r\n    \r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.7.0&#39;\r\n        testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.7.0&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    java {\r\n        sourceCompatibility = JavaVersion.toVersion(&#39;11&#39;)\r\n        targetCompatibility = JavaVersion.toVersion(&#39;11&#39;)\r\n    }\r\n\r\n\r\nI tried but couldn&#39;t figure out what I am missing. Please suggest.\r\n\r\n**Update:** I tried to delete gradle installation from the system and executed one another application which was working fine earlier but not even after downloading the gradle version, getting the same error as mentioned above.\r\n\r\nI tried Maven project with spring initializr and it successfully build so It seems to be an issue regarding gradle setup on my machine but not sure what to check.**\r\n\r\nRegards\r\n\r\n  [1]: https://i.stack.imgur.com/vZBFm.png\r\n  [2]: https://i.stack.imgur.com/gY7Ji.png\r\n  [3]: https://i.stack.imgur.com/j3ksN.png","title":"Issue while setting up the spring boot with gradle","body":"<p>I am trying to setting up a Spring boot gradle project in intelliJ. If I am trying with reload button on the gradle pane, it's giving me error for setting.gradle</p>\n<p><a href=\"https://i.stack.imgur.com/vZBFm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vZBFm.png\" alt=\"enter image description here\" /></a></p>\n<p>but setting.gradle file is already there is the root directory.</p>\n<p><a href=\"https://i.stack.imgur.com/gY7Ji.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gY7Ji.png\" alt=\"enter image description here\" /></a></p>\n<p>When I tried <code>./gradlew clean build</code> on terminal getting the below error:</p>\n<p><a href=\"https://i.stack.imgur.com/j3ksN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j3ksN.png\" alt=\"enter image description here\" /></a></p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.0'\n}\n\ngroup 'com'\nversion '1.0'\n\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'\n    implementation 'org.springframework.boot:spring-boot-starter'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njava {\n    sourceCompatibility = JavaVersion.toVersion('11')\n    targetCompatibility = JavaVersion.toVersion('11')\n}\n</code></pre>\n<p>I tried but couldn't figure out what I am missing. Please suggest.</p>\n<p><strong>Update:</strong> I tried to delete gradle installation from the system and executed one another application which was working fine earlier but not even after downloading the gradle version, getting the same error as mentioned above.</p>\n<p>I tried Maven project with spring initializr and it successfully build so It seems to be an issue regarding gradle setup on my machine but not sure what to check.**</p>\n<p>Regards</p>\n"},{"tags":["java","android-studio","encoding","utf-8","syntax-error"],"comments":[{"owner":{"account_id":8719608,"reputation":25664,"user_id":6523163,"accept_rate":72,"display_name":"aircraft"},"score":0,"creation_date":1491028657,"post_id":39932158,"comment_id":73383663,"body_markdown":"@WaqrVicky have you solved it?","body":"@WaqrVicky have you solved it?"},{"owner":{"account_id":9038248,"reputation":383,"user_id":6733339,"accept_rate":25,"display_name":"Waqar Vicky"},"score":0,"creation_date":1491033275,"post_id":39932158,"comment_id":73384745,"body_markdown":"No, i was create new project.","body":"No, i was create new project."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1475929177,"creation_date":1475929177,"answer_id":39932273,"question_id":39932158,"body_markdown":"That&#39;s not an encoding issue. That&#39;s compiled bytecode, the content of a .class file. You cannot simply rename it into .java and expect it to work.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>That's not an encoding issue. That's compiled bytecode, the content of a .class file. You cannot simply rename it into .java and expect it to work.</p>\n"},{"tags":[],"owner":{"account_id":9558125,"reputation":357,"user_id":7099939,"display_name":"M Shaban Ali"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1539754816,"creation_date":1539754816,"answer_id":52847920,"question_id":39932158,"body_markdown":"**For people in future:**\r\n\r\nI had the same problem.\r\n\r\nI was able to solve it simply by making a copy of the project and opened the copied project.\r\nCopied project worked perfectly fine.\r\n\r\n**Note:** I got this problem because of improper shutdown of my PC.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p><strong>For people in future:</strong></p>\n\n<p>I had the same problem.</p>\n\n<p>I was able to solve it simply by making a copy of the project and opened the copied project.\nCopied project worked perfectly fine.</p>\n\n<p><strong>Note:</strong> I got this problem because of improper shutdown of my PC.</p>\n"},{"tags":[],"owner":{"account_id":2181279,"reputation":95,"user_id":1930720,"accept_rate":33,"display_name":"user1930720"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545416261,"creation_date":1545416261,"answer_id":53889226,"question_id":39932158,"body_markdown":"This is an old issue, but if anyone comes across this, what isn&#39;t mentioned above, but happening for me is that the original file on disk is intact java code. Android Studio is reading it like this for some reason.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>This is an old issue, but if anyone comes across this, what isn't mentioned above, but happening for me is that the original file on disk is intact java code. Android Studio is reading it like this for some reason.</p>\n"},{"tags":[],"owner":{"account_id":5368601,"reputation":840,"user_id":4277741,"accept_rate":65,"display_name":"ulmaxy"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1568202299,"creation_date":1568202299,"answer_id":57888435,"question_id":39932158,"body_markdown":"In my case it happend after Windows died with the blue screen, here&#39;s how I fixed it:\r\n\r\n1. Close Android Studio\r\n2. Find a directory named .AndroidStudioX.X in C:Users/YourUsername and rename it to old.AndroidStudioX.X\r\n3. Restart Android Studio and choose the renamed old.AndroidStudioX.X to import settings from.\r\n\r\nMy answer is taken from here https://stackoverflow.com/a/53476487/4277741","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>In my case it happend after Windows died with the blue screen, here's how I fixed it:</p>\n\n<ol>\n<li>Close Android Studio</li>\n<li>Find a directory named .AndroidStudioX.X in C:Users/YourUsername and rename it to old.AndroidStudioX.X</li>\n<li>Restart Android Studio and choose the renamed old.AndroidStudioX.X to import settings from.</li>\n</ol>\n\n<p>My answer is taken from here <a href=\"https://stackoverflow.com/a/53476487/4277741\">https://stackoverflow.com/a/53476487/4277741</a></p>\n"},{"tags":[],"owner":{"account_id":17044833,"reputation":335,"user_id":12331920,"display_name":"Akshay Chouhan"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1601611918,"creation_date":1574169832,"answer_id":58935137,"question_id":39932158,"body_markdown":"\t\r\nAn encoding issue can be solved by deleting all files contained in the Android Studio &quot;caches&quot; folder, which can be found in &quot;C:\\Users\\&lt;username&gt;\\.AndroidStudioX.Y\\system\\caches&quot;.\r\n\r\nMake sure that to close Android Studio before deleting.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>An encoding issue can be solved by deleting all files contained in the Android Studio &quot;caches&quot; folder, which can be found in &quot;C:\\Users&lt;username&gt;.AndroidStudioX.Y\\system\\caches&quot;.</p>\n<p>Make sure that to close Android Studio before deleting.</p>\n"},{"tags":[],"owner":{"account_id":7662916,"reputation":1,"user_id":5807608,"display_name":"Mohammed Hussein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579964578,"creation_date":1579953390,"answer_id":59908973,"question_id":39932158,"body_markdown":"I had the same problem and how I fixed it is that I just went to the directory where the java files for my project are located, which in my case is `users/user name/AndroidStudioProjects/Project name/app/src/main/java/com/example/android/project name`, and here you will find all java codes you wrote for your project just open the one making the problem with notepad and you will find your code here in the right format and perfect just copy all of it and get back to Android Studio window and delete the wrong formatted code and paste this one and wait for it to sync and that&#39;s it. If you face the same issue with XML codes just do the same thing find the directory where XML files are located.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>I had the same problem and how I fixed it is that I just went to the directory where the java files for my project are located, which in my case is <code>users/user name/AndroidStudioProjects/Project name/app/src/main/java/com/example/android/project name</code>, and here you will find all java codes you wrote for your project just open the one making the problem with notepad and you will find your code here in the right format and perfect just copy all of it and get back to Android Studio window and delete the wrong formatted code and paste this one and wait for it to sync and that's it. If you face the same issue with XML codes just do the same thing find the directory where XML files are located.</p>\n"},{"tags":[],"owner":{"account_id":16013759,"reputation":362,"user_id":11557093,"display_name":"Harsh0021"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1587048650,"creation_date":1587048650,"answer_id":61253252,"question_id":39932158,"body_markdown":"you have to just delete the catches folder in C:/users/&quot;your PC name&quot;/AndroidStudio(version code).\r\nSometimes it gets disturbed because of some reasons like you have shut down the PC in improper way so it won&#39;t get enough time to shutDown all stuff So all that errors occurs.\r\n\r\nI think it would definitely work for you.\r\nHave a nice day!!!!\r\n:)","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>you have to just delete the catches folder in C:/users/\"your PC name\"/AndroidStudio(version code).\nSometimes it gets disturbed because of some reasons like you have shut down the PC in improper way so it won't get enough time to shutDown all stuff So all that errors occurs.</p>\n\n<p>I think it would definitely work for you.\nHave a nice day!!!!\n:)</p>\n"},{"tags":[],"owner":{"account_id":13699691,"reputation":232,"user_id":9885272,"display_name":"Ashwini Salunkhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587709287,"creation_date":1587709287,"answer_id":61402357,"question_id":39932158,"body_markdown":"This worked for me,  I clicked on **utf-8** and code is displayed in proper format.\r\n","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>This worked for me,  I clicked on <strong>utf-8</strong> and code is displayed in proper format.</p>\n"},{"tags":[],"owner":{"account_id":4449559,"reputation":2273,"user_id":3621912,"display_name":"Benny"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596042939,"creation_date":1588101250,"answer_id":61488150,"question_id":39932158,"body_markdown":"All you need is to remove the Android Studio settings directory, which can be found: \r\n\r\non Windows\r\n\r\n    C:/Users/yourusername/.AndroidStudioX.Y\r\n\r\non Linux:\r\n    \r\n    /home/yourusername/.AndroidStudioX.Y\r\n\r\nClose Android Studio, delete the directory, then reopen Android-Studio and open your project.\r\n\r\nAlso if it happens on a different IDE, it is the same approach.\r\n\r\nIf the issue persists, try to copy the content of your project directory into a new directory, then open the project from the new directory.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>All you need is to remove the Android Studio settings directory, which can be found:</p>\n<p>on Windows</p>\n<pre><code>C:/Users/yourusername/.AndroidStudioX.Y\n</code></pre>\n<p>on Linux:</p>\n<pre><code>/home/yourusername/.AndroidStudioX.Y\n</code></pre>\n<p>Close Android Studio, delete the directory, then reopen Android-Studio and open your project.</p>\n<p>Also if it happens on a different IDE, it is the same approach.</p>\n<p>If the issue persists, try to copy the content of your project directory into a new directory, then open the project from the new directory.</p>\n"},{"tags":[],"owner":{"account_id":11030076,"reputation":699,"user_id":13168899,"display_name":"Mussa Charles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618427569,"creation_date":1618427569,"answer_id":67097789,"question_id":39932158,"body_markdown":"This is an old one but I just click `Invalidate Cache / Restart` on file option in IDE and after restart, it works. \r\n\r\nVersion `Android Studio v4.1`","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>This is an old one but I just click <code>Invalidate Cache / Restart</code> on file option in IDE and after restart, it works.</p>\n<p>Version <code>Android Studio v4.1</code></p>\n"},{"tags":[],"owner":{"account_id":12920306,"reputation":81,"user_id":9343040,"display_name":"James121"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626349494,"creation_date":1626349494,"answer_id":68393183,"question_id":39932158,"body_markdown":"I had to replace unknown characters(which I had in a comment) into known ones. The issue happened after resolving merge conflicts.\r\n\r\n[![unknown chars][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XSyOu.png","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>I had to replace unknown characters(which I had in a comment) into known ones. The issue happened after resolving merge conflicts.</p>\n<p><a href=\"https://i.stack.imgur.com/XSyOu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XSyOu.png\" alt=\"unknown chars\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5971918,"reputation":10303,"user_id":4694013,"accept_rate":79,"display_name":"Anoop M Maddasseri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629100688,"creation_date":1629100688,"answer_id":68799261,"question_id":39932158,"body_markdown":"Just rename the project folder and reopen it in Android Studio, worked like a charm!\r\n\r\nInvalidate Cache &amp; Restart / Clean &amp; Rebuild doesn&#39;t work for me. The project cache corrupted after improper s/m shutdown. Just change the project dir path renaming the project, it&#39;ll work.","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>Just rename the project folder and reopen it in Android Studio, worked like a charm!</p>\n<p>Invalidate Cache &amp; Restart / Clean &amp; Rebuild doesn't work for me. The project cache corrupted after improper s/m shutdown. Just change the project dir path renaming the project, it'll work.</p>\n"},{"tags":[],"owner":{"account_id":5475193,"reputation":6876,"user_id":4353365,"display_name":"Francis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1632326432,"creation_date":1632326432,"answer_id":69287647,"question_id":39932158,"body_markdown":"On Windows close Android Studio and delete its cache directory:\r\n\r\n    c:\\Users\\[user name]\\AppData\\Local\\Google\\AndroidStudio[XXXX.X]\\caches","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>On Windows close Android Studio and delete its cache directory:</p>\n<pre><code>c:\\Users\\[user name]\\AppData\\Local\\Google\\AndroidStudio[XXXX.X]\\caches\n</code></pre>\n"}],"owner":{"account_id":9038248,"reputation":383,"user_id":6733339,"accept_rate":25,"display_name":"Waqar Vicky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35497,"favorite_count":0,"down_vote_count":2,"up_vote_count":26,"answer_count":13,"score":24,"last_activity_date":1675924063,"creation_date":1475928482,"question_id":39932158,"body_markdown":"my android studio gone crazy like this please help??\r\n\r\nfile was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio\r\n\r\n![file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio][1]\r\n\r\n\r\n   [1]: http://i.stack.imgur.com/AnTYf.png","title":"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio","body":"<p>my android studio gone crazy like this please help??</p>\n\n<p>file was loaded in the wrong encoding: 'UTF-8' in android studio</p>\n\n<p><img src=\"https://i.stack.imgur.com/AnTYf.png\" alt=\"file was loaded in the wrong encoding: &#39;UTF-8&#39; in android studio\"></p>\n"},{"tags":["java","date","datetime","calendar"],"comments":[{"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"score":1,"creation_date":1349008010,"post_id":12661203,"comment_id":17081890,"body_markdown":"Since weeks are regular I don&#39;t think there is any problem with february or leap years: if today is monday the last monday was seven days ago.","body":"Since weeks are regular I don&#39;t think there is any problem with february or leap years: if today is monday the last monday was seven days ago."},{"owner":{"account_id":220462,"reputation":177831,"user_id":477878,"display_name":"Joachim Isaksson"},"score":1,"creation_date":1349008674,"post_id":12661203,"comment_id":17082027,"body_markdown":"If you ran it yesterday, what result would you expect? What if you ran it today? Yesterday it&#39;d give 2012-09-17 as monday, today 2012-09-24.","body":"If you ran it yesterday, what result would you expect? What if you ran it today? Yesterday it&#39;d give 2012-09-17 as monday, today 2012-09-24."},{"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"score":0,"creation_date":1349009945,"post_id":12661203,"comment_id":17082255,"body_markdown":"I want it to return the date for Mon and Fri last week. So if i run it yesterday (or even today) it should give me 17th and 21st for both runs. \n\nIf i run it tomorrow which is a new week it should give me 24th and 29th.","body":"I want it to return the date for Mon and Fri last week. So if i run it yesterday (or even today) it should give me 17th and 21st for both runs.   If i run it tomorrow which is a new week it should give me 24th and 29th."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1474313979,"post_id":12661203,"comment_id":66471691,"body_markdown":"How do you define last week? Last seven days? Standard Monday-Sunday period? Localized week, such as Sunday-Saturday in the United States? The week prior to todays week or including todays partial week?","body":"How do you define last week? Last seven days? Standard Monday-Sunday period? Localized week, such as Sunday-Saturday in the United States? The week prior to todays week or including todays partial week?"}],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349008037,"creation_date":1349008037,"answer_id":12661240,"question_id":12661203,"body_markdown":"The only thing I see wrong is that you are in fact testing the **range** Mo-Fr, and not, as stated, retrieving two specific days. It would be safer to test range Mo-Sa with exclusive upper bound.","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p>The only thing I see wrong is that you are in fact testing the <strong>range</strong> Mo-Fr, and not, as stated, retrieving two specific days. It would be safer to test range Mo-Sa with exclusive upper bound.</p>\n"},{"tags":[],"owner":{"account_id":1348049,"reputation":5104,"user_id":1288408,"display_name":"Modus Tollens"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1479464893,"creation_date":1349009096,"answer_id":12661333,"question_id":12661203,"body_markdown":"**Note:** For Java 8 and above please take a look at [Basil Bourque](https://stackoverflow.com/users/642706/basil-bourque)&#39;s answer ([link](https://stackoverflow.com/a/39580958/1288408)).&lt;br&gt;\r\nJava 8 introduced a new time/date API which offers most of Joda-Time&#39;s functionality. \r\n\r\n---\r\n\r\n[Joda-Time][1] offers really nice methods for problems like that.\r\n\r\nGetting the dates for Monday and Friday last week would look something like this using Joda Time:\r\n\r\n    DateTime today = DateTime.now();\r\n    DateTime sameDayLastWeek = today.minusWeeks(1);\r\n    DateTime mondayLastWeek = sameDayLastWeek.withDayOfWeek(DateTimeConstants.MONDAY);\r\n    DateTime fridayLastWeek = sameDayLastWeek.withDayOfWeek(DateTimeConstants.FRIDAY);\r\n\r\n\r\nYou can create `DateTime` objects from `java.util.Date` objects and vice versa so it is easy to use with Java dates.\r\n\r\n---\r\n\r\nUsing the above code with the date\r\n\r\n    DateTime today = new DateTime(&quot;2012-09-30&quot;);\r\n\r\nresults in &quot;2012-09-17&quot; for Monday and &quot;2012-09-21&quot; for Friday, setting the date to\r\n\r\n    DateTime tomorrow = new DateTime(&quot;2012-10-01&quot;);\r\n\r\nresults in &quot;2012-09-24&quot; for Monday and &quot;2012-09-28&quot; for Friday.\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p><strong>Note:</strong> For Java 8 and above please take a look at <a href=\"https://stackoverflow.com/users/642706/basil-bourque\">Basil Bourque</a>'s answer (<a href=\"https://stackoverflow.com/a/39580958/1288408\">link</a>).<br>\nJava 8 introduced a new time/date API which offers most of Joda-Time's functionality. </p>\n\n<hr>\n\n<p><a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> offers really nice methods for problems like that.</p>\n\n<p>Getting the dates for Monday and Friday last week would look something like this using Joda Time:</p>\n\n<pre><code>DateTime today = DateTime.now();\nDateTime sameDayLastWeek = today.minusWeeks(1);\nDateTime mondayLastWeek = sameDayLastWeek.withDayOfWeek(DateTimeConstants.MONDAY);\nDateTime fridayLastWeek = sameDayLastWeek.withDayOfWeek(DateTimeConstants.FRIDAY);\n</code></pre>\n\n<p>You can create <code>DateTime</code> objects from <code>java.util.Date</code> objects and vice versa so it is easy to use with Java dates.</p>\n\n<hr>\n\n<p>Using the above code with the date</p>\n\n<pre><code>DateTime today = new DateTime(\"2012-09-30\");\n</code></pre>\n\n<p>results in \"2012-09-17\" for Monday and \"2012-09-21\" for Friday, setting the date to</p>\n\n<pre><code>DateTime tomorrow = new DateTime(\"2012-10-01\");\n</code></pre>\n\n<p>results in \"2012-09-24\" for Monday and \"2012-09-28\" for Friday.</p>\n"},{"tags":[],"owner":{"account_id":220462,"reputation":177831,"user_id":477878,"display_name":"Joachim Isaksson"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1349010995,"creation_date":1349010995,"answer_id":12661517,"question_id":12661203,"body_markdown":"You still have start of week set to sunday, which means that `Calendar.MONDAY` on a saturday is the monday before, while `Calendar.MONDAY` on a sunday is the next day.\r\n\r\nWhat you need to do is (according to how you want it according to your comment above), to set the start of week to monday.\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setFirstDayOfWeek(Calendar.MONDAY);\r\n\r\n    cal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\r\n    cal.add(Calendar.DAY_OF_WEEK, -7); \r\n    ...\r\n\r\nBeyond that, and that the last second of friday isn&#39;t included in the range, your logic seems sound, and shouldn&#39;t have trouble with leap years/DST shifts etc.\r\n","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p>You still have start of week set to sunday, which means that <code>Calendar.MONDAY</code> on a saturday is the monday before, while <code>Calendar.MONDAY</code> on a sunday is the next day.</p>\n\n<p>What you need to do is (according to how you want it according to your comment above), to set the start of week to monday.</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.setFirstDayOfWeek(Calendar.MONDAY);\n\ncal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\ncal.add(Calendar.DAY_OF_WEEK, -7); \n...\n</code></pre>\n\n<p>Beyond that, and that the last second of friday isn't included in the range, your logic seems sound, and shouldn't have trouble with leap years/DST shifts etc.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1587840969,"creation_date":1474314455,"answer_id":39580958,"question_id":12661203,"body_markdown":"# tl;dr\r\n\r\n&gt;get the dates for Monday and Friday last week\r\n\r\n\r\n    LocalDate                                           // Represent a date only, without a time-of-day, and without a time zone or offset.\r\n    .now                                                // Capture the current date as seen through the wall-clock time used by the people of a certain region (a time zone). \r\n    ( \r\n        ZoneId.of( &quot;America/Montreal&quot; ) \r\n    )                                                   // Returns a `LocalDate` object.\r\n    .with                                               // Move to another date.\r\n    ( \r\n        TemporalAdjusters.previous( DayOfWeek.MONDAY )  // Returns an implementation of the `TemporalAdjuster` interface.\r\n    )                                                   // Returns another `LocalDate` object, separate and distinct from our original `LocalDate` object. Per the immutable objects design pattern. \r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe other Answers use the troublesome old legacy date-time classes now supplanted by the java.time questions.\r\n\r\n# `LocalDate`\r\n\r\nThe [`LocalDate`](https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html) class represents a date-only value without time-of-day and without time zone.\r\n\r\nA time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in [Paris France](https://en.wikipedia.org/wiki/Europe/Paris) is a new day while still yesterday in [Montr&#233;al Qu&#233;bec](https://en.wikipedia.org/wiki/America/Montreal).\r\n\r\n    ZoneId z = ZoneId.of( America/Montreal );\r\n    LocalDate today = LocalDate.now( z );\r\n\r\n# `TemporalAdjuster`\r\n\r\nThe [`TemporalAdjuster`][1] interface provides for adjustments to move from one date-time value to another. Find handy implementations in the [`TemporalAdjusters`][2] class (note the plural &#39;s&#39;). The `previous` adjuster finds any specified object from the [`DayOfWeek`][3] enum.\r\n\r\nThe Question does not exactly define last week. Last seven days? Standard Monday-Sunday period? Localized week, such as Sunday-Saturday in the United States? The week prior to todays week or including todays partial week?\r\n\r\nI will assume the prior seven days were intended.\r\n\r\n    LocalDate previousMonday = today.with( TemporalAdjusters.previous( DayOfWeek.MONDAY ) ) ;\r\n    LocalDate previousFriday = today.with( TemporalAdjusters.previous( DayOfWeek.FRIDAY ) ) ;\r\n\r\n\r\nBy the way, if you want to consider the initial date if it happens to already be the desired day-of-week, use alternate `TemporalAdjuster` implementations: [`previousOrSame`][4] or [`nextOrSame`][5].\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjuster.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#previousOrSame-java.time.DayOfWeek-\r\n  [5]: https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#nextOrSame-java.time.DayOfWeek-","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<h1>tl;dr</h1>\n\n<blockquote>\n  <p>get the dates for Monday and Friday last week</p>\n</blockquote>\n\n<pre><code>LocalDate                                           // Represent a date only, without a time-of-day, and without a time zone or offset.\n.now                                                // Capture the current date as seen through the wall-clock time used by the people of a certain region (a time zone). \n( \n    ZoneId.of( \"America/Montreal\" ) \n)                                                   // Returns a `LocalDate` object.\n.with                                               // Move to another date.\n( \n    TemporalAdjusters.previous( DayOfWeek.MONDAY )  // Returns an implementation of the `TemporalAdjuster` interface.\n)                                                   // Returns another `LocalDate` object, separate and distinct from our original `LocalDate` object. Per the immutable objects design pattern. \n</code></pre>\n\n<h1>Avoid legacy date-time classes</h1>\n\n<p>The other Answers use the troublesome old legacy date-time classes now supplanted by the java.time questions.</p>\n\n<h1><code>LocalDate</code></h1>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> class represents a date-only value without time-of-day and without time zone.</p>\n\n<p>A time zone is crucial in determining a date. For any given moment, the date varies around the globe by zone. For example, a few minutes after midnight in <a href=\"https://en.wikipedia.org/wiki/Europe/Paris\" rel=\"noreferrer\">Paris France</a> is a new day while still yesterday in <a href=\"https://en.wikipedia.org/wiki/America/Montreal\" rel=\"noreferrer\">Montral Qubec</a>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( America/Montreal );\nLocalDate today = LocalDate.now( z );\n</code></pre>\n\n<h1><code>TemporalAdjuster</code></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjuster.html\" rel=\"noreferrer\"><code>TemporalAdjuster</code></a> interface provides for adjustments to move from one date-time value to another. Find handy implementations in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\" rel=\"noreferrer\"><code>TemporalAdjusters</code></a> class (note the plural 's'). The <code>previous</code> adjuster finds any specified object from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\" rel=\"noreferrer\"><code>DayOfWeek</code></a> enum.</p>\n\n<p>The Question does not exactly define last week. Last seven days? Standard Monday-Sunday period? Localized week, such as Sunday-Saturday in the United States? The week prior to todays week or including todays partial week?</p>\n\n<p>I will assume the prior seven days were intended.</p>\n\n<pre><code>LocalDate previousMonday = today.with( TemporalAdjusters.previous( DayOfWeek.MONDAY ) ) ;\nLocalDate previousFriday = today.with( TemporalAdjusters.previous( DayOfWeek.FRIDAY ) ) ;\n</code></pre>\n\n<p>By the way, if you want to consider the initial date if it happens to already be the desired day-of-week, use alternate <code>TemporalAdjuster</code> implementations: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#previousOrSame-java.time.DayOfWeek-\" rel=\"noreferrer\"><code>previousOrSame</code></a> or <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/temporal/TemporalAdjusters.html#nextOrSame-java.time.DayOfWeek-\" rel=\"noreferrer\"><code>nextOrSame</code></a>.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"tags":[],"owner":{"account_id":9725157,"reputation":2553,"user_id":7212399,"accept_rate":100,"display_name":"Pratik Ambani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675923974,"creation_date":1675923974,"answer_id":75394959,"question_id":12661203,"body_markdown":"You can use **TemporalAdjusters** to adjust the desired dates/days you are looking for.\r\n\r\n**Example:**\r\n\r\n    LocalDate today = LocalDate.now();\r\n    LocalDate lastMonday = today.with(TemporalAdjusters.previous(DayOfWeek.MONDAY));\r\n    LocalDate lastFriday = today.with(TemporalAdjusters.previous(DayOfWeek.FRIDAY));\r\n\r\n","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p>You can use <strong>TemporalAdjusters</strong> to adjust the desired dates/days you are looking for.</p>\n<p><strong>Example:</strong></p>\n<pre><code>LocalDate today = LocalDate.now();\nLocalDate lastMonday = today.with(TemporalAdjusters.previous(DayOfWeek.MONDAY));\nLocalDate lastFriday = today.with(TemporalAdjusters.previous(DayOfWeek.FRIDAY));\n</code></pre>\n"}],"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19519,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1675923974,"creation_date":1349007582,"question_id":12661203,"body_markdown":"I need to get the dates for Monday and Friday last week. To do this, i am getting the date of Monday this week and subtracting 7 days. This gives me the date for Monday last week.\r\n\r\nTo get the date for Friday i have to add 4. This confused me a bit because for some reason the first day of the week is Sunday as opposed to Monday here in the UK. \r\n\r\nAnyway, here is how i am getting the dates.  \r\n\r\n\r\n                // Get the dates for last MON &amp; FRI\r\n    \t\tCalendar cal = Calendar.getInstance();\r\n    \t\tcal.setTime(date);\r\n    \t\t\r\n    \t\tcal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\r\n    \t\tcal.add(Calendar.DAY_OF_WEEK, -7);\r\n    \t\t\r\n    \t\tcal.set(Calendar.HOUR_OF_DAY,0);\r\n    \t\tcal.set(Calendar.MINUTE,0);\r\n    \t\tcal.set(Calendar.SECOND,0);\r\n    \t\tcal.set(Calendar.MILLISECOND,0);\r\n    \t\t\r\n    \t\t// Get the date on Friday\r\n    \t\tcal.add(Calendar.DAY_OF_WEEK, 4);\r\n    \t\t\r\n    \t\tcal.set(Calendar.HOUR_OF_DAY,23);\r\n    \t\tcal.set(Calendar.MINUTE,59);\r\n    \t\tcal.set(Calendar.SECOND,59);\r\n    \t\tcal.set(Calendar.MILLISECOND,0);\r\n\r\nThe above works but i am interested if there is anything wrong with the logic. I.e. will it work for Februarys, leap years etc. \r\n\r\nFeel free to suggest a better solution/approach. \r\n\r\nThanks\r\n","title":"What is the best way to retrieve the dates for last Monday and Friday","body":"<p>I need to get the dates for Monday and Friday last week. To do this, i am getting the date of Monday this week and subtracting 7 days. This gives me the date for Monday last week.</p>\n\n<p>To get the date for Friday i have to add 4. This confused me a bit because for some reason the first day of the week is Sunday as opposed to Monday here in the UK. </p>\n\n<p>Anyway, here is how i am getting the dates.  </p>\n\n<pre><code>            // Get the dates for last MON &amp; FRI\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(date);\n\n        cal.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\n        cal.add(Calendar.DAY_OF_WEEK, -7);\n\n        cal.set(Calendar.HOUR_OF_DAY,0);\n        cal.set(Calendar.MINUTE,0);\n        cal.set(Calendar.SECOND,0);\n        cal.set(Calendar.MILLISECOND,0);\n\n        // Get the date on Friday\n        cal.add(Calendar.DAY_OF_WEEK, 4);\n\n        cal.set(Calendar.HOUR_OF_DAY,23);\n        cal.set(Calendar.MINUTE,59);\n        cal.set(Calendar.SECOND,59);\n        cal.set(Calendar.MILLISECOND,0);\n</code></pre>\n\n<p>The above works but i am interested if there is anything wrong with the logic. I.e. will it work for Februarys, leap years etc. </p>\n\n<p>Feel free to suggest a better solution/approach. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","kotlin","mvvm","dagger-2"],"answers":[{"tags":[],"owner":{"account_id":3726977,"reputation":3340,"user_id":3100601,"display_name":"ror"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675923600,"creation_date":1675923600,"answer_id":75394919,"question_id":75394710,"body_markdown":"You mentioned you are using dagger. I see you are expecting the following to be injected, but doing nothing for that to happen:\r\n\r\n```\r\n    @Inject\r\n    lateinit var viewModelFactory: ViewModelFactory\r\n```\r\n\r\nSo I can imagine your app is crashing because `viewModelFactory` is not initialized. Depending on your DI structure, you should either do component/subcomponent injection, or use `AndroidInjection.inject(this)`","title":"facing issue. lateinit property viewModelFactory has not been initialized","body":"<p>You mentioned you are using dagger. I see you are expecting the following to be injected, but doing nothing for that to happen:</p>\n<pre><code>    @Inject\n    lateinit var viewModelFactory: ViewModelFactory\n</code></pre>\n<p>So I can imagine your app is crashing because <code>viewModelFactory</code> is not initialized. Depending on your DI structure, you should either do component/subcomponent injection, or use <code>AndroidInjection.inject(this)</code></p>\n"},{"tags":[],"owner":{"account_id":131342,"reputation":2196,"user_id":331271,"display_name":"hlidka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675923683,"creation_date":1675923683,"answer_id":75394923,"question_id":75394710,"body_markdown":"One way to do this is to annotate the ViewModel with `@HiltViewModel` and the activity with `@AndroidEntryPoint`, then you can `import androidx.activity.viewModels` and then have \r\n\r\n```\r\nprivate val model: ReportsViewModel by viewModels()\r\n```","title":"facing issue. lateinit property viewModelFactory has not been initialized","body":"<p>One way to do this is to annotate the ViewModel with <code>@HiltViewModel</code> and the activity with <code>@AndroidEntryPoint</code>, then you can <code>import androidx.activity.viewModels</code> and then have</p>\n<pre><code>private val model: ReportsViewModel by viewModels()\n</code></pre>\n"}],"owner":{"account_id":23984265,"reputation":25,"user_id":17971278,"display_name":"kathir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75394919,"answer_count":2,"score":2,"last_activity_date":1675923683,"creation_date":1675921871,"question_id":75394710,"body_markdown":"I am new in android kotlin and dagger,I am facing above issue. I already provide the ViewModelFactory but facing issue i don&#39;t know why this issue is came, i have attached the MainActivity, Repository class and Viewmodel class,Please resolve my issue what I am take my mistake, Please help.\r\n\r\n//MainActivity.class\r\n\r\n```\r\n`class MainActivity  : AppCompatActivity() {\r\n    @Inject\r\n    lateinit var viewModelFactory: ViewModelFactory\r\n\r\n    private lateinit var reportViewModel: ReportsViewModel\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        //(application as PWEApplication).daggerComponent.inject(this)\r\n        reportViewModel = ViewModelProvider(this, viewModelFactory).get(ReportsViewModel::class.java)\r\n        reportViewModel.report.observe(this, Observer {\r\n            when(it.status){\r\n                NetworkResource.Status.LOADING -&gt; {\r\n                    // Show a loading indicator\r\n                }\r\n                NetworkResource.Status.SUCCESS -&gt; {\r\n                    // Show the data from the API\r\n                    Log.e(&quot;installationReport&quot;,&quot;&quot;+it.data)\r\n                }\r\n                NetworkResource.Status.ERROR -&gt; {\r\n                    // Show an error message\r\n                }\r\n            }\r\n        })\r\n    }\r\n}`\r\n```\r\n//Viewmodel.class\r\n\r\n```\r\n``open class ReportsViewModel @Inject constructor(private val repository: ReportsRepository) :ViewModel() {\r\n\r\n    private var reportLiveData = MediatorLiveData&lt;ReportRequest&gt;()\r\n\r\n    val report = Transformations.switchMap(reportLiveData) {\r\n        repository.getReports(it)\r\n    }\r\n\r\n    fun getInstallReport(idd: Int, fromDate: String, toDate: String) {\r\n        reportLiveData.value = ReportRequest(idd, fromDate, toDate)\r\n    }\r\n\r\n}`\r\n```\r\n//ReportRepository.class\r\n\r\n    class ReportsRepository @Inject constructor(\r\n        private val reportServiceNS: ReportsService,\r\n        private val schedulerProvider: SchedulerProvider\r\n    ) {\r\n        private val reportsMutableLiveData = MutableLiveData&lt;NetworkResource&lt;List&lt;ResponseItem&gt;&gt;&gt;()\r\n        private var disposable: Disposable? = null\r\n    \r\n        fun getReports(reportRequest: ReportRequest): MutableLiveData&lt;NetworkResource&lt;List&lt;ResponseItem&gt;&gt;&gt;{\r\n            disposable = reportServiceNS.getReport(\r\n                reportRequest.script,\r\n                reportRequest.deploy,\r\n                reportRequest.compId,\r\n                reportRequest.h,\r\n                reportRequest.discId,\r\n                reportRequest.fromDate,\r\n                reportRequest.toDate)\r\n                .compose(schedulerProvider.getSchedulersForObservable())\r\n                .subscribeWith(object : DisposableObserver&lt;ReportResponse&gt;() {\r\n                    override fun onComplete() {\r\n    \r\n                    }\r\n    \r\n                    override fun onNext(t: ReportResponse) {\r\n                        reportsMutableLiveData.value = NetworkResource.success(t.complaintData)\r\n                    }\r\n    \r\n                    override fun onError(e: Throwable) {\r\n                        reportsMutableLiveData.value = NetworkResource.error(e, null)\r\n                    }\r\n    \r\n                })\r\n    \r\n            return reportsMutableLiveData\r\n        }\r\n    }`","title":"facing issue. lateinit property viewModelFactory has not been initialized","body":"<p>I am new in android kotlin and dagger,I am facing above issue. I already provide the ViewModelFactory but facing issue i don't know why this issue is came, i have attached the MainActivity, Repository class and Viewmodel class,Please resolve my issue what I am take my mistake, Please help.</p>\n<p>//MainActivity.class</p>\n<pre><code>`class MainActivity  : AppCompatActivity() {\n    @Inject\n    lateinit var viewModelFactory: ViewModelFactory\n\n    private lateinit var reportViewModel: ReportsViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        //(application as PWEApplication).daggerComponent.inject(this)\n        reportViewModel = ViewModelProvider(this, viewModelFactory).get(ReportsViewModel::class.java)\n        reportViewModel.report.observe(this, Observer {\n            when(it.status){\n                NetworkResource.Status.LOADING -&gt; {\n                    // Show a loading indicator\n                }\n                NetworkResource.Status.SUCCESS -&gt; {\n                    // Show the data from the API\n                    Log.e(&quot;installationReport&quot;,&quot;&quot;+it.data)\n                }\n                NetworkResource.Status.ERROR -&gt; {\n                    // Show an error message\n                }\n            }\n        })\n    }\n}`\n</code></pre>\n<p>//Viewmodel.class</p>\n<pre><code>``open class ReportsViewModel @Inject constructor(private val repository: ReportsRepository) :ViewModel() {\n\n    private var reportLiveData = MediatorLiveData&lt;ReportRequest&gt;()\n\n    val report = Transformations.switchMap(reportLiveData) {\n        repository.getReports(it)\n    }\n\n    fun getInstallReport(idd: Int, fromDate: String, toDate: String) {\n        reportLiveData.value = ReportRequest(idd, fromDate, toDate)\n    }\n\n}`\n</code></pre>\n<p>//ReportRepository.class</p>\n<pre><code>class ReportsRepository @Inject constructor(\n    private val reportServiceNS: ReportsService,\n    private val schedulerProvider: SchedulerProvider\n) {\n    private val reportsMutableLiveData = MutableLiveData&lt;NetworkResource&lt;List&lt;ResponseItem&gt;&gt;&gt;()\n    private var disposable: Disposable? = null\n\n    fun getReports(reportRequest: ReportRequest): MutableLiveData&lt;NetworkResource&lt;List&lt;ResponseItem&gt;&gt;&gt;{\n        disposable = reportServiceNS.getReport(\n            reportRequest.script,\n            reportRequest.deploy,\n            reportRequest.compId,\n            reportRequest.h,\n            reportRequest.discId,\n            reportRequest.fromDate,\n            reportRequest.toDate)\n            .compose(schedulerProvider.getSchedulersForObservable())\n            .subscribeWith(object : DisposableObserver&lt;ReportResponse&gt;() {\n                override fun onComplete() {\n\n                }\n\n                override fun onNext(t: ReportResponse) {\n                    reportsMutableLiveData.value = NetworkResource.success(t.complaintData)\n                }\n\n                override fun onError(e: Throwable) {\n                    reportsMutableLiveData.value = NetworkResource.error(e, null)\n                }\n\n            })\n\n        return reportsMutableLiveData\n    }\n}`\n</code></pre>\n"},{"tags":["java","stack","expression","parentheses"],"comments":[{"owner":{"account_id":1764995,"reputation":36209,"user_id":1611055,"accept_rate":91,"display_name":"Andreas Fester"},"score":3,"creation_date":1457684482,"post_id":35935280,"comment_id":59527288,"body_markdown":"`There is something wrong` - can you give an example input for which the output is not what you expect?","body":"<code>There is something wrong</code> - can you give an example input for which the output is not what you expect?"},{"owner":{"display_name":"user5987642"},"score":0,"creation_date":1457684544,"post_id":35935280,"comment_id":59527315,"body_markdown":"I gave an example input in my main method. It&#39;s (a+b). It should be balanced and my checkBalance method should return true, but I keep getting false.","body":"I gave an example input in my main method. It&#39;s (a+b). It should be balanced and my checkBalance method should return true, but I keep getting false."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1457684722,"post_id":35935280,"comment_id":59527403,"body_markdown":"What answer are you expecting for `([}]`?","body":"What answer are you expecting for <code>([}]</code>?"},{"owner":{"display_name":"user5987642"},"score":0,"creation_date":1457685303,"post_id":35935280,"comment_id":59527706,"body_markdown":"@shmosel It would be false right? It would add &#39;(&#39; and &#39;[&#39; to the stack and when it encounters &#39;}&#39;, it will go to second set of cases in my switch statement and there since &#39;[&#39; and &#39;{&#39; are not equal, isBalanced would be set to false and exit the loop right?","body":"@shmosel It would be false right? It would add &#39;(&#39; and &#39;[&#39; to the stack and when it encounters &#39;}&#39;, it will go to second set of cases in my switch statement and there since &#39;[&#39; and &#39;{&#39; are not equal, isBalanced would be set to false and exit the loop right?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1457685759,"post_id":35935280,"comment_id":59527931,"body_markdown":"@rohitkrishna094, well not really. Your code is not differentiating between any class of delimiter. Though perhaps that was the intention of `if(opendelimiter!=expression.charAt(i))`, as some of the answers explain.","body":"@rohitkrishna094, well not really. Your code is not differentiating between any class of delimiter. Though perhaps that was the intention of <code>if(opendelimiter!=expression.charAt(i))</code>, as some of the answers explain."},{"owner":{"display_name":"user5987642"},"score":0,"creation_date":1457685843,"post_id":35935280,"comment_id":59527981,"body_markdown":"Yeah thanks. I just figured that out too. My bad.","body":"Yeah thanks. I just figured that out too. My bad."}],"answers":[{"tags":[],"owner":{"account_id":4928280,"reputation":3516,"user_id":3968921,"accept_rate":43,"display_name":"Ankit Deshpande"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1457685278,"creation_date":1457684745,"answer_id":35935407,"question_id":35935280,"body_markdown":"    char opendelimiter=myStack.pop();\r\n    if(opendelimiter!=expression.charAt(i)){\r\n           isBalanced=false;\r\n    }\r\n\r\nHere you should check\r\n\r\n        if(openedDeimilter == &#39;(&#39;){\r\n            if(expression.charAt(i)!=&#39;)&#39;){\r\n                isBalanced=false;\r\n                //break;\r\n            }\r\n        }else if(openedDeimilter == &#39;[&#39;){\r\n            if(expression.charAt(i)!=&#39;]&#39;){\r\n               isBalanced=false;\r\n               //break;\r\n            }\r\n        }else {\r\n             if(expression.charAt(i)!=&#39;}&#39;){\r\n                isBalanced=false;\r\n                //break;\r\n            }\r\n        }\r\nAlso once isBalanced is set to `false` you can skip iterating the remaining string, if it suits you.","title":"Checking if parenthesis are balanced or not using Stack?","body":"<pre><code>char opendelimiter=myStack.pop();\nif(opendelimiter!=expression.charAt(i)){\n       isBalanced=false;\n}\n</code></pre>\n\n<p>Here you should check</p>\n\n<pre><code>    if(openedDeimilter == '('){\n        if(expression.charAt(i)!=')'){\n            isBalanced=false;\n            //break;\n        }\n    }else if(openedDeimilter == '['){\n        if(expression.charAt(i)!=']'){\n           isBalanced=false;\n           //break;\n        }\n    }else {\n         if(expression.charAt(i)!='}'){\n            isBalanced=false;\n            //break;\n        }\n    }\n</code></pre>\n\n<p>Also once isBalanced is set to <code>false</code> you can skip iterating the remaining string, if it suits you.</p>\n"},{"tags":[],"owner":{"account_id":5972234,"reputation":1474,"user_id":4694248,"accept_rate":60,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457684804,"creation_date":1457684804,"answer_id":35935422,"question_id":35935280,"body_markdown":"This part is wrong:\r\n\r\n    if(opendelimiter!=expression.charAt(i)){\r\n        isBalanced=false;\r\n    }\r\n\r\nYou check if two chars are equal, but the correct check should match the 2 corresponding chars: `[` - `]`, `(` - `)` and `{` - `}`","title":"Checking if parenthesis are balanced or not using Stack?","body":"<p>This part is wrong:</p>\n\n<pre><code>if(opendelimiter!=expression.charAt(i)){\n    isBalanced=false;\n}\n</code></pre>\n\n<p>You check if two chars are equal, but the correct check should match the 2 corresponding chars: <code>[</code> - <code>]</code>, <code>(</code> - <code>)</code> and <code>{</code> - <code>}</code></p>\n"},{"tags":[],"owner":{"account_id":1622593,"reputation":2701,"user_id":1498857,"display_name":"Gianni B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457685527,"creation_date":1457685527,"answer_id":35935609,"question_id":35935280,"body_markdown":"What about a different approach using only the length of your expression without each parentheses? This will let you not use the Stack class and should be more efficient for longer expression\r\n\r\n    public static boolean checkBalance(String expression) {\r\n\t   String[] parentheses = new String[]{&quot;\\\\(|\\\\)&quot;,&quot;\\\\[|\\\\]&quot;,&quot;\\\\{|\\\\}&quot;};\r\n\t   int length = expression.length();\r\n\t   for(int i=0; i&lt;parentheses.length; i++) {\r\n\t\t   int newLength = expression.replaceAll(parentheses[i], &quot;&quot;).length();\r\n\t\t   int diff = length - newLength;\r\n\t\t   if(diff % 2 != 0) {\r\n              return false;\r\n\t\t   }\r\n\t   }\r\n       return true;\r\n    }\r\n\r\nThe double backslash are used to escape each parentheses because they are special characters","title":"Checking if parenthesis are balanced or not using Stack?","body":"<p>What about a different approach using only the length of your expression without each parentheses? This will let you not use the Stack class and should be more efficient for longer expression</p>\n\n<pre><code>public static boolean checkBalance(String expression) {\n   String[] parentheses = new String[]{\"\\\\(|\\\\)\",\"\\\\[|\\\\]\",\"\\\\{|\\\\}\"};\n   int length = expression.length();\n   for(int i=0; i&lt;parentheses.length; i++) {\n       int newLength = expression.replaceAll(parentheses[i], \"\").length();\n       int diff = length - newLength;\n       if(diff % 2 != 0) {\n          return false;\n       }\n   }\n   return true;\n}\n</code></pre>\n\n<p>The double backslash are used to escape each parentheses because they are special characters</p>\n"},{"tags":[],"owner":{"account_id":10595103,"reputation":23,"user_id":7804131,"display_name":"Harsh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1502265940,"creation_date":1502265940,"answer_id":45584986,"question_id":35935280,"body_markdown":"    #include&lt;stdio.h&gt;\r\n    #include&lt;stdlib.h&gt;\r\n    #include&lt;string.h&gt;\r\n    \r\n    \r\n    char exp[1028];\r\n    char ext[1028];\r\n    \r\n    int top = -1;\r\n    //-----------------------------------------------------------------------------\r\n    push(char x){\r\n    \r\n    \ttop++;\r\n    \text[top]=x;\r\n    \t}\r\n    //-----------------------------------------------------------------------------------------\r\n    \r\n    void pop(){\r\n    \ttop--;\r\n    }\r\n    //--------------------------------------------------------------------------------------\r\n    \r\n    \r\n    main()\r\n    {\r\n    int ans;\r\n    char in=&#39;{&#39;;\r\n    char it=&#39;[&#39;;\r\n    char ie=&#39;(&#39;;\r\n    \r\n    char an;&#39;}&#39;;\r\n    char at=&#39;]&#39;;\r\n    char ae=&#39;)&#39;;\r\n    printf(&quot;\\nenter your expression\\n&quot;);\r\n    gets(exp);\r\n    int j=strlen(exp);\r\n    int i;\r\n    for(i=0;i&lt;=j;i++){\r\n    \tif(exp[i] == in || exp[i] == it || exp[i]==ie){\r\n    \t\tpush(exp[i]);\r\n    \t\t}\r\n    \tif(exp[i] == an ||exp[i]== at || exp[i]==ae){\r\n    \t\tpop();\r\n    \t}\r\n    }\r\n    if(top == -1){\r\n    \tprintf(&quot;\\nexp is balanced\\n&quot;);\r\n    \t}\r\n    else{\r\n    \tprintf(&quot;\\nexp is unbalanced&quot;);\r\n    }\r\n    }","title":"Checking if parenthesis are balanced or not using Stack?","body":"<pre><code>#include&lt;stdio.h&gt;\n#include&lt;stdlib.h&gt;\n#include&lt;string.h&gt;\n\n\nchar exp[1028];\nchar ext[1028];\n\nint top = -1;\n//-----------------------------------------------------------------------------\npush(char x){\n\n    top++;\n    ext[top]=x;\n    }\n//-----------------------------------------------------------------------------------------\n\nvoid pop(){\n    top--;\n}\n//--------------------------------------------------------------------------------------\n\n\nmain()\n{\nint ans;\nchar in='{';\nchar it='[';\nchar ie='(';\n\nchar an;'}';\nchar at=']';\nchar ae=')';\nprintf(\"\\nenter your expression\\n\");\ngets(exp);\nint j=strlen(exp);\nint i;\nfor(i=0;i&lt;=j;i++){\n    if(exp[i] == in || exp[i] == it || exp[i]==ie){\n        push(exp[i]);\n        }\n    if(exp[i] == an ||exp[i]== at || exp[i]==ae){\n        pop();\n    }\n}\nif(top == -1){\n    printf(\"\\nexp is balanced\\n\");\n    }\nelse{\n    printf(\"\\nexp is unbalanced\");\n}\n}\n</code></pre>\n"}],"owner":{"display_name":"user5987642"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1032,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35935407,"answer_count":4,"score":2,"last_activity_date":1675923554,"creation_date":1457684256,"question_id":35935280,"body_markdown":"I have written a java code to test if an expression is balanced or not, that is, this program checks if the characters &#39;(&#39;, &#39;{&#39; and &#39;[&#39; have a corresponding delimiter or not. However I am unable to get the required answer. There is something wrong and I am unable to figure it out and hence would need your help. Here is the code.\r\n\r\n\r\n    package z_Stack_InfixToPostfix;\r\n    import java.util.Stack;\r\n\r\n    public class Driver_InfixToPostfix {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    String s=&quot;(a+b)&quot;;\r\n    \t\tSystem.out.println(checkBalance(s));\r\n\t    }\r\n\t\r\n    \tpublic static boolean checkBalance(String expression){\r\n\t    \tboolean isBalanced=true;\r\n\t\t    Stack&lt;Character&gt; myStack=new Stack&lt;Character&gt;();\r\n\t\t    int length=expression.length();\r\n    \t\tint i=0;\r\n\t    \twhile(isBalanced &amp;&amp; i&lt;length){\r\n\t\t    \tswitch(expression.charAt(i)){\r\n\t\t\t    case &#39;(&#39;: case &#39;{&#39;: case &#39;[&#39; :\r\n\t\t\t\t    myStack.push(expression.charAt(i));\r\n\t\t\t\t    break;\r\n    \t\t\tcase &#39;)&#39;: case &#39;}&#39;: case &#39;]&#39;:\r\n\t    \t\t\tif(myStack.isEmpty()){\r\n\t\t    \t\t\tisBalanced=false;\r\n\t\t\t    \t}\r\n\t\t\t\t    else{\r\n\t\t\t\t\t    char opendelimiter=myStack.pop();\r\n\t\t\t\t\t    if(opendelimiter!=expression.charAt(i)){\r\n\t\t\t\t\t\t    isBalanced=false;\r\n\t\t\t\t\t    }\r\n\t\t\t\t    }\r\n\t\t\t\t    break;\r\n     \t\t\t}\r\n\t    \t\ti++;\r\n\t\t    }\r\n\t\t    if(!myStack.isEmpty()){\r\n\t\t\t    isBalanced=false;\r\n\t\t    }\r\n\t\t    return isBalanced;\r\n\t    }\r\n    }\r\n","title":"Checking if parenthesis are balanced or not using Stack?","body":"<p>I have written a java code to test if an expression is balanced or not, that is, this program checks if the characters '(', '{' and '[' have a corresponding delimiter or not. However I am unable to get the required answer. There is something wrong and I am unable to figure it out and hence would need your help. Here is the code.</p>\n\n<pre><code>package z_Stack_InfixToPostfix;\nimport java.util.Stack;\n\npublic class Driver_InfixToPostfix {\n\n    public static void main(String[] args) {\n        String s=\"(a+b)\";\n        System.out.println(checkBalance(s));\n    }\n\n    public static boolean checkBalance(String expression){\n        boolean isBalanced=true;\n        Stack&lt;Character&gt; myStack=new Stack&lt;Character&gt;();\n        int length=expression.length();\n        int i=0;\n        while(isBalanced &amp;&amp; i&lt;length){\n            switch(expression.charAt(i)){\n            case '(': case '{': case '[' :\n                myStack.push(expression.charAt(i));\n                break;\n            case ')': case '}': case ']':\n                if(myStack.isEmpty()){\n                    isBalanced=false;\n                }\n                else{\n                    char opendelimiter=myStack.pop();\n                    if(opendelimiter!=expression.charAt(i)){\n                        isBalanced=false;\n                    }\n                }\n                break;\n            }\n            i++;\n        }\n        if(!myStack.isEmpty()){\n            isBalanced=false;\n        }\n        return isBalanced;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","graphics","graphics2d","imageicon"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1315329153,"creation_date":1315329153,"answer_id":7323595,"question_id":7323538,"body_markdown":"One possible solution: draw the image in a JPanel, being sure to set the panel&#39;s preferredsize as the size of the image, have the JPanel use a GridBagLayout, and place the text in a JLabel that is added to the JPanel, without GridBagConstraints. This is one way to center the JLabel in the JPanel.","title":"Java - Draw text in the center of an image","body":"<p>One possible solution: draw the image in a JPanel, being sure to set the panel's preferredsize as the size of the image, have the JPanel use a GridBagLayout, and place the text in a JLabel that is added to the JPanel, without GridBagConstraints. This is one way to center the JLabel in the JPanel.</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1315329883,"creation_date":1315329883,"answer_id":7323722,"question_id":7323538,"body_markdown":"Using a `JLabel` is less work, but [`FontMetrics`][1], shown [here][2], will let you manage the geometry directly.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/awt/FontMetrics.html\r\n  [2]: https://stackoverflow.com/questions/2228735/how-do-i-fade-an-image-in-swing/2234020#2234020","title":"Java - Draw text in the center of an image","body":"<p>Using a <code>JLabel</code> is less work, but <a href=\"http://download.oracle.com/javase/6/docs/api/java/awt/FontMetrics.html\" rel=\"nofollow noreferrer\"><code>FontMetrics</code></a>, shown <a href=\"https://stackoverflow.com/questions/2228735/how-do-i-fade-an-image-in-swing/2234020#2234020\">here</a>, will let you manage the geometry directly.</p>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636989584,"creation_date":1315346087,"answer_id":7326615,"question_id":7323538,"body_markdown":"The easy way is to use a JLabel with an Icon and Text. Then set the horizontal/vertical text position to CENTER and the text is painted in the center of the image.\r\n\r\nFrom your code it looks like you are trying to paint the text near the bottom of the image. In this case you can use the JLabel with an Icon as a container. Then you can set the layout to something like a BoxLayout and add another label with the text.\r\n\r\nNo custom painting is required for either approach.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    import javax.swing.text.*;\r\n    \r\n    public class LabelImageText extends JPanel\r\n    {\r\n        public LabelImageText()\r\n        {\r\n            JLabel label1 = new JLabel( new ColorIcon(Color.ORANGE, 100, 100) );\r\n            label1.setText( &quot;Easy Way&quot; );\r\n            label1.setHorizontalTextPosition(JLabel.CENTER);\r\n            label1.setVerticalTextPosition(JLabel.CENTER);\r\n            add( label1 );\r\n    \r\n            //\r\n    \r\n            JLabel label2 = new JLabel( new ColorIcon(Color.YELLOW, 200, 150) );\r\n            label2.setLayout( new BoxLayout(label2, BoxLayout.Y_AXIS) );\r\n            add( label2 );\r\n    \r\n            JLabel text = new JLabel( &quot;More Control&quot; );\r\n            text.setAlignmentX(JLabel.CENTER_ALIGNMENT);\r\n            label2.add( Box.createVerticalGlue() );\r\n            label2.add( text );\r\n            label2.add( Box.createVerticalStrut(10) );\r\n    \r\n            //\r\n    \r\n            JLabel label3 = new JLabel( new ColorIcon(Color.GREEN, 200, 150) );\r\n            add( label3 );\r\n    \r\n            JLabel text3 = new JLabel();\r\n            text3.setText(&quot;&lt;html&gt;&lt;center&gt;Text&lt;br&gt;over&lt;br&gt;Image&lt;center&gt;&lt;/html&gt;&quot;);\r\n            text3.setLocation(20, 20);\r\n            text3.setSize(text3.getPreferredSize());\r\n            label3.add( text3 );\r\n    \r\n            //\r\n    \r\n            JLabel label4 = new JLabel( new ColorIcon(Color.CYAN, 200, 150) );\r\n            add( label4 );\r\n    \r\n            JTextPane textPane = new JTextPane();\r\n            textPane.setText(&quot;Add some text that will wrap at your preferred width&quot;);\r\n            textPane.setEditable( false );\r\n            textPane.setOpaque(false);\r\n            SimpleAttributeSet center = new SimpleAttributeSet();\r\n            StyleConstants.setAlignment(center, StyleConstants.ALIGN_CENTER);\r\n            StyledDocument doc = textPane.getStyledDocument();\r\n            doc.setParagraphAttributes(0, doc.getLength(), center, false);\r\n            textPane.setBounds(20, 20, 75, 100);\r\n            label4.add( textPane );\r\n        }\r\n    \r\n        public static class ColorIcon implements Icon\r\n        {\r\n            private Color color;\r\n            private int width;\r\n            private int height;\r\n    \r\n            public ColorIcon(Color color, int width, int height)\r\n            {\r\n                this.color = color;\r\n                this.width = width;\r\n                this.height = height;\r\n            }\r\n    \r\n            public int getIconWidth()\r\n            {\r\n                return width;\r\n            }\r\n    \r\n            public int getIconHeight()\r\n            {\r\n                return height;\r\n            }\r\n    \r\n            public void paintIcon(Component c, Graphics g, int x, int y)\r\n            {\r\n                g.setColor(color);\r\n                g.fillRect(x, y, width, height);\r\n            }\r\n        }\r\n    \r\n        private static void createAndShowUI()\r\n        {\r\n            JFrame frame = new JFrame(&quot;LabelImageText&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add( new LabelImageText() );\r\n            frame.pack();\r\n            frame.setLocationRelativeTo( null );\r\n            frame.setVisible( true );\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            EventQueue.invokeLater(new Runnable()\r\n            {\r\n                public void run()\r\n                {\r\n                    createAndShowUI();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n&gt; I mean I have to write a text in the center of the image and then save the image\r\n\r\nYou can use [Screen Image][1] to create an image of any component. This assumes you are displaying the image and text on a GUI.\r\n\r\nOr, if you are talking about just reading in an image adding text to the image and then saving the image, then you will need to create a BufferedImage and draw the image on it and then draw the text on it. You will need to use the FontMetrics class as mentioned by Trashgod. My suggestion won&#39;t help.\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2008/10/13/screen-image/","title":"Java - Draw text in the center of an image","body":"<p>The easy way is to use a JLabel with an Icon and Text. Then set the horizontal/vertical text position to CENTER and the text is painted in the center of the image.</p>\n<p>From your code it looks like you are trying to paint the text near the bottom of the image. In this case you can use the JLabel with an Icon as a container. Then you can set the layout to something like a BoxLayout and add another label with the text.</p>\n<p>No custom painting is required for either approach.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.text.*;\n\npublic class LabelImageText extends JPanel\n{\n    public LabelImageText()\n    {\n        JLabel label1 = new JLabel( new ColorIcon(Color.ORANGE, 100, 100) );\n        label1.setText( &quot;Easy Way&quot; );\n        label1.setHorizontalTextPosition(JLabel.CENTER);\n        label1.setVerticalTextPosition(JLabel.CENTER);\n        add( label1 );\n\n        //\n\n        JLabel label2 = new JLabel( new ColorIcon(Color.YELLOW, 200, 150) );\n        label2.setLayout( new BoxLayout(label2, BoxLayout.Y_AXIS) );\n        add( label2 );\n\n        JLabel text = new JLabel( &quot;More Control&quot; );\n        text.setAlignmentX(JLabel.CENTER_ALIGNMENT);\n        label2.add( Box.createVerticalGlue() );\n        label2.add( text );\n        label2.add( Box.createVerticalStrut(10) );\n\n        //\n\n        JLabel label3 = new JLabel( new ColorIcon(Color.GREEN, 200, 150) );\n        add( label3 );\n\n        JLabel text3 = new JLabel();\n        text3.setText(&quot;&lt;html&gt;&lt;center&gt;Text&lt;br&gt;over&lt;br&gt;Image&lt;center&gt;&lt;/html&gt;&quot;);\n        text3.setLocation(20, 20);\n        text3.setSize(text3.getPreferredSize());\n        label3.add( text3 );\n\n        //\n\n        JLabel label4 = new JLabel( new ColorIcon(Color.CYAN, 200, 150) );\n        add( label4 );\n\n        JTextPane textPane = new JTextPane();\n        textPane.setText(&quot;Add some text that will wrap at your preferred width&quot;);\n        textPane.setEditable( false );\n        textPane.setOpaque(false);\n        SimpleAttributeSet center = new SimpleAttributeSet();\n        StyleConstants.setAlignment(center, StyleConstants.ALIGN_CENTER);\n        StyledDocument doc = textPane.getStyledDocument();\n        doc.setParagraphAttributes(0, doc.getLength(), center, false);\n        textPane.setBounds(20, 20, 75, 100);\n        label4.add( textPane );\n    }\n\n    public static class ColorIcon implements Icon\n    {\n        private Color color;\n        private int width;\n        private int height;\n\n        public ColorIcon(Color color, int width, int height)\n        {\n            this.color = color;\n            this.width = width;\n            this.height = height;\n        }\n\n        public int getIconWidth()\n        {\n            return width;\n        }\n\n        public int getIconHeight()\n        {\n            return height;\n        }\n\n        public void paintIcon(Component c, Graphics g, int x, int y)\n        {\n            g.setColor(color);\n            g.fillRect(x, y, width, height);\n        }\n    }\n\n    private static void createAndShowUI()\n    {\n        JFrame frame = new JFrame(&quot;LabelImageText&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add( new LabelImageText() );\n        frame.pack();\n        frame.setLocationRelativeTo( null );\n        frame.setVisible( true );\n    }\n\n    public static void main(String[] args)\n    {\n        EventQueue.invokeLater(new Runnable()\n        {\n            public void run()\n            {\n                createAndShowUI();\n            }\n        });\n    }\n}\n</code></pre>\n<blockquote>\n<p>I mean I have to write a text in the center of the image and then save the image</p>\n</blockquote>\n<p>You can use <a href=\"http://tips4java.wordpress.com/2008/10/13/screen-image/\" rel=\"nofollow noreferrer\">Screen Image</a> to create an image of any component. This assumes you are displaying the image and text on a GUI.</p>\n<p>Or, if you are talking about just reading in an image adding text to the image and then saving the image, then you will need to create a BufferedImage and draw the image on it and then draw the text on it. You will need to use the FontMetrics class as mentioned by Trashgod. My suggestion won't help.</p>\n"},{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675923485,"creation_date":1507018210,"answer_id":46539966,"question_id":7323538,"body_markdown":"I used [`TextLayout`](https://docs.oracle.com/en/java/javase/14/docs/api/index.html) to get the text properly centered:\r\n\r\n![example of generated image](https://i.stack.imgur.com/wup9E.png)\r\n\r\nHere&#39;s how to create the image and save it as a file:\r\n\r\n    int imgWidth = 250;\r\n    int imgHeight = 250;\r\n    var img = new BufferedImage(imgWidth, imgHeight, BufferedImage.TYPE_INT_RGB);\r\n\r\n    Graphics2D g = img.createGraphics();\r\n\r\n    var backgroundColor = new Color(0, 150, 100);\r\n    g.setPaint(backgroundColor);\r\n    g.fillRect(0, 0, imgWidth, imgHeight);\r\n\r\n    var font = new Font(&quot;Arial&quot;, Font.PLAIN, 80);\r\n    g.setFont(font);\r\n    g.setPaint(Color.WHITE);\r\n\r\n    String text = &quot;0&quot;;\r\n\r\n    var textLayout = new TextLayout(text, g.getFont(), g.getFontRenderContext());\r\n    double textHeight = textLayout.getBounds().getHeight();\r\n    double textWidth = textLayout.getBounds().getWidth();\r\n\r\n    g.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,\r\n            RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n\r\n    // Draw the text in the center of the image\r\n    g.drawString(text, imgWidth / 2 - (int) textWidth / 2,\r\n                       imgHeight / 2 + (int) textHeight / 2);\r\n\r\n    String imgFormat = &quot;png&quot;;\r\n    ImageIO.write(img, imgFormat, new File(&quot;/home/me/new_image.&quot; + imgFormat));\r\n\r\n\r\n","title":"Java - Draw text in the center of an image","body":"<p>I used <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/index.html\" rel=\"nofollow noreferrer\"><code>TextLayout</code></a> to get the text properly centered:</p>\n<p><img src=\"https://i.stack.imgur.com/wup9E.png\" alt=\"example of generated image\" /></p>\n<p>Here's how to create the image and save it as a file:</p>\n<pre><code>int imgWidth = 250;\nint imgHeight = 250;\nvar img = new BufferedImage(imgWidth, imgHeight, BufferedImage.TYPE_INT_RGB);\n\nGraphics2D g = img.createGraphics();\n\nvar backgroundColor = new Color(0, 150, 100);\ng.setPaint(backgroundColor);\ng.fillRect(0, 0, imgWidth, imgHeight);\n\nvar font = new Font(&quot;Arial&quot;, Font.PLAIN, 80);\ng.setFont(font);\ng.setPaint(Color.WHITE);\n\nString text = &quot;0&quot;;\n\nvar textLayout = new TextLayout(text, g.getFont(), g.getFontRenderContext());\ndouble textHeight = textLayout.getBounds().getHeight();\ndouble textWidth = textLayout.getBounds().getWidth();\n\ng.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,\n        RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n\n// Draw the text in the center of the image\ng.drawString(text, imgWidth / 2 - (int) textWidth / 2,\n                   imgHeight / 2 + (int) textHeight / 2);\n\nString imgFormat = &quot;png&quot;;\nImageIO.write(img, imgFormat, new File(&quot;/home/me/new_image.&quot; + imgFormat));\n</code></pre>\n"}],"owner":{"account_id":892733,"reputation":149,"user_id":930689,"accept_rate":20,"display_name":"GhzNcl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12688,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1675923485,"creation_date":1315328769,"question_id":7323538,"body_markdown":"I need to write text in the center of an image. The text to write is not always the same.\r\n\r\nThe code I&#39;m using is here:\r\n\r\n    // Here I first draw the image\r\n    g.drawImage(img, 22, 15, 280, 225, null);\r\n    // I get the text \r\n    String text = photoText.getText();\r\n    // Set the text color to black\r\n    g.setColor(Color.black);\r\n    // I draw the string \r\n    g.drawString(text, 79.5F, 220.0F);\r\n    \r\nThe problem is that the text isn&#39;t at the center of the image, what can I do? \r\n\r\nI only need to draw the text at the horizontal center. \r\n","title":"Java - Draw text in the center of an image","body":"<p>I need to write text in the center of an image. The text to write is not always the same.</p>\n\n<p>The code I'm using is here:</p>\n\n<pre><code>// Here I first draw the image\ng.drawImage(img, 22, 15, 280, 225, null);\n// I get the text \nString text = photoText.getText();\n// Set the text color to black\ng.setColor(Color.black);\n// I draw the string \ng.drawString(text, 79.5F, 220.0F);\n</code></pre>\n\n<p>The problem is that the text isn't at the center of the image, what can I do? </p>\n\n<p>I only need to draw the text at the horizontal center. </p>\n"},{"tags":["java","android","sqlite","android-recyclerview","android-arrayadapter"],"owner":{"account_id":27348998,"reputation":1,"user_id":20858469,"display_name":"DhruvNayak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675923053,"creation_date":1675922018,"question_id":75394729,"body_markdown":"**I have two cardview one contains image from data/data folder and second contains text from sqlite database.** \r\n\r\n**I am Using Collections.shuffle() to shuffle data (textview&#39;s text)of recyclerview.** \r\n**Now I want to match image and text after shuffle.t** \r\n\r\n This is method which is fetching text from sqlite and images from data/data folder to Recycleview.\r\n\r\npublic void fetchData() {\r\n\r\n        db = new matchdatabasehelper(this);\r\n        try {\r\n            db.createDataBase();\r\n            db.openDataBase();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        data = db.getLessonMaster(this);\r\n        adapter = new matchAdapter(this, data, data1, this);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n     \r\n\r\n        Collections.shuffle(data);\r\n        Collections.shuffle(data1);\r\n\r\n        data1.clear();\r\n\r\n\r\n        String filePath = &quot;/data/data/PATH/1&quot;;\r\n        File file = new File(filePath);\r\n        File[] files = file.listFiles();\r\n        if (files != null) {\r\n            for (File file1 : files) {\r\n                if (file1.getPath().endsWith(&quot;.png&quot;) || file1.getPath().endsWith(&quot;.jpg&quot;)) {\r\n                    data1.add(new imageModel( file1.getPath()));\r\n                }\r\n            }\r\n        }\r\n            recyclerView.setAdapter(adapter);\r\n\r\n\r\n\r\n    }`\r\n\r\n\r\n**Belove code represents bindview code where data is text and image data is image.** \r\n\r\n\r\n\r\n\r\n\r\n             if (data != null &amp;&amp; imagedata != null) {\r\n                  holder.textView\r\n                    .setText(data.get(position));\r\n                  Glide.with(activity).load(imagedata.get(position).getPath()).into(holder.imageView);\r\n\r\n\r\n\r\n**belove code represents database helper class**\r\n\r\n\r\n\r\n public List&lt;String&gt; getLessonMaster(\r\n            Activity activity)\r\n\r\n    {\r\n\r\n        sqLiteOpenHelper\r\n                = new DatabaseHelper(activity);\r\n        SQLiteDatabase db\r\n                = sqLiteOpenHelper\r\n                .getWritableDatabase();\r\n\r\n        List&lt;String&gt; list\r\n                = new ArrayList&lt;&gt;();\r\n\r\n\r\n\r\n     \r\n        String query =    &quot;QUERY &quot; ;\r\n    \r\n        Cursor cursor = db.rawQuery(query, null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                list.add(cursor.getString(1));\r\n\r\n            } while (cursor.moveToNext());\r\n        }\r\n        return list;\r\n    }","title":"when user click on imageviw and textview related to image show success message (memory matching game)","body":"<p><strong>I have two cardview one contains image from data/data folder and second contains text from sqlite database.</strong></p>\n<p><strong>I am Using Collections.shuffle() to shuffle data (textview's text)of recyclerview.</strong>\n<strong>Now I want to match image and text after shuffle.t</strong></p>\n<p>This is method which is fetching text from sqlite and images from data/data folder to Recycleview.</p>\n<p>public void fetchData() {</p>\n<pre><code>    db = new matchdatabasehelper(this);\n    try {\n        db.createDataBase();\n        db.openDataBase();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n\n    data = db.getLessonMaster(this);\n    adapter = new matchAdapter(this, data, data1, this);\n    recyclerView.setAdapter(adapter);\n\n \n\n    Collections.shuffle(data);\n    Collections.shuffle(data1);\n\n    data1.clear();\n\n\n    String filePath = &quot;/data/data/PATH/1&quot;;\n    File file = new File(filePath);\n    File[] files = file.listFiles();\n    if (files != null) {\n        for (File file1 : files) {\n            if (file1.getPath().endsWith(&quot;.png&quot;) || file1.getPath().endsWith(&quot;.jpg&quot;)) {\n                data1.add(new imageModel( file1.getPath()));\n            }\n        }\n    }\n        recyclerView.setAdapter(adapter);\n\n\n\n}`\n</code></pre>\n<p><strong>Belove code represents bindview code where data is text and image data is image.</strong></p>\n<pre><code>         if (data != null &amp;&amp; imagedata != null) {\n              holder.textView\n                .setText(data.get(position));\n              Glide.with(activity).load(imagedata.get(position).getPath()).into(holder.imageView);\n</code></pre>\n<p><strong>belove code represents database helper class</strong></p>\n<p>public List getLessonMaster(\nActivity activity)</p>\n<pre><code>{\n\n    sqLiteOpenHelper\n            = new DatabaseHelper(activity);\n    SQLiteDatabase db\n            = sqLiteOpenHelper\n            .getWritableDatabase();\n\n    List&lt;String&gt; list\n            = new ArrayList&lt;&gt;();\n\n\n\n \n    String query =    &quot;QUERY &quot; ;\n\n    Cursor cursor = db.rawQuery(query, null);\n\n    if (cursor.moveToFirst()) {\n        do {\n            list.add(cursor.getString(1));\n\n        } while (cursor.moveToNext());\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":["java","salesforce","cometd"],"owner":{"account_id":6622609,"reputation":95,"user_id":5113758,"accept_rate":33,"display_name":"KVL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675923003,"creation_date":1675923003,"question_id":75394844,"body_markdown":"seeing the below error in logs, not stopping the application flow but there is spike in threadcount.\r\n\r\n     {failure={exception=org.cometd.common.TransportException: {httpCode=503}, message={ext={replay=true}, supportedConnectionTypes=[long-polling], channel=/meta/handshake, id=12345, version=1.0}, httpCode=503, connectionType=long-polling}, channel=/meta/handshake, id=12345, successful=false}.","title":"CometD transport Exception in logs","body":"<p>seeing the below error in logs, not stopping the application flow but there is spike in threadcount.</p>\n<pre><code> {failure={exception=org.cometd.common.TransportException: {httpCode=503}, message={ext={replay=true}, supportedConnectionTypes=[long-polling], channel=/meta/handshake, id=12345, version=1.0}, httpCode=503, connectionType=long-polling}, channel=/meta/handshake, id=12345, successful=false}.\n</code></pre>\n"},{"tags":["java","java-9","java-11","java-module","jlink"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1556286380,"post_id":55868821,"comment_id":98397991,"body_markdown":"The JDK traditionally included a private JRE.","body":"The JDK traditionally included a private JRE."},{"owner":{"display_name":"user330315"},"score":4,"creation_date":1556286399,"post_id":55868821,"comment_id":98397998,"body_markdown":"you can download JREs from https://adoptopenjdk.net, e.g. for Windows: https://adoptopenjdk.net/releases.html#x64_win","body":"you can download JREs from <a href=\"https://adoptopenjdk.net\" rel=\"nofollow noreferrer\">adoptopenjdk.net</a>, e.g. for Windows: <a href=\"https://adoptopenjdk.net/releases.html#x64_win\" rel=\"nofollow noreferrer\">adoptopenjdk.net/releases.html#x64_win</a>"},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556286685,"post_id":55868821,"comment_id":98398164,"body_markdown":"@Thorbj&#248;rnRavnAndersen yes, it&#39;s undestandable as it contains the JVM, but my question is more when it&#39;s discontinued as a separate offering : )","body":"@Thorbj&#248;rnRavnAndersen yes, it&#39;s undestandable as it contains the JVM, but my question is more when it&#39;s discontinued as a separate offering : )"},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556289603,"post_id":55868821,"comment_id":98399781,"body_markdown":"@a_horse_with_no_name thanks for the suggestion, but I don&#39;t need to dowlnoad the jre separately : ) Through, do you know how it works behind the scenes? How jre is created from jdk? (Or is it even so)","body":"@a_horse_with_no_name thanks for the suggestion, but I don&#39;t need to dowlnoad the jre separately : ) Through, do you know how it works behind the scenes? How jre is created from jdk? (Or is it even so)"},{"owner":{"display_name":"user330315"},"score":4,"creation_date":1556290700,"post_id":55868821,"comment_id":98400403,"body_markdown":"But you asked: &quot;*download of JRE is not possible directly only from Java 11*&quot; - and the answer to that is: yes it&#39;s possible to download only the JRE for Java 11. To create a JRE from a JDK `jlink` is used. But if you neither want to download the JRE and you already know it&#39;s created with jlink, then what exactly is your question?","body":"But you asked: &quot;<i>download of JRE is not possible directly only from Java 11</i>&quot; - and the answer to that is: yes it&#39;s possible to download only the JRE for Java 11. To create a JRE from a JDK <code>jlink</code> is used. But if you neither want to download the JRE and you already know it&#39;s created with jlink, then what exactly is your question?"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1556295304,"post_id":55868821,"comment_id":98402823,"body_markdown":"@anasmi Yes, but some of the documentation you&#39;ve read is about the private JRE inside the JDK.","body":"@anasmi Yes, but some of the documentation you&#39;ve read is about the private JRE inside the JDK."},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556296946,"post_id":55868821,"comment_id":98403632,"body_markdown":"@a_horse_with_no_name As far as I understand, it&#39;s not possible for Java 11. or where can I you download the JRE separately? (Not to creat by hand via jlink, but download as it was possible with jdk and jre 8) My *assumption/understanding* is that JRE is not comming as a standalone product anymore. (Is this  wrong?) But my original question is from which version it&#39;s **not possible**  to dowload it separately 9 or 11? Sorry if I have phrased it&#39;s poorly :/","body":"@a_horse_with_no_name As far as I understand, it&#39;s not possible for Java 11. or where can I you download the JRE separately? (Not to creat by hand via jlink, but download as it was possible with jdk and jre 8) My <i>assumption/understanding</i> is that JRE is not comming as a standalone product anymore. (Is this  wrong?) But my original question is from which version it&#39;s <b>not possible</b>  to dowload it separately 9 or 11? Sorry if I have phrased it&#39;s poorly :/"},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556297049,"post_id":55868821,"comment_id":98403668,"body_markdown":"@Thorbj&#248;rnRavnAndersen could you point me, please, which of this is for the private parts inside the JDK? Maybe it would explain  everything :)","body":"@Thorbj&#248;rnRavnAndersen could you point me, please, which of this is for the private parts inside the JDK? Maybe it would explain  everything :)"},{"owner":{"display_name":"user330315"},"score":4,"creation_date":1556298468,"post_id":55868821,"comment_id":98404278,"body_markdown":"As I already mentioned: you **can** download a JRE from e.g. https://adoptopenjdk.net/releases.html#x64_win","body":"As I already mentioned: you <b>can</b> download a JRE from e.g. <a href=\"https://adoptopenjdk.net/releases.html#x64_win\" rel=\"nofollow noreferrer\">adoptopenjdk.net/releases.html#x64_win</a>"},{"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"score":0,"creation_date":1556345652,"post_id":55868821,"comment_id":98414854,"body_markdown":"@a_horse_with_no_name to be honest, it&#39;s confusing me even more. &quot;*AdoptOpenJDK uses infrastructure, build and test scripts to produce prebuilt binaries from OpenJDK class libraries and a choice of either the OpenJDK HotSpot or Eclipse OpenJ9 VM.*&quot; So it&#39;s actually a tool that creates the JRE for you. (Not the separate implementation of Java Specification as Oracle and OpenJDK, which JRE&#39;s I can&#39;t download from the official page). Also, what all of those release notes means then?","body":"@a_horse_with_no_name to be honest, it&#39;s confusing me even more. &quot;<i>AdoptOpenJDK uses infrastructure, build and test scripts to produce prebuilt binaries from OpenJDK class libraries and a choice of either the OpenJDK HotSpot or Eclipse OpenJ9 VM.</i>&quot; So it&#39;s actually a tool that creates the JRE for you. (Not the separate implementation of Java Specification as Oracle and OpenJDK, which JRE&#39;s I can&#39;t download from the official page). Also, what all of those release notes means then?"},{"owner":{"display_name":"user330315"},"score":3,"creation_date":1556348569,"post_id":55868821,"comment_id":98415378,"body_markdown":"It&#39;s not a tool that creates a JRE for you. You can download a JRE from that link.","body":"It&#39;s not a tool that creates a JRE for you. You can download a JRE from that link."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1675922816,"creation_date":1556348322,"answer_id":55878104,"question_id":55868821,"body_markdown":"&gt; Is this the case and it is not possible to download JRE directly since Java 11?  Or am I mixing implementations between (Oracle and OpenJDK)? \r\n\r\nIt is correct (mostly).  From Java 11 onwards, neither Oracle JDK or OpenJDK JDK has a corresponding JRE available for public downloads.\r\n\r\n**However** (and this is where you are incorrect) other distributors of Java **do** provide JRE downloads (or packages) as an option.  Details may be found via the &quot;Java is still free&quot; link below. \r\n\r\n&gt; When JRE was completely discontinued as a separate offering?\r\n\r\nIt was discontinued for the Oracle and OpenJDK distributions with Java 11.  The Java 11 [release notes][1] state:\r\n\r\n&gt; *&quot;In this release, the JRE or Server JRE is no longer offered. Only the JDK is offered. Users can use jlink to create smaller custom runtimes.&quot;* \r\n\r\nI have not been able to find any earlier public announcements from Oracle about the discontinuance of their JRE releases.  (If someone finds one, please comment ...)\r\n\r\n-------------\r\n\r\nPlease note:  this is a specific answer to the specific questions asked by the OP.  For more information on the status of Java vis-a-vis licenses, distributions, vendors, support, and whether or not Java is &quot;free&quot;, I recommend that you read the following:\r\n\r\n  - [&quot;Java is still free&quot;][2] written by the Java Champions community of independent Java leaders and experts.   \r\n\r\nIt is a &quot;live&quot; document, and is likely to remain a good source of up-to-date information; i.e. *more likely to be up-to-date than this Answer!*\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\r\n  [2]: https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b","title":"When JRE was completely discontinued as a separate offering?","body":"<blockquote>\n<p>Is this the case and it is not possible to download JRE directly since Java 11?  Or am I mixing implementations between (Oracle and OpenJDK)?</p>\n</blockquote>\n<p>It is correct (mostly).  From Java 11 onwards, neither Oracle JDK or OpenJDK JDK has a corresponding JRE available for public downloads.</p>\n<p><strong>However</strong> (and this is where you are incorrect) other distributors of Java <strong>do</strong> provide JRE downloads (or packages) as an option.  Details may be found via the &quot;Java is still free&quot; link below.</p>\n<blockquote>\n<p>When JRE was completely discontinued as a separate offering?</p>\n</blockquote>\n<p>It was discontinued for the Oracle and OpenJDK distributions with Java 11.  The Java 11 <a href=\"https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\" rel=\"nofollow noreferrer\">release notes</a> state:</p>\n<blockquote>\n<p><em>&quot;In this release, the JRE or Server JRE is no longer offered. Only the JDK is offered. Users can use jlink to create smaller custom runtimes.&quot;</em></p>\n</blockquote>\n<p>I have not been able to find any earlier public announcements from Oracle about the discontinuance of their JRE releases.  (If someone finds one, please comment ...)</p>\n<hr />\n<p>Please note:  this is a specific answer to the specific questions asked by the OP.  For more information on the status of Java vis-a-vis licenses, distributions, vendors, support, and whether or not Java is &quot;free&quot;, I recommend that you read the following:</p>\n<ul>\n<li><a href=\"https://medium.com/@javachampions/java-is-still-free-3-0-0-ocrt-2021-bca75c88d23b\" rel=\"nofollow noreferrer\">&quot;Java is still free&quot;</a> written by the Java Champions community of independent Java leaders and experts.</li>\n</ul>\n<p>It is a &quot;live&quot; document, and is likely to remain a good source of up-to-date information; i.e. <em>more likely to be up-to-date than this Answer!</em></p>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1643563554,"creation_date":1575511226,"answer_id":59187135,"question_id":55868821,"body_markdown":"First of all, the question is incorrect. JRE was not discontinued. It was only discontinued by Oracle. For example, on Linux, JRE is still available*:\r\n\r\n    $ apt-cache search openjdk-11-jre\r\n    openjdk-11-jre - OpenJDK Java runtime, using Hotspot JIT\r\n    openjdk-11-jre-headless - OpenJDK Java runtime, using Hotspot JIT (headless)\r\n    openjdk-11-jre-zero - Alternative JVM for OpenJDK, using Zero\r\n\r\n*\\* requires repository ppa:openjdk-r/ppa*\r\n\r\nSome other JDK providers still offer JRE as well:\r\n\r\n - [Azul Zulu][1] offers JRE.\r\n - [AdoptOpenJDK][2] offers JRE.\r\n - [Liberica JDK][3] offers JRE.\r\n\r\n\r\n  [1]: https://www.azul.com/downloads/zulu-community/?&amp;architecture=x86-64-bit&amp;package=jre\r\n  [2]: https://adoptopenjdk.net/releases.html\r\n  [3]: https://bell-sw.com/pages/downloads/","title":"When JRE was completely discontinued as a separate offering?","body":"<p>First of all, the question is incorrect. JRE was not discontinued. It was only discontinued by Oracle. For example, on Linux, JRE is still available*:</p>\n<pre><code>$ apt-cache search openjdk-11-jre\nopenjdk-11-jre - OpenJDK Java runtime, using Hotspot JIT\nopenjdk-11-jre-headless - OpenJDK Java runtime, using Hotspot JIT (headless)\nopenjdk-11-jre-zero - Alternative JVM for OpenJDK, using Zero\n</code></pre>\n<p><em>* requires repository ppa:openjdk-r/ppa</em></p>\n<p>Some other JDK providers still offer JRE as well:</p>\n<ul>\n<li><a href=\"https://www.azul.com/downloads/zulu-community/?&amp;architecture=x86-64-bit&amp;package=jre\" rel=\"nofollow noreferrer\">Azul Zulu</a> offers JRE.</li>\n<li><a href=\"https://adoptopenjdk.net/releases.html\" rel=\"nofollow noreferrer\">AdoptOpenJDK</a> offers JRE.</li>\n<li><a href=\"https://bell-sw.com/pages/downloads/\" rel=\"nofollow noreferrer\">Liberica JDK</a> offers JRE.</li>\n</ul>\n"}],"owner":{"account_id":8755351,"reputation":2582,"user_id":6547113,"display_name":"anasmi"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13606,"favorite_count":0,"down_vote_count":2,"up_vote_count":19,"accepted_answer_id":55878104,"answer_count":2,"score":17,"last_activity_date":1675922816,"creation_date":1556285726,"question_id":55868821,"body_markdown":"Starting from Java 9 the module system was introduced, making provision of JRE separately *redundant*.\n\nThrough, it seems that it was still possible to download it. For example, from here now [Java 9 archive](https://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase9-3934878.html)\nAlso, [here](http://openjdk.java.net/jeps/220) it&#39;s only stated that :\n\n&gt;Restructure the JDK and JRE run-time images to draw a clear distinction between files that developers, deployers, and end-users can rely upon and, when appropriate, modify, in contrast to files that are internal to the implementation and subject to change without notice.\n&gt;\n&gt;The new image structure eliminates this distinction: A JDK image is simply a run-time image that happens to contain the full set of development tools and other items historically found in the JDK.\n\nSo no talk about complete removal.\nFrom : [jdk-9](https://docs.oracle.com/javase/9/install/installed-directory-structure-jdk-and-jre.htm#JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350)\n&gt;When you install jdk-9, public jre-9 also gets installed automatically.\n\nAlso, I was thinking that started from Java 9 the custom runtime should be always  created using the jlink, but it seems it&#39;s enforced  now only from Java 11.\nFrom the release notes of Java 11 here [Oracle JDK release notes](https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html): \n&gt; In Windows and macOS, installing the JDK in previous releases optionally installed a JRE. In JDK 11, this is no longer an option.\nIn this release, the JRE or Server JRE is no longer offered. Only the JDK is offered. Users can use jlink to create smaller custom runtimes.\n\nBut then I can find a lot of discussions like those:\n\n- [Where is Java 9 JRE?](https://community.spiceworks.com/topic/2175168-where-is-java-9-jre)\n\n- [Create jre from OpenJDK Windows](https://stackoverflow.com/questions/51403071/create-jre-from-openjdk-windows)\n- [Why did Java 11 JRE not install with JDK and where is the download for just the Java 11 JRE?](https://www.reddit.com/r/java/comments/9ualdq/why_did_java_11_jre_not_install_with_jdk_and/)\n- [Is there an openjdk-11-jre?](https://stackoverflow.com/questions/52714672/is-there-an-openjdk-11-jre)\n\nIs this the case and it is not possible to download JRE directly **since Java 11**? Or am I mixing implementations between (Oracle and OpenJDK)? Or were those discussions above misleading? \n\n\n*Edit: I don&#39;t need to download the jre, I could create it via jlink or use already avaialble solution, my question is more of a theoretic*. \n","title":"When JRE was completely discontinued as a separate offering?","body":"<p>Starting from Java 9 the module system was introduced, making provision of JRE separately <em>redundant</em>.</p>\n<p>Through, it seems that it was still possible to download it. For example, from here now <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/java-archive-javase9-3934878.html\" rel=\"noreferrer\">Java 9 archive</a>\nAlso, <a href=\"http://openjdk.java.net/jeps/220\" rel=\"noreferrer\">here</a> it's only stated that :</p>\n<blockquote>\n<p>Restructure the JDK and JRE run-time images to draw a clear distinction between files that developers, deployers, and end-users can rely upon and, when appropriate, modify, in contrast to files that are internal to the implementation and subject to change without notice.</p>\n<p>The new image structure eliminates this distinction: A JDK image is simply a run-time image that happens to contain the full set of development tools and other items historically found in the JDK.</p>\n</blockquote>\n<p>So no talk about complete removal.\nFrom : <a href=\"https://docs.oracle.com/javase/9/install/installed-directory-structure-jdk-and-jre.htm#JSJIG-GUID-F7178F2F-DC92-47E9-8062-CA6B2612D350\" rel=\"noreferrer\">jdk-9</a></p>\n<blockquote>\n<p>When you install jdk-9, public jre-9 also gets installed automatically.</p>\n</blockquote>\n<p>Also, I was thinking that started from Java 9 the custom runtime should be always  created using the jlink, but it seems it's enforced  now only from Java 11.\nFrom the release notes of Java 11 here <a href=\"https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html\" rel=\"noreferrer\">Oracle JDK release notes</a>:</p>\n<blockquote>\n<p>In Windows and macOS, installing the JDK in previous releases optionally installed a JRE. In JDK 11, this is no longer an option.\nIn this release, the JRE or Server JRE is no longer offered. Only the JDK is offered. Users can use jlink to create smaller custom runtimes.</p>\n</blockquote>\n<p>But then I can find a lot of discussions like those:</p>\n<ul>\n<li><p><a href=\"https://community.spiceworks.com/topic/2175168-where-is-java-9-jre\" rel=\"noreferrer\">Where is Java 9 JRE?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/51403071/create-jre-from-openjdk-windows\">Create jre from OpenJDK Windows</a></p>\n</li>\n<li><p><a href=\"https://www.reddit.com/r/java/comments/9ualdq/why_did_java_11_jre_not_install_with_jdk_and/\" rel=\"noreferrer\">Why did Java 11 JRE not install with JDK and where is the download for just the Java 11 JRE?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/52714672/is-there-an-openjdk-11-jre\">Is there an openjdk-11-jre?</a></p>\n</li>\n</ul>\n<p>Is this the case and it is not possible to download JRE directly <strong>since Java 11</strong>? Or am I mixing implementations between (Oracle and OpenJDK)? Or were those discussions above misleading?</p>\n<p><em>Edit: I don't need to download the jre, I could create it via jlink or use already avaialble solution, my question is more of a theoretic</em>.</p>\n"},{"tags":["java","log4j2","apache-kafka-streams"],"owner":{"account_id":1990578,"reputation":445,"user_id":1784675,"display_name":"Sumit Sood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675921497,"creation_date":1675917513,"question_id":75394247,"body_markdown":"I recently moved my application from log4j1.x to log4j2.19.0. After migrating it to log4j2 my /var/log/message is flooded with Kafka debug logs and it quickly fills the space of /var directory\r\n\r\n    2023-02-09T04:19:15.748569+00:00  run-my-processor.sh[1635]: [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] Processed 0 records with 1 iterations; invoking punctuators if necessary\r\n    2023-02-09T04:19:15.748637+00:00 run-my-processor.sh[1635]: 04:19:15.748 [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] 0 punctuators ran.\r\n    2023-02-09T04:19:15.748705+00:00 run-my-processor.sh[1635]: 04:19:15.748 [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] Invoking poll on main Consumer\r\n\r\nMy log4j2.xml configuration is below. Not sure it is directly related to log4j2.xml or something else? Any help much appreciated \r\n    &lt;Configuration status=&quot;warn&quot;&gt;\r\n\r\n        &lt;Properties&gt;\r\n                &lt;Property name=&quot;pattern&quot;&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36}:%line - %msg%n&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n        &lt;Appenders&gt;\r\n                &lt;RollingFile name=&quot;LOG_FILE&quot; fileName=&quot;/opt/info/log/alert.log&quot;\r\n                                         filePattern=&quot;/var/log/mca/mca-connect/archive/mca-alert-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\r\n                        &lt;PatternLayout&gt;\r\n                                &lt;pattern&gt;${pattern}&lt;/pattern&gt;\r\n                        &lt;/PatternLayout&gt;\r\n                        &lt;Policies&gt;\r\n                                &lt;TimeBasedTriggeringPolicy /&gt;&lt;!-- Rotated everyday --&gt;\r\n                                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 100 MB --&gt;\r\n                        &lt;/Policies&gt;\r\n                        &lt;DefaultRolloverStrategy max=&quot;50&quot;/&gt;\r\n                &lt;/RollingFile&gt;\r\n                &lt;RollingFile name=&quot;ERROR_LOG_FILE&quot; fileName=&quot;/opt/info/mca/log/markit-mca-alert-processor/mca-alert-error.log&quot;\r\n                                         filePattern=&quot;/opt/info/mca/log/markit-mca-alert-processor/archive/mca-alert-error-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\r\n                        &lt;PatternLayout&gt;\r\n                                &lt;pattern&gt;${pattern}&lt;/pattern&gt;\r\n                        &lt;/PatternLayout&gt;\r\n\r\n                        &lt;ThresholdFilter level=&quot;ERROR&quot;  onMatch=&quot;ACCEPT&quot;   onMismatch=&quot;DENY&quot;/&gt;\r\n\r\n                        &lt;Policies&gt;\r\n                                &lt;TimeBasedTriggeringPolicy /&gt;&lt;!-- Rotated everyday --&gt;\r\n                                &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 100 MB --&gt;\r\n                        &lt;/Policies&gt;\r\n                        &lt;DefaultRolloverStrategy max=&quot;50&quot;/&gt;\r\n                &lt;/RollingFile&gt;\r\n        &lt;/Appenders&gt;\r\n\r\n        &lt;Loggers&gt;\r\n        &lt;Logger name=&quot;org.springframework&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;org.springframework.jdbc&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n\r\n        &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;com.markit.mca&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;com.markit.mca.kafka&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;Logger name=&quot;com.markit.mca.elastic&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Logger&gt;\r\n\r\n\r\n        &lt;Root level=&quot;error&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\r\n        &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n\r\n\r\n&lt;/Configuration&gt;\r\n\r\nMy log4j Jars are \r\n[![enter image description here][1]][1]\r\n\r\nMy Kafka Jars are\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sA9Ha.png\r\n  [2]: https://i.stack.imgur.com/w2XUz.png","title":"/var/log/messages is flooded with kafaka debug logs after migrating from log4j1.x to log4j2","body":"<p>I recently moved my application from log4j1.x to log4j2.19.0. After migrating it to log4j2 my /var/log/message is flooded with Kafka debug logs and it quickly fills the space of /var directory</p>\n<pre><code>2023-02-09T04:19:15.748569+00:00  run-my-processor.sh[1635]: [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] Processed 0 records with 1 iterations; invoking punctuators if necessary\n2023-02-09T04:19:15.748637+00:00 run-my-processor.sh[1635]: 04:19:15.748 [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] 0 punctuators ran.\n2023-02-09T04:19:15.748705+00:00 run-my-processor.sh[1635]: 04:19:15.748 [AlertRTGen-StreamThread-1] DEBUG org.apache.kafka.streams.processor.internals.StreamThread - stream-thread [AlertRTGen-StreamThread-1] Invoking poll on main Consumer\n</code></pre>\n<p>My log4j2.xml configuration is below. Not sure it is directly related to log4j2.xml or something else? Any help much appreciated\n</p>\n<pre><code>    &lt;Properties&gt;\n            &lt;Property name=&quot;pattern&quot;&gt;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36}:%line - %msg%n&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n            &lt;RollingFile name=&quot;LOG_FILE&quot; fileName=&quot;/opt/info/log/alert.log&quot;\n                                     filePattern=&quot;/var/log/mca/mca-connect/archive/mca-alert-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\n                    &lt;PatternLayout&gt;\n                            &lt;pattern&gt;${pattern}&lt;/pattern&gt;\n                    &lt;/PatternLayout&gt;\n                    &lt;Policies&gt;\n                            &lt;TimeBasedTriggeringPolicy /&gt;&lt;!-- Rotated everyday --&gt;\n                            &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 100 MB --&gt;\n                    &lt;/Policies&gt;\n                    &lt;DefaultRolloverStrategy max=&quot;50&quot;/&gt;\n            &lt;/RollingFile&gt;\n            &lt;RollingFile name=&quot;ERROR_LOG_FILE&quot; fileName=&quot;/opt/info/mca/log/markit-mca-alert-processor/mca-alert-error.log&quot;\n                                     filePattern=&quot;/opt/info/mca/log/markit-mca-alert-processor/archive/mca-alert-error-%d{yyyy-MM-dd}-%i.log.gz&quot;&gt;\n                    &lt;PatternLayout&gt;\n                            &lt;pattern&gt;${pattern}&lt;/pattern&gt;\n                    &lt;/PatternLayout&gt;\n\n                    &lt;ThresholdFilter level=&quot;ERROR&quot;  onMatch=&quot;ACCEPT&quot;   onMismatch=&quot;DENY&quot;/&gt;\n\n                    &lt;Policies&gt;\n                            &lt;TimeBasedTriggeringPolicy /&gt;&lt;!-- Rotated everyday --&gt;\n                            &lt;SizeBasedTriggeringPolicy size=&quot;50 MB&quot;/&gt; &lt;!-- Or every 100 MB --&gt;\n                    &lt;/Policies&gt;\n                    &lt;DefaultRolloverStrategy max=&quot;50&quot;/&gt;\n            &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n\n    &lt;Loggers&gt;\n    &lt;Logger name=&quot;org.springframework&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Logger name=&quot;org.springframework.jdbc&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n\n    &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Logger name=&quot;com.markit.mca&quot; level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Logger name=&quot;com.markit.mca.kafka&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n    &lt;Logger name=&quot;com.markit.mca.elastic&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Logger&gt;\n\n\n    &lt;Root level=&quot;error&quot;&gt;\n            &lt;AppenderRef ref=&quot;LOG_FILE&quot; /&gt;\n    &lt;/Root&gt;\n    &lt;/Loggers&gt;\n</code></pre>\n\n<p>My log4j Jars are\n<a href=\"https://i.stack.imgur.com/sA9Ha.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sA9Ha.png\" alt=\"enter image description here\" /></a></p>\n<p>My Kafka Jars are\n<a href=\"https://i.stack.imgur.com/w2XUz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w2XUz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":532733,"reputation":14515,"user_id":1251350,"accept_rate":93,"display_name":"Faraj Farook"},"score":0,"creation_date":1428072045,"post_id":29434209,"comment_id":47037868,"body_markdown":"This should answer your issue. http://stackoverflow.com/a/14174404/1251350","body":"This should answer your issue. <a href=\"http://stackoverflow.com/a/14174404/1251350\">stackoverflow.com/a/14174404/1251350</a>"}],"answers":[{"tags":[],"owner":{"account_id":6080709,"reputation":101,"user_id":4746575,"display_name":"ans"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428076182,"creation_date":1428076182,"answer_id":29435443,"question_id":29434209,"body_markdown":"    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n            User userDetails = (User) authentication.getPrincipal();\r\n            userDetails.setUsername(&quot;newusername&quot;);\r\n\r\nMy class User implements UserDetails. This solution is simple and it works.","title":"Change username in spring security when logged in","body":"<pre><code>Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        User userDetails = (User) authentication.getPrincipal();\n        userDetails.setUsername(\"newusername\");\n</code></pre>\n\n<p>My class User implements UserDetails. This solution is simple and it works.</p>\n"},{"tags":[],"owner":{"account_id":3926947,"reputation":25936,"user_id":3247006,"display_name":"Super Kai - Kazuya Ito"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1675921230,"creation_date":1510234308,"answer_id":47203192,"question_id":29434209,"body_markdown":"After Logging in, you can change your username and password with this code:\r\n\r\n```js\r\nCollection&lt;SimpleGrantedAuthority&gt; nowAuthorities = \r\n  (Collection&lt;SimpleGrantedAuthority&gt;)SecurityContextHolder.getContext()\r\n                                                           .getAuthentication()\r\n                                                           .getAuthorities();\r\nUsernamePasswordAuthenticationToken authentication = \r\n  new UsernamePasswordAuthenticationToken(username, password, nowAuthorities);\r\n\r\nSecurityContextHolder.getContext().setAuthentication(authentication);\r\n```","title":"Change username in spring security when logged in","body":"<p>After Logging in, you can change your username and password with this code:</p>\n<pre class=\"lang-js prettyprint-override\"><code>Collection&lt;SimpleGrantedAuthority&gt; nowAuthorities = \n  (Collection&lt;SimpleGrantedAuthority&gt;)SecurityContextHolder.getContext()\n                                                           .getAuthentication()\n                                                           .getAuthorities();\nUsernamePasswordAuthenticationToken authentication = \n  new UsernamePasswordAuthenticationToken(username, password, nowAuthorities);\n\nSecurityContextHolder.getContext().setAuthentication(authentication);\n</code></pre>\n"}],"owner":{"account_id":6080709,"reputation":101,"user_id":4746575,"display_name":"ans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7875,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1675921230,"creation_date":1428071736,"question_id":29434209,"body_markdown":"I want to change username while this user logged in system. I implemented my own crypt algorithm and cannot get real password to make a new authentication and put it in \r\n\r\n    Authentication authentication = new UsernamePasswordAuthenticationToken(principal, credentials);\r\n","title":"Change username in spring security when logged in","body":"<p>I want to change username while this user logged in system. I implemented my own crypt algorithm and cannot get real password to make a new authentication and put it in </p>\n\n<pre><code>Authentication authentication = new UsernamePasswordAuthenticationToken(principal, credentials);\n</code></pre>\n"},{"tags":["java","hibernate","object","accounting"],"answers":[{"tags":[],"owner":{"account_id":120777,"reputation":14376,"user_id":313400,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1296384138,"creation_date":1296384138,"answer_id":4842439,"question_id":4807294,"body_markdown":"    select (sum(flow.depositAmount) - sum(flow.withdrawalAmount) - current.amount) \r\n    from Balance flow, Balance current\r\n    where flow.user=:user\r\n    and current.user=:user \r\n    and current.currentBalanceFlag=true\r\n\r\nThis will return the difference between the sum of all flows and the current balance.\r\n\r\nOn a side note, you shouldn&#39;t have to check the integrity of your data. Unless you have gazillions of lines, computing the current balance with an SQL sum should be fast enough. ","title":"Account Balance verification with Java and Hibernate HQL","body":"<pre><code>select (sum(flow.depositAmount) - sum(flow.withdrawalAmount) - current.amount) \nfrom Balance flow, Balance current\nwhere flow.user=:user\nand current.user=:user \nand current.currentBalanceFlag=true\n</code></pre>\n\n<p>This will return the difference between the sum of all flows and the current balance.</p>\n\n<p>On a side note, you shouldn't have to check the integrity of your data. Unless you have gazillions of lines, computing the current balance with an SQL sum should be fast enough. </p>\n"}],"owner":{"account_id":212390,"reputation":26536,"user_id":465179,"accept_rate":99,"display_name":"MatBanik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4842439,"answer_count":1,"score":2,"last_activity_date":1675921095,"creation_date":1296060542,"question_id":4807294,"body_markdown":"I have following properties in my current Account Balance object:\r\n\r\n    long id;                     // Database ID\r\n    Date date;                   // date when this balance object was created\r\n    boolean currentBalanceFlag;  // indicates this is the most recent balance\r\n    float amount;                // the total sum currently in the account balance\r\n    float depositAmount;         // amount deposited that resulted in this objects amount \r\n    float withdrawalAmount;      // amount withdrawn that resulted in this objects amount\r\n    Balance lastBalance;         // last balance object for traversing\r\n    User user;                   // owner of the balance\r\n    String note;                 // detailed description of transaction that resulted in current blanace\r\n\r\nThere are only two actions performed on the balance. Deposits and withdrawals. \r\n\r\n### The question is:  \r\n### How do I create HQL query that will: \r\n-sum all the `depositAmount` for `user`    \r\n-sum all `withdrawalAmount` for `user`   \r\n-subtract result of the first summation from second summation  \r\n-compare result of subtraction with the `amount` for `user` in `Balance` object that has `currentBalanceFlag` equal to `true` \r\n\r\nin pseudo code:\r\n \r\n    resultAmount = select ( sum(depositAmount) - sum(withdrawalAmount) ) from Balance where user=user\r\n    amount = select amount from Balance where user=user and currentBalanceFlag=true\r\n    \r\nAnd the final boolean result I&#39;d like to get from single call to the database with HQL query:  \r\n\r\n    resultAmount == amount","title":"Account Balance verification with Java and Hibernate HQL","body":"<p>I have following properties in my current Account Balance object:</p>\n<pre><code>long id;                     // Database ID\nDate date;                   // date when this balance object was created\nboolean currentBalanceFlag;  // indicates this is the most recent balance\nfloat amount;                // the total sum currently in the account balance\nfloat depositAmount;         // amount deposited that resulted in this objects amount \nfloat withdrawalAmount;      // amount withdrawn that resulted in this objects amount\nBalance lastBalance;         // last balance object for traversing\nUser user;                   // owner of the balance\nString note;                 // detailed description of transaction that resulted in current blanace\n</code></pre>\n<p>There are only two actions performed on the balance. Deposits and withdrawals.</p>\n<h3>The question is:</h3>\n<h3>How do I create HQL query that will:</h3>\n<p>-sum all the <code>depositAmount</code> for <code>user</code><br />\n-sum all <code>withdrawalAmount</code> for <code>user</code><br />\n-subtract result of the first summation from second summation<br />\n-compare result of subtraction with the <code>amount</code> for <code>user</code> in <code>Balance</code> object that has <code>currentBalanceFlag</code> equal to <code>true</code></p>\n<p>in pseudo code:</p>\n<pre><code>resultAmount = select ( sum(depositAmount) - sum(withdrawalAmount) ) from Balance where user=user\namount = select amount from Balance where user=user and currentBalanceFlag=true\n</code></pre>\n<p>And the final boolean result I'd like to get from single call to the database with HQL query:</p>\n<pre><code>resultAmount == amount\n</code></pre>\n"},{"tags":["java","string","stack"],"comments":[{"owner":{"account_id":252456,"reputation":2993,"user_id":530513,"accept_rate":100,"display_name":"David O&#39;Meara"},"score":1,"creation_date":1361165767,"post_id":14930073,"comment_id":20950707,"body_markdown":"is this a homework problem?","body":"is this a homework problem?"},{"owner":{"account_id":2422021,"reputation":2923,"user_id":2114786,"accept_rate":43,"display_name":"O.Badr"},"score":0,"creation_date":1630851544,"post_id":14930073,"comment_id":122062604,"body_markdown":"Prefer [Deque](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Deque.html) instead of **Stack**, from Javadoc: \n `Deques can also be used as LIFO (Last-In-First-Out) stacks. This interface should be used in preference to the legacy Stack class`","body":"Prefer <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/Deque.html\" rel=\"nofollow noreferrer\">Deque</a> instead of <b>Stack</b>, from Javadoc:   <code>Deques can also be used as LIFO (Last-In-First-Out) stacks. This interface should be used in preference to the legacy Stack class</code>"}],"answers":[{"tags":[],"owner":{"account_id":1322392,"reputation":7439,"user_id":1690078,"accept_rate":67,"display_name":"Clyde"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1361166921,"creation_date":1361165592,"answer_id":14930103,"question_id":14930073,"body_markdown":"Yes, a stack is a suitable choice for the task, or you could use a recursive function. If you use a stack, then the idea is you push each opening bracket on the stack, when you encounter a closing bracket you check that the top of the stack matches it. If it matches, pop it off, if not that is an error. When complete, the stack should be empty.\r\n\r\n    import java.util.Stack;\r\n    public class Balanced {\r\n        public static boolean isBalanced(String in)\r\n        {\r\n            Stack&lt;Character&gt; st = new Stack&lt;Character&gt;();\r\n\r\n            for(char chr : in.toCharArray())\r\n            {\r\n                switch(chr) {\r\n\r\n                    case &#39;{&#39;:\r\n                    case &#39;(&#39;:\r\n                    case &#39;[&#39;:\r\n                        st.push(chr);\r\n                        break;\r\n\r\n                    case &#39;]&#39;:\r\n                        if(st.isEmpty() || st.pop() != &#39;[&#39;) \r\n                            return false;\r\n                        break;\r\n                    case &#39;)&#39;:\r\n                        if(st.isEmpty() || st.pop() != &#39;(&#39;)\r\n                            return false;\r\n                        break;\r\n                    case &#39;}&#39;:\r\n                        if(st.isEmpty() || st.pop() != &#39;{&#39;)\r\n                            return false;\r\n                        break;\r\n                }\r\n            }\r\n            return st.isEmpty();\r\n        }\r\n        public static void main(String args[]) {\r\n            if(args.length != 0) {\r\n                if(isBalanced(args[0]))\r\n                    System.out.println(args[0] + &quot; is balanced&quot;);\r\n                else\r\n                    System.out.println(args[0] + &quot; is not balanced&quot;);\r\n            }\r\n        }\r\n    }","title":"How to check if a String is balanced?","body":"<p>Yes, a stack is a suitable choice for the task, or you could use a recursive function. If you use a stack, then the idea is you push each opening bracket on the stack, when you encounter a closing bracket you check that the top of the stack matches it. If it matches, pop it off, if not that is an error. When complete, the stack should be empty.</p>\n\n<pre><code>import java.util.Stack;\npublic class Balanced {\n    public static boolean isBalanced(String in)\n    {\n        Stack&lt;Character&gt; st = new Stack&lt;Character&gt;();\n\n        for(char chr : in.toCharArray())\n        {\n            switch(chr) {\n\n                case '{':\n                case '(':\n                case '[':\n                    st.push(chr);\n                    break;\n\n                case ']':\n                    if(st.isEmpty() || st.pop() != '[') \n                        return false;\n                    break;\n                case ')':\n                    if(st.isEmpty() || st.pop() != '(')\n                        return false;\n                    break;\n                case '}':\n                    if(st.isEmpty() || st.pop() != '{')\n                        return false;\n                    break;\n            }\n        }\n        return st.isEmpty();\n    }\n    public static void main(String args[]) {\n        if(args.length != 0) {\n            if(isBalanced(args[0]))\n                System.out.println(args[0] + \" is balanced\");\n            else\n                System.out.println(args[0] + \" is not balanced\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1649504,"reputation":31596,"user_id":1520364,"accept_rate":70,"display_name":"Karthik T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1361165600,"creation_date":1361165600,"answer_id":14930105,"question_id":14930073,"body_markdown":"Well, roughly speaking, if it is balanced, that means your stack should be empty. \r\n\r\nFor that, you need to pop your stack when you parse a `}`\r\n\r\nAdditional requirement is to check that `}` is preceded by `{` or the character popped is a `{`.","title":"How to check if a String is balanced?","body":"<p>Well, roughly speaking, if it is balanced, that means your stack should be empty. </p>\n\n<p>For that, you need to pop your stack when you parse a <code>}</code></p>\n\n<p>Additional requirement is to check that <code>}</code> is preceded by <code>{</code> or the character popped is a <code>{</code>.</p>\n"},{"tags":[],"owner":{"account_id":270380,"reputation":3017,"user_id":560302,"accept_rate":73,"display_name":"MoveFast"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361165693,"creation_date":1361165693,"answer_id":14930122,"question_id":14930073,"body_markdown":"Following is a `Java` code sample to detect if a string is balanced. \r\n\r\n[http://introcs.cs.princeton.edu/java/43stack/Parentheses.java.html][1]\r\n\r\nThe idea is that - \r\n \r\n - For each opening brace `( [ { `, push it on the stack. \r\n - For closing brace `) ] }`, try to pop a matching opening brace `( [ }` from stack. If you can&#39;t find a matching opening brace, then string is not balanced. \r\n - If after processing the complete string, stack is empty then string is balanced. Otherwise string is not balanced. \r\n\r\n  [1]: http://introcs.cs.princeton.edu/java/43stack/Parentheses.java.html","title":"How to check if a String is balanced?","body":"<p>Following is a <code>Java</code> code sample to detect if a string is balanced. </p>\n\n<p><a href=\"http://introcs.cs.princeton.edu/java/43stack/Parentheses.java.html\" rel=\"nofollow\">http://introcs.cs.princeton.edu/java/43stack/Parentheses.java.html</a></p>\n\n<p>The idea is that - </p>\n\n<ul>\n<li>For each opening brace <code>( [ {</code>, push it on the stack. </li>\n<li>For closing brace <code>) ] }</code>, try to pop a matching opening brace <code>( [ }</code> from stack. If you can't find a matching opening brace, then string is not balanced. </li>\n<li>If after processing the complete string, stack is empty then string is balanced. Otherwise string is not balanced. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1439522,"reputation":9489,"user_id":1360074,"accept_rate":85,"display_name":"Nikolay Kuznetsov"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1361166323,"creation_date":1361165699,"answer_id":14930123,"question_id":14930073,"body_markdown":"1) For every opening bracket: `{ [ (` push it to the stack.\r\n\r\n2) For every closing bracket: `} ] )` pop  from the stack and check whether the type of bracket matches. If not return `false`;\r\n\r\n**i.e.** current symbol in String is `}` and if poped from stack is anything else from `{` then return `false` immediately.\r\n\r\n3) If end of line and stack is not empty, return `false`, otherwise `true`.\r\n","title":"How to check if a String is balanced?","body":"<p>1) For every opening bracket: <code>{ [ (</code> push it to the stack.</p>\n\n<p>2) For every closing bracket: <code>} ] )</code> pop  from the stack and check whether the type of bracket matches. If not return <code>false</code>;</p>\n\n<p><strong>i.e.</strong> current symbol in String is <code>}</code> and if poped from stack is anything else from <code>{</code> then return <code>false</code> immediately.</p>\n\n<p>3) If end of line and stack is not empty, return <code>false</code>, otherwise <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":1179342,"reputation":69,"user_id":1154634,"display_name":"andybandy12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424369352,"creation_date":1424368887,"answer_id":28613604,"question_id":14930073,"body_markdown":"    import java.util.Stack;\r\n\t\r\n\tpublic class SyntaxChecker {\r\n\t\r\n\t    /**\r\n\t     * This enum represents all types of open brackets. If we have a new type then\r\n\t     * just add it to this list with the corresponding closed bracket in the other\r\n\t     * ClosedBracketTypes enum\t\r\n\t     * @author AnishBivalkar\r\n\t     *\r\n\t     */\r\n\t\tprivate enum OpenBracketTypes {\r\n\t\t    LEFT_ROUND_BRACKET(&#39;(&#39;),\r\n\t\t    LEFT_SQUARE_BRACKET(&#39;[&#39;),\r\n\t\t    LEFT_CURLY_BRACKET(&#39;{&#39;);\r\n\t\r\n\t\t    char ch;\r\n\t\r\n\t\t    // Constructs the given bracket type\r\n\t\t    OpenBracketTypes(char ch) {\r\n\t\t\t    this.ch = ch;\r\n\t\t    }\r\n\t\r\n\t\t    // Getter for the type of bracket\r\n\t\t    public final char getBracket() {\r\n\t\t        return ch;\r\n\t\t    }\r\n\t\r\n\t\r\n\t\t    /**\r\n\t\t     * This method checks if the current character is of type OpenBrackets\r\n\t\t     * @param name\r\n\t\t     * @return True if the current character is of type OpenBrackets, false otherwise\r\n\t\t     */\r\n\t\t    public static boolean contains(final char name) {\r\n\t\t        for (OpenBracketTypes type : OpenBracketTypes.values()) {\r\n\t\t            if (type.getBracket() == name) {\r\n\t\t                return true;\r\n\t\t            }\r\n\t\t        }\r\n\t\r\n\t\t        return false;\r\n\t\t    }\r\n\t\t}\r\n\t\r\n\t    /**\r\n\t     * This enum represents all types of Closed brackets. If we have a new type then\r\n\t     * just add it to this list with the corresponding open bracket in the other\r\n\t     * OpenBracketTypes enum\t\r\n\t     * @author AnishBivalkar\r\n\t     *\r\n\t     */\r\n\t\tprivate enum CloseBracketTypes {\r\n\t\t    RIGHT_ROUND_BRACKET(&#39;)&#39;),\r\n\t\t    RIGHT_SQUARE_BRACKET(&#39;]&#39;),\r\n\t\t    RIGHT_CURLY_BRACKET(&#39;}&#39;);\r\n\t\r\n\t\t    char ch;\r\n\t\t    CloseBracketTypes(char ch) {\r\n\t\t\t    this.ch = ch;\r\n\t\t    }\r\n\t\r\n\t\t    private char getBracket() {\r\n\t\t\t\treturn ch;\r\n\t\t\t}\r\n\t\r\n\t\t    /**\r\n\t\t     * This method checks if a given bracket type is a closing bracket and if it correctly\r\n\t\t     * completes the opening bracket\r\n\t\t     * @param bracket\r\n\t\t     * @param brackets\r\n\t\t     * @return\r\n\t\t     */\r\n\t\t    public static boolean isBracketMatching(char bracket, Stack&lt;Character&gt; brackets) {\r\n\t\t    \t// If the current stack is empty and we encountered a closing bracket then this is\r\n\t\t    \t// an incorrect syntax\r\n\t\t    \tif (brackets.isEmpty()) {\r\n\t\t    \t\treturn false;\r\n\t\t    \t} else {\r\n\t\t\t    \tif (bracket == CloseBracketTypes.RIGHT_ROUND_BRACKET.getBracket()) {\r\n\t\t\t\t\t\tif (brackets.peek() == OpenBracketTypes.LEFT_ROUND_BRACKET.getBracket()) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (bracket == CloseBracketTypes.RIGHT_SQUARE_BRACKET.ch) {\r\n\t\t\t\t\t\tif (brackets.peek() == OpenBracketTypes.LEFT_SQUARE_BRACKET.getBracket()) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (bracket == CloseBracketTypes.RIGHT_CURLY_BRACKET.ch) {\r\n\t\t\t\t\t\tif (brackets.peek() == OpenBracketTypes.LEFT_CURLY_BRACKET.getBracket()) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t    \treturn false;\r\n\t\t    \t}\r\n\t\t    }\r\n\t\r\n\t\t    /**\r\n\t\t     * This method checks if the current character is of type ClosedBrackets\r\n\t\t     * @param name\r\n\t\t     * @return true if the current character is of type ClosedBrackets, false otherwise\r\n\t\t     */\r\n\t\t\tpublic static boolean contains(final char name) {\r\n\t\t        for (CloseBracketTypes type : CloseBracketTypes.values()) {\r\n\t\t            if (type.getBracket() == name) {\r\n\t\t                return true;\r\n\t\t            }\r\n\t\t        }\r\n\t\r\n\t\t        return false;\r\n\t\t    }\r\n\t\t}\r\n\t\r\n\t\t\r\n\t\t/**\r\n\t\t * This method check the syntax for brackets. There should always exist a\r\n\t\t * corresponding closing bracket for a open bracket of same type.\r\n\t\t * \r\n\t\t * It runs in O(N) time with O(N) worst case space complexity for the stack\r\n\t\t * @param sentence The string whose syntax is to be checked\r\n\t\t * @return         True if the syntax of the given string is correct, false otherwise\r\n\t\t */\r\n\t\tpublic static boolean matchBrackets(String sentence) {\r\n\t\t\tboolean bracketsMatched = true;\r\n\t\r\n\t\t\t// Check if sentence is null\r\n\t\t\tif (sentence == null) {\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Input cannot be null&quot;);\r\n\t\t\t}\r\n\t\r\n\t\t\t// Empty string has correct syntax\r\n\t\t\tif (sentence.isEmpty()) {\r\n\t\t\t\treturn bracketsMatched;\r\n\t\t\t} else {\r\n\t\t\t\tStack&lt;Character&gt; brackets = new Stack&lt;Character&gt;();\r\n\t\t\t\tchar[] letters = sentence.toCharArray();\r\n\t\r\n\t\t\t\tfor (char letter : letters) {\r\n\t\r\n\t\t\t\t\t// If the letter is a type of open bracket then push it \r\n\t\t\t\t\t// in stack else if the letter is a type of closing bracket \r\n\t\t\t\t\t// then pop it from the stack\r\n\t\t\t\t\tif (OpenBracketTypes.contains(letter)) {\r\n\t\t\t\t\t\tbrackets.push(letter);\r\n\t\t\t\t\t} else if (CloseBracketTypes.contains(letter)) {\r\n\t\t\t\t\t\tif (!CloseBracketTypes.isBracketMatching(letter, brackets)) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tbrackets.pop();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t// If the stack is not empty then the syntax is incorrect\r\n\t\t\t\tif (!brackets.isEmpty()) {\r\n\t\t\t\t\tbracketsMatched = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\treturn bracketsMatched;\r\n\t\t}\r\n\t\r\n\t\t/**\r\n\t\t * @param args\r\n\t\t */\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tString words = &quot;[[][][]Anfield[[]([])[]]becons()]&quot;;\r\n\t\t\tboolean isSyntaxCorrect = SyntaxChecker.matchBrackets(words);\r\n\t\r\n\t\t\tif (isSyntaxCorrect) {\r\n\t\t\t\tSystem.out.println(&quot;The syntax is correct&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Incorrect syntax&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nAny feedback on this is most welcome. Please criticize if you find something is wrong or useless. I am just trying to learn.","title":"How to check if a String is balanced?","body":"<pre><code>import java.util.Stack;\n\npublic class SyntaxChecker {\n\n    /**\n     * This enum represents all types of open brackets. If we have a new type then\n     * just add it to this list with the corresponding closed bracket in the other\n     * ClosedBracketTypes enum  \n     * @author AnishBivalkar\n     *\n     */\n    private enum OpenBracketTypes {\n        LEFT_ROUND_BRACKET('('),\n        LEFT_SQUARE_BRACKET('['),\n        LEFT_CURLY_BRACKET('{');\n\n        char ch;\n\n        // Constructs the given bracket type\n        OpenBracketTypes(char ch) {\n            this.ch = ch;\n        }\n\n        // Getter for the type of bracket\n        public final char getBracket() {\n            return ch;\n        }\n\n\n        /**\n         * This method checks if the current character is of type OpenBrackets\n         * @param name\n         * @return True if the current character is of type OpenBrackets, false otherwise\n         */\n        public static boolean contains(final char name) {\n            for (OpenBracketTypes type : OpenBracketTypes.values()) {\n                if (type.getBracket() == name) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    }\n\n    /**\n     * This enum represents all types of Closed brackets. If we have a new type then\n     * just add it to this list with the corresponding open bracket in the other\n     * OpenBracketTypes enum    \n     * @author AnishBivalkar\n     *\n     */\n    private enum CloseBracketTypes {\n        RIGHT_ROUND_BRACKET(')'),\n        RIGHT_SQUARE_BRACKET(']'),\n        RIGHT_CURLY_BRACKET('}');\n\n        char ch;\n        CloseBracketTypes(char ch) {\n            this.ch = ch;\n        }\n\n        private char getBracket() {\n            return ch;\n        }\n\n        /**\n         * This method checks if a given bracket type is a closing bracket and if it correctly\n         * completes the opening bracket\n         * @param bracket\n         * @param brackets\n         * @return\n         */\n        public static boolean isBracketMatching(char bracket, Stack&lt;Character&gt; brackets) {\n            // If the current stack is empty and we encountered a closing bracket then this is\n            // an incorrect syntax\n            if (brackets.isEmpty()) {\n                return false;\n            } else {\n                if (bracket == CloseBracketTypes.RIGHT_ROUND_BRACKET.getBracket()) {\n                    if (brackets.peek() == OpenBracketTypes.LEFT_ROUND_BRACKET.getBracket()) {\n                        return true;\n                    }\n                } else if (bracket == CloseBracketTypes.RIGHT_SQUARE_BRACKET.ch) {\n                    if (brackets.peek() == OpenBracketTypes.LEFT_SQUARE_BRACKET.getBracket()) {\n                        return true;\n                    }\n                } else if (bracket == CloseBracketTypes.RIGHT_CURLY_BRACKET.ch) {\n                    if (brackets.peek() == OpenBracketTypes.LEFT_CURLY_BRACKET.getBracket()) {\n                        return true;\n                    }\n                }\n\n                return false;\n            }\n        }\n\n        /**\n         * This method checks if the current character is of type ClosedBrackets\n         * @param name\n         * @return true if the current character is of type ClosedBrackets, false otherwise\n         */\n        public static boolean contains(final char name) {\n            for (CloseBracketTypes type : CloseBracketTypes.values()) {\n                if (type.getBracket() == name) {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n    }\n\n\n    /**\n     * This method check the syntax for brackets. There should always exist a\n     * corresponding closing bracket for a open bracket of same type.\n     * \n     * It runs in O(N) time with O(N) worst case space complexity for the stack\n     * @param sentence The string whose syntax is to be checked\n     * @return         True if the syntax of the given string is correct, false otherwise\n     */\n    public static boolean matchBrackets(String sentence) {\n        boolean bracketsMatched = true;\n\n        // Check if sentence is null\n        if (sentence == null) {\n            throw new IllegalArgumentException(\"Input cannot be null\");\n        }\n\n        // Empty string has correct syntax\n        if (sentence.isEmpty()) {\n            return bracketsMatched;\n        } else {\n            Stack&lt;Character&gt; brackets = new Stack&lt;Character&gt;();\n            char[] letters = sentence.toCharArray();\n\n            for (char letter : letters) {\n\n                // If the letter is a type of open bracket then push it \n                // in stack else if the letter is a type of closing bracket \n                // then pop it from the stack\n                if (OpenBracketTypes.contains(letter)) {\n                    brackets.push(letter);\n                } else if (CloseBracketTypes.contains(letter)) {\n                    if (!CloseBracketTypes.isBracketMatching(letter, brackets)) {\n                        return false;\n                    } else {\n                        brackets.pop();\n                    }\n                }\n            }\n\n            // If the stack is not empty then the syntax is incorrect\n            if (!brackets.isEmpty()) {\n                bracketsMatched = false;\n            }\n        }\n\n        return bracketsMatched;\n    }\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        String words = \"[[][][]Anfield[[]([])[]]becons()]\";\n        boolean isSyntaxCorrect = SyntaxChecker.matchBrackets(words);\n\n        if (isSyntaxCorrect) {\n            System.out.println(\"The syntax is correct\");\n        } else {\n            System.out.println(\"Incorrect syntax\");\n        }\n    }\n}\n</code></pre>\n\n<p>Any feedback on this is most welcome. Please criticize if you find something is wrong or useless. I am just trying to learn.</p>\n"},{"tags":[],"owner":{"account_id":9006837,"reputation":1,"user_id":6713187,"display_name":"Pankaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471112018,"creation_date":1471111876,"answer_id":38935604,"question_id":14930073,"body_markdown":"    import java.util.*;\r\n    public class Parenthesis\r\n    {\r\n    \tpublic static void main (String ...argd)\r\n    \t{\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;enetr string&quot;);\r\n    \t\tString s=sc.nextLine();\r\n    \t\tStack&lt;Character&gt; st=new Stack&lt;Character&gt;();  \r\n    \t\tfor (int i=0;i&lt;s.length();++i)\r\n    \t\t{\r\n    \t\t\tif((s.charAt(i)==&#39;(&#39;)||(s.charAt(i)==&#39;{&#39;)||(s.charAt(i)==&#39;[&#39;))\r\n    \t\t\t{\r\n    \t\t\t\tst.push(s.charAt(i));\r\n    \t\t\t}\r\n    \t\t\telse if(st.isEmpty()==false)\r\n    \t\t\t{\t\r\n    \t\t\tswitch(s.charAt(i))\r\n    \t\t\t{\r\n    \t\t\tcase&#39;]&#39;:\r\n    \t\t\t\tif(st.pop()!=&#39;[&#39;)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(&quot;unbalanced&quot;);\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase&#39;}&#39;:\r\n    \t\t\t\tif(st.pop()!=&#39;{&#39;)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(&quot;unbalanced&quot;);\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase&#39;)&#39;:\r\n    \t\t\t\tif(st.pop()!=&#39;(&#39;)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.println(&quot;unbalanced&quot;);\r\n    \t\t\t\t\tSystem.exit(0);\r\n    \t\t\t\t}\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t}\t\t\t\r\n    \t\tif(st.isEmpty())\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;balanced paranthesis&quot;);\r\n    \t\t}\r\n    \t\telse \r\n    \t\t\tSystem.out.println(&quot;not balance&quot;);\r\n    \t}\t\r\n    }\r\n\r\n","title":"How to check if a String is balanced?","body":"<pre><code>import java.util.*;\npublic class Parenthesis\n{\n    public static void main (String ...argd)\n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(\"enetr string\");\n        String s=sc.nextLine();\n        Stack&lt;Character&gt; st=new Stack&lt;Character&gt;();  \n        for (int i=0;i&lt;s.length();++i)\n        {\n            if((s.charAt(i)=='(')||(s.charAt(i)=='{')||(s.charAt(i)=='['))\n            {\n                st.push(s.charAt(i));\n            }\n            else if(st.isEmpty()==false)\n            {   \n            switch(s.charAt(i))\n            {\n            case']':\n                if(st.pop()!='[')\n                {\n                    System.out.println(\"unbalanced\");\n                    System.exit(0);\n                }\n                break;\n            case'}':\n                if(st.pop()!='{')\n                {\n                    System.out.println(\"unbalanced\");\n                    System.exit(0);\n                }\n                break;\n            case')':\n                if(st.pop()!='(')\n                {\n                    System.out.println(\"unbalanced\");\n                    System.exit(0);\n                }\n                break;\n            }\n            }\n        }           \n        if(st.isEmpty())\n        {\n            System.out.println(\"balanced paranthesis\");\n        }\n        else \n            System.out.println(\"not balance\");\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":403920,"reputation":174,"user_id":771951,"display_name":"marcello"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559943517,"creation_date":1559943517,"answer_id":56501490,"question_id":14930073,"body_markdown":"I wrote this code to solve this problem using only an integer (or maybe a byte) variable per bracket type.\r\n\r\n\r\n    public boolean checkWithIntegers(String input) {\r\n\r\n        int brackets = 0;\r\n        \r\n        for (char c: input.toCharArray()) {\r\n        \r\n            switch (c) {\r\n                \r\n                case &#39;(&#39;:\r\n                    \r\n                    brackets++;\r\n                    \r\n                    break;\r\n                    \r\n                case &#39;)&#39;:\r\n                    \r\n                    if (brackets == 0)\r\n                        return false;\r\n\r\n                    brackets--;\r\n                    \r\n                    break;\r\n                    \r\n                default:\r\n                    \r\n                    break;\r\n            }\r\n        }\r\n        \r\n        \r\n        return brackets == 0;\r\n    }\r\n    \r\n    public static void main(String... args) {\r\n    \r\n        Borrar b = new Borrar();\r\n        System.out.println( b.checkWithIntegers(&quot;&quot;) );\r\n        System.out.println( b.checkWithIntegers(&quot;(&quot;) );\r\n        System.out.println( b.checkWithIntegers(&quot;)&quot;) );\r\n        System.out.println( b.checkWithIntegers(&quot;)(&quot;) );\r\n        System.out.println( b.checkWithIntegers(&quot;()&quot;) );\r\n        \r\n    }\r\n    \r\nOBS\r\n\r\n 1. I&#39;m assuming that an empty string is balanced. That can be changed with just a previous check.\r\n 2. I&#39;m using only one type of bracket example, but other types can be added quickly just adding another case switch.\r\n\r\nHope this help.\r\nCheers!","title":"How to check if a String is balanced?","body":"<p>I wrote this code to solve this problem using only an integer (or maybe a byte) variable per bracket type.</p>\n\n<pre><code>public boolean checkWithIntegers(String input) {\n\n    int brackets = 0;\n\n    for (char c: input.toCharArray()) {\n\n        switch (c) {\n\n            case '(':\n\n                brackets++;\n\n                break;\n\n            case ')':\n\n                if (brackets == 0)\n                    return false;\n\n                brackets--;\n\n                break;\n\n            default:\n\n                break;\n        }\n    }\n\n\n    return brackets == 0;\n}\n\npublic static void main(String... args) {\n\n    Borrar b = new Borrar();\n    System.out.println( b.checkWithIntegers(\"\") );\n    System.out.println( b.checkWithIntegers(\"(\") );\n    System.out.println( b.checkWithIntegers(\")\") );\n    System.out.println( b.checkWithIntegers(\")(\") );\n    System.out.println( b.checkWithIntegers(\"()\") );\n\n}\n</code></pre>\n\n<p>OBS</p>\n\n<ol>\n<li>I'm assuming that an empty string is balanced. That can be changed with just a previous check.</li>\n<li>I'm using only one type of bracket example, but other types can be added quickly just adding another case switch.</li>\n</ol>\n\n<p>Hope this help.\nCheers!</p>\n"},{"tags":[],"owner":{"account_id":14352232,"reputation":1,"user_id":10367321,"display_name":"Coder93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571298212,"creation_date":1571298212,"answer_id":58427410,"question_id":14930073,"body_markdown":"corresponding Hackrrank link: https://www.hackerrank.com/challenges/balanced-brackets/problem\r\n\r\n    import java.util.Stack;\r\n    \r\n    class BalancedParenthesis {\r\n        static String isBalanced(String s) {\r\n            return isBalanced(s.toCharArray());\r\n        }\r\n    \r\n        private static String isBalanced(final char[] chars) {\r\n            final Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\r\n            for (char eachChar : chars) {\r\n                if (eachChar == &#39;{&#39; || eachChar == &#39;[&#39; || eachChar == &#39;(&#39;) {\r\n                    stack.push(eachChar);\r\n                } else {\r\n                    if (stack.isEmpty()) {\r\n                        return &quot;NO&quot;;\r\n                    }\r\n                    if (correspondingCloseBracket(stack.peek()) != eachChar) {\r\n                        return &quot;NO&quot;;\r\n                    }\r\n                    stack.pop();\r\n                }\r\n            }\r\n            return stack.isEmpty() ? &quot;YES&quot; : &quot;NO&quot;;\r\n        }\r\n    \r\n        private static char correspondingCloseBracket(final char eachChar) {\r\n            if (eachChar == &#39;{&#39;) {\r\n                return &#39;}&#39;;\r\n            }\r\n            if (eachChar == &#39;[&#39;) {\r\n                return &#39;]&#39;;\r\n            }\r\n            return &#39;)&#39;;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to check if a String is balanced?","body":"<p>corresponding Hackrrank link: <a href=\"https://www.hackerrank.com/challenges/balanced-brackets/problem\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/balanced-brackets/problem</a></p>\n\n<pre><code>import java.util.Stack;\n\nclass BalancedParenthesis {\n    static String isBalanced(String s) {\n        return isBalanced(s.toCharArray());\n    }\n\n    private static String isBalanced(final char[] chars) {\n        final Stack&lt;Character&gt; stack = new Stack&lt;&gt;();\n        for (char eachChar : chars) {\n            if (eachChar == '{' || eachChar == '[' || eachChar == '(') {\n                stack.push(eachChar);\n            } else {\n                if (stack.isEmpty()) {\n                    return \"NO\";\n                }\n                if (correspondingCloseBracket(stack.peek()) != eachChar) {\n                    return \"NO\";\n                }\n                stack.pop();\n            }\n        }\n        return stack.isEmpty() ? \"YES\" : \"NO\";\n    }\n\n    private static char correspondingCloseBracket(final char eachChar) {\n        if (eachChar == '{') {\n            return '}';\n        }\n        if (eachChar == '[') {\n            return ']';\n        }\n        return ')';\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2422021,"reputation":2923,"user_id":2114786,"accept_rate":43,"display_name":"O.Badr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630852324,"creation_date":1630852324,"answer_id":69064310,"question_id":14930073,"body_markdown":"I assume that `null` or `empty` value is a balanced string, I used a `Map` to track each opening/closing brackets:\r\n\r\n  \r\n\r\n    static boolean isBalanced(String value) {\r\n        if (value == null || value.isBlank()) {\r\n          return true;\r\n        }\r\n    \r\n        if (value.length() % 2 != 0) {\r\n          return false;\r\n        }\r\n    \r\n        Map&lt;Character, Character&gt; bracketMirrors = Map.of(&#39;(&#39;, &#39;)&#39;,\r\n          &#39;{&#39;, &#39;}&#39;,\r\n          &#39;[&#39;, &#39;]&#39;);\r\n    \r\n        Deque&lt;Character&gt; characters = new ArrayDeque&lt;&gt;();\r\n    \r\n        for (char c : value.toCharArray()) {\r\n          if (bracketMirrors.containsValue(c)) {\r\n            if (characters.isEmpty() || c != bracketMirrors.get(characters.pop())) {\r\n              return false;\r\n            }\r\n          } else {\r\n            characters.push(c);\r\n          }\r\n        }\r\n    \r\n        return characters.isEmpty();\r\n      }","title":"How to check if a String is balanced?","body":"<p>I assume that <code>null</code> or <code>empty</code> value is a balanced string, I used a <code>Map</code> to track each opening/closing brackets:</p>\n<pre><code>static boolean isBalanced(String value) {\n    if (value == null || value.isBlank()) {\n      return true;\n    }\n\n    if (value.length() % 2 != 0) {\n      return false;\n    }\n\n    Map&lt;Character, Character&gt; bracketMirrors = Map.of('(', ')',\n      '{', '}',\n      '[', ']');\n\n    Deque&lt;Character&gt; characters = new ArrayDeque&lt;&gt;();\n\n    for (char c : value.toCharArray()) {\n      if (bracketMirrors.containsValue(c)) {\n        if (characters.isEmpty() || c != bracketMirrors.get(characters.pop())) {\n          return false;\n        }\n      } else {\n        characters.push(c);\n      }\n    }\n\n    return characters.isEmpty();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23459648,"reputation":21,"user_id":17514662,"display_name":"Ar_666"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642246318,"creation_date":1642239500,"answer_id":70720315,"question_id":14930073,"body_markdown":"```python\r\ndef balance (string):\r\n\r\n    if ((len(string)%2)!=0):\r\n        return(&quot;Not Balanced&quot;)\r\n    else:\r\n        check_num=[]    \r\n        def check(num1,num2):\r\n            if ((num1==&#39;[&#39;and num2==&#39;]&#39;) or (num1==&#39;{&#39;and num2==&#39;}&#39;) or (num1==&#39;(&#39;and num2==&#39;)&#39;)) :\r\n                check_num.append(&#39;B&#39;)\r\n            else:\r\n                 check_num.append(&#39;N&#39;)\r\n\r\n        i=0        \r\n        while i &lt; (len(string)-1):\r\n            check(string[i],string[i+1])\r\n            i+=2\r\n\r\n        if &#39;N&#39; in check_num:\r\n             return(&quot;Not Balanced&quot;)\r\n        else:\r\n            return(&quot;Balanced&quot;)","title":"How to check if a String is balanced?","body":"<pre class=\"lang-py prettyprint-override\"><code>def balance (string):\n\n    if ((len(string)%2)!=0):\n        return(&quot;Not Balanced&quot;)\n    else:\n        check_num=[]    \n        def check(num1,num2):\n            if ((num1=='['and num2==']') or (num1=='{'and num2=='}') or (num1=='('and num2==')')) :\n                check_num.append('B')\n            else:\n                 check_num.append('N')\n\n        i=0        \n        while i &lt; (len(string)-1):\n            check(string[i],string[i+1])\n            i+=2\n\n        if 'N' in check_num:\n             return(&quot;Not Balanced&quot;)\n        else:\n            return(&quot;Balanced&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24440892,"reputation":1,"user_id":18364612,"display_name":"MadhuG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646323831,"creation_date":1646314393,"answer_id":71338080,"question_id":14930073,"body_markdown":"    public class IsBalanced {\r\n\r\n\tstatic Boolean isBalanced(String expStr) {\r\n\t\tBoolean balanced = false;\r\n\r\n\t\tint openedBraces = 0;\r\n\t\tint closeddBraces = 0;\r\n\t\tfor (int i = 0; i &lt; expStr.length(); i++) {\r\n\t\t\tif (expStr.charAt(i) == &#39;{&#39; || expStr.charAt(i) == &#39;(&#39; || expStr.charAt(i) == &#39;[&#39;) {\r\n\t\t\t\tfor (int j = i + 1; j &lt; expStr.length(); j++) {\r\n\t\t\t\t\tif (expStr.charAt(i) == &#39;{&#39;) {\r\n\t\t\t\t\t\tif (expStr.charAt(j) == &#39;}&#39;) {\r\n\t\t\t\t\t\t\tcloseddBraces++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (expStr.charAt(i) == &#39;(&#39;) {\r\n\t\t\t\t\t\tif (expStr.charAt(j) == &#39;)&#39;) {\r\n\t\t\t\t\t\t\tcloseddBraces++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (expStr.charAt(i) == &#39;[&#39;) {\r\n\t\t\t\t\t\tif (expStr.charAt(j) == &#39;]&#39;) {\r\n\t\t\t\t\t\t\tcloseddBraces++;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\topenedBraces++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;openedBraces : &quot; + openedBraces + &quot; , closeddBraces : &quot; + closeddBraces);\r\n\t\tif (openedBraces == closeddBraces) {\r\n\t\t\tbalanced = true;\r\n\t\t}\r\n\t\treturn balanced;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tString str = &quot;{[()]}[[]](&quot;;\r\n\t\tif (isBalanced(str))\r\n\t\t\tSystem.out.println(&quot;Balanced&quot;);\r\n\t\telse\r\n\t\t\tSystem.out.println(&quot;NotBalanced&quot;);\r\n\t}\r\n\r\n    }","title":"How to check if a String is balanced?","body":"<pre><code>public class IsBalanced {\n\nstatic Boolean isBalanced(String expStr) {\n    Boolean balanced = false;\n\n    int openedBraces = 0;\n    int closeddBraces = 0;\n    for (int i = 0; i &lt; expStr.length(); i++) {\n        if (expStr.charAt(i) == '{' || expStr.charAt(i) == '(' || expStr.charAt(i) == '[') {\n            for (int j = i + 1; j &lt; expStr.length(); j++) {\n                if (expStr.charAt(i) == '{') {\n                    if (expStr.charAt(j) == '}') {\n                        closeddBraces++;\n                        break;\n                    }\n                } else if (expStr.charAt(i) == '(') {\n                    if (expStr.charAt(j) == ')') {\n                        closeddBraces++;\n                        break;\n                    }\n                } else if (expStr.charAt(i) == '[') {\n                    if (expStr.charAt(j) == ']') {\n                        closeddBraces++;\n                        break;\n                    }\n                }\n            }\n            openedBraces++;\n        }\n    }\n    System.out.println(&quot;openedBraces : &quot; + openedBraces + &quot; , closeddBraces : &quot; + closeddBraces);\n    if (openedBraces == closeddBraces) {\n        balanced = true;\n    }\n    return balanced;\n}\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    String str = &quot;{[()]}[[]](&quot;;\n    if (isBalanced(str))\n        System.out.println(&quot;Balanced&quot;);\n    else\n        System.out.println(&quot;NotBalanced&quot;);\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":2379815,"reputation":818,"user_id":2082068,"accept_rate":80,"display_name":"Mike John"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53035,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":14930123,"answer_count":11,"score":12,"last_activity_date":1675920247,"creation_date":1361165374,"question_id":14930073,"body_markdown":"I want to test if an input String is balanced. It would be balanced if there is a matching opening and closing parenthesis, bracket or brace.\r\n\r\n    example:\r\n    {} balanced\r\n    () balanced\r\n    [] balanced\r\n    If S is balanced so is (S)\r\n    If S and T are balanced so is ST\r\n\r\n\r\n\tpublic static boolean isBalanced(String in)\r\n\t{\r\n\t\tStack st = new Stack();\r\n\r\n\t\tfor(char chr : in.toCharArray())\r\n\t\t{\r\n\t\t\tif(chr == &#39;{&#39;)\r\n\t\t\t\tst.push(chr);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\r\nI&#39;m having problems choosing what to do. Should I put every opening or closing parenthesis, bracket, or brace in a stack then pop them out? If I pop them out, how does that really help me?\r\n","title":"How to check if a String is balanced?","body":"<p>I want to test if an input String is balanced. It would be balanced if there is a matching opening and closing parenthesis, bracket or brace.</p>\n\n<pre><code>example:\n{} balanced\n() balanced\n[] balanced\nIf S is balanced so is (S)\nIf S and T are balanced so is ST\n\n\npublic static boolean isBalanced(String in)\n{\n    Stack st = new Stack();\n\n    for(char chr : in.toCharArray())\n    {\n        if(chr == '{')\n            st.push(chr);\n\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>I'm having problems choosing what to do. Should I put every opening or closing parenthesis, bracket, or brace in a stack then pop them out? If I pop them out, how does that really help me?</p>\n"},{"tags":["java","java-stream","protobuf-java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1675905413,"post_id":75392991,"comment_id":133030586,"body_markdown":"Note that nothing is going to perform better than your loops, it&#39;s just that you *might* be able to write something that looks simpler.","body":"Note that nothing is going to perform better than your loops, it&#39;s just that you <i>might</i> be able to write something that looks simpler."}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675902478,"creation_date":1675902478,"answer_id":75393042,"question_id":75392991,"body_markdown":"It&#39;s a bit unclear from your code why you are adding the lists back to the objects once you do the update. As far as I can see you are updating the c objects in place (i.e. they are mutable) so it&#39;s not clear why they need to be re-added to the A and B objects.\r\n\r\nAssuming that&#39;s a mistake, you could just flatten out the hierarchy and then do the updates:\r\n\r\n    getObjectBList().stream().flatMap(ObjectB::getObjectCList)\r\n        .filter(c -&gt; c.getCustomerId() == 123)\r\n        .forEach(c -&gt; c.setCustomerStatus(&quot;updated&quot;));\r\n\r\nIf there&#39;s a reason to create a new list then that can be achieved as well but how to do it best depends on why you want to do that.","title":"Java stream - Performant way to update hierarchical object","body":"<p>It's a bit unclear from your code why you are adding the lists back to the objects once you do the update. As far as I can see you are updating the c objects in place (i.e. they are mutable) so it's not clear why they need to be re-added to the A and B objects.</p>\n<p>Assuming that's a mistake, you could just flatten out the hierarchy and then do the updates:</p>\n<pre><code>getObjectBList().stream().flatMap(ObjectB::getObjectCList)\n    .filter(c -&gt; c.getCustomerId() == 123)\n    .forEach(c -&gt; c.setCustomerStatus(&quot;updated&quot;));\n</code></pre>\n<p>If there's a reason to create a new list then that can be achieved as well but how to do it best depends on why you want to do that.</p>\n"},{"tags":[],"owner":{"account_id":13359761,"reputation":391,"user_id":10079966,"display_name":"Vml11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675902794,"creation_date":1675902794,"answer_id":75393060,"question_id":75392991,"body_markdown":"This is another option if you don&#39;t want to flat it\r\n```\r\n// Say you have objA reference\r\n\r\nobjA.getObjectBList().forEach(objBList -&gt; objBList.getObjectCList().\r\nstream().filter(objCList-&gt; objCList.getCustomerId() == 123)\r\n.forEach(c -&gt; c.setCustomerStatus(&quot;updated&quot;));\r\n","title":"Java stream - Performant way to update hierarchical object","body":"<p>This is another option if you don't want to flat it</p>\n<pre><code>// Say you have objA reference\n\nobjA.getObjectBList().forEach(objBList -&gt; objBList.getObjectCList().\nstream().filter(objCList-&gt; objCList.getCustomerId() == 123)\n.forEach(c -&gt; c.setCustomerStatus(&quot;updated&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16001900,"reputation":328,"user_id":11548316,"display_name":"Preston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675920068,"creation_date":1675919555,"answer_id":75394463,"question_id":75392991,"body_markdown":"If all objects are immutable, you can try following solution.\r\n```java\r\n    record C(int customerId, String customerStatus){}\r\n    record B(List&lt;C&gt; getObjectCList){}\r\n    record A(List&lt;B&gt; getObjectBList){}\r\n\r\n    public static void main(String[] args){\r\n        var objectA = new A(new ArrayList&lt;&gt;());\r\n        var newObjectBList = objectA.getObjectBList().stream().map(objectB -&gt; {\r\n            var newObjectCList = objectB.getObjectCList().stream().map(objectC -&gt; {\r\n                return objectC.customerId == 123 ? new C(objectC.customerId, &quot;UpdatedStatus&quot;) : objectC;\r\n            }).toList();\r\n            return new B(newObjectCList);\r\n        }).toList();\r\n\r\n        var newObjectA = new A(newObjectBList);\r\n    }\r\n```\r\nActually, this is a functional programming style.","title":"Java stream - Performant way to update hierarchical object","body":"<p>If all objects are immutable, you can try following solution.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    record C(int customerId, String customerStatus){}\n    record B(List&lt;C&gt; getObjectCList){}\n    record A(List&lt;B&gt; getObjectBList){}\n\n    public static void main(String[] args){\n        var objectA = new A(new ArrayList&lt;&gt;());\n        var newObjectBList = objectA.getObjectBList().stream().map(objectB -&gt; {\n            var newObjectCList = objectB.getObjectCList().stream().map(objectC -&gt; {\n                return objectC.customerId == 123 ? new C(objectC.customerId, &quot;UpdatedStatus&quot;) : objectC;\n            }).toList();\n            return new B(newObjectCList);\n        }).toList();\n\n        var newObjectA = new A(newObjectBList);\n    }\n</code></pre>\n<p>Actually, this is a functional programming style.</p>\n"}],"owner":{"account_id":4860187,"reputation":333,"user_id":3920066,"accept_rate":57,"display_name":"Sauchin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675920068,"creation_date":1675901846,"question_id":75392991,"body_markdown":"I need to update an internal object matching criteria. This internal object is deep inside a large object with a hierarchy. The object is something like\r\n\r\n    ObjectA {\r\n      List ObjectB {\r\n        List Object C{ \r\n          int customerId;\r\n          String customerStatus;\r\n        }\r\n      }\r\n    }\r\n\r\nI need to update &quot;customerStatus&quot; only if customerId is matched to &quot;123&quot;.\r\n\r\nThis entire objectA is stored in the database as a single object (in the real world, this is a protobuf object. Therefore this object is not updated in place)\r\n\r\nThe non-stream way involves a bunch of loops \r\n\r\n    List&lt;ObjectB&gt; objectBList = objectA.getObjectBList();\r\n    List&lt;ObjectB&gt; updatedObjectBList = new ArrayList&lt;&gt;();\r\n\r\n    for(objectB: objectBList) {\r\n       List&lt;ObjectC&gt; objectCList = objectB.getObjectCList();\r\n       \r\n       List&lt;ObjectC&gt; updatedObjectCList = new ArrayList&lt;&gt;();\r\n       for(objectC: objectCList) {\r\n          if(objectC.getCustomerId() == 123) {\r\n             objectC = createNewObjectCwithUpdatedStatus(&quot;UpdatedStatus&quot;);\r\n          }\r\n\r\n         updatedObjectCList.add(objectC);\r\n       }\r\n\r\n       updatedObjectBList.addObjectCList(updatedObjectCList);  \r\n    }\r\n\r\n    updatedObjectA.addObjectBList(updatedObjectBList);\r\n\r\n    writeUpdateObjectA_to_storage(updatedObjectA);\r\n\r\nIs there a way to write this multiple IF condition using streams option?\r\n","title":"Java stream - Performant way to update hierarchical object","body":"<p>I need to update an internal object matching criteria. This internal object is deep inside a large object with a hierarchy. The object is something like</p>\n<pre><code>ObjectA {\n  List ObjectB {\n    List Object C{ \n      int customerId;\n      String customerStatus;\n    }\n  }\n}\n</code></pre>\n<p>I need to update &quot;customerStatus&quot; only if customerId is matched to &quot;123&quot;.</p>\n<p>This entire objectA is stored in the database as a single object (in the real world, this is a protobuf object. Therefore this object is not updated in place)</p>\n<p>The non-stream way involves a bunch of loops</p>\n<pre><code>List&lt;ObjectB&gt; objectBList = objectA.getObjectBList();\nList&lt;ObjectB&gt; updatedObjectBList = new ArrayList&lt;&gt;();\n\nfor(objectB: objectBList) {\n   List&lt;ObjectC&gt; objectCList = objectB.getObjectCList();\n   \n   List&lt;ObjectC&gt; updatedObjectCList = new ArrayList&lt;&gt;();\n   for(objectC: objectCList) {\n      if(objectC.getCustomerId() == 123) {\n         objectC = createNewObjectCwithUpdatedStatus(&quot;UpdatedStatus&quot;);\n      }\n\n     updatedObjectCList.add(objectC);\n   }\n\n   updatedObjectBList.addObjectCList(updatedObjectCList);  \n}\n\nupdatedObjectA.addObjectBList(updatedObjectBList);\n\nwriteUpdateObjectA_to_storage(updatedObjectA);\n</code></pre>\n<p>Is there a way to write this multiple IF condition using streams option?</p>\n"},{"tags":["python","java","algorithm","dictionary","data-structures"],"answers":[{"tags":[],"owner":{"account_id":8578263,"reputation":197,"user_id":6426884,"display_name":"Pedro Cavalheiro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675919854,"creation_date":1675900290,"answer_id":75392865,"question_id":75392754,"body_markdown":"&gt; What are the benefits in space and time complexity in building graphs using node objects versus dictionaries\r\n\r\nIn terms of space, the complexity is the same for both. But in terms of time, each has its&#39; own advantages.\r\n\r\nAs you said, if you need to query for a specific node, the dictionary is better, with an O(1) query. But if you need to add nodes, the graph version has only O(1) time complexity, while the dictionary has an amortized O(1) time complexity, becoming O(n) when an expansion is needed.\r\n\r\nOverall, think of the comparison as an ArrayList vs LinkedList, since the principles are the same.\r\n\r\nFinally, if you do opt to use the dictionary version and you predict you won&#39;t have a small number of adjecant nodes, you can store edges in a set instead of an array, since they&#39;re most likely not ordered and querying a node for the existance of an adjecant node becomes an O(1) operation instead of O(n). The same applies to the nodes version, using a set instead of a linked list. Just make sure the extra overhead of the insertions makes it worthwhile.\r\n\r\n&gt; My immediate intuition says that using objects would allow you make something much more complex (like each node representing a server, with an IP, mac address, cache, etc) while a dictionary is probably only useful for studying the structure of the graph. Is this correct?\r\n\r\nNo. With the dictionary, you can either have a separate dictionary that associates with node (key) to its&#39; value, or if the value is small enough, like an IPv4, and it&#39;s unique, you can just use it as a key.","title":"Pros/cons of defining a graph as nested node objects versus a dictionary?","body":"<blockquote>\n<p>What are the benefits in space and time complexity in building graphs using node objects versus dictionaries</p>\n</blockquote>\n<p>In terms of space, the complexity is the same for both. But in terms of time, each has its' own advantages.</p>\n<p>As you said, if you need to query for a specific node, the dictionary is better, with an O(1) query. But if you need to add nodes, the graph version has only O(1) time complexity, while the dictionary has an amortized O(1) time complexity, becoming O(n) when an expansion is needed.</p>\n<p>Overall, think of the comparison as an ArrayList vs LinkedList, since the principles are the same.</p>\n<p>Finally, if you do opt to use the dictionary version and you predict you won't have a small number of adjecant nodes, you can store edges in a set instead of an array, since they're most likely not ordered and querying a node for the existance of an adjecant node becomes an O(1) operation instead of O(n). The same applies to the nodes version, using a set instead of a linked list. Just make sure the extra overhead of the insertions makes it worthwhile.</p>\n<blockquote>\n<p>My immediate intuition says that using objects would allow you make something much more complex (like each node representing a server, with an IP, mac address, cache, etc) while a dictionary is probably only useful for studying the structure of the graph. Is this correct?</p>\n</blockquote>\n<p>No. With the dictionary, you can either have a separate dictionary that associates with node (key) to its' value, or if the value is small enough, like an IPv4, and it's unique, you can just use it as a key.</p>\n"}],"owner":{"account_id":25353730,"reputation":65,"user_id":19170200,"display_name":"ring0-collections"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75392865,"answer_count":1,"score":2,"last_activity_date":1675919854,"creation_date":1675899147,"question_id":75392754,"body_markdown":"I am practicing a couple algorithms (DFS, BFS). To set up the practice examples, I need to make a graph with vertices and edges. I have seen two approaches - defining an array of vertices and an array of edges, and then combining them into a &quot;graph&quot; using a dictionary, like so:\r\n\r\n    graph = {&#39;A&#39;: [&#39;B&#39;, &#39;E&#39;, &#39;C&#39;],\r\n            &#39;B&#39;: [&#39;A&#39;, &#39;D&#39;, &#39;E&#39;],\r\n            &#39;C&#39;: [&#39;A&#39;, &#39;F&#39;, &#39;G&#39;],\r\n            &#39;D&#39;: [&#39;B&#39;, &#39;E&#39;],\r\n            &#39;E&#39;: [&#39;A&#39;, &#39;B&#39;, &#39;D&#39;],\r\n            &#39;F&#39;: [&#39;C&#39;],\r\n            &#39;G&#39;: [&#39;C&#39;]}\r\n\r\nBut in a video series made by the author of &quot;cracking the coding interview&quot;, their approach was to define a &quot;node&quot; object, which holds an ID, and a list of adjacent/child nodes (in Java):\r\n\r\n    public static class Node {\r\n    private int id;\r\n    LinkedList&lt;Node&gt; adjacent = new LinkedList&lt;Node&gt;(); // nodes children\r\n    private Node(int id) {\r\n        this.id = id; //set nodes ID\r\n        }\r\n    }\r\n\r\nThe pitfall I see of using the latter method, is making a custom function to add edges, as well has lacking an immediate overview of the structure of the entire graph; To make edges, you have to first retrieve the node object associated with the ID by first traversing to it or using a hashmap, and then by using its reference, adding the destination node to that source node:\r\n\r\n    private Node getNode(int id) {} //method to retrieve node from hashmap\r\n    public void addEdge(int source, int destination) {\r\n\t    Node s = getNode(source);\r\n\t    Node d = getNode(destination);\r\n\t    s.adjacent.add(d);  \r\n    }\r\n\r\n While in comparison using a simple dictionary, it is trivial to add new edges: \r\n\r\n    graph[&#39;A&#39;].append(&#39;D&#39;)\r\n\r\n\r\nBy using a node object, adding a new connection to every child of a node is more verbose (imagine the Node class as a Python class which takes an ID and list of node-object children):\r\n\r\n    node1 = Node(&#39;A&#39;, [])\r\n    node2 = Node(&#39;B&#39;, [node1])\r\n    node3 = Node(&#39;C&#39;, [node1, node2])\r\n\r\n    new_node = Node(&#39;F&#39;, [])\r\n\r\n    for node in node3.adjacent:\r\n        node.adjacent.append(new_node) # adds &#39;F&#39; node to every child node of &#39;C&#39;\r\n\r\n\r\nwhile using dictionaries, if I want to add new_node to every connection/child of node3:\r\n\r\n    for node in graph[&#39;C&#39;]:\r\n        graph[node].append(&#39;F&#39;)\r\n\r\n\r\nWhat are the benefits in space and time complexity in building graphs using node objects versus dictionaries? Why would the author use node objects instead of a dictionary? My immediate intuition says that using objects would allow you make something much more complex (like each node representing a server, with an IP, mac address, cache, etc) while a dictionary is probably only useful for studying the structure of the graph. Is this correct?","title":"Pros/cons of defining a graph as nested node objects versus a dictionary?","body":"<p>I am practicing a couple algorithms (DFS, BFS). To set up the practice examples, I need to make a graph with vertices and edges. I have seen two approaches - defining an array of vertices and an array of edges, and then combining them into a &quot;graph&quot; using a dictionary, like so:</p>\n<pre><code>graph = {'A': ['B', 'E', 'C'],\n        'B': ['A', 'D', 'E'],\n        'C': ['A', 'F', 'G'],\n        'D': ['B', 'E'],\n        'E': ['A', 'B', 'D'],\n        'F': ['C'],\n        'G': ['C']}\n</code></pre>\n<p>But in a video series made by the author of &quot;cracking the coding interview&quot;, their approach was to define a &quot;node&quot; object, which holds an ID, and a list of adjacent/child nodes (in Java):</p>\n<pre><code>public static class Node {\nprivate int id;\nLinkedList&lt;Node&gt; adjacent = new LinkedList&lt;Node&gt;(); // nodes children\nprivate Node(int id) {\n    this.id = id; //set nodes ID\n    }\n}\n</code></pre>\n<p>The pitfall I see of using the latter method, is making a custom function to add edges, as well has lacking an immediate overview of the structure of the entire graph; To make edges, you have to first retrieve the node object associated with the ID by first traversing to it or using a hashmap, and then by using its reference, adding the destination node to that source node:</p>\n<pre><code>private Node getNode(int id) {} //method to retrieve node from hashmap\npublic void addEdge(int source, int destination) {\n    Node s = getNode(source);\n    Node d = getNode(destination);\n    s.adjacent.add(d);  \n}\n</code></pre>\n<p>While in comparison using a simple dictionary, it is trivial to add new edges:</p>\n<pre><code>graph['A'].append('D')\n</code></pre>\n<p>By using a node object, adding a new connection to every child of a node is more verbose (imagine the Node class as a Python class which takes an ID and list of node-object children):</p>\n<pre><code>node1 = Node('A', [])\nnode2 = Node('B', [node1])\nnode3 = Node('C', [node1, node2])\n\nnew_node = Node('F', [])\n\nfor node in node3.adjacent:\n    node.adjacent.append(new_node) # adds 'F' node to every child node of 'C'\n</code></pre>\n<p>while using dictionaries, if I want to add new_node to every connection/child of node3:</p>\n<pre><code>for node in graph['C']:\n    graph[node].append('F')\n</code></pre>\n<p>What are the benefits in space and time complexity in building graphs using node objects versus dictionaries? Why would the author use node objects instead of a dictionary? My immediate intuition says that using objects would allow you make something much more complex (like each node representing a server, with an IP, mac address, cache, etc) while a dictionary is probably only useful for studying the structure of the graph. Is this correct?</p>\n"},{"tags":["java","linux","amazon-web-services","jenkins","installation"],"owner":{"account_id":19162179,"reputation":11,"user_id":13997722,"display_name":"Ramanand mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675918273,"creation_date":1675917021,"question_id":75394215,"body_markdown":"When i was installing jenkins in AWS instance with java (jdk 1.8.0) observe error\r\n&quot;`Job for jenkins.service failed because the control process exited with error code. See &quot;systemctl status jenkins.service&quot; and &quot;journalctl -xe&quot; for details.&quot;`\r\n\r\nwhen i execute status command we get below error\r\n\r\n`[ec2-user@ip-172-31-47-33 ~]$ sudo systemctl status  jenkins.service\r\n jenkins.service - Jenkins Continuous Integration Server\r\n   Loaded: loaded (/usr/lib/systemd/system/jenkins.service; enabled; vendor preset: disabled)\r\n   Active: failed (Result: start-limit) since Thu 2023-02-09 04:00:53 UTC; 37s ago\r\n  Process: 11898 ExecStart=/usr/bin/jenkins (code=exited, status=1/FAILURE)\r\n Main PID: 11898 (code=exited, status=1/FAILURE)\r\n\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service: main process exited, code=exite...URE\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Failed to start Jenkins Continuous Integration Server.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Unit jenkins.service entered failed state.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service failed.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service holdoff time over, scheduling restart.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Stopped Jenkins Continuous Integration Server.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: start request repeated too quickly for jenkins.service\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Failed to start Jenkins Continuous Integration Server.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Unit jenkins.service entered failed state.\r\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service failed.\r\nHint: Some lines were ellipsized, use -l to show in full.`\r\n\r\n\r\nTo resolve this error :\r\n\r\n\r\n**i follow below steps:\r\nremove previously installed java\r\n- sudo yum remove java*\r\ninstall java 11\r\n- sudo amazon-linux-extras install java-openjdk11**\r\n","title":"Error:Job for jenkins.service failed because the control process exited with error code. See &quot;systemctl status jenkins.service&quot; and &quot;journalctl -xe&quot;","body":"<p>When i was installing jenkins in AWS instance with java (jdk 1.8.0) observe error\n&quot;<code>Job for jenkins.service failed because the control process exited with error code. See &quot;systemctl status jenkins.service&quot; and &quot;journalctl -xe&quot; for details.&quot;</code></p>\n<p>when i execute status command we get below error</p>\n<p>`[ec2-user@ip-172-31-47-33 ~]$ sudo systemctl status  jenkins.service\n jenkins.service - Jenkins Continuous Integration Server\nLoaded: loaded (/usr/lib/systemd/system/jenkins.service; enabled; vendor preset: disabled)\nActive: failed (Result: start-limit) since Thu 2023-02-09 04:00:53 UTC; 37s ago\nProcess: 11898 ExecStart=/usr/bin/jenkins (code=exited, status=1/FAILURE)\nMain PID: 11898 (code=exited, status=1/FAILURE)</p>\n<p>Feb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service: main process exited, code=exite...URE\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Failed to start Jenkins Continuous Integration Server.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Unit jenkins.service entered failed state.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service failed.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service holdoff time over, scheduling restart.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Stopped Jenkins Continuous Integration Server.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: start request repeated too quickly for jenkins.service\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Failed to start Jenkins Continuous Integration Server.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: Unit jenkins.service entered failed state.\nFeb 09 04:00:53 ip-172-31-47-33.ap-south-1.compute.internal systemd[1]: jenkins.service failed.\nHint: Some lines were ellipsized, use -l to show in full.`</p>\n<p>To resolve this error :</p>\n<p>**i follow below steps:\nremove previously installed java</p>\n<ul>\n<li>sudo yum remove java*\ninstall java 11</li>\n<li>sudo amazon-linux-extras install java-openjdk11**</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675917540,"creation_date":1675917540,"answer_id":75394252,"question_id":75393135,"body_markdown":"The guide is incorrect. The correct task is `bootRun`:\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#running-your-application\r\n\r\n`./gradlew bootRun`\r\n\r\nThe `spring-boot:run` the guide specifies is for the Maven Spring Boot plugin: https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run","title":"Cannot locate tasks that match &#39;spring-boot:run&#39; as project &#39;spring-boot&#39; not found in root project &#39;demo&#39;","body":"<p>The guide is incorrect. The correct task is <code>bootRun</code>:</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#running-your-application\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/htmlsingle/#running-your-application</a></p>\n<p><code>./gradlew bootRun</code></p>\n<p>The <code>spring-boot:run</code> the guide specifies is for the Maven Spring Boot plugin: <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#run</a></p>\n"}],"owner":{"account_id":17356198,"reputation":7,"user_id":12573522,"display_name":"Curtis_L"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75394252,"answer_count":1,"score":0,"last_activity_date":1675918204,"creation_date":1675903579,"question_id":75393135,"body_markdown":"I am new to Java and Spring and am trying to run the demo program from [the Spring official quickstart tutorial][1]\r\n\r\nupon reaching the point where it tells me to enter `gradlew.bat spring-boot:run` into CMD, I get the error **Cannot locate tasks that match &#39;spring-boot:run&#39; as project &#39;spring-boot&#39; not found in root project &#39;demo&#39;.**\r\n\r\nI am using Java version 19.0.2 and Spring Boot version 3.0.2. \r\n\r\n  [1]: https://spring.io/quickstart","title":"Cannot locate tasks that match &#39;spring-boot:run&#39; as project &#39;spring-boot&#39; not found in root project &#39;demo&#39;","body":"<p>I am new to Java and Spring and am trying to run the demo program from <a href=\"https://spring.io/quickstart\" rel=\"nofollow noreferrer\">the Spring official quickstart tutorial</a></p>\n<p>upon reaching the point where it tells me to enter <code>gradlew.bat spring-boot:run</code> into CMD, I get the error <strong>Cannot locate tasks that match 'spring-boot:run' as project 'spring-boot' not found in root project 'demo'.</strong></p>\n<p>I am using Java version 19.0.2 and Spring Boot version 3.0.2.</p>\n"},{"tags":["java","android","dynamic"],"answers":[{"tags":[],"owner":{"account_id":27715198,"reputation":146,"user_id":21157064,"display_name":"m7s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675917966,"creation_date":1675917966,"answer_id":75394304,"question_id":75394205,"body_markdown":"you can replace include with fragment and keep replace fragment if subviews have different and complex logic if not or simple stuff you can use include and remove all views to remove old one and add a new view \r\n\r\n    ViewGroup parentLayout = findViewById(R.id.id1);\r\n    parentLayout.removeAllViews();\r\n    LayoutInflater inflater = LayoutInflater.from(this);\r\n    View newSublayout = inflater.inflate(R.layout.layoutB, parentLayout, false);\r\n    parentLayout.addView(newSublayout);","title":"How to dynamically change a sublayout which was assigned using &lt;include/&gt; view in android studio?","body":"<p>you can replace include with fragment and keep replace fragment if subviews have different and complex logic if not or simple stuff you can use include and remove all views to remove old one and add a new view</p>\n<pre><code>ViewGroup parentLayout = findViewById(R.id.id1);\nparentLayout.removeAllViews();\nLayoutInflater inflater = LayoutInflater.from(this);\nView newSublayout = inflater.inflate(R.layout.layoutB, parentLayout, false);\nparentLayout.addView(newSublayout);\n</code></pre>\n"}],"owner":{"account_id":19297775,"reputation":1,"user_id":14106387,"display_name":"Manish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675917966,"creation_date":1675916913,"question_id":75394205,"body_markdown":"I am using &lt; include /&gt; to show a sublayout (layoutA) inside a Main layout.\r\nhowever, what I want to do is to change the sublayout from layoutA to layoutB dynamically in Java.  Which means in &lt;include../&gt; the line layout=&quot;@layout/layoutA&quot; should change to layout=&quot;@layout/layoutB&quot;.I am not sure how to achieve this. Not sure if there is an option like view.setLayout() for &lt;include &gt;.\r\n\r\n     \r\n    &lt;LinearLayout\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n\r\n    &lt;other data/&gt;\r\n\r\n    &lt;include\r\n    android:id=&quot;@+id/id1&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    layout=&quot;@layout/layoutA&quot;\r\n    /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\nNote: I have about 7-8 sublayouts so I do not just want to create multiple &lt;include/&gt; and hide them. Which could be an option. \r\n           \r\n               ","title":"How to dynamically change a sublayout which was assigned using &lt;include/&gt; view in android studio?","body":"<p>I am using &lt; include /&gt; to show a sublayout (layoutA) inside a Main layout.\nhowever, what I want to do is to change the sublayout from layoutA to layoutB dynamically in Java.  Which means in &lt;include../&gt; the line layout=&quot;@layout/layoutA&quot; should change to layout=&quot;@layout/layoutB&quot;.I am not sure how to achieve this. Not sure if there is an option like view.setLayout() for .</p>\n<pre><code>&lt;LinearLayout\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\n\n&lt;other data/&gt;\n\n&lt;include\nandroid:id=&quot;@+id/id1&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nlayout=&quot;@layout/layoutA&quot;\n/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Note: I have about 7-8 sublayouts so I do not just want to create multiple  and hide them. Which could be an option.</p>\n"},{"tags":["java","asynchronous","rmi","completable-future"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675920032,"post_id":75394200,"comment_id":133032494,"body_markdown":"In remote methods, all method parameters and values returned by remote methods, must implement interface `Serializable`. [CompletableFuture](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html) does not implement `Serializable`. Maybe you would care to share some of your code to help people better understand your problem? Maybe even a [mcve]?","body":"In remote methods, all method parameters and values returned by remote methods, must implement interface <code>Serializable</code>. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">CompletableFuture</a> does not implement <code>Serializable</code>. Maybe you would care to share some of your code to help people better understand your problem? Maybe even a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}],"owner":{"account_id":21829901,"reputation":87,"user_id":16124947,"display_name":"Glitch07"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675916885,"creation_date":1675916885,"question_id":75394200,"body_markdown":"Does anyone have any idea on how to resolve this error?\r\n\r\n    Exception(Client): java.rmi.ServerException: RemoteException occurred in server thread; nested exception is: \r\n    \tjava.rmi.UnmarshalException: error unmarshalling return; nested exception is: \r\n    \tjava.io.WriteAbortedException: writing aborted; java.io.NotSerializableException: java.util.concurrent.CompletableFuture\r\n\r\nI am trying to implement RMI Java code where I have one LeadServer and two slave servers working under it. And I want to call those two slave server asynchronously from LeadServer and that&#39;s where I used CompletableFuture to implement the feature. But got caught into this error!\r\n\r\nAny help/ suggestion would be appreciated!","title":"java.rmi.UnmarshalException: error unmarshalling return","body":"<p>Does anyone have any idea on how to resolve this error?</p>\n<pre><code>Exception(Client): java.rmi.ServerException: RemoteException occurred in server thread; nested exception is: \n    java.rmi.UnmarshalException: error unmarshalling return; nested exception is: \n    java.io.WriteAbortedException: writing aborted; java.io.NotSerializableException: java.util.concurrent.CompletableFuture\n</code></pre>\n<p>I am trying to implement RMI Java code where I have one LeadServer and two slave servers working under it. And I want to call those two slave server asynchronously from LeadServer and that's where I used CompletableFuture to implement the feature. But got caught into this error!</p>\n<p>Any help/ suggestion would be appreciated!</p>\n"},{"tags":["java","postgis","envelope","criteriabuilder"],"owner":{"account_id":3599006,"reputation":11,"user_id":3002781,"display_name":"Kitty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675916499,"creation_date":1675914998,"question_id":75394038,"body_markdown":"I&#39;m using CriteriaBuilder to add Search filters in Postgres.\r\nI need also add an additional filter entries that have Location that is a part of a Map window.\r\n```java  \r\nfinal Envelope envelope = new Envelope();\r\nenvelope.expandToInclude(Double.parseDouble(nwLat), Double.parseDouble(nwLng));\r\nenvelope.expandToInclude(Double.parseDouble(seLat), Double.parseDouble(seLng));\r\nenvelope.contains(envelope.contains(33.6462, -117.7559));\r\n```\r\n\r\nHow to add that as Predicate in CriteriaBuilder?\r\n\r\n\r\nCode I have so far\r\n```java    \r\npublic Specification&lt;Listing&gt; getFilteredListings(Short minBeds, Short minBaths, Integer       minPrice, Integer maxPrice, String nwLat, String nwLng, String seLat, String seLng) {\r\n    return (root, query, criteriaBuilder) -&gt; {\r\n      List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n\r\n\r\n    /*    CODE I NEED TO ADD\r\n      final Envelope envelope = new Envelope();\r\n      envelope.expandToInclude(Double.parseDouble(nwLat), Double.parseDouble(nwLng));\r\n      envelope.expandToInclude(Double.parseDouble(seLat), Double.parseDouble(seLng));\r\n      envelope.contains()\r\n     \r\n    */\r\n\r\n      predicates.add(criteriaBuilder.equal(root.get(&quot;listingStatus&quot;), ACTIVE));\r\n\r\n      if (nonNull(minBeds)) {\r\n        predicates.add(criteriaBuilder.ge(root.get(&quot;beds&quot;), minBeds));\r\n      }\r\n\r\n      if (nonNull(minBaths)) {\r\n        predicates.add(criteriaBuilder.ge(root.get(&quot;baths&quot;), minBaths));\r\n      }\r\n\r\n      if (nonNull(minPrice)) {\r\n        predicates.add(criteriaBuilder.ge(root.get(&quot;price&quot;), minPrice));\r\n      }\r\n\r\n      if (nonNull(maxPrice)) {\r\n        predicates.add(criteriaBuilder.le(root.get(&quot;price&quot;), maxPrice));\r\n      }\r\n\r\n      \r\n      return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n    };\r\n}\r\n```","title":"jakarta.persistence.criteria.CriteriaBuilder how to add If the Coordinate is a part of Envelope","body":"<p>I'm using CriteriaBuilder to add Search filters in Postgres.\nI need also add an additional filter entries that have Location that is a part of a Map window.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Envelope envelope = new Envelope();\nenvelope.expandToInclude(Double.parseDouble(nwLat), Double.parseDouble(nwLng));\nenvelope.expandToInclude(Double.parseDouble(seLat), Double.parseDouble(seLng));\nenvelope.contains(envelope.contains(33.6462, -117.7559));\n</code></pre>\n<p>How to add that as Predicate in CriteriaBuilder?</p>\n<p>Code I have so far</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Specification&lt;Listing&gt; getFilteredListings(Short minBeds, Short minBaths, Integer       minPrice, Integer maxPrice, String nwLat, String nwLng, String seLat, String seLng) {\n    return (root, query, criteriaBuilder) -&gt; {\n      List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n\n\n    /*    CODE I NEED TO ADD\n      final Envelope envelope = new Envelope();\n      envelope.expandToInclude(Double.parseDouble(nwLat), Double.parseDouble(nwLng));\n      envelope.expandToInclude(Double.parseDouble(seLat), Double.parseDouble(seLng));\n      envelope.contains()\n     \n    */\n\n      predicates.add(criteriaBuilder.equal(root.get(&quot;listingStatus&quot;), ACTIVE));\n\n      if (nonNull(minBeds)) {\n        predicates.add(criteriaBuilder.ge(root.get(&quot;beds&quot;), minBeds));\n      }\n\n      if (nonNull(minBaths)) {\n        predicates.add(criteriaBuilder.ge(root.get(&quot;baths&quot;), minBaths));\n      }\n\n      if (nonNull(minPrice)) {\n        predicates.add(criteriaBuilder.ge(root.get(&quot;price&quot;), minPrice));\n      }\n\n      if (nonNull(maxPrice)) {\n        predicates.add(criteriaBuilder.le(root.get(&quot;price&quot;), maxPrice));\n      }\n\n      \n      return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n    };\n}\n</code></pre>\n"},{"tags":["java","postgresql","c3p0"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1675876895,"post_id":75389324,"comment_id":133023934,"body_markdown":"Why do you have your hibernate maxPoolSize 5 times over the limit defined for the c3p0 config?","body":"Why do you have your hibernate maxPoolSize 5 times over the limit defined for the c3p0 config?"},{"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"score":0,"creation_date":1675878238,"post_id":75389324,"comment_id":133024448,"body_markdown":"@JorgeCampos not sure, I did not configure this, just trying to debug this issue.","body":"@JorgeCampos not sure, I did not configure this, just trying to debug this issue."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1675878492,"post_id":75389324,"comment_id":133024550,"body_markdown":"I would start by matching those parameters or even removing it from the hibernate config as the datasource using c3p0 as pool is responsible to manage that and not hibernate. The worst it can happen is the server to fail faster as &quot;allegedly&quot; there will be less connections.","body":"I would start by matching those parameters or even removing it from the hibernate config as the datasource using c3p0 as pool is responsible to manage that and not hibernate. The worst it can happen is the server to fail faster as &quot;allegedly&quot; there will be less connections."}],"answers":[{"tags":[],"owner":{"account_id":1511139,"reputation":13781,"user_id":1413240,"accept_rate":50,"display_name":"Steve Waldman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675916122,"creation_date":1675916122,"answer_id":75394140,"question_id":75389324,"body_markdown":"The task that&#39;s hanging and saturating your thread pool is `ScatteredAcquireTask`, which is c3p0 trying to get new Connections from the backend DB. Those attempts are _hanging_, meaning they are neither succeeding nor failing with an `Exception`. They are just indefinitely holding up the `Thread` that tries to run them. This hang is what you need to debug. This sort of hang can come from, e.g. incorrect authentication configuration on AWS, but also from lots of other mysteries. If you can try a test program that simply tries to acquire a `Connection` with the same dbUrl/user/password when these events happen, that might give some insight.\r\n\r\nFailure is normal. `c3p0` is very resilient to the fact that `Connection` acquisition sometimes fails, networks and databases are imperfect. But it is not resilient to neither failing nor succeeding. It expects acquisition attempts to either succeed, or fail within a pretty generous time window. Indefinite hangs will eat up its threads.","title":"C3P0 APPARENT DEADLOCK in Apache Tomcat application","body":"<p>The task that's hanging and saturating your thread pool is <code>ScatteredAcquireTask</code>, which is c3p0 trying to get new Connections from the backend DB. Those attempts are <em>hanging</em>, meaning they are neither succeeding nor failing with an <code>Exception</code>. They are just indefinitely holding up the <code>Thread</code> that tries to run them. This hang is what you need to debug. This sort of hang can come from, e.g. incorrect authentication configuration on AWS, but also from lots of other mysteries. If you can try a test program that simply tries to acquire a <code>Connection</code> with the same dbUrl/user/password when these events happen, that might give some insight.</p>\n<p>Failure is normal. <code>c3p0</code> is very resilient to the fact that <code>Connection</code> acquisition sometimes fails, networks and databases are imperfect. But it is not resilient to neither failing nor succeeding. It expects acquisition attempts to either succeed, or fail within a pretty generous time window. Indefinite hangs will eat up its threads.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75394140,"answer_count":1,"score":1,"last_activity_date":1675916122,"creation_date":1675876241,"question_id":75389324,"body_markdown":"I am seeing a C3P0 log dead lock issue in an Apache Tomcat application. \r\n\r\nNot long after this I begin to see failures in Tomcat due to resource limits. \r\n\r\nThis then causes the number of httpd daughter processes to increase until the maxRequestWorkers limit is hit and the server then deadlocks. \r\n\r\nFrom my initial research it looks like the C3P0 issue could be a failure of hibernate to communicate with postgres.\r\n\r\nA confirmation of whether that is the root issue would be appreciated as well as any insight into what might be going on here. \r\n\r\nThis is this initial log that C3P0 issues: \r\n\r\n```\r\n[WARN] [Wed Feb 08 05:52:41.589 2023] [C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-AdminTaskTimer|ThreadPoolAsynchronousRunner] com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@578de344 -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!\r\n[WARN] [Wed Feb 08 05:52:42.270 2023] [C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-AdminTaskTimer|ThreadPoolAsynchronousRunner] com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@578de344 -- APPARENT DEADLOCK!!! Complete Status: \r\n\tManaged Threads: 10\r\n\tActive Threads: 10\r\n\tActive Tasks: \r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@148953c6\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#2\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@33ec4718\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#5\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@7a772c6f\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#7\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@5e288adc\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#0\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@e1f5bc\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#4\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@51e4b63f\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#8\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@1233fc38\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#3\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@857fac8\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#6\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@794b26b\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#1\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@73b5a9e8\r\n\t\t\ton thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#9\r\n\tPending Tasks: \r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@7e6a499a\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@49dc7d25\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@6b79999f\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@355d97f1\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@19572e59\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@33c84d03\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@145a8f84\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@4d6160e1\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@6de4aaf2\r\n\t\tcom.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@1cb54218\r\nPool thread stack traces:\r\n...\r\n```\r\n\r\nNot long after this is the resource issues that tomcat starts to log: \r\n\r\n```\r\n08-Feb-2023 05:52:49.672 SEVERE [ajp-nio-127.0.0.1-8009-exec-123] org.apache.coyote.AbstractProtocol$ConnectionHandler.process Failed to complete processing of a request\r\n\tjava.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n\t\tat java.base/java.lang.Thread.start0(Native Method)\r\n```\r\n\r\nps shows that soon after Tomcat begins to error a large number of httpd processes begins to spawn.  This continues for several hours until the  limit of 500 is hit. \r\n\r\n```\r\n[vcr@qa-9440 ~]$ ps auxwww |grep httpd\r\nroot     4154    0.0  0.0    23504    10668  -  Ss   Mon17       0:33.03 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     45854    0.0  0.0    23504    11452  -  I    05:53       0:01.41 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     46742    0.0  0.0    23504    11448  -  I    05:54       0:00.84 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     46986    0.0  0.0    23504    11412  -  I    05:55       0:00.67 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47031    0.0  0.0    23504    11436  -  I    05:55       0:00.54 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47034    0.0  0.0    23504    11444  -  I    05:55       0:00.60 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47223    0.0  0.0    26064    11600  -  I    05:55       0:00.43 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47390    0.0  0.0    23504    11412  -  I    05:56       0:00.40 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47411    0.0  0.0    23504    11428  -  I    05:56       0:00.32 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47520    0.0  0.0    23504    11384  -  I    05:56       0:00.30 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47617    0.0  0.0    23504    11408  -  I    05:56       0:00.28 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47619    0.0  0.0    23504    11336  -  I    05:56       0:00.22 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47653    0.0  0.0    23504    11356  -  I    05:56       0:00.23 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47716    0.0  0.0    23504    11340  -  I    05:56       0:00.20 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\nwww     47735    0.0  0.0    23504    11364  -  I    05:56       0:00.18 /usr/local/sbin/httpd -DNOHTTPACCEPT\r\n...\r\n```\r\n\r\nC3P0/Hibernate configurations: \r\n```\r\n&lt;!-- Configure the dataSource.--&gt;\r\n\t&lt;bean id=&quot;dataSource&quot;\r\n\t\tclass=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClass&quot;&gt;\r\n\t\t\t&lt;value&gt;${db.driver}&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;jdbcUrl&quot;&gt;\r\n\t\t\t&lt;value&gt;${db.url}&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;user&quot;&gt;\r\n\t\t\t&lt;value&gt;${db.username}&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;password&quot;&gt;\r\n\t\t\t&lt;value&gt;${db.password}&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;acquireRetryAttempts&quot; value=&quot;0&quot; /&gt;\r\n\t\t&lt;property name=&quot;acquireRetryDelay&quot; value=&quot;2000&quot; /&gt;\r\n\t\t&lt;property name=&quot;initialPoolSize&quot; value=&quot;10&quot; /&gt;\r\n\t\t&lt;property name=&quot;minPoolSize&quot; value=&quot;1&quot; /&gt;\r\n\t\t&lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot; /&gt;\r\n\t\t&lt;property name=&quot;maxIdleTime&quot; value=&quot;5&quot; /&gt;\r\n\t\t&lt;property name=&quot;autoCommitOnClose&quot; value=&quot;false&quot; /&gt;\r\n\t\t&lt;property name=&quot;numHelperThreads&quot; value=&quot;10&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;!--\r\n\t\tSetup Hibernate based on config file \r\n\t\tclasspath:com/niksun/resources/hibernate.cfg.xml.\r\n\t\t\r\n\t\tPostgreSQLDialect\r\n\t--&gt;\r\n\r\n\t&lt;bean id=&quot;sessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;\r\n\t\t\t\t\torg.hibernate.dialect.PostgreSQL10Dialect \r\n\t\t\t\t&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.format_sql&quot;&gt;false&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.c3p0.maxPoolSize&quot;&gt;100&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.c3p0.min_size&quot;&gt;10&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.jdbc.batch_size&quot;&gt;20&lt;/prop&gt;\r\n\t\t\t\t&lt;!--prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;validate&lt;/prop--&gt;\r\n\t\t\t\t\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n ```\r\n","title":"C3P0 APPARENT DEADLOCK in Apache Tomcat application","body":"<p>I am seeing a C3P0 log dead lock issue in an Apache Tomcat application.</p>\n<p>Not long after this I begin to see failures in Tomcat due to resource limits.</p>\n<p>This then causes the number of httpd daughter processes to increase until the maxRequestWorkers limit is hit and the server then deadlocks.</p>\n<p>From my initial research it looks like the C3P0 issue could be a failure of hibernate to communicate with postgres.</p>\n<p>A confirmation of whether that is the root issue would be appreciated as well as any insight into what might be going on here.</p>\n<p>This is this initial log that C3P0 issues:</p>\n<pre><code>[WARN] [Wed Feb 08 05:52:41.589 2023] [C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-AdminTaskTimer|ThreadPoolAsynchronousRunner] com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@578de344 -- APPARENT DEADLOCK!!! Creating emergency threads for unassigned pending tasks!\n[WARN] [Wed Feb 08 05:52:42.270 2023] [C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-AdminTaskTimer|ThreadPoolAsynchronousRunner] com.mchange.v2.async.ThreadPoolAsynchronousRunner$DeadlockDetector@578de344 -- APPARENT DEADLOCK!!! Complete Status: \n    Managed Threads: 10\n    Active Threads: 10\n    Active Tasks: \n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@148953c6\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#2\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@33ec4718\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#5\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@7a772c6f\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#7\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@5e288adc\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#0\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@e1f5bc\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#4\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@51e4b63f\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#8\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@1233fc38\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#3\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@857fac8\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#6\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@794b26b\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#1\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@73b5a9e8\n            on thread: C3P0PooledConnectionPoolManager[identityToken-&gt;2t53wqaub1kdwl1wutziz|421f447f]-HelperThread-#9\n    Pending Tasks: \n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@7e6a499a\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@49dc7d25\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@6b79999f\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@355d97f1\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@19572e59\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@33c84d03\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@145a8f84\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@4d6160e1\n        com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@6de4aaf2\n        com.mchange.v2.resourcepool.BasicResourcePool$1RefurbishCheckinResourceTask@1cb54218\nPool thread stack traces:\n...\n</code></pre>\n<p>Not long after this is the resource issues that tomcat starts to log:</p>\n<pre><code>08-Feb-2023 05:52:49.672 SEVERE [ajp-nio-127.0.0.1-8009-exec-123] org.apache.coyote.AbstractProtocol$ConnectionHandler.process Failed to complete processing of a request\n    java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\n        at java.base/java.lang.Thread.start0(Native Method)\n</code></pre>\n<p>ps shows that soon after Tomcat begins to error a large number of httpd processes begins to spawn.  This continues for several hours until the  limit of 500 is hit.</p>\n<pre><code>[vcr@qa-9440 ~]$ ps auxwww |grep httpd\nroot     4154    0.0  0.0    23504    10668  -  Ss   Mon17       0:33.03 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     45854    0.0  0.0    23504    11452  -  I    05:53       0:01.41 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     46742    0.0  0.0    23504    11448  -  I    05:54       0:00.84 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     46986    0.0  0.0    23504    11412  -  I    05:55       0:00.67 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47031    0.0  0.0    23504    11436  -  I    05:55       0:00.54 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47034    0.0  0.0    23504    11444  -  I    05:55       0:00.60 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47223    0.0  0.0    26064    11600  -  I    05:55       0:00.43 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47390    0.0  0.0    23504    11412  -  I    05:56       0:00.40 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47411    0.0  0.0    23504    11428  -  I    05:56       0:00.32 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47520    0.0  0.0    23504    11384  -  I    05:56       0:00.30 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47617    0.0  0.0    23504    11408  -  I    05:56       0:00.28 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47619    0.0  0.0    23504    11336  -  I    05:56       0:00.22 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47653    0.0  0.0    23504    11356  -  I    05:56       0:00.23 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47716    0.0  0.0    23504    11340  -  I    05:56       0:00.20 /usr/local/sbin/httpd -DNOHTTPACCEPT\nwww     47735    0.0  0.0    23504    11364  -  I    05:56       0:00.18 /usr/local/sbin/httpd -DNOHTTPACCEPT\n...\n</code></pre>\n<p>C3P0/Hibernate configurations:</p>\n<pre><code>&lt;!-- Configure the dataSource.--&gt;\n    &lt;bean id=&quot;dataSource&quot;\n        class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt;\n        &lt;property name=&quot;driverClass&quot;&gt;\n            &lt;value&gt;${db.driver}&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;jdbcUrl&quot;&gt;\n            &lt;value&gt;${db.url}&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;user&quot;&gt;\n            &lt;value&gt;${db.username}&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;password&quot;&gt;\n            &lt;value&gt;${db.password}&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;acquireRetryAttempts&quot; value=&quot;0&quot; /&gt;\n        &lt;property name=&quot;acquireRetryDelay&quot; value=&quot;2000&quot; /&gt;\n        &lt;property name=&quot;initialPoolSize&quot; value=&quot;10&quot; /&gt;\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;1&quot; /&gt;\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot; /&gt;\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;5&quot; /&gt;\n        &lt;property name=&quot;autoCommitOnClose&quot; value=&quot;false&quot; /&gt;\n        &lt;property name=&quot;numHelperThreads&quot; value=&quot;10&quot; /&gt;\n    &lt;/bean&gt;\n\n    &lt;!--\n        Setup Hibernate based on config file \n        classpath:com/niksun/resources/hibernate.cfg.xml.\n        \n        PostgreSQLDialect\n    --&gt;\n\n    &lt;bean id=&quot;sessionFactory&quot;\n        class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;\n                    org.hibernate.dialect.PostgreSQL10Dialect \n                &lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.format_sql&quot;&gt;false&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.c3p0.maxPoolSize&quot;&gt;100&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.c3p0.min_size&quot;&gt;10&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.jdbc.batch_size&quot;&gt;20&lt;/prop&gt;\n                &lt;!--prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;validate&lt;/prop--&gt;\n                \n            &lt;/props&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","functional-programming","java-stream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675899702,"post_id":75392779,"comment_id":133029762,"body_markdown":"If you&#39;ve got two separate lists that aren&#39;t combined in any way, then I think you&#39;ll bend over backwards trying to make a stream more readable than a vanilla for loop.","body":"If you&#39;ve got two separate lists that aren&#39;t combined in any way, then I think you&#39;ll bend over backwards trying to make a stream more readable than a vanilla for loop."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675921313,"post_id":75392779,"comment_id":133032680,"body_markdown":"`IntStream.range(0,time.length).mapToObj(i-&gt; new Competitors(name[i] ,backToTime(time[i]))).collect(Collectors.toList());`","body":"<code>IntStream.range(0,time.length).mapToObj(i-&gt; new Competitors(name[i] ,backToTime(time[i]))).collect(Collectors.toList());</code>"}],"answers":[{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675915794,"creation_date":1675915794,"answer_id":75394110,"question_id":75392779,"body_markdown":"Your second approach, `makeObjects()`, is the functional approach. \r\n\r\nWhere you go wrong is that you are creating the `Competitor` objects in the wrong place; you map each `i` to a new Competitor. Then in the `collect()` call, you specify what type of collection. In your case, it would be `Collectors.toList()` or `Collectors.toSet()`. There is no need to create an  `ArrayList`; just assign the `IntStream...` to `List&lt;Competitor&gt; racers`.\r\n\r\nNote that you should probably guard this method by first asserting that the arrays are the same length.\r\n\r\nAlso note that your class should be named `Competitor`, not `Competitors`; and `makeObjects` would be more descriptive as `createCompetitorsList`.","title":"Functional Programing; using streams to create a set/ list of objects in java","body":"<p>Your second approach, <code>makeObjects()</code>, is the functional approach.</p>\n<p>Where you go wrong is that you are creating the <code>Competitor</code> objects in the wrong place; you map each <code>i</code> to a new Competitor. Then in the <code>collect()</code> call, you specify what type of collection. In your case, it would be <code>Collectors.toList()</code> or <code>Collectors.toSet()</code>. There is no need to create an  <code>ArrayList</code>; just assign the <code>IntStream...</code> to <code>List&lt;Competitor&gt; racers</code>.</p>\n<p>Note that you should probably guard this method by first asserting that the arrays are the same length.</p>\n<p>Also note that your class should be named <code>Competitor</code>, not <code>Competitors</code>; and <code>makeObjects</code> would be more descriptive as <code>createCompetitorsList</code>.</p>\n"}],"owner":{"account_id":26771007,"reputation":3,"user_id":20367373,"display_name":"mustafa qasmieh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75394110,"answer_count":1,"score":0,"last_activity_date":1675915794,"creation_date":1675899347,"question_id":75392779,"body_markdown":"the object of this specific function is to create a list of (competitor objects ) Using 2 lists containing time and names.\r\n\r\nnote that this is a trail to convert from object oriented to functional programing , so its actually a record rather than an object.\r\n\r\n\r\n\r\nmy initial trial using a sort of recursion\r\n\r\n``` \r\npublic static List&lt;Competitors&gt; makeObjects(int[] time, String[] name){\r\n        if (counter &gt; name.length){\r\n            return racers;\r\n        }else{\r\n            Competitors racer= new Competitors(name[counter],backToTime(time[counter]));\r\n            racers.add(racer);\r\n            return makeObjects(++counter,racers,time,name);\r\n        }\r\n```\r\nand my try after discovering i can use streams \r\n\r\n  \r\n```\r\npublic static List&lt;Competitors&gt; makeObjects(int[] time, String[] name){\r\n        List&lt;Competitors&gt; racers = new ArrayList&lt;Competitors&gt;();\r\n        IntStream.range(0,time.length).mapToObj(i-&gt; ).collect(new Competitors(name[i] ,backToTime(time[i])))\r\n    }\r\n```\r\n\r\n","title":"Functional Programing; using streams to create a set/ list of objects in java","body":"<p>the object of this specific function is to create a list of (competitor objects ) Using 2 lists containing time and names.</p>\n<p>note that this is a trail to convert from object oriented to functional programing , so its actually a record rather than an object.</p>\n<p>my initial trial using a sort of recursion</p>\n<pre><code>public static List&lt;Competitors&gt; makeObjects(int[] time, String[] name){\n        if (counter &gt; name.length){\n            return racers;\n        }else{\n            Competitors racer= new Competitors(name[counter],backToTime(time[counter]));\n            racers.add(racer);\n            return makeObjects(++counter,racers,time,name);\n        }\n</code></pre>\n<p>and my try after discovering i can use streams</p>\n<pre><code>public static List&lt;Competitors&gt; makeObjects(int[] time, String[] name){\n        List&lt;Competitors&gt; racers = new ArrayList&lt;Competitors&gt;();\n        IntStream.range(0,time.length).mapToObj(i-&gt; ).collect(new Competitors(name[i] ,backToTime(time[i])))\n    }\n</code></pre>\n"},{"tags":["java","rabbitmq","avro","spring-cloud-stream"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675915112,"post_id":74741481,"comment_id":133031824,"body_markdown":"JSON converters or object mappers will not work with Avro. Seen this? https://docs.spring.io/spring-cloud-schema-registry/docs/current/reference/html/spring-cloud-schema-registry.html","body":"JSON converters or object mappers will not work with Avro. Seen this? <a href=\"https://docs.spring.io/spring-cloud-schema-registry/docs/current/reference/html/spring-cloud-schema-registry.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-cloud-schema-registry/docs/current/&hellip;</a>"}],"owner":{"account_id":6002341,"reputation":1,"user_id":4715197,"display_name":"Hitendrasinh Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675914933,"creation_date":1670579862,"question_id":74741481,"body_markdown":"I am new to spring cloud stream rabbitmq binder and tried to integrate rabbitmq binder of spring cloud stream but not able to find any specific properties so not sure about Avro message converter part as it my response is in byte array.\r\n\r\nI have tried to follow same like this one -&gt; https://github.com/spring-cloud/spring-cloud-stream-samples/tree/main/schema-registry-samples/schema-registry-vanilla-rabbit-binder\r\nbut not working in my case as,\r\n\r\n[my-application.yml][1]\r\n\r\nabove configs are not working and displaying my message in bytes only,\r\n\r\nI am using 2.7.6 spring boot version version with JDK 8 for the same.\r\n```\r\n@Bean\r\npublic MessageConverter jsonMessageConverter() {\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    return new Jackson2JsonMessageConverter(objectMapper);\r\n}\r\n```\r\nAbove bean is used in rabbitmq listener as below,\r\n```\r\nSimpleRabbitListenerContainerFactory sf = new ...()\r\nsf.setMessageConverter(jsonMessageConverter());\r\n```\r\nand the message converter here is of amqp package not of spring package.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S6HWQ.png","title":"Spring cloud stream rabbitmq binder failed with schema registry as byte array returned","body":"<p>I am new to spring cloud stream rabbitmq binder and tried to integrate rabbitmq binder of spring cloud stream but not able to find any specific properties so not sure about Avro message converter part as it my response is in byte array.</p>\n<p>I have tried to follow same like this one -&gt; <a href=\"https://github.com/spring-cloud/spring-cloud-stream-samples/tree/main/schema-registry-samples/schema-registry-vanilla-rabbit-binder\" rel=\"nofollow noreferrer\">https://github.com/spring-cloud/spring-cloud-stream-samples/tree/main/schema-registry-samples/schema-registry-vanilla-rabbit-binder</a>\nbut not working in my case as,</p>\n<p><a href=\"https://i.stack.imgur.com/S6HWQ.png\" rel=\"nofollow noreferrer\">my-application.yml</a></p>\n<p>above configs are not working and displaying my message in bytes only,</p>\n<p>I am using 2.7.6 spring boot version version with JDK 8 for the same.</p>\n<pre><code>@Bean\npublic MessageConverter jsonMessageConverter() {\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    return new Jackson2JsonMessageConverter(objectMapper);\n}\n</code></pre>\n<p>Above bean is used in rabbitmq listener as below,</p>\n<pre><code>SimpleRabbitListenerContainerFactory sf = new ...()\nsf.setMessageConverter(jsonMessageConverter());\n</code></pre>\n<p>and the message converter here is of amqp package not of spring package.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1675897907,"post_id":75392494,"comment_id":133029449,"body_markdown":"As another possible guess: It may be the case that IntelliJ detaches itself in a shutdown hook or similar. In other words, the problem may not lay with how the application is ended, but instead in how IntelliJ handles ending a running instance.","body":"As another possible guess: It may be the case that IntelliJ detaches itself in a shutdown hook or similar. In other words, the problem may not lay with how the application is ended, but instead in how IntelliJ handles ending a running instance."}],"answers":[{"tags":[],"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675913877,"creation_date":1675913877,"answer_id":75393946,"question_id":75392494,"body_markdown":"Just as @Rogue guessed, when you click the stop button, the IDEA disconnects the debugger and sends SIGINT to the app.\r\n\r\nThere is no setting to configure this behavior currently. Check the related issue here for details: https://youtrack.jetbrains.com/issue/IDEA-170313/Breakpoints-not-working-after-stop-signal\r\n\r\nAs a workaround, you could open `Settings | Tools | External Tools`, add a script that could find your java process, and send the SIGINT. Then assign a shortcut for it or add a menu in the IDEA&#39;s Toolbar in `Settings | Appearance &amp; Behavior | Menus and Toolbars` so you could use it easily like the stop button.\r\n\r\n","title":"Using IntelliJ IDEA to debug shutdown code?","body":"<p>Just as @Rogue guessed, when you click the stop button, the IDEA disconnects the debugger and sends SIGINT to the app.</p>\n<p>There is no setting to configure this behavior currently. Check the related issue here for details: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-170313/Breakpoints-not-working-after-stop-signal\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-170313/Breakpoints-not-working-after-stop-signal</a></p>\n<p>As a workaround, you could open <code>Settings | Tools | External Tools</code>, add a script that could find your java process, and send the SIGINT. Then assign a shortcut for it or add a menu in the IDEA's Toolbar in <code>Settings | Appearance &amp; Behavior | Menus and Toolbars</code> so you could use it easily like the stop button.</p>\n"}],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75393946,"answer_count":1,"score":3,"last_activity_date":1675913877,"creation_date":1675896644,"question_id":75392494,"body_markdown":"I&#39;m noticing an unexpected and undesirable behavior out of IntelliJ&#39;s debugger that I&#39;m wondering if anyone knows anything about.\r\n\r\nOur Spring app has some fairly complex shutdown logic. We make use of Spring&#39;s &quot;Disposable Bean&quot; interface, and we also register our own JVM shutdown hook. I often find myself wanting to stop in the debugger in this code. I&#39;d love to be able to do so by pressing the IntelliJ debugger&#39;s Stop button and having my breakpoints be hit. This is the behavior I expected.\r\n\r\nWhen I press the Stop button in the IntelliJ debugger, my breakpoints in my shutdown code are not hit. At first, I thought that maybe IntelliJ was hard-killing my app rather than sending a termination signal (I believe it sends a SIGINT) to the process. But I have since confirmed that my shutdown code runs when I press the Stop button. The behavior is as though IntelliJ unregisters my breakpoints before sending the SIGINT signal to my app.\r\n\r\nMy workaround is to send a SIGINT to my app from a shell prompt. When I do this, my breakpoints get hit. This is a pain. So I&#39;m wondering if anyone has either a way to cause the breakpoints to be hit when the Stop button is pressed, or at least some information as to why the debugger behaves this way. ","title":"Using IntelliJ IDEA to debug shutdown code?","body":"<p>I'm noticing an unexpected and undesirable behavior out of IntelliJ's debugger that I'm wondering if anyone knows anything about.</p>\n<p>Our Spring app has some fairly complex shutdown logic. We make use of Spring's &quot;Disposable Bean&quot; interface, and we also register our own JVM shutdown hook. I often find myself wanting to stop in the debugger in this code. I'd love to be able to do so by pressing the IntelliJ debugger's Stop button and having my breakpoints be hit. This is the behavior I expected.</p>\n<p>When I press the Stop button in the IntelliJ debugger, my breakpoints in my shutdown code are not hit. At first, I thought that maybe IntelliJ was hard-killing my app rather than sending a termination signal (I believe it sends a SIGINT) to the process. But I have since confirmed that my shutdown code runs when I press the Stop button. The behavior is as though IntelliJ unregisters my breakpoints before sending the SIGINT signal to my app.</p>\n<p>My workaround is to send a SIGINT to my app from a shell prompt. When I do this, my breakpoints get hit. This is a pain. So I'm wondering if anyone has either a way to cause the breakpoints to be hit when the Stop button is pressed, or at least some information as to why the debugger behaves this way.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1556314293,"post_id":55874952,"comment_id":98410107,"body_markdown":"Why do you have this method `Bill:projectProperty`? It doesn&#39;t return a property...","body":"Why do you have this method <code>Bill:projectProperty</code>? It doesn&#39;t return a property..."},{"owner":{"account_id":15824010,"reputation":65,"user_id":11417524,"display_name":"TryAngle"},"score":0,"creation_date":1556315113,"post_id":55874952,"comment_id":98410370,"body_markdown":"@Jos&#233;Pereda\nI tried the second comment from here\nhttps://stackoverflow.com/questions/47181969/javafx-tableview-propertyvaluefactory-error\n\nI probably misunderstood it","body":"@Jos&#233;Pereda I tried the second comment from here <a href=\"https://stackoverflow.com/questions/47181969/javafx-tableview-propertyvaluefactory-error\" title=\"javafx tableview propertyvaluefactory error\">stackoverflow.com/questions/47181969/&hellip;</a>  I probably misunderstood it"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1556315166,"post_id":55874952,"comment_id":98410382,"body_markdown":"[mcve] please .. mind the __m__ no need for dozens of properties or columns, two or so are enough","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. mind the <b>m</b> no need for dozens of properties or columns, two or so are enough"},{"owner":{"account_id":15824010,"reputation":65,"user_id":11417524,"display_name":"TryAngle"},"score":0,"creation_date":1556321303,"post_id":55874952,"comment_id":98411715,"body_markdown":"@kleopatra, thanks I did not know about this somehow (now I know that I should have). I&#39;ll take take it into account the next time!","body":"@kleopatra, thanks I did not know about this somehow (now I know that I should have). I&#39;ll take take it into account the next time!"}],"answers":[{"tags":[],"owner":{"account_id":15111466,"reputation":343,"user_id":10905411,"display_name":"Christian H. Kuhn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556315483,"creation_date":1556315483,"answer_id":55875322,"question_id":55874952,"body_markdown":"Im not a specialist for JavaFX. But if i read the docs right, the String parameter in the PropertyValueFactory constructor refers not to a field of the type parameter of TableView but to the String parameter of a TableColumn constructor. If im right, it should not be `&quot;project&quot;` (the private field in Bill) but `&quot;Project&quot;` (the parameter text of the first TableColumn in FXML).","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<p>Im not a specialist for JavaFX. But if i read the docs right, the String parameter in the PropertyValueFactory constructor refers not to a field of the type parameter of TableView but to the String parameter of a TableColumn constructor. If im right, it should not be <code>\"project\"</code> (the private field in Bill) but <code>\"Project\"</code> (the parameter text of the first TableColumn in FXML).</p>\n"},{"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1556317403,"creation_date":1556316976,"answer_id":55875509,"question_id":55874952,"body_markdown":"In your `Bill` class you have:\r\n\r\n```\r\npublic class Bill {\r\n\r\n    private String project;\r\n\r\n    // getter\r\n    public String getProject() {\r\n        return project;\r\n    }\r\n\r\n    // setter\r\n    public void setProject(String project) {\r\n        this.project = project;\r\n    }\r\n\r\n    // ????\r\n    public String projectProperty() {\r\n        return project;\r\n    }\r\n    \r\n}\r\n```\r\n\r\nWhen you use the callback `new PropertyValueFactory(&quot;project&quot;)` for the TableColumn cell value factory, this is what happens, when the `call` method is evaluated:\r\n\r\n    @Override \r\n    public ObservableValue&lt;T&gt; call(CellDataFeatures&lt;S,T&gt; param) {\r\n        return getCellDataReflectively(param.getValue());\r\n    }\r\n    \r\n    private ObservableValue&lt;T&gt; getCellDataReflectively(S rowData) {\r\n        ...\r\n       \r\n         if (propertyRef.hasProperty()) {\r\n             return propertyRef.getProperty(rowData);\r\n         } else {\r\n             T value = propertyRef.get(rowData);\r\n             return new ReadOnlyObjectWrapper&lt;T&gt;(value);\r\n         }\r\n         ...   \r\n    }\r\n\r\nThere is an attempt to use a JavaFX property in the first place, where in `PropertyReference` you can see:\r\n\r\n    public boolean hasProperty() {\r\n        reflect();\r\n        return propertyGetter != null;\r\n    }\r\n\r\nSince you are providing a `projectProperty()` method, this method is wrongly taken as a `propertyGetter` as it ends with `Property` in `reflect()`:\r\n\r\n    // Now attempt to look for the property-getter.\r\n    final String propertyGetterName = name + &quot;Property&quot;;\r\n                \r\n so it will return true, and then `getProperty()` will try to cast this property:\r\n\r\n    try {\r\n        return (ReadOnlyProperty&lt;T&gt;)MethodHelper.invoke(propertyGetter, bean, (Object[])null);\r\n    }\r\n\r\nand that will throw the exception you get:\r\n\r\n    Caused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class javafx.beans.property.ReadOnlyProperty (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; javafx.beans.property.ReadOnlyProperty is in module javafx.base of loader &#39;app&#39;)\r\n    at javafx.base/com.sun.javafx.property.PropertyReference.getProperty(PropertyReference.java:197)\r\n\r\nas your `String project` can&#39;t be obviously casted to `ReadOnlyProperty`.\r\n\r\n**Solution**\r\n\r\nYou either use a proper property:\r\n\r\n    private final StringProperty project = new SimpleStringProperty();\r\n\r\n    public final StringProperty projectProperty() {\r\n       return project;\r\n    }\r\n\r\n    public final String getProject() {\r\n       return project.get();\r\n    }\r\n\r\n    public final void setProject(String value) {\r\n        project.set(value);\r\n    }\r\n\r\nOr you remove the wrong property getter, and then the callback will default to the second case, using a String primitive in `getCellDataReflectively`, that will be converted into a read only property: \r\n\r\n    T value = propertyRef.get(rowData);\r\n    return new ReadOnlyObjectWrapper&lt;T&gt;(value);\r\n\r\nWhile this works fine, it is preferred the first option, using proper JavaFX properties.","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<p>In your <code>Bill</code> class you have:</p>\n\n<pre><code>public class Bill {\n\n    private String project;\n\n    // getter\n    public String getProject() {\n        return project;\n    }\n\n    // setter\n    public void setProject(String project) {\n        this.project = project;\n    }\n\n    // ????\n    public String projectProperty() {\n        return project;\n    }\n\n}\n</code></pre>\n\n<p>When you use the callback <code>new PropertyValueFactory(\"project\")</code> for the TableColumn cell value factory, this is what happens, when the <code>call</code> method is evaluated:</p>\n\n<pre><code>@Override \npublic ObservableValue&lt;T&gt; call(CellDataFeatures&lt;S,T&gt; param) {\n    return getCellDataReflectively(param.getValue());\n}\n\nprivate ObservableValue&lt;T&gt; getCellDataReflectively(S rowData) {\n    ...\n\n     if (propertyRef.hasProperty()) {\n         return propertyRef.getProperty(rowData);\n     } else {\n         T value = propertyRef.get(rowData);\n         return new ReadOnlyObjectWrapper&lt;T&gt;(value);\n     }\n     ...   \n}\n</code></pre>\n\n<p>There is an attempt to use a JavaFX property in the first place, where in <code>PropertyReference</code> you can see:</p>\n\n<pre><code>public boolean hasProperty() {\n    reflect();\n    return propertyGetter != null;\n}\n</code></pre>\n\n<p>Since you are providing a <code>projectProperty()</code> method, this method is wrongly taken as a <code>propertyGetter</code> as it ends with <code>Property</code> in <code>reflect()</code>:</p>\n\n<pre><code>// Now attempt to look for the property-getter.\nfinal String propertyGetterName = name + \"Property\";\n</code></pre>\n\n<p>so it will return true, and then <code>getProperty()</code> will try to cast this property:</p>\n\n<pre><code>try {\n    return (ReadOnlyProperty&lt;T&gt;)MethodHelper.invoke(propertyGetter, bean, (Object[])null);\n}\n</code></pre>\n\n<p>and that will throw the exception you get:</p>\n\n<pre><code>Caused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class javafx.beans.property.ReadOnlyProperty (java.lang.String is in module java.base of loader 'bootstrap'; javafx.beans.property.ReadOnlyProperty is in module javafx.base of loader 'app')\nat javafx.base/com.sun.javafx.property.PropertyReference.getProperty(PropertyReference.java:197)\n</code></pre>\n\n<p>as your <code>String project</code> can't be obviously casted to <code>ReadOnlyProperty</code>.</p>\n\n<p><strong>Solution</strong></p>\n\n<p>You either use a proper property:</p>\n\n<pre><code>private final StringProperty project = new SimpleStringProperty();\n\npublic final StringProperty projectProperty() {\n   return project;\n}\n\npublic final String getProject() {\n   return project.get();\n}\n\npublic final void setProject(String value) {\n    project.set(value);\n}\n</code></pre>\n\n<p>Or you remove the wrong property getter, and then the callback will default to the second case, using a String primitive in <code>getCellDataReflectively</code>, that will be converted into a read only property: </p>\n\n<pre><code>T value = propertyRef.get(rowData);\nreturn new ReadOnlyObjectWrapper&lt;T&gt;(value);\n</code></pre>\n\n<p>While this works fine, it is preferred the first option, using proper JavaFX properties.</p>\n"},{"tags":[],"owner":{"account_id":23769449,"reputation":11,"user_id":17783722,"display_name":"James Dawson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640722997,"creation_date":1640722997,"answer_id":70512154,"question_id":55874952,"body_markdown":"I had a somewhat similar problem with the error message:\r\n```\r\nDec 28, 2021 10:14:33 PM javafx.scene.control.cell.PropertyValueFactory getCellDataReflectively\r\nWARNING: Can not retrieve property &#39;risk&#39; in PropertyValueFactory: javafx.scene.control.cell.PropertyValueFactory@14aa73de with provided class type: class derivative.generator.derivative.LiabilityEX\r\njava.lang.IllegalStateException: Cannot read from unreadable property risk\r\n```\r\nto resolve it I added getters to all fields of the object class I was trying to add to the column\r\n\r\nExample for my case\r\n```\r\npublic int getRisk() {\r\n        return risk;\r\n    }\r\n```","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<p>I had a somewhat similar problem with the error message:</p>\n<pre><code>Dec 28, 2021 10:14:33 PM javafx.scene.control.cell.PropertyValueFactory getCellDataReflectively\nWARNING: Can not retrieve property 'risk' in PropertyValueFactory: javafx.scene.control.cell.PropertyValueFactory@14aa73de with provided class type: class derivative.generator.derivative.LiabilityEX\njava.lang.IllegalStateException: Cannot read from unreadable property risk\n</code></pre>\n<p>to resolve it I added getters to all fields of the object class I was trying to add to the column</p>\n<p>Example for my case</p>\n<pre><code>public int getRisk() {\n        return risk;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24048140,"reputation":1,"user_id":18026936,"display_name":"ARIF FAISAL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645121500,"creation_date":1645116100,"answer_id":71162107,"question_id":55874952,"body_markdown":"I was going through the same problem initially, but to solve it, I simply added getters and setters (though unused in the code explicitly) of the &quot;Bill&quot; class (or any class of whose TableView you want to create).\r\n","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<p>I was going through the same problem initially, but to solve it, I simply added getters and setters (though unused in the code explicitly) of the &quot;Bill&quot; class (or any class of whose TableView you want to create).</p>\n"},{"tags":[],"owner":{"account_id":13271791,"reputation":157,"user_id":9582575,"display_name":"Alagie F. Nget"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665774853,"creation_date":1665774853,"answer_id":74073888,"question_id":55874952,"body_markdown":"Add getters and setters for your attribute mentioned in the error.","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<p>Add getters and setters for your attribute mentioned in the error.</p>\n"},{"tags":[],"owner":{"account_id":24493012,"reputation":11,"user_id":18409789,"display_name":"GuerreroEnier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675913196,"creation_date":1675913196,"answer_id":75393893,"question_id":55874952,"body_markdown":"\r\nI had the same error and I solved it by adding the package where I have my model to **module-info.java**\r\n\r\nExample:\r\n\r\n    opens application.modelo;","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<p>I had the same error and I solved it by adding the package where I have my model to <strong>module-info.java</strong></p>\n<p>Example:</p>\n<pre><code>opens application.modelo;\n</code></pre>\n"}],"owner":{"account_id":15824010,"reputation":65,"user_id":11417524,"display_name":"TryAngle"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19770,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":55875509,"answer_count":6,"score":5,"last_activity_date":1675913196,"creation_date":1556312812,"question_id":55874952,"body_markdown":"Summary:\r\n--------\r\nI am trying to add/reload data from an ArrayList&lt;Bill&gt; to a TableView by pressing a &quot;Reload Button&quot; (currently I am just testing it with one column of the TableView) . \r\nBecause TableView requires an ObservableList, I made an ObservableList&lt;Bill&gt; getter method where the ObservableList is created from an existing ArrayList (I tested both Lists by printing their values with no issue). Everytime I press the reload button,only the amount of rows are created and I get an error, caused by this line of code:\r\n```java\r\ncolumnProject.setCellValueFactory(new PropertyValueFactory&lt;Bill, String&gt;(&quot;project&quot;));\r\n```\r\nI looked the problem up for the last 3 hours and tried everything I found on Stack Overflow without any success.\r\n\r\n\r\nInformation:\r\n------------\r\n\r\n - Java: openjdk 11.0.3 and Javafx-11\r\n - Operating System: Manjaro Linux with Kernel 5.0.7-1\r\n - IDE: IntelliJ Idea Ultimate 2019\r\n - I use FXML with SceneBuilder for all JavaFX Objects\r\n\r\nError:\r\n------\r\n```\r\nApr 26, 2019 10:23:16 PM javafx.scene.control.cell.PropertyValueFactory getCellDataReflectively\r\nWARNING: Can not retrieve property &#39;project&#39; in PropertyValueFactory: javafx.scene.control.cell.PropertyValueFactory@688d477d with provided class type: class net.strobl.main.Bill\r\njava.lang.RuntimeException: java.lang.ClassCastException: class java.lang.String cannot be cast to class javafx.beans.property.ReadOnlyProperty (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; javafx.beans.property.ReadOnlyProperty is in module javafx.base of loader &#39;app&#39;)\r\n\tat javafx.base/com.sun.javafx.property.PropertyReference.getProperty(PropertyReference.java:199)\r\n\tat javafx.controls/javafx.scene.control.cell.PropertyValueFactory.getCellDataReflectively(PropertyValueFactory.java:182)\r\n\tat javafx.controls/javafx.scene.control.cell.PropertyValueFactory.call(PropertyValueFactory.java:154)\r\n\tat javafx.controls/javafx.scene.control.cell.PropertyValueFactory.call(PropertyValueFactory.java:133)\r\n\tat javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:593)\r\n\tat javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:578)\r\n\tat javafx.controls/javafx.scene.control.TableCell.updateItem(TableCell.java:646)\r\n\tat javafx.controls/javafx.scene.control.TableCell.indexChanged(TableCell.java:469)\r\n\tat javafx.controls/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:120)\r\n\tat javafx.controls/javafx.scene.control.skin.TableRowSkinBase.updateCells(TableRowSkinBase.java:539)\r\n\tat javafx.controls/javafx.scene.control.skin.TableRowSkinBase.&lt;init&gt;(TableRowSkinBase.java:159)\r\n\tat javafx.controls/javafx.scene.control.skin.TableRowSkin.&lt;init&gt;(TableRowSkin.java:89)\r\n\tat javafx.controls/javafx.scene.control.TableRow.createDefaultSkin(TableRow.java:213)\r\n\tat javafx.controls/javafx.scene.control.Control.doProcessCSS(Control.java:897)\r\n\tat javafx.controls/javafx.scene.control.Control.access$000(Control.java:83)\r\n\tat javafx.controls/javafx.scene.control.Control$1.doProcessCSS(Control.java:89)\r\n\tat javafx.controls/com.sun.javafx.scene.control.ControlHelper.processCSSImpl(ControlHelper.java:67)\r\n\tat javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\r\n\tat javafx.graphics/javafx.scene.Node.processCSS(Node.java:9529)\r\n\tat javafx.graphics/javafx.scene.Node.applyCss(Node.java:9616)\r\n\tat javafx.controls/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1715)\r\n\tat javafx.controls/javafx.scene.control.skin.VirtualFlow.getCell(VirtualFlow.java:1692)\r\n\tat javafx.controls/javafx.scene.control.skin.VirtualFlow.getCellLength(VirtualFlow.java:1801)\r\n\tat javafx.controls/javafx.scene.control.skin.VirtualFlow.computeViewportOffset(VirtualFlow.java:2639)\r\n\tat javafx.controls/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1245)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1204)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\r\n\tat javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\r\n\tat javafx.graphics/javafx.scene.Scene.doLayoutPass(Scene.java:576)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2482)\r\n\tat javafx.graphics/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:412)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:411)\r\n\tat javafx.graphics/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:438)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:519)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:499)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:492)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:320)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:277)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class javafx.beans.property.ReadOnlyProperty (java.lang.String is in module java.base of loader &#39;bootstrap&#39;; javafx.beans.property.ReadOnlyProperty is in module javafx.base of loader &#39;app&#39;)\r\n\tat javafx.base/com.sun.javafx.property.PropertyReference.getProperty(PropertyReference.java:197)\r\n\t... 44 more\r\n```\r\n\r\nCode:\r\n-----\r\nNote: I deleted some methods here which are irrelevant to this problem for better readability\r\n\r\nBill Class:\r\n```java\r\npackage net.strobl.main;\r\n\r\npublic class Bill {\r\n\r\n    private String project;\r\n    private boolean intake;\r\n    private Double amount;\r\n    private boolean digital;\r\n    private String date1;\r\n    private String date2;\r\n    private String date3;\r\n    private String shop;\r\n    private String reason;\r\n    private String person;\r\n    private boolean paid;\r\n    \r\n    public Bill(String project, boolean intake, Double amount, boolean digital, String date1, String date2, String date3, String shop, String reason, String person, boolean paid) {\r\n        this.project = project;\r\n        this.intake = intake;\r\n        this.amount = amount;\r\n        this.digital = digital;\r\n        this.date1 = date1;\r\n        this.date2 = date2;\r\n        this.date3 = date3;\r\n        this.shop = shop;\r\n        this.reason = reason;\r\n        this.person = person;\r\n        this.paid = paid;\r\n    }\r\n\r\n    //region Getters and Setters\r\n    public String getProject() {\r\n        return project;\r\n    }\r\n\r\n    public String projectProperty() {\r\n        return project;\r\n    }\r\n\r\n    public void setProject(String project) {\r\n        this.project = project;\r\n    }\r\n\r\n    public boolean isIntake() {\r\n        return intake;\r\n    }\r\n\r\n    public void setIntake(boolean intake) {\r\n        this.intake = intake;\r\n    }\r\n\r\n    public Double getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(Double amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    public boolean isDigital() {\r\n        return digital;\r\n    }\r\n\r\n    public void setDigital(boolean digital) {\r\n        this.digital = digital;\r\n    }\r\n\r\n    public String getDate1() {\r\n        return date1;\r\n    }\r\n\r\n    public void setDate1(String date1) {\r\n        this.date1 = date1;\r\n    }\r\n\r\n    public String getDate2() {\r\n        return date2;\r\n    }\r\n\r\n    public void setDate2(String date2) {\r\n        this.date2 = date2;\r\n    }\r\n\r\n    public String getDate3() {\r\n        return date3;\r\n    }\r\n\r\n    public void setDate3(String date3) {\r\n        this.date3 = date3;\r\n    }\r\n\r\n    public String getShop() {\r\n        return shop;\r\n    }\r\n\r\n    public void setShop(String shop) {\r\n        this.shop = shop;\r\n    }\r\n\r\n    public String getReason() {\r\n        return reason;\r\n    }\r\n\r\n    public void setReason(String reason) {\r\n        this.reason = reason;\r\n    }\r\n\r\n    public String getPerson() {\r\n        return person;\r\n    }\r\n\r\n    public void setPerson(String person) {\r\n        this.person = person;\r\n    }\r\n\r\n    public boolean isPaid() {\r\n        return paid;\r\n    }\r\n\r\n    public void setPaid(boolean paid) {\r\n        this.paid = paid;\r\n    }\r\n    //endregion\r\n}\r\n\r\n```\r\n\r\nController Class:\r\n```java\r\npackage net.strobl.main;\r\n\r\n\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\n\r\nimport javafx.scene.control.*;\r\n\r\nimport javafx.scene.control.cell.PropertyValueFactory;\r\nimport net.strobl.processing.DataManager;\r\n\r\nimport java.io.IOException;\r\n\r\n\r\npublic class Controller{\r\n\r\n    private App app;\r\n    private DataManager dataManager;\r\n\r\n\r\n    //region @FXML Objects new Bill\r\n    @FXML\r\n    Button submitButton;\r\n\r\n    @FXML\r\n    TextField inputProject;\r\n    @FXML\r\n    TextField inputAmount;\r\n    @FXML\r\n    TextField inputShop;\r\n    @FXML\r\n    TextField inputReason;\r\n    @FXML\r\n    TextField inputPerson;\r\n    @FXML\r\n    TextField inputDate1;\r\n    @FXML\r\n    TextField inputDate2;\r\n    @FXML\r\n    TextField inputDate3;\r\n    @FXML\r\n    RadioButton inputIntake;\r\n    @FXML\r\n    RadioButton inputDigital;\r\n    @FXML\r\n    RadioButton inputPaid;\r\n    //endregion\r\n\r\n    //region @FXML Objects viewProject\r\n    @FXML\r\n    Spinner&lt;String&gt; spinnerProjectSelect;\r\n    @FXML\r\n    TextField textFieldProjectSpent;\r\n    @FXML\r\n    TextField textFieldProjectGained;\r\n    @FXML\r\n    TextField textFieldProjectRevenue;\r\n    @FXML\r\n    ScrollPane scrollPane;\r\n\r\n    //region @FXML TableView and Columns\r\n    @FXML\r\n    TableView&lt;Bill&gt; tableView;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnProject;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnAmount;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnIntake;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnDigital;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnShop;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnReason;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnPerson;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnDate1;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnDate2;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnDate3;\r\n    @FXML\r\n    TableColumn&lt;Bill, String&gt; columnPaid;\r\n\r\n\r\n    public void addTableViewData(ActionEvent event){\r\n        columnProject.setCellValueFactory(new PropertyValueFactory&lt;Bill, String&gt;(&quot;project&quot;));\r\n        tableView.setItems(getObservableBills());\r\n    }\r\n\r\n    private ObservableList&lt;Bill&gt; getObservableBills(){\r\n        return FXCollections.observableArrayList(app.getBills());\r\n    }\r\n\r\n    public Controller() throws IOException {\r\n        app = new App();\r\n        dataManager = new DataManager();\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nfxml file (only included the button and the TableView):\r\n----------------\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ScrollPane?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n\r\n         &lt;TableView fx:id=&quot;tableView&quot; prefHeight=&quot;585.0&quot; prefWidth=&quot;800.0&quot;&gt;\r\n           &lt;columns&gt;\r\n             &lt;TableColumn fx:id=&quot;columnProject&quot; prefWidth=&quot;94.0&quot; text=&quot;Project&quot; /&gt;\r\n             &lt;TableColumn fx:id=&quot;columnAmount&quot; prefWidth=&quot;66.0&quot; text=&quot;Amount&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnIntake&quot; prefWidth=&quot;57.0&quot; text=&quot;Intake&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnDigital&quot; minWidth=&quot;0.0&quot; prefWidth=&quot;54.0&quot; text=&quot;Digital&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnShop&quot; minWidth=&quot;1.0&quot; prefWidth=&quot;85.0&quot; text=&quot;Shop&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnReason&quot; prefWidth=&quot;86.0&quot; text=&quot;Reason&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnPerson&quot; prefWidth=&quot;87.0&quot; text=&quot;Person&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnDate1&quot; prefWidth=&quot;74.0&quot; text=&quot;Date 1&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnDate2&quot; prefWidth=&quot;64.0&quot; text=&quot;Date 2&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnDate3&quot; prefWidth=&quot;64.0&quot; text=&quot;Date 3&quot; /&gt;\r\n               &lt;TableColumn fx:id=&quot;columnPaid&quot; prefWidth=&quot;68.0&quot; text=&quot;Paid&quot; /&gt;\r\n           &lt;/columns&gt;\r\n         &lt;/TableView&gt;\r\n\r\n&lt;Button fx:id=&quot;buttonReload&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#addTableViewData&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;140.0&quot; text=&quot;Reload&quot; GridPane.rowIndex=&quot;2&quot; /&gt;\r\n```\r\n\r\nmodule-info.java\r\n----------------\r\n```java\r\nmodule AutomatedFinances {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires opencsv;\r\n\r\n    opens net.strobl.main;\r\n}\r\n```","title":"JavaFX PropertyValueFactory is not able to retrieve property","body":"<h2>Summary:</h2>\n\n<p>I am trying to add/reload data from an ArrayList to a TableView by pressing a \"Reload Button\" (currently I am just testing it with one column of the TableView) . \nBecause TableView requires an ObservableList, I made an ObservableList getter method where the ObservableList is created from an existing ArrayList (I tested both Lists by printing their values with no issue). Everytime I press the reload button,only the amount of rows are created and I get an error, caused by this line of code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>columnProject.setCellValueFactory(new PropertyValueFactory&lt;Bill, String&gt;(\"project\"));\n</code></pre>\n\n<p>I looked the problem up for the last 3 hours and tried everything I found on Stack Overflow without any success.</p>\n\n<h2>Information:</h2>\n\n<ul>\n<li>Java: openjdk 11.0.3 and Javafx-11</li>\n<li>Operating System: Manjaro Linux with Kernel 5.0.7-1</li>\n<li>IDE: IntelliJ Idea Ultimate 2019</li>\n<li>I use FXML with SceneBuilder for all JavaFX Objects</li>\n</ul>\n\n<h2>Error:</h2>\n\n<pre><code>Apr 26, 2019 10:23:16 PM javafx.scene.control.cell.PropertyValueFactory getCellDataReflectively\nWARNING: Can not retrieve property 'project' in PropertyValueFactory: javafx.scene.control.cell.PropertyValueFactory@688d477d with provided class type: class net.strobl.main.Bill\njava.lang.RuntimeException: java.lang.ClassCastException: class java.lang.String cannot be cast to class javafx.beans.property.ReadOnlyProperty (java.lang.String is in module java.base of loader 'bootstrap'; javafx.beans.property.ReadOnlyProperty is in module javafx.base of loader 'app')\n    at javafx.base/com.sun.javafx.property.PropertyReference.getProperty(PropertyReference.java:199)\n    at javafx.controls/javafx.scene.control.cell.PropertyValueFactory.getCellDataReflectively(PropertyValueFactory.java:182)\n    at javafx.controls/javafx.scene.control.cell.PropertyValueFactory.call(PropertyValueFactory.java:154)\n    at javafx.controls/javafx.scene.control.cell.PropertyValueFactory.call(PropertyValueFactory.java:133)\n    at javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:593)\n    at javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:578)\n    at javafx.controls/javafx.scene.control.TableCell.updateItem(TableCell.java:646)\n    at javafx.controls/javafx.scene.control.TableCell.indexChanged(TableCell.java:469)\n    at javafx.controls/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:120)\n    at javafx.controls/javafx.scene.control.skin.TableRowSkinBase.updateCells(TableRowSkinBase.java:539)\n    at javafx.controls/javafx.scene.control.skin.TableRowSkinBase.&lt;init&gt;(TableRowSkinBase.java:159)\n    at javafx.controls/javafx.scene.control.skin.TableRowSkin.&lt;init&gt;(TableRowSkin.java:89)\n    at javafx.controls/javafx.scene.control.TableRow.createDefaultSkin(TableRow.java:213)\n    at javafx.controls/javafx.scene.control.Control.doProcessCSS(Control.java:897)\n    at javafx.controls/javafx.scene.control.Control.access$000(Control.java:83)\n    at javafx.controls/javafx.scene.control.Control$1.doProcessCSS(Control.java:89)\n    at javafx.controls/com.sun.javafx.scene.control.ControlHelper.processCSSImpl(ControlHelper.java:67)\n    at javafx.graphics/com.sun.javafx.scene.NodeHelper.processCSS(NodeHelper.java:145)\n    at javafx.graphics/javafx.scene.Node.processCSS(Node.java:9529)\n    at javafx.graphics/javafx.scene.Node.applyCss(Node.java:9616)\n    at javafx.controls/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1715)\n    at javafx.controls/javafx.scene.control.skin.VirtualFlow.getCell(VirtualFlow.java:1692)\n    at javafx.controls/javafx.scene.control.skin.VirtualFlow.getCellLength(VirtualFlow.java:1801)\n    at javafx.controls/javafx.scene.control.skin.VirtualFlow.computeViewportOffset(VirtualFlow.java:2639)\n    at javafx.controls/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1245)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1204)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\n    at javafx.graphics/javafx.scene.Parent.layout(Parent.java:1211)\n    at javafx.graphics/javafx.scene.Scene.doLayoutPass(Scene.java:576)\n    at javafx.graphics/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2482)\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:412)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:411)\n    at javafx.graphics/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:438)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:519)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:499)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:492)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:320)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.gtk.GtkApplication.lambda$runLoop$11(GtkApplication.java:277)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.lang.ClassCastException: class java.lang.String cannot be cast to class javafx.beans.property.ReadOnlyProperty (java.lang.String is in module java.base of loader 'bootstrap'; javafx.beans.property.ReadOnlyProperty is in module javafx.base of loader 'app')\n    at javafx.base/com.sun.javafx.property.PropertyReference.getProperty(PropertyReference.java:197)\n    ... 44 more\n</code></pre>\n\n<h2>Code:</h2>\n\n<p>Note: I deleted some methods here which are irrelevant to this problem for better readability</p>\n\n<p>Bill Class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package net.strobl.main;\n\npublic class Bill {\n\n    private String project;\n    private boolean intake;\n    private Double amount;\n    private boolean digital;\n    private String date1;\n    private String date2;\n    private String date3;\n    private String shop;\n    private String reason;\n    private String person;\n    private boolean paid;\n\n    public Bill(String project, boolean intake, Double amount, boolean digital, String date1, String date2, String date3, String shop, String reason, String person, boolean paid) {\n        this.project = project;\n        this.intake = intake;\n        this.amount = amount;\n        this.digital = digital;\n        this.date1 = date1;\n        this.date2 = date2;\n        this.date3 = date3;\n        this.shop = shop;\n        this.reason = reason;\n        this.person = person;\n        this.paid = paid;\n    }\n\n    //region Getters and Setters\n    public String getProject() {\n        return project;\n    }\n\n    public String projectProperty() {\n        return project;\n    }\n\n    public void setProject(String project) {\n        this.project = project;\n    }\n\n    public boolean isIntake() {\n        return intake;\n    }\n\n    public void setIntake(boolean intake) {\n        this.intake = intake;\n    }\n\n    public Double getAmount() {\n        return amount;\n    }\n\n    public void setAmount(Double amount) {\n        this.amount = amount;\n    }\n\n    public boolean isDigital() {\n        return digital;\n    }\n\n    public void setDigital(boolean digital) {\n        this.digital = digital;\n    }\n\n    public String getDate1() {\n        return date1;\n    }\n\n    public void setDate1(String date1) {\n        this.date1 = date1;\n    }\n\n    public String getDate2() {\n        return date2;\n    }\n\n    public void setDate2(String date2) {\n        this.date2 = date2;\n    }\n\n    public String getDate3() {\n        return date3;\n    }\n\n    public void setDate3(String date3) {\n        this.date3 = date3;\n    }\n\n    public String getShop() {\n        return shop;\n    }\n\n    public void setShop(String shop) {\n        this.shop = shop;\n    }\n\n    public String getReason() {\n        return reason;\n    }\n\n    public void setReason(String reason) {\n        this.reason = reason;\n    }\n\n    public String getPerson() {\n        return person;\n    }\n\n    public void setPerson(String person) {\n        this.person = person;\n    }\n\n    public boolean isPaid() {\n        return paid;\n    }\n\n    public void setPaid(boolean paid) {\n        this.paid = paid;\n    }\n    //endregion\n}\n\n</code></pre>\n\n<p>Controller Class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package net.strobl.main;\n\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\n\nimport javafx.scene.control.*;\n\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport net.strobl.processing.DataManager;\n\nimport java.io.IOException;\n\n\npublic class Controller{\n\n    private App app;\n    private DataManager dataManager;\n\n\n    //region @FXML Objects new Bill\n    @FXML\n    Button submitButton;\n\n    @FXML\n    TextField inputProject;\n    @FXML\n    TextField inputAmount;\n    @FXML\n    TextField inputShop;\n    @FXML\n    TextField inputReason;\n    @FXML\n    TextField inputPerson;\n    @FXML\n    TextField inputDate1;\n    @FXML\n    TextField inputDate2;\n    @FXML\n    TextField inputDate3;\n    @FXML\n    RadioButton inputIntake;\n    @FXML\n    RadioButton inputDigital;\n    @FXML\n    RadioButton inputPaid;\n    //endregion\n\n    //region @FXML Objects viewProject\n    @FXML\n    Spinner&lt;String&gt; spinnerProjectSelect;\n    @FXML\n    TextField textFieldProjectSpent;\n    @FXML\n    TextField textFieldProjectGained;\n    @FXML\n    TextField textFieldProjectRevenue;\n    @FXML\n    ScrollPane scrollPane;\n\n    //region @FXML TableView and Columns\n    @FXML\n    TableView&lt;Bill&gt; tableView;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnProject;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnAmount;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnIntake;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnDigital;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnShop;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnReason;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnPerson;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnDate1;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnDate2;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnDate3;\n    @FXML\n    TableColumn&lt;Bill, String&gt; columnPaid;\n\n\n    public void addTableViewData(ActionEvent event){\n        columnProject.setCellValueFactory(new PropertyValueFactory&lt;Bill, String&gt;(\"project\"));\n        tableView.setItems(getObservableBills());\n    }\n\n    private ObservableList&lt;Bill&gt; getObservableBills(){\n        return FXCollections.observableArrayList(app.getBills());\n    }\n\n    public Controller() throws IOException {\n        app = new App();\n        dataManager = new DataManager();\n\n    }\n\n}\n\n</code></pre>\n\n<h2>fxml file (only included the button and the TableView):</h2>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ScrollPane?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n\n         &lt;TableView fx:id=\"tableView\" prefHeight=\"585.0\" prefWidth=\"800.0\"&gt;\n           &lt;columns&gt;\n             &lt;TableColumn fx:id=\"columnProject\" prefWidth=\"94.0\" text=\"Project\" /&gt;\n             &lt;TableColumn fx:id=\"columnAmount\" prefWidth=\"66.0\" text=\"Amount\" /&gt;\n               &lt;TableColumn fx:id=\"columnIntake\" prefWidth=\"57.0\" text=\"Intake\" /&gt;\n               &lt;TableColumn fx:id=\"columnDigital\" minWidth=\"0.0\" prefWidth=\"54.0\" text=\"Digital\" /&gt;\n               &lt;TableColumn fx:id=\"columnShop\" minWidth=\"1.0\" prefWidth=\"85.0\" text=\"Shop\" /&gt;\n               &lt;TableColumn fx:id=\"columnReason\" prefWidth=\"86.0\" text=\"Reason\" /&gt;\n               &lt;TableColumn fx:id=\"columnPerson\" prefWidth=\"87.0\" text=\"Person\" /&gt;\n               &lt;TableColumn fx:id=\"columnDate1\" prefWidth=\"74.0\" text=\"Date 1\" /&gt;\n               &lt;TableColumn fx:id=\"columnDate2\" prefWidth=\"64.0\" text=\"Date 2\" /&gt;\n               &lt;TableColumn fx:id=\"columnDate3\" prefWidth=\"64.0\" text=\"Date 3\" /&gt;\n               &lt;TableColumn fx:id=\"columnPaid\" prefWidth=\"68.0\" text=\"Paid\" /&gt;\n           &lt;/columns&gt;\n         &lt;/TableView&gt;\n\n&lt;Button fx:id=\"buttonReload\" mnemonicParsing=\"false\" onAction=\"#addTableViewData\" prefHeight=\"28.0\" prefWidth=\"140.0\" text=\"Reload\" GridPane.rowIndex=\"2\" /&gt;\n</code></pre>\n\n<h2>module-info.java</h2>\n\n<pre class=\"lang-java prettyprint-override\"><code>module AutomatedFinances {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires opencsv;\n\n    opens net.strobl.main;\n}\n</code></pre>\n"},{"tags":["java","android","webrtc","webrtc-android"],"owner":{"account_id":9175656,"reputation":19,"user_id":6821342,"display_name":"Kai Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675913091,"creation_date":1675913091,"question_id":75393883,"body_markdown":"I&#39;d developing an app to load video streams from Nest Camera using \r\n```\r\norg.webrtc:google-webrtc\r\n```\r\n\r\nI am always successful in loading video stream from Samsung phones. But some device like Sony or Google Pixel cannot load the stream from the Nest Camera(I just want to play stream only, not to make a call).\r\n\r\nThis is the log from Sony phone:\r\n\r\n```\r\n2023-03-02 10:11:19.520 14923-14923/ I/org.webrtc.Logging: EglBase14Impl: SDK version: 29. isEGL14Supported: true\r\n2023-03-02 10:11:19.522 14923-14923/ I/org.webrtc.Logging: EglBase14Impl: Using OpenGL ES version 2\r\n2023-03-02 10:11:19.524 14923-14923/ I/org.webrtc.Logging: NativeLibrary: Native library has already been loaded.\r\n2023-03-02 10:11:19.524 14923-14923/ I/org.webrtc.Logging: PeerConnectionFactory: PeerConnectionFactory was initialized without an injected Loggable. Any existing Loggable will be deleted.\r\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: WebRtcAudioManagerExternal: Sample rate is set to 48000 Hz\r\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: WebRtcAudioManagerExternal: Sample rate is set to 48000 Hz\r\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: JavaAudioDeviceModule: createAudioDeviceModule\r\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: JavaAudioDeviceModule: HW NS will be used.\r\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: JavaAudioDeviceModule: HW AEC will be used.\r\n2023-03-02 10:11:19.527 14923-14923/ I/org.webrtc.Logging: WebRtcAudioEffectsExternal: ctor@[name=main, id=2]\r\n2023-03-02 10:11:19.527 14923-14923/ I/org.webrtc.Logging: WebRtcAudioRecordExternal: ctor@[name=main, id=2]\r\n2023-03-02 10:11:19.527 14923-14923/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: ctor@[name=main, id=2]\r\n2023-03-02 10:11:19.536 14923-16819/ I/org.webrtc.Logging: WebRtcAudioRecordExternal: enableBuiltInAEC(true)\r\n2023-03-02 10:11:19.536 14923-16819/ I/org.webrtc.Logging: WebRtcAudioEffectsExternal: setAEC(true)\r\n2023-03-02 10:11:19.537 14923-16819/ I/org.webrtc.Logging: WebRtcAudioRecordExternal: enableBuiltInNS(true)\r\n2023-03-02 10:11:19.537 14923-16819/ I/org.webrtc.Logging: WebRtcAudioEffectsExternal: setNS(true)\r\n2023-03-02 10:11:19.539 14923-16819/ I/org.webrtc.Logging: PeerConnectionFactory: onWorkerThreadReady\r\n2023-03-02 10:11:19.539 14923-16820/ I/org.webrtc.Logging: PeerConnectionFactory: onSignalingThreadReady\r\n2023-03-02 10:11:19.540 14923-16818/ I/org.webrtc.Logging: PeerConnectionFactory: onNetworkThreadReady\r\n2023-03-02 10:11:19.585 14923-14923/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewInitializing EglRenderer\r\n2023-03-02 10:11:19.587 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewEglBase.create shared context\r\n2023-03-02 10:11:19.587 14923-16823/ I/org.webrtc.Logging: EglBase14Impl: Using OpenGL ES version 2\r\n2023-03-02 10:11:19.614 14923-14923/ I/org.webrtc.Logging: SurfaceViewRenderer: remote_gl_surface_view: onMeasure(). New size: 1080x1944\r\n2023-03-02 10:11:19.618 14923-14923/ I/org.webrtc.Logging: SurfaceViewRenderer: remote_gl_surface_view: onMeasure(). New size: 1080x1944\r\n2023-03-02 10:11:19.622 14923-16818/ I/org.webrtc.Logging: NetworkMonitor: Start monitoring with native observer 505486685312\r\n2023-03-02 10:11:19.623 14923-14923/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewsetLayoutAspectRatio: 0.5555556\r\n2023-03-02 10:11:19.627 14923-16818/ W/org.webrtc.Logging: NetworkMonitorAutoDetect: Unable to obtain permission to request a cellular network.\r\n2023-03-02 10:11:19.629 14923-14923/ I/org.webrtc.Logging: SurfaceEglRenderer: remote_gl_surface_view: surfaceChanged: format: 4 size: 1080x1944\r\n2023-03-02 10:11:19.630 14923-15003/ I/org.webrtc.Logging: NetworkMonitorAutoDetect: Network becomes available: 100\r\n2023-03-02 10:11:19.641 14923-15003/ I/org.webrtc.Logging: NetworkMonitorAutoDetect: capabilities changed: [ Transports: WIFI Capabilities: NOT_METERED&amp;INTERNET&amp;NOT_RESTRICTED&amp;TRUSTED&amp;NOT_VPN&amp;VALIDATED&amp;NOT_ROAMING&amp;FOREGROUND&amp;NOT_CONGESTED&amp;NOT_SUSPENDED LinkUpBandwidth&gt;=1048576Kbps LinkDnBandwidth&gt;=1048576Kbps SignalStrength: -52]\r\n2023-03-02 10:11:19.653 14923-15003/ I/org.webrtc.Logging: NetworkMonitorAutoDetect: link properties changed: {InterfaceName: wlan0 LinkAddresses: [ fe80::e84d:ecff:fe8e:f358/64,192.168.1.4/24,2402:800:629c:5dc8:e84d:ecff:fe8e:f358/64,2402:800:629c:5dc8:592a:19e1:3c56:c5ab/64 ] DnsAddresses: [ /2402:800:20ff:6666::1,/2402:800:20ff:8888::1,/203.113.131.2,/203.113.131.3 ] Domains: null MTU: 0 TcpBufferSizes: 524288,1048576,2097152,262144,524288,1048576 Routes: [ fe80::/64 -&gt; :: wlan0,::/0 -&gt; fe80::1 wlan0,2402:800:629c:5dc8::/64 -&gt; :: wlan0,192.168.1.0/24 -&gt; 0.0.0.0 wlan0,0.0.0.0/0 -&gt; 192.168.1.1 wlan0 ]}\r\n2023-03-02 10:11:21.126 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: initPlayout(sampleRate=48000, channels=1, bufferSizeFactor=1.0)\r\n2023-03-02 10:11:21.126 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: byteBuffer.capacity: 960\r\n2023-03-02 10:11:21.127 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: minBufferSizeInBytes: 7688\r\n2023-03-02 10:11:21.128 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: createAudioTrackOnLollipopOrHigher\r\n2023-03-02 10:11:21.128 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: nativeOutputSampleRate: 48000\r\n2023-03-02 10:11:21.137 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrack: session ID: 145, channels: 1, sample rate: 48000, max gain: 1.0\r\n2023-03-02 10:11:21.137 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrack: buffer size in frames: 3844\r\n2023-03-02 10:11:21.138 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrack: buffer capacity in frames: 3844\r\n2023-03-02 10:11:21.138 14923-16819/ I/org.webrtc.Logging: VolumeLogger: start@[name=worker_thread - 16819, id=1788]\r\n2023-03-02 10:11:21.138 14923-16819/ I/org.webrtc.Logging: VolumeLogger: audio mode is: MODE_NORMAL\r\n2023-03-02 10:11:21.139 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: startPlayout\r\n2023-03-02 10:11:21.145 14923-16953/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrackThread@[name=AudioTrackJavaThread, id=1797]\r\n2023-03-02 10:11:21.145 14923-16953/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: doAudioTrackStateCallback: 0\r\n2023-03-02 10:11:21.148 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.avc type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\r\n2023-03-02 10:11:21.149 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: c2.android.avc.decoder type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\r\n2023-03-02 10:11:21.149 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.avc type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\r\n2023-03-02 10:11:21.150 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: c2.android.avc.decoder type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\r\n2023-03-02 10:11:21.150 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.vp8 type: VP8 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\r\n2023-03-02 10:11:21.151 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.vp9 type: VP9 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\r\n2023-03-02 10:11:23.595 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\r\n2023-03-02 10:11:27.602 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\r\n2023-03-02 10:11:31.609 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\r\n\r\n```\r\n\r\nAnd here is the offer sdp I created from the Sony phone:\r\n\r\n```\r\nv=0\r\no=- 8159822428667968027 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1 2\r\na=msid-semantic: WMS\r\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:sXTN\r\na=ice-pwd:dV5VWyYSmcuH6YjyjR4BBnP5\r\na=ice-options:trickle renomination\r\na=fingerprint:sha-256 48:20:E6:BA:2C:5E:6A:AC:20:93:8A:D9:E0:49:CA:EE:61:5F:C9:A7:26:75:CC:E1:F5:2F:38:B2:35:71:19:BD\r\na=setup:actpass\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:5 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:6 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=recvonly\r\na=rtcp-mux\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtpmap:103 ISAC/16000\r\na=rtpmap:104 ISAC/32000\r\na=rtpmap:9 G722/8000\r\na=rtpmap:102 ILBC/8000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:106 CN/32000\r\na=rtpmap:105 CN/16000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:110 telephone-event/48000\r\na=rtpmap:112 telephone-event/32000\r\na=rtpmap:113 telephone-event/16000\r\na=rtpmap:126 telephone-event/8000\r\nm=video 9 UDP/TLS/RTP/SAVPF 124 100 96 97 98 99 101 127 123 125\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:sXTN\r\na=ice-pwd:dV5VWyYSmcuH6YjyjR4BBnP5\r\na=ice-options:trickle renomination\r\na=fingerprint:sha-256 48:20:E6:BA:2C:5E:6A:AC:20:93:8A:D9:E0:49:CA:EE:61:5F:C9:A7:26:75:CC:E1:F5:2F:38:B2:35:71:19:BD\r\na=setup:actpass\r\na=mid:1\r\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:12 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:11 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:5 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:6 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=recvonly\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:124 H264/90000\r\na=rtcp-fb:124 goog-remb\r\na=rtcp-fb:124 transport-cc\r\na=rtcp-fb:124 ccm fir\r\na=rtcp-fb:124 nack\r\na=rtcp-fb:124 nack pli\r\na=fmtp:124 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:127 red/90000\r\na=rtpmap:123 rtx/90000\r\na=fmtp:123 apt=127\r\na=rtpmap:125 ulpfec/90000\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:sXTN\r\na=ice-pwd:dV5VWyYSmcuH6YjyjR4BBnP5\r\na=ice-options:trickle renomination\r\na=fingerprint:sha-256 48:20:E6:BA:2C:5E:6A:AC:20:93:8A:D9:E0:49:CA:EE:61:5F:C9:A7:26:75:CC:E1:F5:2F:38:B2:35:71:19:BD\r\na=setup:actpass\r\na=mid:2\r\na=sctp-port:5000\r\na=max-message-size:262144\r\n```\r\n\r\nAnd here is the answerSdp from the Nest Camera:\r\n\r\n```\r\nv=0\r\no=- 0 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 2 1\r\na=msid-semantic: WMS 3725812075825813547/3327200828 virtual-6666\r\na=ice-lite\r\nm=audio 19305 UDP/TLS/RTP/SAVPF 111\r\nc=IN IP4 108.177.122.127\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=candidate: 1 udp 2113939711 2607:f8b0:4002:c02::7f 19305 typ host generation 0\r\na=candidate: 1 tcp 2113939710 2607:f8b0:4002:c02::7f 19305 typ host tcptype passive generation 0\r\na=candidate: 1 ssltcp 2113939709 2607:f8b0:4002:c02::7f 443 typ host generation 0\r\na=candidate: 1 udp 2113932031 108.177.122.127 19305 typ host generation 0\r\na=candidate: 1 tcp 2113932030 108.177.122.127 19305 typ host tcptype passive generation 0\r\na=candidate: 1 ssltcp 2113932029 108.177.122.127 443 typ host generation 0\r\na=ice-ufrag:JEEXTA46SZCV9G7S\r\na=ice-pwd:B8NCOJ4G1LQBXPP4AKL9YSYE\r\na=fingerprint:sha-256 DA:DC:9C:35:98:28:D2:C7:DA:1C:38:F7:DD:2B:D2:61:D9:93:0A:08:5D:CE:BB:51:CF:1B:BC:E0:A6:90:CF:8C\r\na=setup:passive\r\na=mid:0\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=sendrecv\r\na=msid:virtual-6666 virtual-6666\r\na=rtcp-mux\r\na=rtpmap:111 opus/48000/2\r\na=rtcp-fb:111 transport-cc\r\na=fmtp:111 minptime=10;useinbandfec=1\r\na=rtcp-fb:* transport-cc\r\na=ssrc:6666 cname:6666\r\nm=video 9 UDP/TLS/RTP/SAVPF 124 100 101\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:JEEXTA46SZCV9G7S\r\na=ice-pwd:B8NCOJ4G1LQBXPP4AKL9YSYE\r\na=fingerprint:sha-256 DA:DC:9C:35:98:28:D2:C7:DA:1C:38:F7:DD:2B:D2:61:D9:93:0A:08:5D:CE:BB:51:CF:1B:BC:E0:A6:90:CF:8C\r\na=setup:passive\r\na=mid:1\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:13 urn:3gpp:video-orientation\r\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=sendrecv\r\na=msid:3725812075825813547/3327200828 3725812075825813547/3327200828\r\na=rtcp-mux\r\na=rtpmap:124 H264/90000\r\na=rtcp-fb:124 transport-cc\r\na=rtcp-fb:124 ccm fir\r\na=rtcp-fb:124 nack\r\na=rtcp-fb:124 nack pli\r\na=rtcp-fb:124 goog-remb\r\na=fmtp:124 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f\r\na=rtpmap:100 H264/90000\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=rtcp-fb:100 goog-remb\r\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtcp-fb:* transport-cc\r\na=rtcp-fb:* ccm fir\r\na=rtcp-fb:* nack\r\na=rtcp-fb:* nack pli\r\na=rtcp-fb:* goog-remb\r\na=ssrc-group:FID 3327200828 1688556008\r\na=ssrc:3327200828 cname:3327200828\r\na=ssrc:1688556008 cname:3327200828\r\nm=application 9 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:JEEXTA46SZCV9G7S\r\na=ice-pwd:B8NCOJ4G1LQBXPP4AKL9YSYE\r\na=fingerprint:sha-256 DA:DC:9C:35:98:28:D2:C7:DA:1C:38:F7:DD:2B:D2:61:D9:93:0A:08:5D:CE:BB:51:CF:1B:BC:E0:A6:90:CF:8C\r\na=setup:passive\r\na=mid:2\r\na=sctpmap:5000 webrtc-datachannel 1024\r\n```\r\n\r\nI checking the logs look like it stucking on the ICE state: &quot;CHECKING&quot; and never go to &quot;CONNECTED&quot; state. But with the same logic the Samsung phone can connect fine.\r\n\r\nPlease let me know if I missing something.\r\n\r\nThank you very much for reading and helping.","title":"Android Google WebRTC cannot load stream on some devices","body":"<p>I'd developing an app to load video streams from Nest Camera using</p>\n<pre><code>org.webrtc:google-webrtc\n</code></pre>\n<p>I am always successful in loading video stream from Samsung phones. But some device like Sony or Google Pixel cannot load the stream from the Nest Camera(I just want to play stream only, not to make a call).</p>\n<p>This is the log from Sony phone:</p>\n<pre><code>2023-03-02 10:11:19.520 14923-14923/ I/org.webrtc.Logging: EglBase14Impl: SDK version: 29. isEGL14Supported: true\n2023-03-02 10:11:19.522 14923-14923/ I/org.webrtc.Logging: EglBase14Impl: Using OpenGL ES version 2\n2023-03-02 10:11:19.524 14923-14923/ I/org.webrtc.Logging: NativeLibrary: Native library has already been loaded.\n2023-03-02 10:11:19.524 14923-14923/ I/org.webrtc.Logging: PeerConnectionFactory: PeerConnectionFactory was initialized without an injected Loggable. Any existing Loggable will be deleted.\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: WebRtcAudioManagerExternal: Sample rate is set to 48000 Hz\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: WebRtcAudioManagerExternal: Sample rate is set to 48000 Hz\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: JavaAudioDeviceModule: createAudioDeviceModule\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: JavaAudioDeviceModule: HW NS will be used.\n2023-03-02 10:11:19.526 14923-14923/ I/org.webrtc.Logging: JavaAudioDeviceModule: HW AEC will be used.\n2023-03-02 10:11:19.527 14923-14923/ I/org.webrtc.Logging: WebRtcAudioEffectsExternal: ctor@[name=main, id=2]\n2023-03-02 10:11:19.527 14923-14923/ I/org.webrtc.Logging: WebRtcAudioRecordExternal: ctor@[name=main, id=2]\n2023-03-02 10:11:19.527 14923-14923/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: ctor@[name=main, id=2]\n2023-03-02 10:11:19.536 14923-16819/ I/org.webrtc.Logging: WebRtcAudioRecordExternal: enableBuiltInAEC(true)\n2023-03-02 10:11:19.536 14923-16819/ I/org.webrtc.Logging: WebRtcAudioEffectsExternal: setAEC(true)\n2023-03-02 10:11:19.537 14923-16819/ I/org.webrtc.Logging: WebRtcAudioRecordExternal: enableBuiltInNS(true)\n2023-03-02 10:11:19.537 14923-16819/ I/org.webrtc.Logging: WebRtcAudioEffectsExternal: setNS(true)\n2023-03-02 10:11:19.539 14923-16819/ I/org.webrtc.Logging: PeerConnectionFactory: onWorkerThreadReady\n2023-03-02 10:11:19.539 14923-16820/ I/org.webrtc.Logging: PeerConnectionFactory: onSignalingThreadReady\n2023-03-02 10:11:19.540 14923-16818/ I/org.webrtc.Logging: PeerConnectionFactory: onNetworkThreadReady\n2023-03-02 10:11:19.585 14923-14923/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewInitializing EglRenderer\n2023-03-02 10:11:19.587 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewEglBase.create shared context\n2023-03-02 10:11:19.587 14923-16823/ I/org.webrtc.Logging: EglBase14Impl: Using OpenGL ES version 2\n2023-03-02 10:11:19.614 14923-14923/ I/org.webrtc.Logging: SurfaceViewRenderer: remote_gl_surface_view: onMeasure(). New size: 1080x1944\n2023-03-02 10:11:19.618 14923-14923/ I/org.webrtc.Logging: SurfaceViewRenderer: remote_gl_surface_view: onMeasure(). New size: 1080x1944\n2023-03-02 10:11:19.622 14923-16818/ I/org.webrtc.Logging: NetworkMonitor: Start monitoring with native observer 505486685312\n2023-03-02 10:11:19.623 14923-14923/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewsetLayoutAspectRatio: 0.5555556\n2023-03-02 10:11:19.627 14923-16818/ W/org.webrtc.Logging: NetworkMonitorAutoDetect: Unable to obtain permission to request a cellular network.\n2023-03-02 10:11:19.629 14923-14923/ I/org.webrtc.Logging: SurfaceEglRenderer: remote_gl_surface_view: surfaceChanged: format: 4 size: 1080x1944\n2023-03-02 10:11:19.630 14923-15003/ I/org.webrtc.Logging: NetworkMonitorAutoDetect: Network becomes available: 100\n2023-03-02 10:11:19.641 14923-15003/ I/org.webrtc.Logging: NetworkMonitorAutoDetect: capabilities changed: [ Transports: WIFI Capabilities: NOT_METERED&amp;INTERNET&amp;NOT_RESTRICTED&amp;TRUSTED&amp;NOT_VPN&amp;VALIDATED&amp;NOT_ROAMING&amp;FOREGROUND&amp;NOT_CONGESTED&amp;NOT_SUSPENDED LinkUpBandwidth&gt;=1048576Kbps LinkDnBandwidth&gt;=1048576Kbps SignalStrength: -52]\n2023-03-02 10:11:19.653 14923-15003/ I/org.webrtc.Logging: NetworkMonitorAutoDetect: link properties changed: {InterfaceName: wlan0 LinkAddresses: [ fe80::e84d:ecff:fe8e:f358/64,192.168.1.4/24,2402:800:629c:5dc8:e84d:ecff:fe8e:f358/64,2402:800:629c:5dc8:592a:19e1:3c56:c5ab/64 ] DnsAddresses: [ /2402:800:20ff:6666::1,/2402:800:20ff:8888::1,/203.113.131.2,/203.113.131.3 ] Domains: null MTU: 0 TcpBufferSizes: 524288,1048576,2097152,262144,524288,1048576 Routes: [ fe80::/64 -&gt; :: wlan0,::/0 -&gt; fe80::1 wlan0,2402:800:629c:5dc8::/64 -&gt; :: wlan0,192.168.1.0/24 -&gt; 0.0.0.0 wlan0,0.0.0.0/0 -&gt; 192.168.1.1 wlan0 ]}\n2023-03-02 10:11:21.126 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: initPlayout(sampleRate=48000, channels=1, bufferSizeFactor=1.0)\n2023-03-02 10:11:21.126 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: byteBuffer.capacity: 960\n2023-03-02 10:11:21.127 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: minBufferSizeInBytes: 7688\n2023-03-02 10:11:21.128 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: createAudioTrackOnLollipopOrHigher\n2023-03-02 10:11:21.128 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: nativeOutputSampleRate: 48000\n2023-03-02 10:11:21.137 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrack: session ID: 145, channels: 1, sample rate: 48000, max gain: 1.0\n2023-03-02 10:11:21.137 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrack: buffer size in frames: 3844\n2023-03-02 10:11:21.138 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrack: buffer capacity in frames: 3844\n2023-03-02 10:11:21.138 14923-16819/ I/org.webrtc.Logging: VolumeLogger: start@[name=worker_thread - 16819, id=1788]\n2023-03-02 10:11:21.138 14923-16819/ I/org.webrtc.Logging: VolumeLogger: audio mode is: MODE_NORMAL\n2023-03-02 10:11:21.139 14923-16819/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: startPlayout\n2023-03-02 10:11:21.145 14923-16953/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: AudioTrackThread@[name=AudioTrackJavaThread, id=1797]\n2023-03-02 10:11:21.145 14923-16953/ I/org.webrtc.Logging: WebRtcAudioTrackExternal: doAudioTrackStateCallback: 0\n2023-03-02 10:11:21.148 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.avc type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\n2023-03-02 10:11:21.149 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: c2.android.avc.decoder type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\n2023-03-02 10:11:21.149 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.avc type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\n2023-03-02 10:11:21.150 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: c2.android.avc.decoder type: H264 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\n2023-03-02 10:11:21.150 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.vp8 type: VP8 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\n2023-03-02 10:11:21.151 14923-16819/ I/org.webrtc.Logging: AndroidVideoDecoder: ctor name: OMX.qcom.video.decoder.vp9 type: VP9 color format: 19 context: org.webrtc.EglBase14Impl$Context@b44e9fd\n2023-03-02 10:11:23.595 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\n2023-03-02 10:11:27.602 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\n2023-03-02 10:11:31.609 14923-16823/ I/org.webrtc.Logging: EglRenderer: remote_gl_surface_viewDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\n\n</code></pre>\n<p>And here is the offer sdp I created from the Sony phone:</p>\n<pre><code>v=0\no=- 8159822428667968027 2 IN IP4 127.0.0.1\ns=-\nt=0 0\na=group:BUNDLE 0 1 2\na=msid-semantic: WMS\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:sXTN\na=ice-pwd:dV5VWyYSmcuH6YjyjR4BBnP5\na=ice-options:trickle renomination\na=fingerprint:sha-256 48:20:E6:BA:2C:5E:6A:AC:20:93:8A:D9:E0:49:CA:EE:61:5F:C9:A7:26:75:CC:E1:F5:2F:38:B2:35:71:19:BD\na=setup:actpass\na=mid:0\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\na=extmap:5 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\na=extmap:6 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\na=recvonly\na=rtcp-mux\na=rtpmap:111 opus/48000/2\na=rtcp-fb:111 transport-cc\na=fmtp:111 minptime=10;useinbandfec=1\na=rtpmap:103 ISAC/16000\na=rtpmap:104 ISAC/32000\na=rtpmap:9 G722/8000\na=rtpmap:102 ILBC/8000\na=rtpmap:0 PCMU/8000\na=rtpmap:8 PCMA/8000\na=rtpmap:106 CN/32000\na=rtpmap:105 CN/16000\na=rtpmap:13 CN/8000\na=rtpmap:110 telephone-event/48000\na=rtpmap:112 telephone-event/32000\na=rtpmap:113 telephone-event/16000\na=rtpmap:126 telephone-event/8000\nm=video 9 UDP/TLS/RTP/SAVPF 124 100 96 97 98 99 101 127 123 125\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:sXTN\na=ice-pwd:dV5VWyYSmcuH6YjyjR4BBnP5\na=ice-options:trickle renomination\na=fingerprint:sha-256 48:20:E6:BA:2C:5E:6A:AC:20:93:8A:D9:E0:49:CA:EE:61:5F:C9:A7:26:75:CC:E1:F5:2F:38:B2:35:71:19:BD\na=setup:actpass\na=mid:1\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:13 urn:3gpp:video-orientation\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=extmap:12 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\na=extmap:11 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\na=extmap:4 urn:ietf:params:rtp-hdrext:sdes:mid\na=extmap:5 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\na=extmap:6 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=rtpmap:96 VP8/90000\na=rtcp-fb:96 goog-remb\na=rtcp-fb:96 transport-cc\na=rtcp-fb:96 ccm fir\na=rtcp-fb:96 nack\na=rtcp-fb:96 nack pli\na=rtpmap:97 rtx/90000\na=fmtp:97 apt=96\na=rtpmap:98 VP9/90000\na=rtcp-fb:98 goog-remb\na=rtcp-fb:98 transport-cc\na=rtcp-fb:98 ccm fir\na=rtcp-fb:98 nack\na=rtcp-fb:98 nack pli\na=rtpmap:99 rtx/90000\na=fmtp:99 apt=98\na=rtpmap:124 H264/90000\na=rtcp-fb:124 goog-remb\na=rtcp-fb:124 transport-cc\na=rtcp-fb:124 ccm fir\na=rtcp-fb:124 nack\na=rtcp-fb:124 nack pli\na=fmtp:124 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f\na=rtpmap:100 H264/90000\na=rtcp-fb:100 goog-remb\na=rtcp-fb:100 transport-cc\na=rtcp-fb:100 ccm fir\na=rtcp-fb:100 nack\na=rtcp-fb:100 nack pli\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\na=rtpmap:101 rtx/90000\na=fmtp:101 apt=100\na=rtpmap:127 red/90000\na=rtpmap:123 rtx/90000\na=fmtp:123 apt=127\na=rtpmap:125 ulpfec/90000\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\nc=IN IP4 0.0.0.0\na=ice-ufrag:sXTN\na=ice-pwd:dV5VWyYSmcuH6YjyjR4BBnP5\na=ice-options:trickle renomination\na=fingerprint:sha-256 48:20:E6:BA:2C:5E:6A:AC:20:93:8A:D9:E0:49:CA:EE:61:5F:C9:A7:26:75:CC:E1:F5:2F:38:B2:35:71:19:BD\na=setup:actpass\na=mid:2\na=sctp-port:5000\na=max-message-size:262144\n</code></pre>\n<p>And here is the answerSdp from the Nest Camera:</p>\n<pre><code>v=0\no=- 0 2 IN IP4 127.0.0.1\ns=-\nt=0 0\na=group:BUNDLE 0 2 1\na=msid-semantic: WMS 3725812075825813547/3327200828 virtual-6666\na=ice-lite\nm=audio 19305 UDP/TLS/RTP/SAVPF 111\nc=IN IP4 108.177.122.127\na=rtcp:9 IN IP4 0.0.0.0\na=candidate: 1 udp 2113939711 2607:f8b0:4002:c02::7f 19305 typ host generation 0\na=candidate: 1 tcp 2113939710 2607:f8b0:4002:c02::7f 19305 typ host tcptype passive generation 0\na=candidate: 1 ssltcp 2113939709 2607:f8b0:4002:c02::7f 443 typ host generation 0\na=candidate: 1 udp 2113932031 108.177.122.127 19305 typ host generation 0\na=candidate: 1 tcp 2113932030 108.177.122.127 19305 typ host tcptype passive generation 0\na=candidate: 1 ssltcp 2113932029 108.177.122.127 443 typ host generation 0\na=ice-ufrag:JEEXTA46SZCV9G7S\na=ice-pwd:B8NCOJ4G1LQBXPP4AKL9YSYE\na=fingerprint:sha-256 DA:DC:9C:35:98:28:D2:C7:DA:1C:38:F7:DD:2B:D2:61:D9:93:0A:08:5D:CE:BB:51:CF:1B:BC:E0:A6:90:CF:8C\na=setup:passive\na=mid:0\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=sendrecv\na=msid:virtual-6666 virtual-6666\na=rtcp-mux\na=rtpmap:111 opus/48000/2\na=rtcp-fb:111 transport-cc\na=fmtp:111 minptime=10;useinbandfec=1\na=rtcp-fb:* transport-cc\na=ssrc:6666 cname:6666\nm=video 9 UDP/TLS/RTP/SAVPF 124 100 101\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:JEEXTA46SZCV9G7S\na=ice-pwd:B8NCOJ4G1LQBXPP4AKL9YSYE\na=fingerprint:sha-256 DA:DC:9C:35:98:28:D2:C7:DA:1C:38:F7:DD:2B:D2:61:D9:93:0A:08:5D:CE:BB:51:CF:1B:BC:E0:A6:90:CF:8C\na=setup:passive\na=mid:1\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:13 urn:3gpp:video-orientation\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=sendrecv\na=msid:3725812075825813547/3327200828 3725812075825813547/3327200828\na=rtcp-mux\na=rtpmap:124 H264/90000\na=rtcp-fb:124 transport-cc\na=rtcp-fb:124 ccm fir\na=rtcp-fb:124 nack\na=rtcp-fb:124 nack pli\na=rtcp-fb:124 goog-remb\na=fmtp:124 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=640c1f\na=rtpmap:100 H264/90000\na=rtcp-fb:100 transport-cc\na=rtcp-fb:100 ccm fir\na=rtcp-fb:100 nack\na=rtcp-fb:100 nack pli\na=rtcp-fb:100 goog-remb\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\na=rtpmap:101 rtx/90000\na=fmtp:101 apt=100\na=rtcp-fb:* transport-cc\na=rtcp-fb:* ccm fir\na=rtcp-fb:* nack\na=rtcp-fb:* nack pli\na=rtcp-fb:* goog-remb\na=ssrc-group:FID 3327200828 1688556008\na=ssrc:3327200828 cname:3327200828\na=ssrc:1688556008 cname:3327200828\nm=application 9 DTLS/SCTP 5000\nc=IN IP4 0.0.0.0\na=ice-ufrag:JEEXTA46SZCV9G7S\na=ice-pwd:B8NCOJ4G1LQBXPP4AKL9YSYE\na=fingerprint:sha-256 DA:DC:9C:35:98:28:D2:C7:DA:1C:38:F7:DD:2B:D2:61:D9:93:0A:08:5D:CE:BB:51:CF:1B:BC:E0:A6:90:CF:8C\na=setup:passive\na=mid:2\na=sctpmap:5000 webrtc-datachannel 1024\n</code></pre>\n<p>I checking the logs look like it stucking on the ICE state: &quot;CHECKING&quot; and never go to &quot;CONNECTED&quot; state. But with the same logic the Samsung phone can connect fine.</p>\n<p>Please let me know if I missing something.</p>\n<p>Thank you very much for reading and helping.</p>\n"},{"tags":["java","jdbi"],"answers":[{"tags":[],"owner":{"account_id":21083132,"reputation":3230,"user_id":15496965,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675911865,"creation_date":1675910363,"answer_id":75393664,"question_id":75376344,"body_markdown":"Yes. You only need to implement the interface `ArgumentFactory`, which consists of a single method:\r\n\r\n    Optional&lt;Argument&gt; build(Type type, Object value, ConfigRegistry config)\r\n\r\nIn your implementation, you can implement arbitrary logic based on `type`. If your custom argument should not apply, just return `Optional.empty()`.\r\n\r\nThe same holds for `ArgumentFactory.Preparable` and its method `prepare` that you may want to implement if your logic allows it.\r\n\r\nFor the example from the documentation, it would look like this\r\n\r\n    public class UUIDArgumentFactory implements ArgumentFactory.Preparable {\r\n    \r\n      @Override\r\n      public Optional&lt;Function&lt;Object, Argument&gt;&gt; prepare(Type type, ConfigRegistry config) {\r\n        if (type != UUID.class) {\r\n          return Optional.empty();\r\n        }\r\n        return Optional.of(UUIDArgumentFactory::toArgument);\r\n      }\r\n    \r\n      private static Argument toArgument(Object value) {\r\n        if (value == null) {\r\n          return (position, statement, ctx) -&gt; statement.setNull(position, Types.VARCHAR);\r\n        }\r\n        return (position, statement, ctx) -&gt; statement.setString(position, value.toString());\r\n      }\r\n\r\n    }","title":"AbstractArgumentFactory for factories that handle multiple argument types","body":"<p>Yes. You only need to implement the interface <code>ArgumentFactory</code>, which consists of a single method:</p>\n<pre><code>Optional&lt;Argument&gt; build(Type type, Object value, ConfigRegistry config)\n</code></pre>\n<p>In your implementation, you can implement arbitrary logic based on <code>type</code>. If your custom argument should not apply, just return <code>Optional.empty()</code>.</p>\n<p>The same holds for <code>ArgumentFactory.Preparable</code> and its method <code>prepare</code> that you may want to implement if your logic allows it.</p>\n<p>For the example from the documentation, it would look like this</p>\n<pre><code>public class UUIDArgumentFactory implements ArgumentFactory.Preparable {\n\n  @Override\n  public Optional&lt;Function&lt;Object, Argument&gt;&gt; prepare(Type type, ConfigRegistry config) {\n    if (type != UUID.class) {\n      return Optional.empty();\n    }\n    return Optional.of(UUIDArgumentFactory::toArgument);\n  }\n\n  private static Argument toArgument(Object value) {\n    if (value == null) {\n      return (position, statement, ctx) -&gt; statement.setNull(position, Types.VARCHAR);\n    }\n    return (position, statement, ctx) -&gt; statement.setString(position, value.toString());\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11555235,"reputation":41,"user_id":8466614,"display_name":"Gildos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675911865,"creation_date":1675787544,"question_id":75376344,"body_markdown":"As the [JDBI documentation](https://jdbi.org/#_upgrading_from_v2_to_v3) says:\r\n&gt; *AbstractArgumentFactory* is a generic implementation of *ArgumentFactory* for factories that handle a single argument type.\r\n\r\nThe doc also provide an [implementation example](https://jdbi.org/#_using_the_argumentfactory_interface) for a wrapper class (or a class that exposes only one value).\r\n\r\nIs there a way to register in JDBI an ArgumentFactory that handle multiple argument types?","title":"AbstractArgumentFactory for factories that handle multiple argument types","body":"<p>As the <a href=\"https://jdbi.org/#_upgrading_from_v2_to_v3\" rel=\"nofollow noreferrer\">JDBI documentation</a> says:</p>\n<blockquote>\n<p><em>AbstractArgumentFactory</em> is a generic implementation of <em>ArgumentFactory</em> for factories that handle a single argument type.</p>\n</blockquote>\n<p>The doc also provide an <a href=\"https://jdbi.org/#_using_the_argumentfactory_interface\" rel=\"nofollow noreferrer\">implementation example</a> for a wrapper class (or a class that exposes only one value).</p>\n<p>Is there a way to register in JDBI an ArgumentFactory that handle multiple argument types?</p>\n"},{"tags":["java","cassandra","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":4819783,"reputation":1505,"user_id":3890779,"display_name":"clunven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675861202,"creation_date":1675861202,"answer_id":75386180,"question_id":75385779,"body_markdown":"With the drivers 4.x keys configuration keys be defined in `application.conf`. As long as the file is in the classpath it will load properties and it is the best way to setup your application without having to change your code. [documentation](https://docs.datastax.com/en/developer/java-driver/4.14/manual/core/configuration/reference/)\r\n\r\nKnowing this, if you still want to do configuration programmatically you indeed have the correct approach:\r\n\r\n     DriverConfigLoader loader = DriverConfigLoader.programmaticBuilder()\r\n            .withStringList(DefaultDriverOption.CONTACT_POINTS, Arrays.asList(&quot;127.0.0.1:9042&quot;))\r\n            .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;LOCAL_QUORUM&quot;)\r\n            .withString(DefaultDriverOption.LOAD_BALANCING_LOCAL_DATACENTER, &quot;datacenter1&quot;)\r\n            .withString(DefaultDriverOption.SESSION_KEYSPACE, KEYSPACE_NAME)\r\n            .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofSeconds(5))\r\n            \r\n            // If you want to override with an execution profile\r\n            .startProfile(&quot;slow&quot;)\r\n            .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofSeconds(30))\r\n            .endProfile()\r\n            .build();\r\n        // Use it to create the session\r\n        try (CqlSession cqlSession = CqlSession.builder().withConfigLoader(loader).build()) {\r\n            \r\n            // Use session\r\n            LOGGER.info(&quot;[OK] Connected to Keyspace {}&quot;, cqlSession.getKeyspace().get());\r\n        }\r\n      \r\nA lot of 4.x code can be found [here][1] and used as reference.\r\n\r\n\r\n  [1]: https://github.com/DataStax-Examples/java-cassandra-driver-from3x-to4x/tree/master/example-4x","title":"What is the right approach to migrating QueryOptions to the new Cassandra Java driver v4.14?","body":"<p>With the drivers 4.x keys configuration keys be defined in <code>application.conf</code>. As long as the file is in the classpath it will load properties and it is the best way to setup your application without having to change your code. <a href=\"https://docs.datastax.com/en/developer/java-driver/4.14/manual/core/configuration/reference/\" rel=\"nofollow noreferrer\">documentation</a></p>\n<p>Knowing this, if you still want to do configuration programmatically you indeed have the correct approach:</p>\n<pre><code> DriverConfigLoader loader = DriverConfigLoader.programmaticBuilder()\n        .withStringList(DefaultDriverOption.CONTACT_POINTS, Arrays.asList(&quot;127.0.0.1:9042&quot;))\n        .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;LOCAL_QUORUM&quot;)\n        .withString(DefaultDriverOption.LOAD_BALANCING_LOCAL_DATACENTER, &quot;datacenter1&quot;)\n        .withString(DefaultDriverOption.SESSION_KEYSPACE, KEYSPACE_NAME)\n        .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofSeconds(5))\n        \n        // If you want to override with an execution profile\n        .startProfile(&quot;slow&quot;)\n        .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofSeconds(30))\n        .endProfile()\n        .build();\n    // Use it to create the session\n    try (CqlSession cqlSession = CqlSession.builder().withConfigLoader(loader).build()) {\n        \n        // Use session\n        LOGGER.info(&quot;[OK] Connected to Keyspace {}&quot;, cqlSession.getKeyspace().get());\n    }\n  \n</code></pre>\n<p>A lot of 4.x code can be found <a href=\"https://github.com/DataStax-Examples/java-cassandra-driver-from3x-to4x/tree/master/example-4x\" rel=\"nofollow noreferrer\">here</a> and used as reference.</p>\n"},{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675911734,"creation_date":1675911734,"answer_id":75393768,"question_id":75385779,"body_markdown":"The [Cassandra Java driver][1] was completely refactored from the ground up in version 4.0 so it does mean that it is not binary-compatible with earlier versions so the previous APIs and classes like `QueryOptions` have been replaced.\r\n\r\nThere are several ways to configure the driver including the `programmaticBuilder()` in your example which allows you to programmatically specify configuration options.\r\n\r\nThere is also a configuration API which allows you to use dynamic profiles or load configuration options at runtime.\r\n\r\nYour example code is a direct translation of the programmatic builder in previous releases and it will work. However, our opinion is that in most cases, developers should configure the driver using an application configuration properties file (`application.conf` or its variations) placed in the application classpath. With this option, the driver configuration is de-coupled from your application.\r\n\r\nThe obvious advantage of this method is that you can easily reconfigure the driver without having to recompile your application.\r\n\r\nThere is [a reference configuration file (`reference.conf`) available][2] that has tons of in-line comments for developers. For details, see [Configuring the Cassandra Java driver][3]. Cheers!\r\n\r\n\r\n  [1]: https://docs.datastax.com/en/developer/java-driver/latest/\r\n  [2]: https://docs.datastax.com/en/developer/java-driver/latest/manual/core/configuration/reference/\r\n  [3]: https://docs.datastax.com/en/developer/java-driver/latest/manual/core/configuration/","title":"What is the right approach to migrating QueryOptions to the new Cassandra Java driver v4.14?","body":"<p>The <a href=\"https://docs.datastax.com/en/developer/java-driver/latest/\" rel=\"nofollow noreferrer\">Cassandra Java driver</a> was completely refactored from the ground up in version 4.0 so it does mean that it is not binary-compatible with earlier versions so the previous APIs and classes like <code>QueryOptions</code> have been replaced.</p>\n<p>There are several ways to configure the driver including the <code>programmaticBuilder()</code> in your example which allows you to programmatically specify configuration options.</p>\n<p>There is also a configuration API which allows you to use dynamic profiles or load configuration options at runtime.</p>\n<p>Your example code is a direct translation of the programmatic builder in previous releases and it will work. However, our opinion is that in most cases, developers should configure the driver using an application configuration properties file (<code>application.conf</code> or its variations) placed in the application classpath. With this option, the driver configuration is de-coupled from your application.</p>\n<p>The obvious advantage of this method is that you can easily reconfigure the driver without having to recompile your application.</p>\n<p>There is <a href=\"https://docs.datastax.com/en/developer/java-driver/latest/manual/core/configuration/reference/\" rel=\"nofollow noreferrer\">a reference configuration file (<code>reference.conf</code>) available</a> that has tons of in-line comments for developers. For details, see <a href=\"https://docs.datastax.com/en/developer/java-driver/latest/manual/core/configuration/\" rel=\"nofollow noreferrer\">Configuring the Cassandra Java driver</a>. Cheers!</p>\n"}],"owner":{"account_id":15608990,"reputation":632,"user_id":11260972,"display_name":"Vladimir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75386180,"answer_count":2,"score":0,"last_activity_date":1675911734,"creation_date":1675859226,"question_id":75385779,"body_markdown":"I am migrating from Datastax Cassandra Driver 1.9 to 4.14.x\r\n\r\nI would be interested how to migrate this code:\r\n```\r\nBuilder builder =\r\n        Cluster.builder()\r\n            .withQueryOptions(new QueryOptions().setConsistencyLevel(ConsistencyLevel.LOCAL_QUORUM));\r\n\r\n```\r\nIs that the right approach and the equivalent to the code above?\r\n```\r\nDriverConfigLoader driverConfigLoader = DriverConfigLoader.programmaticBuilder()\r\n        .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;LOCAL_QUORUM&quot;)\r\n        .build();\r\n    final CqlSessionBuilder cqlSessionBuilder =\r\n        CqlSession.builder()\r\n            .withConfigLoader(driverConfigLoader);\r\n```\r\n\r\nThanks in advance!","title":"What is the right approach to migrating QueryOptions to the new Cassandra Java driver v4.14?","body":"<p>I am migrating from Datastax Cassandra Driver 1.9 to 4.14.x</p>\n<p>I would be interested how to migrate this code:</p>\n<pre><code>Builder builder =\n        Cluster.builder()\n            .withQueryOptions(new QueryOptions().setConsistencyLevel(ConsistencyLevel.LOCAL_QUORUM));\n\n</code></pre>\n<p>Is that the right approach and the equivalent to the code above?</p>\n<pre><code>DriverConfigLoader driverConfigLoader = DriverConfigLoader.programmaticBuilder()\n        .withString(DefaultDriverOption.REQUEST_CONSISTENCY, &quot;LOCAL_QUORUM&quot;)\n        .build();\n    final CqlSessionBuilder cqlSessionBuilder =\n        CqlSession.builder()\n            .withConfigLoader(driverConfigLoader);\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","https"],"owner":{"account_id":7611065,"reputation":77,"user_id":5771875,"accept_rate":100,"display_name":"Rathina Sabapathi M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675910995,"creation_date":1675874288,"question_id":75388925,"body_markdown":"Hi I am facing a problem while downloading files with the Japanese file name.\r\nFile name like:`_STODirect.docx` but after download the file will be: `_______STO_Direct.docx`.\r\nHere is my code:\r\n\r\n    InputStream fileInputStream = fileStorageManager.getContentStream(metaData);\r\n                httpResponse.setContentType(\r\n                        metaData.getContentType() == null ? &quot;application/octet-stream&quot; : metaData.getContentType());\r\n                httpResponse.setHeader(&quot;Content-Disposition&quot;,\r\n                        StringUtil.join(&quot;attachment; filename=\\&quot;&quot;, metaData.getFileName(), &quot;\\&quot;&quot;));\r\n                httpResponse.setHeader(&quot;filename&quot;, metaData.getFileName());\r\n                httpResponse.setHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;filename&quot;);\r\n                try (InputStream in = fileInputStream; OutputStream out = httpResponse.getOutputStream()) {\r\n                    IOUtils.copy(in, out);\r\n                }\r\n\r\nResponse Headers:\r\n\r\n    Access-Control-Allow-Credentials: true\r\n    Access-Control-Allow-Origin: http://localhost:4700\r\n    Access-Control-Expose-Headers: filename\r\n    Connection: keep-alive\r\n    Content-Disposition: attachment; filename=&quot;??????_STO?Direct.docx&quot;\r\n    Content-Type: application/octet-stream\r\n    Date: Thu, 09 Feb 2023 02:46:41 GMT\r\n    filename: ??????_STO?Direct.docx\r\n    Keep-Alive: timeout=60\r\n    Transfer-Encoding: chunked\r\n    Vary: Origin\r\n    Vary: Access-Control-Request-Method\r\n    Vary: Access-Control-Request-Headers\r\n\r\n","title":"Spring Boot handle Japanese file name was not working while download file","body":"<p>Hi I am facing a problem while downloading files with the Japanese file name.\nFile name like:<code>_STODirect.docx</code> but after download the file will be: <code>_______STO_Direct.docx</code>.\nHere is my code:</p>\n<pre><code>InputStream fileInputStream = fileStorageManager.getContentStream(metaData);\n            httpResponse.setContentType(\n                    metaData.getContentType() == null ? &quot;application/octet-stream&quot; : metaData.getContentType());\n            httpResponse.setHeader(&quot;Content-Disposition&quot;,\n                    StringUtil.join(&quot;attachment; filename=\\&quot;&quot;, metaData.getFileName(), &quot;\\&quot;&quot;));\n            httpResponse.setHeader(&quot;filename&quot;, metaData.getFileName());\n            httpResponse.setHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;filename&quot;);\n            try (InputStream in = fileInputStream; OutputStream out = httpResponse.getOutputStream()) {\n                IOUtils.copy(in, out);\n            }\n</code></pre>\n<p>Response Headers:</p>\n<pre><code>Access-Control-Allow-Credentials: true\nAccess-Control-Allow-Origin: http://localhost:4700\nAccess-Control-Expose-Headers: filename\nConnection: keep-alive\nContent-Disposition: attachment; filename=&quot;??????_STO?Direct.docx&quot;\nContent-Type: application/octet-stream\nDate: Thu, 09 Feb 2023 02:46:41 GMT\nfilename: ??????_STO?Direct.docx\nKeep-Alive: timeout=60\nTransfer-Encoding: chunked\nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\n</code></pre>\n"},{"tags":["java","html","htmlunit"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1675894742,"post_id":75392270,"comment_id":133028862,"body_markdown":"&quot;_the error... is too long to post on here_&quot; - But you should post it anyway. The full stack trace could be extremely useful for troubleshooting. You can format the text of the stack trace, to make it more readable (e.g. surround it with triple-backticks at the start and end on lines of their own). See [How do I format my posts using Markdown or HTML?](https://stackoverflow.com/help/formatting).","body":"&quot;<i>the error... is too long to post on here</i>&quot; - But you should post it anyway. The full stack trace could be extremely useful for troubleshooting. You can format the text of the stack trace, to make it more readable (e.g. surround it with triple-backticks at the start and end on lines of their own). See <a href=\"https://stackoverflow.com/help/formatting\">How do I format my posts using Markdown or HTML?</a>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1675894781,"post_id":75392270,"comment_id":133028870,"body_markdown":"If you are not familiar with how to use stack traces yourself (maybe you already are), then take a look at [What is a stack trace, and how can I use it to debug my application errors?](https://stackoverflow.com/q/3988788/12567365)","body":"If you are not familiar with how to use stack traces yourself (maybe you already are), then take a look at <a href=\"https://stackoverflow.com/q/3988788/12567365\">What is a stack trace, and how can I use it to debug my application errors?</a>"},{"owner":{"account_id":21407284,"reputation":9,"user_id":15768252,"display_name":"Erasedsword"},"score":0,"creation_date":1675910417,"post_id":75392270,"comment_id":133031253,"body_markdown":"i added a majority of the stack trace. i wasn&#39;t able to add the whole thing by 1000 characters","body":"i added a majority of the stack trace. i wasn&#39;t able to add the whole thing by 1000 characters"},{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1675930234,"post_id":75392270,"comment_id":133034429,"body_markdown":"HTMLUnit&#39;s JavaScript engine is very limited and doesn&#39;t support all the features that most modern browsers do. You may want to try a library that remote controls a real browser instead, such as Selenium or Playwright.","body":"HTMLUnit&#39;s JavaScript engine is very limited and doesn&#39;t support all the features that most modern browsers do. You may want to try a library that remote controls a real browser instead, such as Selenium or Playwright."}],"owner":{"account_id":21407284,"reputation":9,"user_id":15768252,"display_name":"Erasedsword"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1675910327,"creation_date":1675894414,"question_id":75392270,"body_markdown":"Im trying to make a program that goes into google and searches it&#39;s contents for programing blogs and the things alike. however when I enter the google domain I get a long error. Im using HtmlUnit and currently am still learning it, so it&#39;s probably something simple. my code is as fallows im just calling the connectToLink method in the main method\r\n\r\n        /**\r\n     * Connects to the desired link provided. Uses the Scanner class to provide\r\n     * the input saves the page as a connection.\r\n     */\r\n    private static void connectToLink() {\r\n        Boolean connected = false;\r\n        String uInput;\r\n\r\n        while (!connected) {\r\n            System.out.println(&quot;Please provide a valid link&quot;);\r\n            uInput = input.nextLine();\r\n            if (wManage.linkChecker(uInput)) {\r\n                //return the connection\r\n                page = wManage.getPage();\r\n                connected = true;\r\n            }\r\n        }\r\n    }\r\n\r\nthis is my wManage class. I have it with both the javaScript and css variables set to true\r\n\r\n    public class WebManager {\r\n\r\n    HtmlPage page;\r\n    WebClient web;\r\n\r\n    //all objects are going to try to make a website, so why not have it passed when creating the class?\r\n    /**\r\n     * gives the class specific way to handle a website\r\n     *\r\n     * @param css turns on and off css\r\n     * @param javaScript turns on and off javascript support\r\n     */\r\n    public WebManager(Boolean css, Boolean javaScript) {\r\n        //stop unnecessary errors\r\n        //LogFactory.getFactory().setAttribute(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.NoOpLog&quot;);\r\n\r\n        //java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(Level.OFF);\r\n        //java.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\r\n\r\n        //Modify the browser here\r\n        web = new WebClient(BrowserVersion.CHROME);\r\n        //Modify the default browser\r\n        web.getOptions().setJavaScriptEnabled(javaScript);\r\n        web.getOptions().setThrowExceptionOnScriptError(true);\r\n        web.getOptions().setCssEnabled(css);\r\n    }\r\n\r\n    /**\r\n     * checks if the link provided is able to connect to the site\r\n     *\r\n     * @param link the link to check\r\n     * @return if it was able to connect to the site\r\n     */\r\n    public Boolean linkChecker(String link) {\r\n        try {\r\n            page = web.getPage(link);\r\n            web.waitForBackgroundJavaScript(500);\r\n            System.out.println(&quot;Connected&quot;);\r\n            return true;\r\n        } catch (IOException | FailingHttpStatusCodeException ex) {\r\n            System.out.println(&quot;Unable to connect&quot;);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * gets the website the user is trying to reach\r\n     *\r\n     * @return a programatic implementation of the website\r\n     */\r\n    public HtmlPage getPage() {\r\n        return page;\r\n    }\r\n\r\n    `======= EXCEPTION START ========\r\n    Exception class=[net.sourceforge.htmlunit.corejs.javascript.EvaluatorException]\r\n    com.gargoylesoftware.htmlunit.ScriptException: identifier is a reserved word: class (script in https://www.google.com/ from (69, 58657) to (115, 10)#80)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:1001)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:830)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:796)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:842)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScript(HtmlPage.java:964)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeInlineScriptIfNeeded(ScriptElementSupport.java:380)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeScriptIfNeeded(ScriptElementSupport.java:230)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport$1.execute(ScriptElementSupport.java:120)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport.onAllChildrenAddedToPage(ScriptElementSupport.java:143)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:191)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:572)\r\n    \tat net.sourceforge.htmlunit.xerces.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:451)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:517)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1242)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1169)\r\n    \tat net.sourceforge.htmlunit.cyberneko.filters.DefaultFilter.endElement(DefaultFilter.java:218)\r\n    \tat net.sourceforge.htmlunit.cyberneko.filters.NamespaceBinder.endElement(NamespaceBinder.java:310)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3145)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2091)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLScanner.scanDocument(HTMLScanner.java:918)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:367)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:318)\r\n    \tat net.sourceforge.htmlunit.xerces.parsers.XMLParser.parse(XMLParser.java:80)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.parse(HtmlUnitNekoDOMBuilder.java:773)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoHtmlParser.parse(HtmlUnitNekoHtmlParser.java:204)\r\n    \tat com.gargoylesoftware.htmlunit.DefaultPageCreator.createHtmlPage(DefaultPageCreator.java:299)\r\n    \tat com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:219)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:669)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:571)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:489)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:396)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:534)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:516)\r\n    \tat com.joshua.buybot.WebManager.linkChecker(WebManager.java:55)\r\n    \tat com.joshua.buybot.BuyBot.connectToLink(BuyBot.java:73)\r\n    \tat com.joshua.buybot.BuyBot.main(BuyBot.java:28)\r\n    Caused by: net.sourceforge.htmlunit.corejs.javascript.EvaluatorException: identifier is a reserved word: class (script in https://www.google.com/ from (69, 58657) to (115, 10)#80)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$HtmlUnitErrorReporter.error(HtmlUnitContextFactory.java:435)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addError(Parser.java:257)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:336)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:327)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3145)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2717)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.variables(Parser.java:2168)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1197)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statements(Parser.java:1063)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.block(Parser.java:1993)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1218)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.getNextStatementAfterInlineComments(Parser.java:1458)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.tryStatement(Parser.java:1637)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1173)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parseFunctionBody(Parser.java:736)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:911)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:845)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3081)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parenExpr(Parser.java:3175)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3097)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1249)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:632)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:562)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.parse(Context.java:2549)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.compileImpl(Context.java:2480)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1448)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$TimeoutContext.compileString(HtmlUnitContextFactory.java:221)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1436)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$1.doRun(JavaScriptEngine.java:821)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:984)\r\n    \t... 38 more\r\n    Enclosed exception: \r\n    net.sourceforge.htmlunit.corejs.javascript.EvaluatorException: identifier is a reserved word: class (script in https://www.google.com/ from (69, 58657) to (115, 10)#80)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$HtmlUnitErrorReporter.error(HtmlUnitContextFactory.java:435)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addError(Parser.java:257)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:336)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:327)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3145)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2717)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.variables(Parser.java:2168)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1197)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statements(Parser.java:1063)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.block(Parser.java:1993)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1218)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.getNextStatementAfterInlineComments(Parser.java:1458)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.tryStatement(Parser.java:1637)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1173)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parseFunctionBody(Parser.java:736)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:911)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:845)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3081)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parenExpr(Parser.java:3175)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3097)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1249)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:632)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:562)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.parse(Context.java:2549)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.compileImpl(Context.java:2480)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1448)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$TimeoutContext.compileString(HtmlUnitContextFactory.java:221)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1436)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$1.doRun(JavaScriptEngine.java:821)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:984)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\r\n    \tat net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:830)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:796)\r\n    \tat com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:842)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScript(HtmlPage.java:964)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeInlineScriptIfNeeded(ScriptElementSupport.java:380)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeScriptIfNeeded(ScriptElementSupport.java:230)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport$1.execute(ScriptElementSupport.java:120)\r\n    \tat com.gargoylesoftware.htmlunit.html.ScriptElementSupport.onAllChildrenAddedToPage(ScriptElementSupport.java:143)\r\n    \tat com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:191)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:572)\r\n    \tat net.sourceforge.htmlunit.xerces.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:451)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:517)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1242)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1169)\r\n    \tat net.sourceforge.htmlunit.cyberneko.filters.DefaultFilter.endElement(DefaultFilter.java:218)\r\n    \tat net.sourceforge.htmlunit.cyberneko.filters.NamespaceBinder.endElement(NamespaceBinder.java:310)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3145)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2091)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLScanner.scanDocument(HTMLScanner.java:918)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:367)\r\n    \tat net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:318)\r\n    \tat net.sourceforge.htmlunit.xerces.parsers.XMLParser.parse(XMLParser.java:80)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.parse(HtmlUnitNekoDOMBuilder.java:773)\r\n    \tat com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoHtmlParser.parse(HtmlUnitNekoHtmlParser.java:204)\r\n    \tat com.gargoylesoftware.htmlunit.DefaultPageCreator.createHtmlPage(DefaultPageCreator.java:299)\r\n    \tat com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:219)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:669)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:571)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:489)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:396)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:534)\r\n    \tat com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:516)\r\n    \tat com.joshua.buybot.WebManager.linkChecker(WebManager.java:55)\r\n    \tat com.joshua.buybot.BuyBot.connectToLink(BuyBot.java:73)\r\n    \tat com.joshua.buybot.BuyBot.main(BuyBot.java:28)\r\n    == CALLING JAVASCRIPT ==\r\n    this.gbar_=this.gbar_||{};(function(_){var window=this;\r\n    try{\r\n    _.be=function(a,b,c){if(!a.o)if(c instanceof Array)for(var d of c)_.be(a,b,d);else{d=(0,_.x)(a.F,a,b);const e=a.B+c;a.B++;b.setAttribute(&quot;data-eqid&quot;,e);a.D[e]=d;b&amp;&amp;b.addEventListener?b.addEventListener(c,d,!1):b&amp;&amp;b.attachEvent?b.attachEvent(&quot;on&quot;+c,d):a.A.log(Error(&quot;x`&quot;+b))}};\r\n    }catch(e){_._DumpException(e)}\r\n    try{\r\n    _.ce=function(){if(!_.m.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},&quot;passive&quot;,{get:function(){a=!0}});try{_.m.addEventListener(&quot;test&quot;,()=&gt;{},b),_.m.removeEventListener(&quot;test&quot;,()=&gt;{},b)}catch(c){}return a}();_.de=_.tb?&quot;webkitTransitionEnd&quot;:&quot;transitionend&quot;;\r\n    }catch(e){_._DumpException(e)}\r\n    try{\r\n    var ee=document.querySelector(&quot;.gb_M .gb_e&quot;),fe=document.querySelector(&quot;#gb.gb_Qc&quot;);ee&amp;&amp;!fe&amp;&amp;_.be(_.Rd,ee,&quot;click&quot;);\r\n    }catch(e){_._DumpException(e)}\r\n    try{\r\n    _.Sh=function(a){if(a.A)return a.A;for(const b in a.j)if(a.j[b].yb()&amp;&amp;a.j[b].G())return a.j[b];return null};_.Th=function(a,b){b&amp;&amp;_.Sh(a)&amp;&amp;b!=_.Sh(a)&amp;&amp;_.Sh(a).ua(!1);a.A=b};_.Uh=function(a,b){a.j[b.S()]=b};var Vh=new class extends _.I{constructor(){var a=_.rc;super();this.D=a;this.A=null;this.o={};this.F={};this.j={};this.B=null}C(a){this.j[a]&amp;&amp;(_.Sh(this)&amp;&amp;_.Sh(this).S()==a||this.j[a].ua(!0))}Za(a){this.B=a;for(const b in this.j)this.j[b].yb()&amp;&amp;this.j[b].Za(a)}Ac(a){return a in this.j?this.j[a]:null}};_.qd(&quot;dd&quot;,Vh);\r\n    }catch(e){_._DumpException(e)}\r\n    try{\r\n    var tj=document.querySelector(&quot;.gb_b .gb_e&quot;),uj=document.querySelector(&quot;#gb.gb_Qc&quot;);tj&amp;&amp;!uj&amp;&amp;_.be(_.Rd,tj,&quot;click&quot;);\r\n    }catch(e){_._DumpException(e)}\r\n    })(this.gbar_);\r\n    // Google Inc.\r\n    this.gbar_=this.gbar_||{};(function(_){var window=this;\r\n    try{\r\n    _.ge=function(a,b){return 0&lt;=_.mb(a,b)};_.he=function(a){var b=typeof a;return&quot;object&quot;!=b?b:a?Array.isArray(a)?&quot;array&quot;:b:&quot;null&quot;};_.ie=function(a){var b=_.he(a);return&quot;array&quot;==b||&quot;object&quot;==b&amp;&amp;&quot;number&quot;==typeof a.length};_.je=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}};try{(new self.OffscreenCanvas(0,0)).getContext(&quot;2d&quot;)}catch(a){}_.ke=_.A||_.tb;_.le=function(a,b){this.width=a;this.height=b};_.k=_.le.prototype;_.k.aspectRatio=function(){return this.width/this.height};_.k.lc=function(){return!(this.width*this.height)};_.k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};_.k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};_.k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var ne,qe;_.me=function(a,b){return(b||document).getElementsByTagName(String(a))};_.oe=function(a,b){_.ab(b,function(c,d){c&amp;&amp;&quot;object&quot;==typeof c&amp;&amp;c.Xb&amp;&amp;(c=c.Hb());&quot;style&quot;==d?a.style.cssText=c:&quot;class&quot;==d?a.className=c:&quot;for&quot;==d?a.htmlFor=c:ne.hasOwnProperty(d)?a.setAttribute(ne[d],c):0==d.lastIndexOf(&quot;aria-&quot;,0)||0==d.lastIndexOf(&quot;data-&quot;,0)?a.setAttribute(d,c):a[d]=c})};\r\n    ne={cellpadding:&quot;cellPadding&quot;,cellspacing:&quot;cellSpacing&quot;,colspan:&quot;colSpan&quot;,frameborder:&quot;frameBorder&quot;,height:&quot;height&quot;,maxlength:&quot;maxLength&quot;,nonce:&quot;nonce&quot;,role:&quot;role&quot;,rowspan:&quot;rowSpan&quot;,type:&quot;type&quot;,usemap:&quot;useMap&quot;,valign:&quot;vAlign&quot;,width:&quot;width&quot;};_.re=function(a,b){var c=b[1],d=_.pe(a,String(b[0]));c&amp;&amp;(&quot;string&quot;===typeof c?d.className=c:Array.isArray(c)?d.className=c.join(&quot; &quot;):_.oe(d,c));2&lt;b.length&amp;&amp;qe(a,d,b);return d};\r\n    qe=function(a,b,c){function d(h){h&amp;&amp;b.appendChild(&quot;string&quot;===typeof h?a.createTextNode(h):h)}for(var e=2;e&lt;c.length;e++){var f=c[e];if(!_.ie(f)||_.eb(f)&amp;&amp;0&lt;f.nodeType)d(f);else{a:{if(f&amp;&amp;&quot;number&quot;==typeof f.length){if(_.eb(f)){var g=&quot;function&quot;==typeof f.item||&quot;string&quot;==typeof f.item;break a}if(&quot;function&quot;===typeof f){g=&quot;function&quot;==typeof f.item;break a}}g=!1}_.nb(g?_.ma(f):f,d)}}};_.se=function(a){return _.pe(document,a)};\r\n    _.pe=function(a,b){b=String(b);&quot;application/xhtml+xml&quot;===a.contentType&amp;&amp;(b=b.toLowerCase());return a.createElement(b)};_.te=function(a){for(var b;b=a.firstChild;)a.removeChild(b)};_.ue=function(a){return _.eb(a)&amp;&amp;1==a.nodeType};_.ve=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document};_.we=function(a,b)\r\n\r\n\r\n","title":"I&#39;m receiving an error when entering google Htmlunit Can you please explain it?","body":"<p>Im trying to make a program that goes into google and searches it's contents for programing blogs and the things alike. however when I enter the google domain I get a long error. Im using HtmlUnit and currently am still learning it, so it's probably something simple. my code is as fallows im just calling the connectToLink method in the main method</p>\n<pre><code>    /**\n * Connects to the desired link provided. Uses the Scanner class to provide\n * the input saves the page as a connection.\n */\nprivate static void connectToLink() {\n    Boolean connected = false;\n    String uInput;\n\n    while (!connected) {\n        System.out.println(&quot;Please provide a valid link&quot;);\n        uInput = input.nextLine();\n        if (wManage.linkChecker(uInput)) {\n            //return the connection\n            page = wManage.getPage();\n            connected = true;\n        }\n    }\n}\n</code></pre>\n<p>this is my wManage class. I have it with both the javaScript and css variables set to true</p>\n<pre><code>public class WebManager {\n\nHtmlPage page;\nWebClient web;\n\n//all objects are going to try to make a website, so why not have it passed when creating the class?\n/**\n * gives the class specific way to handle a website\n *\n * @param css turns on and off css\n * @param javaScript turns on and off javascript support\n */\npublic WebManager(Boolean css, Boolean javaScript) {\n    //stop unnecessary errors\n    //LogFactory.getFactory().setAttribute(&quot;org.apache.commons.logging.Log&quot;, &quot;org.apache.commons.logging.impl.NoOpLog&quot;);\n\n    //java.util.logging.Logger.getLogger(&quot;com.gargoylesoftware&quot;).setLevel(Level.OFF);\n    //java.util.logging.Logger.getLogger(&quot;org.apache.commons.httpclient&quot;).setLevel(Level.OFF);\n\n    //Modify the browser here\n    web = new WebClient(BrowserVersion.CHROME);\n    //Modify the default browser\n    web.getOptions().setJavaScriptEnabled(javaScript);\n    web.getOptions().setThrowExceptionOnScriptError(true);\n    web.getOptions().setCssEnabled(css);\n}\n\n/**\n * checks if the link provided is able to connect to the site\n *\n * @param link the link to check\n * @return if it was able to connect to the site\n */\npublic Boolean linkChecker(String link) {\n    try {\n        page = web.getPage(link);\n        web.waitForBackgroundJavaScript(500);\n        System.out.println(&quot;Connected&quot;);\n        return true;\n    } catch (IOException | FailingHttpStatusCodeException ex) {\n        System.out.println(&quot;Unable to connect&quot;);\n        return false;\n    }\n}\n\n/**\n * gets the website the user is trying to reach\n *\n * @return a programatic implementation of the website\n */\npublic HtmlPage getPage() {\n    return page;\n}\n\n`======= EXCEPTION START ========\nException class=[net.sourceforge.htmlunit.corejs.javascript.EvaluatorException]\ncom.gargoylesoftware.htmlunit.ScriptException: identifier is a reserved word: class (script in https://www.google.com/ from (69, 58657) to (115, 10)#80)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:1001)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\n    at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:830)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:796)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:842)\n    at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScript(HtmlPage.java:964)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeInlineScriptIfNeeded(ScriptElementSupport.java:380)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeScriptIfNeeded(ScriptElementSupport.java:230)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport$1.execute(ScriptElementSupport.java:120)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport.onAllChildrenAddedToPage(ScriptElementSupport.java:143)\n    at com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:191)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:572)\n    at net.sourceforge.htmlunit.xerces.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:451)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:517)\n    at net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1242)\n    at net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1169)\n    at net.sourceforge.htmlunit.cyberneko.filters.DefaultFilter.endElement(DefaultFilter.java:218)\n    at net.sourceforge.htmlunit.cyberneko.filters.NamespaceBinder.endElement(NamespaceBinder.java:310)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3145)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2091)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner.scanDocument(HTMLScanner.java:918)\n    at net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:367)\n    at net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:318)\n    at net.sourceforge.htmlunit.xerces.parsers.XMLParser.parse(XMLParser.java:80)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.parse(HtmlUnitNekoDOMBuilder.java:773)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoHtmlParser.parse(HtmlUnitNekoHtmlParser.java:204)\n    at com.gargoylesoftware.htmlunit.DefaultPageCreator.createHtmlPage(DefaultPageCreator.java:299)\n    at com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:219)\n    at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:669)\n    at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:571)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:489)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:396)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:534)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:516)\n    at com.joshua.buybot.WebManager.linkChecker(WebManager.java:55)\n    at com.joshua.buybot.BuyBot.connectToLink(BuyBot.java:73)\n    at com.joshua.buybot.BuyBot.main(BuyBot.java:28)\nCaused by: net.sourceforge.htmlunit.corejs.javascript.EvaluatorException: identifier is a reserved word: class (script in https://www.google.com/ from (69, 58657) to (115, 10)#80)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$HtmlUnitErrorReporter.error(HtmlUnitContextFactory.java:435)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addError(Parser.java:257)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:336)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:327)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3145)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2717)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.variables(Parser.java:2168)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1197)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statements(Parser.java:1063)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.block(Parser.java:1993)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1218)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.getNextStatementAfterInlineComments(Parser.java:1458)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.tryStatement(Parser.java:1637)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1173)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parseFunctionBody(Parser.java:736)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:911)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:845)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3081)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parenExpr(Parser.java:3175)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3097)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1249)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:632)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:562)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.parse(Context.java:2549)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.compileImpl(Context.java:2480)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1448)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$TimeoutContext.compileString(HtmlUnitContextFactory.java:221)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1436)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$1.doRun(JavaScriptEngine.java:821)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:984)\n    ... 38 more\nEnclosed exception: \nnet.sourceforge.htmlunit.corejs.javascript.EvaluatorException: identifier is a reserved word: class (script in https://www.google.com/ from (69, 58657) to (115, 10)#80)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$HtmlUnitErrorReporter.error(HtmlUnitContextFactory.java:435)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addError(Parser.java:257)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:336)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.reportError(Parser.java:327)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3145)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2717)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.variables(Parser.java:2168)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1197)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statements(Parser.java:1063)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.block(Parser.java:1993)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1218)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.getNextStatementAfterInlineComments(Parser.java:1458)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.tryStatement(Parser.java:1637)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1173)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parseFunctionBody(Parser.java:736)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:911)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.function(Parser.java:845)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3081)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parenExpr(Parser.java:3175)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.primaryExpr(Parser.java:3097)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.memberExpr(Parser.java:2711)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.unaryExpr(Parser.java:2614)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expExpr(Parser.java:2534)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.mulExpr(Parser.java:2517)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.addExpr(Parser.java:2503)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.shiftExpr(Parser.java:2486)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.relExpr(Parser.java:2464)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.eqExpr(Parser.java:2440)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitAndExpr(Parser.java:2431)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitXorExpr(Parser.java:2422)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.bitOrExpr(Parser.java:2413)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.andExpr(Parser.java:2404)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.orExpr(Parser.java:2395)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.condExpr(Parser.java:2362)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.assignExpr(Parser.java:2320)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.expr(Parser.java:2303)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statementHelper(Parser.java:1249)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.statement(Parser.java:1104)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:632)\n    at net.sourceforge.htmlunit.corejs.javascript.Parser.parse(Parser.java:562)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.parse(Context.java:2549)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.compileImpl(Context.java:2480)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1448)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory$TimeoutContext.compileString(HtmlUnitContextFactory.java:221)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.compileString(Context.java:1436)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$1.doRun(JavaScriptEngine.java:821)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine$HtmlUnitContextAction.run(JavaScriptEngine.java:984)\n    at net.sourceforge.htmlunit.corejs.javascript.Context.call(Context.java:590)\n    at net.sourceforge.htmlunit.corejs.javascript.ContextFactory.call(ContextFactory.java:484)\n    at com.gargoylesoftware.htmlunit.javascript.HtmlUnitContextFactory.callSecured(HtmlUnitContextFactory.java:349)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:830)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.compile(JavaScriptEngine.java:796)\n    at com.gargoylesoftware.htmlunit.javascript.JavaScriptEngine.execute(JavaScriptEngine.java:842)\n    at com.gargoylesoftware.htmlunit.html.HtmlPage.executeJavaScript(HtmlPage.java:964)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeInlineScriptIfNeeded(ScriptElementSupport.java:380)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport.executeScriptIfNeeded(ScriptElementSupport.java:230)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport$1.execute(ScriptElementSupport.java:120)\n    at com.gargoylesoftware.htmlunit.html.ScriptElementSupport.onAllChildrenAddedToPage(ScriptElementSupport.java:143)\n    at com.gargoylesoftware.htmlunit.html.HtmlScript.onAllChildrenAddedToPage(HtmlScript.java:191)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:572)\n    at net.sourceforge.htmlunit.xerces.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:451)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.endElement(HtmlUnitNekoDOMBuilder.java:517)\n    at net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.callEndElement(HTMLTagBalancer.java:1242)\n    at net.sourceforge.htmlunit.cyberneko.HTMLTagBalancer.endElement(HTMLTagBalancer.java:1169)\n    at net.sourceforge.htmlunit.cyberneko.filters.DefaultFilter.endElement(DefaultFilter.java:218)\n    at net.sourceforge.htmlunit.cyberneko.filters.NamespaceBinder.endElement(NamespaceBinder.java:310)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scanEndElement(HTMLScanner.java:3145)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner$ContentScanner.scan(HTMLScanner.java:2091)\n    at net.sourceforge.htmlunit.cyberneko.HTMLScanner.scanDocument(HTMLScanner.java:918)\n    at net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:367)\n    at net.sourceforge.htmlunit.cyberneko.HTMLConfiguration.parse(HTMLConfiguration.java:318)\n    at net.sourceforge.htmlunit.xerces.parsers.XMLParser.parse(XMLParser.java:80)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoDOMBuilder.parse(HtmlUnitNekoDOMBuilder.java:773)\n    at com.gargoylesoftware.htmlunit.html.parser.neko.HtmlUnitNekoHtmlParser.parse(HtmlUnitNekoHtmlParser.java:204)\n    at com.gargoylesoftware.htmlunit.DefaultPageCreator.createHtmlPage(DefaultPageCreator.java:299)\n    at com.gargoylesoftware.htmlunit.DefaultPageCreator.createPage(DefaultPageCreator.java:219)\n    at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:669)\n    at com.gargoylesoftware.htmlunit.WebClient.loadWebResponseInto(WebClient.java:571)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:489)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:396)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:534)\n    at com.gargoylesoftware.htmlunit.WebClient.getPage(WebClient.java:516)\n    at com.joshua.buybot.WebManager.linkChecker(WebManager.java:55)\n    at com.joshua.buybot.BuyBot.connectToLink(BuyBot.java:73)\n    at com.joshua.buybot.BuyBot.main(BuyBot.java:28)\n== CALLING JAVASCRIPT ==\nthis.gbar_=this.gbar_||{};(function(_){var window=this;\ntry{\n_.be=function(a,b,c){if(!a.o)if(c instanceof Array)for(var d of c)_.be(a,b,d);else{d=(0,_.x)(a.F,a,b);const e=a.B+c;a.B++;b.setAttribute(&quot;data-eqid&quot;,e);a.D[e]=d;b&amp;&amp;b.addEventListener?b.addEventListener(c,d,!1):b&amp;&amp;b.attachEvent?b.attachEvent(&quot;on&quot;+c,d):a.A.log(Error(&quot;x`&quot;+b))}};\n}catch(e){_._DumpException(e)}\ntry{\n_.ce=function(){if(!_.m.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},&quot;passive&quot;,{get:function(){a=!0}});try{_.m.addEventListener(&quot;test&quot;,()=&gt;{},b),_.m.removeEventListener(&quot;test&quot;,()=&gt;{},b)}catch(c){}return a}();_.de=_.tb?&quot;webkitTransitionEnd&quot;:&quot;transitionend&quot;;\n}catch(e){_._DumpException(e)}\ntry{\nvar ee=document.querySelector(&quot;.gb_M .gb_e&quot;),fe=document.querySelector(&quot;#gb.gb_Qc&quot;);ee&amp;&amp;!fe&amp;&amp;_.be(_.Rd,ee,&quot;click&quot;);\n}catch(e){_._DumpException(e)}\ntry{\n_.Sh=function(a){if(a.A)return a.A;for(const b in a.j)if(a.j[b].yb()&amp;&amp;a.j[b].G())return a.j[b];return null};_.Th=function(a,b){b&amp;&amp;_.Sh(a)&amp;&amp;b!=_.Sh(a)&amp;&amp;_.Sh(a).ua(!1);a.A=b};_.Uh=function(a,b){a.j[b.S()]=b};var Vh=new class extends _.I{constructor(){var a=_.rc;super();this.D=a;this.A=null;this.o={};this.F={};this.j={};this.B=null}C(a){this.j[a]&amp;&amp;(_.Sh(this)&amp;&amp;_.Sh(this).S()==a||this.j[a].ua(!0))}Za(a){this.B=a;for(const b in this.j)this.j[b].yb()&amp;&amp;this.j[b].Za(a)}Ac(a){return a in this.j?this.j[a]:null}};_.qd(&quot;dd&quot;,Vh);\n}catch(e){_._DumpException(e)}\ntry{\nvar tj=document.querySelector(&quot;.gb_b .gb_e&quot;),uj=document.querySelector(&quot;#gb.gb_Qc&quot;);tj&amp;&amp;!uj&amp;&amp;_.be(_.Rd,tj,&quot;click&quot;);\n}catch(e){_._DumpException(e)}\n})(this.gbar_);\n// Google Inc.\nthis.gbar_=this.gbar_||{};(function(_){var window=this;\ntry{\n_.ge=function(a,b){return 0&lt;=_.mb(a,b)};_.he=function(a){var b=typeof a;return&quot;object&quot;!=b?b:a?Array.isArray(a)?&quot;array&quot;:b:&quot;null&quot;};_.ie=function(a){var b=_.he(a);return&quot;array&quot;==b||&quot;object&quot;==b&amp;&amp;&quot;number&quot;==typeof a.length};_.je=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}};try{(new self.OffscreenCanvas(0,0)).getContext(&quot;2d&quot;)}catch(a){}_.ke=_.A||_.tb;_.le=function(a,b){this.width=a;this.height=b};_.k=_.le.prototype;_.k.aspectRatio=function(){return this.width/this.height};_.k.lc=function(){return!(this.width*this.height)};_.k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};_.k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};_.k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var ne,qe;_.me=function(a,b){return(b||document).getElementsByTagName(String(a))};_.oe=function(a,b){_.ab(b,function(c,d){c&amp;&amp;&quot;object&quot;==typeof c&amp;&amp;c.Xb&amp;&amp;(c=c.Hb());&quot;style&quot;==d?a.style.cssText=c:&quot;class&quot;==d?a.className=c:&quot;for&quot;==d?a.htmlFor=c:ne.hasOwnProperty(d)?a.setAttribute(ne[d],c):0==d.lastIndexOf(&quot;aria-&quot;,0)||0==d.lastIndexOf(&quot;data-&quot;,0)?a.setAttribute(d,c):a[d]=c})};\nne={cellpadding:&quot;cellPadding&quot;,cellspacing:&quot;cellSpacing&quot;,colspan:&quot;colSpan&quot;,frameborder:&quot;frameBorder&quot;,height:&quot;height&quot;,maxlength:&quot;maxLength&quot;,nonce:&quot;nonce&quot;,role:&quot;role&quot;,rowspan:&quot;rowSpan&quot;,type:&quot;type&quot;,usemap:&quot;useMap&quot;,valign:&quot;vAlign&quot;,width:&quot;width&quot;};_.re=function(a,b){var c=b[1],d=_.pe(a,String(b[0]));c&amp;&amp;(&quot;string&quot;===typeof c?d.className=c:Array.isArray(c)?d.className=c.join(&quot; &quot;):_.oe(d,c));2&lt;b.length&amp;&amp;qe(a,d,b);return d};\nqe=function(a,b,c){function d(h){h&amp;&amp;b.appendChild(&quot;string&quot;===typeof h?a.createTextNode(h):h)}for(var e=2;e&lt;c.length;e++){var f=c[e];if(!_.ie(f)||_.eb(f)&amp;&amp;0&lt;f.nodeType)d(f);else{a:{if(f&amp;&amp;&quot;number&quot;==typeof f.length){if(_.eb(f)){var g=&quot;function&quot;==typeof f.item||&quot;string&quot;==typeof f.item;break a}if(&quot;function&quot;===typeof f){g=&quot;function&quot;==typeof f.item;break a}}g=!1}_.nb(g?_.ma(f):f,d)}}};_.se=function(a){return _.pe(document,a)};\n_.pe=function(a,b){b=String(b);&quot;application/xhtml+xml&quot;===a.contentType&amp;&amp;(b=b.toLowerCase());return a.createElement(b)};_.te=function(a){for(var b;b=a.firstChild;)a.removeChild(b)};_.ue=function(a){return _.eb(a)&amp;&amp;1==a.nodeType};_.ve=function(a){return 9==a.nodeType?a:a.ownerDocument||a.document};_.we=function(a,b)\n</code></pre>\n"},{"tags":["java","jar","applet","signed-applet"],"answers":[{"tags":[],"owner":{"account_id":3363687,"reputation":84,"user_id":2824923,"accept_rate":100,"display_name":"Timmy"},"down_vote_count":22,"up_vote_count":5,"is_accepted":false,"score":-17,"last_activity_date":1532036688,"creation_date":1392826220,"answer_id":21886019,"question_id":21695520,"body_markdown":"This error is caused if updates were made with JDK Java/Oracle 1.7 u51. This JDK is NOT identical to the previous one.\r\n\r\nYou can install a previous version of the JDK BEFORE u51 (for exemple 1.7u45), or install JDK 6.\r\n\r\nThen, when you re-compile, you won&#39;t see the error.","title":"-tsa or -tsacert timestamp for applet jar self-signed","body":"<p>This error is caused if updates were made with JDK Java/Oracle 1.7 u51. This JDK is NOT identical to the previous one.</p>\n\n<p>You can install a previous version of the JDK BEFORE u51 (for exemple 1.7u45), or install JDK 6.</p>\n\n<p>Then, when you re-compile, you won't see the error.</p>\n"},{"tags":[],"owner":{"account_id":4081054,"reputation":231,"user_id":3351539,"display_name":"Malte"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1393336134,"creation_date":1393336134,"answer_id":22016117,"question_id":21695520,"body_markdown":"This warning tells you that your jar&#39;s certificate will expire in may. Hence, users will not be able to execute your program after this date.\r\n\r\nTo improve the situation, the timestamp feature was added. This way, you can tell users: &quot;I used the certificate at this point of time (which is provided and verified by the time stamp agency - tsa), when it was still valid!&quot; As long as you do not change and resign your jar, it will still run, even after the certificate expires, because users see that at the point of creation the certificate was indeed valid.\r\n\r\nFor reference: http://docs.oracle.com/javase/7/docs/technotes/guides/security/time-of-signing.html\r\n\r\ntl;dr: if you ignore the warning, your jar won&#39;t run after 14-05-08. Add a timestamp, and it will still run as long as you don&#39;t modify anything.\r\n\r\nRegards","title":"-tsa or -tsacert timestamp for applet jar self-signed","body":"<p>This warning tells you that your jar's certificate will expire in may. Hence, users will not be able to execute your program after this date.</p>\n\n<p>To improve the situation, the timestamp feature was added. This way, you can tell users: \"I used the certificate at this point of time (which is provided and verified by the time stamp agency - tsa), when it was still valid!\" As long as you do not change and resign your jar, it will still run, even after the certificate expires, because users see that at the point of creation the certificate was indeed valid.</p>\n\n<p>For reference: <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/security/time-of-signing.html\">http://docs.oracle.com/javase/7/docs/technotes/guides/security/time-of-signing.html</a></p>\n\n<p>tl;dr: if you ignore the warning, your jar won't run after 14-05-08. Add a timestamp, and it will still run as long as you don't modify anything.</p>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":3731085,"reputation":9146,"user_id":3103448,"accept_rate":43,"display_name":"marc-medley"},"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1675910272,"creation_date":1402558624,"answer_id":24178906,"question_id":21695520,"body_markdown":"The Java 7 release provides a (courtesy?) warning about something which has been in place for a decade...\r\n\r\nTrusted Timestamping was introducing in Java 5 (2004).  The motivation was so that developers would not be forced &quot;to re-sign deployed JAR files annually&quot; when the certificates expired.\r\n \r\n &amp;rarr; http://docs.oracle.com/javase/1.5.0/docs/guide/security/time-of-signing.html&lt;br&gt;\r\n\r\nA URL-based Time Stamp Authority (TSA) is usually provided by the issuing Certificate Authority (CA) **to work with the same certificates** the CA issued.  For example, the digicert tsa url can be access as follows: \r\n\r\n`jarsigner -tsa http://timestamp.digicert.com [.. other options]`\r\n \r\n &amp;rarr; http://www.digicert.com/code-signing/java-code-signing-guide.htm\r\n\r\nTime stamping with self-signed certificate _may be_ an elusive goal since (1) a TSA timestamp needs to be an trusted arms-length transaction (which rules out &quot;self timestamping&quot;), and (2) typical TSA URLs are setup to work with the certificates provided by the same CA organization (i.e. the TSA URL does not process a self-signed certificate)\r\n\r\n**Update:** \r\n\r\nURLs to try for timestamping self-signed certificates:\r\n\r\n* Symantec: `-tsa http://sha256timestamp.ws.symantec.com/sha256/timestamp` (per comment by brad-turek)\r\n\r\n_For a private network, one could consider an internal Timestamp Authority such as such as Thales (nCipher) Time Stamp Server (or historically OpenTSA)_ ","title":"-tsa or -tsacert timestamp for applet jar self-signed","body":"<p>The Java 7 release provides a (courtesy?) warning about something which has been in place for a decade...</p>\n<p>Trusted Timestamping was introducing in Java 5 (2004).  The motivation was so that developers would not be forced &quot;to re-sign deployed JAR files annually&quot; when the certificates expired.</p>\n<p> <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/security/time-of-signing.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/1.5.0/docs/guide/security/time-of-signing.html</a><br></p>\n<p>A URL-based Time Stamp Authority (TSA) is usually provided by the issuing Certificate Authority (CA) <strong>to work with the same certificates</strong> the CA issued.  For example, the digicert tsa url can be access as follows:</p>\n<p><code>jarsigner -tsa http://timestamp.digicert.com [.. other options]</code></p>\n<p> <a href=\"http://www.digicert.com/code-signing/java-code-signing-guide.htm\" rel=\"nofollow noreferrer\">http://www.digicert.com/code-signing/java-code-signing-guide.htm</a></p>\n<p>Time stamping with self-signed certificate <em>may be</em> an elusive goal since (1) a TSA timestamp needs to be an trusted arms-length transaction (which rules out &quot;self timestamping&quot;), and (2) typical TSA URLs are setup to work with the certificates provided by the same CA organization (i.e. the TSA URL does not process a self-signed certificate)</p>\n<p><strong>Update:</strong></p>\n<p>URLs to try for timestamping self-signed certificates:</p>\n<ul>\n<li>Symantec: <code>-tsa http://sha256timestamp.ws.symantec.com/sha256/timestamp</code> (per comment by brad-turek)</li>\n</ul>\n<p><em>For a private network, one could consider an internal Timestamp Authority such as such as Thales (nCipher) Time Stamp Server (or historically OpenTSA)</em></p>\n"},{"tags":[],"owner":{"account_id":8683978,"reputation":429,"user_id":6498991,"display_name":"vedant shirke"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508267722,"creation_date":1492436420,"answer_id":43452655,"question_id":21695520,"body_markdown":"I was facing the same problem. Without the timestamp the jar would not get signed.\r\n\r\nWhen you add `-tsa http://timestamp.digicert.com`, it would not give any warning or error but still the jar would not be signed.\r\n\r\nBut then I added the following part and it worked for me.\r\n\r\n    -tsacert alias\r\n\r\nSo, basically my final command was\r\n\r\n    jarsigner -verbose -tsa http://timestamp.digicert.com -tsacert alias  -sigalg SHA256withRSA -digestalg SHA1 -keystore my-release-key.keystore android-release-unsigned.apk alias_name\r\n\r\nRemember the `alias_name` in the command and the one in `keystore` should be the same.","title":"-tsa or -tsacert timestamp for applet jar self-signed","body":"<p>I was facing the same problem. Without the timestamp the jar would not get signed.</p>\n\n<p>When you add <code>-tsa http://timestamp.digicert.com</code>, it would not give any warning or error but still the jar would not be signed.</p>\n\n<p>But then I added the following part and it worked for me.</p>\n\n<pre><code>-tsacert alias\n</code></pre>\n\n<p>So, basically my final command was</p>\n\n<pre><code>jarsigner -verbose -tsa http://timestamp.digicert.com -tsacert alias  -sigalg SHA256withRSA -digestalg SHA1 -keystore my-release-key.keystore android-release-unsigned.apk alias_name\n</code></pre>\n\n<p>Remember the <code>alias_name</code> in the command and the one in <code>keystore</code> should be the same.</p>\n"}],"owner":{"account_id":978301,"reputation":1366,"user_id":998676,"display_name":"Raja Peela"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38772,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":24178906,"answer_count":4,"score":50,"last_activity_date":1675910272,"creation_date":1392103115,"question_id":21695520,"body_markdown":"When I was trying to self-sign in the jar like below.\r\n\r\n    jarsigner -keystore my keystore myjar.jar myalias\r\n\r\nIt gives warning like:\r\n\r\n&gt; No -tsa or -tsacert is provided and this jar is not timestamped. Without a timestamp, users may not be able to validate this jar after the signer certificate&#39;s expiration date (2014-05-08) or after any future revocation date.\r\n\r\n\r\nPlease help to resolve the problem.","title":"-tsa or -tsacert timestamp for applet jar self-signed","body":"<p>When I was trying to self-sign in the jar like below.</p>\n\n<pre><code>jarsigner -keystore my keystore myjar.jar myalias\n</code></pre>\n\n<p>It gives warning like:</p>\n\n<blockquote>\n  <p>No -tsa or -tsacert is provided and this jar is not timestamped. Without a timestamp, users may not be able to validate this jar after the signer certificate's expiration date (2014-05-08) or after any future revocation date.</p>\n</blockquote>\n\n<p>Please help to resolve the problem.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675830648,"post_id":75381351,"comment_id":133010791,"body_markdown":"By the way, bold and italics don&#39;t work in formatted code.","body":"By the way, bold and italics don&#39;t work in formatted code."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1675831392,"post_id":75381351,"comment_id":133010869,"body_markdown":"This would be a good program to step through using a debugger.","body":"This would be a good program to step through using a debugger."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675835477,"post_id":75381351,"comment_id":133011379,"body_markdown":"Class `QuizManager` does not compile since it refers to class `NumericQuestion`. I assume that is also a class that you wrote. In any case, in order for your code to compile on my computer, I need class `NumericQuestion`.","body":"Class <code>QuizManager</code> does not compile since it refers to class <code>NumericQuestion</code>. I assume that is also a class that you wrote. In any case, in order for your code to compile on my computer, I need class <code>NumericQuestion</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675843555,"post_id":75381351,"comment_id":133012894,"body_markdown":"I would add the `sentence` to the error message of the exception so you can check what is wrong.... e.g. `throw new IllegalArgumentException(&quot;Fill in Question does not contain the correct format: &quot; + sentence);` (as a developer it is always *nice* to have some more information if something didn&#39;t work [specially user input]) || BTW if I test posted method with `parseQ(&quot;The sky is _-blue-_&quot;)` , I get `&quot;The sky is _________&quot;` - much probably that is not the argument that is causing problems","body":"I would add the <code>sentence</code> to the error message of the exception so you can check what is wrong.... e.g. <code>throw new IllegalArgumentException(&quot;Fill in Question does not contain the correct format: &quot; + sentence);</code> (as a developer it is always <i>nice</i> to have some more information if something didn&#39;t work [specially user input]) || BTW if I test posted method with <code>parseQ(&quot;The sky is _-blue-_&quot;)</code> , I get <code>&quot;The sky is _________&quot;</code> - much probably that is not the argument that is causing problems"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1675844934,"post_id":75381351,"comment_id":133013250,"body_markdown":"( I could reproduce the error: `Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Fill in Question does not contain the correct format: The color _________ is the most common color found on flags.`  - apparently this method is being called twice for the same text... `FillInQuestion.copy()` is found on the stack trace - this should indicate the problem )","body":"( I could reproduce the error: <code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Fill in Question does not contain the correct format: The color _________ is the most common color found on flags.</code>  - apparently this method is being called twice for the same text... <code>FillInQuestion.copy()</code> is found on the stack trace - this should indicate the problem )"},{"owner":{"account_id":25397583,"reputation":13,"user_id":19207614,"display_name":"Zeyar Htoo"},"score":0,"creation_date":1675909966,"post_id":75381351,"comment_id":133031189,"body_markdown":"I commented out the code for the NumericQuestion class in case it won&#39;t compile on your consoles. NumericQuestion works just fine but FillInquestion is not","body":"I commented out the code for the NumericQuestion class in case it won&#39;t compile on your consoles. NumericQuestion works just fine but FillInquestion is not"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675913497,"post_id":75381351,"comment_id":133031608,"body_markdown":"So, did the *&quot;I could reporduce the error&quot;* comment from @user16320675 lead to resolving the problem?","body":"So, did the <i>&quot;I could reporduce the error&quot;</i> comment from @user16320675 lead to resolving the problem?"},{"owner":{"account_id":25397583,"reputation":13,"user_id":19207614,"display_name":"Zeyar Htoo"},"score":1,"creation_date":1675926420,"post_id":75381351,"comment_id":133033555,"body_markdown":"I figured out that the method for parseQ was correct so it had to something with the copy method, and someone commented the method was running two times so I solved it. Thank you for the suggestions.","body":"I figured out that the method for parseQ was correct so it had to something with the copy method, and someone commented the method was running two times so I solved it. Thank you for the suggestions."}],"owner":{"account_id":25397583,"reputation":13,"user_id":19207614,"display_name":"Zeyar Htoo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675909894,"creation_date":1675830089,"question_id":75381351,"body_markdown":"```\r\npublic class FillInQuestion extends Question {\r\n\t\r\n\tpublic FillInQuestion(String sentence, DifficultyLevel diff) {\r\n\t      super(parseQ(sentence), parseA(sentence), diff);\r\n\t      \r\n\t}\r\n\t/**\r\n\t * Takes a sentence string and replace the answer surrounded by a specific patterb with a blank \r\n\t * \r\n\t * @param sentence\r\n\t * @return finalquestion the question with a blank\r\n\t * @throws IllegalAArgumentException if format is not met\r\n\t */\r\n\t**private static String parseQ(String sentence){\t\r\n\t\tint startindex = sentence.indexOf(&quot;_-&quot;);\r\n\t\tint endindex = sentence.indexOf(&quot;-_&quot;);\r\n\t\tif (startindex == -1 || endindex == -1 || endindex &lt;= (startindex + 2)) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;Fill in Question does not contain the correct format&quot;);\r\n\t\t}\r\n\t\tString answer = sentence.substring(startindex+2, endindex);\r\n\t\tString finalquestion = sentence.replace(&quot;_-&quot; + answer + &quot;-_&quot;, &quot;_________&quot;);\r\n\t\treturn finalquestion;**\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param sentence\r\n\t * @return selected answer from a string\r\n\t */\r\n\tprivate static String parseA(String sentence) {\r\n\t\tint startindex = sentence.indexOf(&quot;_-&quot;);\r\n\t\tint endindex = sentence.indexOf(&quot;-_&quot;);\r\n\t\treturn sentence.substring(startindex+2, endindex);\r\n\t}\r\n\r\n\t/**Creates a copy of FillinQuestion\r\n\t * \r\n\t * @return a copy of FillinQuestion\r\n\t * \r\n\t */\r\n\t@Override\r\n\tpublic Question copy(){\r\n\t\treturn new FillInQuestion(this.getQuestion(), this.getDifficulty());\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class QuizManager {\r\n\t/**\r\n\t * Asks users for questions, take in user input and then have a score system\r\n\t * \r\n\t * @param questions ArrayList of Questions\r\n\t * @throws Exception\r\n\t */\r\n\tpublic static void giveQuiz(ArrayList&lt;Question&gt; questions) throws Exception {\r\n\t    Scanner s = new Scanner(System.in);\r\n\t    int score = 0;\r\n\t    if (questions.isEmpty()) { //Throws exception in the case of empty arraylist\r\n\t      throw new Exception(&quot;Questions Not Found Empty Quiz&quot;);\r\n\t    }\r\n\t    for (Question q : questions) {\r\n\t      System.out.println(q.displayQuestion());\r\n\t      System.out.print(&quot;Your answer: &quot;);\r\n\t      String userAnswer = s.nextLine();\r\n\t      if (q.checkAnswer(userAnswer)) {\r\n\t        score++;\r\n\t      }\r\n\t    }\r\n\t    System.out.println(&quot;You scored &quot; + score + &quot; out of &quot; + questions.size() + &quot;.&quot;);\r\n\t  }\r\n\r\n\t  public static void main(String[] args) {\r\n\t   \r\n\t\tQuizMaker quizMaker = new QuizMaker(&quot;General Pop Quiz&quot;); // New Object\r\n\t\t//Questions\r\n\t    quizMaker.add(new Question(&quot;When did World War I started?&quot;, &quot;1914&quot;, Question.DifficultyLevel.EASY));\r\n\t    quizMaker.add(new Question(&quot;How many fundamental states of matter are there? (State the number only)&quot;, &quot;4&quot;, Question.DifficultyLevel.EASY));\r\n\t    quizMaker.add(new Question(&quot;Which three numbers have the same answer whether they are added or multiplied together?&quot;, &quot;1, 2 and 3&quot;, Question.DifficultyLevel.MEDIUM));\r\n\t    quizMaker.add(new Question(&quot;How many wonders of the world are there (Numbers Only)&quot;, &quot;7&quot;, Question.DifficultyLevel.EASY));\r\n\t    quizMaker.add(new Question(&quot;What is the capital city of Australia&quot;, &quot;Canberra&quot;, Question.DifficultyLevel.MEDIUM));\r\n\t    quizMaker.add(new Question(&quot;What is the largest capital city in North America?&quot;, &quot;Mexico City&quot;, Question.DifficultyLevel.HARD));\r\n\t    quizMaker.add(new Question(&quot;Who was the first person to create the first gasoline-powered car?&quot;, &quot;Karl Benz&quot;, Question.DifficultyLevel.HARD));\r\n\t    quizMaker.add(new Question(&quot;State a palindrome number between 10 and 20&quot;, &quot;11&quot;, Question.DifficultyLevel.EASY));\r\n\t    quizMaker.add(new Question(&quot;\\n\\nString str1 = \\&quot;InterviewBit\\&quot;;\\n&quot;\r\n\t    \t\t+ &quot;String str2 = \\&quot;InterviewBit\\&quot;;\\n&quot;\r\n\t    \t\t+ &quot; \\n&quot;\r\n\t    \t\t+ &quot;System.out.println(str1 == str2);\\n\\nWhat will the code print?&quot;, &quot;True&quot;, Question.DifficultyLevel.HARD));\r\n\t    quizMaker.add(new Question(&quot;Im tall when Im young, and Im short when Im old. What am I?&quot;, &quot;Candle&quot;, Question.DifficultyLevel.MEDIUM));\r\n\t    **quizMaker.add(new FillInQuestion(&quot;The color _-white-_ is the most common color found on flags.&quot;, Question.DifficultyLevel.EASY));**\r\n\t    //quizMaker.add(new NumericQuestion(&quot;VALUE OF PI?&quot;, 3.14, 0.01, Question.DifficultyLevel.EASY));\r\n\t    \r\n\t    ArrayList&lt;Question&gt; allQuestions = quizMaker.createQuiz();\r\n\t    ArrayList&lt;Question&gt; hardQuestions = quizMaker.createQuiz(Question.DifficultyLevel.HARD);\r\n\r\n\t    //Exception Handling\r\n\t    try {\r\n\t    \t  System.out.println(&quot;Full Quiz for : &quot;);\r\n\t    \t  giveQuiz(allQuestions);\r\n\t    \t  System.out.println(&quot;\\nHard Quiz: &quot;);\r\n\t    \t  giveQuiz(hardQuestions);\r\n\t    \t} catch (Exception e) {\r\n\t    \t  System.out.println(e.getMessage());\r\n\t    \t}\r\n\t  }\t\t\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class QuizMaker {\r\n\tprivate String name;\r\n\t  private ArrayList&lt;Question&gt; pool;\r\n\t  \r\n\t  /**\r\n\t   * Constructor with name as an instance \r\n\t   * \r\n\t   * @param name the name of the QuizMaker instance\r\n\t   */\r\n\t  public QuizMaker(String name) {\r\n\t    this.name = name;\r\n\t    this.pool = new ArrayList&lt;&gt;();\r\n\t  }\r\n\t  /*\r\n\t   * Question is copied into the pool\r\n\t   * \r\n\t   * @param q Question q that will be added to the pool\r\n\t   */\r\n\t  public void add(Question q) {\r\n\t    this.pool.add(q.copy());\r\n\t  }\r\n\r\n\t  \r\n\t  /*\r\n\t   * @return the name of the QuizMaker Instance\r\n\t   */\r\n\t  public String getName() {\r\n\t    return name;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * Sets the name of the QuizMaker instance.\r\n\t   * \r\n\t   * @param name the new name of the QuizMaker instance\r\n\t   */\r\n\t  public void setName(String name) {\r\n\t    this.name = name;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * Creates quiz from the question pool\r\n\t   * \r\n\t   * @return an ArrayList of Question objects representing the quiz\r\n\t   */\r\n\t  public ArrayList&lt;Question&gt; createQuiz() {\r\n\t    ArrayList&lt;Question&gt; quiz = new ArrayList&lt;&gt;();\r\n\t    for (Question q : pool) {\r\n\t      quiz.add(q.copy());\r\n\t    }\r\n\t    return quiz;\r\n\t  }\r\n\t  \r\n\t  /**\r\n\t   * Creates a specific difficulty quiz from pool of questions\r\n\t   * \r\n\t   * @param difficulty the difficulty level of the questions \r\n\t   * @return an ArrayList of Question with the specific difficulty\r\n\t   */\r\n\t  public ArrayList&lt;Question&gt; createQuiz(Question.DifficultyLevel difficulty) {\r\n\t    ArrayList&lt;Question&gt; quiz = new ArrayList&lt;&gt;();\r\n\t    for (Question q : pool) {\r\n\t      if (q.getDifficulty() == difficulty) {\r\n\t        quiz.add(q.copy());\r\n\t      }\r\n\t    }\r\n\t    return quiz;\r\n\t  }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class Question {\r\n\t/*\r\n\t * Enum class representing the difficulty of the question \r\n\t */\r\n\tpublic enum DifficultyLevel {\r\n\t\tEASY, MEDIUM , HARD;\r\n\t}\r\n\t\r\n\t//Instance values \r\n\tprivate String question;\r\n\tprivate String answer;\r\n\tprivate DifficultyLevel difficulty;\r\n\t\r\n\t\r\n\t/**\r\n\t * Constructs a question with the given question text, answer, and difficulty level.\r\n\t * \r\n\t * @param question the question string\r\n\t * @param answer the answer string\r\n\t * @param difficulty the difficulty level of the question\r\n\t */\r\n\t public Question(String question, String answer, DifficultyLevel difficulty) {\r\n\t\t    this.question = question;\r\n\t\t    this.answer = answer;\r\n\t\t    this.difficulty = difficulty;\r\n\t\t  }\r\n\t \r\n\t /**\r\n\t\t * Constructs a new question with the given question and answer, and  default difficulty level of `EASY`.\r\n\t\t * \r\n\t\t * @param question the question string\r\n\t\t * @param answer the answer string\r\n\t\t */\r\n\t public Question(String question, String answer) {\r\n\t\t    this.question = question;\r\n\t\t    this.answer = answer;\r\n\t\t    this.difficulty = DifficultyLevel.EASY;\r\n\t\t  }\r\n\r\n\r\n /**\r\n  \t* \r\n\t* \r\n\t* @return question string\r\n\t*/\r\n\tpublic String getQuestion() {\r\n\t\treturn question;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Set Given Question\r\n\t * @param question\r\n\t */\r\n\tpublic void setQuestion(String question) {\r\n\t\tthis.question = question;\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t * @return answer string\r\n\t */\r\n\tpublic String getAnswer() {\r\n\t\treturn answer;\r\n\t}\r\n\r\n\t/**Set the answer\r\n\t * \r\n\t * @param answer from given answer\r\n\t */\r\n\tpublic void setAnswer(String answer) {\r\n\t\tthis.answer = answer;\r\n\t}\r\n\t\r\n\t/**\r\n\t * \r\n\t * @return difficulty ENUM difficulty level\r\n\t */\r\n\tpublic DifficultyLevel getDifficulty() {\r\n\t\treturn difficulty;\r\n\t}\r\n\r\n\t/**\r\n\t * Set difficulty level\r\n\t * @param difficulty \r\n\t */\r\n\tpublic void setDifficulty(DifficultyLevel difficulty) {\r\n\t\tthis.difficulty = difficulty;\r\n\t}\r\n\t/**\r\n\t * \r\n\t * @param userInput the user&#39;s answer \r\n\t * @return a boolean whether the answer is true or not\r\n\t */\r\n\tpublic boolean checkAnswer(String userInput) {\r\n\t\tif(userInput.equalsIgnoreCase(getAnswer())) {\r\n\t\t\treturn true;\r\n\t\t}else\r\n\t\t\treturn false;\r\n\t}\r\n\t\r\n\t/**Displays the question and the difficulty level of the question \r\n\t * \r\n\t * @return whole question and its difficulty\r\n\t */\r\n\tpublic String displayQuestion() {\r\n\t    return &quot;Question: &quot; + this.getQuestion() + &quot;\\nDifficulty: &quot; + this.getDifficulty();\r\n\t}\r\n\t\r\n\t/**\r\n\t * @return the string summary\r\n\t */\r\n\tpublic String toString() {\r\n\t\t    return &quot;Question: &quot; + question + &quot;, Answer: &quot; + answer + &quot;, Difficulty Level: &quot; + difficulty;\r\n\t}\r\n\t\r\n\t/**Creates a new question with the same question, answer and difficulty\r\n\t * \r\n\t * @return a copy of the question \r\n\t */\r\n\tpublic Question copy() {\r\n\t    return new Question(this.getQuestion(), this.getAnswer(), this.getDifficulty());\r\n\t  }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI expected to the code I bolded to run smoothly without throwing the exception I implemented. It shouldn&#39;t happen since the format is correct. I don&#39;t know what I did wrong but basically o\t`parseQ(The sky is _-blue-_)` should return The sky is _________ but I tried with the method but it only throws the exception. Also I am not allowed to use regex patterns.","title":"Why it is program showing the IllegalArgumentException I threw despite having the correct format for FillInQuestion? I put all class files for context","body":"<pre><code>public class FillInQuestion extends Question {\n    \n    public FillInQuestion(String sentence, DifficultyLevel diff) {\n          super(parseQ(sentence), parseA(sentence), diff);\n          \n    }\n    /**\n     * Takes a sentence string and replace the answer surrounded by a specific patterb with a blank \n     * \n     * @param sentence\n     * @return finalquestion the question with a blank\n     * @throws IllegalAArgumentException if format is not met\n     */\n    **private static String parseQ(String sentence){    \n        int startindex = sentence.indexOf(&quot;_-&quot;);\n        int endindex = sentence.indexOf(&quot;-_&quot;);\n        if (startindex == -1 || endindex == -1 || endindex &lt;= (startindex + 2)) {\n            throw new IllegalArgumentException(&quot;Fill in Question does not contain the correct format&quot;);\n        }\n        String answer = sentence.substring(startindex+2, endindex);\n        String finalquestion = sentence.replace(&quot;_-&quot; + answer + &quot;-_&quot;, &quot;_________&quot;);\n        return finalquestion;**\n    }\n    /**\n     * \n     * @param sentence\n     * @return selected answer from a string\n     */\n    private static String parseA(String sentence) {\n        int startindex = sentence.indexOf(&quot;_-&quot;);\n        int endindex = sentence.indexOf(&quot;-_&quot;);\n        return sentence.substring(startindex+2, endindex);\n    }\n\n    /**Creates a copy of FillinQuestion\n     * \n     * @return a copy of FillinQuestion\n     * \n     */\n    @Override\n    public Question copy(){\n        return new FillInQuestion(this.getQuestion(), this.getDifficulty());\n    }\n}\n\n</code></pre>\n<pre><code>public class QuizManager {\n    /**\n     * Asks users for questions, take in user input and then have a score system\n     * \n     * @param questions ArrayList of Questions\n     * @throws Exception\n     */\n    public static void giveQuiz(ArrayList&lt;Question&gt; questions) throws Exception {\n        Scanner s = new Scanner(System.in);\n        int score = 0;\n        if (questions.isEmpty()) { //Throws exception in the case of empty arraylist\n          throw new Exception(&quot;Questions Not Found Empty Quiz&quot;);\n        }\n        for (Question q : questions) {\n          System.out.println(q.displayQuestion());\n          System.out.print(&quot;Your answer: &quot;);\n          String userAnswer = s.nextLine();\n          if (q.checkAnswer(userAnswer)) {\n            score++;\n          }\n        }\n        System.out.println(&quot;You scored &quot; + score + &quot; out of &quot; + questions.size() + &quot;.&quot;);\n      }\n\n      public static void main(String[] args) {\n       \n        QuizMaker quizMaker = new QuizMaker(&quot;General Pop Quiz&quot;); // New Object\n        //Questions\n        quizMaker.add(new Question(&quot;When did World War I started?&quot;, &quot;1914&quot;, Question.DifficultyLevel.EASY));\n        quizMaker.add(new Question(&quot;How many fundamental states of matter are there? (State the number only)&quot;, &quot;4&quot;, Question.DifficultyLevel.EASY));\n        quizMaker.add(new Question(&quot;Which three numbers have the same answer whether they are added or multiplied together?&quot;, &quot;1, 2 and 3&quot;, Question.DifficultyLevel.MEDIUM));\n        quizMaker.add(new Question(&quot;How many wonders of the world are there (Numbers Only)&quot;, &quot;7&quot;, Question.DifficultyLevel.EASY));\n        quizMaker.add(new Question(&quot;What is the capital city of Australia&quot;, &quot;Canberra&quot;, Question.DifficultyLevel.MEDIUM));\n        quizMaker.add(new Question(&quot;What is the largest capital city in North America?&quot;, &quot;Mexico City&quot;, Question.DifficultyLevel.HARD));\n        quizMaker.add(new Question(&quot;Who was the first person to create the first gasoline-powered car?&quot;, &quot;Karl Benz&quot;, Question.DifficultyLevel.HARD));\n        quizMaker.add(new Question(&quot;State a palindrome number between 10 and 20&quot;, &quot;11&quot;, Question.DifficultyLevel.EASY));\n        quizMaker.add(new Question(&quot;\\n\\nString str1 = \\&quot;InterviewBit\\&quot;;\\n&quot;\n                + &quot;String str2 = \\&quot;InterviewBit\\&quot;;\\n&quot;\n                + &quot; \\n&quot;\n                + &quot;System.out.println(str1 == str2);\\n\\nWhat will the code print?&quot;, &quot;True&quot;, Question.DifficultyLevel.HARD));\n        quizMaker.add(new Question(&quot;Im tall when Im young, and Im short when Im old. What am I?&quot;, &quot;Candle&quot;, Question.DifficultyLevel.MEDIUM));\n        **quizMaker.add(new FillInQuestion(&quot;The color _-white-_ is the most common color found on flags.&quot;, Question.DifficultyLevel.EASY));**\n        //quizMaker.add(new NumericQuestion(&quot;VALUE OF PI?&quot;, 3.14, 0.01, Question.DifficultyLevel.EASY));\n        \n        ArrayList&lt;Question&gt; allQuestions = quizMaker.createQuiz();\n        ArrayList&lt;Question&gt; hardQuestions = quizMaker.createQuiz(Question.DifficultyLevel.HARD);\n\n        //Exception Handling\n        try {\n              System.out.println(&quot;Full Quiz for : &quot;);\n              giveQuiz(allQuestions);\n              System.out.println(&quot;\\nHard Quiz: &quot;);\n              giveQuiz(hardQuestions);\n            } catch (Exception e) {\n              System.out.println(e.getMessage());\n            }\n      }     \n}\n</code></pre>\n<pre><code>public class QuizMaker {\n    private String name;\n      private ArrayList&lt;Question&gt; pool;\n      \n      /**\n       * Constructor with name as an instance \n       * \n       * @param name the name of the QuizMaker instance\n       */\n      public QuizMaker(String name) {\n        this.name = name;\n        this.pool = new ArrayList&lt;&gt;();\n      }\n      /*\n       * Question is copied into the pool\n       * \n       * @param q Question q that will be added to the pool\n       */\n      public void add(Question q) {\n        this.pool.add(q.copy());\n      }\n\n      \n      /*\n       * @return the name of the QuizMaker Instance\n       */\n      public String getName() {\n        return name;\n      }\n\n      /**\n       * Sets the name of the QuizMaker instance.\n       * \n       * @param name the new name of the QuizMaker instance\n       */\n      public void setName(String name) {\n        this.name = name;\n      }\n\n      /**\n       * Creates quiz from the question pool\n       * \n       * @return an ArrayList of Question objects representing the quiz\n       */\n      public ArrayList&lt;Question&gt; createQuiz() {\n        ArrayList&lt;Question&gt; quiz = new ArrayList&lt;&gt;();\n        for (Question q : pool) {\n          quiz.add(q.copy());\n        }\n        return quiz;\n      }\n      \n      /**\n       * Creates a specific difficulty quiz from pool of questions\n       * \n       * @param difficulty the difficulty level of the questions \n       * @return an ArrayList of Question with the specific difficulty\n       */\n      public ArrayList&lt;Question&gt; createQuiz(Question.DifficultyLevel difficulty) {\n        ArrayList&lt;Question&gt; quiz = new ArrayList&lt;&gt;();\n        for (Question q : pool) {\n          if (q.getDifficulty() == difficulty) {\n            quiz.add(q.copy());\n          }\n        }\n        return quiz;\n      }\n\n}\n</code></pre>\n<pre><code>public class Question {\n    /*\n     * Enum class representing the difficulty of the question \n     */\n    public enum DifficultyLevel {\n        EASY, MEDIUM , HARD;\n    }\n    \n    //Instance values \n    private String question;\n    private String answer;\n    private DifficultyLevel difficulty;\n    \n    \n    /**\n     * Constructs a question with the given question text, answer, and difficulty level.\n     * \n     * @param question the question string\n     * @param answer the answer string\n     * @param difficulty the difficulty level of the question\n     */\n     public Question(String question, String answer, DifficultyLevel difficulty) {\n            this.question = question;\n            this.answer = answer;\n            this.difficulty = difficulty;\n          }\n     \n     /**\n         * Constructs a new question with the given question and answer, and  default difficulty level of `EASY`.\n         * \n         * @param question the question string\n         * @param answer the answer string\n         */\n     public Question(String question, String answer) {\n            this.question = question;\n            this.answer = answer;\n            this.difficulty = DifficultyLevel.EASY;\n          }\n\n\n /**\n    * \n    * \n    * @return question string\n    */\n    public String getQuestion() {\n        return question;\n    }\n    \n    /**\n     * Set Given Question\n     * @param question\n     */\n    public void setQuestion(String question) {\n        this.question = question;\n    }\n    \n    /**\n     * \n     * @return answer string\n     */\n    public String getAnswer() {\n        return answer;\n    }\n\n    /**Set the answer\n     * \n     * @param answer from given answer\n     */\n    public void setAnswer(String answer) {\n        this.answer = answer;\n    }\n    \n    /**\n     * \n     * @return difficulty ENUM difficulty level\n     */\n    public DifficultyLevel getDifficulty() {\n        return difficulty;\n    }\n\n    /**\n     * Set difficulty level\n     * @param difficulty \n     */\n    public void setDifficulty(DifficultyLevel difficulty) {\n        this.difficulty = difficulty;\n    }\n    /**\n     * \n     * @param userInput the user's answer \n     * @return a boolean whether the answer is true or not\n     */\n    public boolean checkAnswer(String userInput) {\n        if(userInput.equalsIgnoreCase(getAnswer())) {\n            return true;\n        }else\n            return false;\n    }\n    \n    /**Displays the question and the difficulty level of the question \n     * \n     * @return whole question and its difficulty\n     */\n    public String displayQuestion() {\n        return &quot;Question: &quot; + this.getQuestion() + &quot;\\nDifficulty: &quot; + this.getDifficulty();\n    }\n    \n    /**\n     * @return the string summary\n     */\n    public String toString() {\n            return &quot;Question: &quot; + question + &quot;, Answer: &quot; + answer + &quot;, Difficulty Level: &quot; + difficulty;\n    }\n    \n    /**Creates a new question with the same question, answer and difficulty\n     * \n     * @return a copy of the question \n     */\n    public Question copy() {\n        return new Question(this.getQuestion(), this.getAnswer(), this.getDifficulty());\n      }\n\n}\n</code></pre>\n<p>I expected to the code I bolded to run smoothly without throwing the exception I implemented. It shouldn't happen since the format is correct. I don't know what I did wrong but basically o    <code>parseQ(The sky is _-blue-_)</code> should return The sky is _________ but I tried with the method but it only throws the exception. Also I am not allowed to use regex patterns.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1447599996,"post_id":33719747,"comment_id":55212096,"body_markdown":"please post full stacktrace; but I will start with empty-ctor for `Country` and  setters for `countryName`","body":"please post full stacktrace; but I will start with empty-ctor for <code>Country</code> and  setters for <code>countryName</code>"}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1447605755,"creation_date":1447605755,"answer_id":33722146,"question_id":33719747,"body_markdown":"The problem here is that you are missing a default no-arg constructor in your `Country` class.\r\n\r\nYou are using [`BeanWrapperFieldSetMapper`](http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/mapping/BeanWrapperFieldSetMapper.html) to map a [`FieldSet`](http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/transform/FieldSet.html) to an object. Quoting the [`setTargetType(type)`](http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/mapping/BeanWrapperFieldSetMapper.html#setTargetType-java.lang.Class-) Javadoc:\r\n&gt;An object of this type will be created from its default constructor for every call to `mapFieldSet(FieldSet)`.\r\n\r\nAs such, you need to add a default constructor and provide the corresponding getter / setter for the properties.","title":"FlatFileParseException Parsing error - Spring Batch","body":"<p>The problem here is that you are missing a default no-arg constructor in your <code>Country</code> class.</p>\n\n<p>You are using <a href=\"http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/mapping/BeanWrapperFieldSetMapper.html\" rel=\"noreferrer\"><code>BeanWrapperFieldSetMapper</code></a> to map a <a href=\"http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/transform/FieldSet.html\" rel=\"noreferrer\"><code>FieldSet</code></a> to an object. Quoting the <a href=\"http://docs.spring.io/spring-batch/apidocs/org/springframework/batch/item/file/mapping/BeanWrapperFieldSetMapper.html#setTargetType-java.lang.Class-\" rel=\"noreferrer\"><code>setTargetType(type)</code></a> Javadoc:</p>\n\n<blockquote>\n  <p>An object of this type will be created from its default constructor for every call to <code>mapFieldSet(FieldSet)</code>.</p>\n</blockquote>\n\n<p>As such, you need to add a default constructor and provide the corresponding getter / setter for the properties.</p>\n"}],"owner":{"account_id":1985059,"reputation":633,"user_id":1780541,"accept_rate":75,"display_name":"usil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18947,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":33722146,"answer_count":1,"score":9,"last_activity_date":1675909699,"creation_date":1447591121,"question_id":33719747,"body_markdown":"I follow this [tutorial][1] and I&#39;m getting `FlatFileParseException` error:\r\n\r\n&gt; org.springframework.batch.item.file.FlatFileParseException: Parsing\r\n&gt; error at line: 1 in resource=[class path resource [country.csv]],\r\n&gt; input=[AA,Aruba]\r\n\r\n`country.csv`\r\n\r\n    AA,Aruba\r\n    BB,Baruba\r\n\r\nand here is my `ItemReader` method\r\n\r\n    @Bean\r\n        public ItemReader&lt;Country&gt; reader() {\r\n            FlatFileItemReader&lt;Country&gt; reader = new FlatFileItemReader&lt;Country&gt;();\r\n            reader.setResource(new ClassPathResource(&quot;country.csv&quot;));\r\n            reader.setLineMapper(new DefaultLineMapper&lt;Country&gt;() {{\r\n                setLineTokenizer(new DelimitedLineTokenizer() {{\r\n                    setNames(new String[] { &quot;countryCode&quot;, &quot;countryName&quot; });\r\n                }});\r\n                setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;Country&gt;() {{\r\n                    setTargetType(Country.class);\r\n                }});\r\n            }});\r\n            return reader;\r\n        }\r\n\r\nand `Country.java`\r\n\r\n    @Entity\r\n    @Table(name=&quot;Country&quot;)\r\n    public class Country  {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false, updatable = false)\r\n        Long id;\r\n    \r\n        @Column(name = &quot;countryCode&quot;, nullable = false, updatable = false)\r\n        String countryCode;\r\n    \r\n        @Column(name = &quot;countryName&quot;, nullable = false, updatable = false)\r\n        String countryName;\r\n    \r\n        public Country(String countryCode, String countryName) {\r\n            this.countryCode = countryCode;\r\n            this.countryName = countryName;\r\n    \r\n        }\r\n\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getCountryCode() {\r\n            return countryCode;\r\n        }\r\n    \r\n        public void setCountryCode(String countryCode) {\r\n            this.countryCode = countryCode;\r\n        }\r\n    \r\n        public String getCountryName() {\r\n            return countryName;\r\n        }\r\n    \r\n        public void setCountryName(String countryName) {\r\n            this.countryName = countryName;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;countryCode: &quot; + countryCode + &quot;, countryName: &quot; + countryName;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/batch-processing/","title":"FlatFileParseException Parsing error - Spring Batch","body":"<p>I follow this <a href=\"https://spring.io/guides/gs/batch-processing/\" rel=\"noreferrer\">tutorial</a> and I'm getting <code>FlatFileParseException</code> error:</p>\n\n<blockquote>\n  <p>org.springframework.batch.item.file.FlatFileParseException: Parsing\n  error at line: 1 in resource=[class path resource [country.csv]],\n  input=[AA,Aruba]</p>\n</blockquote>\n\n<p><code>country.csv</code></p>\n\n<pre><code>AA,Aruba\nBB,Baruba\n</code></pre>\n\n<p>and here is my <code>ItemReader</code> method</p>\n\n<pre><code>@Bean\n    public ItemReader&lt;Country&gt; reader() {\n        FlatFileItemReader&lt;Country&gt; reader = new FlatFileItemReader&lt;Country&gt;();\n        reader.setResource(new ClassPathResource(\"country.csv\"));\n        reader.setLineMapper(new DefaultLineMapper&lt;Country&gt;() {{\n            setLineTokenizer(new DelimitedLineTokenizer() {{\n                setNames(new String[] { \"countryCode\", \"countryName\" });\n            }});\n            setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;Country&gt;() {{\n                setTargetType(Country.class);\n            }});\n        }});\n        return reader;\n    }\n</code></pre>\n\n<p>and <code>Country.java</code></p>\n\n<pre><code>@Entity\n@Table(name=\"Country\")\npublic class Country  {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"id\", nullable = false, updatable = false)\n    Long id;\n\n    @Column(name = \"countryCode\", nullable = false, updatable = false)\n    String countryCode;\n\n    @Column(name = \"countryName\", nullable = false, updatable = false)\n    String countryName;\n\n    public Country(String countryCode, String countryName) {\n        this.countryCode = countryCode;\n        this.countryName = countryName;\n\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getCountryCode() {\n        return countryCode;\n    }\n\n    public void setCountryCode(String countryCode) {\n        this.countryCode = countryCode;\n    }\n\n    public String getCountryName() {\n        return countryName;\n    }\n\n    public void setCountryName(String countryName) {\n        this.countryName = countryName;\n    }\n\n    @Override\n    public String toString() {\n        return \"countryCode: \" + countryCode + \", countryName: \" + countryName;\n    }\n}\n</code></pre>\n"},{"tags":["java","keystore"],"owner":{"account_id":9013374,"reputation":11,"user_id":6717131,"display_name":"WinLord"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675907410,"creation_date":1675824282,"question_id":75380932,"body_markdown":"I have 2 file config to load Keystore softhsm_1 and softhsm_2.\r\n\r\nValue for file config changed, but Keystore and all alias not reload.\r\nBut when I restarting JVM, value loaded with new config.\r\nHow can i fix it?\r\n\r\nI&#39;ve already load and instance keystore like this\r\n```\r\nif (pkaSlot.equalsIgnoreCase(&quot;0&quot;)){\r\n   pkcs11conf = &quot;myPath\\\\softhsm_1.cfg&quot;; //load config for slot 0\r\n}else pkcs11conf = &quot;myPath\\\\softhsm_2.cfg&quot;\r\n\r\nchar[] password = &quot;12345678&quot;.toCharArray();\r\nprovider = new sun.security.pkcs11.SunPKCS11(pkcs11conf);\t\t \t\t\r\nSecurity.addProvider(provider);\r\n\r\n//Load keystore\r\nSystem.out.println(&quot;pkcs11conf: &quot;+pkcs11conf);\r\nkeystore = KeyStore.getInstance(&quot;PKCS11&quot;);\r\nfileInputStream = new FileInputStream(pkcs11conf);\r\nkeystore.load(fileInputStream, password);\r\n```","title":"How to reload config for Keystore Java","body":"<p>I have 2 file config to load Keystore softhsm_1 and softhsm_2.</p>\n<p>Value for file config changed, but Keystore and all alias not reload.\nBut when I restarting JVM, value loaded with new config.\nHow can i fix it?</p>\n<p>I've already load and instance keystore like this</p>\n<pre><code>if (pkaSlot.equalsIgnoreCase(&quot;0&quot;)){\n   pkcs11conf = &quot;myPath\\\\softhsm_1.cfg&quot;; //load config for slot 0\n}else pkcs11conf = &quot;myPath\\\\softhsm_2.cfg&quot;\n\nchar[] password = &quot;12345678&quot;.toCharArray();\nprovider = new sun.security.pkcs11.SunPKCS11(pkcs11conf);               \nSecurity.addProvider(provider);\n\n//Load keystore\nSystem.out.println(&quot;pkcs11conf: &quot;+pkcs11conf);\nkeystore = KeyStore.getInstance(&quot;PKCS11&quot;);\nfileInputStream = new FileInputStream(pkcs11conf);\nkeystore.load(fileInputStream, password);\n</code></pre>\n"},{"tags":["java","spring-boot","maven","file","minio"],"owner":{"account_id":20283612,"reputation":1,"user_id":14876764,"display_name":"Badwomne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675906982,"creation_date":1675906876,"question_id":75393387,"body_markdown":"Files uploaded via API in [MinIO](https://min.io/) cannot be deleted (pending all the time)My MinIO version is the latest version up to date and uses the Java SDK. I want to ask you guys have ever encountered this situation? If so, how did you solve it?\r\n\r\nMinio version: lastest (latest version on the official website)\r\nJavaSDK 8.2.1 .\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hl8eM.png","title":"Files uploaded via API in minio cannot be deleted (pending all the time)","body":"<p>Files uploaded via API in <a href=\"https://min.io/\" rel=\"nofollow noreferrer\">MinIO</a> cannot be deleted (pending all the time)My MinIO version is the latest version up to date and uses the Java SDK. I want to ask you guys have ever encountered this situation? If so, how did you solve it?</p>\n<p>Minio version: lastest (latest version on the official website)\nJavaSDK 8.2.1 .</p>\n<p><a href=\"https://i.stack.imgur.com/Hl8eM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hl8eM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","file","sockets","byte"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675748744,"post_id":75369060,"comment_id":132990374,"body_markdown":"[Java sending and receiving file (byte) over sockets](https://stackoverflow.com/questions/9520911/java-sending-and-receiving-file-byte-over-sockets)","body":"<a href=\"https://stackoverflow.com/questions/9520911/java-sending-and-receiving-file-byte-over-sockets\">Java sending and receiving file (byte) over sockets</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1675749142,"post_id":75369060,"comment_id":132990417,"body_markdown":"[Java sending and receiving file over sockets](https://stackoverflow.com/questions/38732970/java-sending-and-receiving-file-over-sockets)","body":"<a href=\"https://stackoverflow.com/questions/38732970/java-sending-and-receiving-file-over-sockets\">Java sending and receiving file over sockets</a>"},{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1675764709,"post_id":75369060,"comment_id":132994237,"body_markdown":"the variable `bytes` tells you how many bytes were received. If 5 bytes were received then your program prints 1024 bytes anyway. What do you suppose goes in the extra 1019 bytes that it prints?","body":"the variable <code>bytes</code> tells you how many bytes were received. If 5 bytes were received then your program prints 1024 bytes anyway. What do you suppose goes in the extra 1019 bytes that it prints?"}],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1675906657,"creation_date":1675753568,"answer_id":75369900,"question_id":75369060,"body_markdown":"That try catch should NOT be in the for loop !!!! It only needs single code use by wrapping. Also use counting metering conventionally the number of bytes with a conventional numeric &quot;for&quot; loop, Not for(byte b : buffer). Note: byte is not strictly numeric, it will only reach to 255 in the for counter! It depends the quantity bytes required iterated over and should be as many as are packaged to it over the connection.\r\n\r\n\r\nIn the read you need to obtain the number of bytes sent andmark that into the write length to take from the array, so it would be better to instantiate the array based on the number of bytes or maximum bytes the the client sender has sent or negotiated as the maximum allowed (see the api docs for the stream.\r\nNB ObjectStream does not apply , it&#39;s for RMI)\r\n\r\nOf counting into the byte[] buffer array, you should remove it from the method and put it as a global. In the method , instantiate a new &quot;buffer&quot; array on the global variable each iteration of the loop according to the number of bytes read as it&#39;s new length.\r\n\r\nThe code does not appear to be particularly safe or debugable. You might try carefully constructing it starting again from scratch.","title":"It duplicates content when transferring it via java socket","body":"<p>That try catch should NOT be in the for loop !!!! It only needs single code use by wrapping. Also use counting metering conventionally the number of bytes with a conventional numeric &quot;for&quot; loop, Not for(byte b : buffer). Note: byte is not strictly numeric, it will only reach to 255 in the for counter! It depends the quantity bytes required iterated over and should be as many as are packaged to it over the connection.</p>\n<p>In the read you need to obtain the number of bytes sent andmark that into the write length to take from the array, so it would be better to instantiate the array based on the number of bytes or maximum bytes the the client sender has sent or negotiated as the maximum allowed (see the api docs for the stream.\nNB ObjectStream does not apply , it's for RMI)</p>\n<p>Of counting into the byte[] buffer array, you should remove it from the method and put it as a global. In the method , instantiate a new &quot;buffer&quot; array on the global variable each iteration of the loop according to the number of bytes read as it's new length.</p>\n<p>The code does not appear to be particularly safe or debugable. You might try carefully constructing it starting again from scratch.</p>\n"},{"tags":[],"owner":{"account_id":21136269,"reputation":45,"user_id":15539664,"display_name":"theoutstandingme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675860810,"creation_date":1675860810,"answer_id":75386099,"question_id":75369060,"body_markdown":"The problem was that I didn&#39;t check if the size were 0 on the client side.","title":"It duplicates content when transferring it via java socket","body":"<p>The problem was that I didn't check if the size were 0 on the client side.</p>\n"}],"owner":{"account_id":21136269,"reputation":45,"user_id":15539664,"display_name":"theoutstandingme"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675906657,"creation_date":1675745848,"question_id":75369060,"body_markdown":"I have written a client-socket &quot;system&quot; that is supposed to upload a file.\r\nAlthough, when I attempt to upload, content duplicates.\r\nI&#39;m pretty sure that it is because the program doesn&#39;t recognise the eof.\r\nI&#39;ve found something like &quot;Object stream&quot;, but I don&#39;t fancy importing new classes. I reckon that I don&#39;t really require that. But I wanna know how what the problem precisely is and how to hanle it.\r\n```java\r\npackage client;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\nimport java.net.UnknownHostException;\r\n\r\npublic class Client {\r\n\r\n\tprivate Socket socket;\r\n\tprivate DataInputStream in;\r\n\tprivate DataOutputStream out;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Client();\r\n\r\n\t}\r\n\tpublic Client()\r\n\t{\r\n\t\ttry {\r\n\t\t\tsocket = new Socket(&quot;127.0.0.1&quot;, 5010);\r\n\t\t\r\n\t\t\tin = new DataInputStream(socket.getInputStream());\r\n\t\t\tout = new DataOutputStream(socket.getOutputStream());\r\n\t\t\t\r\n\t\t\tthis.sendFile(&quot;./some.txt&quot;);\r\n\t\t\t\r\n\t\t\tin.close();\r\n\t\t\tout.close();\r\n\t\t\tsocket.close();\r\n\t\t}\r\n\t\tcatch(UnknownHostException ex)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;unknown host&quot;);\r\n\t\t}\r\n\t\tcatch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\tprivate void sendFile(String path)\r\n\t{\r\n\t\tint bytes = 0;\r\n\t\tFile file = new File(path);\r\n\t\tFileInputStream input;\r\n\t\ttry {\r\n\t\t\tinput = new FileInputStream(file);\r\n\t\t\t\r\n\t\t\tlong size = file.length();\r\n\t\t\t//long size = file.getTotalSpace();\r\n\t\t\tSystem.out.println(size);\r\n\t\t\t// send a file&#39;s size\r\n\t\t\tout.writeLong(size);\r\n\t\t\tbyte[] buffer = new byte[1024];\r\n\t\t\tint i = 0, r=0;\r\n\t\t\t//while((bytes = input.read(buffer,0,buffer.length))!=-1)\r\n\t\t\twhile(size &gt; 0 &amp;&amp; (bytes = input.read(buffer,0,(int)Math.min(buffer.length, size)))!=-1)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;\\n -------------&quot;+(++i));\r\n\t\t\t\tfor (byte b : buffer)\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif ((char)b == &#39;\\n&#39; || r == 0)\r\n\t\t\t\t\t\t\tSystem.out.print(&quot;\\n&quot; + (++r));\r\n\t\t\t\t\t\tSystem.out.print((char)b);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch(NullPointerException ex)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\tout.write(buffer, 0, bytes);\r\n\t\t\t\tout.flush();\r\n\t\t\t\tsize -= bytes;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tinput.close();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n```java\r\npackage server;\r\n\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\n\r\npublic class Server {\r\n\r\n\tprivate ServerSocket ss;\r\n\tprivate Socket cs;\r\n\tprivate DataInputStream in;\r\n\tprivate DataOutputStream out;\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tnew Server();\r\n\t}\r\n\tpublic Server()\r\n\t{\r\n\t\ttry {\r\n\t\t\tss = new ServerSocket(5010);\r\n\t\t\tcs = ss.accept(); \r\n\t\t\t\r\n\t\t\tin = new DataInputStream(cs.getInputStream());\r\n\t\t\tout = new DataOutputStream(cs.getOutputStream());\r\n\t\t\t\r\n\t\t\tthis.receiveFile(&quot;./uploaded.txt&quot;);\r\n\t\t\t\r\n\t\t\tin.close();\r\n\t\t\tout.close();\r\n\t\t\tcs.close();\r\n\t\t\tss.close();\r\n\t\t} \r\n\t\tcatch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\tprivate void receiveFile(String path)\r\n\t{\r\n\t\tint bytes = 0;\r\n\t\ttry {\r\n\t\t\tFile file = new File(path);\r\n\t\t\tfile.createNewFile();\r\n\t\t\tFileOutputStream output = new FileOutputStream(file);\r\n\t\t\t\r\n\t\t\tlong size = in.readLong();\r\n\t\t\tbyte[] buffer = new byte[1024];\r\n\t\t\t\r\n\t\t\tint i = 0;\r\n\t\t\t\r\n\t\t\twhile(size&gt;0 &amp;&amp; (bytes = in.read(buffer, 0, (int)Math.min(buffer.length, size))) != -1)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;\\n -------------&quot;+(++i));\r\n\t\t\t\tfor (byte b : buffer)\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.print((char)b);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch(NullPointerException ex)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\toutput.write(buffer, 0, bytes);\r\n\t\t\t\tsize -= bytes;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\toutput.close();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n  ","title":"It duplicates content when transferring it via java socket","body":"<p>I have written a client-socket &quot;system&quot; that is supposed to upload a file.\nAlthough, when I attempt to upload, content duplicates.\nI'm pretty sure that it is because the program doesn't recognise the eof.\nI've found something like &quot;Object stream&quot;, but I don't fancy importing new classes. I reckon that I don't really require that. But I wanna know how what the problem precisely is and how to hanle it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package client;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\n\npublic class Client {\n\n    private Socket socket;\n    private DataInputStream in;\n    private DataOutputStream out;\n\n    public static void main(String[] args) {\n        new Client();\n\n    }\n    public Client()\n    {\n        try {\n            socket = new Socket(&quot;127.0.0.1&quot;, 5010);\n        \n            in = new DataInputStream(socket.getInputStream());\n            out = new DataOutputStream(socket.getOutputStream());\n            \n            this.sendFile(&quot;./some.txt&quot;);\n            \n            in.close();\n            out.close();\n            socket.close();\n        }\n        catch(UnknownHostException ex)\n        {\n            System.out.println(&quot;unknown host&quot;);\n        }\n        catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    private void sendFile(String path)\n    {\n        int bytes = 0;\n        File file = new File(path);\n        FileInputStream input;\n        try {\n            input = new FileInputStream(file);\n            \n            long size = file.length();\n            //long size = file.getTotalSpace();\n            System.out.println(size);\n            // send a file's size\n            out.writeLong(size);\n            byte[] buffer = new byte[1024];\n            int i = 0, r=0;\n            //while((bytes = input.read(buffer,0,buffer.length))!=-1)\n            while(size &gt; 0 &amp;&amp; (bytes = input.read(buffer,0,(int)Math.min(buffer.length, size)))!=-1)\n            {\n                System.out.println(&quot;\\n -------------&quot;+(++i));\n                for (byte b : buffer)\n                    try\n                    {\n                        if ((char)b == '\\n' || r == 0)\n                            System.out.print(&quot;\\n&quot; + (++r));\n                        System.out.print((char)b);\n                        \n                    }\n                    catch(NullPointerException ex)\n                    {\n                        \n                    }\n                out.write(buffer, 0, bytes);\n                out.flush();\n                size -= bytes;\n            }\n            \n            input.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package server;\n\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\n\npublic class Server {\n\n    private ServerSocket ss;\n    private Socket cs;\n    private DataInputStream in;\n    private DataOutputStream out;\n    public static void main(String[] args) {\n        \n        new Server();\n    }\n    public Server()\n    {\n        try {\n            ss = new ServerSocket(5010);\n            cs = ss.accept(); \n            \n            in = new DataInputStream(cs.getInputStream());\n            out = new DataOutputStream(cs.getOutputStream());\n            \n            this.receiveFile(&quot;./uploaded.txt&quot;);\n            \n            in.close();\n            out.close();\n            cs.close();\n            ss.close();\n        } \n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    private void receiveFile(String path)\n    {\n        int bytes = 0;\n        try {\n            File file = new File(path);\n            file.createNewFile();\n            FileOutputStream output = new FileOutputStream(file);\n            \n            long size = in.readLong();\n            byte[] buffer = new byte[1024];\n            \n            int i = 0;\n            \n            while(size&gt;0 &amp;&amp; (bytes = in.read(buffer, 0, (int)Math.min(buffer.length, size))) != -1)\n            {\n                System.out.println(&quot;\\n -------------&quot;+(++i));\n                for (byte b : buffer)\n                    try\n                    {\n                        System.out.print((char)b);\n                    }\n                    catch(NullPointerException ex)\n                    {\n                        \n                    }\n                output.write(buffer, 0, bytes);\n                size -= bytes;\n                \n            }\n            \n            output.close();\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","spring","hibernate","junit"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1449837483,"post_id":34223696,"comment_id":56191304,"body_markdown":"What is `bean.getThing()` returning and what does the `toString()` of this type looks like?","body":"What is <code>bean.getThing()</code> returning and what does the <code>toString()</code> of this type looks like?"},{"owner":{"display_name":"user180100"},"score":0,"creation_date":1449837562,"post_id":34223696,"comment_id":56191361,"body_markdown":"&quot;What does it mean?&quot; it means that `bean1.getThing()` is not equal to `bean2.getThing()`","body":"&quot;What does it mean?&quot; it means that <code>bean1.getThing()</code> is not equal to <code>bean2.getThing()</code>"},{"owner":{"account_id":485862,"reputation":1486,"user_id":902423,"accept_rate":82,"display_name":"Raveesh Sharma"},"score":0,"creation_date":1449839162,"post_id":34223696,"comment_id":56192411,"body_markdown":"Can you post your bean class ..","body":"Can you post your bean class .."}],"answers":[{"tags":[],"owner":{"account_id":4060631,"reputation":243,"user_id":3337292,"display_name":"Iker Obregon Reigosa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1449840267,"creation_date":1449837398,"answer_id":34223762,"question_id":34223696,"body_markdown":"This looks like a problem with the 4.12 version of JUnit. [An issue was opened with JUnit on github][1] and has now been fixed. Therefore the workaround is to downgrade to 4.11 or take the latest build of JUnit.\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit/issues/976\r\n","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>This looks like a problem with the 4.12 version of JUnit. <a href=\"https://github.com/junit-team/junit/issues/976\" rel=\"nofollow\">An issue was opened with JUnit on github</a> and has now been fixed. Therefore the workaround is to downgrade to 4.11 or take the latest build of JUnit.</p>\n"},{"tags":[],"owner":{"account_id":186511,"reputation":4611,"user_id":423955,"accept_rate":77,"display_name":"Alessandro Da Rugna"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1449845151,"creation_date":1449845151,"answer_id":34226141,"question_id":34223696,"body_markdown":"After some more digging I&#39;ve discovered that the beans *are not* identical. The regular DAO sets the *string with value null* on Thing, while test data DAO sets *null* on Thing. The failing assert is \r\n\r\n    @Test\r\n    public void testNull() {\r\n        assertEquals(null, &quot;null&quot;);\r\n    }\r\n\r\nI&#39;m happy that it fails, values **are** different. The detail message is quite cryptical though.","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>After some more digging I've discovered that the beans <em>are not</em> identical. The regular DAO sets the <em>string with value null</em> on Thing, while test data DAO sets <em>null</em> on Thing. The failing assert is </p>\n\n<pre><code>@Test\npublic void testNull() {\n    assertEquals(null, \"null\");\n}\n</code></pre>\n\n<p>I'm happy that it fails, values <strong>are</strong> different. The detail message is quite cryptical though.</p>\n"},{"tags":[],"owner":{"account_id":951225,"reputation":455,"user_id":977344,"display_name":"Josh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1466022790,"creation_date":1466022790,"answer_id":37845252,"question_id":34223696,"body_markdown":"I had a similar problem and solved it by wrapping the values with String.valueOf(Your Value Here) e.g. String.valueOf(&quot;null&quot;)","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>I had a similar problem and solved it by wrapping the values with String.valueOf(Your Value Here) e.g. String.valueOf(\"null\")</p>\n"},{"tags":[],"owner":{"account_id":2173447,"reputation":9226,"user_id":2423194,"accept_rate":88,"display_name":"Rock Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505531505,"creation_date":1505531505,"answer_id":46249673,"question_id":34223696,"body_markdown":"I found the [correct answer][1] to be confusing and led me to think it was some complicated difference between the way GreenDAO stores `String yourString = null` and `null&quot;, making me think I need to upgrade JUnit to version 5, but luckily I found out the true meaning of the answer, which is:\r\n\r\nThis error simply means that you are comparing `null` and the string `&quot;null&quot;`, which are not equal. In my case, I was storing `&quot;null&quot;` in GreenDAO when I meant to store `null`. \r\n\r\n  [1]: https://stackoverflow.com/a/34226141/2423194","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>I found the <a href=\"https://stackoverflow.com/a/34226141/2423194\">correct answer</a> to be confusing and led me to think it was some complicated difference between the way GreenDAO stores <code>String yourString = null</code> and `null\", making me think I need to upgrade JUnit to version 5, but luckily I found out the true meaning of the answer, which is:</p>\n\n<p>This error simply means that you are comparing <code>null</code> and the string <code>\"null\"</code>, which are not equal. In my case, I was storing <code>\"null\"</code> in GreenDAO when I meant to store <code>null</code>. </p>\n"},{"tags":[],"owner":{"account_id":5694554,"reputation":395,"user_id":4501434,"display_name":"PRAFUL ANAND"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527749164,"creation_date":1527749164,"answer_id":50618245,"question_id":34223696,"body_markdown":"Please Try below TestMethod\r\n\r\n    @Test\r\n    public void testNull() {\r\n    assertEquals(null, &quot;&quot;);\r\n    }","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>Please Try below TestMethod</p>\n\n<pre><code>@Test\npublic void testNull() {\nassertEquals(null, \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651108805,"creation_date":1651108805,"answer_id":72036936,"question_id":34223696,"body_markdown":"I was getting error because I was using :\r\n\r\n        @Test\r\n    fun trimRightNullIsSetToNull() {\r\n        assertThat(trimRight(null), equalTo(nullValue()))\r\n    }\r\n\r\n \r\n\r\nRemoving equalTo and directly comparing them both solved the error : \r\n\r\n        @Test\r\n    fun trimRightNullIsSetToNull() {\r\n        assertThat(trimRight(null), nullValue())\r\n    }","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>I was getting error because I was using :</p>\n<pre><code>    @Test\nfun trimRightNullIsSetToNull() {\n    assertThat(trimRight(null), equalTo(nullValue()))\n}\n</code></pre>\n<p>Removing equalTo and directly comparing them both solved the error :</p>\n<pre><code>    @Test\nfun trimRightNullIsSetToNull() {\n    assertThat(trimRight(null), nullValue())\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11305566,"reputation":1,"user_id":8290293,"display_name":"Dasari Pradeep reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675906063,"creation_date":1675893551,"answer_id":75392164,"question_id":34223696,"body_markdown":"```\r\nInt marks = student.getMarks();\r\nmarks = null;\r\n```\r\nwe can try `Assert.assertNull(student.getMarks());`\r\n\r\nThis worked for me.","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<pre><code>Int marks = student.getMarks();\nmarks = null;\n</code></pre>\n<p>we can try <code>Assert.assertNull(student.getMarks());</code></p>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":186511,"reputation":4611,"user_id":423955,"accept_rate":77,"display_name":"Alessandro Da Rugna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57615,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":34226141,"answer_count":7,"score":13,"last_activity_date":1675906063,"creation_date":1449837148,"question_id":34223696,"body_markdown":"I have this strange issue in my Junit 4.12 test code. The application uses Spring Framework 4.1.6 and Hibernate 4. When comparing two beans coming from different databases I get this error\r\n\r\n\tjava.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt;\r\n\t\tat org.junit.Assert.fail(Assert.java:88)\r\n\t\tat org.junit.Assert.failNotEquals(Assert.java:834)\r\n\t\tat org.junit.Assert.assertEquals(Assert.java:118)\r\n\t\tat org.junit.Assert.assertEquals(Assert.java:144)\r\n\t\tat my.test.TestClass.method(TestClass.java:105)\r\n\r\nWhat does it mean? How to resolve it?\r\n\r\nMy test class runs with `SpringJUnit4ClassRunner` and looks similar to this\r\n\r\n    @ContextConfiguration(\r\n        {\r\n            &quot;classpath:beans-test.xml&quot;\r\n        }\r\n    )\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    public class TestMdtTechnicalGridGeneration extends AbstractJUnit4SpringContextTests {\r\n\r\n        @Test\r\n        public void method() {\r\n                assertEquals(bean1.getThing(), bean2.getThing());\r\n        }\r\n    }\r\n\r\n**edit**: the bean I&#39;m referring to is a simple POJO, you can imagine it look like the following:\r\n\r\n    public class Thing {\r\n        private String thing;\r\n\r\n        public void setThing(String thing) {\r\n            this.thing = thing;\r\n        }\r\n\r\n        public String getThing() {\r\n            return thing;\r\n        }\r\n    }\r\n\r\nI get them using Hibernate along the line of\r\n\r\n    SessionFactory mySF = (SessionFactory) applicationContext.getBean(&quot;mySessionFactory&quot;);\r\n    Query query = mySF.openSession().createQuery(&quot;FROM Thing WHERE code = &#39;&quot; + code + &quot;&#39;&quot;);\r\n    List&lt;Thing&gt; listThing = return query.list();\r\n    bean1 = listThing.get(0);\r\n\r\nTo address the *close vote*:\r\nI&#39;m not sure if all these details may help, the question is about the strange AssertError I get rather than how I get the beans. I can&#39;t find help here in SO nor Google.\r\n\r\n**edit2**: to further clarify, the POJO itself is the exact same Java class, I use two hibernate mappings files. The only difference is `catalog=&quot;this&quot;` and `catalog=&quot;that&quot;` in the mapping. I use two different sessionfactories because data is stored in different schemas (aka catalog), same MySQL instance.","title":"Error java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt; what does it mean?","body":"<p>I have this strange issue in my Junit 4.12 test code. The application uses Spring Framework 4.1.6 and Hibernate 4. When comparing two beans coming from different databases I get this error</p>\n\n<pre><code>java.lang.AssertionError: expected: null&lt;null&gt; but was: java.lang.String&lt;null&gt;\n    at org.junit.Assert.fail(Assert.java:88)\n    at org.junit.Assert.failNotEquals(Assert.java:834)\n    at org.junit.Assert.assertEquals(Assert.java:118)\n    at org.junit.Assert.assertEquals(Assert.java:144)\n    at my.test.TestClass.method(TestClass.java:105)\n</code></pre>\n\n<p>What does it mean? How to resolve it?</p>\n\n<p>My test class runs with <code>SpringJUnit4ClassRunner</code> and looks similar to this</p>\n\n<pre><code>@ContextConfiguration(\n    {\n        \"classpath:beans-test.xml\"\n    }\n)\n@RunWith(SpringJUnit4ClassRunner.class)\npublic class TestMdtTechnicalGridGeneration extends AbstractJUnit4SpringContextTests {\n\n    @Test\n    public void method() {\n            assertEquals(bean1.getThing(), bean2.getThing());\n    }\n}\n</code></pre>\n\n<p><strong>edit</strong>: the bean I'm referring to is a simple POJO, you can imagine it look like the following:</p>\n\n<pre><code>public class Thing {\n    private String thing;\n\n    public void setThing(String thing) {\n        this.thing = thing;\n    }\n\n    public String getThing() {\n        return thing;\n    }\n}\n</code></pre>\n\n<p>I get them using Hibernate along the line of</p>\n\n<pre><code>SessionFactory mySF = (SessionFactory) applicationContext.getBean(\"mySessionFactory\");\nQuery query = mySF.openSession().createQuery(\"FROM Thing WHERE code = '\" + code + \"'\");\nList&lt;Thing&gt; listThing = return query.list();\nbean1 = listThing.get(0);\n</code></pre>\n\n<p>To address the <em>close vote</em>:\nI'm not sure if all these details may help, the question is about the strange AssertError I get rather than how I get the beans. I can't find help here in SO nor Google.</p>\n\n<p><strong>edit2</strong>: to further clarify, the POJO itself is the exact same Java class, I use two hibernate mappings files. The only difference is <code>catalog=\"this\"</code> and <code>catalog=\"that\"</code> in the mapping. I use two different sessionfactories because data is stored in different schemas (aka catalog), same MySQL instance.</p>\n"},{"tags":["java","spring-boot","hibernate","redis","jhipster"],"answers":[{"tags":[],"owner":{"account_id":19133592,"reputation":88,"user_id":13974992,"display_name":"Hungnn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675905496,"creation_date":1649753089,"answer_id":71839599,"question_id":71033395,"body_markdown":"It&#39;s seem related to Redis works.\r\nYou can checkout docs: https://www.baeldung.com/hibernate-second-level-cache move to &quot;What Is a Second-Level Cache&quot;.  \r\n\r\nFirst, enable bean &quot;hibernatePropertiesCustomizer&quot; in CacheConfiguration.java:\r\n\r\n    import org.hibernate.cache.jcache.ConfigSettings;\r\n\r\n    @Bean\r\n    public HibernatePropertiesCustomizer hibernatePropertiesCustomizer(CacheManager cm) {\r\n        return hibernateProperties -&gt; hibernateProperties.put(ConfigSettings.CACHE_MANAGER, cm);\r\n    }\r\nUnfortunately, Redis in Jhipster don&#39;t initial cache for each entity model, so you must to initial cache for each model in domain package, like: \r\n\r\n    @Bean\r\n        public JCacheManagerCustomizer cacheManagerCustomizer(javax.cache.configuration.Configuration&lt;Object, Object&gt; jcacheConfiguration) {\r\n            return cm -&gt; {\r\n                // jhipster-needle-redis-add-entry\r\n                createCache(cm, com.project.model.YourModel1.class.getName(), jcacheConfiguration);\r\n                createCache(cm, com.project.model.YourModel2.class.getName(), jcacheConfiguration);\r\n            };\r\n        }\r\n\r\nPlease add all your Model(Entity class) using `@Cache` annotation.  \r\nGood luck,","title":"Redis with jHipster - Default configuration hasn&#39;t been specified","body":"<p>It's seem related to Redis works.\nYou can checkout docs: <a href=\"https://www.baeldung.com/hibernate-second-level-cache\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-second-level-cache</a> move to &quot;What Is a Second-Level Cache&quot;.</p>\n<p>First, enable bean &quot;hibernatePropertiesCustomizer&quot; in CacheConfiguration.java:</p>\n<pre><code>import org.hibernate.cache.jcache.ConfigSettings;\n\n@Bean\npublic HibernatePropertiesCustomizer hibernatePropertiesCustomizer(CacheManager cm) {\n    return hibernateProperties -&gt; hibernateProperties.put(ConfigSettings.CACHE_MANAGER, cm);\n}\n</code></pre>\n<p>Unfortunately, Redis in Jhipster don't initial cache for each entity model, so you must to initial cache for each model in domain package, like:</p>\n<pre><code>@Bean\n    public JCacheManagerCustomizer cacheManagerCustomizer(javax.cache.configuration.Configuration&lt;Object, Object&gt; jcacheConfiguration) {\n        return cm -&gt; {\n            // jhipster-needle-redis-add-entry\n            createCache(cm, com.project.model.YourModel1.class.getName(), jcacheConfiguration);\n            createCache(cm, com.project.model.YourModel2.class.getName(), jcacheConfiguration);\n        };\n    }\n</code></pre>\n<p>Please add all your Model(Entity class) using <code>@Cache</code> annotation.<br />\nGood luck,</p>\n"}],"owner":{"account_id":16841356,"reputation":63,"user_id":12176682,"display_name":"Luka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1079,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1675905496,"creation_date":1644321038,"question_id":71033395,"body_markdown":"im using jhipster version 7.6.0 and this is my CacheConfiguration class.\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CacheConfiguration {\r\n\r\n    private GitProperties gitProperties;\r\n    private BuildProperties buildProperties;\r\n\r\n    @Bean\r\n    public javax.cache.configuration.Configuration&lt;Object, Object&gt; jcacheConfiguration(JHipsterProperties jHipsterProperties) {\r\n        MutableConfiguration&lt;Object, Object&gt; jcacheConfig = new MutableConfiguration&lt;&gt;();\r\n\r\n        URI redisUri = URI.create(jHipsterProperties.getCache().getRedis().getServer()[0]);\r\n\r\n        Config config = new Config();\r\n        if (jHipsterProperties.getCache().getRedis().isCluster()) {\r\n            ClusterServersConfig clusterServersConfig = config\r\n                .useClusterServers()\r\n                .setMasterConnectionPoolSize(jHipsterProperties.getCache().getRedis().getConnectionPoolSize())\r\n                .setMasterConnectionMinimumIdleSize(jHipsterProperties.getCache().getRedis().getConnectionMinimumIdleSize())\r\n                .setSubscriptionConnectionPoolSize(jHipsterProperties.getCache().getRedis().getSubscriptionConnectionPoolSize())\r\n                .addNodeAddress(jHipsterProperties.getCache().getRedis().getServer());\r\n\r\n            if (redisUri.getUserInfo() != null) {\r\n                clusterServersConfig.setPassword(redisUri.getUserInfo().substring(redisUri.getUserInfo().indexOf(&#39;:&#39;) + 1));\r\n            }\r\n        } else {\r\n            SingleServerConfig singleServerConfig = config\r\n                .useSingleServer()\r\n                .setConnectionPoolSize(jHipsterProperties.getCache().getRedis().getConnectionPoolSize())\r\n                .setConnectionMinimumIdleSize(jHipsterProperties.getCache().getRedis().getConnectionMinimumIdleSize())\r\n                .setSubscriptionConnectionPoolSize(jHipsterProperties.getCache().getRedis().getSubscriptionConnectionPoolSize())\r\n                .setAddress(jHipsterProperties.getCache().getRedis().getServer()[0]);\r\n\r\n            if (redisUri.getUserInfo() != null) {\r\n                singleServerConfig.setPassword(redisUri.getUserInfo().substring(redisUri.getUserInfo().indexOf(&#39;:&#39;) + 1));\r\n            }\r\n        }\r\n        jcacheConfig.setStatisticsEnabled(true);\r\n        jcacheConfig.setExpiryPolicyFactory(\r\n            CreatedExpiryPolicy.factoryOf(new Duration(TimeUnit.SECONDS, jHipsterProperties.getCache().getRedis().getExpiration()))\r\n        );\r\n        return RedissonConfiguration.fromInstance(Redisson.create(config), jcacheConfig);\r\n    }\r\n\r\nHere is dependency for redisson :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;redisson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis is my application-dev.yml:\r\n\r\n[![application-dev.yml][1]][1]\r\n\r\nEverything is generated by jHipster and after installation of redis version 3.2.100, im getting this exception:\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: Default configuration hasn&#39;t been specified!\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326)\r\n\tat com.eig.EigApp.main(EigApp.java:69)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: **Default configuration hasn&#39;t been specified!**\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)\r\n\t... 20 common frames omitted\r\nCaused by: java.lang.IllegalStateException: **Default configuration hasn&#39;t been specified!**\r\n\tat org.redisson.jcache.JCacheManager.createCache(JCacheManager.java:118)\r\n\tat org.hibernate.cache.jcache.internal.JCacheRegionFactory.createCache(JCacheRegionFactory.java:112)\r\n\tat org.hibernate.cache.jcache.internal.JCacheRegionFactory.getOrCreateCache(JCacheRegionFactory.java:99)\r\n\tat org.hibernate.cache.jcache.internal.JCacheRegionFactory.createDomainDataStorageAccess(JCacheRegionFactory.java:83)\r\n\tat org.hibernate.cache.jcache.internal.JCacheRegionFactory.buildDomainDataRegion(JCacheRegionFactory.java:72)\r\n\tat org.hibernate.cache.internal.EnabledCaching.prime(EnabledCaching.java:113)\r\n\tat org.hibernate.metamodel.internal.MetamodelImpl.primeSecondLevelCacheRegions(MetamodelImpl.java:331)\r\n\tat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:160)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:303)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\t... 24 common frames omitted\r\n\r\nProject is compiling successfully by the way.\r\n\r\nThanks in advance for help!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fNQGF.png","title":"Redis with jHipster - Default configuration hasn&#39;t been specified","body":"<p>im using jhipster version 7.6.0 and this is my CacheConfiguration class.</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfiguration {\n\nprivate GitProperties gitProperties;\nprivate BuildProperties buildProperties;\n\n@Bean\npublic javax.cache.configuration.Configuration&lt;Object, Object&gt; jcacheConfiguration(JHipsterProperties jHipsterProperties) {\n    MutableConfiguration&lt;Object, Object&gt; jcacheConfig = new MutableConfiguration&lt;&gt;();\n\n    URI redisUri = URI.create(jHipsterProperties.getCache().getRedis().getServer()[0]);\n\n    Config config = new Config();\n    if (jHipsterProperties.getCache().getRedis().isCluster()) {\n        ClusterServersConfig clusterServersConfig = config\n            .useClusterServers()\n            .setMasterConnectionPoolSize(jHipsterProperties.getCache().getRedis().getConnectionPoolSize())\n            .setMasterConnectionMinimumIdleSize(jHipsterProperties.getCache().getRedis().getConnectionMinimumIdleSize())\n            .setSubscriptionConnectionPoolSize(jHipsterProperties.getCache().getRedis().getSubscriptionConnectionPoolSize())\n            .addNodeAddress(jHipsterProperties.getCache().getRedis().getServer());\n\n        if (redisUri.getUserInfo() != null) {\n            clusterServersConfig.setPassword(redisUri.getUserInfo().substring(redisUri.getUserInfo().indexOf(':') + 1));\n        }\n    } else {\n        SingleServerConfig singleServerConfig = config\n            .useSingleServer()\n            .setConnectionPoolSize(jHipsterProperties.getCache().getRedis().getConnectionPoolSize())\n            .setConnectionMinimumIdleSize(jHipsterProperties.getCache().getRedis().getConnectionMinimumIdleSize())\n            .setSubscriptionConnectionPoolSize(jHipsterProperties.getCache().getRedis().getSubscriptionConnectionPoolSize())\n            .setAddress(jHipsterProperties.getCache().getRedis().getServer()[0]);\n\n        if (redisUri.getUserInfo() != null) {\n            singleServerConfig.setPassword(redisUri.getUserInfo().substring(redisUri.getUserInfo().indexOf(':') + 1));\n        }\n    }\n    jcacheConfig.setStatisticsEnabled(true);\n    jcacheConfig.setExpiryPolicyFactory(\n        CreatedExpiryPolicy.factoryOf(new Duration(TimeUnit.SECONDS, jHipsterProperties.getCache().getRedis().getExpiration()))\n    );\n    return RedissonConfiguration.fromInstance(Redisson.create(config), jcacheConfig);\n}\n</code></pre>\n<p>Here is dependency for redisson :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n    &lt;artifactId&gt;redisson&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is my application-dev.yml:</p>\n<p><a href=\"https://i.stack.imgur.com/fNQGF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fNQGF.png\" alt=\"application-dev.yml\" /></a></p>\n<p>Everything is generated by jHipster and after installation of redis version 3.2.100, im getting this exception:</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: Default configuration hasn't been specified!\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1786)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\nat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:326)\nat com.eig.EigApp.main(EigApp.java:69)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is java.lang.IllegalStateException: <strong>Default configuration hasn't been specified!</strong>\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782)\n... 20 common frames omitted\nCaused by: java.lang.IllegalStateException: <strong>Default configuration hasn't been specified!</strong>\nat org.redisson.jcache.JCacheManager.createCache(JCacheManager.java:118)\nat org.hibernate.cache.jcache.internal.JCacheRegionFactory.createCache(JCacheRegionFactory.java:112)\nat org.hibernate.cache.jcache.internal.JCacheRegionFactory.getOrCreateCache(JCacheRegionFactory.java:99)\nat org.hibernate.cache.jcache.internal.JCacheRegionFactory.createDomainDataStorageAccess(JCacheRegionFactory.java:83)\nat org.hibernate.cache.jcache.internal.JCacheRegionFactory.buildDomainDataRegion(JCacheRegionFactory.java:72)\nat org.hibernate.cache.internal.EnabledCaching.prime(EnabledCaching.java:113)\nat org.hibernate.metamodel.internal.MetamodelImpl.primeSecondLevelCacheRegions(MetamodelImpl.java:331)\nat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:160)\nat org.hibernate.internal.SessionFactoryImpl.(SessionFactoryImpl.java:303)\nat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259)\nat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\nat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\nat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n... 24 common frames omitted</p>\n</blockquote>\n<p>Project is compiling successfully by the way.</p>\n<p>Thanks in advance for help!</p>\n"},{"tags":["java","spring","maven","gradle"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1573027869,"post_id":58725357,"comment_id":103742761,"body_markdown":"These issues arise from mixing jars from different versions of Spring or using incompatible versions of other frameworks (too old Spring Security or Spring Data).","body":"These issues arise from mixing jars from different versions of Spring or using incompatible versions of other frameworks (too old Spring Security or Spring Data)."},{"owner":{"account_id":1521093,"reputation":3980,"user_id":1420715,"accept_rate":89,"display_name":"Lakatos Gyula"},"score":0,"creation_date":1573028675,"post_id":58725357,"comment_id":103743103,"body_markdown":"Incompatible versions or something accidentally marked as provided?","body":"Incompatible versions or something accidentally marked as provided?"},{"owner":{"account_id":17043058,"reputation":21,"user_id":12330455,"display_name":"Bonyeon Koo"},"score":0,"creation_date":1573029018,"post_id":58725357,"comment_id":103743248,"body_markdown":"i added pom.xml...","body":"i added pom.xml..."}],"answers":[{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573028587,"creation_date":1573028587,"answer_id":58725796,"question_id":58725357,"body_markdown":"I suggest that you run the following at command line \r\n\r\n`mvn dependency:tree -Dincludes=org.springframework.*`\r\n\r\nYou should then look at all the spring dependency versions. I&#39;m guessing you have some version mismatches which you&#39;ll need to fix. ","title":"How to solve &quot;java.lang.NoSuchMethodError: org.springframework.util.ReflectionUtils.accessibleConstructor&quot;","body":"<p>I suggest that you run the following at command line </p>\n\n<p><code>mvn dependency:tree -Dincludes=org.springframework.*</code></p>\n\n<p>You should then look at all the spring dependency versions. I'm guessing you have some version mismatches which you'll need to fix. </p>\n"},{"tags":[],"owner":{"account_id":6985827,"reputation":11,"user_id":5356822,"display_name":"codemilk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675905487,"creation_date":1675905487,"answer_id":75393273,"question_id":58725357,"body_markdown":"Posting this because my solution was different and took forever to find.\r\nIn my case it seemed to have been a conflict in multiple dependencies having that method. \r\n\r\nBy grepping my project folder for the name of the method, I could see what jars it was present in.\r\n\r\n`grep -r &quot;ReflectionUtils&quot; myProjectDirectory/`\r\n\r\n\r\nResult: (only listing spring ones)\r\n``` \r\nBinary file myProjectDirectory//target/myProjectDirectory/WEB-INF/lib/spring-core-5.3.15.jar matches\r\nBinary file myProjectDirectory//target/myProjectDirectory/WEB-INF/lib/org.springframework.core-3.2.4.jar matches\r\n```\r\n\r\nI used `mvn dependency:tree` to track where org.springframework.core-3.2.4.jar was coming from, and it was under a dependency called &quot;org.springframework.beans&quot;\r\n\r\nI went to pom.xml and removed the springframework.beans dependency, replaced with spring-beans 5.3.9, clean installed, and reran grep. Result was now: \r\n ``` \r\nBinary file myProjectDirectory//target/myProjectDirectory/WEB-INF/lib/spring-core-5.3.15.jar matches\r\n```\r\n\r\nFrom there I ran on tomcat and issue no longer appeared. It may be a unique circumstance but it was the only thing I could get to work after scouring threads everywhere.\r\n\r\n","title":"How to solve &quot;java.lang.NoSuchMethodError: org.springframework.util.ReflectionUtils.accessibleConstructor&quot;","body":"<p>Posting this because my solution was different and took forever to find.\nIn my case it seemed to have been a conflict in multiple dependencies having that method.</p>\n<p>By grepping my project folder for the name of the method, I could see what jars it was present in.</p>\n<p><code>grep -r &quot;ReflectionUtils&quot; myProjectDirectory/</code></p>\n<p>Result: (only listing spring ones)</p>\n<pre><code>Binary file myProjectDirectory//target/myProjectDirectory/WEB-INF/lib/spring-core-5.3.15.jar matches\nBinary file myProjectDirectory//target/myProjectDirectory/WEB-INF/lib/org.springframework.core-3.2.4.jar matches\n</code></pre>\n<p>I used <code>mvn dependency:tree</code> to track where org.springframework.core-3.2.4.jar was coming from, and it was under a dependency called &quot;org.springframework.beans&quot;</p>\n<p>I went to pom.xml and removed the springframework.beans dependency, replaced with spring-beans 5.3.9, clean installed, and reran grep. Result was now:</p>\n<pre><code>Binary file myProjectDirectory//target/myProjectDirectory/WEB-INF/lib/spring-core-5.3.15.jar matches\n</code></pre>\n<p>From there I ran on tomcat and issue no longer appeared. It may be a unique circumstance but it was the only thing I could get to work after scouring threads everywhere.</p>\n"}],"owner":{"account_id":17043058,"reputation":21,"user_id":12330455,"display_name":"Bonyeon Koo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11366,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675905487,"creation_date":1573026599,"question_id":58725357,"body_markdown":"I&#39;m replacing lagecy&#39;s gradle project with boot&#39;s maven project.\r\nThere is no error, but when i run Tomcat server, the following error is \r\ndisplayed.\r\n\r\ni tried these....\r\n\r\n1. pom.xml &lt;artifactId&gt;spring-context&lt;/artifactId&gt; remove -&gt; failed\r\n2. spring boot version downgrade 2.1.9 --&gt; 2.0.4 -&gt; failed\r\n3. i made dependency spring core, spring context same version -&gt; failed \r\n\r\n```\r\nError during ServletContainerInitializer processing\r\njavax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:158)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5352)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1410)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1400)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.NoSuchMethodError: org.springframework.util.ReflectionUtils.accessibleConstructor(Ljava/lang/Class;[Ljava/lang/Class;)Ljava/lang/reflect/Constructor;\r\n\tat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:155)\r\n\t... 8 more\r\n```\r\npom.xml\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.mashape.unirest/unirest-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.4.9&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-firefox-driver --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/io.github.lukehutch/fast-classpath-scanner --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.github.lukehutch&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;fast-classpath-scanner&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.21&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/net.sf.corn/corn-cps --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;net.sf.corn&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;corn-cps&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/jul-to-slf4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.slf4j/jcl-over-slf4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-access --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.2.4.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-aspects --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-aspects&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-taglibs --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.2.5.RELEASE&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-net/commons-net --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.mail/mail --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.4.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tiles/tiles-jsp --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tiles/tiles-servlet --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tiles-servlet&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tiles/tiles-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tiles-core&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.bluelinelabs/logansquare --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.bluelinelabs&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;logansquare&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest-library --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.powermock/powermock-api-mockito --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.6.6&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.powermock/powermock-module-junit4 --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.6.6&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-all --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.10.19&lt;/version&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.lazyluke/log4jdbc-remix --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.lazyluke&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;log4jdbc-remix&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;0.2.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy-all --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.4.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.14&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/net.sourceforge.jexcelapi/jxl --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jxl&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.6.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-dbcp/commons-dbcp --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hsqldb/hsqldb --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.antlr/antlr --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;antlr&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/taglibs/standard --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- common-java-0.0.22.jar --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.omnicns&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.22&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/common-java-0.0.22.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- common-jsp-0.0.2.jar --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.omnicns&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-jsp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/common-jsp-0.0.2.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- common-spring-0.0.15.jar --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.omnicns&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;common-spring&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.15&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t&lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/common-spring-0.0.15.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.sun/tools --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.5.0&lt;/version&gt;\r\n\t\t    &lt;scope&gt;system&lt;/scope&gt;\r\n\t\t    &lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/tools.jar&lt;/systemPath&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-validator/commons-validator --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;1.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springmodules/spring-modules-validation --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.springmodules&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;spring-modules-validation&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;0.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nHow should it work?","title":"How to solve &quot;java.lang.NoSuchMethodError: org.springframework.util.ReflectionUtils.accessibleConstructor&quot;","body":"<p>I'm replacing lagecy's gradle project with boot's maven project.\nThere is no error, but when i run Tomcat server, the following error is \ndisplayed.</p>\n\n<p>i tried these....</p>\n\n<ol>\n<li>pom.xml spring-context remove -> failed</li>\n<li>spring boot version downgrade 2.1.9 --> 2.0.4 -> failed</li>\n<li>i made dependency spring core, spring context same version -> failed </li>\n</ol>\n\n<pre><code>Error during ServletContainerInitializer processing\njavax.servlet.ServletException: Failed to instantiate WebApplicationInitializer class\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:158)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5352)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1410)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1400)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.NoSuchMethodError: org.springframework.util.ReflectionUtils.accessibleConstructor(Ljava/lang/Class;[Ljava/lang/Class;)Ljava/lang/reflect/Constructor;\n    at org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:155)\n    ... 8 more\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.mashape.unirest/unirest-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mashape.unirest&lt;/groupId&gt;\n        &lt;artifactId&gt;unirest-java&lt;/artifactId&gt;\n        &lt;version&gt;1.4.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-firefox-driver --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.github.lukehutch/fast-classpath-scanner --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.lukehutch&lt;/groupId&gt;\n        &lt;artifactId&gt;fast-classpath-scanner&lt;/artifactId&gt;\n        &lt;version&gt;2.21&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/net.sf.corn/corn-cps --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sf.corn&lt;/groupId&gt;\n        &lt;artifactId&gt;corn-cps&lt;/artifactId&gt;\n        &lt;version&gt;1.1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.modelmapper/modelmapper --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-over-slf4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/jul-to-slf4j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/jcl-over-slf4j --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-access --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-access&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.jayway.jsonpath/json-path --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;5.2.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.validation/validation-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-aspects --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-aspects&lt;/artifactId&gt;\n        &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-taglibs --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n        &lt;version&gt;4.0.4.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-test --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;4.2.5.RELEASE&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context-support --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-context --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;4.0.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-net/commons-net --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-net&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n        &lt;version&gt;3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.mail/mail --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;version&gt;1.4.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.tiles/tiles-jsp --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;artifactId&gt;tiles-jsp&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.tiles/tiles-servlet --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;artifactId&gt;tiles-servlet&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.tiles/tiles-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tiles&lt;/groupId&gt;\n        &lt;artifactId&gt;tiles-core&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.bluelinelabs/logansquare --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.bluelinelabs&lt;/groupId&gt;\n        &lt;artifactId&gt;logansquare&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hamcrest/hamcrest-library --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n        &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.powermock/powermock-api-mockito --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.powermock/powermock-module-junit4 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.mockito/mockito-all --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-all&lt;/artifactId&gt;\n        &lt;version&gt;1.10.19&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-httpclient/commons-httpclient --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.lazyluke/log4jdbc-remix --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.lazyluke&lt;/groupId&gt;\n        &lt;artifactId&gt;log4jdbc-remix&lt;/artifactId&gt;\n        &lt;version&gt;0.2.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy-all --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n        &lt;version&gt;2.4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.14&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/net.sourceforge.jexcelapi/jxl --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.jexcelapi&lt;/groupId&gt;\n        &lt;artifactId&gt;jxl&lt;/artifactId&gt;\n        &lt;version&gt;2.6.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-dbcp/commons-dbcp --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hsqldb/hsqldb --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n        &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.antlr/antlr --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n        &lt;artifactId&gt;antlr&lt;/artifactId&gt;\n        &lt;version&gt;3.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/taglibs/standard --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;taglibs&lt;/groupId&gt;\n        &lt;artifactId&gt;standard&lt;/artifactId&gt;\n        &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/jstl --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- common-java-0.0.22.jar --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.omnicns&lt;/groupId&gt;\n        &lt;artifactId&gt;common-java&lt;/artifactId&gt;\n        &lt;version&gt;0.0.22&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/common-java-0.0.22.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;!-- common-jsp-0.0.2.jar --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.omnicns&lt;/groupId&gt;\n        &lt;artifactId&gt;common-jsp&lt;/artifactId&gt;\n        &lt;version&gt;0.0.2&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/common-jsp-0.0.2.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;!-- common-spring-0.0.15.jar --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.omnicns&lt;/groupId&gt;\n        &lt;artifactId&gt;common-spring&lt;/artifactId&gt;\n        &lt;version&gt;0.0.15&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/common-spring-0.0.15.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/com.sun/tools --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun&lt;/groupId&gt;\n        &lt;artifactId&gt;tools&lt;/artifactId&gt;\n        &lt;version&gt;1.5.0&lt;/version&gt;\n        &lt;scope&gt;system&lt;/scope&gt;\n        &lt;systemPath&gt;${project.basedir}/src/main/webapp/WEB-INF/lib/tools.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/commons-validator/commons-validator --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n        &lt;version&gt;1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springmodules/spring-modules-validation --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springmodules&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-modules-validation&lt;/artifactId&gt;\n        &lt;version&gt;0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>How should it work?</p>\n"},{"tags":["java","algorithm","performance","big-o"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675905616,"post_id":75393210,"comment_id":133030611,"body_markdown":"I agree that your solution is fine as-is.  It could be &quot;optimized&quot; to use just one loop but that won&#39;t affect the complexity, and it is doubtful that it would make it much faster.  (And the flip-side is that doing it in one loop makes the logic more complicated.)","body":"I agree that your solution is fine as-is.  It could be &quot;optimized&quot; to use just one loop but that won&#39;t affect the complexity, and it is doubtful that it would make it much faster.  (And the flip-side is that doing it in one loop makes the logic more complicated.)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1675905782,"post_id":75393210,"comment_id":133030629,"body_markdown":"Also ... those fancy solutions that use a hash table would almost certainly be slower for this problem.","body":"Also ... those fancy solutions that use a hash table would almost certainly be slower for this problem."}],"answers":[{"tags":[],"owner":{"account_id":25576911,"reputation":1,"user_id":19356181,"display_name":"Edd1e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675905287,"creation_date":1675905055,"answer_id":75393246,"question_id":75393210,"body_markdown":"Well, if you can&#39;t use hash table (which makes the problem o(n) time complexity and o(n) space complexity), i would use just sorting the array, and check with 2 pointers if any of the values is repeated. \r\nSo after sorting the algorithm (O(nlogn)) i would make 2 variable i,j starting i at 0 and j at 1 and while j&lt;arr.lenght, and check if there is duplicate between positions array[i] and arr[j].\r\nHere is how i solved it in js:\r\n```javascript\r\nfunction areThereDuplicates(...args){//Don&#39;t worry about this, imagine like it is an array\r\n    args= typeof(args[0])==&#39;string&#39;?args.sort():args.sort((a,b)=&gt;a-b)//I sorted the array\r\n    let i=0\r\n    let j=1\r\n    while(j&lt;args.length){\r\n        let el= args[i]\r\n        let secEl=args[j]\r\n        if(el===secEl){\r\n            return true\r\n        }\r\n        i++\r\n        j++\r\n    }\r\n    return false\r\n}\r\n```","title":"Time Complexity for Array Max Duplicate","body":"<p>Well, if you can't use hash table (which makes the problem o(n) time complexity and o(n) space complexity), i would use just sorting the array, and check with 2 pointers if any of the values is repeated.\nSo after sorting the algorithm (O(nlogn)) i would make 2 variable i,j starting i at 0 and j at 1 and while j&lt;arr.lenght, and check if there is duplicate between positions array[i] and arr[j].\nHere is how i solved it in js:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function areThereDuplicates(...args){//Don't worry about this, imagine like it is an array\n    args= typeof(args[0])=='string'?args.sort():args.sort((a,b)=&gt;a-b)//I sorted the array\n    let i=0\n    let j=1\n    while(j&lt;args.length){\n        let el= args[i]\n        let secEl=args[j]\n        if(el===secEl){\n            return true\n        }\n        i++\n        j++\n    }\n    return false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675905366,"creation_date":1675905366,"answer_id":75393266,"question_id":75393210,"body_markdown":"You already have a fine solution, you&#39;ve just analyzed it incorrectly.\r\n\r\nYou do one loop to find the maximum value, and then you do another loop to find duplicates of the maximum value.  That isn&#39;t a loop inside another loop, that&#39;s a loop after another loop -- and that&#39;s not O(n) * O(n), it&#39;s O(n) + O(n), which is just O(n) again.\r\n\r\nNo hash tables.  No fancy data structures.  You already have a good solution.","title":"Time Complexity for Array Max Duplicate","body":"<p>You already have a fine solution, you've just analyzed it incorrectly.</p>\n<p>You do one loop to find the maximum value, and then you do another loop to find duplicates of the maximum value.  That isn't a loop inside another loop, that's a loop after another loop -- and that's not O(n) * O(n), it's O(n) + O(n), which is just O(n) again.</p>\n<p>No hash tables.  No fancy data structures.  You already have a good solution.</p>\n"}],"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675905366,"creation_date":1675904542,"question_id":75393210,"body_markdown":"Using only an array for a data structure, what would be the fastest time complexity in finding duplicate max values in the array?\r\n\r\nI am thinking one loop is needed to find the max value and another loop would be needed to find if there are any duplicates. Each loop would have to touch each element once so it would be linear time complexity O(n). Given 2 loops we would have O(n) * O(n) = O(n^2).\r\n\r\nDoes this sound right or does anyone think it can all be done in one loop to keep the time complexity O(n).\r\n\r\nI&#39;ve looked the problem up, but I see fancy solutions like using a hash table. I need to use an array.","title":"Time Complexity for Array Max Duplicate","body":"<p>Using only an array for a data structure, what would be the fastest time complexity in finding duplicate max values in the array?</p>\n<p>I am thinking one loop is needed to find the max value and another loop would be needed to find if there are any duplicates. Each loop would have to touch each element once so it would be linear time complexity O(n). Given 2 loops we would have O(n) * O(n) = O(n^2).</p>\n<p>Does this sound right or does anyone think it can all be done in one loop to keep the time complexity O(n).</p>\n<p>I've looked the problem up, but I see fancy solutions like using a hash table. I need to use an array.</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":3412605,"reputation":704,"user_id":2862221,"display_name":"ahmed.ettoumi"},"score":0,"creation_date":1675767893,"post_id":75371843,"comment_id":132995319,"body_markdown":"Hi @Viswesh, could you publish your code please.\n Key &amp; headers are not mandatory in Kafka, but keys allows you to garantee that messages with same keys will be in the same partition =&gt; so they&#39;ll be processed in order","body":"Hi @Viswesh, could you publish your code please.  Key &amp; headers are not mandatory in Kafka, but keys allows you to garantee that messages with same keys will be in the same partition =&gt; so they&#39;ll be processed in order"},{"owner":{"account_id":1222246,"reputation":495,"user_id":1188659,"display_name":"Nic Pegg"},"score":0,"creation_date":1675808781,"post_id":75371843,"comment_id":133007858,"body_markdown":"What consumer library are you using?","body":"What consumer library are you using?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675904372,"creation_date":1675904372,"answer_id":75393197,"question_id":75371843,"body_markdown":"Key and headers are completely optional. Serialization format doesn&#39;t matter. Producers and consumers don&#39;t communicate with one another, so it is unclear who/what is &quot;asking to publish with key&quot;","title":"Can we publish a message without key and header in kafka topics","body":"<p>Key and headers are completely optional. Serialization format doesn't matter. Producers and consumers don't communicate with one another, so it is unclear who/what is &quot;asking to publish with key&quot;</p>\n"}],"owner":{"account_id":27120485,"reputation":1,"user_id":20664254,"display_name":"Viswesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675904372,"creation_date":1675764570,"question_id":75371843,"body_markdown":"I want to write kafka producer to publish my data in avro without using using any key or header. If i publish message without key or header can consumer read the message from topics? Please help to understand how do consume message if key and header not exists\r\n\r\nI have tried without header and key to publish avro record but consumer asking me to publish with key . Is there any possible to read topics and messages from topics ?","title":"Can we publish a message without key and header in kafka topics","body":"<p>I want to write kafka producer to publish my data in avro without using using any key or header. If i publish message without key or header can consumer read the message from topics? Please help to understand how do consume message if key and header not exists</p>\n<p>I have tried without header and key to publish avro record but consumer asking me to publish with key . Is there any possible to read topics and messages from topics ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1675896287,"post_id":75392440,"comment_id":133029188,"body_markdown":"Yes, it would be `import java.util.Arrays`.","body":"Yes, it would be <code>import java.util.Arrays</code>."}],"answers":[{"tags":[],"owner":{"account_id":22074911,"reputation":39,"user_id":16335386,"display_name":"Tchorzyksen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675896946,"creation_date":1675896946,"answer_id":75392527,"question_id":75392440,"body_markdown":"java.lang.Object is superclass \r\njava.util is package and Arrays is the class name \r\n\r\nBasically, any decent IDE suggest available class implementation. Usually, Ctrl + left mouse click on class name will take you to implementation. There you will find identical description to Oracle. In my opinion, Oracle documentation is not very useful. ","title":"Where to find an import statement syntax in Java (Oracle) documentation","body":"<p>java.lang.Object is superclass\njava.util is package and Arrays is the class name</p>\n<p>Basically, any decent IDE suggest available class implementation. Usually, Ctrl + left mouse click on class name will take you to implementation. There you will find identical description to Oracle. In my opinion, Oracle documentation is not very useful.</p>\n"}],"owner":{"account_id":8503042,"reputation":1980,"user_id":6375464,"display_name":"ypow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675904140,"creation_date":1675896101,"question_id":75392440,"body_markdown":"Where can I find the `import` statement reference for a Java standard library method in the Oracle documentation?\r\n\r\nAs a Node.js developer, I&#39;m used to finding import statement references in the NodeJS documentation ([example](https://nodejs.org/dist/latest-v18.x/docs/api/http.html#http)). \r\n\r\nHow can I find similar information in the Oracle&#39;s Java documentation? For example, I want to use the `Arrays.toString()` method from the class [`Arrays`](https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html) and need to know the right import statement to use.\r\n\r\nI assume it would be `java.util.Arrays`, as indicated on the top of the page as shown on the image below, is that right?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6zyyj.png","title":"Where to find an import statement syntax in Java (Oracle) documentation","body":"<p>Where can I find the <code>import</code> statement reference for a Java standard library method in the Oracle documentation?</p>\n<p>As a Node.js developer, I'm used to finding import statement references in the NodeJS documentation (<a href=\"https://nodejs.org/dist/latest-v18.x/docs/api/http.html#http\" rel=\"nofollow noreferrer\">example</a>).</p>\n<p>How can I find similar information in the Oracle's Java documentation? For example, I want to use the <code>Arrays.toString()</code> method from the class <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\"><code>Arrays</code></a> and need to know the right import statement to use.</p>\n<p>I assume it would be <code>java.util.Arrays</code>, as indicated on the top of the page as shown on the image below, is that right?\n<a href=\"https://i.stack.imgur.com/6zyyj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6zyyj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":19171582,"reputation":61,"user_id":14005220,"display_name":"Lucia Cerchie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675783647,"creation_date":1675783647,"answer_id":75375520,"question_id":75374948,"body_markdown":"`onCompletion()` is an [asynchronous callback method][1] defined [in the Java Kafka client][2]. \r\n\r\non the other hand, `get()` is an inbuilt Java function. When you&#39;re using the Java Kafka client, you can use `get()` with a `future` for synchronous writes, as in the example from the [Confluent documentation][3] below:\r\n\r\n```\r\nFuture&lt;RecordMetadata&gt; future = producer.send(record);\r\nRecordMetadata metadata = future.get();\r\n```\r\n\r\n\r\n  [1]: https://docs.confluent.io/kafka-clients/java/current/overview.html#asynchronous-writes\r\n  [2]: https://kafka.apache.org/0100/javadoc/org/apache/kafka/clients/producer/Callback.html#onCompletion(org.apache.kafka.clients.producer.RecordMetadata,%20java.lang.Exception)\r\n  [3]: https://docs.confluent.io/kafka-clients/java/current/overview.html#synchronous-writes","title":"Callback method vs get method in Kafka producer","body":"<p><code>onCompletion()</code> is an <a href=\"https://docs.confluent.io/kafka-clients/java/current/overview.html#asynchronous-writes\" rel=\"nofollow noreferrer\">asynchronous callback method</a> defined <a href=\"https://kafka.apache.org/0100/javadoc/org/apache/kafka/clients/producer/Callback.html#onCompletion(org.apache.kafka.clients.producer.RecordMetadata,%20java.lang.Exception)\" rel=\"nofollow noreferrer\">in the Java Kafka client</a>.</p>\n<p>on the other hand, <code>get()</code> is an inbuilt Java function. When you're using the Java Kafka client, you can use <code>get()</code> with a <code>future</code> for synchronous writes, as in the example from the <a href=\"https://docs.confluent.io/kafka-clients/java/current/overview.html#synchronous-writes\" rel=\"nofollow noreferrer\">Confluent documentation</a> below:</p>\n<pre><code>Future&lt;RecordMetadata&gt; future = producer.send(record);\nRecordMetadata metadata = future.get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675784786,"creation_date":1675784786,"answer_id":75375787,"question_id":75374948,"body_markdown":"`onCompletion` is the async way of producing Kafka data and the loop with a `get` will be a sync way of writing data in Kafka. \r\n\r\nThe producer in Kafka writes data on the topic at very high throughput. If you use the sync `get` function in the producer code, after every write the producer needs to wait for the `ack` from Kafka. This throttles the producer throughput. The producer needs to wait for Kafka to store the data, replicate (based on how it is configured) and then give back the ack to the producer on successful write. \r\n\r\nThe alternative is `onCompletion` here the producer will keep on producing the data without waiting for `ack` from Kafka. Kafka will call the callback `onCompletion` if the write is successful. The producer needs to keep track of these `onCompletion` calls and if things fail, it needs to retry. \r\n\r\nWhat generally producers do is send a batch of N records to Kafka and then wait for all the completion events and then send the next N records. This is something like the TCP sliding window flow control paradigm. \r\n\r\nIt is difficult to suggest what you should do. The downside of working with `onCompletion ` and use a retry from there is that jeopardizes the ordering of the records in Kafka. \r\n\r\nThe producer may have sent 1..65 records successfully then Kafka missed 65-72 and then Kafka wrote 73..99. Once the Kafka completed writing 99, the producer may get the 66 , 67 as `onCompletion` (since it is an async callback, it can come anytime) call back and retry that. This essentially makes the record ordering jumbled up. \r\n\r\nIn those cases, the consumer needs to understand that all the writes may not be ordered.\r\n\r\nMy suggestion would be to use `onCompletion` for a batch of records. Generally, applications don&#39;t have very strict ordering requirements. So you could leverage the async nature of the call and improve throughput. ","title":"Callback method vs get method in Kafka producer","body":"<p><code>onCompletion</code> is the async way of producing Kafka data and the loop with a <code>get</code> will be a sync way of writing data in Kafka.</p>\n<p>The producer in Kafka writes data on the topic at very high throughput. If you use the sync <code>get</code> function in the producer code, after every write the producer needs to wait for the <code>ack</code> from Kafka. This throttles the producer throughput. The producer needs to wait for Kafka to store the data, replicate (based on how it is configured) and then give back the ack to the producer on successful write.</p>\n<p>The alternative is <code>onCompletion</code> here the producer will keep on producing the data without waiting for <code>ack</code> from Kafka. Kafka will call the callback <code>onCompletion</code> if the write is successful. The producer needs to keep track of these <code>onCompletion</code> calls and if things fail, it needs to retry.</p>\n<p>What generally producers do is send a batch of N records to Kafka and then wait for all the completion events and then send the next N records. This is something like the TCP sliding window flow control paradigm.</p>\n<p>It is difficult to suggest what you should do. The downside of working with <code>onCompletion </code> and use a retry from there is that jeopardizes the ordering of the records in Kafka.</p>\n<p>The producer may have sent 1..65 records successfully then Kafka missed 65-72 and then Kafka wrote 73..99. Once the Kafka completed writing 99, the producer may get the 66 , 67 as <code>onCompletion</code> (since it is an async callback, it can come anytime) call back and retry that. This essentially makes the record ordering jumbled up.</p>\n<p>In those cases, the consumer needs to understand that all the writes may not be ordered.</p>\n<p>My suggestion would be to use <code>onCompletion</code> for a batch of records. Generally, applications don't have very strict ordering requirements. So you could leverage the async nature of the call and improve throughput.</p>\n"}],"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75375787,"answer_count":2,"score":0,"last_activity_date":1675904117,"creation_date":1675781017,"question_id":75374948,"body_markdown":"To get the produced record details , we have two options to choose from \r\n\r\n1. onCompletion() -  callback function\r\n2. get() method\r\n\r\nCould someone please explain what is the difference between them and how to use them in details please? *(JAVA)*\r\n\r\n**NOTE** : Producer properties which I&#39;m using is mostly default (ex:batch.size,acks,max.block.ms...)\r\n\r\n","title":"Callback method vs get method in Kafka producer","body":"<p>To get the produced record details , we have two options to choose from</p>\n<ol>\n<li>onCompletion() -  callback function</li>\n<li>get() method</li>\n</ol>\n<p>Could someone please explain what is the difference between them and how to use them in details please? <em>(JAVA)</em></p>\n<p><strong>NOTE</strong> : Producer properties which I'm using is mostly default (ex:batch.size,acks,max.block.ms...)</p>\n"},{"tags":["java","apache-kafka","buffer"],"answers":[{"tags":[],"owner":{"account_id":6126073,"reputation":1795,"user_id":4778022,"display_name":"Andrew Coates"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675793801,"creation_date":1675793801,"answer_id":75377409,"question_id":75375875,"body_markdown":"If a Kafka broker goes pop then any data not written to disk, i.e. any data still only in memory, is lost.\r\n\r\nHowever, that&#39;s only taking into account 1 Kafka broker. Kafka provides fault tolerance / resiliency by running multiple Kafka brokers and replicating data across them.\r\n\r\nI&#39;d suggest reading up on this if you want to understand this more.  Just search the web for &quot;Kafka fault tolerance resiliency&quot; and you&#39;ll find plenty of posts going into it in great depth.","title":"What happens to messages in Kafka buffer.memory if application got crashed?","body":"<p>If a Kafka broker goes pop then any data not written to disk, i.e. any data still only in memory, is lost.</p>\n<p>However, that's only taking into account 1 Kafka broker. Kafka provides fault tolerance / resiliency by running multiple Kafka brokers and replicating data across them.</p>\n<p>I'd suggest reading up on this if you want to understand this more.  Just search the web for &quot;Kafka fault tolerance resiliency&quot; and you'll find plenty of posts going into it in great depth.</p>\n"}],"owner":{"account_id":18957792,"reputation":1,"user_id":13834008,"display_name":"raviteja.k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675904048,"creation_date":1675785205,"question_id":75375875,"body_markdown":"According to default buffer memory is 32 MB. So may be due to network fluctuation data stored in Buffer memory. So, what happens to the data if server down? and how to re generate the data from buffer memory?\r\n\r\nSince it is buffer memory if application or server goes down then data will be lost. So how to overcome this situation? ","title":"What happens to messages in Kafka buffer.memory if application got crashed?","body":"<p>According to default buffer memory is 32 MB. So may be due to network fluctuation data stored in Buffer memory. So, what happens to the data if server down? and how to re generate the data from buffer memory?</p>\n<p>Since it is buffer memory if application or server goes down then data will be lost. So how to overcome this situation?</p>\n"},{"tags":["java","spring-boot","openapi","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":39252,"reputation":89802,"user_id":113116,"display_name":"Helen"},"score":2,"creation_date":1675843279,"post_id":75382608,"comment_id":133012831,"body_markdown":"Check out [AsyncAPI](https://www.asyncapi.com/) - it&#39;s like OpenAPI but for async and event-driven systems. I&#39;m not sure if there&#39;s a Springdoc analog for AsyncAPI, but you can at least write an AsyncAPI definition manually and generate the documentation from it. https://dalelane.co.uk/blog/?p=4219","body":"Check out <a href=\"https://www.asyncapi.com/\" rel=\"nofollow noreferrer\">AsyncAPI</a> - it&#39;s like OpenAPI but for async and event-driven systems. I&#39;m not sure if there&#39;s a Springdoc analog for AsyncAPI, but you can at least write an AsyncAPI definition manually and generate the documentation from it. <a href=\"https://dalelane.co.uk/blog/?p=4219\" rel=\"nofollow noreferrer\">dalelane.co.uk/blog/?p=4219</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675903607,"post_id":75382608,"comment_id":133030338,"body_markdown":"&quot;Changing to Kafka&quot; doesn&#39;t change how you can host OpenAPI webpage with Spring Boot... If you disabled the HTTP server, then that&#39;s a separate issue, and you&#39;ll need to add that back","body":"&quot;Changing to Kafka&quot; doesn&#39;t change how you can host OpenAPI webpage with Spring Boot... If you disabled the HTTP server, then that&#39;s a separate issue, and you&#39;ll need to add that back"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675909422,"post_id":75382608,"comment_id":133031125,"body_markdown":"You are correct @OneCricketeer, &quot;changing to Kafka&quot; means we are removing all wenflux/webmvc dependency in our SpringBoot project, leaving only kafka related packages. By doing so: we lost the capability to generate automatically the doc via the doc-plugin, as well as web handlers to access the doc within the same service","body":"You are correct @OneCricketeer, &quot;changing to Kafka&quot; means we are removing all wenflux/webmvc dependency in our SpringBoot project, leaving only kafka related packages. By doing so: we lost the capability to generate automatically the doc via the doc-plugin, as well as web handlers to access the doc within the same service"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1675913769,"post_id":75382608,"comment_id":133031647,"body_markdown":"You should still be able to generate... But you&#39;ll need a separate web server to host that html/json spec","body":"You should still be able to generate... But you&#39;ll need a separate web server to host that html/json spec"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1675932133,"post_id":75382608,"comment_id":133034967,"body_markdown":"You should still be able to generate... -&gt; tested not possible if web/webflux is removed","body":"You should still be able to generate... -&gt; tested not possible if web/webflux is removed"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675903563,"creation_date":1675841894,"question_id":75382608,"body_markdown":"Small question for Spring Kafka and OpenAPI V3 please.\r\n\r\nIn the paste, we had a Spring Web MVC web app, very straightforward, type https://interviewnoodle.com/documenting-a-springboot-rest-api-with-openapi-3-7b2bc1605f\r\n\r\n```\r\npackage com.openapi.model;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.Size;\r\n@Schema(description = &quot;Book object&quot;)\r\n@Entity\r\n@Table(name=&quot;books&quot;)\r\npublic class Book {\r\n  @JsonProperty(value=&quot;id&quot;, required=true, index = 10)\r\n  @Schema(description = &quot;Unique identifier of the Book.&quot;,\r\n      example = &quot;1&quot;, required = true)\r\n  private long id;\r\n  @JsonProperty(value=&quot;title&quot;, required=true, index = 20)\r\n  @Schema(description = &quot;Name of the title.&quot;,\r\n      example = &quot;Java&quot;, required = true)\r\n  @NotBlank\r\n  @Size(min = 0, max = 20)\r\n  private String title;\r\n  @JsonProperty(value=&quot;author&quot;, required=true, index = 30)\r\n  @Schema(description = &quot;Name of the author.&quot;,\r\n      example = &quot;Max Abi&quot;, required = true)\r\n  @NotBlank\r\n  @Size(min = 0, max = 30)\r\n  private String author;\r\n  public  Book() {}\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.AUTO)\r\n  public long getId() {\r\n    return id;\r\n  }\r\n  public void setId(long id) {\r\n    this.id = id;\r\n  }\r\n  @Column(name = &quot;title&quot;, nullable = false)\r\n  public String getTitle() {\r\n    return title;\r\n  }\r\n  public void setTitle(String title) {\r\n    this.title = title;\r\n  }\r\n  @Column(name = &quot;author&quot;, nullable = false)\r\n  public String getAuthor() {\r\n    return author;\r\n  }\r\n  public void setAuthor(String author) {\r\n    this.author = author;\r\n  }\r\n}\r\n```\r\n\r\n```\r\npackage com.openapi.controller;\r\n\r\nimport com.openapi.model.Book;\r\nimport io.swagger.v3.oas.annotations.Operation;\r\nimport io.swagger.v3.oas.annotations.Parameter;\r\nimport io.swagger.v3.oas.annotations.media.Content;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponses;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.Collection;\r\n\r\n@Tag(name = &quot;book&quot;, description = &quot;the book API&quot;)\r\n@RequestMapping(&quot;/api/v1/books&quot;)\r\npublic interface BookApi {\r\n\r\n  @Operation(summary = &quot;Create book&quot;, description = &quot;This can only be done by the logged in book.&quot;, tags = { &quot;book&quot; })\r\n  @ApiResponses(value = { @ApiResponse(description = &quot;successful operation&quot;, content = { @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = Book.class)), @Content(mediaType = &quot;application/xml&quot;, schema = @Schema(implementation = Book.class)) }) })\r\n  @PostMapping(value = &quot;/&quot;, consumes = { &quot;application/json&quot;, &quot;application/xml&quot;, &quot;application/x-www-form-urlencoded&quot; })\r\n  @ResponseStatus(HttpStatus.CREATED)\r\n  public ResponseEntity&lt;Book&gt; postBook(\r\n      @NotNull\r\n      @Parameter(description = &quot;Created book object&quot;, required = true)\r\n      @Valid @RequestBody Book body,\r\n      @NotNull @Parameter(description = &quot;select which kind of data to fetch&quot;, required = true)\r\n      @Valid @RequestHeader(value=&quot;bookAuthorization&quot;, required = true) String bookAuthorization)\r\n      throws Exception;\r\n\r\n\r\n}\r\n```\r\n\r\nFor each and every client applications wanting to interact with us, i.e sending the http request with a Book object, we first jumped into a call, wrote a long mail explaning what the Book looks like.\r\n\r\nThen, we discovered  ```&lt;groupId&gt;org.springdoc&lt;/groupId&gt; &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;``` which changed the game.\r\n\r\nWe would just do the annotations, generate the Open API v3 doc as we build our project, no extra step.\r\n\r\nWe would then just send the spec.yml via email, and tell them &quot;please go to http://the-cool-host:8080/v3/api-docs/, and you will be able to see what you should be sending us&quot;.\r\n\r\nThis worked like a charm.\r\n\r\nFor organizational reason, we changed the http based application to a Kafka based approach. \r\n\r\nWith that, we lost ability to generate the doc, and also, host it on a website.\r\n\r\nWhat I tried:\r\nI tried leaving the annotations, and running the maven clean install command to generate the doc, but it is not generating anymore.\r\n\r\nMay I ask what did I miss please?\r\n\r\nWhat are the possibilities to generate the Open API v3 doc on the go, and host it, but for Spring Kafka please?\r\n\r\nThank you","title":"Spring Kafka OpenAPI v3 website generation + spec","body":"<p>Small question for Spring Kafka and OpenAPI V3 please.</p>\n<p>In the paste, we had a Spring Web MVC web app, very straightforward, type <a href=\"https://interviewnoodle.com/documenting-a-springboot-rest-api-with-openapi-3-7b2bc1605f\" rel=\"nofollow noreferrer\">https://interviewnoodle.com/documenting-a-springboot-rest-api-with-openapi-3-7b2bc1605f</a></p>\n<pre><code>package com.openapi.model;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\n@Schema(description = &quot;Book object&quot;)\n@Entity\n@Table(name=&quot;books&quot;)\npublic class Book {\n  @JsonProperty(value=&quot;id&quot;, required=true, index = 10)\n  @Schema(description = &quot;Unique identifier of the Book.&quot;,\n      example = &quot;1&quot;, required = true)\n  private long id;\n  @JsonProperty(value=&quot;title&quot;, required=true, index = 20)\n  @Schema(description = &quot;Name of the title.&quot;,\n      example = &quot;Java&quot;, required = true)\n  @NotBlank\n  @Size(min = 0, max = 20)\n  private String title;\n  @JsonProperty(value=&quot;author&quot;, required=true, index = 30)\n  @Schema(description = &quot;Name of the author.&quot;,\n      example = &quot;Max Abi&quot;, required = true)\n  @NotBlank\n  @Size(min = 0, max = 30)\n  private String author;\n  public  Book() {}\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  public long getId() {\n    return id;\n  }\n  public void setId(long id) {\n    this.id = id;\n  }\n  @Column(name = &quot;title&quot;, nullable = false)\n  public String getTitle() {\n    return title;\n  }\n  public void setTitle(String title) {\n    this.title = title;\n  }\n  @Column(name = &quot;author&quot;, nullable = false)\n  public String getAuthor() {\n    return author;\n  }\n  public void setAuthor(String author) {\n    this.author = author;\n  }\n}\n</code></pre>\n<pre><code>package com.openapi.controller;\n\nimport com.openapi.model.Book;\nimport io.swagger.v3.oas.annotations.Operation;\nimport io.swagger.v3.oas.annotations.Parameter;\nimport io.swagger.v3.oas.annotations.media.Content;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\nimport io.swagger.v3.oas.annotations.responses.ApiResponses;\nimport io.swagger.v3.oas.annotations.tags.Tag;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport javax.validation.constraints.NotNull;\nimport java.util.Collection;\n\n@Tag(name = &quot;book&quot;, description = &quot;the book API&quot;)\n@RequestMapping(&quot;/api/v1/books&quot;)\npublic interface BookApi {\n\n  @Operation(summary = &quot;Create book&quot;, description = &quot;This can only be done by the logged in book.&quot;, tags = { &quot;book&quot; })\n  @ApiResponses(value = { @ApiResponse(description = &quot;successful operation&quot;, content = { @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = Book.class)), @Content(mediaType = &quot;application/xml&quot;, schema = @Schema(implementation = Book.class)) }) })\n  @PostMapping(value = &quot;/&quot;, consumes = { &quot;application/json&quot;, &quot;application/xml&quot;, &quot;application/x-www-form-urlencoded&quot; })\n  @ResponseStatus(HttpStatus.CREATED)\n  public ResponseEntity&lt;Book&gt; postBook(\n      @NotNull\n      @Parameter(description = &quot;Created book object&quot;, required = true)\n      @Valid @RequestBody Book body,\n      @NotNull @Parameter(description = &quot;select which kind of data to fetch&quot;, required = true)\n      @Valid @RequestHeader(value=&quot;bookAuthorization&quot;, required = true) String bookAuthorization)\n      throws Exception;\n\n\n}\n</code></pre>\n<p>For each and every client applications wanting to interact with us, i.e sending the http request with a Book object, we first jumped into a call, wrote a long mail explaning what the Book looks like.</p>\n<p>Then, we discovered  <code>&lt;groupId&gt;org.springdoc&lt;/groupId&gt; &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;</code> which changed the game.</p>\n<p>We would just do the annotations, generate the Open API v3 doc as we build our project, no extra step.</p>\n<p>We would then just send the spec.yml via email, and tell them &quot;please go to http://the-cool-host:8080/v3/api-docs/, and you will be able to see what you should be sending us&quot;.</p>\n<p>This worked like a charm.</p>\n<p>For organizational reason, we changed the http based application to a Kafka based approach.</p>\n<p>With that, we lost ability to generate the doc, and also, host it on a website.</p>\n<p>What I tried:\nI tried leaving the annotations, and running the maven clean install command to generate the doc, but it is not generating anymore.</p>\n<p>May I ask what did I miss please?</p>\n<p>What are the possibilities to generate the Open API v3 doc on the go, and host it, but for Spring Kafka please?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring","spring-boot","maven","twitter"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675883239,"creation_date":1675883239,"answer_id":75390595,"question_id":75389781,"body_markdown":"Your guess is correct. [Spring Social Twitter](https://github.com/spring-attic/spring-social-twitter) is no longer maintained. The last release, 1.1.2.RELEASE, was made in October 2015 and it depends on Spring Framework 4. Spring Boot 1.x is based on Spring Framework 4.x but it has been [out of support since 2019](https://spring.io/projects/spring-boot#support).\r\n\r\nI would recommend that you find an alternative to Spring Social Twitter. The alternative would be to use it with Spring Boot 1.x but then you will be using unsupported software for which bug fixes won&#39;t be available. Even if you&#39;re happy to take that risk, there&#39;s also a good chance that Spring Social Twitter isn&#39;t compatible with the current version of Twitter&#39;s API.","title":"java.lang.NoSuchMethodError when using spring-social-twitter","body":"<p>Your guess is correct. <a href=\"https://github.com/spring-attic/spring-social-twitter\" rel=\"nofollow noreferrer\">Spring Social Twitter</a> is no longer maintained. The last release, 1.1.2.RELEASE, was made in October 2015 and it depends on Spring Framework 4. Spring Boot 1.x is based on Spring Framework 4.x but it has been <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"nofollow noreferrer\">out of support since 2019</a>.</p>\n<p>I would recommend that you find an alternative to Spring Social Twitter. The alternative would be to use it with Spring Boot 1.x but then you will be using unsupported software for which bug fixes won't be available. Even if you're happy to take that risk, there's also a good chance that Spring Social Twitter isn't compatible with the current version of Twitter's API.</p>\n"},{"tags":[],"owner":{"account_id":13740809,"reputation":29,"user_id":9915969,"display_name":"Clayn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675903117,"creation_date":1675903117,"answer_id":75393095,"question_id":75389781,"body_markdown":"Solved by defining my own OAuth1 Rest Template using `spring-social`.\r\nFirst included following dependencies:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-social-core&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-social-web&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-social-security&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThen create new temlate which extends `AbstractOAuth1ApiBinding`:\r\n```\r\npublic class TwitterTemplate extends AbstractOAuth1ApiBinding {\r\n    public static final String TWITTER_API = &quot;https://api.twitter.com/1.1&quot;;\r\n    public TwitterTemplate(String consumerKey, String consumerSecret, String accessToken,\r\n                           String accessTokenSecret) {\r\n        super(consumerKey, consumerSecret, accessToken, accessTokenSecret);\r\n    }\r\n    public TwitterUserResponse getUser(String name) {\r\n        return getRestTemplate().getForObject(\r\n                TWITTER_API + &quot;/users/show.json?screen_name={name}&quot;, TwitterUserResponse.class, name);\r\n    }\r\n}\r\n\r\n```\r\nThen just instantiate `TwitterTemplate` and call needed method.","title":"java.lang.NoSuchMethodError when using spring-social-twitter","body":"<p>Solved by defining my own OAuth1 Rest Template using <code>spring-social</code>.\nFirst included following dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-social-core&lt;/artifactId&gt;\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-social-web&lt;/artifactId&gt;\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-social-security&lt;/artifactId&gt;\n    &lt;version&gt;1.1.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then create new temlate which extends <code>AbstractOAuth1ApiBinding</code>:</p>\n<pre><code>public class TwitterTemplate extends AbstractOAuth1ApiBinding {\n    public static final String TWITTER_API = &quot;https://api.twitter.com/1.1&quot;;\n    public TwitterTemplate(String consumerKey, String consumerSecret, String accessToken,\n                           String accessTokenSecret) {\n        super(consumerKey, consumerSecret, accessToken, accessTokenSecret);\n    }\n    public TwitterUserResponse getUser(String name) {\n        return getRestTemplate().getForObject(\n                TWITTER_API + &quot;/users/show.json?screen_name={name}&quot;, TwitterUserResponse.class, name);\n    }\n}\n\n</code></pre>\n<p>Then just instantiate <code>TwitterTemplate</code> and call needed method.</p>\n"}],"owner":{"account_id":13740809,"reputation":29,"user_id":9915969,"display_name":"Clayn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75393095,"answer_count":2,"score":0,"last_activity_date":1675903117,"creation_date":1675878353,"question_id":75389781,"body_markdown":"I try using Twitter API via Spring library `spring-social-twitter`. However I&#39;m when calling `sendDirectMessage(String toScreenName, String text)` function I get the following exception:\r\n```\r\njava.lang.NoSuchMethodError: &#39;org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()&#39;\r\n\tat org.springframework.social.twitter.api.impl.TwitterErrorHandler.handleError(TwitterErrorHandler.java:56) ~[spring-social-twitter-1.1.0.RELEASE.jar:1.1.0.RELEASE]\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:804) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:503) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.social.twitter.api.impl.DirectMessageTemplate.sendDirectMessage(DirectMessageTemplate.java:77) ~[spring-social-twitter-1.1.0.RELEASE.jar:1.1.0.RELEASE]\r\n\tat com.example.twittertest.TwitterController.send(TwitterController.java:17) ~[classes/:na]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\r\n```\r\nI have the my `TwitterTemplate` configured as following:\r\n```\r\n@Component\r\npublic class TwitterTemplateCreator {\r\n    public Twitter getTwitterTemplate() {\r\n        return new TwitterTemplate(\r\n                &quot;&lt;cosumerKey&gt;&quot;,\r\n                &quot;&lt;consumerSecret&gt;&quot;,\r\n                &quot;&lt;accessToken&gt;&quot;,\r\n                &quot;&lt;accessTokenSecret&gt;&quot;);\r\n    }\r\n}\r\n```\r\n\r\n`TwitterController`:\r\n```\r\n@RestController\r\n@RequestMapping((&quot;/api&quot;))\r\npublic class TwitterController {\r\n    @Autowired\r\n    private TwitterTemplateCreator twitterTemplateCreator;\r\n\r\n    @PostMapping(value = &quot;/send&quot;)\r\n    public void send(@RequestParam(&quot;name&quot;) String name, @RequestParam(&quot;text&quot;) String text) {\r\n        twitterTemplateCreator.getTwitterTemplate().directMessageOperations().sendDirectMessage(name, text);\r\n    }\r\n}\r\n```\r\nAnd finally `pom.xml`:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;twitter-test&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;twitter-test&lt;/name&gt;\r\n    &lt;description&gt;twitter-test&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-social-twitter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nMy guess is that there is inconsistency with dependencies versions but after trying different Spring Boot versions I still can&#39;t figure out what causes this issue.","title":"java.lang.NoSuchMethodError when using spring-social-twitter","body":"<p>I try using Twitter API via Spring library <code>spring-social-twitter</code>. However I'm when calling <code>sendDirectMessage(String toScreenName, String text)</code> function I get the following exception:</p>\n<pre><code>java.lang.NoSuchMethodError: 'org.springframework.http.HttpStatus org.springframework.http.client.ClientHttpResponse.getStatusCode()'\n    at org.springframework.social.twitter.api.impl.TwitterErrorHandler.handleError(TwitterErrorHandler.java:56) ~[spring-social-twitter-1.1.0.RELEASE.jar:1.1.0.RELEASE]\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:915) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:864) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:804) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:503) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.social.twitter.api.impl.DirectMessageTemplate.sendDirectMessage(DirectMessageTemplate.java:77) ~[spring-social-twitter-1.1.0.RELEASE.jar:1.1.0.RELEASE]\n    at com.example.twittertest.TwitterController.send(TwitterController.java:17) ~[classes/:na]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) ~[tomcat-embed-core-10.1.5.jar:6.0]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.5.jar:6.0]\n</code></pre>\n<p>I have the my <code>TwitterTemplate</code> configured as following:</p>\n<pre><code>@Component\npublic class TwitterTemplateCreator {\n    public Twitter getTwitterTemplate() {\n        return new TwitterTemplate(\n                &quot;&lt;cosumerKey&gt;&quot;,\n                &quot;&lt;consumerSecret&gt;&quot;,\n                &quot;&lt;accessToken&gt;&quot;,\n                &quot;&lt;accessTokenSecret&gt;&quot;);\n    }\n}\n</code></pre>\n<p><code>TwitterController</code>:</p>\n<pre><code>@RestController\n@RequestMapping((&quot;/api&quot;))\npublic class TwitterController {\n    @Autowired\n    private TwitterTemplateCreator twitterTemplateCreator;\n\n    @PostMapping(value = &quot;/send&quot;)\n    public void send(@RequestParam(&quot;name&quot;) String name, @RequestParam(&quot;text&quot;) String text) {\n        twitterTemplateCreator.getTwitterTemplate().directMessageOperations().sendDirectMessage(name, text);\n    }\n}\n</code></pre>\n<p>And finally <code>pom.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;twitter-test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;twitter-test&lt;/name&gt;\n    &lt;description&gt;twitter-test&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.social&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-social-twitter&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My guess is that there is inconsistency with dependencies versions but after trying different Spring Boot versions I still can't figure out what causes this issue.</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":18562970,"reputation":392,"user_id":13526580,"display_name":"Jessica Vasey"},"score":0,"creation_date":1675781287,"post_id":75372711,"comment_id":132999771,"body_markdown":"When you say &quot;the Java thread is getting stuck trying to produce&quot; does the producer keep retying until eventually the message is successfully sent? I&#39;m trying to understand what you want to achieve i.e. is this part of a test where you want to see how the producer handles TimeoutExceptions?","body":"When you say &quot;the Java thread is getting stuck trying to produce&quot; does the producer keep retying until eventually the message is successfully sent? I&#39;m trying to understand what you want to achieve i.e. is this part of a test where you want to see how the producer handles TimeoutExceptions?"},{"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"score":0,"creation_date":1675781515,"post_id":75372711,"comment_id":132999857,"body_markdown":"Hi @JessicaVasey , No it&#39;s not retrying ... I believe the producer trying to get metadata from kafka and it&#39;s stuck there at the first try itself . it didn&#39;t made any retry (since , my producer config is set to &quot;0&quot; retry ) . it is not part of test , it&#39;s happening in our production (real time) .\n\nto add more , mostly we are able to produce records without any issue and rarely we are facing this issue where producer is not even throwing any exception/errors if it can&#39;t produce the record ... it&#39;s just stuck literally","body":"Hi @JessicaVasey , No it&#39;s not retrying ... I believe the producer trying to get metadata from kafka and it&#39;s stuck there at the first try itself . it didn&#39;t made any retry (since , my producer config is set to &quot;0&quot; retry ) . it is not part of test , it&#39;s happening in our production (real time) .  to add more , mostly we are able to produce records without any issue and rarely we are facing this issue where producer is not even throwing any exception/errors if it can&#39;t produce the record ... it&#39;s just stuck literally"},{"owner":{"account_id":18562970,"reputation":392,"user_id":13526580,"display_name":"Jessica Vasey"},"score":0,"creation_date":1675790368,"post_id":75372711,"comment_id":133003045,"body_markdown":"Hi @Misubushi, what version of Kafka are you using?","body":"Hi @Misubushi, what version of Kafka are you using?"},{"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"score":0,"creation_date":1675793306,"post_id":75372711,"comment_id":133003888,"body_markdown":"@JessicaVasey , I&#39;m using Kafka-clients 3.3.2 for Kafka producer and our kafka environment is Confluent Platform 6.2 .","body":"@JessicaVasey , I&#39;m using Kafka-clients 3.3.2 for Kafka producer and our kafka environment is Confluent Platform 6.2 ."}],"owner":{"account_id":24443491,"reputation":57,"user_id":18366833,"display_name":"Misubushi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675902716,"creation_date":1675769246,"question_id":75372711,"body_markdown":"I&#39;m using Kafka producer send() method with callback . most of the time (around 90%) we are able to produce the record without any issue but intermittently, after calling .send() method the Java thread is getting stuck while trying to produce . we are using default timeout values but exception of any kind is not getting triggered (we are expecting timeout exception or something but it&#39;s just stuck trying to produce).\r\n\r\n***BELOW IS THE CODE SNIPPET***\r\n```\r\nkafkaProducer.send(new ProducerRecord(topic, key, kafkaMsg), new Callback(){\r\n\t\t\t@Override\r\n\t\t\tpublic void onCompletion(RecordMetadata metadata,Exception e) {\r\n\t\t\t\tif (e == null) {\r\n\t\t\t\t\tisSuccess = true;\r\n\t\t\t\t\t//MessageLogger.logMessageString(&quot;INFO&quot;,&quot;Published partition details :: &quot;+TransactionID,\r\n\t\t\t\t\tMessageLogger.logMessageStringOld(&quot;INFO&quot;,&quot;Published partition details :: &quot;+TransactionID, \r\n                       &quot;topic -&gt; &quot;+ metadata.topic()+&quot;\\n&quot; +\r\n\t\t\t\t\t   &quot;partition -&gt; &quot;+metadata.partition()+&quot;\\n&quot;+\r\n\t\t\t\t\t   &quot;offset -&gt; &quot;+metadata.offset());\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//MessageLogger.logMessageString(&quot;ERROR&quot;, &quot;Exception in publish message&quot;,e.getLocalizedMessage());\r\n\t\t\t\t\tMessageLogger.logMessageStringOld(&quot;ERROR&quot;, &quot;Exception in publish message&quot;,e.getLocalizedMessage());\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\tisSuccess = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tkafkaProducer.flush();\r\n\t\tkafkaProducer.close();\r\n```\r\n\r\n\r\nI tried to play with some timeout properties but no luck \r\n**example : \r\nkafkaProdConfig.put(&quot;max.block.ms&quot;, 60000);\r\nkafkaProdConfig.put(&quot;request.timeout.ms&quot;, 30000);**\r\n\r\nCould someone provide insight on this please?\r\n","title":"TimeOut exception not getting triggered in Kafka producer","body":"<p>I'm using Kafka producer send() method with callback . most of the time (around 90%) we are able to produce the record without any issue but intermittently, after calling .send() method the Java thread is getting stuck while trying to produce . we are using default timeout values but exception of any kind is not getting triggered (we are expecting timeout exception or something but it's just stuck trying to produce).</p>\n<p><em><strong>BELOW IS THE CODE SNIPPET</strong></em></p>\n<pre><code>kafkaProducer.send(new ProducerRecord(topic, key, kafkaMsg), new Callback(){\n            @Override\n            public void onCompletion(RecordMetadata metadata,Exception e) {\n                if (e == null) {\n                    isSuccess = true;\n                    //MessageLogger.logMessageString(&quot;INFO&quot;,&quot;Published partition details :: &quot;+TransactionID,\n                    MessageLogger.logMessageStringOld(&quot;INFO&quot;,&quot;Published partition details :: &quot;+TransactionID, \n                       &quot;topic -&gt; &quot;+ metadata.topic()+&quot;\\n&quot; +\n                       &quot;partition -&gt; &quot;+metadata.partition()+&quot;\\n&quot;+\n                       &quot;offset -&gt; &quot;+metadata.offset());\n                } else {\n                    //MessageLogger.logMessageString(&quot;ERROR&quot;, &quot;Exception in publish message&quot;,e.getLocalizedMessage());\n                    MessageLogger.logMessageStringOld(&quot;ERROR&quot;, &quot;Exception in publish message&quot;,e.getLocalizedMessage());\n                    e.printStackTrace();\n                    isSuccess = false;\n                }\n            }\n        });\n        kafkaProducer.flush();\n        kafkaProducer.close();\n</code></pre>\n<p>I tried to play with some timeout properties but no luck\n<strong>example :\nkafkaProdConfig.put(&quot;max.block.ms&quot;, 60000);\nkafkaProdConfig.put(&quot;request.timeout.ms&quot;, 30000);</strong></p>\n<p>Could someone provide insight on this please?</p>\n"},{"tags":["java","spring","jdbc","hikaricp"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1675860140,"post_id":75385913,"comment_id":133017860,"body_markdown":"&quot;*Now, keeping passwords in Strings is not safe... So we started changing our code to use char[]  and byte[]*&quot; How do you think Strings store their characters? Pre-java 9, `char[]` and now `byte[]`. This exercise is pointless. You are just making your own life significantly harder, to - at best - mildly inconvenience an attacker. https://en.wikipedia.org/wiki/Security_through_obscurity","body":"&quot;<i>Now, keeping passwords in Strings is not safe... So we started changing our code to use char[]  and byte[]</i>&quot; How do you think Strings store their characters? Pre-java 9, <code>char[]</code> and now <code>byte[]</code>. This exercise is pointless. You are just making your own life significantly harder, to - at best - mildly inconvenience an attacker. <a href=\"https://en.wikipedia.org/wiki/Security_through_obscurity\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Security_through_obscurity</a>"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1675860179,"post_id":75385913,"comment_id":133017871,"body_markdown":"&quot;*it can be extracted, until garbage collector comes and clears it*&quot; If an attacker has physical access to your server&#39;s memory, you have bigger problems than them reading passwords.","body":"&quot;<i>it can be extracted, until garbage collector comes and clears it</i>&quot; If an attacker has physical access to your server&#39;s memory, you have bigger problems than them reading passwords."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":2,"creation_date":1675860566,"post_id":75385913,"comment_id":133017989,"body_markdown":"Perhaps the &quot;tool&quot; should be ignored?  Don&#39;t do everything a computer tells you to do.","body":"Perhaps the &quot;tool&quot; should be ignored?  Don&#39;t do everything a computer tells you to do."},{"owner":{"account_id":9542659,"reputation":165,"user_id":7090136,"display_name":"Chris"},"score":0,"creation_date":1675860912,"post_id":75385913,"comment_id":133018090,"body_markdown":"So from your comments my understanding is that this is pointless and using encrypted strings is fine. Correct?","body":"So from your comments my understanding is that this is pointless and using encrypted strings is fine. Correct?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675861056,"post_id":75385913,"comment_id":133018127,"body_markdown":"Are you talking about a client or a server?","body":"Are you talking about a client or a server?"},{"owner":{"account_id":9542659,"reputation":165,"user_id":7090136,"display_name":"Chris"},"score":0,"creation_date":1675861168,"post_id":75385913,"comment_id":133018180,"body_markdown":"Everything is server side. Spring-Boot","body":"Everything is server side. Spring-Boot"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675861243,"post_id":75385913,"comment_id":133018215,"body_markdown":"OK, then that&#39;s alright","body":"OK, then that&#39;s alright"},{"owner":{"account_id":9542659,"reputation":165,"user_id":7090136,"display_name":"Chris"},"score":0,"creation_date":1675861367,"post_id":75385913,"comment_id":133018258,"body_markdown":"@Michael the idea with char[] was that you can clear it after usage by making the array empty.","body":"@Michael the idea with char[] was that you can clear it after usage by making the array empty."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - "},"score":0,"creation_date":1675864959,"post_id":75385913,"comment_id":133019476,"body_markdown":"Hash passwords and validate hash with hash.","body":"Hash passwords and validate hash with hash."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1675865003,"post_id":75385913,"comment_id":133019490,"body_markdown":"Related: [Eliminating Passwords from the JVM Heap](https://stackoverflow.com/q/59548500/12567365). Similar conclusion to other comments and answers here: spend your security effort where it will have the most impact.","body":"Related: <a href=\"https://stackoverflow.com/q/59548500/12567365\">Eliminating Passwords from the JVM Heap</a>. Similar conclusion to other comments and answers here: spend your security effort where it will have the most impact."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676304017,"post_id":75385913,"comment_id":133105597,"body_markdown":"This is tagged HikariCP, but that is basically irrelevant. All JDBC APIs that expect passwords (including `DriverManager` or `DataSource`) expect them as strings. If you don&#39;t want to use strings, then you should look if your JDBC driver supports alternative authentication mechanisms which don&#39;t involve passwords.","body":"This is tagged HikariCP, but that is basically irrelevant. All JDBC APIs that expect passwords (including <code>DriverManager</code> or <code>DataSource</code>) expect them as strings. If you don&#39;t want to use strings, then you should look if your JDBC driver supports alternative authentication mechanisms which don&#39;t involve passwords."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675902261,"creation_date":1675864057,"answer_id":75386730,"question_id":75385913,"body_markdown":"&gt; Now, keeping passwords in Strings is not safe, because it can be extracted, until garbage collector comes and clears it.\r\n\r\nOnly if someone has sufficient access to capture what is in memory (or swap space on disk).  If someone can do that, they can probably *also* do *one or more* of the following:\r\n\r\n  - modify your application at the bytecode level to inject code to capture the secret\r\n  - attach a debugger and use it to set a breakpoint at the point where the secret is used\r\n  - read the secret from the file system, database, whatever\r\n  - find the private key for your server&#39;s SSL certs and use it to snoop on the HTTPS traffic to your server,\r\n  - walk out of your machine room with your hard drives, etc and then attack them at their leisure\r\n  - and so on.\r\n\r\nSpending a lot of effort to use `char[]` for handling passwords won&#39;t address any of those other ways of stealing the secrets.\r\n\r\nAnd it won&#39;t address various other security blunders ... like porous firewalls, unencrypted backups saved to the cloud, keys on a stolen devops laptop, successful spear phishing, etc.\r\n\r\n&gt; So am I supposed to change Hikari code and recompile it as our own organization implementation of Hikari which use passwords from a char[]? or what?\r\n\r\nThat is what you *would* need to do if you wanted to address this attack vector.  Don&#39;t ever hold passwords in `String` objects, and make sure that you clear the `char[]` or `byte[]` or whatever that you use to hold them as soon as possible.\r\n\r\nAre you &quot;supposed&quot; to do that?  Shrug.\r\n\r\nMy advice would be to do a **full** security risk assessment, look at **all** of the issues and decide whether or not addressing this one will make a significant difference to *overall* security.  Balance that against the costs of creating and maintaining the Hikari patches. On the flip-side, quantify the costs to your organization if (these) passwords were stolen. \r\n\r\nBut it is not up to us to decide what you should.  And it is not even possible to give you an objective recommendation, because we don&#39;t understand the full context.\r\n","title":"String passwords in java on database connections","body":"<blockquote>\n<p>Now, keeping passwords in Strings is not safe, because it can be extracted, until garbage collector comes and clears it.</p>\n</blockquote>\n<p>Only if someone has sufficient access to capture what is in memory (or swap space on disk).  If someone can do that, they can probably <em>also</em> do <em>one or more</em> of the following:</p>\n<ul>\n<li>modify your application at the bytecode level to inject code to capture the secret</li>\n<li>attach a debugger and use it to set a breakpoint at the point where the secret is used</li>\n<li>read the secret from the file system, database, whatever</li>\n<li>find the private key for your server's SSL certs and use it to snoop on the HTTPS traffic to your server,</li>\n<li>walk out of your machine room with your hard drives, etc and then attack them at their leisure</li>\n<li>and so on.</li>\n</ul>\n<p>Spending a lot of effort to use <code>char[]</code> for handling passwords won't address any of those other ways of stealing the secrets.</p>\n<p>And it won't address various other security blunders ... like porous firewalls, unencrypted backups saved to the cloud, keys on a stolen devops laptop, successful spear phishing, etc.</p>\n<blockquote>\n<p>So am I supposed to change Hikari code and recompile it as our own organization implementation of Hikari which use passwords from a char[]? or what?</p>\n</blockquote>\n<p>That is what you <em>would</em> need to do if you wanted to address this attack vector.  Don't ever hold passwords in <code>String</code> objects, and make sure that you clear the <code>char[]</code> or <code>byte[]</code> or whatever that you use to hold them as soon as possible.</p>\n<p>Are you &quot;supposed&quot; to do that?  Shrug.</p>\n<p>My advice would be to do a <strong>full</strong> security risk assessment, look at <strong>all</strong> of the issues and decide whether or not addressing this one will make a significant difference to <em>overall</em> security.  Balance that against the costs of creating and maintaining the Hikari patches. On the flip-side, quantify the costs to your organization if (these) passwords were stolen.</p>\n<p>But it is not up to us to decide what you should.  And it is not even possible to give you an objective recommendation, because we don't understand the full context.</p>\n"}],"owner":{"account_id":9542659,"reputation":165,"user_id":7090136,"display_name":"Chris"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75386730,"answer_count":1,"score":0,"last_activity_date":1675902261,"creation_date":1675859948,"question_id":75385913,"body_markdown":"Recently we have added a tool to find security holes in our organization. One of the issues that was found is that when connecting to a database (ex. using Hikari), we have to provide a String containing the password (encrypted, of course, which will be decrypted when used).\r\n\r\nNow, keeping passwords in Strings is not safe, because it can be extracted, until garbage collector comes and clears it.\r\n\r\nSo we started changing our code to use char[] and byte[] (not sure it&#39;s the best, but the idea is that we can clear the array after usage, and not wait for garbage collector to clear it for us) to set our passwords on Hikari, but the last part of the flow is setting an unencrypted password String to Hikari. So all this fuss to find out that Hikari is keeping the password inside a String..\r\n\r\nSo am I supposed to change Hikari code and recompile it as our own organization implementation of Hikari which use passwords from a char[]? or what? \r\n\r\nHow can we avoid this?","title":"String passwords in java on database connections","body":"<p>Recently we have added a tool to find security holes in our organization. One of the issues that was found is that when connecting to a database (ex. using Hikari), we have to provide a String containing the password (encrypted, of course, which will be decrypted when used).</p>\n<p>Now, keeping passwords in Strings is not safe, because it can be extracted, until garbage collector comes and clears it.</p>\n<p>So we started changing our code to use char[] and byte[] (not sure it's the best, but the idea is that we can clear the array after usage, and not wait for garbage collector to clear it for us) to set our passwords on Hikari, but the last part of the flow is setting an unencrypted password String to Hikari. So all this fuss to find out that Hikari is keeping the password inside a String..</p>\n<p>So am I supposed to change Hikari code and recompile it as our own organization implementation of Hikari which use passwords from a char[]? or what?</p>\n<p>How can we avoid this?</p>\n"},{"tags":["java","android","mobile"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1675870649,"post_id":75386747,"comment_id":133021624,"body_markdown":"Can you try that in *onStart()* callback instead","body":"Can you try that in <i>onStart()</i> callback instead"},{"owner":{"account_id":26488483,"reputation":119,"user_id":20126669,"display_name":"Shekhar J. Lobo"},"score":0,"creation_date":1675923231,"post_id":75386747,"comment_id":133032976,"body_markdown":"Im getting issue on this line\nBottomSheetBehavior bottomSheetBehavior=BottomSheetBehavior.from((View) view.getParent());","body":"Im getting issue on this line BottomSheetBehavior bottomSheetBehavior=BottomSheetBehavior.from((View) view.getParent());"}],"answers":[{"tags":[],"owner":{"account_id":26664900,"reputation":316,"user_id":20277138,"display_name":"Ali Hamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675901529,"creation_date":1675866442,"answer_id":75387216,"question_id":75386747,"body_markdown":"When you want to deal with fragment you have to take into consideration the root. \r\nBy getting the root you can do any things in the fragment.\r\n\r\nI think the error message is because you didnt get the root.(the null because theres no root found)\r\n\r\nTry to use this in order to solve the problem:\r\n\r\n    BottomSheetBehavior bottomSheetBehavior = BottomSheetBehavior.from(getView().findViewById(R.id.parent_view_id));\r\n\r\nThe `getView()` method will help you to do so or you can use:\r\n\r\n    View rootView = getView();\r\n    // use the rootView in your code \r\n\r\nI hope I explain the point correctly.\r\n\r\n&gt; If you can show more of your code maybe I can help you more \r\n\r\n","title":"Unable to get parent when bottomsheet called from fragment","body":"<p>When you want to deal with fragment you have to take into consideration the root.\nBy getting the root you can do any things in the fragment.</p>\n<p>I think the error message is because you didnt get the root.(the null because theres no root found)</p>\n<p>Try to use this in order to solve the problem:</p>\n<pre><code>BottomSheetBehavior bottomSheetBehavior = BottomSheetBehavior.from(getView().findViewById(R.id.parent_view_id));\n</code></pre>\n<p>The <code>getView()</code> method will help you to do so or you can use:</p>\n<pre><code>View rootView = getView();\n// use the rootView in your code \n</code></pre>\n<p>I hope I explain the point correctly.</p>\n<blockquote>\n<p>If you can show more of your code maybe I can help you more</p>\n</blockquote>\n"}],"owner":{"account_id":26488483,"reputation":119,"user_id":20126669,"display_name":"Shekhar J. Lobo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675901529,"creation_date":1675864146,"question_id":75386747,"body_markdown":"I&#39;m trying to set a peek height for my bottomsheet and I&#39;m using this method below, it works fine when the BottomModalLayout is called from an activity but it doesnt when called from a fragment\r\nHere is my code for bottomModalLayout\r\n\r\n    \r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState){\r\n        super.onViewCreated(view, savedInstanceState);\r\n        System.out.println(&quot;Details: &quot;+view.getParent());\r\n        //CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) ((View) view.getParent()).getLayoutParams();\r\n        BottomSheetBehavior bottomSheetBehavior=BottomSheetBehavior.from((View) view.getParent());\r\n        //BottomSheetBehavior bottomSheetBehavior=params.getBehavior();\r\n        bottomSheetBehavior.setPeekHeight(1877);\r\n        bottomSheetBehavior.setBottomSheetCallback(new BottomSheetBehavior.BottomSheetCallback() {\r\n            @Override\r\n            public void onStateChanged(@NonNull View bottomSheet, int newState) {\r\n                if (newState == BottomSheetBehavior.STATE_DRAGGING) {\r\n                    bottomSheetBehavior.setPeekHeight(1877);\r\n                    bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onSlide(@NonNull View bottomSheet, float slideOffset) {\r\n            }\r\n        });\r\n        bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\r\n    }\r\n\r\n\r\n\r\nthis is called from a fragement \r\n\r\n    analysis.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    BottomModalLayout bottomSheet = new BottomModalLayout();\r\n\r\n                    bottomSheet.setCancelable(false);\r\n                    bottomSheet.show(getFragmentManager(),\r\n                            &quot;ModalBottomSheet&quot;);\r\n                }\r\n            });\r\n\r\n\r\nbut getting this error\r\n[![enter image description here][1]][1]\r\n\r\nKindly Help!!!\r\nand thanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RLCoK.png","title":"Unable to get parent when bottomsheet called from fragment","body":"<p>I'm trying to set a peek height for my bottomsheet and I'm using this method below, it works fine when the BottomModalLayout is called from an activity but it doesnt when called from a fragment\nHere is my code for bottomModalLayout</p>\n<pre><code>public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState){\n    super.onViewCreated(view, savedInstanceState);\n    System.out.println(&quot;Details: &quot;+view.getParent());\n    //CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) ((View) view.getParent()).getLayoutParams();\n    BottomSheetBehavior bottomSheetBehavior=BottomSheetBehavior.from((View) view.getParent());\n    //BottomSheetBehavior bottomSheetBehavior=params.getBehavior();\n    bottomSheetBehavior.setPeekHeight(1877);\n    bottomSheetBehavior.setBottomSheetCallback(new BottomSheetBehavior.BottomSheetCallback() {\n        @Override\n        public void onStateChanged(@NonNull View bottomSheet, int newState) {\n            if (newState == BottomSheetBehavior.STATE_DRAGGING) {\n                bottomSheetBehavior.setPeekHeight(1877);\n                bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n            }\n        }\n\n        @Override\n        public void onSlide(@NonNull View bottomSheet, float slideOffset) {\n        }\n    });\n    bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n}\n</code></pre>\n<p>this is called from a fragement</p>\n<pre><code>analysis.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                BottomModalLayout bottomSheet = new BottomModalLayout();\n\n                bottomSheet.setCancelable(false);\n                bottomSheet.show(getFragmentManager(),\n                        &quot;ModalBottomSheet&quot;);\n            }\n        });\n</code></pre>\n<p>but getting this error\n<a href=\"https://i.stack.imgur.com/RLCoK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RLCoK.png\" alt=\"enter image description here\" /></a></p>\n<p>Kindly Help!!!\nand thanks in advance</p>\n"},{"tags":["java","algorithm","recursion","data-structures","doubly-linked-list"],"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1675901889,"post_id":75392695,"comment_id":133030070,"body_markdown":"If the `last` property was `static` then you could only have 1 DLL in your code as every node would point to the same `last` node. Better would be to have a `LinkedList` class that holds fields and methods that apply to the entire structure (such as `last`) rather than having them in the node class.","body":"If the <code>last</code> property was <code>static</code> then you could only have 1 DLL in your code as every node would point to the same <code>last</code> node. Better would be to have a <code>LinkedList</code> class that holds fields and methods that apply to the entire structure (such as <code>last</code>) rather than having them in the node class."},{"owner":{"account_id":16577967,"reputation":151,"user_id":14143633,"display_name":"Bartek Lachowicz"},"score":0,"creation_date":1675931512,"post_id":75392695,"comment_id":133034789,"body_markdown":"Yeah that does make sense. Thanks","body":"Yeah that does make sense. Thanks"},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":1,"creation_date":1676349465,"post_id":75392695,"comment_id":133114633,"body_markdown":"Either you made a transcription error or the code from the book has an error. There&#39;s no way that `last` can ever be anything but `null`.","body":"Either you made a transcription error or the code from the book has an error. There&#39;s no way that <code>last</code> can ever be anything but <code>null</code>."},{"owner":{"account_id":16577967,"reputation":151,"user_id":14143633,"display_name":"Bartek Lachowicz"},"score":0,"creation_date":1676367997,"post_id":75392695,"comment_id":133118242,"body_markdown":"This is copied from the book, if you look at the edits I also uploaded previously my &quot;renamed&quot; version of the code and picture from and the book but then decided to just upload code from the book. https://i.stack.imgur.com/miCoQ.jpg Anyhow thanks for taking your time to look at it","body":"This is copied from the book, if you look at the edits I also uploaded previously my &quot;renamed&quot; version of the code and picture from and the book but then decided to just upload code from the book. <a href=\"https://i.stack.imgur.com/miCoQ.jpg\" rel=\"nofollow noreferrer\">i.stack.imgur.com/miCoQ.jpg</a> Anyhow thanks for taking your time to look at it"}],"owner":{"account_id":16577967,"reputation":151,"user_id":14143633,"display_name":"Bartek Lachowicz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675899737,"creation_date":1675898650,"question_id":75392695,"body_markdown":"I am going through CTCI book and I really cannot wrap my head around the ```last``` property of DoubleLinkedList(DLL) implementation from the author. No matter how I try to initialise the DLL it&#39;s always ```null``` when I ask for that property. \r\n\r\nAs far as I understand the ```last``` property is not a class variable(no **static** keyword) so each Node object will have its own ```last``` element. I would expect the DLL, to have a pointer to the ```last``` fixed at all times(point to the last Node in the entire DLL), is that incorrect?\r\n\r\nMoreover, I was thinking about implementing ```head``` property into that implementation, and doing a similar thing with updating it in ```setPrevious``` function. I would update the head if ```setPrevious``` was called on the head. Is that stupid, why wouldn&#39;t she implement that logic?\r\n\r\nThis is the code from the book and my tries to get some output from the ```last``` property\r\n```java\r\npublic class LinkedListNode {\r\n\tpublic LinkedListNode next;\r\n\tpublic LinkedListNode prev;\r\n\tpublic LinkedListNode last;\r\n\tpublic int data;\r\n\tpublic LinkedListNode(int d, LinkedListNode n, LinkedListNode p) {\r\n\t\tdata = d;\r\n\t\tsetNext(n);\r\n\t\tsetPrevious(p);\r\n\t}\r\n\t\r\n\tpublic LinkedListNode(int d) {\r\n\t\tdata = d;\r\n\t}\t\r\n\t\r\n\tpublic LinkedListNode() { }\r\n\r\n\tpublic void setNext(LinkedListNode n) {\r\n\t\tnext = n;\r\n\t\tif (this == last) {\r\n\t\t\tlast = n;\r\n\t\t}\r\n\t\tif (n != null &amp;&amp; n.prev != this) {\r\n\t\t\tn.setPrevious(this);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void setPrevious(LinkedListNode p) {\r\n\t\tprev = p;\r\n\t\tif (p != null &amp;&amp; p.next != this) {\r\n\t\t\tp.setNext(this);\r\n\t\t}\r\n\t}\t\r\n\t\r\n\tpublic String printForward() {\r\n\t\tif (next != null) {\r\n\t\t\treturn data + &quot;-&gt;&quot; + next.printForward();\r\n\t\t} else {\r\n\t\t\treturn ((Integer) data).toString();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic LinkedListNode clone() {\r\n\t\tLinkedListNode next2 = null;\r\n\t\tif (next != null) {\r\n\t\t\tnext2 = next.clone();\r\n\t\t}\r\n\t\tLinkedListNode head2 = new LinkedListNode(data, next2, null);\r\n\t\treturn head2;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n        LinkedListNode ll = new LinkedListNode(1);\r\n        ll.setNext(new LinkedListNode(2));\r\n\r\n        System.out.println(ll.last);\r\n        System.out.println(ll.next.last);\r\n\r\n        LinkedListNode firstNode = new LinkedListNode(1);\r\n        LinkedListNode thirdNode = new LinkedListNode(3);\r\n\r\n        LinkedListNode ll2 = new LinkedListNode(1, thirdNode, firstNode);\r\n        System.out.println(firstNode.last);\r\n        System.out.println(ll2.last);\r\n        System.out.println(thirdNode.last);\r\n        \r\n\t}\r\n}\r\n```\r\n\r\n```\r\n&gt; null\r\n&gt; null\r\n&gt; null\r\n&gt; null\r\n&gt; null\r\n```","title":"I don&#39;t understand Double linked list implementation from CTCI in java","body":"<p>I am going through CTCI book and I really cannot wrap my head around the <code>last</code> property of DoubleLinkedList(DLL) implementation from the author. No matter how I try to initialise the DLL it's always <code>null</code> when I ask for that property.</p>\n<p>As far as I understand the <code>last</code> property is not a class variable(no <strong>static</strong> keyword) so each Node object will have its own <code>last</code> element. I would expect the DLL, to have a pointer to the <code>last</code> fixed at all times(point to the last Node in the entire DLL), is that incorrect?</p>\n<p>Moreover, I was thinking about implementing <code>head</code> property into that implementation, and doing a similar thing with updating it in <code>setPrevious</code> function. I would update the head if <code>setPrevious</code> was called on the head. Is that stupid, why wouldn't she implement that logic?</p>\n<p>This is the code from the book and my tries to get some output from the <code>last</code> property</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LinkedListNode {\n    public LinkedListNode next;\n    public LinkedListNode prev;\n    public LinkedListNode last;\n    public int data;\n    public LinkedListNode(int d, LinkedListNode n, LinkedListNode p) {\n        data = d;\n        setNext(n);\n        setPrevious(p);\n    }\n    \n    public LinkedListNode(int d) {\n        data = d;\n    }   \n    \n    public LinkedListNode() { }\n\n    public void setNext(LinkedListNode n) {\n        next = n;\n        if (this == last) {\n            last = n;\n        }\n        if (n != null &amp;&amp; n.prev != this) {\n            n.setPrevious(this);\n        }\n    }\n    \n    public void setPrevious(LinkedListNode p) {\n        prev = p;\n        if (p != null &amp;&amp; p.next != this) {\n            p.setNext(this);\n        }\n    }   \n    \n    public String printForward() {\n        if (next != null) {\n            return data + &quot;-&gt;&quot; + next.printForward();\n        } else {\n            return ((Integer) data).toString();\n        }\n    }\n    \n    public LinkedListNode clone() {\n        LinkedListNode next2 = null;\n        if (next != null) {\n            next2 = next.clone();\n        }\n        LinkedListNode head2 = new LinkedListNode(data, next2, null);\n        return head2;\n    }\n    public static void main(String[] args) {\n        LinkedListNode ll = new LinkedListNode(1);\n        ll.setNext(new LinkedListNode(2));\n\n        System.out.println(ll.last);\n        System.out.println(ll.next.last);\n\n        LinkedListNode firstNode = new LinkedListNode(1);\n        LinkedListNode thirdNode = new LinkedListNode(3);\n\n        LinkedListNode ll2 = new LinkedListNode(1, thirdNode, firstNode);\n        System.out.println(firstNode.last);\n        System.out.println(ll2.last);\n        System.out.println(thirdNode.last);\n        \n    }\n}\n</code></pre>\n<pre><code>&gt; null\n&gt; null\n&gt; null\n&gt; null\n&gt; null\n</code></pre>\n"},{"tags":["java","fips"],"owner":{"account_id":27739430,"reputation":11,"user_id":21176218,"display_name":"user21176218"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675899676,"creation_date":1675899676,"question_id":75392806,"body_markdown":"I am trying to configure Java to run in FIPS mode. I am running openjdk 1.8.0 and NSS 3.79.0 on an AmazonLinux2 AWS instance. As per whatever documentation I could find, I configured the java.security file (security providers and keystore.type only):\r\n\r\n    security.provider.1=sun.security.pkcs11.SunPKCS11 /opt/fipsconfig/pkcs11.cfg\r\n    security.provider.2=sun.security.provider.Sun\r\n    security.provider.3=sun.security.ec.SunEC\r\n    security.provider.4=com.sun.net.ssl.internal.ssl.Provider SunPKCS11-NSSFIPS\r\n\r\nand\r\n\r\n    keystore.type=PKCS11\r\n\r\nNext, I configured the /opt/fipsconfig/pkcs11.cfg token to be:\r\n\r\n    [root@ip-10-4-93-132 hmac-test]# cat /opt/fipsconfig/pkcs11.cfg\r\n    name = NSSFIPS\r\n    nssLibraryDirectory = /usr/lib64\r\n    nssSecmodDirectory = /etc/pki/nssdb\r\n    nssModule = fips\r\n    nssDbMode = readOnly\r\n\r\nI then verified that /etc/pki/nssdb is FIPS enabled:\r\n\r\n    modutil -chkfips true -dbdir /etc/pki/nssdb\r\n    FIPS mode enabled.\r\n\r\nAnd the token looks good:\r\n\r\n    modutil -dbdir /etc/pki/nssdb -list\r\n\r\n    Listing of PKCS #11 Modules\r\n    -----------------------------------------------------------\r\n      1. NSS Internal PKCS #11 Module\r\n           uri: pkcs11:library-manufacturer=Mozilla%20Foundation;library-description=NSS%20Internal%20Crypto%20Services;library-version=3.79\r\n         slots: 1 slot attached\r\n        status: loaded\r\n\r\n         slot: NSS FIPS 140-2 User Private Key Services\r\n        token: NSS FIPS 140-2 Certificate DB\r\n          uri: pkcs11:token=NSS%20FIPS%20140-2%20Certificate%20DB;manufacturer=Mozilla%20Foundation;serial=0000000000000000;model=NSS%203\r\n-----------------------------------------------------------\r\n\r\n\r\nUsing this demo:\r\n\r\n    [root@ip-10-4-93-132 hmac-test]# cat hmac.java\r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.security.KeyStore;\r\n\r\n        public class hmac {\r\n        public static String encode(String algorithm, String key, String data) throws Exception {\r\n            KeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;);\r\n            if (ks == null) System.out.println(&quot;ks is null&quot;);\r\n            else {\r\n                ks.load(null, null);\r\n                System.out.println(&quot;keystore PKCS11 type = &quot; + ks.getDefaultType());\r\n                System.out.println(&quot;keystore PKCS11 provider = &quot; + ks.getProvider());\r\n                System.out.println(&quot;keystore PKCS11 size = &quot; + ks.size());\r\n            }\r\n\r\n            Mac sha256_HMAC = Mac.getInstance(algorithm);\r\n            //System.out.println(&quot;HMAC Provider: &quot; + sha256_HMAC.getProvider());\r\n            SecretKeySpec secret_key = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), algorithm);\r\n            sha256_HMAC.init(secret_key);\r\n\r\n            byte[] bytes = sha256_HMAC.doFinal(data.getBytes(&quot;UTF-8&quot;));\r\n            StringBuilder result = new StringBuilder();\r\n            for (byte aByte : bytes) {\r\n                result.append(String.format(&quot;%02x&quot;, aByte));\r\n            }\r\n            return result.toString();\r\n        }\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            if (args.length != 3) {\r\n                System.out.println(&quot;Invalid Usage.\\nUsage: java hmac &lt;algorithm&gt; &lt;key&gt; &lt;data&gt;&quot;);\r\n                System.exit(-1);\r\n            }\r\n            System.out.println(encode(args[0], args[1], args[2]));\r\n        }\r\n    }\r\n\r\nproduces this error when run with the following options:\r\n\r\n    java hmac HmacSHA256 &quot;key&quot; &quot;The quick brown fox jumps over the lazy dog&quot;\r\n    keystore PKCS11 type = PKCS11\r\n    keystore PKCS11 provider = SunPKCS11-NSSFIPS version 1.8\r\n    keystore PKCS11 size = 2\r\n    Exception in thread &quot;main&quot; java.security.InvalidKeyException: Could not create key\r\n        at sun.security.pkcs11.P11SecretKeyFactory.createKey(P11SecretKeyFactory.java:274)\r\n        at sun.security.pkcs11.P11SecretKeyFactory.convertKey(P11SecretKeyFactory.java:179)\r\n        at sun.security.pkcs11.P11SecretKeyFactory.convertKey(P11SecretKeyFactory.java:111)\r\n        at sun.security.pkcs11.P11Mac.engineInit(P11Mac.java:204)\r\n        at javax.crypto.Mac.chooseProvider(Mac.java:350)\r\n        at javax.crypto.Mac.init(Mac.java:415)\r\n        at hmac.encode(hmac.java:19)\r\n        at hmac.main(hmac.java:34)\r\n    Caused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_ATTRIBUTE_VALUE_INVALID\r\n        at sun.security.pkcs11.wrapper.PKCS11.C_CreateObject(Native Method)\r\n        at sun.security.pkcs11.P11SecretKeyFactory.createKey(P11SecretKeyFactory.java:269)\r\n        ... 7 more\r\n\r\n\r\nIf I run the demo in full java debug mode, with:\r\n\r\n    java -Djava.security.debug=all hmac HmacSHA256 key &quot;The quick brown fox jumps over the lazy dog&quot;  &gt; OUT 2&gt;&amp;1\r\n \r\nThe output looks reasonable, except for the exception produced at the very end.\r\n\r\nI&#39;ve looked all over the internet for a hint on what is going wrong, but I just can&#39;t seem to find anything. I took a look at the P11SecretKeyFactory.java code, and I believe the initial exception thrown is of type PKCS11Exception (where it then prints the &quot;Could not create key&quot; and then throws the new InvalidKeyException).\r\n\r\nIn the createKey() function, I see 3 attributes are being set:\r\n\r\n            attributes[0] = new CK_ATTRIBUTE(CKA_CLASS, CKO_SECRET_KEY);\r\n            attributes[1] = new CK_ATTRIBUTE(CKA_KEY_TYPE, keyType);\r\n            attributes[2] = new CK_ATTRIBUTE(CKA_VALUE, encoded);\r\n\r\nI am wondering if one of these attributes (probably the last 2) could be producing the CKR_ATTRIBUTE_VALUE_INVALID error?\r\n\r\nHas anyone run across this and if so would you be able to provide a clue as to what is wrong?\r\n\r\nThank you.\r\n","title":"openjdk 8 running in FIPS mode produces java.security.InvalidKeyException: Could not create key","body":"<p>I am trying to configure Java to run in FIPS mode. I am running openjdk 1.8.0 and NSS 3.79.0 on an AmazonLinux2 AWS instance. As per whatever documentation I could find, I configured the java.security file (security providers and keystore.type only):</p>\n<pre><code>security.provider.1=sun.security.pkcs11.SunPKCS11 /opt/fipsconfig/pkcs11.cfg\nsecurity.provider.2=sun.security.provider.Sun\nsecurity.provider.3=sun.security.ec.SunEC\nsecurity.provider.4=com.sun.net.ssl.internal.ssl.Provider SunPKCS11-NSSFIPS\n</code></pre>\n<p>and</p>\n<pre><code>keystore.type=PKCS11\n</code></pre>\n<p>Next, I configured the /opt/fipsconfig/pkcs11.cfg token to be:</p>\n<pre><code>[root@ip-10-4-93-132 hmac-test]# cat /opt/fipsconfig/pkcs11.cfg\nname = NSSFIPS\nnssLibraryDirectory = /usr/lib64\nnssSecmodDirectory = /etc/pki/nssdb\nnssModule = fips\nnssDbMode = readOnly\n</code></pre>\n<p>I then verified that /etc/pki/nssdb is FIPS enabled:</p>\n<pre><code>modutil -chkfips true -dbdir /etc/pki/nssdb\nFIPS mode enabled.\n</code></pre>\n<p>And the token looks good:</p>\n<pre><code>modutil -dbdir /etc/pki/nssdb -list\n\nListing of PKCS #11 Modules\n-----------------------------------------------------------\n  1. NSS Internal PKCS #11 Module\n       uri: pkcs11:library-manufacturer=Mozilla%20Foundation;library-description=NSS%20Internal%20Crypto%20Services;library-version=3.79\n     slots: 1 slot attached\n    status: loaded\n\n     slot: NSS FIPS 140-2 User Private Key Services\n    token: NSS FIPS 140-2 Certificate DB\n      uri: pkcs11:token=NSS%20FIPS%20140-2%20Certificate%20DB;manufacturer=Mozilla%20Foundation;serial=0000000000000000;model=NSS%203\n</code></pre>\n<hr />\n<p>Using this demo:</p>\n<pre><code>[root@ip-10-4-93-132 hmac-test]# cat hmac.java\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.security.KeyStore;\n\n    public class hmac {\n    public static String encode(String algorithm, String key, String data) throws Exception {\n        KeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;);\n        if (ks == null) System.out.println(&quot;ks is null&quot;);\n        else {\n            ks.load(null, null);\n            System.out.println(&quot;keystore PKCS11 type = &quot; + ks.getDefaultType());\n            System.out.println(&quot;keystore PKCS11 provider = &quot; + ks.getProvider());\n            System.out.println(&quot;keystore PKCS11 size = &quot; + ks.size());\n        }\n\n        Mac sha256_HMAC = Mac.getInstance(algorithm);\n        //System.out.println(&quot;HMAC Provider: &quot; + sha256_HMAC.getProvider());\n        SecretKeySpec secret_key = new SecretKeySpec(key.getBytes(&quot;UTF-8&quot;), algorithm);\n        sha256_HMAC.init(secret_key);\n\n        byte[] bytes = sha256_HMAC.doFinal(data.getBytes(&quot;UTF-8&quot;));\n        StringBuilder result = new StringBuilder();\n        for (byte aByte : bytes) {\n            result.append(String.format(&quot;%02x&quot;, aByte));\n        }\n        return result.toString();\n    }\n\n    public static void main(String[] args) throws Exception {\n        if (args.length != 3) {\n            System.out.println(&quot;Invalid Usage.\\nUsage: java hmac &lt;algorithm&gt; &lt;key&gt; &lt;data&gt;&quot;);\n            System.exit(-1);\n        }\n        System.out.println(encode(args[0], args[1], args[2]));\n    }\n}\n</code></pre>\n<p>produces this error when run with the following options:</p>\n<pre><code>java hmac HmacSHA256 &quot;key&quot; &quot;The quick brown fox jumps over the lazy dog&quot;\nkeystore PKCS11 type = PKCS11\nkeystore PKCS11 provider = SunPKCS11-NSSFIPS version 1.8\nkeystore PKCS11 size = 2\nException in thread &quot;main&quot; java.security.InvalidKeyException: Could not create key\n    at sun.security.pkcs11.P11SecretKeyFactory.createKey(P11SecretKeyFactory.java:274)\n    at sun.security.pkcs11.P11SecretKeyFactory.convertKey(P11SecretKeyFactory.java:179)\n    at sun.security.pkcs11.P11SecretKeyFactory.convertKey(P11SecretKeyFactory.java:111)\n    at sun.security.pkcs11.P11Mac.engineInit(P11Mac.java:204)\n    at javax.crypto.Mac.chooseProvider(Mac.java:350)\n    at javax.crypto.Mac.init(Mac.java:415)\n    at hmac.encode(hmac.java:19)\n    at hmac.main(hmac.java:34)\nCaused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_ATTRIBUTE_VALUE_INVALID\n    at sun.security.pkcs11.wrapper.PKCS11.C_CreateObject(Native Method)\n    at sun.security.pkcs11.P11SecretKeyFactory.createKey(P11SecretKeyFactory.java:269)\n    ... 7 more\n</code></pre>\n<p>If I run the demo in full java debug mode, with:</p>\n<pre><code>java -Djava.security.debug=all hmac HmacSHA256 key &quot;The quick brown fox jumps over the lazy dog&quot;  &gt; OUT 2&gt;&amp;1\n</code></pre>\n<p>The output looks reasonable, except for the exception produced at the very end.</p>\n<p>I've looked all over the internet for a hint on what is going wrong, but I just can't seem to find anything. I took a look at the P11SecretKeyFactory.java code, and I believe the initial exception thrown is of type PKCS11Exception (where it then prints the &quot;Could not create key&quot; and then throws the new InvalidKeyException).</p>\n<p>In the createKey() function, I see 3 attributes are being set:</p>\n<pre><code>        attributes[0] = new CK_ATTRIBUTE(CKA_CLASS, CKO_SECRET_KEY);\n        attributes[1] = new CK_ATTRIBUTE(CKA_KEY_TYPE, keyType);\n        attributes[2] = new CK_ATTRIBUTE(CKA_VALUE, encoded);\n</code></pre>\n<p>I am wondering if one of these attributes (probably the last 2) could be producing the CKR_ATTRIBUTE_VALUE_INVALID error?</p>\n<p>Has anyone run across this and if so would you be able to provide a clue as to what is wrong?</p>\n<p>Thank you.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9330,"page":662,"page_size":100}
