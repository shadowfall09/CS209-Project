{"items":[{"tags":["java","java-9","randomaccessfile","mappedbytebuffer"],"comments":[{"owner":{"account_id":4628250,"reputation":2306,"user_id":3751431,"accept_rate":75,"display_name":"Arno_Geismar"},"score":1,"creation_date":1407743514,"post_id":25238110,"comment_id":39316824,"body_markdown":"Seems to work on my end. Have you tried looking for any running java processes and shutting them down by pressing shift+escape on windows / close all instances of the file that you might have open and running it again.","body":"Seems to work on my end. Have you tried looking for any running java processes and shutting them down by pressing shift+escape on windows / close all instances of the file that you might have open and running it again."},{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1407746688,"post_id":25238110,"comment_id":39318433,"body_markdown":"Doesn&#39;t help. I can choose any arbitrary file (guaranteed to be new), e.g. D:/temp/file2441, and still face the same issue.","body":"Doesn&#39;t help. I can choose any arbitrary file (guaranteed to be new), e.g. D:/temp/file2441, and still face the same issue."},{"owner":{"account_id":16048209,"reputation":165,"user_id":11582827,"display_name":"Vlad"},"score":1,"creation_date":1653901208,"post_id":25238110,"comment_id":127955914,"body_markdown":"This is actually a Java bug (https://bugs.openjdk.java.net/browse/JDK-4724038) and there does not seem to be a proper workaround. All the answers provided here so far are considered dangerous by the JDK team.","body":"This is actually a Java bug (<a href=\"https://bugs.openjdk.java.net/browse/JDK-4724038\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-4724038</a>) and there does not seem to be a proper workaround. All the answers provided here so far are considered dangerous by the JDK team."}],"answers":[{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1407748863,"creation_date":1407748863,"answer_id":25239834,"question_id":25238110,"body_markdown":"Try this one.\r\n\r\n    public class Test\r\n    {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tString filePath = &quot;D:/temp/file&quot;;\r\n    \t\tRandomAccessFile file = new RandomAccessFile(filePath, &quot;rw&quot;);\r\n    \t\tFileChannel chan = file.getChannel();\r\n    \t\ttry {\r\n    \t\t\tMappedByteBuffer buffer = chan.map(FileChannel.MapMode.READ_WRITE, 0, 128);\r\n    \r\n    \t\t\t// Do something\r\n    \t\t\tbuffer.putInt(4);\r\n    \t\t\tbuffer.force();\r\n    \t\t\tCleaner cleaner = ((sun.nio.ch.DirectBuffer) buffer).cleaner();\r\n    \t\t\tif (cleaner != null) {\r\n    \t\t\t\tcleaner.clean();\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\tchan.close();\r\n    \t\t\tfile.close();\r\n    \t\t\tSystem.out.println(&quot;File closed&quot;);\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Press any key...&quot;);\r\n    \t\tSystem.in.read();\r\n    \r\n    \t\tSystem.out.println(&quot;Finished&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"How to properly close MappedByteBuffer?","body":"<p>Try this one.</p>\n\n<pre><code>public class Test\n{\n    public static void main(String[] args) throws Exception {\n        String filePath = \"D:/temp/file\";\n        RandomAccessFile file = new RandomAccessFile(filePath, \"rw\");\n        FileChannel chan = file.getChannel();\n        try {\n            MappedByteBuffer buffer = chan.map(FileChannel.MapMode.READ_WRITE, 0, 128);\n\n            // Do something\n            buffer.putInt(4);\n            buffer.force();\n            Cleaner cleaner = ((sun.nio.ch.DirectBuffer) buffer).cleaner();\n            if (cleaner != null) {\n                cleaner.clean();\n            }\n        } finally {\n            chan.close();\n            file.close();\n            System.out.println(\"File closed\");\n        }\n\n        System.out.println(\"Press any key...\");\n        System.in.read();\n\n        System.out.println(\"Finished\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1518761225,"creation_date":1518761225,"answer_id":48821002,"question_id":25238110,"body_markdown":"@SANN3&#39;s answer doesn&#39;t work on Java 9 anymore. In Java 9 there is a new method `sun.misc.Unsafe.invokeCleaner` that can be used. Here is a working code:\r\n\r\n    MappedByteBuffer buffer = ...\r\n\r\n    // Java 9+ only:\r\n    Class&lt;?&gt; unsafeClass = Class.forName(&quot;sun.misc.Unsafe&quot;);\r\n    Field unsafeField = unsafeClass.getDeclaredField(&quot;theUnsafe&quot;);\r\n    unsafeField.setAccessible(true);\r\n    Object unsafe = unsafeField.get(null);\r\n    Method invokeCleaner = unsafeClass.getMethod(&quot;invokeCleaner&quot;, ByteBuffer.class);\r\n    invokeCleaner.invoke(unsafe, buffer);","title":"How to properly close MappedByteBuffer?","body":"<p>@SANN3's answer doesn't work on Java 9 anymore. In Java 9 there is a new method <code>sun.misc.Unsafe.invokeCleaner</code> that can be used. Here is a working code:</p>\n\n<pre><code>MappedByteBuffer buffer = ...\n\n// Java 9+ only:\nClass&lt;?&gt; unsafeClass = Class.forName(\"sun.misc.Unsafe\");\nField unsafeField = unsafeClass.getDeclaredField(\"theUnsafe\");\nunsafeField.setAccessible(true);\nObject unsafe = unsafeField.get(null);\nMethod invokeCleaner = unsafeClass.getMethod(\"invokeCleaner\", ByteBuffer.class);\ninvokeCleaner.invoke(unsafe, buffer);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11334062,"reputation":3,"user_id":8310593,"display_name":"Shunlong Chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638236334,"creation_date":1638236334,"answer_id":70163286,"question_id":25238110,"body_markdown":"If you are using java1.8 and cannot directly use sun.nio.ch.DirectBuffer and Cleaner, you can try:\r\n\r\n    public void clean(final ByteBuffer buffer) {\r\n        AccessController.doPrivileged((PrivilegedAction&lt;Object&gt;) () -&gt; {\r\n            try {\r\n                Field field = buffer.getClass().getDeclaredField(&quot;cleaner&quot;);\r\n                field.setAccessible(true);\r\n                Object cleaner = field.get(buffer);\r\n\r\n                Method cleanMethod = cleaner.getClass().getMethod(&quot;clean&quot;);\r\n                cleanMethod.invoke(cleaner);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        });\r\n    }","title":"How to properly close MappedByteBuffer?","body":"<p>If you are using java1.8 and cannot directly use sun.nio.ch.DirectBuffer and Cleaner, you can try:</p>\n<pre><code>public void clean(final ByteBuffer buffer) {\n    AccessController.doPrivileged((PrivilegedAction&lt;Object&gt;) () -&gt; {\n        try {\n            Field field = buffer.getClass().getDeclaredField(&quot;cleaner&quot;);\n            field.setAccessible(true);\n            Object cleaner = field.get(buffer);\n\n            Method cleanMethod = cleaner.getClass().getMethod(&quot;clean&quot;);\n            cleanMethod.invoke(cleaner);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16048209,"reputation":165,"user_id":11582827,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653906201,"creation_date":1653905704,"answer_id":72432691,"question_id":25238110,"body_markdown":"This is actually a limitation of JDK. Since the [JDK-4724038](https://bugs.openjdk.java.net/browse/JDK-4724038) which tracks this problem (even though it is marked an enhancement) in JDK says that invoking the cleanup method directly is strongly advised against (also, that the `Unsafe` class might go away in some future version of JDK), the only workaround seems to be to call the GC. If using the try-with-resources for the file, that would look like this:\r\n```java\r\ntry (RandomAccessFile file = new RandomAccessFile(filePath, &quot;rw&quot;)) {\r\n   MappedByteBuffer buffer = file.getChannel().map(FileChannel.MapMode.READ_WRITE, 0, 128);\r\n   // Do something\r\n   buffer.putInt(4);\r\n}\r\nSystem.gc();  // has to be called outside the try-with-resources block\r\n```\r\nI created https://github.com/vladak/RandomAccessFileTrap to demonstrate this - take a look at the detail of a build in the Github actions tab for this repository to see the actual results.","title":"How to properly close MappedByteBuffer?","body":"<p>This is actually a limitation of JDK. Since the <a href=\"https://bugs.openjdk.java.net/browse/JDK-4724038\" rel=\"nofollow noreferrer\">JDK-4724038</a> which tracks this problem (even though it is marked an enhancement) in JDK says that invoking the cleanup method directly is strongly advised against (also, that the <code>Unsafe</code> class might go away in some future version of JDK), the only workaround seems to be to call the GC. If using the try-with-resources for the file, that would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (RandomAccessFile file = new RandomAccessFile(filePath, &quot;rw&quot;)) {\n   MappedByteBuffer buffer = file.getChannel().map(FileChannel.MapMode.READ_WRITE, 0, 128);\n   // Do something\n   buffer.putInt(4);\n}\nSystem.gc();  // has to be called outside the try-with-resources block\n</code></pre>\n<p>I created <a href=\"https://github.com/vladak/RandomAccessFileTrap\" rel=\"nofollow noreferrer\">https://github.com/vladak/RandomAccessFileTrap</a> to demonstrate this - take a look at the detail of a build in the Github actions tab for this repository to see the actual results.</p>\n"}],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5577,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":25239834,"answer_count":4,"score":9,"last_activity_date":1653906201,"creation_date":1407742957,"question_id":25238110,"body_markdown":"This is the code I&#39;m running:\r\n\r\n    import java.io.RandomAccessFile;\r\n    import java.nio.MappedByteBuffer;\r\n    import java.nio.channels.FileChannel;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws Exception {\r\n            String filePath = &quot;D:/temp/file&quot;;\r\n            RandomAccessFile file = new RandomAccessFile(filePath, &quot;rw&quot;);\r\n    \r\n            try {\r\n                MappedByteBuffer buffer = file.getChannel().map(FileChannel.MapMode.READ_WRITE, 0, 128);\r\n    \r\n                // Do something\r\n                buffer.putInt(4);\r\n            } finally {\r\n                file.close();\r\n                System.out.println(&quot;File closed&quot;);\r\n            }\r\n    \r\n            System.out.println(&quot;Press any key...&quot;);\r\n            System.in.read();\r\n    \r\n            System.out.println(&quot;Finished&quot;);\r\n        }\r\n    }\r\n\r\nBefore pressing a key, I&#39;m trying to delete the file manually in FAR Manager. But FAR says that the file is locked:\r\n\r\n     The process cannot access the file because it is being used by another process.\r\n                         Cannot delete the file\r\n                             D:\\temp\\file\r\n                        Object is being opened in:\r\n     Java(TM) Platform SE binary (PID: 5768, C:\\Program Files\\Java\\jdk1.8.0_05\\bin\\javaw.exe)\r\n\r\nOnly after pressing a key, the application terminates and I can delete the file.\r\n\r\nWhat is wrong with my code?","title":"How to properly close MappedByteBuffer?","body":"<p>This is the code I'm running:</p>\n\n<pre><code>import java.io.RandomAccessFile;\nimport java.nio.MappedByteBuffer;\nimport java.nio.channels.FileChannel;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        String filePath = \"D:/temp/file\";\n        RandomAccessFile file = new RandomAccessFile(filePath, \"rw\");\n\n        try {\n            MappedByteBuffer buffer = file.getChannel().map(FileChannel.MapMode.READ_WRITE, 0, 128);\n\n            // Do something\n            buffer.putInt(4);\n        } finally {\n            file.close();\n            System.out.println(\"File closed\");\n        }\n\n        System.out.println(\"Press any key...\");\n        System.in.read();\n\n        System.out.println(\"Finished\");\n    }\n}\n</code></pre>\n\n<p>Before pressing a key, I'm trying to delete the file manually in FAR Manager. But FAR says that the file is locked:</p>\n\n<pre><code> The process cannot access the file because it is being used by another process.\n                     Cannot delete the file\n                         D:\\temp\\file\n                    Object is being opened in:\n Java(TM) Platform SE binary (PID: 5768, C:\\Program Files\\Java\\jdk1.8.0_05\\bin\\javaw.exe)\n</code></pre>\n\n<p>Only after pressing a key, the application terminates and I can delete the file.</p>\n\n<p>What is wrong with my code?</p>\n"},{"tags":["java","eclipse","command-line"],"comments":[{"owner":{"account_id":8722,"reputation":10944,"user_id":15852,"accept_rate":94,"display_name":"Kieveli"},"score":3,"creation_date":1253044731,"post_id":206473,"comment_id":1273299,"body_markdown":"How is there not a plugin / jar for this!!","body":"How is there not a plugin / jar for this!!"},{"owner":{"account_id":8722,"reputation":10944,"user_id":15852,"accept_rate":94,"display_name":"Kieveli"},"score":1,"creation_date":1253111779,"post_id":206473,"comment_id":1277851,"body_markdown":"Ok... I added a new correct answer.","body":"Ok... I added a new correct answer."}],"answers":[{"tags":[],"owner":{"account_id":5888,"reputation":13051,"user_id":9683,"accept_rate":75,"display_name":"Andr&#233;"},"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1224104965,"creation_date":1224104965,"answer_id":206497,"question_id":206473,"body_markdown":"The normal apporoach works the other way around: You create your build based upon [maven][1] or [ant][2] and then use integrations for your IDE of choice so that you are independent from it, which is esp. important when you try to bring new team members up to speed or use a contious integration server for automated builds. I recommend to use maven and let it do the heavy lifting for you. Create a pom file and generate the eclipse project via mvn eclipse:eclipse. HTH\r\n\r\n\r\n  [1]: http://maven.apache.org/\r\n  [2]: http://ant.apache.org","title":"Build Eclipse Java Project from Command Line","body":"<p>The normal apporoach works the other way around: You create your build based upon <a href=\"http://maven.apache.org/\" rel=\"noreferrer\">maven</a> or <a href=\"http://ant.apache.org\" rel=\"noreferrer\">ant</a> and then use integrations for your IDE of choice so that you are independent from it, which is esp. important when you try to bring new team members up to speed or use a contious integration server for automated builds. I recommend to use maven and let it do the heavy lifting for you. Create a pom file and generate the eclipse project via mvn eclipse:eclipse. HTH</p>\n"},{"tags":[],"owner":{"account_id":7492,"reputation":63517,"user_id":13051,"accept_rate":68,"display_name":"JesperE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1224105005,"creation_date":1224105005,"answer_id":206502,"question_id":206473,"body_markdown":"[This question][1] contains some useful links on headless builds, but they are mostly geared towards building plugins. I&#39;m not sure how much of it can be applied to pure Java projects.\r\n\r\n  [1]:  https://stackoverflow.com/questions/133234/building-eclipse-plugins-and-features-on-the-command-line","title":"Build Eclipse Java Project from Command Line","body":"<p><a href=\"https://stackoverflow.com/questions/133234/building-eclipse-plugins-and-features-on-the-command-line\">This question</a> contains some useful links on headless builds, but they are mostly geared towards building plugins. I'm not sure how much of it can be applied to pure Java projects.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1479197027,"creation_date":1224106337,"answer_id":206587,"question_id":206473,"body_markdown":"To complete Andr&#233;&#39;s answer, an ant solution could be like the one described in [Emacs, JDEE, Ant, and the Eclipse Java Compiler][1], as in:\r\n\r\n          &lt;javac\r\n              srcdir=&quot;${src}&quot;\r\n              destdir=&quot;${build.dir}/classes&quot;&gt; \r\n            &lt;compilerarg \r\n               compiler=&quot;org.eclipse.jdt.core.JDTCompilerAdapter&quot; \r\n               line=&quot;-warn:+unused -Xemacs&quot;/&gt;\r\n            &lt;classpath refid=&quot;compile.classpath&quot; /&gt;\r\n          &lt;/javac&gt;\r\n\r\nThe compilerarg element also allows you to pass in additional command line args to the eclipse compiler.\r\n\r\nYou can find a [full ant script example here][2] which would be ***invoked in a command line*** with:\r\n\r\n    java -cp C:/eclipse-SDK-3.4-win32/eclipse/plugins/org.eclipse.equinox.launcher_1.0.100.v20080509-1800.jar org.eclipse.core.launcher.Main -data &quot;C:\\Documents and Settings\\Administrator\\workspace&quot; -application org.eclipse.ant.core.antRunner -buildfile build.xml -verbose\r\n\r\n-------------------\r\n\r\nBUT all that involves ant, which is not what Keith is after.\r\n\r\nFor a batch compilation, please refer to **[Compiling Java code][3]**, especially the section &quot;***Using the batch compiler***&quot;\r\n\r\n&gt; The batch compiler class is located in the JDT Core plug-in. The name of the class is org.eclipse.jdt.compiler.batch.BatchCompiler. It is packaged into plugins/org.eclipse.jdt.core_3.4.0.&lt;qualifier&gt;.jar. Since 3.2, it is also available as a separate download. The name of the file is ecj.jar.  \r\n&gt; Since 3.3, this jar also contains the support for jsr199 (Compiler API) and the support for jsr269 (Annotation processing). In order to use the annotations processing support, a 1.6 VM is required.\r\n\r\nRunning the batch compiler From the command line would give\r\n\r\n    java -jar org.eclipse.jdt.core_3.4.0&lt;qualifier&gt;.jar -classpath rt.jar A.java\r\n\r\nor:\r\n\r\n    java -jar ecj.jar -classpath rt.jar A.java\r\n\r\nAll java compilation options are detailed in that section as well.\r\n\r\nThe difference with the Visual Studio command line compilation feature is that ***Eclipse does not seem to directly read its .project and .classpath in a command-line argument***. You have to report all information contained in the .project and .classpath in various command-line options in order to achieve the very same compilation result.\r\n\r\nSo, then short answer is: &quot;yes, Eclipse kind of does.&quot; ;)\r\n\r\n  [1]: http://www.emacsblog.org/2007/02/13/emacs-jdee-ant-and-the-eclipse-java-compiler/\r\n  [2]: http://dev.eclipse.org/newslists/news.eclipse.platform.rcp/msg31872.html\r\n  [3]: http://help.eclipse.org/neon/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Fguide%2Fjdt_api_compile.htm","title":"Build Eclipse Java Project from Command Line","body":"<p>To complete André's answer, an ant solution could be like the one described in <a href=\"http://www.emacsblog.org/2007/02/13/emacs-jdee-ant-and-the-eclipse-java-compiler/\" rel=\"nofollow noreferrer\">Emacs, JDEE, Ant, and the Eclipse Java Compiler</a>, as in:</p>\n\n<pre><code>      &lt;javac\n          srcdir=\"${src}\"\n          destdir=\"${build.dir}/classes\"&gt; \n        &lt;compilerarg \n           compiler=\"org.eclipse.jdt.core.JDTCompilerAdapter\" \n           line=\"-warn:+unused -Xemacs\"/&gt;\n        &lt;classpath refid=\"compile.classpath\" /&gt;\n      &lt;/javac&gt;\n</code></pre>\n\n<p>The compilerarg element also allows you to pass in additional command line args to the eclipse compiler.</p>\n\n<p>You can find a <a href=\"http://dev.eclipse.org/newslists/news.eclipse.platform.rcp/msg31872.html\" rel=\"nofollow noreferrer\">full ant script example here</a> which would be <strong><em>invoked in a command line</em></strong> with:</p>\n\n<pre><code>java -cp C:/eclipse-SDK-3.4-win32/eclipse/plugins/org.eclipse.equinox.launcher_1.0.100.v20080509-1800.jar org.eclipse.core.launcher.Main -data \"C:\\Documents and Settings\\Administrator\\workspace\" -application org.eclipse.ant.core.antRunner -buildfile build.xml -verbose\n</code></pre>\n\n<hr>\n\n<p>BUT all that involves ant, which is not what Keith is after.</p>\n\n<p>For a batch compilation, please refer to <strong><a href=\"http://help.eclipse.org/neon/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Fguide%2Fjdt_api_compile.htm\" rel=\"nofollow noreferrer\">Compiling Java code</a></strong>, especially the section \"<strong><em>Using the batch compiler</em></strong>\"</p>\n\n<blockquote>\n  <p>The batch compiler class is located in the JDT Core plug-in. The name of the class is org.eclipse.jdt.compiler.batch.BatchCompiler. It is packaged into plugins/org.eclipse.jdt.core_3.4.0..jar. Since 3.2, it is also available as a separate download. The name of the file is ecj.jar.<br>\n  Since 3.3, this jar also contains the support for jsr199 (Compiler API) and the support for jsr269 (Annotation processing). In order to use the annotations processing support, a 1.6 VM is required.</p>\n</blockquote>\n\n<p>Running the batch compiler From the command line would give</p>\n\n<pre><code>java -jar org.eclipse.jdt.core_3.4.0&lt;qualifier&gt;.jar -classpath rt.jar A.java\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>java -jar ecj.jar -classpath rt.jar A.java\n</code></pre>\n\n<p>All java compilation options are detailed in that section as well.</p>\n\n<p>The difference with the Visual Studio command line compilation feature is that <strong><em>Eclipse does not seem to directly read its .project and .classpath in a command-line argument</em></strong>. You have to report all information contained in the .project and .classpath in various command-line options in order to achieve the very same compilation result.</p>\n\n<p>So, then short answer is: \"yes, Eclipse kind of does.\" ;)</p>\n"},{"tags":[],"owner":{"account_id":8074,"reputation":44063,"user_id":14316,"accept_rate":53,"display_name":"pdeva"},"down_vote_count":7,"up_vote_count":5,"is_accepted":false,"score":-2,"last_activity_date":1224129549,"creation_date":1224129549,"answer_id":207392,"question_id":206473,"body_markdown":"Short answer. No.\r\nEclipse does not have a command line switch like Visual Studio to build a project.","title":"Build Eclipse Java Project from Command Line","body":"<p>Short answer. No.\nEclipse does not have a command line switch like Visual Studio to build a project.</p>\n"},{"tags":[],"owner":{"display_name":"Kulbir Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1228208663,"creation_date":1228208663,"answer_id":333407,"question_id":206473,"body_markdown":"Hi Just addition to VonC comments. I am using ecj compiler to compile my project. it was throwing expcetion that some of the classes are not found. But the project was bulding fine with javac compiler.\r\n\r\nSo just I added the classes into the classpath(which we have to pass as argument) and now its working fine... :)\r\n\r\nKulbir Singh","title":"Build Eclipse Java Project from Command Line","body":"<p>Hi Just addition to VonC comments. I am using ecj compiler to compile my project. it was throwing expcetion that some of the classes are not found. But the project was bulding fine with javac compiler.</p>\n\n<p>So just I added the classes into the classpath(which we have to pass as argument) and now its working fine... :)</p>\n\n<p>Kulbir Singh</p>\n"},{"tags":[],"owner":{"account_id":8722,"reputation":10944,"user_id":15852,"accept_rate":94,"display_name":"Kieveli"},"down_vote_count":0,"up_vote_count":68,"is_accepted":true,"score":68,"last_activity_date":1486772661,"creation_date":1253111912,"answer_id":1433396,"question_id":206473,"body_markdown":"You can build an eclipse project via a workspace from the command line:\r\n\r\n    eclipsec.exe -noSplash -data &quot;D:\\Source\\MyProject\\workspace&quot; -application org.eclipse.jdt.apt.core.aptBuild\r\n\r\nIt uses the `jdt apt` plugin to build your workspace automatically.  This is also known as a &#39;Headless Build&#39;. Damn hard to figure out.  If you&#39;re not using a win32 exe, you can try this:\r\n\r\n    java -cp startup.jar -noSplash -data &quot;D:\\Source\\MyProject\\workspace&quot; -application org.eclipse.jdt.apt.core.aptBuild\r\n\r\n**Update**\r\n\r\nSeveral years ago eclipse replaced `startup.jar` with the &quot;equinox launcher&quot;\r\n\r\nhttps://wiki.eclipse.org/Equinox_Launcher\r\n\r\nOn Eclipse Mars (MacOX):\r\n\r\n    java -jar /Applications/Eclipse.app/Contents/Eclipse/plugins/org.eclipse.equinox.launcher_1.3.100.v20150511-1540.jar -noSplash -data &quot;workspace&quot; -application org.eclipse.jdt.apt.core.aptBuild\r\n\r\nThe `-data` parameter specifies the location of your workspace.\r\n\r\nThe version number for the equinox launcher will depend on what version of eclipse you have.\r\n","title":"Build Eclipse Java Project from Command Line","body":"<p>You can build an eclipse project via a workspace from the command line:</p>\n\n<pre><code>eclipsec.exe -noSplash -data \"D:\\Source\\MyProject\\workspace\" -application org.eclipse.jdt.apt.core.aptBuild\n</code></pre>\n\n<p>It uses the <code>jdt apt</code> plugin to build your workspace automatically.  This is also known as a 'Headless Build'. Damn hard to figure out.  If you're not using a win32 exe, you can try this:</p>\n\n<pre><code>java -cp startup.jar -noSplash -data \"D:\\Source\\MyProject\\workspace\" -application org.eclipse.jdt.apt.core.aptBuild\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Several years ago eclipse replaced <code>startup.jar</code> with the \"equinox launcher\"</p>\n\n<p><a href=\"https://wiki.eclipse.org/Equinox_Launcher\" rel=\"noreferrer\">https://wiki.eclipse.org/Equinox_Launcher</a></p>\n\n<p>On Eclipse Mars (MacOX):</p>\n\n<pre><code>java -jar /Applications/Eclipse.app/Contents/Eclipse/plugins/org.eclipse.equinox.launcher_1.3.100.v20150511-1540.jar -noSplash -data \"workspace\" -application org.eclipse.jdt.apt.core.aptBuild\n</code></pre>\n\n<p>The <code>-data</code> parameter specifies the location of your workspace.</p>\n\n<p>The version number for the equinox launcher will depend on what version of eclipse you have.</p>\n"},{"tags":[],"owner":{"account_id":3347810,"reputation":965,"user_id":2812597,"display_name":"Charles Thomas"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1380562234,"creation_date":1380559934,"answer_id":19099609,"question_id":206473,"body_markdown":"After 27 years, I too, am uncomfortable developing in an IDE.   I tried these suggestions (above) - and probably just didn&#39;t follow everything right -- so I did a web-search and found what worked for me at &#39;http://incise.org/android-development-on-the-command-line.html&#39;.\r\n\r\nThe answer seemed to be a combination of all the answers above (please tell me if I&#39;m wrong and accept my apologies if so).\r\n\r\nAs mentioned above, eclipse/adt does not create the necessary ant files.  In order to compile without eclipse IDE (and without creating ant scripts):\r\n\r\n1) Generate build.xml in your top level directory:\r\n\r\n    android list targets  (to get target id used below)\r\n\r\n    android update project --target target_id --name project_name  --path top_level_directory\r\n\r\n       ** my sample project had a target_id of 1 and a project name of &#39;t1&#39;, and \r\n       I am building from the top level directory of project\r\n       my command line looks like android update project --target 1 --name t1 --path `pwd`\r\n\r\n\r\n2) Next I compile the project.  I was a little confused by the request to not use &#39;ant&#39;.\r\n   Hopefully -- requester meant that he didn&#39;t want to write any ant scripts.  I say this \r\n   because the next step is to compile the application using ant\r\n\r\n     ant target\r\n\r\n        this confused me a little bit, because i thought they were talking about the\r\n        android device, but they&#39;re not.  It&#39;s the mode  (debug/release)\r\n        my command line looks like  ant debug\r\n\r\n\r\n3) To install the apk onto the device I had to use ant again:\r\n\r\n     ant target install\r\n\r\n        ** my command line looked like  ant debug install\r\n\r\n\r\n4) To run the project on my android phone I use adb.\r\n\r\n     adb shell &#39;am start -n your.project.name/.activity&#39;\r\n\r\n        ** Again there was some confusion as to what exactly I had to use for project \r\n        My command line looked like adb shell &#39;am start -n com.example.t1/.MainActivity&#39;\r\n        I also found that if you type &#39;adb shell&#39; you get put to a cli shell interface\r\n        where you can do just about anything from there.\r\n\r\n\r\n3A) A side note: To view the log from device use:\r\n\r\n     adb logcat\r\n\r\n\r\n3B) A second side note: The link mentioned above also includes instructions for building the entire project from the command.\r\n\r\nHopefully, this will help with the question.  I know I was really happy to find *anything* about this topic here.\r\n\r\n","title":"Build Eclipse Java Project from Command Line","body":"<p>After 27 years, I too, am uncomfortable developing in an IDE.   I tried these suggestions (above) - and probably just didn't follow everything right -- so I did a web-search and found what worked for me at '<a href=\"http://incise.org/android-development-on-the-command-line.html\" rel=\"noreferrer\">http://incise.org/android-development-on-the-command-line.html</a>'.</p>\n\n<p>The answer seemed to be a combination of all the answers above (please tell me if I'm wrong and accept my apologies if so).</p>\n\n<p>As mentioned above, eclipse/adt does not create the necessary ant files.  In order to compile without eclipse IDE (and without creating ant scripts):</p>\n\n<p>1) Generate build.xml in your top level directory:</p>\n\n<pre><code>android list targets  (to get target id used below)\n\nandroid update project --target target_id --name project_name  --path top_level_directory\n\n   ** my sample project had a target_id of 1 and a project name of 't1', and \n   I am building from the top level directory of project\n   my command line looks like android update project --target 1 --name t1 --path `pwd`\n</code></pre>\n\n<p>2) Next I compile the project.  I was a little confused by the request to not use 'ant'.\n   Hopefully -- requester meant that he didn't want to write any ant scripts.  I say this \n   because the next step is to compile the application using ant</p>\n\n<pre><code> ant target\n\n    this confused me a little bit, because i thought they were talking about the\n    android device, but they're not.  It's the mode  (debug/release)\n    my command line looks like  ant debug\n</code></pre>\n\n<p>3) To install the apk onto the device I had to use ant again:</p>\n\n<pre><code> ant target install\n\n    ** my command line looked like  ant debug install\n</code></pre>\n\n<p>4) To run the project on my android phone I use adb.</p>\n\n<pre><code> adb shell 'am start -n your.project.name/.activity'\n\n    ** Again there was some confusion as to what exactly I had to use for project \n    My command line looked like adb shell 'am start -n com.example.t1/.MainActivity'\n    I also found that if you type 'adb shell' you get put to a cli shell interface\n    where you can do just about anything from there.\n</code></pre>\n\n<p>3A) A side note: To view the log from device use:</p>\n\n<pre><code> adb logcat\n</code></pre>\n\n<p>3B) A second side note: The link mentioned above also includes instructions for building the entire project from the command.</p>\n\n<p>Hopefully, this will help with the question.  I know I was really happy to find <em>anything</em> about this topic here.</p>\n"},{"tags":[],"owner":{"account_id":2476951,"reputation":63,"user_id":2157385,"display_name":"jkwinn26"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433375212,"creation_date":1433375212,"answer_id":30632723,"question_id":206473,"body_markdown":"Just wanted to add my two cents to this. I tried doing as @Kieveli suggested for non win32 (repeated below) but it didn&#39;t work for me (on CentOS with Eclipse: Luna):\r\n\r\n    java -cp startup.jar -noSplash -data &quot;D:\\Source\\MyProject\\workspace&quot; -application org.eclipse.jdt.apt.core.aptBuild\r\n\r\n\r\nOn my particular setup on CentOS using Eclipse (Luna) this worked:\r\n\r\n    $ECLIPSE_HOME/eclipse -nosplash -application org.eclipse.jdt.apt.core.aptBuild  startup.jar -data ~/workspace\r\n\r\nThe output should look something like this:\r\n\r\n    Building workspace\r\n    Building &#39;/RemoteSystemsTempFiles&#39;\r\n    Building &#39;/test&#39;\r\n    Invoking &#39;Java Builder&#39; on &#39;/test&#39;.\r\n    Cleaning output folder for test\r\n    Build done\r\n    Building workspace\r\n    Building &#39;/RemoteSystemsTempFiles&#39;\r\n    Building &#39;/test&#39;\r\n    Invoking &#39;Java Builder&#39; on &#39;/test&#39;.\r\n    Preparing to build test\r\n    Cleaning output folder for test\r\n    Copying resources to the output folder\r\n    Analyzing sources\r\n    Compiling test/src/com/company/test/tool\r\n    Build done\r\n\r\nNot quite sure why it apparently did it twice, but it seems to work.","title":"Build Eclipse Java Project from Command Line","body":"<p>Just wanted to add my two cents to this. I tried doing as @Kieveli suggested for non win32 (repeated below) but it didn't work for me (on CentOS with Eclipse: Luna):</p>\n\n<pre><code>java -cp startup.jar -noSplash -data \"D:\\Source\\MyProject\\workspace\" -application org.eclipse.jdt.apt.core.aptBuild\n</code></pre>\n\n<p>On my particular setup on CentOS using Eclipse (Luna) this worked:</p>\n\n<pre><code>$ECLIPSE_HOME/eclipse -nosplash -application org.eclipse.jdt.apt.core.aptBuild  startup.jar -data ~/workspace\n</code></pre>\n\n<p>The output should look something like this:</p>\n\n<pre><code>Building workspace\nBuilding '/RemoteSystemsTempFiles'\nBuilding '/test'\nInvoking 'Java Builder' on '/test'.\nCleaning output folder for test\nBuild done\nBuilding workspace\nBuilding '/RemoteSystemsTempFiles'\nBuilding '/test'\nInvoking 'Java Builder' on '/test'.\nPreparing to build test\nCleaning output folder for test\nCopying resources to the output folder\nAnalyzing sources\nCompiling test/src/com/company/test/tool\nBuild done\n</code></pre>\n\n<p>Not quite sure why it apparently did it twice, but it seems to work.</p>\n"},{"tags":[],"owner":{"account_id":25425917,"reputation":11,"user_id":19231107,"display_name":"Ashkan Ansarifard"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653906201,"creation_date":1653906201,"answer_id":72432790,"question_id":206473,"body_markdown":"I wanted to just add this comment to this question for anyone who may encounter this issue in the future.\r\n\r\nOnce, I was working on a project and building complex and inter-related JAVA projects from CMD (using ECLIPSE) was my only option. So, all you need to is this:\r\n\r\n- Download your desired ECLIPSE IDE (tested it with ECLIPSE OXYGEN, Eclipse IDE for Enterprise Java and Web Developers and Eclipse IDE for Java Developers and it works fine)\r\n\r\n- Open your project in the ECLIPSE and change the ECLIPSE configuration based on your project\r\n\r\n- Close the ECLIPSE and save the .metadata created from your ECLIPSE (If your workspace is going to be refreshed in the future)\r\n\r\n- Run this script in the CMD:\r\n\r\n```\r\n&quot;%ECLIPSE_IDE%\\eclipsec.exe&quot; -noSplash -data &quot;YOUR_WORKSPACE&quot; -application org.eclipse.jdt.apt.core.aptBuild\r\n```\r\n\r\n**So, all I wanted to say is that, I could not build using the above commands without the .metadata being in the workspace. Make sure it exists there. If you need, make a copy of .metadata and copy-paste it each time your want to execute the commands.**\r\n","title":"Build Eclipse Java Project from Command Line","body":"<p>I wanted to just add this comment to this question for anyone who may encounter this issue in the future.</p>\n<p>Once, I was working on a project and building complex and inter-related JAVA projects from CMD (using ECLIPSE) was my only option. So, all you need to is this:</p>\n<ul>\n<li><p>Download your desired ECLIPSE IDE (tested it with ECLIPSE OXYGEN, Eclipse IDE for Enterprise Java and Web Developers and Eclipse IDE for Java Developers and it works fine)</p>\n</li>\n<li><p>Open your project in the ECLIPSE and change the ECLIPSE configuration based on your project</p>\n</li>\n<li><p>Close the ECLIPSE and save the .metadata created from your ECLIPSE (If your workspace is going to be refreshed in the future)</p>\n</li>\n<li><p>Run this script in the CMD:</p>\n</li>\n</ul>\n<pre><code>&quot;%ECLIPSE_IDE%\\eclipsec.exe&quot; -noSplash -data &quot;YOUR_WORKSPACE&quot; -application org.eclipse.jdt.apt.core.aptBuild\n</code></pre>\n<p><strong>So, all I wanted to say is that, I could not build using the above commands without the .metadata being in the workspace. Make sure it exists there. If you need, make a copy of .metadata and copy-paste it each time your want to execute the commands.</strong></p>\n"}],"owner":{"account_id":3606,"reputation":4550,"user_id":5208,"accept_rate":60,"display_name":"Keith G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119667,"favorite_count":0,"down_vote_count":0,"up_vote_count":129,"accepted_answer_id":1433396,"answer_count":9,"score":129,"last_activity_date":1653906201,"creation_date":1224104458,"question_id":206473,"body_markdown":"Is there a way to compile an Eclipse-based Java project from the command line? \r\n\r\nI&#39;m trying to automate my build (using FinalBuilder not ant), and I&#39;m neither a Java nor Eclipse expert. I can probably figure out how to do this with straight java command line options, but then the Eclipse project feels like a lot of wasted effort. \r\n\r\nIn the event that there is no way to compile an Eclipse project via the command line, is there a way to generate the required java command line from within Eclipse? Or are there some files I can poke around to find the compile steps it is doing behind the scenes? \r\n\r\n---\r\n\r\nGuys, I&#39;m looking for an answer that does *NOT* include ant. Let me re-iterate the original question ....... Is there a way to build an Eclipse project from the command line?\r\n\r\n  [1]: http://ant4eclipse.sourceforge.net/ant-for-eclipse-home.html\r\n\r\n\r\n\r\nI don&#39;t think this is an unreasonable question given that I can do something like this for visual studio:\r\n\r\n    devenv.exe /build &quot;Debug|Any CPU&quot; &quot;C:\\Projects\\MyProject\\source\\MyProject.sln&quot;\r\n\r\n","title":"Build Eclipse Java Project from Command Line","body":"<p>Is there a way to compile an Eclipse-based Java project from the command line? </p>\n\n<p>I'm trying to automate my build (using FinalBuilder not ant), and I'm neither a Java nor Eclipse expert. I can probably figure out how to do this with straight java command line options, but then the Eclipse project feels like a lot of wasted effort. </p>\n\n<p>In the event that there is no way to compile an Eclipse project via the command line, is there a way to generate the required java command line from within Eclipse? Or are there some files I can poke around to find the compile steps it is doing behind the scenes? </p>\n\n<hr>\n\n<p>Guys, I'm looking for an answer that does <em>NOT</em> include ant. Let me re-iterate the original question ....... Is there a way to build an Eclipse project from the command line?</p>\n\n<p>I don't think this is an unreasonable question given that I can do something like this for visual studio:</p>\n\n<pre><code>devenv.exe /build \"Debug|Any CPU\" \"C:\\Projects\\MyProject\\source\\MyProject.sln\"\n</code></pre>\n"},{"tags":["java","sql-server","jdbc","jtds"],"comments":[{"owner":{"account_id":2312068,"reputation":90341,"user_id":2029983,"display_name":"Thom A"},"score":3,"creation_date":1653850255,"post_id":72426172,"comment_id":127946526,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":2,"creation_date":1653863586,"post_id":72426172,"comment_id":127948945,"body_markdown":"`net.sourceforge.jtds` is a namespace, not a class. Have you tried `Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;)` instead? Is the `jtds.jar` file in your classpath? Ref: [Why do I get a ClassNotFoundError when calling Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;)?](http://jtds.sourceforge.net/faq.html#classNotFound)","body":"<code>net.sourceforge.jtds</code> is a namespace, not a class. Have you tried <code>Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;)</code> instead? Is the <code>jtds.jar</code> file in your classpath? Ref: <a href=\"http://jtds.sourceforge.net/faq.html#classNotFound\" rel=\"nofollow noreferrer\">Why do I get a ClassNotFoundError when calling Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;)?</a>"}],"owner":{"account_id":24822097,"reputation":1,"user_id":18702327,"display_name":"Chris2321"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653906111,"creation_date":1653848242,"question_id":72426172,"body_markdown":"I&#39;m trying to connect with SQL Server local database, I connected with it successfully from IntelliJ level, and there was information that I need to install jTDS driver to use it. I downloaded latest version of it and added as a library from my lib dir in project, despite this java says that it couldn&#39;t find the class, maybe I installed it wrong? Here is my code \r\n\r\n\r\n```\r\nimport java.sql.*;\r\n\r\npublic class Main {\r\n    public static void main(String [] args) throws ClassNotFoundException, SQLException {\r\n        Class.forName(&quot;net.sourceforge.jtds&quot;);\r\n        Connection connection = DriverManager.getConnection(&quot;jdbc:jtds:sqlserver://./TPO&quot;);\r\n        Statement statement = connection.createStatement();\r\n        String sqlString = &quot;SELECT * FROM Books&quot;;\r\n        ResultSet resultSet = statement.executeQuery(sqlString);\r\n        while (resultSet.next()) {\r\n            System.out.println(resultSet.getString(1));\r\n        }\r\n    }\r\n}\r\n```\r\n![Error output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4DUgS.png","title":"Why my Java project doesn&#39;t see my jTDS database driver","body":"<p>I'm trying to connect with SQL Server local database, I connected with it successfully from IntelliJ level, and there was information that I need to install jTDS driver to use it. I downloaded latest version of it and added as a library from my lib dir in project, despite this java says that it couldn't find the class, maybe I installed it wrong? Here is my code</p>\n<pre><code>import java.sql.*;\n\npublic class Main {\n    public static void main(String [] args) throws ClassNotFoundException, SQLException {\n        Class.forName(&quot;net.sourceforge.jtds&quot;);\n        Connection connection = DriverManager.getConnection(&quot;jdbc:jtds:sqlserver://./TPO&quot;);\n        Statement statement = connection.createStatement();\n        String sqlString = &quot;SELECT * FROM Books&quot;;\n        ResultSet resultSet = statement.executeQuery(sqlString);\n        while (resultSet.next()) {\n            System.out.println(resultSet.getString(1));\n        }\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/4DUgS.png\" alt=\"Error output\" /></p>\n"},{"tags":["java","maven","maven-shade-plugin"],"owner":{"account_id":20542122,"reputation":21,"user_id":15076829,"display_name":"mikkmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653906020,"creation_date":1653906020,"question_id":72432749,"body_markdown":"I have two projects. Project A has only resources. Project B has resources and class files. Project B has 3rd party dependencies. I have installed the jar for the project B to local repository (mvn install). If I use Maven Shade plugin in project A&#39;s pom.xml like this:\r\n\r\n    \t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\r\n\t\t\t\t\t\t\t&lt;filters&gt;\r\n\t\t\t\t\t\t\t\t&lt;filter&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;artifact&gt;com.company.*:*&lt;/artifact&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;include&gt;**&lt;/include&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n\t\t\t\t\t\t\t\t&lt;/filter&gt;\r\n\t\t\t\t\t\t\t&lt;/filters&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\nThen apparently also the *dependencies* of project B will be added to the jar, because I can see a huge number of class files in the uber jar. I only want to add the contents of the jar of project B to the uber jar (in addition to the resources from project A). How do you accomplish this?","title":"How do you add contents of two jars to uber jar with Maven shade plugin?","body":"<p>I have two projects. Project A has only resources. Project B has resources and class files. Project B has 3rd party dependencies. I have installed the jar for the project B to local repository (mvn install). If I use Maven Shade plugin in project A's pom.xml like this:</p>\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n                        &lt;filters&gt;\n                            &lt;filter&gt;\n                                &lt;artifact&gt;com.company.*:*&lt;/artifact&gt;\n                                &lt;includes&gt;\n                                    &lt;include&gt;**&lt;/include&gt;\n                                &lt;/includes&gt;\n                            &lt;/filter&gt;\n                        &lt;/filters&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Then apparently also the <em>dependencies</em> of project B will be added to the jar, because I can see a huge number of class files in the uber jar. I only want to add the contents of the jar of project B to the uber jar (in addition to the resources from project A). How do you accomplish this?</p>\n"},{"tags":["java","jvm","specifications","java-memory-model"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1653629272,"post_id":72400144,"comment_id":127901586,"body_markdown":"In this context, working memory is the same as the thread stack.","body":"In this context, working memory is the same as the thread stack."}],"answers":[{"tags":[],"owner":{"account_id":315980,"reputation":10348,"user_id":631911,"display_name":"Tatarize"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653622407,"creation_date":1653622407,"answer_id":72400181,"question_id":72400144,"body_markdown":"No. You can have access working memory. You don&#39;t really have access to caches. You aren&#39;t supposed to know what&#39;s in there and it does some look-ahead fetching and saving of previous values in the CPU cache. If done right a cache is supposed to be invisible and just speeds things up behind the scenes. Actual working memory stores things for work, etc.","title":"Is JVM working memory the same as CPU cache","body":"<p>No. You can have access working memory. You don't really have access to caches. You aren't supposed to know what's in there and it does some look-ahead fetching and saving of previous values in the CPU cache. If done right a cache is supposed to be invisible and just speeds things up behind the scenes. Actual working memory stores things for work, etc.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653905136,"creation_date":1653905136,"answer_id":72432572,"question_id":72400144,"body_markdown":"You are looking at the oldest specification that is [still online at Oracle][overview page] (at the bottom of the page). We’re talking about nothing less than 16 years having passed since the release of this document. But even within the outdated document, you’ve found a chapter that was outdated by the time of the release already.\r\n\r\nAs the [beginning of the chapter] states.\r\n\r\n&gt; It has been adapted with minimal changes from Chapter 17 of the first edition of *The Java™ Language Specification*, by James Gosling, Bill Joy, and Guy Steele.\r\n\r\nNote that it says that it is based on **the first edition** of the JLS whereas, when you look at the [overview page] you’ll notice that **the third edition** of the JLS was the right one to describe the behavior of Java&#160;6. It’s worth knowing the historical context, i.e. that for Java&#160;5, the Java Memory Model has been completely rewritten, so we’re not talking about minor changes between the three editions of the Java Language Specification.\r\n\r\nStarting with the Java&#160;7 version of the Java Virtual Machine Specification, there are no copies of the JLS sections anymore, so there’s no risk of getting out of sync again. The authoritative source of the Java Memory Model is the [language specification’s chapter].\r\n\r\nIt doesn’t use the terms “working memory” nor “master copy” at all, which is a good thing, as it is wrong to think about the JVM’s state as having some kind of absolute truth in a main memory.\r\n\r\nIf you want to know more about the JLS or JVMS, you should start with the newest specifications, at the beginning of the [overview page] and only if you have a reason to assume that there might be a historical difference you have to know, consult an older specification.\r\n\r\n[overview page]: https://docs.oracle.com/javase/specs/index.html\r\n[beginning of the chapter]: https://docs.oracle.com/javase/specs/jvms/se6/html/Threads.doc.html\r\n[language specification’s chapter]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html","title":"Is JVM working memory the same as CPU cache","body":"<p>You are looking at the oldest specification that is <a href=\"https://docs.oracle.com/javase/specs/index.html\" rel=\"nofollow noreferrer\">still online at Oracle</a> (at the bottom of the page). We’re talking about nothing less than 16 years having passed since the release of this document. But even within the outdated document, you’ve found a chapter that was outdated by the time of the release already.</p>\n<p>As the <a href=\"https://docs.oracle.com/javase/specs/jvms/se6/html/Threads.doc.html\" rel=\"nofollow noreferrer\">beginning of the chapter</a> states.</p>\n<blockquote>\n<p>It has been adapted with minimal changes from Chapter 17 of the first edition of <em>The Java™ Language Specification</em>, by James Gosling, Bill Joy, and Guy Steele.</p>\n</blockquote>\n<p>Note that it says that it is based on <strong>the first edition</strong> of the JLS whereas, when you look at the <a href=\"https://docs.oracle.com/javase/specs/index.html\" rel=\"nofollow noreferrer\">overview page</a> you’ll notice that <strong>the third edition</strong> of the JLS was the right one to describe the behavior of Java 6. It’s worth knowing the historical context, i.e. that for Java 5, the Java Memory Model has been completely rewritten, so we’re not talking about minor changes between the three editions of the Java Language Specification.</p>\n<p>Starting with the Java 7 version of the Java Virtual Machine Specification, there are no copies of the JLS sections anymore, so there’s no risk of getting out of sync again. The authoritative source of the Java Memory Model is the <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html\" rel=\"nofollow noreferrer\">language specification’s chapter</a>.</p>\n<p>It doesn’t use the terms “working memory” nor “master copy” at all, which is a good thing, as it is wrong to think about the JVM’s state as having some kind of absolute truth in a main memory.</p>\n<p>If you want to know more about the JLS or JVMS, you should start with the newest specifications, at the beginning of the <a href=\"https://docs.oracle.com/javase/specs/index.html\" rel=\"nofollow noreferrer\">overview page</a> and only if you have a reason to assume that there might be a historical difference you have to know, consult an older specification.</p>\n"}],"owner":{"account_id":6592052,"reputation":1147,"user_id":5092926,"accept_rate":39,"display_name":"Charles Ju"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72432572,"answer_count":2,"score":2,"last_activity_date":1653905530,"creation_date":1653621954,"question_id":72400144,"body_markdown":"The [JVM spec][1] says that each thread has its own working memory and lists several operations including use, assign, load, read, store, write, lock, unlock. Is working memory the same as the CPU cache, or is working memory the same as thread stack? \r\n\r\nThe spec also says that &quot;As the thread executes a program, it operates on these working copies.&quot; So when JVM execute instructions to add two values on the operand stack, it pops the two operands from stack and add them. In this case, what and where are the working copies of these popped operands?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se6/html/Threads.doc.html#22197","title":"Is JVM working memory the same as CPU cache","body":"<p>The <a href=\"https://docs.oracle.com/javase/specs/jvms/se6/html/Threads.doc.html#22197\" rel=\"nofollow noreferrer\">JVM spec</a> says that each thread has its own working memory and lists several operations including use, assign, load, read, store, write, lock, unlock. Is working memory the same as the CPU cache, or is working memory the same as thread stack?</p>\n<p>The spec also says that &quot;As the thread executes a program, it operates on these working copies.&quot; So when JVM execute instructions to add two values on the operand stack, it pops the two operands from stack and add them. In this case, what and where are the working copies of these popped operands?</p>\n"},{"tags":["java","eclipse-rcp","rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1653907269,"post_id":72432631,"comment_id":127958087,"body_markdown":"Do you actually have the SWT `TreeItem`? For testing SWT code [swtbot](https://www.eclipse.org/swtbot/) might be a better choice.","body":"Do you actually have the SWT <code>TreeItem</code>? For testing SWT code <a href=\"https://www.eclipse.org/swtbot/\" rel=\"nofollow noreferrer\">swtbot</a> might be a better choice."},{"owner":{"account_id":10916283,"reputation":346,"user_id":8023993,"display_name":"Sakthi Velan"},"score":0,"creation_date":1653987854,"post_id":72432631,"comment_id":127978527,"body_markdown":"yes TreeItem only I am having. i ll try swtbot","body":"yes TreeItem only I am having. i ll try swtbot"}],"owner":{"account_id":10916283,"reputation":346,"user_id":8023993,"display_name":"Sakthi Velan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653905434,"creation_date":1653905434,"question_id":72432631,"body_markdown":"I have a location where it will have treeitem.\r\nI need to point my mouse focus to the location where the treeitem is being set.\r\nI need java code to find the location of the pointer and set focus on the item.\r\n```\r\nRobot r = new Robot();\r\nr.mouseMove(x,y);\r\n```\r\nI need to find x and y which is the location of the particular object to set the focus.\r\nKindly assist ","title":"How to find location of an object in java(RCP)?","body":"<p>I have a location where it will have treeitem.\nI need to point my mouse focus to the location where the treeitem is being set.\nI need java code to find the location of the pointer and set focus on the item.</p>\n<pre><code>Robot r = new Robot();\nr.mouseMove(x,y);\n</code></pre>\n<p>I need to find x and y which is the location of the particular object to set the focus.\nKindly assist</p>\n"},{"tags":["java","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653905335,"creation_date":1653903964,"answer_id":72432266,"question_id":72425781,"body_markdown":"The feature you are trying to implement is already provided by Spring Batch, given that you correctly define a centralized transactional job repository and correctly design job instances with distinct identifying job parameters.\r\n\r\nWith this listener approach, you are running an additional job execution and checking if there is another one currently running. With Spring Batch&#39;s built-in feature, the second job execution is not even started, the job launcher will prevent that at startup time (this fail-fast approach is more efficient).\r\n\r\nWith locally scheduled jobs like you seem to have, a good identifying job parameter could be the run timestamp. For example, you will have a job instance every 10 minutes. Now if another scheduled method tries to run the same job instance say of 9:10 **at the same time** as the first method, then Spring Batch will prevent one of them from running, thanks to the centralized transactional job repository approach.\r\n\r\nThis also works in a clustered environment where another instance of your application (at the JVM level) tries to run the same job instance of 9:10 **at the same time** as the first application. Spring Batch will also prevent a duplicate job execution of the same instance. However, in a distributed environment where clock synchronization is not guaranteed, the single timestamp parameter won&#39;t be enough to identify job instances, you would need to add another discriminator to the identifying job parameters set in order to uniquely identify job instances at the cluster level.","title":"Spring Batch: Single job instance listener","body":"<p>The feature you are trying to implement is already provided by Spring Batch, given that you correctly define a centralized transactional job repository and correctly design job instances with distinct identifying job parameters.</p>\n<p>With this listener approach, you are running an additional job execution and checking if there is another one currently running. With Spring Batch's built-in feature, the second job execution is not even started, the job launcher will prevent that at startup time (this fail-fast approach is more efficient).</p>\n<p>With locally scheduled jobs like you seem to have, a good identifying job parameter could be the run timestamp. For example, you will have a job instance every 10 minutes. Now if another scheduled method tries to run the same job instance say of 9:10 <strong>at the same time</strong> as the first method, then Spring Batch will prevent one of them from running, thanks to the centralized transactional job repository approach.</p>\n<p>This also works in a clustered environment where another instance of your application (at the JVM level) tries to run the same job instance of 9:10 <strong>at the same time</strong> as the first application. Spring Batch will also prevent a duplicate job execution of the same instance. However, in a distributed environment where clock synchronization is not guaranteed, the single timestamp parameter won't be enough to identify job instances, you would need to add another discriminator to the identifying job parameters set in order to uniquely identify job instances at the cluster level.</p>\n"}],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653905335,"creation_date":1653844750,"question_id":72425781,"body_markdown":"I want to make sure that only one job instance is allowed to run. and if another instance is already running then stop it.\r\nSo i implemented a listener that checks the number of running Jobs like below: (i&#39;m not sur if it&#39;s the correct impl to stop the jobs)\r\n    \r\n    public class SingleJobInstanceListener implements JobExecutionListener {\r\n    \r\n    \t@Override\r\n    \tpublic void beforeJob(JobExecution jobExecution) {\r\n    \t\tfinal String jobName = jobExecution.getJobInstance().getJobName();\r\n    \t\tLOGGER.info(&quot;Listener to check one {} job instance is running&quot;, jobName);\r\n    \t\tif (Constants.JOB_NAME.equals(jobName)) {\r\n    \t\t\tfinal Set&lt;JobExecution&gt; executionSet = jobExplorer.findRunningJobExecutions(jobName);\r\n    \t\t\tif (executionSet.size() &gt; 1) {\r\n    \t\t\t\tfor (JobExecution execution : executionSet) {\r\n    \t\t\t\t\t\texecution.stop();\r\n    \t\t\t\t\t\tLOGGER.info(&quot;{} job instance {} is stopped&quot;, jobName, execution.getJobInstance().getInstanceId());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\nto run the job:\r\n\r\n     @Scheduled(cron = &quot;0/10 * * * * *&quot;)\r\n     public void runSpringBatchJob() {\r\n         LOGGER.info(&quot;Job was started&quot;);\r\n         final JobExecution streamExecution = jobLauncher.run(job, newExecution());\r\n         LOGGER.info(&quot;Exit data job with status: {}&quot;, streamExecution.getStatus());\r\n         LOGGER.info(&quot;Exit data job ID: {}&quot;, streamExecution.getJobId());\r\n         LOGGER.info(&quot;-----------------------------------------------------&quot;);\r\n    }\r\n\r\nLOG:\r\n\r\n    SpringBatchJobLauncher       : Job was started\r\n    SingleJobInstanceListener    : Listener to check one testJob job instance is running\r\n    SingleJobInstanceListener    : testJob job instance 178 is stopped\r\n    SingleJobInstanceListener    : testJob job instance 160 is stopped\r\n    SingleJobInstanceListener    : testJob job instance 154 is stopped\r\n    StreamWriter                 : Writing data: [......]\r\n    SpringBatchJobLauncher       : Exit data job with status: COMPLETED\r\n    SpringBatchJobLauncher       : Exit data job ID: 178\r\n    SpringBatchJobLauncher       : -----------------------------------------------------\r\n    SpringBatchJobLauncher       : Job was started\r\n    SingleJobInstanceListener    : Listener to check one testJob job instance is running\r\n    SingleJobInstanceListener    : testJob job instance 160 is stopped\r\n    SingleJobInstanceListener    : testJob job instance 179 is stopped\r\n    SingleJobInstanceListener    : testJob job instance 154 is stopped\r\n    StreamWriter                 : Writing data: [......]\r\n    SpringBatchJobLauncher       : Exit data job with status: COMPLETED\r\n    SpringBatchJobLauncher       : Exit data job ID: 179\r\n\r\nso my question is what is the reason that makes the job instanced 3 times (because each time the job is running it&#39;s instanced 3 times), and if the job 178 is stoped why is it running again `Exit data job ID: 178`","title":"Spring Batch: Single job instance listener","body":"<p>I want to make sure that only one job instance is allowed to run. and if another instance is already running then stop it.\nSo i implemented a listener that checks the number of running Jobs like below: (i'm not sur if it's the correct impl to stop the jobs)</p>\n<pre><code>public class SingleJobInstanceListener implements JobExecutionListener {\n\n    @Override\n    public void beforeJob(JobExecution jobExecution) {\n        final String jobName = jobExecution.getJobInstance().getJobName();\n        LOGGER.info(&quot;Listener to check one {} job instance is running&quot;, jobName);\n        if (Constants.JOB_NAME.equals(jobName)) {\n            final Set&lt;JobExecution&gt; executionSet = jobExplorer.findRunningJobExecutions(jobName);\n            if (executionSet.size() &gt; 1) {\n                for (JobExecution execution : executionSet) {\n                        execution.stop();\n                        LOGGER.info(&quot;{} job instance {} is stopped&quot;, jobName, execution.getJobInstance().getInstanceId());\n                }\n            }\n        }\n    }\n    \n}\n</code></pre>\n<p>to run the job:</p>\n<pre><code> @Scheduled(cron = &quot;0/10 * * * * *&quot;)\n public void runSpringBatchJob() {\n     LOGGER.info(&quot;Job was started&quot;);\n     final JobExecution streamExecution = jobLauncher.run(job, newExecution());\n     LOGGER.info(&quot;Exit data job with status: {}&quot;, streamExecution.getStatus());\n     LOGGER.info(&quot;Exit data job ID: {}&quot;, streamExecution.getJobId());\n     LOGGER.info(&quot;-----------------------------------------------------&quot;);\n}\n</code></pre>\n<p>LOG:</p>\n<pre><code>SpringBatchJobLauncher       : Job was started\nSingleJobInstanceListener    : Listener to check one testJob job instance is running\nSingleJobInstanceListener    : testJob job instance 178 is stopped\nSingleJobInstanceListener    : testJob job instance 160 is stopped\nSingleJobInstanceListener    : testJob job instance 154 is stopped\nStreamWriter                 : Writing data: [......]\nSpringBatchJobLauncher       : Exit data job with status: COMPLETED\nSpringBatchJobLauncher       : Exit data job ID: 178\nSpringBatchJobLauncher       : -----------------------------------------------------\nSpringBatchJobLauncher       : Job was started\nSingleJobInstanceListener    : Listener to check one testJob job instance is running\nSingleJobInstanceListener    : testJob job instance 160 is stopped\nSingleJobInstanceListener    : testJob job instance 179 is stopped\nSingleJobInstanceListener    : testJob job instance 154 is stopped\nStreamWriter                 : Writing data: [......]\nSpringBatchJobLauncher       : Exit data job with status: COMPLETED\nSpringBatchJobLauncher       : Exit data job ID: 179\n</code></pre>\n<p>so my question is what is the reason that makes the job instanced 3 times (because each time the job is running it's instanced 3 times), and if the job 178 is stoped why is it running again <code>Exit data job ID: 178</code></p>\n"},{"tags":["java","datainputstream","dataoutputstream"],"answers":[{"tags":[],"owner":{"account_id":12558364,"reputation":72,"user_id":9137139,"display_name":"Moh Lamine"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1574283835,"creation_date":1574283835,"answer_id":58963346,"question_id":58629638,"body_markdown":"It seems that the main process doesn&#39;t communicate really with the subprocess. deleting the package from the two classes and running the main process on cmd avoid the exception.","title":"How to send a valid result of an arithmetic operation through DataOutputStream","body":"<p>It seems that the main process doesn't communicate really with the subprocess. deleting the package from the two classes and running the main process on cmd avoid the exception.</p>\n"}],"owner":{"account_id":12558364,"reputation":72,"user_id":9137139,"display_name":"Moh Lamine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":58963346,"answer_count":1,"score":-2,"last_activity_date":1653905157,"creation_date":1572451983,"question_id":58629638,"body_markdown":"I have a subprocess class that calculate the sum of two integers and then put it in a DataOutputStream:\r\n\r\n    public class SubProcess {\r\n      public static void main(String[] args) throws IOException {\r\n         DataInputStream in = new DataInputStream(System.in);\r\n         DataOutputStream out = new DataOutputStream(System.out);\r\n         int a = in.readInt();\r\n         out.writeInt(a);\r\n         int b = in.readInt();\r\n         out.writeInt(b);\r\n         int result = a+b;\r\n         out.writeInt(result);\r\n         out.flush();\r\n         in.read();\r\n         out.close();\r\n         in.close();\r\n        }\r\n      } \r\n\r\nwhen writing the two values of a and b like 12 and 47 respectivley the result is &quot;ei&quot;. \r\n\r\nIn another hand the mainprocess won&#39;t read that result like an DataInputStream through the ReadInt() line, and it throws an exception :\r\n\r\n            Exception in thread &quot;main&quot; java.io.EOFException\r\n            \tat java.io.DataInputStream.readInt(Unknown Source)\r\n             \tat testthread.MainProcess.main(MainProcess.java:21)\r\n","title":"How to send a valid result of an arithmetic operation through DataOutputStream","body":"<p>I have a subprocess class that calculate the sum of two integers and then put it in a DataOutputStream:</p>\n\n<pre><code>public class SubProcess {\n  public static void main(String[] args) throws IOException {\n     DataInputStream in = new DataInputStream(System.in);\n     DataOutputStream out = new DataOutputStream(System.out);\n     int a = in.readInt();\n     out.writeInt(a);\n     int b = in.readInt();\n     out.writeInt(b);\n     int result = a+b;\n     out.writeInt(result);\n     out.flush();\n     in.read();\n     out.close();\n     in.close();\n    }\n  } \n</code></pre>\n\n<p>when writing the two values of a and b like 12 and 47 respectivley the result is \"ei\". </p>\n\n<p>In another hand the mainprocess won't read that result like an DataInputStream through the ReadInt() line, and it throws an exception :</p>\n\n<pre><code>        Exception in thread \"main\" java.io.EOFException\n            at java.io.DataInputStream.readInt(Unknown Source)\n            at testthread.MainProcess.main(MainProcess.java:21)\n</code></pre>\n"},{"tags":["java","spring-boot","api"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1653905681,"post_id":72432567,"comment_id":127957541,"body_markdown":"`authenticationService.executePayment` calls `savePaymentDetails(mpgsPayApiResponseDto, sessionId)`? are you sure that this is what you expect? If `savePaymentDetails` prints anything, it should show up 2 times according to your description. If its just once, then it executes as you programmed it","body":"<code>authenticationService.executePayment</code> calls <code>savePaymentDetails(mpgsPayApiResponseDto, sessionId)</code>? are you sure that this is what you expect? If <code>savePaymentDetails</code> prints anything, it should show up 2 times according to your description. If its just once, then it executes as you programmed it"},{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":0,"creation_date":1653905708,"post_id":72432567,"comment_id":127957549,"body_markdown":"What you described is not possible. Perhaps some extra logging statements would help you find out what is really happening","body":"What you described is not possible. Perhaps some extra logging statements would help you find out what is really happening"},{"owner":{"account_id":2843351,"reputation":1558,"user_id":2442424,"accept_rate":77,"display_name":"LuxuryWaffles"},"score":0,"creation_date":1653907517,"post_id":72432567,"comment_id":127958187,"body_markdown":"Yes, I think we missed something really big, however we confirmed that after receiving the error page, the users are still added into our database. Will add more logging to verify tomorrow","body":"Yes, I think we missed something really big, however we confirmed that after receiving the error page, the users are still added into our database. Will add more logging to verify tomorrow"}],"owner":{"account_id":2843351,"reputation":1558,"user_id":2442424,"accept_rate":77,"display_name":"LuxuryWaffles"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653905118,"creation_date":1653905118,"question_id":72432567,"body_markdown":"I am having an issue which my team and I have been debugging for hours without any clue to why my code is not executing in order,\r\n\r\nThe issue now is that in my controller I call two main functions, function 1 checks for payment and if payment is not successful, it throws an error which will be propagated to my controller which catches it and returns a 302 to redirect to an error page. However, based on my logs, my code executed function 2 which is saving the user details into my database first before checking for the payment response\r\n\r\nMy team is unable to replicate this behaviour in our dev and uat environment and this issue only occurs in production, in production, the code repeatedly runs the function 2 first based on the logs printed before returning the error page to the users,\r\n\r\nCould this be a code issue or a server setting issue that is causing this? App is hosted on cloud foundry with autoscaling with two instances by default \r\n\r\nCode of my controller:\r\n\r\n    public ResponseEntity&lt;Void&gt; executePayment(\r\n            @ModelAttribute PaymentRequestDto paymentRequestDto,\r\n            @RequestParam(&quot;sessionId&quot;) String sessionId,\r\n            HttpServletResponse response) {\r\n\r\n        GrafanaUtils.addToThreadContextTraceGroupId(sessionId);\r\n        MpgsPayApiResponseDto mpgsPayApiResponseDto;\r\n\r\n        String hashedCode = Base64.getEncoder().encodeToString((sessionId.getBytes()));\r\n        response.addCookie(CookieUtils.generateCookie(Constants.REDIRECT_COOKIE_ID, hashedCode));\r\n\r\n        // Call MPGS\r\n        try {\r\n            // error thrown from this service\r\n            mpgsPayApiResponseDto = authenticationService.executePayment(paymentRequestDto, sessionId); \r\n        } catch (Exception ex) {\r\n            GrafanaUtils.addToThreadContextTraceGroupId(ExceptionConstants.MPGS_CONNECTION_EXCEPTION, ex);\r\n            return ResponseEntity.status(HttpStatus.FOUND)\r\n                    .location(URI.create(paymentUiBaseUrl.concat(paymentUiErrorPath))).build(); // should return here \r\n        }\r\n\r\n        // MPGS Success\r\n        // should never reach here if above code throws exception and return\r\n        // however code still runs after above throws error and return error page\r\n        try {\r\n            authenticationService.savePaymentDetails(mpgsPayApiResponseDto, sessionId);\r\n        } catch (Exception ex) {\r\n            log.error(&quot;[executePayment] Error saving payment details&quot;);\r\n        }\r\n\r\n        return ResponseEntity.status(HttpStatus.FOUND)\r\n                .location(URI.create(paymentUiBaseUrl.concat(paymentUiConfirmPath))).build();\r\n    }\r\n\r\nCode of my service:\r\n\r\n    public MpgsPayApiResponseDto executePayment(PaymentRequestDto paymentRequestDto, String sessionId) {\r\n        if (!(&quot;PROCEED&quot;).equals(paymentRequestDto.getResponse().getGatewayRecommendation())) {\r\n            MpgsPayApiResponseDto mpgsPayApiResponseDto = mpgsService.retrieveTransaction(paymentRequestDto.getOrder().getId(),\r\n                    paymentRequestDto.getTransaction().getId());\r\n            savePaymentDetails(mpgsPayApiResponseDto, sessionId);\r\n            log.info(&quot;[executePayment] Session {}: Error making payment &quot;, sessionId);\r\n            throw new CustomException(ExceptionConstants.MPGS_CONNECTION_EXCEPTION); // code returns here\r\n        }\r\n\r\n        ...\r\n\r\n        return mpgsPayApiResponseDto;\r\n    }","title":"Java controller code runs even after returning","body":"<p>I am having an issue which my team and I have been debugging for hours without any clue to why my code is not executing in order,</p>\n<p>The issue now is that in my controller I call two main functions, function 1 checks for payment and if payment is not successful, it throws an error which will be propagated to my controller which catches it and returns a 302 to redirect to an error page. However, based on my logs, my code executed function 2 which is saving the user details into my database first before checking for the payment response</p>\n<p>My team is unable to replicate this behaviour in our dev and uat environment and this issue only occurs in production, in production, the code repeatedly runs the function 2 first based on the logs printed before returning the error page to the users,</p>\n<p>Could this be a code issue or a server setting issue that is causing this? App is hosted on cloud foundry with autoscaling with two instances by default</p>\n<p>Code of my controller:</p>\n<pre><code>public ResponseEntity&lt;Void&gt; executePayment(\n        @ModelAttribute PaymentRequestDto paymentRequestDto,\n        @RequestParam(&quot;sessionId&quot;) String sessionId,\n        HttpServletResponse response) {\n\n    GrafanaUtils.addToThreadContextTraceGroupId(sessionId);\n    MpgsPayApiResponseDto mpgsPayApiResponseDto;\n\n    String hashedCode = Base64.getEncoder().encodeToString((sessionId.getBytes()));\n    response.addCookie(CookieUtils.generateCookie(Constants.REDIRECT_COOKIE_ID, hashedCode));\n\n    // Call MPGS\n    try {\n        // error thrown from this service\n        mpgsPayApiResponseDto = authenticationService.executePayment(paymentRequestDto, sessionId); \n    } catch (Exception ex) {\n        GrafanaUtils.addToThreadContextTraceGroupId(ExceptionConstants.MPGS_CONNECTION_EXCEPTION, ex);\n        return ResponseEntity.status(HttpStatus.FOUND)\n                .location(URI.create(paymentUiBaseUrl.concat(paymentUiErrorPath))).build(); // should return here \n    }\n\n    // MPGS Success\n    // should never reach here if above code throws exception and return\n    // however code still runs after above throws error and return error page\n    try {\n        authenticationService.savePaymentDetails(mpgsPayApiResponseDto, sessionId);\n    } catch (Exception ex) {\n        log.error(&quot;[executePayment] Error saving payment details&quot;);\n    }\n\n    return ResponseEntity.status(HttpStatus.FOUND)\n            .location(URI.create(paymentUiBaseUrl.concat(paymentUiConfirmPath))).build();\n}\n</code></pre>\n<p>Code of my service:</p>\n<pre><code>public MpgsPayApiResponseDto executePayment(PaymentRequestDto paymentRequestDto, String sessionId) {\n    if (!(&quot;PROCEED&quot;).equals(paymentRequestDto.getResponse().getGatewayRecommendation())) {\n        MpgsPayApiResponseDto mpgsPayApiResponseDto = mpgsService.retrieveTransaction(paymentRequestDto.getOrder().getId(),\n                paymentRequestDto.getTransaction().getId());\n        savePaymentDetails(mpgsPayApiResponseDto, sessionId);\n        log.info(&quot;[executePayment] Session {}: Error making payment &quot;, sessionId);\n        throw new CustomException(ExceptionConstants.MPGS_CONNECTION_EXCEPTION); // code returns here\n    }\n\n    ...\n\n    return mpgsPayApiResponseDto;\n}\n</code></pre>\n"},{"tags":["java","refactoring","code-analysis"],"comments":[{"owner":{"account_id":3597514,"reputation":117144,"user_id":3001761,"display_name":"jonrsharpe"},"score":0,"creation_date":1561464974,"post_id":56753804,"comment_id":100065134,"body_markdown":"If you don&#39;t have tests you&#39;re not really refactoring, just making changes and hoping for the best.","body":"If you don&#39;t have tests you&#39;re not really refactoring, just making changes and hoping for the best."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1561464977,"post_id":56753804,"comment_id":100065137,"body_markdown":"No. Write the tests. You can continue to use them for all your future refactorings too, not simply the one you are concerned with now, so it will be far from a sunk cost (until, that is, you decide to delete the code).","body":"No. Write the tests. You can continue to use them for all your future refactorings too, not simply the one you are concerned with now, so it will be far from a sunk cost (until, that is, you decide to delete the code)."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1561465797,"post_id":56753804,"comment_id":100065641,"body_markdown":"@AndyTurner A sunk cost is just a cost which is incurred and is not recoverable. All time spent on anything is a sunk cost. We cannot rewind time. Perhaps you mean a net loss?","body":"@AndyTurner A sunk cost is just a cost which is incurred and is not recoverable. All time spent on anything is a sunk cost. We cannot rewind time. Perhaps you mean a net loss?"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1561465111,"creation_date":1561465111,"answer_id":56753892,"question_id":56753804,"body_markdown":"&gt; since theoretically it sounds to me like it&#39;s possible\r\n\r\nNot at all. What you are asking for is a variation of the [halting problem][1]. You are basically asking: can I programmatically decide whether two programs behave identically, processing whatever arbitrary input.\r\n\r\nOf course, *one* might work around the theoretical impossibilities here, for example by defining a set of &quot;valid&quot; inputs. In the end, that is what people do using **unit tests**. \r\n\r\nBut in that very generic sense: can I decide if two programs always do the exact same thing, I am pretty sure: you can rewrite that problem into something that resembles the halting problem, and as said: that one can **not** be solved. Not now, and not in 1000 years. \r\n\r\n  [1]: https://en.wikipedia.org/wiki/Halting_problem","title":"How can I make sure my refactoring doesn&#39;t change the code&#39;s flow?","body":"<blockquote>\n  <p>since theoretically it sounds to me like it's possible</p>\n</blockquote>\n\n<p>Not at all. What you are asking for is a variation of the <a href=\"https://en.wikipedia.org/wiki/Halting_problem\" rel=\"noreferrer\">halting problem</a>. You are basically asking: can I programmatically decide whether two programs behave identically, processing whatever arbitrary input.</p>\n\n<p>Of course, <em>one</em> might work around the theoretical impossibilities here, for example by defining a set of \"valid\" inputs. In the end, that is what people do using <strong>unit tests</strong>. </p>\n\n<p>But in that very generic sense: can I decide if two programs always do the exact same thing, I am pretty sure: you can rewrite that problem into something that resembles the halting problem, and as said: that one can <strong>not</strong> be solved. Not now, and not in 1000 years. </p>\n"}],"owner":{"account_id":1053155,"reputation":57,"user_id":1056527,"display_name":"Yakir Dorani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1653905044,"creation_date":1561464836,"question_id":56753804,"body_markdown":"I am refactoring some Java code, my intention is not to change behavior/flow at all but just to clean it up, divide it into methods, etc.\r\n\r\nWhat I would like to do in the end is to make sure my changes are indeed only aesthetic and that no behavior/flow is changed.\r\n\r\nI understand this can be &quot;achieved&quot; by writing comprehensive unit tests, but I&#39;m wondering whether there is some Java code analysis utility I can use to compare the flow of the code before my changes and after, since theoretically it sounds to me like it&#39;s possible.\r\n\r\nAny help is appreciated!","title":"How can I make sure my refactoring doesn&#39;t change the code&#39;s flow?","body":"<p>I am refactoring some Java code, my intention is not to change behavior/flow at all but just to clean it up, divide it into methods, etc.</p>\n\n<p>What I would like to do in the end is to make sure my changes are indeed only aesthetic and that no behavior/flow is changed.</p>\n\n<p>I understand this can be \"achieved\" by writing comprehensive unit tests, but I'm wondering whether there is some Java code analysis utility I can use to compare the flow of the code before my changes and after, since theoretically it sounds to me like it's possible.</p>\n\n<p>Any help is appreciated!</p>\n"},{"tags":["java","string","date","validation"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1653901571,"post_id":72431727,"comment_id":127956047,"body_markdown":"Why are you using `setLenient(true)` when your description indicates you expect non-lenient behaviour? As an aside, stop using the legacy date/time classes and switch to the classes java.time.","body":"Why are you using <code>setLenient(true)</code> when your description indicates you expect non-lenient behaviour? As an aside, stop using the legacy date/time classes and switch to the classes java.time."},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1653901642,"post_id":72431727,"comment_id":127956074,"body_markdown":"@MarkRotteveel I also try to false still will adjust, i update also my post question to `false`","body":"@MarkRotteveel I also try to false still will adjust, i update also my post question to <code>false</code>"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":2,"creation_date":1653902569,"post_id":72431727,"comment_id":127956395,"body_markdown":"@MarkRotteveel Oky i will switch to  java.time classes","body":"@MarkRotteveel Oky i will switch to  java.time classes"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1653902604,"post_id":72431727,"comment_id":127956406,"body_markdown":"Have you used a debugger to see what `strDate` contains in the first case ?","body":"Have you used a debugger to see what <code>strDate</code> contains in the first case ?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653903160,"post_id":72431727,"comment_id":127956610,"body_markdown":"Your issue is that `Date date = new GregorianCalendar(2015, 11, 33).getTime();` results in date `2016-01-02` instead of an error. As `2016-01-02` is a valid date, nothing will error after that.","body":"Your issue is that <code>Date date = new GregorianCalendar(2015, 11, 33).getTime();</code> results in date <code>2016-01-02</code> instead of an error. As <code>2016-01-02</code> is a valid date, nothing will error after that."},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":0,"creation_date":1653903354,"post_id":72431727,"comment_id":127956683,"body_markdown":"@jhamon i just try it now its already `adjusted`","body":"@jhamon i just try it now its already <code>adjusted</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1653907261,"post_id":72431727,"comment_id":127958082,"body_markdown":"I too strongly recommend you don’t use `Date`, `GregorianCalendar` and `SimpleDateFormat`. Those classes are poorly designed and long outdated, the last in particular notoriously troublesome. Instead use `LocalDate` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I too strongly recommend you don’t use <code>Date</code>, <code>GregorianCalendar</code> and <code>SimpleDateFormat</code>. Those classes are poorly designed and long outdated, the last in particular notoriously troublesome. Instead use <code>LocalDate</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"tags":[],"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653903214,"creation_date":1653903214,"answer_id":72432115,"question_id":72431727,"body_markdown":"Default behaviour of Calendar is to be lenient.\r\n\r\nWhen you write `Date date = new GregorianCalendar(2015, 11, 33).getTime();` you are getting the `Date` value of a lenient calendar, so the 33th day after the 1st of december.\r\n\r\nIn your code, you set the formatter to be lenient which is useless as the date you want to format is already adjusted.\r\n\r\nTo avoid that, create a calendar, set it non-lenient and then set the expected date.\r\nBut note that in this case the formatter will not return any invalid date as the `Date` object will always be valid.","title":"How to disable date auto update/correct/adjust in Java?","body":"<p>Default behaviour of Calendar is to be lenient.</p>\n<p>When you write <code>Date date = new GregorianCalendar(2015, 11, 33).getTime();</code> you are getting the <code>Date</code> value of a lenient calendar, so the 33th day after the 1st of december.</p>\n<p>In your code, you set the formatter to be lenient which is useless as the date you want to format is already adjusted.</p>\n<p>To avoid that, create a calendar, set it non-lenient and then set the expected date.\nBut note that in this case the formatter will not return any invalid date as the <code>Date</code> object will always be valid.</p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653904720,"creation_date":1653904720,"answer_id":72432469,"question_id":72431727,"body_markdown":"If you switched to a `java.time.LocalDate`, you could use the `Exception`s that get thrown when you try to initialize a `LocalDate` with invalid values:\r\n\r\nLet&#39;s say you just want to create a `LocalDate` with given `int` values for year, month of year and day of month. You could `try` to initialize one and print the error message of the `DateTimeException` thrown.\r\n\r\ne.g. the following code will print an error:\r\n\r\n```lang-java\r\ntry {\r\n    // try to create December 32. 2022\r\n\tLocalDate invLocDat = LocalDate.of(2022, 12, 32);\r\n\tSystem.out.println(&quot;Created LocalDate: &quot; + invLocDat);\r\n} catch (DateTimeException dte) {\r\n    // print what the exception says\r\n\tSystem.err.println(dte.getMessage());\r\n}\r\n```\r\n\r\nThe message printed will be\r\n\r\n```lang-none\r\nInvalid value for DayOfMonth (valid values 1 - 28/31): 32\r\n```\r\n\r\nYou could find out an invalid month of year, too, e.g. `LocalDate.of(2022, 13, 31)` would cause the above code to print\r\n\r\n```lang-none\r\nInvalid value for MonthOfYear (valid values 1 - 12): 13\r\n```\r\n\r\nAnd a valid input would simply print the `toString()` method of the successfully created `LocalDate`. Use a `DateTimeFormatter` if you want different output.","title":"How to disable date auto update/correct/adjust in Java?","body":"<p>If you switched to a <code>java.time.LocalDate</code>, you could use the <code>Exception</code>s that get thrown when you try to initialize a <code>LocalDate</code> with invalid values:</p>\n<p>Let's say you just want to create a <code>LocalDate</code> with given <code>int</code> values for year, month of year and day of month. You could <code>try</code> to initialize one and print the error message of the <code>DateTimeException</code> thrown.</p>\n<p>e.g. the following code will print an error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    // try to create December 32. 2022\n    LocalDate invLocDat = LocalDate.of(2022, 12, 32);\n    System.out.println(&quot;Created LocalDate: &quot; + invLocDat);\n} catch (DateTimeException dte) {\n    // print what the exception says\n    System.err.println(dte.getMessage());\n}\n</code></pre>\n<p>The message printed will be</p>\n<pre class=\"lang-none prettyprint-override\"><code>Invalid value for DayOfMonth (valid values 1 - 28/31): 32\n</code></pre>\n<p>You could find out an invalid month of year, too, e.g. <code>LocalDate.of(2022, 13, 31)</code> would cause the above code to print</p>\n<pre class=\"lang-none prettyprint-override\"><code>Invalid value for MonthOfYear (valid values 1 - 12): 13\n</code></pre>\n<p>And a valid input would simply print the <code>toString()</code> method of the successfully created <code>LocalDate</code>. Use a <code>DateTimeFormatter</code> if you want different output.</p>\n"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72432469,"answer_count":2,"score":0,"last_activity_date":1653904720,"creation_date":1653901228,"question_id":72431727,"body_markdown":"Im trying to check the format of the Date.\r\n\r\nImplementation: Get Date format `yyyy-MM-dd` then if i input beyond month 12 and day 30 or 31 depend on the month it must show error.\r\n\r\nThe pattern will work if I manually setup a date in String, but the date must come from Date to String but the Date will auto adjust.\r\n\r\nTry the code here: https://www.programiz.com/java-programming/online-compiler/\r\n\r\n\r\n\r\n```java\r\n\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeParseException;\r\n    import java.time.temporal.TemporalAccessor;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.time.Instant;\r\n    import java.util.GregorianCalendar;\r\n    import java.time.LocalDateTime;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    \r\n    class HelloWorld {\r\n        public static void main(String[] args) {\r\n    \r\n            Date date = new GregorianCalendar(2015, 11, 33).getTime();  \r\n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        formatter.setLenient(false);\r\n        String strDate = formatter.format(date); \r\n        \r\n          \r\n            \r\n             Pattern dateFrmtPtrn =  Pattern.compile(\r\n    \t\t    \t\t&quot;((19|20)\\\\d\\\\d)&quot;\r\n    \t\t\t\t    \t\t+ &quot;-&quot;\r\n    \t\t    \t\t+ &quot;(0?[1-9]|1[012])&quot;\r\n    \t\t    \t\t+ &quot;-&quot;\r\n    \t\t    \t\t\r\n    \t\t    \t\t+&quot;(0?[1-9]|[12][0-9]|3[01])&quot;\r\n    \t\t    \t\t);\r\n    Matcher mtch = dateFrmtPtrn.matcher(strDate);\r\n            \r\n            if(mtch.matches(\r\n            )){\r\n                \r\n                System.out.println(strDate);\r\n            }else{\r\n                System.out.println(&quot;Error&quot;);\r\n            }\r\n          \r\n        }\r\n    }\r\n    //Must Error\r\n    //Output: 2016-01-02\r\n\r\n```\r\nThe manual with String only.\r\nThis will work.\r\n```java\r\n\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.LocalDate;\r\n    import java.time.ZoneId;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeParseException;\r\n    import java.time.temporal.TemporalAccessor;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.time.Instant;\r\n    import java.util.GregorianCalendar;\r\n    import java.time.LocalDateTime;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    \r\n    class HelloWorld {\r\n        public static void main(String[] args) {\r\n    \r\n        \r\n        //  String datey = &quot;2023-12-32&quot;;\r\n          String datey = &quot;2023-13-32&quot;;\r\n            \r\n             Pattern dateFrmtPtrn =  Pattern.compile(\r\n    \t\t    \t\t&quot;((19|20)\\\\d\\\\d)&quot;\r\n    \t\t\t\t    \t\t+ &quot;-&quot;\r\n    \t\t    \t\t+ &quot;(0?[1-9]|1[012])&quot;\r\n    \t\t    \t\t+ &quot;-&quot;\r\n    \t\t    \t\t\r\n    \t\t    \t\t+&quot;(0?[1-9]|[12][0-9]|3[01])&quot;\r\n    \t\t    \t\t);\r\n    Matcher mtch = dateFrmtPtrn.matcher(datey);\r\n            \r\n            if(mtch.matches(\r\n            )){\r\n                \r\n                System.out.println(datey);\r\n            }else{\r\n                System.out.println(&quot;Error&quot;);\r\n            }\r\n          \r\n        }\r\n    }\r\n    \r\n    //working\r\n    //Output: Error\r\n\r\n```\r\n\r\n","title":"How to disable date auto update/correct/adjust in Java?","body":"<p>Im trying to check the format of the Date.</p>\n<p>Implementation: Get Date format <code>yyyy-MM-dd</code> then if i input beyond month 12 and day 30 or 31 depend on the month it must show error.</p>\n<p>The pattern will work if I manually setup a date in String, but the date must come from Date to String but the Date will auto adjust.</p>\n<p>Try the code here: <a href=\"https://www.programiz.com/java-programming/online-compiler/\" rel=\"nofollow noreferrer\">https://www.programiz.com/java-programming/online-compiler/</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    import java.text.DateFormat;\n    import java.text.ParseException;\n    import java.text.SimpleDateFormat;\n    import java.time.LocalDate;\n    import java.time.ZoneId;\n    import java.time.format.DateTimeFormatter;\n    import java.time.format.DateTimeParseException;\n    import java.time.temporal.TemporalAccessor;\n    import java.util.Calendar;\n    import java.util.Date;\n    import java.time.Instant;\n    import java.util.GregorianCalendar;\n    import java.time.LocalDateTime;\n    import java.util.regex.Matcher;\n    import java.util.regex.Pattern;\n    \n    \n    class HelloWorld {\n        public static void main(String[] args) {\n    \n            Date date = new GregorianCalendar(2015, 11, 33).getTime();  \n        SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        formatter.setLenient(false);\n        String strDate = formatter.format(date); \n        \n          \n            \n             Pattern dateFrmtPtrn =  Pattern.compile(\n                        &quot;((19|20)\\\\d\\\\d)&quot;\n                                + &quot;-&quot;\n                        + &quot;(0?[1-9]|1[012])&quot;\n                        + &quot;-&quot;\n                        \n                        +&quot;(0?[1-9]|[12][0-9]|3[01])&quot;\n                        );\n    Matcher mtch = dateFrmtPtrn.matcher(strDate);\n            \n            if(mtch.matches(\n            )){\n                \n                System.out.println(strDate);\n            }else{\n                System.out.println(&quot;Error&quot;);\n            }\n          \n        }\n    }\n    //Must Error\n    //Output: 2016-01-02\n\n</code></pre>\n<p>The manual with String only.\nThis will work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    import java.text.DateFormat;\n    import java.text.ParseException;\n    import java.text.SimpleDateFormat;\n    import java.time.LocalDate;\n    import java.time.ZoneId;\n    import java.time.format.DateTimeFormatter;\n    import java.time.format.DateTimeParseException;\n    import java.time.temporal.TemporalAccessor;\n    import java.util.Calendar;\n    import java.util.Date;\n    import java.time.Instant;\n    import java.util.GregorianCalendar;\n    import java.time.LocalDateTime;\n    import java.util.regex.Matcher;\n    import java.util.regex.Pattern;\n    \n    \n    class HelloWorld {\n        public static void main(String[] args) {\n    \n        \n        //  String datey = &quot;2023-12-32&quot;;\n          String datey = &quot;2023-13-32&quot;;\n            \n             Pattern dateFrmtPtrn =  Pattern.compile(\n                        &quot;((19|20)\\\\d\\\\d)&quot;\n                                + &quot;-&quot;\n                        + &quot;(0?[1-9]|1[012])&quot;\n                        + &quot;-&quot;\n                        \n                        +&quot;(0?[1-9]|[12][0-9]|3[01])&quot;\n                        );\n    Matcher mtch = dateFrmtPtrn.matcher(datey);\n            \n            if(mtch.matches(\n            )){\n                \n                System.out.println(datey);\n            }else{\n                System.out.println(&quot;Error&quot;);\n            }\n          \n        }\n    }\n    \n    //working\n    //Output: Error\n\n</code></pre>\n"},{"tags":["java","android","kotlin","rx-java2","rx-binding"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1653557320,"post_id":72389445,"comment_id":127882619,"body_markdown":"`subscribeOn(Schedulers.io())` makes no sense. Afaik, you are supposed to subscribe to the RxBinding stuff on the main thread, which I presume you are already on in `observeInput`.","body":"<code>subscribeOn(Schedulers.io())</code> makes no sense. Afaik, you are supposed to subscribe to the RxBinding stuff on the main thread, which I presume you are already on in <code>observeInput</code>."},{"owner":{"account_id":25394436,"reputation":27,"user_id":19204914,"display_name":"dans"},"score":0,"creation_date":1653558412,"post_id":72389445,"comment_id":127882948,"body_markdown":"@akarnokd Then, which schedulers should I use sir? To replace the Schedulers.io().","body":"@akarnokd Then, which schedulers should I use sir? To replace the Schedulers.io()."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1653560464,"post_id":72389445,"comment_id":127883659,"body_markdown":"Use none. &#164;&#164;&#164;&#164;&#164;&#164;&#164;","body":"Use none. &#164;&#164;&#164;&#164;&#164;&#164;&#164;"},{"owner":{"account_id":25394436,"reputation":27,"user_id":19204914,"display_name":"dans"},"score":0,"creation_date":1653560758,"post_id":72389445,"comment_id":127883752,"body_markdown":"@akarnokd ok sir, but the problem is still not solved. There is the link (https://i.stack.imgur.com/BrWG9.gif).\n\nI don&#39;t know, that can be say as not responding or not.","body":"@akarnokd ok sir, but the problem is still not solved. There is the link (<a href=\"https://i.stack.imgur.com/BrWG9.gif\" rel=\"nofollow noreferrer\">i.stack.imgur.com/BrWG9.gif</a>).  I don&#39;t know, that can be say as not responding or not."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1653561679,"post_id":72389445,"comment_id":127883999,"body_markdown":"Check your log for errors, add an onError handler to the `subscribe` calls. Your code probably crashes somewhere else now.","body":"Check your log for errors, add an onError handler to the <code>subscribe</code> calls. Your code probably crashes somewhere else now."},{"owner":{"account_id":25394436,"reputation":27,"user_id":19204914,"display_name":"dans"},"score":0,"creation_date":1653572948,"post_id":72389445,"comment_id":127888004,"body_markdown":"@akarnokd I&#39;ve launched my app about 40minutes but it still doesn&#39;t show any error on the log. The condition is still same, not displaying the next number I&#39;ve inputted. And Its not freeze because I can press another edit text.","body":"@akarnokd I&#39;ve launched my app about 40minutes but it still doesn&#39;t show any error on the log. The condition is still same, not displaying the next number I&#39;ve inputted. And Its not freeze because I can press another edit text."},{"owner":{"account_id":25394436,"reputation":27,"user_id":19204914,"display_name":"dans"},"score":0,"creation_date":1653574294,"post_id":72389445,"comment_id":127888497,"body_markdown":"@akarnokd There is the link: https://imgur.com/kCSf95k","body":"@akarnokd There is the link: <a href=\"https://imgur.com/kCSf95k\" rel=\"nofollow noreferrer\">imgur.com/kCSf95k</a>"},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1653576475,"post_id":72389445,"comment_id":127889353,"body_markdown":"Something must be wrong in the code not shown. Since I can&#39;t remotely look at or debug your code, please post a standalone project somewhere (i.e., GitHub) that demonstrates your problem.","body":"Something must be wrong in the code not shown. Since I can&#39;t remotely look at or debug your code, please post a standalone project somewhere (i.e., GitHub) that demonstrates your problem."},{"owner":{"account_id":25394436,"reputation":27,"user_id":19204914,"display_name":"dans"},"score":0,"creation_date":1653660068,"post_id":72389445,"comment_id":127911372,"body_markdown":"@akarnokd Sorry for my late reply sir. Link of my sample project: https://github.com/dansampl/EditTextWithRxJavaSampleApp.","body":"@akarnokd Sorry for my late reply sir. Link of my sample project: <a href=\"https://github.com/dansampl/EditTextWithRxJavaSampleApp\" rel=\"nofollow noreferrer\">github.com/dansampl/EditTextWithRxJavaSampleApp</a>."},{"owner":{"account_id":25394436,"reputation":27,"user_id":19204914,"display_name":"dans"},"score":0,"creation_date":1653892330,"post_id":72389445,"comment_id":127953109,"body_markdown":"@akarnokd did you find the problem sir?","body":"@akarnokd did you find the problem sir?"}],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653904609,"creation_date":1653904609,"answer_id":72432443,"question_id":72389445,"body_markdown":"Two issues. \r\n\r\n1. You have created a feedback loop by setting text on the other editors, which then trigger updates on the current editor.\r\n2. If your code crashes, it will stop listening to values.\r\n\r\nFirst of all, make these extension method changes:\r\n\r\n```kotlin\r\nprivate fun &lt;T: EditText&gt; T.observeInput() =\r\n\tRxTextView.textChanges(this)\r\n\t\t.skipInitialValue()\r\n\t\t.map(CharSequence::toString) // &lt;------------------ order matters\r\n\t\t.distinctUntilChanged() // &lt;----------------------- order matters\r\n\t\t.observeOn(AndroidSchedulers.mainThread())\r\n\t\t.publish()\r\n\t\t.refCount()\r\n\r\nprivate fun TextInputEditText.setText(text: CharSequence, onlyIfChanged: Boolean) {\r\n\tif (onlyIfChanged) {\r\n\t\tif (Objects.equals(this.text.toString(), text.toString())) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tthis.setText(text);\r\n}\r\n```\r\n\r\nThen, update your onNext handlers:\r\n\r\n```kotlin\r\n// etBinary\r\n\r\n// store calculation data\r\ntry {\r\n    Log.d(&quot;XYZ-etBinary&quot;, t);\r\n    val decResult = t.fold(0L) { acc, element -&gt;\r\n        (acc * 2) + element.digitToInt(2)\r\n    }\r\n    val octResult = decResult.toString(8)\r\n    val hexResult = decResult.toString(16).uppercase()\r\n\r\n    // and display the results to another edit text which corresponds with their radix representation\r\n    etDecimal.setText(decResult.toString(), true)\r\n    etOctal.setText(octResult, true)\r\n    etHexadecimal.setText(hexResult, true)\r\n} catch (e: Throwable) {\r\n    Log.e(&quot;XYZ-etBinary&quot;, e.message.toString())\r\n}\r\n```\r\n\r\n```kotlin\r\n// etDecimal\r\n\r\n// store calculation data\r\ntry {\r\n    Log.d(&quot;XYZ-etDecimal&quot;, t);\r\n    val binResult = t.toLong().toString(2)\r\n    val octResult = t.toLong().toString(8)\r\n    val hexResult = t.toLong().toString(16).uppercase()\r\n\r\n    // and display the results to another edit text which corresponds with their radix representation\r\n    etBinary.setText(binResult, true)\r\n    etOctal.setText(octResult, true)\r\n    etHexadecimal.setText(hexResult, true)\r\n} catch (e: Throwable) {\r\n    Log.e(&quot;XYZ-etDecimal&quot;, e.message.toString())\r\n}\r\n```\r\n\r\nAlso posted it as a Pull Request on your repo: https://github.com/dansampl/EditTextWithRxJavaSampleApp/pull/1/files","title":"Screen is not responding as I set a result to another edit text when using RxJava","body":"<p>Two issues.</p>\n<ol>\n<li>You have created a feedback loop by setting text on the other editors, which then trigger updates on the current editor.</li>\n<li>If your code crashes, it will stop listening to values.</li>\n</ol>\n<p>First of all, make these extension method changes:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private fun &lt;T: EditText&gt; T.observeInput() =\n    RxTextView.textChanges(this)\n        .skipInitialValue()\n        .map(CharSequence::toString) // &lt;------------------ order matters\n        .distinctUntilChanged() // &lt;----------------------- order matters\n        .observeOn(AndroidSchedulers.mainThread())\n        .publish()\n        .refCount()\n\nprivate fun TextInputEditText.setText(text: CharSequence, onlyIfChanged: Boolean) {\n    if (onlyIfChanged) {\n        if (Objects.equals(this.text.toString(), text.toString())) {\n            return;\n        }\n    }\n    this.setText(text);\n}\n</code></pre>\n<p>Then, update your onNext handlers:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// etBinary\n\n// store calculation data\ntry {\n    Log.d(&quot;XYZ-etBinary&quot;, t);\n    val decResult = t.fold(0L) { acc, element -&gt;\n        (acc * 2) + element.digitToInt(2)\n    }\n    val octResult = decResult.toString(8)\n    val hexResult = decResult.toString(16).uppercase()\n\n    // and display the results to another edit text which corresponds with their radix representation\n    etDecimal.setText(decResult.toString(), true)\n    etOctal.setText(octResult, true)\n    etHexadecimal.setText(hexResult, true)\n} catch (e: Throwable) {\n    Log.e(&quot;XYZ-etBinary&quot;, e.message.toString())\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// etDecimal\n\n// store calculation data\ntry {\n    Log.d(&quot;XYZ-etDecimal&quot;, t);\n    val binResult = t.toLong().toString(2)\n    val octResult = t.toLong().toString(8)\n    val hexResult = t.toLong().toString(16).uppercase()\n\n    // and display the results to another edit text which corresponds with their radix representation\n    etBinary.setText(binResult, true)\n    etOctal.setText(octResult, true)\n    etHexadecimal.setText(hexResult, true)\n} catch (e: Throwable) {\n    Log.e(&quot;XYZ-etDecimal&quot;, e.message.toString())\n}\n</code></pre>\n<p>Also posted it as a Pull Request on your repo: <a href=\"https://github.com/dansampl/EditTextWithRxJavaSampleApp/pull/1/files\" rel=\"nofollow noreferrer\">https://github.com/dansampl/EditTextWithRxJavaSampleApp/pull/1/files</a></p>\n"}],"owner":{"account_id":25394436,"reputation":27,"user_id":19204914,"display_name":"dans"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72432443,"answer_count":1,"score":0,"last_activity_date":1653904609,"creation_date":1653556419,"question_id":72389445,"body_markdown":"I&#39;m implement an TextInputEditText with RxBinding.\r\n\r\n**Problem:** When I do some math operation on first TextInputEditText and set the result to another TextInputEditText, The screen is not responding. [When I start to type another digit, its not displayed in the edit text][1]. I know why this happened, but don&#39;t know how to fix. For more detail, please check the code below.\r\n\r\n**Code:**\r\n```lang-kt\r\nclass NumberSystemFragment : Fragment() {\r\n  override fun onCreateView() { ... }\r\n  override fun onViewCreated() {\r\n    binding?.run {\r\n      // It still ok if just observe a single edit text\r\n      etBinary.observeInput().subscribe {\r\n        val dec = it.fold(0L) { acc, el -&gt;\r\n          (acc * 2) + el.digitToInt(radix = 2)\r\n        }\r\n        val oct = dec.toString(8)\r\n        val hex = dec.toString(16)\r\n\r\n        etDecimal.setText(dec.toString())\r\n        etOctal.setText(oct)\r\n        etHexadecimal.setText(hex)\r\n      }\r\n\r\n      // But, when I add more EditText, the screen will not responding.\r\n      // I know why this can happen, because when I set the result from operation above,\r\n      // and display it to another EditTexts, then the other EditText will begin to observe its input too.\r\n      // Then the racing condition or whatever it is, will occur.\r\n      etDecimal.observeInput().subscribe {\r\n        val bin = it.toLong().toString(2)\r\n        val oct = it.toLong().toString(8)\r\n        val hex = it.toLong().toString(16)\r\n\r\n        etBinary.setText(bin)\r\n        etOctal.setText(oct)\r\n        etHexadecimal.setText(hex)\r\n      }\r\n    }\r\n  }\r\n\r\n  private fun &lt;T : EditText&gt; T.observeInput() =\r\n    RxTextView.textChanges(this)\r\n      .skipInitialValue()\r\n      .subscribeOn(Schedulers.io())\r\n      .observeOn(AndroidSchedulers.mainThread())\r\n      .map(CharSequence::toString)\r\n      .publish()\r\n      .refCount()\r\n}\r\n```\r\n\r\n**Sorry, I&#39;m new with RxJava, RxBinding, etc.**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BrWG9.gif","title":"Screen is not responding as I set a result to another edit text when using RxJava","body":"<p>I'm implement an TextInputEditText with RxBinding.</p>\n<p><strong>Problem:</strong> When I do some math operation on first TextInputEditText and set the result to another TextInputEditText, The screen is not responding. <a href=\"https://i.stack.imgur.com/BrWG9.gif\" rel=\"nofollow noreferrer\">When I start to type another digit, its not displayed in the edit text</a>. I know why this happened, but don't know how to fix. For more detail, please check the code below.</p>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-kt prettyprint-override\"><code>class NumberSystemFragment : Fragment() {\n  override fun onCreateView() { ... }\n  override fun onViewCreated() {\n    binding?.run {\n      // It still ok if just observe a single edit text\n      etBinary.observeInput().subscribe {\n        val dec = it.fold(0L) { acc, el -&gt;\n          (acc * 2) + el.digitToInt(radix = 2)\n        }\n        val oct = dec.toString(8)\n        val hex = dec.toString(16)\n\n        etDecimal.setText(dec.toString())\n        etOctal.setText(oct)\n        etHexadecimal.setText(hex)\n      }\n\n      // But, when I add more EditText, the screen will not responding.\n      // I know why this can happen, because when I set the result from operation above,\n      // and display it to another EditTexts, then the other EditText will begin to observe its input too.\n      // Then the racing condition or whatever it is, will occur.\n      etDecimal.observeInput().subscribe {\n        val bin = it.toLong().toString(2)\n        val oct = it.toLong().toString(8)\n        val hex = it.toLong().toString(16)\n\n        etBinary.setText(bin)\n        etOctal.setText(oct)\n        etHexadecimal.setText(hex)\n      }\n    }\n  }\n\n  private fun &lt;T : EditText&gt; T.observeInput() =\n    RxTextView.textChanges(this)\n      .skipInitialValue()\n      .subscribeOn(Schedulers.io())\n      .observeOn(AndroidSchedulers.mainThread())\n      .map(CharSequence::toString)\n      .publish()\n      .refCount()\n}\n</code></pre>\n<p><strong>Sorry, I'm new with RxJava, RxBinding, etc.</strong></p>\n"},{"tags":["java","spring","mongodb","spring-data"],"comments":[{"owner":{"account_id":1969648,"reputation":1644,"user_id":1768967,"display_name":"mkjh"},"score":0,"creation_date":1653748665,"post_id":72416427,"comment_id":127929089,"body_markdown":"would it be feasible to exclude it from your entity rather than the query","body":"would it be feasible to exclude it from your entity rather than the query"},{"owner":{"account_id":9587021,"reputation":1169,"user_id":7482710,"accept_rate":79,"display_name":"John P"},"score":0,"creation_date":1653749475,"post_id":72416427,"comment_id":127929260,"body_markdown":"I will include it on demand","body":"I will include it on demand"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1653880005,"post_id":72416427,"comment_id":127951051,"body_markdown":"You can include and exclude fields using the query _projection_.","body":"You can include and exclude fields using the query <i>projection</i>."},{"owner":{"account_id":9587021,"reputation":1169,"user_id":7482710,"accept_rate":79,"display_name":"John P"},"score":0,"creation_date":1653904538,"post_id":72416427,"comment_id":127957135,"body_markdown":"I know that and the question was how to combine queryDsl and queryProjection in spring data","body":"I know that and the question was how to combine queryDsl and queryProjection in spring data"}],"owner":{"account_id":9587021,"reputation":1169,"user_id":7482710,"accept_rate":79,"display_name":"John P"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653904584,"creation_date":1653747889,"question_id":72416427,"body_markdown":"I want to be able to exclude really heavy objects from a MongoDB document\r\n\r\nI managed to override the default `findAll(Pageable pageable)` method:\r\n\r\n    @Query(value = &quot;{}&quot;, fields = &quot;?0&quot;)\r\n    fun findAllAndIncludeFields(includeFields: Map&lt;String, Int&gt;, pageable: Pageable): Page&lt;MyEntity&gt;\r\n\r\nBut now I would also like to override another signature of the `findAll()` method which takes `querydsl Predicate` param\r\n\r\n    Page&lt;T&gt; findAll(Predicate predicate, Pageable pageable);\r\n\r\nI can not find a way to write a method which will execute the predicate, implement the pagination and also exclude some fields from the response object (apply mongodb projection)\r\n\r\nAny idea on how this can be achieved?\r\n","title":"Spring data MongoDB exclude fields from findAll method with predicate","body":"<p>I want to be able to exclude really heavy objects from a MongoDB document</p>\n<p>I managed to override the default <code>findAll(Pageable pageable)</code> method:</p>\n<pre><code>@Query(value = &quot;{}&quot;, fields = &quot;?0&quot;)\nfun findAllAndIncludeFields(includeFields: Map&lt;String, Int&gt;, pageable: Pageable): Page&lt;MyEntity&gt;\n</code></pre>\n<p>But now I would also like to override another signature of the <code>findAll()</code> method which takes <code>querydsl Predicate</code> param</p>\n<pre><code>Page&lt;T&gt; findAll(Predicate predicate, Pageable pageable);\n</code></pre>\n<p>I can not find a way to write a method which will execute the predicate, implement the pagination and also exclude some fields from the response object (apply mongodb projection)</p>\n<p>Any idea on how this can be achieved?</p>\n"},{"tags":["java","linux","docker","kotlin","gradle"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1642140609,"post_id":70706301,"comment_id":124997032,"body_markdown":"Maybe the build was consuming too much RAM, so OS killed the process.","body":"Maybe the build was consuming too much RAM, so OS killed the process."},{"owner":{"account_id":15319374,"reputation":31,"user_id":11052351,"display_name":"Hassan Syed"},"score":0,"creation_date":1642282491,"post_id":70706301,"comment_id":125031114,"body_markdown":"Thanks for the reply @kiner_shah. Is there any way I can identify what&#39;s the actual reason for this behaivor?","body":"Thanks for the reply @kiner_shah. Is there any way I can identify what&#39;s the actual reason for this behaivor?"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1642312660,"post_id":70706301,"comment_id":125034959,"body_markdown":"You can monitor the RAM used by the process during build using `top` command.","body":"You can monitor the RAM used by the process during build using <code>top</code> command."},{"owner":{"account_id":15319374,"reputation":31,"user_id":11052351,"display_name":"Hassan Syed"},"score":0,"creation_date":1642360679,"post_id":70706301,"comment_id":125044827,"body_markdown":"I&#39;ve tried to increase gradle memory heap but did not work. I&#39;ve checked the system Memory. it&#39;s only 1 GB available, do you think this can be the cause of the issue.","body":"I&#39;ve tried to increase gradle memory heap but did not work. I&#39;ve checked the system Memory. it&#39;s only 1 GB available, do you think this can be the cause of the issue."},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1642391972,"post_id":70706301,"comment_id":125050149,"body_markdown":"It&#39;s possible that since your RAM is just 1 GB and grade build consumes more than 1 GB, the OS kills the gradle build process.","body":"It&#39;s possible that since your RAM is just 1 GB and grade build consumes more than 1 GB, the OS kills the gradle build process."},{"owner":{"account_id":15319374,"reputation":31,"user_id":11052351,"display_name":"Hassan Syed"},"score":0,"creation_date":1642411131,"post_id":70706301,"comment_id":125054502,"body_markdown":"@kiner_shah thanks for your kind help. I&#39;ve one more question. can you please tell is it possible that we build docker image locally and then deploy it to our remote server?","body":"@kiner_shah thanks for your kind help. I&#39;ve one more question. can you please tell is it possible that we build docker image locally and then deploy it to our remote server?"},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1642412913,"post_id":70706301,"comment_id":125055119,"body_markdown":"Yes, you can create and build your own docker images. BTW have a look at this post: https://stackoverflow.com/q/37171043. It may be that the process isn&#39;t killed, but some other issue.","body":"Yes, you can create and build your own docker images. BTW have a look at this post: <a href=\"https://stackoverflow.com/q/37171043\">stackoverflow.com/q/37171043</a>. It may be that the process isn&#39;t killed, but some other issue."}],"answers":[{"tags":[],"owner":{"account_id":1699302,"reputation":11792,"user_id":1559852,"accept_rate":100,"display_name":"savepopulation"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653904549,"creation_date":1653904549,"answer_id":72432430,"question_id":70706301,"body_markdown":"I had a similar issue while I was trying to build a `ktor` application on `Digital Ocean` with `Docker`. \r\n\r\nI added the following lines to my `gradle.properties` file\r\n\r\n    org.gradle.daemon=false\r\n    org.gradle.jvmargs=-Xmx1024m \r\n\r\nand added Gradle `clean` into the `Dockerfile`\r\n\r\n    RUN ./gradlew clean\r\n\r\n","title":"Building docker image - Gradle build daemon disappeared unexpectedly","body":"<p>I had a similar issue while I was trying to build a <code>ktor</code> application on <code>Digital Ocean</code> with <code>Docker</code>.</p>\n<p>I added the following lines to my <code>gradle.properties</code> file</p>\n<pre><code>org.gradle.daemon=false\norg.gradle.jvmargs=-Xmx1024m \n</code></pre>\n<p>and added Gradle <code>clean</code> into the <code>Dockerfile</code></p>\n<pre><code>RUN ./gradlew clean\n</code></pre>\n"}],"owner":{"account_id":15319374,"reputation":31,"user_id":11052351,"display_name":"Hassan Syed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7493,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1653904549,"creation_date":1642137624,"question_id":70706301,"body_markdown":"SO family, I&#39;ve been working on a project using Docker, Gradle, and Kotlin.The issue is\r\nwhenever I try to build a new docker image to deploy my latest changes, it gives an error\r\n\r\n&gt; **FAILURE: Build failed with an exception.**\r\n&gt;  What went wrong:\r\n&gt; **Gradle build daemon disappeared unexpectedly (it may have been killed or may have crashed)**\r\n\r\nI&#39;ve tried to clear the memory multiple times by removing extra docker images and containers but couldn&#39;t succeed.\r\n**The complete log file is attached.**\r\n```\r\nStep 1/19 : FROM xyz-image as build\r\n ---&gt; 1ed71d09935d\r\nStep 2/19 : RUN apk --no-cache --update add postgresql-client\r\n ---&gt; Using cache\r\n ---&gt; 8a7e3e5df31c\r\nStep 3/19 : ENV APP_HOME=/workspace\r\n ---&gt; Using cache\r\n ---&gt; d46fa561ccbf\r\nStep 4/19 : WORKDIR $APP_HOME\r\n ---&gt; Using cache\r\n ---&gt; 438c463befb9\r\nStep 5/19 : COPY . .\r\n ---&gt; 83e81d9f7ee7\r\nStep 6/19 : RUN chmod 777 ./gradlew &amp;&amp;  ./gradlew clean build --stacktrace test jacocoTestReport sonarqube\r\n ---&gt; Running in bc7a8bc75fed\r\n./gradlew: line 1: Content#!/usr/bin/env: not found\r\nDownloading https://services.gradle.org/distributions/gradle-5.4.1-bin.zip\r\n...................................................................................\r\n\r\nWelcome to Gradle 5.4.1!\r\n\r\nHere are the highlights of this release:\r\n - Run builds with JDK12\r\n - New API for Incremental Tasks\r\n - Updates to native projects, including Swift 5 support\r\n\r\nFor more details see https://docs.gradle.org/5.4.1/release-notes.html\r\n\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n&gt; Task :clean UP-TO-DATE\r\n&gt; Task :compileKotlin\r\n\r\nThe message received from the daemon indicates that the daemon has disappeared.\r\nBuild request sent: Build{id=e70a3593-58dd-4d13-9cc0-3064a72c8175, currentDir=/workspace}\r\nAttempting to read last messages from the daemon log...\r\nDaemon pid: 49\r\n  log file: /root/.gradle/daemon/5.4.1/daemon-49.out.log\r\n----- Last  20 lines from daemon log file - daemon-49.out.log -----\r\n05:57:15.389 [ERROR] [org.gradle.launcher.daemon.server.DaemonStateCoordinator] Command execution: started DaemonCommandExecution[command = Build{id=e70a3593-58dd-4d13-9cc0-3064a72c8175, currentDir=/workspace}, connection = DefaultDaemonConnection: socket connection from /127.0.0.1:34029 to /127.0.0.1:47592] after 0.0 minutes of idle\r\n05:57:15.390 [INFO] [org.gradle.launcher.daemon.server.DaemonRegistryUpdater] Marking the daemon as busy, address: [b5d2ee0e-ade8-438a-a2a1-d0b724bd1ee9 port:34029, addresses:[/127.0.0.1]]\r\n05:57:15.390 [DEBUG] [org.gradle.launcher.daemon.registry.PersistentDaemonRegistry] Marking busy by address: [b5d2ee0e-ade8-438a-a2a1-d0b724bd1ee9 port:34029, addresses:[/127.0.0.1]]\r\n05:57:15.391 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Waiting to acquire exclusive lock on daemon addresses registry.\r\n05:57:15.391 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.\r\n05:57:15.396 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\r\n05:57:15.398 [DEBUG] [org.gradle.launcher.daemon.server.DaemonStateCoordinator] resetting idle timer\r\n05:57:15.399 [DEBUG] [org.gradle.launcher.daemon.server.DaemonStateCoordinator] daemon is running. Sleeping until state changes.\r\n05:57:15.400 [INFO] [org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy] Daemon is about to start building Build{id=e70a3593-58dd-4d13-9cc0-3064a72c8175, currentDir=/workspace}. Dispatching build started information...\r\n05:57:15.401 [DEBUG] [org.gradle.launcher.daemon.server.SynchronizedDispatchConnection] thread 17: dispatching class org.gradle.launcher.daemon.protocol.BuildStarted\r\n05:57:15.403 [DEBUG] [org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment] Configuring env variables: {PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/jdk/bin, JAVA_JCE=standard, APP_HOME=/workspace, JAVA_HOME=/opt/jdk, OLDPWD=/workspace, GLIBC_VERSION=2.27-r0, LANG=C.UTF-8, JAVA_VERSION_MAJOR=8, HOSTNAME=bc7a8bc75fed, JAVA_VERSION_TOKEN=42970487e3af4f5aa5bca3f542482c60, GLIBC_REPO=https://github.com/sgerrand/alpine-pkg-glibc, JAVA_VERSION_MINOR=201, PWD=/workspace, JAVA_PACKAGE=jdk, JAVA_VERSION_BUILD=09, HOME=/root, SHLVL=2}\r\n05:57:15.406 [DEBUG] [org.gradle.launcher.daemon.server.SynchronizedDispatchConnection] thread 15: received class org.gradle.launcher.daemon.protocol.CloseInput\r\n05:57:15.407 [DEBUG] [org.gradle.launcher.daemon.server.DefaultDaemonConnection] thread 15: Received IO message from client: org.gradle.launcher.daemon.protocol.CloseInput@6181a140\r\n05:57:15.411 [DEBUG] [org.gradle.launcher.daemon.server.exec.LogToClient] About to start relaying all logs to the client via the connection.\r\n05:57:15.411 [INFO] [org.gradle.launcher.daemon.server.exec.LogToClient] The client will now receive all logging from the daemon (pid: 49). The daemon log file: /root/.gradle/daemon/5.4.1/daemon-49.out.log\r\n05:57:15.414 [INFO] [org.gradle.launcher.daemon.server.exec.LogAndCheckHealth] Starting build in new daemon [memory: 477.6 MB]\r\n05:57:15.415 [INFO] [org.gradle.launcher.daemon.server.exec.ForwardClientInput] Closing daemon&#39;s stdin at end of input.\r\n05:57:15.416 [INFO] [org.gradle.launcher.daemon.server.exec.ForwardClientInput] The daemon will no longer process any standard input.\r\n05:57:15.420 [DEBUG] [org.gradle.launcher.daemon.server.exec.ExecuteBuild] The daemon has started executing the build.\r\n05:57:15.420 [DEBUG] [org.gradle.launcher.daemon.server.exec.ExecuteBuild] Executing build with daemon context: DefaultDaemonContext[uid=ff30b05d-4eb7-4a0f-b3e6-b9043b11d71f,javaHome=/opt/jdk1.8.0_201,daemonRegistryDir=/root/.gradle/daemon,pid=49,idleTimeout=10800000,priority=NORMAL,daemonOpts=-XX:MaxMetaspaceSize=256m,-XX:+HeapDumpOnOutOfMemoryError,-Xms256m,-Xmx512m,-Dfile.encoding=UTF-8,-Duser.country,-Duser.language=en,-Duser.variant]\r\n----- End of the daemon log -----\r\n\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nGradle build daemon disappeared unexpectedly (it may have been killed or may have crashed)\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.launcher.daemon.client.DaemonDisappearedException: Gradle build daemon disappeared unexpectedly (it may have been killed or may have crashed)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.handleDaemonDisappearance(DaemonClient.java:241)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.monitorBuild(DaemonClient.java:217)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.executeBuild(DaemonClient.java:179)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:142)\r\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:94)\r\n        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:55)\r\n        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:208)\r\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:394)\r\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:367)\r\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:37)\r\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:23)\r\n        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:360)\r\n        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:292)\r\n        at org.gradle.launcher.Main.doAction(Main.java:36)\r\n        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\r\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\r\n        at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:31)\r\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:108)\r\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:62)\r\n\r\n\r\n* Get more help at https://help.gradle.org\r\nThe command &#39;/bin/sh -c chmod 777 ./gradlew &amp;&amp;  ./gradlew clean build --stacktrace test jacocoTestReport sonarqube&#39; returned a non-zero code: 1\r\n````\r\n***Thanks for your help in advance.***\r\n\r\n\r\n","title":"Building docker image - Gradle build daemon disappeared unexpectedly","body":"<p>SO family, I've been working on a project using Docker, Gradle, and Kotlin.The issue is\nwhenever I try to build a new docker image to deploy my latest changes, it gives an error</p>\n<blockquote>\n<p><strong>FAILURE: Build failed with an exception.</strong>\nWhat went wrong:\n<strong>Gradle build daemon disappeared unexpectedly (it may have been killed or may have crashed)</strong></p>\n</blockquote>\n<p>I've tried to clear the memory multiple times by removing extra docker images and containers but couldn't succeed.\n<strong>The complete log file is attached.</strong></p>\n<pre><code>Step 1/19 : FROM xyz-image as build\n ---&gt; 1ed71d09935d\nStep 2/19 : RUN apk --no-cache --update add postgresql-client\n ---&gt; Using cache\n ---&gt; 8a7e3e5df31c\nStep 3/19 : ENV APP_HOME=/workspace\n ---&gt; Using cache\n ---&gt; d46fa561ccbf\nStep 4/19 : WORKDIR $APP_HOME\n ---&gt; Using cache\n ---&gt; 438c463befb9\nStep 5/19 : COPY . .\n ---&gt; 83e81d9f7ee7\nStep 6/19 : RUN chmod 777 ./gradlew &amp;&amp;  ./gradlew clean build --stacktrace test jacocoTestReport sonarqube\n ---&gt; Running in bc7a8bc75fed\n./gradlew: line 1: Content#!/usr/bin/env: not found\nDownloading https://services.gradle.org/distributions/gradle-5.4.1-bin.zip\n...................................................................................\n\nWelcome to Gradle 5.4.1!\n\nHere are the highlights of this release:\n - Run builds with JDK12\n - New API for Incremental Tasks\n - Updates to native projects, including Swift 5 support\n\nFor more details see https://docs.gradle.org/5.4.1/release-notes.html\n\nStarting a Gradle Daemon (subsequent builds will be faster)\n&gt; Task :clean UP-TO-DATE\n&gt; Task :compileKotlin\n\nThe message received from the daemon indicates that the daemon has disappeared.\nBuild request sent: Build{id=e70a3593-58dd-4d13-9cc0-3064a72c8175, currentDir=/workspace}\nAttempting to read last messages from the daemon log...\nDaemon pid: 49\n  log file: /root/.gradle/daemon/5.4.1/daemon-49.out.log\n----- Last  20 lines from daemon log file - daemon-49.out.log -----\n05:57:15.389 [ERROR] [org.gradle.launcher.daemon.server.DaemonStateCoordinator] Command execution: started DaemonCommandExecution[command = Build{id=e70a3593-58dd-4d13-9cc0-3064a72c8175, currentDir=/workspace}, connection = DefaultDaemonConnection: socket connection from /127.0.0.1:34029 to /127.0.0.1:47592] after 0.0 minutes of idle\n05:57:15.390 [INFO] [org.gradle.launcher.daemon.server.DaemonRegistryUpdater] Marking the daemon as busy, address: [b5d2ee0e-ade8-438a-a2a1-d0b724bd1ee9 port:34029, addresses:[/127.0.0.1]]\n05:57:15.390 [DEBUG] [org.gradle.launcher.daemon.registry.PersistentDaemonRegistry] Marking busy by address: [b5d2ee0e-ade8-438a-a2a1-d0b724bd1ee9 port:34029, addresses:[/127.0.0.1]]\n05:57:15.391 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Waiting to acquire exclusive lock on daemon addresses registry.\n05:57:15.391 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Lock acquired on daemon addresses registry.\n05:57:15.396 [DEBUG] [org.gradle.cache.internal.DefaultFileLockManager] Releasing lock on daemon addresses registry.\n05:57:15.398 [DEBUG] [org.gradle.launcher.daemon.server.DaemonStateCoordinator] resetting idle timer\n05:57:15.399 [DEBUG] [org.gradle.launcher.daemon.server.DaemonStateCoordinator] daemon is running. Sleeping until state changes.\n05:57:15.400 [INFO] [org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy] Daemon is about to start building Build{id=e70a3593-58dd-4d13-9cc0-3064a72c8175, currentDir=/workspace}. Dispatching build started information...\n05:57:15.401 [DEBUG] [org.gradle.launcher.daemon.server.SynchronizedDispatchConnection] thread 17: dispatching class org.gradle.launcher.daemon.protocol.BuildStarted\n05:57:15.403 [DEBUG] [org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment] Configuring env variables: {PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/jdk/bin, JAVA_JCE=standard, APP_HOME=/workspace, JAVA_HOME=/opt/jdk, OLDPWD=/workspace, GLIBC_VERSION=2.27-r0, LANG=C.UTF-8, JAVA_VERSION_MAJOR=8, HOSTNAME=bc7a8bc75fed, JAVA_VERSION_TOKEN=42970487e3af4f5aa5bca3f542482c60, GLIBC_REPO=https://github.com/sgerrand/alpine-pkg-glibc, JAVA_VERSION_MINOR=201, PWD=/workspace, JAVA_PACKAGE=jdk, JAVA_VERSION_BUILD=09, HOME=/root, SHLVL=2}\n05:57:15.406 [DEBUG] [org.gradle.launcher.daemon.server.SynchronizedDispatchConnection] thread 15: received class org.gradle.launcher.daemon.protocol.CloseInput\n05:57:15.407 [DEBUG] [org.gradle.launcher.daemon.server.DefaultDaemonConnection] thread 15: Received IO message from client: org.gradle.launcher.daemon.protocol.CloseInput@6181a140\n05:57:15.411 [DEBUG] [org.gradle.launcher.daemon.server.exec.LogToClient] About to start relaying all logs to the client via the connection.\n05:57:15.411 [INFO] [org.gradle.launcher.daemon.server.exec.LogToClient] The client will now receive all logging from the daemon (pid: 49). The daemon log file: /root/.gradle/daemon/5.4.1/daemon-49.out.log\n05:57:15.414 [INFO] [org.gradle.launcher.daemon.server.exec.LogAndCheckHealth] Starting build in new daemon [memory: 477.6 MB]\n05:57:15.415 [INFO] [org.gradle.launcher.daemon.server.exec.ForwardClientInput] Closing daemon's stdin at end of input.\n05:57:15.416 [INFO] [org.gradle.launcher.daemon.server.exec.ForwardClientInput] The daemon will no longer process any standard input.\n05:57:15.420 [DEBUG] [org.gradle.launcher.daemon.server.exec.ExecuteBuild] The daemon has started executing the build.\n05:57:15.420 [DEBUG] [org.gradle.launcher.daemon.server.exec.ExecuteBuild] Executing build with daemon context: DefaultDaemonContext[uid=ff30b05d-4eb7-4a0f-b3e6-b9043b11d71f,javaHome=/opt/jdk1.8.0_201,daemonRegistryDir=/root/.gradle/daemon,pid=49,idleTimeout=10800000,priority=NORMAL,daemonOpts=-XX:MaxMetaspaceSize=256m,-XX:+HeapDumpOnOutOfMemoryError,-Xms256m,-Xmx512m,-Dfile.encoding=UTF-8,-Duser.country,-Duser.language=en,-Duser.variant]\n----- End of the daemon log -----\n\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nGradle build daemon disappeared unexpectedly (it may have been killed or may have crashed)\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.launcher.daemon.client.DaemonDisappearedException: Gradle build daemon disappeared unexpectedly (it may have been killed or may have crashed)\n        at org.gradle.launcher.daemon.client.DaemonClient.handleDaemonDisappearance(DaemonClient.java:241)\n        at org.gradle.launcher.daemon.client.DaemonClient.monitorBuild(DaemonClient.java:217)\n        at org.gradle.launcher.daemon.client.DaemonClient.executeBuild(DaemonClient.java:179)\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:142)\n        at org.gradle.launcher.daemon.client.DaemonClient.execute(DaemonClient.java:94)\n        at org.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:55)\n        at org.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:208)\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:394)\n        at org.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:367)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:37)\n        at org.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:23)\n        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:360)\n        at org.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:292)\n        at org.gradle.launcher.Main.doAction(Main.java:36)\n        at org.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:60)\n        at org.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:37)\n        at org.gradle.launcher.GradleMain.main(GradleMain.java:23)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:31)\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:108)\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:62)\n\n\n* Get more help at https://help.gradle.org\nThe command '/bin/sh -c chmod 777 ./gradlew &amp;&amp;  ./gradlew clean build --stacktrace test jacocoTestReport sonarqube' returned a non-zero code: 1\n</code></pre>\n<p><em><strong>Thanks for your help in advance.</strong></em></p>\n"},{"tags":["java","c","java-native-interface","sgx"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1653853754,"post_id":72425767,"comment_id":127947235,"body_markdown":"Don&#39;t you get an hs_err file/JVM crash log? It seems like maybe the native code, or something else, is installing it&#39;s own signal handler, which interferes with JVM features such as implicit null checking. You might try running with `-XX:-ImplicitNullChecks`. But, in general, signal handlers can interfere with the normal functioning of the JVM.","body":"Don&#39;t you get an hs_err file/JVM crash log? It seems like maybe the native code, or something else, is installing it&#39;s own signal handler, which interferes with JVM features such as implicit null checking. You might try running with <code>-XX:-ImplicitNullChecks</code>. But, in general, signal handlers can interfere with the normal functioning of the JVM."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1653853837,"post_id":72425767,"comment_id":127947246,"body_markdown":"Also, you could try running with `-Xcheck:jni`.","body":"Also, you could try running with <code>-Xcheck:jni</code>."},{"owner":{"account_id":21832911,"reputation":63,"user_id":16127639,"display_name":"mute_police"},"score":0,"creation_date":1653856744,"post_id":72425767,"comment_id":127947755,"body_markdown":"Thanks a lot, -Xcheck allows me to run my program no problems, it does warn that it is receiving SIGSEGV signals, It does seem like I am dereferencing an invalid pointer somewhere, the line in question seems to be   \n`ret = sgx_create_enclave(enclave_filePath, SGX_DEBUG_FLAG, &amp;token, &amp;updated, &amp;global_eid, NULL);` , Sorry to bother , I dont really understand why the received pointers are invalid, considering that I can access the values inside them. If you would have any insight, it would be very appreciated","body":"Thanks a lot, -Xcheck allows me to run my program no problems, it does warn that it is receiving SIGSEGV signals, It does seem like I am dereferencing an invalid pointer somewhere, the line in question seems to be    <code>ret = sgx_create_enclave(enclave_filePath, SGX_DEBUG_FLAG, &amp;token, &amp;updated, &amp;global_eid, NULL);</code> , Sorry to bother , I dont really understand why the received pointers are invalid, considering that I can access the values inside them. If you would have any insight, it would be very appreciated"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1653898097,"post_id":72425767,"comment_id":127954837,"body_markdown":"You created `correctPath` and then still pass `enclaveFilePath`? Also, you are clearly writing C++ code, so use the C++ built-in string and memory handling stuff to save yourself all the headaches.","body":"You created <code>correctPath</code> and then still pass <code>enclaveFilePath</code>? Also, you are clearly writing C++ code, so use the C++ built-in string and memory handling stuff to save yourself all the headaches."},{"owner":{"account_id":21832911,"reputation":63,"user_id":16127639,"display_name":"mute_police"},"score":0,"creation_date":1653904380,"post_id":72425767,"comment_id":127957072,"body_markdown":"I had already corrected it and forgotten to correct it in the question. The final JVM crash file is already with the correctPath.","body":"I had already corrected it and forgotten to correct it in the question. The final JVM crash file is already with the correctPath."}],"owner":{"account_id":21832911,"reputation":63,"user_id":16127639,"display_name":"mute_police"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653904327,"creation_date":1653844662,"question_id":72425767,"body_markdown":"**Context**\r\nI am working on my Master Thesis using Intel SGX in order to use Enclave Code alongside a Java project.\r\n\r\nThe project uses Gradle for installation, and I have added a .jar containing a Class containing Native calls and the .so file containing the code for these calls.\r\n\r\nI am currently only being able to open up an enclave and calculate an EC Curve for DH Key exchange, however, as the java code moves on, segfaults occur. These Segfaults however, dont occur inside the C code, as I am able to retrieve the correct and expected results from the native code in my java project. These segmentation faults usually happen there is heavy I/O workload (At least that is what I deduced so far), usually Sockets, which is something I use, since my thesis is in Distributed Systems.\r\n\r\n**C Code:**\r\n```\r\nJNIEXPORT jint JNICALL Java_sgxUtils_SgxFunctions_jni_1initialize_1enclave\r\n  (JNIEnv *env , jobject,jint enclaveId, jbyteArray file_path){\r\n\r\n    if(file_path == NULL){\r\n      printf(&quot;NULL FILEPATH. error.&quot;);\r\n      return -1;\r\n    }\r\n    char token_path[MAX_PATH] = {&#39;\\0&#39;};\r\n    sgx_launch_token_t token = {0};\r\n    sgx_status_t ret = SGX_ERROR_UNEXPECTED;\r\n    int updated = 0;\r\n    //Get the id of a given Enclave:\r\n    global_eid = (int)enclaveId;\r\n    int length = snprintf(NULL , 0, &quot;%d&quot;, enclaveId) + 1; //Gives the length of the Integer as a String.\r\n    char* id_ptr = (char*)malloc(length); \r\n    snprintf(id_ptr,length,&quot;%d&quot;,enclaveId); \r\n\r\n\r\n    /* Step 1: try to retrieve the launch token saved by last transaction \r\n     *         if there is no token, then create a new one.\r\n     */\r\n    /* try to get the token saved in $HOME */\r\n    const char *home_dir = getpwuid(getuid())-&gt;pw_dir;\r\n    \r\n    if (home_dir != NULL &amp;&amp; \r\n        (strlen(home_dir)+strlen(&quot;/&quot;)+sizeof(TOKEN_FILENAME)+1) &lt;= MAX_PATH) {\r\n        /* compose the token path */\r\n        strncpy(token_path, home_dir, strlen(home_dir));\r\n        strncat(token_path, &quot;/&quot;, strlen(&quot;/&quot;));\r\n        char* correctName = (char*) malloc(length + sizeof(TOKEN_FILENAME) + 1);\r\n        memcpy(correctName,id_ptr,length);\r\n        strncat(correctName,TOKEN_FILENAME,sizeof(TOKEN_FILENAME)+1);\r\n        strncat(token_path,correctName,length + sizeof(TOKEN_FILENAME)+1);\r\n        // strncat(token_path, TOKEN_FILENAME, sizeof(TOKEN_FILENAME)+1);\r\n        // free(correctName);\r\n    } else {\r\n        /* if token path is too long or $HOME is NULL */\r\n        strncpy(token_path, TOKEN_FILENAME, sizeof(TOKEN_FILENAME));\r\n    }\r\n\r\n    FILE *fp = fopen(token_path, &quot;rb&quot;);\r\n    if (fp == NULL &amp;&amp; (fp = fopen(token_path, &quot;wb&quot;)) == NULL) {\r\n        printf(&quot;Warning: Failed to create/open the launch token file \\&quot;%s\\&quot;.\\n&quot;, token_path);\r\n    }\r\n\r\n\r\n    if (fp != NULL) {\r\n        /* read the token from saved file */\r\n        size_t read_num = fread(token, 1, sizeof(sgx_launch_token_t), fp);\r\n        if (read_num != 0 &amp;&amp; read_num != sizeof(sgx_launch_token_t)) {\r\n            /* if token is invalid, clear the buffer */\r\n            memset(&amp;token, 0x0, sizeof(sgx_launch_token_t));\r\n            printf(&quot;Warning: Invalid launch token read from \\&quot;%s\\&quot;.\\n&quot;, token_path);\r\n        }\r\n    }\r\n    printf(&quot;\\n&quot;);\r\n    /* Step 2: call sgx_create_enclave to initialize an enclave instance */\r\n    /* Debug Support: set 2nd parameter to 1 */\r\n\r\n    //Here we obtain the char* of the given Enclave file path:\r\n    size_t filename_size = env-&gt;GetArrayLength(file_path);\r\n    jbyte* jb_filePath = env-&gt;GetByteArrayElements(file_path,NULL);\r\n   \r\n    char* enclave_filePath = (char*) malloc(filename_size);\r\n    memcpy(enclave_filePath,jb_filePath,filename_size);\r\n\r\n    ret = sgx_create_enclave(enclave_filePath, SGX_DEBUG_FLAG, &amp;token, &amp;updated, &amp;global_eid, NULL);\r\n    if (ret != SGX_SUCCESS) {\r\n        if (fp != NULL) fclose(fp);\r\n        return -1;\r\n    }\r\n\r\n    /* Step 3: save the launch token if it is updated */\r\n    if (updated == FALSE || fp == NULL) {\r\n        /* if the token is not updated, or file handler is invalid, do not perform saving */\r\n        if (fp != NULL) fclose(fp);\r\n        return 0;\r\n    }\r\n\r\n    /* reopen the file with write capablity */\r\n    fp = freopen(token_path, &quot;wb&quot;, fp);\r\n    if (fp == NULL) return 0;\r\n    size_t write_num = fwrite(token, 1, sizeof(sgx_launch_token_t), fp);\r\n    if (write_num != sizeof(sgx_launch_token_t))\r\n        printf(&quot;Warning: Failed to save launch token to \\&quot;%s\\&quot;.\\n&quot;, token_path);\r\n    fclose(fp);\r\n\r\n    free(id_ptr);\r\n    // env-&gt;ReleaseStringUTFChars(file_path,enclave_filePath);\r\n    return 0;\r\n  }\r\n\r\nJNIEXPORT jbyteArray JNICALL Java_sgxUtils_SgxFunctions_jni_1sgx_1begin_1ec_1dh(JNIEnv *env, jobject){\r\n    printf(&quot;Begin DH \\n&quot;);\r\n\r\n    if(init_happened == 1){ //Verify if the Random generators were seeded.\r\n      sgx_status_t init_status;\r\n      init_mbed(global_eid,&amp;init_status);\r\n      init_happened = 0;\r\n      //printf(&quot;Init happened inside enclave.&quot;);\r\n    }\r\n\r\n    unsigned char* public_ec_key = (unsigned char*)malloc(EC_KEY_SIZE); //32 bytes allocated. (256)\r\n    printf(&quot;Calculating EC_DH.\\n&quot;);\r\n\r\n    //Start the ECDH Ecall.\r\n    sgx_status_t ecdh_status;\r\n    create_ec_key_pair(global_eid,&amp;ecdh_status,public_ec_key,EC_KEY_SIZE); //Send the buffer and its size.\r\n    if(ecdh_status != SGX_SUCCESS){\r\n      printf(&quot;Failed. ec_key_pair returned %d\\n&quot;,ecdh_status);\r\n    }\r\n\r\n    //Copy the information to a Jbyte in order to return in a JbyteArray:\r\n    jbyte* toCopy = (jbyte*)malloc(EC_KEY_SIZE * sizeof(jbyte));\r\n    memcpy(toCopy,public_ec_key,EC_KEY_SIZE);\r\n\r\n    //Return the Public Key:\r\n    jbyteArray result = env-&gt;NewByteArray(EC_KEY_SIZE);\r\n    env-&gt;SetByteArrayRegion(result,0,EC_KEY_SIZE,toCopy);\r\n    //Free the pointers and return the arrray.\r\n    free(public_ec_key);\r\n    free(toCopy);\r\n\r\n    printf(&quot;EC_DH Calculated.\\n&quot;);\r\n\r\n    return result;\r\n  }\r\n```\r\n\r\nI will omit the large output from Valgrind, it is just a huge file with &#39;?&#39; every line, since SGX hides the Stack trace, giving me no info on the invalid reads/Writes.\r\n\r\n**Valgrind Output**\r\n```\r\n==38490== Warning: client switching stacks?  SP change: 0x6a937a0 --&gt; 0x28789d48\r\n==38490==          to suppress, use: --max-stackframe=567240104 or greater\r\n==38490== Warning: client switching stacks?  SP change: 0x28789d48 --&gt; 0x6a937a0\r\n==38490==          to suppress, use: --max-stackframe=567240104 or greater\r\n==38490== Warning: client switching stacks?  SP change: 0x6a97220 --&gt; 0x28789d48\r\n==38490==          to suppress, use: --max-stackframe=567225128 or greater\r\n==38490==          further instances of this message will not be shown.\r\n==38490== \r\n==38490== Process terminating with default action of signal 11 (SIGSEGV)\r\n==38490==  Access not within mapped region at address 0x2\r\n==38490==    at 0x27CD0B05: sig_handler_sim(int, siginfo_t*, void*) (in /opt/intel/sgxsdk/lib64/libsgx_urts_sim.so)\r\n==38490==  If you believe this happened as a result of a stack\r\n==38490==  overflow in your program&#39;s main thread (unlikely but\r\n==38490==  possible), you can try to increase the size of the\r\n==38490==  main thread stack using the --main-stacksize= flag.\r\n==38490==  The main thread stack size used in this run was 8388608.\r\n==38490== \r\n==38490== HEAP SUMMARY:\r\n==38490==     in use at exit: 16,636,139 bytes in 39,334 blocks\r\n==38490==   total heap usage: 55,264 allocs, 15,930 frees, 71,819,001 bytes allocated\r\n```\r\n\r\n**Java Code**\r\n```\r\n\tprivate void initEnclave() {\r\n\t\tthis.logger.info(&quot;Starting InitEnclave&quot;);\r\n\t\tenclave = new SgxFunctions(this.enclaveId);\r\n\t\ttry {\r\n\t\t\tFile pemFile = new File(HOME_DIR + &quot;/&quot; + this.enclaveId + &quot;.pem&quot;);\r\n\t\t\tif(!pemFile.exists()) {\r\n\t\t\t\tpemFile = SgxFunctions.createPem(this.enclaveId);\r\n\t\t\t}\r\n\t\t\tFile enclaveFile = new File(HOME_DIR + &quot;/&quot; + this.enclaveId + &quot;enclave_signed.so&quot;);\r\n\t\t\tif(!enclaveFile.exists()) {\r\n\t\t\t\tenclave.createSignedEnclave(HOME_DIR, pemFile.getAbsolutePath(), enclaveId);\r\n\t\t\t\tthis.logger.info(&quot;Enclave signed&quot;);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tthis.logger.info(&quot;Enclave file exists. Starting enclave.&quot;);\r\n\t\t\t\r\n\t\t\tlogger.info(&quot;ABSOLUTE PATH: &quot; + enclaveFile.getAbsolutePath());\r\n\t\t\tbyte[] enclaveFilePath = enclaveFile.getAbsolutePath().substring(0).getBytes(StandardCharsets.UTF_8);\r\n\t\t\tbyte[] correctPath = Arrays.copyOf(enclaveFilePath, enclaveFilePath.length+1);\r\n\t\t\tcorrectPath[correctPath.length-1] = &#39;\\0&#39;;\r\n\t\t\tint created = enclave.jni_initialize_enclave(enclaveId,correctPath);\r\n\t\t\tif(created == 0)\r\n\t\t\t\tthis.logger.info(&quot;Enclave created.&quot;);\r\n\t\t\telse\r\n\t\t\t\tthis.logger.info(&quot;Enclave failed to create.&quot;);\r\n//\r\n//\t\t\t//Create DH parameters:\r\n\t\t\tthis.dh_params = this.enclave.jni_sgx_begin_ec_dh(); //Begin the Enclave EC parameters for DH key exchange.\r\n\t\t\tthis.logger.info(&quot;EC-DH Parameters created for Key exchange.&quot;);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nIf I comment out the &#39;begin_ec_dh()&#39; Call, the program will not segfault. However, even when running this native call, the Enclave will return an acceptable result and I am able to use the result in my Java code no problem, but only up until a certain point where it segfaults for an unkown reason.\r\n\r\nI suspect its obviously my code, but I have no idea what is going on.\r\nAny help is appreciated, Thank you for your help and sorry for the long post.\r\n\r\nEdit:\r\n\r\nI have added a printf() in order to retrieve a Crash file from the JVM over the filename Pointer. \r\nWhat I dont understand is that If you look at my C code, I have allocated exactly the Array Size that comes from java (And I have added the null terminator in my Java Code, which was previously the source of another segfault), any idea what is causing this? Seems like I am dereferencing an Invalid pointer, but why is it invalid?\r\n\r\n**JVM Crash File**\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f9f51fd9627, pid=9910, tid=9911\r\n#\r\n# JRE version: OpenJDK Runtime Environment (17.0.3+7) (build 17.0.3+7-Ubuntu-0ubuntu0.20.04.1)\r\n# Java VM: OpenJDK 64-Bit Server VM (17.0.3+7-Ubuntu-0ubuntu0.20.04.1, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# C  [libc.so.6+0x188627]\r\n#\r\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/andrecruz/Tese/Con-BFT/build/install/library/core.9910)\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   Unknown\r\n# The crash happened outside the Java Virtual Machine in native code.\r\n# See problematic frame for where to report the bug.\r\n#\r\n\r\n---------------  S U M M A R Y ------------\r\n\r\nCommand Line: -Djava.security.properties=./config/java.security -Djava.library.path=./lib/ -Dfile.encoding=UTF-8 -XX:ErrorFile=/home/andrecruz/Tese/Con-BFT/ -XX:+ShowCodeDetailsInExceptionMessages -Dlogback.configurationFile=./config/logback.xml bftsmart.demo.map.MapServer 0 10\r\n\r\nHost: Intel(R) Core(TM) i5-6440HQ CPU @ 2.60GHz, 4 cores, 7G, Ubuntu 20.04.4 LTS\r\nTime: Sun May 29 23:13:08 2022 WEST elapsed time: 2.134101 seconds (0d 0h 0m 2s)\r\n\r\n---------------  T H R E A D  ---------------\r\n\r\nCurrent thread (0x00007f9f4c012b40):  JavaThread &quot;main&quot; [_thread_in_native, id=9911, stack(0x00007f9f5061b000,0x00007f9f5071c000)]\r\n\r\nStack: [0x00007f9f5061b000,0x00007f9f5071c000],  sp=0x00007f9f50718c28,  free space=1015k\r\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nC  [libc.so.6+0x188627]\r\nC  [libc.so.6+0x61d6f]  _IO_printf+0xaf\r\nj  sgxUtils.SgxFunctions.jni_initialize_enclave(I[B)I+0\r\nj  bftsmart.tom.ServiceReplica.initEnclave()V+248\r\nj  bftsmart.tom.ServiceReplica.&lt;init&gt;(ILjava/lang/String;Lbftsmart/tom/server/Executable;Lbftsmart/tom/server/Recoverable;Lbftsmart/tom/server/RequestVerifier;Lbftsmart/tom/server/Replier;Lbftsmart/tom/util/KeyLoader;I)V+147\r\nj  bftsmart.tom.ServiceReplica.&lt;init&gt;(ILbftsmart/tom/server/Executable;Lbftsmart/tom/server/Recoverable;I)V+17\r\nj  bftsmart.demo.map.MapServer.&lt;init&gt;(II)V+35\r\nj  bftsmart.demo.map.MapServer.main([Ljava/lang/String;)V+34\r\nv  ~StubRoutines::call_stub\r\nV  [libjvm.so+0x83ae75]\r\nV  [libjvm.so+0x8cf4e9]\r\nV  [libjvm.so+0x8d2392]\r\nC  [libjli.so+0x4abe]\r\nC  [libjli.so+0x84ed]\r\n\r\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\nj  sgxUtils.SgxFunctions.jni_initialize_enclave(I[B)I+0\r\nj  bftsmart.tom.ServiceReplica.initEnclave()V+248\r\nj  bftsmart.tom.ServiceReplica.&lt;init&gt;(ILjava/lang/String;Lbftsmart/tom/server/Executable;Lbftsmart/tom/server/Recoverable;Lbftsmart/tom/server/RequestVerifier;Lbftsmart/tom/server/Replier;Lbftsmart/tom/util/KeyLoader;I)V+147\r\nj  bftsmart.tom.ServiceReplica.&lt;init&gt;(ILbftsmart/tom/server/Executable;Lbftsmart/tom/server/Recoverable;I)V+17\r\nj  bftsmart.demo.map.MapServer.&lt;init&gt;(II)V+35\r\nj  bftsmart.demo.map.MapServer.main([Ljava/lang/String;)V+34\r\nv  ~StubRoutines::call_stub\r\n\r\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x0000000000000020\r\n\r\nRegister to memory mapping:\r\n\r\nRAX=0x0000000000000010 is an unknown value\r\nRBX=0x00007f9f51ec7b43: &lt;offset 0x0000000000076b43&gt; in /lib/x86_64-linux-gnu/libc.so.6 at 0x00007f9f51e51000\r\nRCX=0x000000000000000f is an unknown value\r\nRDX=0x000000000000002f is an unknown value\r\nRSP=0x00007f9f50718c28 is pointing into the stack for thread: 0x00007f9f4c012b40\r\nRBP=0x00007f9f507191a0 is pointing into the stack for thread: 0x00007f9f4c012b40\r\nRSI=0x00007f9f50719168 is pointing into the stack for thread: 0x00007f9f4c012b40\r\nRDI=0x0000000000000020 is an unknown value\r\nR8 =0x00000000ffffffff points into unknown readable memory: 00\r\nR9 =0x0000000000000009 is an unknown value\r\nR10=0x00007f9f50610099: &lt;offset 0x0000000000007099&gt; in /home/andrecruz/Tese/Con-BFT/build/install/library/lib/libSgx.so at 0x00007f9f50609000\r\nR11=0x000000000000002f is an unknown value\r\nR12=0x00007f9f5203e6a0: _IO_2_1_stdout_+0x0000000000000000 in /lib/x86_64-linux-gnu/libc.so.6 at 0x00007f9f51e51000\r\nR13=0x00007f9f5061008f: &lt;offset 0x000000000000708f&gt; in /home/andrecruz/Tese/Con-BFT/build/install/library/lib/libSgx.so at 0x00007f9f50609000\r\nR14=0x00007f9f507191b0 is pointing into the stack for thread: 0x00007f9f4c012b40\r\nR15=0x0000000000000073 is an unknown value\r\n```\r\n","title":"What could Cause SegFaults after Successful native calls through JNI?","body":"<p><strong>Context</strong>\nI am working on my Master Thesis using Intel SGX in order to use Enclave Code alongside a Java project.</p>\n<p>The project uses Gradle for installation, and I have added a .jar containing a Class containing Native calls and the .so file containing the code for these calls.</p>\n<p>I am currently only being able to open up an enclave and calculate an EC Curve for DH Key exchange, however, as the java code moves on, segfaults occur. These Segfaults however, dont occur inside the C code, as I am able to retrieve the correct and expected results from the native code in my java project. These segmentation faults usually happen there is heavy I/O workload (At least that is what I deduced so far), usually Sockets, which is something I use, since my thesis is in Distributed Systems.</p>\n<p><strong>C Code:</strong></p>\n<pre><code>JNIEXPORT jint JNICALL Java_sgxUtils_SgxFunctions_jni_1initialize_1enclave\n  (JNIEnv *env , jobject,jint enclaveId, jbyteArray file_path){\n\n    if(file_path == NULL){\n      printf(&quot;NULL FILEPATH. error.&quot;);\n      return -1;\n    }\n    char token_path[MAX_PATH] = {'\\0'};\n    sgx_launch_token_t token = {0};\n    sgx_status_t ret = SGX_ERROR_UNEXPECTED;\n    int updated = 0;\n    //Get the id of a given Enclave:\n    global_eid = (int)enclaveId;\n    int length = snprintf(NULL , 0, &quot;%d&quot;, enclaveId) + 1; //Gives the length of the Integer as a String.\n    char* id_ptr = (char*)malloc(length); \n    snprintf(id_ptr,length,&quot;%d&quot;,enclaveId); \n\n\n    /* Step 1: try to retrieve the launch token saved by last transaction \n     *         if there is no token, then create a new one.\n     */\n    /* try to get the token saved in $HOME */\n    const char *home_dir = getpwuid(getuid())-&gt;pw_dir;\n    \n    if (home_dir != NULL &amp;&amp; \n        (strlen(home_dir)+strlen(&quot;/&quot;)+sizeof(TOKEN_FILENAME)+1) &lt;= MAX_PATH) {\n        /* compose the token path */\n        strncpy(token_path, home_dir, strlen(home_dir));\n        strncat(token_path, &quot;/&quot;, strlen(&quot;/&quot;));\n        char* correctName = (char*) malloc(length + sizeof(TOKEN_FILENAME) + 1);\n        memcpy(correctName,id_ptr,length);\n        strncat(correctName,TOKEN_FILENAME,sizeof(TOKEN_FILENAME)+1);\n        strncat(token_path,correctName,length + sizeof(TOKEN_FILENAME)+1);\n        // strncat(token_path, TOKEN_FILENAME, sizeof(TOKEN_FILENAME)+1);\n        // free(correctName);\n    } else {\n        /* if token path is too long or $HOME is NULL */\n        strncpy(token_path, TOKEN_FILENAME, sizeof(TOKEN_FILENAME));\n    }\n\n    FILE *fp = fopen(token_path, &quot;rb&quot;);\n    if (fp == NULL &amp;&amp; (fp = fopen(token_path, &quot;wb&quot;)) == NULL) {\n        printf(&quot;Warning: Failed to create/open the launch token file \\&quot;%s\\&quot;.\\n&quot;, token_path);\n    }\n\n\n    if (fp != NULL) {\n        /* read the token from saved file */\n        size_t read_num = fread(token, 1, sizeof(sgx_launch_token_t), fp);\n        if (read_num != 0 &amp;&amp; read_num != sizeof(sgx_launch_token_t)) {\n            /* if token is invalid, clear the buffer */\n            memset(&amp;token, 0x0, sizeof(sgx_launch_token_t));\n            printf(&quot;Warning: Invalid launch token read from \\&quot;%s\\&quot;.\\n&quot;, token_path);\n        }\n    }\n    printf(&quot;\\n&quot;);\n    /* Step 2: call sgx_create_enclave to initialize an enclave instance */\n    /* Debug Support: set 2nd parameter to 1 */\n\n    //Here we obtain the char* of the given Enclave file path:\n    size_t filename_size = env-&gt;GetArrayLength(file_path);\n    jbyte* jb_filePath = env-&gt;GetByteArrayElements(file_path,NULL);\n   \n    char* enclave_filePath = (char*) malloc(filename_size);\n    memcpy(enclave_filePath,jb_filePath,filename_size);\n\n    ret = sgx_create_enclave(enclave_filePath, SGX_DEBUG_FLAG, &amp;token, &amp;updated, &amp;global_eid, NULL);\n    if (ret != SGX_SUCCESS) {\n        if (fp != NULL) fclose(fp);\n        return -1;\n    }\n\n    /* Step 3: save the launch token if it is updated */\n    if (updated == FALSE || fp == NULL) {\n        /* if the token is not updated, or file handler is invalid, do not perform saving */\n        if (fp != NULL) fclose(fp);\n        return 0;\n    }\n\n    /* reopen the file with write capablity */\n    fp = freopen(token_path, &quot;wb&quot;, fp);\n    if (fp == NULL) return 0;\n    size_t write_num = fwrite(token, 1, sizeof(sgx_launch_token_t), fp);\n    if (write_num != sizeof(sgx_launch_token_t))\n        printf(&quot;Warning: Failed to save launch token to \\&quot;%s\\&quot;.\\n&quot;, token_path);\n    fclose(fp);\n\n    free(id_ptr);\n    // env-&gt;ReleaseStringUTFChars(file_path,enclave_filePath);\n    return 0;\n  }\n\nJNIEXPORT jbyteArray JNICALL Java_sgxUtils_SgxFunctions_jni_1sgx_1begin_1ec_1dh(JNIEnv *env, jobject){\n    printf(&quot;Begin DH \\n&quot;);\n\n    if(init_happened == 1){ //Verify if the Random generators were seeded.\n      sgx_status_t init_status;\n      init_mbed(global_eid,&amp;init_status);\n      init_happened = 0;\n      //printf(&quot;Init happened inside enclave.&quot;);\n    }\n\n    unsigned char* public_ec_key = (unsigned char*)malloc(EC_KEY_SIZE); //32 bytes allocated. (256)\n    printf(&quot;Calculating EC_DH.\\n&quot;);\n\n    //Start the ECDH Ecall.\n    sgx_status_t ecdh_status;\n    create_ec_key_pair(global_eid,&amp;ecdh_status,public_ec_key,EC_KEY_SIZE); //Send the buffer and its size.\n    if(ecdh_status != SGX_SUCCESS){\n      printf(&quot;Failed. ec_key_pair returned %d\\n&quot;,ecdh_status);\n    }\n\n    //Copy the information to a Jbyte in order to return in a JbyteArray:\n    jbyte* toCopy = (jbyte*)malloc(EC_KEY_SIZE * sizeof(jbyte));\n    memcpy(toCopy,public_ec_key,EC_KEY_SIZE);\n\n    //Return the Public Key:\n    jbyteArray result = env-&gt;NewByteArray(EC_KEY_SIZE);\n    env-&gt;SetByteArrayRegion(result,0,EC_KEY_SIZE,toCopy);\n    //Free the pointers and return the arrray.\n    free(public_ec_key);\n    free(toCopy);\n\n    printf(&quot;EC_DH Calculated.\\n&quot;);\n\n    return result;\n  }\n</code></pre>\n<p>I will omit the large output from Valgrind, it is just a huge file with '?' every line, since SGX hides the Stack trace, giving me no info on the invalid reads/Writes.</p>\n<p><strong>Valgrind Output</strong></p>\n<pre><code>==38490== Warning: client switching stacks?  SP change: 0x6a937a0 --&gt; 0x28789d48\n==38490==          to suppress, use: --max-stackframe=567240104 or greater\n==38490== Warning: client switching stacks?  SP change: 0x28789d48 --&gt; 0x6a937a0\n==38490==          to suppress, use: --max-stackframe=567240104 or greater\n==38490== Warning: client switching stacks?  SP change: 0x6a97220 --&gt; 0x28789d48\n==38490==          to suppress, use: --max-stackframe=567225128 or greater\n==38490==          further instances of this message will not be shown.\n==38490== \n==38490== Process terminating with default action of signal 11 (SIGSEGV)\n==38490==  Access not within mapped region at address 0x2\n==38490==    at 0x27CD0B05: sig_handler_sim(int, siginfo_t*, void*) (in /opt/intel/sgxsdk/lib64/libsgx_urts_sim.so)\n==38490==  If you believe this happened as a result of a stack\n==38490==  overflow in your program's main thread (unlikely but\n==38490==  possible), you can try to increase the size of the\n==38490==  main thread stack using the --main-stacksize= flag.\n==38490==  The main thread stack size used in this run was 8388608.\n==38490== \n==38490== HEAP SUMMARY:\n==38490==     in use at exit: 16,636,139 bytes in 39,334 blocks\n==38490==   total heap usage: 55,264 allocs, 15,930 frees, 71,819,001 bytes allocated\n</code></pre>\n<p><strong>Java Code</strong></p>\n<pre><code>    private void initEnclave() {\n        this.logger.info(&quot;Starting InitEnclave&quot;);\n        enclave = new SgxFunctions(this.enclaveId);\n        try {\n            File pemFile = new File(HOME_DIR + &quot;/&quot; + this.enclaveId + &quot;.pem&quot;);\n            if(!pemFile.exists()) {\n                pemFile = SgxFunctions.createPem(this.enclaveId);\n            }\n            File enclaveFile = new File(HOME_DIR + &quot;/&quot; + this.enclaveId + &quot;enclave_signed.so&quot;);\n            if(!enclaveFile.exists()) {\n                enclave.createSignedEnclave(HOME_DIR, pemFile.getAbsolutePath(), enclaveId);\n                this.logger.info(&quot;Enclave signed&quot;);\n            }\n            else\n                this.logger.info(&quot;Enclave file exists. Starting enclave.&quot;);\n            \n            logger.info(&quot;ABSOLUTE PATH: &quot; + enclaveFile.getAbsolutePath());\n            byte[] enclaveFilePath = enclaveFile.getAbsolutePath().substring(0).getBytes(StandardCharsets.UTF_8);\n            byte[] correctPath = Arrays.copyOf(enclaveFilePath, enclaveFilePath.length+1);\n            correctPath[correctPath.length-1] = '\\0';\n            int created = enclave.jni_initialize_enclave(enclaveId,correctPath);\n            if(created == 0)\n                this.logger.info(&quot;Enclave created.&quot;);\n            else\n                this.logger.info(&quot;Enclave failed to create.&quot;);\n//\n//          //Create DH parameters:\n            this.dh_params = this.enclave.jni_sgx_begin_ec_dh(); //Begin the Enclave EC parameters for DH key exchange.\n            this.logger.info(&quot;EC-DH Parameters created for Key exchange.&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>If I comment out the 'begin_ec_dh()' Call, the program will not segfault. However, even when running this native call, the Enclave will return an acceptable result and I am able to use the result in my Java code no problem, but only up until a certain point where it segfaults for an unkown reason.</p>\n<p>I suspect its obviously my code, but I have no idea what is going on.\nAny help is appreciated, Thank you for your help and sorry for the long post.</p>\n<p>Edit:</p>\n<p>I have added a printf() in order to retrieve a Crash file from the JVM over the filename Pointer.\nWhat I dont understand is that If you look at my C code, I have allocated exactly the Array Size that comes from java (And I have added the null terminator in my Java Code, which was previously the source of another segfault), any idea what is causing this? Seems like I am dereferencing an Invalid pointer, but why is it invalid?</p>\n<p><strong>JVM Crash File</strong></p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f9f51fd9627, pid=9910, tid=9911\n#\n# JRE version: OpenJDK Runtime Environment (17.0.3+7) (build 17.0.3+7-Ubuntu-0ubuntu0.20.04.1)\n# Java VM: OpenJDK 64-Bit Server VM (17.0.3+7-Ubuntu-0ubuntu0.20.04.1, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\n# Problematic frame:\n# C  [libc.so.6+0x188627]\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/andrecruz/Tese/Con-BFT/build/install/library/core.9910)\n#\n# If you would like to submit a bug report, please visit:\n#   Unknown\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -Djava.security.properties=./config/java.security -Djava.library.path=./lib/ -Dfile.encoding=UTF-8 -XX:ErrorFile=/home/andrecruz/Tese/Con-BFT/ -XX:+ShowCodeDetailsInExceptionMessages -Dlogback.configurationFile=./config/logback.xml bftsmart.demo.map.MapServer 0 10\n\nHost: Intel(R) Core(TM) i5-6440HQ CPU @ 2.60GHz, 4 cores, 7G, Ubuntu 20.04.4 LTS\nTime: Sun May 29 23:13:08 2022 WEST elapsed time: 2.134101 seconds (0d 0h 0m 2s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x00007f9f4c012b40):  JavaThread &quot;main&quot; [_thread_in_native, id=9911, stack(0x00007f9f5061b000,0x00007f9f5071c000)]\n\nStack: [0x00007f9f5061b000,0x00007f9f5071c000],  sp=0x00007f9f50718c28,  free space=1015k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [libc.so.6+0x188627]\nC  [libc.so.6+0x61d6f]  _IO_printf+0xaf\nj  sgxUtils.SgxFunctions.jni_initialize_enclave(I[B)I+0\nj  bftsmart.tom.ServiceReplica.initEnclave()V+248\nj  bftsmart.tom.ServiceReplica.&lt;init&gt;(ILjava/lang/String;Lbftsmart/tom/server/Executable;Lbftsmart/tom/server/Recoverable;Lbftsmart/tom/server/RequestVerifier;Lbftsmart/tom/server/Replier;Lbftsmart/tom/util/KeyLoader;I)V+147\nj  bftsmart.tom.ServiceReplica.&lt;init&gt;(ILbftsmart/tom/server/Executable;Lbftsmart/tom/server/Recoverable;I)V+17\nj  bftsmart.demo.map.MapServer.&lt;init&gt;(II)V+35\nj  bftsmart.demo.map.MapServer.main([Ljava/lang/String;)V+34\nv  ~StubRoutines::call_stub\nV  [libjvm.so+0x83ae75]\nV  [libjvm.so+0x8cf4e9]\nV  [libjvm.so+0x8d2392]\nC  [libjli.so+0x4abe]\nC  [libjli.so+0x84ed]\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  sgxUtils.SgxFunctions.jni_initialize_enclave(I[B)I+0\nj  bftsmart.tom.ServiceReplica.initEnclave()V+248\nj  bftsmart.tom.ServiceReplica.&lt;init&gt;(ILjava/lang/String;Lbftsmart/tom/server/Executable;Lbftsmart/tom/server/Recoverable;Lbftsmart/tom/server/RequestVerifier;Lbftsmart/tom/server/Replier;Lbftsmart/tom/util/KeyLoader;I)V+147\nj  bftsmart.tom.ServiceReplica.&lt;init&gt;(ILbftsmart/tom/server/Executable;Lbftsmart/tom/server/Recoverable;I)V+17\nj  bftsmart.demo.map.MapServer.&lt;init&gt;(II)V+35\nj  bftsmart.demo.map.MapServer.main([Ljava/lang/String;)V+34\nv  ~StubRoutines::call_stub\n\nsiginfo: si_signo: 11 (SIGSEGV), si_code: 1 (SEGV_MAPERR), si_addr: 0x0000000000000020\n\nRegister to memory mapping:\n\nRAX=0x0000000000000010 is an unknown value\nRBX=0x00007f9f51ec7b43: &lt;offset 0x0000000000076b43&gt; in /lib/x86_64-linux-gnu/libc.so.6 at 0x00007f9f51e51000\nRCX=0x000000000000000f is an unknown value\nRDX=0x000000000000002f is an unknown value\nRSP=0x00007f9f50718c28 is pointing into the stack for thread: 0x00007f9f4c012b40\nRBP=0x00007f9f507191a0 is pointing into the stack for thread: 0x00007f9f4c012b40\nRSI=0x00007f9f50719168 is pointing into the stack for thread: 0x00007f9f4c012b40\nRDI=0x0000000000000020 is an unknown value\nR8 =0x00000000ffffffff points into unknown readable memory: 00\nR9 =0x0000000000000009 is an unknown value\nR10=0x00007f9f50610099: &lt;offset 0x0000000000007099&gt; in /home/andrecruz/Tese/Con-BFT/build/install/library/lib/libSgx.so at 0x00007f9f50609000\nR11=0x000000000000002f is an unknown value\nR12=0x00007f9f5203e6a0: _IO_2_1_stdout_+0x0000000000000000 in /lib/x86_64-linux-gnu/libc.so.6 at 0x00007f9f51e51000\nR13=0x00007f9f5061008f: &lt;offset 0x000000000000708f&gt; in /home/andrecruz/Tese/Con-BFT/build/install/library/lib/libSgx.so at 0x00007f9f50609000\nR14=0x00007f9f507191b0 is pointing into the stack for thread: 0x00007f9f4c012b40\nR15=0x0000000000000073 is an unknown value\n</code></pre>\n"},{"tags":["java","url","timeout"],"answers":[{"tags":[],"owner":{"account_id":60769,"reputation":59521,"user_id":181412,"accept_rate":100,"display_name":"dbyrne"},"down_vote_count":0,"up_vote_count":224,"is_accepted":true,"score":224,"last_activity_date":1273457276,"creation_date":1273456864,"answer_id":2799955,"question_id":2799938,"body_markdown":"`HttpURLConnection` has a [setConnectTimeout][1] method.\r\n\r\nJust set the timeout to 5000 milliseconds, and then catch `java.net.SocketTimeoutException`\r\n\r\nYour code should look something like this:\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\ntry {\r\n   HttpURLConnection.setFollowRedirects(false);\r\n   HttpURLConnection con = (HttpURLConnection) new URL(url).openConnection();\r\n   con.setRequestMethod(&quot;HEAD&quot;);\r\n\r\n   con.setConnectTimeout(5000); //set timeout to 5 seconds\r\n\r\n   return (con.getResponseCode() == HttpURLConnection.HTTP_OK);\r\n} catch (java.net.SocketTimeoutException e) {\r\n   return false;\r\n} catch (java.io.IOException e) {\r\n   return false;\r\n}\r\n\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/net/URLConnection.html#setConnectTimeout%28int%29","title":"HttpURLConnection timeout settings","body":"<p><code>HttpURLConnection</code> has a <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/net/URLConnection.html#setConnectTimeout%28int%29\" rel=\"noreferrer\">setConnectTimeout</a> method.</p>\n\n<p>Just set the timeout to 5000 milliseconds, and then catch <code>java.net.SocketTimeoutException</code></p>\n\n<p>Your code should look something like this:</p>\n\n<pre>\n<code>\ntry {\n   HttpURLConnection.setFollowRedirects(false);\n   HttpURLConnection con = (HttpURLConnection) new URL(url).openConnection();\n   con.setRequestMethod(\"HEAD\");\n\n   con.setConnectTimeout(5000); //set timeout to 5 seconds\n\n   return (con.getResponseCode() == HttpURLConnection.HTTP_OK);\n} catch (java.net.SocketTimeoutException e) {\n   return false;\n} catch (java.io.IOException e) {\n   return false;\n}\n\n</code>\n</pre>\n"},{"tags":[],"owner":{"account_id":50238,"reputation":74702,"user_id":149808,"accept_rate":81,"display_name":"ZZ Coder"},"down_vote_count":0,"up_vote_count":128,"is_accepted":false,"score":128,"last_activity_date":1273456894,"creation_date":1273456894,"answer_id":2799958,"question_id":2799938,"body_markdown":"You can set timeout like this,\r\n\r\n    con.setConnectTimeout(connectTimeout);\r\n    con.setReadTimeout(socketTimeout);\r\n\r\n","title":"HttpURLConnection timeout settings","body":"<p>You can set timeout like this,</p>\n\n<pre><code>con.setConnectTimeout(connectTimeout);\ncon.setReadTimeout(socketTimeout);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":392384,"reputation":4170,"user_id":753616,"display_name":"Ayman Mahgoub"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1419256649,"creation_date":1419240676,"answer_id":27599886,"question_id":2799938,"body_markdown":"If the HTTP Connection doesn&#39;t timeout, You can implement the timeout checker in the background thread itself (AsyncTask, Service, etc), the following class is an example for Customize AsyncTask which timeout after certain period\r\n\r\n    public abstract class AsyncTaskWithTimer&lt;Params, Progress, Result&gt; extends\r\n\t\tAsyncTask&lt;Params, Progress, Result&gt; {\r\n\r\n\tprivate static final int HTTP_REQUEST_TIMEOUT = 30000;\r\n\r\n\t@Override\r\n\tprotected Result doInBackground(Params... params) {\r\n\t\tcreateTimeoutListener();\r\n\t\treturn doInBackgroundImpl(params);\r\n\t}\r\n\r\n\tprivate void createTimeoutListener() {\r\n\t\tThread timeout = new Thread() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\tLooper.prepare();\r\n\r\n\t\t\t\tfinal Handler handler = new Handler();\r\n\t\t\t\thandler.postDelayed(new Runnable() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void run() {\r\n\r\n\t\t\t\t\t\tif (AsyncTaskWithTimer.this != null\r\n\t\t\t\t\t\t\t\t&amp;&amp; AsyncTaskWithTimer.this.getStatus() != Status.FINISHED)\r\n\t\t\t\t\t\t\tAsyncTaskWithTimer.this.cancel(true);\r\n\t\t\t\t\t\thandler.removeCallbacks(this);\r\n\t\t\t\t\t\tLooper.myLooper().quit();\r\n\t\t\t\t\t}\r\n\t\t\t\t}, HTTP_REQUEST_TIMEOUT);\r\n\r\n\t\t\t\tLooper.loop();\r\n\t\t\t}\r\n\t\t};\r\n\t\ttimeout.start();\r\n\t}\r\n\t\r\n\tabstract protected Result doInBackgroundImpl(Params... params);\r\n    }\r\n\r\nA Sample for this\r\n\r\n    public class AsyncTaskWithTimerSample extends AsyncTaskWithTimer&lt;Void, Void, Void&gt; {\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected void onCancelled(Void void) {\r\n\t\t\tLog.d(TAG, &quot;Async Task onCancelled With Result&quot;);\r\n\t\t\tsuper.onCancelled(result);\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected void onCancelled() {\r\n\t\t\tLog.d(TAG, &quot;Async Task onCancelled&quot;);\r\n\t\t\tsuper.onCancelled();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tprotected Void doInBackgroundImpl(Void... params) {\r\n\t\t\t// Do background work\r\n            return null;\r\n\t\t};\r\n     }\r\n\r\n\r\n  [1]: http://stackoverflow.com/a/27599827/753616","title":"HttpURLConnection timeout settings","body":"<p>If the HTTP Connection doesn't timeout, You can implement the timeout checker in the background thread itself (AsyncTask, Service, etc), the following class is an example for Customize AsyncTask which timeout after certain period</p>\n\n<pre><code>public abstract class AsyncTaskWithTimer&lt;Params, Progress, Result&gt; extends\n    AsyncTask&lt;Params, Progress, Result&gt; {\n\nprivate static final int HTTP_REQUEST_TIMEOUT = 30000;\n\n@Override\nprotected Result doInBackground(Params... params) {\n    createTimeoutListener();\n    return doInBackgroundImpl(params);\n}\n\nprivate void createTimeoutListener() {\n    Thread timeout = new Thread() {\n        public void run() {\n            Looper.prepare();\n\n            final Handler handler = new Handler();\n            handler.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n\n                    if (AsyncTaskWithTimer.this != null\n                            &amp;&amp; AsyncTaskWithTimer.this.getStatus() != Status.FINISHED)\n                        AsyncTaskWithTimer.this.cancel(true);\n                    handler.removeCallbacks(this);\n                    Looper.myLooper().quit();\n                }\n            }, HTTP_REQUEST_TIMEOUT);\n\n            Looper.loop();\n        }\n    };\n    timeout.start();\n}\n\nabstract protected Result doInBackgroundImpl(Params... params);\n}\n</code></pre>\n\n<p>A Sample for this</p>\n\n<pre><code>public class AsyncTaskWithTimerSample extends AsyncTaskWithTimer&lt;Void, Void, Void&gt; {\n\n    @Override\n    protected void onCancelled(Void void) {\n        Log.d(TAG, \"Async Task onCancelled With Result\");\n        super.onCancelled(result);\n    }\n\n    @Override\n    protected void onCancelled() {\n        Log.d(TAG, \"Async Task onCancelled\");\n        super.onCancelled();\n    }\n\n    @Override\n    protected Void doInBackgroundImpl(Void... params) {\n        // Do background work\n        return null;\n    };\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1633007,"reputation":195,"user_id":1507197,"display_name":"Subrata Nath"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1519824211,"creation_date":1519824211,"answer_id":49030642,"question_id":2799938,"body_markdown":"I could get solution for such a similar problem with addition of a simple line\r\n\r\n    HttpURLConnection hConn = (HttpURLConnection) url.openConnection();\r\n    hConn.setRequestMethod(&quot;HEAD&quot;);\r\n\r\nMy requirement was to know the response code and for that just getting the meta-information was sufficient, instead of getting the complete response body. \r\n\r\nDefault request method is GET and that was taking lot of time to return, finally throwing me SocketTimeoutException. The response was pretty fast when I set the Request Method to HEAD. \r\n\r\n","title":"HttpURLConnection timeout settings","body":"<p>I could get solution for such a similar problem with addition of a simple line</p>\n\n<pre><code>HttpURLConnection hConn = (HttpURLConnection) url.openConnection();\nhConn.setRequestMethod(\"HEAD\");\n</code></pre>\n\n<p>My requirement was to know the response code and for that just getting the meta-information was sufficient, instead of getting the complete response body. </p>\n\n<p>Default request method is GET and that was taking lot of time to return, finally throwing me SocketTimeoutException. The response was pretty fast when I set the Request Method to HEAD. </p>\n"},{"tags":[],"owner":{"account_id":12797874,"reputation":140,"user_id":9260154,"display_name":"shashank joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653903971,"creation_date":1653903971,"answer_id":72432272,"question_id":2799938,"body_markdown":"The System property sun.net.client.defaultConnectTimeout can be set. The value is in milliseconds. This will set a default timeout for each request- \r\n\r\nEither by setting in JVM options- \r\n\r\n-Dsun.net.client.defaultConnectTimeout=5000\r\n\r\nOR in java code- \r\n\r\nSystem.setProperty(&quot;sun.net.client.defaultConnectTimeout&quot;, &quot;5000&quot;);","title":"HttpURLConnection timeout settings","body":"<p>The System property sun.net.client.defaultConnectTimeout can be set. The value is in milliseconds. This will set a default timeout for each request-</p>\n<p>Either by setting in JVM options-</p>\n<p>-Dsun.net.client.defaultConnectTimeout=5000</p>\n<p>OR in java code-</p>\n<p>System.setProperty(&quot;sun.net.client.defaultConnectTimeout&quot;, &quot;5000&quot;);</p>\n"}],"owner":{"account_id":21064,"reputation":33320,"user_id":50913,"accept_rate":66,"display_name":"Malachi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243798,"favorite_count":0,"down_vote_count":1,"up_vote_count":145,"accepted_answer_id":2799955,"answer_count":5,"score":144,"last_activity_date":1653903971,"creation_date":1273456545,"question_id":2799938,"body_markdown":"I want to return false if the URL takes more then 5 seconds to connect - how is this possible using Java? Here is the code I am using to check if the URL is valid\r\n    \r\n    HttpURLConnection.setFollowRedirects(false);\r\n    HttpURLConnection con = (HttpURLConnection) new URL(url).openConnection();\r\n    con.setRequestMethod(&quot;HEAD&quot;);\r\n    return (con.getResponseCode() == HttpURLConnection.HTTP_OK);","title":"HttpURLConnection timeout settings","body":"<p>I want to return false if the URL takes more then 5 seconds to connect - how is this possible using Java? Here is the code I am using to check if the URL is valid</p>\n\n<pre><code>HttpURLConnection.setFollowRedirects(false);\nHttpURLConnection con = (HttpURLConnection) new URL(url).openConnection();\ncon.setRequestMethod(\"HEAD\");\nreturn (con.getResponseCode() == HttpURLConnection.HTTP_OK);\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":9340608,"reputation":1,"user_id":6933534,"display_name":"Roberto Trujillo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653420197,"creation_date":1653371196,"answer_id":72357733,"question_id":72291053,"body_markdown":"Try this approach:\r\n\r\n\r\n```java\r\n @RabbitListener(queues = &quot;test&quot;)\r\n public void receive(String in, @Headers Map&lt;String, Object&gt; headers) throws IOException  {\r\n }\r\n```","title":"Spring Boot App not consuming queue messages","body":"<p>Try this approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @RabbitListener(queues = &quot;test&quot;)\n public void receive(String in, @Headers Map&lt;String, Object&gt; headers) throws IOException  {\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653903923,"creation_date":1653903923,"answer_id":72432255,"question_id":72291053,"body_markdown":"The problem was that the spring boot app that I was working on had a `@Conditional(Config.class)` that prevented the creation of the bean below:\r\n\r\n```\r\n@Slf4j\r\n@Conditional(Config.class)\r\n@EnableRabbit\r\npublic class InternalRabbitBootstrapConfiguration {\r\n    @Bean\r\n    public RabbitListenerContainerFactory rabbitListenerContainerFactory(ConnectionFactory connectionFactory) {\r\n        SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n        factory.setConnectionFactory(connectionFactory);\r\n        factory.setMaxConcurrentConsumers(5);\r\n        return factory;\r\n    }\r\n...\r\n```\r\n\r\nwhich resulted in the spring boot app not listening to Rabbit MQ events. The Config.class required a specific profile in order to enable the app to listen to Rabbit MQ events.\r\n\r\n```\r\npublic class DexiModeCondition implements Condition {\r\n\r\n    @Override\r\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n\r\n        String[] activeProfiles = context.getEnvironment().getActiveProfiles();\r\n\r\n        return activeProfiles[0].equalsIgnoreCase(mode);\r\n    }\r\n}\r\n```\r\n","title":"Spring Boot App not consuming queue messages","body":"<p>The problem was that the spring boot app that I was working on had a <code>@Conditional(Config.class)</code> that prevented the creation of the bean below:</p>\n<pre><code>@Slf4j\n@Conditional(Config.class)\n@EnableRabbit\npublic class InternalRabbitBootstrapConfiguration {\n    @Bean\n    public RabbitListenerContainerFactory rabbitListenerContainerFactory(ConnectionFactory connectionFactory) {\n        SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n        factory.setConnectionFactory(connectionFactory);\n        factory.setMaxConcurrentConsumers(5);\n        return factory;\n    }\n...\n</code></pre>\n<p>which resulted in the spring boot app not listening to Rabbit MQ events. The Config.class required a specific profile in order to enable the app to listen to Rabbit MQ events.</p>\n<pre><code>public class DexiModeCondition implements Condition {\n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n\n        String[] activeProfiles = context.getEnvironment().getActiveProfiles();\n\n        return activeProfiles[0].equalsIgnoreCase(mode);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72432255,"answer_count":2,"score":0,"last_activity_date":1653903923,"creation_date":1652884028,"question_id":72291053,"body_markdown":"I have the Rabbit MQ broker for communicating asynchronously between services. **Service A** is sending messages to the queue. I checked the queue and the messages from Service A have arrived:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI am trying to create a listener in the **Service B** in order to consume the messages produced by Service A. I verified like below to check if Service B is connected with RabbitMQ and it seems to be connected successfully.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe problem is that Service B started successfully but it is receiving messages from Rabbit MQ.\r\n\r\nBelow is the implementation of the listener:\r\n\r\n```\r\n@Slf4j\r\n@Component\r\npublic class EventListener {\r\n\r\n    public static final String QUEUE_NAME = &quot;events&quot;;\r\n\r\n    @RabbitListener(\r\n            bindings = {\r\n                    @QueueBinding(\r\n                            value = @Queue(QUEUE_NAME),\r\n                            exchange = @Exchange(&quot;exchange&quot;)\r\n                    )\r\n\r\n            }\r\n    )\r\n    public void handleTaskPayload(@Payload String payload) {\r\n        System.out.println(payload);\r\n    }\r\n}\r\n```\r\n\r\nI verified the queue and exchange information in the Rabbit MQ and they are correct.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nEverything is working correctly and there is no error thrown in service A or service B which makes this problem much harder to debug.\r\n\r\nI tried to retrieve the message from the queue getMessage of RabbitMQ the message is like the below:\r\n\r\n```\r\n{&quot;id&quot;:&quot;1&quot;,:&quot;name:&quot;Test&quot;,&quot;created&quot;:null}\r\n```\r\n\r\nI will appreciate any help or guidance towards the solution of this problem.\r\n\r\nBest Regards,\r\nRando.\r\n\r\nP.S\r\n\r\nI created a new test queue like the below and published some messages: \r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\nModified the listener code like below and still wasn&#39;t able to trigger listener to listen to the queue events:\r\n\r\n```\r\n@Slf4j\r\n@Component\r\npublic class RobotRunEventListener {\r\n\r\n    public static final String QUEUE_NAME = &quot;test&quot;;\r\n\r\n    @RabbitListener(\r\n            bindings = {\r\n                    @QueueBinding(\r\n                            value = @Queue(QUEUE_NAME),\r\n                            key = &quot;test&quot;,\r\n                            exchange = @Exchange(&quot;default&quot;)\r\n                    )\r\n\r\n            }\r\n    )\r\n    public void handleTaskPayload(@Payload String payload) {\r\n        System.out.println(payload);\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n4UVr.png\r\n  [2]: https://i.stack.imgur.com/M7uA8.png\r\n  [3]: https://i.stack.imgur.com/mk58G.png\r\n  [4]: https://i.stack.imgur.com/NNHxi.png\r\n  [5]: https://i.stack.imgur.com/Iuz9t.png","title":"Spring Boot App not consuming queue messages","body":"<p>I have the Rabbit MQ broker for communicating asynchronously between services. <strong>Service A</strong> is sending messages to the queue. I checked the queue and the messages from Service A have arrived:\n<a href=\"https://i.stack.imgur.com/n4UVr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n4UVr.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying to create a listener in the <strong>Service B</strong> in order to consume the messages produced by Service A. I verified like below to check if Service B is connected with RabbitMQ and it seems to be connected successfully.</p>\n<p><a href=\"https://i.stack.imgur.com/M7uA8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M7uA8.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is that Service B started successfully but it is receiving messages from Rabbit MQ.</p>\n<p>Below is the implementation of the listener:</p>\n<pre><code>@Slf4j\n@Component\npublic class EventListener {\n\n    public static final String QUEUE_NAME = &quot;events&quot;;\n\n    @RabbitListener(\n            bindings = {\n                    @QueueBinding(\n                            value = @Queue(QUEUE_NAME),\n                            exchange = @Exchange(&quot;exchange&quot;)\n                    )\n\n            }\n    )\n    public void handleTaskPayload(@Payload String payload) {\n        System.out.println(payload);\n    }\n}\n</code></pre>\n<p>I verified the queue and exchange information in the Rabbit MQ and they are correct.</p>\n<p><a href=\"https://i.stack.imgur.com/mk58G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mk58G.png\" alt=\"enter image description here\" /></a></p>\n<p>Everything is working correctly and there is no error thrown in service A or service B which makes this problem much harder to debug.</p>\n<p>I tried to retrieve the message from the queue getMessage of RabbitMQ the message is like the below:</p>\n<pre><code>{&quot;id&quot;:&quot;1&quot;,:&quot;name:&quot;Test&quot;,&quot;created&quot;:null}\n</code></pre>\n<p>I will appreciate any help or guidance towards the solution of this problem.</p>\n<p>Best Regards,\nRando.</p>\n<p>P.S</p>\n<p>I created a new test queue like the below and published some messages:</p>\n<p><a href=\"https://i.stack.imgur.com/NNHxi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NNHxi.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Iuz9t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iuz9t.png\" alt=\"enter image description here\" /></a></p>\n<p>Modified the listener code like below and still wasn't able to trigger listener to listen to the queue events:</p>\n<pre><code>@Slf4j\n@Component\npublic class RobotRunEventListener {\n\n    public static final String QUEUE_NAME = &quot;test&quot;;\n\n    @RabbitListener(\n            bindings = {\n                    @QueueBinding(\n                            value = @Queue(QUEUE_NAME),\n                            key = &quot;test&quot;,\n                            exchange = @Exchange(&quot;default&quot;)\n                    )\n\n            }\n    )\n    public void handleTaskPayload(@Payload String payload) {\n        System.out.println(payload);\n    }\n</code></pre>\n"},{"tags":["java","security","web-applications","frontend","java-security"],"comments":[{"owner":{"account_id":441392,"reputation":3406,"user_id":831460,"accept_rate":50,"display_name":"Marek Puchalski"},"score":0,"creation_date":1653634426,"post_id":72401192,"comment_id":127902701,"body_markdown":"How are you passing the credentials? Headers, body, GET request URL parameters?","body":"How are you passing the credentials? Headers, body, GET request URL parameters?"},{"owner":{"account_id":22059668,"reputation":33,"user_id":16322576,"display_name":"Kavin_V"},"score":0,"creation_date":1653886472,"post_id":72401192,"comment_id":127951930,"body_markdown":"I&#39;m passing the credentials as GET request URL parameters!","body":"I&#39;m passing the credentials as GET request URL parameters!"}],"answers":[{"tags":[],"owner":{"account_id":441392,"reputation":3406,"user_id":831460,"accept_rate":50,"display_name":"Marek Puchalski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653903403,"creation_date":1653903403,"answer_id":72432157,"question_id":72401192,"body_markdown":"Never send any credentials via URL parameters of a GET request for multiple reasons:\r\n\r\n1. Caching of URLs is always allowed in the browser. If you leave your browser unattended for a moment it may leak your credentials.\r\n2. All infrastructure elements (firewalls, proxies) along the way are always allowed to log URLs for debug purposes. Credentials may leak because someone turned logging on.\r\n\r\nSecrets are allowed to be passed via headers or body of requests. Please use POST request to send the credentials. With a bit of luck this should solve your problem.","title":"How to avoid re-login by submitting user credentials using a reload button?","body":"<p>Never send any credentials via URL parameters of a GET request for multiple reasons:</p>\n<ol>\n<li>Caching of URLs is always allowed in the browser. If you leave your browser unattended for a moment it may leak your credentials.</li>\n<li>All infrastructure elements (firewalls, proxies) along the way are always allowed to log URLs for debug purposes. Credentials may leak because someone turned logging on.</li>\n</ol>\n<p>Secrets are allowed to be passed via headers or body of requests. Please use POST request to send the credentials. With a bit of luck this should solve your problem.</p>\n"}],"owner":{"account_id":22059668,"reputation":33,"user_id":16322576,"display_name":"Kavin_V"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653903403,"creation_date":1653632118,"question_id":72401192,"body_markdown":"I&#39;m developing a java based web application, I have also added Login/Logout functionality in my application. For Login, user needs to submit the username and password and that will be passed as a query parameter along with the url. But the problem is, even after logout when the client tries to go back to the loginPage using the back button (left arrow) in browser and reloads the LoginPage url, the url along with query parameters (login credentials) is get submitted again. This enables the user to login again.\r\n\r\nHow to prevent this and make the user to re-enter the login credentials?\r\n\r\nAlso from this, I can say that client browser stores the url along with the query parameters. \r\n\r\nHow to avoid the browser from saving/caching my login credentials?\r\n\r\nThanks in advance! :)\r\n\r\n```\r\n&lt;div class=&quot;container&quot;&gt;\r\n      &lt;form action=&quot;Login&quot; method=&quot;get&quot;&gt;\r\n      \t&lt;h1&gt;Login&lt;/h1&gt;\r\n        &lt;label&gt;Enter your username &lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;username&quot; name=&quot;username&quot;/&gt;&lt;br /&gt;&lt;br /&gt;\r\n        &lt;label&gt;Enter your password &lt;/label&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;password&quot; name=&quot;password&quot;/&gt;&lt;br /&gt;&lt;br /&gt;\r\n        &lt;button type=&quot;submit&quot; value=&quot;Login&quot;&gt;Submit&lt;/button&gt;\r\n      &lt;/form&gt;\r\n &lt;/div&gt;\r\n```\r\nQueryString with Login Credentials : http://localhost:8080/DemoApp/Login?username=karthik&amp;password=karthik123","title":"How to avoid re-login by submitting user credentials using a reload button?","body":"<p>I'm developing a java based web application, I have also added Login/Logout functionality in my application. For Login, user needs to submit the username and password and that will be passed as a query parameter along with the url. But the problem is, even after logout when the client tries to go back to the loginPage using the back button (left arrow) in browser and reloads the LoginPage url, the url along with query parameters (login credentials) is get submitted again. This enables the user to login again.</p>\n<p>How to prevent this and make the user to re-enter the login credentials?</p>\n<p>Also from this, I can say that client browser stores the url along with the query parameters.</p>\n<p>How to avoid the browser from saving/caching my login credentials?</p>\n<p>Thanks in advance! :)</p>\n<pre><code>&lt;div class=&quot;container&quot;&gt;\n      &lt;form action=&quot;Login&quot; method=&quot;get&quot;&gt;\n        &lt;h1&gt;Login&lt;/h1&gt;\n        &lt;label&gt;Enter your username &lt;/label&gt;\n        &lt;input type=&quot;text&quot; placeholder=&quot;username&quot; name=&quot;username&quot;/&gt;&lt;br /&gt;&lt;br /&gt;\n        &lt;label&gt;Enter your password &lt;/label&gt;\n        &lt;input type=&quot;text&quot; placeholder=&quot;password&quot; name=&quot;password&quot;/&gt;&lt;br /&gt;&lt;br /&gt;\n        &lt;button type=&quot;submit&quot; value=&quot;Login&quot;&gt;Submit&lt;/button&gt;\n      &lt;/form&gt;\n &lt;/div&gt;\n</code></pre>\n<p>QueryString with Login Credentials : http://localhost:8080/DemoApp/Login?username=karthik&amp;password=karthik123</p>\n"},{"tags":["java","apache-flink","flink-table-api"],"answers":[{"tags":[],"owner":{"account_id":25413220,"reputation":1,"user_id":19220656,"display_name":"Bobby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653903275,"creation_date":1653903275,"answer_id":72432126,"question_id":72431316,"body_markdown":"I found that this method is not the correct `create` method in Flink1.13. Maybe you should check whether there are dependency conflicts `mvn dependency:tree`. The current create method should return this\r\n```\r\nstatic StreamTableEnvironment create(StreamExecutionEnvironment executionEnvironment) {\r\n    return create(executionEnvironment, EnvironmentSettings.newInstance().build());\r\n}\r\n```\r\nThis is link: https://github.com/apache/flink/blob/release-1.13/flink-table/flink-table-api-java-bridge/src/main/java/org/apache/flink/table/api/bridge/java/StreamTableEnvironment.java#L97","title":"Java Flink 1.13 Exception trying to use tableAPI","body":"<p>I found that this method is not the correct <code>create</code> method in Flink1.13. Maybe you should check whether there are dependency conflicts <code>mvn dependency:tree</code>. The current create method should return this</p>\n<pre><code>static StreamTableEnvironment create(StreamExecutionEnvironment executionEnvironment) {\n    return create(executionEnvironment, EnvironmentSettings.newInstance().build());\n}\n</code></pre>\n<p>This is link: <a href=\"https://github.com/apache/flink/blob/release-1.13/flink-table/flink-table-api-java-bridge/src/main/java/org/apache/flink/table/api/bridge/java/StreamTableEnvironment.java#L97\" rel=\"nofollow noreferrer\">https://github.com/apache/flink/blob/release-1.13/flink-table/flink-table-api-java-bridge/src/main/java/org/apache/flink/table/api/bridge/java/StreamTableEnvironment.java#L97</a></p>\n"}],"owner":{"account_id":18941928,"reputation":31,"user_id":13821759,"display_name":"Jonathan Figueroa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653903275,"creation_date":1653899329,"question_id":72431316,"body_markdown":"This is the error I&#39;m getting trying to initialize `StreamTableEnvironment`\r\n\r\n```private final StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);```\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.getConfiguration()Lorg/apache/flink/configuration/ReadableConfig;\r\n\tat org.apache.flink.table.api.bridge.java.StreamTableEnvironment.create(StreamTableEnvironment.java:98)\r\n\tat com.teavaro.cep.modules.propensityscores.PropensityScoresUseCaseHandler.&lt;init&gt;(PropensityScoresUseCaseHandler.java:34)\r\n\tat com.teavaro.cep.modules.TransformationsHandler.&lt;init&gt;(TransformationsHandler.java:24)\r\n\tat com.teavaro.cep.StreamingJob.run(StreamingJob.java:146)\r\n\tat com.teavaro.cep.StreamingJob.setUp(StreamingJob.java:138)\r\n\tat com.teavaro.cep.StreamingJob.main(StreamingJob.java:64)\r\n```\r\n\r\nand then when I go to the create definition method\r\n\r\n```\r\nstatic StreamTableEnvironment create(StreamExecutionEnvironment executionEnvironment) {\r\n        return create(\r\n                executionEnvironment,\r\n                EnvironmentSettings.fromConfiguration(executionEnvironment.getConfiguration()));\r\n    }\r\n```\r\n\r\nI see the `getConfiguration()` in red saying &#39;getConfiguration()&#39; has protected access in &#39;org.apache.flink.streaming.api.environment.StreamExecutionEnvironment&#39;\r\n\r\nI already rebuilt the java pom several times.","title":"Java Flink 1.13 Exception trying to use tableAPI","body":"<p>This is the error I'm getting trying to initialize <code>StreamTableEnvironment</code></p>\n<p><code>private final StreamTableEnvironment tableEnv = StreamTableEnvironment.create(env);</code></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.flink.streaming.api.environment.StreamExecutionEnvironment.getConfiguration()Lorg/apache/flink/configuration/ReadableConfig;\n    at org.apache.flink.table.api.bridge.java.StreamTableEnvironment.create(StreamTableEnvironment.java:98)\n    at com.teavaro.cep.modules.propensityscores.PropensityScoresUseCaseHandler.&lt;init&gt;(PropensityScoresUseCaseHandler.java:34)\n    at com.teavaro.cep.modules.TransformationsHandler.&lt;init&gt;(TransformationsHandler.java:24)\n    at com.teavaro.cep.StreamingJob.run(StreamingJob.java:146)\n    at com.teavaro.cep.StreamingJob.setUp(StreamingJob.java:138)\n    at com.teavaro.cep.StreamingJob.main(StreamingJob.java:64)\n</code></pre>\n<p>and then when I go to the create definition method</p>\n<pre><code>static StreamTableEnvironment create(StreamExecutionEnvironment executionEnvironment) {\n        return create(\n                executionEnvironment,\n                EnvironmentSettings.fromConfiguration(executionEnvironment.getConfiguration()));\n    }\n</code></pre>\n<p>I see the <code>getConfiguration()</code> in red saying 'getConfiguration()' has protected access in 'org.apache.flink.streaming.api.environment.StreamExecutionEnvironment'</p>\n<p>I already rebuilt the java pom several times.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1580498783,"post_id":60010007,"comment_id":106130531,"body_markdown":"If you changed your pom, try maven&gt;Update Project. Else do a run as &gt; maven clean and run as &gt; maven install and then try running it again. Not to mention, check your internet connection too.","body":"If you changed your pom, try maven&gt;Update Project. Else do a run as &gt; maven clean and run as &gt; maven install and then try running it again. Not to mention, check your internet connection too."},{"owner":{"account_id":17663422,"reputation":331,"user_id":12821358,"display_name":"Vinay Bairagi"},"score":0,"creation_date":1580499833,"post_id":60010007,"comment_id":106130956,"body_markdown":"@AjayKumar When I run as &gt; maven clean and run as &gt; maven install, it shows a warning: `[WARNING] The requested profile &quot;pom.xml&quot; could not be activated because it does not exist.` but pom.xml exists as you can see in the question above.","body":"@AjayKumar When I run as &gt; maven clean and run as &gt; maven install, it shows a warning: <code>[WARNING] The requested profile &quot;pom.xml&quot; could not be activated because it does not exist.</code> but pom.xml exists as you can see in the question above."},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1580507459,"post_id":60010007,"comment_id":106133666,"body_markdown":"Right click on project. Properties &gt; Click Maven node. Delete pom.xml from Active Maven Profiles. Apply and Close. You should be good to go.","body":"Right click on project. Properties &gt; Click Maven node. Delete pom.xml from Active Maven Profiles. Apply and Close. You should be good to go."},{"owner":{"account_id":10393527,"reputation":629,"user_id":7663948,"display_name":"Luiz HCG"},"score":1,"creation_date":1582476771,"post_id":60010007,"comment_id":106782453,"body_markdown":"Hey guys! I got here with the same issue, did the same as said above, but still when running my application I still get the same message. Seems that the application, as it is right now, is not having any failures, but I&#39;m afraid it will show failures in the future when it gets bigger, so I&#39;m looking for a solution. Any other ideas on how to fix it?","body":"Hey guys! I got here with the same issue, did the same as said above, but still when running my application I still get the same message. Seems that the application, as it is right now, is not having any failures, but I&#39;m afraid it will show failures in the future when it gets bigger, so I&#39;m looking for a solution. Any other ideas on how to fix it?"}],"answers":[{"tags":[],"owner":{"account_id":17851873,"reputation":39,"user_id":12967455,"display_name":"Hasathon"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1582732328,"creation_date":1582728600,"answer_id":60416551,"question_id":60010007,"body_markdown":"I have faced the same problem but managed to solve it.\r\nThe controller class has to be in the &quot;child package&quot; relative to the `TestApplication` class.\r\n\r\nIn your case, your `TanmayTestApplication` class is in the package `com.example.tanmay_test`. Therefore, your `DemoControler` class must be inside the package `com.example.tanmay_test.xxx`. \r\n\r\n**Note that xxx can be anything but extends from package `com.example.tanmay_test`. For example, package `com.example.tanmay_test.web`.\r\n\r\nHope this helps!","title":"Basic spring boot app not working, showing: Failed to refresh live data from process xxxx","body":"<p>I have faced the same problem but managed to solve it.\nThe controller class has to be in the \"child package\" relative to the <code>TestApplication</code> class.</p>\n\n<p>In your case, your <code>TanmayTestApplication</code> class is in the package <code>com.example.tanmay_test</code>. Therefore, your <code>DemoControler</code> class must be inside the package <code>com.example.tanmay_test.xxx</code>. </p>\n\n<p>**Note that xxx can be anything but extends from package <code>com.example.tanmay_test</code>. For example, package <code>com.example.tanmay_test.web</code>.</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"display_name":"user7780894"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1583472298,"creation_date":1583472298,"answer_id":60558057,"question_id":60010007,"body_markdown":"It is simply saying that you didn&#39;t enable [LiveReload](http://livereload.com/).","title":"Basic spring boot app not working, showing: Failed to refresh live data from process xxxx","body":"<p>It is simply saying that you didn't enable <a href=\"http://livereload.com/\" rel=\"nofollow noreferrer\">LiveReload</a>.</p>\n"},{"tags":[],"owner":{"account_id":14258860,"reputation":49,"user_id":10300304,"display_name":"Petter"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1584140229,"creation_date":1584140229,"answer_id":60678196,"question_id":60010007,"body_markdown":"Add this line in your file **application.properties** (src/main/resources):\r\n\r\n**spring.devtools.livereload.enabled=true**","title":"Basic spring boot app not working, showing: Failed to refresh live data from process xxxx","body":"<p>Add this line in your file <strong>application.properties</strong> (src/main/resources):</p>\n\n<p><strong>spring.devtools.livereload.enabled=true</strong></p>\n"},{"tags":[],"owner":{"account_id":320612,"reputation":825,"user_id":4436450,"display_name":"Martin Theiss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585486599,"creation_date":1585486599,"answer_id":60914623,"question_id":60010007,"body_markdown":"Live data is collected with the help of Spring Actuator.\r\n\r\nYou need to include the following dependency in your pom.xml\r\n\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nSee https://github.com/spring-projects/sts4/wiki/Live-Application-Information#application-requirements-for-spring-boot-projects for reference.\r\n","title":"Basic spring boot app not working, showing: Failed to refresh live data from process xxxx","body":"<p>Live data is collected with the help of Spring Actuator.</p>\n\n<p>You need to include the following dependency in your pom.xml</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>See <a href=\"https://github.com/spring-projects/sts4/wiki/Live-Application-Information#application-requirements-for-spring-boot-projects\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/sts4/wiki/Live-Application-Information#application-requirements-for-spring-boot-projects</a> for reference.</p>\n"},{"tags":[],"owner":{"account_id":16652565,"reputation":103,"user_id":12034987,"display_name":"Hashan Mahesh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1586277452,"creation_date":1586277452,"answer_id":61084954,"question_id":60010007,"body_markdown":"I had the same problem in STS, and tried different things to resolve it. The following dependency for spring actuator makes that problem disappear, but however the main point of spring actuator provides more features than this. To learn more, click https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html\r\n\r\nThe dependency should be added to your pom.xml file\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Basic spring boot app not working, showing: Failed to refresh live data from process xxxx","body":"<p>I had the same problem in STS, and tried different things to resolve it. The following dependency for spring actuator makes that problem disappear, but however the main point of spring actuator provides more features than this. To learn more, click <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html</a></p>\n\n<p>The dependency should be added to your pom.xml file</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15851863,"reputation":11,"user_id":11437466,"display_name":"Harshada patke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593934603,"creation_date":1593934603,"answer_id":62738040,"question_id":60010007,"body_markdown":"I was also facing same issue after adding Spring Actuator dependency, it resolved.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt; \r\n\r\nafter adding this in POM.xml, do maven build and run again.\r\n","title":"Basic spring boot app not working, showing: Failed to refresh live data from process xxxx","body":"<p>I was also facing same issue after adding Spring Actuator dependency, it resolved.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt; \n</code></pre>\n<p>after adding this in POM.xml, do maven build and run again.</p>\n"},{"tags":[],"owner":{"account_id":17663422,"reputation":331,"user_id":12821358,"display_name":"Vinay Bairagi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597581517,"creation_date":1597581517,"answer_id":63436986,"question_id":60010007,"body_markdown":"This is non other then the **Data Source** error \r\nTo resolves this I disabled the **auto-configuration** of the DataSource. And, this will not affect auto-configuring any other beans.\r\n\r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })","title":"Basic spring boot app not working, showing: Failed to refresh live data from process xxxx","body":"<p>This is non other then the <strong>Data Source</strong> error\nTo resolves this I disabled the <strong>auto-configuration</strong> of the DataSource. And, this will not affect auto-configuring any other beans.</p>\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24367878,"reputation":31,"user_id":18301333,"display_name":"Prateek Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653902960,"creation_date":1653902960,"answer_id":72432059,"question_id":60010007,"body_markdown":"I&#39;m using VS Code and the thing that worked for me was adding a dev tool dependency.\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t  &lt;/dependency&gt;\r\nAlso, add `spring.devtools.livereload.enabled=true` in application.properties file so that server knows that it has to reload every time a change is made.\r\n[Thanks for this one.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60678196/18301333","title":"Basic spring boot app not working, showing: Failed to refresh live data from process xxxx","body":"<p>I'm using VS Code and the thing that worked for me was adding a dev tool dependency.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n          &lt;/dependency&gt;\n</code></pre>\n<p>Also, add <code>spring.devtools.livereload.enabled=true</code> in application.properties file so that server knows that it has to reload every time a change is made.\n<a href=\"https://stackoverflow.com/a/60678196/18301333\">Thanks for this one.</a></p>\n"}],"owner":{"account_id":17663422,"reputation":331,"user_id":12821358,"display_name":"Vinay Bairagi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30744,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":8,"score":16,"last_activity_date":1653902960,"creation_date":1580498275,"question_id":60010007,"body_markdown":"I am beginner for spring boot. I initialized a new project and tried to run it but it does not work successfully. WHen I run this as spring boot application, it starts execution. In bottom compiler/status bar, it shows processing and retrying. it goes upto 10 times and throw the following error:\r\n\r\n[Failed to refresh live data from process xxxx][1]\r\n\r\n[More detail here][2]\r\n\r\n**TanmayTestApplication.java**\r\n```\r\npackage com.example.tanmay_test;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class TanmayTestApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TanmayTestApplication.class, args);\r\n\t}\r\n}\r\n\r\n```\r\n**DemoControler.java**\r\n```\r\npackage com.example.cntr;\r\n\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@RestController\r\npublic class DemoControler {\r\n\r\n\t@RequestMapping(path = &quot;/index&quot;)\r\n\tpublic String index() {\r\n\t\treturn &quot;By Tanmay!&quot;;\r\n\t}\t\r\n}\r\n\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;tanmay_test&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;tanmay_test&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/Q7VPO.jpg\r\n  [2]: https://i.stack.imgur.com/GWM0m.png","title":"Basic spring boot app not working, showing: Failed to refresh live data from process xxxx","body":"<p>I am beginner for spring boot. I initialized a new project and tried to run it but it does not work successfully. WHen I run this as spring boot application, it starts execution. In bottom compiler/status bar, it shows processing and retrying. it goes upto 10 times and throw the following error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Q7VPO.jpg\" rel=\"noreferrer\">Failed to refresh live data from process xxxx</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/GWM0m.png\" rel=\"noreferrer\">More detail here</a></p>\n\n<p><strong>TanmayTestApplication.java</strong></p>\n\n<pre><code>package com.example.tanmay_test;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class TanmayTestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TanmayTestApplication.class, args);\n    }\n}\n\n</code></pre>\n\n<p><strong>DemoControler.java</strong></p>\n\n<pre><code>package com.example.cntr;\n\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@RestController\npublic class DemoControler {\n\n    @RequestMapping(path = \"/index\")\n    public String index() {\n        return \"By Tanmay!\";\n    }   \n}\n\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;tanmay_test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;tanmay_test&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","hashmap","hashset"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1653857111,"post_id":72427114,"comment_id":127947810,"body_markdown":"`test.computeIfAbsent(1, key -&gt; new HashSet&lt;&gt;()).add(new ExampleObject(1, &quot;a&quot;, &quot;b&quot;)));`.","body":"<code>test.computeIfAbsent(1, key -&gt; new HashSet&lt;&gt;()).add(new ExampleObject(1, &quot;a&quot;, &quot;b&quot;)));</code>."}],"answers":[{"tags":[],"owner":{"account_id":25397590,"reputation":126,"user_id":19207621,"display_name":"itfedorovsa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653902392,"creation_date":1653858691,"answer_id":72427313,"question_id":72427114,"body_markdown":"Your add() method return boolean and can&#39;t be used in your example.\r\nAnd you need to create a data structure HashSet.\r\nFor example:\r\n\r\n    private static HashMap&lt;Integer, HashSet&lt;exampleObject&gt;&gt; test = new HashMap&lt;&gt;();\r\n    private static HashSet&lt;exampleObject&gt; hashSet = new HashSet&lt;&gt;(); \r\n\r\n    public static void main(String[] args) {\r\n        hashSet.add(new exampleObject(&quot;key&quot;, &quot;value&quot;)); // &lt;-- returns boolean\r\n        test.put(1, hashSet);\r\n        for (exampleObject element : test.get(1)) {\r\n            System.out.println(element);\r\n        }\r\n    }\r\n\r\nP.S. exampleObject have 2 String fields here. And don&#39;t forget to override equals() and hashCode() in exampleObject for the correct output of the object to print.","title":"Add to private HashMap&lt;Integer, HashSet&lt;exampleObject&gt;&gt; test in java","body":"<p>Your add() method return boolean and can't be used in your example.\nAnd you need to create a data structure HashSet.\nFor example:</p>\n<pre><code>private static HashMap&lt;Integer, HashSet&lt;exampleObject&gt;&gt; test = new HashMap&lt;&gt;();\nprivate static HashSet&lt;exampleObject&gt; hashSet = new HashSet&lt;&gt;(); \n\npublic static void main(String[] args) {\n    hashSet.add(new exampleObject(&quot;key&quot;, &quot;value&quot;)); // &lt;-- returns boolean\n    test.put(1, hashSet);\n    for (exampleObject element : test.get(1)) {\n        System.out.println(element);\n    }\n}\n</code></pre>\n<p>P.S. exampleObject have 2 String fields here. And don't forget to override equals() and hashCode() in exampleObject for the correct output of the object to print.</p>\n"}],"owner":{"account_id":23934463,"reputation":21,"user_id":17928420,"display_name":"SummerNorth"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"closed_date":1653906197,"accepted_answer_id":72427313,"answer_count":1,"score":-2,"last_activity_date":1653902392,"creation_date":1653856632,"question_id":72427114,"body_markdown":"I&#39;m exploring hash set and hash map, I&#39;m looking to add to this:\r\n\r\n    private HashMap&lt;Integer, HashSet&lt;exampleObject&gt;&gt; test;\r\n\r\n    test = new HashMap&lt;Integer, HashSet&lt;exampleObject&gt;&gt;();\r\n\r\nfor example the exampleObject is made up from int, String, String,\r\n\r\nI&#39;ve tried (as well as other things)\r\n\r\n    test.put(1, exampleObject.add(new exampleObject(1,&quot;a&quot;,&quot;b&quot;)));\r\n\r\nAny help would be appreciated \r\n\r\n","title":"Add to private HashMap&lt;Integer, HashSet&lt;exampleObject&gt;&gt; test in java","body":"<p>I'm exploring hash set and hash map, I'm looking to add to this:</p>\n<pre><code>private HashMap&lt;Integer, HashSet&lt;exampleObject&gt;&gt; test;\n\ntest = new HashMap&lt;Integer, HashSet&lt;exampleObject&gt;&gt;();\n</code></pre>\n<p>for example the exampleObject is made up from int, String, String,</p>\n<p>I've tried (as well as other things)</p>\n<pre><code>test.put(1, exampleObject.add(new exampleObject(1,&quot;a&quot;,&quot;b&quot;)));\n</code></pre>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","eclipse","jakarta-ee"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1500410181,"post_id":45176532,"comment_id":77321770,"body_markdown":"Do you mean another project as a jar, or a jar from another project when you say, &quot;project jar&quot;?","body":"Do you mean another project as a jar, or a jar from another project when you say, &quot;project jar&quot;?"},{"owner":{"account_id":8164565,"reputation":61,"user_id":6147421,"display_name":"epz"},"score":0,"creation_date":1500411669,"post_id":45176532,"comment_id":77322522,"body_markdown":"Another project as a jar. Normally you would just add a project to the deployment assembly, but in this case I want it deployed but not have a forced dependency on it.","body":"Another project as a jar. Normally you would just add a project to the deployment assembly, but in this case I want it deployed but not have a forced dependency on it."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1500411742,"post_id":45176532,"comment_id":77322558,"body_markdown":"What&#39;s the runtime dependency on it, then?","body":"What&#39;s the runtime dependency on it, then?"},{"owner":{"account_id":8164565,"reputation":61,"user_id":6147421,"display_name":"epz"},"score":0,"creation_date":1500411875,"post_id":45176532,"comment_id":77322628,"body_markdown":"I need it on classpath so I can load a class from it.","body":"I need it on classpath so I can load a class from it."},{"owner":{"account_id":8164565,"reputation":61,"user_id":6147421,"display_name":"epz"},"score":0,"creation_date":1500413366,"post_id":45176532,"comment_id":77323401,"body_markdown":"The scenario should not be uncommon. Project A (dynamic web) defines interface I; project B (utility) depends on A and defines class C that implements I. Code in A instantiates C reflectively by name (from metadata) and casts it to I. A knows nothing about B. Forcing B on the build path for A creates a circular dependency.","body":"The scenario should not be uncommon. Project A (dynamic web) defines interface I; project B (utility) depends on A and defines class C that implements I. Code in A instantiates C reflectively by name (from metadata) and casts it to I. A knows nothing about B. Forcing B on the build path for A creates a circular dependency."}],"answers":[{"tags":[],"owner":{"account_id":13695173,"reputation":213,"user_id":9882051,"display_name":"toshi456"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653902210,"creation_date":1653896036,"answer_id":72430634,"question_id":45176532,"body_markdown":"Go to the properties window of the project. Then go to java build path tab and remove the relevant other project from libraries there. Then go to projects in the same tab and select the required project by using the add option and add it.  Then restart Eclipse.","title":"Add project JAR to deployment assembly but not build path in Eclipse","body":"<p>Go to the properties window of the project. Then go to java build path tab and remove the relevant other project from libraries there. Then go to projects in the same tab and select the required project by using the add option and add it.  Then restart Eclipse.</p>\n"}],"owner":{"account_id":8164565,"reputation":61,"user_id":6147421,"display_name":"epz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1030,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653902210,"creation_date":1500409925,"question_id":45176532,"body_markdown":"Eclipse automatically adds everything in WEB-INF/lib (specified in deployment assembly) to the project&#39;s build path. Is there a way to override this behavior? I need for another project jar to be deployed and available at run time but not have a forced compile-time dependency on it. Thanks!","title":"Add project JAR to deployment assembly but not build path in Eclipse","body":"<p>Eclipse automatically adds everything in WEB-INF/lib (specified in deployment assembly) to the project's build path. Is there a way to override this behavior? I need for another project jar to be deployed and available at run time but not have a forced compile-time dependency on it. Thanks!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1653895489,"post_id":72430367,"comment_id":127954019,"body_markdown":"i don&#39;t have much experience with this, but it doesn&#39;t seem too safe to rely on on something which isn&#39;t officially supported, it might be removed in future","body":"i don&#39;t have much experience with this, but it doesn&#39;t seem too safe to rely on on something which isn&#39;t officially supported, it might be removed in future"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1653895535,"post_id":72430367,"comment_id":127954034,"body_markdown":"Could you please clarify if you are dealing with `SocketChannelImpl` or `SelChImpl` ?","body":"Could you please clarify if you are dealing with <code>SocketChannelImpl</code> or <code>SelChImpl</code> ?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1653895898,"post_id":72430367,"comment_id":127954162,"body_markdown":"What kind of insane mind names interfaces using `Impl` suffix?","body":"What kind of insane mind names interfaces using <code>Impl</code> suffix?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1653896063,"post_id":72430367,"comment_id":127954217,"body_markdown":"Add jar with that lib to your project classpath","body":"Add jar with that lib to your project classpath"},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1653899645,"post_id":72430367,"comment_id":127955362,"body_markdown":"I want to implement SelChImpl. I will check if this interface exists in the Android versions I am targeting. So it&#39;s quite save to do that.","body":"I want to implement SelChImpl. I will check if this interface exists in the Android versions I am targeting. So it&#39;s quite save to do that."},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1653900022,"post_id":72430367,"comment_id":127955474,"body_markdown":"@Antoniossss That would mean I have to compile libcore? I don&#39;t know how to do that...","body":"@Antoniossss That would mean I have to compile libcore? I don&#39;t know how to do that..."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1653900604,"post_id":72430367,"comment_id":127955699,"body_markdown":"It would be better got get compiled jar.","body":"It would be better got get compiled jar."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1653901048,"post_id":72430367,"comment_id":127955856,"body_markdown":"A workaround to this, instead of implementing interface, you could create a `Proxy` to intercept method calls and execute arbitrary code as you see fit in response. In such case, you dont even need sources because everything then is reflection based.","body":"A workaround to this, instead of implementing interface, you could create a <code>Proxy</code> to intercept method calls and execute arbitrary code as you see fit in response. In such case, you dont even need sources because everything then is reflection based."},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1653901939,"post_id":72430367,"comment_id":127956168,"body_markdown":"@Antoniossss I want to add an object of my class to a Selector. Something like this cannot be done using reflection or a proxy class. (See my edit in the post.)","body":"@Antoniossss I want to add an object of my class to a Selector. Something like this cannot be done using reflection or a proxy class. (See my edit in the post.)"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1653902365,"post_id":72430367,"comment_id":127956323,"body_markdown":"Sure you can use proxy for that. After all, implementing interface is just saying what to do when client calls method X - exactly the same thing is done via proxy, just in more cumbersome way. IMO it can be done via proxy, the only question is will you be able to do it in cleaner way. If you run out of ideas you could take a shot with javas Proxy .","body":"Sure you can use proxy for that. After all, implementing interface is just saying what to do when client calls method X - exactly the same thing is done via proxy, just in more cumbersome way. IMO it can be done via proxy, the only question is will you be able to do it in cleaner way. If you run out of ideas you could take a shot with javas Proxy ."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1653902644,"post_id":72430367,"comment_id":127956424,"body_markdown":"You just implement your class as you do now, but without `implements X`. Then you define proxy as a handler to handle method X eg via yourImplnstance.Y(params);","body":"You just implement your class as you do now, but without <code>implements X</code>. Then you define proxy as a handler to handle method X eg via yourImplnstance.Y(params);"},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1653902655,"post_id":72430367,"comment_id":127956428,"body_markdown":"My object hast to be of type SelChImpl. If this is not the case I cannot add it to the selector. This can&#39;t be done using a proxy class. If you still think so then please post some code.","body":"My object hast to be of type SelChImpl. If this is not the case I cannot add it to the selector. This can&#39;t be done using a proxy class. If you still think so then please post some code."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1653902688,"post_id":72430367,"comment_id":127956440,"body_markdown":"You would pass proxy, not impl, because proxy `implements X` :)","body":"You would pass proxy, not impl, because proxy <code>implements X</code> :)"},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1653902717,"post_id":72430367,"comment_id":127956455,"body_markdown":"The class sun.nio.ch.SelectorImpl checks if the object is of type SelChImpl. If I remove the &quot;implements SelChImpl&quot; then the code won&#39;t work.","body":"The class sun.nio.ch.SelectorImpl checks if the object is of type SelChImpl. If I remove the &quot;implements SelChImpl&quot; then the code won&#39;t work."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1653902735,"post_id":72430367,"comment_id":127956464,"body_markdown":"you would pass proxy, not your impl and proxy would be of `SelChImpl` type obviously","body":"you would pass proxy, not your impl and proxy would be of <code>SelChImpl</code> type obviously"},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1653902811,"post_id":72430367,"comment_id":127956486,"body_markdown":"@Antoniossss This would cause a IllegalSelectorException.","body":"@Antoniossss This would cause a IllegalSelectorException."},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1653902836,"post_id":72430367,"comment_id":127956495,"body_markdown":"@Antoniossss Can you please post some code?  I don&#39;t understand...","body":"@Antoniossss Can you please post some code?  I don&#39;t understand..."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1653902862,"post_id":72430367,"comment_id":127956505,"body_markdown":"On what basis IllegalSelectorException would be thrown? Did you tried it? Are you familiar with Mockito in tests for example? It would work in very similar way like passing a mock there. Check some examples of how java proxies can be used so you can try it out yourself. https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.html \n\nagain, its not a clean solution, but should relief your from having sources/bytecode of corelib","body":"On what basis IllegalSelectorException would be thrown? Did you tried it? Are you familiar with Mockito in tests for example? It would work in very similar way like passing a mock there. Check some examples of how java proxies can be used so you can try it out yourself. <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.ht&zwnj;&#8203;ml</a>   again, its not a clean solution, but should relief your from having sources/bytecode of corelib"},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1653903072,"post_id":72430367,"comment_id":127956572,"body_markdown":"@Antoniossss Because it stands in the code. https://android.googlesource.com/platform/libcore/+/519adb2f61bb2bfa6cc993b1ca15cf7022b96697/ojluni/src/main/java/sun/nio/ch/SelectorImpl.java#127","body":"@Antoniossss Because it stands in the code. <a href=\"https://android.googlesource.com/platform/libcore/+/519adb2f61bb2bfa6cc993b1ca15cf7022b96697/ojluni/src/main/java/sun/nio/ch/SelectorImpl.java#127\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/libcore/+/&hellip;</a>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1653903229,"post_id":72430367,"comment_id":127956627,"body_markdown":"But the proxy WILL BE OF `SelChImpl`  and will pass `instanceof` check? That is the whole point! (assuming that `SelChImpl` is really an interface)","body":"But the proxy WILL BE OF <code>SelChImpl</code>  and will pass <code>instanceof</code> check? That is the whole point! (assuming that <code>SelChImpl</code> is really an interface)"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1653903305,"post_id":72430367,"comment_id":127956661,"body_markdown":"The fact that `register` accepts `AbstractSelectableChannel` is a different pair of shooes ....","body":"The fact that <code>register</code> accepts <code>AbstractSelectableChannel</code> is a different pair of shooes ...."},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1653903511,"post_id":72430367,"comment_id":127956749,"body_markdown":"@Antoniossss I&#39;m sorry. I did not know about reflection Proxy classes. I checked it and it might work...","body":"@Antoniossss I&#39;m sorry. I did not know about reflection Proxy classes. I checked it and it might work..."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1653904861,"post_id":72430367,"comment_id":127957256,"body_markdown":"What do you want to achieve? / Why do you want to implement that class?","body":"What do you want to achieve? / Why do you want to implement that class?"},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1653910478,"post_id":72430367,"comment_id":127959211,"body_markdown":"I want to have a selectable local unix socket","body":"I want to have a selectable local unix socket"}],"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653901860,"creation_date":1653894489,"question_id":72430367,"body_markdown":"I want to implement an interface SelChImpl which is part of Android&#39;s [libcore][1]. This class is not part of the Android API. But it is there at runtime and can be accessed using\r\n\r\n    Class&lt;?&gt; myClass = Class.forName(&quot;sun.nio.ch.SocketChannelImpl&quot;);\r\n\r\nfor example. I have downloaded the libcore source code and now I want to add it to the &quot;include path&quot; (as you would call it in C). I don&#39;t want to compile the SelChImpl source code into my program. I just want to reference the class. How to do that? My code is:\r\n\r\n\r\n    package mypackage;\r\n    \r\n    import sun.nio.ch.SelChImpl;\r\n    import java.nio.channels.spi.AbstractSelectableChannel;\r\n    \r\n    public class UnixSocketChannelImpl\r\n      extends AbstractSelectableChannel\r\n      implements SelChImpl\r\n    {\r\n\r\nLater I am adding an instace of my class to a Selector:\r\n\r\n    Selector sel = Selector.open();\r\n    UnixSocketChannelImpl sock = new UnixSocketChannelImpl(/* some arguments here */);\r\n    sock.register(sel, SelectionKey.OP_READ);\r\n\r\nBut I get this error:\r\n\r\n&gt; error: package sun.nio.ch does not exist\r\n\r\nI think I need some gadle compileOnly directive?\r\n\r\n  [1]: https://android.googlesource.com/platform/libcore/+/refs/heads/master/ojluni/src/main/java/sun/nio/ch/SelChImpl.java","title":"Implement interface that is not part of the public Android API","body":"<p>I want to implement an interface SelChImpl which is part of Android's <a href=\"https://android.googlesource.com/platform/libcore/+/refs/heads/master/ojluni/src/main/java/sun/nio/ch/SelChImpl.java\" rel=\"nofollow noreferrer\">libcore</a>. This class is not part of the Android API. But it is there at runtime and can be accessed using</p>\n<pre><code>Class&lt;?&gt; myClass = Class.forName(&quot;sun.nio.ch.SocketChannelImpl&quot;);\n</code></pre>\n<p>for example. I have downloaded the libcore source code and now I want to add it to the &quot;include path&quot; (as you would call it in C). I don't want to compile the SelChImpl source code into my program. I just want to reference the class. How to do that? My code is:</p>\n<pre><code>package mypackage;\n\nimport sun.nio.ch.SelChImpl;\nimport java.nio.channels.spi.AbstractSelectableChannel;\n\npublic class UnixSocketChannelImpl\n  extends AbstractSelectableChannel\n  implements SelChImpl\n{\n</code></pre>\n<p>Later I am adding an instace of my class to a Selector:</p>\n<pre><code>Selector sel = Selector.open();\nUnixSocketChannelImpl sock = new UnixSocketChannelImpl(/* some arguments here */);\nsock.register(sel, SelectionKey.OP_READ);\n</code></pre>\n<p>But I get this error:</p>\n<blockquote>\n<p>error: package sun.nio.ch does not exist</p>\n</blockquote>\n<p>I think I need some gadle compileOnly directive?</p>\n"},{"tags":["java","jdbc","google-cloud-sql"],"comments":[{"owner":{"account_id":3603873,"reputation":8295,"user_id":3006544,"display_name":"Ryan J"},"score":1,"creation_date":1434731129,"post_id":30942833,"comment_id":49920790,"body_markdown":"What are you doing here? `Class.forName(DRIVER);` You don&#39;t use the return value of that method call... Are you getting any `SQLException`s or anything else during that method call?","body":"What are you doing here? <code>Class.forName(DRIVER);</code> You don&#39;t use the return value of that method call... Are you getting any <code>SQLException</code>s or anything else during that method call?"},{"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"score":0,"creation_date":1434731381,"post_id":30942833,"comment_id":49920937,"body_markdown":"Have you added the dependent libraries(jar) for that [Refer](https://cloud.google.com/appengine/docs/java/cloud-sql/)","body":"Have you added the dependent libraries(jar) for that <a href=\"https://cloud.google.com/appengine/docs/java/cloud-sql/\" rel=\"nofollow noreferrer\">Refer</a>"},{"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"score":0,"creation_date":1434731606,"post_id":30942833,"comment_id":49921045,"body_markdown":"@refer Not sure how to do that...","body":"@refer Not sure how to do that..."},{"owner":{"account_id":5214743,"reputation":4743,"user_id":4170073,"display_name":"aw-think"},"score":0,"creation_date":1434731703,"post_id":30942833,"comment_id":49921091,"body_markdown":"Have a look here, this solves your problem: https://cloud.google.com/appengine/docs/java/cloud-sql/#enable_connector_j","body":"Have a look here, this solves your problem: <a href=\"https://cloud.google.com/appengine/docs/java/cloud-sql/#enable_connector_j\" rel=\"nofollow noreferrer\">cloud.google.com/appengine/docs/java/cloud-sql/&hellip;</a>"},{"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"score":0,"creation_date":1434732467,"post_id":30942833,"comment_id":49921507,"body_markdown":"@NwDx I am very aware of that link but it didn&#39;t solve the problem. You can only connect to Cloud SQL if it is running in AppEngine apparently...","body":"@NwDx I am very aware of that link but it didn&#39;t solve the problem. You can only connect to Cloud SQL if it is running in AppEngine apparently..."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1434733965,"post_id":30942833,"comment_id":49922227,"body_markdown":"At a minimum, add a null check in your `getConnection()` class, so that you get an error when you try to open the connection, not when you try to use it.","body":"At a minimum, add a null check in your <code>getConnection()</code> class, so that you get an error when you try to open the connection, not when you try to use it."},{"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"score":0,"creation_date":1434738356,"post_id":30942833,"comment_id":49924584,"body_markdown":"@RyanJ I don&#39;t understand your question. No, I am not getting any SQLException...","body":"@RyanJ I don&#39;t understand your question. No, I am not getting any SQLException..."},{"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"score":0,"creation_date":1434738590,"post_id":30942833,"comment_id":49924711,"body_markdown":"@dimo414 if I add a null check, what should my ConnectionManager class I return if it evaluates to null?","body":"@dimo414 if I add a null check, what should my ConnectionManager class I return if it evaluates to null?"},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1434744156,"post_id":30942833,"comment_id":49927332,"body_markdown":"@MicroR you raise an exception.","body":"@MicroR you raise an exception."}],"answers":[{"tags":[],"owner":{"account_id":6391986,"reputation":3843,"user_id":4957772,"display_name":"isma3l"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1434731946,"creation_date":1434731946,"answer_id":30943133,"question_id":30942833,"body_markdown":"    com.mysql.jdbc.GoogleDriver\r\nOnly works if your app is running in AppEngine,and remember to enable the connector in appengine.\r\n If not just use     com.mysql.jdbc.Driver.\r\n\r\n\r\nThe guide is very simple: https://cloud.google.com/appengine/docs/java/cloud-sql/#enable_connector_j\r\n\r\n","title":"java.lang.NullPointerException connecting to Cloud SQL","body":"<pre><code>com.mysql.jdbc.GoogleDriver\n</code></pre>\n\n<p>Only works if your app is running in AppEngine,and remember to enable the connector in appengine.\n If not just use     com.mysql.jdbc.Driver.</p>\n\n<p>The guide is very simple: <a href=\"https://cloud.google.com/appengine/docs/java/cloud-sql/#enable_connector_j\" rel=\"nofollow\">https://cloud.google.com/appengine/docs/java/cloud-sql/#enable_connector_j</a></p>\n"},{"tags":[],"owner":{"account_id":5214743,"reputation":4743,"user_id":4170073,"display_name":"aw-think"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434734025,"creation_date":1434734025,"answer_id":30943713,"question_id":30942833,"body_markdown":"Found something interesting here: cloud.google.com/sql/docs/external \r\n\r\n\r\nSo you are able to connect with a normal MySQL Connector and without App Engine. You get the jar-file here: http://dev.mysql.com/downloads/connector/j/ \r\n\r\nTo solve 1: \r\n\r\n&gt; Authorize the IP or range of IPs from which you will be connecting\r\n\r\nyou need to get your ip. If you on a normal dsl you may get a dynamic ip, so you have to change this often in admin console of Cloud SQL.","title":"java.lang.NullPointerException connecting to Cloud SQL","body":"<p>Found something interesting here: cloud.google.com/sql/docs/external </p>\n\n<p>So you are able to connect with a normal MySQL Connector and without App Engine. You get the jar-file here: <a href=\"http://dev.mysql.com/downloads/connector/j/\" rel=\"nofollow\">http://dev.mysql.com/downloads/connector/j/</a> </p>\n\n<p>To solve 1: </p>\n\n<blockquote>\n  <p>Authorize the IP or range of IPs from which you will be connecting</p>\n</blockquote>\n\n<p>you need to get your ip. If you on a normal dsl you may get a dynamic ip, so you have to change this often in admin console of Cloud SQL.</p>\n"},{"tags":[],"owner":{"account_id":2555133,"reputation":356,"user_id":2217303,"accept_rate":60,"display_name":"user2217303"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435520604,"creation_date":1435515936,"answer_id":31103257,"question_id":30942833,"body_markdown":"This might be a cause of one of two things:\r\n\r\n1) Missing permission. Try to add these in the Manifest,\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.access_wifi_state&quot; /&gt;\r\n\r\n2) Add &quot;jtds-1.3.1.jar&quot; file to app/lib forlder","title":"java.lang.NullPointerException connecting to Cloud SQL","body":"<p>This might be a cause of one of two things:</p>\n\n<p>1) Missing permission. Try to add these in the Manifest,</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.access_wifi_state\" /&gt;\n</code></pre>\n\n<p>2) Add \"jtds-1.3.1.jar\" file to app/lib forlder</p>\n"}],"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3979,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":30943133,"answer_count":3,"score":0,"last_activity_date":1653901783,"creation_date":1434730855,"question_id":30942833,"body_markdown":"    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.*;\r\n    \r\n    public class ConnectionManager {\r\n        private static String URL  = &quot;jdbc:google:mysql://your-project-id:your-instance-name/database&quot;;\r\n        private static String DRIVER = &quot;com.mysql.jdbc.GoogleDriver&quot;;\r\n        private static String USERNAME = &quot;root&quot;;\r\n        private static String PASSWORD = &quot;test&quot;;\r\n        private static Connection CON = null;\r\n    \r\n        public static Connection getConnection() {\r\n            try {\r\n                Class.forName(DRIVER);\r\n                try {\r\n                    CON = DriverManager.getConnection(URL, USERNAME, PASSWORD);\r\n                } catch (SQLException se) {\r\n                    //Handle errors for JDBC\r\n                    se.printStackTrace();\r\n                }\r\n            } catch (Exception ex) {\r\n                //Handle errors for Class.forName\r\n                ex.printStackTrace();\r\n            }\r\n    \r\n            //return a connection object\r\n            return CON;\r\n        }\r\n    \r\n    }\r\n\r\nI created the above class to connect to my Cloud SQL instance in Android Studio but the above class is returning a NULL which in turn hurts the rest of my code:\r\n\r\n    conn = ConnectionManager.getConnection();\r\n    stmt = conn.createStatement();\r\n    String sql;\r\n    sql = &quot;INSERT into messages (message) VALUES(&#39;Hello World&#39;)&quot;;\r\n    ResultSet rs = stmt.executeQuery(sql);\r\n\r\nI&#39;m not sure though why I cam getting this error:\r\n\r\n    Caused by: java.lang.NullPointerException: Attempt to invoke interface method &#39;java.sql.Statement java.sql.Connection.createStatement()&#39; on a null object reference\r\n\r\nAm I missing some imports or something? ","title":"java.lang.NullPointerException connecting to Cloud SQL","body":"<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.*;\n\npublic class ConnectionManager {\n    private static String URL  = \"jdbc:google:mysql://your-project-id:your-instance-name/database\";\n    private static String DRIVER = \"com.mysql.jdbc.GoogleDriver\";\n    private static String USERNAME = \"root\";\n    private static String PASSWORD = \"test\";\n    private static Connection CON = null;\n\n    public static Connection getConnection() {\n        try {\n            Class.forName(DRIVER);\n            try {\n                CON = DriverManager.getConnection(URL, USERNAME, PASSWORD);\n            } catch (SQLException se) {\n                //Handle errors for JDBC\n                se.printStackTrace();\n            }\n        } catch (Exception ex) {\n            //Handle errors for Class.forName\n            ex.printStackTrace();\n        }\n\n        //return a connection object\n        return CON;\n    }\n\n}\n</code></pre>\n\n<p>I created the above class to connect to my Cloud SQL instance in Android Studio but the above class is returning a NULL which in turn hurts the rest of my code:</p>\n\n<pre><code>conn = ConnectionManager.getConnection();\nstmt = conn.createStatement();\nString sql;\nsql = \"INSERT into messages (message) VALUES('Hello World')\";\nResultSet rs = stmt.executeQuery(sql);\n</code></pre>\n\n<p>I'm not sure though why I cam getting this error:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException: Attempt to invoke interface method 'java.sql.Statement java.sql.Connection.createStatement()' on a null object reference\n</code></pre>\n\n<p>Am I missing some imports or something? </p>\n"},{"tags":["java","docker","chmod"],"answers":[{"tags":[],"owner":{"account_id":232989,"reputation":1670,"user_id":498190,"accept_rate":55,"display_name":"Marvin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653901469,"creation_date":1653901469,"answer_id":72431781,"question_id":72430171,"body_markdown":"Every commands within the RUN clause will be executed in the image you are buildind, thus on your openjre, with all files/dirs your may have added in the meantime.\r\n\r\nIn your case, when the build command reaches your chmod, so far you have  : \r\n \r\n    /javaAction/target/hercules-onboarding-job.jar\r\n    /everthing/else/provided/with/openjre\r\n\r\nThus, you cannot expect it to find a file that is not present... yet.  \r\nAll you have to do is COPY/ADD the desired file (or directory if more is needed) the same way your did with your jar... or it it is the *jar*   itself whose rights you want to &quot;*chmod*&quot;, then fix your chmod with the correct path.\r\n\r\nAnd if you don&#39;t want it to remain in your image, you can juste remove it at the end of your build, with a *RUN rm -rf ...* command","title":"Unable to provide access permission to file because of incorrect path in docker file","body":"<p>Every commands within the RUN clause will be executed in the image you are buildind, thus on your openjre, with all files/dirs your may have added in the meantime.</p>\n<p>In your case, when the build command reaches your chmod, so far you have  :</p>\n<pre><code>/javaAction/target/hercules-onboarding-job.jar\n/everthing/else/provided/with/openjre\n</code></pre>\n<p>Thus, you cannot expect it to find a file that is not present... yet.<br />\nAll you have to do is COPY/ADD the desired file (or directory if more is needed) the same way your did with your jar... or it it is the <em>jar</em>   itself whose rights you want to &quot;<em>chmod</em>&quot;, then fix your chmod with the correct path.</p>\n<p>And if you don't want it to remain in your image, you can juste remove it at the end of your build, with a <em>RUN rm -rf ...</em> command</p>\n"}],"owner":{"account_id":2858708,"reputation":31,"user_id":2454363,"accept_rate":67,"display_name":"Ankit Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72431781,"answer_count":1,"score":0,"last_activity_date":1653901469,"creation_date":1653893417,"question_id":72430171,"body_markdown":"I am trying to prepare a docker image of java service. But while building the image I am getting below error.\r\n\r\n    chmod: cannot access &#39;/HerculesServiceOnboarding-linux&#39;: No such file or directory\r\n\r\nHerculesServiceOnboarding-linux is a binary file which being called to execute within java service. File is under the path src/main/java/resources/ . The usual maven project structure.\r\n\r\nBelow is the project structure of my java service.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6xp39.png\r\n\r\n**Below is the docker file code.**\r\n\r\n    FROM adoptopenjdk:8-jre-openj9\r\n\r\n    ARG app=hercules-onboarding-job\r\n\r\n    ENV app $app\r\n\r\n    RUN rm -rf /var/lib/apt/lists/* \\\r\n    &amp;&amp; apt-get clean \\\r\n    &amp;&amp; apt-get update \\\r\n    &amp;&amp; apt-get -y --no-install-recommends upgrade \\\r\n    &amp;&amp; apt-get -y --no-install-recommends install locales \\\r\n    &amp;&amp; apt-get clean \\\r\n    &amp;&amp; rm -rf /var/lib/apt/lists/* \\\r\n    &amp;&amp; locale-gen en_US.UTF-8\r\n\r\n    ENV LANG=&quot;en_US.UTF-8&quot; \\\r\n\tLANGUAGE=&quot;en_US:en&quot; \\\r\n\tLC_ALL=&quot;en_US.UTF-8&quot; \\\r\n\tVERSION=8 \\\r\n\tUPDATE=222 \\\r\n\tBUILD=10\r\n\r\n    COPY  /target/$app.jar /javaAction/target/\r\n    COPY log4Olympus2.xml /\r\n\r\n    RUN chmod +x /HerculesServiceOnboarding-linux -- **Failed on this line with above mentioned error**\r\n    # RUN chmod +x /target/classes/HerculesServiceOnboarding-linux -- getting the same error\r\n    #RUN chmod +x /target/$app.jar/HerculesServiceOnboarding-linux -- getting the same error\r\n\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/javaAction/target/hercules-onboarding-job.jar&quot;]\r\n\r\nI don&#39;t know what will be the right path to access the file? Whatever path I have to provide should not be environment specific as this will deployed to multiple envs.\r\n\r\n**Request your help to provide me the right path to access the file!**","title":"Unable to provide access permission to file because of incorrect path in docker file","body":"<p>I am trying to prepare a docker image of java service. But while building the image I am getting below error.</p>\n<pre><code>chmod: cannot access '/HerculesServiceOnboarding-linux': No such file or directory\n</code></pre>\n<p>HerculesServiceOnboarding-linux is a binary file which being called to execute within java service. File is under the path src/main/java/resources/ . The usual maven project structure.</p>\n<p>Below is the project structure of my java service.</p>\n<p><a href=\"https://i.stack.imgur.com/6xp39.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6xp39.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Below is the docker file code.</strong></p>\n<pre><code>FROM adoptopenjdk:8-jre-openj9\n\nARG app=hercules-onboarding-job\n\nENV app $app\n\nRUN rm -rf /var/lib/apt/lists/* \\\n&amp;&amp; apt-get clean \\\n&amp;&amp; apt-get update \\\n&amp;&amp; apt-get -y --no-install-recommends upgrade \\\n&amp;&amp; apt-get -y --no-install-recommends install locales \\\n&amp;&amp; apt-get clean \\\n&amp;&amp; rm -rf /var/lib/apt/lists/* \\\n&amp;&amp; locale-gen en_US.UTF-8\n\nENV LANG=&quot;en_US.UTF-8&quot; \\\nLANGUAGE=&quot;en_US:en&quot; \\\nLC_ALL=&quot;en_US.UTF-8&quot; \\\nVERSION=8 \\\nUPDATE=222 \\\nBUILD=10\n\nCOPY  /target/$app.jar /javaAction/target/\nCOPY log4Olympus2.xml /\n\nRUN chmod +x /HerculesServiceOnboarding-linux -- **Failed on this line with above mentioned error**\n# RUN chmod +x /target/classes/HerculesServiceOnboarding-linux -- getting the same error\n#RUN chmod +x /target/$app.jar/HerculesServiceOnboarding-linux -- getting the same error\n\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/javaAction/target/hercules-onboarding-job.jar&quot;]\n</code></pre>\n<p>I don't know what will be the right path to access the file? Whatever path I have to provide should not be environment specific as this will deployed to multiple envs.</p>\n<p><strong>Request your help to provide me the right path to access the file!</strong></p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","dynamodb-queries"],"answers":[{"tags":[],"owner":{"account_id":22849327,"reputation":562,"user_id":16995190,"display_name":"Ross Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653901337,"creation_date":1653852239,"answer_id":72426670,"question_id":72421282,"body_markdown":"Limit is evaluated inside DynamoDB and you are not charged for access to items beyond the specified limit.\r\n\r\nIf you need to get multiple pages of data from DynamoDB, it is your job to track the total items returned, limit only applies to a single request. If you have a limit of 500, and the first page of data returns 400 items, when making the second request you should reduce your limit to 100.\r\n\r\nIf you want to implement paging for your end user and want to supply a specific page size, you can use a limit and continue using that limit value for subsequent requests. You will get a number of items up to that limit for each request.","title":"What is the mechanism in fetching subsequent pages from Dynamo DB if the emitted pages are limited","body":"<p>Limit is evaluated inside DynamoDB and you are not charged for access to items beyond the specified limit.</p>\n<p>If you need to get multiple pages of data from DynamoDB, it is your job to track the total items returned, limit only applies to a single request. If you have a limit of 500, and the first page of data returns 400 items, when making the second request you should reduce your limit to 100.</p>\n<p>If you want to implement paging for your end user and want to supply a specific page size, you can use a limit and continue using that limit value for subsequent requests. You will get a number of items up to that limit for each request.</p>\n"}],"owner":{"account_id":1410257,"reputation":2118,"user_id":1337007,"accept_rate":72,"display_name":"ghostrider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653901337,"creation_date":1653803896,"question_id":72421282,"body_markdown":"I am using `DynamoDBEnchancedAsyncClient` to query `DynamoDB` using `GSI` and `pagination`. Below is the code that I am using to achieve the same. I am trying to limit the number of pages emitted to the client using `limit()` below in the `SdkPublisher&lt;Page&lt;Customer&gt;&gt;`\r\n\r\n    Flux.from(PagePublisher.create(query.limit(5)).items())\r\n\r\nI am planning to provide the next subsequent pages to the client back using the `lastEvaluatedKey` and `exclusiveStartKey` mentioned at [Docs][1] &gt; My doubt is when we limit the number of pages using `limit()`, what exactly happens wrt the number of pages actually fetched from the `DynamoDB`? \r\n\r\n 1. Are all the pages that can accomodate the `1MB` per `queryresponse`\r\n    limit are fetched from `DynamoDB` and then only the pages that are\r\n    permitted after `limit()` are sent back?  \r\n 2. Only the number of pages\r\n    permitted by `limit()` are fetched from the DynamoDB?\r\n\r\nif its `#1`. Then wouldn&#39;t it be overhead or additional redundant effort of fetching pages again from the DDB, since the earlier pages would have been already fetched and we are just again fetching them using `exclusiveStartKey`? \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.Pagination.html","title":"What is the mechanism in fetching subsequent pages from Dynamo DB if the emitted pages are limited","body":"<p>I am using <code>DynamoDBEnchancedAsyncClient</code> to query <code>DynamoDB</code> using <code>GSI</code> and <code>pagination</code>. Below is the code that I am using to achieve the same. I am trying to limit the number of pages emitted to the client using <code>limit()</code> below in the <code>SdkPublisher&lt;Page&lt;Customer&gt;&gt;</code></p>\n<pre><code>Flux.from(PagePublisher.create(query.limit(5)).items())\n</code></pre>\n<p>I am planning to provide the next subsequent pages to the client back using the <code>lastEvaluatedKey</code> and <code>exclusiveStartKey</code> mentioned at <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.Pagination.html\" rel=\"nofollow noreferrer\">Docs</a> &gt; My doubt is when we limit the number of pages using <code>limit()</code>, what exactly happens wrt the number of pages actually fetched from the <code>DynamoDB</code>?</p>\n<ol>\n<li>Are all the pages that can accomodate the <code>1MB</code> per <code>queryresponse</code>\nlimit are fetched from <code>DynamoDB</code> and then only the pages that are\npermitted after <code>limit()</code> are sent back?</li>\n<li>Only the number of pages\npermitted by <code>limit()</code> are fetched from the DynamoDB?</li>\n</ol>\n<p>if its <code>#1</code>. Then wouldn't it be overhead or additional redundant effort of fetching pages again from the DDB, since the earlier pages would have been already fetched and we are just again fetching them using <code>exclusiveStartKey</code>?</p>\n"},{"tags":["java","pdfbox","text-extraction"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1653898983,"post_id":72430779,"comment_id":127955131,"body_markdown":"For the width, try `PDFont.getStringWidth(text)`. Getting the exact height is more difficult, you&#39;d need to render the glyphs, see the `DrawPrintTextLocations.java` example how this is done.","body":"For the width, try <code>PDFont.getStringWidth(text)</code>. Getting the exact height is more difficult, you&#39;d need to render the glyphs, see the <code>DrawPrintTextLocations.java</code> example how this is done."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1653901164,"post_id":72430779,"comment_id":127955898,"body_markdown":"What exactly is `PdfTextFind`? How are the result coordinates specified to be?","body":"What exactly is <code>PdfTextFind</code>? How are the result coordinates specified to be?"},{"owner":{"account_id":25424133,"reputation":1,"user_id":19229545,"display_name":"CKJ"},"score":0,"creation_date":1653901427,"post_id":72430779,"comment_id":127955998,"body_markdown":"Hi @mkl, PdfTextFind actually is one of the libraries under com.spire.pdf. The purpose is to find the text from the pdf page. If the text is found inside the pdf, I would need to get the text coordinate and draw a rectangle on it.","body":"Hi @mkl, PdfTextFind actually is one of the libraries under com.spire.pdf. The purpose is to find the text from the pdf page. If the text is found inside the pdf, I would need to get the text coordinate and draw a rectangle on it."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1653901506,"post_id":72430779,"comment_id":127956028,"body_markdown":"And *how are the* `PdfTextFind` *result coordinates specified to be?*","body":"And <i>how are the</i> <code>PdfTextFind</code> <i>result coordinates specified to be?</i>"},{"owner":{"account_id":25424133,"reputation":1,"user_id":19229545,"display_name":"CKJ"},"score":0,"creation_date":1653901958,"post_id":72430779,"comment_id":127956176,"body_markdown":"I&#39;m using Point2D to get the x and y values while Dimension 2D is for me to get the width and height values.","body":"I&#39;m using Point2D to get the x and y values while Dimension 2D is for me to get the width and height values."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1653905220,"post_id":72430779,"comment_id":127957378,"body_markdown":"Lets assume that the PdfTextFind coordinates are &quot;somehow&quot; correct, then your question is really just about how to map these to your PDF changes, so no need to calculate font sizes, the problem is rather what these coordinates mean. What you could do is to run PDFDebugger with your PDF and hover your mouse to a place where you found something, in the hope that this shows what relationship there is. (Note that PDF coordinates start at the bottom left)","body":"Lets assume that the PdfTextFind coordinates are &quot;somehow&quot; correct, then your question is really just about how to map these to your PDF changes, so no need to calculate font sizes, the problem is rather what these coordinates mean. What you could do is to run PDFDebugger with your PDF and hover your mouse to a place where you found something, in the hope that this shows what relationship there is. (Note that PDF coordinates start at the bottom left)"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1653905947,"post_id":72430779,"comment_id":127957624,"body_markdown":"Just like @Tilman said, to help you transforming coordinates returned by some other software to the coordinate system used by PDFBox (which in this case is the native PDF user space coordinate system), we need to know how the coordinate system used by that other software is defined. I hoped you could look that up in the documentation of that other software while Tilman&#39;s approach is more of a trial&amp;error way (the remaining option if the documentation of that other software is not helpful).","body":"Just like @Tilman said, to help you transforming coordinates returned by some other software to the coordinate system used by PDFBox (which in this case is the native PDF user space coordinate system), we need to know how the coordinate system used by that other software is defined. I hoped you could look that up in the documentation of that other software while Tilman&#39;s approach is more of a trial&amp;error way (the remaining option if the documentation of that other software is not helpful)."}],"owner":{"account_id":25424133,"reputation":1,"user_id":19229545,"display_name":"CKJ"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653901309,"creation_date":1653896766,"question_id":72430779,"body_markdown":"In the code below here, I was using Point2D and Dimension 2D to get the coordinate of the text. \r\n\r\n    try {\r\n        PdfTextFindCollection pdfTextFindCollection = page.findText(result.trim());\r\n        PdfTextFind[] extractedResult = pdfTextFindCollection.getFinds();\r\n\r\n        for (PdfTextFind find : extractedResult) {\r\n            Point2D pointF = find.getPosition();\r\n            Dimension2D widthHeight = find.getSize();\r\n            double x = pointF.getX();\r\n            double y = pointF.getY();\r\n            double width = widthHeight.getWidth();\r\n            double height = widthHeight.getHeight();\r\n            position.setX(x);\r\n            position.setY(y);\r\n            position.setHeight(height);\r\n            position.setWidth(width);\r\n        }\r\n    } catch (Exception e) {\r\n        \r\n    }\r\n\r\nAfter I get the coordinate of the text, I need to draw a rectangle on it.\r\n\r\n    try ( PDPageContentStream contentStream = new PDPageContentStream(doc, page, PDPageContentStream.AppendMode.APPEND, true, true)) {\r\n        contentStream.saveGraphicsState();\r\n        contentStream.transform(Matrix.getScaleInstance(1, -1));\r\n        contentStream.transform(Matrix.getTranslateInstance(0, -page.getCropBox().getHeight()));\r\n        contentStream.saveGraphicsState();\r\n        contentStream.setStrokingColor(Color.RED);\r\n        contentStream.addRect(positionPropertyUnitX, positionPropertyUnitY, positionPropertyUnitWidth, positionPropertyUnitHeight);\r\n    }\r\n\r\n**Output:-**   \r\n[![enter image description here][1]][1]\r\n\r\n**Questions:-**\r\nHow to make the coordinate of &quot;PDPageContentStream addRect&quot; same as the coordinate of &quot;PdfTextFind[]&quot; text position? So that the rectangle can be drawn accurately from start to end of the text extraction. \r\n\r\n    \r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EBdJ6.png\r\n\r\n","title":"How to use PDPageContentStream addRect() method to draw a rectangle on text extraction accurately?","body":"<p>In the code below here, I was using Point2D and Dimension 2D to get the coordinate of the text.</p>\n<pre><code>try {\n    PdfTextFindCollection pdfTextFindCollection = page.findText(result.trim());\n    PdfTextFind[] extractedResult = pdfTextFindCollection.getFinds();\n\n    for (PdfTextFind find : extractedResult) {\n        Point2D pointF = find.getPosition();\n        Dimension2D widthHeight = find.getSize();\n        double x = pointF.getX();\n        double y = pointF.getY();\n        double width = widthHeight.getWidth();\n        double height = widthHeight.getHeight();\n        position.setX(x);\n        position.setY(y);\n        position.setHeight(height);\n        position.setWidth(width);\n    }\n} catch (Exception e) {\n    \n}\n</code></pre>\n<p>After I get the coordinate of the text, I need to draw a rectangle on it.</p>\n<pre><code>try ( PDPageContentStream contentStream = new PDPageContentStream(doc, page, PDPageContentStream.AppendMode.APPEND, true, true)) {\n    contentStream.saveGraphicsState();\n    contentStream.transform(Matrix.getScaleInstance(1, -1));\n    contentStream.transform(Matrix.getTranslateInstance(0, -page.getCropBox().getHeight()));\n    contentStream.saveGraphicsState();\n    contentStream.setStrokingColor(Color.RED);\n    contentStream.addRect(positionPropertyUnitX, positionPropertyUnitY, positionPropertyUnitWidth, positionPropertyUnitHeight);\n}\n</code></pre>\n<p><strong>Output:-</strong><br />\n<a href=\"https://i.stack.imgur.com/EBdJ6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBdJ6.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Questions:-</strong>\nHow to make the coordinate of &quot;PDPageContentStream addRect&quot; same as the coordinate of &quot;PdfTextFind[]&quot; text position? So that the rectangle can be drawn accurately from start to end of the text extraction.</p>\n"},{"tags":["java","cassandra","rpm","cassandra-4.0"],"comments":[{"owner":{"account_id":24732836,"reputation":645,"user_id":18620602,"display_name":"Adelino Silva"},"score":0,"creation_date":1653484803,"post_id":72377621,"comment_id":127863633,"body_markdown":"Effective Cassandra 4.0.2 there is full Java 11 support, it is not experimental anymore.\n\nRef: https://cassandra.apache.org/doc/latest/cassandra/new/java11.html","body":"Effective Cassandra 4.0.2 there is full Java 11 support, it is not experimental anymore.  Ref: <a href=\"https://cassandra.apache.org/doc/latest/cassandra/new/java11.html\" rel=\"nofollow noreferrer\">cassandra.apache.org/doc/latest/cassandra/new/java11.html</a>"},{"owner":{"account_id":13346870,"reputation":21,"user_id":9633285,"display_name":"Hennns"},"score":1,"creation_date":1653487041,"post_id":72377621,"comment_id":127864651,"body_markdown":"Yet, with cassandra 4.04 which I am trying to install here it fails because of a dependency on java 8? That&#39;s why I am confused, java 11 doesn&#39;t have a jre and will never meet the dependency requirement as far as I understand it.","body":"Yet, with cassandra 4.04 which I am trying to install here it fails because of a dependency on java 8? That&#39;s why I am confused, java 11 doesn&#39;t have a jre and will never meet the dependency requirement as far as I understand it."}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653901228,"creation_date":1653901228,"answer_id":72431728,"question_id":72377621,"body_markdown":"Since JRE is no longer available in Java 11 ([JDK 11 release notes][1]):\r\n\r\n&gt; In this release, the JRE or Server JRE is no longer offered. Only the JDK is offered.\r\n\r\nwe probably shouldn&#39;t require the [JRE as a dependency][2] on CentOS and RHEL platforms:\r\n\r\n```\r\nRequires:      jre &gt;= 1.8.0\r\n```\r\n\r\nAs a workaround, you can override the dependency check when installing the RPM with the `--nodeps` option. For example:\r\n\r\n```\r\n$ sudo rpm --nodeps -i cassandra-4.0.4-1.noarch.rpm \r\n```\r\n\r\nIn the meantime, I&#39;ve logged [CASSANDRA-17669][3] for resolution. Cheers!\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\r\n  [2]: https://github.com/apache/cassandra/blob/trunk/redhat/cassandra.spec#L49\r\n  [3]: https://issues.apache.org/jira/browse/CASSANDRA-17669","title":"How do I install Cassandra 4 RPM package when only Java 11 is installed?","body":"<p>Since JRE is no longer available in Java 11 (<a href=\"https://www.oracle.com/java/technologies/javase/11-relnote-issues.html\" rel=\"nofollow noreferrer\">JDK 11 release notes</a>):</p>\n<blockquote>\n<p>In this release, the JRE or Server JRE is no longer offered. Only the JDK is offered.</p>\n</blockquote>\n<p>we probably shouldn't require the <a href=\"https://github.com/apache/cassandra/blob/trunk/redhat/cassandra.spec#L49\" rel=\"nofollow noreferrer\">JRE as a dependency</a> on CentOS and RHEL platforms:</p>\n<pre><code>Requires:      jre &gt;= 1.8.0\n</code></pre>\n<p>As a workaround, you can override the dependency check when installing the RPM with the <code>--nodeps</code> option. For example:</p>\n<pre><code>$ sudo rpm --nodeps -i cassandra-4.0.4-1.noarch.rpm \n</code></pre>\n<p>In the meantime, I've logged <a href=\"https://issues.apache.org/jira/browse/CASSANDRA-17669\" rel=\"nofollow noreferrer\">CASSANDRA-17669</a> for resolution. Cheers!</p>\n"}],"owner":{"account_id":13346870,"reputation":21,"user_id":9633285,"display_name":"Hennns"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72431728,"answer_count":1,"score":1,"last_activity_date":1653901228,"creation_date":1653481548,"question_id":72377621,"body_markdown":"Cassandra 4 should work with java 11, but when I try to install it without java 8 then the installation fails:\r\n\r\n    error: Failed dependencies:\r\n        jre &gt;= 1.8.0 is needed by cassandra-4.0.4-1.noarch\r\n\r\n\r\nHow can I get around this?\r\nMy current workaround is to install both java 8 and java 11, that way I satisfy the dependency requirement and can run cassandra 4 with java 11. However, there must surly be a better way? \r\nI would of course prefer to only have java 11 installed.\r\n\r\nSome extra info:\r\n\r\nI use CentOs 7 and RHEL 8\r\n\r\nCassandra rpm downloaded from https://downloads.apache.org/cassandra/redhat/40x/\r\n\r\n\r\n     java -version\r\n         openjdk version &quot;11.0.9.1&quot; 2020-11-04 LTS\r\n         OpenJDK Runtime Environment 18.9 (build 11.0.9.1+1-LTS)\r\n         OpenJDK 64-Bit Server VM 18.9 (build 11.0.9.1+1-LTS, mixed mode, sharing)\r\n","title":"How do I install Cassandra 4 RPM package when only Java 11 is installed?","body":"<p>Cassandra 4 should work with java 11, but when I try to install it without java 8 then the installation fails:</p>\n<pre><code>error: Failed dependencies:\n    jre &gt;= 1.8.0 is needed by cassandra-4.0.4-1.noarch\n</code></pre>\n<p>How can I get around this?\nMy current workaround is to install both java 8 and java 11, that way I satisfy the dependency requirement and can run cassandra 4 with java 11. However, there must surly be a better way?\nI would of course prefer to only have java 11 installed.</p>\n<p>Some extra info:</p>\n<p>I use CentOs 7 and RHEL 8</p>\n<p>Cassandra rpm downloaded from <a href=\"https://downloads.apache.org/cassandra/redhat/40x/\" rel=\"nofollow noreferrer\">https://downloads.apache.org/cassandra/redhat/40x/</a></p>\n<pre><code> java -version\n     openjdk version &quot;11.0.9.1&quot; 2020-11-04 LTS\n     OpenJDK Runtime Environment 18.9 (build 11.0.9.1+1-LTS)\n     OpenJDK 64-Bit Server VM 18.9 (build 11.0.9.1+1-LTS, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","list","deep-copy"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":3,"creation_date":1653895264,"post_id":72430450,"comment_id":127953946,"body_markdown":"Calling `clone()` is the way to clone an object.","body":"Calling <code>clone()</code> is the way to clone an object."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1653895369,"post_id":72430450,"comment_id":127953972,"body_markdown":"Well, you are probably better off making `InvoiceDetail` *immutable*.","body":"Well, you are probably better off making <code>InvoiceDetail</code> <i>immutable</i>."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":2,"creation_date":1653897193,"post_id":72430450,"comment_id":127954565,"body_markdown":"@Olivier, you can&#39;t use clone() to create a deep copy and apparently that&#39;s what the OP wants.","body":"@Olivier, you can&#39;t use clone() to create a deep copy and apparently that&#39;s what the OP wants."}],"answers":[{"tags":[],"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653900985,"creation_date":1653899947,"answer_id":72431459,"question_id":72430450,"body_markdown":"If I understand the problem correctly, you want a new list to be fulfilled with the copies of `InvoiceDetail` objects, right? So, in my understanding, the problem is not how you operate with lists, but rather how `InvoiceDetail` is implemented. \r\nI would probably go with the [copy constructor][1] in the `InvoiceDetail` class. Like that:\r\n\r\n    class InvoiceDetail {\r\n        \r\n        // your existing constructors\r\n\r\n        public InvoiceDetail(InvoiceDetail source) {\r\n            // the logic of copying the invoice data\r\n            // like this.someField = source.someField; etc.\r\n        }\r\n\r\n        // other methods\r\n    }\r\n\r\nThen you could do something like that:\r\n\r\n    newList = currentList.stream().map(InvoiceDetail::new).collect(Collectors.toList());\r\n\r\nCan that be a solution to your problem?\r\n\r\nAlternative solution: if you do not want to bother with changing `InvoiceDetail` class, you may (if possible) create a clone object on the fly like that:\r\n\r\n    newList = currentList.stream().map(\r\n        source -&gt; {\r\n            final InvoiceDetail target = new InvoiceDetail();\r\n            // copy the data like target.setSomeField(source.getSomeField());\r\n            return target;\r\n        }\r\n    ).collect(Collectors.toList());\r\n\r\n  [1]: https://www.baeldung.com/java-copy-constructor","title":"How to duplicate a list to another list (deep copy) without using clone()?","body":"<p>If I understand the problem correctly, you want a new list to be fulfilled with the copies of <code>InvoiceDetail</code> objects, right? So, in my understanding, the problem is not how you operate with lists, but rather how <code>InvoiceDetail</code> is implemented.\nI would probably go with the <a href=\"https://www.baeldung.com/java-copy-constructor\" rel=\"nofollow noreferrer\">copy constructor</a> in the <code>InvoiceDetail</code> class. Like that:</p>\n<pre><code>class InvoiceDetail {\n    \n    // your existing constructors\n\n    public InvoiceDetail(InvoiceDetail source) {\n        // the logic of copying the invoice data\n        // like this.someField = source.someField; etc.\n    }\n\n    // other methods\n}\n</code></pre>\n<p>Then you could do something like that:</p>\n<pre><code>newList = currentList.stream().map(InvoiceDetail::new).collect(Collectors.toList());\n</code></pre>\n<p>Can that be a solution to your problem?</p>\n<p>Alternative solution: if you do not want to bother with changing <code>InvoiceDetail</code> class, you may (if possible) create a clone object on the fly like that:</p>\n<pre><code>newList = currentList.stream().map(\n    source -&gt; {\n        final InvoiceDetail target = new InvoiceDetail();\n        // copy the data like target.setSomeField(source.getSomeField());\n        return target;\n    }\n).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653901188,"creation_date":1653901188,"answer_id":72431719,"question_id":72430450,"body_markdown":"If I understand your problem, you need to retain *currenList* as is as you process data in newList. Then in that case, I think you might need have your *currenList* as  `Unmodifiable Lists`. \r\n\r\nYou can use any `List.of` implementation for creating `Unmodifiable Lists`. After that, you can simply copy element to new list &amp; verify if they are deep equal:\r\n\r\n    List&lt;InvoiceDetail&gt; currnList = *Unmodifiable Lists* ;\r\n    List&lt;InvoiceDetail&gt; newList= new ArrayList&lt;&gt;();\r\n    newList.addAll(currentList);\r\n\r\n    System.out.println(Arrays.deepEquals(currnList.toArray(),newList.toArray())); //  returns true if they are deep equal.\r\n   \r\n\r\n    \r\n\r\n","title":"How to duplicate a list to another list (deep copy) without using clone()?","body":"<p>If I understand your problem, you need to retain <em>currenList</em> as is as you process data in newList. Then in that case, I think you might need have your <em>currenList</em> as  <code>Unmodifiable Lists</code>.</p>\n<p>You can use any <code>List.of</code> implementation for creating <code>Unmodifiable Lists</code>. After that, you can simply copy element to new list &amp; verify if they are deep equal:</p>\n<pre><code>List&lt;InvoiceDetail&gt; currnList = *Unmodifiable Lists* ;\nList&lt;InvoiceDetail&gt; newList= new ArrayList&lt;&gt;();\nnewList.addAll(currentList);\n\nSystem.out.println(Arrays.deepEquals(currnList.toArray(),newList.toArray())); //  returns true if they are deep equal.\n</code></pre>\n"}],"owner":{"account_id":25321421,"reputation":21,"user_id":19142637,"display_name":"aoisayuri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653901188,"creation_date":1653894993,"question_id":72430450,"body_markdown":"I want to duplicate the data from *currentList* to *newList*. \r\nIs it possible to duplicate it without adding the clone() method inside the Object class?\r\n\r\nI have tried a couple of codes that i found:\r\n\r\n 1.\r\n\r\n    List&lt;InvoiceDetail&gt; newList= new ArrayList&lt;&gt;();\r\n    newList.addAll(currentList);\r\n\r\n 2.\r\n\r\n    newList = currentList.stream().collect(Collectors.toList());\r\n\r\nBut as I was processing the data in the *newList*, some of the data in *currenList* will change too. If possible, I want to retain the data in *currentList*.","title":"How to duplicate a list to another list (deep copy) without using clone()?","body":"<p>I want to duplicate the data from <em>currentList</em> to <em>newList</em>.\nIs it possible to duplicate it without adding the clone() method inside the Object class?</p>\n<p>I have tried a couple of codes that i found:</p>\n<p>1.</p>\n<pre><code>List&lt;InvoiceDetail&gt; newList= new ArrayList&lt;&gt;();\nnewList.addAll(currentList);\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>newList = currentList.stream().collect(Collectors.toList());\n</code></pre>\n<p>But as I was processing the data in the <em>newList</em>, some of the data in <em>currenList</em> will change too. If possible, I want to retain the data in <em>currentList</em>.</p>\n"},{"tags":["java","maven","sdkman"],"answers":[{"tags":[],"owner":{"account_id":4792524,"reputation":113,"user_id":3871299,"accept_rate":25,"display_name":"Ruby9191"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645133973,"creation_date":1645133973,"answer_id":71165695,"question_id":71118636,"body_markdown":"mvn is loading its java_home from ~/.mavenrc\r\n\r\ncat $HOME/.mavenrc\r\nJAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home\r\n\r\nChanged it here and my issue got fixed.","title":"sdkman maven not detecting sdkman java","body":"<p>mvn is loading its java_home from ~/.mavenrc</p>\n<p>cat $HOME/.mavenrc\nJAVA_HOME=/Library/Java/JavaVirtualMachines/adoptopenjdk-8.jdk/Contents/Home</p>\n<p>Changed it here and my issue got fixed.</p>\n"},{"tags":[],"owner":{"account_id":15009794,"reputation":66,"user_id":10834639,"display_name":"erkan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653901086,"creation_date":1653901086,"answer_id":72431694,"question_id":71118636,"body_markdown":"update sdkman \r\n```\r\n$ sdk update\r\n```\r\nand then re-install java using sdkman-cli solved my problem\r\n\r\n```\r\n$ sdk install java\r\n```","title":"sdkman maven not detecting sdkman java","body":"<p>update sdkman</p>\n<pre><code>$ sdk update\n</code></pre>\n<p>and then re-install java using sdkman-cli solved my problem</p>\n<pre><code>$ sdk install java\n</code></pre>\n"}],"owner":{"account_id":4792524,"reputation":113,"user_id":3871299,"accept_rate":25,"display_name":"Ruby9191"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653901086,"creation_date":1644875006,"question_id":71118636,"body_markdown":"Here are the java home and path configs. Not sure why maven is not detecting the java home correctly. Installed java 11 and maven both via sdkman on MacBook. Thanks.\r\n\r\n    m-c02yw:~ vn$ echo $JAVA_HOME\r\n\r\n    /Users/vn/.sdkman/candidates/java/current\r\n\r\n\r\n    m-c02yw:~ vn$ echo $PATH\r\n    \r\n\r\n    /Users/vn/.sdkman/candidates/maven/current/bin:/Users/vn/.sdkman/candidates/java/current/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/sbin:/usr/local/munki\r\n\r\n\r\n    m-c02yw:~ vn$ java -version\r\n    openjdk version &quot;11.0.14&quot; 2022-01-18 LTS\r\n    OpenJDK Runtime Environment Zulu11.54+23-CA (build 11.0.14+9-LTS)\r\n    OpenJDK 64-Bit Server VM Zulu11.54+23-CA (build 11.0.14+9-LTS, mixed mode)\r\n\r\n\r\n    m-c02yw:~ vn$ $JAVA_HOME/bin/javac -version\r\n    javac 11.0.14\r\n\r\n\r\n    m-c02yw:~ vn$ mvn -version\r\n    The JAVA_HOME environment variable is not defined correctly\r\n    This environment variable is needed to run this program\r\n    NB: JAVA_HOME should point to a JDK not a JRE\r\n\r\n\r\n","title":"sdkman maven not detecting sdkman java","body":"<p>Here are the java home and path configs. Not sure why maven is not detecting the java home correctly. Installed java 11 and maven both via sdkman on MacBook. Thanks.</p>\n<pre><code>m-c02yw:~ vn$ echo $JAVA_HOME\n\n/Users/vn/.sdkman/candidates/java/current\n\n\nm-c02yw:~ vn$ echo $PATH\n\n\n/Users/vn/.sdkman/candidates/maven/current/bin:/Users/vn/.sdkman/candidates/java/current/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/sbin:/usr/local/munki\n\n\nm-c02yw:~ vn$ java -version\nopenjdk version &quot;11.0.14&quot; 2022-01-18 LTS\nOpenJDK Runtime Environment Zulu11.54+23-CA (build 11.0.14+9-LTS)\nOpenJDK 64-Bit Server VM Zulu11.54+23-CA (build 11.0.14+9-LTS, mixed mode)\n\n\nm-c02yw:~ vn$ $JAVA_HOME/bin/javac -version\njavac 11.0.14\n\n\nm-c02yw:~ vn$ mvn -version\nThe JAVA_HOME environment variable is not defined correctly\nThis environment variable is needed to run this program\nNB: JAVA_HOME should point to a JDK not a JRE\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":23077061,"reputation":119,"user_id":17189874,"display_name":"Dan Chirita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653900926,"creation_date":1653900926,"answer_id":72431655,"question_id":72431600,"body_markdown":"It seems that you have a classpath issue in eclipse. The result that you&#39;re getting is like that because eclipse does it&#39;s own voodoo when youre building and running the application. \r\n\r\nCheck your classpath in eclipse (and also in the Run Configurations).\r\n","title":"Spring ClassPathRessource get wrong path under eclipse","body":"<p>It seems that you have a classpath issue in eclipse. The result that you're getting is like that because eclipse does it's own voodoo when youre building and running the application.</p>\n<p>Check your classpath in eclipse (and also in the Run Configurations).</p>\n"}],"owner":{"account_id":1564359,"reputation":83,"user_id":1453474,"display_name":"Rio85"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653901083,"creation_date":1653900626,"question_id":72431600,"body_markdown":"I use `new ClassPathResource(&quot;myFolder&quot;)` to get some files from this folder &quot;myFolder&quot;.\r\n\r\n    File file = new ClassPathResource(&quot;myFolder&quot;).getFile();\r\n\r\nThis returns file path  my-project\\build\\\\**eclipse**\\test\\myFolder instead of my-project\\build\\test\\myFolder\r\n\r\nHow can I fix it?","title":"Spring ClassPathRessource get wrong path under eclipse","body":"<p>I use <code>new ClassPathResource(&quot;myFolder&quot;)</code> to get some files from this folder &quot;myFolder&quot;.</p>\n<pre><code>File file = new ClassPathResource(&quot;myFolder&quot;).getFile();\n</code></pre>\n<p>This returns file path  my-project\\build\\<strong>eclipse</strong>\\test\\myFolder instead of my-project\\build\\test\\myFolder</p>\n<p>How can I fix it?</p>\n"},{"tags":["java","linux","javafx","exe4j"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1653903950,"post_id":72431494,"comment_id":127956922,"body_markdown":"As @mipa says you can now make [native installers](https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9) with the JDK","body":"As @mipa says you can now make <a href=\"https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9\" rel=\"nofollow noreferrer\">native installers</a> with the JDK"}],"answers":[{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653900825,"creation_date":1653900825,"answer_id":72431632,"question_id":72431494,"body_markdown":"You should use the official solution https://docs.oracle.com/en/java/javase/18/jpackage/packaging-overview.html instead.","title":"Exe4j for Linux","body":"<p>You should use the official solution <a href=\"https://docs.oracle.com/en/java/javase/18/jpackage/packaging-overview.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/18/jpackage/packaging-overview.html</a> instead.</p>\n"}],"owner":{"account_id":10186524,"reputation":3,"user_id":7521258,"display_name":"LebronJames"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72431632,"answer_count":1,"score":-2,"last_activity_date":1653900825,"creation_date":1653900144,"question_id":72431494,"body_markdown":"I am newbie, I wanna  ask if there is something like exe4j for Linux? I want to pack my applcation and the enviroment(java jre) of the application, so that I can double click something like exe on windows to run the application on Linux, sorry my English level is low, I hope you guys could understand what I mean","title":"Exe4j for Linux","body":"<p>I am newbie, I wanna  ask if there is something like exe4j for Linux? I want to pack my applcation and the enviroment(java jre) of the application, so that I can double click something like exe on windows to run the application on Linux, sorry my English level is low, I hope you guys could understand what I mean</p>\n"},{"tags":["java","image-processing","png","wmf"],"comments":[{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":0,"creation_date":1357911236,"post_id":14279104,"comment_id":19825303,"body_markdown":"The only way to reliably convert this format is by using the Windows&#39; GDI API, what is your operating system ? I&#39;ve seen an online converter (zamzar.com) that seems to handle the format, but I&#39;m not sure how well.","body":"The only way to reliably convert this format is by using the Windows&#39; GDI API, what is your operating system ? I&#39;ve seen an online converter (zamzar.com) that seems to handle the format, but I&#39;m not sure how well."},{"owner":{"account_id":2232880,"reputation":93,"user_id":1970058,"display_name":"user1970058"},"score":0,"creation_date":1357911652,"post_id":14279104,"comment_id":19825525,"body_markdown":"Im using Ubuntu with Java 6","body":"Im using Ubuntu with Java 6"},{"owner":{"account_id":2053832,"reputation":18961,"user_id":1832154,"display_name":"mmgp"},"score":0,"creation_date":1357911821,"post_id":14279104,"comment_id":19825631,"body_markdown":"Then you will need to luck, i.e., your WMF files are simple and don&#39;t use newer API calls from GDI(+).","body":"Then you will need to luck, i.e., your WMF files are simple and don&#39;t use newer API calls from GDI(+)."}],"answers":[{"tags":[],"owner":{"account_id":1098324,"reputation":2941,"user_id":1091424,"accept_rate":86,"display_name":"Tiago"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1357910618,"creation_date":1357910618,"answer_id":14279138,"question_id":14279104,"body_markdown":"You can use the excelent Batik ( http://xmlgraphics.apache.org/batik/ ) lib to achieve this. But you will need to follow this steps:\r\n\r\n1. Convert the WMF file to SVG using the WMFTranscoder\r\n2. Convert the SVG to JGP using the JPGTranscoder\r\n\r\nWMF &gt;&gt; SVG &gt;&gt; JPG\r\n\r\nHere is a discussion on coderanch about it: http://www.coderanch.com/t/422868/java/java/converting-WMF-Windows-Meta-File\r\n","title":"Convert WMF to PNG/BMP/JPG","body":"<p>You can use the excelent Batik ( <a href=\"http://xmlgraphics.apache.org/batik/\" rel=\"noreferrer\">http://xmlgraphics.apache.org/batik/</a> ) lib to achieve this. But you will need to follow this steps:</p>\n\n<ol>\n<li>Convert the WMF file to SVG using the WMFTranscoder</li>\n<li>Convert the SVG to JGP using the JPGTranscoder</li>\n</ol>\n\n<p>WMF >> SVG >> JPG</p>\n\n<p>Here is a discussion on coderanch about it: <a href=\"http://www.coderanch.com/t/422868/java/java/converting-WMF-Windows-Meta-File\" rel=\"noreferrer\">http://www.coderanch.com/t/422868/java/java/converting-WMF-Windows-Meta-File</a></p>\n"},{"tags":[],"owner":{"account_id":2180302,"reputation":3139,"user_id":1929959,"accept_rate":0,"display_name":"Mihai8"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357911784,"creation_date":1357911006,"answer_id":14279219,"question_id":14279104,"body_markdown":"You can use [different tools][1] for this format. You can choose for example GIMP. In Java you have a [library for converting WMF files][2].\r\n\r\n\r\n  [1]: http://www.fileinfo.com/extension/wmf\r\n  [2]: http://wvware.sourceforge.net/libwmf.html","title":"Convert WMF to PNG/BMP/JPG","body":"<p>You can use <a href=\"http://www.fileinfo.com/extension/wmf\" rel=\"nofollow\">different tools</a> for this format. You can choose for example GIMP. In Java you have a <a href=\"http://wvware.sourceforge.net/libwmf.html\" rel=\"nofollow\">library for converting WMF files</a>.</p>\n"},{"tags":[],"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584799447,"creation_date":1575242936,"answer_id":59130964,"question_id":14279104,"body_markdown":"WMF, EMF and EMF+ are integral parts of slideshows, therefore I&#39;ve developed a renderer for those as part of Apache POI. As for the upcoming POI-4.1.2 this is still work in progress - if you have any rendering issues, please upload your file in a [new bug report](https://bz.apache.org/bugzilla/enter_bug.cgi?product=POI&amp;component=SL+Common&amp;short_desc=EMF+WMF+rendering+issue&amp;rep_platform=All&amp;op_sys=All) in our bugzilla.\r\n\r\nThe main description can be found in the [POI documentation](http://poi.apache.org/components/slideshow/ppt-wmf-emf-renderer.html).\r\n\r\nHere is an excerpt:\r\n\r\n#1 - Use PPTX2PNG via file or stdin\r\n-----------------------------------\r\n\r\nFor file system access, you need to save your slideshow/WMF/EMF/EMF+ first to disc and then call `PPTX2PNG.main()` with the corresponding parameters.\r\n\r\nfor `stdin` access, you need to redirect `System.in` before:\r\n\r\n    /* the file content */\r\n    InputStream is = ...;\r\n    /* Save and set System.in */\r\n    InputStream oldIn = System.in;\r\n    try {\r\n        System.setIn(is);\r\n        String[] args = {\r\n            &quot;-format&quot;, &quot;png&quot;, // png,gif,jpg,svg or null for test\r\n            &quot;-outdir&quot;, new File(&quot;out/&quot;).getCanonicalPath(),\r\n            &quot;-outfile&quot;, &quot;export.png&quot;,\r\n            &quot;-fixside&quot;, &quot;long&quot;,\r\n            &quot;-scale&quot;, &quot;800&quot;,\r\n            &quot;-ignoreParse&quot;,\r\n            &quot;stdin&quot;\r\n        };\r\n        PPTX2PNG.main(args);\r\n    } finally {\r\n        System.setIn(oldIn);\r\n    }\r\n\r\n#2 - Render WMF / EMF / EMF+ via the *Picture classes\r\n-----------------------------------------------------\r\n\r\n\r\n    File f = samples.getFile(&quot;santa.wmf&quot;);\r\n    try (FileInputStream fis = new FileInputStream(f)) {\r\n        // for WMF\r\n        HwmfPicture wmf = new HwmfPicture(fis);\r\n        // for EMF / EMF+\r\n        HemfPicture emf = new HemfPicture(fis);\r\n        Dimension dim = wmf.getSize();\r\n        int width = Units.pointsToPixel(dim.getWidth());\r\n        // keep aspect ratio for height\r\n        int height = Units.pointsToPixel(dim.getHeight());\r\n        double max = Math.max(width, height);\r\n        if (max &gt; 1500) {\r\n        width *= 1500/max;\r\n        height *= 1500/max;\r\n        }\r\n        BufferedImage bufImg = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g = bufImg.createGraphics();\r\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n        g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\r\n        g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\r\n        g.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n        wmf.draw(g, new Rectangle2D.Double(0,0,width,height));\r\n        g.dispose();\r\n        ImageIO.write(bufImg, &quot;PNG&quot;, new File(&quot;bla.png&quot;));\r\n    }","title":"Convert WMF to PNG/BMP/JPG","body":"<p>WMF, EMF and EMF+ are integral parts of slideshows, therefore I've developed a renderer for those as part of Apache POI. As for the upcoming POI-4.1.2 this is still work in progress - if you have any rendering issues, please upload your file in a <a href=\"https://bz.apache.org/bugzilla/enter_bug.cgi?product=POI&amp;component=SL+Common&amp;short_desc=EMF+WMF+rendering+issue&amp;rep_platform=All&amp;op_sys=All\" rel=\"nofollow noreferrer\">new bug report</a> in our bugzilla.</p>\n\n<p>The main description can be found in the <a href=\"http://poi.apache.org/components/slideshow/ppt-wmf-emf-renderer.html\" rel=\"nofollow noreferrer\">POI documentation</a>.</p>\n\n<p>Here is an excerpt:</p>\n\n<h2>#1 - Use PPTX2PNG via file or stdin</h2>\n\n<p>For file system access, you need to save your slideshow/WMF/EMF/EMF+ first to disc and then call <code>PPTX2PNG.main()</code> with the corresponding parameters.</p>\n\n<p>for <code>stdin</code> access, you need to redirect <code>System.in</code> before:</p>\n\n<pre><code>/* the file content */\nInputStream is = ...;\n/* Save and set System.in */\nInputStream oldIn = System.in;\ntry {\n    System.setIn(is);\n    String[] args = {\n        \"-format\", \"png\", // png,gif,jpg,svg or null for test\n        \"-outdir\", new File(\"out/\").getCanonicalPath(),\n        \"-outfile\", \"export.png\",\n        \"-fixside\", \"long\",\n        \"-scale\", \"800\",\n        \"-ignoreParse\",\n        \"stdin\"\n    };\n    PPTX2PNG.main(args);\n} finally {\n    System.setIn(oldIn);\n}\n</code></pre>\n\n<h2>#2 - Render WMF / EMF / EMF+ via the *Picture classes</h2>\n\n<pre><code>File f = samples.getFile(\"santa.wmf\");\ntry (FileInputStream fis = new FileInputStream(f)) {\n    // for WMF\n    HwmfPicture wmf = new HwmfPicture(fis);\n    // for EMF / EMF+\n    HemfPicture emf = new HemfPicture(fis);\n    Dimension dim = wmf.getSize();\n    int width = Units.pointsToPixel(dim.getWidth());\n    // keep aspect ratio for height\n    int height = Units.pointsToPixel(dim.getHeight());\n    double max = Math.max(width, height);\n    if (max &gt; 1500) {\n    width *= 1500/max;\n    height *= 1500/max;\n    }\n    BufferedImage bufImg = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n    Graphics2D g = bufImg.createGraphics();\n    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n    g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);\n    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);\n    g.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS, RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n    wmf.draw(g, new Rectangle2D.Double(0,0,width,height));\n    g.dispose();\n    ImageIO.write(bufImg, \"PNG\", new File(\"bla.png\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4353517,"reputation":6384,"user_id":3552975,"accept_rate":78,"display_name":"Lerner Zhang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653900698,"creation_date":1653655350,"answer_id":72405620,"question_id":14279104,"body_markdown":"I wrote a walkaround [here](https://stackoverflow.com/a/72405526/3552975), for Java I learned that I can run shell command following answers in [this question](https://stackoverflow.com/q/16482601/3552975). For WMF, convert it to EMF first following [this answer](https://stackoverflow.com/a/35469318/3552975). ","title":"Convert WMF to PNG/BMP/JPG","body":"<p>I wrote a walkaround <a href=\"https://stackoverflow.com/a/72405526/3552975\">here</a>, for Java I learned that I can run shell command following answers in <a href=\"https://stackoverflow.com/q/16482601/3552975\">this question</a>. For WMF, convert it to EMF first following <a href=\"https://stackoverflow.com/a/35469318/3552975\">this answer</a>.</p>\n"}],"owner":{"account_id":2232880,"reputation":93,"user_id":1970058,"display_name":"user1970058"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9400,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":14279138,"answer_count":4,"score":6,"last_activity_date":1653900698,"creation_date":1357910504,"question_id":14279104,"body_markdown":"How can I convert one WMF file to PNG/BMP/JPG format with custom output resolution?\r\n\r\nExample: Take WMF file and outputs PNG file with 2000x2000 px.\r\n\r\nThanks in advance.","title":"Convert WMF to PNG/BMP/JPG","body":"<p>How can I convert one WMF file to PNG/BMP/JPG format with custom output resolution?</p>\n\n<p>Example: Take WMF file and outputs PNG file with 2000x2000 px.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","hibernate","jackson","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"score":0,"creation_date":1653842214,"post_id":72425392,"comment_id":127944779,"body_markdown":"So if you receive &quot;secondObj&quot;: 1, you want to deserialize it to the appropriate secondObj?","body":"So if you receive &quot;secondObj&quot;: 1, you want to deserialize it to the appropriate secondObj?"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1653842473,"post_id":72425392,"comment_id":127944842,"body_markdown":"Exactly, it should put in a reference to the existing entity","body":"Exactly, it should put in a reference to the existing entity"},{"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"score":1,"creation_date":1653842699,"post_id":72425392,"comment_id":127944905,"body_markdown":"I&#39;d recommend a DTO/VO approach instead, where you have your `FirstObj` and an accompanying `FirstObjDTO` class where `secondObj` is represented as `secondObjId`. If you&#39;d like I can elaborate in an answer, since it isn&#39;t what you asked for in your question.","body":"I&#39;d recommend a DTO/VO approach instead, where you have your <code>FirstObj</code> and an accompanying <code>FirstObjDTO</code> class where <code>secondObj</code> is represented as <code>secondObjId</code>. If you&#39;d like I can elaborate in an answer, since it isn&#39;t what you asked for in your question."},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1653899668,"post_id":72425392,"comment_id":127955374,"body_markdown":"Seems interesting, please go ahead and elaborate a bit more! I&#39;ve looked into what DTO&#39;s are and it seems like it could be useful for my usecase, if I understood it correctly you wrap your classes with only the things you need and make a deserialzation strategy or something that translates these wrapper objects -&gt; the actual ones, and then I can use these ones?","body":"Seems interesting, please go ahead and elaborate a bit more! I&#39;ve looked into what DTO&#39;s are and it seems like it could be useful for my usecase, if I understood it correctly you wrap your classes with only the things you need and make a deserialzation strategy or something that translates these wrapper objects -&gt; the actual ones, and then I can use these ones?"}],"answers":[{"tags":[],"owner":{"account_id":21828975,"reputation":1,"user_id":16124116,"display_name":"thanhncs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653842459,"creation_date":1653842459,"answer_id":72425511,"question_id":72425392,"body_markdown":"Please try some annotation like this link : https://www.baeldung.com/jackson-annotations\r\n\r\nInt the case it is not enough for your answer please validate your input before use it","title":"Jackson Hibernate relationship by id","body":"<p>Please try some annotation like this link : <a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-annotations</a></p>\n<p>Int the case it is not enough for your answer please validate your input before use it</p>\n"},{"tags":[],"owner":{"account_id":4338279,"reputation":558,"user_id":3542239,"display_name":"Idan Elhalwani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653900644,"creation_date":1653900644,"answer_id":72431601,"question_id":72425392,"body_markdown":"I recommend achieving this using the [DTO pattern][1]. When applied to your example, in addition to \r\n\r\n```java\r\n@Entity\r\npublic class FirstObj extends PanacheEntity {\r\n  @ManyToOne(cascade = CascadeType.ALL)\r\n  @JoinColumn(name = &quot;secondobj_id&quot;, referencedColumnName = &quot;id&quot;)\r\n  public SecondObj secondObj;\r\n  public String name;\r\n}\r\n```\r\nYou will have another class -\r\n```java\r\npublic class FirstObjDTO extends PanacheDTO {\r\n  public String name;\r\n  public long secondObjId;\r\n}\r\n```\r\n\r\nFrom that point you can use a mapping library or a mapping function to map `FirstObj.secondObj.id` to `FirstObjDTO.secondObjId` prior to serialization.\r\n\r\n## Example mapping function:\r\n\r\n```java\r\nFirstObjDTO toFirstObjDto(FirstObj from) {\r\n  FirstObjDTO dto = new FirstObjDTO();\r\n  dto.setName(from.getName());\r\n  if (from.getSecondObj() != null) {\r\n    dto.setSecondObjId(from.getSecondObj().getId());\r\n  }\r\n  return dto;\r\n}\r\n``` \r\n\r\nYou can also use a mapping library, one such library is [ShapeShift][2]. (*Disclaimer: I am a contributor to ShapeShift*)\r\n\r\n## Mapping example\r\n\r\n```java\r\n@Entity\r\npublic class FirstObj extends PanacheEntity {\r\n  @MappedField(target = FirstObjDTO.class, mapFrom = &quot;id&quot;, mapTo = &quot;secondObjId&quot;)\r\n  @ManyToOne(cascade = CascadeType.ALL)\r\n  @JoinColumn(name = &quot;secondobj_id&quot;, referencedColumnName = &quot;id&quot;)\r\n  public SecondObj secondObj;\r\n\r\n  @MappedField(target = FirstObjDTO.class)\r\n  public String name;\r\n}\r\n```\r\n\r\nThen wherever you intend to perform this mapping:\r\n```java\r\nShapeShift shapeShift = ShapeShift();\r\nFirstObjDTO firstObjDTO = shapeShift.map(firstObj, FirstObjDTO.class);\r\n```\r\n\r\n  [1]: https://www.baeldung.com/java-dto-pattern\r\n  [2]: https://github.com/krud-dev/shapeshift","title":"Jackson Hibernate relationship by id","body":"<p>I recommend achieving this using the <a href=\"https://www.baeldung.com/java-dto-pattern\" rel=\"nofollow noreferrer\">DTO pattern</a>. When applied to your example, in addition to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class FirstObj extends PanacheEntity {\n  @ManyToOne(cascade = CascadeType.ALL)\n  @JoinColumn(name = &quot;secondobj_id&quot;, referencedColumnName = &quot;id&quot;)\n  public SecondObj secondObj;\n  public String name;\n}\n</code></pre>\n<p>You will have another class -</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FirstObjDTO extends PanacheDTO {\n  public String name;\n  public long secondObjId;\n}\n</code></pre>\n<p>From that point you can use a mapping library or a mapping function to map <code>FirstObj.secondObj.id</code> to <code>FirstObjDTO.secondObjId</code> prior to serialization.</p>\n<h2>Example mapping function:</h2>\n<pre class=\"lang-java prettyprint-override\"><code>FirstObjDTO toFirstObjDto(FirstObj from) {\n  FirstObjDTO dto = new FirstObjDTO();\n  dto.setName(from.getName());\n  if (from.getSecondObj() != null) {\n    dto.setSecondObjId(from.getSecondObj().getId());\n  }\n  return dto;\n}\n</code></pre>\n<p>You can also use a mapping library, one such library is <a href=\"https://github.com/krud-dev/shapeshift\" rel=\"nofollow noreferrer\">ShapeShift</a>. (<em>Disclaimer: I am a contributor to ShapeShift</em>)</p>\n<h2>Mapping example</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class FirstObj extends PanacheEntity {\n  @MappedField(target = FirstObjDTO.class, mapFrom = &quot;id&quot;, mapTo = &quot;secondObjId&quot;)\n  @ManyToOne(cascade = CascadeType.ALL)\n  @JoinColumn(name = &quot;secondobj_id&quot;, referencedColumnName = &quot;id&quot;)\n  public SecondObj secondObj;\n\n  @MappedField(target = FirstObjDTO.class)\n  public String name;\n}\n</code></pre>\n<p>Then wherever you intend to perform this mapping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ShapeShift shapeShift = ShapeShift();\nFirstObjDTO firstObjDTO = shapeShift.map(firstObj, FirstObjDTO.class);\n</code></pre>\n"}],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72431601,"answer_count":2,"score":0,"last_activity_date":1653900644,"creation_date":1653841572,"question_id":72425392,"body_markdown":"*Note: I unfortunately don&#39;t really have an idea of what library my problem concerns, if you need any further information please just write a comment!*\r\n\r\nI have two hibernate panache entity classes declared like this:\r\n```java\r\n@Entity\r\npublic class FirstObj extends PanacheEntity {\r\n  @ManyToOne(cascade = CascadeType.ALL)\r\n  @JoinColumn(name = &quot;secondobj_id&quot;, referencedColumnName = &quot;id&quot;)\r\n  public SecondObj secondObj;\r\n  public String name;\r\n}\r\n\r\n@Entity\r\npublic class SecondObj extends PanacheEntity {\r\n  public String name;\r\n  public int weight;\r\n}\r\n```\r\n\r\nAnd I want to be able to deserialize this object with this json (deserialized by jackson, assuming there&#39;s an entry in the `SecondObj` table with the id 1):\r\n```json\r\n{\r\n  &quot;name&quot;: &quot;hello&quot;,\r\n  &quot;secondObj&quot;: 1\r\n}\r\n```\r\nIs this possible? I don&#39;t want it to automatically create a new `SecondObj` entity on requests.","title":"Jackson Hibernate relationship by id","body":"<p><em>Note: I unfortunately don't really have an idea of what library my problem concerns, if you need any further information please just write a comment!</em></p>\n<p>I have two hibernate panache entity classes declared like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class FirstObj extends PanacheEntity {\n  @ManyToOne(cascade = CascadeType.ALL)\n  @JoinColumn(name = &quot;secondobj_id&quot;, referencedColumnName = &quot;id&quot;)\n  public SecondObj secondObj;\n  public String name;\n}\n\n@Entity\npublic class SecondObj extends PanacheEntity {\n  public String name;\n  public int weight;\n}\n</code></pre>\n<p>And I want to be able to deserialize this object with this json (deserialized by jackson, assuming there's an entry in the <code>SecondObj</code> table with the id 1):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;hello&quot;,\n  &quot;secondObj&quot;: 1\n}\n</code></pre>\n<p>Is this possible? I don't want it to automatically create a new <code>SecondObj</code> entity on requests.</p>\n"},{"tags":["java","android","kotlin","adb"],"comments":[{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1550099711,"post_id":54680553,"comment_id":96150680,"body_markdown":"From where are you executing this code? From an emulator or from your device?","body":"From where are you executing this code? From an emulator or from your device?"},{"owner":{"account_id":14523567,"reputation":771,"user_id":10490583,"display_name":"Strangelove"},"score":0,"creation_date":1550099764,"post_id":54680553,"comment_id":96150696,"body_markdown":"From my emulator","body":"From my emulator"},{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1550099959,"post_id":54680553,"comment_id":96150751,"body_markdown":"Have you put `adb root` and restart the emulator? And then `adb -e shell`?","body":"Have you put <code>adb root</code> and restart the emulator? And then <code>adb -e shell</code>?"},{"owner":{"account_id":14523567,"reputation":771,"user_id":10490583,"display_name":"Strangelove"},"score":0,"creation_date":1550141279,"post_id":54680553,"comment_id":96165031,"body_markdown":"Yep, it&#39;s not worked","body":"Yep, it&#39;s not worked"},{"owner":{"account_id":12394921,"reputation":4981,"user_id":9035237,"display_name":"Geno Chen"},"score":0,"creation_date":1550316441,"post_id":54680553,"comment_id":96229511,"body_markdown":"Do you have `x` permission on that `adb`?","body":"Do you have <code>x</code> permission on that <code>adb</code>?"},{"owner":{"account_id":4432162,"reputation":328,"user_id":3609059,"accept_rate":0,"display_name":"Ashish Jain"},"score":0,"creation_date":1555999909,"post_id":54680553,"comment_id":98278321,"body_markdown":"@Strangelove any solution? because I am also getting java.io.IOException: Cannot run program &quot;adb&quot;: error=13, Permission denied","body":"@Strangelove any solution? because I am also getting java.io.IOException: Cannot run program &quot;adb&quot;: error=13, Permission denied"},{"owner":{"account_id":14523567,"reputation":771,"user_id":10490583,"display_name":"Strangelove"},"score":0,"creation_date":1556003834,"post_id":54680553,"comment_id":98279897,"body_markdown":"Still not. I&#39;ve threw it after several attempts","body":"Still not. I&#39;ve threw it after several attempts"}],"answers":[{"tags":[],"owner":{"account_id":8741360,"reputation":159,"user_id":6538337,"display_name":"C&#233;dric LE MOING"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1570028499,"creation_date":1570028499,"answer_id":58204195,"question_id":54680553,"body_markdown":"adb is a tool you use on your computer, &quot;adb shell&quot; opens a shell on the device (or emulator), and &quot;adb shell command&quot; runs the command on it.\r\n\r\nSo if you want to run the command programmatically on the device, just remove &quot;adb shell&quot;:\r\n\r\n    Runtime.getRuntime().exec(&quot;input tap 0 0&quot;)\r\n","title":"Cannot run program &quot;adb&quot;: error=13, Permission denied","body":"<p>adb is a tool you use on your computer, \"adb shell\" opens a shell on the device (or emulator), and \"adb shell command\" runs the command on it.</p>\n\n<p>So if you want to run the command programmatically on the device, just remove \"adb shell\":</p>\n\n<pre><code>Runtime.getRuntime().exec(\"input tap 0 0\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25425206,"reputation":11,"user_id":19230489,"display_name":"Peter Yasnetsov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653900494,"creation_date":1653900494,"answer_id":72431569,"question_id":54680553,"body_markdown":"I got it like this \r\n\r\n\r\n     fun commandAdb() {\r\n        InstrumentationRegistry.getInstrumentation().uiAutomation.executeShellCommand(&quot;svc wifi disable&quot;)\r\n        InstrumentationRegistry.getInstrumentation().uiAutomation.executeShellCommand(&quot;svc data disable&quot;)\r\n    }","title":"Cannot run program &quot;adb&quot;: error=13, Permission denied","body":"<p>I got it like this</p>\n<pre><code> fun commandAdb() {\n    InstrumentationRegistry.getInstrumentation().uiAutomation.executeShellCommand(&quot;svc wifi disable&quot;)\n    InstrumentationRegistry.getInstrumentation().uiAutomation.executeShellCommand(&quot;svc data disable&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":14523567,"reputation":771,"user_id":10490583,"display_name":"Strangelove"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13651,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"answer_count":2,"score":9,"last_activity_date":1653900494,"creation_date":1550097529,"question_id":54680553,"body_markdown":"I have a program, which must execute only one command \r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            Runtime.getRuntime().exec(&quot;adb shell input tap 0 0&quot;)\r\n        }\r\n    }\r\n\r\nBut I&#39;m getting an error\r\n\r\n    Process: com.example.tomfo.pokerclicker, PID: 11578\r\n    java.io.IOException: Cannot run program &quot;adb&quot;: error=13, Permission denied\r\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1050)\r\n        at java.lang.Runtime.exec(Runtime.java:695)\r\n        at java.lang.Runtime.exec(Runtime.java:525)\r\n        at java.lang.Runtime.exec(Runtime.java:422)\r\n        at com.example.tomfo.pokerclicker.MainActivity$onCreate$1.run(MainActivity.kt:14)\r\n        at java.util.TimerThread.mainLoop(Timer.java:562)\r\n        at java.util.TimerThread.run(Timer.java:512)\r\n     Caused by: java.io.IOException: error=13, Permission denied\r\n        at java.lang.UNIXProcess.forkAndExec(Native Method)\r\n        at java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:133)\r\n        at java.lang.ProcessImpl.start(ProcessImpl.java:132)\r\n        at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\r\n        at java.lang.Runtime.exec(Runtime.java:695)&#160;\r\n        at java.lang.Runtime.exec(Runtime.java:525)&#160;\r\n        at java.lang.Runtime.exec(Runtime.java:422)&#160;\r\n        at com.example.tomfo.pokerclicker.MainActivity$onCreate$1.run(MainActivity.kt:14)&#160;\r\n        at java.util.TimerThread.mainLoop(Timer.java:562)&#160;\r\n        at java.util.TimerThread.run(Timer.java:512)&#160;\r\n\r\nAlthough I&#39;ve added adb to path into properties on Windows and can run abd commands throw Android Studio console (but in Android Studio console command is not green). How to solve this problem? This command is working throw Studio console command\r\n","title":"Cannot run program &quot;adb&quot;: error=13, Permission denied","body":"<p>I have a program, which must execute only one command </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        Runtime.getRuntime().exec(\"adb shell input tap 0 0\")\n    }\n}\n</code></pre>\n\n<p>But I'm getting an error</p>\n\n<pre><code>Process: com.example.tomfo.pokerclicker, PID: 11578\njava.io.IOException: Cannot run program \"adb\": error=13, Permission denied\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1050)\n    at java.lang.Runtime.exec(Runtime.java:695)\n    at java.lang.Runtime.exec(Runtime.java:525)\n    at java.lang.Runtime.exec(Runtime.java:422)\n    at com.example.tomfo.pokerclicker.MainActivity$onCreate$1.run(MainActivity.kt:14)\n    at java.util.TimerThread.mainLoop(Timer.java:562)\n    at java.util.TimerThread.run(Timer.java:512)\n Caused by: java.io.IOException: error=13, Permission denied\n    at java.lang.UNIXProcess.forkAndExec(Native Method)\n    at java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:133)\n    at java.lang.ProcessImpl.start(ProcessImpl.java:132)\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)\n    at java.lang.Runtime.exec(Runtime.java:695) \n    at java.lang.Runtime.exec(Runtime.java:525) \n    at java.lang.Runtime.exec(Runtime.java:422) \n    at com.example.tomfo.pokerclicker.MainActivity$onCreate$1.run(MainActivity.kt:14) \n    at java.util.TimerThread.mainLoop(Timer.java:562) \n    at java.util.TimerThread.run(Timer.java:512) \n</code></pre>\n\n<p>Although I've added adb to path into properties on Windows and can run abd commands throw Android Studio console (but in Android Studio console command is not green). How to solve this problem? This command is working throw Studio console command</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1653897855,"post_id":72430967,"comment_id":127954765,"body_markdown":"double a = getNum1(); -&gt; this is executed before you execute your setters. get the values in the add method itself","body":"double a = getNum1(); -&gt; this is executed before you execute your setters. get the values in the add method itself"},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1653898616,"post_id":72430967,"comment_id":127955012,"body_markdown":"You can put a `System.out.println(SOME VALUE)` in every method and constructor and check the flow of the code. This way You will get a clear idea.","body":"You can put a <code>System.out.println(SOME VALUE)</code> in every method and constructor and check the flow of the code. This way You will get a clear idea."},{"owner":{"account_id":23537935,"reputation":70,"user_id":17582590,"display_name":"winstonbrown"},"score":0,"creation_date":1653899040,"post_id":72430967,"comment_id":127955152,"body_markdown":"@SayanBhattacharya thanks. Im sure it will help me a lot.","body":"@SayanBhattacharya thanks. Im sure it will help me a lot."}],"answers":[{"tags":[],"owner":{"account_id":25424392,"reputation":69,"user_id":19229766,"display_name":"TwoOfTwelve"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653898200,"creation_date":1653898200,"answer_id":72431063,"question_id":72430967,"body_markdown":"In your code the variables `a` and `b`, defined in `calculator` will always be `0.0`, because they are set during the initialization of you object and only once:\r\n\r\n1. You call `new advcalc()`\r\n1. During initialization `double a = getNum1();` and `double b = getNum2();` are called\r\n1. You call `setNum1` and change the value of `num1` in `input`, but a stays unchanged\r\n1. You call `add` and `a` and `b` are both `0.0`\r\n\r\nIf you drop the variables `a` and `b` and call `getNum1` and `getNum2` in `add` it should work. You could also override `setNum1` and `setNum2` in `calculator` and set `a` and `b` there.","title":"Getting 0.0 when printing the return value of a method","body":"<p>In your code the variables <code>a</code> and <code>b</code>, defined in <code>calculator</code> will always be <code>0.0</code>, because they are set during the initialization of you object and only once:</p>\n<ol>\n<li>You call <code>new advcalc()</code></li>\n<li>During initialization <code>double a = getNum1();</code> and <code>double b = getNum2();</code> are called</li>\n<li>You call <code>setNum1</code> and change the value of <code>num1</code> in <code>input</code>, but a stays unchanged</li>\n<li>You call <code>add</code> and <code>a</code> and <code>b</code> are both <code>0.0</code></li>\n</ol>\n<p>If you drop the variables <code>a</code> and <code>b</code> and call <code>getNum1</code> and <code>getNum2</code> in <code>add</code> it should work. You could also override <code>setNum1</code> and <code>setNum2</code> in <code>calculator</code> and set <code>a</code> and <code>b</code> there.</p>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653898482,"creation_date":1653898482,"answer_id":72431127,"question_id":72430967,"body_markdown":"`a = getNum()` is being executed before assigning the value. \r\n```\r\ndouble a = getNum1();\r\ndouble b = getNum2();\r\ndouble add() {\r\n  return a+b;\r\n}\r\n```\r\ninstead of this you can assign the values inside `add` method.This way it will be assigned after you create an instance.\r\n\r\n```\r\ndouble a, b = 0;\r\ndouble add() {\r\n    this.a = getNum1();\r\n    this.b = getNum2();\r\n    return a + b;\r\n}\r\n```\r\nThere are various ways to achieve this . You can also pass the values in `add` method or create a `parameterized constructor`.","title":"Getting 0.0 when printing the return value of a method","body":"<p><code>a = getNum()</code> is being executed before assigning the value.</p>\n<pre><code>double a = getNum1();\ndouble b = getNum2();\ndouble add() {\n  return a+b;\n}\n</code></pre>\n<p>instead of this you can assign the values inside <code>add</code> method.This way it will be assigned after you create an instance.</p>\n<pre><code>double a, b = 0;\ndouble add() {\n    this.a = getNum1();\n    this.b = getNum2();\n    return a + b;\n}\n</code></pre>\n<p>There are various ways to achieve this . You can also pass the values in <code>add</code> method or create a <code>parameterized constructor</code>.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653900382,"creation_date":1653900382,"answer_id":72431546,"question_id":72430967,"body_markdown":"&gt; I&#39;m practicing inheritance.\r\n\r\nThen are you aware that `a` and `b` (in class `calculator`) are member variables&lt;sup&gt;1&lt;/sup&gt; and that they are hiding&lt;sup&gt;2&lt;/sup&gt; member variables `num1` and `num2` in the parent class (i.e. class `input`). Hiding can lead to problems (as you have discovered). Hence you should make `num1` and `num2` protected&lt;sup&gt;3&lt;/sup&gt; and remove `a` and `b`.\r\n\r\nConsider the following:  \r\n(Note that I changed the class names according to [Java naming conventions][1].)\r\n```java\r\npublic class Inheritance {\r\n\r\n    public static void main(String[] args) {\r\n        AdvCalc cal = new AdvCalc();\r\n        cal.setNum1(10);\r\n        cal.setNum2(10);\r\n        System.out.println(cal.add());\r\n    }\r\n}\r\n\r\nclass Input {\r\n    protected double num1;\r\n    protected double num2;\r\n\r\n    public void setNum1(double num1) {\r\n        this.num1 = num1;\r\n    }\r\n\r\n    public double getNum1() {\r\n        return this.num1;\r\n    }\r\n\r\n    public void setNum2(double num2) {\r\n        this.num2 = num2;\r\n    }\r\n\r\n    public double getNum2() {\r\n        return this.num2;\r\n    }\r\n}\r\n\r\nclass Calculator extends Input {\r\n    public double add() {\r\n        return num1 + num2;\r\n    }\r\n}\r\n\r\nclass AdvCalc extends Calculator {\r\n    public double less() {\r\n        return num1 - num2;\r\n    }\r\n}\r\n``` \r\n\r\n&lt;sup&gt;1&lt;/sup&gt; Refer to [Declaring Member Variables][2] (in Oracle&#39;s Java tutorials).  \r\n&lt;sup&gt;2&lt;/sup&gt; Refer to [Variable Shadowing and Hiding in Java][3]  \r\n&lt;sup&gt;3&lt;/sup&gt; Refer to [Controlling Access to Members of a Class][4]\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html\r\n  [3]: https://dzone.com/articles/variable-shadowing-and-hiding-in-java\r\n  [4]: https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"Getting 0.0 when printing the return value of a method","body":"<blockquote>\n<p>I'm practicing inheritance.</p>\n</blockquote>\n<p>Then are you aware that <code>a</code> and <code>b</code> (in class <code>calculator</code>) are member variables<sup>1</sup> and that they are hiding<sup>2</sup> member variables <code>num1</code> and <code>num2</code> in the parent class (i.e. class <code>input</code>). Hiding can lead to problems (as you have discovered). Hence you should make <code>num1</code> and <code>num2</code> protected<sup>3</sup> and remove <code>a</code> and <code>b</code>.</p>\n<p>Consider the following:<br />\n(Note that I changed the class names according to <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Inheritance {\n\n    public static void main(String[] args) {\n        AdvCalc cal = new AdvCalc();\n        cal.setNum1(10);\n        cal.setNum2(10);\n        System.out.println(cal.add());\n    }\n}\n\nclass Input {\n    protected double num1;\n    protected double num2;\n\n    public void setNum1(double num1) {\n        this.num1 = num1;\n    }\n\n    public double getNum1() {\n        return this.num1;\n    }\n\n    public void setNum2(double num2) {\n        this.num2 = num2;\n    }\n\n    public double getNum2() {\n        return this.num2;\n    }\n}\n\nclass Calculator extends Input {\n    public double add() {\n        return num1 + num2;\n    }\n}\n\nclass AdvCalc extends Calculator {\n    public double less() {\n        return num1 - num2;\n    }\n}\n</code></pre>\n<p><sup>1</sup> Refer to <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/variables.html\" rel=\"nofollow noreferrer\">Declaring Member Variables</a> (in Oracle's Java tutorials).<br />\n<sup>2</sup> Refer to <a href=\"https://dzone.com/articles/variable-shadowing-and-hiding-in-java\" rel=\"nofollow noreferrer\">Variable Shadowing and Hiding in Java</a><br />\n<sup>3</sup> Refer to <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">Controlling Access to Members of a Class</a></p>\n"}],"owner":{"account_id":23537935,"reputation":70,"user_id":17582590,"display_name":"winstonbrown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72431127,"answer_count":3,"score":0,"last_activity_date":1653900431,"creation_date":1653897693,"question_id":72430967,"body_markdown":"    class input{\r\n    \tprivate double num1;\r\n    \tprivate double num2;\r\n    \t\r\n    \tpublic void setNum1(double num1) {\r\n    \t\tthis.num1 = num1;\r\n    \t}\r\n\r\n    \tpublic double getNum1() {\r\n    \t\treturn this.num1;\r\n    \t}\r\n    \t\r\n    \tpublic void setNum2(double num2) {\r\n    \t\tthis.num2 = num2;\r\n    \t}\r\n\r\n    \tpublic double getNum2() {\r\n    \t\treturn this.num2;\r\n    \t}\r\n    }\r\n    \r\n    class calculator extends input{\r\n    \tdouble a = getNum1();\r\n    \tdouble b = getNum2();\r\n    \t\r\n    \tdouble add() {\r\n    \t\treturn a+b;\r\n    \t}\r\n    }\r\n    \r\n    class advcalc extends calculator{\r\n    \tdouble less() {\r\n    \t\treturn a-b;\r\n    \t}\r\n    }\r\n    \r\n    public class Inheritence {\r\n    \tpublic static void main(String[] args) {\r\n    \tadvcalc cal = new advcalc();\r\n    \tcal.setNum1(10);\r\n    \tcal.setNum2(10);\r\n    \t\r\n    \tSystem.out.println(cal.add());\r\n    \t}\r\n    }\r\n\r\nHere I&#39;m practicing inheritance. The first class gets inputs, second class is used for addition and 3rd is used for subtraction. I have created an object of 3rd class. After passing the inputs by `setNum1()` &amp;&amp; `setNum1()`, when I try to print the return value of the add, it prints 0.0. I couldn&#39;t figure out what&#39;s the issue. Someone help me out please. ","title":"Getting 0.0 when printing the return value of a method","body":"<pre><code>class input{\n    private double num1;\n    private double num2;\n    \n    public void setNum1(double num1) {\n        this.num1 = num1;\n    }\n\n    public double getNum1() {\n        return this.num1;\n    }\n    \n    public void setNum2(double num2) {\n        this.num2 = num2;\n    }\n\n    public double getNum2() {\n        return this.num2;\n    }\n}\n\nclass calculator extends input{\n    double a = getNum1();\n    double b = getNum2();\n    \n    double add() {\n        return a+b;\n    }\n}\n\nclass advcalc extends calculator{\n    double less() {\n        return a-b;\n    }\n}\n\npublic class Inheritence {\n    public static void main(String[] args) {\n    advcalc cal = new advcalc();\n    cal.setNum1(10);\n    cal.setNum2(10);\n    \n    System.out.println(cal.add());\n    }\n}\n</code></pre>\n<p>Here I'm practicing inheritance. The first class gets inputs, second class is used for addition and 3rd is used for subtraction. I have created an object of 3rd class. After passing the inputs by <code>setNum1()</code> &amp;&amp; <code>setNum1()</code>, when I try to print the return value of the add, it prints 0.0. I couldn't figure out what's the issue. Someone help me out please.</p>\n"},{"tags":["java","android","parcelable","serializable"],"comments":[{"owner":{"account_id":4129207,"reputation":75209,"user_id":3395198,"accept_rate":54,"display_name":"IntelliJ Amiya"},"score":0,"creation_date":1502703224,"post_id":45671248,"comment_id":78300313,"body_markdown":"https://stackoverflow.com/questions/36492256/stackoverflowerror-while-writing-parcelable","body":"<a href=\"https://stackoverflow.com/questions/36492256/stackoverflowerror-while-writing-parcelable\" title=\"stackoverflowerror while writing parcelable\">stackoverflow.com/questions/36492256/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502703598,"creation_date":1502703598,"answer_id":45671636,"question_id":45671248,"body_markdown":"Remove `dest.writeParcelable(parentChapter, flags);`\r\n\r\nAdd \r\n\r\n    chapterList = in.createTypedArrayList(Chapter.CREATOR);\r\n    \r\n    for( Chapter c : chapterList ) {\r\n      c.setParentChapter(this);\r\n    }","title":"StackOverflowError on writing Parcelable for a class in android","body":"<p>Remove <code>dest.writeParcelable(parentChapter, flags);</code></p>\n\n<p>Add </p>\n\n<pre><code>chapterList = in.createTypedArrayList(Chapter.CREATOR);\n\nfor( Chapter c : chapterList ) {\n  c.setParentChapter(this);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25425039,"reputation":11,"user_id":19230340,"display_name":"xiaoming"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653899840,"creation_date":1653899674,"answer_id":72431398,"question_id":45671248,"body_markdown":"if `parentChapter == this`，will cause this problem。\r\n\r\n1. try check logic `setParentChapter `\r\n2. or use this code ignore \r\n\r\n```java\r\nif (parentChapter == this) { // Caused by: java.lang.StackOverflowError\r\n    dest.writeParcelable(null, 0);\r\n} else {\r\n    dest.writeParcelable(parentChapter, 0);\r\n}\r\n```","title":"StackOverflowError on writing Parcelable for a class in android","body":"<p>if <code>parentChapter == this</code>，will cause this problem。</p>\n<ol>\n<li>try check logic <code>setParentChapter </code></li>\n<li>or use this code ignore</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>if (parentChapter == this) { // Caused by: java.lang.StackOverflowError\n    dest.writeParcelable(null, 0);\n} else {\n    dest.writeParcelable(parentChapter, 0);\n}\n</code></pre>\n"}],"owner":{"account_id":7233601,"reputation":803,"user_id":5519615,"accept_rate":50,"display_name":"Navin Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1653899840,"creation_date":1502702389,"question_id":45671248,"body_markdown":"I have a class named Student. In this class I have a Object field of same class(i.e. of Student class). When I am sending this classes object as Parcelable to another component of my app. It throws StackOverflowError.\r\n\r\nSo my question is how can I make Parcelable of such kind of classes who contains fields of same class.\r\nHere is my code\r\n\r\n\r\n\r\n    import android.os.Parcel;\r\n    import android.os.Parcelable;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class Chapter implements Parcelable{\r\n        private String chapterId;\r\n        private String chapterNumber;\r\n        private String chapterName;\r\n        private String src;\r\n        private int startTime;\r\n        private int endTime;\r\n        private Chapter parentChapter;\r\n        private ArrayList&lt;Chapter&gt; chapterList;\r\n    \r\n    \r\n        public Chapter(){}\r\n    \r\n        protected Chapter(Parcel in) {\r\n            chapterId = in.readString();\r\n            chapterNumber = in.readString();\r\n            chapterName = in.readString();\r\n            src = in.readString();\r\n            startTime = in.readInt();\r\n            endTime = in.readInt();\r\n            parentChapter = in.readParcelable(Chapter.class.getClassLoader());\r\n            chapterList = in.createTypedArrayList(Chapter.CREATOR);\r\n        }\r\n    \r\n        public static final Creator&lt;Chapter&gt; CREATOR = new Creator&lt;Chapter&gt;() {\r\n            @Override\r\n            public Chapter createFromParcel(Parcel in) {\r\n                return new Chapter(in);\r\n            }\r\n    \r\n            @Override\r\n            public Chapter[] newArray(int size) {\r\n                return new Chapter[size];\r\n            }\r\n        };\r\n    \r\n        String getChapterName() {\r\n            return chapterName;\r\n        }\r\n    \r\n        void setChapterName(String chapterName) {\r\n            this.chapterName = chapterName;\r\n        }\r\n    \r\n        public String getSrc() {\r\n            return src;\r\n        }\r\n    \r\n        public void setSrc(String src) {\r\n            this.src = src;\r\n        }\r\n    \r\n        void setChapterNumber(String chapterNumber) {\r\n            this.chapterNumber = chapterNumber;\r\n        }\r\n    \r\n        void setChapterId(String chapterId) {\r\n            this.chapterId = chapterId;\r\n        }\r\n    \r\n        ArrayList&lt;Chapter&gt; getChapterList() {\r\n            return chapterList;\r\n        }\r\n    \r\n        void setChapterList(ArrayList&lt;Chapter&gt; chapterList) {\r\n            this.chapterList = chapterList;\r\n        }\r\n    \r\n        public int getStartTime() {\r\n            return startTime;\r\n        }\r\n    \r\n        public void setStartTime(int startTime) {\r\n            this.startTime = startTime;\r\n        }\r\n    \r\n        void setEndTime(int endTime) {\r\n            this.endTime = endTime;\r\n        }\r\n    \r\n        public Chapter getParentChapter() {\r\n            return parentChapter;\r\n        }\r\n    \r\n        public void setParentChapter(Chapter parentChapter) {\r\n            this.parentChapter = parentChapter;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int describeContents() {\r\n            return 0;\r\n        }\r\n    \r\n        @Override\r\n        public void writeToParcel(Parcel dest, int flags) {\r\n            dest.writeString(chapterId);\r\n            dest.writeString(chapterNumber);\r\n            dest.writeString(chapterName);\r\n            dest.writeString(src);\r\n            dest.writeInt(startTime);\r\n            dest.writeInt(endTime);\r\n            dest.writeParcelable(parentChapter, flags);\r\n            dest.writeTypedList(chapterList);\r\n        }\r\n    }\r\n\r\n   \r\n","title":"StackOverflowError on writing Parcelable for a class in android","body":"<p>I have a class named Student. In this class I have a Object field of same class(i.e. of Student class). When I am sending this classes object as Parcelable to another component of my app. It throws StackOverflowError.</p>\n\n<p>So my question is how can I make Parcelable of such kind of classes who contains fields of same class.\nHere is my code</p>\n\n<pre><code>import android.os.Parcel;\nimport android.os.Parcelable;\n\nimport java.util.ArrayList;\n\npublic class Chapter implements Parcelable{\n    private String chapterId;\n    private String chapterNumber;\n    private String chapterName;\n    private String src;\n    private int startTime;\n    private int endTime;\n    private Chapter parentChapter;\n    private ArrayList&lt;Chapter&gt; chapterList;\n\n\n    public Chapter(){}\n\n    protected Chapter(Parcel in) {\n        chapterId = in.readString();\n        chapterNumber = in.readString();\n        chapterName = in.readString();\n        src = in.readString();\n        startTime = in.readInt();\n        endTime = in.readInt();\n        parentChapter = in.readParcelable(Chapter.class.getClassLoader());\n        chapterList = in.createTypedArrayList(Chapter.CREATOR);\n    }\n\n    public static final Creator&lt;Chapter&gt; CREATOR = new Creator&lt;Chapter&gt;() {\n        @Override\n        public Chapter createFromParcel(Parcel in) {\n            return new Chapter(in);\n        }\n\n        @Override\n        public Chapter[] newArray(int size) {\n            return new Chapter[size];\n        }\n    };\n\n    String getChapterName() {\n        return chapterName;\n    }\n\n    void setChapterName(String chapterName) {\n        this.chapterName = chapterName;\n    }\n\n    public String getSrc() {\n        return src;\n    }\n\n    public void setSrc(String src) {\n        this.src = src;\n    }\n\n    void setChapterNumber(String chapterNumber) {\n        this.chapterNumber = chapterNumber;\n    }\n\n    void setChapterId(String chapterId) {\n        this.chapterId = chapterId;\n    }\n\n    ArrayList&lt;Chapter&gt; getChapterList() {\n        return chapterList;\n    }\n\n    void setChapterList(ArrayList&lt;Chapter&gt; chapterList) {\n        this.chapterList = chapterList;\n    }\n\n    public int getStartTime() {\n        return startTime;\n    }\n\n    public void setStartTime(int startTime) {\n        this.startTime = startTime;\n    }\n\n    void setEndTime(int endTime) {\n        this.endTime = endTime;\n    }\n\n    public Chapter getParentChapter() {\n        return parentChapter;\n    }\n\n    public void setParentChapter(Chapter parentChapter) {\n        this.parentChapter = parentChapter;\n    }\n\n\n    @Override\n    public int describeContents() {\n        return 0;\n    }\n\n    @Override\n    public void writeToParcel(Parcel dest, int flags) {\n        dest.writeString(chapterId);\n        dest.writeString(chapterNumber);\n        dest.writeString(chapterName);\n        dest.writeString(src);\n        dest.writeInt(startTime);\n        dest.writeInt(endTime);\n        dest.writeParcelable(parentChapter, flags);\n        dest.writeTypedList(chapterList);\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","deadlock","dining-philosopher"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1653899977,"post_id":72431428,"comment_id":127955457,"body_markdown":"Are you the same person who asked this question yesterday, and got a very thorough, detailed answer?","body":"Are you the same person who asked this question yesterday, and got a very thorough, detailed answer?"},{"owner":{"account_id":7555436,"reputation":1397,"user_id":5953720,"accept_rate":63,"display_name":"Allexj"},"score":0,"creation_date":1653900247,"post_id":72431428,"comment_id":127955557,"body_markdown":"@DawoodibnKareem I didn&#39;t get any answer","body":"@DawoodibnKareem I didn&#39;t get any answer"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1653900613,"post_id":72431428,"comment_id":127955702,"body_markdown":"Your question was answered, but you deleted your question afterwards...","body":"Your question was answered, but you deleted your question afterwards..."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1653900628,"post_id":72431428,"comment_id":127955709,"body_markdown":"You got a very long answer from someone called Dan.  Now, the original question and Dan&#39;s answer have both been deleted.  I don&#39;t know why.  Asking the same question multiple times isn&#39;t really a good way to encourage people to answer.  Have you considered offering a bounty instead?","body":"You got a very long answer from someone called Dan.  Now, the original question and Dan&#39;s answer have both been deleted.  I don&#39;t know why.  Asking the same question multiple times isn&#39;t really a good way to encourage people to answer.  Have you considered offering a bounty instead?"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1653900690,"post_id":72431428,"comment_id":127955741,"body_markdown":"@DawoodibnKareem it was deleted by the post author, so Allexj have seen the answer, removed the question and now claims that he didn&#39;t get any answers.","body":"@DawoodibnKareem it was deleted by the post author, so Allexj have seen the answer, removed the question and now claims that he didn&#39;t get any answers."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1653900749,"post_id":72431428,"comment_id":127955757,"body_markdown":"Actually @LajosArpad, that means that Dan deleted it themselves.  But it was certainly up there for at least 23 hours.","body":"Actually @LajosArpad, that means that Dan deleted it themselves.  But it was certainly up there for at least 23 hours."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1653901219,"post_id":72431428,"comment_id":127955919,"body_markdown":"Allexj, you need to follow the advice that tgdavies gave you in the original copy of your question.  Look at the logs to tell which philosopher is locking which.","body":"Allexj, you need to follow the advice that tgdavies gave you in the original copy of your question.  Look at the logs to tell which philosopher is locking which."},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1653901746,"post_id":72431428,"comment_id":127956111,"body_markdown":"@DawoodibnKareem I know, I was careful not to accuse him though and to present this factually.","body":"@DawoodibnKareem I know, I was careful not to accuse him though and to present this factually."},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1653902109,"post_id":72431428,"comment_id":127956237,"body_markdown":"@DawoodibnKareem yeah I deleted it, because my answer was wrong and I didn&#39;t feel to keep it there. After further investigations, thanks to DawoodibnKareem, I&#39;ve realized that it wasn&#39;t the missing philosopher&#39;s id within the Forchetta class the actual problem. Unfortunately, instead of copying his code I&#39;ve written my own version and then compared them (big mistake!). This morning I&#39;ve also copied your code Alex from the previous answer and I didn&#39;t have a single deadlock... I don&#39;t know what&#39;s wrong with it.","body":"@DawoodibnKareem yeah I deleted it, because my answer was wrong and I didn&#39;t feel to keep it there. After further investigations, thanks to DawoodibnKareem, I&#39;ve realized that it wasn&#39;t the missing philosopher&#39;s id within the Forchetta class the actual problem. Unfortunately, instead of copying his code I&#39;ve written my own version and then compared them (big mistake!). This morning I&#39;ve also copied your code Alex from the previous answer and I didn&#39;t have a single deadlock... I don&#39;t know what&#39;s wrong with it."},{"owner":{"account_id":7555436,"reputation":1397,"user_id":5953720,"accept_rate":63,"display_name":"Allexj"},"score":0,"creation_date":1653902339,"post_id":72431428,"comment_id":127956314,"body_markdown":"@LajosArpad I didn&#39;t received any answer. So I removed the post. Actually it was showing like if there was answer, but when I refreshed the page the answer was gone, so I guess the guy who answered deleted it","body":"@LajosArpad I didn&#39;t received any answer. So I removed the post. Actually it was showing like if there was answer, but when I refreshed the page the answer was gone, so I guess the guy who answered deleted it"},{"owner":{"account_id":7555436,"reputation":1397,"user_id":5953720,"accept_rate":63,"display_name":"Allexj"},"score":0,"creation_date":1653902477,"post_id":72431428,"comment_id":127956357,"body_markdown":"@Dan did you copy the exact code? After how much time did you wait? I noticed the deadlock after some minutes in my testing","body":"@Dan did you copy the exact code? After how much time did you wait? I noticed the deadlock after some minutes in my testing"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1653902530,"post_id":72431428,"comment_id":127956372,"body_markdown":"I second, just copied and run: no deadlock after more than 15 minutes (kind of forgot it running while on a meeting) ((maybe different number of used CPU cores? or additional activity on the computer? or IDE, console output?))","body":"I second, just copied and run: no deadlock after more than 15 minutes (kind of forgot it running while on a meeting) ((maybe different number of used CPU cores? or additional activity on the computer? or IDE, console output?))"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1653902542,"post_id":72431428,"comment_id":127956381,"body_markdown":"https://meta.stackoverflow.com/q/261078","body":"<a href=\"https://meta.stackoverflow.com/q/261078\">meta.stackoverflow.com/q/261078</a>"},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":1,"creation_date":1653902562,"post_id":72431428,"comment_id":127956391,"body_markdown":"@Allexj a couple of minutes, to be honest. How long did you leave it running? I don&#39;t think it matters anymore, user16320675 already answered for us. I don&#39;t think this problem is reproducible.","body":"@Allexj a couple of minutes, to be honest. How long did you leave it running? I don&#39;t think it matters anymore, user16320675 already answered for us. I don&#39;t think this problem is reproducible."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1653902990,"post_id":72431428,"comment_id":127956539,"body_markdown":"Also - https://meta.stackoverflow.com/q/329476  https://meta.stackoverflow.com/q/288854","body":"Also - <a href=\"https://meta.stackoverflow.com/q/329476\">meta.stackoverflow.com/q/329476</a>  <a href=\"https://meta.stackoverflow.com/q/288854\">meta.stackoverflow.com/q/288854</a>"},{"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1653903024,"post_id":72431428,"comment_id":127956553,"body_markdown":"@Allexj this is why I have avoided your accusation, I have given you the chance to explain it and I find your explanation convincing, so, you had an answer, reloaded it, it disappeared and now you said you didn&#39;t receive an answer, because it appeared to you only briefly. But then you received an answer after all, it just disappeared. Is this what happened?","body":"@Allexj this is why I have avoided your accusation, I have given you the chance to explain it and I find your explanation convincing, so, you had an answer, reloaded it, it disappeared and now you said you didn&#39;t receive an answer, because it appeared to you only briefly. But then you received an answer after all, it just disappeared. Is this what happened?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1653904584,"post_id":72431428,"comment_id":127957150,"body_markdown":"started after my last comment, on IDE and on command line, both are still running, no deadlock","body":"started after my last comment, on IDE and on command line, both are still running, no deadlock"},{"owner":{"account_id":7555436,"reputation":1397,"user_id":5953720,"accept_rate":63,"display_name":"Allexj"},"score":0,"creation_date":1653905706,"post_id":72431428,"comment_id":127957548,"body_markdown":"@user16320675 thanks, that&#39;s just strange. however, my computer has 8 cores","body":"@user16320675 thanks, that&#39;s just strange. however, my computer has 8 cores"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1654086143,"post_id":72431428,"comment_id":128007358,"body_markdown":"Does this answer your question? [What is the difference between atomic / volatile / synchronized?](https://stackoverflow.com/questions/9749746/what-is-the-difference-between-atomic-volatile-synchronized)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9749746/what-is-the-difference-between-atomic-volatile-synchronized\">What is the difference between atomic / volatile / synchronized?</a>"}],"owner":{"account_id":7555436,"reputation":1397,"user_id":5953720,"accept_rate":63,"display_name":"Allexj"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653899824,"creation_date":1653899824,"question_id":72431428,"body_markdown":"Main.java:\r\n\r\n    package esempio2;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String args[]){\r\n    \t\tint numFilosofi = 5;\r\n    \t\tForchetta forchette[] = new Forchetta[numFilosofi];\r\n    \t\tFilosofo filosofi[] = new Filosofo[numFilosofi];\r\n    \r\n    \t\tfor(int i=0;i&lt;numFilosofi;++i){\r\n    \t\t\tforchette[i] = new Forchetta(i);\r\n    \t\t}\r\n    \r\n    \t\tint sxForkIndex,dxForkIndex;\r\n    \t\tfor(int i=0;i&lt;numFilosofi;++i){\r\n    \t\t\tsxForkIndex = i-1;\r\n    \t\t\tdxForkIndex = i;\r\n    \t\t\tif (i==0)\r\n    \t\t\t\tsxForkIndex = numFilosofi-1;\r\n    \t\t\tfilosofi[i] = new Filosofo(forchette[sxForkIndex],forchette[dxForkIndex],i);\r\n    \t\t\tfilosofi[i].start();\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\nFilosofo.java (it should break the circular wait because I am making the thread 0 doing something different!):\r\n\r\n    package esempio2;\r\n    \r\n    public class Filosofo extends Thread{\r\n    \tint id;\r\n    \tForchetta forchettaSx;\r\n    \tForchetta forchettaDx;\r\n    \r\n    \tpublic Filosofo(Forchetta forchettaSx, Forchetta forchettaDx, int id){\r\n    \t\tthis.id = id;\r\n    \t\tthis.forchettaSx = forchettaSx;\r\n    \t\tthis.forchettaDx = forchettaDx;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run(){\r\n    \r\n    \t\twhile(true){\r\n    \t\t\tif (this.id==0){ // THIS SHOULD BREAK THE CIRCULAR WAIT\r\n    \t\t\t\tthis.forchettaSx.prendiFork(this.id);\r\n    \t\t\t\tSystem.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha preso forchetta sx num &quot;+this.forchettaSx.id);\r\n    \t\t\t\tthis.forchettaDx.prendiFork(this.id);\r\n    \t\t\t\tSystem.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha preso forchetta dx num &quot;+this.forchettaDx.id);\r\n    \t\t\t\tthis.forchettaSx.posaFork(this.id);\r\n    \t\t\t\tSystem.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha posato forchetta sx num &quot;+this.forchettaSx.id);\r\n    \t\t\t\tthis.forchettaDx.posaFork(this.id);\r\n    \t\t\t\tSystem.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha posato forchetta dx num &quot;+this.forchettaDx.id);\r\n    \t\t\t} else{\r\n    \t\t\t\tthis.forchettaDx.prendiFork(this.id);\t\r\n    \t\t\t\tSystem.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha preso forchetta dx num &quot;+this.forchettaDx.id);\r\n    \t\t\t\tthis.forchettaSx.prendiFork(this.id);\r\n    \t\t\t\tSystem.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha preso forchetta sx num &quot;+this.forchettaSx.id);\r\n    \t\t\t\tthis.forchettaDx.posaFork(this.id);\r\n    \t\t\t\tSystem.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha posato forchetta Dx num &quot;+this.forchettaDx.id);\r\n    \t\t\t\tthis.forchettaSx.posaFork(this.id);\r\n    \t\t\t\tSystem.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha posato forchetta Sx num &quot;+this.forchettaSx.id);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nForchetta.java\r\n\r\n    package esempio2;\r\n    \r\n    public class Forchetta {\r\n    \tint id;\r\n    \tboolean libera = true;\r\n    \r\n    \tpublic Forchetta(int id){\r\n    \t\tthis.id=id;\r\n    \t}\r\n    \r\n    \tpublic synchronized void prendiFork(int idFilosofo){\r\n    \t\twhile(libera==false){\r\n    \t\t\ttry{\r\n    \t\t\t\tSystem.out.println(&quot;Il filosofo num &quot;+idFilosofo+&quot; NON puo prendere forchetta num &quot;+this.id);\r\n    \t\t\t\twait();\r\n    \t\t\t} catch(InterruptedException e){\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tthis.libera=false;\r\n    \r\n    \t}\r\n    \r\n    \tpublic synchronized void posaFork(int idFilosofo){\r\n    \t\tthis.libera=true;\r\n    \t\tnotifyAll();\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\nBasically, if I remove the `if` statement and make all the threads do the same thing, it breaks immediately and goes deadlock. However, If I add that `if`, it doesn&#39;t freeze immediately, but only after some minutes. Why does this happen?\r\n\r\nIf I write `if (this.id%2 == 0)` instead of `if (this.id==0)`, it seems not to freeze! Why?","title":"Why does this code have deadlock? I&#39;ve broken the circular wait, so it should&#39;t happen (dining philosophers)","body":"<p>Main.java:</p>\n<pre><code>package esempio2;\n\npublic class Main {\n\n    public static void main(String args[]){\n        int numFilosofi = 5;\n        Forchetta forchette[] = new Forchetta[numFilosofi];\n        Filosofo filosofi[] = new Filosofo[numFilosofi];\n\n        for(int i=0;i&lt;numFilosofi;++i){\n            forchette[i] = new Forchetta(i);\n        }\n\n        int sxForkIndex,dxForkIndex;\n        for(int i=0;i&lt;numFilosofi;++i){\n            sxForkIndex = i-1;\n            dxForkIndex = i;\n            if (i==0)\n                sxForkIndex = numFilosofi-1;\n            filosofi[i] = new Filosofo(forchette[sxForkIndex],forchette[dxForkIndex],i);\n            filosofi[i].start();\n            \n        }\n    }\n\n}\n</code></pre>\n<p>Filosofo.java (it should break the circular wait because I am making the thread 0 doing something different!):</p>\n<pre><code>package esempio2;\n\npublic class Filosofo extends Thread{\n    int id;\n    Forchetta forchettaSx;\n    Forchetta forchettaDx;\n\n    public Filosofo(Forchetta forchettaSx, Forchetta forchettaDx, int id){\n        this.id = id;\n        this.forchettaSx = forchettaSx;\n        this.forchettaDx = forchettaDx;\n    }\n\n    @Override\n    public void run(){\n\n        while(true){\n            if (this.id==0){ // THIS SHOULD BREAK THE CIRCULAR WAIT\n                this.forchettaSx.prendiFork(this.id);\n                System.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha preso forchetta sx num &quot;+this.forchettaSx.id);\n                this.forchettaDx.prendiFork(this.id);\n                System.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha preso forchetta dx num &quot;+this.forchettaDx.id);\n                this.forchettaSx.posaFork(this.id);\n                System.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha posato forchetta sx num &quot;+this.forchettaSx.id);\n                this.forchettaDx.posaFork(this.id);\n                System.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha posato forchetta dx num &quot;+this.forchettaDx.id);\n            } else{\n                this.forchettaDx.prendiFork(this.id);   \n                System.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha preso forchetta dx num &quot;+this.forchettaDx.id);\n                this.forchettaSx.prendiFork(this.id);\n                System.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha preso forchetta sx num &quot;+this.forchettaSx.id);\n                this.forchettaDx.posaFork(this.id);\n                System.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha posato forchetta Dx num &quot;+this.forchettaDx.id);\n                this.forchettaSx.posaFork(this.id);\n                System.out.println(&quot;Il filosofo num &quot;+this.id+&quot; ha posato forchetta Sx num &quot;+this.forchettaSx.id);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Forchetta.java</p>\n<pre><code>package esempio2;\n\npublic class Forchetta {\n    int id;\n    boolean libera = true;\n\n    public Forchetta(int id){\n        this.id=id;\n    }\n\n    public synchronized void prendiFork(int idFilosofo){\n        while(libera==false){\n            try{\n                System.out.println(&quot;Il filosofo num &quot;+idFilosofo+&quot; NON puo prendere forchetta num &quot;+this.id);\n                wait();\n            } catch(InterruptedException e){\n                e.printStackTrace();\n            }\n        }\n        this.libera=false;\n\n    }\n\n    public synchronized void posaFork(int idFilosofo){\n        this.libera=true;\n        notifyAll();\n    }\n}\n</code></pre>\n<p>Basically, if I remove the <code>if</code> statement and make all the threads do the same thing, it breaks immediately and goes deadlock. However, If I add that <code>if</code>, it doesn't freeze immediately, but only after some minutes. Why does this happen?</p>\n<p>If I write <code>if (this.id%2 == 0)</code> instead of <code>if (this.id==0)</code>, it seems not to freeze! Why?</p>\n"},{"tags":["java","android","mockito","samsung-mobile-sdk","android-jetifier"],"answers":[{"tags":[],"owner":{"account_id":910424,"reputation":7617,"user_id":944412,"accept_rate":40,"display_name":"Gaurav Vashisth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1541974898,"creation_date":1541974898,"answer_id":53253827,"question_id":53224778,"body_markdown":"Couldn&#39;t find any answer for last 3 days, so I just removed META-INF from the samsung accessory jar.\r\n\r\n\r\n    jar xvf accessory-2.6.1..jar\r\n\r\n    rm -rf META-INF\r\n\r\n    jar cvf accessory-2.6.1-updated..jar *\r\n\r\nNow will need to check if the accessory apis are working or not.","title":"AndroidX Jetifier Mockito java.lang.SecurityException: SHA-256 digest error for com/samsung/android/sdk/accessory/SAAgentV2.class","body":"<p>Couldn't find any answer for last 3 days, so I just removed META-INF from the samsung accessory jar.</p>\n\n<pre><code>jar xvf accessory-2.6.1..jar\n\nrm -rf META-INF\n\njar cvf accessory-2.6.1-updated..jar *\n</code></pre>\n\n<p>Now will need to check if the accessory apis are working or not.</p>\n"},{"tags":[],"owner":{"account_id":10458612,"reputation":101,"user_id":7710119,"display_name":"Danielle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556556728,"creation_date":1556556728,"answer_id":55907735,"question_id":53224778,"body_markdown":"In Android Studio preferences, you can turn off Instant Run. This seemed to fix the issue for our app&#39;s build without any other changes. It&#39;s in Preferences &gt; Build, Execution, Environment &gt; Instant Run. ","title":"AndroidX Jetifier Mockito java.lang.SecurityException: SHA-256 digest error for com/samsung/android/sdk/accessory/SAAgentV2.class","body":"<p>In Android Studio preferences, you can turn off Instant Run. This seemed to fix the issue for our app's build without any other changes. It's in Preferences > Build, Execution, Environment > Instant Run. </p>\n"}],"owner":{"account_id":910424,"reputation":7617,"user_id":944412,"accept_rate":40,"display_name":"Gaurav Vashisth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53253827,"answer_count":2,"score":2,"last_activity_date":1653899793,"creation_date":1541762470,"question_id":53224778,"body_markdown":"I am migrating my app to use [AndroidX][1]. I have enabled Jetifier in my gradle.properties file \r\n\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\n\r\nI use mockito in some tests. After migration a few tests fail where mockito is not able to mock classes which use [Samsung accessory sdks][2] version 2.6.1 . \r\n\r\nPart of exception log is as under\r\n\r\n&gt; Caused by: java.lang.SecurityException: SHA-256 digest error for\r\n&gt; com/samsung/android/sdk/accessory/SAAgentV2.class \tat\r\n&gt; sun.security.util.ManifestEntryVerifier.verify(ManifestEntryVerifier.java:218)\r\n&gt; \tat java.util.jar.JarVerifier.processEntry(JarVerifier.java:241) \tat\r\n&gt; java.util.jar.JarVerifier.update(JarVerifier.java:228) \tat\r\n&gt; java.util.jar.JarVerifier$VerifierStream.read(JarVerifier.java:482)\r\n&gt; \tat sun.misc.Resource.getBytes(Resource.java:124) \tat\r\n&gt; java.net.URLClassLoader.defineClass(URLClassLoader.java:462)\r\n\r\nI believe this happens due to a signed jar being edited by jetifier. \r\nWhat can be done to overcome this issue?\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/migrate\r\n  [2]: https://developer.samsung.com/galaxy/accessory#","title":"AndroidX Jetifier Mockito java.lang.SecurityException: SHA-256 digest error for com/samsung/android/sdk/accessory/SAAgentV2.class","body":"<p>I am migrating my app to use <a href=\"https://developer.android.com/jetpack/androidx/migrate\" rel=\"nofollow noreferrer\">AndroidX</a>. I have enabled Jetifier in my gradle.properties file </p>\n\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n\n<p>I use mockito in some tests. After migration a few tests fail where mockito is not able to mock classes which use <a href=\"https://developer.samsung.com/galaxy/accessory#\" rel=\"nofollow noreferrer\">Samsung accessory sdks</a> version 2.6.1 . </p>\n\n<p>Part of exception log is as under</p>\n\n<blockquote>\n  <p>Caused by: java.lang.SecurityException: SHA-256 digest error for\n  com/samsung/android/sdk/accessory/SAAgentV2.class     at\n  sun.security.util.ManifestEntryVerifier.verify(ManifestEntryVerifier.java:218)\n    at java.util.jar.JarVerifier.processEntry(JarVerifier.java:241)     at\n  java.util.jar.JarVerifier.update(JarVerifier.java:228)    at\n  java.util.jar.JarVerifier$VerifierStream.read(JarVerifier.java:482)\n    at sun.misc.Resource.getBytes(Resource.java:124)    at\n  java.net.URLClassLoader.defineClass(URLClassLoader.java:462)</p>\n</blockquote>\n\n<p>I believe this happens due to a signed jar being edited by jetifier. \nWhat can be done to overcome this issue?</p>\n"},{"tags":["java","rounding"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1433441220,"post_id":30650834,"comment_id":49365454,"body_markdown":"Which version of Java is that and on which platform? It prints 1714 on my machine, both in Java 1.7 and Java 1.8.","body":"Which version of Java is that and on which platform? It prints 1714 on my machine, both in Java 1.7 and Java 1.8."},{"owner":{"account_id":309680,"reputation":4046,"user_id":622266,"accept_rate":60,"display_name":"Pawel Veselov"},"score":0,"creation_date":1433441442,"post_id":30650834,"comment_id":49365570,"body_markdown":"Prints 1713 on JDK 1.8b25, 64bit, Linux.","body":"Prints 1713 on JDK 1.8b25, 64bit, Linux."}],"answers":[{"tags":[],"owner":{"account_id":5920076,"reputation":2135,"user_id":4657645,"display_name":"Rajesh"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1433444134,"creation_date":1433442113,"answer_id":30651330,"question_id":30650834,"body_markdown":"Ideone is using sun-jdk-8u25 where this buggy behavior is appearing.\r\n\r\nOn Java 1.7, I&#39;m getting HALF_UP   : 1714    1714 which is right.\r\n\r\nenum RoundingMode - Specifies a rounding behavior for numerical operations capable of discarding precision.\r\n   \r\n\r\n[See Oracle javadoc: Result of rounding input to one digit with the given rounding mode[Rounding Mode Table] ][1]\r\n\r\n\r\n \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\r\n\r\n\r\n","title":"Why does HALF_UP sometimes round down with double?","body":"<p>Ideone is using sun-jdk-8u25 where this buggy behavior is appearing.</p>\n\n<p>On Java 1.7, I'm getting HALF_UP   : 1714    1714 which is right.</p>\n\n<p>enum RoundingMode - Specifies a rounding behavior for numerical operations capable of discarding precision.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\" rel=\"nofollow\">See Oracle javadoc: Result of rounding input to one digit with the given rounding mode[Rounding Mode Table] </a></p>\n"},{"tags":[],"owner":{"account_id":2742245,"reputation":10850,"user_id":2363517,"display_name":"mszalbach"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1653899635,"creation_date":1433442952,"answer_id":30651564,"question_id":30650834,"body_markdown":"There was a bug in Java 8 regarding the NumberFormat and RoundingMod HALF_UP see [8039915][1]. This was fixed with 8u40 ([Release Notes][2]).\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8039915\r\n  [2]: http://www.oracle.com/technetwork/java/javase/2col/8u40-bugfixes-2423829.html","title":"Why does HALF_UP sometimes round down with double?","body":"<p>There was a bug in Java 8 regarding the NumberFormat and RoundingMod HALF_UP see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8039915\" rel=\"nofollow noreferrer\">8039915</a>. This was fixed with 8u40 (<a href=\"http://www.oracle.com/technetwork/java/javase/2col/8u40-bugfixes-2423829.html\" rel=\"nofollow noreferrer\">Release Notes</a>).</p>\n"}],"owner":{"account_id":257549,"reputation":4988,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":963,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":30651564,"answer_count":2,"score":10,"last_activity_date":1653899635,"creation_date":1433440448,"question_id":30650834,"body_markdown":"The following code:\r\n\r\n    double doubleValue = 1713.6;\r\n    float floatValue = 1713.6f;\r\n    String fs = &quot;%-9s : %-7s %-7s\\n&quot;;\r\n    System.out.printf( fs, &quot;&quot;, &quot;double&quot;, &quot;float&quot; );\r\n    \r\n    DecimalFormat format = new DecimalFormat(&quot;#0&quot;);\r\n    System.out.printf( fs, &quot;toString&quot;, String.valueOf( doubleValue ), String.valueOf( floatValue ) );\r\n    \r\n    format.setRoundingMode( RoundingMode.DOWN );\r\n    System.out.printf( fs, &quot;DOWN&quot;, format.format( doubleValue ), format.format( floatValue ) );\r\n    \r\n    format.setRoundingMode( RoundingMode.HALF_DOWN );\r\n    System.out.printf( fs, &quot;HALF_DOWN&quot;, format.format( doubleValue ), format.format( floatValue ) );\r\n    \r\n    format.setRoundingMode( RoundingMode.HALF_UP );\r\n    System.out.printf( fs, &quot;HALF_UP&quot;, format.format( doubleValue ), format.format( floatValue ) );\r\n\r\n    format.setRoundingMode( RoundingMode.UP );\r\n    System.out.printf( fs, &quot;UP&quot;, format.format( doubleValue ), format.format( floatValue ) );\r\n\r\nProduces the result ([live code][1]):\r\n\r\n              : double  float  \r\n    toString  : 1713.6  1713.6 \r\n    DOWN      : 1713    1713   \r\n    HALF_DOWN : 1714    1714   \r\n    HALF_UP   : 1713    1714   &lt;--- notice this line\r\n    UP        : 1714    1714   \r\n\r\nI know that certain numbers cannot be represented exactly as floating-point numbers. The actual floating-point representation for 1713.6 is 1713.5999755859375 (see [this page][2]).\r\n\r\nBut **why does HALF_UP round *down* in this case?**\r\n\r\nUsing Java 1.8u25\r\n\r\n  [1]: https://ideone.com/ZohDaA\r\n  [2]: http://www.h-schmidt.net/FloatConverter/IEEE754.html","title":"Why does HALF_UP sometimes round down with double?","body":"<p>The following code:</p>\n\n<pre><code>double doubleValue = 1713.6;\nfloat floatValue = 1713.6f;\nString fs = \"%-9s : %-7s %-7s\\n\";\nSystem.out.printf( fs, \"\", \"double\", \"float\" );\n\nDecimalFormat format = new DecimalFormat(\"#0\");\nSystem.out.printf( fs, \"toString\", String.valueOf( doubleValue ), String.valueOf( floatValue ) );\n\nformat.setRoundingMode( RoundingMode.DOWN );\nSystem.out.printf( fs, \"DOWN\", format.format( doubleValue ), format.format( floatValue ) );\n\nformat.setRoundingMode( RoundingMode.HALF_DOWN );\nSystem.out.printf( fs, \"HALF_DOWN\", format.format( doubleValue ), format.format( floatValue ) );\n\nformat.setRoundingMode( RoundingMode.HALF_UP );\nSystem.out.printf( fs, \"HALF_UP\", format.format( doubleValue ), format.format( floatValue ) );\n\nformat.setRoundingMode( RoundingMode.UP );\nSystem.out.printf( fs, \"UP\", format.format( doubleValue ), format.format( floatValue ) );\n</code></pre>\n\n<p>Produces the result (<a href=\"https://ideone.com/ZohDaA\" rel=\"nofollow\">live code</a>):</p>\n\n<pre><code>          : double  float  \ntoString  : 1713.6  1713.6 \nDOWN      : 1713    1713   \nHALF_DOWN : 1714    1714   \nHALF_UP   : 1713    1714   &lt;--- notice this line\nUP        : 1714    1714   \n</code></pre>\n\n<p>I know that certain numbers cannot be represented exactly as floating-point numbers. The actual floating-point representation for 1713.6 is 1713.5999755859375 (see <a href=\"http://www.h-schmidt.net/FloatConverter/IEEE754.html\" rel=\"nofollow\">this page</a>).</p>\n\n<p>But <strong>why does HALF_UP round <em>down</em> in this case?</strong></p>\n\n<p>Using Java 1.8u25</p>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1653899595,"post_id":72431357,"comment_id":127955345,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/javax/swing/JTabbedPane.html","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JTabbedPane.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/javax/swing/JTabbedPane.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653899660,"post_id":72431357,"comment_id":127955370,"body_markdown":"[How to Use Tabbed Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/tabbedpane.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/tabbedpane.html\" rel=\"nofollow noreferrer\">How to Use Tabbed Panes</a>"}],"answers":[{"tags":[],"owner":{"account_id":25424392,"reputation":69,"user_id":19229766,"display_name":"TwoOfTwelve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653899618,"creation_date":1653899618,"answer_id":72431387,"question_id":72431357,"body_markdown":"It is called a TabbedPane in swing. Take a look at [this][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/tabbedpane.html","title":"There is a way to create a JPanel chooser in java?","body":"<p>It is called a TabbedPane in swing. Take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/tabbedpane.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":12391719,"reputation":1,"user_id":9033480,"display_name":"Yurim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1653899662,"answer_count":1,"score":-2,"last_activity_date":1653899618,"creation_date":1653899482,"question_id":72431357,"body_markdown":"[Im trying to create a layout in java swing that has the possibility to change from some JPanels like this:][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gOqfF.png\r\n\r\nHow Can i do that thing in java?","title":"There is a way to create a JPanel chooser in java?","body":"<p><a href=\"https://i.stack.imgur.com/gOqfF.png\" rel=\"nofollow noreferrer\">Im trying to create a layout in java swing that has the possibility to change from some JPanels like this:</a></p>\n<p>How Can i do that thing in java?</p>\n"},{"tags":["java","spring","spring-boot","session-cookies","spring-session"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653898972,"post_id":72423816,"comment_id":127955127,"body_markdown":"The first will fail as that is getting the request attributes. The second is the way to do it. If it doesn&#39;t you are doing something weird or the name doesn&#39;t match.","body":"The first will fail as that is getting the request attributes. The second is the way to do it. If it doesn&#39;t you are doing something weird or the name doesn&#39;t match."}],"answers":[{"tags":[],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653831138,"creation_date":1653831138,"answer_id":72424088,"question_id":72423816,"body_markdown":"You can access session directly with `HttpSession`:\r\n```\r\nimport javax.servlet.http.HttpSession;\r\n\r\n// for instance\r\n@GetMapping(&quot;test&quot;)\r\npublic void test(HttpSession session) {\r\n  session.getAttribute(&quot;Travis&quot;);\r\n}\r\n```","title":"How to get Spring Boot session attributes several request layers down","body":"<p>You can access session directly with <code>HttpSession</code>:</p>\n<pre><code>import javax.servlet.http.HttpSession;\n\n// for instance\n@GetMapping(&quot;test&quot;)\npublic void test(HttpSession session) {\n  session.getAttribute(&quot;Travis&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11435843,"reputation":331,"user_id":8383265,"display_name":"iamtravisw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653899549,"creation_date":1653899549,"answer_id":72431368,"question_id":72423816,"body_markdown":"I was able to get the data by using the HazelcastHttpSession. HazelcastHttpSession session. \r\n\r\n```Object value = session.getOriginalSession().getAttribute(&quot;Travis&quot;);```","title":"How to get Spring Boot session attributes several request layers down","body":"<p>I was able to get the data by using the HazelcastHttpSession. HazelcastHttpSession session.</p>\n<p><code>Object value = session.getOriginalSession().getAttribute(&quot;Travis&quot;);</code></p>\n"}],"owner":{"account_id":11435843,"reputation":331,"user_id":8383265,"display_name":"iamtravisw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":975,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72431368,"answer_count":2,"score":0,"last_activity_date":1653899549,"creation_date":1653828765,"question_id":72423816,"body_markdown":"Is there a way to get request.request.request.session.attributes as seen in the hierarchy in the image? I have tried the following:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```Object value = request.getAttribute(&quot;Travis&quot;);```\r\n\r\nand\r\n\r\n```Object value2 = request.getSession().getAttribute(&quot;Travis&quot;);```\r\n\r\nHowever, both return null. I have confirmed the session Id is correct.\r\n\r\nIs there a way to grab values from the request this deep down? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wiwwl.png","title":"How to get Spring Boot session attributes several request layers down","body":"<p>Is there a way to get request.request.request.session.attributes as seen in the hierarchy in the image? I have tried the following:</p>\n<p><a href=\"https://i.stack.imgur.com/Wiwwl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wiwwl.png\" alt=\"enter image description here\" /></a></p>\n<p><code>Object value = request.getAttribute(&quot;Travis&quot;);</code></p>\n<p>and</p>\n<p><code>Object value2 = request.getSession().getAttribute(&quot;Travis&quot;);</code></p>\n<p>However, both return null. I have confirmed the session Id is correct.</p>\n<p>Is there a way to grab values from the request this deep down?</p>\n"},{"tags":["java","intellij-idea","junit"],"answers":[{"tags":[],"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653898669,"creation_date":1653898669,"answer_id":72431167,"question_id":72430964,"body_markdown":"You may put caret on method name, press &quot;Alt+Enter&quot; and select &quot;Add static import for ...&quot; ","title":"Auto static import in IntelliJ","body":"<p>You may put caret on method name, press &quot;Alt+Enter&quot; and select &quot;Add static import for ...&quot;</p>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653899188,"creation_date":1653899188,"answer_id":72431286,"question_id":72430964,"body_markdown":"You can configure your IDE to automatically import static functions/vars from specific packages with `*`. \r\nThis is the way to do it:\r\n\r\n1) `Settings -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Imports (tab)`\r\n2) Add your package name inside \r\n[![enter image description here][1]][1]\r\n\r\nIt will result in a `*` import though and you may not want this effect. But I do not know of any other way.\r\n\r\nThe good thing about this method is that the functions will be available for auto completion and that makes your life easier :)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZPcG9.png","title":"Auto static import in IntelliJ","body":"<p>You can configure your IDE to automatically import static functions/vars from specific packages with <code>*</code>.\nThis is the way to do it:</p>\n<ol>\n<li><code>Settings -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Imports (tab)</code></li>\n<li>Add your package name inside\n<a href=\"https://i.stack.imgur.com/ZPcG9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZPcG9.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>It will result in a <code>*</code> import though and you may not want this effect. But I do not know of any other way.</p>\n<p>The good thing about this method is that the functions will be available for auto completion and that makes your life easier :)</p>\n"}],"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":933,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72431167,"answer_count":2,"score":0,"last_activity_date":1653899425,"creation_date":1653897678,"question_id":72430964,"body_markdown":"In below piece of code I have used Class name to import static methods in IntelliJ IDEA 2022 Community Edition \r\n   \r\n\r\n    BDDMockito.given(employeeRepository.findByEmail(employee.getEmail()))\r\n        .willReturn(Optional.empty());\r\n    BDDMockito.given(employeeRepository.save(employee)).willReturn(employee);\r\n\r\nIs there any way or keyboard shortcut that can remove the class name and use static import like this:\r\n\r\n\r\n    import static org.mockito.BDDMockito.given;\r\n    \r\n    given(employeeRepository.findByEmail(employee.getEmail()))\r\n        .willReturn(Optional.empty());\r\n    given(employeeRepository.save(employee)).willReturn(employee);\r\n\r\n\r\nI googled lot and read IntelliJ articles but could not find any solution. Any IntelliJ expert can help me here? \r\n","title":"Auto static import in IntelliJ","body":"<p>In below piece of code I have used Class name to import static methods in IntelliJ IDEA 2022 Community Edition</p>\n<pre><code>BDDMockito.given(employeeRepository.findByEmail(employee.getEmail()))\n    .willReturn(Optional.empty());\nBDDMockito.given(employeeRepository.save(employee)).willReturn(employee);\n</code></pre>\n<p>Is there any way or keyboard shortcut that can remove the class name and use static import like this:</p>\n<pre><code>import static org.mockito.BDDMockito.given;\n\ngiven(employeeRepository.findByEmail(employee.getEmail()))\n    .willReturn(Optional.empty());\ngiven(employeeRepository.save(employee)).willReturn(employee);\n</code></pre>\n<p>I googled lot and read IntelliJ articles but could not find any solution. Any IntelliJ expert can help me here?</p>\n"},{"tags":["java","elasticsearch","junit","hibernate-search"],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653899398,"creation_date":1653899398,"answer_id":72431335,"question_id":72430785,"body_markdown":"I wouldn&#39;t call these &quot;unit&quot; tests since you&#39;re also testing an integration to another piece of software (Elasticsearch). What you&#39;re doing is, IMO, clearly integration tests.\r\n\r\nThe easiest way to spin up Elasticsearch in your tests is probably to use [TestContainers](https://www.testcontainers.org/):\r\n\r\n* Here&#39;s how to spin up an Elasticsearch container: https://www.testcontainers.org/modules/elasticsearch/\r\n* Here&#39;s how to do that in JUnit 4: https://www.testcontainers.org/test_framework_integration/junit_4/\r\n\r\nIf you use [Quarkus](https://quarkus.io/), it&#39;s even easier as Quarkus will spin up an Elasticsearch instance automatically for your tests, thanks to [Dev Services](https://quarkus.io/guides/elasticsearch-dev-services).\r\n\r\nAs to initializing/resetting your indexes, it depends how you run your tests.\r\n\r\nIf you start up a whole application for each test, you can just take advantage of [automatic schema management](https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#mapper-orm-schema-management-strategy) to have Hibernate Search reset the indexes on startup/tear-down: just set `hibernate.search.schema_management.strategy` to `drop-and-create-and-drop` in your test configuration.\r\n\r\nIf you start your application only once for your whole test class (that&#39;s typically the case for Spring tests) or test suite, then you can add methods annotated with JUnit&#39;s `@Before`/`@After` to manually re-create the indexes before or after each test, using Hibernate Search [schema management API](https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#mapper-orm-schema-management-manager). JUnit provides various ways of writing that kind of code once and reusing it in all your tests: &quot;rules&quot; in JUnit 4, &quot;extensions&quot; in JUnit 5, ... But that will require more JUnit expertise.","title":"Unit testing hibernate search with elastic backend","body":"<p>I wouldn't call these &quot;unit&quot; tests since you're also testing an integration to another piece of software (Elasticsearch). What you're doing is, IMO, clearly integration tests.</p>\n<p>The easiest way to spin up Elasticsearch in your tests is probably to use <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">TestContainers</a>:</p>\n<ul>\n<li>Here's how to spin up an Elasticsearch container: <a href=\"https://www.testcontainers.org/modules/elasticsearch/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/modules/elasticsearch/</a></li>\n<li>Here's how to do that in JUnit 4: <a href=\"https://www.testcontainers.org/test_framework_integration/junit_4/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/test_framework_integration/junit_4/</a></li>\n</ul>\n<p>If you use <a href=\"https://quarkus.io/\" rel=\"nofollow noreferrer\">Quarkus</a>, it's even easier as Quarkus will spin up an Elasticsearch instance automatically for your tests, thanks to <a href=\"https://quarkus.io/guides/elasticsearch-dev-services\" rel=\"nofollow noreferrer\">Dev Services</a>.</p>\n<p>As to initializing/resetting your indexes, it depends how you run your tests.</p>\n<p>If you start up a whole application for each test, you can just take advantage of <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#mapper-orm-schema-management-strategy\" rel=\"nofollow noreferrer\">automatic schema management</a> to have Hibernate Search reset the indexes on startup/tear-down: just set <code>hibernate.search.schema_management.strategy</code> to <code>drop-and-create-and-drop</code> in your test configuration.</p>\n<p>If you start your application only once for your whole test class (that's typically the case for Spring tests) or test suite, then you can add methods annotated with JUnit's <code>@Before</code>/<code>@After</code> to manually re-create the indexes before or after each test, using Hibernate Search <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#mapper-orm-schema-management-manager\" rel=\"nofollow noreferrer\">schema management API</a>. JUnit provides various ways of writing that kind of code once and reusing it in all your tests: &quot;rules&quot; in JUnit 4, &quot;extensions&quot; in JUnit 5, ... But that will require more JUnit expertise.</p>\n"}],"owner":{"account_id":2497210,"reputation":1189,"user_id":2173320,"accept_rate":65,"display_name":"padmalcom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72431335,"answer_count":1,"score":1,"last_activity_date":1653899398,"creation_date":1653896819,"question_id":72430785,"body_markdown":"We are using hibernate search and its orm mapper together with JPA for our Java based search services. The challenge I&#39;m facing is to write unit tests, such as:\r\n\r\n- Insert JPA entity car &quot;tesla v3&quot;\r\n- Search for &quot;tesla&quot;\r\n- Validate the JPA entity &quot;tesla v3&quot; to be contained in the result set of hibernate search\r\n\r\nTo do so, my first thought was to run some kind of in-memory, single node elastic cluster, test against this cluster, and tear it down afterwards. But it seems that there exists no such thing.\r\n\r\nThe official documentation (https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/) does not explain unit testing for hibernate search.\r\n\r\nNow I&#39;m curious how you test your hibernate search implementations. Do I need a test instance? Do you rename your indices for testing and clear it before each test run?\r\n\r\nI&#39;m grateful for every input!","title":"Unit testing hibernate search with elastic backend","body":"<p>We are using hibernate search and its orm mapper together with JPA for our Java based search services. The challenge I'm facing is to write unit tests, such as:</p>\n<ul>\n<li>Insert JPA entity car &quot;tesla v3&quot;</li>\n<li>Search for &quot;tesla&quot;</li>\n<li>Validate the JPA entity &quot;tesla v3&quot; to be contained in the result set of hibernate search</li>\n</ul>\n<p>To do so, my first thought was to run some kind of in-memory, single node elastic cluster, test against this cluster, and tear it down afterwards. But it seems that there exists no such thing.</p>\n<p>The official documentation (<a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/</a>) does not explain unit testing for hibernate search.</p>\n<p>Now I'm curious how you test your hibernate search implementations. Do I need a test instance? Do you rename your indices for testing and clear it before each test run?</p>\n<p>I'm grateful for every input!</p>\n"},{"tags":["java","singleton"],"comments":[{"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"score":0,"creation_date":1386326922,"post_id":20421920,"comment_id":30501763,"body_markdown":"actually this code is wrong, the uninitialized Singleton may be assigned to singleInstance before the constructor finishes","body":"actually this code is wrong, the uninitialized Singleton may be assigned to singleInstance before the constructor finishes"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1386326985,"post_id":20421920,"comment_id":30501799,"body_markdown":"removed ee tag as there is nothing ee-specific about this question","body":"removed ee tag as there is nothing ee-specific about this question"},{"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"score":0,"creation_date":1386327055,"post_id":20421920,"comment_id":30501843,"body_markdown":"@ratchetfreak you mean `private static Singleton singleInstance= new Singleton()`   ?","body":"@ratchetfreak you mean <code>private static Singleton singleInstance= new Singleton()</code>   ?"},{"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"score":1,"creation_date":1386327221,"post_id":20421920,"comment_id":30501941,"body_markdown":"@sᴜʀᴇsʜᴀᴛᴛᴀ no I mean that the allocated object is stored in `singleInstance` before the constructor runs, this means that another thread may access the uninitialized singleton which can lead to errors","body":"@sᴜʀᴇsʜᴀᴛᴛᴀ no I mean that the allocated object is stored in <code>singleInstance</code> before the constructor runs, this means that another thread may access the uninitialized singleton which can lead to errors"},{"owner":{"account_id":13737414,"reputation":613,"user_id":10147834,"display_name":"Sara"},"score":0,"creation_date":1640358318,"post_id":20421920,"comment_id":124577176,"body_markdown":"@ratchetfreak we&#39;d need to use volatile here, then?","body":"@ratchetfreak we&#39;d need to use volatile here, then?"}],"answers":[{"tags":[],"owner":{"account_id":2988754,"reputation":5716,"user_id":2536842,"accept_rate":64,"display_name":"Dylan Meeus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386326854,"creation_date":1386326854,"answer_id":20421967,"question_id":20421920,"body_markdown":"Multithreading is the biggest issue with singletons. \r\nYou can avoid that by synchronizing or using eager initialisation.\r\n\r\nAnother way would be to use singleton where you&#39;re not supposed to. By using the singleton pattern you might apply it in a way that obstructs your program in later development. (E.G, creating a singleton &quot;player&quot; in a game, because you assume it&#39;s a singleplayer game. Next step in development &quot;add co-op functionality&quot;). \r\n\r\nThe singleton pattern has it&#39;s advantages, but don&#39;t use it without carefull consideration.\r\n\r\n","title":"What are the different ways we can break a singleton pattern in Java","body":"<p>Multithreading is the biggest issue with singletons. \nYou can avoid that by synchronizing or using eager initialisation.</p>\n\n<p>Another way would be to use singleton where you're not supposed to. By using the singleton pattern you might apply it in a way that obstructs your program in later development. (E.G, creating a singleton \"player\" in a game, because you assume it's a singleplayer game. Next step in development \"add co-op functionality\"). </p>\n\n<p>The singleton pattern has it's advantages, but don't use it without carefull consideration.</p>\n"},{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1386326952,"creation_date":1386326900,"answer_id":20421983,"question_id":20421920,"body_markdown":"AFAIK, there are two ways it could be broken\r\n\r\n- Using Reflection\r\n    \r\n- When there are custom classloaders, more than one (i.e. parent class loader).all singletons should be loaded by common parent classloader.","title":"What are the different ways we can break a singleton pattern in Java","body":"<p>AFAIK, there are two ways it could be broken</p>\n\n<ul>\n<li><p>Using Reflection</p></li>\n<li><p>When there are custom classloaders, more than one (i.e. parent class loader).all singletons should be loaded by common parent classloader.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386326968,"creation_date":1386326968,"answer_id":20422004,"question_id":20421920,"body_markdown":"A note first: It would be better in this case, mainly for readability, to make the whole `getSingleInstance() { }` `synchronized`:\r\n\r\n\tpublic synchronized static Singleton getSingleInstance() {\r\n\t\tif (singleInstance == null) {\r\n\t\t\tsingleInstance = new Singleton();\r\n\t\t}\r\n\t\treturn singleInstance;\r\n\t}\r\n\r\n\r\nOther than that, I don&#39;t think it is easy to break the code. Of course if you add recursive calls then it is possible to break it, like this:\r\n\r\n- Call the constructor of some other class inside this `Singleton`&#39;s constructor.\r\n- In the constructor of that class, try to obtain this `Singleton` instance.\r\n\r\nBut that&#39;s the only thing I can think about, and you cannot protect yourself from that in the `Singleton` class.","title":"What are the different ways we can break a singleton pattern in Java","body":"<p>A note first: It would be better in this case, mainly for readability, to make the whole <code>getSingleInstance() { }</code> <code>synchronized</code>:</p>\n\n<pre><code>public synchronized static Singleton getSingleInstance() {\n    if (singleInstance == null) {\n        singleInstance = new Singleton();\n    }\n    return singleInstance;\n}\n</code></pre>\n\n<p>Other than that, I don't think it is easy to break the code. Of course if you add recursive calls then it is possible to break it, like this:</p>\n\n<ul>\n<li>Call the constructor of some other class inside this <code>Singleton</code>'s constructor.</li>\n<li>In the constructor of that class, try to obtain this <code>Singleton</code> instance.</li>\n</ul>\n\n<p>But that's the only thing I can think about, and you cannot protect yourself from that in the <code>Singleton</code> class.</p>\n"},{"tags":[],"owner":{"account_id":431486,"reputation":3641,"user_id":815566,"accept_rate":81,"display_name":"Satheesh Cheveri"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1651346749,"creation_date":1386326999,"answer_id":20422020,"question_id":20421920,"body_markdown":"Starting with your given code, &quot;Double-Checked Locking&quot; can be broken at some environment,\r\nWhen run on a system using the Symantec JIT, it doesn&#39;t work. In particular, the Symantec JIT compiles\r\n\r\n    singletons[i].reference = new Singleton();\r\n\r\nto the following (note that the Symantec JIT using a handle-based object allocation system).\r\n\r\n    0206106A   mov         eax,0F97E78h\r\n    0206106F   call        01F6B210                  ; allocate space for\r\n                                                     ; Singleton, return result in eax\r\n    02061074   mov         dword ptr [ebp],eax       ; EBP is &amp;singletons[i].reference \r\n                                                    ; store the unconstructed object here.\r\n    02061077   mov         ecx,dword ptr [eax]       ; dereference the handle to\r\n                                                     ; get the raw pointer\r\n    02061079   mov         dword ptr [ecx],100h      ; Next 4 lines are\r\n    0206107F   mov         dword ptr [ecx+4],200h    ; Singleton&#39;s inlined constructor\r\n    02061086   mov         dword ptr [ecx+8],400h\r\n    0206108D   mov         dword ptr [ecx+0Ch],0F84030h\r\n\r\nAs you can see, the assignment to singletons[i].reference is performed before the constructor for Singleton is called. This is completely legal under the existing Java memory model, and also legal in C and C++ (since neither of them have a memory model).\r\n\r\nhttp://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html\r\n\r\n\r\nApart from that\r\n\r\n\r\n1. It can break if the class is `Serializable`\r\n2. It can break if its &#39;Clonable`\r\n3. You can break by `Reflection` (I believe)\r\n4. it can break ff multiple classloaders are loaded the class\r\n\r\n-----------\r\n\r\n****How do you solve rule breakers?***\r\n\r\n1. It is much safer to do eager initialization \r\n2. To prevent deserializing to create new object\r\nyou may override `readResolve()` method in your class and throw exception\r\n3. To prevent cloning, \r\nyou may overrride `clone()` and throw `CloneNotSupported` exception\r\n4. To escape for reflective instantion, we can add check in the constructor and  throw exception. \r\n\r\n\r\n**Example**\r\n\r\n\r\n\r\n    public class Singleton {\r\n     \r\n        private static final Singleton INSTANCE = new Singleton();\r\n     \r\n        private Singleton() {\r\n            // Check if we already have an instance\r\n            if (INSTANCE != null) {\r\n               throw new IllegalStateException(&quot;Singleton&quot; +\r\n                 &quot; instance already created.&quot;);\r\n            }\r\n        }\r\n        public static final Singleton getInstance() {\r\n            return INSTANCE;\r\n        }\r\n        private Object readResolve() throws ObjectStreamException         {\r\n                return INSTANCE;\r\n        }\r\n        private Object writeReplace() throws ObjectStreamException {\r\n                return INSTANCE;\r\n        }\r\n        public Object clone() throws CloneNotSupportedException {\r\n        \t// return INSTANCE\r\n        \tthrow new CloneNotSupportedException();\r\n        }\r\n    }\r\n\r\n\r\n--------------\r\n\r\nAfter all I would suggest to use Enum as the safest way for Singleton (Since java5 the best way to do it is to use an enum)\r\n\r\n    public static enum SingletonFactory {\r\n        INSTANCE;\r\n        public static SingletonFactory getInstance() {\r\n            return INSTANCE;\r\n        }\r\n    }","title":"What are the different ways we can break a singleton pattern in Java","body":"<p>Starting with your given code, &quot;Double-Checked Locking&quot; can be broken at some environment,\nWhen run on a system using the Symantec JIT, it doesn't work. In particular, the Symantec JIT compiles</p>\n<pre><code>singletons[i].reference = new Singleton();\n</code></pre>\n<p>to the following (note that the Symantec JIT using a handle-based object allocation system).</p>\n<pre><code>0206106A   mov         eax,0F97E78h\n0206106F   call        01F6B210                  ; allocate space for\n                                                 ; Singleton, return result in eax\n02061074   mov         dword ptr [ebp],eax       ; EBP is &amp;singletons[i].reference \n                                                ; store the unconstructed object here.\n02061077   mov         ecx,dword ptr [eax]       ; dereference the handle to\n                                                 ; get the raw pointer\n02061079   mov         dword ptr [ecx],100h      ; Next 4 lines are\n0206107F   mov         dword ptr [ecx+4],200h    ; Singleton's inlined constructor\n02061086   mov         dword ptr [ecx+8],400h\n0206108D   mov         dword ptr [ecx+0Ch],0F84030h\n</code></pre>\n<p>As you can see, the assignment to singletons[i].reference is performed before the constructor for Singleton is called. This is completely legal under the existing Java memory model, and also legal in C and C++ (since neither of them have a memory model).</p>\n<p><a href=\"http://www.cs.umd.edu/%7Epugh/java/memoryModel/DoubleCheckedLocking.html\" rel=\"nofollow noreferrer\">http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html</a></p>\n<p>Apart from that</p>\n<ol>\n<li>It can break if the class is <code>Serializable</code></li>\n<li>It can break if its 'Clonable`</li>\n<li>You can break by <code>Reflection</code> (I believe)</li>\n<li>it can break ff multiple classloaders are loaded the class</li>\n</ol>\n<hr />\n<p>*<em><strong>How do you solve rule breakers?</strong></em></p>\n<ol>\n<li>It is much safer to do eager initialization</li>\n<li>To prevent deserializing to create new object\nyou may override <code>readResolve()</code> method in your class and throw exception</li>\n<li>To prevent cloning,\nyou may overrride <code>clone()</code> and throw <code>CloneNotSupported</code> exception</li>\n<li>To escape for reflective instantion, we can add check in the constructor and  throw exception.</li>\n</ol>\n<p><strong>Example</strong></p>\n<pre><code>public class Singleton {\n \n    private static final Singleton INSTANCE = new Singleton();\n \n    private Singleton() {\n        // Check if we already have an instance\n        if (INSTANCE != null) {\n           throw new IllegalStateException(&quot;Singleton&quot; +\n             &quot; instance already created.&quot;);\n        }\n    }\n    public static final Singleton getInstance() {\n        return INSTANCE;\n    }\n    private Object readResolve() throws ObjectStreamException         {\n            return INSTANCE;\n    }\n    private Object writeReplace() throws ObjectStreamException {\n            return INSTANCE;\n    }\n    public Object clone() throws CloneNotSupportedException {\n        // return INSTANCE\n        throw new CloneNotSupportedException();\n    }\n}\n</code></pre>\n<hr />\n<p>After all I would suggest to use Enum as the safest way for Singleton (Since java5 the best way to do it is to use an enum)</p>\n<pre><code>public static enum SingletonFactory {\n    INSTANCE;\n    public static SingletonFactory getInstance() {\n        return INSTANCE;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386328350,"creation_date":1386327056,"answer_id":20422039,"question_id":20421920,"body_markdown":"One way is Serialization. If you do not implement readResolve then reading a singleton with ObjectInputStream.readObject() will return a new instance of this singleton.","title":"What are the different ways we can break a singleton pattern in Java","body":"<p>One way is Serialization. If you do not implement readResolve then reading a singleton with ObjectInputStream.readObject() will return a new instance of this singleton.</p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386328055,"creation_date":1386327120,"answer_id":20422065,"question_id":20421920,"body_markdown":"Actually a safe version without the need for synchronization is [the version with a nested holder class][1]:\r\n\r\n    public final class Singleton{\r\n    \r\n      public static final Singleton getInstance(){\r\n        // no need for synchronization since the classloader guarantees to initialize\r\n        // Holder.INSTANCE exactly once before handing out a reference to it\r\n        return Holder.INSTANCE;\r\n      }\r\n      private Singleton();\r\n      private static class Holder{\r\n        private static final Singleton INSTANCE = new Singleton();\r\n      }\r\n    }\r\n\r\nOther safe versions are:\r\n\r\n - [Eager initialization][2]  \r\n\r\n        public final class Singleton{\r\n            public static final Singleton getInstance(){\r\n                return INSTANCE;\r\n            }\r\n            private Singleton();\r\n            private static final Singleton INSTANCE = new Singleton();\r\n        }\r\n\r\n - [Enum Singleton][3]\r\n\r\n        public enum Singleton{\r\n            INSTANCE;\r\n        }\r\n\r\nAll of these versions have pros and cons, but none of them needs explicit synchronization since they all rely on the ClassLoader and its built-in Thread safety.\r\n\r\nAs the others have written, you can break some of these patterns through Deserialization. Read Effective Java by Joshua Bloch (Items 74 to 78) about preventing such attacks (the enum singleton pattern is safe against such attacks out of the box).\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Singleton_pattern#The_solution_of_Bill_Pugh &quot;Wikipedia calls this: The solution of Bill Pugh&quot;\r\n  [2]: http://en.wikipedia.org/wiki/Singleton_pattern#Eager_initialization\r\n  [3]: http://en.wikipedia.org/wiki/Singleton_pattern#The_Enum_way","title":"What are the different ways we can break a singleton pattern in Java","body":"<p>Actually a safe version without the need for synchronization is <a href=\"http://en.wikipedia.org/wiki/Singleton_pattern#The_solution_of_Bill_Pugh\" rel=\"nofollow\" title=\"Wikipedia calls this: The solution of Bill Pugh\">the version with a nested holder class</a>:</p>\n\n<pre><code>public final class Singleton{\n\n  public static final Singleton getInstance(){\n    // no need for synchronization since the classloader guarantees to initialize\n    // Holder.INSTANCE exactly once before handing out a reference to it\n    return Holder.INSTANCE;\n  }\n  private Singleton();\n  private static class Holder{\n    private static final Singleton INSTANCE = new Singleton();\n  }\n}\n</code></pre>\n\n<p>Other safe versions are:</p>\n\n<ul>\n<li><p><a href=\"http://en.wikipedia.org/wiki/Singleton_pattern#Eager_initialization\" rel=\"nofollow\">Eager initialization</a>  </p>\n\n<pre><code>public final class Singleton{\n    public static final Singleton getInstance(){\n        return INSTANCE;\n    }\n    private Singleton();\n    private static final Singleton INSTANCE = new Singleton();\n}\n</code></pre></li>\n<li><p><a href=\"http://en.wikipedia.org/wiki/Singleton_pattern#The_Enum_way\" rel=\"nofollow\">Enum Singleton</a></p>\n\n<pre><code>public enum Singleton{\n    INSTANCE;\n}\n</code></pre></li>\n</ul>\n\n<p>All of these versions have pros and cons, but none of them needs explicit synchronization since they all rely on the ClassLoader and its built-in Thread safety.</p>\n\n<p>As the others have written, you can break some of these patterns through Deserialization. Read Effective Java by Joshua Bloch (Items 74 to 78) about preventing such attacks (the enum singleton pattern is safe against such attacks out of the box).</p>\n"},{"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1386327651,"creation_date":1386327651,"answer_id":20422226,"question_id":20421920,"body_markdown":"The synchronized approach will work, but will also slow down every access to the singleton to protect something that only ever happens in the first access.\r\n\r\nThe simplest and safest way is just to do eager initialization, that is always safe as Java guarantees all member variables are set before it lets anyone access them.\r\n\r\n    public class Singleton {\r\n        private static Singleton singleInstance = new Singleton();\r\n\r\n        private Singleton() {\r\n        }\r\n\r\n        public static Singleton getSingleInstance() {\r\n            return singleInstance;\r\n        }\r\n    }\r\n\r\nYour current approach is actually broken even with your synchronized loop - because double-check locking is broken. You need to mark the singleton variable as `volatile` if you are going to use it for double-check locking since otherwise there are still ways for threads to access an incompletely-initialized object. See http://en.wikipedia.org/wiki/Double-checked_locking#Usage_in_Java for more details.\r\n\r\n","title":"What are the different ways we can break a singleton pattern in Java","body":"<p>The synchronized approach will work, but will also slow down every access to the singleton to protect something that only ever happens in the first access.</p>\n\n<p>The simplest and safest way is just to do eager initialization, that is always safe as Java guarantees all member variables are set before it lets anyone access them.</p>\n\n<pre><code>public class Singleton {\n    private static Singleton singleInstance = new Singleton();\n\n    private Singleton() {\n    }\n\n    public static Singleton getSingleInstance() {\n        return singleInstance;\n    }\n}\n</code></pre>\n\n<p>Your current approach is actually broken even with your synchronized loop - because double-check locking is broken. You need to mark the singleton variable as <code>volatile</code> if you are going to use it for double-check locking since otherwise there are still ways for threads to access an incompletely-initialized object. See <a href=\"http://en.wikipedia.org/wiki/Double-checked_locking#Usage_in_Java\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Double-checked_locking#Usage_in_Java</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":3169537,"reputation":199,"user_id":2678855,"accept_rate":25,"display_name":"Kuldeep Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441721092,"creation_date":1441721092,"answer_id":32459930,"question_id":20421920,"body_markdown":"Suppose you have implemented Singleton class as &quot;SingletonPattern&quot; as below.\r\n    package com.example.pattern;\r\n\r\n\r\n    public class SingletonPattern\r\n    {\r\n      private static SingletonPattern pattern;\r\n    \r\n      public static SingletonPattern getInstance()\r\n      {\r\n        if (pattern == null)\r\n        {\r\n          synchronized (SingletonPattern.class)\r\n          {\r\n            if (pattern == null)\r\n            {\r\n              pattern = new SingletonPattern();\r\n            }\r\n          }\r\n        }\r\n        return pattern;\r\n      }\r\n    }\r\nNow you can break you the Singleton behavior of this class by using following approach.\r\n  \r\n    Class c = Class.forName(&quot;com.example.pattern.SingletonPattern&quot;);\r\n    System.out.println((SingltonPattern) c.newInstance());\r\n\r\n","title":"What are the different ways we can break a singleton pattern in Java","body":"<p>Suppose you have implemented Singleton class as \"SingletonPattern\" as below.\n    package com.example.pattern;</p>\n\n<pre><code>public class SingletonPattern\n{\n  private static SingletonPattern pattern;\n\n  public static SingletonPattern getInstance()\n  {\n    if (pattern == null)\n    {\n      synchronized (SingletonPattern.class)\n      {\n        if (pattern == null)\n        {\n          pattern = new SingletonPattern();\n        }\n      }\n    }\n    return pattern;\n  }\n}\n</code></pre>\n\n<p>Now you can break you the Singleton behavior of this class by using following approach.</p>\n\n<pre><code>Class c = Class.forName(\"com.example.pattern.SingletonPattern\");\nSystem.out.println((SingltonPattern) c.newInstance());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3030319,"reputation":1688,"user_id":2569475,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457158208,"creation_date":1457157292,"answer_id":35810656,"question_id":20421920,"body_markdown":"    import java.io.Serializable;\r\n\r\n    public class Singleton implements Serializable,Cloneable{\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate static Singleton singleton=null;\r\n\tprivate Singleton(){\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static Singleton getInstance(){\r\n\t\tif(singleton==null){\r\n\t\t\tsingleton=new Singleton();\r\n\t\t}\r\n\t\treturn singleton;\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic Object clone() throws CloneNotSupportedException{\r\n\t\treturn super.clone();\r\n\t}\r\n    }\r\n\r\n\r\n** Singleton Test **\r\n   \r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.ObjectInputStream;\r\n    import java.io.ObjectOutputStream;\r\n    import java.lang.reflect.Constructor;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n\r\n    /***\r\n     * \r\n     * Ways to break Singleton\r\n     */\r\n    public class Main {\r\n\r\n\tprivate static ObjectInputStream inputStream;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSingleton orginalSingletonObject = Singleton.getInstance();\r\n\r\n\t\t/***\r\n\t\t * Singleton is broken by using Reflection\r\n\t\t */\r\n\t\tbreakSingletonByReflection(orginalSingletonObject);\r\n\r\n\t\t/***\r\n\t\t * By Serialization/De-Serialization break Singleton We need\r\n\t\t * Serialization interface in a class nedds to be serialized like\r\n\t\t * Singleton.java\r\n\t\t */\r\n\t\tbreakSingletonByserialization(orginalSingletonObject);\r\n\t\t\r\n\t\t/***\r\n\t\t * By Cloning break Singleton\r\n\t\t * We need to implement Cloneable interface\r\n\t\t */\r\n\t\tbreakSingletonByCloning(orginalSingletonObject);\r\n\t\t\r\n\t\t\r\n\t\t/***\r\n\t\t * Break Singleton By thread\r\n\t\t * This scenario is related to multi-threading environment\r\n\t\t * \r\n\t\t */\r\n\t\t\r\n\t\tbreakSingletonByThreading(orginalSingletonObject);\r\n\t}\r\n\r\n\tprivate static void breakSingletonByThreading(Singleton orginalSingletonObject) {\r\n\t\t\r\n\t\tExecutorService executorService=Executors.newFixedThreadPool(2);\r\n\t\t/**\r\n\t\t * Run this code snippet after commenting the other code for better understanding\r\n\t\t * Run it repeatly to create a condition when 2 threads enter the method getInstance() of Singleton class at a same time \r\n\t\t * When 2 threads enter the getInstance method at same time they will get the singleton object as null (private static Singleton singleton in Singleton.java)\r\n\t\t * Then they will create two different objects ( have different hashcode) in this case singleton pattern will break.\r\n\t\t */\r\n\t\texecutorService.submit(Main::useSingleton); // JAVA 8 syntax it will get the singleton instance\r\n\t\texecutorService.submit(Main::useSingleton);\r\n\t\texecutorService.shutdown();\r\n\t}\r\n\r\n\tpublic static void useSingleton(){\r\n\t\tSingleton singleton=Singleton.getInstance();\r\n\t\tprintSingletonData(&quot;By Threading&quot;, singleton);\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\tprivate static void breakSingletonByCloning(Singleton orginalSingletonObject) throws CloneNotSupportedException {\r\n\t\tSingleton clonedSingletonObject=(Singleton) orginalSingletonObject.clone();\r\n\t\tprintSingletonData(&quot;By Cloning&quot;, orginalSingletonObject, clonedSingletonObject);\r\n\t}\r\n\r\n\tprivate static void breakSingletonByReflection(Singleton orginalsingleton)\r\n\t\t\tthrows ClassNotFoundException, NoSuchMethodException,\r\n\t\t\tInstantiationException, IllegalAccessException,\r\n\t\t\tInvocationTargetException {\r\n\t\t\r\n\t\tClass&lt;?&gt; singletonClass = Class.forName(&quot;SingletonTest.Singleton&quot;);\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tConstructor&lt;Singleton&gt; constructor = (Constructor&lt;Singleton&gt;) singletonClass\r\n\t\t\t\t.getDeclaredConstructor();\r\n\t\tconstructor.setAccessible(true);\r\n\t\tSingleton s = constructor.newInstance();\r\n\t\tprintSingletonData(&quot;By Reflection&quot;, orginalsingleton, s);\r\n\t}\r\n\r\n\tprivate static void breakSingletonByserialization(Singleton orginalsingleton)\r\n\t\t\tthrows FileNotFoundException, IOException, ClassNotFoundException {\r\n\r\n\t\t/**\r\n\t\t * Serialization\r\n\t\t */\r\n\t\tObjectOutputStream outputStream = new ObjectOutputStream(new FileOutputStream(&quot;E:\\\\Singleton.ser&quot;));\r\n\t\toutputStream.writeObject(orginalsingleton);\r\n\t\toutputStream.close();\r\n\r\n\t\t/**\r\n\t\t * DeSerialization\r\n\t\t */\r\n\t\tinputStream = new ObjectInputStream(new FileInputStream(&quot;E:\\\\Singleton.ser&quot;));\r\n\r\n\t\tSingleton deserializeObject = (Singleton) inputStream.readObject();\r\n\t\tdeserializeObject.hashCode();\r\n\t\tprintSingletonData(&quot;By Serialization&quot;, orginalsingleton, deserializeObject);\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void printSingletonData(String operationName,\r\n\t\t\tSingleton orginalsingleton, Singleton reflectionSigletonObject) {\r\n\t\t\r\n\t\tSystem.out.println(&quot;------------------------------------------&quot;);\r\n\t\tSystem.out.println(&quot;New Operation&quot;);\r\n\t\tSystem.out.println(operationName);\r\n\t\tSystem.out.println(&quot;orginal Hashcode=&quot; + orginalsingleton.hashCode());\r\n\t\tSystem.out.println(&quot;New Object hashcode=&quot;\r\n\t\t\t\t+ reflectionSigletonObject.hashCode());\r\n\t\tBoolean value = orginalsingleton.hashCode() != reflectionSigletonObject.hashCode();\r\n\t\tSystem.out.println(&quot;These Object have different hascode. They are two different object Right = &quot;\r\n\t\t\t\t\t\t+ value);\r\n\t\tSystem.out.println(&quot;As these are different Object this means Singleton Pattern is broken&quot;);\r\n\t}\r\n\t\r\n\r\n\tprivate static void printSingletonData(String operationName,Singleton singleton) {\r\n\r\n\t\t\r\n\t\tSystem.out.println(&quot;------------------------------------------&quot;);\r\n\t\tSystem.out.println(&quot;New Operation&quot;);\r\n\t\tSystem.out.println(operationName);\r\n\t\tSystem.out.println(&quot;Object hashcode=&quot;\t+ singleton.hashCode());\r\n\t\t\t\r\n\t}\r\n    }\r\n    ","title":"What are the different ways we can break a singleton pattern in Java","body":"<pre><code>import java.io.Serializable;\n\npublic class Singleton implements Serializable,Cloneable{\n\nprivate static final long serialVersionUID = 1L;\n\nprivate static Singleton singleton=null;\nprivate Singleton(){\n\n}\n\npublic static Singleton getInstance(){\n    if(singleton==null){\n        singleton=new Singleton();\n    }\n    return singleton;   \n}\n\n@Override\npublic Object clone() throws CloneNotSupportedException{\n    return super.clone();\n}\n}\n</code></pre>\n\n<p>** Singleton Test **</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.ObjectInputStream;\nimport java.io.ObjectOutputStream;\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.InvocationTargetException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\n/***\n * \n * Ways to break Singleton\n */\npublic class Main {\n\nprivate static ObjectInputStream inputStream;\n\npublic static void main(String[] args) throws Exception {\n    Singleton orginalSingletonObject = Singleton.getInstance();\n\n    /***\n     * Singleton is broken by using Reflection\n     */\n    breakSingletonByReflection(orginalSingletonObject);\n\n    /***\n     * By Serialization/De-Serialization break Singleton We need\n     * Serialization interface in a class nedds to be serialized like\n     * Singleton.java\n     */\n    breakSingletonByserialization(orginalSingletonObject);\n\n    /***\n     * By Cloning break Singleton\n     * We need to implement Cloneable interface\n     */\n    breakSingletonByCloning(orginalSingletonObject);\n\n\n    /***\n     * Break Singleton By thread\n     * This scenario is related to multi-threading environment\n     * \n     */\n\n    breakSingletonByThreading(orginalSingletonObject);\n}\n\nprivate static void breakSingletonByThreading(Singleton orginalSingletonObject) {\n\n    ExecutorService executorService=Executors.newFixedThreadPool(2);\n    /**\n     * Run this code snippet after commenting the other code for better understanding\n     * Run it repeatly to create a condition when 2 threads enter the method getInstance() of Singleton class at a same time \n     * When 2 threads enter the getInstance method at same time they will get the singleton object as null (private static Singleton singleton in Singleton.java)\n     * Then they will create two different objects ( have different hashcode) in this case singleton pattern will break.\n     */\n    executorService.submit(Main::useSingleton); // JAVA 8 syntax it will get the singleton instance\n    executorService.submit(Main::useSingleton);\n    executorService.shutdown();\n}\n\npublic static void useSingleton(){\n    Singleton singleton=Singleton.getInstance();\n    printSingletonData(\"By Threading\", singleton);\n\n}\n\n\nprivate static void breakSingletonByCloning(Singleton orginalSingletonObject) throws CloneNotSupportedException {\n    Singleton clonedSingletonObject=(Singleton) orginalSingletonObject.clone();\n    printSingletonData(\"By Cloning\", orginalSingletonObject, clonedSingletonObject);\n}\n\nprivate static void breakSingletonByReflection(Singleton orginalsingleton)\n        throws ClassNotFoundException, NoSuchMethodException,\n        InstantiationException, IllegalAccessException,\n        InvocationTargetException {\n\n    Class&lt;?&gt; singletonClass = Class.forName(\"SingletonTest.Singleton\");\n    @SuppressWarnings(\"unchecked\")\n    Constructor&lt;Singleton&gt; constructor = (Constructor&lt;Singleton&gt;) singletonClass\n            .getDeclaredConstructor();\n    constructor.setAccessible(true);\n    Singleton s = constructor.newInstance();\n    printSingletonData(\"By Reflection\", orginalsingleton, s);\n}\n\nprivate static void breakSingletonByserialization(Singleton orginalsingleton)\n        throws FileNotFoundException, IOException, ClassNotFoundException {\n\n    /**\n     * Serialization\n     */\n    ObjectOutputStream outputStream = new ObjectOutputStream(new FileOutputStream(\"E:\\\\Singleton.ser\"));\n    outputStream.writeObject(orginalsingleton);\n    outputStream.close();\n\n    /**\n     * DeSerialization\n     */\n    inputStream = new ObjectInputStream(new FileInputStream(\"E:\\\\Singleton.ser\"));\n\n    Singleton deserializeObject = (Singleton) inputStream.readObject();\n    deserializeObject.hashCode();\n    printSingletonData(\"By Serialization\", orginalsingleton, deserializeObject);\n\n\n}\n\npublic static void printSingletonData(String operationName,\n        Singleton orginalsingleton, Singleton reflectionSigletonObject) {\n\n    System.out.println(\"------------------------------------------\");\n    System.out.println(\"New Operation\");\n    System.out.println(operationName);\n    System.out.println(\"orginal Hashcode=\" + orginalsingleton.hashCode());\n    System.out.println(\"New Object hashcode=\"\n            + reflectionSigletonObject.hashCode());\n    Boolean value = orginalsingleton.hashCode() != reflectionSigletonObject.hashCode();\n    System.out.println(\"These Object have different hascode. They are two different object Right = \"\n                    + value);\n    System.out.println(\"As these are different Object this means Singleton Pattern is broken\");\n}\n\n\nprivate static void printSingletonData(String operationName,Singleton singleton) {\n\n\n    System.out.println(\"------------------------------------------\");\n    System.out.println(\"New Operation\");\n    System.out.println(operationName);\n    System.out.println(\"Object hashcode=\"   + singleton.hashCode());\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6947469,"reputation":31,"user_id":5331350,"display_name":"Dharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501738297,"creation_date":1501738297,"answer_id":45475593,"question_id":20421920,"body_markdown":" Class cls = Singleton.class;\r\n\r\n        Constructor constructor = cls.getDeclaredConstructor();\r\n        constructor.setAccessible(true);\r\n\r\n        Singleton singleton = (Singleton) constructor.newInstance();","title":"What are the different ways we can break a singleton pattern in Java","body":"<p>Class cls = Singleton.class;</p>\n\n<pre><code>    Constructor constructor = cls.getDeclaredConstructor();\n    constructor.setAccessible(true);\n\n    Singleton singleton = (Singleton) constructor.newInstance();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15382265,"reputation":1,"user_id":11097373,"display_name":"Amit Banger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582788397,"creation_date":1582788397,"answer_id":60428169,"question_id":20421920,"body_markdown":"You can go through this link, there are different ways to break and prevent the singleton class:\r\n\r\n[Ways to break/prevent singleton class][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/prevent-singleton-pattern-reflection-serialization-cloning/","title":"What are the different ways we can break a singleton pattern in Java","body":"<p>You can go through this link, there are different ways to break and prevent the singleton class:</p>\n\n<p><a href=\"https://www.geeksforgeeks.org/prevent-singleton-pattern-reflection-serialization-cloning/\" rel=\"nofollow noreferrer\">Ways to break/prevent singleton class</a></p>\n"},{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653899172,"creation_date":1653899172,"answer_id":72431281,"question_id":20421920,"body_markdown":"There are mainly 3 concepts that can break the singleton property of a class.\r\n\t\r\n\t1. Reflection: Reflection can be caused to destroy the singleton property of the singleton class.\r\n\r\n\t2. Serialization:- Serialization can also cause breakage of singleton property of singleton classes.\r\n\r\n\t3. Cloning: Cloning is a concept to create duplicate objects. Using clone we can create a copy of an object.***","title":"What are the different ways we can break a singleton pattern in Java","body":"<p>There are mainly 3 concepts that can break the singleton property of a class.</p>\n<pre><code>1. Reflection: Reflection can be caused to destroy the singleton property of the singleton class.\n\n2. Serialization:- Serialization can also cause breakage of singleton property of singleton classes.\n\n3. Cloning: Cloning is a concept to create duplicate objects. Using clone we can create a copy of an object.***\n</code></pre>\n"}],"owner":{"account_id":1755328,"reputation":379,"user_id":1603525,"accept_rate":25,"display_name":"Harsha_2012"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44467,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":12,"score":14,"last_activity_date":1653899172,"creation_date":1386326644,"question_id":20421920,"body_markdown":"What are the different ways we can break a singleton pattern in Java. \r\nI know one way i.e. if we do not synchronize the method in singleton , then we can create more than an instance of the class. So synchronization is applied. Is there a way to break singleton java class.\r\n\r\n\tpublic class Singleton {\r\n\t\tprivate static Singleton singleInstance;\r\n\t\t\r\n\t\tprivate Singleton() {\r\n\t\t}\r\n\t\t\r\n\t\tpublic static Singleton getSingleInstance() {\r\n\t\t\tif (singleInstance == null) {\r\n\t\t\t\tsynchronized (Singleton.class) {\r\n\t\t\t\t\tif (singleInstance == null) {\r\n\t\t\t\t\t    singleInstance = new Singleton();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn singleInstance;\r\n\t\t}\r\n\t}","title":"What are the different ways we can break a singleton pattern in Java","body":"<p>What are the different ways we can break a singleton pattern in Java. \nI know one way i.e. if we do not synchronize the method in singleton , then we can create more than an instance of the class. So synchronization is applied. Is there a way to break singleton java class.</p>\n\n<pre><code>public class Singleton {\n    private static Singleton singleInstance;\n\n    private Singleton() {\n    }\n\n    public static Singleton getSingleInstance() {\n        if (singleInstance == null) {\n            synchronized (Singleton.class) {\n                if (singleInstance == null) {\n                    singleInstance = new Singleton();\n                }\n            }\n        }\n        return singleInstance;\n    }\n}\n</code></pre>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":1,"creation_date":1653891793,"post_id":72429880,"comment_id":127952975,"body_markdown":"Why do you want to have better ways ? Are you having any performance issues ? Or you want to shorten the code ?","body":"Why do you want to have better ways ? Are you having any performance issues ? Or you want to shorten the code ?"},{"owner":{"account_id":12210510,"reputation":145,"user_id":8912412,"display_name":"Jaideep Sagar"},"score":0,"creation_date":1653891806,"post_id":72429880,"comment_id":127952978,"body_markdown":"What is wrong with the current method?","body":"What is wrong with the current method?"},{"owner":{"account_id":70917,"reputation":17743,"user_id":205233,"accept_rate":90,"display_name":"Filburt"},"score":1,"creation_date":1653891967,"post_id":72429880,"comment_id":127953011,"body_markdown":"How about formatting/indentation? That would be a guaranteed win.","body":"How about formatting/indentation? That would be a guaranteed win."},{"owner":{"account_id":4916843,"reputation":1175,"user_id":3960567,"accept_rate":50,"display_name":"Ren&#233; Jahn"},"score":1,"creation_date":1653892017,"post_id":72429880,"comment_id":127953026,"body_markdown":"For general help on writing code you could have a look at https://softwareengineering.stackexchange.com/","body":"For general help on writing code you could have a look at <a href=\"https://softwareengineering.stackexchange.com/\">softwareengineering.stackexchange.com</a>"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1653892060,"post_id":72429880,"comment_id":127953037,"body_markdown":"You could use a regular for loop instead of a for-each and use the counter as index, but that would just shorten this code by two lines.","body":"You could use a regular for loop instead of a for-each and use the counter as index, but that would just shorten this code by two lines."}],"answers":[{"tags":[],"owner":{"account_id":9190353,"reputation":457,"user_id":6831116,"display_name":"Gopinath Radhakrishnan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653892894,"creation_date":1653892894,"answer_id":72430098,"question_id":72429880,"body_markdown":"I hope you are using Java 8, if so below code might work for you\r\n\r\n```\r\n    List&lt;String&gt; listOfSqls = IntStream.range(0,listToIterate.size())\r\n        .mapToObj(index -&gt; getSomeParameterisedSql(&quot;PARAM&quot; + index, &quot;PARAM_PREFIX&quot; + index, listToIterate.get(index)))\r\n        .collect(Collectors.toList());\r\n```","title":"Looking for recommendations to improve this Java code","body":"<p>I hope you are using Java 8, if so below code might work for you</p>\n<pre><code>    List&lt;String&gt; listOfSqls = IntStream.range(0,listToIterate.size())\n        .mapToObj(index -&gt; getSomeParameterisedSql(&quot;PARAM&quot; + index, &quot;PARAM_PREFIX&quot; + index, listToIterate.get(index)))\n        .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":8176872,"reputation":47,"user_id":6155341,"display_name":"itisha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653899126,"creation_date":1653891496,"question_id":72429880,"body_markdown":"I am trying to append indexes with constants and get some sql. Currently I am just iterating over a list using for loop. I am looking for better ways of doing the same.\r\n\r\n```lang-java\r\nList&lt;String&gt; list1 = new ArrayList&lt;&gt;();\r\nInteger index = 0;\r\n\r\nfor (String str : listToIterate) {\r\n    String param1 = &quot;PARAM&quot; + index;\r\n    String prefixParam1 = &quot;PARAM_PREFIX&quot; + index;\r\n    list1.add(getSomeParameterisedSql(param1, prefixParam1, str));\r\n    index = index + 1;\r\n}\r\n```","title":"Looking for recommendations to improve this Java code","body":"<p>I am trying to append indexes with constants and get some sql. Currently I am just iterating over a list using for loop. I am looking for better ways of doing the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; list1 = new ArrayList&lt;&gt;();\nInteger index = 0;\n\nfor (String str : listToIterate) {\n    String param1 = &quot;PARAM&quot; + index;\n    String prefixParam1 = &quot;PARAM_PREFIX&quot; + index;\n    list1.add(getSomeParameterisedSql(param1, prefixParam1, str));\n    index = index + 1;\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1653644249,"post_id":72403169,"comment_id":127905817,"body_markdown":"The base path is the module where the test is running, and not the parent module. In your case mod1.  If you don&#39;t want to hardcode the path, then define it in application.properties in the resource folder of your test folder. And create a similar property for the source code.","body":"The base path is the module where the test is running, and not the parent module. In your case mod1.  If you don&#39;t want to hardcode the path, then define it in application.properties in the resource folder of your test folder. And create a similar property for the source code."},{"owner":{"account_id":17073907,"reputation":71,"user_id":12353951,"display_name":"fresh learning"},"score":0,"creation_date":1653726589,"post_id":72403169,"comment_id":127924939,"body_markdown":"that sounds good, which property are you referring to？is server.servlet.context-path ？but as far as i know, it is for http access.","body":"that sounds good, which property are you referring to？is server.servlet.context-path ？but as far as i know, it is for http access."}],"answers":[{"tags":[],"owner":{"account_id":17073907,"reputation":71,"user_id":12353951,"display_name":"fresh learning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653899061,"creation_date":1653899061,"answer_id":72431250,"question_id":72403169,"body_markdown":"this problem solved by change the run configuration of unit test. The intellij idea default test template which set the `Working deretory` as `$MODULE_WORKING_DIR$` lead to this problem, change to empty works fine.","title":"File not found in springboot test class at multi-module Springboot project","body":"<p>this problem solved by change the run configuration of unit test. The intellij idea default test template which set the <code>Working deretory</code> as <code>$MODULE_WORKING_DIR$</code> lead to this problem, change to empty works fine.</p>\n"}],"owner":{"account_id":17073907,"reputation":71,"user_id":12353951,"display_name":"fresh learning"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653899061,"creation_date":1653643158,"question_id":72403169,"body_markdown":"I&#39;ve a multi-module springboot project, the structure is shown below:\r\n\r\n[![prj structure][1]][1]\r\n\r\nThere&#39;s a config file below the project root path, the ServiceTest class is a bean and will read the file when project started. \r\n\r\n```\r\n@Service\r\npublic class ServiceTest {\r\n\r\n    String PATH = &quot;conf/config&quot;;\r\n\r\n    @PostConstruct\r\n    public void readConf() throws IOException {\r\n\r\n        File file = new File(PATH);\r\n\r\n        String fileStr =  FileUtils.readFileToString(file,&quot;utf-8&quot;);\r\n\r\n        System.out.println(&quot;init success, config: &quot;+fileStr);\r\n\r\n    }\r\n}\r\n```\r\nWhen project started, it performs fine with no error.\r\n```\r\n2022-05-27 17:06:16.779  INFO 18644 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-05-27 17:06:16.779  INFO 18644 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.62]\r\n2022-05-27 17:06:16.842  INFO 18644 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-05-27 17:06:16.842  INFO 18644 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 584 ms\r\ninit success, config: abc\r\n2022-05-27 17:06:17.038  INFO 18644 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2022-05-27 17:06:17.043  INFO 18644 --- [           main] com.test.App                             : Started App in 1.013 seconds (JVM running for 1.456)\r\n2022-05-27 17:06:17.074  INFO 18644 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-05-27 17:06:17.074  INFO 18644 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-05-27 17:06:17.075  INFO 18644 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n```\r\nbut when i started project with springboot test class, a FileNotFoundException occured.\r\n```\r\nCaused by: java.io.FileNotFoundException: File &#39;conf\\config&#39; does not exist\r\n\tat org.apache.commons.io.FileUtils.openInputStream(FileUtils.java:297)\r\n\tat org.apache.commons.io.FileUtils.readFileToString(FileUtils.java:1805)\r\n\tat org.apache.commons.io.FileUtils.readFileToString(FileUtils.java:1822)\r\n\tat com.test.service.ServiceTest.readConf(ServiceTest.java:25)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n```\r\nWhen I change the path in service class from `conf/config` to `../conf/config`, the test class is fine. I want to know how can I run the test class without change the file path. Is there any configure param in application.properties like classpath related? \r\n\r\n  [1]: https://i.stack.imgur.com/Rrubz.png","title":"File not found in springboot test class at multi-module Springboot project","body":"<p>I've a multi-module springboot project, the structure is shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/Rrubz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rrubz.png\" alt=\"prj structure\" /></a></p>\n<p>There's a config file below the project root path, the ServiceTest class is a bean and will read the file when project started.</p>\n<pre><code>@Service\npublic class ServiceTest {\n\n    String PATH = &quot;conf/config&quot;;\n\n    @PostConstruct\n    public void readConf() throws IOException {\n\n        File file = new File(PATH);\n\n        String fileStr =  FileUtils.readFileToString(file,&quot;utf-8&quot;);\n\n        System.out.println(&quot;init success, config: &quot;+fileStr);\n\n    }\n}\n</code></pre>\n<p>When project started, it performs fine with no error.</p>\n<pre><code>2022-05-27 17:06:16.779  INFO 18644 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-05-27 17:06:16.779  INFO 18644 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.62]\n2022-05-27 17:06:16.842  INFO 18644 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-05-27 17:06:16.842  INFO 18644 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 584 ms\ninit success, config: abc\n2022-05-27 17:06:17.038  INFO 18644 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-05-27 17:06:17.043  INFO 18644 --- [           main] com.test.App                             : Started App in 1.013 seconds (JVM running for 1.456)\n2022-05-27 17:06:17.074  INFO 18644 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-05-27 17:06:17.074  INFO 18644 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-05-27 17:06:17.075  INFO 18644 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n</code></pre>\n<p>but when i started project with springboot test class, a FileNotFoundException occured.</p>\n<pre><code>Caused by: java.io.FileNotFoundException: File 'conf\\config' does not exist\n    at org.apache.commons.io.FileUtils.openInputStream(FileUtils.java:297)\n    at org.apache.commons.io.FileUtils.readFileToString(FileUtils.java:1805)\n    at org.apache.commons.io.FileUtils.readFileToString(FileUtils.java:1822)\n    at com.test.service.ServiceTest.readConf(ServiceTest.java:25)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n</code></pre>\n<p>When I change the path in service class from <code>conf/config</code> to <code>../conf/config</code>, the test class is fine. I want to know how can I run the test class without change the file path. Is there any configure param in application.properties like classpath related?</p>\n"},{"tags":["java","rest-assured","rest-assured-jsonpath"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653880073,"post_id":72428752,"comment_id":127951060,"body_markdown":"Without the square brackets that isn&#39;t valid JSON. I would just add the square brackets to `response` myself before passing it to `JsonPath`, or tell the owner of the endpoint to fix it.","body":"Without the square brackets that isn&#39;t valid JSON. I would just add the square brackets to <code>response</code> myself before passing it to <code>JsonPath</code>, or tell the owner of the endpoint to fix it."}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653885344,"creation_date":1653885344,"answer_id":72429207,"question_id":72428752,"body_markdown":"What you need to change to make your code work is: `$[0].id` --&gt; `[0].id`","title":"How to find JsonPath if the response is in form of array?","body":"<p>What you need to change to make your code work is: <code>$[0].id</code> --&gt; <code>[0].id</code></p>\n"}],"owner":{"account_id":16688027,"reputation":11,"user_id":12061329,"display_name":"prachu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653899056,"creation_date":1653879836,"question_id":72428752,"body_markdown":"I am using rest assured library in java and I am trying to get the response from an endpoint. Here is the code for that \r\n\r\n    package practice;\r\n\r\n    import static io.restassured.RestAssured.given;\r\n    \r\n    import io.restassured.RestAssured;\r\n    import io.restassured.path.json.JsonPath;\r\n    \r\n    public class GoRestGetRequest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tRestAssured.baseURI=&quot;https://gorest.co.in&quot;;\r\n    \t\t\r\n    \t\tString response=given().\r\n    \t\tlog().\r\n    \t\tall().\r\n    \t\twhen().\r\n    \t\tget(&quot;/public/v2/users&quot;).\r\n    \t\tthen().\r\n    \t\tlog().\r\n    \t\tall().\r\n    \t\tassertThat().\r\n    \t\tstatusCode(200).\r\n    \t\textract().\r\n    \t\tresponse().\r\n    \t\tasString();\r\n    \t\tJsonPath js=new JsonPath(response);\r\n    \t    int id= js.getInt(&quot;$[0].id&quot;);\r\n    \t\tSystem.out.println(id);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nI an getting answer in the form of array with square brackets. Normally there won&#39;t be any square brackets. how to parse response if array has square brackets.\r\n\r\n    [\r\n    {\r\n        &quot;id&quot;: 3234,\r\n        &quot;name&quot;: &quot;Chandran Embranthiri&quot;,\r\n        &quot;email&quot;: &quot;chandran_embranthiri@conn.name&quot;,\r\n        &quot;gender&quot;: &quot;male&quot;,\r\n        &quot;status&quot;: &quot;inactive&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 3233,\r\n        &quot;name&quot;: &quot;Sharmila Sharma&quot;,\r\n        &quot;email&quot;: &quot;sharmila_sharma@marquardt.name&quot;,\r\n        &quot;gender&quot;: &quot;male&quot;,\r\n        &quot;status&quot;: &quot;active&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 3232,\r\n        &quot;name&quot;: &quot;Agnivesh Chopra V&quot;,\r\n        &quot;email&quot;: &quot;v_agnivesh_chopra@corkery-boehm.co&quot;,\r\n        &quot;gender&quot;: &quot;female&quot;,\r\n        &quot;status&quot;: &quot;inactive&quot;\r\n    }]\r\n\r\nIf I try to fetch the id with `$[0].id` then I am getting `nullPointerException`\r\nCan anyone please help ?\r\n","title":"How to find JsonPath if the response is in form of array?","body":"<p>I am using rest assured library in java and I am trying to get the response from an endpoint. Here is the code for that</p>\n<pre><code>package practice;\n\nimport static io.restassured.RestAssured.given;\n\nimport io.restassured.RestAssured;\nimport io.restassured.path.json.JsonPath;\n\npublic class GoRestGetRequest {\n\n    public static void main(String[] args) {\n        \n        RestAssured.baseURI=&quot;https://gorest.co.in&quot;;\n        \n        String response=given().\n        log().\n        all().\n        when().\n        get(&quot;/public/v2/users&quot;).\n        then().\n        log().\n        all().\n        assertThat().\n        statusCode(200).\n        extract().\n        response().\n        asString();\n        JsonPath js=new JsonPath(response);\n        int id= js.getInt(&quot;$[0].id&quot;);\n        System.out.println(id);\n        \n    }\n\n}\n</code></pre>\n<p>I an getting answer in the form of array with square brackets. Normally there won't be any square brackets. how to parse response if array has square brackets.</p>\n<pre><code>[\n{\n    &quot;id&quot;: 3234,\n    &quot;name&quot;: &quot;Chandran Embranthiri&quot;,\n    &quot;email&quot;: &quot;chandran_embranthiri@conn.name&quot;,\n    &quot;gender&quot;: &quot;male&quot;,\n    &quot;status&quot;: &quot;inactive&quot;\n},\n{\n    &quot;id&quot;: 3233,\n    &quot;name&quot;: &quot;Sharmila Sharma&quot;,\n    &quot;email&quot;: &quot;sharmila_sharma@marquardt.name&quot;,\n    &quot;gender&quot;: &quot;male&quot;,\n    &quot;status&quot;: &quot;active&quot;\n},\n{\n    &quot;id&quot;: 3232,\n    &quot;name&quot;: &quot;Agnivesh Chopra V&quot;,\n    &quot;email&quot;: &quot;v_agnivesh_chopra@corkery-boehm.co&quot;,\n    &quot;gender&quot;: &quot;female&quot;,\n    &quot;status&quot;: &quot;inactive&quot;\n}]\n</code></pre>\n<p>If I try to fetch the id with <code>$[0].id</code> then I am getting <code>nullPointerException</code>\nCan anyone please help ?</p>\n"},{"tags":["java","spring","spring-boot","heroku","internationalization"],"answers":[{"tags":[],"owner":{"account_id":5795637,"reputation":7297,"user_id":4571544,"display_name":"dekkard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653899042,"creation_date":1653899042,"answer_id":72431242,"question_id":72419072,"body_markdown":"This might help:\r\n&lt;blockquote&gt;\r\n&lt;b&gt;Locales are no longer part of the stack&lt;/b&gt;\r\n\r\nLocales are instruction sets used by some programs to perform operations such as number formatting, string collation or date representation according to a language and/or region.\r\n\r\nStarting with Heroku-16, locales are no longer part of the stack, and instead installed via a separate buildpack.\r\n\r\nIf your app requires locales, create a `.locales` file in the root directory of your app’s codebase that lists all the locales you need. For example:\r\n\r\nde_DE  \r\nfr_FR  \r\n\r\nAfter you have git added the `.locales` file and git committed the change, you may then prepend the heroku-community/locale buildpack to the list of buildpacks used by your app:\r\n\r\n`heroku buildpacks:add --index 1 heroku-community/locale`  \r\n\r\nThe heroku-community/locale buildpack will then run as the first step of your builds, and install the desired locales for use by subsequent buildpacks and at runtime.\r\n&lt;/blockquote&gt;\r\n\r\n\r\n(https://devcenter.heroku.com/articles/heroku-16-stack#locales-are-no-longer-part-of-the-stack,  \r\nhttps://github.com/heroku/heroku-buildpack-locale)","title":"How to make portuguese language option in Spring Boot work on Heroku","body":"<p>This might help:</p>\n<blockquote>\n<b>Locales are no longer part of the stack</b>\n<p>Locales are instruction sets used by some programs to perform operations such as number formatting, string collation or date representation according to a language and/or region.</p>\n<p>Starting with Heroku-16, locales are no longer part of the stack, and instead installed via a separate buildpack.</p>\n<p>If your app requires locales, create a <code>.locales</code> file in the root directory of your app’s codebase that lists all the locales you need. For example:</p>\n<p>de_DE<br />\nfr_FR</p>\n<p>After you have git added the <code>.locales</code> file and git committed the change, you may then prepend the heroku-community/locale buildpack to the list of buildpacks used by your app:</p>\n<p><code>heroku buildpacks:add --index 1 heroku-community/locale</code></p>\n<p>The heroku-community/locale buildpack will then run as the first step of your builds, and install the desired locales for use by subsequent buildpacks and at runtime.</p>\n</blockquote>\n<p>(<a href=\"https://devcenter.heroku.com/articles/heroku-16-stack#locales-are-no-longer-part-of-the-stack\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/heroku-16-stack#locales-are-no-longer-part-of-the-stack</a>,<br />\n<a href=\"https://github.com/heroku/heroku-buildpack-locale\" rel=\"nofollow noreferrer\">https://github.com/heroku/heroku-buildpack-locale</a>)</p>\n"}],"owner":{"account_id":19665774,"reputation":11,"user_id":14396252,"display_name":"Eric Cabral"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653899042,"creation_date":1653769783,"question_id":72419072,"body_markdown":"So I created an internationalization system for my Spring Boot project following exactly as in this tutorial: https://www.baeldung.com/spring-boot-internationalization\r\n\r\nI&#39;ve set the main language as Portuguese and created a `messages_en` for English option. I also set the localeResolver to: `localeResolver.setDefaultLocale(new Locale(&quot;pt&quot;, &quot;br&quot;));`\r\n\r\nit works fine when I run it locally, but when I deploy to Heroku, I can only see the English version, even though it&#39;s not the main language, even when I select the Portuguese option manually, it still shows up in English.\r\n\r\nMy heroku default region is USA, but I tried it on a server in the Europe region and nothing changes. Does anyone have an idea how to solve it?","title":"How to make portuguese language option in Spring Boot work on Heroku","body":"<p>So I created an internationalization system for my Spring Boot project following exactly as in this tutorial: <a href=\"https://www.baeldung.com/spring-boot-internationalization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-internationalization</a></p>\n<p>I've set the main language as Portuguese and created a <code>messages_en</code> for English option. I also set the localeResolver to: <code>localeResolver.setDefaultLocale(new Locale(&quot;pt&quot;, &quot;br&quot;));</code></p>\n<p>it works fine when I run it locally, but when I deploy to Heroku, I can only see the English version, even though it's not the main language, even when I select the Portuguese option manually, it still shows up in English.</p>\n<p>My heroku default region is USA, but I tried it on a server in the Europe region and nothing changes. Does anyone have an idea how to solve it?</p>\n"},{"tags":["java","spring","spring-webclient"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1601707365,"post_id":64002009,"comment_id":113494617,"body_markdown":"can you put a reproducer to github ?","body":"can you put a reproducer to github ?"}],"answers":[{"tags":[],"owner":{"account_id":19655452,"reputation":301,"user_id":14388200,"display_name":"David A."},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1603185367,"creation_date":1603110471,"answer_id":64427341,"question_id":64002009,"body_markdown":"The problem is that once the function `testWebClient()` finish, all the asynchronous process are closed.\r\n\r\nIn this case you are using `WebClient` that is an async job, so the function `testWebClient()` finish before the `WebClient` can get the answer.\r\n\r\nIn order to prevent this, you can:\r\n\r\n -  use a thread sleep method like `TimeUnit.SECONDS.sleep(5)`.\r\n -  use an external library like [`Awaitility`][1]\r\n\r\n**Example with Awaitility**\r\n\r\n````JAVA\r\n\r\nbool taskDone = false;\r\n@Test\r\nvoid testWebClient() {\r\n    //...\r\n    var response = webClient.get()\r\n    //...\r\n    .doFinally(r-&gt;{\r\n        taskDone = true;\r\n    })\r\n\r\n    await().until(()-&gt; taskDone);\r\n}\r\n\r\n````\r\n\r\nSo in this case the function will wait until the task complete.\r\n\r\n\r\n  [1]: http://www.awaitility.org/","title":"WebClient causes &quot;java.lang.IllegalStateException: executor not accepting a task&quot; in JUnit","body":"<p>The problem is that once the function <code>testWebClient()</code> finish, all the asynchronous process are closed.</p>\n<p>In this case you are using <code>WebClient</code> that is an async job, so the function <code>testWebClient()</code> finish before the <code>WebClient</code> can get the answer.</p>\n<p>In order to prevent this, you can:</p>\n<ul>\n<li>use a thread sleep method like <code>TimeUnit.SECONDS.sleep(5)</code>.</li>\n<li>use an external library like <a href=\"http://www.awaitility.org/\" rel=\"noreferrer\"><code>Awaitility</code></a></li>\n</ul>\n<p><strong>Example with Awaitility</strong></p>\n<pre><code>\nbool taskDone = false;\n@Test\nvoid testWebClient() {\n    //...\n    var response = webClient.get()\n    //...\n    .doFinally(r-&gt;{\n        taskDone = true;\n    })\n\n    await().until(()-&gt; taskDone);\n}\n\n</code></pre>\n<p>So in this case the function will wait until the task complete.</p>\n"},{"tags":[],"owner":{"account_id":324753,"reputation":83,"user_id":645527,"display_name":"user645527"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653898988,"creation_date":1653898988,"answer_id":72431227,"question_id":64002009,"body_markdown":"Another option is to use StepVerifier in your test case.\r\n \r\n```\r\n    StepVerifier.create(&lt;flux&gt;)\r\n      .expectSubscription()\r\n      .consumeNextWith(e-&gt; log.debug(e.toString()))      \r\n      .thenAwait().verifyComplete();\r\n```\r\nwill need the following dependency\r\n```\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n```","title":"WebClient causes &quot;java.lang.IllegalStateException: executor not accepting a task&quot; in JUnit","body":"<p>Another option is to use StepVerifier in your test case.</p>\n<pre><code>    StepVerifier.create(&lt;flux&gt;)\n      .expectSubscription()\n      .consumeNextWith(e-&gt; log.debug(e.toString()))      \n      .thenAwait().verifyComplete();\n</code></pre>\n<p>will need the following dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12969308,"reputation":529,"user_id":9375618,"display_name":"Guillaume Blanchet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3927,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64427341,"answer_count":2,"score":3,"last_activity_date":1653898988,"creation_date":1600739352,"question_id":64002009,"body_markdown":"I wanted to use reactive programming inside the JUnit testing framework to do system tests on a remote rest api.\r\n\r\nI thus wrote: \r\n```\r\n  @Test\r\n  void testWebClient() {\r\n    WebClient webClient = WebClient.builder()\r\n        .baseUrl(GITHUB_API_BASE_URL)\r\n        .defaultHeader(HttpHeaders.CONTENT_TYPE, GITHUB_V3_MIME_TYPE)\r\n        .defaultHeader(HttpHeaders.USER_AGENT, USER_AGENT)\r\n        .filter(ExchangeFilterFunctions\r\n            .basicAuthentication(appProperties.getGithub().getUsername(),\r\n                appProperties.getGithub().getToken()))\r\n        .build();\r\n\r\n    var response = webClient.get()\r\n        .uri(&quot;/user/repos?sort={sortField}&amp;direction={sortDirection}&quot;,\r\n            &quot;updated&quot;, &quot;desc&quot;)\r\n        .exchange()\r\n            .doOnError(e -&gt; {\r\n              System.out.println(e.toString());\r\n            })\r\n            .subscribe(r -&gt; {\r\n              System.out.println(r  );\r\n            });\r\n  }\r\n```\r\nto get all my github repos. I kept catching this error:\r\n\r\n```\r\njava.lang.IllegalStateException: executor not accepting a task\r\n```\r\nuntil add &quot;.block()&quot; after &quot;.exchange()&quot; to do the call synchronously and everything start to work fine.\r\n\r\nI suspect JUnit to start a special thread context or something like that. Do you know what can is happening?\r\n\r\nThanks a lot","title":"WebClient causes &quot;java.lang.IllegalStateException: executor not accepting a task&quot; in JUnit","body":"<p>I wanted to use reactive programming inside the JUnit testing framework to do system tests on a remote rest api.</p>\n<p>I thus wrote:</p>\n<pre><code>  @Test\n  void testWebClient() {\n    WebClient webClient = WebClient.builder()\n        .baseUrl(GITHUB_API_BASE_URL)\n        .defaultHeader(HttpHeaders.CONTENT_TYPE, GITHUB_V3_MIME_TYPE)\n        .defaultHeader(HttpHeaders.USER_AGENT, USER_AGENT)\n        .filter(ExchangeFilterFunctions\n            .basicAuthentication(appProperties.getGithub().getUsername(),\n                appProperties.getGithub().getToken()))\n        .build();\n\n    var response = webClient.get()\n        .uri(&quot;/user/repos?sort={sortField}&amp;direction={sortDirection}&quot;,\n            &quot;updated&quot;, &quot;desc&quot;)\n        .exchange()\n            .doOnError(e -&gt; {\n              System.out.println(e.toString());\n            })\n            .subscribe(r -&gt; {\n              System.out.println(r  );\n            });\n  }\n</code></pre>\n<p>to get all my github repos. I kept catching this error:</p>\n<pre><code>java.lang.IllegalStateException: executor not accepting a task\n</code></pre>\n<p>until add &quot;.block()&quot; after &quot;.exchange()&quot; to do the call synchronously and everything start to work fine.</p>\n<p>I suspect JUnit to start a special thread context or something like that. Do you know what can is happening?</p>\n<p>Thanks a lot</p>\n"},{"tags":["java","methods","chaining"],"comments":[{"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"score":2,"creation_date":1638731420,"post_id":70237306,"comment_id":124160436,"body_markdown":"It is not clear from your description which structure does list contain? Is it some kind of Person class with firstName and lastName? Or what? If you iterate through regst list, then regst.getName(i).getFirstName() does not make any sense. Please describe what`s in list?","body":"It is not clear from your description which structure does list contain? Is it some kind of Person class with firstName and lastName? Or what? If you iterate through regst list, then regst.getName(i).getFirstName() does not make any sense. Please describe what`s in list?"}],"answers":[{"tags":[],"owner":{"account_id":19394380,"reputation":235,"user_id":14182376,"display_name":"Vitaly Kolesnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1638733534,"creation_date":1638732995,"answer_id":70237865,"question_id":70237306,"body_markdown":"You don`t need to implement any iteration logic as ArrayList already has it.\r\nJust get a list from register\r\n\r\n    List&lt;Name&gt; list = register.getList(); // you need a getter for this\r\n\r\nThen just iterate through list and return list of needed names:\r\n\r\n    public List&lt;Name&gt; findNames(List&lt;Name&gt; list) {\r\n        List&lt;Name&gt; result = new ArrayList&lt;&gt;();\r\n        for (Name name : list) {\r\n            if (name.getFirstName().contains(&quot;a&quot;) || name.getFirstName().contains(&quot;e&quot;)) {\r\n                result.add(name);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nOr using Stream API:\r\n\r\n    public static List&lt;Name&gt; findNames(List&lt;Name&gt; list) {\r\n    return list.stream()\r\n        .filter(name -&gt; name.getFirstName().contains(&quot;a&quot;) || name.getFirstName().contains(&quot;e&quot;))\r\n        .collect(Collectors.toList());\r\n    }\r\n\r\nIf you need to get first letter of that names, you can implement such method in Name class:\r\n\r\n    public String getInitials() {\r\n        return firstName.charAt(0) + &quot;.&quot; + familyName.charAt(0) + &quot;.&quot;;\r\n    }","title":"how to find the position of an element that contains a certain character","body":"<p>You don`t need to implement any iteration logic as ArrayList already has it.\nJust get a list from register</p>\n<pre><code>List&lt;Name&gt; list = register.getList(); // you need a getter for this\n</code></pre>\n<p>Then just iterate through list and return list of needed names:</p>\n<pre><code>public List&lt;Name&gt; findNames(List&lt;Name&gt; list) {\n    List&lt;Name&gt; result = new ArrayList&lt;&gt;();\n    for (Name name : list) {\n        if (name.getFirstName().contains(&quot;a&quot;) || name.getFirstName().contains(&quot;e&quot;)) {\n            result.add(name);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>Or using Stream API:</p>\n<pre><code>public static List&lt;Name&gt; findNames(List&lt;Name&gt; list) {\nreturn list.stream()\n    .filter(name -&gt; name.getFirstName().contains(&quot;a&quot;) || name.getFirstName().contains(&quot;e&quot;))\n    .collect(Collectors.toList());\n}\n</code></pre>\n<p>If you need to get first letter of that names, you can implement such method in Name class:</p>\n<pre><code>public String getInitials() {\n    return firstName.charAt(0) + &quot;.&quot; + familyName.charAt(0) + &quot;.&quot;;\n}\n</code></pre>\n"}],"owner":{"display_name":"user15846058"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70237865,"answer_count":1,"score":0,"last_activity_date":1653898089,"creation_date":1638728884,"question_id":70237306,"body_markdown":"So I have a list that stores names with a first and a family name. (this list is called regst) \r\nAnd I already have some methods that separates the first name and last name and also a set and get method.\r\n\r\nI have to execute a code that returns a string that represent each name in my regst list that has a first name containing either of the characters &quot;a&quot; or &quot;e&quot;. Also that gets these names and outputs the first letter of first and family name.\r\n\r\nSo far I created this for loop!\r\nMy problem is how to select the names that contains these characters and returns a string where it get the first letter of the first name and family name?\r\nGenerally: how to find the position of an element that contains a certain character?\r\n```java\r\nfor (int i = 0; i &lt; regst.size(); i++) {\t\t\t\r\n    if (regst.getName(i).getFirstName().contains(&quot;a&quot;) || regst.getName(i).getFirstName().contains(&quot;e&quot;)) {\r\n    \tSystem.out.println(&quot;All the first names that contains the characters a or e: &quot;\r\n    \t\t\t + regst.getName(i).getFirstName().contains(&quot;a&quot;) \r\n    \t\t\t + regst.getName(i).getFirstName().contains(&quot;e&quot;));\r\n    } else {\r\n    \treturn &quot;&quot;;\r\n    }\r\n}\r\n```","title":"how to find the position of an element that contains a certain character","body":"<p>So I have a list that stores names with a first and a family name. (this list is called regst)\nAnd I already have some methods that separates the first name and last name and also a set and get method.</p>\n<p>I have to execute a code that returns a string that represent each name in my regst list that has a first name containing either of the characters &quot;a&quot; or &quot;e&quot;. Also that gets these names and outputs the first letter of first and family name.</p>\n<p>So far I created this for loop!\nMy problem is how to select the names that contains these characters and returns a string where it get the first letter of the first name and family name?\nGenerally: how to find the position of an element that contains a certain character?</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; regst.size(); i++) {            \n    if (regst.getName(i).getFirstName().contains(&quot;a&quot;) || regst.getName(i).getFirstName().contains(&quot;e&quot;)) {\n        System.out.println(&quot;All the first names that contains the characters a or e: &quot;\n                 + regst.getName(i).getFirstName().contains(&quot;a&quot;) \n                 + regst.getName(i).getFirstName().contains(&quot;e&quot;));\n    } else {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":24533561,"reputation":41,"user_id":18444982,"display_name":"GOPALAKRISHNAN V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653897860,"creation_date":1653897498,"question_id":72430930,"body_markdown":"I get an error on the following line in my firebase Crashlytics crash reports .Please help me.\r\n\r\n    AsyncDrawableCache.java\r\n   \r\n\r\n&gt; Caused by java.util.ConcurrentModificationException\r\n&gt;     android.util.ArrayMap.put (ArrayMap.java:620)\r\n&gt;     com.mediatek.res.AsyncDrawableCache.putCacheList (AsyncDrawableCache.java:163)\r\n&gt;     com.mediatek.res.ResOptExtImpl.putCacheList (ResOptExtImpl.java:69)\r\n&gt;     android.content.res.ResourcesImpl.cacheDrawable (ResourcesImpl.java:832)\r\n&gt;     android.content.res.ResourcesImpl.loadDrawable (ResourcesImpl.java:769)\r\n&gt;     android.content.res.Resources.loadDrawable (Resources.java:1002)\r\n&gt;     android.content.res.TypedArray.getDrawableForDensity (TypedArray.java:1006)\r\n&gt;     android.content.res.TypedArray.getDrawable (TypedArray.java:981)\r\n&gt;     android.widget.ImageView.&lt;init&gt; (ImageView.java:215)\r\n&gt;     android.widget.ImageView.&lt;init&gt; (ImageView.java:196)\r\n&gt;     androidx.appcompat.widget.AppCompatImageView.&lt;init&gt; (AppCompatImageView.java:74)\r\n&gt;     androidx.appcompat.widget.AppCompatImageView.&lt;init&gt; (AppCompatImageView.java:69)\r\n&gt;     androidx.appcompat.app.AppCompatViewInflater.createImageView (AppCompatViewInflater.java:199)\r\n&gt;     androidx.appcompat.app.AppCompatViewInflater.createView (AppCompatViewInflater.java:119)\r\n&gt;     androidx.appcompat.app.AppCompatDelegateImpl.createView (AppCompatDelegateImpl.java:1551)\r\n&gt;     androidx.appcompat.app.AppCompatDelegateImpl.onCreateView (AppCompatDelegateImpl.java:1602)\r\n&gt;     android.view.LayoutInflater.tryCreateView (LayoutInflater.java:1065)\r\n&gt;     android.view.LayoutInflater.createViewFromTag (LayoutInflater.java:995)\r\n&gt;     android.view.LayoutInflater.createViewFromTag (LayoutInflater.java:959)\r\n&gt;     android.view.LayoutInflater.rInflate (LayoutInflater.java:1138)\r\n&gt;     android.view.LayoutInflater.rInflateChildren (LayoutInflater.java:1099)\r\n&gt;     android.view.LayoutInflater.rInflate (LayoutInflater.java:1141)\r\n&gt;     android.view.LayoutInflater.rInflateChildren (LayoutInflater.java:1099)\r\n&gt;     android.view.LayoutInflater.rInflate (LayoutInflater.java:1141)\r\n&gt;     android.view.LayoutInflater.rInflateChildren (LayoutInflater.java:1099)\r\n&gt;     android.view.LayoutInflater.rInflate (LayoutInflater.java:1141)\r\n&gt;     android.view.LayoutInflater.rInflateChildren (LayoutInflater.java:1099)\r\n&gt;     android.view.LayoutInflater.rInflate (LayoutInflater.java:1141)\r\n&gt;     android.view.LayoutInflater.rInflateChildren (LayoutInflater.java:1099)\r\n&gt;     android.view.LayoutInflater.inflate (LayoutInflater.java:680)\r\n&gt;     android.view.LayoutInflater.inflate (LayoutInflater.java:532)\r\n&gt;     android.view.LayoutInflater.inflate (LayoutInflater.java:479)\r\n&gt;     androidx.appcompat.app.AppCompatDelegateImpl.setContentView (AppCompatDelegateImpl.java:696)\r\n&gt;     androidx.appcompat.app.AppCompatActivity.setContentView (AppCompatActivity.java:170)\r\n&gt;     mobitech.dconproject.MotorStatus.onCreate (mainActivity.java:232)\r\n&gt;     android.app.Activity.performCreate (Activity.java:8151)\r\n&gt;     android.app.Activity.performCreate (Activity.java:8135)\r\n&gt;     android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1309)\r\n&gt;     android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3732)\r\n&gt;     android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3931)\r\n&gt;     android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:85)\r\n&gt;     android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\r\n&gt;     android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\r\n&gt;     android.app.ActivityThread$H.handleMessage (ActivityThread.java:2356)\r\n&gt;     android.os.Handler.dispatchMessage (Handler.java:106)\r\n&gt;     android.os.Looper.loop (Looper.java:264)\r\n&gt;     android.app.ActivityThread.main (ActivityThread.java:8306)\r\n&gt;     java.lang.reflect.Method.invoke (Method.java)\r\n&gt;     com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:632)\r\n&gt;     com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1049)","title":"How can I fix this error AsyncDrawableCache.java in firebase Crashlytics crash reports","body":"<p>I get an error on the following line in my firebase Crashlytics crash reports .Please help me.</p>\n<pre><code>AsyncDrawableCache.java\n</code></pre>\n<blockquote>\n<p>Caused by java.util.ConcurrentModificationException\nandroid.util.ArrayMap.put (ArrayMap.java:620)\ncom.mediatek.res.AsyncDrawableCache.putCacheList (AsyncDrawableCache.java:163)\ncom.mediatek.res.ResOptExtImpl.putCacheList (ResOptExtImpl.java:69)\nandroid.content.res.ResourcesImpl.cacheDrawable (ResourcesImpl.java:832)\nandroid.content.res.ResourcesImpl.loadDrawable (ResourcesImpl.java:769)\nandroid.content.res.Resources.loadDrawable (Resources.java:1002)\nandroid.content.res.TypedArray.getDrawableForDensity (TypedArray.java:1006)\nandroid.content.res.TypedArray.getDrawable (TypedArray.java:981)\nandroid.widget.ImageView. (ImageView.java:215)\nandroid.widget.ImageView. (ImageView.java:196)\nandroidx.appcompat.widget.AppCompatImageView. (AppCompatImageView.java:74)\nandroidx.appcompat.widget.AppCompatImageView. (AppCompatImageView.java:69)\nandroidx.appcompat.app.AppCompatViewInflater.createImageView (AppCompatViewInflater.java:199)\nandroidx.appcompat.app.AppCompatViewInflater.createView (AppCompatViewInflater.java:119)\nandroidx.appcompat.app.AppCompatDelegateImpl.createView (AppCompatDelegateImpl.java:1551)\nandroidx.appcompat.app.AppCompatDelegateImpl.onCreateView (AppCompatDelegateImpl.java:1602)\nandroid.view.LayoutInflater.tryCreateView (LayoutInflater.java:1065)\nandroid.view.LayoutInflater.createViewFromTag (LayoutInflater.java:995)\nandroid.view.LayoutInflater.createViewFromTag (LayoutInflater.java:959)\nandroid.view.LayoutInflater.rInflate (LayoutInflater.java:1138)\nandroid.view.LayoutInflater.rInflateChildren (LayoutInflater.java:1099)\nandroid.view.LayoutInflater.rInflate (LayoutInflater.java:1141)\nandroid.view.LayoutInflater.rInflateChildren (LayoutInflater.java:1099)\nandroid.view.LayoutInflater.rInflate (LayoutInflater.java:1141)\nandroid.view.LayoutInflater.rInflateChildren (LayoutInflater.java:1099)\nandroid.view.LayoutInflater.rInflate (LayoutInflater.java:1141)\nandroid.view.LayoutInflater.rInflateChildren (LayoutInflater.java:1099)\nandroid.view.LayoutInflater.rInflate (LayoutInflater.java:1141)\nandroid.view.LayoutInflater.rInflateChildren (LayoutInflater.java:1099)\nandroid.view.LayoutInflater.inflate (LayoutInflater.java:680)\nandroid.view.LayoutInflater.inflate (LayoutInflater.java:532)\nandroid.view.LayoutInflater.inflate (LayoutInflater.java:479)\nandroidx.appcompat.app.AppCompatDelegateImpl.setContentView (AppCompatDelegateImpl.java:696)\nandroidx.appcompat.app.AppCompatActivity.setContentView (AppCompatActivity.java:170)\nmobitech.dconproject.MotorStatus.onCreate (mainActivity.java:232)\nandroid.app.Activity.performCreate (Activity.java:8151)\nandroid.app.Activity.performCreate (Activity.java:8135)\nandroid.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1309)\nandroid.app.ActivityThread.performLaunchActivity (ActivityThread.java:3732)\nandroid.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3931)\nandroid.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:85)\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\nandroid.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\nandroid.app.ActivityThread$H.handleMessage (ActivityThread.java:2356)\nandroid.os.Handler.dispatchMessage (Handler.java:106)\nandroid.os.Looper.loop (Looper.java:264)\nandroid.app.ActivityThread.main (ActivityThread.java:8306)\njava.lang.reflect.Method.invoke (Method.java)\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:632)\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:1049)</p>\n</blockquote>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1653895564,"post_id":72430488,"comment_id":127954048,"body_markdown":"depends on how you store the data that should be contained in `dict`. Looking at you python example, you pretty much have a JSON which you use as input. You can do the same in java. Provide a JSON file with the desired data and depth and read it in java. [How to read JSON?](https://stackoverflow.com/a/31743324/7109162)","body":"depends on how you store the data that should be contained in <code>dict</code>. Looking at you python example, you pretty much have a JSON which you use as input. You can do the same in java. Provide a JSON file with the desired data and depth and read it in java. <a href=\"https://stackoverflow.com/a/31743324/7109162\">How to read JSON?</a>"},{"owner":{"account_id":19142454,"reputation":355,"user_id":13982165,"display_name":"nluizsoliveira"},"score":0,"creation_date":1653895667,"post_id":72430488,"comment_id":127954083,"body_markdown":"That would be perfect for this example @XtremeBaumer! I&#39;ll search about transforming a JSON into a dict, thanks!\n\nIf it happens that the final key were Java variables/functions, would that work too?","body":"That would be perfect for this example @XtremeBaumer! I&#39;ll search about transforming a JSON into a dict, thanks!  If it happens that the final key were Java variables/functions, would that work too?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1653895676,"post_id":72430488,"comment_id":127954088,"body_markdown":"Well, since Java 9, there is the `Map::of` method, which allows to trim down your code a little.","body":"Well, since Java 9, there is the <code>Map::of</code> method, which allows to trim down your code a little."},{"owner":{"account_id":19142454,"reputation":355,"user_id":13982165,"display_name":"nluizsoliveira"},"score":0,"creation_date":1653895708,"post_id":72430488,"comment_id":127954102,"body_markdown":"Searching about `Map::of` , thanks @MCEmperor!","body":"Searching about <code>Map::of</code> , thanks @MCEmperor!"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653897680,"creation_date":1653895732,"answer_id":72430590,"question_id":72430488,"body_markdown":"Use Map.of() as MC Emperor suggested:\r\n```java\r\nMap&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt; dict = Map.of(\r\n    &quot;vertebrado&quot;,\r\n        Map.of(\r\n            &quot;ave&quot;,\r\n                Map.of(\r\n                    &quot;carnivoro&quot;, &quot;aguia&quot;,\r\n                    &quot;onivoro&quot;, &quot;pomba&quot;\r\n                ),\r\n            &quot;mamifero&quot;,\r\n                Map.of(&quot;onivoro&quot;,&quot;homem&quot;,\r\n                        &quot;herbivoro&quot;,&quot;vaca&quot;\r\n                )\r\n        ),\r\n    &quot;invertebrado&quot;,\r\n        Map.of(\r\n            &quot;inseto&quot;,\r\n                Map.of(\r\n                    &quot;hematofago&quot;, &quot;pulga&quot;,\r\n                    &quot;herbivoro&quot;, &quot;lagarta&quot;\r\n                ),\r\n            &quot;anelideo&quot;,\r\n                Map.of(\r\n                    &quot;hematofago&quot;,&quot;sanguessuga&quot;,\r\n                    &quot;onivoro&quot;,&quot;minhoca&quot;\r\n                )\r\n        )\r\n);\r\n```\r\n\r\nCompared to using a `json` file this also gives you type checking as you go, although to be really type safe you would want to introduce classes named `Phylum`, `Class` and `Order` to wrap your Strings, instead of leaving values &quot;Stringly typed&quot;.","title":"Instantiate and initialize &quot;multi-level&quot; maps in Java","body":"<p>Use Map.of() as MC Emperor suggested:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt; dict = Map.of(\n    &quot;vertebrado&quot;,\n        Map.of(\n            &quot;ave&quot;,\n                Map.of(\n                    &quot;carnivoro&quot;, &quot;aguia&quot;,\n                    &quot;onivoro&quot;, &quot;pomba&quot;\n                ),\n            &quot;mamifero&quot;,\n                Map.of(&quot;onivoro&quot;,&quot;homem&quot;,\n                        &quot;herbivoro&quot;,&quot;vaca&quot;\n                )\n        ),\n    &quot;invertebrado&quot;,\n        Map.of(\n            &quot;inseto&quot;,\n                Map.of(\n                    &quot;hematofago&quot;, &quot;pulga&quot;,\n                    &quot;herbivoro&quot;, &quot;lagarta&quot;\n                ),\n            &quot;anelideo&quot;,\n                Map.of(\n                    &quot;hematofago&quot;,&quot;sanguessuga&quot;,\n                    &quot;onivoro&quot;,&quot;minhoca&quot;\n                )\n        )\n);\n</code></pre>\n<p>Compared to using a <code>json</code> file this also gives you type checking as you go, although to be really type safe you would want to introduce classes named <code>Phylum</code>, <code>Class</code> and <code>Order</code> to wrap your Strings, instead of leaving values &quot;Stringly typed&quot;.</p>\n"}],"owner":{"account_id":19142454,"reputation":355,"user_id":13982165,"display_name":"nluizsoliveira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72430590,"answer_count":1,"score":1,"last_activity_date":1653897680,"creation_date":1653895202,"question_id":72430488,"body_markdown":"I&#39;m trying to solve [This problem in BeeCrowd](https://www.beecrowd.com.br/judge/en/problems/view/1049) without using a ton of if/elses. \r\n\r\n![BeeCrowd problem](https://resources.beecrowd.com.br/gallery/images/problems/UOJ_1049_b.png)\r\n\r\nIt consists of reading 3 inputs from use, ex: \r\n\r\n```\r\nvertebrado\r\nave\r\ncarnivoro\r\n```\r\n\r\nand outputting the correspondent word of those inputs.\r\n\r\n```\r\naguia\r\n``` \r\nI know more python than java, this would be my solution in python (which works): \r\n\r\n```python\r\ndict = {\r\n  &quot;vertebrado&quot;: {\r\n    &quot;ave&quot;: {\r\n      &quot;carnivoro&quot;: &quot;aguia&quot;,\r\n      &quot;onivoro&quot;: &quot;pomba&quot;\r\n    },\r\n    &quot;mamifero&quot;: {\r\n      &quot;onivoro&quot;: &quot;homem&quot;,\r\n      &quot;herbivoro&quot;: &quot;vaca&quot;\r\n    }\r\n  },\r\n  &quot;invertebrado&quot;: {\r\n    &quot;inseto&quot;: {\r\n      &quot;hematofago&quot;: &quot;pulga&quot;,\r\n      &quot;herbivoro&quot;: &quot;lagarta&quot;\r\n    },\r\n    &quot;anelideo&quot;: {\r\n      &quot;hematofago&quot;: &quot;sanguessuga&quot;,\r\n      &quot;onivoro&quot;: &quot;minhoca&quot;\r\n    }\r\n  }\r\n}\r\n\r\nword1 = input()\r\nword2 = input()\r\nword3 = input()\r\n\r\nword = dict[word1][word2][word3]\r\n\r\nprint(word)\r\n```\r\n\r\nHowever I&#39;m struggling to code a good solution in Java. This is my current Java solution (which also works):\r\n\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.HashMap;\r\n\r\npublic class Main {\r\n    public static void main (String[]args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        String word1 = new String(scanner.nextLine());\r\n        String word2 = new String(scanner.nextLine());\r\n        String word3 = new String(scanner.nextLine());\r\n        \r\n        HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; dict = new HashMap();\r\n        dict.put(&quot;vertebrado&quot;,  new HashMap&lt;String, HashMap&lt;String, String&gt;&gt;());\r\n        dict.put(&quot;invertebrado&quot;, new HashMap&lt;String, HashMap&lt;String, String&gt;&gt;());\r\n        \r\n        dict.get(&quot;vertebrado&quot;).put(&quot;ave&quot;, new HashMap&lt;String, String&gt;());\r\n        dict.get(&quot;vertebrado&quot;).put(&quot;mamifero&quot;, new HashMap&lt;String, String&gt;());\r\n        \r\n        dict.get(&quot;invertebrado&quot;).put(&quot;inseto&quot;, new HashMap&lt;String, String&gt;());\r\n        dict.get(&quot;invertebrado&quot;).put(&quot;anelideo&quot;, new HashMap&lt;String, String&gt;());\r\n        \r\n        dict.get(&quot;vertebrado&quot;).get(&quot;ave&quot;).put(&quot;carnivoro&quot;, &quot;aguia&quot;);\r\n        dict.get(&quot;vertebrado&quot;).get(&quot;ave&quot;).put(&quot;onivoro&quot;, &quot;pomba&quot;);\r\n        dict.get(&quot;vertebrado&quot;).get(&quot;mamifero&quot;).put(&quot;onivoro&quot;, &quot;homem&quot;);\r\n        dict.get(&quot;vertebrado&quot;).get(&quot;mamifero&quot;).put(&quot;herbivoro&quot;, &quot;vaca&quot;);\r\n        \r\n        dict.get(&quot;invertebrado&quot;).get(&quot;inseto&quot;).put(&quot;hematofago&quot;, &quot;pulga&quot;);\r\n        dict.get(&quot;invertebrado&quot;).get(&quot;inseto&quot;).put(&quot;herbivoro&quot;, &quot;lagarta&quot;);\r\n        dict.get(&quot;invertebrado&quot;).get(&quot;anelideo&quot;).put(&quot;hematofago&quot;, &quot;sanguessuga&quot;);\r\n        dict.get(&quot;invertebrado&quot;).get(&quot;anelideo&quot;).put(&quot;onivoro&quot;, &quot;minhoca&quot;);\r\n        \r\n        \r\n        String word = dict.get(word1).get(word2).get(word3);\r\n        \r\n        System.out.println(word);\r\n    }\r\n}\r\n```\r\n\r\nThe obvious issue with that solution is that it&#39;s unpractical to populate the dict that way. The code is already big. If `dict` had a lot values, with a lot of &quot;depth&quot;, it will become a hell to maintain. \r\n\r\nIs there a way to reduce it? IE, declaring and initializing `dict` in a couple of lines?\r\n","title":"Instantiate and initialize &quot;multi-level&quot; maps in Java","body":"<p>I'm trying to solve <a href=\"https://www.beecrowd.com.br/judge/en/problems/view/1049\" rel=\"nofollow noreferrer\">This problem in BeeCrowd</a> without using a ton of if/elses.</p>\n<p><img src=\"https://resources.beecrowd.com.br/gallery/images/problems/UOJ_1049_b.png\" alt=\"BeeCrowd problem\" /></p>\n<p>It consists of reading 3 inputs from use, ex:</p>\n<pre><code>vertebrado\nave\ncarnivoro\n</code></pre>\n<p>and outputting the correspondent word of those inputs.</p>\n<pre><code>aguia\n</code></pre>\n<p>I know more python than java, this would be my solution in python (which works):</p>\n<pre class=\"lang-py prettyprint-override\"><code>dict = {\n  &quot;vertebrado&quot;: {\n    &quot;ave&quot;: {\n      &quot;carnivoro&quot;: &quot;aguia&quot;,\n      &quot;onivoro&quot;: &quot;pomba&quot;\n    },\n    &quot;mamifero&quot;: {\n      &quot;onivoro&quot;: &quot;homem&quot;,\n      &quot;herbivoro&quot;: &quot;vaca&quot;\n    }\n  },\n  &quot;invertebrado&quot;: {\n    &quot;inseto&quot;: {\n      &quot;hematofago&quot;: &quot;pulga&quot;,\n      &quot;herbivoro&quot;: &quot;lagarta&quot;\n    },\n    &quot;anelideo&quot;: {\n      &quot;hematofago&quot;: &quot;sanguessuga&quot;,\n      &quot;onivoro&quot;: &quot;minhoca&quot;\n    }\n  }\n}\n\nword1 = input()\nword2 = input()\nword3 = input()\n\nword = dict[word1][word2][word3]\n\nprint(word)\n</code></pre>\n<p>However I'm struggling to code a good solution in Java. This is my current Java solution (which also works):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.HashMap;\n\npublic class Main {\n    public static void main (String[]args) {\n        Scanner scanner = new Scanner(System.in);\n        String word1 = new String(scanner.nextLine());\n        String word2 = new String(scanner.nextLine());\n        String word3 = new String(scanner.nextLine());\n        \n        HashMap&lt;String, HashMap&lt;String, HashMap&lt;String, String&gt;&gt;&gt; dict = new HashMap();\n        dict.put(&quot;vertebrado&quot;,  new HashMap&lt;String, HashMap&lt;String, String&gt;&gt;());\n        dict.put(&quot;invertebrado&quot;, new HashMap&lt;String, HashMap&lt;String, String&gt;&gt;());\n        \n        dict.get(&quot;vertebrado&quot;).put(&quot;ave&quot;, new HashMap&lt;String, String&gt;());\n        dict.get(&quot;vertebrado&quot;).put(&quot;mamifero&quot;, new HashMap&lt;String, String&gt;());\n        \n        dict.get(&quot;invertebrado&quot;).put(&quot;inseto&quot;, new HashMap&lt;String, String&gt;());\n        dict.get(&quot;invertebrado&quot;).put(&quot;anelideo&quot;, new HashMap&lt;String, String&gt;());\n        \n        dict.get(&quot;vertebrado&quot;).get(&quot;ave&quot;).put(&quot;carnivoro&quot;, &quot;aguia&quot;);\n        dict.get(&quot;vertebrado&quot;).get(&quot;ave&quot;).put(&quot;onivoro&quot;, &quot;pomba&quot;);\n        dict.get(&quot;vertebrado&quot;).get(&quot;mamifero&quot;).put(&quot;onivoro&quot;, &quot;homem&quot;);\n        dict.get(&quot;vertebrado&quot;).get(&quot;mamifero&quot;).put(&quot;herbivoro&quot;, &quot;vaca&quot;);\n        \n        dict.get(&quot;invertebrado&quot;).get(&quot;inseto&quot;).put(&quot;hematofago&quot;, &quot;pulga&quot;);\n        dict.get(&quot;invertebrado&quot;).get(&quot;inseto&quot;).put(&quot;herbivoro&quot;, &quot;lagarta&quot;);\n        dict.get(&quot;invertebrado&quot;).get(&quot;anelideo&quot;).put(&quot;hematofago&quot;, &quot;sanguessuga&quot;);\n        dict.get(&quot;invertebrado&quot;).get(&quot;anelideo&quot;).put(&quot;onivoro&quot;, &quot;minhoca&quot;);\n        \n        \n        String word = dict.get(word1).get(word2).get(word3);\n        \n        System.out.println(word);\n    }\n}\n</code></pre>\n<p>The obvious issue with that solution is that it's unpractical to populate the dict that way. The code is already big. If <code>dict</code> had a lot values, with a lot of &quot;depth&quot;, it will become a hell to maintain.</p>\n<p>Is there a way to reduce it? IE, declaring and initializing <code>dict</code> in a couple of lines?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1653897828,"post_id":72430940,"comment_id":127954756,"body_markdown":"You consider *that* a long string? By the way, you could use a compression algorithm, but compressing short strings [is not really easy](https://stackoverflow.com/a/3649538/133203)","body":"You consider <i>that</i> a long string? By the way, you could use a compression algorithm, but compressing short strings <a href=\"https://stackoverflow.com/a/3649538/133203\">is not really easy</a>"},{"owner":{"account_id":6184227,"reputation":1190,"user_id":4818789,"accept_rate":60,"display_name":"Teddy Kossoko"},"score":0,"creation_date":1653898606,"post_id":72430940,"comment_id":127955010,"body_markdown":"@FedericoklezCulloca it is a long string because we will have finally something like this sens by sms so it has  cost `https://myapp.com/transaction/eX8H14Gg1detgGb97ZWF0cIHz7LTxKeLynuZC1Dok7Zl5jTeLMcEulFroD0MZ2xVyc87ETORtoKGmuLl2AwdPKp90DTWbV9uoQJZkBIWlvOb5O/9M+WZg83wP5KjqtRh1AKLAgSoWWG2IzwBkWE4QV4/bUmTlDmXLzYD8z6/Txg= b86e21d1117ea756b5c8b4da3fc0feb61b6d68fa`","body":"@FedericoklezCulloca it is a long string because we will have finally something like this sens by sms so it has  cost <code>https:&#47;&#47;myapp.com&#47;transaction&#47;eX8H14Gg1detgGb97ZWF0cIHz7LTxK&zwnj;&#8203;eLynuZC1Dok7Zl5jTeLM&zwnj;&#8203;cEulFroD0MZ2xVyc87ET&zwnj;&#8203;ORtoKGmuLl2AwdPKp90D&zwnj;&#8203;TWbV9uoQJZkBIWlvOb5O&zwnj;&#8203;&#47;9M+WZg83wP5KjqtRh1A&zwnj;&#8203;KLAgSoWWG2IzwBkWE4QV&zwnj;&#8203;4&#47;bUmTlDmXLzYD8z6&#47;Tx&zwnj;&#8203;g= b86e21d1117ea756b5c8b4da3fc0feb61b6d68fa</code>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1653899403,"post_id":72430940,"comment_id":127955281,"body_markdown":"Another possibility would be to save the long string and the checksum inside a table on a db, send the url with the checksum to the user and have the webapp load the data corresponding to that checksum from the db","body":"Another possibility would be to save the long string and the checksum inside a table on a db, send the url with the checksum to the user and have the webapp load the data corresponding to that checksum from the db"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1653988181,"post_id":72430940,"comment_id":127978671,"body_markdown":"Check if this helps: https://medium.com/geekculture/create-your-own-url-shorteners-with-spring-boot-redis-289c9000f747. It uses Redis but you can adapt to use other mechanism.","body":"Check if this helps: <a href=\"https://medium.com/geekculture/create-your-own-url-shorteners-with-spring-boot-redis-289c9000f747\" rel=\"nofollow noreferrer\">medium.com/geekculture/&hellip;</a>. It uses Redis but you can adapt to use other mechanism."}],"owner":{"account_id":6184227,"reputation":1190,"user_id":4818789,"accept_rate":60,"display_name":"Teddy Kossoko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653897532,"creation_date":1653897532,"question_id":72430940,"body_markdown":"My back end in Spring after a transaction must send a link to a user with some metadata encrypted and put in url in order to open directly the app when the user click on it.\r\n\r\nMy code is this:\r\n\r\n\t\tString id = &quot;5d2583a5-2f0e-4660-95fe-7775e9660c9a&quot;;\r\n\t\tMap&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n\t\tdata.put(&quot;id&quot;, id);\r\n\t\tdata.put(&quot;status&quot;, &quot;SUCCESSFUL&quot;);\r\n\t\tdata.put(&quot;type&quot;, &quot;apk&quot;);\r\n\t\t\r\n\t\t//convert to json string\r\n\t\tString jsonString = new Gson().toJson(data);\r\n\t\t\r\n\t\tSystem.out.println(jsonString);\r\n\t\tAES256TextEncryptor textEncryptor = new AES256TextEncryptor();\r\n\t\ttextEncryptor.setPassword(id);\r\n\t\t\r\n\t\tString myEncryptedText = textEncryptor.encrypt(jsonString);\r\n\t\tSystem.out.println(myEncryptedText);\r\n\t\t\r\n        //we try to short the data and send it =&gt; impossible to revert the myEncryptedText =&gt; we want to change this part\r\n\t\tString sha256hex = Hashing.sha1()\r\n\t\t\t\t  .hashString(myEncryptedText, StandardCharsets.UTF_8)\r\n\t\t\t\t  .toString();\r\n\t\t\r\n\t\tAssert.assertEquals(&quot;we should have &quot;, 40, sha256hex.length());\r\n\t\tSystem.out.println(sha256hex);\r\n\r\n\r\nThe first encrypted value with myEncryptedText returns a long string\r\n`eX8H14Gg1detgGb97ZWF0cIHz7LTxKeLynuZC1Dok7Zl5jTeLMcEulFroD0MZ2xVyc87ETORtoKGmuLl2AwdPKp90DTWbV9uoQJZkBIWlvOb5O/9M+WZg83wP5KjqtRh1AKLAgSoWWG2IzwBkWE4QV4/bUmTlDmXLzYD8z6/Txg=\r\nb86e21d1117ea756b5c8b4da3fc0feb61b6d68fa`\r\n\r\nI tried to use sha1, to make it shorter but we notice that it is impossible to revert it in the 2nd app, so we are looking for another solution to short to max 50 characters the myEncryptedText, and get the full character on the client side. \r\n\r\nHow could we do it easily ? \r\nThanks","title":"How to short a string and revert it in another app?","body":"<p>My back end in Spring after a transaction must send a link to a user with some metadata encrypted and put in url in order to open directly the app when the user click on it.</p>\n<p>My code is this:</p>\n<pre><code>    String id = &quot;5d2583a5-2f0e-4660-95fe-7775e9660c9a&quot;;\n    Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\n    data.put(&quot;id&quot;, id);\n    data.put(&quot;status&quot;, &quot;SUCCESSFUL&quot;);\n    data.put(&quot;type&quot;, &quot;apk&quot;);\n    \n    //convert to json string\n    String jsonString = new Gson().toJson(data);\n    \n    System.out.println(jsonString);\n    AES256TextEncryptor textEncryptor = new AES256TextEncryptor();\n    textEncryptor.setPassword(id);\n    \n    String myEncryptedText = textEncryptor.encrypt(jsonString);\n    System.out.println(myEncryptedText);\n    \n    //we try to short the data and send it =&gt; impossible to revert the myEncryptedText =&gt; we want to change this part\n    String sha256hex = Hashing.sha1()\n              .hashString(myEncryptedText, StandardCharsets.UTF_8)\n              .toString();\n    \n    Assert.assertEquals(&quot;we should have &quot;, 40, sha256hex.length());\n    System.out.println(sha256hex);\n</code></pre>\n<p>The first encrypted value with myEncryptedText returns a long string\n<code>eX8H14Gg1detgGb97ZWF0cIHz7LTxKeLynuZC1Dok7Zl5jTeLMcEulFroD0MZ2xVyc87ETORtoKGmuLl2AwdPKp90DTWbV9uoQJZkBIWlvOb5O/9M+WZg83wP5KjqtRh1AKLAgSoWWG2IzwBkWE4QV4/bUmTlDmXLzYD8z6/Txg= b86e21d1117ea756b5c8b4da3fc0feb61b6d68fa</code></p>\n<p>I tried to use sha1, to make it shorter but we notice that it is impossible to revert it in the 2nd app, so we are looking for another solution to short to max 50 characters the myEncryptedText, and get the full character on the client side.</p>\n<p>How could we do it easily ?\nThanks</p>\n"},{"tags":["java","android","android-asynctask","okhttp"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1638626277,"post_id":70226126,"comment_id":124140736,"body_markdown":"`AsyncTask` is deprecated, and OkHttp has [its own way of doing asynchronous requests](https://square.github.io/okhttp/recipes/#asynchronous-get-kt-java).","body":"<code>AsyncTask</code> is deprecated, and OkHttp has <a href=\"https://square.github.io/okhttp/recipes/#asynchronous-get-kt-java\" rel=\"nofollow noreferrer\">its own way of doing asynchronous requests</a>."}],"answers":[{"tags":[],"owner":{"account_id":2759043,"reputation":614,"user_id":2376299,"display_name":"Mehdi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653897256,"creation_date":1653897256,"answer_id":72430878,"question_id":70226126,"body_markdown":"As Carl says, I put this line of code on doInBackground method. My problem has been solved.\r\n\r\n                @Override\r\n                protected String doInBackground(String... params) {   \r\n                        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n                        StrictMode.setThreadPolicy(policy);\r\n                        //...\r\n               }\r\n\r\n\r\n\r\n\r\nUsing AsyncTask is necessary in some cases such as sending a queue of images.","title":"AsyncTask not working with okhttp post request","body":"<p>As Carl says, I put this line of code on doInBackground method. My problem has been solved.</p>\n<pre><code>            @Override\n            protected String doInBackground(String... params) {   \n                    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n                    StrictMode.setThreadPolicy(policy);\n                    //...\n           }\n</code></pre>\n<p>Using AsyncTask is necessary in some cases such as sending a queue of images.</p>\n"}],"owner":{"account_id":23284167,"reputation":19,"user_id":17367242,"display_name":"Carl Angeles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653897256,"creation_date":1638625342,"question_id":70226126,"body_markdown":"The way the app behaves when I try to run it is black screen -&gt; back to main activity.\r\n\r\nHere&#39;s my code:\r\n\r\n    public class ResultsActivity extends AppCompatActivity {\r\n\r\n    final TextView textView = findViewById(R.id.textView);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_results);\r\n        new NetworkTask().execute();\r\n    }\r\n\r\n    public void backToMain(View v) {\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        startActivity(intent);\r\n    }\r\n\r\n    private class NetworkTask extends AsyncTask&lt;Void, Void, String&gt; {\r\n\r\n        @Override\r\n        protected String doInBackground(Void... params) {\r\n            final String image = getExternalCacheDir() + &quot;/image.jpeg&quot;;\r\n            File file = new File(image);\r\n            try {\r\n                final MediaType MEDIA_TYPE_JPEG = MediaType.parse(&quot;image/jpeg&quot;);\r\n                RequestBody requestBody = new MultipartBody.Builder()\r\n                        .setType(MultipartBody.FORM)\r\n                        .addFormDataPart(&quot;images&quot;, &quot;image.jpeg&quot;,\r\n                                RequestBody.create(file, MEDIA_TYPE_JPEG))\r\n                        .addFormDataPart(&quot;organs&quot;, &quot;leaf&quot;)\r\n                        .build();\r\n                Request request = new Request.Builder()\r\n                        .url(&quot;insert url here&quot;)\r\n                        .post(requestBody)\r\n                        .build();\r\n                OkHttpClient client = new OkHttpClient();\r\n                Response response = client.newCall(request).execute();\r\n                String result = response.body().string();\r\n                return result;\r\n            } catch(IOException e) {\r\n                e.printStackTrace();\r\n                return &quot;error&quot;;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            if(result.equals(&quot;error&quot;)) {\r\n                textView.setText(&quot;error&quot;);\r\n            } else {\r\n                textView.setText(result);\r\n            }\r\n        }\r\n    }\r\n\r\nI am fairly certain that the post request works just fine because I have tested it using:\r\n\r\n    StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n    StrictMode.setThreadPolicy(policy);\r\n\r\nSo, maybe the issue lies with the way I put it in AsyncTask.","title":"AsyncTask not working with okhttp post request","body":"<p>The way the app behaves when I try to run it is black screen -&gt; back to main activity.</p>\n<p>Here's my code:</p>\n<pre><code>public class ResultsActivity extends AppCompatActivity {\n\nfinal TextView textView = findViewById(R.id.textView);\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_results);\n    new NetworkTask().execute();\n}\n\npublic void backToMain(View v) {\n    Intent intent = new Intent(this, MainActivity.class);\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n    startActivity(intent);\n}\n\nprivate class NetworkTask extends AsyncTask&lt;Void, Void, String&gt; {\n\n    @Override\n    protected String doInBackground(Void... params) {\n        final String image = getExternalCacheDir() + &quot;/image.jpeg&quot;;\n        File file = new File(image);\n        try {\n            final MediaType MEDIA_TYPE_JPEG = MediaType.parse(&quot;image/jpeg&quot;);\n            RequestBody requestBody = new MultipartBody.Builder()\n                    .setType(MultipartBody.FORM)\n                    .addFormDataPart(&quot;images&quot;, &quot;image.jpeg&quot;,\n                            RequestBody.create(file, MEDIA_TYPE_JPEG))\n                    .addFormDataPart(&quot;organs&quot;, &quot;leaf&quot;)\n                    .build();\n            Request request = new Request.Builder()\n                    .url(&quot;insert url here&quot;)\n                    .post(requestBody)\n                    .build();\n            OkHttpClient client = new OkHttpClient();\n            Response response = client.newCall(request).execute();\n            String result = response.body().string();\n            return result;\n        } catch(IOException e) {\n            e.printStackTrace();\n            return &quot;error&quot;;\n        }\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        if(result.equals(&quot;error&quot;)) {\n            textView.setText(&quot;error&quot;);\n        } else {\n            textView.setText(result);\n        }\n    }\n}\n</code></pre>\n<p>I am fairly certain that the post request works just fine because I have tested it using:</p>\n<pre><code>StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\nStrictMode.setThreadPolicy(policy);\n</code></pre>\n<p>So, maybe the issue lies with the way I put it in AsyncTask.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":25158464,"reputation":438,"user_id":19002974,"display_name":"dangling else"},"score":0,"creation_date":1653857670,"post_id":72427219,"comment_id":127947914,"body_markdown":"If that&#39;s a [java.io.File](https://docs.oracle.com/javase/7/docs/api/java/io/File.html), you&#39;re not creating an actual file with that code. An instance of the File class represents a filename or pathname.  Look into classes like [FileWriter](https://docs.oracle.com/javase/8/docs/api/java/io/FileWriter.html), or better yet, read some tutorials.","body":"If that&#39;s a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">java.io.File</a>, you&#39;re not creating an actual file with that code. An instance of the File class represents a filename or pathname.  Look into classes like <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FileWriter.html\" rel=\"nofollow noreferrer\">FileWriter</a>, or better yet, read some tutorials."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1653862384,"post_id":72427219,"comment_id":127948739,"body_markdown":"You&#39;ll want to learn about [Java NIO.2](https://docs.oracle.com/javase/tutorial/essential/io/fileio.html)","body":"You&#39;ll want to learn about <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">Java NIO.2</a>"}],"answers":[{"tags":[],"owner":{"account_id":25424392,"reputation":69,"user_id":19229766,"display_name":"TwoOfTwelve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653897100,"creation_date":1653897100,"answer_id":72430846,"question_id":72427219,"body_markdown":"You could do that.\r\n\r\nI assume your artifact is a jar file, which is nothing else than a zip file. You can obtain the location of your jar file in the file system and use the [Zip File System][1] to modify it. However I&#39;m not sure, if the jvm might have a problem with that and it might not work on windows, since windows likes to block files, that are in use.\r\nAlso this would definitely fail, if your jar file is not stored locally.\r\n\r\nA better approach would be to store your data files at the appropriate location in your system.\r\n\r\nOn Linux(and probably mac): \\&lt;home\\&gt;/.local/share/\\&lt;your application name\\&gt;/\r\n\r\nOn Linux(global): /var/lib/\\&lt;application name\\&gt;\r\n\r\nOn Windows(I think, better check it yourself): \\&lt;appdata\\&gt;/\\&lt;your application name\\&gt;\r\n\r\nYour code would look something like this(for Linux):\r\n\r\n    File home = new File(System.getProperty(&quot;HOME&quot;);\r\n    File configDirectory = new File(home, &quot;.local/share/&lt;application name&gt;&quot;);\r\n    configDirectory.mkdirs();\r\n    File mainMenu = new File(configDirectory, &quot;MainMenuData.txt&quot;);\r\n\r\nFor windows do something similar. If you need both, you should check on which you are currently running.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\r\n","title":"How do you create a file within a Java artifact?","body":"<p>You could do that.</p>\n<p>I assume your artifact is a jar file, which is nothing else than a zip file. You can obtain the location of your jar file in the file system and use the <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\" rel=\"nofollow noreferrer\">Zip File System</a> to modify it. However I'm not sure, if the jvm might have a problem with that and it might not work on windows, since windows likes to block files, that are in use.\nAlso this would definitely fail, if your jar file is not stored locally.</p>\n<p>A better approach would be to store your data files at the appropriate location in your system.</p>\n<p>On Linux(and probably mac): &lt;home&gt;/.local/share/&lt;your application name&gt;/</p>\n<p>On Linux(global): /var/lib/&lt;application name&gt;</p>\n<p>On Windows(I think, better check it yourself): &lt;appdata&gt;/&lt;your application name&gt;</p>\n<p>Your code would look something like this(for Linux):</p>\n<pre><code>File home = new File(System.getProperty(&quot;HOME&quot;);\nFile configDirectory = new File(home, &quot;.local/share/&lt;application name&gt;&quot;);\nconfigDirectory.mkdirs();\nFile mainMenu = new File(configDirectory, &quot;MainMenuData.txt&quot;);\n</code></pre>\n<p>For windows do something similar. If you need both, you should check on which you are currently running.</p>\n"}],"owner":{"account_id":25421712,"reputation":25,"user_id":19227608,"display_name":"Fady Faheem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":72430846,"answer_count":1,"score":-3,"last_activity_date":1653897100,"creation_date":1653857574,"question_id":72427219,"body_markdown":"I am currently working on a Java application in Intellij, and I cannot create a file within my artifact. As an example, I&#39;m using File to create a file within the source, which is MainMenuData.txt. \r\n\r\n    File mainMenu = new File(&quot;MainMenuData.txt&quot;);\r\n            String absPath = mainMenu.getPath();\r\n            mainMenu.createNewFile();\r\n            BufferedReader br = new BufferedReader(new FileReader(absPath));\r\n\r\nIn this, I&#39;m using File to make sure that file exists whenever it isn&#39;t.\r\n\r\nInstead, I&#39;d like to build within the (Production) artifact. Is that doable? \r\n\r\nAnything helps. Thanks.","title":"How do you create a file within a Java artifact?","body":"<p>I am currently working on a Java application in Intellij, and I cannot create a file within my artifact. As an example, I'm using File to create a file within the source, which is MainMenuData.txt.</p>\n<pre><code>File mainMenu = new File(&quot;MainMenuData.txt&quot;);\n        String absPath = mainMenu.getPath();\n        mainMenu.createNewFile();\n        BufferedReader br = new BufferedReader(new FileReader(absPath));\n</code></pre>\n<p>In this, I'm using File to make sure that file exists whenever it isn't.</p>\n<p>Instead, I'd like to build within the (Production) artifact. Is that doable?</p>\n<p>Anything helps. Thanks.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1653169188,"post_id":72333161,"comment_id":127786737,"body_markdown":"Does this answer your question? [Java Generics (Wildcards)](https://stackoverflow.com/questions/252055/java-generics-wildcards) `? super Integer` means that it could be `Integer` or a supertype of `Integer`.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/252055/java-generics-wildcards\">Java Generics (Wildcards)</a> <code>? super Integer</code> means that it could be <code>Integer</code> or a supertype of <code>Integer</code>."}],"answers":[{"tags":[],"owner":{"account_id":15578732,"reputation":636,"user_id":11239174,"display_name":"Devxln"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1653169180,"creation_date":1653169180,"answer_id":72333387,"question_id":72333161,"body_markdown":"This is actually a bit of compiler trickery. In Java, generics are stripped when compiling source code (.java) to JVM bytecode (.class). For this particular class, `ReverseComparator`, it actually does not care about the generic type of the object that&#39;s being compared. It does not use the generic in any way, and has therefore its generic defined using the parent of all classes, `Object`. Then, when the method `reverseOrder()` is called, the particular instance of `ReverseComparator` is casted to the particular type from the calling context, inferred by the compiler, or by the developer&#39;s specification using the `Collections.&lt;MyClass&gt;reverseOrder()` syntax.\r\n\r\nThe reason the compiler accepts this unsafe cast from Object -&gt; T, is because of `@SuppressWarnings(&quot;unchecked&quot;)` above this method, allowing unchecked casts.","title":"How can Collection.reverseOrder() used in Arrays.&lt;Integer&gt;sort()","body":"<p>This is actually a bit of compiler trickery. In Java, generics are stripped when compiling source code (.java) to JVM bytecode (.class). For this particular class, <code>ReverseComparator</code>, it actually does not care about the generic type of the object that's being compared. It does not use the generic in any way, and has therefore its generic defined using the parent of all classes, <code>Object</code>. Then, when the method <code>reverseOrder()</code> is called, the particular instance of <code>ReverseComparator</code> is casted to the particular type from the calling context, inferred by the compiler, or by the developer's specification using the <code>Collections.&lt;MyClass&gt;reverseOrder()</code> syntax.</p>\n<p>The reason the compiler accepts this unsafe cast from Object -&gt; T, is because of <code>@SuppressWarnings(&quot;unchecked&quot;)</code> above this method, allowing unchecked casts.</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653896554,"creation_date":1653895298,"answer_id":72430503,"question_id":72333161,"body_markdown":"The variable `comparator` has type `Comparator&lt;? super Integer&gt;` (or `Comparator&lt;Integer&gt;`; it doesn&#39;t matter for our purposes). The compiler sees that you want the `Collections.reverseOrder()` method to return the type `Comparator&lt;? super Integer&gt;`, so it infers the `T` in the call to `Collections.reverseOrder()` that will make it return a `Comparator&lt;? super Integer&gt;`. It might, for example, infer `T = Integer`, so the `Collections.reverseOrder()` call will return a `Comparator&lt;Integer&gt;` (or it is also valid to infer `T = Object`, so that `Collections.reverseOrder()` will return a `Comparator&lt;Object&gt;`; it doesn&#39;t matter either way). As for how the `Collections.reverseOrder()` gets a value of the type `Comparator&lt;Integer&gt;`, that&#39;s an internal implementation detail of the library.\r\n\r\nIn the implementation of the library you are looking at, it has a single global comparator instance, `ReverseComparator.REVERSE_ORDER`. But how can `Collections.reverseOrder()` return this no matter what `T` is? For example, it is not possible for something to be `Comparator&lt;Integer&gt;` and `Comparator&lt;String&gt;` at the same time. So basically, the library is lying. `ReverseComparator.REVERSE_ORDER` is declared as some dummy type of comparator (it happens to be `Comparator&lt;Comparable&lt;Object&gt;&gt;`, but it doesn&#39;t really matter; it could be `Comparator&lt;Math&gt;` for all we care), and then inside the `Collections.reverseOrder()` method it does an unchecked cast of `ReverseComparator.REVERSE_ORDER` into the right type of comparator that it wants to return (`Comparator&lt;T&gt;`).\r\n\r\nThis unchecked cast is theoretically &quot;incorrect&quot; because `ReverseComparator` is not actually a `Comparator&lt;T&gt;` for any `T` other than `Comparable&lt;Object&gt;` (and basically nobody ever implements `Comparable&lt;Object&gt;`, so it is basically always &quot;incorrect&quot;). However, generics are erased at runtime (that&#39;s why the cast is &quot;unchecked&quot; -- it is not possible to check it at runtime), so it won&#39;t cause any exceptions as long as using a `ReverseComparator` as a `Comparator&lt;Integer&gt;` won&#39;t lead to any invalid assumptions at runtime. The only thing that a `Comparator&lt;Integer&gt;` needs to do is have a method `compare()` that takes two `Integer`s. `ReverseComparator`&#39;s `compare()` method is able to do that, since `ReverseComparator`&#39;s `compare()` method takes two `Comparable`s, and `Integer`s are `Comparable`s. `ReverseComparator`&#39;s `compare()` method calls the `compareTo()` method on the second argument, passing the first argument; that is valid for `Integer`s, since `Integer`s are comparable to themselves. So this usage is safe, and the lie does not cause any problems.\r\n\r\nIf I were able to rewrite the `reverseOrder()` API from scratch and implement it in a &quot;safe&quot; way, I would probably do something like this:\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;T&gt; reverseOrder() {\r\n        return new Comparator&lt;T&gt;() {\r\n            public int compare(T c1, T c2) {\r\n                return c2.compareTo(c1);\r\n            }\r\n        };\r\n    }\r\n\r\nThis guarantees that `T` is actually comparable to itself, and doesn&#39;t do any unchecked casts. One downside is that it needs to create a new Comparator instance for every call to `reverseOrder()`. (Perhaps using lambdas instead of anonymous classes could avoid that.)","title":"How can Collection.reverseOrder() used in Arrays.&lt;Integer&gt;sort()","body":"<p>The variable <code>comparator</code> has type <code>Comparator&lt;? super Integer&gt;</code> (or <code>Comparator&lt;Integer&gt;</code>; it doesn't matter for our purposes). The compiler sees that you want the <code>Collections.reverseOrder()</code> method to return the type <code>Comparator&lt;? super Integer&gt;</code>, so it infers the <code>T</code> in the call to <code>Collections.reverseOrder()</code> that will make it return a <code>Comparator&lt;? super Integer&gt;</code>. It might, for example, infer <code>T = Integer</code>, so the <code>Collections.reverseOrder()</code> call will return a <code>Comparator&lt;Integer&gt;</code> (or it is also valid to infer <code>T = Object</code>, so that <code>Collections.reverseOrder()</code> will return a <code>Comparator&lt;Object&gt;</code>; it doesn't matter either way). As for how the <code>Collections.reverseOrder()</code> gets a value of the type <code>Comparator&lt;Integer&gt;</code>, that's an internal implementation detail of the library.</p>\n<p>In the implementation of the library you are looking at, it has a single global comparator instance, <code>ReverseComparator.REVERSE_ORDER</code>. But how can <code>Collections.reverseOrder()</code> return this no matter what <code>T</code> is? For example, it is not possible for something to be <code>Comparator&lt;Integer&gt;</code> and <code>Comparator&lt;String&gt;</code> at the same time. So basically, the library is lying. <code>ReverseComparator.REVERSE_ORDER</code> is declared as some dummy type of comparator (it happens to be <code>Comparator&lt;Comparable&lt;Object&gt;&gt;</code>, but it doesn't really matter; it could be <code>Comparator&lt;Math&gt;</code> for all we care), and then inside the <code>Collections.reverseOrder()</code> method it does an unchecked cast of <code>ReverseComparator.REVERSE_ORDER</code> into the right type of comparator that it wants to return (<code>Comparator&lt;T&gt;</code>).</p>\n<p>This unchecked cast is theoretically &quot;incorrect&quot; because <code>ReverseComparator</code> is not actually a <code>Comparator&lt;T&gt;</code> for any <code>T</code> other than <code>Comparable&lt;Object&gt;</code> (and basically nobody ever implements <code>Comparable&lt;Object&gt;</code>, so it is basically always &quot;incorrect&quot;). However, generics are erased at runtime (that's why the cast is &quot;unchecked&quot; -- it is not possible to check it at runtime), so it won't cause any exceptions as long as using a <code>ReverseComparator</code> as a <code>Comparator&lt;Integer&gt;</code> won't lead to any invalid assumptions at runtime. The only thing that a <code>Comparator&lt;Integer&gt;</code> needs to do is have a method <code>compare()</code> that takes two <code>Integer</code>s. <code>ReverseComparator</code>'s <code>compare()</code> method is able to do that, since <code>ReverseComparator</code>'s <code>compare()</code> method takes two <code>Comparable</code>s, and <code>Integer</code>s are <code>Comparable</code>s. <code>ReverseComparator</code>'s <code>compare()</code> method calls the <code>compareTo()</code> method on the second argument, passing the first argument; that is valid for <code>Integer</code>s, since <code>Integer</code>s are comparable to themselves. So this usage is safe, and the lie does not cause any problems.</p>\n<p>If I were able to rewrite the <code>reverseOrder()</code> API from scratch and implement it in a &quot;safe&quot; way, I would probably do something like this:</p>\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; Comparator&lt;T&gt; reverseOrder() {\n    return new Comparator&lt;T&gt;() {\n        public int compare(T c1, T c2) {\n            return c2.compareTo(c1);\n        }\n    };\n}\n</code></pre>\n<p>This guarantees that <code>T</code> is actually comparable to itself, and doesn't do any unchecked casts. One downside is that it needs to create a new Comparator instance for every call to <code>reverseOrder()</code>. (Perhaps using lambdas instead of anonymous classes could avoid that.)</p>\n"}],"owner":{"account_id":1143695,"reputation":1090,"user_id":1126944,"accept_rate":65,"display_name":"IcyBrk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653896554,"creation_date":1653166654,"question_id":72333161,"body_markdown":"I see the Collections.reverseOrder() method returns a type `ReverseComparator`, which implements `Comparator&lt;Comparable&lt;Object&gt;&gt;`, as below\r\n\r\n        private static class ReverseComparator implements Comparator&lt;Comparable&lt;Object&gt;&gt;, Serializable {\r\n                private static final long serialVersionUID = 7207038068494060240L;\r\n                static final Collections.ReverseComparator REVERSE_ORDER = new Collections.ReverseComparator();\r\n      ....\r\n\r\nin below valid code:\r\n\r\n    var comparator = Collections.reverseOrder();\r\n    Arrays.sort(new Integer[]{2, 4}, comparator);\r\n\r\nthe 2nd parameter of the sort method is of type `Comparator&lt;? super Integer&gt;`.\r\n\r\nI think when the sort method get called, the `Comparator&lt;Comparable&lt;Object&gt;&gt;` type is conceptually convertible to `Comparator&lt;? super Integer&gt;`, thus I wonder how a `Comparable&lt;Object&gt;` becoming super type of `Integer`, although I know `Integer` implements `Comparable&lt;Integer&gt;`.","title":"How can Collection.reverseOrder() used in Arrays.&lt;Integer&gt;sort()","body":"<p>I see the Collections.reverseOrder() method returns a type <code>ReverseComparator</code>, which implements <code>Comparator&lt;Comparable&lt;Object&gt;&gt;</code>, as below</p>\n<pre><code>    private static class ReverseComparator implements Comparator&lt;Comparable&lt;Object&gt;&gt;, Serializable {\n            private static final long serialVersionUID = 7207038068494060240L;\n            static final Collections.ReverseComparator REVERSE_ORDER = new Collections.ReverseComparator();\n  ....\n</code></pre>\n<p>in below valid code:</p>\n<pre><code>var comparator = Collections.reverseOrder();\nArrays.sort(new Integer[]{2, 4}, comparator);\n</code></pre>\n<p>the 2nd parameter of the sort method is of type <code>Comparator&lt;? super Integer&gt;</code>.</p>\n<p>I think when the sort method get called, the <code>Comparator&lt;Comparable&lt;Object&gt;&gt;</code> type is conceptually convertible to <code>Comparator&lt;? super Integer&gt;</code>, thus I wonder how a <code>Comparable&lt;Object&gt;</code> becoming super type of <code>Integer</code>, although I know <code>Integer</code> implements <code>Comparable&lt;Integer&gt;</code>.</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1653669188,"post_id":72406749,"comment_id":127914964,"body_markdown":"What does `gradle dependencies` output?","body":"What does <code>gradle dependencies</code> output?"}],"answers":[{"tags":[],"owner":{"account_id":3595426,"reputation":1163,"user_id":3000316,"accept_rate":33,"display_name":"Monkey Supersonic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653896389,"creation_date":1653896389,"answer_id":72430707,"question_id":72406749,"body_markdown":"The problem was caused by some faulty [Gradle Module Metadata file][1] `~/repository/de/mycompany/log4j/log4j-patched/1.2.17/log4j-patched-1.2.17.module`. The way I had produced this artifact had somehow ommitted the `&quot;files&quot;` section inside that JSON file, which I now manually added:\r\n\r\n    &quot;variants&quot;: [\r\n      {\r\n        &quot;name&quot;: &quot;apiElements&quot;,\r\n        &quot;attributes&quot;: {\r\n          &quot;org.gradle.category&quot;: &quot;library&quot;,\r\n          &quot;org.gradle.dependency.bundling&quot;: &quot;external&quot;,\r\n          &quot;org.gradle.jvm.version&quot;: 8,\r\n          &quot;org.gradle.libraryelements&quot;: &quot;jar&quot;,\r\n          &quot;org.gradle.usage&quot;: &quot;java-api&quot;\r\n        },\r\n      &quot;files&quot;: [          &lt;-- was missing\r\n          {\r\n            &quot;name&quot;: &quot;log4j-patched-1.2.17.jar&quot;,\r\n            &quot;url&quot;: &quot;log4j-patched-1.2.17.jar&quot;,\r\n            &quot;size&quot;: 486452,\r\n            &quot;sha512&quot;: &quot;a3ef13253b028eb6c1f9b6c13d4cdabacd58248656e12ed452421cf6a11403d0677b731af14cd6c02acadaf6a476b5e6385cb3ea1103c0caab99bf7daf6ad123&quot;,\r\n            &quot;sha256&quot;: &quot;cda50c4347907ce41d76a96fd6177af67f37d195cc72a83d35a077e887315fd2&quot;,\r\n            &quot;sha1&quot;: &quot;5cb110f676d6cc7f1101a0a423a6f3574c222940&quot;,\r\n            &quot;md5&quot;: &quot;9952949bf21e452ddd887025a6eb5aae&quot;\r\n           }\r\n        ]\r\n      },\r\n      [..]\r\n    ]\r\n\r\nThe lack of that `&quot;files&quot;` section could have been due to my (non-standard?) way of publishing this (already existing) jar.\r\n\r\nIf you don&#39;t care at all about Gradle Module Metadata files, you could also simply delete the corresponding files, respectively not produce it at all during publishing.\r\n\r\nIn my opinion, Gradle should give us more information during the build process on why a certain jar file cannot be found in the repository despite the artifact being installed correctly.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/publishing_gradle_module_metadata.html","title":"Gradle finds local dependency, but doesn&#39;t include it in compile classpath","body":"<p>The problem was caused by some faulty <a href=\"https://docs.gradle.org/current/userguide/publishing_gradle_module_metadata.html\" rel=\"nofollow noreferrer\">Gradle Module Metadata file</a> <code>~/repository/de/mycompany/log4j/log4j-patched/1.2.17/log4j-patched-1.2.17.module</code>. The way I had produced this artifact had somehow ommitted the <code>&quot;files&quot;</code> section inside that JSON file, which I now manually added:</p>\n<pre><code>&quot;variants&quot;: [\n  {\n    &quot;name&quot;: &quot;apiElements&quot;,\n    &quot;attributes&quot;: {\n      &quot;org.gradle.category&quot;: &quot;library&quot;,\n      &quot;org.gradle.dependency.bundling&quot;: &quot;external&quot;,\n      &quot;org.gradle.jvm.version&quot;: 8,\n      &quot;org.gradle.libraryelements&quot;: &quot;jar&quot;,\n      &quot;org.gradle.usage&quot;: &quot;java-api&quot;\n    },\n  &quot;files&quot;: [          &lt;-- was missing\n      {\n        &quot;name&quot;: &quot;log4j-patched-1.2.17.jar&quot;,\n        &quot;url&quot;: &quot;log4j-patched-1.2.17.jar&quot;,\n        &quot;size&quot;: 486452,\n        &quot;sha512&quot;: &quot;a3ef13253b028eb6c1f9b6c13d4cdabacd58248656e12ed452421cf6a11403d0677b731af14cd6c02acadaf6a476b5e6385cb3ea1103c0caab99bf7daf6ad123&quot;,\n        &quot;sha256&quot;: &quot;cda50c4347907ce41d76a96fd6177af67f37d195cc72a83d35a077e887315fd2&quot;,\n        &quot;sha1&quot;: &quot;5cb110f676d6cc7f1101a0a423a6f3574c222940&quot;,\n        &quot;md5&quot;: &quot;9952949bf21e452ddd887025a6eb5aae&quot;\n       }\n    ]\n  },\n  [..]\n]\n</code></pre>\n<p>The lack of that <code>&quot;files&quot;</code> section could have been due to my (non-standard?) way of publishing this (already existing) jar.</p>\n<p>If you don't care at all about Gradle Module Metadata files, you could also simply delete the corresponding files, respectively not produce it at all during publishing.</p>\n<p>In my opinion, Gradle should give us more information during the build process on why a certain jar file cannot be found in the repository despite the artifact being installed correctly.</p>\n"}],"owner":{"account_id":3595426,"reputation":1163,"user_id":3000316,"accept_rate":33,"display_name":"Monkey Supersonic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653896389,"creation_date":1653660705,"question_id":72406749,"body_markdown":"I have my own, slightly patched version `log4j-patched-1.2.17` of Apache Log4j. It is installed into my local Maven repository, can be found by Gradle, but is still not used for compilation.\r\n\r\nMy `build.gradle` of the consuming project:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenLocal()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;de.mycompany.log4j:log4j-patched:1.2.17&#39;\r\n    }\r\n\r\nThe POM (slightly abbreviated) of my `log4j-patched` is\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\r\n      &lt;!-- do_not_remove: published-with-gradle-metadata --&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;de.mycompany.log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j-patched&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nThe test class I try to compile:\r\n\r\n    import org.apache.log4j.Logger;\r\n    \r\n    public class TestClass {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(Logger.class);\r\n    \t}\r\n    }\r\n\r\nThe debug output of `gradle clean build` highly suggests Gradle does find `log4j-patched-1.2.17`:\r\n\r\n    2022-05-27T15:45:43.160+0200 [DEBUG] [org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver] Attempting to resolve component for de.mycompany.log4j:log4j-patched:1.2.17 using repositories [MavenLocal]\r\n    2022-05-27T15:45:43.160+0200 [DEBUG] [org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver] Loading file:/C:/Users/myuser/.m2/repository/de/mycompany/log4j/log4j-patched/1.2.17/log4j-patched-1.2.17.pom\r\n    2022-05-27T15:45:43.163+0200 [DEBUG] [org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver] Loading file:/C:/Users/myuser/.m2/repository/de/mycompany/log4j/log4j-patched/1.2.17/log4j-patched-1.2.17.jar\r\n    2022-05-27T15:45:43.163+0200 [DEBUG] [org.gradle.api.internal.artifacts.repositories.resolver.ExternalResourceResolver] Metadata file found for module &#39;de.mycompany.log4j:log4j-patched:1.2.17&#39; in repository &#39;MavenLocal&#39;.\r\n    2022-05-27T15:45:43.163+0200 [DEBUG] [org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver] Loading file:/C:/Users/myuser/.m2/repository/de/mycompany/log4j/log4j-patched/1.2.17/log4j-patched-1.2.17.module\r\n    2022-05-27T15:45:43.164+0200 [DEBUG] [org.gradle.api.internal.artifacts.ivyservice.modulecache.PersistentModuleMetadataCache] Recording module descriptor in cache: de.mycompany.log4j:log4j-patched:1.2.17 [changing = false]\r\n    2022-05-27T15:45:43.164+0200 [DEBUG] [org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver] Using de.mycompany.log4j:log4j-patched:1.2.17 from Maven repository &#39;MavenLocal&#39;\r\n\r\nHowever, the build aborts with\r\n\r\n    D:\\path\\to\\project\\src\\main\\java\\TestClass.java:5: error: cannot find symbol\r\n                    System.out.println(Logger.class);\r\n                                       ^\r\n      symbol:   class Logger\r\n      location: class TestClass\r\n\r\nAnd also, the actual compile command misses the required jar as classpath element (`-classpath` argument completely missing):\r\n\r\n    2022-05-27T15:51:16.777+0200 [DEBUG] [org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler] Compiler arguments: -source 1.8 -target 1.8 -d D:\\Projekt\\path\\to\\project\\TestProject\\build\\classes\\java\\main -h D:\\Projekt\\path\\to\\project\\TestProject\\build\\generated\\sources\\headers\\java\\main -g -sourcepath  -proc:none -s D:\\Projekt\\path\\to\\project\\TestProject\\build\\generated\\sources\\annotationProcessor\\java\\main -XDuseUnsharedTable=true D:\\Projekt\\path\\to\\project\\TestProject\\src\\main\\java\\TestClass.java\r\n\r\nBUT: When I change the `dependencies` of my `build.gradle` to \r\n\r\n    dependencies {\r\n        implementation files(&#39;c:/Users/myuser/.m2/repository/de/mycompany/log4j/log4j-patched/1.2.17/log4j-patched-1.2.17.jar&#39;)\r\n    }\r\n\r\nThe program compiles flawlessly.\r\n\r\nWhy does Gradle find `log4j-patched.jar` in my local repository, but still doesn&#39;t include it in the compile classpath?\r\n\r\nEDIT: The output of `gradle dependencies` is\r\n\r\n    ------------------------------------------------------------\r\n    Root project &#39;TestProject&#39;\r\n    ------------------------------------------------------------\r\n    \r\n    [...]\r\n    \r\n    compileClasspath - Compile classpath for source set &#39;main&#39;.\r\n    \\--- de.mycompany.log4j:log4j-patched:1.2.17\r\n    \r\n    compileOnly - Compile only dependencies for source set &#39;main&#39;. (n)\r\n    No dependencies\r\n    \r\n    default - Configuration for default artifacts. (n)\r\n    No dependencies\r\n    \r\n    implementation - Implementation only dependencies for source set &#39;main&#39;. (n)\r\n    \\--- de.mycompany.log4j:log4j-patched:1.2.17 (n)\r\n    \r\n    runtimeClasspath - Runtime classpath of source set &#39;main&#39;.\r\n    \\--- de.mycompany.log4j:log4j-patched:1.2.17\r\n    \r\n    [...]\r\n    \r\n    (n) - Not resolved (configuration is not meant to be resolved)\r\n    \r\n    A web-based, searchable dependency report is available by adding the --scan option.\r\n    \r\n    BUILD SUCCESSFUL in 741ms\r\n    1 actionable task: 1 executed","title":"Gradle finds local dependency, but doesn&#39;t include it in compile classpath","body":"<p>I have my own, slightly patched version <code>log4j-patched-1.2.17</code> of Apache Log4j. It is installed into my local Maven repository, can be found by Gradle, but is still not used for compilation.</p>\n<p>My <code>build.gradle</code> of the consuming project:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\nrepositories {\n    mavenLocal()\n}\n\ndependencies {\n    implementation 'de.mycompany.log4j:log4j-patched:1.2.17'\n}\n</code></pre>\n<p>The POM (slightly abbreviated) of my <code>log4j-patched</code> is</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\n  &lt;!-- do_not_remove: published-with-gradle-metadata --&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;de.mycompany.log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j-patched&lt;/artifactId&gt;\n  &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The test class I try to compile:</p>\n<pre><code>import org.apache.log4j.Logger;\n\npublic class TestClass {\n    public static void main(String[] args) {\n        System.out.println(Logger.class);\n    }\n}\n</code></pre>\n<p>The debug output of <code>gradle clean build</code> highly suggests Gradle does find <code>log4j-patched-1.2.17</code>:</p>\n<pre><code>2022-05-27T15:45:43.160+0200 [DEBUG] [org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver] Attempting to resolve component for de.mycompany.log4j:log4j-patched:1.2.17 using repositories [MavenLocal]\n2022-05-27T15:45:43.160+0200 [DEBUG] [org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver] Loading file:/C:/Users/myuser/.m2/repository/de/mycompany/log4j/log4j-patched/1.2.17/log4j-patched-1.2.17.pom\n2022-05-27T15:45:43.163+0200 [DEBUG] [org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver] Loading file:/C:/Users/myuser/.m2/repository/de/mycompany/log4j/log4j-patched/1.2.17/log4j-patched-1.2.17.jar\n2022-05-27T15:45:43.163+0200 [DEBUG] [org.gradle.api.internal.artifacts.repositories.resolver.ExternalResourceResolver] Metadata file found for module 'de.mycompany.log4j:log4j-patched:1.2.17' in repository 'MavenLocal'.\n2022-05-27T15:45:43.163+0200 [DEBUG] [org.gradle.api.internal.artifacts.repositories.resolver.DefaultExternalResourceArtifactResolver] Loading file:/C:/Users/myuser/.m2/repository/de/mycompany/log4j/log4j-patched/1.2.17/log4j-patched-1.2.17.module\n2022-05-27T15:45:43.164+0200 [DEBUG] [org.gradle.api.internal.artifacts.ivyservice.modulecache.PersistentModuleMetadataCache] Recording module descriptor in cache: de.mycompany.log4j:log4j-patched:1.2.17 [changing = false]\n2022-05-27T15:45:43.164+0200 [DEBUG] [org.gradle.api.internal.artifacts.ivyservice.ivyresolve.RepositoryChainComponentMetaDataResolver] Using de.mycompany.log4j:log4j-patched:1.2.17 from Maven repository 'MavenLocal'\n</code></pre>\n<p>However, the build aborts with</p>\n<pre><code>D:\\path\\to\\project\\src\\main\\java\\TestClass.java:5: error: cannot find symbol\n                System.out.println(Logger.class);\n                                   ^\n  symbol:   class Logger\n  location: class TestClass\n</code></pre>\n<p>And also, the actual compile command misses the required jar as classpath element (<code>-classpath</code> argument completely missing):</p>\n<pre><code>2022-05-27T15:51:16.777+0200 [DEBUG] [org.gradle.api.internal.tasks.compile.NormalizingJavaCompiler] Compiler arguments: -source 1.8 -target 1.8 -d D:\\Projekt\\path\\to\\project\\TestProject\\build\\classes\\java\\main -h D:\\Projekt\\path\\to\\project\\TestProject\\build\\generated\\sources\\headers\\java\\main -g -sourcepath  -proc:none -s D:\\Projekt\\path\\to\\project\\TestProject\\build\\generated\\sources\\annotationProcessor\\java\\main -XDuseUnsharedTable=true D:\\Projekt\\path\\to\\project\\TestProject\\src\\main\\java\\TestClass.java\n</code></pre>\n<p>BUT: When I change the <code>dependencies</code> of my <code>build.gradle</code> to</p>\n<pre><code>dependencies {\n    implementation files('c:/Users/myuser/.m2/repository/de/mycompany/log4j/log4j-patched/1.2.17/log4j-patched-1.2.17.jar')\n}\n</code></pre>\n<p>The program compiles flawlessly.</p>\n<p>Why does Gradle find <code>log4j-patched.jar</code> in my local repository, but still doesn't include it in the compile classpath?</p>\n<p>EDIT: The output of <code>gradle dependencies</code> is</p>\n<pre><code>------------------------------------------------------------\nRoot project 'TestProject'\n------------------------------------------------------------\n\n[...]\n\ncompileClasspath - Compile classpath for source set 'main'.\n\\--- de.mycompany.log4j:log4j-patched:1.2.17\n\ncompileOnly - Compile only dependencies for source set 'main'. (n)\nNo dependencies\n\ndefault - Configuration for default artifacts. (n)\nNo dependencies\n\nimplementation - Implementation only dependencies for source set 'main'. (n)\n\\--- de.mycompany.log4j:log4j-patched:1.2.17 (n)\n\nruntimeClasspath - Runtime classpath of source set 'main'.\n\\--- de.mycompany.log4j:log4j-patched:1.2.17\n\n[...]\n\n(n) - Not resolved (configuration is not meant to be resolved)\n\nA web-based, searchable dependency report is available by adding the --scan option.\n\nBUILD SUCCESSFUL in 741ms\n1 actionable task: 1 executed\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1653887325,"post_id":72429371,"comment_id":127952054,"body_markdown":"Possibly related: [How to fluently build JSON in Java?](https://stackoverflow.com/q/8876089)","body":"Possibly related: <a href=\"https://stackoverflow.com/q/8876089\">How to fluently build JSON in Java?</a>"},{"owner":{"account_id":10669456,"reputation":899,"user_id":10357591,"display_name":"너를 속였다"},"score":0,"creation_date":1653887423,"post_id":72429371,"comment_id":127952071,"body_markdown":"@Pshemo its still so much boilerplate for such trivial task","body":"@Pshemo its still so much boilerplate for such trivial task"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1653887630,"post_id":72429371,"comment_id":127952112,"body_markdown":"You can also create String representing JSON and parse it. So something like `String jsonStr = &quot;{your JSON structure}&quot;; JSONObject obj = new JSONObject(jsonStr);`.","body":"You can also create String representing JSON and parse it. So something like <code>String jsonStr = &quot;{your JSON structure}&quot;; JSONObject obj = new JSONObject(jsonStr);</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1653887878,"post_id":72429371,"comment_id":127952146,"body_markdown":"If the boilerplate is a significant issue for you then, assuming your requirements allow it, use a different language than Java. For instance, I would assume you can code a Spring Boot application using Kotlin (or even mix Kotlin and Java together).","body":"If the boilerplate is a significant issue for you then, assuming your requirements allow it, use a different language than Java. For instance, I would assume you can code a Spring Boot application using Kotlin (or even mix Kotlin and Java together)."}],"answers":[{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653896387,"creation_date":1653896387,"answer_id":72430705,"question_id":72429371,"body_markdown":"In spring, you normally don&#39;t need lines like your RUST-example. Spring is doing a lot behind the scenes for you.\r\n\r\n\r\n# Two common use-cases\r\n## 1. Provide a REST-API\r\nNormally, when you use spring, then you want to build a REST-API. A simple API looks like this:\r\n\r\n```java\r\n// User.java\r\n@Data // &lt;- Lombok annotation, which creates getter/setter/equals/hashcode for us\r\npublic class User {\r\n   private String name;\r\n}\r\n\r\n// UserController.java\r\n@Controller\r\n@RequiredArgsConstructor\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n\r\n   private final UserRepository userRepository;\r\n\r\n   @GetMapping(&quot;/{id}&quot;)\r\n   public User getUser(@PathVariable(&quot;id&quot;) String id) {\r\n      // spring will serialize the user automatically for you\r\n      // there is no need to build a json yourself\r\n      return userRepository.getById(id);\r\n   }\r\n```\r\n\r\n## 2. Consume a REST-API\r\n\r\nOn the other hand, we want to consume a REST-API. But also here: Spring and his ecosystem is doing the JSON-part for you.\r\n\r\n```java\r\n// User.java\r\n@Data\r\npublic class User {\r\n    private String name;\r\n}\r\n\r\n// some random method in a class with a webClient\r\nprivate User consumeRest() {\r\n   // even here: no manual json parsing at all\r\n   // Spring-magic is working for you\r\n   return this.webClient.get()\r\n      .uri(someUriHere)\r\n      .retrive()\r\n      .bodyToMono(User.class)\r\n      .block();\r\n}\r\n```\r\n\r\n# tl;dr\r\nSpring (and java) requires a strong typing. You need almost always a type-class (aka POJO). The classes can be really complex. Hundred of fields and nested fields? No problem.\r\n\r\nThere are some &quot;hacks&quot; to bypass the type. Like the link in the comments or a `Map&lt;String, Object&gt;` but you will loose the type-safety.\r\n\r\nIf that is too much &quot;boilerplate&quot;, than Java is not perhaps the right choice for you. \r\n\r\n","title":"Least boilerplaty way of creating JSON in Java/Spring Boot?","body":"<p>In spring, you normally don't need lines like your RUST-example. Spring is doing a lot behind the scenes for you.</p>\n<h1>Two common use-cases</h1>\n<h2>1. Provide a REST-API</h2>\n<p>Normally, when you use spring, then you want to build a REST-API. A simple API looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// User.java\n@Data // &lt;- Lombok annotation, which creates getter/setter/equals/hashcode for us\npublic class User {\n   private String name;\n}\n\n// UserController.java\n@Controller\n@RequiredArgsConstructor\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n   private final UserRepository userRepository;\n\n   @GetMapping(&quot;/{id}&quot;)\n   public User getUser(@PathVariable(&quot;id&quot;) String id) {\n      // spring will serialize the user automatically for you\n      // there is no need to build a json yourself\n      return userRepository.getById(id);\n   }\n</code></pre>\n<h2>2. Consume a REST-API</h2>\n<p>On the other hand, we want to consume a REST-API. But also here: Spring and his ecosystem is doing the JSON-part for you.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// User.java\n@Data\npublic class User {\n    private String name;\n}\n\n// some random method in a class with a webClient\nprivate User consumeRest() {\n   // even here: no manual json parsing at all\n   // Spring-magic is working for you\n   return this.webClient.get()\n      .uri(someUriHere)\n      .retrive()\n      .bodyToMono(User.class)\n      .block();\n}\n</code></pre>\n<h1>tl;dr</h1>\n<p>Spring (and java) requires a strong typing. You need almost always a type-class (aka POJO). The classes can be really complex. Hundred of fields and nested fields? No problem.</p>\n<p>There are some &quot;hacks&quot; to bypass the type. Like the link in the comments or a <code>Map&lt;String, Object&gt;</code> but you will loose the type-safety.</p>\n<p>If that is too much &quot;boilerplate&quot;, than Java is not perhaps the right choice for you.</p>\n"}],"owner":{"account_id":10669456,"reputation":899,"user_id":10357591,"display_name":"너를 속였다"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1653896387,"creation_date":1653887150,"question_id":72429371,"body_markdown":"For example in rust, we can use type-safe [json! macro][1] like this:-\r\n\r\n```\r\nlet value = json!({\r\n   &quot;user&quot;: json!({\r\n       &quot;data&quot; : json!({&quot;\r\n           filled&quot;: false\r\n        })\r\n    })\r\n});\r\n```\r\n\r\nWhat is the similar way in java without creating POJO or string literal?\r\n\r\n  [1]: https://docs.serde.rs/serde_json/macro.json.html","title":"Least boilerplaty way of creating JSON in Java/Spring Boot?","body":"<p>For example in rust, we can use type-safe <a href=\"https://docs.serde.rs/serde_json/macro.json.html\" rel=\"nofollow noreferrer\">json! macro</a> like this:-</p>\n<pre><code>let value = json!({\n   &quot;user&quot;: json!({\n       &quot;data&quot; : json!({&quot;\n           filled&quot;: false\n        })\n    })\n});\n</code></pre>\n<p>What is the similar way in java without creating POJO or string literal?</p>\n"},{"tags":["java","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653895287,"creation_date":1653895287,"answer_id":72430501,"question_id":72429945,"body_markdown":"Set up a different environment property for the sub-process via the `ProcessBuilder` before you launch:\r\n\r\n    ProcessBuilder pb = // whatever you use now\r\n \r\n    pb.environment().put(&quot;log4j2.configurationFile&quot;, otherLog4JPropFile);\r\n     \r\n    Process p = pb.start();\r\n   \r\n   ","title":"Log4j2 configuration of library","body":"<p>Set up a different environment property for the sub-process via the <code>ProcessBuilder</code> before you launch:</p>\n<pre><code>ProcessBuilder pb = // whatever you use now\n\npb.environment().put(&quot;log4j2.configurationFile&quot;, otherLog4JPropFile);\n \nProcess p = pb.start();\n</code></pre>\n"}],"owner":{"account_id":22385773,"reputation":86,"user_id":16598611,"display_name":"fko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1653895287,"creation_date":1653891831,"question_id":72429945,"body_markdown":"I have the following application structure.\r\n\r\n1- Outer app which is executed directly via console. It&#39;s log4j configuration is provided via log4j2.configurationFile property. \r\n\r\n2- Inner apps which is executed through ProcessBuilder. They are also configured the same way as outer app. \r\n\r\nThe problem is outer applications configuration file overrides inner ones&#39;. So, every application takes the outer app&#39;s log4j2 configuration file. In inner applications, using LoggerContext, it works but there are restrictions preventing me to change inner applications. How can I resolve this issue?","title":"Log4j2 configuration of library","body":"<p>I have the following application structure.</p>\n<p>1- Outer app which is executed directly via console. It's log4j configuration is provided via log4j2.configurationFile property.</p>\n<p>2- Inner apps which is executed through ProcessBuilder. They are also configured the same way as outer app.</p>\n<p>The problem is outer applications configuration file overrides inner ones'. So, every application takes the outer app's log4j2 configuration file. In inner applications, using LoggerContext, it works but there are restrictions preventing me to change inner applications. How can I resolve this issue?</p>\n"},{"tags":["java","multithreading","server","jersey","jersey-2.0"],"answers":[{"tags":[],"owner":{"account_id":16528479,"reputation":346,"user_id":11942475,"display_name":"Mandar Autade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653894971,"creation_date":1653543388,"answer_id":72387162,"question_id":72334793,"body_markdown":"The solution was kinda throwing the RejectedExecutionException. This is done by `new ThreadPoolExecutor.AbortPolicy()`.The thing weird was that AbortPolicy being default policy, still was not triggered earlier before overriding this createExecutor method. Seems Jersey&#39;s implementation of RejectionExecutionHandler for Executor is a bit different and not using the AbortPolicy.\r\n\r\n```\r\n@Override\r\nprotected ThreadPoolExecutor createExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler){\r\n    return super.createExecutor(corePoolSize, maximumPoolSize, keepAliveTime, workQueue, threadFactory, new ThreadPoolExecutor.AbortPolicy());\r\n}\r\n```\r\n\r\n**EDIT:**\r\nActually the better is overrding the `getRejectedExecutionHandler` method which returns the AbortyPolicy based handler.\r\n\r\n```\r\n/**\r\n* This method returns the handler that handles the rejected runnable tasks.\r\n* We have initialized the handler to {@link AbortPolicy} that helps throwing a {@link RejectedExecutionException} which in turn returns 500 statusCode response\r\n*/\r\n@Override\r\nprotected RejectedExecutionHandler getRejectedExecutionHandler() {\r\n\treturn this.handler;\r\n}\r\n```","title":"How can the server error response be sent when the Jersey ThreadPoolExecutorProvider rejects the request?","body":"<p>The solution was kinda throwing the RejectedExecutionException. This is done by <code>new ThreadPoolExecutor.AbortPolicy()</code>.The thing weird was that AbortPolicy being default policy, still was not triggered earlier before overriding this createExecutor method. Seems Jersey's implementation of RejectionExecutionHandler for Executor is a bit different and not using the AbortPolicy.</p>\n<pre><code>@Override\nprotected ThreadPoolExecutor createExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler){\n    return super.createExecutor(corePoolSize, maximumPoolSize, keepAliveTime, workQueue, threadFactory, new ThreadPoolExecutor.AbortPolicy());\n}\n</code></pre>\n<p><strong>EDIT:</strong>\nActually the better is overrding the <code>getRejectedExecutionHandler</code> method which returns the AbortyPolicy based handler.</p>\n<pre><code>/**\n* This method returns the handler that handles the rejected runnable tasks.\n* We have initialized the handler to {@link AbortPolicy} that helps throwing a {@link RejectedExecutionException} which in turn returns 500 statusCode response\n*/\n@Override\nprotected RejectedExecutionHandler getRejectedExecutionHandler() {\n    return this.handler;\n}\n</code></pre>\n"}],"owner":{"account_id":16528479,"reputation":346,"user_id":11942475,"display_name":"Mandar Autade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72387162,"answer_count":1,"score":0,"last_activity_date":1653894971,"creation_date":1653193409,"question_id":72334793,"body_markdown":"So at server end, we have extended the `org.glassfish.jersey.spi.ThreadPoolExecutorProvider` for having a bounded BlockingQueue of Runnable tasks, overriding the corePoolSize and MaximumPoolSize.\r\n\r\nWhen the capacity of the BlockingQueue exceeds(when there are request which can&#39;t be queued anymore), it starts rejecting the tasks(which is as good as rejecting the requests).\r\n\r\nBut we observed that there&#39;s no response getting sent to the client when the task at the server end gets rejected for above case. Initially we didn&#39;t even know if the request are getting rejected or not, but later read about `java.util.concurrent.RejectedExecutionHandler` and we tried implementing a customHandler and passing it while creating an Executor (please refer the code snippet below).\r\n\r\nI can now see that the task is rejected but not sure how to deal with sending the response to client saying that the request was rejected. If I don&#39;t then the client keeps waiting until maybe it timeouts.\r\n\r\ndo I need to configure anything at Jersey to send the proper response to client.\r\n\r\n```\r\n    @Override\r\n\tprotected ThreadPoolExecutor createExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler){\r\n\t\tSystem.err.println(&quot;MANDAR_CREATED_EXECUTOR&quot;);\r\n\t\treturn super.createExecutor(corePoolSize, maximumPoolSize, keepAliveTime, workQueue, threadFactory, new CustomHandler());\r\n\t}\r\n\r\n\t\r\n\tclass CustomHandler implements RejectedExecutionHandler {\r\n\t    @Override\r\n\t    public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {\r\n\t    \tSystem.err.println(&quot;MANDAR_REJECTED&quot;);\r\n\t    \texecutor.remove(r);\r\n\t    \texecutor.purge();\r\n\t    }\r\n\t}\r\n```\r\nPS: the style we&#39;re using for implementing the Jersey layer is [this][1]\r\n\r\n\r\n  [1]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/user-guide.html#resource-builder","title":"How can the server error response be sent when the Jersey ThreadPoolExecutorProvider rejects the request?","body":"<p>So at server end, we have extended the <code>org.glassfish.jersey.spi.ThreadPoolExecutorProvider</code> for having a bounded BlockingQueue of Runnable tasks, overriding the corePoolSize and MaximumPoolSize.</p>\n<p>When the capacity of the BlockingQueue exceeds(when there are request which can't be queued anymore), it starts rejecting the tasks(which is as good as rejecting the requests).</p>\n<p>But we observed that there's no response getting sent to the client when the task at the server end gets rejected for above case. Initially we didn't even know if the request are getting rejected or not, but later read about <code>java.util.concurrent.RejectedExecutionHandler</code> and we tried implementing a customHandler and passing it while creating an Executor (please refer the code snippet below).</p>\n<p>I can now see that the task is rejected but not sure how to deal with sending the response to client saying that the request was rejected. If I don't then the client keeps waiting until maybe it timeouts.</p>\n<p>do I need to configure anything at Jersey to send the proper response to client.</p>\n<pre><code>    @Override\n    protected ThreadPoolExecutor createExecutor(int corePoolSize, int maximumPoolSize, long keepAliveTime, BlockingQueue&lt;Runnable&gt; workQueue, ThreadFactory threadFactory, RejectedExecutionHandler handler){\n        System.err.println(&quot;MANDAR_CREATED_EXECUTOR&quot;);\n        return super.createExecutor(corePoolSize, maximumPoolSize, keepAliveTime, workQueue, threadFactory, new CustomHandler());\n    }\n\n    \n    class CustomHandler implements RejectedExecutionHandler {\n        @Override\n        public void rejectedExecution(Runnable r, ThreadPoolExecutor executor) {\n            System.err.println(&quot;MANDAR_REJECTED&quot;);\n            executor.remove(r);\n            executor.purge();\n        }\n    }\n</code></pre>\n<p>PS: the style we're using for implementing the Jersey layer is <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/user-guide.html#resource-builder\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":["java","variables","methods","public"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1653734417,"post_id":72414918,"comment_id":127926293,"body_markdown":"Using proper OOP principles, pass the array instance around via method parameters and return values. Though for trivial (e.g., small, single-file) applications, using static fields might be okay. Also, according to standard Java naming conventions, method names should use `camelCase` (first letter lowercase) and class names should use `CamelCase` (first letter uppercase); you have it backwards.","body":"Using proper OOP principles, pass the array instance around via method parameters and return values. Though for trivial (e.g., small, single-file) applications, using static fields might be okay. Also, according to standard Java naming conventions, method names should use <code>camelCase</code> (first letter lowercase) and class names should use <code>CamelCase</code> (first letter uppercase); you have it backwards."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1653735005,"post_id":72414918,"comment_id":127926424,"body_markdown":"Does this answer your question? [What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?](https://stackoverflow.com/questions/25706216/what-does-a-cannot-find-symbol-or-cannot-resolve-symbol-error-mean)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25706216/what-does-a-cannot-find-symbol-or-cannot-resolve-symbol-error-mean\">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a>"},{"owner":{"account_id":24157568,"reputation":1,"user_id":18121601,"display_name":"Balazs Miskey"},"score":0,"creation_date":1653735157,"post_id":72414918,"comment_id":127926453,"body_markdown":"I found an other solution, to just add a public static to the variable and defining it in the insertionsort method. Now it works. Thanks for your advice, I corrected my naming ;)","body":"I found an other solution, to just add a public static to the variable and defining it in the insertionsort method. Now it works. Thanks for your advice, I corrected my naming ;)"}],"answers":[{"tags":[],"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1653734488,"creation_date":1653734488,"answer_id":72414973,"question_id":72414918,"body_markdown":"Make it a class variable:\r\n\r\n    import java.util.Arrays;\r\n\r\n\r\n    public class insertionsort {\r\n        private int[] ul;\r\n    \r\n        public static void main(String[] args) {\r\n            UnsortedListPrintout();\r\n            Insertionsort();\r\n        }\r\n    \r\n        public static void UnsortedListPrintout() {\r\n    \r\n            ul = new int[] {2, 5, 7, 3, 6, 10, 8, 7, 7, 1};\r\n            System.out.println(&quot;Unsorted List: &quot; + Arrays.toString(ul));\r\n        }\r\n    \r\n        public static void Insertionsort() {\r\n            System.out.println(ul[1]);\r\n        }\r\n    }","title":"Variable accessible in every method?","body":"<p>Make it a class variable:</p>\n<pre><code>import java.util.Arrays;\n\n\npublic class insertionsort {\n    private int[] ul;\n\n    public static void main(String[] args) {\n        UnsortedListPrintout();\n        Insertionsort();\n    }\n\n    public static void UnsortedListPrintout() {\n\n        ul = new int[] {2, 5, 7, 3, 6, 10, 8, 7, 7, 1};\n        System.out.println(&quot;Unsorted List: &quot; + Arrays.toString(ul));\n    }\n\n    public static void Insertionsort() {\n        System.out.println(ul[1]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15623408,"reputation":714,"user_id":11271671,"display_name":"Laisender"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653734680,"creation_date":1653734680,"answer_id":72414993,"question_id":72414918,"body_markdown":"```java\r\npublic class insertionsort {\r\n  \r\n  static int[] ul = new int[] {2, 5, 7, 3, 6, 10, 8, 7, 7, 1};\r\n\r\n  public static void main(String[] args) {\r\n    UnsortedListPrintout();\r\n    Insertionsort();\r\n  }\r\n\r\n  public static void UnsortedListPrintout() {\r\n    System.out.println(&quot;Unsorted List: &quot; + Arrays.toString(ul));\r\n  }\r\n\r\n  public static void Insertionsort() {\r\n    System.out.println(ul[1]);\r\n  }\r\n}\r\n```","title":"Variable accessible in every method?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class insertionsort {\n  \n  static int[] ul = new int[] {2, 5, 7, 3, 6, 10, 8, 7, 7, 1};\n\n  public static void main(String[] args) {\n    UnsortedListPrintout();\n    Insertionsort();\n  }\n\n  public static void UnsortedListPrintout() {\n    System.out.println(&quot;Unsorted List: &quot; + Arrays.toString(ul));\n  }\n\n  public static void Insertionsort() {\n    System.out.println(ul[1]);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19799632,"reputation":3,"user_id":14500957,"display_name":"Fauzan Ramadhani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653734880,"creation_date":1653734880,"answer_id":72415024,"question_id":72414918,"body_markdown":"To define Global Variable you can make use of static Keyword\r\n\r\n```\r\npublic class insertionsort {\r\n    public static int[] ul = new int[] {2, 5, 7, 3, 6, 10, 8, 7, 7, 1};\r\n    public static void main(String[] args) {\r\n    UnsortedListPrintout();\r\n    Insertionsort();\r\n  }\r\n\r\n  public static void UnsortedListPrintout() {\r\n    System.out.println(&quot;Unsorted List: &quot; + Arrays.toString(ul));\r\n  }\r\n\r\n\r\n  public static void Insertionsort() {\r\n    System.out.println(ul[1]);\r\n  }\r\n}\r\n```","title":"Variable accessible in every method?","body":"<p>To define Global Variable you can make use of static Keyword</p>\n<pre><code>public class insertionsort {\n    public static int[] ul = new int[] {2, 5, 7, 3, 6, 10, 8, 7, 7, 1};\n    public static void main(String[] args) {\n    UnsortedListPrintout();\n    Insertionsort();\n  }\n\n  public static void UnsortedListPrintout() {\n    System.out.println(&quot;Unsorted List: &quot; + Arrays.toString(ul));\n  }\n\n\n  public static void Insertionsort() {\n    System.out.println(ul[1]);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25397590,"reputation":126,"user_id":19207621,"display_name":"itfedorovsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653894621,"creation_date":1653735946,"answer_id":72415138,"question_id":72414918,"body_markdown":"Deal with static/non static variables and classes, it is important to continue learning java. Also deal with names of classes and methods (CamelCase):\r\n --&gt; (C)lass(N)ame beginning with (Big) letter.\r\n --&gt; (m)ethod(N)ame; - beginning with (little) letter.\r\nIf you need a global variable it should be an instance of the class (defined like a class field (not in the method);\r\n-Static variables may use everywhere.\r\n   A single copy to be shared by all instances of the class.\r\n   A static variable can be accessed directly by the class name and doesn’t need any object.\r\n-Non static variables should not be preceded by any static keyword. These variables can access with object reference. \r\n\r\npublic class InsertionSort {\r\n    public static int[] ul = new int[] {2, 5, 7, 3, 6, 10, 8, 7, 7, 1};\r\n\r\n    public static void main(String[] args) {\r\n        unsortedListPrintout();\r\n        insertionSort();\r\n    }\r\n\r\n    public static void unsortedListPrintout() {\r\n        System.out.println(&quot;Unsorted List: &quot; + Arrays.toString(ul));\r\n    }\r\n\r\n    public static void insertionSort() {\r\n        System.out.println(ul[1]);\r\n    }\r\n\r\n}","title":"Variable accessible in every method?","body":"<p>Deal with static/non static variables and classes, it is important to continue learning java. Also deal with names of classes and methods (CamelCase):\n--&gt; (C)lass(N)ame beginning with (Big) letter.\n--&gt; (m)ethod(N)ame; - beginning with (little) letter.\nIf you need a global variable it should be an instance of the class (defined like a class field (not in the method);\n-Static variables may use everywhere.\nA single copy to be shared by all instances of the class.\nA static variable can be accessed directly by the class name and doesn’t need any object.\n-Non static variables should not be preceded by any static keyword. These variables can access with object reference.</p>\n<p>public class InsertionSort {\npublic static int[] ul = new int[] {2, 5, 7, 3, 6, 10, 8, 7, 7, 1};</p>\n<pre><code>public static void main(String[] args) {\n    unsortedListPrintout();\n    insertionSort();\n}\n\npublic static void unsortedListPrintout() {\n    System.out.println(&quot;Unsorted List: &quot; + Arrays.toString(ul));\n}\n\npublic static void insertionSort() {\n    System.out.println(ul[1]);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":24157568,"reputation":1,"user_id":18121601,"display_name":"Balazs Miskey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":824,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":4,"score":-2,"last_activity_date":1653894621,"creation_date":1653734091,"question_id":72414918,"body_markdown":"I want to print out my array in my `Insertionsort` method, but it cannot find it. How do I make my array/variable accessible in all my methods? I am new to Java. Thanks.\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\n\r\npublic class insertionsort {\r\n\r\n  public static void main(String[] args) {\r\n    UnsortedListPrintout();\r\n    Insertionsort();\r\n  }\r\n\r\n  public static void UnsortedListPrintout() {\r\n\r\n    int[] ul = new int[] {2, 5, 7, 3, 6, 10, 8, 7, 7, 1};\r\n    System.out.println(&quot;Unsorted List: &quot; + Arrays.toString(ul));\r\n  }\r\n\r\n\r\n  public static void Insertionsort() {\r\n    System.out.println(ul[1]);\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\nError: \r\n```\r\nerror: cannot find symbol\r\n\r\nSystem.out.println(ul[1]);\r\n                   ^\r\n  symbol:   variable ul\r\n  location: class insertionsort\r\n1 error\r\n```","title":"Variable accessible in every method?","body":"<p>I want to print out my array in my <code>Insertionsort</code> method, but it cannot find it. How do I make my array/variable accessible in all my methods? I am new to Java. Thanks.</p>\n<pre><code>import java.util.Arrays;\n\n\npublic class insertionsort {\n\n  public static void main(String[] args) {\n    UnsortedListPrintout();\n    Insertionsort();\n  }\n\n  public static void UnsortedListPrintout() {\n\n    int[] ul = new int[] {2, 5, 7, 3, 6, 10, 8, 7, 7, 1};\n    System.out.println(&quot;Unsorted List: &quot; + Arrays.toString(ul));\n  }\n\n\n  public static void Insertionsort() {\n    System.out.println(ul[1]);\n  }\n\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>error: cannot find symbol\n\nSystem.out.println(ul[1]);\n                   ^\n  symbol:   variable ul\n  location: class insertionsort\n1 error\n</code></pre>\n"},{"tags":["java","loops","conditional-statements"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1653657075,"post_id":72405867,"comment_id":127910172,"body_markdown":"When you check `#nextInt`, it will consume the integer in the input stream. You should also only create a single `Scanner` for `System.in`, and your understanding for a `do/while` loop seems to be off (the `do` is an entirely new branching statement, it does not change based on the preceeding `if` or `while` statements).","body":"When you check <code>#nextInt</code>, it will consume the integer in the input stream. You should also only create a single <code>Scanner</code> for <code>System.in</code>, and your understanding for a <code>do&#47;while</code> loop seems to be off (the <code>do</code> is an entirely new branching statement, it does not change based on the preceeding <code>if</code> or <code>while</code> statements)."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653657233,"post_id":72405867,"comment_id":127910245,"body_markdown":"Every time you call `myObj.nextInt()`, input is expected. If you don&#39;t store the result of that call anywhere (as you do in `while(myObj.nextInt() &lt;= 200) `), that input is forgotten. Fix that.","body":"Every time you call <code>myObj.nextInt()</code>, input is expected. If you don&#39;t store the result of that call anywhere (as you do in <code>while(myObj.nextInt() &lt;= 200) </code>), that input is forgotten. Fix that."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1653657287,"post_id":72405867,"comment_id":127910270,"body_markdown":"Also please fix your indendation and line breaks, this is confusing to read, mostly to yourself.","body":"Also please fix your indendation and line breaks, this is confusing to read, mostly to yourself."}],"answers":[{"tags":[],"owner":{"account_id":21979468,"reputation":33,"user_id":16254756,"display_name":"byJavaDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653657191,"creation_date":1653657191,"answer_id":72406027,"question_id":72405867,"body_markdown":"You could put all the code in your main mathod in a `while(true)` loop as you are invoking a blocking method. If you succeed (if the value is correct) you can just `break` the main loop (e.g. by marking it with a label). Otherwise `continue` the main loop which makes the input prompt appear again.","title":"Java - Have Loop Repeat if Value is &gt; 10","body":"<p>You could put all the code in your main mathod in a <code>while(true)</code> loop as you are invoking a blocking method. If you succeed (if the value is correct) you can just <code>break</code> the main loop (e.g. by marking it with a label). Otherwise <code>continue</code> the main loop which makes the input prompt appear again.</p>\n"}],"owner":{"account_id":24177351,"reputation":1,"user_id":18327487,"display_name":"DoubleDJJR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653894569,"creation_date":1653656528,"question_id":72405867,"body_markdown":"first question here. \r\n\r\nSo for both of these loops I am looking for the user to input a value less than 10 for loop 1 and less than 200 for loop 2. It is almost working to my liking however when a user enters an incorrect number the loop just exits where it should repeat and ask the user for another digit smaller than 10/200. \r\n\r\nAny assistance is greatly appreciated.\r\n\r\n\r\n    public class Main {\r\n    \r\n        public static int numberOfStars;\r\n    \r\n        public static void main(String[ ] args){\r\n    \r\n                        //ask for number of stars (user-input)\r\n            System.out.println(&quot;Enter the number of stars in your constellation&quot;);\r\n            Scanner stars = new Scanner(System.in);\r\n    \r\n    \r\n                if (numberOfStars &lt;= 10) {\r\n                    numberOfStars = stars.nextInt();\r\n                }do{\r\n                    System.out.println(&quot;The number of stars is : &quot; + numberOfStars);\r\n                } while (numberOfStars &lt;= 10);\r\n       //ask for location of stars (user-input)\r\n            System.out.println(&quot;Enter X and Y co-ordinates for your constellation&quot;);\r\n    \r\n            //obj 1\r\n                Scanner myObj = new Scanner(System.in);\r\n    \r\n                while(myObj.nextInt() &lt;= 200) {\r\n                    int location = myObj.nextInt();\r\n                    System.out.println(&quot;X coordinate 1 is : &quot; + location);\r\n                } do {\r\n                System.out.println(&quot;Please enter a Number Less than 200&quot;);\r\n            } while (myObj.nextInt() &gt; 200 );\r\n\r\n","title":"Java - Have Loop Repeat if Value is &gt; 10","body":"<p>first question here.</p>\n<p>So for both of these loops I am looking for the user to input a value less than 10 for loop 1 and less than 200 for loop 2. It is almost working to my liking however when a user enters an incorrect number the loop just exits where it should repeat and ask the user for another digit smaller than 10/200.</p>\n<p>Any assistance is greatly appreciated.</p>\n<pre><code>public class Main {\n\n    public static int numberOfStars;\n\n    public static void main(String[ ] args){\n\n                    //ask for number of stars (user-input)\n        System.out.println(&quot;Enter the number of stars in your constellation&quot;);\n        Scanner stars = new Scanner(System.in);\n\n\n            if (numberOfStars &lt;= 10) {\n                numberOfStars = stars.nextInt();\n            }do{\n                System.out.println(&quot;The number of stars is : &quot; + numberOfStars);\n            } while (numberOfStars &lt;= 10);\n   //ask for location of stars (user-input)\n        System.out.println(&quot;Enter X and Y co-ordinates for your constellation&quot;);\n\n        //obj 1\n            Scanner myObj = new Scanner(System.in);\n\n            while(myObj.nextInt() &lt;= 200) {\n                int location = myObj.nextInt();\n                System.out.println(&quot;X coordinate 1 is : &quot; + location);\n            } do {\n            System.out.println(&quot;Please enter a Number Less than 200&quot;);\n        } while (myObj.nextInt() &gt; 200 );\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"score":1,"creation_date":1653850077,"post_id":72426382,"comment_id":127946492,"body_markdown":"No idea, how you process your input, but have a look at Math.abs(int).","body":"No idea, how you process your input, but have a look at Math.abs(int)."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1653850081,"post_id":72426382,"comment_id":127946493,"body_markdown":"Have you looked at the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#abs(int)) for `Math.abs`?","body":"Have you looked at the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#abs(int)\" rel=\"nofollow noreferrer\">documentation</a> for <code>Math.abs</code>?"}],"answers":[{"tags":[],"owner":{"account_id":25397590,"reputation":126,"user_id":19207621,"display_name":"itfedorovsa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653894533,"creation_date":1653856481,"answer_id":72427090,"question_id":72426382,"body_markdown":"You need a `Math.abs()` method.\r\nReturns the absolute value of an int/double/float/long value (depending on the type of incoming parameter).\r\n\r\nFor example:\r\n\r\n```\r\nint output = Math.abs(T1 - T2);\r\nSystem.out.println(output);\r\n```\r\n\r\n//or\r\n\r\n```\r\nSystem.out.println(Math.abs(T1 - T2));\r\n```","title":"How to always have a positive output in java or how to use |-3| = 3","body":"<p>You need a <code>Math.abs()</code> method.\nReturns the absolute value of an int/double/float/long value (depending on the type of incoming parameter).</p>\n<p>For example:</p>\n<pre><code>int output = Math.abs(T1 - T2);\nSystem.out.println(output);\n</code></pre>\n<p>//or</p>\n<pre><code>System.out.println(Math.abs(T1 - T2));\n</code></pre>\n"}],"owner":{"account_id":24332755,"reputation":1,"user_id":18271352,"display_name":"NOOB DEV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1653894533,"creation_date":1653849800,"question_id":72426382,"body_markdown":"So I have many inputs and I always want to have the postive difference between the number which operator should I use \r\n\r\nlets say \r\n\r\n    T1     T2       Output\r\n    \r\n    3       5          2\r\n    7       6          1\r\n    5       9          4\r\n\r\n\r\n","title":"How to always have a positive output in java or how to use |-3| = 3","body":"<p>So I have many inputs and I always want to have the postive difference between the number which operator should I use</p>\n<p>lets say</p>\n<pre><code>T1     T2       Output\n\n3       5          2\n7       6          1\n5       9          4\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652510754,"creation_date":1652482036,"answer_id":72236053,"question_id":72236027,"body_markdown":"Three solutions that come to mind:\r\n\r\n1) Add another check inside the loop, and put your `sysout -&gt;` thingy after that check.\r\n2) Usually code would generate some kind of list or similar data about the results and return it. It&#39;s a lot simpler to print lists, because you know the length etc. \r\n3) Another common solution is to use `StringBuilder` and correct it before generating the output with `toString()`","title":"How should I reconfigure the arrow &quot;-&gt;&quot; to not print when done with with my pathing?","body":"<p>Three solutions that come to mind:</p>\n<ol>\n<li>Add another check inside the loop, and put your <code>sysout -&gt;</code> thingy after that check.</li>\n<li>Usually code would generate some kind of list or similar data about the results and return it. It's a lot simpler to print lists, because you know the length etc.</li>\n<li>Another common solution is to use <code>StringBuilder</code> and correct it before generating the output with <code>toString()</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17066586,"reputation":4526,"user_id":12348584,"display_name":"H3AR7B3A7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652482362,"creation_date":1652482362,"answer_id":72236080,"question_id":72236027,"body_markdown":"You could just do something like this:\r\n\r\n``` java\r\nif (!(row == mat.length - 1 &amp;&amp; column == mat[0].length - 1)) {\r\n    System.out.print(&quot;-&gt;&quot;);\r\n}\r\n```\r\n\r\nOr a little cleaner:\r\n```java\r\nif (arrowIsNotAtTheEnd(mat, row, column)) {\r\n    System.out.print(&quot;-&gt;&quot;);\r\n}\r\n\r\n// ...\r\n\r\nprivate static boolean arrowIsNotAtTheEnd(int[][] mat, int row, int column) {\r\n    return !(row == mat.length - 1 &amp;&amp; column == mat[0].length - 1);\r\n}\r\n```","title":"How should I reconfigure the arrow &quot;-&gt;&quot; to not print when done with with my pathing?","body":"<p>You could just do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!(row == mat.length - 1 &amp;&amp; column == mat[0].length - 1)) {\n    System.out.print(&quot;-&gt;&quot;);\n}\n</code></pre>\n<p>Or a little cleaner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (arrowIsNotAtTheEnd(mat, row, column)) {\n    System.out.print(&quot;-&gt;&quot;);\n}\n\n// ...\n\nprivate static boolean arrowIsNotAtTheEnd(int[][] mat, int row, int column) {\n    return !(row == mat.length - 1 &amp;&amp; column == mat[0].length - 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1652483777,"creation_date":1652483422,"answer_id":72236160,"question_id":72236027,"body_markdown":"Cleanest way would be using a [StringJoiner](https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html). \r\nYou can use it as follows\r\n```java\r\nStringJoiner joiner = new StringJoiner(&quot;-&gt;&quot;);\r\njoiner.add(&quot;a&quot;);\r\njoiner.add(&quot;b&quot;);\r\nSystem.out.println(joiner); //prints a-&gt;b - you can use toString if you want to return a joined String\r\n```\r\n\r\nYou can also define a prefix and suffix for your joined String.\r\n\r\nOr if you are familiar with Streams, there is  `Collectors.joining(&quot;-&gt;&quot;)` available.","title":"How should I reconfigure the arrow &quot;-&gt;&quot; to not print when done with with my pathing?","body":"<p>Cleanest way would be using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/StringJoiner.html\" rel=\"noreferrer\">StringJoiner</a>.\nYou can use it as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringJoiner joiner = new StringJoiner(&quot;-&gt;&quot;);\njoiner.add(&quot;a&quot;);\njoiner.add(&quot;b&quot;);\nSystem.out.println(joiner); //prints a-&gt;b - you can use toString if you want to return a joined String\n</code></pre>\n<p>You can also define a prefix and suffix for your joined String.</p>\n<p>Or if you are familiar with Streams, there is  <code>Collectors.joining(&quot;-&gt;&quot;)</code> available.</p>\n"},{"tags":[],"owner":{"account_id":7844722,"reputation":116,"user_id":5930157,"display_name":"douglas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653894395,"creation_date":1653894274,"answer_id":72430330,"question_id":72236027,"body_markdown":"For java 8 and above, the String class already has a convenient join method.\r\n\r\n    CharSequence[] path=new CharSequence[]{\r\n            &quot;(1,1)&quot;,&quot;(2,1)&quot;,&quot;(2,2)&quot;,&quot;(2,3)&quot;,&quot;(2,4)&quot;,&quot;(3,4)&quot;,&quot;(3,5)&quot;,&quot;(3,6)&quot;,&quot;(4,6)&quot;,&quot;(5,6)&quot;};\r\n\r\n    String output=String.join(&quot;-&gt;&quot;,path);\r\n    System.out.println(output);\r\n    //output: (1,1)-&gt;(2,1)-&gt;(2,2)-&gt;(2,3)-&gt;(2,4)-&gt;(3,4)-&gt;(3,5)-&gt;(3,6)-&gt;(4,6)-&gt;(5,6)\r\n\r\n","title":"How should I reconfigure the arrow &quot;-&gt;&quot; to not print when done with with my pathing?","body":"<p>For java 8 and above, the String class already has a convenient join method.</p>\n<pre><code>CharSequence[] path=new CharSequence[]{\n        &quot;(1,1)&quot;,&quot;(2,1)&quot;,&quot;(2,2)&quot;,&quot;(2,3)&quot;,&quot;(2,4)&quot;,&quot;(3,4)&quot;,&quot;(3,5)&quot;,&quot;(3,6)&quot;,&quot;(4,6)&quot;,&quot;(5,6)&quot;};\n\nString output=String.join(&quot;-&gt;&quot;,path);\nSystem.out.println(output);\n//output: (1,1)-&gt;(2,1)-&gt;(2,2)-&gt;(2,3)-&gt;(2,4)-&gt;(3,4)-&gt;(3,5)-&gt;(3,6)-&gt;(4,6)-&gt;(5,6)\n</code></pre>\n"}],"owner":{"account_id":23176068,"reputation":39,"user_id":17274561,"display_name":"Agent Programmer 001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1653894395,"creation_date":1652481724,"question_id":72236027,"body_markdown":"I&#39;m trying to create an optimal path to collect as many 1&#39;s as I can but after I execute my code, I still have an arrow pointing to nothing as there are no more places to go. How would I remove the arrow at the end of the code? \r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class Main{\r\n  public static void main(String[] args){\r\n    Scanner s1 = new Scanner(System.in);\r\n    int n = s1.nextInt();\r\n    int m = s1.nextInt();\r\n    int mat[][] = new int[n][m];\r\n    for (int i = 0; i &lt; mat.length; i++){\r\n      for (int j = 0; j &lt; mat[0].length; j++){\r\n        mat[i][j] = s1.nextInt();\r\n      } \r\n    }\r\n    int path[][] = new int[n][m];\r\n    for (int i = 0; i &lt; path.length; i++){\r\n      Arrays.fill(path[i], -1);\r\n    }\r\n      \r\n    int maxCoins = util(0, 0, mat, path);\r\n    System.out.println(&quot;Max coins:&quot; + maxCoins);\r\n      \r\n    int row = 0, column = 0;\r\n    System.out.print(&quot;Path:&quot;);\r\n     \r\n    while(row &lt; mat.length &amp;&amp; column &lt; mat[0].length){\r\n      System.out.print(&quot;(&quot; + (row + 1) + &quot;,&quot; + (column + 1) + &quot;)&quot;);\r\n      System.out.print(&quot;-&gt;&quot;);\r\n      \r\n      if(row &lt; n - 1 &amp;&amp; column &lt; m - 1){\r\n        int down = path[row + 1][column];\r\n        int right = path[row][column + 1];\r\n        if(down &gt; right){\r\n          row += 1;\r\n          continue;\r\n        }\r\n        else if (right &gt; down){\r\n          column += 1;\r\n          continue;\r\n        }\r\n        else{\r\n          row += 1;\r\n          continue;\r\n        }\r\n      }\r\n      if(row + 1 &lt; n){\r\n        row += 1;\r\n      }\r\n      else{\r\n        column += 1;\r\n      }\r\n    }\r\n  }\r\n  \r\n  private static int util(int row,int column,int mat[][], int path[][]){\r\n    if(row &gt;= mat.length || column &gt;= mat[0].length){\r\n      return 0;\r\n    }\r\n    \r\n    if(path[row][column]!= -1){\r\n      return path[row][column];\r\n    }\r\n    \r\n    int right = util(row, column + 1, mat,path);\r\n    int down = util(row + 1, column, mat,path);\r\n    \r\n    path[row][column]=Math.max(right, down);\r\n    if(mat[row][column] == 1){\r\n      path[row][column] += 1;\r\n    }\r\n    \r\n    return path[row][column];\r\n  }\r\n}\r\n```\r\nMy current input looks like:\r\n```\r\n5 6\r\n0 0 0 0 1 0\r\n0 1 0 1 0 0\r\n0 0 0 1 0 1\r\n0 0 1 0 0 1\r\n1 0 0 0 1 0\r\n```\r\nAnd output is:\r\n```\r\nMax coins:5\r\nPath:(1,1)-&gt;(2,1)-&gt;(2,2)-&gt;(2,3)-&gt;(2,4)-&gt;(3,4)-&gt;(3,5)-&gt;(3,6)-&gt;(4,6)-&gt;(5,6)-&gt;\r\n```\r\nI am just trying to remove the one at the end but unsure where to insert my code:\r\n```\r\nSystem.out.print(&quot;-&gt;&quot;);\r\n```\r\n","title":"How should I reconfigure the arrow &quot;-&gt;&quot; to not print when done with with my pathing?","body":"<p>I'm trying to create an optimal path to collect as many 1's as I can but after I execute my code, I still have an arrow pointing to nothing as there are no more places to go. How would I remove the arrow at the end of the code?</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Main{\n  public static void main(String[] args){\n    Scanner s1 = new Scanner(System.in);\n    int n = s1.nextInt();\n    int m = s1.nextInt();\n    int mat[][] = new int[n][m];\n    for (int i = 0; i &lt; mat.length; i++){\n      for (int j = 0; j &lt; mat[0].length; j++){\n        mat[i][j] = s1.nextInt();\n      } \n    }\n    int path[][] = new int[n][m];\n    for (int i = 0; i &lt; path.length; i++){\n      Arrays.fill(path[i], -1);\n    }\n      \n    int maxCoins = util(0, 0, mat, path);\n    System.out.println(&quot;Max coins:&quot; + maxCoins);\n      \n    int row = 0, column = 0;\n    System.out.print(&quot;Path:&quot;);\n     \n    while(row &lt; mat.length &amp;&amp; column &lt; mat[0].length){\n      System.out.print(&quot;(&quot; + (row + 1) + &quot;,&quot; + (column + 1) + &quot;)&quot;);\n      System.out.print(&quot;-&gt;&quot;);\n      \n      if(row &lt; n - 1 &amp;&amp; column &lt; m - 1){\n        int down = path[row + 1][column];\n        int right = path[row][column + 1];\n        if(down &gt; right){\n          row += 1;\n          continue;\n        }\n        else if (right &gt; down){\n          column += 1;\n          continue;\n        }\n        else{\n          row += 1;\n          continue;\n        }\n      }\n      if(row + 1 &lt; n){\n        row += 1;\n      }\n      else{\n        column += 1;\n      }\n    }\n  }\n  \n  private static int util(int row,int column,int mat[][], int path[][]){\n    if(row &gt;= mat.length || column &gt;= mat[0].length){\n      return 0;\n    }\n    \n    if(path[row][column]!= -1){\n      return path[row][column];\n    }\n    \n    int right = util(row, column + 1, mat,path);\n    int down = util(row + 1, column, mat,path);\n    \n    path[row][column]=Math.max(right, down);\n    if(mat[row][column] == 1){\n      path[row][column] += 1;\n    }\n    \n    return path[row][column];\n  }\n}\n</code></pre>\n<p>My current input looks like:</p>\n<pre><code>5 6\n0 0 0 0 1 0\n0 1 0 1 0 0\n0 0 0 1 0 1\n0 0 1 0 0 1\n1 0 0 0 1 0\n</code></pre>\n<p>And output is:</p>\n<pre><code>Max coins:5\nPath:(1,1)-&gt;(2,1)-&gt;(2,2)-&gt;(2,3)-&gt;(2,4)-&gt;(3,4)-&gt;(3,5)-&gt;(3,6)-&gt;(4,6)-&gt;(5,6)-&gt;\n</code></pre>\n<p>I am just trying to remove the one at the end but unsure where to insert my code:</p>\n<pre><code>System.out.print(&quot;-&gt;&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","cassandra","spring-data-cassandra"],"comments":[{"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"score":0,"creation_date":1619113945,"post_id":67217692,"comment_id":118813488,"body_markdown":"You configured `spring.data.cassandra.connection.init-query-timeout=PT20S` but the error message mentions `PT2S`. Is this a typo? Did you rule out network issues (i.e. check connectivity with `nc` or similar)? I would check `netstat -nt` output while the app is running, before the time out occurs.","body":"You configured <code>spring.data.cassandra.connection.init-query-timeout=PT20S</code> but the error message mentions <code>PT2S</code>. Is this a typo? Did you rule out network issues (i.e. check connectivity with <code>nc</code> or similar)? I would check <code>netstat -nt</code> output while the app is running, before the time out occurs."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1619114219,"post_id":67217692,"comment_id":118813594,"body_markdown":"What&#39;s the complete stack trace of the timeout? It&#39;s not clear from the error message when the timeout is occurring.","body":"What&#39;s the complete stack trace of the timeout? It&#39;s not clear from the error message when the timeout is occurring."},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1619114917,"post_id":67217692,"comment_id":118813890,"body_markdown":"It may be a side-effect of you trying to solve your problem, but in its current form your project is mostly configuring Cassandra itself. This means that Spring Boot&#39;s auto-configuration has largely backed off. As a result any `spring.data.cassandra.*` properties that you have set won&#39;t have any effect unless you&#39;re using them in your own code.","body":"It may be a side-effect of you trying to solve your problem, but in its current form your project is mostly configuring Cassandra itself. This means that Spring Boot&#39;s auto-configuration has largely backed off. As a result any <code>spring.data.cassandra.*</code> properties that you have set won&#39;t have any effect unless you&#39;re using them in your own code."},{"owner":{"account_id":271922,"reputation":8007,"user_id":562721,"accept_rate":43,"display_name":"jny"},"score":0,"creation_date":1619116866,"post_id":67217692,"comment_id":118814712,"body_markdown":"Are you able to connect to Cassandra from the machine you are running your code on?","body":"Are you able to connect to Cassandra from the machine you are running your code on?"},{"owner":{"account_id":3266555,"reputation":1740,"user_id":3554075,"display_name":"Rajeev"},"score":0,"creation_date":1619125919,"post_id":67217692,"comment_id":118818186,"body_markdown":"@jny Yes. I am able connect.","body":"@jny Yes. I am able connect."},{"owner":{"account_id":3266555,"reputation":1740,"user_id":3554075,"display_name":"Rajeev"},"score":0,"creation_date":1619126005,"post_id":67217692,"comment_id":118818210,"body_markdown":"@TasosP. This is why I asked this question PT20S should override PT2S. but it is not doing that. There is no typo.","body":"@TasosP. This is why I asked this question PT20S should override PT2S. but it is not doing that. There is no typo."},{"owner":{"account_id":3266555,"reputation":1740,"user_id":3554075,"display_name":"Rajeev"},"score":0,"creation_date":1619126033,"post_id":67217692,"comment_id":118818215,"body_markdown":"@AndyWilkinson I am updating the question with a complete stack trace soon.\nAlso, regarding your second comment, I have done both ways, I used the entire autoconfiguration first and see if that property gets overridden or not but it has no effect in either way, custom and in autoconfiguration.","body":"@AndyWilkinson I am updating the question with a complete stack trace soon. Also, regarding your second comment, I have done both ways, I used the entire autoconfiguration first and see if that property gets overridden or not but it has no effect in either way, custom and in autoconfiguration."},{"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"score":0,"creation_date":1619189084,"post_id":67217692,"comment_id":118837775,"body_markdown":"How stuck are you on Spring Data Cassandra?  It&#39;s been my experience that it sometimes does some weird things behind the scenes.  I&#39;d recommend using the DataStax Java driver.","body":"How stuck are you on Spring Data Cassandra?  It&#39;s been my experience that it sometimes does some weird things behind the scenes.  I&#39;d recommend using the DataStax Java driver."},{"owner":{"account_id":3266555,"reputation":1740,"user_id":3554075,"display_name":"Rajeev"},"score":0,"creation_date":1619189406,"post_id":67217692,"comment_id":118837933,"body_markdown":"Spring-data-Cassandra is using DataStax 4.9 at the backend. Yes, it is weird to see that I am stuck on such a silly issue. It is driving me crazy. :-D.","body":"Spring-data-Cassandra is using DataStax 4.9 at the backend. Yes, it is weird to see that I am stuck on such a silly issue. It is driving me crazy. :-D."},{"owner":{"account_id":8207518,"reputation":107,"user_id":6635219,"display_name":"Abhishek Sharma M"},"score":1,"creation_date":1619680903,"post_id":67217692,"comment_id":118979349,"body_markdown":"@Rajeev I am facing the exact same issue. Wanted to check if you tried directly using datastax Java driver 4.5+ &amp; if yes did it work for you ?","body":"@Rajeev I am facing the exact same issue. Wanted to check if you tried directly using datastax Java driver 4.5+ &amp; if yes did it work for you ?"},{"owner":{"account_id":3266555,"reputation":1740,"user_id":3554075,"display_name":"Rajeev"},"score":0,"creation_date":1619709426,"post_id":67217692,"comment_id":118992832,"body_markdown":"@AbhishekSharmaM, I answered this question, how I fixed it today. Great relief. ! Shhhh","body":"@AbhishekSharmaM, I answered this question, how I fixed it today. Great relief. ! Shhhh"}],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619166937,"creation_date":1619166937,"answer_id":67226653,"question_id":67217692,"body_markdown":"The `DriverTimeoutException` gets thrown when the driver doesn&#39;t get a reply from the coordinator node. It uses the basic request timeout default of 2 seconds:\r\n\r\n    datastax-java-driver {\r\n      basic.request {\r\n        timeout = 2 seconds\r\n\r\nThe fact that the timeout is 2 seconds means that none of your overrides are getting picked up but I haven&#39;t quite figured out why yet.\r\n\r\nMore importantly, it&#39;s a different error to a read or write timeout exception which occur when not enough replicas responded to satisfy the required consistency level -- in either of these cases, the coordinator replies back to the driver with the exception.\r\n\r\nIn my experience, a `DriverTimeoutException` is caused by (a) unresponsive nodes, and/or (b) overloaded coordinator.\r\n\r\nIf the app is running an expensive query, that could be the reason that coordinator doesn&#39;t respond back in time. In this case, your overrides not working is not the problem you need to solve because in Cassandra terms, 2 seconds is an eternity for app requests  -- you need to make sure you&#39;re not overloading your cluster and that&#39;s the problem you need to solve. Cheers!","title":"Spring Cassandra time out query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S","body":"<p>The <code>DriverTimeoutException</code> gets thrown when the driver doesn't get a reply from the coordinator node. It uses the basic request timeout default of 2 seconds:</p>\n<pre><code>datastax-java-driver {\n  basic.request {\n    timeout = 2 seconds\n</code></pre>\n<p>The fact that the timeout is 2 seconds means that none of your overrides are getting picked up but I haven't quite figured out why yet.</p>\n<p>More importantly, it's a different error to a read or write timeout exception which occur when not enough replicas responded to satisfy the required consistency level -- in either of these cases, the coordinator replies back to the driver with the exception.</p>\n<p>In my experience, a <code>DriverTimeoutException</code> is caused by (a) unresponsive nodes, and/or (b) overloaded coordinator.</p>\n<p>If the app is running an expensive query, that could be the reason that coordinator doesn't respond back in time. In this case, your overrides not working is not the problem you need to solve because in Cassandra terms, 2 seconds is an eternity for app requests  -- you need to make sure you're not overloading your cluster and that's the problem you need to solve. Cheers!</p>\n"},{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619190076,"creation_date":1619188479,"answer_id":67231887,"question_id":67217692,"body_markdown":"So I see two possibilities here.\r\n\r\n1. The most intriguing part of this question...\r\n\r\n...is the `SELECT` statement:\r\n\r\n    SELECT * FROM system_schema.tables\r\n\r\nThe keyspace definition of `system_schema` is this:\r\n\r\n    CREATE KEYSPACE system_schema WITH replication = {&#39;class&#39;: &#39;LocalStrategy&#39;}\r\n\r\nWas this changed to be Simple or NetworkTopology?  If so, that could be causing the timeouts, specifically.\r\n\r\n2. The `system_schema` keyspace is new to newer versions of Cassandra (2.2+, I think).  Is it possible you&#39;re using an older version?\r\n\r\n\r\nBasically, make sure the `system_schema` is set with its appropriate, default replication.  Also, make sure to use a version of Spring Data Cassandra that is known to work with your version of Cassandra.\r\n\r\nAlso, I&#39;d recommend trying this _without_ Spring Data Cassandra.  I&#39;m curious to see if there&#39;s any difference between that and just using the pure DS Java Driver.","title":"Spring Cassandra time out query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S","body":"<p>So I see two possibilities here.</p>\n<ol>\n<li>The most intriguing part of this question...</li>\n</ol>\n<p>...is the <code>SELECT</code> statement:</p>\n<pre><code>SELECT * FROM system_schema.tables\n</code></pre>\n<p>The keyspace definition of <code>system_schema</code> is this:</p>\n<pre><code>CREATE KEYSPACE system_schema WITH replication = {'class': 'LocalStrategy'}\n</code></pre>\n<p>Was this changed to be Simple or NetworkTopology?  If so, that could be causing the timeouts, specifically.</p>\n<ol start=\"2\">\n<li>The <code>system_schema</code> keyspace is new to newer versions of Cassandra (2.2+, I think).  Is it possible you're using an older version?</li>\n</ol>\n<p>Basically, make sure the <code>system_schema</code> is set with its appropriate, default replication.  Also, make sure to use a version of Spring Data Cassandra that is known to work with your version of Cassandra.</p>\n<p>Also, I'd recommend trying this <em>without</em> Spring Data Cassandra.  I'm curious to see if there's any difference between that and just using the pure DS Java Driver.</p>\n"},{"tags":[],"owner":{"account_id":3266555,"reputation":1740,"user_id":3554075,"display_name":"Rajeev"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1636383937,"creation_date":1619709330,"answer_id":67320225,"question_id":67217692,"body_markdown":"I am answering my own question here to make this complete and let others know how I fixed this particular problem. \r\n\r\nI am using Spring Boot 2.4.5. and I started facing this timeout issue when I upgraded to version 2.3+ onwards.\r\n\r\nBased on my experience with this issue, below is what I found.\r\n\r\nIrrespective of whatever timeout you provide in the `application.properties` or `application.conf` ([DataStax notion][1]), They all somehow getting overridden by the spring boot or maybe selecting the default value from the DataStax driver. \r\n\r\nEven there is an issue created on the Spring Boot official project to handle this problem. Check [here][2]. Which got fixed later in the 2.5.0.M1 version. \r\n\r\nMy problem got fixed when I passed this as a VM argument. \r\n \r\n\r\n     $java -Ddatastax-java-driver.basic.request.timeout=&quot;15 seconds&quot; application.jar\r\n\r\nI passed other params as well like `advanced.control-connection.timeout` as I was suggested to use on a different forum but that didn&#39;t work for me.  Check reference manual [here][3] for other config params. \r\n\r\nI am getting this error at my local only so I passed this in the Eclipse VM argument and then I didn&#39;t see that error any more.   \r\n\r\nAlso if I reduce this time to 7-8 seconds sometimes I see that error again `PT2S`. Seems like that exception message is hardcoded somewhere irrespective of whatever timeout value you pass. (That is my observation). \r\n\r\n\r\n\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n**Update: Solution 2 - Which I figured out later and I see many of the people have answered that too**     \r\nThe actual key that DataStax provides is given below and this works. \r\n\r\n \r\n\r\n     @Bean\r\n        public DriverConfigLoaderBuilderCustomizer defaultProfile(){\r\n            return builder -&gt; builder.withString(DefaultDriverOption.METADATA_SCHEMA_REQUEST_TIMEOUT, &quot;3 seconds&quot;).build();\r\n        }\r\n\r\n  [1]: https://docs.datastax.com/en/developer/java-driver/4.6/manual/core/configuration/\r\n  [2]: https://github.com/spring-projects/spring-boot/issues/24189\r\n  [3]: https://docs.datastax.com/en/developer/java-driver/4.4/manual/core/configuration/reference/\r\n  [4]: https://i.stack.imgur.com/XMcyK.png\r\n\r\n","title":"Spring Cassandra time out query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S","body":"<p>I am answering my own question here to make this complete and let others know how I fixed this particular problem.</p>\n<p>I am using Spring Boot 2.4.5. and I started facing this timeout issue when I upgraded to version 2.3+ onwards.</p>\n<p>Based on my experience with this issue, below is what I found.</p>\n<p>Irrespective of whatever timeout you provide in the <code>application.properties</code> or <code>application.conf</code> (<a href=\"https://docs.datastax.com/en/developer/java-driver/4.6/manual/core/configuration/\" rel=\"noreferrer\">DataStax notion</a>), They all somehow getting overridden by the spring boot or maybe selecting the default value from the DataStax driver.</p>\n<p>Even there is an issue created on the Spring Boot official project to handle this problem. Check <a href=\"https://github.com/spring-projects/spring-boot/issues/24189\" rel=\"noreferrer\">here</a>. Which got fixed later in the 2.5.0.M1 version.</p>\n<p>My problem got fixed when I passed this as a VM argument.</p>\n<pre><code> $java -Ddatastax-java-driver.basic.request.timeout=&quot;15 seconds&quot; application.jar\n</code></pre>\n<p>I passed other params as well like <code>advanced.control-connection.timeout</code> as I was suggested to use on a different forum but that didn't work for me.  Check reference manual <a href=\"https://docs.datastax.com/en/developer/java-driver/4.4/manual/core/configuration/reference/\" rel=\"noreferrer\">here</a> for other config params.</p>\n<p>I am getting this error at my local only so I passed this in the Eclipse VM argument and then I didn't see that error any more.</p>\n<p>Also if I reduce this time to 7-8 seconds sometimes I see that error again <code>PT2S</code>. Seems like that exception message is hardcoded somewhere irrespective of whatever timeout value you pass. (That is my observation).</p>\n<p><a href=\"https://i.stack.imgur.com/XMcyK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XMcyK.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Update: Solution 2 - Which I figured out later and I see many of the people have answered that too</strong><br />\nThe actual key that DataStax provides is given below and this works.</p>\n<pre><code> @Bean\n    public DriverConfigLoaderBuilderCustomizer defaultProfile(){\n        return builder -&gt; builder.withString(DefaultDriverOption.METADATA_SCHEMA_REQUEST_TIMEOUT, &quot;3 seconds&quot;).build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21891723,"reputation":11,"user_id":16178620,"display_name":"Aditya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623331542,"creation_date":1623261910,"answer_id":67909554,"question_id":67217692,"body_markdown":"Try to create a bean as below and try:    \r\n  \r\n\r\n      @Bean\r\n        public DriverConfigLoaderBuilderCustomizer defaultProfile(){\r\n            return builder -&gt; builder.withString(DefaultDriverOption.METADATA_SCHEMA_REQUEST_TIMEOUT, &quot;3 seconds&quot;).build();\r\n        }\r\n\r\n   \r\nor\r\n\r\n    @Bean\r\n        public DriverConfigLoaderBuilderCustomizer defaultProfile(){\r\n            return builder -&gt; builder.withInt(DefaultDriverOption.METADATA_SCHEMA_REQUEST_TIMEOUT, 3000).build();\r\n        }","title":"Spring Cassandra time out query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S","body":"<p>Try to create a bean as below and try:</p>\n<pre><code>  @Bean\n    public DriverConfigLoaderBuilderCustomizer defaultProfile(){\n        return builder -&gt; builder.withString(DefaultDriverOption.METADATA_SCHEMA_REQUEST_TIMEOUT, &quot;3 seconds&quot;).build();\n    }\n</code></pre>\n<p>or</p>\n<pre><code>@Bean\n    public DriverConfigLoaderBuilderCustomizer defaultProfile(){\n        return builder -&gt; builder.withInt(DefaultDriverOption.METADATA_SCHEMA_REQUEST_TIMEOUT, 3000).build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22026199,"reputation":11,"user_id":16294160,"display_name":"Jorge Riveros"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624521907,"creation_date":1624411892,"answer_id":68092468,"question_id":67217692,"body_markdown":"You need to add this in the **session builder configurer**:\r\n\r\n```java\r\nwithDuration(DefaultDriverOption.METADATA_SCHEMA_REQUEST_TIMEOUT, Duration.ofSeconds(XX))\r\n```","title":"Spring Cassandra time out query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S","body":"<p>You need to add this in the <strong>session builder configurer</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>withDuration(DefaultDriverOption.METADATA_SCHEMA_REQUEST_TIMEOUT, Duration.ofSeconds(XX))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1572751,"reputation":61,"user_id":1460071,"display_name":"technicalstaffv2"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1634240387,"creation_date":1634234049,"answer_id":69575288,"question_id":67217692,"body_markdown":"Here is an expanded answer in addition to the person who provided the right answer.\r\n\r\nIncrease the METADATA_SCHEMA_REQUEST_TIMEOUT because that query stated in the problem belongs to the METADATA_SCHEMA, which was not explicit.\r\n```\r\n@Override\r\n    protected SessionBuilderConfigurer getSessionBuilderConfigurer() {\r\n        return new SessionBuilderConfigurer() {\r\n\r\n            @Override\r\n            public CqlSessionBuilder configure(CqlSessionBuilder cqlSessionBuilder) {\r\n                logger.info(&quot;Configuring CqlSession Builder&quot;);\r\n                return cqlSessionBuilder\r\n                        .withConfigLoader(DriverConfigLoader.programmaticBuilder()\r\n                                // Resolves the timeout query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S\r\n                                .withDuration(DefaultDriverOption.METADATA_SCHEMA_REQUEST_TIMEOUT, Duration.ofMillis(60000))\r\n                                .withDuration(DefaultDriverOption.CONNECTION_INIT_QUERY_TIMEOUT, Duration.ofMillis(60000))\r\n                                .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofMillis(15000))\r\n                                .build());\r\n            }\r\n        };\r\n    }\r\n```","title":"Spring Cassandra time out query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S","body":"<p>Here is an expanded answer in addition to the person who provided the right answer.</p>\n<p>Increase the METADATA_SCHEMA_REQUEST_TIMEOUT because that query stated in the problem belongs to the METADATA_SCHEMA, which was not explicit.</p>\n<pre><code>@Override\n    protected SessionBuilderConfigurer getSessionBuilderConfigurer() {\n        return new SessionBuilderConfigurer() {\n\n            @Override\n            public CqlSessionBuilder configure(CqlSessionBuilder cqlSessionBuilder) {\n                logger.info(&quot;Configuring CqlSession Builder&quot;);\n                return cqlSessionBuilder\n                        .withConfigLoader(DriverConfigLoader.programmaticBuilder()\n                                // Resolves the timeout query 'SELECT * FROM system_schema.tables' timed out after PT2S\n                                .withDuration(DefaultDriverOption.METADATA_SCHEMA_REQUEST_TIMEOUT, Duration.ofMillis(60000))\n                                .withDuration(DefaultDriverOption.CONNECTION_INIT_QUERY_TIMEOUT, Duration.ofMillis(60000))\n                                .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofMillis(15000))\n                                .build());\n            }\n        };\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25391847,"reputation":1,"user_id":19202672,"display_name":"Seno Shue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653893735,"creation_date":1653529383,"answer_id":72385804,"question_id":67217692,"body_markdown":"Increasing request timeout does solve the problem.\r\n\r\nBut the main reason we got timeout is the default value of &quot;DefaultDriverOption.METADATA_SCHEMA_ENABLED&quot; is true\r\n\r\nBy override the value to false will boost up the speed.\r\n\r\nExample on kotlin as below :\r\n\r\n    class CassandraConfiguration(\r\n    private val cassandraProperties: CassandraProperties,\r\n    ) : AbstractReactiveCassandraConfiguration() {\r\n\r\n    ...\r\n    ...\r\n\r\n    override fun getDriverConfigLoaderBuilderConfigurer(): DriverConfigLoaderBuilderConfigurer? {\r\n            return DriverConfigLoaderBuilderConfigurer{ builder: ProgrammaticDriverConfigLoaderBuilder -&gt;\r\n                builder\r\n                    .withString(DefaultDriverOption.METADATA_SCHEMA_ENABLED, &quot;false&quot;)\r\n                    .build()\r\n            }\r\n        }\r\n    \t\r\n    }\r\n\r\n","title":"Spring Cassandra time out query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S","body":"<p>Increasing request timeout does solve the problem.</p>\n<p>But the main reason we got timeout is the default value of &quot;DefaultDriverOption.METADATA_SCHEMA_ENABLED&quot; is true</p>\n<p>By override the value to false will boost up the speed.</p>\n<p>Example on kotlin as below :</p>\n<pre><code>class CassandraConfiguration(\nprivate val cassandraProperties: CassandraProperties,\n) : AbstractReactiveCassandraConfiguration() {\n\n...\n...\n\noverride fun getDriverConfigLoaderBuilderConfigurer(): DriverConfigLoaderBuilderConfigurer? {\n        return DriverConfigLoaderBuilderConfigurer{ builder: ProgrammaticDriverConfigLoaderBuilder -&gt;\n            builder\n                .withString(DefaultDriverOption.METADATA_SCHEMA_ENABLED, &quot;false&quot;)\n                .build()\n        }\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":3266555,"reputation":1740,"user_id":3554075,"display_name":"Rajeev"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14836,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":67320225,"answer_count":7,"score":9,"last_activity_date":1653893735,"creation_date":1619110629,"question_id":67217692,"body_markdown":"I am using Spring Boot `2.4.4` and Spring Data Cassandra dependency to connect to the Cassandra database. During the application startup, I am getting a DriverTimeout error (I am using VPN).     \r\n\r\nI have gone through all the Stack Overflow questions similar to this and none of them worked for me. I have cross-posted the same question on the Spring Boot [official page here][1].\r\n\r\nI used below configuration properties below -\r\n\r\n    spring.data.cassandra.contact-points=xxxxxx\r\n    spring.data.cassandra.username=xxxx\r\n    spring.data.cassandra.password=xxxxx\r\n    spring.data.cassandra.keyspace-name=xxxx\r\n    spring.data.cassandra.port=9042\r\n    spring.data.cassandra.schema-action=NONE\r\n    spring.data.cassandra.local-datacenter=mydc\r\n    spring.data.cassandra.connection.connect-timeout=PT10S\r\n    spring.data.cassandra.connection.init-query-timeout=PT20S\r\n    spring.data.cassandra.request.timeout=PT10S\r\n\r\nI also added DataStax properties in the application.properties to check if they can be picked up from there or not. \r\n\r\n    datastax-java-driver.basic.request.timeout = 10 seconds\r\n    datastax-java-driver.advanced.connection.init-query-timeout = 10 seconds\r\n    datastax-java-driver.advanced.control-connection.timeout = 10 seconds\r\n\r\n\r\nBelow is the configuration I used as suggested in the post [here][2] -\r\n\r\n    @EnableCassandraRepositories\r\n    public class CassandraConfig {\r\n        @Bean\r\n        \tDriverConfigLoaderBuilderCustomizer cassandraDriverCustomizer() {\r\n        \t\treturn (builder) -&gt; builder.withDuration(DefaultDriverOption.CONTROL_CONNECTION_TIMEOUT,\r\n        \t\t\t\tDuration.ofSeconds(30));\r\n        \t}\r\n    }\r\n\r\nBut I still get the same error\r\n\r\n    Caused by: com.datastax.oss.driver.api.core.DriverTimeoutException: query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S\r\n\r\nI also tried different approached like creating custom CqlSessionFactoryBean and provide all the DataStax properties programmatically to override - \r\n\r\n    @EnableCassandraRepositories\r\n    public class CassandraConfig extends AbstractCassandraConfiguration { \r\n    \r\n        @Bean(name = &quot;session&quot;)\r\n        \t@Primary\r\n        \tpublic CqlSessionFactoryBean cassandraSession() {\r\n        \t\tCqlSessionFactoryBean factory = new CqlSessionFactoryBean();\r\n        \t\tfactory.setUsername(userName);\r\n        \t\tfactory.setPassword(password);\r\n        \t\tfactory.setPort(port);\r\n        \t\tfactory.setKeyspaceName(keyspaceName);\r\n        \t\tfactory.setContactPoints(contactPoints);\r\n        \t\tfactory.setLocalDatacenter(dataCenter);\r\n        \t\tfactory.setSessionBuilderConfigurer(getSessionBuilderConfigurer()); // my session builder configurer \r\n        \t\treturn factory;\r\n        \t}\r\n        // And provided my own SessionBuilder Configurer like below\r\n        \r\n        protected SessionBuilderConfigurer getSessionBuilderConfigurer() {\r\n          \treturn new SessionBuilderConfigurer() {\r\n        \r\n          \t\t@Override\r\n          \t\tpublic CqlSessionBuilder configure(CqlSessionBuilder cqlSessionBuilder) {\r\n          \t\t\tProgrammaticDriverConfigLoaderBuilder config = DriverConfigLoader.programmaticBuilder()\r\n          \t\t\t\t\t.withDuration(DefaultDriverOption.CONNECTION_INIT_QUERY_TIMEOUT, Duration.ofSeconds(30))\r\n          \t\t\t\t\t.withBoolean(DefaultDriverOption.RECONNECT_ON_INIT, true)\r\n          \t\t\t\t\t.withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofSeconds(30))\r\n          \t\t\t\t\t.withDuration(DefaultDriverOption.CONTROL_CONNECTION_TIMEOUT, Duration.ofSeconds(20));\r\n          \t\t\treturn cqlSessionBuilder.withAuthCredentials(userName, password).withConfigLoader(config.build());\r\n          \t\t}\r\n          \t};\r\n          }\r\n    }\r\n\r\nIt didn&#39;t work same error. Also, I excluded the Cassandra auto-configuration classes like suggested [here][2] on StackOverflow\r\n\r\nI also tried to customize custom session builder like below to see if that can work -\r\n\r\n\r\n    @Bean\r\n    public CqlSessionBuilderCustomizer cqlSessionBuilderCustomizer() {\r\n    \t\treturn cqlSessionBuilder -&gt; cqlSessionBuilder.withAuthCredentials(userName, password)\r\n    \t\t\t\t.withConfigLoader(DriverConfigLoader.programmaticBuilder()\r\n    \t\t\t\t\t\t.withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofMillis(15000))\r\n    \t\t\t\t\t\t.withDuration(DefaultDriverOption.CONNECTION_INIT_QUERY_TIMEOUT, Duration.ofSeconds(30))\r\n    \t\t\t\t\t\t.withBoolean(DefaultDriverOption.RECONNECT_ON_INIT, true)\r\n    \t\t\t\t\t\t.withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofSeconds(30))\r\n    \t\t\t\t\t\t.withDuration(DefaultDriverOption.CONTROL_CONNECTION_TIMEOUT, Duration.ofSeconds(20)).build());\r\n    \t}\r\n\r\n\r\nStill no luck.\r\n\r\nNot only that I also added the `application.conf` file as [DataStax documentation][3] suggested putting that on the classpath, even though that file is getting parsed (after making the syntactical mistake I got to know that it is being read). It didn&#39;t work.\r\n\r\napplication.conf- \r\n\r\n    datastax-java-driver {\r\n     basic.request.timeout = 10 seconds\r\n     advanced.connection.init-query-timeout = 10 seconds\r\n     advanced.control-connection.timeout = 10 seconds\r\n    }\r\n\r\nI also switched my Spring Boot version to `2.5.0.M3` to see property files works it does not. I have pushed my project to [my GitHub account][4].\r\n\r\nUpdate\r\n---\r\n\r\nAs per the comment, I am pasting my whole stack trace.  Also, this does not happen all the time sometimes it works sometimes it does not. I need to override the timeout from PT2S to PT10S or something. \r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cassandraConverter&#39; defined in class path resource [com/example/demo/CassandraConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.cassandra.core.convert.CassandraConverter]: Factory method &#39;cassandraConverter&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cassandraSession&#39; defined in class path resource [com/example/demo/CassandraConfig.class]: Invocation of init method failed; nested exception is com.datastax.oss.driver.api.core.DriverTimeoutException: query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:484) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:895) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\r\n    \tat com.example.demo.SpringCassandraTestingApplication.main(SpringCassandraTestingApplication.java:13) [classes/:na]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.cassandra.core.convert.CassandraConverter]: Factory method &#39;cassandraConverter&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cassandraSession&#39; defined in class path resource [com/example/demo/CassandraConfig.class]: Invocation of init method failed; nested exception is com.datastax.oss.driver.api.core.DriverTimeoutException: query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \t... 19 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cassandraSession&#39; defined in class path resource [com/example/demo/CassandraConfig.class]: Invocation of init method failed; nested exception is com.datastax.oss.driver.api.core.DriverTimeoutException: query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:227) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1174) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:422) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:352) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:345) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.data.cassandra.config.AbstractSessionConfiguration.requireBeanOfType(AbstractSessionConfiguration.java:100) ~[spring-data-cassandra-3.0.0.RELEASE.jar:3.0.0.RELEASE]\r\n    \tat org.springframework.data.cassandra.config.AbstractSessionConfiguration.getRequiredSession(AbstractSessionConfiguration.java:200) ~[spring-data-cassandra-3.0.0.RELEASE.jar:3.0.0.RELEASE]\r\n    \tat org.springframework.data.cassandra.config.AbstractCassandraConfiguration.cassandraConverter(AbstractCassandraConfiguration.java:73) ~[spring-data-cassandra-3.0.0.RELEASE.jar:3.0.0.RELEASE]\r\n    \tat com.example.demo.CassandraConfig$$EnhancerBySpringCGLIB$$cec229ff.CGLIB$cassandraConverter$12(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.example.demo.CassandraConfig$$EnhancerBySpringCGLIB$$cec229ff$$FastClassBySpringCGLIB$$faa9c2c1.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat com.example.demo.CassandraConfig$$EnhancerBySpringCGLIB$$cec229ff.cassandraConverter(&lt;generated&gt;) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_275]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_275]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_275]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_275]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \t... 20 common frames omitted\r\n    Caused by: com.datastax.oss.driver.api.core.DriverTimeoutException: query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S\r\n    \tat com.datastax.oss.driver.api.core.DriverTimeoutException.copy(DriverTimeoutException.java:34) ~[java-driver-core-4.6.1.jar:na]\r\n    \tat com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149) ~[java-driver-core-4.6.1.jar:na]\r\n    \tat com.datastax.oss.driver.api.core.session.Session.refreshSchema(Session.java:140) ~[java-driver-core-4.6.1.jar:na]\r\n    \tat org.springframework.data.cassandra.config.CqlSessionFactoryBean.afterPropertiesSet(CqlSessionFactoryBean.java:437) ~[spring-data-cassandra-3.0.0.RELEASE.jar:3.0.0.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\r\n    \t... 43 common frames omitted\r\n\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/24189\r\n  [2]: https://stackoverflow.com/questions/65072999/drivertimeoutexception-query-timed-out-after-pt2s-unable-to-set-spring-data-ca\r\n  [3]: https://docs.datastax.com/en/developer/java-driver/4.6/manual/core/configuration/\r\n  [4]: https://github.com/rajeevshukla/spring-cassandra-configuration/tree/master/spring-cassandra-testing","title":"Spring Cassandra time out query &#39;SELECT * FROM system_schema.tables&#39; timed out after PT2S","body":"<p>I am using Spring Boot <code>2.4.4</code> and Spring Data Cassandra dependency to connect to the Cassandra database. During the application startup, I am getting a DriverTimeout error (I am using VPN).</p>\n<p>I have gone through all the Stack Overflow questions similar to this and none of them worked for me. I have cross-posted the same question on the Spring Boot <a href=\"https://github.com/spring-projects/spring-boot/issues/24189\" rel=\"noreferrer\">official page here</a>.</p>\n<p>I used below configuration properties below -</p>\n<pre><code>spring.data.cassandra.contact-points=xxxxxx\nspring.data.cassandra.username=xxxx\nspring.data.cassandra.password=xxxxx\nspring.data.cassandra.keyspace-name=xxxx\nspring.data.cassandra.port=9042\nspring.data.cassandra.schema-action=NONE\nspring.data.cassandra.local-datacenter=mydc\nspring.data.cassandra.connection.connect-timeout=PT10S\nspring.data.cassandra.connection.init-query-timeout=PT20S\nspring.data.cassandra.request.timeout=PT10S\n</code></pre>\n<p>I also added DataStax properties in the application.properties to check if they can be picked up from there or not.</p>\n<pre><code>datastax-java-driver.basic.request.timeout = 10 seconds\ndatastax-java-driver.advanced.connection.init-query-timeout = 10 seconds\ndatastax-java-driver.advanced.control-connection.timeout = 10 seconds\n</code></pre>\n<p>Below is the configuration I used as suggested in the post <a href=\"https://stackoverflow.com/questions/65072999/drivertimeoutexception-query-timed-out-after-pt2s-unable-to-set-spring-data-ca\">here</a> -</p>\n<pre><code>@EnableCassandraRepositories\npublic class CassandraConfig {\n    @Bean\n        DriverConfigLoaderBuilderCustomizer cassandraDriverCustomizer() {\n            return (builder) -&gt; builder.withDuration(DefaultDriverOption.CONTROL_CONNECTION_TIMEOUT,\n                    Duration.ofSeconds(30));\n        }\n}\n</code></pre>\n<p>But I still get the same error</p>\n<pre><code>Caused by: com.datastax.oss.driver.api.core.DriverTimeoutException: query 'SELECT * FROM system_schema.tables' timed out after PT2S\n</code></pre>\n<p>I also tried different approached like creating custom CqlSessionFactoryBean and provide all the DataStax properties programmatically to override -</p>\n<pre><code>@EnableCassandraRepositories\npublic class CassandraConfig extends AbstractCassandraConfiguration { \n\n    @Bean(name = &quot;session&quot;)\n        @Primary\n        public CqlSessionFactoryBean cassandraSession() {\n            CqlSessionFactoryBean factory = new CqlSessionFactoryBean();\n            factory.setUsername(userName);\n            factory.setPassword(password);\n            factory.setPort(port);\n            factory.setKeyspaceName(keyspaceName);\n            factory.setContactPoints(contactPoints);\n            factory.setLocalDatacenter(dataCenter);\n            factory.setSessionBuilderConfigurer(getSessionBuilderConfigurer()); // my session builder configurer \n            return factory;\n        }\n    // And provided my own SessionBuilder Configurer like below\n    \n    protected SessionBuilderConfigurer getSessionBuilderConfigurer() {\n        return new SessionBuilderConfigurer() {\n    \n            @Override\n            public CqlSessionBuilder configure(CqlSessionBuilder cqlSessionBuilder) {\n                ProgrammaticDriverConfigLoaderBuilder config = DriverConfigLoader.programmaticBuilder()\n                        .withDuration(DefaultDriverOption.CONNECTION_INIT_QUERY_TIMEOUT, Duration.ofSeconds(30))\n                        .withBoolean(DefaultDriverOption.RECONNECT_ON_INIT, true)\n                        .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofSeconds(30))\n                        .withDuration(DefaultDriverOption.CONTROL_CONNECTION_TIMEOUT, Duration.ofSeconds(20));\n                return cqlSessionBuilder.withAuthCredentials(userName, password).withConfigLoader(config.build());\n            }\n        };\n      }\n}\n</code></pre>\n<p>It didn't work same error. Also, I excluded the Cassandra auto-configuration classes like suggested <a href=\"https://stackoverflow.com/questions/65072999/drivertimeoutexception-query-timed-out-after-pt2s-unable-to-set-spring-data-ca\">here</a> on StackOverflow</p>\n<p>I also tried to customize custom session builder like below to see if that can work -</p>\n<pre><code>@Bean\npublic CqlSessionBuilderCustomizer cqlSessionBuilderCustomizer() {\n        return cqlSessionBuilder -&gt; cqlSessionBuilder.withAuthCredentials(userName, password)\n                .withConfigLoader(DriverConfigLoader.programmaticBuilder()\n                        .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofMillis(15000))\n                        .withDuration(DefaultDriverOption.CONNECTION_INIT_QUERY_TIMEOUT, Duration.ofSeconds(30))\n                        .withBoolean(DefaultDriverOption.RECONNECT_ON_INIT, true)\n                        .withDuration(DefaultDriverOption.REQUEST_TIMEOUT, Duration.ofSeconds(30))\n                        .withDuration(DefaultDriverOption.CONTROL_CONNECTION_TIMEOUT, Duration.ofSeconds(20)).build());\n    }\n</code></pre>\n<p>Still no luck.</p>\n<p>Not only that I also added the <code>application.conf</code> file as <a href=\"https://docs.datastax.com/en/developer/java-driver/4.6/manual/core/configuration/\" rel=\"noreferrer\">DataStax documentation</a> suggested putting that on the classpath, even though that file is getting parsed (after making the syntactical mistake I got to know that it is being read). It didn't work.</p>\n<p>application.conf-</p>\n<pre><code>datastax-java-driver {\n basic.request.timeout = 10 seconds\n advanced.connection.init-query-timeout = 10 seconds\n advanced.control-connection.timeout = 10 seconds\n}\n</code></pre>\n<p>I also switched my Spring Boot version to <code>2.5.0.M3</code> to see property files works it does not. I have pushed my project to <a href=\"https://github.com/rajeevshukla/spring-cassandra-configuration/tree/master/spring-cassandra-testing\" rel=\"noreferrer\">my GitHub account</a>.</p>\n<h2>Update</h2>\n<p>As per the comment, I am pasting my whole stack trace.  Also, this does not happen all the time sometimes it works sometimes it does not. I need to override the timeout from PT2S to PT10S or something.</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cassandraConverter' defined in class path resource [com/example/demo/CassandraConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.cassandra.core.convert.CassandraConverter]: Factory method 'cassandraConverter' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cassandraSession' defined in class path resource [com/example/demo/CassandraConfig.class]: Invocation of init method failed; nested exception is com.datastax.oss.driver.api.core.DriverTimeoutException: query 'SELECT * FROM system_schema.tables' timed out after PT2S\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:484) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:895) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar:2.3.0.RELEASE]\n    at com.example.demo.SpringCassandraTestingApplication.main(SpringCassandraTestingApplication.java:13) [classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.cassandra.core.convert.CassandraConverter]: Factory method 'cassandraConverter' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cassandraSession' defined in class path resource [com/example/demo/CassandraConfig.class]: Invocation of init method failed; nested exception is com.datastax.oss.driver.api.core.DriverTimeoutException: query 'SELECT * FROM system_schema.tables' timed out after PT2S\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cassandraSession' defined in class path resource [com/example/demo/CassandraConfig.class]: Invocation of init method failed; nested exception is com.datastax.oss.driver.api.core.DriverTimeoutException: query 'SELECT * FROM system_schema.tables' timed out after PT2S\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:227) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveNamedBean(DefaultListableBeanFactory.java:1174) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveBean(DefaultListableBeanFactory.java:422) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:352) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:345) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.data.cassandra.config.AbstractSessionConfiguration.requireBeanOfType(AbstractSessionConfiguration.java:100) ~[spring-data-cassandra-3.0.0.RELEASE.jar:3.0.0.RELEASE]\n    at org.springframework.data.cassandra.config.AbstractSessionConfiguration.getRequiredSession(AbstractSessionConfiguration.java:200) ~[spring-data-cassandra-3.0.0.RELEASE.jar:3.0.0.RELEASE]\n    at org.springframework.data.cassandra.config.AbstractCassandraConfiguration.cassandraConverter(AbstractCassandraConfiguration.java:73) ~[spring-data-cassandra-3.0.0.RELEASE.jar:3.0.0.RELEASE]\n    at com.example.demo.CassandraConfig$$EnhancerBySpringCGLIB$$cec229ff.CGLIB$cassandraConverter$12(&lt;generated&gt;) ~[classes/:na]\n    at com.example.demo.CassandraConfig$$EnhancerBySpringCGLIB$$cec229ff$$FastClassBySpringCGLIB$$faa9c2c1.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at com.example.demo.CassandraConfig$$EnhancerBySpringCGLIB$$cec229ff.cassandraConverter(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_275]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_275]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_275]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_275]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 20 common frames omitted\nCaused by: com.datastax.oss.driver.api.core.DriverTimeoutException: query 'SELECT * FROM system_schema.tables' timed out after PT2S\n    at com.datastax.oss.driver.api.core.DriverTimeoutException.copy(DriverTimeoutException.java:34) ~[java-driver-core-4.6.1.jar:na]\n    at com.datastax.oss.driver.internal.core.util.concurrent.CompletableFutures.getUninterruptibly(CompletableFutures.java:149) ~[java-driver-core-4.6.1.jar:na]\n    at com.datastax.oss.driver.api.core.session.Session.refreshSchema(Session.java:140) ~[java-driver-core-4.6.1.jar:na]\n    at org.springframework.data.cassandra.config.CqlSessionFactoryBean.afterPropertiesSet(CqlSessionFactoryBean.java:437) ~[spring-data-cassandra-3.0.0.RELEASE.jar:3.0.0.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.6.RELEASE.jar:5.2.6.RELEASE]\n    ... 43 common frames omitted\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore","dagger-hilt"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1653844812,"post_id":72423119,"comment_id":127945456,"body_markdown":"Did you try doing a web search for the error message &quot;cannot be provided without an @ Inject constructor or an @ Provides-annotated method&quot;?  It seems common.","body":"Did you try doing a web search for the error message &quot;cannot be provided without an @ Inject constructor or an @ Provides-annotated method&quot;?  It seems common."},{"owner":{"account_id":25417577,"reputation":1,"user_id":19224202,"display_name":"Anjali"},"score":0,"creation_date":1653893443,"post_id":72423119,"comment_id":127953382,"body_markdown":"@Doug Thank you for your suggestion. I figured out that it was due to placement of ```@Named```.","body":"@Doug Thank you for your suggestion. I figured out that it was due to placement of <code>@Named</code>."}],"owner":{"account_id":25417577,"reputation":1,"user_id":19224202,"display_name":"Anjali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653893718,"creation_date":1653822653,"question_id":72423119,"body_markdown":"This is a simple app to get data from firebase \r\n\r\n***Error:*** *[Dagger/MissingBinding] com.google.firebase.firestore.CollectionReference cannot be provided without an @Inject constructor or an @Provides-annotated method.*\r\n```public abstract static class SingletonC implements MyApplication_GeneratedInjector```\r\n\r\n**Android Menifest**\r\n```\r\n&lt;application \r\n  android:name=&quot;.MyApplication&quot;\r\n ....\r\n&lt;/application&gt;\r\n```\r\n\r\n**MyApplication.class**\r\n```\r\n@HiltAndroidApp\r\npublic class MyApplication extends Application {\r\n}\r\n```\r\n**FirebaseModule.class**\r\n```\r\n@Module\r\n@InstallIn(SingletonComponent.class)\r\npublic class FirebaseModule {\r\n\r\n    @Provides\r\n    public FirebaseFirestore providesFirebaseFirestore() {\r\n        return FirebaseFirestore.getInstance();\r\n    }\r\n\r\n    @Provides\r\n    public FirebaseDatabase providesFirebaseDb() {\r\n        return FirebaseDatabase.getInstance();\r\n    }\r\n\r\n    @Provides\r\n    @Named(MOVIES)\r\n    public CollectionReference providesMovies(FirebaseFirestore db) {\r\n        return db.collection(MOVIES);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Repos.class**\r\n```\r\n@Singleton\r\n public class Repos {\r\n  @Named(MOVIES)\r\n    public CollectionReference movies;\r\n\r\n  @Inject\r\n    public Repos(CollectionReference movies) {\r\n        this.movies = movies;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"Com.google.firebase.firestore.CollectionReference cannot be provided without an @Inject constructor or an @Provides-annotated method","body":"<p>This is a simple app to get data from firebase</p>\n<p><em><strong>Error:</strong></em> <em>[Dagger/MissingBinding] com.google.firebase.firestore.CollectionReference cannot be provided without an @Inject constructor or an @Provides-annotated method.</em>\n<code>public abstract static class SingletonC implements MyApplication_GeneratedInjector</code></p>\n<p><strong>Android Menifest</strong></p>\n<pre><code>&lt;application \n  android:name=&quot;.MyApplication&quot;\n ....\n&lt;/application&gt;\n</code></pre>\n<p><strong>MyApplication.class</strong></p>\n<pre><code>@HiltAndroidApp\npublic class MyApplication extends Application {\n}\n</code></pre>\n<p><strong>FirebaseModule.class</strong></p>\n<pre><code>@Module\n@InstallIn(SingletonComponent.class)\npublic class FirebaseModule {\n\n    @Provides\n    public FirebaseFirestore providesFirebaseFirestore() {\n        return FirebaseFirestore.getInstance();\n    }\n\n    @Provides\n    public FirebaseDatabase providesFirebaseDb() {\n        return FirebaseDatabase.getInstance();\n    }\n\n    @Provides\n    @Named(MOVIES)\n    public CollectionReference providesMovies(FirebaseFirestore db) {\n        return db.collection(MOVIES);\n    }\n\n}\n</code></pre>\n<p><strong>Repos.class</strong></p>\n<pre><code>@Singleton\n public class Repos {\n  @Named(MOVIES)\n    public CollectionReference movies;\n\n  @Inject\n    public Repos(CollectionReference movies) {\n        this.movies = movies;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","scala","maven","apache-spark","jar"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653893594,"creation_date":1647971225,"answer_id":71576720,"question_id":71576592,"body_markdown":"I will take a guess… You are experiencing a clash of package names because:\r\n\r\n - You are developing in a Java EE environment, and\r\n - You are deploying to a Jakarta EE environment. \r\n\r\nJava EE uses `javax.*` package naming. After Oracle Corp handed responsibility for Java EE to the Eclipse Foundation, they changed the package naming to `jakarta.*`.  \r\n\r\nYou can read more about this Jakarta transition in *many* places in the industry press, video lectures, and conference presentations. \r\n\r\nTo fix your problem, either:\r\n\r\n - Downgrade your deployment environment to Java EE, or \r\n - Upgrade your development environment to Jakarta EE. This includes changing your `import` statements from `javax` to `jakarta`. \r\n\r\nBoth choices are valid. Most vendors will support their Java EE era products for years. But future improvements and innovations will happen mainly in the new generation of Jakarta EE product releases. So you’ll eventually want to migrate to Jakarta EE. But doing so is not urgent.  \r\n","title":"java.lang.ClassNotFoundException: javax.mail.Message","body":"<p>I will take a guess… You are experiencing a clash of package names because:</p>\n<ul>\n<li>You are developing in a Java EE environment, and</li>\n<li>You are deploying to a Jakarta EE environment.</li>\n</ul>\n<p>Java EE uses <code>javax.*</code> package naming. After Oracle Corp handed responsibility for Java EE to the Eclipse Foundation, they changed the package naming to <code>jakarta.*</code>.</p>\n<p>You can read more about this Jakarta transition in <em>many</em> places in the industry press, video lectures, and conference presentations.</p>\n<p>To fix your problem, either:</p>\n<ul>\n<li>Downgrade your deployment environment to Java EE, or</li>\n<li>Upgrade your development environment to Jakarta EE. This includes changing your <code>import</code> statements from <code>javax</code> to <code>jakarta</code>.</li>\n</ul>\n<p>Both choices are valid. Most vendors will support their Java EE era products for years. But future improvements and innovations will happen mainly in the new generation of Jakarta EE product releases. So you’ll eventually want to migrate to Jakarta EE. But doing so is not urgent.</p>\n"}],"owner":{"account_id":11079283,"reputation":383,"user_id":8134936,"display_name":"Sekar Ramu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71576720,"answer_count":1,"score":0,"last_activity_date":1653893594,"creation_date":1647970649,"question_id":71576592,"body_markdown":"I am trying to send email using Javax in the spark env. When I try to build this code in IntelliJ it is building properly without any issues.\r\n\r\nBut when I bring this code to the server and try to run it I am getting the below error\r\n\r\n**java.lang.ClassNotFoundException: javax.mail.Message**\r\n\r\n**Scala Code Snippet** \r\n\r\n``` \r\n    val message = new MimeMessage(session)\r\n    message.setFrom(&quot;abc@xyz.com&quot;)\r\n    //message.addRecipients(Message.RecipientType.TO, to_address)\r\n    message.addRecipients(javax.mail.Message.RecipientType.TO, &quot;abc@xyz.com&quot;)\r\n```\r\n\r\nI have tried by keeping **javax.mail-1.5.6.jar** as well as  **commons-email-1.5.jar** in my class path in the server and still getting this error. \r\n\r\n\r\n**Spark Commands**\r\n\r\n```\r\nspark-submit --master yarn --conf spark.driver.maxResultSize=0 --conf spark.driver.extraClassPath=/home/abc/commons-email-1.5.jar,/home/abc/activation-1.1.1.jar --conf spark.executor.extraClassPath=/home/abc/commons-email-1.5.jar,/home/abc/activation-1.1.1.jar --jars /home/abc/commons-email-1.5.jar --jars /home/abc/activation-1.1.1.jar --class com.abc.common.utils.UtilityMailer ./abc-xyz.jar\r\n```\r\n\r\n```\r\nspark-submit --master yarn --conf spark.driver.maxResultSize=0 --conf spark.driver.extraClassPath=/home/abc/javax.mail-1.5.6.jar,/home/abc/activation-1.1.1.jar --conf spark.executor.extraClassPath=/home/abc/javax.mail-1.5.6.jar,/home/abc/activation-1.1.1.jar --jars /home/abc/javax.mail-1.5.6.jar --jars /home/abc/activation-1.1.1.jar --class com.abc.common.utils.UtilityMailer ./abc-xyz.jar\r\n```\r\n\r\nKindly Help!!!","title":"java.lang.ClassNotFoundException: javax.mail.Message","body":"<p>I am trying to send email using Javax in the spark env. When I try to build this code in IntelliJ it is building properly without any issues.</p>\n<p>But when I bring this code to the server and try to run it I am getting the below error</p>\n<p><strong>java.lang.ClassNotFoundException: javax.mail.Message</strong></p>\n<p><strong>Scala Code Snippet</strong></p>\n<pre><code>    val message = new MimeMessage(session)\n    message.setFrom(&quot;abc@xyz.com&quot;)\n    //message.addRecipients(Message.RecipientType.TO, to_address)\n    message.addRecipients(javax.mail.Message.RecipientType.TO, &quot;abc@xyz.com&quot;)\n</code></pre>\n<p>I have tried by keeping <strong>javax.mail-1.5.6.jar</strong> as well as  <strong>commons-email-1.5.jar</strong> in my class path in the server and still getting this error.</p>\n<p><strong>Spark Commands</strong></p>\n<pre><code>spark-submit --master yarn --conf spark.driver.maxResultSize=0 --conf spark.driver.extraClassPath=/home/abc/commons-email-1.5.jar,/home/abc/activation-1.1.1.jar --conf spark.executor.extraClassPath=/home/abc/commons-email-1.5.jar,/home/abc/activation-1.1.1.jar --jars /home/abc/commons-email-1.5.jar --jars /home/abc/activation-1.1.1.jar --class com.abc.common.utils.UtilityMailer ./abc-xyz.jar\n</code></pre>\n<pre><code>spark-submit --master yarn --conf spark.driver.maxResultSize=0 --conf spark.driver.extraClassPath=/home/abc/javax.mail-1.5.6.jar,/home/abc/activation-1.1.1.jar --conf spark.executor.extraClassPath=/home/abc/javax.mail-1.5.6.jar,/home/abc/activation-1.1.1.jar --jars /home/abc/javax.mail-1.5.6.jar --jars /home/abc/activation-1.1.1.jar --class com.abc.common.utils.UtilityMailer ./abc-xyz.jar\n</code></pre>\n<p>Kindly Help!!!</p>\n"},{"tags":["java","selenium-webdriver","testing","automation"],"answers":[{"tags":[],"owner":{"account_id":25389285,"reputation":1,"user_id":19200560,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653893587,"creation_date":1653499985,"answer_id":72382006,"question_id":67982211,"body_markdown":"Try to use this approach:\r\n\r\n    OPTIONS.click();\r\n    Actions action = new Actions(driver);\r\n    action.moveToElement(CopyOrder).perform(); // element you want to hover\r\n    driver.(EntireOrder).click();","title":"How to select and click multi level drop down in selenium without Select class","body":"<p>Try to use this approach:</p>\n<pre><code>OPTIONS.click();\nActions action = new Actions(driver);\naction.moveToElement(CopyOrder).perform(); // element you want to hover\ndriver.(EntireOrder).click();\n</code></pre>\n"}],"owner":{"account_id":19405052,"reputation":11,"user_id":14190708,"display_name":"Khagendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653893587,"creation_date":1623743680,"question_id":67982211,"body_markdown":"[Drop Down Buttons][1]\r\nI want to click on &quot;Entire Order(Same Local Site)&quot;. After clicking on OPTIONS, menu gets displayed and after hoavering over &quot;Copy Order&quot; sub-menu gets displayed.\r\n\r\n\r\n    public void moveToTask(WebElement ele1)\r\n    \t{\r\n    \t\tActions ac = new Actions(driver);\r\n    \t\tlog.info(&quot;Task Link is: &quot;+ele1);\r\n    \t\tac.moveToElement(ele1);\r\n    \t\tlog.info(&quot;Moved to Element by action using class&quot;);\r\n    \t}\r\n    \r\n    public void MoveToTaskandClick(WebElement ele)\r\n    \t{\r\n    \t\tActions ac = new Actions(driver);\r\n    \t\tac.moveToElement(ele).perform();\r\n    \t\tac.click().build().perform();\r\n    \t\tlog.info(&quot;Move to task and clicked on&quot;+ele);\t\t\r\n    \t}\r\n    \r\n    public void copyOrder() throws InterruptedException\r\n    \t{\r\n    \r\n    \t\tOPTIONS.click();\r\n    \t\tThread.sleep(3000);\r\n    \t\tdropdownhelper.moveToTask(CopyOrder);\r\n    \t\tThread.sleep(5000);\r\n    \t\tdropdownhelper.MoveToTaskandClick(SameSite);\r\n    \t\tThread.sleep(5000);\r\n    \t\talerthelper.acceptAlertIfPresent();\r\n    \t}\r\n\r\nIt neither throws error nor it clicks on same site. It clicks only on OPTIONS and then nothing happens.\r\n\r\nXPath I am using:\r\n\r\n\t@FindBy(xpath = &quot;//img[@name=&#39;order_options_btn&#39;]&quot;)\r\n\tpublic WebElement OPTIONS;\r\n\t\r\n\t@FindBy(xpath=&quot;//div[@id=&#39;copy_menu&#39;]&quot;)\r\n\tpublic WebElement CopyOrder;\r\n\t\r\n\t@FindBy(xpath=&quot;//div[@id=&#39;copy_menu&#39;]/table/tbody/tr[4]/td[2]/nobr&quot;)\r\n\tpublic WebElement SameSite;\r\n\r\n\r\n\r\n[XML Code][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xS3iQ.png\r\n  [2]: https://i.stack.imgur.com/QlUZY.png","title":"How to select and click multi level drop down in selenium without Select class","body":"<p><a href=\"https://i.stack.imgur.com/xS3iQ.png\" rel=\"nofollow noreferrer\">Drop Down Buttons</a>\nI want to click on &quot;Entire Order(Same Local Site)&quot;. After clicking on OPTIONS, menu gets displayed and after hoavering over &quot;Copy Order&quot; sub-menu gets displayed.</p>\n<pre><code>public void moveToTask(WebElement ele1)\n    {\n        Actions ac = new Actions(driver);\n        log.info(&quot;Task Link is: &quot;+ele1);\n        ac.moveToElement(ele1);\n        log.info(&quot;Moved to Element by action using class&quot;);\n    }\n\npublic void MoveToTaskandClick(WebElement ele)\n    {\n        Actions ac = new Actions(driver);\n        ac.moveToElement(ele).perform();\n        ac.click().build().perform();\n        log.info(&quot;Move to task and clicked on&quot;+ele);        \n    }\n\npublic void copyOrder() throws InterruptedException\n    {\n\n        OPTIONS.click();\n        Thread.sleep(3000);\n        dropdownhelper.moveToTask(CopyOrder);\n        Thread.sleep(5000);\n        dropdownhelper.MoveToTaskandClick(SameSite);\n        Thread.sleep(5000);\n        alerthelper.acceptAlertIfPresent();\n    }\n</code></pre>\n<p>It neither throws error nor it clicks on same site. It clicks only on OPTIONS and then nothing happens.</p>\n<p>XPath I am using:</p>\n<pre><code>@FindBy(xpath = &quot;//img[@name='order_options_btn']&quot;)\npublic WebElement OPTIONS;\n\n@FindBy(xpath=&quot;//div[@id='copy_menu']&quot;)\npublic WebElement CopyOrder;\n\n@FindBy(xpath=&quot;//div[@id='copy_menu']/table/tbody/tr[4]/td[2]/nobr&quot;)\npublic WebElement SameSite;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/QlUZY.png\" rel=\"nofollow noreferrer\">XML Code</a></p>\n"},{"tags":["java","package","access-modifiers"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1653891986,"post_id":72429944,"comment_id":127953018,"body_markdown":"why are you doing `A a = new A(5);` if `B` extends `A`?  Simply `System.out.println(x);`","body":"why are you doing <code>A a = new A(5);</code> if <code>B</code> extends <code>A</code>?  Simply <code>System.out.println(x);</code>"}],"answers":[{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653893269,"creation_date":1653893269,"answer_id":72430147,"question_id":72429944,"body_markdown":"You are answering your own question. \r\n&gt;&quot;Protected fields of a class are accessible from a `subclass` in a different package;\r\n\r\nIn your case `B is the subclass of A`.You can access `x` via \r\n```\r\nB b = new B(); \r\nSystem.out.println(b.x);\r\n```\r\nOtherwise it will behave like a `private` access modifier;","title":"Why a subclass in a different package is unable to access the protected fields of its superclass in another package through superclass instance?","body":"<p>You are answering your own question.</p>\n<blockquote>\n<p>&quot;Protected fields of a class are accessible from a <code>subclass</code> in a different package;</p>\n</blockquote>\n<p>In your case <code>B is the subclass of A</code>.You can access <code>x</code> via</p>\n<pre><code>B b = new B(); \nSystem.out.println(b.x);\n</code></pre>\n<p>Otherwise it will behave like a <code>private</code> access modifier;</p>\n"}],"owner":{"display_name":"user19229331"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653893269,"creation_date":1653891830,"question_id":72429944,"body_markdown":"**protected** fields of a class are accessible from a subclass in a different package, then why the code shows &quot;The field A.x is not visible?&quot;\r\n\r\n```\r\n// A.java\r\npackage pack;\r\n\r\npublic class A {\r\n    protected int x;\r\n\r\n    public A() {}\r\n\r\n    public A(int x) {\r\n        this.x = x;\r\n    }\r\n\r\n    public void showx() {\r\n        System.out.println(x);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n// B.java\r\npackage pack2;\r\nimport pack.*;\r\n\r\npublic class B extends A {\r\n    public static void main(String[] args) {\r\n        A a = new A(5);\r\n        System.out.println(a.x); // The field A.x is not visible\r\n        a.showx(); // 5\r\n    }\r\n}\r\n```","title":"Why a subclass in a different package is unable to access the protected fields of its superclass in another package through superclass instance?","body":"<p><strong>protected</strong> fields of a class are accessible from a subclass in a different package, then why the code shows &quot;The field A.x is not visible?&quot;</p>\n<pre><code>// A.java\npackage pack;\n\npublic class A {\n    protected int x;\n\n    public A() {}\n\n    public A(int x) {\n        this.x = x;\n    }\n\n    public void showx() {\n        System.out.println(x);\n    }\n}\n</code></pre>\n<pre><code>// B.java\npackage pack2;\nimport pack.*;\n\npublic class B extends A {\n    public static void main(String[] args) {\n        A a = new A(5);\n        System.out.println(a.x); // The field A.x is not visible\n        a.showx(); // 5\n    }\n}\n</code></pre>\n"},{"tags":["java","variables","integer","negative-number"],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1348248422,"creation_date":1348247737,"answer_id":12535130,"question_id":12535095,"body_markdown":"Because of silent integer overflow: `Integer.MIN_VALUE` is `-2^31` and `Integer.MAX_VALUE` is `2^31-1`, so `-Integer.MIN_VALUE` is `2^31`, which is `Integer.MAX_VALUE + 1`, which by definition is too large for an integer. So it overflows and becomes `Integer.MIN_VALUE`...\r\n\r\nYou can also check that:\r\n\r\n    System.out.println(Integer.MAX_VALUE + 1);\r\n\r\nprints the same thing.\r\n\r\nMore technically, the result is defined by the [Java Language Specification #15.18.2][1]:\r\n\r\n&gt; If an integer addition overflows, then the result is the low-order bits of the mathematical sum as represented in some sufficiently large two&#39;s-complement format. If overflow occurs, then the sign of the result is not the same as the sign of the mathematical sum of the two operand values. \r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.18.2-400","title":"Java Integer.MIN_VALUE&#39;s negative then compare yields two negatives","body":"<p>Because of silent integer overflow: <code>Integer.MIN_VALUE</code> is <code>-2^31</code> and <code>Integer.MAX_VALUE</code> is <code>2^31-1</code>, so <code>-Integer.MIN_VALUE</code> is <code>2^31</code>, which is <code>Integer.MAX_VALUE + 1</code>, which by definition is too large for an integer. So it overflows and becomes <code>Integer.MIN_VALUE</code>...</p>\n\n<p>You can also check that:</p>\n\n<pre><code>System.out.println(Integer.MAX_VALUE + 1);\n</code></pre>\n\n<p>prints the same thing.</p>\n\n<p>More technically, the result is defined by the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.18.2-400\">Java Language Specification #15.18.2</a>:</p>\n\n<blockquote>\n  <p>If an integer addition overflows, then the result is the low-order bits of the mathematical sum as represented in some sufficiently large two's-complement format. If overflow occurs, then the sign of the result is not the same as the sign of the mathematical sum of the two operand values. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":355822,"reputation":1375,"user_id":694976,"accept_rate":78,"display_name":"Jo&#227;o Mendes"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1348247932,"creation_date":1348247932,"answer_id":12535167,"question_id":12535095,"body_markdown":"Basically, because `Integer.MAX_VALUE` is actually only 2147483647, so `-Integer.MIN_VALUE`, which would be +2147483648, actually overflows the capacity of the internal binary representation of integers. Thus, the result &quot;loops around&quot; back to `Integer.MIN_VALUE`, or -2147483648.\r\n\r\nIf you did `long b = -((long)a);` instead, you would get the expected result.","title":"Java Integer.MIN_VALUE&#39;s negative then compare yields two negatives","body":"<p>Basically, because <code>Integer.MAX_VALUE</code> is actually only 2147483647, so <code>-Integer.MIN_VALUE</code>, which would be +2147483648, actually overflows the capacity of the internal binary representation of integers. Thus, the result \"loops around\" back to <code>Integer.MIN_VALUE</code>, or -2147483648.</p>\n\n<p>If you did <code>long b = -((long)a);</code> instead, you would get the expected result.</p>\n"},{"tags":[],"owner":{"account_id":2702504,"reputation":369,"user_id":2332921,"display_name":"user2332921"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1594962517,"creation_date":1381438465,"answer_id":19306037,"question_id":12535095,"body_markdown":"To show this even more clearly:\r\n\r\n    Integer.MIN_VALUE is -2^31 = -2147483648\r\n    Integer.MAX_VALUE is 2^31-1 = 2147483647 \r\n    /*notice this is 1 less than the negative value above*/\r\n\r\n`Integer.MAX_VALUE` can not take `2147483648`. This is too large number for Integer by exactly 1. This causes the number to go back on the scale from max value back to starting poing which is the min value.","title":"Java Integer.MIN_VALUE&#39;s negative then compare yields two negatives","body":"<p>To show this even more clearly:</p>\n<pre><code>Integer.MIN_VALUE is -2^31 = -2147483648\nInteger.MAX_VALUE is 2^31-1 = 2147483647 \n/*notice this is 1 less than the negative value above*/\n</code></pre>\n<p><code>Integer.MAX_VALUE</code> can not take <code>2147483648</code>. This is too large number for Integer by exactly 1. This causes the number to go back on the scale from max value back to starting poing which is the min value.</p>\n"},{"tags":[],"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594962719,"creation_date":1594962719,"answer_id":62947467,"question_id":12535095,"body_markdown":"A fixed number of binary bits can encode an even number of things. That means that you can&#39;t have a sequence that&#39;s exactly centered on zero, since that would require an is number of things to be symmetrical. The closest thing you can get to having zero in the middle of the sentence is to split it as either negative and non-negative, or positive and non-positive. Normal twos complement encoding does the former. So 32 bits span the range from -2^31 to 2^31-1. Zero is in the non-negative half of the sequence, and you have one negative number that can not be properly negated.","title":"Java Integer.MIN_VALUE&#39;s negative then compare yields two negatives","body":"<p>A fixed number of binary bits can encode an even number of things. That means that you can't have a sequence that's exactly centered on zero, since that would require an is number of things to be symmetrical. The closest thing you can get to having zero in the middle of the sentence is to split it as either negative and non-negative, or positive and non-positive. Normal twos complement encoding does the former. So 32 bits span the range from -2^31 to 2^31-1. Zero is in the non-negative half of the sequence, and you have one negative number that can not be properly negated.</p>\n"},{"tags":[],"owner":{"account_id":11236448,"reputation":2567,"user_id":8242447,"display_name":"Ṃųỻịgǻňạcểơửṩ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653893038,"creation_date":1653893038,"answer_id":72430116,"question_id":12535095,"body_markdown":"Java ints are stored in a 32-bit two&#39;s compliment form. Similar results applies for all two&#39;s compliment representations. The anomalous behavior is due to the extra negative integer which is an artifat of two&#39;s compliment. \r\n\r\n`-2147483748` has a leadbitwise representation of\r\n```\r\n10000000 00000000 00000000 00000000\r\n```\r\nand the negative of a number is achieved by flipping all the bits and adding one to it. The largest positive int will have a bitwise representation of \r\n\r\n```\r\n01111111 11111111 11111111 11111111\r\n```\r\n\r\nwhich is `2147483647`. We then add one more, so bitwise, we have\r\n\r\n```\r\n10000000 00000000 00000000 00000000 == -2147483648\r\n```\r\n\r\nThis extra integer is an artifact of the two&#39;s compliment representation and operations with this number can have undesirable consequences. `-2147483748` is indeed unique among the ints!","title":"Java Integer.MIN_VALUE&#39;s negative then compare yields two negatives","body":"<p>Java ints are stored in a 32-bit two's compliment form. Similar results applies for all two's compliment representations. The anomalous behavior is due to the extra negative integer which is an artifat of two's compliment.</p>\n<p><code>-2147483748</code> has a leadbitwise representation of</p>\n<pre><code>10000000 00000000 00000000 00000000\n</code></pre>\n<p>and the negative of a number is achieved by flipping all the bits and adding one to it. The largest positive int will have a bitwise representation of</p>\n<pre><code>01111111 11111111 11111111 11111111\n</code></pre>\n<p>which is <code>2147483647</code>. We then add one more, so bitwise, we have</p>\n<pre><code>10000000 00000000 00000000 00000000 == -2147483648\n</code></pre>\n<p>This extra integer is an artifact of the two's compliment representation and operations with this number can have undesirable consequences. <code>-2147483748</code> is indeed unique among the ints!</p>\n"}],"owner":{"account_id":896655,"reputation":1436,"user_id":933756,"accept_rate":96,"display_name":"Quinma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24729,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":12535130,"answer_count":5,"score":22,"last_activity_date":1653893169,"creation_date":1348247585,"question_id":12535095,"body_markdown":"I have a test tomorrow and I can&#39;t understand my books explanation, I appreciate the help:\r\n\r\n    public class TestClass{\r\n          public static void main(String[] args) throws Exception{\r\n                int a = Integer.MIN_VALUE;\r\n                int b = -a;\r\n                System.out.println( a+ &quot;   &quot;+b);\r\n          }\r\n    }\r\n\r\nOutput: `-2147483648   -2147483648`\r\n\r\nWhy does this print 2 negative numbers of the same magnitude and not a positive and negative?","title":"Java Integer.MIN_VALUE&#39;s negative then compare yields two negatives","body":"<p>I have a test tomorrow and I can't understand my books explanation, I appreciate the help:</p>\n<pre><code>public class TestClass{\n      public static void main(String[] args) throws Exception{\n            int a = Integer.MIN_VALUE;\n            int b = -a;\n            System.out.println( a+ &quot;   &quot;+b);\n      }\n}\n</code></pre>\n<p>Output: <code>-2147483648   -2147483648</code></p>\n<p>Why does this print 2 negative numbers of the same magnitude and not a positive and negative?</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653888981,"post_id":72427635,"comment_id":127952368,"body_markdown":"Why is your controller transactional? Your listener method should be transactional not your controller. Also **why** is it failing? Isn&#39;t the size 1? (Do you have multple tests for this, leading to 2 or 3 results instead of 1?). But for starters move the `@Transactional` to the proper place.","body":"Why is your controller transactional? Your listener method should be transactional not your controller. Also <b>why</b> is it failing? Isn&#39;t the size 1? (Do you have multple tests for this, leading to 2 or 3 results instead of 1?). But for starters move the <code>@Transactional</code> to the proper place."},{"owner":{"account_id":3083879,"reputation":888,"user_id":3910324,"display_name":"Nico"},"score":0,"creation_date":1653892343,"post_id":72427635,"comment_id":127953112,"body_markdown":"I&#39;m using transactional because of hibernate search, the repository I&#39;m calling in the controller is for full text search. Hibernate search needs a transaction by default to perform the search, I will try to move the transactional to the repository level. I have also updated the test code, I forgot to mention that I have a `deleteAll` before each test, thats why I&#39;m asserting always 1, but the test in the pipeline says size 0","body":"I&#39;m using transactional because of hibernate search, the repository I&#39;m calling in the controller is for full text search. Hibernate search needs a transaction by default to perform the search, I will try to move the transactional to the repository level. I have also updated the test code, I forgot to mention that I have a <code>deleteAll</code> before each test, thats why I&#39;m asserting always 1, but the test in the pipeline says size 0"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653892415,"post_id":72427635,"comment_id":127953126,"body_markdown":"Making your controller transasctional, the web layer, is a bad idea. YOur controller should call a service method that is transactional.","body":"Making your controller transasctional, the web layer, is a bad idea. YOur controller should call a service method that is transactional."},{"owner":{"account_id":3083879,"reputation":888,"user_id":3910324,"display_name":"Nico"},"score":0,"creation_date":1653892615,"post_id":72427635,"comment_id":127953170,"body_markdown":"Ok, could you elaborate more about why is a bad idea? I moved the transactional to the repository class (is some kind of service in the end) and is failing by the same reason, timing out because there are no searches created in the database.","body":"Ok, could you elaborate more about why is a bad idea? I moved the transactional to the repository class (is some kind of service in the end) and is failing by the same reason, timing out because there are no searches created in the database."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653892892,"post_id":72427635,"comment_id":127953243,"body_markdown":"Do you want your transactional to fail when something goes wrong rendering/writing the response? As that is what you have achieved now, tied your transactionality to the success of the request/response cycle. Also the `@Transactional` on your controller doesn&#39;t work for the listener as that is `@Async` and thus uses  a different tx.","body":"Do you want your transactional to fail when something goes wrong rendering/writing the response? As that is what you have achieved now, tied your transactionality to the success of the request/response cycle. Also the <code>@Transactional</code> on your controller doesn&#39;t work for the listener as that is <code>@Async</code> and thus uses  a different tx."}],"owner":{"account_id":3083879,"reputation":888,"user_id":3910324,"display_name":"Nico"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653893097,"creation_date":1653862425,"question_id":72427635,"body_markdown":"I&#39;m adding a new feature to my application that sends an async event everytime a search is made, I wrote an integration test for checking that everything is working fine, and it is, but only in my local machine. When I push the changes to the pipeline is consistenly failing by a timeout waiting for the data to be there (the result of the async method).\r\n\r\nHere is my async config:\r\n\r\n    @EnableAsync\r\n    @EnableJpaAuditing\r\n    @EnableMethodSecurity\r\n    @SpringBootApplication\r\n    public class BackendApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(BackendApplication.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        WebClient webClient() {\r\n            return WebClient.builder().build();\r\n        }\r\n    \r\n        @Bean\r\n        TaskExecutor taskExecutor() {\r\n            return new SimpleAsyncTaskExecutor(&quot;MyAsyncTask&quot;);\r\n        }\r\n    }\r\n\r\nMy Controller where I send the async event:\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;TobaccoContentResponse&gt;&gt; find(\r\n        @RequestParam(value = &quot;query&quot;, defaultValue = &quot;&quot;, required = false) String query,\r\n        @RequestParam(defaultValue = &quot;&quot;, required = false) Map&lt;String, String&gt; flavors,\r\n        HttpServletRequest request) {\r\n            applicationEventPublisher.publishEvent(new SearchEvent(\r\n                this,\r\n                request.getHeader(&quot;User-Agent&quot;),\r\n                RequestContextUtils.getLocale(request).getCountry(),\r\n                flavors.keySet(),\r\n                Instant.now()\r\n            ));\r\n            // do stuff\r\n    }\r\n\r\n...my listener:\r\n\r\n    @Slf4j\r\n    @Component\r\n    @AllArgsConstructor\r\n    public class SearchListener {\r\n    \r\n        private final FlavorRepository flavorRepository;\r\n        private final SearchRepository searchRepository;\r\n    \r\n        @Async\r\n        @EventListener\r\n        @Transactional\r\n        public void newSearch(SearchEvent searchEvent) {\r\n            log.info(&quot;New search received&quot;);\r\n            var flavors = flavorRepository.findAllByCodeIn(searchEvent.getFlavorCodes());\r\n            var search = new Search(\r\n                null,\r\n                searchEvent.getUserAgent(),\r\n                searchEvent.getRegion(),\r\n                new HashSet&lt;&gt;(flavors),\r\n                searchEvent.getCreatedAt()\r\n            );\r\n            searchRepository.save(search);\r\n            log.info(&quot;New search {} registered&quot;, search.getId());\r\n        }\r\n    }\r\n\r\nAnd finally my test:\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        tobaccoRepository.deleteAll();\r\n        searchRepository.deleteAll();\r\n    }\r\n\r\n    @Test\r\n    void shouldFindTobaccosByFlavor() {\r\n        var manufacturer = ManufacturerBuilder.builder().build();\r\n        manufacturerRepository.save(manufacturer);\r\n        var lemon = FlavorBuilder.builder()\r\n            .name(&quot;Lim&#243;n&quot;)\r\n            .build();\r\n        var strawberry = FlavorBuilder.builder()\r\n            .name(&quot;Fresa&quot;)\r\n            .build();\r\n        var candy = FlavorBuilder.builder()\r\n            .name(&quot;Caramelo&quot;)\r\n            .build();\r\n        flavorRepository.saveAll(List.of(lemon, strawberry, candy));\r\n        var tobacco = TobaccoBuilder.builder()\r\n            .manufacturer(manufacturer)\r\n            .add(lemon)\r\n            .add(strawberry)\r\n            .add(TobaccoPriceBuilder.builder().build())\r\n            .add(TobaccoPriceBuilder.builder().build())\r\n            .build();\r\n        var tobacco2 = TobaccoBuilder.builder()\r\n            .manufacturer(manufacturer)\r\n            .add(candy)\r\n            .add(lemon)\r\n            .add(TobaccoPriceBuilder.builder().build())\r\n            .add(TobaccoPriceBuilder.builder().build())\r\n            .build();\r\n        var tobacco3 = TobaccoBuilder.builder()\r\n            .manufacturer(manufacturer)\r\n            .add(candy)\r\n            .add(TobaccoPriceBuilder.builder().build())\r\n            .add(TobaccoPriceBuilder.builder().build())\r\n            .build();\r\n        tobaccoRepository.saveAll(List.of(tobacco, tobacco2, tobacco3));\r\n\r\n        var queryString =\r\n            lemon.getCode() + &quot;=&quot; + lemon.getName() + &quot;&amp;&quot; + candy.getCode() + &quot;=&quot; + &quot;camarelo&quot;; // &#39;camarelo&#39; is wrong on purpose\r\n\r\n        webTestClient\r\n            .get().uri(PUBLIC_TOBACCOS_ENDPOINT + &quot;?&quot; + queryString)\r\n            .exchange()\r\n            .expectStatus().isOk()\r\n            .expectBodyList(TobaccoContentResponse.class)\r\n            .value(tobaccos -&gt; assertThat(tobaccos)\r\n                .hasSize(3)\r\n                .extracting(&quot;name&quot;)\r\n                .containsExactly(\r\n                    tobacco2.getName(),\r\n                    tobacco.getName(),\r\n                    tobacco3.getName()\r\n                )\r\n            );\r\n\r\n        await().atMost(30, TimeUnit.SECONDS)\r\n            .untilAsserted(() -&gt; assertThat(searchRepository.findAll()).hasSize(1));\r\n    }\r\n\r\nAs you can see, at the end of the test I&#39;m waiting until there is some searches in the database, I&#39;m using a real database in a docker container that is scale up every time I run the CI pipeline in GitHub Actions.\r\n\r\nI can&#39;t understand **why is the test passing in local machine and failing consistenly in the CI pipeline?**\r\n\r\nI also tried to increase the timeout without success.","title":"Async method is not executed in tests when running CI","body":"<p>I'm adding a new feature to my application that sends an async event everytime a search is made, I wrote an integration test for checking that everything is working fine, and it is, but only in my local machine. When I push the changes to the pipeline is consistenly failing by a timeout waiting for the data to be there (the result of the async method).</p>\n<p>Here is my async config:</p>\n<pre><code>@EnableAsync\n@EnableJpaAuditing\n@EnableMethodSecurity\n@SpringBootApplication\npublic class BackendApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BackendApplication.class, args);\n    }\n\n    @Bean\n    WebClient webClient() {\n        return WebClient.builder().build();\n    }\n\n    @Bean\n    TaskExecutor taskExecutor() {\n        return new SimpleAsyncTaskExecutor(&quot;MyAsyncTask&quot;);\n    }\n}\n</code></pre>\n<p>My Controller where I send the async event:</p>\n<pre><code>@GetMapping\npublic ResponseEntity&lt;List&lt;TobaccoContentResponse&gt;&gt; find(\n    @RequestParam(value = &quot;query&quot;, defaultValue = &quot;&quot;, required = false) String query,\n    @RequestParam(defaultValue = &quot;&quot;, required = false) Map&lt;String, String&gt; flavors,\n    HttpServletRequest request) {\n        applicationEventPublisher.publishEvent(new SearchEvent(\n            this,\n            request.getHeader(&quot;User-Agent&quot;),\n            RequestContextUtils.getLocale(request).getCountry(),\n            flavors.keySet(),\n            Instant.now()\n        ));\n        // do stuff\n}\n</code></pre>\n<p>...my listener:</p>\n<pre><code>@Slf4j\n@Component\n@AllArgsConstructor\npublic class SearchListener {\n\n    private final FlavorRepository flavorRepository;\n    private final SearchRepository searchRepository;\n\n    @Async\n    @EventListener\n    @Transactional\n    public void newSearch(SearchEvent searchEvent) {\n        log.info(&quot;New search received&quot;);\n        var flavors = flavorRepository.findAllByCodeIn(searchEvent.getFlavorCodes());\n        var search = new Search(\n            null,\n            searchEvent.getUserAgent(),\n            searchEvent.getRegion(),\n            new HashSet&lt;&gt;(flavors),\n            searchEvent.getCreatedAt()\n        );\n        searchRepository.save(search);\n        log.info(&quot;New search {} registered&quot;, search.getId());\n    }\n}\n</code></pre>\n<p>And finally my test:</p>\n<pre><code>@BeforeEach\npublic void setup() {\n    tobaccoRepository.deleteAll();\n    searchRepository.deleteAll();\n}\n\n@Test\nvoid shouldFindTobaccosByFlavor() {\n    var manufacturer = ManufacturerBuilder.builder().build();\n    manufacturerRepository.save(manufacturer);\n    var lemon = FlavorBuilder.builder()\n        .name(&quot;Limón&quot;)\n        .build();\n    var strawberry = FlavorBuilder.builder()\n        .name(&quot;Fresa&quot;)\n        .build();\n    var candy = FlavorBuilder.builder()\n        .name(&quot;Caramelo&quot;)\n        .build();\n    flavorRepository.saveAll(List.of(lemon, strawberry, candy));\n    var tobacco = TobaccoBuilder.builder()\n        .manufacturer(manufacturer)\n        .add(lemon)\n        .add(strawberry)\n        .add(TobaccoPriceBuilder.builder().build())\n        .add(TobaccoPriceBuilder.builder().build())\n        .build();\n    var tobacco2 = TobaccoBuilder.builder()\n        .manufacturer(manufacturer)\n        .add(candy)\n        .add(lemon)\n        .add(TobaccoPriceBuilder.builder().build())\n        .add(TobaccoPriceBuilder.builder().build())\n        .build();\n    var tobacco3 = TobaccoBuilder.builder()\n        .manufacturer(manufacturer)\n        .add(candy)\n        .add(TobaccoPriceBuilder.builder().build())\n        .add(TobaccoPriceBuilder.builder().build())\n        .build();\n    tobaccoRepository.saveAll(List.of(tobacco, tobacco2, tobacco3));\n\n    var queryString =\n        lemon.getCode() + &quot;=&quot; + lemon.getName() + &quot;&amp;&quot; + candy.getCode() + &quot;=&quot; + &quot;camarelo&quot;; // 'camarelo' is wrong on purpose\n\n    webTestClient\n        .get().uri(PUBLIC_TOBACCOS_ENDPOINT + &quot;?&quot; + queryString)\n        .exchange()\n        .expectStatus().isOk()\n        .expectBodyList(TobaccoContentResponse.class)\n        .value(tobaccos -&gt; assertThat(tobaccos)\n            .hasSize(3)\n            .extracting(&quot;name&quot;)\n            .containsExactly(\n                tobacco2.getName(),\n                tobacco.getName(),\n                tobacco3.getName()\n            )\n        );\n\n    await().atMost(30, TimeUnit.SECONDS)\n        .untilAsserted(() -&gt; assertThat(searchRepository.findAll()).hasSize(1));\n}\n</code></pre>\n<p>As you can see, at the end of the test I'm waiting until there is some searches in the database, I'm using a real database in a docker container that is scale up every time I run the CI pipeline in GitHub Actions.</p>\n<p>I can't understand <strong>why is the test passing in local machine and failing consistenly in the CI pipeline?</strong></p>\n<p>I also tried to increase the timeout without success.</p>\n"},{"tags":["java","dll","callback","jna"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":1,"creation_date":1653399224,"post_id":72363774,"comment_id":127839235,"body_markdown":"https://stackoverflow.com/questions/35687695/jna-with-windows-dll-callback-function-pointer-with-structure-pointer-invalid looks a bit related.","body":"<a href=\"https://stackoverflow.com/questions/35687695/jna-with-windows-dll-callback-function-pointer-with-structure-pointer-invalid\" title=\"jna with windows dll callback function pointer with structure pointer invalid\">stackoverflow.com/questions/35687695/&hellip;</a> looks a bit related."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1653476858,"post_id":72363774,"comment_id":127860410,"body_markdown":"My JNA is a bit rusty, but basically, you need to define a functional interface which extends `com.sun.jna.Callback` (for Windows, you probably need to extend `com.sun.jna.win32.StdCallLibrary.StdCallCallback` instead, but this depends on the call type). The functional interface must define a single method with the correct signature to match the callback (in your case, probably `void callback(int, byte, int)`). The method that expects the callback will need to accept that interface. The actual implementation of a callback needs to implement the interface.","body":"My JNA is a bit rusty, but basically, you need to define a functional interface which extends <code>com.sun.jna.Callback</code> (for Windows, you probably need to extend <code>com.sun.jna.win32.StdCallLibrary.StdCallCallback</code> instead, but this depends on the call type). The functional interface must define a single method with the correct signature to match the callback (in your case, probably <code>void callback(int, byte, int)</code>). The method that expects the callback will need to accept that interface. The actual implementation of a callback needs to implement the interface."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1653476872,"post_id":72363774,"comment_id":127860414,"body_markdown":"See also [Callbacks, Function Pointers and Closures](https://github.com/java-native-access/jna/blob/master/www/CallbacksAndClosures.md)","body":"See also <a href=\"https://github.com/java-native-access/jna/blob/master/www/CallbacksAndClosures.md\" rel=\"nofollow noreferrer\">Callbacks, Function Pointers and Closures</a>"},{"owner":{"account_id":15370403,"reputation":63,"user_id":11088583,"display_name":"reza"},"score":0,"creation_date":1653554361,"post_id":72363774,"comment_id":127881686,"body_markdown":"Thank you  Mark Rotteveel. I will try to implement  it.","body":"Thank you  Mark Rotteveel. I will try to implement  it."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653749182,"creation_date":1653749182,"answer_id":72416602,"question_id":72363774,"body_markdown":"As the [comment](https://stackoverflow.com/questions/72363774/pointer-to-a-function-in-java#comment127860410_72363774) by @Mark-Rotteveel states, you should define a functional interface with a single method matching the callback.  It could look something like this:\r\n\r\n```java\r\n// Extend StdCallLibrary if library is __stdcall\r\npublic interface YourDLL extends Library {\r\n    YourDLL INSTANCE = // insert library loading code here\r\n\r\n    // Define the callback\r\n    // Extend StdCallCallback if library is __stdcall\r\n    interface HandleANPREvents extends Callback {\r\n        // the function name doesn&#39;t matter\r\n        void invoke(int event_type, byte param1, int param2);\r\n    }\r\n\r\n    // Define the function using the callback\r\n    void set_event_callback(HandleANPREvents callback_fcn);\r\n}\r\n```\r\n\r\nYou can then refer to `set_event_callback()` in your code.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    HandleANPREvents fn = new HandleANPREvents() {\r\n        @Override\r\n        void invoke(int event_type, byte param1, int param2) {\r\n            // implementation here\r\n        }\r\n    };\r\n    YourDLL.INSTANCE.set_event_callback(fn);\r\n}\r\n```","title":"Pointer to a function in java","body":"<p>As the <a href=\"https://stackoverflow.com/questions/72363774/pointer-to-a-function-in-java#comment127860410_72363774\">comment</a> by @Mark-Rotteveel states, you should define a functional interface with a single method matching the callback.  It could look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Extend StdCallLibrary if library is __stdcall\npublic interface YourDLL extends Library {\n    YourDLL INSTANCE = // insert library loading code here\n\n    // Define the callback\n    // Extend StdCallCallback if library is __stdcall\n    interface HandleANPREvents extends Callback {\n        // the function name doesn't matter\n        void invoke(int event_type, byte param1, int param2);\n    }\n\n    // Define the function using the callback\n    void set_event_callback(HandleANPREvents callback_fcn);\n}\n</code></pre>\n<p>You can then refer to <code>set_event_callback()</code> in your code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    HandleANPREvents fn = new HandleANPREvents() {\n        @Override\n        void invoke(int event_type, byte param1, int param2) {\n            // implementation here\n        }\n    };\n    YourDLL.INSTANCE.set_event_callback(fn);\n}\n</code></pre>\n"}],"owner":{"account_id":15370403,"reputation":63,"user_id":11088583,"display_name":"reza"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":401,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":72416602,"answer_count":1,"score":2,"last_activity_date":1653893023,"creation_date":1653398866,"question_id":72363774,"body_markdown":"I have a dynamic link library (DLL) written in c++. In my DLL I have a function like this:\r\n\r\n```c++\r\nvoid set_event_callback(EVENT_CALLBACK callback_fcn);\r\n```\r\n\r\nwhere `EVENT_CALLBACK` is a function pointer like this:\r\n\r\n```c++\r\nvoid (*EVENT_CALLBACK)(int event_type, byte param1, int param2);\r\n```\r\n\r\nI use my DLL in other languages. For example, in C# I call `set_event_callback` like this:\r\n```c#\r\npublic delegate void EVENT_CALLBACK(int event_type, byte param1, int param2);\r\nEVENT_CALLBACK HandleEventsDelegate = null;\r\nHandleEventsDelegate = new EVENT_CALLBACK(HandleEvents);\r\nset_event_callback(HandleEventsDelegate);\r\n```\r\nwhere `HandleEvents` is a function like this:\r\n```c#\r\nprotected void HandleANPREvents(int event_type, byte param1, int param2){ ... }\r\n```\r\nNow, I want to use my DLL in Java. I&#39;m using JNA to call native code in my java project. I couldn&#39;t find function pointers in Java. \r\n\r\nHow can I call `set_event_callback` in Java and pass a function to my DLL?","title":"Pointer to a function in java","body":"<p>I have a dynamic link library (DLL) written in c++. In my DLL I have a function like this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>void set_event_callback(EVENT_CALLBACK callback_fcn);\n</code></pre>\n<p>where <code>EVENT_CALLBACK</code> is a function pointer like this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>void (*EVENT_CALLBACK)(int event_type, byte param1, int param2);\n</code></pre>\n<p>I use my DLL in other languages. For example, in C# I call <code>set_event_callback</code> like this:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>public delegate void EVENT_CALLBACK(int event_type, byte param1, int param2);\nEVENT_CALLBACK HandleEventsDelegate = null;\nHandleEventsDelegate = new EVENT_CALLBACK(HandleEvents);\nset_event_callback(HandleEventsDelegate);\n</code></pre>\n<p>where <code>HandleEvents</code> is a function like this:</p>\n<pre class=\"lang-cs prettyprint-override\"><code>protected void HandleANPREvents(int event_type, byte param1, int param2){ ... }\n</code></pre>\n<p>Now, I want to use my DLL in Java. I'm using JNA to call native code in my java project. I couldn't find function pointers in Java.</p>\n<p>How can I call <code>set_event_callback</code> in Java and pass a function to my DLL?</p>\n"},{"tags":["java","groovy","jmeter","webdriver","performance-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653892714,"creation_date":1653892714,"answer_id":72430069,"question_id":72409710,"body_markdown":"You have a very interesting approach to &quot;writing&quot; the code. \r\n\r\nWhatever, no matter of the language which is being used in any case you will have to call [executeScript() function][1] \r\n\r\nin case of Groovy it would be something like:\r\n\r\n    WDS.browser.executeScript(&#39;return window.localStorage.getItem(&quot;forterToken &quot;);&#39;)\r\n\r\nDemo:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nMore information: [The WebDriver Sampler: Your Top 10 Questions Answered][4]\r\n\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/JavascriptExecutor.html#executeScript(java.lang.String,java.lang.Object...)\r\n  [2]: https://i.stack.imgur.com/ySlg6.png\r\n  [3]: https://i.stack.imgur.com/Sr7QQ.png\r\n  [4]: https://www.blazemeter.com/blog/webdriver-sampler-your-top-ten-questions-answered","title":"how to get Jmeter Session local storage into Jmeter Webdriver sample using Java or Groovy language","body":"<p>You have a very interesting approach to &quot;writing&quot; the code.</p>\n<p>Whatever, no matter of the language which is being used in any case you will have to call <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/JavascriptExecutor.html#executeScript(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\">executeScript() function</a></p>\n<p>in case of Groovy it would be something like:</p>\n<pre><code>WDS.browser.executeScript('return window.localStorage.getItem(&quot;forterToken &quot;);')\n</code></pre>\n<p>Demo:</p>\n<p><a href=\"https://i.stack.imgur.com/ySlg6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ySlg6.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Sr7QQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sr7QQ.png\" alt=\"enter image description here\" /></a></p>\n<p>More information: <a href=\"https://www.blazemeter.com/blog/webdriver-sampler-your-top-ten-questions-answered\" rel=\"nofollow noreferrer\">The WebDriver Sampler: Your Top 10 Questions Answered</a></p>\n"}],"owner":{"account_id":5452613,"reputation":33,"user_id":4336980,"display_name":"Iftikhar Ali Shahid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653892714,"creation_date":1653676264,"question_id":72409710,"body_markdown":"[![enter image description here][1]][1]I have to extract a value of forterToken from localstorage and want to use it in a payload variable. Trying webdriver sample in JMeter.  I have found the code to extract this value using Javascript but in JMeter webdriver Javascipt langauage is not appearing. Can anyone help me out to provide me this code in Java or Groovy? Becasue Webdriver has these languages option only Java/Groovy/bsh/jexl.\r\n\r\nThanks\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aZIOc.png\r\n  [2]: https://i.stack.imgur.com/C1kcc.png","title":"how to get Jmeter Session local storage into Jmeter Webdriver sample using Java or Groovy language","body":"<p><a href=\"https://i.stack.imgur.com/aZIOc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aZIOc.png\" alt=\"enter image description here\" /></a>I have to extract a value of forterToken from localstorage and want to use it in a payload variable. Trying webdriver sample in JMeter.  I have found the code to extract this value using Javascript but in JMeter webdriver Javascipt langauage is not appearing. Can anyone help me out to provide me this code in Java or Groovy? Becasue Webdriver has these languages option only Java/Groovy/bsh/jexl.</p>\n<p>Thanks\n<a href=\"https://i.stack.imgur.com/C1kcc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C1kcc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":1,"creation_date":1617634781,"post_id":66954927,"comment_id":118351322,"body_markdown":"What scenarios are failing? It is difficult to debug without a proper expected result","body":"What scenarios are failing? It is difficult to debug without a proper expected result"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1617635133,"post_id":66954927,"comment_id":118351473,"body_markdown":"I think the order you remove the letters is important but you are just popping letters regardless of the input char. Try your code on &quot;abcabc&quot;. You algo returns false, but it can be made into a palindrome: &quot;abccba&quot;.","body":"I think the order you remove the letters is important but you are just popping letters regardless of the input char. Try your code on &quot;abcabc&quot;. You algo returns false, but it can be made into a palindrome: &quot;abccba&quot;."}],"answers":[{"tags":[],"owner":{"account_id":19281015,"reputation":279,"user_id":14093016,"display_name":"Xaxage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617681892,"creation_date":1617681892,"answer_id":66962564,"question_id":66954927,"body_markdown":"One of those scenarios in my case : \r\n&quot;abcabc&quot; . Should return true, but instead it returns false. I sorted the String first then my algorithm worked :)","title":"palindromeRearrangin CodeSignal hidden tests","body":"<p>One of those scenarios in my case :\n&quot;abcabc&quot; . Should return true, but instead it returns false. I sorted the String first then my algorithm worked :)</p>\n"},{"tags":[],"owner":{"account_id":14592389,"reputation":326,"user_id":10539119,"display_name":"b m gevariya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653892708,"creation_date":1653892708,"answer_id":72430067,"question_id":66954927,"body_markdown":"When you&#39;re by using condition `stack.contains(str.charAt(i))`,  \r\nfind out that current checking character `str.charAt(i)` is already present in Stack,  \r\n\r\nyou need to remove that particular repeating character instead of the last character present in Stack.\r\n\r\nso only `stack.pop()` is a mistake in code.\r\n","title":"palindromeRearrangin CodeSignal hidden tests","body":"<p>When you're by using condition <code>stack.contains(str.charAt(i))</code>,<br />\nfind out that current checking character <code>str.charAt(i)</code> is already present in Stack,</p>\n<p>you need to remove that particular repeating character instead of the last character present in Stack.</p>\n<p>so only <code>stack.pop()</code> is a mistake in code.</p>\n"}],"owner":{"account_id":19281015,"reputation":279,"user_id":14093016,"display_name":"Xaxage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1653892708,"creation_date":1617634185,"question_id":66954927,"body_markdown":"I am trying to solve this . I passed 18 tests from 20 . 2 of them are hidden and I cant understand what are those 2 scenarios. Please tell me if you see something wrong here . I saw many solutions on the WEB, but I want to understand what is wrong with my own code.\r\n\r\n\r\n\r\n****For inputString = &quot;aabb&quot;, the output should be\r\npalindromeRearranging(inputString) = true.**\r\nWe can rearrange &quot;aabb&quot; to make &quot;abba&quot;, which is a palindrome.**\r\n\r\n\r\nHere is my code:\r\n\r\n\r\n    boolean palindromeRearranging(String str) {\r\n    \r\n        Stack&lt;Character&gt; stack=new Stack&lt;&gt;();\r\n        \r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            if(stack.contains(str.charAt(i))){\r\n                stack.pop();\r\n                continue;\r\n            }\r\n            stack.push(str.charAt(i));\r\n        }\r\n\r\n        if(stack.size()&gt;1) return false;\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"palindromeRearrangin CodeSignal hidden tests","body":"<p>I am trying to solve this . I passed 18 tests from 20 . 2 of them are hidden and I cant understand what are those 2 scenarios. Please tell me if you see something wrong here . I saw many solutions on the WEB, but I want to understand what is wrong with my own code.</p>\n<p><strong><strong>For inputString = &quot;aabb&quot;, the output should be\npalindromeRearranging(inputString) = true.</strong>\nWe can rearrange &quot;aabb&quot; to make &quot;abba&quot;, which is a palindrome.</strong></p>\n<p>Here is my code:</p>\n<pre><code>boolean palindromeRearranging(String str) {\n\n    Stack&lt;Character&gt; stack=new Stack&lt;&gt;();\n    \n    for (int i = 0; i &lt; str.length(); i++) {\n        if(stack.contains(str.charAt(i))){\n            stack.pop();\n            continue;\n        }\n        stack.push(str.charAt(i));\n    }\n\n    if(stack.size()&gt;1) return false;\n\n    return true;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5964530,"reputation":1195,"user_id":4688610,"display_name":"Vyncent"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1526627458,"creation_date":1526627028,"answer_id":50405590,"question_id":50405414,"body_markdown":"if you want netty instead as explained in documentation [documentation][1]\r\n\r\nyou&#39;ve to exclude tomcat and include netty : \r\n\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;!-- Exclude the Tomcat dependency --&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-web-servers.html\r\n","title":"Spring boot Reactive app starts tomcat in place of Netty","body":"<p>if you want netty instead as explained in documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-web-servers.html\" rel=\"noreferrer\">documentation</a></p>\n\n<p>you've to exclude tomcat and include netty : </p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;!-- Exclude the Tomcat dependency --&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10288022,"reputation":49,"user_id":9286277,"display_name":"sri e"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653892656,"creation_date":1614361364,"answer_id":66390482,"question_id":50405414,"body_markdown":"I have followed this\r\n\r\n https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/html/howto-embedded-web-servers.html\r\n\r\nand I have excluded tomcat dependencies, rebuild the project. it was up and running on netty.\r\n\r\n\r\n\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.1.2.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n\t\t&lt;!-- Exclude the Tomcat dependency --&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n","title":"Spring boot Reactive app starts tomcat in place of Netty","body":"<p>I have followed this</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/html/howto-embedded-web-servers.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/html/howto-embedded-web-servers.html</a></p>\n<p>and I have excluded tomcat dependencies, rebuild the project. it was up and running on netty.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-websocket&lt;/artifactId&gt;\n    &lt;version&gt;5.1.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n    &lt;!-- Exclude the Tomcat dependency --&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":372117,"reputation":2909,"user_id":1486762,"accept_rate":47,"display_name":"Bilbo Baggins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17603,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":50405590,"answer_count":2,"score":10,"last_activity_date":1653892656,"creation_date":1526626338,"question_id":50405414,"body_markdown":"I have a spring boot reactive application generated from spring starter. It should use the Netty server by default but I can see that the `tomcat has started on port 8080` in the console.\r\n\r\nBelow is my pom.xml\r\n\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\nI have choose some parts of `pom.xml` not entire pom.xml is included.\r\n\r\nBelow is the class for Spring-boot main app.\r\n\r\n    @SpringBootApplication\r\n    @EnableWebFlux\r\n    public class SpringWebFluxDemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringWebFluxDemoApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nIs there anything else missing ? I think it should boot up with Netty only.","title":"Spring boot Reactive app starts tomcat in place of Netty","body":"<p>I have a spring boot reactive application generated from spring starter. It should use the Netty server by default but I can see that the <code>tomcat has started on port 8080</code> in the console.</p>\n\n<p>Below is my pom.xml</p>\n\n<pre><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>I have choose some parts of <code>pom.xml</code> not entire pom.xml is included.</p>\n\n<p>Below is the class for Spring-boot main app.</p>\n\n<pre><code>@SpringBootApplication\n@EnableWebFlux\npublic class SpringWebFluxDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringWebFluxDemoApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>Is there anything else missing ? I think it should boot up with Netty only.</p>\n"},{"tags":["java","apache-camel","undertow"],"answers":[{"tags":[],"owner":{"account_id":14959956,"reputation":55,"user_id":10799969,"display_name":"abdur rehman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653892249,"creation_date":1653892249,"answer_id":72430008,"question_id":72393644,"body_markdown":"Change component input to &quot;servlet&quot; and it will use the underlying component","title":"Can&#39;t find REST DSL Component in RestConsumerFactory","body":"<p>Change component input to &quot;servlet&quot; and it will use the underlying component</p>\n"}],"owner":{"account_id":13011419,"reputation":271,"user_id":9404300,"display_name":"William Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653892249,"creation_date":1653576110,"question_id":72393644,"body_markdown":"I&#39;m new to Camel and Java is not my main language, not sure what I&#39;m doing wrong. I follow the camel&#39;s documentation to add a REST endpoint with restConfiguration to set up the components, host, and port first, then add the path.\r\n```\r\n@Component\r\npublic class MySpringBootRouter extends RouteBuilder {\r\n\r\n    @Override\r\n    public void configure() {\r\n        restConfiguration().component(&quot;undertow&quot;).host(&quot;localhost&quot;).port(7090);\r\n        rest(&quot;/healthcheck&quot;)\r\n            .get()\r\n                .route()\r\n                .to(&quot;direct:logging&quot;)\r\n                .setBody(constant(&quot;Health check success!&quot;)).endRest();\r\n\r\n        from(&quot;direct:logging&quot;)\r\n                .log(&quot;Rest is running&quot;);\r\n    }\r\n\r\n}\r\n```\r\nIn this code, I just have a simple healthcheck GET request. Even though, I added he dependency snippet to POM file, I&#39;m having this error:\r\n```No bean could be found in the registry for: undertow of type: org.apache.camel.spi.RestConsumerFactory```.\r\nI thought the componentid was wrong so I tried: &quot;Undertow&quot;, &quot;camel-undertow&quot;, but resulted with the same thing. I also tried using different components like jetty, netty, etc with added dependency to the POM.\r\n\r\nThe dependency looks like this:\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n      &lt;artifactId&gt;camel-undertow&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nAny help would be much appreciated!","title":"Can&#39;t find REST DSL Component in RestConsumerFactory","body":"<p>I'm new to Camel and Java is not my main language, not sure what I'm doing wrong. I follow the camel's documentation to add a REST endpoint with restConfiguration to set up the components, host, and port first, then add the path.</p>\n<pre><code>@Component\npublic class MySpringBootRouter extends RouteBuilder {\n\n    @Override\n    public void configure() {\n        restConfiguration().component(&quot;undertow&quot;).host(&quot;localhost&quot;).port(7090);\n        rest(&quot;/healthcheck&quot;)\n            .get()\n                .route()\n                .to(&quot;direct:logging&quot;)\n                .setBody(constant(&quot;Health check success!&quot;)).endRest();\n\n        from(&quot;direct:logging&quot;)\n                .log(&quot;Rest is running&quot;);\n    }\n\n}\n</code></pre>\n<p>In this code, I just have a simple healthcheck GET request. Even though, I added he dependency snippet to POM file, I'm having this error:\n<code>No bean could be found in the registry for: undertow of type: org.apache.camel.spi.RestConsumerFactory</code>.\nI thought the componentid was wrong so I tried: &quot;Undertow&quot;, &quot;camel-undertow&quot;, but resulted with the same thing. I also tried using different components like jetty, netty, etc with added dependency to the POM.</p>\n<p>The dependency looks like this:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n      &lt;artifactId&gt;camel-undertow&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Any help would be much appreciated!</p>\n"},{"tags":["java","spring-boot","junit5"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1653890611,"post_id":72428954,"comment_id":127952695,"body_markdown":"Ditch the first 2 lines of your `@BeforeEach` method, replace `@Mock` with `@MockBean`, add `@Autowired` to the `UserService` field and re-run your test.","body":"Ditch the first 2 lines of your <code>@BeforeEach</code> method, replace <code>@Mock</code> with <code>@MockBean</code>, add <code>@Autowired</code> to the <code>UserService</code> field and re-run your test."}],"answers":[{"tags":[],"owner":{"account_id":1657072,"reputation":1210,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1653883559,"creation_date":1653883559,"answer_id":72429045,"question_id":72428954,"body_markdown":"Spring cannot find a `UserRepository` bean, because the way the test is currently configured causes it to be excluded.\r\n\r\nTake a look at the [Javadoc][1] for `classes` on the `@SpringBootTest` annotation:\r\n&gt; The component classes to use for loading an ApplicationContext. Can also be specified using @ContextConfiguration(classes=...). **If no explicit classes are defined the test will look for nested @Configuration classes, before falling back to a @SpringBootConfiguration search.**\r\n\r\nThat means that *if* you provide `classes`, then Spring will attempt to configure *only* those bean classes. In this case, your class under test, `UserServiceImplement`, depends on a `UserRepository`- but your `@SpringBootTest(classes = UserServiceImplement.class)` annotation dictates that only `UserServiceImplement` will be instantiated, and therefore the dependency cannot be satisfied.\r\n\r\nIf you remove `classes=...` and instead just use `@SpringBootTest`, your `@SpringBootApplication` annotated class will be loaded, and the whole application context will be created (including the missing repository) as opposed to just the one class specified.\r\n\r\n\r\n----------\r\n\r\nAn aside, as your test class is currently written, there&#39;s not much of a benefit to instantiating an application context or marking the test class as `@SpringBootTest`. Doing that is typically reserved for integration tests, where multiple components need to be loaded so that their integrations can be tested (hence the name).\r\n\r\nInstead, you&#39;ve mocked the only dependency, `UserService`, and are manually instantiating `UserServiceImplement`. That means you&#39;ve not used Spring at all in your test. Your test is testing one unit, `UserServiceImplement`, and therefore doesn&#39;t benefit from the integration environment provided by `@SpringBootTest`.\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html#classes--","title":"I&#180;m trying to make a unit test in springboot but the test throw me java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>Spring cannot find a <code>UserRepository</code> bean, because the way the test is currently configured causes it to be excluded.</p>\n<p>Take a look at the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html#classes--\" rel=\"nofollow noreferrer\">Javadoc</a> for <code>classes</code> on the <code>@SpringBootTest</code> annotation:</p>\n<blockquote>\n<p>The component classes to use for loading an ApplicationContext. Can also be specified using @ContextConfiguration(classes=...). <strong>If no explicit classes are defined the test will look for nested @Configuration classes, before falling back to a @SpringBootConfiguration search.</strong></p>\n</blockquote>\n<p>That means that <em>if</em> you provide <code>classes</code>, then Spring will attempt to configure <em>only</em> those bean classes. In this case, your class under test, <code>UserServiceImplement</code>, depends on a <code>UserRepository</code>- but your <code>@SpringBootTest(classes = UserServiceImplement.class)</code> annotation dictates that only <code>UserServiceImplement</code> will be instantiated, and therefore the dependency cannot be satisfied.</p>\n<p>If you remove <code>classes=...</code> and instead just use <code>@SpringBootTest</code>, your <code>@SpringBootApplication</code> annotated class will be loaded, and the whole application context will be created (including the missing repository) as opposed to just the one class specified.</p>\n<hr />\n<p>An aside, as your test class is currently written, there's not much of a benefit to instantiating an application context or marking the test class as <code>@SpringBootTest</code>. Doing that is typically reserved for integration tests, where multiple components need to be loaded so that their integrations can be tested (hence the name).</p>\n<p>Instead, you've mocked the only dependency, <code>UserService</code>, and are manually instantiating <code>UserServiceImplement</code>. That means you've not used Spring at all in your test. Your test is testing one unit, <code>UserServiceImplement</code>, and therefore doesn't benefit from the integration environment provided by <code>@SpringBootTest</code>.</p>\n"}],"owner":{"account_id":21814600,"reputation":33,"user_id":17030340,"display_name":"Michael Torres Ospina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1712,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653892158,"creation_date":1653882459,"question_id":72428954,"body_markdown":"When i try to create a class test always throw me the next error \r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userServiceImplement&#39;: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.project.sophosproject.repository.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n\r\nI&#39;ve spent hours trying to solve the problem but I can&#39;t find a real solution, maybe you could help me to find a solution.\r\n\r\n**UserServiceImplement CLASS**\r\n\r\n    @Service\r\n    @Transactional\r\n    @RequiredArgsConstructor\r\n    public class UserServiceImplement implements UserService{\r\n\r\n    private final UserRepository userRepository;\r\n\r\n    @Override\r\n    public GenericResponse listAllUser() {\r\n\r\n        var apiResponse = new GenericResponse();\r\n\r\n        try{\r\n            List&lt;User&gt; userList = userRepository.findAll();\r\n            if(userList == null){\r\n                apiResponse.setOperationSuccess(true);\r\n                apiResponse.setMessage(&quot;No Records&quot;);\r\n                return apiResponse;\r\n            }\r\n\r\n            long totalRecords = userList.stream().count();\r\n\r\n            apiResponse.setOperationSuccess(true);\r\n            apiResponse.setObjectResponse(userList);\r\n            apiResponse.setTotalRecords(totalRecords);\r\n        }catch (Exception ex){\r\n            apiResponse.setOperationSuccess(false);\r\n            apiResponse.setMessage(ex.getMessage().toString());\r\n        }\r\n\r\n        return apiResponse;\r\n    }\r\n\r\n    @Override\r\n    public User getUser(Long id) {\r\n        return userRepository.findById(id).orElse(null);\r\n    }\r\n\r\n    @Override\r\n    public User createUser(User user) {\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    @Override\r\n    public User updateUser(User user) {\r\n        User userDb = getUser(user.getIdUser());\r\n        if(null == userDb){\r\n            return null;\r\n        }\r\n        userDb.setNameUser(user.getNameUser());\r\n        userDb.setLastNameUser(user.getLastNameUser());\r\n        userDb.setUserCode(user.getUserCode());\r\n        userDb.setEmailUser(user.getEmailUser());\r\n        userDb.setUserAddress(user.getUserAddress());\r\n        userDb.setPosition(user.getPosition());\r\n        userDb.setTaskList(user.getTaskList());\r\n\r\n        return userRepository.save(userDb);\r\n    }\r\n\r\n    @Override\r\n    public User deleteUser(Long id) {\r\n        User userDb = getUser(id);\r\n        if(null == userDb){\r\n            return null;\r\n        }\r\n\r\n        userDb.setStateUser(false);\r\n        return userRepository.save(userDb);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;User&gt; findByTask(Task task) {\r\n        return userRepository.findByTask(task);\r\n    }\r\n    }\r\n\r\n\r\n**UserServiceImplementTest CLASS**\r\n\r\n    @SpringBootTest(classes = UserServiceImplement.class)\r\n    class UserServiceImplementTest {\r\n\r\n    @Mock\r\n    private UserRepository userRepository;\r\n    private UserService userService;\r\n\r\n    @BeforeEach\r\n    public void setUp(){\r\n        MockitoAnnotations.openMocks(this);\r\n        userService = new UserServiceImplement(userRepository);\r\n\r\n        User userTest = User.builder().idUser(1L)\r\n                            .nameUser(&quot;Michael&quot;).lastNameUser(&quot;Torres&quot;)\r\n                            .userCode(&quot;MTO&quot;).emailUser(&quot;michaeltorresos92@gmail.com&quot;)\r\n                            .userAddress(&quot;KR103&quot;).position(&quot;Developer&quot;).stateUser(true)\r\n                            .taskList((List&lt;Task&gt;) Task.builder().idTask(1).build()).build();\r\n\r\n        Mockito.when(userRepository.findById(1L))\r\n                .thenReturn(Optional.of(userTest));\r\n\r\n    }\r\n\r\n    @Test\r\n    public void whenValidGetId_ThenReturnUser(){\r\n        User found = userService.getUser(1L);\r\n\r\n        Assertions.assertThat(found.getNameUser()).isEqualTo(&quot;Michael&quot;);\r\n    }\r\n\r\n    }\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.project.sophos&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;SophosProject&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;SophosProject&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Sophos&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2021.0.3-SNAPSHOT&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n\t\t\t&lt;releases&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/releases&gt;\r\n\t\t&lt;/repository&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n\t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n\t\t\t&lt;snapshots&gt;\r\n\t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n\t\t\t&lt;/snapshots&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n**UserRepository interface**\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\n    public List&lt;User&gt; findByTask(Task task);\r\n    }\r\n\r\n**SophosProjectApplication class**\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = {&quot;com.project.sophosproject&quot;})\r\n    public class SophosProjectApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SophosProjectApplication.class, args);\r\n\t}\r\n\r\n    }\r\n\r\n**UserRepository Interface**\r\n\r\n    public interface UserService {\r\n    public GenericResponse listAllUser();\r\n    public GenericResponse getUser(Integer id);\r\n    public User createUser(User user);\r\n    public User updateUser (User user);\r\n    public User deleteUser(Integer id);\r\n    }","title":"I&#180;m trying to make a unit test in springboot but the test throw me java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>When i try to create a class test always throw me the next error</p>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext</p>\n<p>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userServiceImplement': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.project.sophosproject.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}</p>\n<p>I've spent hours trying to solve the problem but I can't find a real solution, maybe you could help me to find a solution.</p>\n<p><strong>UserServiceImplement CLASS</strong></p>\n<pre><code>@Service\n@Transactional\n@RequiredArgsConstructor\npublic class UserServiceImplement implements UserService{\n\nprivate final UserRepository userRepository;\n\n@Override\npublic GenericResponse listAllUser() {\n\n    var apiResponse = new GenericResponse();\n\n    try{\n        List&lt;User&gt; userList = userRepository.findAll();\n        if(userList == null){\n            apiResponse.setOperationSuccess(true);\n            apiResponse.setMessage(&quot;No Records&quot;);\n            return apiResponse;\n        }\n\n        long totalRecords = userList.stream().count();\n\n        apiResponse.setOperationSuccess(true);\n        apiResponse.setObjectResponse(userList);\n        apiResponse.setTotalRecords(totalRecords);\n    }catch (Exception ex){\n        apiResponse.setOperationSuccess(false);\n        apiResponse.setMessage(ex.getMessage().toString());\n    }\n\n    return apiResponse;\n}\n\n@Override\npublic User getUser(Long id) {\n    return userRepository.findById(id).orElse(null);\n}\n\n@Override\npublic User createUser(User user) {\n    return userRepository.save(user);\n}\n\n@Override\npublic User updateUser(User user) {\n    User userDb = getUser(user.getIdUser());\n    if(null == userDb){\n        return null;\n    }\n    userDb.setNameUser(user.getNameUser());\n    userDb.setLastNameUser(user.getLastNameUser());\n    userDb.setUserCode(user.getUserCode());\n    userDb.setEmailUser(user.getEmailUser());\n    userDb.setUserAddress(user.getUserAddress());\n    userDb.setPosition(user.getPosition());\n    userDb.setTaskList(user.getTaskList());\n\n    return userRepository.save(userDb);\n}\n\n@Override\npublic User deleteUser(Long id) {\n    User userDb = getUser(id);\n    if(null == userDb){\n        return null;\n    }\n\n    userDb.setStateUser(false);\n    return userRepository.save(userDb);\n}\n\n@Override\npublic List&lt;User&gt; findByTask(Task task) {\n    return userRepository.findByTask(task);\n}\n}\n</code></pre>\n<p><strong>UserServiceImplementTest CLASS</strong></p>\n<pre><code>@SpringBootTest(classes = UserServiceImplement.class)\nclass UserServiceImplementTest {\n\n@Mock\nprivate UserRepository userRepository;\nprivate UserService userService;\n\n@BeforeEach\npublic void setUp(){\n    MockitoAnnotations.openMocks(this);\n    userService = new UserServiceImplement(userRepository);\n\n    User userTest = User.builder().idUser(1L)\n                        .nameUser(&quot;Michael&quot;).lastNameUser(&quot;Torres&quot;)\n                        .userCode(&quot;MTO&quot;).emailUser(&quot;michaeltorresos92@gmail.com&quot;)\n                        .userAddress(&quot;KR103&quot;).position(&quot;Developer&quot;).stateUser(true)\n                        .taskList((List&lt;Task&gt;) Task.builder().idTask(1).build()).build();\n\n    Mockito.when(userRepository.findById(1L))\n            .thenReturn(Optional.of(userTest));\n\n}\n\n@Test\npublic void whenValidGetId_ThenReturnUser(){\n    User found = userService.getUser(1L);\n\n    Assertions.assertThat(found.getNameUser()).isEqualTo(&quot;Michael&quot;);\n}\n\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttps://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.project.sophos&lt;/groupId&gt;\n&lt;artifactId&gt;SophosProject&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;SophosProject&lt;/name&gt;\n&lt;description&gt;Demo project for Sophos&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2021.0.3-SNAPSHOT&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n    &lt;/dependency&gt;--&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;!--&lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-snapshots&lt;/id&gt;\n        &lt;name&gt;Spring Snapshots&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/releases&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;spring-milestones&lt;/id&gt;\n        &lt;name&gt;Spring Milestones&lt;/name&gt;\n        &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n\n<p><strong>UserRepository interface</strong></p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\npublic List&lt;User&gt; findByTask(Task task);\n}\n</code></pre>\n<p><strong>SophosProjectApplication class</strong></p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {&quot;com.project.sophosproject&quot;})\npublic class SophosProjectApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(SophosProjectApplication.class, args);\n}\n\n}\n</code></pre>\n<p><strong>UserRepository Interface</strong></p>\n<pre><code>public interface UserService {\npublic GenericResponse listAllUser();\npublic GenericResponse getUser(Integer id);\npublic User createUser(User user);\npublic User updateUser (User user);\npublic User deleteUser(Integer id);\n}\n</code></pre>\n"},{"tags":["java","database","algorithm","android-studio-3.0"],"answers":[{"tags":[],"owner":{"account_id":10545647,"reputation":331,"user_id":7770033,"display_name":"Lorenzo Canavaggio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515666489,"creation_date":1515603607,"answer_id":48192500,"question_id":48179435,"body_markdown":"Well it depends on where do you live ...\r\n\r\nYour best shot is to research if there is an API made by your state police but the chances are small considering this type of data ... \r\n\r\nYou won&#39;t access any precise crime databases as it&#39;s &quot;government based&quot;.\r\n\r\n**EDIT :**\r\n\r\nafter some research i came across this : https://stackoverflow.com/questions/22070492/crime-report-api\r\n\r\nyou should also check https://www.programmableweb.com/category/crime/apis?category=20160\r\nif there&#39;s one that suits your localization ... but again it may not be very precise and up to date data. ","title":"Android Studio- Databases","body":"<p>Well it depends on where do you live ...</p>\n\n<p>Your best shot is to research if there is an API made by your state police but the chances are small considering this type of data ... </p>\n\n<p>You won't access any precise crime databases as it's \"government based\".</p>\n\n<p><strong>EDIT :</strong></p>\n\n<p>after some research i came across this : <a href=\"https://stackoverflow.com/questions/22070492/crime-report-api\">Crime Report API</a></p>\n\n<p>you should also check <a href=\"https://www.programmableweb.com/category/crime/apis?category=20160\" rel=\"nofollow noreferrer\">https://www.programmableweb.com/category/crime/apis?category=20160</a>\nif there's one that suits your localization ... but again it may not be very precise and up to date data. </p>\n"},{"tags":[],"owner":{"account_id":25424070,"reputation":1,"user_id":19229483,"display_name":"jude"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1653891679,"creation_date":1653891679,"answer_id":72429913,"question_id":48179435,"body_markdown":"You should look for other apps that have the stadistics of the crime alters and ask if they can share with you. That will be easier than asking the goverment to give you that data.","title":"Android Studio- Databases","body":"<p>You should look for other apps that have the stadistics of the crime alters and ask if they can share with you. That will be easier than asking the goverment to give you that data.</p>\n"}],"owner":{"account_id":12652617,"reputation":83,"user_id":9196166,"display_name":"Letta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1653891679,"creation_date":1515551316,"question_id":48179435,"body_markdown":"I&#39;m currently working a &quot;Street Safe&quot; app that will list certain areas in a community as dangerous through the location sensor. In addition to this, it will give recent crime updates in neighboring areas. My only problem is that I don&#39;t know how to achieve this, I know I will have to implement Google Maps but how will I be able to make a program that displays recent crime alerts? Are there certain public police databases that can be imported into Android Studio or how will I be able to achieve this? Any help will be appreciated.","title":"Android Studio- Databases","body":"<p>I'm currently working a \"Street Safe\" app that will list certain areas in a community as dangerous through the location sensor. In addition to this, it will give recent crime updates in neighboring areas. My only problem is that I don't know how to achieve this, I know I will have to implement Google Maps but how will I be able to make a program that displays recent crime alerts? Are there certain public police databases that can be imported into Android Studio or how will I be able to achieve this? Any help will be appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1653623748,"post_id":72400085,"comment_id":127900873,"body_markdown":"Why do you use +1 in both your `if` statements and in your substring `s.substring(i,j+1);`. The error is caused by trying to create a substring that is 1 character longer that your actual string. Remember that indexes start at 0, so when you have 10 characters, the actual range is 0 to 9, not 1 to 10.","body":"Why do you use +1 in both your <code>if</code> statements and in your substring <code>s.substring(i,j+1);</code>. The error is caused by trying to create a substring that is 1 character longer that your actual string. Remember that indexes start at 0, so when you have 10 characters, the actual range is 0 to 9, not 1 to 10."},{"owner":{"display_name":"user19211186"},"score":0,"creation_date":1653624880,"post_id":72400085,"comment_id":127901000,"body_markdown":"@sorifiend can you plz update the code by what you are saying. Also, I have every substring that takes 10 chars so it starts from i=0 to j=9+1=10 and takes 9 chars.","body":"@sorifiend can you plz update the code by what you are saying. Also, I have every substring that takes 10 chars so it starts from i=0 to j=9+1=10 and takes 9 chars."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1653626678,"post_id":72400085,"comment_id":127901226,"body_markdown":"Step through your code with the debugger.","body":"Step through your code with the debugger."}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653628977,"creation_date":1653628559,"answer_id":72400744,"question_id":72400085,"body_markdown":"Your issue is this line `if(j-i+1&lt;k)j++;`\r\n\r\nConsider the following code:\r\n\r\n    int j=0;\r\n    int k=10;\r\n    while(j&lt;s.length()){\r\n        if(j-i+1&lt;k)\r\n            j++;\r\n\r\nThe above code will always cause the value of `j` inside your while loop to increment and start at 1 (not 0) which will cause your substring to overflow by 1 at the other end as well. We can fix this by simply moving the line `if(j-i+1&lt;k)j++;` to be lower down in your code. But also, we know `j` has to be incrimented every loop, so there in no point even using `if(j-i+1&lt;k)`:\r\n\r\n    while(j&lt;s.length()){\r\n        if(j-i+1==k){\r\n            String substr=s.substring(i,j+1);\r\n            if(seen.contains(substr)){\r\n                 repeated.add(substr);\r\n             }\r\n             else{\r\n                 seen.add(substr);\r\n            }\r\n            i++;\r\n            j++;\r\n        }\r\n    //Incriment j here after checking the sequence\r\n        j++;\r\n    }\r\n    return new ArrayList(repeated);\r\n\r\n\r\nThe next issue is that you were attempting to increment `j++;` inside both of your `if` statement which will only cause your code to skip values, to fix this simply remove `j++;` from your other `if` statement like so:\r\n\r\n    while(j&lt;s.length()){\r\n        if(j-i+1==k){\r\n            String substr=s.substring(i,j+1);\r\n            if(seen.contains(substr)){\r\n                 repeated.add(substr);\r\n             }\r\n             else{\r\n                 seen.add(substr);\r\n            }\r\n            i++;\r\n    //Delete the following line\r\n            //j++;\r\n        }\r\n    //Incriment j here after checking the sequence\r\n        j++;\r\n    }\r\n    return new ArrayList(repeated);\r\n\r\nNow your method will correctly return the duplicate sequences without an out of bounds exception.\r\n\r\nNote that you can make your code even more readable and simpler by getting rid of the `i` variable, and editing your while loop to do the work for you `while (j &lt;= s.length()-k){`, note the `&lt;=` and `-k` at the end that ensures we do not get any out of bounds exceptions by finishing the loop 10 characters before the end:\r\n\r\n\tint j = 0;\r\n\tint k = 10;\r\n\t//find every possible sequence that is at least 10 characters long using &quot;j &lt;= s.length()-k&quot;\r\n\twhile (j &lt;= s.length()-k){\r\n\t    String substr = s.substring(j, j + k);\r\n\t    if (seen.contains(substr)){\r\n\t\t    repeated.add(substr);\r\n\t    }\r\n\t    else{\r\n\t\t    seen.add(substr);\r\n\t    }\r\n\t    j++;\r\n\t}\r\n    return new ArrayList(repeated);","title":"Runtime error is coming while solving the question","body":"<p>Your issue is this line <code>if(j-i+1&lt;k)j++;</code></p>\n<p>Consider the following code:</p>\n<pre><code>int j=0;\nint k=10;\nwhile(j&lt;s.length()){\n    if(j-i+1&lt;k)\n        j++;\n</code></pre>\n<p>The above code will always cause the value of <code>j</code> inside your while loop to increment and start at 1 (not 0) which will cause your substring to overflow by 1 at the other end as well. We can fix this by simply moving the line <code>if(j-i+1&lt;k)j++;</code> to be lower down in your code. But also, we know <code>j</code> has to be incrimented every loop, so there in no point even using <code>if(j-i+1&lt;k)</code>:</p>\n<pre><code>while(j&lt;s.length()){\n    if(j-i+1==k){\n        String substr=s.substring(i,j+1);\n        if(seen.contains(substr)){\n             repeated.add(substr);\n         }\n         else{\n             seen.add(substr);\n        }\n        i++;\n        j++;\n    }\n//Incriment j here after checking the sequence\n    j++;\n}\nreturn new ArrayList(repeated);\n</code></pre>\n<p>The next issue is that you were attempting to increment <code>j++;</code> inside both of your <code>if</code> statement which will only cause your code to skip values, to fix this simply remove <code>j++;</code> from your other <code>if</code> statement like so:</p>\n<pre><code>while(j&lt;s.length()){\n    if(j-i+1==k){\n        String substr=s.substring(i,j+1);\n        if(seen.contains(substr)){\n             repeated.add(substr);\n         }\n         else{\n             seen.add(substr);\n        }\n        i++;\n//Delete the following line\n        //j++;\n    }\n//Incriment j here after checking the sequence\n    j++;\n}\nreturn new ArrayList(repeated);\n</code></pre>\n<p>Now your method will correctly return the duplicate sequences without an out of bounds exception.</p>\n<p>Note that you can make your code even more readable and simpler by getting rid of the <code>i</code> variable, and editing your while loop to do the work for you <code>while (j &lt;= s.length()-k){</code>, note the <code>&lt;=</code> and <code>-k</code> at the end that ensures we do not get any out of bounds exceptions by finishing the loop 10 characters before the end:</p>\n<pre><code>int j = 0;\nint k = 10;\n//find every possible sequence that is at least 10 characters long using &quot;j &lt;= s.length()-k&quot;\nwhile (j &lt;= s.length()-k){\n    String substr = s.substring(j, j + k);\n    if (seen.contains(substr)){\n        repeated.add(substr);\n    }\n    else{\n        seen.add(substr);\n    }\n    j++;\n}\nreturn new ArrayList(repeated);\n</code></pre>\n"}],"owner":{"display_name":"user19211186"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72400744,"answer_count":1,"score":1,"last_activity_date":1653891617,"creation_date":1653621466,"question_id":72400085,"body_markdown":"187. Repeated DNA Sequences\r\nhttps://leetcode.com/problems/repeated-dna-sequences/\r\n\r\nI am solving this question on Leetcode and I am stuck on some silly error.Please, help me out.\r\n\r\n```\r\nclass Solution {\r\n    public List&lt;String&gt; findRepeatedDnaSequences(String s) {\r\n       Set&lt;String&gt; seen=new HashSet();\r\n        Set&lt;String&gt; repeated=new HashSet();\r\n        int i=0;\r\n        int j=0;\r\n        int k=10;\r\n        while(j&lt;s.length()){\r\n            if(j-i+1&lt;k)j++;\r\n            if(j-i+1==k){\r\n               String substr=s.substring(i,j+1);\r\n               if(seen.contains(substr)){\r\n                 repeated.add(substr);\r\n                 }\r\n                 else{\r\n                 seen.add(substr);\r\n              }\r\n                i++;\r\n                j++;\r\n            }\r\n        }\r\n        \r\n        return new ArrayList(repeated);\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s giving me runtime error-\r\n\r\n    java.lang.StringIndexOutOfBoundsException: begin 0, end 10, length 9\r\n      at line 4601, java.base/java.lang.String.checkBoundsBeginEnd\r\n      at line 2704, java.base/java.lang.String.substring\r\n      at line 38, Solution.findRepeatedDnaSequences\r\n      at line 54, __DriverSolution__.__helper__\r\n      at line 84, __Driver__.main\r\n\r\n","title":"Runtime error is coming while solving the question","body":"<ol start=\"187\">\n<li>Repeated DNA Sequences\n<a href=\"https://leetcode.com/problems/repeated-dna-sequences/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/repeated-dna-sequences/</a></li>\n</ol>\n<p>I am solving this question on Leetcode and I am stuck on some silly error.Please, help me out.</p>\n<pre><code>class Solution {\n    public List&lt;String&gt; findRepeatedDnaSequences(String s) {\n       Set&lt;String&gt; seen=new HashSet();\n        Set&lt;String&gt; repeated=new HashSet();\n        int i=0;\n        int j=0;\n        int k=10;\n        while(j&lt;s.length()){\n            if(j-i+1&lt;k)j++;\n            if(j-i+1==k){\n               String substr=s.substring(i,j+1);\n               if(seen.contains(substr)){\n                 repeated.add(substr);\n                 }\n                 else{\n                 seen.add(substr);\n              }\n                i++;\n                j++;\n            }\n        }\n        \n        return new ArrayList(repeated);\n    }\n}\n</code></pre>\n<p>It's giving me runtime error-</p>\n<pre><code>java.lang.StringIndexOutOfBoundsException: begin 0, end 10, length 9\n  at line 4601, java.base/java.lang.String.checkBoundsBeginEnd\n  at line 2704, java.base/java.lang.String.substring\n  at line 38, Solution.findRepeatedDnaSequences\n  at line 54, __DriverSolution__.__helper__\n  at line 84, __Driver__.main\n</code></pre>\n"},{"tags":["java","testing","karate","web-api-testing"],"owner":{"account_id":24572375,"reputation":83,"user_id":18478604,"display_name":"DucanoidYoung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1695704218,"answer_count":0,"score":1,"last_activity_date":1653891408,"creation_date":1653891233,"question_id":72429841,"body_markdown":"I&#39;ve noticed that if I execute parallel tests with junit5 karate would backup reports by default:\r\n```\r\n//have report backup\r\n@Test\r\n    void runParallel() {\r\n        Results results = Karate.run(String.join(File.separator,&quot;classpath:steps&quot;)).tags(&quot;@Read&quot;)\r\n                .reportDir(KARATE_REPORT_DIR)\r\n                .outputJunitXml(true)\r\n                .parallel(5);\r\n        assertEquals(0, results.getFailCount(), results.getErrorMessages());\r\n    }\r\n```\r\n\r\nBut not the same when running a single test with karate-junit5 interface, even with backupReportDir(true)\r\n```\r\n// no report backup\r\n    @Karate.Test\r\n    Karate run(){\r\n        return Karate.run(&quot;classpath:steps&quot;).tags(&quot;@Read&quot;)\r\n                .backupReportDir(true)\r\n                .reportDir(KARATE_REPORT_DIR)\r\n                .outputJunitXml(true);\r\n    }\r\n\r\n```\r\nIs it designed intentional or an issue?\r\n\r\nmy pom\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"How to toggle report backup without running karate-junit5 in parallel","body":"<p>I've noticed that if I execute parallel tests with junit5 karate would backup reports by default:</p>\n<pre><code>//have report backup\n@Test\n    void runParallel() {\n        Results results = Karate.run(String.join(File.separator,&quot;classpath:steps&quot;)).tags(&quot;@Read&quot;)\n                .reportDir(KARATE_REPORT_DIR)\n                .outputJunitXml(true)\n                .parallel(5);\n        assertEquals(0, results.getFailCount(), results.getErrorMessages());\n    }\n</code></pre>\n<p>But not the same when running a single test with karate-junit5 interface, even with backupReportDir(true)</p>\n<pre><code>// no report backup\n    @Karate.Test\n    Karate run(){\n        return Karate.run(&quot;classpath:steps&quot;).tags(&quot;@Read&quot;)\n                .backupReportDir(true)\n                .reportDir(KARATE_REPORT_DIR)\n                .outputJunitXml(true);\n    }\n\n</code></pre>\n<p>Is it designed intentional or an issue?</p>\n<p>my pom</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\n            &lt;version&gt;1.2.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","hl7-fhir","hapi"],"answers":[{"tags":[],"owner":{"account_id":4951135,"reputation":701,"user_id":3985024,"display_name":"James Agnew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466611146,"creation_date":1466611146,"answer_id":37973068,"question_id":37965074,"body_markdown":"There are a few things that can be useful..\r\n\r\nIf the method returns successfully, then you have gotten an HTTP 2xx response back. There isn&#39;t a way to tell if it was a 200 or a 204 for example, but it was a successful response.\r\n\r\nIf the method throws a [BaseServerResponseException](http://hapifhir.io/apidocs/ca/uhn/fhir/rest/server/exceptions/BaseServerResponseException.html) of some sort, the server returned a 4xx or 5xx status code. You can call `BaseServerResponseException#getStatusCode()` to find out which one.\r\n\r\nIf you need to know the exact response in all cases, you can use a [client interceptor](http://hapifhir.io/apidocs/ca/uhn/fhir/rest/client/IClientInterceptor.html) to find that.\r\n","title":"Extracting HTTP status codes from the MethodOutcome/ outcome of a create operation in HAPI FHIR","body":"<p>There are a few things that can be useful..</p>\n\n<p>If the method returns successfully, then you have gotten an HTTP 2xx response back. There isn't a way to tell if it was a 200 or a 204 for example, but it was a successful response.</p>\n\n<p>If the method throws a <a href=\"http://hapifhir.io/apidocs/ca/uhn/fhir/rest/server/exceptions/BaseServerResponseException.html\" rel=\"nofollow\">BaseServerResponseException</a> of some sort, the server returned a 4xx or 5xx status code. You can call <code>BaseServerResponseException#getStatusCode()</code> to find out which one.</p>\n\n<p>If you need to know the exact response in all cases, you can use a <a href=\"http://hapifhir.io/apidocs/ca/uhn/fhir/rest/client/IClientInterceptor.html\" rel=\"nofollow\">client interceptor</a> to find that.</p>\n"},{"tags":[],"owner":{"account_id":5564358,"reputation":1463,"user_id":4412223,"accept_rate":86,"display_name":"Janitha Madushan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653891241,"creation_date":1653890994,"answer_id":72429807,"question_id":37965074,"body_markdown":"You can obtain status code using Kotlin like this with client interceptors,\r\n\r\n1. Create an interceptor to pick status codes,\r\n\r\n        private fun createClientInterceptor(statusCodes: MutableList&lt;Int&gt;): \r\n            IClientInterceptor {\r\n                return object : IClientInterceptor {\r\n                    override fun interceptRequest(theRequest: IHttpRequest?) {}\r\n                    override fun interceptResponse(theResponse: IHttpResponse?) {\r\n                        if (theResponse != null) {\r\n                            println(theResponse.status)\r\n                        }\r\n                    }\r\n                }\r\n        }\r\n\r\n    \r\n\r\n2. Create a client and register the interceptor   \r\n    \r\n        val ctx = FhirContext.forR4()!!\r\n        val restfulGenericClient =  ctx.newRestfulGenericClient(getServerUrl())\r\n        restfulGenericClient.registerInterceptor(createClientInterceptor(statusCodes))\r\n\r\nIn this way, you can collect status codes of responses in Kotlin, appropriately you can change the code to Java as well.","title":"Extracting HTTP status codes from the MethodOutcome/ outcome of a create operation in HAPI FHIR","body":"<p>You can obtain status code using Kotlin like this with client interceptors,</p>\n<ol>\n<li><p>Create an interceptor to pick status codes,</p>\n<pre><code> private fun createClientInterceptor(statusCodes: MutableList&lt;Int&gt;): \n     IClientInterceptor {\n         return object : IClientInterceptor {\n             override fun interceptRequest(theRequest: IHttpRequest?) {}\n             override fun interceptResponse(theResponse: IHttpResponse?) {\n                 if (theResponse != null) {\n                     println(theResponse.status)\n                 }\n             }\n         }\n }\n</code></pre>\n</li>\n<li><p>Create a client and register the interceptor</p>\n<pre><code> val ctx = FhirContext.forR4()!!\n val restfulGenericClient =  ctx.newRestfulGenericClient(getServerUrl())\n restfulGenericClient.registerInterceptor(createClientInterceptor(statusCodes))\n</code></pre>\n</li>\n</ol>\n<p>In this way, you can collect status codes of responses in Kotlin, appropriately you can change the code to Java as well.</p>\n"}],"owner":{"account_id":8589295,"reputation":77,"user_id":6434361,"accept_rate":50,"display_name":"Nethanjalie Lelwala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1653891241,"creation_date":1466590623,"question_id":37965074,"body_markdown":"I want to extract the HTTP status of a HAPI FHIR create Method.\r\n\r\n    MethodOutcome outcome = client.create().resource(medicationOrders[0]).prettyPrint().encodedXml().execute();\r\n\r\nIs there any way to recover it from the MethodOutcome or any other workaround exists? ","title":"Extracting HTTP status codes from the MethodOutcome/ outcome of a create operation in HAPI FHIR","body":"<p>I want to extract the HTTP status of a HAPI FHIR create Method.</p>\n\n<pre><code>MethodOutcome outcome = client.create().resource(medicationOrders[0]).prettyPrint().encodedXml().execute();\n</code></pre>\n\n<p>Is there any way to recover it from the MethodOutcome or any other workaround exists? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1653887625,"post_id":72429158,"comment_id":127952110,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":25423430,"reputation":1,"user_id":19228940,"display_name":"vinoth kumar"},"score":0,"creation_date":1653893001,"post_id":72429158,"comment_id":127953271,"body_markdown":"Using Java selenium - TestNG framework.\nData Provider and excel are used for passing data from excel to actual test scripts\n\nProblem: Browser not launched and data are not passed from excel to the test scripts. When I run the script, method mismatcher exception arises.","body":"Using Java selenium - TestNG framework. Data Provider and excel are used for passing data from excel to actual test scripts  Problem: Browser not launched and data are not passed from excel to the test scripts. When I run the script, method mismatcher exception arises."}],"owner":{"account_id":25423430,"reputation":1,"user_id":19228940,"display_name":"vinoth kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653890727,"creation_date":1653884816,"question_id":72429158,"body_markdown":"I&#39;m using TestNG version 7.5.0 and a data provider along with xlsx excel for Test Data. Can someone guide me with this method matcher exception?\r\n\r\n```\r\norg.testng.internal.reflect.MethodMatcherException: \r\ncom.sfe.testscripts.PaymentPageTest.stripePayment(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,int,java.lang.String,int,java.lang.String) throws java.lang.InterruptedException] has no parameters defined but was found to be using a data provider (either explicitly specified or inherited from class level annotation).\r\n    Data provider mismatch\r\n    Method: stripePayment([Parameter{index=0, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=1, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=2, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=3, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=4, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=5, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=6, type=int, declaredAnnotations=[]}, Parameter{index=7, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=8, type=int, declaredAnnotations=[]}, Parameter{index=9, type=java.lang.String, declaredAnnotations=[]}])\r\n    Arguments: [(java.lang.String) voyid40057@sinyago.com,(java.lang.String) Testing@143,(java.lang.String) Adhitya,(java.lang.String) Ashwin,(java.lang.String) Shristi,(java.lang.String) Manager,(java.lang.String) 1,(java.lang.String) Cosmetics,(java.lang.String) 3,(java.lang.String) 234klk]\r\n    \tat org.testng.internal.reflect.DataProviderMethodMatcher.getConformingArguments(DataProviderMethodMatcher.java:46)\r\n    \tat org.testng.internal.Parameters.injectParameters(Parameters.java:886)\r\n    \tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:37)\r\n    \tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:945)\r\n    \tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:193)\r\n    \tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n    \tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:808)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:603)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:429)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:423)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:383)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:326)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1249)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1092)\r\n    \tat org.testng.TestNG.run(TestNG.java:1060)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n```\r\n```java\r\n    package com.sfe.testscripts;\r\n    \r\n    import org.testng.annotations.AfterMethod;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.Parameters;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import com.sfe.baseclass.BaseClass;\r\n    import com.sfe.dataproviders.DataProviders;\r\n    import com.sfe.pageobjects.ProfilePageObjects;\r\n    import com.sfe.pageobjects.SignInPageObjects;\r\n    \r\n    public class PaymentPageTest extends BaseClass {\r\n    \r\n    \tprivate SignInPageObjects singInPage;\r\n    \tprivate ProfilePageObjects profilePage;\r\n    \r\n    \t@Parameters(&quot;browser&quot;)\r\n    \t@BeforeMethod\r\n    \tpublic void setup(String browser) {\r\n    \t\tlaunchApp(browser);\r\n    \t}\r\n    \t\r\n    \t@AfterMethod\r\n    \tpublic void tearDown() {\r\n    \t\tgetDriver().quit();\r\n    \t}\r\n    \t\r\n    \t@Test(dataProvider = &quot;data&quot;, dataProviderClass = DataProviders.class)\r\n    \tpublic void stripePayment(String uname, String pswd, String firstName, String lastName, String companyName,\r\n    \t\t\tString Designation, int country, String industry, int companysize, String taxID)\r\n    \t\t\tthrows InterruptedException {\r\n    \t\tSystem.out.println(&quot;kjld&quot;);\r\n    \t\tsingInPage = new SignInPageObjects();\r\n    \t\tprofilePage = singInPage.getEmailSignIn(uname, pswd);\r\n    \t\tprofilePage.getProfileEditPage(firstName, lastName, companyName, Designation, country, industry, companysize,taxID);\r\n    \r\n    \t}\r\n    }\r\n    \r\n    \r\n    package com.sfe.dataproviders;\r\n    \r\n    import org.testng.annotations.DataProvider;\r\n    \r\n    import com.sfe.utility.NewExcelLibrary;\r\n    \r\n    public class DataProviders {\r\n    \r\n    \tNewExcelLibrary obj= new NewExcelLibrary();\r\n    \t\r\n    \t\r\n    \t@DataProvider(name=&quot;data&quot;)\r\n    \tpublic Object[][] getCredentials() {\r\n    \t\t\r\n    \t\tint rows=obj.getRowCount(&quot;STRIPE&quot;);\r\n    \t\tint columns=obj.getColumnCount(&quot;STRIPE&quot;);\r\n    \t\tint actRows=rows-1;\r\n    \t\tObject[][] data=new Object[actRows][columns];\r\n    \t\tfor(int i=0;i&lt;actRows;i++) {\r\n    \t\t\tfor(int j=0;j&lt;columns;j++) {\r\n    \t\t\t\tdata[i][j]=obj.getCellData(&quot;STRIPE&quot;, j, i+2);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn data;\r\n    \t}\r\n```\t\t\r\n\t\r\n\t","title":"org.testng.internal.reflect.MethodMatcherException:","body":"<p>I'm using TestNG version 7.5.0 and a data provider along with xlsx excel for Test Data. Can someone guide me with this method matcher exception?</p>\n<pre><code>org.testng.internal.reflect.MethodMatcherException: \ncom.sfe.testscripts.PaymentPageTest.stripePayment(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String,int,java.lang.String,int,java.lang.String) throws java.lang.InterruptedException] has no parameters defined but was found to be using a data provider (either explicitly specified or inherited from class level annotation).\n    Data provider mismatch\n    Method: stripePayment([Parameter{index=0, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=1, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=2, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=3, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=4, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=5, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=6, type=int, declaredAnnotations=[]}, Parameter{index=7, type=java.lang.String, declaredAnnotations=[]}, Parameter{index=8, type=int, declaredAnnotations=[]}, Parameter{index=9, type=java.lang.String, declaredAnnotations=[]}])\n    Arguments: [(java.lang.String) voyid40057@sinyago.com,(java.lang.String) Testing@143,(java.lang.String) Adhitya,(java.lang.String) Ashwin,(java.lang.String) Shristi,(java.lang.String) Manager,(java.lang.String) 1,(java.lang.String) Cosmetics,(java.lang.String) 3,(java.lang.String) 234klk]\n        at org.testng.internal.reflect.DataProviderMethodMatcher.getConformingArguments(DataProviderMethodMatcher.java:46)\n        at org.testng.internal.Parameters.injectParameters(Parameters.java:886)\n        at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:37)\n        at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:945)\n        at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:193)\n        at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n        at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.testng.TestRunner.privateRun(TestRunner.java:808)\n        at org.testng.TestRunner.run(TestRunner.java:603)\n        at org.testng.SuiteRunner.runTest(SuiteRunner.java:429)\n        at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:423)\n        at org.testng.SuiteRunner.privateRun(SuiteRunner.java:383)\n        at org.testng.SuiteRunner.run(SuiteRunner.java:326)\n        at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n        at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n        at org.testng.TestNG.runSuitesSequentially(TestNG.java:1249)\n        at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\n        at org.testng.TestNG.runSuites(TestNG.java:1092)\n        at org.testng.TestNG.run(TestNG.java:1060)\n        at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n        at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n        at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.sfe.testscripts;\n    \n    import org.testng.annotations.AfterMethod;\n    import org.testng.annotations.BeforeMethod;\n    import org.testng.annotations.Parameters;\n    import org.testng.annotations.Test;\n    \n    import com.sfe.baseclass.BaseClass;\n    import com.sfe.dataproviders.DataProviders;\n    import com.sfe.pageobjects.ProfilePageObjects;\n    import com.sfe.pageobjects.SignInPageObjects;\n    \n    public class PaymentPageTest extends BaseClass {\n    \n        private SignInPageObjects singInPage;\n        private ProfilePageObjects profilePage;\n    \n        @Parameters(&quot;browser&quot;)\n        @BeforeMethod\n        public void setup(String browser) {\n            launchApp(browser);\n        }\n        \n        @AfterMethod\n        public void tearDown() {\n            getDriver().quit();\n        }\n        \n        @Test(dataProvider = &quot;data&quot;, dataProviderClass = DataProviders.class)\n        public void stripePayment(String uname, String pswd, String firstName, String lastName, String companyName,\n                String Designation, int country, String industry, int companysize, String taxID)\n                throws InterruptedException {\n            System.out.println(&quot;kjld&quot;);\n            singInPage = new SignInPageObjects();\n            profilePage = singInPage.getEmailSignIn(uname, pswd);\n            profilePage.getProfileEditPage(firstName, lastName, companyName, Designation, country, industry, companysize,taxID);\n    \n        }\n    }\n    \n    \n    package com.sfe.dataproviders;\n    \n    import org.testng.annotations.DataProvider;\n    \n    import com.sfe.utility.NewExcelLibrary;\n    \n    public class DataProviders {\n    \n        NewExcelLibrary obj= new NewExcelLibrary();\n        \n        \n        @DataProvider(name=&quot;data&quot;)\n        public Object[][] getCredentials() {\n            \n            int rows=obj.getRowCount(&quot;STRIPE&quot;);\n            int columns=obj.getColumnCount(&quot;STRIPE&quot;);\n            int actRows=rows-1;\n            Object[][] data=new Object[actRows][columns];\n            for(int i=0;i&lt;actRows;i++) {\n                for(int j=0;j&lt;columns;j++) {\n                    data[i][j]=obj.getCellData(&quot;STRIPE&quot;, j, i+2);\n                }\n            }\n            return data;\n        }\n</code></pre>\n"},{"tags":["java","http","request"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1653413164,"post_id":72366922,"comment_id":127845061,"body_markdown":"What did you try? A quick search provides plenty of examples. You could for example follow https://www.baeldung.com/httpclient-cookies.","body":"What did you try? A quick search provides plenty of examples. You could for example follow <a href=\"https://www.baeldung.com/httpclient-cookies\" rel=\"nofollow noreferrer\">baeldung.com/httpclient-cookies</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1653417326,"post_id":72366922,"comment_id":127846540,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653890482,"creation_date":1653890482,"answer_id":72429746,"question_id":72366922,"body_markdown":" While Apache has cookie support the JDK does as well \r\n    \r\n    CookieHandler.setDefault(new CookieManager());\r\n    \r\n You want to add custom cookies then\r\n    \r\n    CookieManager manager=(CookieManager)CookieHandler.getDefault();\r\n    CookiesStore store=manager.getCookieStore();\r\n    \r\n    HttpCookie cookie=new HttpCookie(&quot;myCookie&quot;,&quot;myValue&quot;);\r\n    cookie.setDomain(&quot;Your server domain&quot;);\r\n    cookie.setPath(&quot;/&quot;);\r\n    store.add(null,cookie);\r\n    \r\nYou then make your regular requests using [HttpURLConnection](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/HttpURLConnection.html)\r\n    \r\nThis cookie handler will be shared by all your connections\r\n    \r\n if your using java [HttpClient](https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpClient.html) your can set an cookie handler [per client](https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpClient.Builder.html#cookieHandler(java.net.CookieHandler))\r\n\r\n[CookieHandler](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/CookieHandler.html),[CookieStore](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/CookieStore.html),[HttpCookie](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/HttpCookie.html)\r\n","title":"How to make a HTTP REQUEST with Cookies in Java","body":"<p>While Apache has cookie support the JDK does as well</p>\n<pre><code>CookieHandler.setDefault(new CookieManager());\n</code></pre>\n<p>You want to add custom cookies then</p>\n<pre><code>CookieManager manager=(CookieManager)CookieHandler.getDefault();\nCookiesStore store=manager.getCookieStore();\n\nHttpCookie cookie=new HttpCookie(&quot;myCookie&quot;,&quot;myValue&quot;);\ncookie.setDomain(&quot;Your server domain&quot;);\ncookie.setPath(&quot;/&quot;);\nstore.add(null,cookie);\n</code></pre>\n<p>You then make your regular requests using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/HttpURLConnection.html\" rel=\"nofollow noreferrer\">HttpURLConnection</a></p>\n<p>This cookie handler will be shared by all your connections</p>\n<p>if your using java <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\">HttpClient</a> your can set an cookie handler <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpClient.Builder.html#cookieHandler(java.net.CookieHandler)\" rel=\"nofollow noreferrer\">per client</a></p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/CookieHandler.html\" rel=\"nofollow noreferrer\">CookieHandler</a>,<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/CookieStore.html\" rel=\"nofollow noreferrer\">CookieStore</a>,<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/HttpCookie.html\" rel=\"nofollow noreferrer\">HttpCookie</a></p>\n"}],"owner":{"account_id":20914808,"reputation":11,"user_id":15364748,"display_name":"Sudano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1653890482,"creation_date":1653412457,"question_id":72366922,"body_markdown":"i need help with cookies and http requests, basically i&#39;m trying to make an http request and i was wondering if it&#39;s possible to send specific cookies in the request to use as authentication method.\r\n\r\ni tried using apache apache&#39;s httpclient but had no success","title":"How to make a HTTP REQUEST with Cookies in Java","body":"<p>i need help with cookies and http requests, basically i'm trying to make an http request and i was wondering if it's possible to send specific cookies in the request to use as authentication method.</p>\n<p>i tried using apache apache's httpclient but had no success</p>\n"},{"tags":["java","postgresql","connection-pooling","tomcat-jdbc"],"answers":[{"tags":[],"owner":{"account_id":2267495,"reputation":114981,"user_id":1995738,"display_name":"klin"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1432029428,"creation_date":1432029428,"answer_id":30322367,"question_id":30322206,"body_markdown":"Use set command:\r\n\r\n    set application_name to my_application;","title":"How to set application_name for postgres connections?","body":"<p>Use set command:</p>\n\n<pre><code>set application_name to my_application;\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1497486918,"creation_date":1432029708,"answer_id":30322483,"question_id":30322206,"body_markdown":"You can add this to the JDBC URL that you use in your connection pool definition:\r\n\r\n    jdbc:postgresql://localhost/postgres?ApplicationName=my_app\r\n\r\nIf you want to change it dynamically e.g. to reflect different modules _inside_ your application, the you can use the [`SET`](https://www.postgresql.org/docs/current/static/sql-set.html) command as shown by klin.\r\n","title":"How to set application_name for postgres connections?","body":"<p>You can add this to the JDBC URL that you use in your connection pool definition:</p>\n\n<pre><code>jdbc:postgresql://localhost/postgres?ApplicationName=my_app\n</code></pre>\n\n<p>If you want to change it dynamically e.g. to reflect different modules <em>inside</em> your application, the you can use the <a href=\"https://www.postgresql.org/docs/current/static/sql-set.html\" rel=\"noreferrer\"><code>SET</code></a> command as shown by klin.</p>\n"},{"tags":[],"owner":{"account_id":5619368,"reputation":1394,"user_id":4449729,"display_name":"Cristian Sevescu"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1432029834,"creation_date":1432029834,"answer_id":30322524,"question_id":30322206,"body_markdown":"You could specify the application name in the connection string.  \r\nDocumentation [here][1].  \r\n\r\nExample:\r\n\r\n    jdbc:postgresql://localhost:5435/DBNAME?ApplicationName=MyApp\r\n\r\n**Take care**: the param names are case sensitive.\r\n  [1]: https://jdbc.postgresql.org/documentation/91/connect.html#connection-parameters","title":"How to set application_name for postgres connections?","body":"<p>You could specify the application name in the connection string.<br>\nDocumentation <a href=\"https://jdbc.postgresql.org/documentation/91/connect.html#connection-parameters\" rel=\"noreferrer\">here</a>.  </p>\n\n<p>Example:</p>\n\n<pre><code>jdbc:postgresql://localhost:5435/DBNAME?ApplicationName=MyApp\n</code></pre>\n\n<p><strong>Take care</strong>: the param names are case sensitive.</p>\n"},{"tags":[],"owner":{"account_id":332120,"reputation":4862,"user_id":657224,"accept_rate":17,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534870891,"creation_date":1534870891,"answer_id":51953528,"question_id":30322206,"body_markdown":"If you want to set programmatically, the PostgreSQL drivers also have a method you can call:\r\n\r\n    PGPoolingDataSource ds = new PGPoolingDataSource();\r\n    ds.setApplicationName(applicationName);","title":"How to set application_name for postgres connections?","body":"<p>If you want to set programmatically, the PostgreSQL drivers also have a method you can call:</p>\n\n<pre><code>PGPoolingDataSource ds = new PGPoolingDataSource();\nds.setApplicationName(applicationName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9581675,"reputation":6312,"user_id":7699859,"display_name":"Krishna"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1586330400,"creation_date":1586330400,"answer_id":61095276,"question_id":30322206,"body_markdown":"If you&#39;re using Python library `psycopg2`, here&#39;s how you can do \r\n\r\n    import psycopg2    \r\n    psycopg2.connect(host=host_ip, database=db_name, user=user, password=db_pwd, application_name=&quot;Python Local Test Script&quot;)","title":"How to set application_name for postgres connections?","body":"<p>If you're using Python library <code>psycopg2</code>, here's how you can do </p>\n\n<pre><code>import psycopg2    \npsycopg2.connect(host=host_ip, database=db_name, user=user, password=db_pwd, application_name=\"Python Local Test Script\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12146145,"reputation":2332,"user_id":8868419,"display_name":"Matteo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1653890256,"creation_date":1653890256,"answer_id":72429717,"question_id":30322206,"body_markdown":"For those using normal connection string and not jdbc:\r\n\r\n```\r\npostgresql://other@localhost/otherdb?application_name=myapp\r\n```","title":"How to set application_name for postgres connections?","body":"<p>For those using normal connection string and not jdbc:</p>\n<pre><code>postgresql://other@localhost/otherdb?application_name=myapp\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34969,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":30322524,"answer_count":6,"score":33,"last_activity_date":1653890256,"creation_date":1432029051,"question_id":30322206,"body_markdown":"I&#39;m using tomcat connection pool `org.apache.tomcat.jdbc.pool.DataSource`. The connections appear in my database `pg_stat_activity` with empty `application_name`.\r\n\r\nHow could I set that application name in my java app, so I know where each connection comes from (as there will be multiple applications accessing the same db)?","title":"How to set application_name for postgres connections?","body":"<p>I'm using tomcat connection pool <code>org.apache.tomcat.jdbc.pool.DataSource</code>. The connections appear in my database <code>pg_stat_activity</code> with empty <code>application_name</code>.</p>\n\n<p>How could I set that application name in my java app, so I know where each connection comes from (as there will be multiple applications accessing the same db)?</p>\n"},{"tags":["java","regex","user-input"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1653889899,"post_id":72429648,"comment_id":127952557,"body_markdown":"did you print `p` to see what&#39;s inside ? Also I don&#39;t see the opening bracket that you close (in the pattern","body":"did you print <code>p</code> to see what&#39;s inside ? Also I don&#39;t see the opening bracket that you close (in the pattern"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1653889958,"post_id":72429648,"comment_id":127952569,"body_markdown":"Try use `Pattern.compile(&quot;[a-zA-Z]{1,2}&quot; + lastTwo);`","body":"Try use <code>Pattern.compile(&quot;[a-zA-Z]{1,2}&quot; + lastTwo);</code>"},{"owner":{"account_id":25340126,"reputation":5,"user_id":19158614,"display_name":"ALSG"},"score":0,"creation_date":1653890080,"post_id":72429648,"comment_id":127952594,"body_markdown":"I included the closing bracket because without it, I&#39;m getting an error:\n\nException in thread &quot;main&quot; java.util.regex.PatternSyntaxException: Unclosed character class near index 23\n[a-zA-Z]{1,2}[C@6d03e736","body":"I included the closing bracket because without it, I&#39;m getting an error:  Exception in thread &quot;main&quot; java.util.regex.PatternSyntaxException: Unclosed character class near index 23 [a-zA-Z]{1,2}[C@6d03e736"},{"owner":{"account_id":25340126,"reputation":5,"user_id":19158614,"display_name":"ALSG"},"score":0,"creation_date":1653890162,"post_id":72429648,"comment_id":127952609,"body_markdown":"can u explain why it doesnt work with the &quot;sub&quot; ?\n\nIt works now btw. Thanks","body":"can u explain why it doesnt work with the &quot;sub&quot; ?  It works now btw. Thanks"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1653890325,"post_id":72429648,"comment_id":127952636,"body_markdown":"What would expect with `sub` ? Write the expectec pattern that it would build. Also see my edited answer","body":"What would expect with <code>sub</code> ? Write the expectec pattern that it would build. Also see my edited answer"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653890175,"creation_date":1653890175,"answer_id":72429708,"question_id":72429648,"body_markdown":"It seems you didn&#39;t understand what `[C@37f8bb67` (part after @ varies) is and you naivly tried to &quot;close&quot; the bracket. What you see is the default array [`toString`][1], that has no meaning in code at all\r\n\r\n---\r\n\r\nYou may just padd the pattern with the 2 last char (as a string)\r\n\r\n    var p = Pattern.compile(&quot;[a-zA-Z]{1,2}&quot; + lastTwo);\r\n\r\n\r\n[1]: https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array","title":"How to match a pattern with String variable in Java","body":"<p>It seems you didn't understand what <code>[C@37f8bb67</code> (part after @ varies) is and you naivly tried to &quot;close&quot; the bracket. What you see is the default array <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\"><code>toString</code></a>, that has no meaning in code at all</p>\n<hr />\n<p>You may just padd the pattern with the 2 last char (as a string)</p>\n<pre><code>var p = Pattern.compile(&quot;[a-zA-Z]{1,2}&quot; + lastTwo);\n</code></pre>\n"}],"owner":{"account_id":25340126,"reputation":5,"user_id":19158614,"display_name":"ALSG"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72429708,"answer_count":1,"score":0,"last_activity_date":1653890175,"creation_date":1653889680,"question_id":72429648,"body_markdown":"I have a code that is supposed to get an input, get the last 2 letters from the first input, then match the second input with the last two letters (ex. glam, slam). The issue is that it keeps going to the else statement rather than the if statement. Is there an issue with how the pattern is constructed? \r\n\r\n    import java.util.regex.Pattern;\r\n    import java.util.regex.Matcher;\r\n    import java.util.Scanner;\r\n    \r\n    public class MatchyPattern {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner s = new Scanner(System.in);\r\n            \r\n            System.out.print(&quot;Enter the first word: &quot;);\r\n            String fw;\r\n            fw = s.nextLine();\r\n            String lastTwo = fw.substring(fw.length() - 2);\r\n            char[] sub = lastTwo.toCharArray();\r\n            var p = Pattern.compile(&quot;[a-zA-Z]{1,2}&quot; + sub + &quot;]&quot;);\r\n            \r\n            \r\n            System.out.print(&quot;Enter the second word: &quot;);\r\n            String sw;\r\n            sw = s.nextLine();\r\n            \r\n            Matcher m = p.matcher(sw);\r\n            \r\n            if (m.matches()){\r\n                System.out.println(fw + &quot; rhymes with &quot; + sw);\r\n            }else{\r\n            System.out.println(&quot;I&#39;m not sure! Sorry!&quot;);\r\n            }\r\n    \r\n        \r\n        }\r\n        \r\n    }    \r\n\r\n","title":"How to match a pattern with String variable in Java","body":"<p>I have a code that is supposed to get an input, get the last 2 letters from the first input, then match the second input with the last two letters (ex. glam, slam). The issue is that it keeps going to the else statement rather than the if statement. Is there an issue with how the pattern is constructed?</p>\n<pre><code>import java.util.regex.Pattern;\nimport java.util.regex.Matcher;\nimport java.util.Scanner;\n\npublic class MatchyPattern {\n\n    public static void main(String[] args) {\n        Scanner s = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter the first word: &quot;);\n        String fw;\n        fw = s.nextLine();\n        String lastTwo = fw.substring(fw.length() - 2);\n        char[] sub = lastTwo.toCharArray();\n        var p = Pattern.compile(&quot;[a-zA-Z]{1,2}&quot; + sub + &quot;]&quot;);\n        \n        \n        System.out.print(&quot;Enter the second word: &quot;);\n        String sw;\n        sw = s.nextLine();\n        \n        Matcher m = p.matcher(sw);\n        \n        if (m.matches()){\n            System.out.println(fw + &quot; rhymes with &quot; + sw);\n        }else{\n        System.out.println(&quot;I'm not sure! Sorry!&quot;);\n        }\n\n    \n    }\n    \n}    \n</code></pre>\n"},{"tags":["java","math","numbers"],"comments":[{"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"score":0,"creation_date":1416079287,"post_id":26948858,"comment_id":42440821,"body_markdown":"@jordiburgos That&#39;s just complexity.","body":"@jordiburgos That&#39;s just complexity."}],"answers":[{"tags":[],"owner":{"account_id":5173309,"reputation":998,"user_id":4141219,"accept_rate":88,"display_name":"Charlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416137020,"creation_date":1416079910,"answer_id":26949818,"question_id":26948858,"body_markdown":"Okay, I think I&#39;ve gotten something.&lt;br&gt;\r\n&lt;br&gt;\r\nThere is a variable called &#39;debug&#39;, when the number produces doesn&#39;t work like it should please set this to true and do the following things:&lt;br&gt;\r\n1) Give me the string you used and the number you expected&lt;br&gt;\r\n2) Give me the log it produces&lt;br&gt;\r\n3) Be patient&lt;br&gt;\r\n\r\nIf you want numbers above 1 trillion (which I can&#39;t imagine, but well) please tell me what that number is called ;)\r\n\r\n\r\nThe code: &lt;br&gt;\r\n\r\n\t\tboolean debug=true;\r\n\t\tString word=&quot;&quot;;\r\n\r\n\t\t// All words below and others should work\r\n\t\t//word=&quot;One thousand two hundred thirty four&quot;; //1234\r\n\t\t//word=&quot;Twenty-one hundred thirty one&quot;; //2131\r\n\t\t//word=&quot;Forty-three thousand seven hundred fifty one&quot;; //43751\r\n\t\t//word=&quot;Nineteen thousand eighty&quot;; // 19080\r\n\t\t//word=&quot;five-hundred-forty-three thousand two hundred ten&quot;; //543210\r\n\t\t//word=&quot;ninety-eight-hundred-seventy-six thousand&quot;; // 9876000\r\n\t\t\r\n\t\t// Max:\r\n\t\tword=&quot;nine-hundred-ninety-nine trillion nine-hundred-ninety-nine billion nine-hundred-ninety-nine million nine-hundred-ninety-nine thousand nine hundred ninety nine&quot;;\r\n\r\n\r\n\t\tword=word.toLowerCase().trim();\r\n\r\n        String oldWord=&quot;&quot;;\r\n\t\twhile(word!=oldWord) {\r\n\t\t\toldWord=word;\r\n\t\t\tword=word.replace(&quot;  &quot;,&quot; &quot;);\r\n\t\t}\r\n\r\n\t\tString[] data=word.split(&quot; &quot;);\r\n\r\n\t\tHashMap&lt;String, Long&gt; database=new HashMap&lt;String, Long&gt;();\r\n\t\tdatabase.put(&quot;zero&quot;, 0L);\r\n\t\tdatabase.put(&quot;one&quot;, 1L);\r\n\t\tdatabase.put(&quot;two&quot;, 2L);\r\n\t\tdatabase.put(&quot;three&quot;, 3L);\r\n\t\tdatabase.put(&quot;four&quot;, 4L);\r\n\t\tdatabase.put(&quot;five&quot;, 5L);\r\n\t\tdatabase.put(&quot;six&quot;, 6L);\r\n\t\tdatabase.put(&quot;seven&quot;, 7L);\r\n\t\tdatabase.put(&quot;eight&quot;, 8L);\r\n\t\tdatabase.put(&quot;nine&quot;, 9L);\r\n\r\n\t\tdatabase.put(&quot;ten&quot;, 10L);\r\n\t\tdatabase.put(&quot;hundred&quot;, 100L);\r\n\t\tdatabase.put(&quot;thousand&quot;, 1000L);\r\n\t\tdatabase.put(&quot;million&quot;, 1000000L);\r\n\t\tdatabase.put(&quot;billion&quot;, 1000000000L);\r\n\t\tdatabase.put(&quot;trillion&quot;, 1000000000000L);\r\n\r\n\t\t// Exceptional prefixes\r\n\t\tdatabase.put(&quot;twen&quot;, 2L);\r\n\t\tdatabase.put(&quot;thir&quot;, 3L);\r\n\t\tdatabase.put(&quot;for&quot;, 4L);\r\n\t\tdatabase.put(&quot;fif&quot;, 5L);\r\n\t\tdatabase.put(&quot;eigh&quot;, 8L);\r\n\r\n\t\t// Other exceptions\r\n\t\tdatabase.put(&quot;eleven&quot;, 11L);\r\n\t\tdatabase.put(&quot;twelve&quot;, 12L);\r\n\r\n\r\n\t\tboolean negative=false;\r\n\t\tlong sum=0;\r\n\t\tfor(int i=0; i&lt;data.length; i+=2) {\r\n\r\n\t\t\tlong first=0;\r\n\t\t\tlong second=1;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif(data[i].equals(&quot;minus&quot;)) {\r\n\t\t\t\t\tif(debug) System.out.println(&quot;negative=true&quot;);\r\n\t\t\t\t\tnegative=true;\r\n\t\t\t\t\ti--;\r\n\t\t\t\t} else if(data[i].endsWith(&quot;ty&quot;)) {\r\n\t\t\t\t\tfirst=database.get(data[i].split(&quot;ty&quot;)[0])*10;\r\n\t\t\t\t\ti--;\r\n\t\t\t\t} else if(data[i].endsWith(&quot;teen&quot;)) {\r\n\t\t\t\t\tfirst=database.get(data[i].split(&quot;teen&quot;)[0])+10;\r\n\t\t\t\t\tif(data.length&gt;i+1)\r\n\t\t\t\t\t\tif(database.get(data[i+1])%10!=0)\r\n\t\t\t\t\t\t\ti--;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tsecond=database.get(data[i+1]);\r\n\t\t\t\t} else if(data[i].contains(&quot;-&quot;)){\r\n\t\t\t\t\tString[] moreData=data[i].split(&quot;-&quot;);\r\n\r\n\t\t\t\t\tlong a=0;\r\n\t\t\t\t\tlong b=0;\r\n\r\n\t\t\t\t\tif(moreData[0].endsWith(&quot;ty&quot;)) {\r\n\t\t\t\t\t\ta=database.get(moreData[0].split(&quot;ty&quot;)[0])*10;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ta=database.get(moreData[0]);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(debug) System.out.println(&quot;a=&quot;+a);\r\n\t\t\t\t\t\r\n\t\t\t\t\tb=database.get(moreData[1]);\r\n\t\t\t\t\tif(b%10==0)\r\n\t\t\t\t\t\tfirst=a*b;\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tfirst=a+b;\r\n\r\n\t\t\t\t\tif(debug) System.out.println(&quot;b=&quot;+b);\r\n\r\n\t\t\t\t\tif(moreData.length&gt;2) {\r\n\t\t\t\t\t\tfor(int z=2; z&lt;moreData.length; z+=2) {\r\n\t\t\t\t\t\t\tlong d=0;\r\n\t\t\t\t\t\t\tlong e=0;\r\n\r\n\t\t\t\t\t\t\tif(moreData[z].endsWith(&quot;ty&quot;)) {\r\n\t\t\t\t\t\t\t\td=database.get(moreData[z].split(&quot;ty&quot;)[0])*10;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\td=database.get(moreData[z]);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif(debug) System.out.println(&quot;d=&quot;+d);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(d%100==0) {\r\n\t\t\t\t\t\t\t\tfirst*=d;\r\n\t\t\t\t\t\t\t\tz--;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\te=database.get(moreData[z+1]);\r\n\t\t\t\t\t\t\t\tif(e%10==0)\r\n\t\t\t\t\t\t\t\t\tfirst+=d*e;\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\tfirst+=d+e;\r\n\t\t\t\t\t\t\t\tif(debug) System.out.println(&quot;e=&quot;+e);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsecond=database.get(data[i+1]);\r\n\r\n\t\t\t\t} else if(word.length()&gt;0){\r\n\t\t\t\t\tfirst=database.get(data[i]);\r\n\t\t\t\t\tif(data.length&gt;i+1)\r\n\t\t\t\t\t\tsecond=database.get(data[i+1]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.err.println(&quot;You didn&#39;t even enter a word :/&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(debug) System.out.println(&quot;first=&quot;+first);\r\n\t\t\t\tif(debug) System.out.println(&quot;second=&quot;+second);\r\n\t\t\t\t\r\n\t\t\t} catch(Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;[Debug Info, Ignore] Couldn&#39;t parse &quot;+i+&quot;[&quot;+data[i]+&quot;]&quot;);\r\n\t\t\t\te.printStackTrace(System.out);\r\n\t\t\t}\r\n\r\n\t\t\tsum+=first*second;\r\n\t\t}\r\n\t\tif(negative)\r\n\t\t\tsum*=-1;\r\n\r\n\t\tSystem.out.println(&quot;Result: &quot;+sum);\r\n\r\nLet me know if it works and don&#39;t forget to give feedback. (Both positive and negative)&lt;br&gt;\r\nHappy coding :) -Charlie\r\nPS: My native language isn&#39;t English, but this works as I should write numbers. Let me know if it isn&#39;t!","title":"Converting words to numbers in Java","body":"<p>Okay, I think I've gotten something.<br>\n<br>\nThere is a variable called 'debug', when the number produces doesn't work like it should please set this to true and do the following things:<br>\n1) Give me the string you used and the number you expected<br>\n2) Give me the log it produces<br>\n3) Be patient<br></p>\n\n<p>If you want numbers above 1 trillion (which I can't imagine, but well) please tell me what that number is called ;)</p>\n\n<p>The code: <br></p>\n\n<pre><code>    boolean debug=true;\n    String word=\"\";\n\n    // All words below and others should work\n    //word=\"One thousand two hundred thirty four\"; //1234\n    //word=\"Twenty-one hundred thirty one\"; //2131\n    //word=\"Forty-three thousand seven hundred fifty one\"; //43751\n    //word=\"Nineteen thousand eighty\"; // 19080\n    //word=\"five-hundred-forty-three thousand two hundred ten\"; //543210\n    //word=\"ninety-eight-hundred-seventy-six thousand\"; // 9876000\n\n    // Max:\n    word=\"nine-hundred-ninety-nine trillion nine-hundred-ninety-nine billion nine-hundred-ninety-nine million nine-hundred-ninety-nine thousand nine hundred ninety nine\";\n\n\n    word=word.toLowerCase().trim();\n\n    String oldWord=\"\";\n    while(word!=oldWord) {\n        oldWord=word;\n        word=word.replace(\"  \",\" \");\n    }\n\n    String[] data=word.split(\" \");\n\n    HashMap&lt;String, Long&gt; database=new HashMap&lt;String, Long&gt;();\n    database.put(\"zero\", 0L);\n    database.put(\"one\", 1L);\n    database.put(\"two\", 2L);\n    database.put(\"three\", 3L);\n    database.put(\"four\", 4L);\n    database.put(\"five\", 5L);\n    database.put(\"six\", 6L);\n    database.put(\"seven\", 7L);\n    database.put(\"eight\", 8L);\n    database.put(\"nine\", 9L);\n\n    database.put(\"ten\", 10L);\n    database.put(\"hundred\", 100L);\n    database.put(\"thousand\", 1000L);\n    database.put(\"million\", 1000000L);\n    database.put(\"billion\", 1000000000L);\n    database.put(\"trillion\", 1000000000000L);\n\n    // Exceptional prefixes\n    database.put(\"twen\", 2L);\n    database.put(\"thir\", 3L);\n    database.put(\"for\", 4L);\n    database.put(\"fif\", 5L);\n    database.put(\"eigh\", 8L);\n\n    // Other exceptions\n    database.put(\"eleven\", 11L);\n    database.put(\"twelve\", 12L);\n\n\n    boolean negative=false;\n    long sum=0;\n    for(int i=0; i&lt;data.length; i+=2) {\n\n        long first=0;\n        long second=1;\n\n        try {\n            if(data[i].equals(\"minus\")) {\n                if(debug) System.out.println(\"negative=true\");\n                negative=true;\n                i--;\n            } else if(data[i].endsWith(\"ty\")) {\n                first=database.get(data[i].split(\"ty\")[0])*10;\n                i--;\n            } else if(data[i].endsWith(\"teen\")) {\n                first=database.get(data[i].split(\"teen\")[0])+10;\n                if(data.length&gt;i+1)\n                    if(database.get(data[i+1])%10!=0)\n                        i--;\n                    else\n                        second=database.get(data[i+1]);\n            } else if(data[i].contains(\"-\")){\n                String[] moreData=data[i].split(\"-\");\n\n                long a=0;\n                long b=0;\n\n                if(moreData[0].endsWith(\"ty\")) {\n                    a=database.get(moreData[0].split(\"ty\")[0])*10;\n                } else {\n                    a=database.get(moreData[0]);\n                }\n\n                if(debug) System.out.println(\"a=\"+a);\n\n                b=database.get(moreData[1]);\n                if(b%10==0)\n                    first=a*b;\n                else\n                    first=a+b;\n\n                if(debug) System.out.println(\"b=\"+b);\n\n                if(moreData.length&gt;2) {\n                    for(int z=2; z&lt;moreData.length; z+=2) {\n                        long d=0;\n                        long e=0;\n\n                        if(moreData[z].endsWith(\"ty\")) {\n                            d=database.get(moreData[z].split(\"ty\")[0])*10;\n                        } else {\n                            d=database.get(moreData[z]);\n                        }\n\n                        if(debug) System.out.println(\"d=\"+d);\n\n                        if(d%100==0) {\n                            first*=d;\n                            z--;\n                        } else {\n                            e=database.get(moreData[z+1]);\n                            if(e%10==0)\n                                first+=d*e;\n                            else\n                                first+=d+e;\n                            if(debug) System.out.println(\"e=\"+e);\n                        }\n                    }\n                }\n\n                second=database.get(data[i+1]);\n\n            } else if(word.length()&gt;0){\n                first=database.get(data[i]);\n                if(data.length&gt;i+1)\n                    second=database.get(data[i+1]);\n            } else {\n                System.err.println(\"You didn't even enter a word :/\");\n            }\n\n            if(debug) System.out.println(\"first=\"+first);\n            if(debug) System.out.println(\"second=\"+second);\n\n        } catch(Exception e) {\n            System.out.println(\"[Debug Info, Ignore] Couldn't parse \"+i+\"[\"+data[i]+\"]\");\n            e.printStackTrace(System.out);\n        }\n\n        sum+=first*second;\n    }\n    if(negative)\n        sum*=-1;\n\n    System.out.println(\"Result: \"+sum);\n</code></pre>\n\n<p>Let me know if it works and don't forget to give feedback. (Both positive and negative)<br>\nHappy coding :) -Charlie\nPS: My native language isn't English, but this works as I should write numbers. Let me know if it isn't!</p>\n"},{"tags":[],"owner":{"account_id":3057984,"reputation":2945,"user_id":2591240,"accept_rate":83,"display_name":"Kartic"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1416134723,"creation_date":1416091943,"answer_id":26951693,"question_id":26948858,"body_markdown":"I hope below code will do the job in most of the cases. However some modification might be required as I&#39;ve not tested properly yet.\r\n\r\nAssumption:\r\n\r\n 1. Positive, negative, plus, minus is not allowed.\r\n 2. Lac, crore is not allowed.\r\n 3. Only English language is supported.\r\n\r\nIf you need to support first two points, you can very easily do that.\r\n\r\n\t    boolean isValidInput = true;\r\n\t    long result = 0;\r\n\t    long finalResult = 0;\r\n\t    List&lt;String&gt; allowedStrings = Arrays.asList\r\n\t    (\r\n\t    &quot;zero&quot;,&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,\r\n\t    &quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;,&quot;eleven&quot;,&quot;twelve&quot;,&quot;thirteen&quot;,&quot;fourteen&quot;,\r\n\t    &quot;fifteen&quot;,&quot;sixteen&quot;,&quot;seventeen&quot;,&quot;eighteen&quot;,&quot;nineteen&quot;,&quot;twenty&quot;,\r\n\t    &quot;thirty&quot;,&quot;forty&quot;,&quot;fifty&quot;,&quot;sixty&quot;,&quot;seventy&quot;,&quot;eighty&quot;,&quot;ninety&quot;,\r\n\t    &quot;hundred&quot;,&quot;thousand&quot;,&quot;million&quot;,&quot;billion&quot;,&quot;trillion&quot;\r\n\t    );\r\n\r\n\t    String input=&quot;One hundred two thousand and thirty four&quot;;\r\n\t    \r\n\t    if(input != null &amp;&amp; input.length()&gt; 0)\r\n\t    {\r\n\t        input = input.replaceAll(&quot;-&quot;, &quot; &quot;);\r\n\t        input = input.toLowerCase().replaceAll(&quot; and&quot;, &quot; &quot;);\r\n\t        String[] splittedParts = input.trim().split(&quot;\\\\s+&quot;);\r\n\r\n\t        for(String str : splittedParts)\r\n\t        {\r\n\t            if(!allowedStrings.contains(str))\r\n\t            {\r\n\t                isValidInput = false;\r\n\t                System.out.println(&quot;Invalid word found : &quot;+str);\r\n\t                break;\r\n\t            }\r\n\t        }\r\n\t        if(isValidInput)\r\n\t        {\r\n\t            for(String str : splittedParts)\r\n\t            {\r\n\t                if(str.equalsIgnoreCase(&quot;zero&quot;)) {\r\n\t                    result += 0;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;one&quot;)) {\r\n\t                    result += 1;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;two&quot;)) {\r\n\t                    result += 2;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;three&quot;)) {\r\n\t                    result += 3;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;four&quot;)) {\r\n\t                    result += 4;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;five&quot;)) {\r\n\t                    result += 5;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;six&quot;)) {\r\n\t                    result += 6;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;seven&quot;)) {\r\n\t                    result += 7;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;eight&quot;)) {\r\n\t                    result += 8;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;nine&quot;)) {\r\n\t                    result += 9;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;ten&quot;)) {\r\n\t                    result += 10;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;eleven&quot;)) {\r\n\t                    result += 11;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;twelve&quot;)) {\r\n\t                    result += 12;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;thirteen&quot;)) {\r\n\t                    result += 13;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;fourteen&quot;)) {\r\n\t                    result += 14;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;fifteen&quot;)) {\r\n\t                    result += 15;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;sixteen&quot;)) {\r\n\t                    result += 16;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;seventeen&quot;)) {\r\n\t                    result += 17;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;eighteen&quot;)) {\r\n\t                    result += 18;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;nineteen&quot;)) {\r\n\t                    result += 19;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;twenty&quot;)) {\r\n\t                    result += 20;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;thirty&quot;)) {\r\n\t                    result += 30;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;forty&quot;)) {\r\n\t                    result += 40;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;fifty&quot;)) {\r\n\t                    result += 50;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;sixty&quot;)) {\r\n\t                    result += 60;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;seventy&quot;)) {\r\n\t                    result += 70;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;eighty&quot;)) {\r\n\t                    result += 80;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;ninety&quot;)) {\r\n\t                    result += 90;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;hundred&quot;)) {\r\n\t                    result *= 100;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;thousand&quot;)) {\r\n\t                    result *= 1000;\r\n\t                    finalResult += result;\r\n\t                    result=0;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;million&quot;)) {\r\n\t                    result *= 1000000;\r\n\t                    finalResult += result;\r\n\t                    result=0;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;billion&quot;)) {\r\n\t                    result *= 1000000000;\r\n\t                    finalResult += result;\r\n\t                    result=0;\r\n\t                }\r\n\t                else if(str.equalsIgnoreCase(&quot;trillion&quot;)) {\r\n\t                    result *= 1000000000000L;\r\n\t                    finalResult += result;\r\n\t                    result=0;\r\n\t                }\r\n\t            }\r\n\t            \r\n                finalResult += result;\r\n                result=0;\r\n\t            System.out.println(finalResult);\r\n\t        }\r\n\t    }","title":"Converting words to numbers in Java","body":"<p>I hope below code will do the job in most of the cases. However some modification might be required as I've not tested properly yet.</p>\n\n<p>Assumption:</p>\n\n<ol>\n<li>Positive, negative, plus, minus is not allowed.</li>\n<li>Lac, crore is not allowed.</li>\n<li>Only English language is supported.</li>\n</ol>\n\n<p>If you need to support first two points, you can very easily do that.</p>\n\n<pre><code>    boolean isValidInput = true;\n    long result = 0;\n    long finalResult = 0;\n    List&lt;String&gt; allowedStrings = Arrays.asList\n    (\n    \"zero\",\"one\",\"two\",\"three\",\"four\",\"five\",\"six\",\"seven\",\n    \"eight\",\"nine\",\"ten\",\"eleven\",\"twelve\",\"thirteen\",\"fourteen\",\n    \"fifteen\",\"sixteen\",\"seventeen\",\"eighteen\",\"nineteen\",\"twenty\",\n    \"thirty\",\"forty\",\"fifty\",\"sixty\",\"seventy\",\"eighty\",\"ninety\",\n    \"hundred\",\"thousand\",\"million\",\"billion\",\"trillion\"\n    );\n\n    String input=\"One hundred two thousand and thirty four\";\n\n    if(input != null &amp;&amp; input.length()&gt; 0)\n    {\n        input = input.replaceAll(\"-\", \" \");\n        input = input.toLowerCase().replaceAll(\" and\", \" \");\n        String[] splittedParts = input.trim().split(\"\\\\s+\");\n\n        for(String str : splittedParts)\n        {\n            if(!allowedStrings.contains(str))\n            {\n                isValidInput = false;\n                System.out.println(\"Invalid word found : \"+str);\n                break;\n            }\n        }\n        if(isValidInput)\n        {\n            for(String str : splittedParts)\n            {\n                if(str.equalsIgnoreCase(\"zero\")) {\n                    result += 0;\n                }\n                else if(str.equalsIgnoreCase(\"one\")) {\n                    result += 1;\n                }\n                else if(str.equalsIgnoreCase(\"two\")) {\n                    result += 2;\n                }\n                else if(str.equalsIgnoreCase(\"three\")) {\n                    result += 3;\n                }\n                else if(str.equalsIgnoreCase(\"four\")) {\n                    result += 4;\n                }\n                else if(str.equalsIgnoreCase(\"five\")) {\n                    result += 5;\n                }\n                else if(str.equalsIgnoreCase(\"six\")) {\n                    result += 6;\n                }\n                else if(str.equalsIgnoreCase(\"seven\")) {\n                    result += 7;\n                }\n                else if(str.equalsIgnoreCase(\"eight\")) {\n                    result += 8;\n                }\n                else if(str.equalsIgnoreCase(\"nine\")) {\n                    result += 9;\n                }\n                else if(str.equalsIgnoreCase(\"ten\")) {\n                    result += 10;\n                }\n                else if(str.equalsIgnoreCase(\"eleven\")) {\n                    result += 11;\n                }\n                else if(str.equalsIgnoreCase(\"twelve\")) {\n                    result += 12;\n                }\n                else if(str.equalsIgnoreCase(\"thirteen\")) {\n                    result += 13;\n                }\n                else if(str.equalsIgnoreCase(\"fourteen\")) {\n                    result += 14;\n                }\n                else if(str.equalsIgnoreCase(\"fifteen\")) {\n                    result += 15;\n                }\n                else if(str.equalsIgnoreCase(\"sixteen\")) {\n                    result += 16;\n                }\n                else if(str.equalsIgnoreCase(\"seventeen\")) {\n                    result += 17;\n                }\n                else if(str.equalsIgnoreCase(\"eighteen\")) {\n                    result += 18;\n                }\n                else if(str.equalsIgnoreCase(\"nineteen\")) {\n                    result += 19;\n                }\n                else if(str.equalsIgnoreCase(\"twenty\")) {\n                    result += 20;\n                }\n                else if(str.equalsIgnoreCase(\"thirty\")) {\n                    result += 30;\n                }\n                else if(str.equalsIgnoreCase(\"forty\")) {\n                    result += 40;\n                }\n                else if(str.equalsIgnoreCase(\"fifty\")) {\n                    result += 50;\n                }\n                else if(str.equalsIgnoreCase(\"sixty\")) {\n                    result += 60;\n                }\n                else if(str.equalsIgnoreCase(\"seventy\")) {\n                    result += 70;\n                }\n                else if(str.equalsIgnoreCase(\"eighty\")) {\n                    result += 80;\n                }\n                else if(str.equalsIgnoreCase(\"ninety\")) {\n                    result += 90;\n                }\n                else if(str.equalsIgnoreCase(\"hundred\")) {\n                    result *= 100;\n                }\n                else if(str.equalsIgnoreCase(\"thousand\")) {\n                    result *= 1000;\n                    finalResult += result;\n                    result=0;\n                }\n                else if(str.equalsIgnoreCase(\"million\")) {\n                    result *= 1000000;\n                    finalResult += result;\n                    result=0;\n                }\n                else if(str.equalsIgnoreCase(\"billion\")) {\n                    result *= 1000000000;\n                    finalResult += result;\n                    result=0;\n                }\n                else if(str.equalsIgnoreCase(\"trillion\")) {\n                    result *= 1000000000000L;\n                    finalResult += result;\n                    result=0;\n                }\n            }\n\n            finalResult += result;\n            result=0;\n            System.out.println(finalResult);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5673038,"reputation":1,"user_id":4487139,"display_name":"Siddhesh"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1469630341,"creation_date":1469630341,"answer_id":38616132,"question_id":26948858,"body_markdown":"###Best and simple way to print 0 to 99999 numbers to words conversion program###\r\n\r\nNote: You can also extend more numbers greater than 99999 using same logic.\r\n\r\n    import java.util.Scanner;\r\n    class NumberToWord\r\n    {  \r\n    \tfinal private static String[]units = {&quot;Zero&quot;, &quot;One&quot;,&quot;Two&quot;,&quot;Three&quot;,&quot;Four&quot;,&quot;Five&quot;,&quot;Six&quot;,&quot;Seven&quot;,&quot;Eight&quot;,&quot;Nine&quot;,&quot;Ten&quot;,\r\n    \t&quot;Eleven&quot;,&quot;Twelve&quot;,&quot;Thirteen&quot;,&quot;Fourteen&quot;,&quot;Fifteen&quot;,&quot;Sixteen&quot;,&quot;Seventeen&quot;,&quot;Eighteen&quot;,&quot;Nineteen&quot;};\r\n    \t\r\n    \tfinal private static String[]tens = {&quot;&quot;,&quot;&quot;,&quot;Twenty &quot;,&quot;Thirty &quot;,&quot;Forty &quot;,&quot;Fifty &quot;,&quot;Sixty &quot;,&quot;Seventy &quot;,&quot;Eighty &quot;,&quot;Ninety &quot;};\r\n    \tpublic static String convert(int number)\r\n    \t{\r\n    \t\t\tif(number&lt;0)\r\n    \t\t\t{\r\n    \t\t\t\tthrow new ArithmeticException(&quot;Number should be positive.&quot;);\t\t\t\r\n    \t\t\t}\r\n    \t\t\telse if(number&lt;20)\r\n    \t\t\t{\r\n    \t\t\t\treturn (units[number]);\r\n    \t\t\t}\t\r\n    \t\t\telse if(number&lt;100)\r\n    \t\t\t{\r\n    \t\t\t\treturn tens[number/10] + ((number % 10 &gt; 0)? convert(number % 10):&quot;&quot;);\r\n    \t\t\t}\t\t\t\r\n    \t\t\telse if(number&lt;1000)\r\n    \t\t\t{\r\n    \t\t\t\treturn units[number/100] + &quot; hundred&quot; + ((number%100&gt;0)? &quot; and &quot; + convert(number%100):&quot;&quot;);\r\n    \t\t\t}\t\t\t\r\n    \t\t\telse if(number&lt;20000)\r\n    \t\t\t{\r\n    \t\t\t\treturn  units[number/1000] + &quot; Thousand &quot; + ((number%1000&gt;0)? convert(number%1000):&quot;&quot;);\r\n    \t\t\t}\t\t\t\r\n    \t\t\t\treturn tens[number/10000] + ((number%10000&gt;0)? convert(number%10000):&quot;Thousand&quot; );\t\t\r\n    \t}\t\r\n    \t\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.print(&quot;Enter a number between 0 to 99999: &quot;);\r\n    \t\tint num = sc.nextInt();\r\n    \t\tSystem.out.println(convert(num));\t\r\n    \t}\t \r\n    }\r\n\r\n###Thank you for reading!!###","title":"Converting words to numbers in Java","body":"<h3>Best and simple way to print 0 to 99999 numbers to words conversion program</h3>\n\n<p>Note: You can also extend more numbers greater than 99999 using same logic.</p>\n\n<pre><code>import java.util.Scanner;\nclass NumberToWord\n{  \n    final private static String[]units = {\"Zero\", \"One\",\"Two\",\"Three\",\"Four\",\"Five\",\"Six\",\"Seven\",\"Eight\",\"Nine\",\"Ten\",\n    \"Eleven\",\"Twelve\",\"Thirteen\",\"Fourteen\",\"Fifteen\",\"Sixteen\",\"Seventeen\",\"Eighteen\",\"Nineteen\"};\n\n    final private static String[]tens = {\"\",\"\",\"Twenty \",\"Thirty \",\"Forty \",\"Fifty \",\"Sixty \",\"Seventy \",\"Eighty \",\"Ninety \"};\n    public static String convert(int number)\n    {\n            if(number&lt;0)\n            {\n                throw new ArithmeticException(\"Number should be positive.\");            \n            }\n            else if(number&lt;20)\n            {\n                return (units[number]);\n            }   \n            else if(number&lt;100)\n            {\n                return tens[number/10] + ((number % 10 &gt; 0)? convert(number % 10):\"\");\n            }           \n            else if(number&lt;1000)\n            {\n                return units[number/100] + \" hundred\" + ((number%100&gt;0)? \" and \" + convert(number%100):\"\");\n            }           \n            else if(number&lt;20000)\n            {\n                return  units[number/1000] + \" Thousand \" + ((number%1000&gt;0)? convert(number%1000):\"\");\n            }           \n                return tens[number/10000] + ((number%10000&gt;0)? convert(number%10000):\"Thousand\" );      \n    }   \n\n    public static void main(String[] args) \n    {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(\"Enter a number between 0 to 99999: \");\n        int num = sc.nextInt();\n        System.out.println(convert(num));   \n    }    \n}\n</code></pre>\n\n<h3>Thank you for reading!!</h3>\n"},{"tags":[],"owner":{"account_id":9306843,"reputation":83,"user_id":6910201,"display_name":"James"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479005072,"creation_date":1479005072,"answer_id":40570035,"question_id":26948858,"body_markdown":"Full credit to Kartic for the elegant answer. I&#39;ve added to it to allow for processing a large block of text with these types of &quot;word numbers&quot; dispersed inside of it. Not as clean as I hoped since I have to process it without losing any formatting.\r\n\r\nIt&#39;s a work in progress but might be of some use to people:\r\nhttps://github.com/jgraham0325/words-to-numbers/blob/master/src/main/java/org/jg/wordstonumbers/WordsToNumbersUtil.java","title":"Converting words to numbers in Java","body":"<p>Full credit to Kartic for the elegant answer. I've added to it to allow for processing a large block of text with these types of \"word numbers\" dispersed inside of it. Not as clean as I hoped since I have to process it without losing any formatting.</p>\n\n<p>It's a work in progress but might be of some use to people:\n<a href=\"https://github.com/jgraham0325/words-to-numbers/blob/master/src/main/java/org/jg/wordstonumbers/WordsToNumbersUtil.java\" rel=\"noreferrer\">https://github.com/jgraham0325/words-to-numbers/blob/master/src/main/java/org/jg/wordstonumbers/WordsToNumbersUtil.java</a></p>\n"},{"tags":[],"owner":{"account_id":8429030,"reputation":31,"user_id":6325390,"display_name":"Debayan Bhattacharya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491299402,"creation_date":1491297065,"answer_id":43202865,"question_id":26948858,"body_markdown":"&lt;!-- language: java --&gt;\r\n\r\n    package com;\r\n    \r\n    import java.util.HashMap;\r\n    \r\n    public class WordNNumber {\r\n    \t\r\n    \tstatic HashMap&lt;String, Integer&gt; numbers= new HashMap&lt;String, Integer&gt;();\r\n    \r\n    \tstatic HashMap&lt;String, Integer&gt; onumbers= new HashMap&lt;String, Integer&gt;();\r\n    \tstatic HashMap&lt;String, Integer&gt; tnumbers= new HashMap&lt;String, Integer&gt;();\r\n    \t\r\n    \tstatic {\r\n    \t\tnumbers.put(&quot;zero&quot;, 0);\r\n    \t\tnumbers.put(&quot;one&quot;, 1);\r\n    \t\tnumbers.put(&quot;two&quot;, 2);\r\n    \t\tnumbers.put(&quot;three&quot;, 3);\r\n    \t\tnumbers.put(&quot;four&quot;, 4);\r\n    \t\tnumbers.put(&quot;five&quot;, 5);\r\n    \t\tnumbers.put(&quot;six&quot;, 6);\r\n    \t\tnumbers.put(&quot;seven&quot;, 7);\r\n    \t\tnumbers.put(&quot;eight&quot;, 8);\r\n    \t\tnumbers.put(&quot;nine&quot;, 9);\r\n    \t\tnumbers.put(&quot;ten&quot;, 10);\r\n    \t\tnumbers.put(&quot;eleven&quot;, 11);\r\n    \t\tnumbers.put(&quot;twelve&quot;, 12);\r\n    \t\tnumbers.put(&quot;thirteen&quot;, 13);\r\n    \t\tnumbers.put(&quot;fourteen&quot;, 14);\r\n    \t\tnumbers.put(&quot;fifteen&quot;, 15);\r\n    \t\tnumbers.put(&quot;sixteen&quot;, 16);\r\n    \t\tnumbers.put(&quot;seventeen&quot;, 17);\r\n    \t\tnumbers.put(&quot;eighteen&quot;, 18);\r\n    \t\tnumbers.put(&quot;nineteen&quot;, 19);\r\n    \t\t\r\n    \t\t\r\n    \t\ttnumbers.put(&quot;twenty&quot;, 20);\r\n    \t\ttnumbers.put(&quot;thirty&quot;, 30);\r\n    \t\ttnumbers.put(&quot;fourty&quot;, 40);\r\n    \t\ttnumbers.put(&quot;fifty&quot;, 50);\r\n    \t\ttnumbers.put(&quot;sixty&quot;, 60);\r\n    \t\ttnumbers.put(&quot;seventy&quot;, 70);\r\n    \t\ttnumbers.put(&quot;eighty&quot;, 80);\r\n    \t\ttnumbers.put(&quot;ninety&quot;, 90);\r\n    \t\t\r\n    \t\tonumbers.put(&quot;hundred&quot;, 100);\r\n    \t\tonumbers.put(&quot;thousand&quot;, 1000);\r\n    \t\tonumbers.put(&quot;million&quot;, 1000000);\r\n    \t\tonumbers.put(&quot;billion&quot;, 1000000000);\r\n    \t\t\r\n    \t\t//numbers.put(&quot;&quot;, );\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n    \t\tString input1=&quot;fifty five million twenty three thousand ninety one&quot;;\r\n    \t\tString input2=&quot;fifty five billion three thousand one&quot;;\r\n    \t\tString input3=&quot;fifty five million ninety one&quot;;\r\n    \r\n    \t\twordToNumber(input1);\r\n    \t\twordToNumber(input2);\r\n    \t\twordToNumber(input3);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate static void wordToNumber(String input) {\r\n    \t\tSystem.out.println(&quot;===========\\nInput string = &quot;+input);\r\n    \t\tlong sum=0;\r\n    \t\tInteger temp=null;\r\n    \t\tInteger previous=0;\r\n    \t\tString [] splitted= input.toLowerCase().split(&quot; &quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\tfor(String split:splitted){\r\n    \t\t\t\r\n    \t\t\tif( numbers.get(split)!=null){\r\n    \t\t\t\ttemp= numbers.get(split);\r\n    \t\t\t\t\r\n    \t\t\t\tsum=sum+temp;\r\n    \t\t\t\t\r\n    \t\t\t\tprevious=previous+temp;\r\n    \t\t\t}\r\n    \t\t\telse if(onumbers.get(split)!=null){\r\n    \t\t\t\tif(sum!=0){\r\n    \t\t\t\t\tsum=sum-previous;\r\n    \t\t\t\t}\r\n    \t\t\t\tsum=sum+(long)previous*(long)onumbers.get(split);\r\n    \t\t\t\ttemp=null;\r\n    \t\t\t\tprevious=0;\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\telse if(tnumbers.get(split)!=null){\r\n    \t\t\t\ttemp=tnumbers.get(split);\r\n    \t\t\t\tsum=sum+temp;\r\n    \t\t\t\t\r\n    \t\t\t\tprevious=temp;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(sum);\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Converting words to numbers in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>package com;\n\nimport java.util.HashMap;\n\npublic class WordNNumber {\n\n    static HashMap&lt;String, Integer&gt; numbers= new HashMap&lt;String, Integer&gt;();\n\n    static HashMap&lt;String, Integer&gt; onumbers= new HashMap&lt;String, Integer&gt;();\n    static HashMap&lt;String, Integer&gt; tnumbers= new HashMap&lt;String, Integer&gt;();\n\n    static {\n        numbers.put(\"zero\", 0);\n        numbers.put(\"one\", 1);\n        numbers.put(\"two\", 2);\n        numbers.put(\"three\", 3);\n        numbers.put(\"four\", 4);\n        numbers.put(\"five\", 5);\n        numbers.put(\"six\", 6);\n        numbers.put(\"seven\", 7);\n        numbers.put(\"eight\", 8);\n        numbers.put(\"nine\", 9);\n        numbers.put(\"ten\", 10);\n        numbers.put(\"eleven\", 11);\n        numbers.put(\"twelve\", 12);\n        numbers.put(\"thirteen\", 13);\n        numbers.put(\"fourteen\", 14);\n        numbers.put(\"fifteen\", 15);\n        numbers.put(\"sixteen\", 16);\n        numbers.put(\"seventeen\", 17);\n        numbers.put(\"eighteen\", 18);\n        numbers.put(\"nineteen\", 19);\n\n\n        tnumbers.put(\"twenty\", 20);\n        tnumbers.put(\"thirty\", 30);\n        tnumbers.put(\"fourty\", 40);\n        tnumbers.put(\"fifty\", 50);\n        tnumbers.put(\"sixty\", 60);\n        tnumbers.put(\"seventy\", 70);\n        tnumbers.put(\"eighty\", 80);\n        tnumbers.put(\"ninety\", 90);\n\n        onumbers.put(\"hundred\", 100);\n        onumbers.put(\"thousand\", 1000);\n        onumbers.put(\"million\", 1000000);\n        onumbers.put(\"billion\", 1000000000);\n\n        //numbers.put(\"\", );\n    }\n\n    public static void main(String args[]){\n        String input1=\"fifty five million twenty three thousand ninety one\";\n        String input2=\"fifty five billion three thousand one\";\n        String input3=\"fifty five million ninety one\";\n\n        wordToNumber(input1);\n        wordToNumber(input2);\n        wordToNumber(input3);\n\n\n    }\n\n    private static void wordToNumber(String input) {\n        System.out.println(\"===========\\nInput string = \"+input);\n        long sum=0;\n        Integer temp=null;\n        Integer previous=0;\n        String [] splitted= input.toLowerCase().split(\" \");\n\n\n        for(String split:splitted){\n\n            if( numbers.get(split)!=null){\n                temp= numbers.get(split);\n\n                sum=sum+temp;\n\n                previous=previous+temp;\n            }\n            else if(onumbers.get(split)!=null){\n                if(sum!=0){\n                    sum=sum-previous;\n                }\n                sum=sum+(long)previous*(long)onumbers.get(split);\n                temp=null;\n                previous=0;\n\n\n            }\n            else if(tnumbers.get(split)!=null){\n                temp=tnumbers.get(split);\n                sum=sum+temp;\n\n                previous=temp;\n            }\n\n        }\n\n        System.out.println(sum);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6769996,"reputation":422,"user_id":5213618,"accept_rate":73,"display_name":"tpsaitwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602158881,"creation_date":1602132156,"answer_id":64255913,"question_id":26948858,"body_markdown":"I have done another implementation of the same using HashMap to store the numbers and avoiding `if else` in a statement.\r\n    \r\nAssumptions:\r\nNegative numbers not handled\r\n    \r\nCode:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n\r\n    public class TranslateSentenceTonumber2 {\r\n\r\n    public static void main(String[] args) {\r\n        initFIRSTTWENTY();\r\n\n        String sentence1 = &quot;I have twenty thousand twenti two rupees&quot;;\r\n        translateNumber(sentence1);\r\n      \r\n        String sentence4 = &quot;one hundred ten thousand&quot;;\r\n        translateNumber(sentence4);\r\n\r\n        String sentence5 = &quot;one hundred forty seven&quot;;\r\n        translateNumber(sentence4 + &quot; &quot; +sentence5);\r\n    }\r\n\r\n    private static HashMap&lt;String, Integer&gt; FIRSTTWENTY;\r\n\r\n    private static final String SPACES_SPLIT = &quot;\\\\s+&quot;;\r\n\r\n    private static void translateNumber(String playSentence){\r\n        String sentence = playSentence;\r\n        HashMap&lt;String, Long&gt; CALCULATION = new HashMap&lt;&gt;();\r\n        Set&lt;String &gt; ALLOWED = new HashSet&lt;&gt;(FIRSTTWENTY.keySet());\r\n        ALLOWED.add(&quot;hundred&quot;);\r\n        ALLOWED.add(&quot;thousand&quot;);\r\n        ALLOWED.add(&quot;million&quot;);\r\n        if (sentence != null &amp;&amp; sentence.length() &gt;0) {\r\n            sentence = sentence.replace(&quot;-&quot;, &quot; &quot;);\r\n            String [] splittedString = sentence.split(SPACES_SPLIT);\r\n            String continuousString = &quot;&quot;;\r\n            int length = splittedString.length;\r\n            for (int i=0; i&lt;length; i++){\r\n                String str  = splittedString[i];\r\n                if (ALLOWED.contains(str.toLowerCase()) &amp;&amp; !continuousString.trim().equalsIgnoreCase(str)){\r\n                    continuousString = continuousString.trim() + &quot; &quot; + str;\r\n                    if (i== length-1){\r\n                        CALCULATION.put(continuousString.trim(), null);\r\n                        continuousString = &quot;&quot;;\r\n                    }\r\n                }\r\n                if (!ALLOWED.contains(str.toLowerCase()) &amp;&amp; !continuousString.trim().isEmpty()) {\r\n                    CALCULATION.put(continuousString.trim(), null);\r\n                    continuousString = &quot;&quot;;\r\n                }\r\n            }\r\n\r\n            CALCULATION.replaceAll((c, v) -&gt; calculation(c));\r\n\r\n            for(String calc : CALCULATION.keySet()){\r\n                playSentence = playSentence.replace(calc, &quot;&quot; +CALCULATION.get(calc));\r\n            }\r\n            System.out.println(playSentence);\r\n        }\r\n    }\r\n\r\n    private static long calculation(String input){\r\n        long inBetweenCalculation = 0;\r\n        long output = 0;\r\n        if (input != null &amp;&amp; !input.isEmpty()) {\r\n            String [] array = input.split(SPACES_SPLIT);\r\n            for (String str: array) {\r\n                if (FIRSTTWENTY.containsKey(str.toLowerCase())) {\r\n                    inBetweenCalculation += FIRSTTWENTY.get(str.toLowerCase());\r\n                } else if (&quot;hundred&quot;.equalsIgnoreCase(str)) {\r\n                    inBetweenCalculation *= 100;\r\n                } else if (&quot;thousand&quot;.equalsIgnoreCase(str)) {\r\n                    inBetweenCalculation *= 1000;\r\n                    output += inBetweenCalculation;\r\n                    inBetweenCalculation = 0;\r\n                } else if (&quot;million&quot;.equalsIgnoreCase(str)) {\r\n                    inBetweenCalculation *= 1000000;\r\n                    output += inBetweenCalculation;\r\n                    inBetweenCalculation = 0;\r\n                }\r\n            }\r\n            output += inBetweenCalculation;\r\n        }\r\n        return output;\r\n    }\r\n\r\n\r\n    private static void initFIRSTTWENTY(){\r\n        FIRSTTWENTY = new HashMap&lt;&gt;();\r\n        FIRSTTWENTY.put(&quot;zero&quot;, 0);\r\n        FIRSTTWENTY.put(&quot;one&quot;, 1);FIRSTTWENTY.put(&quot;eleven&quot;, 11);\r\n        FIRSTTWENTY.put(&quot;two&quot;, 2);FIRSTTWENTY.put(&quot;twelve&quot;, 12);\r\n        FIRSTTWENTY.put(&quot;three&quot;, 3);FIRSTTWENTY.put(&quot;thirteen&quot;, 13);\r\n        FIRSTTWENTY.put(&quot;four&quot;, 4);FIRSTTWENTY.put(&quot;fourteen&quot;, 14);\r\n        FIRSTTWENTY.put(&quot;five&quot;, 5);FIRSTTWENTY.put(&quot;fifteen&quot;, 15);\r\n        FIRSTTWENTY.put(&quot;six&quot;, 6);FIRSTTWENTY.put(&quot;sixteen&quot;, 16);\r\n        FIRSTTWENTY.put(&quot;seven&quot;, 7);FIRSTTWENTY.put(&quot;seventeen&quot;, 17);\r\n        FIRSTTWENTY.put(&quot;eight&quot;, 8);FIRSTTWENTY.put(&quot;eighteen&quot;, 18);\r\n        FIRSTTWENTY.put(&quot;nine&quot;, 9);FIRSTTWENTY.put(&quot;nineteen&quot;, 19);\r\n        FIRSTTWENTY.put(&quot;ten&quot;, 10);FIRSTTWENTY.put(&quot;twenty&quot;, 20);\r\n        FIRSTTWENTY.put(&quot;thirty&quot;, 30);FIRSTTWENTY.put(&quot;forty&quot;, 40);\r\n        FIRSTTWENTY.put(&quot;fifty&quot;, 50);FIRSTTWENTY.put(&quot;sixty&quot;, 60);\r\n        FIRSTTWENTY.put(&quot;seventy&quot;, 70);FIRSTTWENTY.put(&quot;eighty&quot;, 80);\r\n        FIRSTTWENTY.put(&quot;ninety&quot;, 90);\r\n    }\r\n    }\r\n\r\nOutput:\r\n\r\n    I have 20000 twenti 2 rupees\r\n\r\n    110000\r\n\r\n    110147\r\n    \r\n","title":"Converting words to numbers in Java","body":"<p>I have done another implementation of the same using HashMap to store the numbers and avoiding <code>if else</code> in a statement.</p>\n<p>Assumptions:\nNegative numbers not handled</p>\n<p>Code:</p>\n<pre><code>import java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class TranslateSentenceTonumber2 {\n\npublic static void main(String[] args) {\n    initFIRSTTWENTY();\n\n    String sentence1 = &quot;I have twenty thousand twenti two rupees&quot;;\n    translateNumber(sentence1);\n  \n    String sentence4 = &quot;one hundred ten thousand&quot;;\n    translateNumber(sentence4);\n\n    String sentence5 = &quot;one hundred forty seven&quot;;\n    translateNumber(sentence4 + &quot; &quot; +sentence5);\n}\n\nprivate static HashMap&lt;String, Integer&gt; FIRSTTWENTY;\n\nprivate static final String SPACES_SPLIT = &quot;\\\\s+&quot;;\n\nprivate static void translateNumber(String playSentence){\n    String sentence = playSentence;\n    HashMap&lt;String, Long&gt; CALCULATION = new HashMap&lt;&gt;();\n    Set&lt;String &gt; ALLOWED = new HashSet&lt;&gt;(FIRSTTWENTY.keySet());\n    ALLOWED.add(&quot;hundred&quot;);\n    ALLOWED.add(&quot;thousand&quot;);\n    ALLOWED.add(&quot;million&quot;);\n    if (sentence != null &amp;&amp; sentence.length() &gt;0) {\n        sentence = sentence.replace(&quot;-&quot;, &quot; &quot;);\n        String [] splittedString = sentence.split(SPACES_SPLIT);\n        String continuousString = &quot;&quot;;\n        int length = splittedString.length;\n        for (int i=0; i&lt;length; i++){\n            String str  = splittedString[i];\n            if (ALLOWED.contains(str.toLowerCase()) &amp;&amp; !continuousString.trim().equalsIgnoreCase(str)){\n                continuousString = continuousString.trim() + &quot; &quot; + str;\n                if (i== length-1){\n                    CALCULATION.put(continuousString.trim(), null);\n                    continuousString = &quot;&quot;;\n                }\n            }\n            if (!ALLOWED.contains(str.toLowerCase()) &amp;&amp; !continuousString.trim().isEmpty()) {\n                CALCULATION.put(continuousString.trim(), null);\n                continuousString = &quot;&quot;;\n            }\n        }\n\n        CALCULATION.replaceAll((c, v) -&gt; calculation(c));\n\n        for(String calc : CALCULATION.keySet()){\n            playSentence = playSentence.replace(calc, &quot;&quot; +CALCULATION.get(calc));\n        }\n        System.out.println(playSentence);\n    }\n}\n\nprivate static long calculation(String input){\n    long inBetweenCalculation = 0;\n    long output = 0;\n    if (input != null &amp;&amp; !input.isEmpty()) {\n        String [] array = input.split(SPACES_SPLIT);\n        for (String str: array) {\n            if (FIRSTTWENTY.containsKey(str.toLowerCase())) {\n                inBetweenCalculation += FIRSTTWENTY.get(str.toLowerCase());\n            } else if (&quot;hundred&quot;.equalsIgnoreCase(str)) {\n                inBetweenCalculation *= 100;\n            } else if (&quot;thousand&quot;.equalsIgnoreCase(str)) {\n                inBetweenCalculation *= 1000;\n                output += inBetweenCalculation;\n                inBetweenCalculation = 0;\n            } else if (&quot;million&quot;.equalsIgnoreCase(str)) {\n                inBetweenCalculation *= 1000000;\n                output += inBetweenCalculation;\n                inBetweenCalculation = 0;\n            }\n        }\n        output += inBetweenCalculation;\n    }\n    return output;\n}\n\n\nprivate static void initFIRSTTWENTY(){\n    FIRSTTWENTY = new HashMap&lt;&gt;();\n    FIRSTTWENTY.put(&quot;zero&quot;, 0);\n    FIRSTTWENTY.put(&quot;one&quot;, 1);FIRSTTWENTY.put(&quot;eleven&quot;, 11);\n    FIRSTTWENTY.put(&quot;two&quot;, 2);FIRSTTWENTY.put(&quot;twelve&quot;, 12);\n    FIRSTTWENTY.put(&quot;three&quot;, 3);FIRSTTWENTY.put(&quot;thirteen&quot;, 13);\n    FIRSTTWENTY.put(&quot;four&quot;, 4);FIRSTTWENTY.put(&quot;fourteen&quot;, 14);\n    FIRSTTWENTY.put(&quot;five&quot;, 5);FIRSTTWENTY.put(&quot;fifteen&quot;, 15);\n    FIRSTTWENTY.put(&quot;six&quot;, 6);FIRSTTWENTY.put(&quot;sixteen&quot;, 16);\n    FIRSTTWENTY.put(&quot;seven&quot;, 7);FIRSTTWENTY.put(&quot;seventeen&quot;, 17);\n    FIRSTTWENTY.put(&quot;eight&quot;, 8);FIRSTTWENTY.put(&quot;eighteen&quot;, 18);\n    FIRSTTWENTY.put(&quot;nine&quot;, 9);FIRSTTWENTY.put(&quot;nineteen&quot;, 19);\n    FIRSTTWENTY.put(&quot;ten&quot;, 10);FIRSTTWENTY.put(&quot;twenty&quot;, 20);\n    FIRSTTWENTY.put(&quot;thirty&quot;, 30);FIRSTTWENTY.put(&quot;forty&quot;, 40);\n    FIRSTTWENTY.put(&quot;fifty&quot;, 50);FIRSTTWENTY.put(&quot;sixty&quot;, 60);\n    FIRSTTWENTY.put(&quot;seventy&quot;, 70);FIRSTTWENTY.put(&quot;eighty&quot;, 80);\n    FIRSTTWENTY.put(&quot;ninety&quot;, 90);\n}\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>I have 20000 twenti 2 rupees\n\n110000\n\n110147\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15356519,"reputation":1,"user_id":11078658,"display_name":"meghana anahgem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614798827,"creation_date":1614795535,"answer_id":66462690,"question_id":26948858,"body_markdown":"Works for lakhs and crores and ignores &quot;and&quot; .Doesn&#39;t handle\r\n1. Invalid cases like &quot;eight &quot;and&quot; crores&quot;.\r\n2. Inputs like &quot; fifty billion crores&quot;\r\n```\r\n    boolean isValidInput = true;\r\n    long result = 0;\r\n    long finalResult = 0;\r\n    List&lt;String&gt; allowedStrings = Arrays.asList\r\n    (\r\n    &quot;zero&quot;,&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,\r\n    &quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;,&quot;eleven&quot;,&quot;twelve&quot;,&quot;thirteen&quot;,&quot;fourteen&quot;,\r\n    &quot;fifteen&quot;,&quot;sixteen&quot;,&quot;seventeen&quot;,&quot;eighteen&quot;,&quot;nineteen&quot;,&quot;twenty&quot;,\r\n    &quot;thirty&quot;,&quot;forty&quot;,&quot;fifty&quot;,&quot;sixty&quot;,&quot;seventy&quot;,&quot;eighty&quot;,&quot;ninety&quot;,\r\n    &quot;hundred&quot;,&quot;lakhs&quot;,&quot;lakh&quot;,&quot;thousand&quot;,&quot;crore&quot;,&quot;crores&quot;,&quot;and&quot;,\r\n    &quot;million&quot;,&quot;billion&quot;,&quot;trillion&quot;\r\n    );\r\n\r\n    //String input=&quot;one hundred&quot;;\r\n    String input = String.join(&quot; &quot;, args);\r\n    if(input != null &amp;&amp; input.length()&gt; 0)\r\n    {\r\n        input = input.replaceAll(&quot;-&quot;, &quot; &quot;);\r\n        input = input.toLowerCase().replaceAll(&quot; and&quot;, &quot; &quot;);\r\n        String[] splittedParts = input.trim().split(&quot;\\\\s+&quot;);\r\n\r\n        for(String str : splittedParts)\r\n        {\r\n            if(!allowedStrings.contains(str))\r\n            {\r\n                isValidInput = false;\r\n                System.out.println(&quot;Invalid word found : &quot;+str);\r\n                break;\r\n            }\r\n        }\r\n        if(isValidInput)\r\n        {\r\n            for(String str : splittedParts)\r\n            {\r\n                String compare=str.toLowerCase();\r\n                switch(compare){\r\n                case &quot;and&quot;:break;\r\n                case &quot;zero&quot;:result += 0;\r\n                            break;\r\n                case &quot;one&quot;:result += 1;\r\n                           break;\r\n                \r\n                case &quot;two&quot;:result += 2;\r\n                           break;\r\n                case &quot;three&quot;:result += 3;\r\n                           break;\r\n                case &quot;four&quot;:result += 4;\r\n                           break; \r\n                case &quot;five&quot;:result += 5;\r\n                           break;  \r\n                case &quot;six&quot;:result += 6;\r\n                           break;\r\n                case &quot;seven&quot;:result += 7;\r\n                           break;\r\n                case &quot;eight&quot;:result += 8;\r\n                           break;\r\n                case &quot;nine&quot;:result += 9;\r\n                           break;\r\n                case &quot;ten&quot;:result += 10;\r\n                           break;\r\n                case &quot;eleven&quot;:result += 11;\r\n                           break;\r\n                case &quot;twelve&quot;:result += 12;\r\n                           break;\r\n                case &quot;thirteen&quot;:result += 13;\r\n                           break;\r\n                case &quot;fourteen&quot;:result += 14;\r\n                           break;\r\n                case &quot;fifteen&quot;:result += 15;\r\n                           break;\r\n                case &quot;sixteen&quot;:result += 16;\r\n                           break;\r\n                case &quot;seventeen&quot;:result += 17;\r\n                           break;\r\n                case &quot;eighteen&quot;:result += 18;\r\n                           break;\r\n                case &quot;nineteen&quot;:result += 19;\r\n                           break;\r\n                case &quot;twenty&quot;:result += 20;\r\n                           break;\r\n                case &quot;thirty&quot;:result += 30;\r\n                           break;\r\n                case &quot;forty&quot;:result += 40;\r\n                           break;\r\n                case &quot;fifty&quot;:result += 50;\r\n                           break;\r\n                case &quot;sixty&quot;:result += 60;\r\n                           break;\r\n                case &quot;seventy&quot;:result += 70;\r\n                           break;\r\n                case &quot;eighty&quot;:result += 80;\r\n                           break;\r\n                case &quot;ninety&quot;:result += 90;\r\n                           break;\r\n                case &quot;hundred&quot;:result *= 100;\r\n                           break;\r\n                case &quot;thousand&quot;:result *= 1000;\r\n                           finalResult += result;\r\n                           result=0;\r\n                           break;\r\n                case &quot;lakh&quot;:result *= 100000;\r\n                           finalResult += result;\r\n                           result=0;\r\n                           break;\r\n                case &quot;lakhs&quot;:result *= 100000;\r\n                           finalResult += result;\r\n                           result=0;\r\n                           break;\r\n                case &quot;crore&quot;:result *= 10000000;\r\n                           finalResult += result;\r\n                           result=0;\r\n                           break;   \r\n                case &quot;crores&quot;:result *= 10000000;\r\n                           finalResult += result;\r\n                           result=0;\r\n                           break;\r\n                case &quot;million&quot;:result *= 1000000;\r\n                           finalResult += result;\r\n                           result=0;\r\n                           break;\r\n                case &quot;billion&quot;:result *= 1000000000;\r\n                           finalResult += result;\r\n                           result=0;\r\n                           break;\r\n                case &quot;trillion&quot;:result *= 1000000000000L;\r\n                           finalResult += result;\r\n                           result=0;\r\n                           break;\r\n                }\r\n            }\r\n\r\n            finalResult += result;\r\n            result=0;\r\n            System.out.println(finalResult);\r\n        }\r\n    }\r\n ```\r\n\r\n","title":"Converting words to numbers in Java","body":"<p>Works for lakhs and crores and ignores &quot;and&quot; .Doesn't handle</p>\n<ol>\n<li>Invalid cases like &quot;eight &quot;and&quot; crores&quot;.</li>\n<li>Inputs like &quot; fifty billion crores&quot;</li>\n</ol>\n<pre><code>    boolean isValidInput = true;\n    long result = 0;\n    long finalResult = 0;\n    List&lt;String&gt; allowedStrings = Arrays.asList\n    (\n    &quot;zero&quot;,&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,\n    &quot;eight&quot;,&quot;nine&quot;,&quot;ten&quot;,&quot;eleven&quot;,&quot;twelve&quot;,&quot;thirteen&quot;,&quot;fourteen&quot;,\n    &quot;fifteen&quot;,&quot;sixteen&quot;,&quot;seventeen&quot;,&quot;eighteen&quot;,&quot;nineteen&quot;,&quot;twenty&quot;,\n    &quot;thirty&quot;,&quot;forty&quot;,&quot;fifty&quot;,&quot;sixty&quot;,&quot;seventy&quot;,&quot;eighty&quot;,&quot;ninety&quot;,\n    &quot;hundred&quot;,&quot;lakhs&quot;,&quot;lakh&quot;,&quot;thousand&quot;,&quot;crore&quot;,&quot;crores&quot;,&quot;and&quot;,\n    &quot;million&quot;,&quot;billion&quot;,&quot;trillion&quot;\n    );\n\n    //String input=&quot;one hundred&quot;;\n    String input = String.join(&quot; &quot;, args);\n    if(input != null &amp;&amp; input.length()&gt; 0)\n    {\n        input = input.replaceAll(&quot;-&quot;, &quot; &quot;);\n        input = input.toLowerCase().replaceAll(&quot; and&quot;, &quot; &quot;);\n        String[] splittedParts = input.trim().split(&quot;\\\\s+&quot;);\n\n        for(String str : splittedParts)\n        {\n            if(!allowedStrings.contains(str))\n            {\n                isValidInput = false;\n                System.out.println(&quot;Invalid word found : &quot;+str);\n                break;\n            }\n        }\n        if(isValidInput)\n        {\n            for(String str : splittedParts)\n            {\n                String compare=str.toLowerCase();\n                switch(compare){\n                case &quot;and&quot;:break;\n                case &quot;zero&quot;:result += 0;\n                            break;\n                case &quot;one&quot;:result += 1;\n                           break;\n                \n                case &quot;two&quot;:result += 2;\n                           break;\n                case &quot;three&quot;:result += 3;\n                           break;\n                case &quot;four&quot;:result += 4;\n                           break; \n                case &quot;five&quot;:result += 5;\n                           break;  \n                case &quot;six&quot;:result += 6;\n                           break;\n                case &quot;seven&quot;:result += 7;\n                           break;\n                case &quot;eight&quot;:result += 8;\n                           break;\n                case &quot;nine&quot;:result += 9;\n                           break;\n                case &quot;ten&quot;:result += 10;\n                           break;\n                case &quot;eleven&quot;:result += 11;\n                           break;\n                case &quot;twelve&quot;:result += 12;\n                           break;\n                case &quot;thirteen&quot;:result += 13;\n                           break;\n                case &quot;fourteen&quot;:result += 14;\n                           break;\n                case &quot;fifteen&quot;:result += 15;\n                           break;\n                case &quot;sixteen&quot;:result += 16;\n                           break;\n                case &quot;seventeen&quot;:result += 17;\n                           break;\n                case &quot;eighteen&quot;:result += 18;\n                           break;\n                case &quot;nineteen&quot;:result += 19;\n                           break;\n                case &quot;twenty&quot;:result += 20;\n                           break;\n                case &quot;thirty&quot;:result += 30;\n                           break;\n                case &quot;forty&quot;:result += 40;\n                           break;\n                case &quot;fifty&quot;:result += 50;\n                           break;\n                case &quot;sixty&quot;:result += 60;\n                           break;\n                case &quot;seventy&quot;:result += 70;\n                           break;\n                case &quot;eighty&quot;:result += 80;\n                           break;\n                case &quot;ninety&quot;:result += 90;\n                           break;\n                case &quot;hundred&quot;:result *= 100;\n                           break;\n                case &quot;thousand&quot;:result *= 1000;\n                           finalResult += result;\n                           result=0;\n                           break;\n                case &quot;lakh&quot;:result *= 100000;\n                           finalResult += result;\n                           result=0;\n                           break;\n                case &quot;lakhs&quot;:result *= 100000;\n                           finalResult += result;\n                           result=0;\n                           break;\n                case &quot;crore&quot;:result *= 10000000;\n                           finalResult += result;\n                           result=0;\n                           break;   \n                case &quot;crores&quot;:result *= 10000000;\n                           finalResult += result;\n                           result=0;\n                           break;\n                case &quot;million&quot;:result *= 1000000;\n                           finalResult += result;\n                           result=0;\n                           break;\n                case &quot;billion&quot;:result *= 1000000000;\n                           finalResult += result;\n                           result=0;\n                           break;\n                case &quot;trillion&quot;:result *= 1000000000000L;\n                           finalResult += result;\n                           result=0;\n                           break;\n                }\n            }\n\n            finalResult += result;\n            result=0;\n            System.out.println(finalResult);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1426019,"reputation":4217,"user_id":1356883,"display_name":"kofemann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631789234,"creation_date":1631789234,"answer_id":69207069,"question_id":26948858,"body_markdown":"an alternative :)\r\n\r\n    enum numbers {\r\n        zero,\r\n        one,\r\n        two,\r\n        three,\r\n        four,\r\n        five,\r\n        six,\r\n        eight,\r\n        nine\r\n    }\r\n\r\n    public static String parseNumbers(String text) {\r\n\r\n        String out = &quot;&quot;;\r\n        for(String s: text.split(&quot; &quot;)) {\r\n            out += numbers.valueOf(s).ordinal();\r\n        }\r\n        return out;\r\n    }","title":"Converting words to numbers in Java","body":"<p>an alternative :)</p>\n<pre><code>enum numbers {\n    zero,\n    one,\n    two,\n    three,\n    four,\n    five,\n    six,\n    eight,\n    nine\n}\n\npublic static String parseNumbers(String text) {\n\n    String out = &quot;&quot;;\n    for(String s: text.split(&quot; &quot;)) {\n        out += numbers.valueOf(s).ordinal();\n    }\n    return out;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2459367,"reputation":1439,"user_id":2143846,"accept_rate":77,"display_name":"Yuval Simhon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653889744,"creation_date":1653889744,"answer_id":72429660,"question_id":26948858,"body_markdown":"I&#39;ve ended up with this solution.\r\nIt&#39;s for numbers between zero to one million (can be enhanced easily), can support dash / and / just numbers.\r\n\r\n    public int parseInt(String number) {\r\n\t    //Edge cases\r\n\t\tif(&quot;one million&quot;.equals(number)) return 1000000;\r\n\t\tif(&quot;zero&quot;.equals(number)) return 0;\r\n\t    \r\n\t\tString[] splitted = number.split(&quot;thousand&quot;);\r\n\t\tString hundreds = splitted.length == 1 ? splitted[0].trim() : splitted[1].trim();\r\n\t\t\r\n\t\tint resultRight = calculateTriplet(hundreds);\r\n\t    \r\n\t    //X thousand case\r\n\t    if(splitted.length == 1) {\r\n\t    \tif(number.contains(&quot;thousand&quot;))\r\n\t    \t\treturn resultRight*1000;\r\n\t    \treturn resultRight;\r\n\t    }\r\n\t    \r\n\t    String thous = splitted[0].trim();\r\n\t    int resultLeft = calculateTriplet(thous) * 1000;\r\n\t    \r\n\t    return resultLeft+resultRight;\r\n\t}\r\n\r\n\tprivate int calculateTriplet(String hundreds) {\r\n\t\tString[] triplet = hundreds.split(&quot; |-&quot;);\r\n\t\tint result = 0;\r\n\t\tfor (int i=0;i&lt;triplet.length;i++) {\r\n\t    \tresult *= triplet[i].equals(&quot;hundred&quot;) ? 100 : 1;\r\n\t    \tresult += upTo19.indexOf(triplet[i]) != -1 ? \r\n\t    \t\t\tupTo19.indexOf(triplet[i]) \r\n\t    \t\t\t: tens.indexOf(triplet[i]) != -1 ?\r\n\t    \t\t\t\t\ttens.indexOf(triplet[i])*10 :\r\n\t    \t\t\t\t\t\t0;\r\n\t    }\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\t  private static final List&lt;String&gt; tens = new ArrayList&lt;String&gt; (Arrays.asList(\r\n\t\t\t    &quot;&quot;,&quot;ten&quot;,&quot;twenty&quot;,&quot;thirty&quot;,&quot;forty&quot;,&quot;fifty&quot;,&quot;sixty&quot;,&quot;seventy&quot;,&quot;eighty&quot;,&quot;ninety&quot;));\r\n\t\r\n\t private static final List&lt;String&gt; upTo19 = new ArrayList&lt;String&gt; (Arrays.asList(\r\n\t\t\t    &quot;&quot;,&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;, &quot;ten&quot;,&quot;eleven&quot;,&quot;twelve&quot;,&quot;thirteen&quot;,\r\n\t\t\t    &quot;fourteen&quot;,&quot;fifteen&quot;,&quot;sixteen&quot;,&quot;seventeen&quot;,&quot;eighteen&quot;,&quot;nineteen&quot;));","title":"Converting words to numbers in Java","body":"<p>I've ended up with this solution.\nIt's for numbers between zero to one million (can be enhanced easily), can support dash / and / just numbers.</p>\n<pre><code>public int parseInt(String number) {\n    //Edge cases\n    if(&quot;one million&quot;.equals(number)) return 1000000;\n    if(&quot;zero&quot;.equals(number)) return 0;\n    \n    String[] splitted = number.split(&quot;thousand&quot;);\n    String hundreds = splitted.length == 1 ? splitted[0].trim() : splitted[1].trim();\n    \n    int resultRight = calculateTriplet(hundreds);\n    \n    //X thousand case\n    if(splitted.length == 1) {\n        if(number.contains(&quot;thousand&quot;))\n            return resultRight*1000;\n        return resultRight;\n    }\n    \n    String thous = splitted[0].trim();\n    int resultLeft = calculateTriplet(thous) * 1000;\n    \n    return resultLeft+resultRight;\n}\n\nprivate int calculateTriplet(String hundreds) {\n    String[] triplet = hundreds.split(&quot; |-&quot;);\n    int result = 0;\n    for (int i=0;i&lt;triplet.length;i++) {\n        result *= triplet[i].equals(&quot;hundred&quot;) ? 100 : 1;\n        result += upTo19.indexOf(triplet[i]) != -1 ? \n                upTo19.indexOf(triplet[i]) \n                : tens.indexOf(triplet[i]) != -1 ?\n                        tens.indexOf(triplet[i])*10 :\n                            0;\n    }\n    return result;\n}\n\n  private static final List&lt;String&gt; tens = new ArrayList&lt;String&gt; (Arrays.asList(\n            &quot;&quot;,&quot;ten&quot;,&quot;twenty&quot;,&quot;thirty&quot;,&quot;forty&quot;,&quot;fifty&quot;,&quot;sixty&quot;,&quot;seventy&quot;,&quot;eighty&quot;,&quot;ninety&quot;));\n\n private static final List&lt;String&gt; upTo19 = new ArrayList&lt;String&gt; (Arrays.asList(\n            &quot;&quot;,&quot;one&quot;,&quot;two&quot;,&quot;three&quot;,&quot;four&quot;,&quot;five&quot;,&quot;six&quot;,&quot;seven&quot;,&quot;eight&quot;,&quot;nine&quot;, &quot;ten&quot;,&quot;eleven&quot;,&quot;twelve&quot;,&quot;thirteen&quot;,\n            &quot;fourteen&quot;,&quot;fifteen&quot;,&quot;sixteen&quot;,&quot;seventeen&quot;,&quot;eighteen&quot;,&quot;nineteen&quot;));\n</code></pre>\n"}],"owner":{"account_id":4256320,"reputation":1582,"user_id":3481932,"display_name":"Ali Elzoheiry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28322,"favorite_count":0,"down_vote_count":1,"up_vote_count":17,"accepted_answer_id":26951693,"answer_count":9,"score":16,"last_activity_date":1653889744,"creation_date":1416073895,"question_id":26948858,"body_markdown":"I have seen a lot of algorithms in which you give them a number say &quot;123&quot; and it converts it to One hundred twenty three. But I can&#39;t seem to find something that does the opposite, and the ones I did find only do it up to the number 1000. Can anyone direct me in the correct way as what I could do to create a method that takes &quot;One thousand two hundred and thirty four&quot; and gives back &quot;1234&quot; ","title":"Converting words to numbers in Java","body":"<p>I have seen a lot of algorithms in which you give them a number say &quot;123&quot; and it converts it to One hundred twenty three. But I can't seem to find something that does the opposite, and the ones I did find only do it up to the number 1000. Can anyone direct me in the correct way as what I could do to create a method that takes &quot;One thousand two hundred and thirty four&quot; and gives back &quot;1234&quot;</p>\n"},{"tags":["java","git","jgit"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1435857358,"creation_date":1349382726,"answer_id":12735412,"question_id":12734760,"body_markdown":"One easy way to debug this is to look at the tests of the [AddCommand][1] in the [JGit repo][5]: [`AddCommandTest.java`][2]\r\n\r\nYou will see that in order to add all files the pattern &quot;`*`&quot; is never used, but &quot;`.`&quot; is.  \r\nAnd it is used in the test function named... [`testAddWholeRepo()`][3](!)\r\n\r\n    git.add().addFilepattern(&quot;.&quot;).call();\r\n\r\nThe Exception:\r\n\r\n    Exception in thread &quot;main&quot; org.eclipse.jgit.errors.NoWorkTreeException: \r\n    Bare Repository has neither a working tree, nor an index\r\n\r\nis quite explicit: you need to add file in a non-bare repo.\r\n  \r\nSee [test method `testCloneRepository()`][4] to compare with your own clone, and see if there is any difference.\r\n\r\n\r\n  [1]: https://github.com/eclipse/jgit/blob/master/org.eclipse.jgit/src/org/eclipse/jgit/api/AddCommand.java\r\n  [2]: https://github.com/eclipse/jgit/blob/master/org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java\r\n  [3]: https://github.com/eclipse/jgit/blob/master/org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java#L436-L456\r\n  [4]: https://github.com/eclipse/jgit/blob/master/org.eclipse.jgit.test/tst/org/eclipse/jgit/api/CloneCommandTest.java#L106-132\r\n  [5]:https://github.com/eclipse/jgit","title":"jGit - how to add all files to staging area","body":"<p>One easy way to debug this is to look at the tests of the <a href=\"https://github.com/eclipse/jgit/blob/master/org.eclipse.jgit/src/org/eclipse/jgit/api/AddCommand.java\" rel=\"noreferrer\">AddCommand</a> in the <a href=\"https://github.com/eclipse/jgit\" rel=\"noreferrer\">JGit repo</a>: <a href=\"https://github.com/eclipse/jgit/blob/master/org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java\" rel=\"noreferrer\"><code>AddCommandTest.java</code></a></p>\n\n<p>You will see that in order to add all files the pattern \"<code>*</code>\" is never used, but \"<code>.</code>\" is.<br>\nAnd it is used in the test function named... <a href=\"https://github.com/eclipse/jgit/blob/master/org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java#L436-L456\" rel=\"noreferrer\"><code>testAddWholeRepo()</code></a>(!)</p>\n\n<pre><code>git.add().addFilepattern(\".\").call();\n</code></pre>\n\n<p>The Exception:</p>\n\n<pre><code>Exception in thread \"main\" org.eclipse.jgit.errors.NoWorkTreeException: \nBare Repository has neither a working tree, nor an index\n</code></pre>\n\n<p>is quite explicit: you need to add file in a non-bare repo.</p>\n\n<p>See <a href=\"https://github.com/eclipse/jgit/blob/master/org.eclipse.jgit.test/tst/org/eclipse/jgit/api/CloneCommandTest.java#L106-132\" rel=\"noreferrer\">test method <code>testCloneRepository()</code></a> to compare with your own clone, and see if there is any difference.</p>\n"},{"tags":[],"owner":{"account_id":8648710,"reputation":11,"user_id":6475138,"display_name":"jbusick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1466089957,"creation_date":1466086901,"answer_id":37861948,"question_id":12734760,"body_markdown":"It might be the wildcard, I just read the javadoc for the add command, looks like you send the name of a directory in order to add its contents not a wild card:\r\n\r\n\r\n    addFilepattern\r\n\r\n    public AddCommand addFilepattern(String filepattern)\r\n\r\nParameters: `filepattern` - File to add content from. **Also a leading directory \r\n    name (e.g. dir to add `dir/file1` and `dir/file2`) can be given to add all\r\n     files in the directory**, recursively. **Fileglobs (e.g. `*.c`) are not yet\r\n     supported.** \r\n  \r\n","title":"jGit - how to add all files to staging area","body":"<p>It might be the wildcard, I just read the javadoc for the add command, looks like you send the name of a directory in order to add its contents not a wild card:</p>\n\n<pre><code>addFilepattern\n\npublic AddCommand addFilepattern(String filepattern)\n</code></pre>\n\n<p>Parameters: <code>filepattern</code> - File to add content from. <strong>Also a leading directory \n    name (e.g. dir to add <code>dir/file1</code> and <code>dir/file2</code>) can be given to add all\n     files in the directory</strong>, recursively. <strong>Fileglobs (e.g. <code>*.c</code>) are not yet\n     supported.</strong> </p>\n"},{"tags":[],"owner":{"account_id":2582468,"reputation":982,"user_id":2238830,"display_name":"hipsandy"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1479260527,"creation_date":1479257451,"answer_id":40622293,"question_id":12734760,"body_markdown":"I had a situation where I had to move a file f1 from the current directory to another directory called &#39;temp&#39;. After moving the file, calling git.add().addFilePattern(&quot;.&quot;).call() acted in a weird way since git status gave the following result:\r\n\r\n    Changes to be committed:\r\n      (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)\r\n    \r\n    \tnew file:   temp/f1.html\r\n    \r\n    Changes not staged for commit:\r\n      (use &quot;git add/rm &lt;file&gt;...&quot; to update what will be committed)\r\n      (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)\r\n    \r\n    \tdeleted:    f1.html\r\n\r\nIt recognized that a new file temp/f1 was created but didn&#39;t detect that the file was deleted first. This was perhaps because moving the file can be seen as follows\r\n\r\n - Deleting/Cutting the file f1\r\n - Creating a folder called temp\r\n - Creating/Pasting the file f1\r\n\r\n\r\nThen I came across the `setUpdate(true)` that looks for updates to files that are already being tracked and will not stage new files. (Check java-doc for more info)\r\n\r\nSo I had to change my code to two lines like so in order for git to recognize both files added and modified (which includes deletion):\r\n\r\n    git.add().addFilepattern(&quot;.&quot;).call();\r\n    git.add().setUpdate(true).addFilepattern(&quot;.&quot;).call();\r\n\r\ngit status now gives the expected result:\r\n\r\n    renamed:    f1.hml -&gt; temp/f1.html\r\n\r\n","title":"jGit - how to add all files to staging area","body":"<p>I had a situation where I had to move a file f1 from the current directory to another directory called 'temp'. After moving the file, calling git.add().addFilePattern(\".\").call() acted in a weird way since git status gave the following result:</p>\n\n<pre><code>Changes to be committed:\n  (use \"git reset HEAD &lt;file&gt;...\" to unstage)\n\n    new file:   temp/f1.html\n\nChanges not staged for commit:\n  (use \"git add/rm &lt;file&gt;...\" to update what will be committed)\n  (use \"git checkout -- &lt;file&gt;...\" to discard changes in working directory)\n\n    deleted:    f1.html\n</code></pre>\n\n<p>It recognized that a new file temp/f1 was created but didn't detect that the file was deleted first. This was perhaps because moving the file can be seen as follows</p>\n\n<ul>\n<li>Deleting/Cutting the file f1</li>\n<li>Creating a folder called temp</li>\n<li>Creating/Pasting the file f1</li>\n</ul>\n\n<p>Then I came across the <code>setUpdate(true)</code> that looks for updates to files that are already being tracked and will not stage new files. (Check java-doc for more info)</p>\n\n<p>So I had to change my code to two lines like so in order for git to recognize both files added and modified (which includes deletion):</p>\n\n<pre><code>git.add().addFilepattern(\".\").call();\ngit.add().setUpdate(true).addFilepattern(\".\").call();\n</code></pre>\n\n<p>git status now gives the expected result:</p>\n\n<pre><code>renamed:    f1.hml -&gt; temp/f1.html\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21543751,"reputation":1,"user_id":15880997,"display_name":"LeDevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653889712,"creation_date":1653889712,"answer_id":72429655,"question_id":12734760,"body_markdown":"Just to make a note about a problem i got where i was using File.separatorChar (Wich will give you either &quot;/&quot; or &quot;\\\\&quot; depending on your OS) to change directory but actually jgit use only &quot;/&quot; and will do the job himself if you use separatorChar it will not work on windows.","title":"jGit - how to add all files to staging area","body":"<p>Just to make a note about a problem i got where i was using File.separatorChar (Wich will give you either &quot;/&quot; or &quot;\\&quot; depending on your OS) to change directory but actually jgit use only &quot;/&quot; and will do the job himself if you use separatorChar it will not work on windows.</p>\n"}],"owner":{"account_id":175178,"reputation":20166,"user_id":405013,"accept_rate":100,"display_name":"caarlos0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18067,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":12735412,"answer_count":4,"score":21,"last_activity_date":1653889712,"creation_date":1349380030,"question_id":12734760,"body_markdown":"I tried in a lot of ways to clone a repo with jGit (it works).\r\nThen, I write some archive in the repository, and tried to add all (a `git add *`, `git add -A` or something like it).. but it don&#39;t work. The files simple are not added to the staging area.\r\n\r\nMy code is like this:\r\n\r\n        FileRepositoryBuilder builder = new FileRepositoryBuilder();\r\n\t\tRepository repository = builder.setGitDir(new File(folder))\r\n\t\t\t\t.readEnvironment().findGitDir().setup().build();\r\n\t\tCloneCommand clone = Git.cloneRepository();\r\n\t\tclone.setBare(false).setCloneAllBranches(true);\r\n\t\tclone.setDirectory(f).setURI(&quot;git@192.168.2.43:test.git&quot;);\r\n\t\ttry {\r\n\t\t\tclone.call();\r\n\t\t} catch (GitAPIException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tFiles.write(&quot;testing it...&quot;, new File(folder + &quot;/test2.txt&quot;),\r\n\t\t\t\tCharsets.UTF_8);\r\n\t\tGit g = new Git(repository);\r\n\t\tg.add().addFilepattern(&quot;*&quot;).call();\r\n\r\nWhat am I doing wrong?\r\nThanks.\r\n\r\n\r\n---------------\r\n\r\nException while trying what with addFilePattern(&quot;.&quot;):\r\n\r\n    Exception in thread &quot;main&quot; org.eclipse.jgit.errors.NoWorkTreeException: Bare Repository has neither a working tree, nor an index\r\n    \tat org.eclipse.jgit.lib.Repository.getIndexFile(Repository.java:850)\r\n    \tat org.eclipse.jgit.dircache.DirCache.lock(DirCache.java:264)\r\n    \tat org.eclipse.jgit.lib.Repository.lockDirCache(Repository.java:906)\r\n    \tat org.eclipse.jgit.api.AddCommand.call(AddCommand.java:138)\r\n    \tat net.ciphersec.git.GitTests.main(GitTests.java:110)\r\n\r\n","title":"jGit - how to add all files to staging area","body":"<p>I tried in a lot of ways to clone a repo with jGit (it works).\nThen, I write some archive in the repository, and tried to add all (a <code>git add *</code>, <code>git add -A</code> or something like it).. but it don't work. The files simple are not added to the staging area.</p>\n\n<p>My code is like this:</p>\n\n<pre><code>    FileRepositoryBuilder builder = new FileRepositoryBuilder();\n    Repository repository = builder.setGitDir(new File(folder))\n            .readEnvironment().findGitDir().setup().build();\n    CloneCommand clone = Git.cloneRepository();\n    clone.setBare(false).setCloneAllBranches(true);\n    clone.setDirectory(f).setURI(\"git@192.168.2.43:test.git\");\n    try {\n        clone.call();\n    } catch (GitAPIException e) {\n        e.printStackTrace();\n    }\n    Files.write(\"testing it...\", new File(folder + \"/test2.txt\"),\n            Charsets.UTF_8);\n    Git g = new Git(repository);\n    g.add().addFilepattern(\"*\").call();\n</code></pre>\n\n<p>What am I doing wrong?\nThanks.</p>\n\n<hr>\n\n<p>Exception while trying what with addFilePattern(\".\"):</p>\n\n<pre><code>Exception in thread \"main\" org.eclipse.jgit.errors.NoWorkTreeException: Bare Repository has neither a working tree, nor an index\n    at org.eclipse.jgit.lib.Repository.getIndexFile(Repository.java:850)\n    at org.eclipse.jgit.dircache.DirCache.lock(DirCache.java:264)\n    at org.eclipse.jgit.lib.Repository.lockDirCache(Repository.java:906)\n    at org.eclipse.jgit.api.AddCommand.call(AddCommand.java:138)\n    at net.ciphersec.git.GitTests.main(GitTests.java:110)\n</code></pre>\n"},{"tags":["java","hibernate","java-ee-7","jpa-2.1"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653891169,"post_id":72429282,"comment_id":127952832,"body_markdown":"Does the `Order` have a list of `OrderItem`s as field? If yes, why not just merge the `Order`?","body":"Does the <code>Order</code> have a list of <code>OrderItem</code>s as field? If yes, why not just merge the <code>Order</code>?"},{"owner":{"account_id":2178904,"reputation":3532,"user_id":1928863,"accept_rate":38,"display_name":"Rui"},"score":0,"creation_date":1653891448,"post_id":72429282,"comment_id":127952889,"body_markdown":"@XtremeBaumer No, only the `OrderItem` has dependency on the `Order`, not the other way around, so it is a unidirectional dependency relatioship","body":"@XtremeBaumer No, only the <code>OrderItem</code> has dependency on the <code>Order</code>, not the other way around, so it is a unidirectional dependency relatioship"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653892020,"post_id":72429282,"comment_id":127953027,"body_markdown":"According to [this website](https://www.coderscampus.com/hibernate-manytoone-unidirectional-tutorial/), you could try to save instead of merging. This would force you to manage the insert or update yourself","body":"According to <a href=\"https://www.coderscampus.com/hibernate-manytoone-unidirectional-tutorial/\" rel=\"nofollow noreferrer\">this website</a>, you could try to save instead of merging. This would force you to manage the insert or update yourself"},{"owner":{"account_id":2178904,"reputation":3532,"user_id":1928863,"accept_rate":38,"display_name":"Rui"},"score":0,"creation_date":1653901321,"post_id":72429282,"comment_id":127955962,"body_markdown":"@XtremeBaumer Thanks a lot first for the tip. But the link you sent used the ``hibernate.SessionFactory`, so do it mean that by using `EntityManager`, I would be forced to avoid using `CascadeType.ALL` and then insert `Order` and list of `OrderItem`s separately?","body":"@XtremeBaumer Thanks a lot first for the tip. But the link you sent used the ``hibernate.SessionFactory<code>, so do it mean that by using </code>EntityManager<code>, I would be forced to avoid using </code>CascadeType.ALL` and then insert <code>Order</code> and list of <code>OrderItem</code>s separately?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1653902310,"post_id":72429282,"comment_id":127956305,"body_markdown":"[There is no difference](https://stackoverflow.com/a/5640796/7109162). `EntityManager` and `SessionFactory` work basically the same. It seems to come down to what method you call. For `EntityManager` you would probably call `persist()` method instead of the `merge()`","body":"<a href=\"https://stackoverflow.com/a/5640796/7109162\">There is no difference</a>. <code>EntityManager</code> and <code>SessionFactory</code> work basically the same. It seems to come down to what method you call. For <code>EntityManager</code> you would probably call <code>persist()</code> method instead of the <code>merge()</code>"},{"owner":{"account_id":2178904,"reputation":3532,"user_id":1928863,"accept_rate":38,"display_name":"Rui"},"score":0,"creation_date":1653903120,"post_id":72429282,"comment_id":127956596,"body_markdown":"@XtremeBaumer Did you see the error, `Unique index or primary key violation`, I mentioned in the question? So does it mean that this error is caused by the call on `merge()` and using `persist()` will prevent this error? Thanks in advance","body":"@XtremeBaumer Did you see the error, <code>Unique index or primary key violation</code>, I mentioned in the question? So does it mean that this error is caused by the call on <code>merge()</code> and using <code>persist()</code> will prevent this error? Thanks in advance"},{"owner":{"account_id":2178904,"reputation":3532,"user_id":1928863,"accept_rate":38,"display_name":"Rui"},"score":0,"creation_date":1653936174,"post_id":72429282,"comment_id":127968106,"body_markdown":"@XtremeBaumer Indeed I tried to use `persist()` instead of `merge()` and it works :) Thanks a lot. So if you answer it, I would confirm the correctness","body":"@XtremeBaumer Indeed I tried to use <code>persist()</code> instead of <code>merge()</code> and it works :) Thanks a lot. So if you answer it, I would confirm the correctness"}],"owner":{"account_id":2178904,"reputation":3532,"user_id":1928863,"accept_rate":38,"display_name":"Rui"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653889625,"creation_date":1653886126,"question_id":72429282,"body_markdown":"There are 2 related entities in a *Hibernate JPA* project:\r\n\r\n    @Entity\r\n    public class Order {\r\n        @Id @GeneratedValue(generator=&quot;order_sequence&quot;, strategy=GenerationType.IDENTITY)\r\n        private int id;\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    public class OrderItem {\r\n        @Id @GeneratedValue(generator=&quot;orderitem_sequence&quot;, strategy=GenerationType.IDENTITY)\r\n        @ManyToOne(cascade = CascadeType.ALL)\r\n        private Order order;\r\n        //....\r\n    }\r\n\r\nWith some detailed code ignored, I tried to merge a new `Order` instance with a `List` of `OrderItem` instances in *cascade* manner, i.e. `merge` the `List&lt;OrderItem&gt;` with an `EntityManager` - &quot;em&quot; in one go without `merge` the new `Order`:\r\n\r\n    for (OrderItem orderItem: orderItemList) {\r\n        em.merge(orderItem);\r\n    }\r\n\r\nBut encountered error when the size of the `List&lt;OrderItem&gt;` is greater than 1: `Unique index or primary key violation` since the same `Order` is merged multiple times when merging each `Order` instance.\r\n\r\n**Question: How to resolve this error without merge the Order instance explicitly as a separate `merge`?**","title":"How to persist multiple new entity instances belonging to one common entity instance in one go","body":"<p>There are 2 related entities in a <em>Hibernate JPA</em> project:</p>\n<pre><code>@Entity\npublic class Order {\n    @Id @GeneratedValue(generator=&quot;order_sequence&quot;, strategy=GenerationType.IDENTITY)\n    private int id;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\npublic class OrderItem {\n    @Id @GeneratedValue(generator=&quot;orderitem_sequence&quot;, strategy=GenerationType.IDENTITY)\n    @ManyToOne(cascade = CascadeType.ALL)\n    private Order order;\n    //....\n}\n</code></pre>\n<p>With some detailed code ignored, I tried to merge a new <code>Order</code> instance with a <code>List</code> of <code>OrderItem</code> instances in <em>cascade</em> manner, i.e. <code>merge</code> the <code>List&lt;OrderItem&gt;</code> with an <code>EntityManager</code> - &quot;em&quot; in one go without <code>merge</code> the new <code>Order</code>:</p>\n<pre><code>for (OrderItem orderItem: orderItemList) {\n    em.merge(orderItem);\n}\n</code></pre>\n<p>But encountered error when the size of the <code>List&lt;OrderItem&gt;</code> is greater than 1: <code>Unique index or primary key violation</code> since the same <code>Order</code> is merged multiple times when merging each <code>Order</code> instance.</p>\n<p><strong>Question: How to resolve this error without merge the Order instance explicitly as a separate <code>merge</code>?</strong></p>\n"},{"tags":["java","spring","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1653650573,"post_id":72404410,"comment_id":127907823,"body_markdown":"Can you add more clarification of query and response ? why `&quot;name&quot;: &quot;acbs&quot;` is not coming in response ?","body":"Can you add more clarification of query and response ? why <code>&quot;name&quot;: &quot;acbs&quot;</code> is not coming in response ?"},{"owner":{"account_id":12960742,"reputation":1,"user_id":9370072,"display_name":"vipin meshram"},"score":0,"creation_date":1653887623,"post_id":72404410,"comment_id":127952108,"body_markdown":"@SagarPatel I added extra explaination, Please check.","body":"@SagarPatel I added extra explaination, Please check."}],"owner":{"account_id":12960742,"reputation":1,"user_id":9370072,"display_name":"vipin meshram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653887585,"creation_date":1653649468,"question_id":72404410,"body_markdown":"This is my one elastic document example:\r\n \r\n\r\n    &quot;_source&quot;: {\r\n    \t&quot;leg_b&quot;:{\r\n                &quot;team_name&quot; : &quot;aaaa&quot;,\r\n                &quot;channel_uuid&quot; : &quot;12121&quot;\r\n    \t},\t\r\n    \twrapup&quot;:[\r\n          &quot;0&quot;:{\r\n                &quot;name&quot;: &quot;sss&quot;,\r\n                &quot;channel_uuid&quot;: &quot;12121&quot;\r\n    \t\t  },\r\n          &quot;1&quot;:{\r\n    \t\t\t&quot;name&quot;: &quot;bbb&quot;,\r\n    \t\t\t&quot;channel_uuid&quot; : &quot;21212&quot;\r\n    \t\t  },\r\n    \t  &quot;2&quot;:{\r\n    \t\t\t&quot;name&quot;: &quot;acbs&quot;,\r\n    \t\t\t&quot;channel_uuid&quot; : &quot;111211&quot;\r\n    \t\t  }\r\n    \t ]\r\n    }\r\n\t\r\nI have to perform search on &quot;leg_b.team_name&quot; value and find out its &quot;channel_uuid&quot; value on the basis of leg_b&#39;s &quot;channel_uuid&quot;,NEXT I will search in wrapup object for common &quot;channel_uuid&quot; values **in the Same Query**. \r\n\r\n**Example**,\r\nlets consider above document, First I will **search** on leg_b.team_name = &quot;aaaa&quot; after that I will take **leg_b.channel_uuid = &quot;12121&quot;** and **search** on **wrapup object channel_uuid**.\r\nExplaination:\r\nSo there are two searches are going on 1) leg_b.team_name=&quot;aaaa&quot; which returns this document and after that 2) on the returned doc which I got from 1st search, I will take its leg_b.channel_uuid to search on wrapup common channel uuid. (i.e, leg_b channel_uuid is &quot;12121&quot; so I should get &quot;wrapup&quot; channel_uuid : &quot;12121&quot; objects. It exclude &quot;acbc&quot; because its channel_uuid : &quot;111211&quot;.\r\n\r\n\tSo it should return,\r\n\t&quot;_source&quot;: {\r\n\t&quot;leg_b&quot;:{\r\n            &quot;team_name&quot; : &quot;aaaa&quot;,\r\n            &quot;channel_uuid&quot; : &quot;12121&quot;\r\n\t},\t\r\n\t&quot;wrapup&quot;:[\r\n      &quot;0&quot;:{\r\n            &quot;name&quot;: &quot;sss&quot;,\r\n            &quot;channel_uuid&quot;: &quot;12121&quot;\r\n\t\t  },\r\n      &quot;1&quot;:{\r\n\t\t\t&quot;name&quot;: &quot;bbb&quot;,\r\n\t\t\t&quot;channel_uuid&quot; : &quot;21212&quot;\r\n\t\t  }\r\n\t\t  ]\r\n\t} \r\n\r\nPlease suggest some approach, Thank you.","title":"Elasticsearch query Combine 2 queries or Elastic search Join Query","body":"<p>This is my one elastic document example:</p>\n<pre><code>&quot;_source&quot;: {\n    &quot;leg_b&quot;:{\n            &quot;team_name&quot; : &quot;aaaa&quot;,\n            &quot;channel_uuid&quot; : &quot;12121&quot;\n    },  \n    wrapup&quot;:[\n      &quot;0&quot;:{\n            &quot;name&quot;: &quot;sss&quot;,\n            &quot;channel_uuid&quot;: &quot;12121&quot;\n          },\n      &quot;1&quot;:{\n            &quot;name&quot;: &quot;bbb&quot;,\n            &quot;channel_uuid&quot; : &quot;21212&quot;\n          },\n      &quot;2&quot;:{\n            &quot;name&quot;: &quot;acbs&quot;,\n            &quot;channel_uuid&quot; : &quot;111211&quot;\n          }\n     ]\n}\n</code></pre>\n<p>I have to perform search on &quot;leg_b.team_name&quot; value and find out its &quot;channel_uuid&quot; value on the basis of leg_b's &quot;channel_uuid&quot;,NEXT I will search in wrapup object for common &quot;channel_uuid&quot; values <strong>in the Same Query</strong>.</p>\n<p><strong>Example</strong>,\nlets consider above document, First I will <strong>search</strong> on leg_b.team_name = &quot;aaaa&quot; after that I will take <strong>leg_b.channel_uuid = &quot;12121&quot;</strong> and <strong>search</strong> on <strong>wrapup object channel_uuid</strong>.\nExplaination:\nSo there are two searches are going on 1) leg_b.team_name=&quot;aaaa&quot; which returns this document and after that 2) on the returned doc which I got from 1st search, I will take its leg_b.channel_uuid to search on wrapup common channel uuid. (i.e, leg_b channel_uuid is &quot;12121&quot; so I should get &quot;wrapup&quot; channel_uuid : &quot;12121&quot; objects. It exclude &quot;acbc&quot; because its channel_uuid : &quot;111211&quot;.</p>\n<pre><code>So it should return,\n&quot;_source&quot;: {\n&quot;leg_b&quot;:{\n        &quot;team_name&quot; : &quot;aaaa&quot;,\n        &quot;channel_uuid&quot; : &quot;12121&quot;\n},  \n&quot;wrapup&quot;:[\n  &quot;0&quot;:{\n        &quot;name&quot;: &quot;sss&quot;,\n        &quot;channel_uuid&quot;: &quot;12121&quot;\n      },\n  &quot;1&quot;:{\n        &quot;name&quot;: &quot;bbb&quot;,\n        &quot;channel_uuid&quot; : &quot;21212&quot;\n      }\n      ]\n} \n</code></pre>\n<p>Please suggest some approach, Thank you.</p>\n"},{"tags":["java","spring-boot","directory-structure"],"answers":[{"tags":[],"owner":{"account_id":18260588,"reputation":56,"user_id":13293490,"display_name":"Ali Dandach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653561267,"creation_date":1653561267,"answer_id":72390425,"question_id":72388063,"body_markdown":"The simple way is:\r\n\r\n    Resource resource = new ClassPathResource(&quot;imagefolder/sample.png&quot;);\r\n    FileInputStream file = new FileInputStream(resource.getFile());\r\n\r\nPut it without (src/main/resources/)\r\n\r\n","title":"How to access files present inside scr folder inside code in springboot project","body":"<p>The simple way is:</p>\n<pre><code>Resource resource = new ClassPathResource(&quot;imagefolder/sample.png&quot;);\nFileInputStream file = new FileInputStream(resource.getFile());\n</code></pre>\n<p>Put it without (src/main/resources/)</p>\n"}],"owner":{"account_id":25142999,"reputation":21,"user_id":18989148,"display_name":"developer_deb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1653887367,"creation_date":1653548910,"question_id":72388063,"body_markdown":"I am keeping a png file inside src/main/resources/imagefolder/sample.png. I am using it while sending email using javamailSender. It is working fine on my local but while creating a JAR file of the application and deploying it on dev environment(Linux Server) it is throwing &quot;FileNotFoundException&quot;. \r\n\r\n    @Autowired   \r\n    JavaMailSender javaMailSender;\r\n    \r\n    MimeMessage message = javaMailSender.createMimeMessage();\r\n    message.setFrom(//Addding the configs);\r\n    message.setRecipients(//Adding the configs);\r\n    message.setSubject(//Adding the configs);\r\n    \r\n    Multipart multipart=new MimeMultipart();\r\n    MimeBodyPart messageBodyPart=new MimeBodyPart();\r\n    messageBodyPart.setContent(//html in string,&quot;text/html&quot;);\r\n    multipart.addBodyPart(messageBodyPart);\r\n    MimeBodyPart imagePart=new MimeBodyPart();\r\n    imagePart.setHeader(&quot;Content-ID&quot;,&quot;&lt;image&gt;&quot;);\r\n    imagePart.setDisposition(MimeBodyPart.INLINE);\r\n    imagePart.attachFile(&quot;src/main/resources/imagefolder/sample.png&quot;);\r\n    multipart.addBodyPart(imagePart);\r\n        \r\n    message.setContent(multipart);\r\n        \r\n    javamailSender.send(message),\r\n\r\nThank you in advance.","title":"How to access files present inside scr folder inside code in springboot project","body":"<p>I am keeping a png file inside src/main/resources/imagefolder/sample.png. I am using it while sending email using javamailSender. It is working fine on my local but while creating a JAR file of the application and deploying it on dev environment(Linux Server) it is throwing &quot;FileNotFoundException&quot;.</p>\n<pre><code>@Autowired   \nJavaMailSender javaMailSender;\n\nMimeMessage message = javaMailSender.createMimeMessage();\nmessage.setFrom(//Addding the configs);\nmessage.setRecipients(//Adding the configs);\nmessage.setSubject(//Adding the configs);\n\nMultipart multipart=new MimeMultipart();\nMimeBodyPart messageBodyPart=new MimeBodyPart();\nmessageBodyPart.setContent(//html in string,&quot;text/html&quot;);\nmultipart.addBodyPart(messageBodyPart);\nMimeBodyPart imagePart=new MimeBodyPart();\nimagePart.setHeader(&quot;Content-ID&quot;,&quot;&lt;image&gt;&quot;);\nimagePart.setDisposition(MimeBodyPart.INLINE);\nimagePart.attachFile(&quot;src/main/resources/imagefolder/sample.png&quot;);\nmultipart.addBodyPart(imagePart);\n    \nmessage.setContent(multipart);\n    \njavamailSender.send(message),\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","selenium-webdriver","dataprovider","testng-dataprovider"],"answers":[{"tags":[],"owner":{"account_id":16407050,"reputation":91,"user_id":11851365,"display_name":"NitishKshirsagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565067307,"creation_date":1565067307,"answer_id":57369163,"question_id":57345545,"body_markdown":"You can try parameterizing your testcase with @Factory annotation. @DataProvider works at testmethod level and @Factory works at class level. \r\nI tried your code with @Factory but could not produce the output expected by you.\r\nYou can give it a try.\r\n","title":"How to execute tests sequentially using TestNG and DataProvider","body":"<p>You can try parameterizing your testcase with @Factory annotation. @DataProvider works at testmethod level and @Factory works at class level. \nI tried your code with @Factory but could not produce the output expected by you.\nYou can give it a try.</p>\n"},{"tags":[],"owner":{"account_id":21994046,"reputation":1,"user_id":16266898,"display_name":"Gopi Alluri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653887323,"creation_date":1653887323,"answer_id":72429393,"question_id":57345545,"body_markdown":"The expected output can be generated by using @Factory annotation. Reference: https://howtodoinjava.com/testng/difference-factory-dataprovider/","title":"How to execute tests sequentially using TestNG and DataProvider","body":"<p>The expected output can be generated by using @Factory annotation. Reference: <a href=\"https://howtodoinjava.com/testng/difference-factory-dataprovider/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/testng/difference-factory-dataprovider/</a></p>\n"}],"owner":{"account_id":4976933,"reputation":53,"user_id":4002996,"display_name":"Navaneeth Aliyath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":962,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1653887323,"creation_date":1564912211,"question_id":57345545,"body_markdown":"I am using @dataprovider TestNG annotation to pass different set of data. My TestNG class contains @BeforeClass, @DataProvider, three @Test methods(one test using dataprovider) and @After Class. Dataprovider contains 3 sets of data(username and password)\r\n\r\nI just want to know how I can execute the tests in the below order\r\n\r\n--Execute the @BeforeClass\r\n\r\n--&gt;Go to the Test and print the first set of data from data provider&lt;br/&gt;\r\n--&gt;execute the second test case&lt;br/&gt;\r\n--&gt;execute the third test case\r\n\r\n--Go to the Test and print the second set of data from data provider&lt;br/&gt;\r\n--execute the second test case&lt;br/&gt;\r\n--execute the third test case\r\n\r\n--Go to the Test and print the third set of data from data provider&lt;br/&gt;\r\n--execute the second test case&lt;br/&gt;\r\n--execute the third test case\r\n\r\n--execute the @AfterClass\r\n\r\n----------------------------------------\r\n\r\n\r\n    public class SequentialExe {\r\n    \t\r\n    \t@BeforeClass\r\n    \tpublic void started(){\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Class Started&quot;);\r\n    \t}\r\n    \t\r\n    \t@DataProvider(name=&quot;testdata&quot;)\r\n    \tpublic Object[][] getdata(){\r\n    \t\t\r\n    \t\tObject ob[] \r\n      []=ExcelUtils.excelread(&quot;C:/Users/Desktop/capsule.xlsx&quot;, 0);\r\n    \t\treturn ob;\r\n    \t}\r\n    \t\r\n    \t@Test(dataProvider=&quot;testdata&quot;,priority=0)\r\n    \tpublic void test01(String uname, String paswrd){\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Username is&quot;+&quot;--&quot;+uname);\r\n    \t\tSystem.out.println(&quot;Password is&quot;+&quot;--&quot;+paswrd);\r\n    \t\t\r\n    \t}\r\n    \t@Test(priority=1)\r\n    \tpublic void test02(){\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;This is second test case&quot;);\r\n    \t}\r\n    \t@Test(priority=2)\r\n    \tpublic void test03(){\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;This is third test case&quot;);\r\n    \t}\r\n    \r\n    \t@AfterClass\r\n    \tpublic void end(){\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Class END&quot;);\r\n    \t}\r\n    }\r\n\r\nNow am getting the result like \r\n\r\n-----------------------------\r\nClass Started\r\n\r\nUsername is--uname01&lt;br/&gt;\r\nPassword is--pwd01&lt;br/&gt;\r\nUsername is--uname02&lt;br/&gt;\r\nPassword is--pwd02&lt;br/&gt;\r\nUsername is--uname03&lt;br/&gt;\r\nPassword is--pwd03\r\n\r\nThis is second test case&lt;br/&gt;\r\nThis is third test case&lt;br/&gt;\r\nClass END\r\n\r\n------------------------------\r\n\r\nI am looking  for the below result\r\n\r\n-------------------------------\r\nClass Started\r\n\r\nUsername is--uname01&lt;br/&gt;\r\nPassword is--pwd01&lt;br/&gt;\r\nThis is second test case&lt;br/&gt;\r\nThis is third test case\r\n\r\nUsername is--uname02&lt;br/&gt;\r\nPassword is--pwd02&lt;br/&gt;\r\nThis is second test case&lt;br/&gt;\r\nThis is third test case&lt;br/&gt;\r\n\r\nUsername is--uname03&lt;br/&gt;\r\nPassword is--pwd03&lt;br/&gt;\r\nThis is second test case&lt;br/&gt;\r\nThis is third test case&lt;br/&gt;\r\n\r\nClass END\r\n\r\n-------------------------------\r\nPlease help on this.\r\n\r\n","title":"How to execute tests sequentially using TestNG and DataProvider","body":"<p>I am using @dataprovider TestNG annotation to pass different set of data. My TestNG class contains @BeforeClass, @DataProvider, three @Test methods(one test using dataprovider) and @After Class. Dataprovider contains 3 sets of data(username and password)</p>\n\n<p>I just want to know how I can execute the tests in the below order</p>\n\n<p>--Execute the @BeforeClass</p>\n\n<p>-->Go to the Test and print the first set of data from data provider<br/>\n-->execute the second test case<br/>\n-->execute the third test case</p>\n\n<p>--Go to the Test and print the second set of data from data provider<br/>\n--execute the second test case<br/>\n--execute the third test case</p>\n\n<p>--Go to the Test and print the third set of data from data provider<br/>\n--execute the second test case<br/>\n--execute the third test case</p>\n\n<p>--execute the @AfterClass</p>\n\n<hr>\n\n<pre><code>public class SequentialExe {\n\n    @BeforeClass\n    public void started(){\n\n        System.out.println(\"Class Started\");\n    }\n\n    @DataProvider(name=\"testdata\")\n    public Object[][] getdata(){\n\n        Object ob[] \n  []=ExcelUtils.excelread(\"C:/Users/Desktop/capsule.xlsx\", 0);\n        return ob;\n    }\n\n    @Test(dataProvider=\"testdata\",priority=0)\n    public void test01(String uname, String paswrd){\n\n        System.out.println(\"Username is\"+\"--\"+uname);\n        System.out.println(\"Password is\"+\"--\"+paswrd);\n\n    }\n    @Test(priority=1)\n    public void test02(){\n\n        System.out.println(\"This is second test case\");\n    }\n    @Test(priority=2)\n    public void test03(){\n\n        System.out.println(\"This is third test case\");\n    }\n\n    @AfterClass\n    public void end(){\n\n        System.out.println(\"Class END\");\n    }\n}\n</code></pre>\n\n<p>Now am getting the result like </p>\n\n<hr>\n\n<p>Class Started</p>\n\n<p>Username is--uname01<br/>\nPassword is--pwd01<br/>\nUsername is--uname02<br/>\nPassword is--pwd02<br/>\nUsername is--uname03<br/>\nPassword is--pwd03</p>\n\n<p>This is second test case<br/>\nThis is third test case<br/>\nClass END</p>\n\n<hr>\n\n<p>I am looking  for the below result</p>\n\n<hr>\n\n<p>Class Started</p>\n\n<p>Username is--uname01<br/>\nPassword is--pwd01<br/>\nThis is second test case<br/>\nThis is third test case</p>\n\n<p>Username is--uname02<br/>\nPassword is--pwd02<br/>\nThis is second test case<br/>\nThis is third test case<br/></p>\n\n<p>Username is--uname03<br/>\nPassword is--pwd03<br/>\nThis is second test case<br/>\nThis is third test case<br/></p>\n\n<p>Class END</p>\n\n<hr>\n\n<p>Please help on this.</p>\n"},{"tags":["java","ubuntu","visual-studio-code","terminal","compilation"],"comments":[{"owner":{"account_id":22718731,"reputation":559,"user_id":16886597,"display_name":"cocomac"},"score":0,"creation_date":1653867888,"post_id":72428009,"comment_id":127949562,"body_markdown":"Typically VS Code at the top of the program output will include how it compiled the program. Can you include that here? Depending on your project setup, VS Code may have made a jar file that you would run (instead of the `.class` files).","body":"Typically VS Code at the top of the program output will include how it compiled the program. Can you include that here? Depending on your project setup, VS Code may have made a jar file that you would run (instead of the <code>.class</code> files)."},{"owner":{"account_id":17499719,"reputation":7,"user_id":12690258,"display_name":"Vuka"},"score":0,"creation_date":1653915684,"post_id":72428009,"comment_id":127961096,"body_markdown":"This is the output I get: /usr/bin/env /usr/lib/jvm/java-11-openjdk-amd64/bin/java @/tmp/cp_n2vvkvo9bob1x4gtes87dlwf.argfile Peer","body":"This is the output I get: /usr/bin/env /usr/lib/jvm/java-11-openjdk-amd64/bin/java @/tmp/cp_n2vvkvo9bob1x4gtes87dlwf.argfile Peer"}],"answers":[{"tags":[],"owner":{"account_id":17253470,"reputation":61,"user_id":14291381,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653868917,"creation_date":1653868917,"answer_id":72428083,"question_id":72428009,"body_markdown":"This generally indicates that the class path with which you&#39;re compiling your program does not include the correct paths to your libraries. Assuming your libraries are jar files, your `javac` command should look something like this:\r\n```\r\njavac -cp libs/lib1.jar:libs/lib2.jar srcs/*.java\r\n```\r\nwhere `libs/` is the relative path to your libraries and `srcs/` is the relative path to your own java files.\r\n\r\nAnd when you run the program, make sure your class path includes both the locations of your libraries and the location of your class files (which in this case would be the current directory):\r\n```\r\njava -cp .:libs/lib1.jar:libs/lib2.jar &lt;MainClass&gt;\r\n```","title":"Java can&#39;t compile in terminal because of external libraries","body":"<p>This generally indicates that the class path with which you're compiling your program does not include the correct paths to your libraries. Assuming your libraries are jar files, your <code>javac</code> command should look something like this:</p>\n<pre><code>javac -cp libs/lib1.jar:libs/lib2.jar srcs/*.java\n</code></pre>\n<p>where <code>libs/</code> is the relative path to your libraries and <code>srcs/</code> is the relative path to your own java files.</p>\n<p>And when you run the program, make sure your class path includes both the locations of your libraries and the location of your class files (which in this case would be the current directory):</p>\n<pre><code>java -cp .:libs/lib1.jar:libs/lib2.jar &lt;MainClass&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653887192,"creation_date":1653887192,"answer_id":72429376,"question_id":72428009,"body_markdown":"You can add the following code in your `setting.json` file `&quot;java.project.outputPath&quot;: &quot;bin&quot;`,\r\nThis will be the `.class` file generated by VS Code in the `bin` folder of the same directory when running the Java code.\r\n\r\nYou can use the java command after entering the file directory with the `cd` command.","title":"Java can&#39;t compile in terminal because of external libraries","body":"<p>You can add the following code in your <code>setting.json</code> file <code>&quot;java.project.outputPath&quot;: &quot;bin&quot;</code>,\nThis will be the <code>.class</code> file generated by VS Code in the <code>bin</code> folder of the same directory when running the Java code.</p>\n<p>You can use the java command after entering the file directory with the <code>cd</code> command.</p>\n"}],"owner":{"account_id":17499719,"reputation":7,"user_id":12690258,"display_name":"Vuka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72428083,"answer_count":2,"score":0,"last_activity_date":1653887192,"creation_date":1653867701,"question_id":72428009,"body_markdown":"I&#39;m on Ubuntu 22.04 trying to run my code in the terminal.\r\nThe program works without problems in VScode, also when running multiple instances.\r\nThe program is consisted of six class files.\r\n\r\nThe trouble occurs when I try and run it with terminal. When compiling the java file\r\nwith ```javac``` it shows errors at places where I use the external libraries.\r\n\r\nIf I compile it with VScode and run the class file in terminal, I get the following error ```java.lang.ClassNotFoundException```\r\n\r\nThis is causing me problems since I&#39;m also supposed to dockerize the program.\r\n\r\n","title":"Java can&#39;t compile in terminal because of external libraries","body":"<p>I'm on Ubuntu 22.04 trying to run my code in the terminal.\nThe program works without problems in VScode, also when running multiple instances.\nThe program is consisted of six class files.</p>\n<p>The trouble occurs when I try and run it with terminal. When compiling the java file\nwith <code>javac</code> it shows errors at places where I use the external libraries.</p>\n<p>If I compile it with VScode and run the class file in terminal, I get the following error <code>java.lang.ClassNotFoundException</code></p>\n<p>This is causing me problems since I'm also supposed to dockerize the program.</p>\n"},{"tags":["java","android","android-studio","samsung-galaxy"],"answers":[{"tags":[],"owner":{"account_id":25294725,"reputation":13,"user_id":19120077,"display_name":"Fanisus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653886877,"creation_date":1653886877,"answer_id":72429344,"question_id":70813495,"body_markdown":"You need to build release app differently and debug app differently\r\n\r\nIn debug we build by going to Build =&gt; Build Bundle / APK(s) =&gt; Build APK(s)\r\n\r\n\r\nFor release app we need to create by going to =&gt; Build =&gt; Generate Signed Bundle / APK(s)\r\n\r\nI recommend following this tutorial https://youtu.be/0ntRRLPL5Lg","title":"Getting Debugging option checkerror when i upload my app in galaxy store","body":"<p>You need to build release app differently and debug app differently</p>\n<p>In debug we build by going to Build =&gt; Build Bundle / APK(s) =&gt; Build APK(s)</p>\n<p>For release app we need to create by going to =&gt; Build =&gt; Generate Signed Bundle / APK(s)</p>\n<p>I recommend following this tutorial <a href=\"https://youtu.be/0ntRRLPL5Lg\" rel=\"nofollow noreferrer\">https://youtu.be/0ntRRLPL5Lg</a></p>\n"}],"owner":{"account_id":24009964,"reputation":1,"user_id":17993669,"display_name":"Ankur Rawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1653886877,"creation_date":1642859760,"question_id":70813495,"body_markdown":"whenever i try to upload my app in galaxy store my app always gets rejected in pre-Reviews and the issue it shows is Title :- Debug option check \t Test Result :- The debuggable attribute in the manifest (android:debuggable=&quot;true&quot;) SHOULD NOT be true.\r\n\r\nAlthough developers can set true while developing applications for debugging purpose, those applicaitons SHOULD NOT be released with the attribute because users can debug the applications even without access to its source code.\r\n\r\nbut the debuggable attribute is false in the android manifestation\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.bigbeast.calculator&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:debuggable=&quot;false&quot;\r\n        android:theme=&quot;@style/Theme.Calculator&quot;\r\n        tools:ignore=&quot;HardcodedDebugMode&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```","title":"Getting Debugging option checkerror when i upload my app in galaxy store","body":"<p>whenever i try to upload my app in galaxy store my app always gets rejected in pre-Reviews and the issue it shows is Title :- Debug option check     Test Result :- The debuggable attribute in the manifest (android:debuggable=&quot;true&quot;) SHOULD NOT be true.</p>\n<p>Although developers can set true while developing applications for debugging purpose, those applicaitons SHOULD NOT be released with the attribute because users can debug the applications even without access to its source code.</p>\n<p>but the debuggable attribute is false in the android manifestation</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.bigbeast.calculator&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:debuggable=&quot;false&quot;\n        android:theme=&quot;@style/Theme.Calculator&quot;\n        tools:ignore=&quot;HardcodedDebugMode&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n"},{"tags":["java","function","parameters"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1634586242,"post_id":69621650,"comment_id":123060153,"body_markdown":"Does that first method return anything?  I don&#39;t see a `return` statement, but in your second method, you&#39;re assigning the return value of the first method to `newItem`.  Can you maybe show _all_ of the first method, not just a few lines?","body":"Does that first method return anything?  I don&#39;t see a <code>return</code> statement, but in your second method, you&#39;re assigning the return value of the first method to <code>newItem</code>.  Can you maybe show <i>all</i> of the first method, not just a few lines?"},{"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"score":0,"creation_date":1634586376,"post_id":69621650,"comment_id":123060197,"body_markdown":"We also need to see what the data looks like.  You&#39;ll get better answers if you read the SO help on how to ask a question.  People can&#39;t do much if they need to guess the problem you&#39;re trying to solve.  Also note the requirement to state when you&#39;re asking for help with homework.","body":"We also need to see what the data looks like.  You&#39;ll get better answers if you read the SO help on how to ask a question.  People can&#39;t do much if they need to guess the problem you&#39;re trying to solve.  Also note the requirement to state when you&#39;re asking for help with homework."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1634586588,"post_id":69621650,"comment_id":123060270,"body_markdown":"So you have a file that has information about purchases, and the first code snippet converts a line of that file into a `Purchase`, and you want to pass that first code snippet into `importItemsFromFile`, so that the entire file&#39;s contents get put into a `List&lt;Purchase&gt;`. Did I understand correctly?","body":"So you have a file that has information about purchases, and the first code snippet converts a line of that file into a <code>Purchase</code>, and you want to pass that first code snippet into <code>importItemsFromFile</code>, so that the entire file&#39;s contents get put into a <code>List&lt;Purchase&gt;</code>. Did I understand correctly?"},{"owner":{"account_id":12640184,"reputation":1,"user_id":9187985,"display_name":"Keegan Meijer"},"score":0,"creation_date":1634593149,"post_id":69621650,"comment_id":123062165,"body_markdown":"@Gene Thanks, I will read the SO help and added the statement that this is actually an homework assignment.","body":"@Gene Thanks, I will read the SO help and added the statement that this is actually an homework assignment."},{"owner":{"account_id":12640184,"reputation":1,"user_id":9187985,"display_name":"Keegan Meijer"},"score":0,"creation_date":1634593392,"post_id":69621650,"comment_id":123062218,"body_markdown":"@Sweeper That&#39;s my problem indeed, but I&#39;m stuck on the function call of the `importItemsFromFile` because I have no clue how to pass the first function&#39;s fourth parameter (the Function&lt;String, Object&gt; converter","body":"@Sweeper That&#39;s my problem indeed, but I&#39;m stuck on the function call of the <code>importItemsFromFile</code> because I have no clue how to pass the first function&#39;s fourth parameter (the Function&lt;String, Object&gt; converter"}],"answers":[{"tags":[],"owner":{"account_id":3985860,"reputation":456,"user_id":4408813,"display_name":"abstractnature"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634586846,"creation_date":1634586846,"answer_id":69621868,"question_id":69621650,"body_markdown":"You need to declare this like this first inside a &#39;super - private function&#39;\r\n\r\n    private Function&lt;String, Purchase&gt; doSomething() {\r\n         return textLine -&gt; {\r\n            Purchase newPurchase = null;\r\n            String[] purchases = textLine.split(&quot;,&quot;);\r\n            int foundBarcode = products.indexOf(getProductFromBarcode(products, Long.parseLong(purchases[0])));\r\n    \r\n            products.indexOf(purchases);\r\n            return new Purchase(products.get(foundBarcode), Integer.parseInt(purchases[1].trim())\r\n         };\r\n    }\r\n\r\nThen before calling this importItemsFromFile() method, you declare this function as a `variable`\r\n\r\n    Function&lt;String, Purchase&gt; abcFunction = doSomething();\r\n\r\nand then call this importItemsFromFile() function like this\r\n\r\n    importItemsFromFile(items, filePath, abcFunction);\r\n\r\nThe reason why this works is, lambda operator returns a Functional Interface, here it is &quot;Function&quot;, if you pass 3 arguments, you will need a `BiFunction&lt;T, U, R&gt;` for that.\r\n\r\nThats why these FunctionalInterfaces are sometimes called super private functions, as they are used inside another function.\r\n\r\nAnd Hey give me extra points for this, as I even completed your half written function, and saved your 3 days time.","title":"Java passing a (lambda) function with two arguments","body":"<p>You need to declare this like this first inside a 'super - private function'</p>\n<pre><code>private Function&lt;String, Purchase&gt; doSomething() {\n     return textLine -&gt; {\n        Purchase newPurchase = null;\n        String[] purchases = textLine.split(&quot;,&quot;);\n        int foundBarcode = products.indexOf(getProductFromBarcode(products, Long.parseLong(purchases[0])));\n\n        products.indexOf(purchases);\n        return new Purchase(products.get(foundBarcode), Integer.parseInt(purchases[1].trim())\n     };\n}\n</code></pre>\n<p>Then before calling this importItemsFromFile() method, you declare this function as a <code>variable</code></p>\n<pre><code>Function&lt;String, Purchase&gt; abcFunction = doSomething();\n</code></pre>\n<p>and then call this importItemsFromFile() function like this</p>\n<pre><code>importItemsFromFile(items, filePath, abcFunction);\n</code></pre>\n<p>The reason why this works is, lambda operator returns a Functional Interface, here it is &quot;Function&quot;, if you pass 3 arguments, you will need a <code>BiFunction&lt;T, U, R&gt;</code> for that.</p>\n<p>Thats why these FunctionalInterfaces are sometimes called super private functions, as they are used inside another function.</p>\n<p>And Hey give me extra points for this, as I even completed your half written function, and saved your 3 days time.</p>\n"},{"tags":[],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653886776,"creation_date":1634587166,"answer_id":69621920,"question_id":69621650,"body_markdown":"I am a little lost by the top snippet, but all you need to do is define an implementation of the [Function][1] interface.  You can do this simply by defining a class that implements the interface or you can specify a lambda that would do the same thing.  \r\n\r\nAssuming the top code block is what you want in your lambda you would do something like this, \r\n```\r\n(textLine) -&gt;{\r\n        String[] purchases = textLine.split(&quot;,&quot;);\r\n        int foundBarcode = products.indexOf(getProductFromBarcode(\r\n            products, Long.parseLong(purchases[0])));\r\n        products.indexOf(purchases);\r\n        return new Purchase(\r\n                products.get(foundBarcode),\r\n                Integer.parseInt(purchases[1].trim())\r\n        )\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html","title":"Java passing a (lambda) function with two arguments","body":"<p>I am a little lost by the top snippet, but all you need to do is define an implementation of the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\">Function</a> interface.  You can do this simply by defining a class that implements the interface or you can specify a lambda that would do the same thing.</p>\n<p>Assuming the top code block is what you want in your lambda you would do something like this,</p>\n<pre><code>(textLine) -&gt;{\n        String[] purchases = textLine.split(&quot;,&quot;);\n        int foundBarcode = products.indexOf(getProductFromBarcode(\n            products, Long.parseLong(purchases[0])));\n        products.indexOf(purchases);\n        return new Purchase(\n                products.get(foundBarcode),\n                Integer.parseInt(purchases[1].trim())\n        )\n</code></pre>\n"}],"owner":{"account_id":12640184,"reputation":1,"user_id":9187985,"display_name":"Keegan Meijer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1653886776,"creation_date":1634585692,"question_id":69621650,"body_markdown":"I&#39;m trying to implement a function to read files, but I cannot change the signature of the method. There are a lot of cross references in the code but maybe someone can enlighten me, I have been stuck for 3 days right now. This is for a school assignment.\r\n\r\nThe first method I&#39;m trying to pass into the function is the following:\r\n\r\n```\r\npublic static Purchase fromLine(String textLine, List&lt;Product&gt; products) {\r\n        Purchase newPurchase = null;\r\n        String[] purchases = textLine.split(&quot;,&quot;);\r\n        int foundBarcode = products.indexOf(getProductFromBarcode(products, Long.parseLong(purchases[0])));\r\n\r\n        products.indexOf(purchases);\r\n        newPurchase = new Purchase(\r\n                products.get(foundBarcode),\r\n                Integer.parseInt(purchases[1].trim())\r\n        );\r\n```\r\n\r\nSomehow I want to pass this function into my import file function.\r\n\r\n```\r\n    public static &lt;E&gt; void importItemsFromFile(List&lt;E&gt; items, String filePath, Function&lt;String,E&gt; converter) {\r\n        int originalNumItems = items.size();\r\n\r\n        Scanner scanner = createFileScanner(filePath);\r\n\r\n        // TODO read all source lines from the scanner,\r\n        //  convert each line to an item of type E and\r\n        //  and add each item to the list\r\n\r\n        while (scanner.hasNext()) {\r\n            // input another line with author information\r\n            String line = scanner.nextLine();\r\n\r\n            // TODO convert the line to an instance of E\r\n            E newItem = converter.apply(line);\r\n\r\n            // TODO add the item to the list of items\r\n            items.add(newItem);\r\n        }\r\n        System.out.printf(&quot;Imported %d items from %s.\\n&quot;, items.size() - originalNumItems, filePath);\r\n    }\r\n```\r\n\r\nI hope someone can help me and explain how to pass this function into the other function&#39;s converter parameter.\r\nTried to do a lot of research on this topic but I&#39;m still not able to find the answer. Please help me stackoverflow community!:D\r\n","title":"Java passing a (lambda) function with two arguments","body":"<p>I'm trying to implement a function to read files, but I cannot change the signature of the method. There are a lot of cross references in the code but maybe someone can enlighten me, I have been stuck for 3 days right now. This is for a school assignment.</p>\n<p>The first method I'm trying to pass into the function is the following:</p>\n<pre><code>public static Purchase fromLine(String textLine, List&lt;Product&gt; products) {\n        Purchase newPurchase = null;\n        String[] purchases = textLine.split(&quot;,&quot;);\n        int foundBarcode = products.indexOf(getProductFromBarcode(products, Long.parseLong(purchases[0])));\n\n        products.indexOf(purchases);\n        newPurchase = new Purchase(\n                products.get(foundBarcode),\n                Integer.parseInt(purchases[1].trim())\n        );\n</code></pre>\n<p>Somehow I want to pass this function into my import file function.</p>\n<pre><code>    public static &lt;E&gt; void importItemsFromFile(List&lt;E&gt; items, String filePath, Function&lt;String,E&gt; converter) {\n        int originalNumItems = items.size();\n\n        Scanner scanner = createFileScanner(filePath);\n\n        // TODO read all source lines from the scanner,\n        //  convert each line to an item of type E and\n        //  and add each item to the list\n\n        while (scanner.hasNext()) {\n            // input another line with author information\n            String line = scanner.nextLine();\n\n            // TODO convert the line to an instance of E\n            E newItem = converter.apply(line);\n\n            // TODO add the item to the list of items\n            items.add(newItem);\n        }\n        System.out.printf(&quot;Imported %d items from %s.\\n&quot;, items.size() - originalNumItems, filePath);\n    }\n</code></pre>\n<p>I hope someone can help me and explain how to pass this function into the other function's converter parameter.\nTried to do a lot of research on this topic but I'm still not able to find the answer. Please help me stackoverflow community!:D</p>\n"},{"tags":["java","maven","groovy","maven-archetype","archetypes"],"comments":[{"owner":{"account_id":11454057,"reputation":1114,"user_id":8395666,"display_name":"emilles"},"score":0,"creation_date":1653871549,"post_id":72423612,"comment_id":127950048,"body_markdown":"You can use Grab to add groovy-sql library to classpath of your script. Otherwise you need to add a plug-in dependency for groovy-sql.","body":"You can use Grab to add groovy-sql library to classpath of your script. Otherwise you need to add a plug-in dependency for groovy-sql."},{"owner":{"account_id":14310684,"reputation":11,"user_id":10337060,"display_name":"Hamid Ehyaei"},"score":0,"creation_date":1653885087,"post_id":72423612,"comment_id":127951708,"body_markdown":"@emilles Thanks so much for your constructive guidance. It&#39;s working now.","body":"@emilles Thanks so much for your constructive guidance. It&#39;s working now."}],"answers":[{"tags":[],"owner":{"account_id":14310684,"reputation":11,"user_id":10337060,"display_name":"Hamid Ehyaei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1653885697,"creation_date":1653885697,"answer_id":72429241,"question_id":72423612,"body_markdown":"According to @emilles&#39;s guidance and [Groovy documentation][1], we can add any library to the classpath of script using the `@Grab` annotation.  \r\nFor example:  \r\n```\r\n@Grab(&#39;org.codehaus.groovy:groovy-sql:2.4.16&#39;)\r\n@Grab(&#39;com.microsoft.sqlserver:mssql-jdbc:8.4.1.jre8&#39;)\r\n```\r\n\r\n\r\n  [1]: http://docs.groovy-lang.org/latest/html/documentation/grape.html","title":"Maven archetype raise error on executing Groovy script","body":"<p>According to @emilles's guidance and <a href=\"http://docs.groovy-lang.org/latest/html/documentation/grape.html\" rel=\"nofollow noreferrer\">Groovy documentation</a>, we can add any library to the classpath of script using the <code>@Grab</code> annotation.<br />\nFor example:</p>\n<pre><code>@Grab('org.codehaus.groovy:groovy-sql:2.4.16')\n@Grab('com.microsoft.sqlserver:mssql-jdbc:8.4.1.jre8')\n</code></pre>\n"}],"owner":{"account_id":14310684,"reputation":11,"user_id":10337060,"display_name":"Hamid Ehyaei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72429241,"answer_count":1,"score":1,"last_activity_date":1653885697,"creation_date":1653827192,"question_id":72423612,"body_markdown":"I made a custom maven Archetype and based on the [Maven Documentation][1], added the file *archetype-post-generate.groovy* to the *src/main/resources/META-INF* folder.  \r\nIn this groovy script I want to connect to a database and take some actions according to the data.  \r\nThe script is as follow:  \r\n```\r\nimport groovy.sql.Sql\r\n\r\nSql.withInstance(\r\n        &#39;jdbc:sqlserver://localhost:1433;databaseName=db;&#39;,\r\n        &#39;sa&#39;,\r\n        &#39;pass&#39;,\r\n        &#39;com.microsoft.sqlserver.jdbc.SQLServerDriver&#39;) { sql -&gt;\r\n    List rows = sql.rows(&#39;SELECT top 5 id, description FROM Project&#39;)\r\n    for(row in rows) {\r\n        println row.getProperty(&quot;id&quot;)\r\n        println row.getProperty(&quot;description&quot;)\r\n        println &quot;/*************\\\\&quot;\r\n    }\r\n}\r\n```  \r\nAfter installing the archetype when I generate a module with it, once the script is executed, the following error is raised:  \r\n```\r\nFailed to execute goal org.apache.maven.plugins:maven-archetype-plugin:3.2.0:generate (default-cli) on project standalone-pom: startup failed:\r\nScript1.groovy: 1: unable to resolve class groovy.sql.Sql\r\n @ line 1, column 1.\r\n   import groovy.sql.Sql\r\n   ^\r\n\r\n1 error\r\n```  \r\nIs there any solution to resolve this problem?\r\n\r\n  [1]: https://maven.apache.org/archetype/maven-archetype-plugin/advanced-usage.html","title":"Maven archetype raise error on executing Groovy script","body":"<p>I made a custom maven Archetype and based on the <a href=\"https://maven.apache.org/archetype/maven-archetype-plugin/advanced-usage.html\" rel=\"nofollow noreferrer\">Maven Documentation</a>, added the file <em>archetype-post-generate.groovy</em> to the <em>src/main/resources/META-INF</em> folder.<br />\nIn this groovy script I want to connect to a database and take some actions according to the data.<br />\nThe script is as follow:</p>\n<pre><code>import groovy.sql.Sql\n\nSql.withInstance(\n        'jdbc:sqlserver://localhost:1433;databaseName=db;',\n        'sa',\n        'pass',\n        'com.microsoft.sqlserver.jdbc.SQLServerDriver') { sql -&gt;\n    List rows = sql.rows('SELECT top 5 id, description FROM Project')\n    for(row in rows) {\n        println row.getProperty(&quot;id&quot;)\n        println row.getProperty(&quot;description&quot;)\n        println &quot;/*************\\\\&quot;\n    }\n}\n</code></pre>\n<p>After installing the archetype when I generate a module with it, once the script is executed, the following error is raised:</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-archetype-plugin:3.2.0:generate (default-cli) on project standalone-pom: startup failed:\nScript1.groovy: 1: unable to resolve class groovy.sql.Sql\n @ line 1, column 1.\n   import groovy.sql.Sql\n   ^\n\n1 error\n</code></pre>\n<p>Is there any solution to resolve this problem?</p>\n"},{"tags":["javascript","java","reactjs","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11018450,"reputation":658,"user_id":8093552,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620539682,"creation_date":1620539682,"answer_id":67454671,"question_id":67005894,"body_markdown":"In the RestController add crossorigin base on your client\r\n\r\n    @CrossOrigin(origins = {&quot;http://localhost:3000&quot;}, exposedHeaders = &quot;X-Total-Count&quot;)\r\n\r\nCreate a new class ConrolAdvice to send response\r\n\r\n    @ControllerAdvice\r\n    public class ResourceSizeAdvice implements ResponseBodyAdvice&lt;Collection&lt;?&gt;&gt; {\r\n    \r\n        @Override\r\n        public boolean supports(MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n            //Checks if this advice is applicable.\r\n            //In this case it applies to any endpoint which returns a collection.\r\n            return Collection.class.isAssignableFrom(returnType.getParameterType());\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;?&gt; beforeBodyWrite(Collection&lt;?&gt; body, MethodParameter returnType, MediaType selectedContentType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\r\n            response.getHeaders().add(&quot;X-Total-Count&quot;, String.valueOf(body.size()));\r\n            return body;\r\n        }\r\n    }","title":"X-Total-Count missing header error in React Admin with Spring Boot API","body":"<p>In the RestController add crossorigin base on your client</p>\n<pre><code>@CrossOrigin(origins = {&quot;http://localhost:3000&quot;}, exposedHeaders = &quot;X-Total-Count&quot;)\n</code></pre>\n<p>Create a new class ConrolAdvice to send response</p>\n<pre><code>@ControllerAdvice\npublic class ResourceSizeAdvice implements ResponseBodyAdvice&lt;Collection&lt;?&gt;&gt; {\n\n    @Override\n    public boolean supports(MethodParameter returnType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n        //Checks if this advice is applicable.\n        //In this case it applies to any endpoint which returns a collection.\n        return Collection.class.isAssignableFrom(returnType.getParameterType());\n    }\n\n    @Override\n    public Collection&lt;?&gt; beforeBodyWrite(Collection&lt;?&gt; body, MethodParameter returnType, MediaType selectedContentType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; selectedConverterType, ServerHttpRequest request, ServerHttpResponse response) {\n        response.getHeaders().add(&quot;X-Total-Count&quot;, String.valueOf(body.size()));\n        return body;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2926221,"reputation":727,"user_id":2507462,"display_name":"Daniel Sobrado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653884794,"creation_date":1653884794,"answer_id":72429153,"question_id":67005894,"body_markdown":"Looks like the header to be used now is:\r\n\r\n&gt; e.g. Content-Range: posts 0-24/319\r\n\r\nI&#39;m reading the Table name from the entity to expose this:\r\n\r\n                    String tableName = page.getContent().get(0).getClass().getAnnotationsByType(Table.class)[0].name();\r\n                    long minElement = page.getNumber() * page.getSize();\r\n                    long maxElement = Math.min(minElement + page.getSize() - 1, page.getTotalElements() - 1);\r\n                    long totalElements = page.getTotalElements();\r\n                    String contentRange = String.format(&quot;%s %d-%d/%d&quot;, tableName, minElement, maxElement, totalElements);\r\n                    \r\n                    response.getHeaders().add(&quot;Content-Range&quot;, contentRange);\r\n\r\nOn top of the Annotation for CORS mentioned above:\r\n\r\n    @CrossOrigin(origins = {&quot;http://localhost:3000&quot;}, exposedHeaders = &quot;Content-Range&quot;)","title":"X-Total-Count missing header error in React Admin with Spring Boot API","body":"<p>Looks like the header to be used now is:</p>\n<blockquote>\n<p>e.g. Content-Range: posts 0-24/319</p>\n</blockquote>\n<p>I'm reading the Table name from the entity to expose this:</p>\n<pre><code>                String tableName = page.getContent().get(0).getClass().getAnnotationsByType(Table.class)[0].name();\n                long minElement = page.getNumber() * page.getSize();\n                long maxElement = Math.min(minElement + page.getSize() - 1, page.getTotalElements() - 1);\n                long totalElements = page.getTotalElements();\n                String contentRange = String.format(&quot;%s %d-%d/%d&quot;, tableName, minElement, maxElement, totalElements);\n                \n                response.getHeaders().add(&quot;Content-Range&quot;, contentRange);\n</code></pre>\n<p>On top of the Annotation for CORS mentioned above:</p>\n<pre><code>@CrossOrigin(origins = {&quot;http://localhost:3000&quot;}, exposedHeaders = &quot;Content-Range&quot;)\n</code></pre>\n"}],"owner":{"display_name":"user14163978"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1653884794,"creation_date":1617891350,"question_id":67005894,"body_markdown":"I have my Spring Boot REST API.  Link: &quot;http://localhost:8080/api/components/component/list&quot;\r\n\r\nFor the frontend, I am using React, above is the link that I want the &quot;React Admin&quot; app to consume.\r\n\r\n\r\nHere is my Spring Boot&#39;s CORS Code, it is in a separate class called CorsConfig:\r\n\r\n    @Configuration\r\n    public class CorsConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addCorsMappings(CorsRegistry myCorsRegistry){\r\n                 myCorsRegistry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;http://localhost:3000&quot;)  //frontend&#39;s link\r\n                .allowedHeaders(&quot;Access-Control-Allow-Origin&quot;,&quot;Access-Control-Allow-Header&quot;, &quot;Access-Control-Expose-Headers&quot;, &quot;Content-Range&quot;, &quot;Content-Length&quot;, &quot;Connection&quot;, &quot;Content-Type&quot;, &quot;X-Total-Count&quot;, &quot;X-Content-Type-Options&quot;, &quot;Set-Cookies&quot;, &quot;*&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;, &quot;PATCH&quot;)\r\n                .allowCredentials(true)\r\n                \r\n         }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    \r\nFor my controller class I have the following:\r\n\r\n    @CrossOrigin(&quot;http://localhost:3000&quot;)\r\n    @RequestMapping(&quot;/api/components/component&quot;)\r\n    @RestController\r\n    public class Component{\r\n         @Autowired\r\n         //code...\r\n    }\r\n\r\n\r\n\r\nHere is my React Code:\r\n    \r\n    import React from &#39;react&#39;;\r\n    import { Admin,ListGuesser, Resource} from &#39;react-admin&#39;;\r\n    import jsonServerProvider from &quot;ra-data-json-server&quot;;\r\n    \r\n    const parentURL = \r\n    jsonServerProvider(`http://localhost:8080/api/components/component`);\r\n\r\n    function App() {\r\n        return(\r\n           &lt;Admin dataProvider={parentURL}&gt;\r\n              &lt;Resource name=&quot;list&quot; list={ListGuesser} /&gt;\r\n            &lt;/Admin&gt;\r\n        );\r\n     }\r\n\r\n\r\n\r\n\r\nHere is the error I am getting in my Chrome console:\r\n\r\n    The X-Total-Count header is missing in the HTTP Response. The jsonServer Data Provider expects \r\n    responses for lists of resources to contain this header with the total number of results to build the \r\n    pagination. If you are using CORS, did you declare X-Total-Count in the Access-Control-Expose-Headers \r\n    header?\r\n\r\n\r\n\r\n\r\nIn my JavaScript code:\r\n1) When I use **restProvider**, I get the &quot;Content-Range header is missing in the HTTP Response&quot; error\r\n\r\n2) When I use **jsonServerProvider**, I get the &quot;X-Total-Count header is missing in the HTTP Response&quot; error\r\n\r\n\r\n**My Question:**\r\nHow to fix the above error?\r\n","title":"X-Total-Count missing header error in React Admin with Spring Boot API","body":"<p>I have my Spring Boot REST API.  Link: &quot;http://localhost:8080/api/components/component/list&quot;</p>\n<p>For the frontend, I am using React, above is the link that I want the &quot;React Admin&quot; app to consume.</p>\n<p>Here is my Spring Boot's CORS Code, it is in a separate class called CorsConfig:</p>\n<pre><code>@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry myCorsRegistry){\n             myCorsRegistry.addMapping(&quot;/**&quot;)\n            .allowedOrigins(&quot;http://localhost:3000&quot;)  //frontend's link\n            .allowedHeaders(&quot;Access-Control-Allow-Origin&quot;,&quot;Access-Control-Allow-Header&quot;, &quot;Access-Control-Expose-Headers&quot;, &quot;Content-Range&quot;, &quot;Content-Length&quot;, &quot;Connection&quot;, &quot;Content-Type&quot;, &quot;X-Total-Count&quot;, &quot;X-Content-Type-Options&quot;, &quot;Set-Cookies&quot;, &quot;*&quot;)\n            .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;, &quot;PATCH&quot;)\n            .allowCredentials(true)\n            \n     }\n\n}\n</code></pre>\n<p>For my controller class I have the following:</p>\n<pre><code>@CrossOrigin(&quot;http://localhost:3000&quot;)\n@RequestMapping(&quot;/api/components/component&quot;)\n@RestController\npublic class Component{\n     @Autowired\n     //code...\n}\n</code></pre>\n<p>Here is my React Code:</p>\n<pre><code>import React from 'react';\nimport { Admin,ListGuesser, Resource} from 'react-admin';\nimport jsonServerProvider from &quot;ra-data-json-server&quot;;\n\nconst parentURL = \njsonServerProvider(`http://localhost:8080/api/components/component`);\n\nfunction App() {\n    return(\n       &lt;Admin dataProvider={parentURL}&gt;\n          &lt;Resource name=&quot;list&quot; list={ListGuesser} /&gt;\n        &lt;/Admin&gt;\n    );\n }\n</code></pre>\n<p>Here is the error I am getting in my Chrome console:</p>\n<pre><code>The X-Total-Count header is missing in the HTTP Response. The jsonServer Data Provider expects \nresponses for lists of resources to contain this header with the total number of results to build the \npagination. If you are using CORS, did you declare X-Total-Count in the Access-Control-Expose-Headers \nheader?\n</code></pre>\n<p>In my JavaScript code:</p>\n<ol>\n<li><p>When I use <strong>restProvider</strong>, I get the &quot;Content-Range header is missing in the HTTP Response&quot; error</p>\n</li>\n<li><p>When I use <strong>jsonServerProvider</strong>, I get the &quot;X-Total-Count header is missing in the HTTP Response&quot; error</p>\n</li>\n</ol>\n<p><strong>My Question:</strong>\nHow to fix the above error?</p>\n"},{"tags":["java","apache-poi","xwpf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1653822429,"post_id":72422419,"comment_id":127940573,"body_markdown":"`XWPFTable` seems to be a class from `apache-poi`. Why this question is not tagged `apache-poi` then? And Apache POI is highly in development. So the versions are very different. That&#39;s why it is important to mention the `apache-poi` version used. Please do that.","body":"<code>XWPFTable</code> seems to be a class from <code>apache-poi</code>. Why this question is not tagged <code>apache-poi</code> then? And Apache POI is highly in development. So the versions are very different. That&#39;s why it is important to mention the <code>apache-poi</code> version used. Please do that."},{"owner":{"account_id":19435168,"reputation":37,"user_id":14214785,"display_name":"Agung Donga"},"score":0,"creation_date":1653825269,"post_id":72422419,"comment_id":127941146,"body_markdown":"thanks to remind me brother @AxelRichter","body":"thanks to remind me brother @AxelRichter"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653883321,"creation_date":1653838193,"answer_id":72424964,"question_id":72422419,"body_markdown":"Apache POI is highly in development. Therefore, versions become obsolete very quickly. The version `apache poi 3.8` was released in 2012. It is much too old to be used ten years later in 2022.\r\n\r\nTo your first question:\r\n\r\nAccording to the documentation [XWPFTable.createRow](https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFTable.html#createRow--) creates a new XWPFTableRow object with as many cells as the number of columns defined in that moment. \r\n\r\nSo in your case `XWPFTableRow examInfoRow = Table.createRow();` creates a `examInfoRow` which has at least two columns already, since the table contains at least two columns already from rows above.\r\n\r\nThen `XWPFTableCell cellRowInfo = examInfoRow.addNewTableCell();` adds an additional column by adding a new table cell to that row. That&#39;s why `cellRowInfo` will not be in 1st column.\r\n\r\nYour second question is too broad to be completely answered here.\r\n\r\nWhat I can tell you is that Word tables are beastly things. They have a underlying table grid defining the columns. And if rows need different column sizes, then setting column spans is necessary, just like in HTML tables too. The table, you show as the wanted result, contains three columns. In first row the first column spans the others. In second row the second column spans the third. In third row the first column spans the second. That&#39;s the only way to produce those different columns for each row.\r\n\r\nKnowing this one should avoid to mess with inserting and/or adding or creating table cells. If a template is possible, then that template should contain all possible row templates already. Then only copying the rows is necessary instead of messing around with inserting cells.\r\n\r\nComplete example:\r\n\r\nTemplate:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nCode:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTRow;\r\n    \r\n    import java.util.List; \r\n    import java.util.ArrayList; \r\n    \r\n    public class WordInsertContentInTable {\r\n        \r\n     static void setText(XWPFTableCell cell, String text) {\r\n      String[] lines = text.split(&quot;\\n&quot;);\r\n      List&lt;XWPFParagraph&gt; paragraphs = cell.getParagraphs();\r\n      for (int i = 0; i &lt; lines.length; i++) {\r\n       String line = lines[i];\r\n       XWPFParagraph paragraph = null;\r\n       if (paragraphs.size() &gt; i) paragraph = paragraphs.get(i);\r\n       if (paragraph == null) paragraph = cell.addParagraph();\r\n       XWPFRun run = null;\r\n       if (paragraph.getRuns().size() &gt; 0) run = paragraph.getRuns().get(0);\r\n       if (run == null) run = paragraph.createRun();\r\n       run.setText(line, 0);\r\n      }\r\n      for (int i = paragraphs.size()-1; i &gt;= lines.length; i--) {\r\n       cell.removeParagraph(i);\r\n      }\r\n     }\r\n        \r\n     static void insertContentInTable(XWPFTable table, List&lt;POJO&gt; listOfPOJOs) throws Exception {\r\n      XWPFTableRow titleRowTemplate = table.getRow(0);\r\n      if (titleRowTemplate == null) throw new Exception(&quot;Table template does not match: No title row.&quot;);\r\n      if (titleRowTemplate.getTableCells().size() != 1) throw new Exception(&quot;Table template does not match: Wrong title row column count.&quot;);\r\n      XWPFTableRow subTitleRowTemplate = table.getRow(1);\r\n      if (subTitleRowTemplate == null) throw new Exception(&quot;Table template does not match: No sub title row.&quot;);\r\n      if (subTitleRowTemplate.getTableCells().size() != 2) throw new Exception(&quot;Table template does not match: Wrong sub title row column count.&quot;);\r\n      XWPFTableRow contentRowTemplate = table.getRow(2);\r\n      if (contentRowTemplate == null) throw new Exception(&quot;Table template does not match: No content row.&quot;);\r\n      if (contentRowTemplate.getTableCells().size() != 2) throw new Exception(&quot;Table template does not match: Wrong content row column count.&quot;);\r\n      \r\n      XWPFTableRow titleRow = titleRowTemplate;\r\n      XWPFTableRow subTitleRow = subTitleRowTemplate;\r\n      XWPFTableRow contentRow = contentRowTemplate;\r\n      XWPFTableCell cell;\r\n      for (int i = 0; i &lt; listOfPOJOs.size(); i++) {\r\n       POJO pojo = listOfPOJOs.get(i); \r\n       if (i &gt; 0) {\r\n        titleRow = new XWPFTableRow((CTRow)titleRowTemplate.getCtRow().copy(), table);\r\n        subTitleRow = new XWPFTableRow((CTRow)subTitleRowTemplate.getCtRow().copy(), table);\r\n        contentRow = new XWPFTableRow((CTRow)contentRowTemplate.getCtRow().copy(), table);\r\n       }\r\n       String titleRowText = pojo.getTitleRowText();\r\n       cell = titleRow.getCell(0);\r\n       setText(cell, titleRowText);   \r\n       String subTitleRowLeftText = pojo.getSubTitleRowLeftText();   \r\n       String subTitleRowLeftColor = pojo.getSubTitleRowLeftColor();   \r\n       String subTitleRowRightText = pojo.getSubTitleRowRightText();   \r\n       cell = subTitleRow.getCell(0);\r\n       setText(cell,subTitleRowLeftText);   \r\n       cell.setColor(subTitleRowLeftColor);   \r\n       cell = subTitleRow.getCell(1);\r\n       setText(cell,subTitleRowRightText);\r\n       String contentRowLeftText = pojo.getContentRowLeftText();   \r\n       String contentRowRightText = pojo.getContentRowRightText();   \r\n       cell = contentRow.getCell(0);\r\n       setText(cell, contentRowLeftText);   \r\n       cell = contentRow.getCell(1);\r\n       setText(cell, contentRowRightText);\r\n       if (i &gt; 0) {\r\n        table.addRow(titleRow);\r\n        table.addRow(subTitleRow);\r\n        table.addRow(contentRow);\r\n       }\r\n      }     \r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n         \r\n      List&lt;POJO&gt; listOfPOJOs = new ArrayList&lt;POJO&gt;();\r\n      listOfPOJOs.add(new POJO(&quot;Title row text 1&quot;, \r\n                               &quot;Sub title row left text 1&quot;, &quot;FF0000&quot;, &quot;Sub title row right text 1\\nSub title row right text 1\\nSub title row right text 1&quot;, \r\n                               &quot;Content row left text 1\\nContent row left text 1\\nContent row left text 1&quot;, \r\n                               &quot;Content row right text 1\\nContent row right text 1\\nContent row right text 1&quot;));\r\n      listOfPOJOs.add(new POJO(&quot;Title row text 2&quot;, \r\n                               &quot;Sub title row left text 2&quot;, &quot;00FF00&quot;, &quot;Sub title row right text 2\\nSub title row right text 2&quot;, \r\n                               &quot;Content row left text 2\\nContent row left text 2&quot;,\r\n                               &quot;Content row right text 2\\nContent row right text 2&quot;));\r\n      listOfPOJOs.add(new POJO(&quot;Title row text 3&quot;, \r\n                               &quot;Sub title row left text 3&quot;, &quot;0000FF&quot;, &quot;Sub title row right text 3&quot;, \r\n                               &quot;Content row left text 3&quot;, \r\n                               &quot;Content row right text 3&quot;));\r\n    \r\n      XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;./WordTenplate.docx&quot;));\r\n    \r\n      XWPFTable table = document.getTableArray(0);\r\n      \r\n      insertContentInTable(table, listOfPOJOs);\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;./WordResult.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n     }\r\n     \r\n     static class POJO {\r\n      private String titleRowText;\r\n      private String subTitleRowLeftText;\r\n      private String subTitleRowLeftColor;\r\n      private String subTitleRowRightText;\r\n      private String contentRowLeftText;\r\n      private String contentRowRightText;\r\n      public POJO ( String titleRowText,\r\n                    String subTitleRowLeftText,\r\n                    String subTitleRowLeftColor,\r\n                    String subTitleRowRightText,\r\n                    String contentRowLeftText,\r\n                    String contentRowRightText ) {\r\n       this.titleRowText = titleRowText;\r\n       this.subTitleRowLeftText = subTitleRowLeftText;\r\n       this.subTitleRowLeftColor = subTitleRowLeftColor;\r\n       this.subTitleRowRightText = subTitleRowRightText;\r\n       this.contentRowLeftText = contentRowLeftText;\r\n       this.contentRowRightText = contentRowRightText;     \r\n      }\r\n      public String getTitleRowText() {\r\n       return this.titleRowText;\r\n      }\r\n      public String getSubTitleRowLeftText() {\r\n       return this.subTitleRowLeftText;\r\n      }\r\n      public String getSubTitleRowLeftColor() {\r\n       return this.subTitleRowLeftColor;\r\n      }\r\n      public String getSubTitleRowRightText() {\r\n       return this.subTitleRowRightText;\r\n      }\r\n      public String getContentRowLeftText() {\r\n       return this.contentRowLeftText;\r\n      }\r\n      public String getContentRowRightText() {\r\n       return this.contentRowRightText;\r\n      }\r\n     }\r\n    }\r\n\r\nResult:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis code is minimized to show the principle. If text formatting is necessary, then the method `setText(XWPFTableCell cell, String text)` needs to be extended. Text formatting in Word needs `XWPFRun`s for each text which shall be formatted different. Of course also the `POJO` needs fields to determine the needed formatting then.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BVzAS.png\r\n  [2]: https://i.stack.imgur.com/rp8Ml.png\r\n","title":"XWPFTable create new row (looping)","body":"<p>Apache POI is highly in development. Therefore, versions become obsolete very quickly. The version <code>apache poi 3.8</code> was released in 2012. It is much too old to be used ten years later in 2022.</p>\n<p>To your first question:</p>\n<p>According to the documentation <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFTable.html#createRow--\" rel=\"nofollow noreferrer\">XWPFTable.createRow</a> creates a new XWPFTableRow object with as many cells as the number of columns defined in that moment.</p>\n<p>So in your case <code>XWPFTableRow examInfoRow = Table.createRow();</code> creates a <code>examInfoRow</code> which has at least two columns already, since the table contains at least two columns already from rows above.</p>\n<p>Then <code>XWPFTableCell cellRowInfo = examInfoRow.addNewTableCell();</code> adds an additional column by adding a new table cell to that row. That's why <code>cellRowInfo</code> will not be in 1st column.</p>\n<p>Your second question is too broad to be completely answered here.</p>\n<p>What I can tell you is that Word tables are beastly things. They have a underlying table grid defining the columns. And if rows need different column sizes, then setting column spans is necessary, just like in HTML tables too. The table, you show as the wanted result, contains three columns. In first row the first column spans the others. In second row the second column spans the third. In third row the first column spans the second. That's the only way to produce those different columns for each row.</p>\n<p>Knowing this one should avoid to mess with inserting and/or adding or creating table cells. If a template is possible, then that template should contain all possible row templates already. Then only copying the rows is necessary instead of messing around with inserting cells.</p>\n<p>Complete example:</p>\n<p>Template:</p>\n<p><a href=\"https://i.stack.imgur.com/BVzAS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BVzAS.png\" alt=\"enter image description here\" /></a></p>\n<p>Code:</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.FileInputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTRow;\n\nimport java.util.List; \nimport java.util.ArrayList; \n\npublic class WordInsertContentInTable {\n    \n static void setText(XWPFTableCell cell, String text) {\n  String[] lines = text.split(&quot;\\n&quot;);\n  List&lt;XWPFParagraph&gt; paragraphs = cell.getParagraphs();\n  for (int i = 0; i &lt; lines.length; i++) {\n   String line = lines[i];\n   XWPFParagraph paragraph = null;\n   if (paragraphs.size() &gt; i) paragraph = paragraphs.get(i);\n   if (paragraph == null) paragraph = cell.addParagraph();\n   XWPFRun run = null;\n   if (paragraph.getRuns().size() &gt; 0) run = paragraph.getRuns().get(0);\n   if (run == null) run = paragraph.createRun();\n   run.setText(line, 0);\n  }\n  for (int i = paragraphs.size()-1; i &gt;= lines.length; i--) {\n   cell.removeParagraph(i);\n  }\n }\n    \n static void insertContentInTable(XWPFTable table, List&lt;POJO&gt; listOfPOJOs) throws Exception {\n  XWPFTableRow titleRowTemplate = table.getRow(0);\n  if (titleRowTemplate == null) throw new Exception(&quot;Table template does not match: No title row.&quot;);\n  if (titleRowTemplate.getTableCells().size() != 1) throw new Exception(&quot;Table template does not match: Wrong title row column count.&quot;);\n  XWPFTableRow subTitleRowTemplate = table.getRow(1);\n  if (subTitleRowTemplate == null) throw new Exception(&quot;Table template does not match: No sub title row.&quot;);\n  if (subTitleRowTemplate.getTableCells().size() != 2) throw new Exception(&quot;Table template does not match: Wrong sub title row column count.&quot;);\n  XWPFTableRow contentRowTemplate = table.getRow(2);\n  if (contentRowTemplate == null) throw new Exception(&quot;Table template does not match: No content row.&quot;);\n  if (contentRowTemplate.getTableCells().size() != 2) throw new Exception(&quot;Table template does not match: Wrong content row column count.&quot;);\n  \n  XWPFTableRow titleRow = titleRowTemplate;\n  XWPFTableRow subTitleRow = subTitleRowTemplate;\n  XWPFTableRow contentRow = contentRowTemplate;\n  XWPFTableCell cell;\n  for (int i = 0; i &lt; listOfPOJOs.size(); i++) {\n   POJO pojo = listOfPOJOs.get(i); \n   if (i &gt; 0) {\n    titleRow = new XWPFTableRow((CTRow)titleRowTemplate.getCtRow().copy(), table);\n    subTitleRow = new XWPFTableRow((CTRow)subTitleRowTemplate.getCtRow().copy(), table);\n    contentRow = new XWPFTableRow((CTRow)contentRowTemplate.getCtRow().copy(), table);\n   }\n   String titleRowText = pojo.getTitleRowText();\n   cell = titleRow.getCell(0);\n   setText(cell, titleRowText);   \n   String subTitleRowLeftText = pojo.getSubTitleRowLeftText();   \n   String subTitleRowLeftColor = pojo.getSubTitleRowLeftColor();   \n   String subTitleRowRightText = pojo.getSubTitleRowRightText();   \n   cell = subTitleRow.getCell(0);\n   setText(cell,subTitleRowLeftText);   \n   cell.setColor(subTitleRowLeftColor);   \n   cell = subTitleRow.getCell(1);\n   setText(cell,subTitleRowRightText);\n   String contentRowLeftText = pojo.getContentRowLeftText();   \n   String contentRowRightText = pojo.getContentRowRightText();   \n   cell = contentRow.getCell(0);\n   setText(cell, contentRowLeftText);   \n   cell = contentRow.getCell(1);\n   setText(cell, contentRowRightText);\n   if (i &gt; 0) {\n    table.addRow(titleRow);\n    table.addRow(subTitleRow);\n    table.addRow(contentRow);\n   }\n  }     \n }\n\n public static void main(String[] args) throws Exception {\n     \n  List&lt;POJO&gt; listOfPOJOs = new ArrayList&lt;POJO&gt;();\n  listOfPOJOs.add(new POJO(&quot;Title row text 1&quot;, \n                           &quot;Sub title row left text 1&quot;, &quot;FF0000&quot;, &quot;Sub title row right text 1\\nSub title row right text 1\\nSub title row right text 1&quot;, \n                           &quot;Content row left text 1\\nContent row left text 1\\nContent row left text 1&quot;, \n                           &quot;Content row right text 1\\nContent row right text 1\\nContent row right text 1&quot;));\n  listOfPOJOs.add(new POJO(&quot;Title row text 2&quot;, \n                           &quot;Sub title row left text 2&quot;, &quot;00FF00&quot;, &quot;Sub title row right text 2\\nSub title row right text 2&quot;, \n                           &quot;Content row left text 2\\nContent row left text 2&quot;,\n                           &quot;Content row right text 2\\nContent row right text 2&quot;));\n  listOfPOJOs.add(new POJO(&quot;Title row text 3&quot;, \n                           &quot;Sub title row left text 3&quot;, &quot;0000FF&quot;, &quot;Sub title row right text 3&quot;, \n                           &quot;Content row left text 3&quot;, \n                           &quot;Content row right text 3&quot;));\n\n  XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;./WordTenplate.docx&quot;));\n\n  XWPFTable table = document.getTableArray(0);\n  \n  insertContentInTable(table, listOfPOJOs);\n\n  FileOutputStream out = new FileOutputStream(&quot;./WordResult.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n }\n \n static class POJO {\n  private String titleRowText;\n  private String subTitleRowLeftText;\n  private String subTitleRowLeftColor;\n  private String subTitleRowRightText;\n  private String contentRowLeftText;\n  private String contentRowRightText;\n  public POJO ( String titleRowText,\n                String subTitleRowLeftText,\n                String subTitleRowLeftColor,\n                String subTitleRowRightText,\n                String contentRowLeftText,\n                String contentRowRightText ) {\n   this.titleRowText = titleRowText;\n   this.subTitleRowLeftText = subTitleRowLeftText;\n   this.subTitleRowLeftColor = subTitleRowLeftColor;\n   this.subTitleRowRightText = subTitleRowRightText;\n   this.contentRowLeftText = contentRowLeftText;\n   this.contentRowRightText = contentRowRightText;     \n  }\n  public String getTitleRowText() {\n   return this.titleRowText;\n  }\n  public String getSubTitleRowLeftText() {\n   return this.subTitleRowLeftText;\n  }\n  public String getSubTitleRowLeftColor() {\n   return this.subTitleRowLeftColor;\n  }\n  public String getSubTitleRowRightText() {\n   return this.subTitleRowRightText;\n  }\n  public String getContentRowLeftText() {\n   return this.contentRowLeftText;\n  }\n  public String getContentRowRightText() {\n   return this.contentRowRightText;\n  }\n }\n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/rp8Ml.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rp8Ml.png\" alt=\"enter image description here\" /></a></p>\n<p>This code is minimized to show the principle. If text formatting is necessary, then the method <code>setText(XWPFTableCell cell, String text)</code> needs to be extended. Text formatting in Word needs <code>XWPFRun</code>s for each text which shall be formatted different. Of course also the <code>POJO</code> needs fields to determine the needed formatting then.</p>\n"}],"owner":{"account_id":19435168,"reputation":37,"user_id":14214785,"display_name":"Agung Donga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72424964,"answer_count":1,"score":0,"last_activity_date":1653883321,"creation_date":1653816189,"question_id":72422419,"body_markdown":"I have a problem about how to loop data using XWPFTable?\r\ni have some problems;\r\n1. I am confused why XWPFRun examRun = examInfoRowP.createRun();\r\n(**automatically reads the 2nd column, not the 1st column first**)\r\n2. My coding structure, I think it is less efficient in using XWPFTable, how to make it cleaner code\r\n\r\n**note:**\r\nList&lt;AuditEngagementLHA&gt; listLHA is the data\r\nI&#39;m using apache-poi 3.8\r\n\r\n    XWPFTable Table = document.getTableArray(16);\r\n\t\t\t\t\r\n\t\t\t\tXWPFTableRow getRow1 = Table.getRow(1);\r\n\t            \r\n\t            \r\n\t            XWPFTableRow getRow0 = Table.getRow(0);\r\n\t\t\t\t\r\n\t\t\t\t//baris 1\r\n\t\t\t\tfor(int i = 0; i &lt; listLHA.size(); i++) {\r\n\t\t\t\t\tgetRow0.getCell(0).setText(listLHA.get(0).getKeyProsses()+ &quot; KEY PROSES&quot;);\r\n\t\t        \tbreak;\r\n\t\t        }\r\n\t\t\t\t\r\n\t\t\t\t//baris 2\r\n\t\t\t\t\r\n\t\t\t\tfor(int i = 0; i &lt; listLHA.size(); i++) {\r\n\t\t\t\t\tgetRow1.getCell(0).setText(listLHA.get(0).getRiskRating());\r\n\t\t\t\t\tgetRow1.getCell(1).setText(listLHA.get(0).getAuditObservationTitle()+ &quot; AO TITLE&quot;);\r\n\t\t        \tbreak;\r\n\t\t        }\r\n\t\t\t\t\r\n\t\t\t\tXWPFTableRow examInfoRow = Table.createRow();\r\n\t\t        XWPFTableCell cellRowInfo = examInfoRow.addNewTableCell();\r\n\r\n\t\t\t\tXWPFParagraph examInfoRowP = cellRowInfo.getParagraphs().get(0);\r\n\t\t        XWPFRun examRun = examInfoRowP.createRun(); //problem 1\r\n\t\t        \r\n\t\t        examInfoRowP.setAlignment(ParagraphAlignment.LEFT);\r\n\t\t        //list Action plan\r\n\t\t        examRun.setText(&quot;Action Plan:&quot;);\r\n\t\t        examRun.addBreak();\r\n\t\t\t\tfor (AuditEngagementLHA lha : listLHA) {\r\n\t\t\t\t\tint i = listLHA.indexOf(lha);\r\n\t\t\t\t\texamRun.setText(i+1 +&quot;.&quot;+lha.getDescAP().replaceAll(&quot;\\\\&lt;[^&gt;]*&gt;&quot;,&quot;&quot;));\r\n\t\t\t        examRun.addBreak();\r\n\t\t\t\t}\r\n\t\t\t\tfor(int i = 0; i &lt; listLHA.size(); i++) {\r\n\t\t\t\t\texamRun.setText(&quot;Target Date: &quot;);\r\n\t\t        \texamRun.setText(listLHA.get(0).getTargetDateAP());\r\n\t\t        \texamRun.addBreak();\r\n\t\t        \tbreak;\r\n\t\t        }\r\n\t\t\t\t\r\n\t\t        examRun.addBreak();\r\n\t\t        for(int i = 0; i &lt; listLHA.size(); i++) {\r\n\t\t        \texamInfoRow.getCell(0).setText(listLHA.get(0).getDescAO()+&quot; Desc AO&quot;);\r\n\t\t        \texamRun.addBreak();\r\n\t\t        \tbreak;\r\n\t\t        }\r\n\t\t        //List penanggung jawab\r\n\t\t        examRun.setText(&quot;Penanggung Jawab:&quot;);\r\n\t\t        examRun.addBreak();\r\n\t\t\t\tfor (AuditEngagementLHA lha : listLHA) {\r\n\t\t\t\t\tint i = listLHA.indexOf(lha);\r\n\t\t\t\t\t\r\n\t\t\t\t\texamRun.setText(i+1 +&quot;.&quot;+lha.getPicAP()+&quot; - &quot;);\r\n\t\t\t        examRun.setText(lha.getJabatanPicAP());\r\n\t\t\t        examRun.addBreak();\r\n\t\t\t\t}\r\n\r\n*my word template is like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n*the result from now is like this\r\n\r\n[![enter image description here][2]][2]\r\n\r\n*and the result should be like this and neat\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6oZum.png\r\n  [2]: https://i.stack.imgur.com/k1mvh.png\r\n  [3]: https://i.stack.imgur.com/9hUiB.png","title":"XWPFTable create new row (looping)","body":"<p>I have a problem about how to loop data using XWPFTable?\ni have some problems;</p>\n<ol>\n<li>I am confused why XWPFRun examRun = examInfoRowP.createRun();\n(<strong>automatically reads the 2nd column, not the 1st column first</strong>)</li>\n<li>My coding structure, I think it is less efficient in using XWPFTable, how to make it cleaner code</li>\n</ol>\n<p><strong>note:</strong>\nList listLHA is the data\nI'm using apache-poi 3.8</p>\n<pre><code>XWPFTable Table = document.getTableArray(16);\n            \n            XWPFTableRow getRow1 = Table.getRow(1);\n            \n            \n            XWPFTableRow getRow0 = Table.getRow(0);\n            \n            //baris 1\n            for(int i = 0; i &lt; listLHA.size(); i++) {\n                getRow0.getCell(0).setText(listLHA.get(0).getKeyProsses()+ &quot; KEY PROSES&quot;);\n                break;\n            }\n            \n            //baris 2\n            \n            for(int i = 0; i &lt; listLHA.size(); i++) {\n                getRow1.getCell(0).setText(listLHA.get(0).getRiskRating());\n                getRow1.getCell(1).setText(listLHA.get(0).getAuditObservationTitle()+ &quot; AO TITLE&quot;);\n                break;\n            }\n            \n            XWPFTableRow examInfoRow = Table.createRow();\n            XWPFTableCell cellRowInfo = examInfoRow.addNewTableCell();\n\n            XWPFParagraph examInfoRowP = cellRowInfo.getParagraphs().get(0);\n            XWPFRun examRun = examInfoRowP.createRun(); //problem 1\n            \n            examInfoRowP.setAlignment(ParagraphAlignment.LEFT);\n            //list Action plan\n            examRun.setText(&quot;Action Plan:&quot;);\n            examRun.addBreak();\n            for (AuditEngagementLHA lha : listLHA) {\n                int i = listLHA.indexOf(lha);\n                examRun.setText(i+1 +&quot;.&quot;+lha.getDescAP().replaceAll(&quot;\\\\&lt;[^&gt;]*&gt;&quot;,&quot;&quot;));\n                examRun.addBreak();\n            }\n            for(int i = 0; i &lt; listLHA.size(); i++) {\n                examRun.setText(&quot;Target Date: &quot;);\n                examRun.setText(listLHA.get(0).getTargetDateAP());\n                examRun.addBreak();\n                break;\n            }\n            \n            examRun.addBreak();\n            for(int i = 0; i &lt; listLHA.size(); i++) {\n                examInfoRow.getCell(0).setText(listLHA.get(0).getDescAO()+&quot; Desc AO&quot;);\n                examRun.addBreak();\n                break;\n            }\n            //List penanggung jawab\n            examRun.setText(&quot;Penanggung Jawab:&quot;);\n            examRun.addBreak();\n            for (AuditEngagementLHA lha : listLHA) {\n                int i = listLHA.indexOf(lha);\n                \n                examRun.setText(i+1 +&quot;.&quot;+lha.getPicAP()+&quot; - &quot;);\n                examRun.setText(lha.getJabatanPicAP());\n                examRun.addBreak();\n            }\n</code></pre>\n<p>*my word template is like this</p>\n<p><a href=\"https://i.stack.imgur.com/6oZum.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6oZum.png\" alt=\"enter image description here\" /></a></p>\n<p>*the result from now is like this</p>\n<p><a href=\"https://i.stack.imgur.com/k1mvh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k1mvh.png\" alt=\"enter image description here\" /></a></p>\n<p>*and the result should be like this and neat</p>\n<p><a href=\"https://i.stack.imgur.com/9hUiB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9hUiB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2435291,"reputation":5500,"user_id":2125351,"display_name":"Sean Blahovici"},"score":0,"creation_date":1653854812,"post_id":72426749,"comment_id":127947428,"body_markdown":"Need to see adapter and fragment code if you want help, I can&#39;t see anything wrong with the code you put there so far.","body":"Need to see adapter and fragment code if you want help, I can&#39;t see anything wrong with the code you put there so far."},{"owner":{"account_id":25419423,"reputation":3,"user_id":19225725,"display_name":"PRAJESH KAYASTHA"},"score":0,"creation_date":1653890342,"post_id":72426749,"comment_id":127952639,"body_markdown":"Can you check now?","body":"Can you check now?"}],"owner":{"account_id":25419423,"reputation":3,"user_id":19225725,"display_name":"PRAJESH KAYASTHA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1653883289,"creation_date":1653853050,"question_id":72426749,"body_markdown":"Here in the given below code, I am trying to display in the image in recyclerview in the imageview after fetching it using picasso, it won&#39;t show error or app won&#39;t crash either but image won&#39;t be displayed, it either shows: \r\n\r\n**&quot;I/Choreographer: Skipped 30 frames! The application may be doing too much work on its main thread.&quot;**\r\n\r\n**Or**\r\n\r\n**W/RecyclerView: No adapter attached; skipping layout**\r\n\r\npublic class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt; {\r\n\r\n\r\n    LayoutInflater inflater;\r\n    List&lt;Lists&gt; lst;\r\n    private ItemClickListsner mItemListener;\r\n\r\n\r\n    public Adapter(Context ctx, List&lt;Lists&gt; lst, ItemClickListsner itemClickListsner) {\r\n        this.inflater = LayoutInflater.from(ctx);\r\n        this.lst = lst;\r\n        this.mItemListener = itemClickListsner;\r\n\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = inflater.inflate(R.layout.custom_list, parent, false);\r\n\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n        //   final Lists temp = lst.get(position);\r\n\r\n        holder.id.setText(lst.get(position).getId());\r\n        holder.name.setText(lst.get(position).getName());\r\n        holder.prc.setText(lst.get(position).getPrc());\r\n        holder.add.setText(lst.get(position).getAddress());\r\n        holder.description.setText(lst.get(position).getDes());\r\n        holder.park.setText(lst.get(position).getGarage());\r\n        holder.net.setText(lst.get(position).getNet());\r\n        holder.email.setText(lst.get(position).getMail());\r\n        holder.number.setText(lst.get(position).getPnumber());\r\n        holder.post.setText(lst.get(position).getTle());\r\n        holder.date.setText(lst.get(position).getCrt());\r\n\r\n        Picasso.with(inflater.getContext())\r\n                .load(lst.get(position).getMimage())\r\n                .placeholder(R.drawable.bed)\r\n                .fit()\r\n                .into(holder.ImgView);\r\n\r\n        holder.itemView.setOnClickListener(view -&gt; {\r\n            mItemListener.onItemClick(lst.get(position));\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return lst.size();\r\n    }\r\n\r\n    public interface ItemClickListsner{\r\n        void onItemClick(Lists lst);\r\n    }\r\n\r\n    public void filterList(ArrayList&lt;Lists&gt; filteredList) {\r\n        lst = filteredList;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView id, name, add, prc, description, park, net, post,email,number,date;\r\n        ImageView ImgView;\r\n        //  CardView cardView;\r\n\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            id = itemView.findViewById(R.id.textViewRecy1);\r\n            name = itemView.findViewById(R.id.textViewRecy2);\r\n            prc = itemView.findViewById(R.id.textViewRecy3);\r\n            add = itemView.findViewById((R.id.textViewRecy4));\r\n            description = itemView.findViewById(R.id.textViewRecy5);\r\n            park = itemView.findViewById(R.id.textViewRecy6);\r\n            net = itemView.findViewById(R.id.textViewRecy7);\r\n            post = itemView.findViewById(R.id.textViewRecy8);\r\n            email = itemView.findViewById(R.id.textViewRecy9);\r\n            number = itemView.findViewById(R.id.textViewRecy10);\r\n            date = itemView.findViewById(R.id.textViewRecy11);\r\n            ImgView = itemView.findViewById(R.id.ImageRecy);\r\n\r\n        }\r\n    }\r\n}\r\n\r\n\r\n**Activity Code**\r\n\r\n\r\n\r\nprivate void extractList() {\r\n        RequestQueue queue = Volley.newRequestQueue(this);\r\n\r\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, JSON_URL, null, new Response.Listener&lt;JSONArray&gt;() {\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                for (int i = 0; i &lt; response.length(); i++) {\r\n                    try {\r\n                        JSONObject jsonObject = response.getJSONObject(i);\r\n                        //Log.d(&quot;tags&quot;, &quot;error: &quot; + jsonObject);\r\n\r\n                        Lists lists = new Lists();\r\n\r\n                        lists.setName(jsonObject.getString(&quot;title&quot;).toString());\r\n                        lists.setAddress(jsonObject.getString(&quot;location&quot;).toString());\r\n                        lists.setPrc(jsonObject.getString(&quot;price&quot;).toString());\r\n                        lists.setDes(jsonObject.getString(&quot;description&quot;).toString());\r\n                        lists.setGarage(jsonObject.getString(&quot;parking&quot;).toString());\r\n                        lists.setNet(jsonObject.getString(&quot;internet&quot;).toString());\r\n                        lists.setMail(jsonObject.getString(&quot;email&quot;).toString());\r\n                        lists.setPnumber(jsonObject.getString(&quot;phone_number&quot;).toString());\r\n                        lists.setTle(jsonObject.getString(&quot;poster&quot;).toString());\r\n                        lists.setCrt(jsonObject.getString(&quot;created&quot;).toString());\r\n                        lists.setMimage(jsonObject.getString(&quot;photo1&quot;).toString());\r\n\r\n                       String p = jsonObject.getString(&quot;photo1&quot;).toString();\r\n\r\n                       Log.e(&quot;kk&quot;,&quot;msg&quot;+p);\r\n\r\n                        lst.add(lists);\r\n\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\n                }\r\n\r\n                 recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\r\n                adapter = new Adapter(getApplicationContext(), lst, new Adapter.ItemClickListsner() {\r\n                    @Override\r\n                    public void onItemClick(Lists lst) {\r\n                      //  startActivity(new Intent(HomeActivity.this,roomsDesc.class));\r\n                        Intent intent = new Intent(HomeActivity.this, roomsDesc.class);\r\n                        intent.putExtra(&quot;title&quot;,lst.getName());\r\n                        intent.putExtra(&quot;price&quot;,lst.getPrc());\r\n                        intent.putExtra(&quot;location&quot;,lst.getAddress());\r\n                        intent.putExtra(&quot;description&quot;,lst.getDes());\r\n                        intent.putExtra(&quot;parking&quot;,lst.getGarage());\r\n                        intent.putExtra(&quot;internet&quot;,lst.getNet());\r\n                        intent.putExtra(&quot;email&quot;,lst.getMail());\r\n                        intent.putExtra(&quot;phone_number&quot;,lst.getPnumber());\r\n                        intent.putExtra(&quot;poster&quot;,lst.getTle());\r\n                        intent.putExtra(&quot;created&quot;,lst.getCrt());\r\n                        intent.putExtra(&quot;photo1&quot;,lst.getMimage());\r\n\r\n                        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                        HomeActivity.this.startActivity(intent);\r\n                    }\r\n                });\r\n                recyclerView.setAdapter(adapter);\r\n\r\n            }","title":"Fetching image using Picasso","body":"<p>Here in the given below code, I am trying to display in the image in recyclerview in the imageview after fetching it using picasso, it won't show error or app won't crash either but image won't be displayed, it either shows:</p>\n<p><strong>&quot;I/Choreographer: Skipped 30 frames! The application may be doing too much work on its main thread.&quot;</strong></p>\n<p><strong>Or</strong></p>\n<p><strong>W/RecyclerView: No adapter attached; skipping layout</strong></p>\n<p>public class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt; {</p>\n<pre><code>LayoutInflater inflater;\nList&lt;Lists&gt; lst;\nprivate ItemClickListsner mItemListener;\n\n\npublic Adapter(Context ctx, List&lt;Lists&gt; lst, ItemClickListsner itemClickListsner) {\n    this.inflater = LayoutInflater.from(ctx);\n    this.lst = lst;\n    this.mItemListener = itemClickListsner;\n\n}\n\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = inflater.inflate(R.layout.custom_list, parent, false);\n\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n    //   final Lists temp = lst.get(position);\n\n    holder.id.setText(lst.get(position).getId());\n    holder.name.setText(lst.get(position).getName());\n    holder.prc.setText(lst.get(position).getPrc());\n    holder.add.setText(lst.get(position).getAddress());\n    holder.description.setText(lst.get(position).getDes());\n    holder.park.setText(lst.get(position).getGarage());\n    holder.net.setText(lst.get(position).getNet());\n    holder.email.setText(lst.get(position).getMail());\n    holder.number.setText(lst.get(position).getPnumber());\n    holder.post.setText(lst.get(position).getTle());\n    holder.date.setText(lst.get(position).getCrt());\n\n    Picasso.with(inflater.getContext())\n            .load(lst.get(position).getMimage())\n            .placeholder(R.drawable.bed)\n            .fit()\n            .into(holder.ImgView);\n\n    holder.itemView.setOnClickListener(view -&gt; {\n        mItemListener.onItemClick(lst.get(position));\n    });\n\n}\n\n@Override\npublic int getItemCount() {\n    return lst.size();\n}\n\npublic interface ItemClickListsner{\n    void onItemClick(Lists lst);\n}\n\npublic void filterList(ArrayList&lt;Lists&gt; filteredList) {\n    lst = filteredList;\n    notifyDataSetChanged();\n}\n\npublic static class ViewHolder extends RecyclerView.ViewHolder {\n    TextView id, name, add, prc, description, park, net, post,email,number,date;\n    ImageView ImgView;\n    //  CardView cardView;\n\n\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        id = itemView.findViewById(R.id.textViewRecy1);\n        name = itemView.findViewById(R.id.textViewRecy2);\n        prc = itemView.findViewById(R.id.textViewRecy3);\n        add = itemView.findViewById((R.id.textViewRecy4));\n        description = itemView.findViewById(R.id.textViewRecy5);\n        park = itemView.findViewById(R.id.textViewRecy6);\n        net = itemView.findViewById(R.id.textViewRecy7);\n        post = itemView.findViewById(R.id.textViewRecy8);\n        email = itemView.findViewById(R.id.textViewRecy9);\n        number = itemView.findViewById(R.id.textViewRecy10);\n        date = itemView.findViewById(R.id.textViewRecy11);\n        ImgView = itemView.findViewById(R.id.ImageRecy);\n\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>Activity Code</strong></p>\n<p>private void extractList() {\nRequestQueue queue = Volley.newRequestQueue(this);</p>\n<pre><code>    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, JSON_URL, null, new Response.Listener&lt;JSONArray&gt;() {\n        @Override\n        public void onResponse(JSONArray response) {\n            for (int i = 0; i &lt; response.length(); i++) {\n                try {\n                    JSONObject jsonObject = response.getJSONObject(i);\n                    //Log.d(&quot;tags&quot;, &quot;error: &quot; + jsonObject);\n\n                    Lists lists = new Lists();\n\n                    lists.setName(jsonObject.getString(&quot;title&quot;).toString());\n                    lists.setAddress(jsonObject.getString(&quot;location&quot;).toString());\n                    lists.setPrc(jsonObject.getString(&quot;price&quot;).toString());\n                    lists.setDes(jsonObject.getString(&quot;description&quot;).toString());\n                    lists.setGarage(jsonObject.getString(&quot;parking&quot;).toString());\n                    lists.setNet(jsonObject.getString(&quot;internet&quot;).toString());\n                    lists.setMail(jsonObject.getString(&quot;email&quot;).toString());\n                    lists.setPnumber(jsonObject.getString(&quot;phone_number&quot;).toString());\n                    lists.setTle(jsonObject.getString(&quot;poster&quot;).toString());\n                    lists.setCrt(jsonObject.getString(&quot;created&quot;).toString());\n                    lists.setMimage(jsonObject.getString(&quot;photo1&quot;).toString());\n\n                   String p = jsonObject.getString(&quot;photo1&quot;).toString();\n\n                   Log.e(&quot;kk&quot;,&quot;msg&quot;+p);\n\n                    lst.add(lists);\n\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n\n\n            }\n\n             recyclerView.setLayoutManager(new LinearLayoutManager(getApplicationContext()));\n            adapter = new Adapter(getApplicationContext(), lst, new Adapter.ItemClickListsner() {\n                @Override\n                public void onItemClick(Lists lst) {\n                  //  startActivity(new Intent(HomeActivity.this,roomsDesc.class));\n                    Intent intent = new Intent(HomeActivity.this, roomsDesc.class);\n                    intent.putExtra(&quot;title&quot;,lst.getName());\n                    intent.putExtra(&quot;price&quot;,lst.getPrc());\n                    intent.putExtra(&quot;location&quot;,lst.getAddress());\n                    intent.putExtra(&quot;description&quot;,lst.getDes());\n                    intent.putExtra(&quot;parking&quot;,lst.getGarage());\n                    intent.putExtra(&quot;internet&quot;,lst.getNet());\n                    intent.putExtra(&quot;email&quot;,lst.getMail());\n                    intent.putExtra(&quot;phone_number&quot;,lst.getPnumber());\n                    intent.putExtra(&quot;poster&quot;,lst.getTle());\n                    intent.putExtra(&quot;created&quot;,lst.getCrt());\n                    intent.putExtra(&quot;photo1&quot;,lst.getMimage());\n\n                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                    HomeActivity.this.startActivity(intent);\n                }\n            });\n            recyclerView.setAdapter(adapter);\n\n        }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653883193,"post_id":72428995,"comment_id":127951445,"body_markdown":"[`BigDecimal#add/subtract/divide`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/math/BigDecimal.html) might be some places to start","body":"<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal#add&#47;subtract&#47;divide</code></a> might be some places to start"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653883976,"post_id":72428995,"comment_id":127951550,"body_markdown":"`sum = sum.add(new BigDecimal(number.doubleValue()));` where `number` is an element from the array &lt;- put in a loop, my testing generates a result of `20`","body":"<code>sum = sum.add(new BigDecimal(number.doubleValue()));</code> where <code>number</code> is an element from the array &lt;- put in a loop, my testing generates a result of <code>20</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653884009,"post_id":72428995,"comment_id":127951555,"body_markdown":"Or you also do something like ... `Arrays.stream(nums).map(e -&gt; new BigDecimal(e.doubleValue())).reduce(BigDecimal.ZERO, BigDecimal::add);`","body":"Or you also do something like ... <code>Arrays.stream(nums).map(e -&gt; new BigDecimal(e.doubleValue())).reduce(BigDecimal.ZERO, BigDecimal::add);</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1653891108,"post_id":72428995,"comment_id":127952813,"body_markdown":"@MadProgrammer e.doubleValue() would be bad in the case where e was a BigDecimal.","body":"@MadProgrammer e.doubleValue() would be bad in the case where e was a BigDecimal."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653891176,"post_id":72428995,"comment_id":127952833,"body_markdown":"@tgdavies Have a better choice - was trying to avoid using `instanceof` because &quot;it&#39;s messy&quot;","body":"@tgdavies Have a better choice - was trying to avoid using <code>instanceof</code> because &quot;it&#39;s messy&quot;"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1653892061,"post_id":72428995,"comment_id":127953039,"body_markdown":"Have a look at [Convert Java Number to BigDecimal : best way](https://stackoverflow.com/questions/16216248/convert-java-number-to-bigdecimal-best-way). Search for more.","body":"Have a look at <a href=\"https://stackoverflow.com/questions/16216248/convert-java-number-to-bigdecimal-best-way\">Convert Java Number to BigDecimal : best way</a>. Search for more."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1653894589,"post_id":72428995,"comment_id":127953737,"body_markdown":"My first change would be replacing the comparison of number type for using strings (class name) to using `Class#equals` method. Package and class names could change in future versions.","body":"My first change would be replacing the comparison of number type for using strings (class name) to using <code>Class#equals</code> method. Package and class names could change in future versions."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653899255,"post_id":72428995,"comment_id":127955237,"body_markdown":"@OleV.V. Yep read that","body":"@OleV.V. Yep read that"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1653899591,"post_id":72428995,"comment_id":127955344,"body_markdown":"@OleV.V. So, you&#39;re suggesting `Arrays.stream(nums).map(e -&gt; new BigDecimal(e.toString())).reduce(BigDecimal.ZERO, BigDecimal::add)` would be a better approach?","body":"@OleV.V. So, you&#39;re suggesting <code>Arrays.stream(nums).map(e -&gt; new BigDecimal(e.toString())).reduce(BigDecimal.ZERO, BigDecimal::add)</code> would be a better approach?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1653900241,"post_id":72428995,"comment_id":127955555,"body_markdown":"@MadProgrammer I have a hard time forming an opinion on what I would prefer, and it would probably depend on circumstances. Converting via strings may also incur inaccuracies. In many situations I’d be tempted to use your first approach only with special cases for the `Number` already being a `BigDecimal` or `BigInteger` (since they may be outside the `double` range as tgdavies mentioned).","body":"@MadProgrammer I have a hard time forming an opinion on what I would prefer, and it would probably depend on circumstances. Converting via strings may also incur inaccuracies. In many situations I’d be tempted to use your first approach only with special cases for the <code>Number</code> already being a <code>BigDecimal</code> or <code>BigInteger</code> (since they may be outside the <code>double</code> range as tgdavies mentioned)."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1653900988,"post_id":72428995,"comment_id":127955841,"body_markdown":"@OleV.V. I’d probably make the map function so it could check for an instance of BigDecimal and just return it","body":"@OleV.V. I’d probably make the map function so it could check for an instance of BigDecimal and just return it"}],"owner":{"account_id":18262656,"reputation":85,"user_id":13295116,"display_name":"dftag"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1653882998,"creation_date":1653882998,"question_id":72428995,"body_markdown":"I want to do math with a collection of Objects that are type `Number`. In this example I just want to sum them. What I could come up with currently is to just do a switch statement and then cast to a BigDecimal, as that is the largest value that I would be working with. This is working correctly right now and sums to 20. \r\n\r\nThis seems pretty involved and a large amount of work to do something pretty simple. Is there a better way to do this?\r\n\r\n```\r\nimport java.math.BigDecimal;\r\n\r\npublic class NumberArray {\r\n\r\n    public static BigDecimal sum(Number[] nums) {\r\n\t    BigDecimal summation = new BigDecimal(0);\r\n\r\n\t    for (Number n : nums) {\r\n\t        switch (n.getClass().getName()) {\r\n\t        case &quot;java.lang.Integer&quot;:\r\n\t\t        summation = summation.add(new BigDecimal((Integer) n));\r\n\t\t        break;\r\n\t        case &quot;java.lang.Double&quot;:\r\n\t\t        summation = summation.add(new BigDecimal((Double) n));\r\n\t\t        break;\r\n\t        case &quot;java.lang.Long&quot;:\r\n\t\t        summation = summation.add(new BigDecimal((Long) n));\r\n\t\t        break;\r\n\t        case &quot;java.lang.Float&quot;:\r\n\t\t        summation = summation.add(new BigDecimal((Float) n));\r\n\t\t        break;\r\n\t        case &quot;java.math.BigDecimal&quot;:\r\n\t\t        summation = summation.add((BigDecimal)n);\r\n\t\t        break;\r\n\t        default:\r\n\t\t        throw new IllegalArgumentException(&quot;Unsupported num: &quot; +n.getClass().getName());\r\n\t        }\r\n\t    }\r\n\t    return summation;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\t    Number[] nums = { 1, 1, 2, 2, 1L, 1f, new BigDecimal(10), 2.0 };\r\n\t    System.out.println(sum(nums));\r\n    }\r\n}\r\n\r\n```","title":"Is there a good way to do math with a collection of Numbers in Java?","body":"<p>I want to do math with a collection of Objects that are type <code>Number</code>. In this example I just want to sum them. What I could come up with currently is to just do a switch statement and then cast to a BigDecimal, as that is the largest value that I would be working with. This is working correctly right now and sums to 20.</p>\n<p>This seems pretty involved and a large amount of work to do something pretty simple. Is there a better way to do this?</p>\n<pre><code>import java.math.BigDecimal;\n\npublic class NumberArray {\n\n    public static BigDecimal sum(Number[] nums) {\n        BigDecimal summation = new BigDecimal(0);\n\n        for (Number n : nums) {\n            switch (n.getClass().getName()) {\n            case &quot;java.lang.Integer&quot;:\n                summation = summation.add(new BigDecimal((Integer) n));\n                break;\n            case &quot;java.lang.Double&quot;:\n                summation = summation.add(new BigDecimal((Double) n));\n                break;\n            case &quot;java.lang.Long&quot;:\n                summation = summation.add(new BigDecimal((Long) n));\n                break;\n            case &quot;java.lang.Float&quot;:\n                summation = summation.add(new BigDecimal((Float) n));\n                break;\n            case &quot;java.math.BigDecimal&quot;:\n                summation = summation.add((BigDecimal)n);\n                break;\n            default:\n                throw new IllegalArgumentException(&quot;Unsupported num: &quot; +n.getClass().getName());\n            }\n        }\n        return summation;\n    }\n\n    public static void main(String[] args) {\n        Number[] nums = { 1, 1, 2, 2, 1L, 1f, new BigDecimal(10), 2.0 };\n        System.out.println(sum(nums));\n    }\n}\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8688,"page":1304,"page_size":100}
