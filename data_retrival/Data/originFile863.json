{"items":[{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1669127974,"post_id":74534360,"comment_id":131570152,"body_markdown":"I haven&#39;t done android dev in a long time, but this looks pretty normal to me. Just add a `dependencies { }` block to add your dependencies","body":"I haven&#39;t done android dev in a long time, but this looks pretty normal to me. Just add a <code>dependencies { }</code> block to add your dependencies"},{"owner":{"account_id":23477658,"reputation":428,"user_id":17530237,"display_name":"kamal douma"},"score":0,"creation_date":1669128417,"post_id":74534360,"comment_id":131570341,"body_markdown":"no i thing there should be some thing like build scripts , repositories,...","body":"no i thing there should be some thing like build scripts , repositories,..."},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":1,"creation_date":1669128954,"post_id":74534360,"comment_id":131570569,"body_markdown":"Well it all depends on how the general build is defined. Check the `settings.gradle(.kts)` file(s) and how they include different builds from different folders, and check the potential other `build.gradle(.kts)` files (add them to the question if you find some). `buildScript` blocks are only useful to customize the behaviour of your build file itself, but it&#39;s completely optional, and could be declared elsewhere, or entirely superseded by the `plugins{}` block you have. `repositories { }` might be declared in other places.","body":"Well it all depends on how the general build is defined. Check the <code>settings.gradle(.kts)</code> file(s) and how they include different builds from different folders, and check the potential other <code>build.gradle(.kts)</code> files (add them to the question if you find some). <code>buildScript</code> blocks are only useful to customize the behaviour of your build file itself, but it&#39;s completely optional, and could be declared elsewhere, or entirely superseded by the <code>plugins{}</code> block you have. <code>repositories { }</code> might be declared in other places."},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1669129091,"post_id":74534360,"comment_id":131570637,"body_markdown":"Note that properly structured Gradle builds shouldn&#39;t have complicated project build scripts. Lots can be done via plugins (maybe convention plugins, or compiled plugins), so the different subprojects are simple.","body":"Note that properly structured Gradle builds shouldn&#39;t have complicated project build scripts. Lots can be done via plugins (maybe convention plugins, or compiled plugins), so the different subprojects are simple."}],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669139908,"creation_date":1669139282,"answer_id":74537023,"question_id":74534360,"body_markdown":"The `plugins` block replaced the `apply plugin` block.\r\n\r\nIt uses the syntax:\r\n\r\n    plugins {\r\n        id &#171;plugin id&#187; version &#171;plugin version&#187; [apply &#171;false&#187;]\r\n    }\r\n\r\nThe `apply` false after the plugin declaration means that it&#39;s just added to the classpath without also applying it to the project. This is useful if you want to declare all plugins and their versions in the root project.\r\n\r\nIn your case:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n    }\r\n\r\nreplaces:\r\n\r\n    buildscript {\r\n      repositories {\r\n        //...\r\n      }\r\n      dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:x.x.x&#39;\r\n      }\r\n    }\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\nIn the `settings.gradle` you can find the repositories used to find the plugins:\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            gradlePluginPortal()\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n\r\nYou can add other repos and also other plugins in same blocks.\r\n\r\nThen in your `app/build.gradle` file you can find:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n    }\r\n\r\nIn the same file you can add other dependencies adding the `dependencies` block:\r\n\r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n        //\r\n    }\r\n\r\nand the `repositories` block\r\n\r\n       repositories {\r\n            google()\r\n        }\r\n\r\nIn the `settings.gradle` you can find also the repositories used by the module dependencies:\r\n\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n\r\n","title":"my build.gradle (project-level) looks different android studio dolphin","body":"<p>The <code>plugins</code> block replaced the <code>apply plugin</code> block.</p>\n<p>It uses the syntax:</p>\n<pre><code>plugins {\n    id «plugin id» version «plugin version» [apply «false»]\n}\n</code></pre>\n<p>The <code>apply</code> false after the plugin declaration means that it's just added to the classpath without also applying it to the project. This is useful if you want to declare all plugins and their versions in the root project.</p>\n<p>In your case:</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.3.1' apply false\n}\n</code></pre>\n<p>replaces:</p>\n<pre><code>buildscript {\n  repositories {\n    //...\n  }\n  dependencies {\n    classpath 'com.android.tools.build:gradle:x.x.x'\n  }\n}\n\napply plugin: 'com.android.application'\n</code></pre>\n<p>In the <code>settings.gradle</code> you can find the repositories used to find the plugins:</p>\n<pre><code>pluginManagement {\n    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\n</code></pre>\n<p>You can add other repos and also other plugins in same blocks.</p>\n<p>Then in your <code>app/build.gradle</code> file you can find:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n</code></pre>\n<p>In the same file you can add other dependencies adding the <code>dependencies</code> block:</p>\n<pre><code>dependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    //\n}\n</code></pre>\n<p>and the <code>repositories</code> block</p>\n<pre><code>   repositories {\n        google()\n    }\n</code></pre>\n<p>In the <code>settings.gradle</code> you can find also the repositories used by the module dependencies:</p>\n<pre><code>dependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23477658,"reputation":428,"user_id":17530237,"display_name":"kamal douma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669139908,"creation_date":1669127777,"question_id":74534360,"body_markdown":"I created a new project and this is what my build.gradle file contains:\r\n\r\n    \r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n        id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.20&#39; apply false\r\n    }\r\n\r\nthere is no build scripts and know I don&#39;t know where to add dependencies.\r\nis it a new thing or what? ","title":"my build.gradle (project-level) looks different android studio dolphin","body":"<p>I created a new project and this is what my build.gradle file contains:</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n    id 'org.jetbrains.kotlin.android' version '1.7.20' apply false\n}\n</code></pre>\n<p>there is no build scripts and know I don't know where to add dependencies.\nis it a new thing or what?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1669146769,"post_id":74537095,"comment_id":131577051,"body_markdown":"Might want to try that all in one line/actions chain... (don&#39;t call perform til the end)  If that doesn&#39;t help you may need to generate certain HTML5 events.  (dragstart, dragend, drop...)","body":"Might want to try that all in one line/actions chain... (don&#39;t call perform til the end)  If that doesn&#39;t help you may need to generate certain HTML5 events.  (dragstart, dragend, drop...)"},{"owner":{"account_id":24069996,"reputation":1,"user_id":18046039,"display_name":"Ayse"},"score":0,"creation_date":1669193513,"post_id":74537095,"comment_id":131586467,"body_markdown":"I tried one line chain but it doesn&#39;t work too. I was thinking of js executor but since the line doesn&#39;t have a locator, I couldn&#39;t find a way to locate it according to the first element","body":"I tried one line chain but it doesn&#39;t work too. I was thinking of js executor but since the line doesn&#39;t have a locator, I couldn&#39;t find a way to locate it according to the first element"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1669224109,"post_id":74537095,"comment_id":131597994,"body_markdown":"canvas&#39;s can have webelements layered on top to retrieve events.  If that&#39;s not the case, you&#39;d have to hack out the coords.","body":"canvas&#39;s can have webelements layered on top to retrieve events.  If that&#39;s not the case, you&#39;d have to hack out the coords."},{"owner":{"account_id":24069996,"reputation":1,"user_id":18046039,"display_name":"Ayse"},"score":0,"creation_date":1669305648,"post_id":74537095,"comment_id":131619031,"body_markdown":"The panel is based on google maps so streets and roads can&#39;t be located. There is a route shown as a line which I mention in my question drawn by the application but it is in the canvas element. I have some polyline elements in the dom but I can&#39;t highlight them on the browser to make sure if it is related to that line. I tried with coordinates even though they are right, the action class is not doing its job.","body":"The panel is based on google maps so streets and roads can&#39;t be located. There is a route shown as a line which I mention in my question drawn by the application but it is in the canvas element. I have some polyline elements in the dom but I can&#39;t highlight them on the browser to make sure if it is related to that line. I tried with coordinates even though they are right, the action class is not doing its job."}],"owner":{"account_id":24069996,"reputation":1,"user_id":18046039,"display_name":"Ayse"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669139787,"creation_date":1669139673,"question_id":74537095,"body_markdown":"I need to drag a line with the CTRL key onto secondElement but it doesn&#39;t have a locator in the DOM since it is in the Canvas element. But I can locate it according to firstElement position. \r\n\r\nWith the following script, I can see the selenium selecting the line but not dragging on the second element. I don&#39;t know what is wrong with this method.  Here is the code: \r\n\r\n```\r\nActions actions = new Actions(driver);\r\nactions.moveToElement(firstElement,-10,-15)\r\n    .keyDown(Keys.CONTROL).clickAndHold().perform();\r\nactions.moveToElement(secondElement).release().keyUp(Keys.CONTROL).perform();\r\n```\r\n\r\n\r\n","title":"In Selenium Java, clickAndHold() method without element is not working","body":"<p>I need to drag a line with the CTRL key onto secondElement but it doesn't have a locator in the DOM since it is in the Canvas element. But I can locate it according to firstElement position.</p>\n<p>With the following script, I can see the selenium selecting the line but not dragging on the second element. I don't know what is wrong with this method.  Here is the code:</p>\n<pre><code>Actions actions = new Actions(driver);\nactions.moveToElement(firstElement,-10,-15)\n    .keyDown(Keys.CONTROL).clickAndHold().perform();\nactions.moveToElement(secondElement).release().keyUp(Keys.CONTROL).perform();\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1669136661,"post_id":74536442,"comment_id":131573743,"body_markdown":"Does this answer your question? [How to convert spring-boot request parameter](https://stackoverflow.com/questions/52557076/how-to-convert-spring-boot-request-parameter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52557076/how-to-convert-spring-boot-request-parameter\">How to convert spring-boot request parameter</a>"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1669138764,"post_id":74536442,"comment_id":131574523,"body_markdown":"@Turing85 no, it doesn&#39;t _quite_ answer it. See my update above.","body":"@Turing85 no, it doesn&#39;t <i>quite</i> answer it. See my update above."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669138798,"post_id":74536442,"comment_id":131574528,"body_markdown":"You can just add the cases for `true` and `false`.","body":"You can just add the cases for <code>true</code> and <code>false</code>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1669139206,"post_id":74536442,"comment_id":131574658,"body_markdown":"@Turing85 unfortunately I haven&#39;t got a Github account, but the application is trivial. It contains no more code than is shown above. I just created a Spring Boot app using the initializer, added the code above, and all done in 5 minutes.","body":"@Turing85 unfortunately I haven&#39;t got a Github account, but the application is trivial. It contains no more code than is shown above. I just created a Spring Boot app using the initializer, added the code above, and all done in 5 minutes."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669139264,"post_id":74536442,"comment_id":131574675,"body_markdown":"And it takes about 2 minutes to create a github account :). And as I said: you can just add cases for `true` and `false`.","body":"And it takes about 2 minutes to create a github account :). And as I said: you can just add cases for <code>true</code> and <code>false</code>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1669139429,"post_id":74536442,"comment_id":131574735,"body_markdown":"@Turing85 I don&#39;t see how I can add the cases for &quot;true&quot; and &quot;false&quot;. Where? In the Converter? That doesn&#39;t get called at all if the string matches what&#39;s already allowed by default (which is &quot;true&quot;, &quot;1&quot;, &quot;yes&quot;, &quot;on&quot;, &quot;false&quot;, &quot;0&quot;, &quot;no&quot;, and &quot;off&quot;).","body":"@Turing85 I don&#39;t see how I can add the cases for &quot;true&quot; and &quot;false&quot;. Where? In the Converter? That doesn&#39;t get called at all if the string matches what&#39;s already allowed by default (which is &quot;true&quot;, &quot;1&quot;, &quot;yes&quot;, &quot;on&quot;, &quot;false&quot;, &quot;0&quot;, &quot;no&quot;, and &quot;off&quot;)."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1669139447,"post_id":74536442,"comment_id":131574743,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/249814/discussion-between-turing85-and-k314159).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/249814/discussion-between-turing85-and-k314159\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669139632,"creation_date":1669139632,"answer_id":74537088,"question_id":74536442,"body_markdown":"can&#39;t you map it to an enum?\r\n\r\n    enum BooleanInput {\r\n        oui(true),\r\n        non(false);\r\n    \r\n        private boolean value;\r\n    \r\n        BooleanInput(boolean value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        Boolean value() {\r\n            return this.value;\r\n        }\r\n    }\r\n\r\nand in the controller,\r\n\r\n        @GetMapping(&quot;/e&quot;)\r\n        ResponseEntity&lt;String&gt; showRequestParam(@RequestParam BooleanInput flag) {\r\n            return new ResponseEntity&lt;&gt;(flag.value(), HttpStatus.OK);\r\n        }","title":"Spring @RequestParam custom type conversion","body":"<p>can't you map it to an enum?</p>\n<pre><code>enum BooleanInput {\n    oui(true),\n    non(false);\n\n    private boolean value;\n\n    BooleanInput(boolean value) {\n        this.value = value;\n    }\n\n    Boolean value() {\n        return this.value;\n    }\n}\n</code></pre>\n<p>and in the controller,</p>\n<pre><code>    @GetMapping(&quot;/e&quot;)\n    ResponseEntity&lt;String&gt; showRequestParam(@RequestParam BooleanInput flag) {\n        return new ResponseEntity&lt;&gt;(flag.value(), HttpStatus.OK);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2721194,"reputation":51,"user_id":2347461,"display_name":"Noplopy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669139645,"creation_date":1669139645,"answer_id":74537090,"question_id":74536442,"body_markdown":"In your first case, your requestParam is a boolean but you bind a **B**oolean.\r\n\r\nI&#39;ve tried with this code\r\n```java\r\n@InitBinder\r\nprotected void initBinder(WebDataBinder binder) {\r\n    binder.registerCustomEditor(Boolean.class, new CustomBooleanEditor(&quot;oui&quot;, &quot;non&quot;, true));\r\n}\r\n\r\n@GetMapping(&quot;/e&quot;)\r\nResponseEntity&lt;String&gt; showRequestParam(@RequestParam(value=&quot;flag&quot;) Boolean flag) {\r\n    return new ResponseEntity&lt;&gt;(String.valueOf(flag), HttpStatus.OK);\r\n}\r\n```\r\n\r\nAnd it&#39;s print \r\n\r\n&gt; true\r\n\r\n when I call localhost:8080/e?flag=oui\r\n","title":"Spring @RequestParam custom type conversion","body":"<p>In your first case, your requestParam is a boolean but you bind a <strong>B</strong>oolean.</p>\n<p>I've tried with this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@InitBinder\nprotected void initBinder(WebDataBinder binder) {\n    binder.registerCustomEditor(Boolean.class, new CustomBooleanEditor(&quot;oui&quot;, &quot;non&quot;, true));\n}\n\n@GetMapping(&quot;/e&quot;)\nResponseEntity&lt;String&gt; showRequestParam(@RequestParam(value=&quot;flag&quot;) Boolean flag) {\n    return new ResponseEntity&lt;&gt;(String.valueOf(flag), HttpStatus.OK);\n}\n</code></pre>\n<p>And it's print</p>\n<blockquote>\n<p>true</p>\n</blockquote>\n<p>when I call localhost:8080/e?flag=oui</p>\n"}],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74537090,"answer_count":2,"score":0,"last_activity_date":1669139645,"creation_date":1669136490,"question_id":74536442,"body_markdown":"**How do I create a custom type converter for a boolean parameter in a GET request?**\r\n\r\nFor example, I want the allowed values in the GET request to be &quot;oui&quot; and &quot;non&quot; instead of &quot;true&quot; and &quot;false&quot;. I followed the [Spring documentation][1] on how to do this, and tried the following:\r\n\r\n```lang:java\r\n@RestController\r\npublic class ExampleController {\r\n    @InitBinder\r\n    protected void initBinder(WebDataBinder binder) {\r\n        binder.registerCustomEditor(Boolean.class, new CustomBooleanEditor(&quot;oui&quot;, &quot;non&quot;, true));\r\n    }\r\n\r\n    @GetMapping(&quot;/e&quot;)\r\n    ResponseEntity&lt;String&gt; showRequestParam(@RequestParam boolean flag) {\r\n        return new ResponseEntity&lt;&gt;(String.valueOf(flag), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nI also tried this:\r\n\r\n```lang:java\r\n@RestController\r\npublic class DemoController {\r\n    @InitBinder\r\n    protected void initBinder(WebDataBinder binder) {\r\n        binder.addCustomFormatter(new Formatter&lt;Boolean&gt;() {\r\n            @Override\r\n            public Boolean parse(String text, Locale locale) throws ParseException {\r\n                if (&quot;oui&quot;.equalsIgnoreCase(text)) return true;\r\n                if (&quot;non&quot;.equalsIgnoreCase(text)) return false;\r\n                throw new ParseException(&quot;Invalid boolean parameter value &#39;&quot; + text + &quot;&#39;; please specify oui or non&quot;, 0);\r\n            }\r\n\r\n            @Override\r\n            public String print(Boolean object, Locale locale) {\r\n                return String.valueOf(object);\r\n            }\r\n        }, Boolean.class);\r\n    }\r\n\r\n    @GetMapping(&quot;/r&quot;)\r\n    ResponseEntity&lt;String&gt; showRequestParam(@RequestParam(value = &quot;param&quot;) boolean param) {\r\n        return new ResponseEntity&lt;&gt;(String.valueOf(param), HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nNeither of these worked. When supplying the value &quot;oui&quot;, I got an HTTP 400 response with the following message:\r\n\r\n&gt; Failed to convert value of type &#39;java.lang.String&#39; to required type\r\n&gt; &#39;boolean&#39;; nested exception is java.lang.IllegalArgumentException:\r\n&gt; Invalid boolean value [oui]&quot;\r\n\r\n**Update:**\r\n\r\nI&#39;ve also now tried using a Converter:\r\n\r\n```java\r\n@Component\r\npublic class BooleanConverter implements Converter&lt;String, Boolean&gt; {\r\n    @Override\r\n    public Boolean convert(String text) {\r\n        if (&quot;oui&quot;.equalsIgnoreCase(text)) return true;\r\n        if (&quot;non&quot;.equalsIgnoreCase(text)) return false;\r\n        throw new IllegalArgumentException(&quot;Invalid boolean parameter value &#39;&quot; + text + &quot;&#39;; please specify oui or non&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThis &quot;kind of&quot; works, in that it now accepts &quot;oui&quot; and &quot;non&quot;, but it does so _in addition_ to &quot;true&quot; and &quot;false&quot;. How can I get it to accept &quot;oui&quot; and &quot;non&quot; _instead of_ &quot;true&quot; and &quot;false&quot;?\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.0.0.M4/spring-framework-reference/html/mvc.html#mvc-ann-typeconversion","title":"Spring @RequestParam custom type conversion","body":"<p><strong>How do I create a custom type converter for a boolean parameter in a GET request?</strong></p>\n<p>For example, I want the allowed values in the GET request to be &quot;oui&quot; and &quot;non&quot; instead of &quot;true&quot; and &quot;false&quot;. I followed the <a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.M4/spring-framework-reference/html/mvc.html#mvc-ann-typeconversion\" rel=\"nofollow noreferrer\">Spring documentation</a> on how to do this, and tried the following:</p>\n<pre><code>@RestController\npublic class ExampleController {\n    @InitBinder\n    protected void initBinder(WebDataBinder binder) {\n        binder.registerCustomEditor(Boolean.class, new CustomBooleanEditor(&quot;oui&quot;, &quot;non&quot;, true));\n    }\n\n    @GetMapping(&quot;/e&quot;)\n    ResponseEntity&lt;String&gt; showRequestParam(@RequestParam boolean flag) {\n        return new ResponseEntity&lt;&gt;(String.valueOf(flag), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>I also tried this:</p>\n<pre><code>@RestController\npublic class DemoController {\n    @InitBinder\n    protected void initBinder(WebDataBinder binder) {\n        binder.addCustomFormatter(new Formatter&lt;Boolean&gt;() {\n            @Override\n            public Boolean parse(String text, Locale locale) throws ParseException {\n                if (&quot;oui&quot;.equalsIgnoreCase(text)) return true;\n                if (&quot;non&quot;.equalsIgnoreCase(text)) return false;\n                throw new ParseException(&quot;Invalid boolean parameter value '&quot; + text + &quot;'; please specify oui or non&quot;, 0);\n            }\n\n            @Override\n            public String print(Boolean object, Locale locale) {\n                return String.valueOf(object);\n            }\n        }, Boolean.class);\n    }\n\n    @GetMapping(&quot;/r&quot;)\n    ResponseEntity&lt;String&gt; showRequestParam(@RequestParam(value = &quot;param&quot;) boolean param) {\n        return new ResponseEntity&lt;&gt;(String.valueOf(param), HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>Neither of these worked. When supplying the value &quot;oui&quot;, I got an HTTP 400 response with the following message:</p>\n<blockquote>\n<p>Failed to convert value of type 'java.lang.String' to required type\n'boolean'; nested exception is java.lang.IllegalArgumentException:\nInvalid boolean value [oui]&quot;</p>\n</blockquote>\n<p><strong>Update:</strong></p>\n<p>I've also now tried using a Converter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class BooleanConverter implements Converter&lt;String, Boolean&gt; {\n    @Override\n    public Boolean convert(String text) {\n        if (&quot;oui&quot;.equalsIgnoreCase(text)) return true;\n        if (&quot;non&quot;.equalsIgnoreCase(text)) return false;\n        throw new IllegalArgumentException(&quot;Invalid boolean parameter value '&quot; + text + &quot;'; please specify oui or non&quot;);\n    }\n}\n</code></pre>\n<p>This &quot;kind of&quot; works, in that it now accepts &quot;oui&quot; and &quot;non&quot;, but it does so <em>in addition</em> to &quot;true&quot; and &quot;false&quot;. How can I get it to accept &quot;oui&quot; and &quot;non&quot; <em>instead of</em> &quot;true&quot; and &quot;false&quot;?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":13415327,"reputation":491,"user_id":9680087,"display_name":"Allan J."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668535306,"creation_date":1668535306,"answer_id":74450252,"question_id":74450174,"body_markdown":"You cannot, as `Nested` is not accessible outside of `SomeClass`. You can either make `Nested` public (or package-private if both `SomeClass` and `MyClass` are in the same package), or move `MyClass` inside of `SomeClass`.","title":"List of protected nested class","body":"<p>You cannot, as <code>Nested</code> is not accessible outside of <code>SomeClass</code>. You can either make <code>Nested</code> public (or package-private if both <code>SomeClass</code> and <code>MyClass</code> are in the same package), or move <code>MyClass</code> inside of <code>SomeClass</code>.</p>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668535453,"creation_date":1668535453,"answer_id":74450293,"question_id":74450174,"body_markdown":"One solution is to create a public interface which `Nested` implements. Then you can refer to that interface type `List&lt;MyInterface&gt;`, for example. And `make()` returns the interface type, instead of `Nested`. This is the pattern used by many classes in the standard Java API.","title":"List of protected nested class","body":"<p>One solution is to create a public interface which <code>Nested</code> implements. Then you can refer to that interface type <code>List&lt;MyInterface&gt;</code>, for example. And <code>make()</code> returns the interface type, instead of <code>Nested</code>. This is the pattern used by many classes in the standard Java API.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668536190,"creation_date":1668536190,"answer_id":74450445,"question_id":74450174,"body_markdown":"First of all you should know, that ther&#39;re `static` and `not static` inner classes.\r\n\r\nOnly one differenct: `static` class does not have a reference to it&#39;s parent class (but `non static` does). So it is not possible to create `non static` inner class without it&#39;s parent.\r\n\r\nIn case you want to have a list (e.g. `Tree` and `Tree.Node`), looks like you should create a `static inner class`.\r\n\r\nAnyway, you can create a list of inner classes like `List&lt;[ParentClass].[InnerClass]&gt;` (you can have many `.` like `List&lt;A.B.C.D.E&gt;`).\r\n\r\n```java\r\npublic class MyClass {\r\n  public SomeClass instance;\r\n\r\n  public List&lt;SomeClass.Nested&gt; method() {\r\n    List&lt;SomeClass.Nested&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(instance.make(1));\r\n    list.add(instance.make(2));\r\n    return list;\r\n  }\r\n}\r\n```\r\n\r\n","title":"List of protected nested class","body":"<p>First of all you should know, that ther're <code>static</code> and <code>not static</code> inner classes.</p>\n<p>Only one differenct: <code>static</code> class does not have a reference to it's parent class (but <code>non static</code> does). So it is not possible to create <code>non static</code> inner class without it's parent.</p>\n<p>In case you want to have a list (e.g. <code>Tree</code> and <code>Tree.Node</code>), looks like you should create a <code>static inner class</code>.</p>\n<p>Anyway, you can create a list of inner classes like <code>List&lt;[ParentClass].[InnerClass]&gt;</code> (you can have many <code>.</code> like <code>List&lt;A.B.C.D.E&gt;</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n  public SomeClass instance;\n\n  public List&lt;SomeClass.Nested&gt; method() {\n    List&lt;SomeClass.Nested&gt; list = new ArrayList&lt;&gt;();\n    list.add(instance.make(1));\n    list.add(instance.make(2));\n    return list;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":5431557,"reputation":1199,"user_id":4322265,"display_name":"asdru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1669139593,"creation_date":1668534971,"question_id":74450174,"body_markdown":"I have a Java class with a nested protected class in it. In a method of another class (and in another package) I have to make a list of such nested protected type.\r\n\r\nIs there a way to do this in Java?\r\n\r\n```Java\r\n// SomeClass.java\r\npackage stuff;\r\n\r\npublic class SomeClass {\r\n  protected class Nested {\r\n    int x;\r\n    public Nested setX(int arg) {\r\n      x = x;\r\n      return this;\r\n    }\r\n    public int getX() {\r\n      return x;\r\n    }\r\n  }\r\n\r\n  public Nested make(int x) {\r\n    return new Nested().setX(x);\r\n  }\r\n}\r\n```\r\n\r\n```Java\r\n// MyClass.java\r\npackage project;\r\n\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport stuff.SomeClass;\r\n\r\npublic class MyClass {\r\n  public SomeClass instance;\r\n\r\n  // I don&#39;t know what I should insert ...\r\n  public List&lt; /* ... here... */ ?&gt; method() {\r\n    var list = new ArrayList&lt; /* ... and here... */ &gt;();\r\n    list.add(instance.make(1));\r\n    list.add(instance.make(2));\r\n    return list; // ... to return an ArrayList&lt;SomeClass.Nested&gt;\r\n  }\r\n}\r\n```\r\n\r\nMaybe something like the C++ `decltype()` or some kind of template deduction whould work!\r\n\r\nEven some reflection magic would be ok for me.\r\n\r\nPS.\r\nI whuld not modify SomeClass","title":"List of protected nested class","body":"<p>I have a Java class with a nested protected class in it. In a method of another class (and in another package) I have to make a list of such nested protected type.</p>\n<p>Is there a way to do this in Java?</p>\n<pre><code>// SomeClass.java\npackage stuff;\n\npublic class SomeClass {\n  protected class Nested {\n    int x;\n    public Nested setX(int arg) {\n      x = x;\n      return this;\n    }\n    public int getX() {\n      return x;\n    }\n  }\n\n  public Nested make(int x) {\n    return new Nested().setX(x);\n  }\n}\n</code></pre>\n<pre><code>// MyClass.java\npackage project;\n\nimport java.util.List;\nimport java.util.ArrayList;\nimport stuff.SomeClass;\n\npublic class MyClass {\n  public SomeClass instance;\n\n  // I don't know what I should insert ...\n  public List&lt; /* ... here... */ ?&gt; method() {\n    var list = new ArrayList&lt; /* ... and here... */ &gt;();\n    list.add(instance.make(1));\n    list.add(instance.make(2));\n    return list; // ... to return an ArrayList&lt;SomeClass.Nested&gt;\n  }\n}\n</code></pre>\n<p>Maybe something like the C++ <code>decltype()</code> or some kind of template deduction whould work!</p>\n<p>Even some reflection magic would be ok for me.</p>\n<p>PS.\nI whuld not modify SomeClass</p>\n"},{"tags":["java","spring-security","keycloak","keycloak-services","keycloak-rest-api"],"comments":[{"owner":{"account_id":1535526,"reputation":628,"user_id":1431690,"accept_rate":60,"display_name":"nettie"},"score":0,"creation_date":1669154915,"post_id":74537073,"comment_id":131579288,"body_markdown":"Why are you trying to get user secret key? Seems ethically questionable.","body":"Why are you trying to get user secret key? Seems ethically questionable."},{"owner":{"account_id":21109085,"reputation":11,"user_id":15517462,"display_name":"Gustavo Guimar&#227;es"},"score":2,"creation_date":1669202899,"post_id":74537073,"comment_id":131589820,"body_markdown":"I need the secret because I need to do OTP code validation on critical system screens. The secret would be used to generate the OTP code in the backend and then compare it","body":"I need the secret because I need to do OTP code validation on critical system screens. The secret would be used to generate the OTP code in the backend and then compare it"}],"owner":{"account_id":21109085,"reputation":11,"user_id":15517462,"display_name":"Gustavo Guimar&#227;es"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669139544,"creation_date":1669139544,"question_id":74537073,"body_markdown":"I have an application using spring boot, angular and keycloak in version 18.0. In the application all the users has 2FA configured by keycloak. I need recover the MFA secret of all the users. Is there any easy way to retrieve this secret?\r\n\r\n\r\nNote: I need the secret of the users and not the client secret","title":"How to Get a Secret User in keycloak","body":"<p>I have an application using spring boot, angular and keycloak in version 18.0. In the application all the users has 2FA configured by keycloak. I need recover the MFA secret of all the users. Is there any easy way to retrieve this secret?</p>\n<p>Note: I need the secret of the users and not the client secret</p>\n"},{"tags":["java","ethereum","web3-java"],"answers":[{"tags":[],"owner":{"account_id":1870979,"reputation":41410,"user_id":1693192,"accept_rate":80,"display_name":"Petr Hejda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617719654,"creation_date":1617719654,"answer_id":66970720,"question_id":66969641,"body_markdown":"When a transaction creates a contract, the `to` field is empty by design (of the Ethereum network).\r\n\r\nTo get the contract address that the transaction creates, use the [getCreates()][1] method.\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.web3j/core/4.5.3/org/web3j/protocol/core/methods/response/Transaction.html#getCreates--","title":"Web3J &quot;transaction.getTo()&quot; returns null if sent to contract","body":"<p>When a transaction creates a contract, the <code>to</code> field is empty by design (of the Ethereum network).</p>\n<p>To get the contract address that the transaction creates, use the <a href=\"https://javadoc.io/static/org.web3j/core/4.5.3/org/web3j/protocol/core/methods/response/Transaction.html#getCreates--\" rel=\"nofollow noreferrer\">getCreates()</a> method.</p>\n"}],"owner":{"account_id":17810467,"reputation":11,"user_id":12935213,"display_name":"Rodarg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669139373,"creation_date":1617715815,"question_id":66969641,"body_markdown":"I&#39;m currently running a full node and am trying to loop through some transactions. Whenever I do so with Web3j and use the ```EthBlock.TransactionObject``` and I get to a transaction that contains a contract ([Like this one][1]) and use the ```.getTo()``` function it returns a null value. Is there any way for me to retrieve the contract address? \r\n\r\n\r\n  [1]: https://etherscan.io/tx/0x9e7b5966b33b4393f250bfcf45eed7751d44981b6d8dec9422a0bd2a2c698306\r\n\r\nEDIT:\r\nThis is the code im using to get the transaction\r\n```\r\nEthBlock.Block block = web3.ethGetBlockByNumber(DefaultBlockParameter.valueOf(BigInteger.valueOf(1397553)), true).send().getBlock();\r\nList&lt;EthBlock.TransactionResult&gt; transactionResults = block.getTransactions();\r\ntransactionResults.forEach(tx -&gt; {\r\n   EthBlock.TransactionObject transaction = (EthBlock.TransactionObject) tx.get();\r\n   System.out.println(transaction.getCreates());\r\n});\r\n```\r\n\r\nThis returns a &quot;null&quot;","title":"Web3J &quot;transaction.getTo()&quot; returns null if sent to contract","body":"<p>I'm currently running a full node and am trying to loop through some transactions. Whenever I do so with Web3j and use the <code>EthBlock.TransactionObject</code> and I get to a transaction that contains a contract (<a href=\"https://etherscan.io/tx/0x9e7b5966b33b4393f250bfcf45eed7751d44981b6d8dec9422a0bd2a2c698306\" rel=\"nofollow noreferrer\">Like this one</a>) and use the <code>.getTo()</code> function it returns a null value. Is there any way for me to retrieve the contract address?</p>\n<p>EDIT:\nThis is the code im using to get the transaction</p>\n<pre><code>EthBlock.Block block = web3.ethGetBlockByNumber(DefaultBlockParameter.valueOf(BigInteger.valueOf(1397553)), true).send().getBlock();\nList&lt;EthBlock.TransactionResult&gt; transactionResults = block.getTransactions();\ntransactionResults.forEach(tx -&gt; {\n   EthBlock.TransactionObject transaction = (EthBlock.TransactionObject) tx.get();\n   System.out.println(transaction.getCreates());\n});\n</code></pre>\n<p>This returns a &quot;null&quot;</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669320839,"post_id":74536849,"comment_id":131622906,"body_markdown":"So, you want the result be sorted by column &quot;total_numbers_of_users_who“ and filtered by column „pid“?","body":"So, you want the result be sorted by column &quot;total_numbers_of_users_who“ and filtered by column „pid“?"}],"answers":[{"tags":[],"owner":{"account_id":24291308,"reputation":13,"user_id":18236283,"display_name":"Ben Chu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669138913,"creation_date":1669138913,"answer_id":74536948,"question_id":74536849,"body_markdown":"I have found the answer: findTopByProductOrderByPruidDesc","title":"MySQL command to get only the latest data in Spring boot?","body":"<p>I have found the answer: findTopByProductOrderByPruidDesc</p>\n"}],"owner":{"account_id":24291308,"reputation":13,"user_id":18236283,"display_name":"Ben Chu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669598196,"accepted_answer_id":74536948,"answer_count":1,"score":0,"last_activity_date":1669138913,"creation_date":1669138408,"question_id":74536849,"body_markdown":"The following shows one entity, where the same product (same pid) is given a rating by two different users (different uid). I want to get the latest data about average_stars (namely the second column data), which is 4.50. I used a MySQL command **findTopByProduct**, which shows me the older average_stars instead, namely 4.00. I tried **findBottomByProduct**, which turns out to be non-existent. I will really appreciate anyone who can help me with this simple question. Thanks in advance!\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hct3M.png","title":"MySQL command to get only the latest data in Spring boot?","body":"<p>The following shows one entity, where the same product (same pid) is given a rating by two different users (different uid). I want to get the latest data about average_stars (namely the second column data), which is 4.50. I used a MySQL command <strong>findTopByProduct</strong>, which shows me the older average_stars instead, namely 4.00. I tried <strong>findBottomByProduct</strong>, which turns out to be non-existent. I will really appreciate anyone who can help me with this simple question. Thanks in advance!</p>\n<p><a href=\"https://i.stack.imgur.com/hct3M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hct3M.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","html","selenium","validation"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":1,"creation_date":1535312459,"post_id":52029267,"comment_id":91009672,"body_markdown":"I think that is specific to Chrome and is not actually HTML in/on the page. I&#39;ve seen questions like this before and I&#39;ve tried to find it myself but was unable to. If you create a simple page and add an INPUT that contains the `required` attribute, if you try to submit the form while it&#39;s empty, you will get this message. You can see in the simple case that there is no HTML generated","body":"I think that is specific to Chrome and is not actually HTML in/on the page. I&#39;ve seen questions like this before and I&#39;ve tried to find it myself but was unable to. If you create a simple page and add an INPUT that contains the <code>required</code> attribute, if you try to submit the form while it&#39;s empty, you will get this message. You can see in the simple case that there is no HTML generated"}],"answers":[{"tags":[],"owner":{"account_id":13585116,"reputation":12147,"user_id":9800042,"display_name":"Sers"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1542919330,"creation_date":1535325061,"answer_id":52030901,"question_id":52029267,"body_markdown":"Attribute `validationMessage` will return the message, that will be showing if validation fails:\r\n\r\n    WebElement username = driver.findElement(By.name(&quot;uname&quot;));    \r\n    String validationMessage = username.getAttribute(&quot;validationMessage&quot;);\r\n\r\nIf element has `required` attribute, browser will show the message after submitting the form:\r\n\r\n    boolean required = Boolean.parseBoolean(username.getAttribute(&quot;required&quot;));\r\n\r\nYou can check whether entered value is valid:\r\n\r\n    boolean valid = (Boolean)((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].validity.valid;&quot;, username);\r\n\r\n&lt;hr&gt;\r\n**Not**: message text and validation is customizable. If you want to test customized \r\nvalidation and message.\r\n\r\nHere test code for custom validation(Java, TestNG): \r\n\r\n    Assert.assertTrue(Boolean.parseBoolean(username.getAttribute(&quot;required&quot;)), &quot;Username is required and message should be showin&quot;);\r\n    Assert.assertEquals(username.getAttribute(&quot;validationMessage&quot;), &quot;My custom message&quot;, &quot;Message text control&quot;);\r\n\r\n    username.sendKeys(&quot;@vasya &quot;);\r\n    Assert.assertTrue((Boolean)((JavascriptExecutor)driver).executeScript(&quot;return arguments[0].validity.valid;&quot;, username), &quot;Username has special characters&quot;);\r\n\r\n","title":"How to get HTML5 validation message with selenium?","body":"<p>Attribute <code>validationMessage</code> will return the message, that will be showing if validation fails:</p>\n\n<pre><code>WebElement username = driver.findElement(By.name(\"uname\"));    \nString validationMessage = username.getAttribute(\"validationMessage\");\n</code></pre>\n\n<p>If element has <code>required</code> attribute, browser will show the message after submitting the form:</p>\n\n<pre><code>boolean required = Boolean.parseBoolean(username.getAttribute(\"required\"));\n</code></pre>\n\n<p>You can check whether entered value is valid:</p>\n\n<pre><code>boolean valid = (Boolean)((JavascriptExecutor)driver).executeScript(\"return arguments[0].validity.valid;\", username);\n</code></pre>\n\n<p><hr>\n<strong>Not</strong>: message text and validation is customizable. If you want to test customized \nvalidation and message.</p>\n\n<p>Here test code for custom validation(Java, TestNG): </p>\n\n<pre><code>Assert.assertTrue(Boolean.parseBoolean(username.getAttribute(\"required\")), \"Username is required and message should be showin\");\nAssert.assertEquals(username.getAttribute(\"validationMessage\"), \"My custom message\", \"Message text control\");\n\nusername.sendKeys(\"@vasya \");\nAssert.assertTrue((Boolean)((JavascriptExecutor)driver).executeScript(\"return arguments[0].validity.valid;\", username), \"Username has special characters\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9933941,"reputation":1741,"user_id":7352883,"accept_rate":50,"display_name":"Shivam Mishra"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1535353030,"creation_date":1535346593,"answer_id":52032867,"question_id":52029267,"body_markdown":"The validation messages are not the part of your DOM. They are generated because your input fileds have `required` attribute. If you see the HTML of your fields -\r\n\r\n    &lt;input type=&quot;text&quot; placeholder=&quot;Enter Username&quot; name=&quot;uname&quot; required=&quot;&quot;&gt;\r\n\r\nYou can see it has required attribute turned on. Check [this][1] out. You can verify that your fields have this required attribute or not, like this-\r\n\r\n    WebElement inputElement = driver.findElement(By.name(&quot;uname&quot;));\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;  \r\n    boolean isRequired = (Boolean) js.executeScript(&quot;return arguments[0].required;&quot;,inputElement)\r\n    if(isRequired )\r\n    {\r\n       //element is required and validation error will popup if the field is empty.\r\n    }\r\n\r\nThere is no need to care about whether the message appears or not because that will handled by the browser.\r\n  [1]: https://www.w3schools.com/tags/att_required.asp\r\n","title":"How to get HTML5 validation message with selenium?","body":"<p>The validation messages are not the part of your DOM. They are generated because your input fileds have <code>required</code> attribute. If you see the HTML of your fields -</p>\n\n<pre><code>&lt;input type=\"text\" placeholder=\"Enter Username\" name=\"uname\" required=\"\"&gt;\n</code></pre>\n\n<p>You can see it has required attribute turned on. Check <a href=\"https://www.w3schools.com/tags/att_required.asp\" rel=\"noreferrer\">this</a> out. You can verify that your fields have this required attribute or not, like this-</p>\n\n<pre><code>WebElement inputElement = driver.findElement(By.name(\"uname\"));\nJavascriptExecutor js = (JavascriptExecutor) driver;  \nboolean isRequired = (Boolean) js.executeScript(\"return arguments[0].required;\",inputElement)\nif(isRequired )\n{\n   //element is required and validation error will popup if the field is empty.\n}\n</code></pre>\n\n<p>There is no need to care about whether the message appears or not because that will handled by the browser.</p>\n"},{"tags":[],"owner":{"account_id":5187115,"reputation":2534,"user_id":4151175,"display_name":"Charles Owen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657308114,"creation_date":1657308114,"answer_id":72916112,"question_id":52029267,"body_markdown":"I found a way to do this by calling the element&#39;s reportValidity() method within the Selenium test.  In C# we can use driver.executeScript().  For Java I&#39;m sure it&#39;s something similar.  If you don&#39;t execute the script then you have to look for the generic message, which is &quot;Please fill out this field&quot;.  Here&#39;s the code sample:\r\n\r\n        wait.Until(SeleniumExtras.WaitHelpers.ExpectedConditions\r\n            .ElementToBeClickable(By.CssSelector(&quot;input#NewPassword.form-control&quot;)));\r\n        IWebElement input = driver.FindElement(By.CssSelector(&quot;input#NewPassword.form-control&quot;));\r\n        input.SendKeys(string.Empty);\r\n        IWebElement form = driver.FindElement(By.TagName(&quot;form&quot;));        \r\n        form.Submit();\r\n        *driver.ExecuteScript(&quot;document.getElementById(&#39;NewPassword&#39;).reportValidity();&quot;);*\r\n        Assert.AreEqual(&quot;New password required&quot;, input.GetAttribute(&quot;validationMessage&quot;));","title":"How to get HTML5 validation message with selenium?","body":"<p>I found a way to do this by calling the element's reportValidity() method within the Selenium test.  In C# we can use driver.executeScript().  For Java I'm sure it's something similar.  If you don't execute the script then you have to look for the generic message, which is &quot;Please fill out this field&quot;.  Here's the code sample:</p>\n<pre><code>    wait.Until(SeleniumExtras.WaitHelpers.ExpectedConditions\n        .ElementToBeClickable(By.CssSelector(&quot;input#NewPassword.form-control&quot;)));\n    IWebElement input = driver.FindElement(By.CssSelector(&quot;input#NewPassword.form-control&quot;));\n    input.SendKeys(string.Empty);\n    IWebElement form = driver.FindElement(By.TagName(&quot;form&quot;));        \n    form.Submit();\n    *driver.ExecuteScript(&quot;document.getElementById('NewPassword').reportValidity();&quot;);*\n    Assert.AreEqual(&quot;New password required&quot;, input.GetAttribute(&quot;validationMessage&quot;));\n</code></pre>\n"}],"owner":{"account_id":13363003,"reputation":159,"user_id":9644344,"display_name":"Erofh Tor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8273,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52032867,"answer_count":3,"score":4,"last_activity_date":1669138505,"creation_date":1535308887,"question_id":52029267,"body_markdown":"Please see [this][1] website.\r\n\r\nAfter click log in i have this User credentials form and after try to login with missing `Email Address` or `Password` i got this message:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nSo i try to find this element by print all the page `HTML` (`driver.getPageSource()`) but this text is missing.\r\n\r\n\r\nAny idea how to verify that i have this error message? \r\n\r\n\r\n\r\n  [1]: http://exam.doubleoctopus.com/exam.html#\r\n  [2]: https://i.stack.imgur.com/j92cv.png","title":"How to get HTML5 validation message with selenium?","body":"<p>Please see <a href=\"http://exam.doubleoctopus.com/exam.html#\" rel=\"nofollow noreferrer\">this</a> website.</p>\n<p>After click log in i have this User credentials form and after try to login with missing <code>Email Address</code> or <code>Password</code> i got this message:</p>\n<p><a href=\"https://i.stack.imgur.com/j92cv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j92cv.png\" alt=\"enter image description here\" /></a></p>\n<p>So i try to find this element by print all the page <code>HTML</code> (<code>driver.getPageSource()</code>) but this text is missing.</p>\n<p>Any idea how to verify that i have this error message?</p>\n"},{"tags":["java","html","selenium","validation","selenium-webdriver"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":1,"creation_date":1647938085,"post_id":71568981,"comment_id":126490545,"body_markdown":"Can you share HTML code?","body":"Can you share HTML code?"},{"owner":{"account_id":24507222,"reputation":95,"user_id":18422063,"display_name":"tester"},"score":0,"creation_date":1647938579,"post_id":71568981,"comment_id":126490722,"body_markdown":"`&lt;form action=&quot;/login&quot; method=&quot;post&quot; class=&quot;form-horizontal&quot;&gt;\n&lt;input type=&quot;hidden&quot;&gt;\n&lt;div class=&quot;form-group form-group-withLabel&quot;&gt;\n&lt;input type=&quot;email&quot; name=&quot;_username&quot; id=&quot;inputEmail&quot; required=&quot;&quot; autofocus=&quot;&quot; autocomplete=&quot;off&quot;&gt;\n&lt;label for=&quot;inputEmail&quot; class=&quot;inner-label&quot;&gt;Email address&lt;/label&gt;\n&lt;/div&gt;\n&lt;div class=&quot;form-group form-group-withLabel&quot;&gt;\n&lt;input type=&quot;password&quot; name=&quot;_password&quot; id=&quot;inputPassword&quot; placeholder=&quot;Password&quot; required=&quot;&quot;&gt;\n&lt;label class=&quot;inner-label&quot; for=&quot;inputPassword&quot;&gt;Password&lt;/label&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n`","body":"<code>&lt;form action=&quot;&#47;login&quot; method=&quot;post&quot; class=&quot;form-horizontal&quot;&gt; &lt;input type=&quot;hidden&quot;&gt; &lt;div class=&quot;form-group form-group-withLabel&quot;&gt; &lt;input type=&quot;email&quot; name=&quot;_username&quot; id=&quot;inputEmail&quot; required=&quot;&quot; autofocus=&quot;&quot; autocomplete=&quot;off&quot;&gt; &lt;label for=&quot;inputEmail&quot; class=&quot;inner-label&quot;&gt;Email address&lt;&#47;label&gt; &lt;&#47;div&gt; &lt;div class=&quot;form-group form-group-withLabel&quot;&gt; &lt;input type=&quot;password&quot; name=&quot;_password&quot; id=&quot;inputPassword&quot; placeholder=&quot;Password&quot; required=&quot;&quot;&gt; &lt;label class=&quot;inner-label&quot; for=&quot;inputPassword&quot;&gt;Password&lt;&#47;label&gt; &lt;&#47;div&gt; &lt;&#47;form&gt; </code>"},{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1647938664,"post_id":71568981,"comment_id":126490742,"body_markdown":"When you hover to that error message, do you see any tooltip or any other tag?","body":"When you hover to that error message, do you see any tooltip or any other tag?"},{"owner":{"account_id":24507222,"reputation":95,"user_id":18422063,"display_name":"tester"},"score":0,"creation_date":1647939152,"post_id":71568981,"comment_id":126490929,"body_markdown":"No, this hint is not defined in html code","body":"No, this hint is not defined in html code"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1647945090,"post_id":71568981,"comment_id":126493121,"body_markdown":"Feeze DOM in the moment of the textbox appears to see it is defined in the source code. See how to freeze DOM here https://stackoverflow.com/questions/19422214/how-can-i-inspect-disappearing-element-in-a-browser","body":"Feeze DOM in the moment of the textbox appears to see it is defined in the source code. See how to freeze DOM here <a href=\"https://stackoverflow.com/questions/19422214/how-can-i-inspect-disappearing-element-in-a-browser\" title=\"how can i inspect disappearing element in a browser\">stackoverflow.com/questions/19422214/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647991290,"creation_date":1647991290,"answer_id":71580089,"question_id":71568981,"body_markdown":"This error hint is basically the [_HTML5 Constraint validation_](https://stackoverflow.com/a/55352477/7429447) message which is the outcome of [Constraint API&#39;s element.setCustomValidity()](https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5/Constraint_validation#Controlling_the_text_of_constraints_violation) method.\r\n\r\nTo get text from the error hint you need to induce _WebDriverWait_ for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [locator strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver):\r\n\r\n- Using _cssSelector_:\r\n\r\n      System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#inputEmail[name=&#39;_username&#39;]&quot;))).getAttribute(&quot;validationMessage&quot;));\r\n          \r\n- Using _xpath_:\r\n\r\n      System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//input[@id=&#39;inputEmail&#39; and @name=&#39;_username&#39;]&quot;))).getAttribute(&quot;validationMessage&quot;));\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [How can I extract the text of HTML5 Constraint validation in https://www.phptravels.net/ website using Selenium and Java?](https://stackoverflow.com/a/53591764/7429447)\r\n","title":"How to extract the error hint of text box when user entered incorrect value in Selenium","body":"<p>This error hint is basically the <a href=\"https://stackoverflow.com/a/55352477/7429447\"><em>HTML5 Constraint validation</em></a> message which is the outcome of <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5/Constraint_validation#Controlling_the_text_of_constraints_violation\" rel=\"nofollow noreferrer\">Constraint API's element.setCustomValidity()</a> method.</p>\n<p>To get text from the error hint you need to induce <em>WebDriverWait</em> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\">locator strategies</a>:</p>\n<ul>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input#inputEmail[name='_username']&quot;))).getAttribute(&quot;validationMessage&quot;));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>System.out.println(new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//input[@id='inputEmail' and @name='_username']&quot;))).getAttribute(&quot;validationMessage&quot;));\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/53591764/7429447\">How can I extract the text of HTML5 Constraint validation in https://www.phptravels.net/ website using Selenium and Java?</a></li>\n</ul>\n"}],"owner":{"account_id":24507222,"reputation":95,"user_id":18422063,"display_name":"tester"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71580089,"answer_count":1,"score":0,"last_activity_date":1669138447,"creation_date":1647937871,"question_id":71568981,"body_markdown":"When incorrect value is entered in textbox next hint is appeared:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2Vpmb.png\r\n\r\nHTML:\r\n\r\n    &lt;form action=&quot;/login&quot; method=&quot;post&quot; class=&quot;form-horizontal&quot;&gt; &lt;input type=&quot;hidden&quot;&gt; \r\n    \t&lt;div class=&quot;form-group form-group-withLabel&quot;&gt; \r\n    \t\t&lt;input type=&quot;email&quot; name=&quot;_username&quot; id=&quot;inputEmail&quot; required=&quot;&quot; autofocus=&quot;&quot; autocomplete=&quot;off&quot;&gt; \r\n    \t\t&lt;label for=&quot;inputEmail&quot; class=&quot;inner-label&quot;&gt;Email address&lt;/label&gt; \r\n    \t&lt;/div&gt; \r\n    \t&lt;div class=&quot;form-group form-group-withLabel&quot;&gt; \r\n    \t\t&lt;input type=&quot;password&quot; name=&quot;_password&quot; id=&quot;inputPassword&quot; placeholder=&quot;Password&quot; required=&quot;&quot;&gt; \r\n    \t\t&lt;label class=&quot;inner-label&quot; for=&quot;inputPassword&quot;&gt;Password&lt;/label&gt; \r\n    \t&lt;/div&gt; \r\n    &lt;/form&gt;\r\n\r\nI need to get text from this hint. \r\n\r\nI have tried to used:\r\n\r\n    Alert alert = driver.switchTo().alert()-&gt;getText();\r\n\r\nbut it did not help.\r\n\r\nHow to get text from such hints?","title":"How to extract the error hint of text box when user entered incorrect value in Selenium","body":"<p>When incorrect value is entered in textbox next hint is appeared:</p>\n<p><a href=\"https://i.stack.imgur.com/2Vpmb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Vpmb.png\" alt=\"enter image description here\" /></a></p>\n<p>HTML:</p>\n<pre><code>&lt;form action=&quot;/login&quot; method=&quot;post&quot; class=&quot;form-horizontal&quot;&gt; &lt;input type=&quot;hidden&quot;&gt; \n    &lt;div class=&quot;form-group form-group-withLabel&quot;&gt; \n        &lt;input type=&quot;email&quot; name=&quot;_username&quot; id=&quot;inputEmail&quot; required=&quot;&quot; autofocus=&quot;&quot; autocomplete=&quot;off&quot;&gt; \n        &lt;label for=&quot;inputEmail&quot; class=&quot;inner-label&quot;&gt;Email address&lt;/label&gt; \n    &lt;/div&gt; \n    &lt;div class=&quot;form-group form-group-withLabel&quot;&gt; \n        &lt;input type=&quot;password&quot; name=&quot;_password&quot; id=&quot;inputPassword&quot; placeholder=&quot;Password&quot; required=&quot;&quot;&gt; \n        &lt;label class=&quot;inner-label&quot; for=&quot;inputPassword&quot;&gt;Password&lt;/label&gt; \n    &lt;/div&gt; \n&lt;/form&gt;\n</code></pre>\n<p>I need to get text from this hint.</p>\n<p>I have tried to used:</p>\n<pre><code>Alert alert = driver.switchTo().alert()-&gt;getText();\n</code></pre>\n<p>but it did not help.</p>\n<p>How to get text from such hints?</p>\n"},{"tags":["java","algorithm","optimization","data-structures"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":2,"creation_date":1669135064,"post_id":74535826,"comment_id":131573154,"body_markdown":"It&#39;s almost always a bad idea to mix printing commands in with your logic in something like this. Map words to their reverse and then join them with a space, don&#39;t try to print spaces as you go, you&#39;ll just give yourself a headache.","body":"It&#39;s almost always a bad idea to mix printing commands in with your logic in something like this. Map words to their reverse and then join them with a space, don&#39;t try to print spaces as you go, you&#39;ll just give yourself a headache."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1669135143,"post_id":74535826,"comment_id":131573185,"body_markdown":"Do you have a reason to believe your code is insufficiently optimized? To me it looks perfectly reasonable. A good rule is to pick a good algorithm but don&#39;t worry about further optimization until you need to.","body":"Do you have a reason to believe your code is insufficiently optimized? To me it looks perfectly reasonable. A good rule is to pick a good algorithm but don&#39;t worry about further optimization until you need to."},{"owner":{"account_id":5768561,"reputation":61,"user_id":4552691,"accept_rate":8,"display_name":"Hoang Nguyen"},"score":0,"creation_date":1669136469,"post_id":74535826,"comment_id":131573685,"body_markdown":"@EdwardPeters My reviewer asked me to optimize my this code so I don&#39;t know where to start.","body":"@EdwardPeters My reviewer asked me to optimize my this code so I don&#39;t know where to start."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669136813,"post_id":74535826,"comment_id":131573801,"body_markdown":"&quot;Reviewer&quot; as in code reviewer at work, fellow student...? There&#39;s a lot of cleanup I&#39;d make you do on this, but I question the judgement of anyone telling you this needs to be more optimized from a performance standpoint.","body":"&quot;Reviewer&quot; as in code reviewer at work, fellow student...? There&#39;s a lot of cleanup I&#39;d make you do on this, but I question the judgement of anyone telling you this needs to be more optimized from a performance standpoint."},{"owner":{"account_id":5768561,"reputation":61,"user_id":4552691,"accept_rate":8,"display_name":"Hoang Nguyen"},"score":0,"creation_date":1669137328,"post_id":74535826,"comment_id":131573991,"body_markdown":"@EdwardPeters yes I think he is talking about performance otimization so do you think we can optimize this code to make it has better performance. And do we have any theory /principle about code optimization.","body":"@EdwardPeters yes I think he is talking about performance otimization so do you think we can optimize this code to make it has better performance. And do we have any theory /principle about code optimization."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1669137625,"post_id":74535826,"comment_id":131574111,"body_markdown":"&quot;And do we have any theory /principle about code optimization.&quot; - yes, vast libraries of theory, far too much to cover in an SO question. But no, for performance, there&#39;s nothing worthwhile to do here. That&#39;s usually the case - simple code tends to be fast, and for low-level stuff, optimization is the compiler&#39;s job, not yours.","body":"&quot;And do we have any theory /principle about code optimization.&quot; - yes, vast libraries of theory, far too much to cover in an SO question. But no, for performance, there&#39;s nothing worthwhile to do here. That&#39;s usually the case - simple code tends to be fast, and for low-level stuff, optimization is the compiler&#39;s job, not yours."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669137674,"post_id":74535826,"comment_id":131574132,"body_markdown":"Again, are we talking about a coworker doing a code review at work, a fellow student you asked to look over your code, a TA...? I think either you&#39;re misunderstanding them or they&#39;re incorrect.","body":"Again, are we talking about a coworker doing a code review at work, a fellow student you asked to look over your code, a TA...? I think either you&#39;re misunderstanding them or they&#39;re incorrect."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669137811,"post_id":74535826,"comment_id":131574187,"body_markdown":"Context is important here. If you&#39;re taking a class on low-level optimizations then A: why on earth is it being taught in Java? but also B: You might be able to re-arrange a couple things to shave off a bit. Literally any other context, those optimizations are a waste of time and will make more confusing, worse code.","body":"Context is important here. If you&#39;re taking a class on low-level optimizations then A: why on earth is it being taught in Java? but also B: You might be able to re-arrange a couple things to shave off a bit. Literally any other context, those optimizations are a waste of time and will make more confusing, worse code."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669138069,"post_id":74535826,"comment_id":131574274,"body_markdown":"Oh, one thing you should do is pull the `if` statements that refer to the loop index variables out - those should just run unconditionally after the loop. Technically that&#39;s an optimization, as you&#39;re running the if check fewer times, but mostly it&#39;s just cleaner.","body":"Oh, one thing you should do is pull the <code>if</code> statements that refer to the loop index variables out - those should just run unconditionally after the loop. Technically that&#39;s an optimization, as you&#39;re running the if check fewer times, but mostly it&#39;s just cleaner."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1669139204,"post_id":74535826,"comment_id":131574657,"body_markdown":"One questionable optimization for reversing words would be to use a stack to reverse them (store the whole word in a stack, read the stack to get reversed word out).  An additional improvement would be to use a StringBuffer to hold your solution rather than print it out character by character.","body":"One questionable optimization for reversing words would be to use a stack to reverse them (store the whole word in a stack, read the stack to get reversed word out).  An additional improvement would be to use a StringBuffer to hold your solution rather than print it out character by character."},{"owner":{"account_id":5768561,"reputation":61,"user_id":4552691,"accept_rate":8,"display_name":"Hoang Nguyen"},"score":0,"creation_date":1669140441,"post_id":74535826,"comment_id":131575090,"body_markdown":"@EdwardPeters &quot;yes, vast libraries of theory&quot; can you list out some  keywors then I will research them separately.","body":"@EdwardPeters &quot;yes, vast libraries of theory&quot; can you list out some  keywors then I will research them separately."},{"owner":{"account_id":5768561,"reputation":61,"user_id":4552691,"accept_rate":8,"display_name":"Hoang Nguyen"},"score":0,"creation_date":1669140521,"post_id":74535826,"comment_id":131575128,"body_markdown":"@EdwardPeters &quot;Again, are we talking about a coworker doing a code review at work, a fellow student &quot; he is my coworker and he is my manager.","body":"@EdwardPeters &quot;Again, are we talking about a coworker doing a code review at work, a fellow student &quot; he is my coworker and he is my manager."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":2,"creation_date":1669140594,"post_id":74535826,"comment_id":131575155,"body_markdown":"@HoangNguyen since he&#39;s reviewing your code, and probably left a &quot;plesae optimize this part&quot; comment on this piece of code, could you ask him to &quot;could you please clarify, what sort of improvement did you have in mind? what&#39;s actually wrong with it?&quot;","body":"@HoangNguyen since he&#39;s reviewing your code, and probably left a &quot;plesae optimize this part&quot; comment on this piece of code, could you ask him to &quot;could you please clarify, what sort of improvement did you have in mind? what&#39;s actually wrong with it?&quot;"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1669140635,"post_id":74535826,"comment_id":131575166,"body_markdown":"If you just want to start researching all of optimization, google &quot;Program optimization&quot;, but it&#39;s really a huge and diverse field - wikipedia will be a better signpost for you than I can be.","body":"If you just want to start researching all of optimization, google &quot;Program optimization&quot;, but it&#39;s really a huge and diverse field - wikipedia will be a better signpost for you than I can be."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669140716,"post_id":74535826,"comment_id":131575194,"body_markdown":"If you want my advice, apply the change I described in my answer, test it to make sure everything works, and then you&#39;ll have something to show him when you ask for further clarification.","body":"If you want my advice, apply the change I described in my answer, test it to make sure everything works, and then you&#39;ll have something to show him when you ask for further clarification."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1669140776,"post_id":74535826,"comment_id":131575218,"body_markdown":"No, you don&#39;t want to start by just researching all optimization, or all sorts of optimization, especially with java because even measuring the optimization percentage in java will require you to warm up the code so you can actually see how much of a difference your changes made - and you usually warm up the code by running it 100k but more likely 5mil times before you even get to measure and see changes. Optimization percentage isn&#39;t trivial to get out from Java like it is with C :D","body":"No, you don&#39;t want to start by just researching all optimization, or all sorts of optimization, especially with java because even measuring the optimization percentage in java will require you to warm up the code so you can actually see how much of a difference your changes made - and you usually warm up the code by running it 100k but more likely 5mil times before you even get to measure and see changes. Optimization percentage isn&#39;t trivial to get out from Java like it is with C :D"},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":1,"creation_date":1669141053,"post_id":74535826,"comment_id":131575315,"body_markdown":"See [link1](https://stackoverflow.com/questions/8939299/java-optimize-code), [link2](https://stackoverflow.com/questions/5666621/how-to-optimize-the-code-in-my-java-application), [link3](https://stackoverflow.com/questions/60220417/how-to-optimize-this-code-to-make-it-faster), [link4](https://stackoverflow.com/questions/1481853/technique-or-utility-to-minimize-java-warm-up-time), [link5](https://stackoverflow.com/questions/36198278/why-does-the-jvm-require-warmup). That will get you somewhat started on the complex matter of nontriviality when it comes to serious java optimization.","body":"See <a href=\"https://stackoverflow.com/questions/8939299/java-optimize-code\">link1</a>, <a href=\"https://stackoverflow.com/questions/5666621/how-to-optimize-the-code-in-my-java-application\">link2</a>, <a href=\"https://stackoverflow.com/questions/60220417/how-to-optimize-this-code-to-make-it-faster\">link3</a>, <a href=\"https://stackoverflow.com/questions/1481853/technique-or-utility-to-minimize-java-warm-up-time\">link4</a>, <a href=\"https://stackoverflow.com/questions/36198278/why-does-the-jvm-require-warmup\">link5</a>. That will get you somewhat started on the complex matter of nontriviality when it comes to serious java optimization."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1669141249,"post_id":74535826,"comment_id":131575374,"body_markdown":"There are also [link6](https://stackoverflow.com/questions/5981460/optimization-by-java-compiler), dubious [external link7](https://www.geeksforgeeks.org/12-tips-to-optimize-java-code-performance/) and [link8](https://stackoverflow.com/questions/36198278/why-does-the-jvm-require-warmup) - and you&#39;ve just started to enter the rabbit hole. So, just ask your coworker on what he thinks is subotimal about your thing, and then work together from there. You&#39;re a team.","body":"There are also <a href=\"https://stackoverflow.com/questions/5981460/optimization-by-java-compiler\">link6</a>, dubious <a href=\"https://www.geeksforgeeks.org/12-tips-to-optimize-java-code-performance/\" rel=\"nofollow noreferrer\">external link7</a> and <a href=\"https://stackoverflow.com/questions/36198278/why-does-the-jvm-require-warmup\">link8</a> - and you&#39;ve just started to enter the rabbit hole. So, just ask your coworker on what he thinks is subotimal about your thing, and then work together from there. You&#39;re a team."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":2,"creation_date":1669141252,"post_id":74535826,"comment_id":131575376,"body_markdown":"To be clear, I don&#39;t actually recommend &quot;research all of it&quot; either, I just think that&#39;s as good as anything for where you&#39;re at. The most important lesson right now is to not be concerned with premature optimization, and to focus more on readability, maintainability and correctness.","body":"To be clear, I don&#39;t actually recommend &quot;research all of it&quot; either, I just think that&#39;s as good as anything for where you&#39;re at. The most important lesson right now is to not be concerned with premature optimization, and to focus more on readability, maintainability and correctness."}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669138416,"creation_date":1669138416,"answer_id":74536850,"question_id":74535826,"body_markdown":"The following code is bad: having ifs that refer to the loop variable is confusing and technically, maybe very slightly slower than the right way (though the compiler might just fix that for you.) \r\n   // Loop throw the word array\r\n                for(int w = 0; w &lt; words.length; w++) {\r\n                    \r\n                    // Revert the characters of each word\r\n                    for (int j = words[w].length() - 1;  j &gt;=0; j--) {\r\n                        if (j != 0) {\r\n                            System.out.print(words[w].charAt(j));\r\n                        } else {\r\n                            System.out.print(words[w].charAt(j) + &quot; &quot;);\r\n                        }\r\n                    }\r\n                    if ( w == words.length -1) {\r\n                        System.out.println();\r\n                    }\r\n                }\r\n\r\nInstead do:\r\n```\r\n  // Loop throw the word array\r\n                for(int w = 0; w &lt; words.length; w++) {\r\n                    // Revert the characters of each word\r\n                    for (int j = words[w].length() - 1;  j &gt;0; j--) {\r\n                        System.out.print(words[w].charAt(j) + &quot; &quot;);\r\n                    }\r\n                    System.out.print(words[w].charAt(j));\r\n                }\r\n                System.out.println();\r\n```\r\n\r\nNotice how I changed the `j&gt;=0` to `j&gt;0`. The `else` block would only have triggered on the last repetition, so this is semantically equivalent. ","title":"How to Optimize Code and Code Optimization Theory","body":"<p>The following code is bad: having ifs that refer to the loop variable is confusing and technically, maybe very slightly slower than the right way (though the compiler might just fix that for you.)\n// Loop throw the word array\nfor(int w = 0; w &lt; words.length; w++) {</p>\n<pre><code>                // Revert the characters of each word\n                for (int j = words[w].length() - 1;  j &gt;=0; j--) {\n                    if (j != 0) {\n                        System.out.print(words[w].charAt(j));\n                    } else {\n                        System.out.print(words[w].charAt(j) + &quot; &quot;);\n                    }\n                }\n                if ( w == words.length -1) {\n                    System.out.println();\n                }\n            }\n</code></pre>\n<p>Instead do:</p>\n<pre><code>  // Loop throw the word array\n                for(int w = 0; w &lt; words.length; w++) {\n                    // Revert the characters of each word\n                    for (int j = words[w].length() - 1;  j &gt;0; j--) {\n                        System.out.print(words[w].charAt(j) + &quot; &quot;);\n                    }\n                    System.out.print(words[w].charAt(j));\n                }\n                System.out.println();\n</code></pre>\n<p>Notice how I changed the <code>j&gt;=0</code> to <code>j&gt;0</code>. The <code>else</code> block would only have triggered on the last repetition, so this is semantically equivalent.</p>\n"}],"owner":{"account_id":5768561,"reputation":61,"user_id":4552691,"accept_rate":8,"display_name":"Hoang Nguyen"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669138416,"creation_date":1669133832,"question_id":74535826,"body_markdown":"I have written a coding challenge. The requirement of the challenge is reversing the particular words in a sentence  =&gt; still keep the oder the of the words in the sentence but reverse the characters of the word.\r\n\r\nThe input sample is something like this: `RemoteIo is awesome`-`Candiates pass interview`-`best candiates are selected`. \r\n\r\nThe sample output of the input above:\r\n\r\n    oIetomeR si emosewa \r\n    setaidnaC ssap weivretni \r\n    tseb setaidnac era detceles\r\n\r\nAs you can see the input sentences are separated by the `-` character so that mean we have 3 sentences in the example above and the sentence just able to contain anphabet characters and blank space only (one blank space between two words)\r\n\r\nSo my question is how can I optimize the below code and there is any theory/principle about Code Optimization. My code implementation in Java:\r\n\r\n    public class Test1 {\r\n        public static void main (String[] args) throws java.lang.Exception\r\n        {\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            String input = br.readLine();\r\n            \r\n            // Put sentences to a String array.\r\n            String[] data = input.split(&quot;-&quot;);\r\n            \r\n            // Loop throw sentence array\r\n            for(int i = 0; i &lt; data.length; i++) {\r\n            \t\r\n            \t// Put the words from the sentence to a String array.\r\n            \tString[] words = data[i].split(&quot; &quot;);\r\n            \t\r\n            \t// Loop throw the word array\r\n            \tfor(int w = 0; w &lt; words.length; w++) {\r\n            \t\t\r\n            \t\t// Revert the characters of each word\r\n            \t\tfor (int j = words[w].length() - 1;  j &gt;=0; j--) {\r\n                \t\tif (j != 0) {\r\n                \t\t\tSystem.out.print(words[w].charAt(j));\r\n                \t\t} else {\r\n                \t\t\tSystem.out.print(words[w].charAt(j) + &quot; &quot;);\r\n                \t\t}\r\n                \t}\r\n            \t\tif ( w == words.length -1) {\r\n            \t\t\tSystem.out.println();\r\n            \t\t}\r\n            \t}\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to Optimize Code and Code Optimization Theory","body":"<p>I have written a coding challenge. The requirement of the challenge is reversing the particular words in a sentence  =&gt; still keep the oder the of the words in the sentence but reverse the characters of the word.</p>\n<p>The input sample is something like this: <code>RemoteIo is awesome</code>-<code>Candiates pass interview</code>-<code>best candiates are selected</code>.</p>\n<p>The sample output of the input above:</p>\n<pre><code>oIetomeR si emosewa \nsetaidnaC ssap weivretni \ntseb setaidnac era detceles\n</code></pre>\n<p>As you can see the input sentences are separated by the <code>-</code> character so that mean we have 3 sentences in the example above and the sentence just able to contain anphabet characters and blank space only (one blank space between two words)</p>\n<p>So my question is how can I optimize the below code and there is any theory/principle about Code Optimization. My code implementation in Java:</p>\n<pre><code>public class Test1 {\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String input = br.readLine();\n        \n        // Put sentences to a String array.\n        String[] data = input.split(&quot;-&quot;);\n        \n        // Loop throw sentence array\n        for(int i = 0; i &lt; data.length; i++) {\n            \n            // Put the words from the sentence to a String array.\n            String[] words = data[i].split(&quot; &quot;);\n            \n            // Loop throw the word array\n            for(int w = 0; w &lt; words.length; w++) {\n                \n                // Revert the characters of each word\n                for (int j = words[w].length() - 1;  j &gt;=0; j--) {\n                    if (j != 0) {\n                        System.out.print(words[w].charAt(j));\n                    } else {\n                        System.out.print(words[w].charAt(j) + &quot; &quot;);\n                    }\n                }\n                if ( w == words.length -1) {\n                    System.out.println();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","html","css","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":26852198,"reputation":7151,"user_id":20436957,"display_name":"John Li"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669104251,"creation_date":1669094112,"answer_id":74527792,"question_id":74527676,"body_markdown":"**UPDATE: Added live test at the end**\r\n\r\n**Unlike `class`, each `id` property must be unique in the whole document.**\r\n\r\n[More about `id`][1]\r\n\r\n**Matching `id` and `for` also need to be assigned for each pair of `input` and `label` to make the styles work.**\r\n\r\nThe `input[type=&quot;radio&quot;]:checked + label` selector is not targeting the `label` properly.\r\n\r\nThis is because it uses adjacent sibling selector `+`, but `input` and `label` are not adjacent due to a `&lt;br&gt;` in between.\r\n\r\n[More about CSS combinators][2]\r\n\r\nTo solve this, you could use a general sibling combinator `~` to target the `label`:\r\n\r\n```\r\ninput[type=&quot;radio&quot;]:checked ~ label {\r\n    background: #455a64; \r\n    color: #eceff1; \r\n}\r\n```\r\n\r\n**OR** remove the `&lt;br&gt;` in between the `input` and `label`, and keep the original CSS:\r\n\r\n```\r\n&lt;div class=&quot;choiceradiobox&quot; data-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\r\n  &lt;input\r\n    id=&quot;selectedchoice&quot;\r\n    name=&quot;choice&quot;\r\n    type=&quot;radio&quot;\r\n    data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\r\n  /&gt;\r\n  &lt;label for=&quot;selectedchoice&quot;&gt;&lt;span data-th-text=&quot;${choice}&quot;&gt;&lt;/span&gt;&lt;/label&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nBoth ways should make `label` change color when `:checked`.\r\n\r\nHope this will help!\r\n\r\n**LIVE TEST** (run with button below)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    input[type=&quot;radio&quot;] {\r\n      display: none;\r\n    }\r\n\r\n    input[type=&quot;radio&quot;]:checked ~ label {\r\n      background: #455a64;\r\n      color: #eceff1;\r\n    }\r\n\r\n    label {\r\n      display: block;\r\n      margin: auto;\r\n      width: max-content;\r\n      text-align: center;\r\n      padding-top: 0.05em;\r\n      padding-bottom: 0.05em;\r\n      padding-left: 5em;\r\n      padding-right: 5em;\r\n      line-height: 45px;\r\n      cursor: pointer;\r\n      border: solid #eceff1;\r\n      background-color: #eceff1;\r\n      padding-top: 0.05em;\r\n    }\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;fieldset style=&quot;border: 0&quot;&gt;\r\n      &lt;div class=&quot;choiceradiobox&quot; data-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\r\n        &lt;input\r\n          id=&quot;selectedchoice1&quot;\r\n          name=&quot;choice&quot;\r\n          type=&quot;radio&quot;\r\n          data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\r\n        /&gt;&lt;br /&gt;\r\n        &lt;label for=&quot;selectedchoice1&quot;&gt;selectedchoice1&lt;/label&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;choiceradiobox&quot; data-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\r\n        &lt;input\r\n          id=&quot;selectedchoice2&quot;\r\n          name=&quot;choice&quot;\r\n          type=&quot;radio&quot;\r\n          data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\r\n        /&gt;&lt;br /&gt;\r\n        &lt;label for=&quot;selectedchoice2&quot;&gt;selectedchoice2&lt;/label&gt;\r\n      &lt;/div&gt;\r\n      &lt;div class=&quot;choiceradiobox&quot; data-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\r\n        &lt;input\r\n          id=&quot;selectedchoice3&quot;\r\n          name=&quot;choice&quot;\r\n          type=&quot;radio&quot;\r\n          data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\r\n        /&gt;&lt;br /&gt;\r\n        &lt;label for=&quot;selectedchoice3&quot;&gt;selectedchoice3&lt;/label&gt;\r\n      &lt;/div&gt;\r\n    &lt;/fieldset&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id\r\n  [2]: https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors/Combinators","title":"How to show colour change when customised radio button is selected?","body":"<p><strong>UPDATE: Added live test at the end</strong></p>\n<p><strong>Unlike <code>class</code>, each <code>id</code> property must be unique in the whole document.</strong></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/id\" rel=\"nofollow noreferrer\">More about <code>id</code></a></p>\n<p><strong>Matching <code>id</code> and <code>for</code> also need to be assigned for each pair of <code>input</code> and <code>label</code> to make the styles work.</strong></p>\n<p>The <code>input[type=&quot;radio&quot;]:checked + label</code> selector is not targeting the <code>label</code> properly.</p>\n<p>This is because it uses adjacent sibling selector <code>+</code>, but <code>input</code> and <code>label</code> are not adjacent due to a <code>&lt;br&gt;</code> in between.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/Selectors/Combinators\" rel=\"nofollow noreferrer\">More about CSS combinators</a></p>\n<p>To solve this, you could use a general sibling combinator <code>~</code> to target the <code>label</code>:</p>\n<pre><code>input[type=&quot;radio&quot;]:checked ~ label {\n    background: #455a64; \n    color: #eceff1; \n}\n</code></pre>\n<p><strong>OR</strong> remove the <code>&lt;br&gt;</code> in between the <code>input</code> and <code>label</code>, and keep the original CSS:</p>\n<pre><code>&lt;div class=&quot;choiceradiobox&quot; data-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\n  &lt;input\n    id=&quot;selectedchoice&quot;\n    name=&quot;choice&quot;\n    type=&quot;radio&quot;\n    data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\n  /&gt;\n  &lt;label for=&quot;selectedchoice&quot;&gt;&lt;span data-th-text=&quot;${choice}&quot;&gt;&lt;/span&gt;&lt;/label&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Both ways should make <code>label</code> change color when <code>:checked</code>.</p>\n<p>Hope this will help!</p>\n<p><strong>LIVE TEST</strong> (run with button below)</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>input[type=\"radio\"] {\n  display: none;\n}\n\ninput[type=\"radio\"]:checked ~ label {\n  background: #455a64;\n  color: #eceff1;\n}\n\nlabel {\n  display: block;\n  margin: auto;\n  width: max-content;\n  text-align: center;\n  padding-top: 0.05em;\n  padding-bottom: 0.05em;\n  padding-left: 5em;\n  padding-right: 5em;\n  line-height: 45px;\n  cursor: pointer;\n  border: solid #eceff1;\n  background-color: #eceff1;\n  padding-top: 0.05em;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;fieldset style=\"border: 0\"&gt;\n  &lt;div class=\"choiceradiobox\" data-th-each=\"choice, stat : ${list.choice}\"&gt;\n    &lt;input\n      id=\"selectedchoice1\"\n      name=\"choice\"\n      type=\"radio\"\n      data-th-value=\"*{list[__${st.index}__].choice}\"\n    /&gt;&lt;br /&gt;\n    &lt;label for=\"selectedchoice1\"&gt;selectedchoice1&lt;/label&gt;\n  &lt;/div&gt;\n  &lt;div class=\"choiceradiobox\" data-th-each=\"choice, stat : ${list.choice}\"&gt;\n    &lt;input\n      id=\"selectedchoice2\"\n      name=\"choice\"\n      type=\"radio\"\n      data-th-value=\"*{list[__${st.index}__].choice}\"\n    /&gt;&lt;br /&gt;\n    &lt;label for=\"selectedchoice2\"&gt;selectedchoice2&lt;/label&gt;\n  &lt;/div&gt;\n  &lt;div class=\"choiceradiobox\" data-th-each=\"choice, stat : ${list.choice}\"&gt;\n    &lt;input\n      id=\"selectedchoice3\"\n      name=\"choice\"\n      type=\"radio\"\n      data-th-value=\"*{list[__${st.index}__].choice}\"\n    /&gt;&lt;br /&gt;\n    &lt;label for=\"selectedchoice3\"&gt;selectedchoice3&lt;/label&gt;\n  &lt;/div&gt;\n&lt;/fieldset&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669138348,"creation_date":1669100138,"answer_id":74528548,"question_id":74527676,"body_markdown":"Paste the following code into this [W3Schools &quot;Try it&quot;][1] runner page.\r\nDelete all the code that appears on the left hand side first, then paste.\r\nI double the input element so that the effect can be seen in this code. Once you are satisfied with the styling, just delete the extra dummy radio button. You will notice that I included @John Li&#39;s CSS, and changed you ```width: max-content;``` to ```width: auto;``` (just playing around).\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;header&gt;\r\n&lt;style&gt;\r\ninput[type=radio] {\r\n     display: none;\r\n}\r\ninput[type=&quot;radio&quot;]:checked ~ label {\r\n    background: #455a64; \r\n    color: #eceff1; \r\n}\r\nlabel {\r\n    display: block; \r\n    margin: auto; \r\n    width: auto; \r\n    text-align: center;\r\n    padding-top : 0.05em;\r\n    padding-bottom: 0.05em;\r\n    padding-left: 5em;\r\n    padding-right: 5em;\r\n    line-height: 45px; \r\n    cursor: pointer; \r\n    border: solid #eceff1; \r\n    background-color: #eceff1;\r\n    padding-top: 0.05em;\r\n}\r\n&lt;/style&gt;\r\n&lt;/header&gt;\r\n&lt;body&gt;\r\n\r\n&lt;h1&gt;Display Radio Buttons&lt;/h1&gt;\r\n\r\n&lt;form action=&quot;&quot;&gt;\r\n  &lt;div&gt;\r\n   &lt;input\r\n    id=&quot;selectedchoice1&quot;\r\n    name=&quot;choice&quot;\r\n    type=&quot;radio&quot;\r\n    data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\r\n  /&gt;\r\n  &lt;label for=&quot;selectedchoice1&quot;&gt;&lt;span data-th-text=&quot;${choice}&quot;&gt;meow&lt;/span&gt;&lt;/label&gt; \r\n  &lt;p/&gt; &lt;!-- this seems to prevent bleeding of the color from top down. \r\nNeither br or div work. --&gt;\r\n  &lt;input\r\n    id=&quot;selectedchoice2&quot;\r\n    name=&quot;choice&quot;\r\n    type=&quot;radio&quot;\r\n    data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\r\n  /&gt;\r\n &lt;label for=&quot;selectedchoice2&quot;&gt;&lt;span&gt;bark&lt;/span&gt;&lt;/label&gt;\r\n &lt;/div&gt;\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n  [1]: https://www.w3schools.com/tags/tryit.asp?filename=tryhtml5_input_type_radio","title":"How to show colour change when customised radio button is selected?","body":"<p>Paste the following code into this <a href=\"https://www.w3schools.com/tags/tryit.asp?filename=tryhtml5_input_type_radio\" rel=\"nofollow noreferrer\">W3Schools &quot;Try it&quot;</a> runner page.\nDelete all the code that appears on the left hand side first, then paste.\nI double the input element so that the effect can be seen in this code. Once you are satisfied with the styling, just delete the extra dummy radio button. You will notice that I included @John Li's CSS, and changed you <code>width: max-content;</code> to <code>width: auto;</code> (just playing around).</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;header&gt;\n&lt;style&gt;\ninput[type=radio] {\n     display: none;\n}\ninput[type=&quot;radio&quot;]:checked ~ label {\n    background: #455a64; \n    color: #eceff1; \n}\nlabel {\n    display: block; \n    margin: auto; \n    width: auto; \n    text-align: center;\n    padding-top : 0.05em;\n    padding-bottom: 0.05em;\n    padding-left: 5em;\n    padding-right: 5em;\n    line-height: 45px; \n    cursor: pointer; \n    border: solid #eceff1; \n    background-color: #eceff1;\n    padding-top: 0.05em;\n}\n&lt;/style&gt;\n&lt;/header&gt;\n&lt;body&gt;\n\n&lt;h1&gt;Display Radio Buttons&lt;/h1&gt;\n\n&lt;form action=&quot;&quot;&gt;\n  &lt;div&gt;\n   &lt;input\n    id=&quot;selectedchoice1&quot;\n    name=&quot;choice&quot;\n    type=&quot;radio&quot;\n    data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\n  /&gt;\n  &lt;label for=&quot;selectedchoice1&quot;&gt;&lt;span data-th-text=&quot;${choice}&quot;&gt;meow&lt;/span&gt;&lt;/label&gt; \n  &lt;p/&gt; &lt;!-- this seems to prevent bleeding of the color from top down. \nNeither br or div work. --&gt;\n  &lt;input\n    id=&quot;selectedchoice2&quot;\n    name=&quot;choice&quot;\n    type=&quot;radio&quot;\n    data-th-value=&quot;*{list[__${st.index}__].choice}&quot;\n  /&gt;\n &lt;label for=&quot;selectedchoice2&quot;&gt;&lt;span&gt;bark&lt;/span&gt;&lt;/label&gt;\n &lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":26949185,"reputation":1,"user_id":20518690,"display_name":"reinbowpuke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74527792,"answer_count":2,"score":0,"last_activity_date":1669138348,"creation_date":1669092965,"question_id":74527676,"body_markdown":"I am new to coding generally, and have been working on a quiz program on HTML and CSS (data is from PostgreSQL, framework SpringBoot on Eclipse. PHP and JQuery not included in syllabus).\r\n\r\nHere&#39;s my problem:\r\n1. Now I have a list of answers where the user will have to select from. \r\n2. Was hoping to have the colours of the button-like radio input? change colour when the user clicks on it. \r\n3. Managed to create the buttons and the cursor when it hovers over the selections, but there&#39;s no change despite my CSS. \r\n\r\nCan someone tell me where I did wrong? Big thanks in advance.\r\n\r\n\r\n**※Updated HTML and CSS according to the advices in the comments + more code:**\r\n\r\nThis is the HTML code: \r\n\r\nthe screenshot of the id: https://i.stack.imgur.com/4IeWK.png\r\n\r\n```\r\n&lt;body&gt;\r\n\t&lt;form method=&quot;post&quot; action=&quot;/result&quot; data-th-object=&quot;${form}&quot;&gt;\r\n\t\t&lt;!-- ヘッダータイトル --&gt;\r\n\t\t&lt;div class=&quot;headerbackground&quot;&gt;\r\n\t\t\t&lt;h6&gt;模擬試験オンライン&lt;/h6&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;br&gt;\r\n\t\t&lt;!-- 試験指示 --&gt;\r\n\t\t&lt;div class=&quot;examinstruction&quot;&gt;\r\n\t\t\t&lt;p&gt;表示された言葉の英単語を以下から選び、&lt;/p&gt;\r\n\t\t\t&lt;p&gt;OKボタンをクリックしてください。&lt;/p&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;br&gt;\r\n\t\t&lt;!-- question --&gt;\r\n\r\n\t\t&lt;div data-th-each=&quot;list, st : ${form.list}&quot;&gt;\r\n\t\t\t&lt;p style=&quot;text-align: center; font-size: 12px;&quot;&gt;\r\n\t\t\t\t&lt;span data-th-text=&quot;${list.questionCount}&quot;&gt;n&lt;/span&gt; &lt;span&gt;/&lt;/span&gt; &lt;span\r\n\t\t\t\t\tdata-th-text=&quot;${list.questionTotal}&quot;&gt;/n&lt;/span&gt;\r\n\t\t\t&lt;/p&gt;\r\n\t\t\t&lt;div class=&quot;questionborder&quot;&gt;\r\n\t\t\t\t&lt;p style=&quot;font-size: 22px; font-weight: bold&quot;\r\n\t\t\t\t\tdata-th-text=&quot;${list.content}&quot;&gt;question&lt;/p&gt;\r\n\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;!-- answer choice --&gt;\r\n\t\t\t&lt;fieldset style=&quot;border: 0&quot;&gt;\r\n\t\t\t\t&lt;div class=&quot;choiceradiobox&quot;\r\n\t\t\t\t\tdata-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\r\n\t\t\t\t\t&lt;input id=&quot;selectedchoice&quot; data-th-name=&quot;|choice${st.count}|&quot;\r\n\t\t\t\t\t\ttype=&quot;radio&quot; data-th-value=&quot;${choice}&quot;\r\n\t\t\t\t\t\t/&gt;\r\n\t\t\t\t\t\t&lt;label\r\n\t\t\t\t\t\tfor=&quot;selectedchoice&quot;&gt;&lt;span data-th-text=&quot;${choice}&quot;&gt;&lt;/span&gt;&lt;/label&gt;\r\n\t\t\t\t&lt;/div&gt;\r\n\t\t\t&lt;/fieldset&gt;\r\n\t\t&lt;/div&gt;\r\n\r\n\t\t&lt;!-- 解答完了ボタン --&gt;\r\n\t\t&lt;div class=&quot;submitsection&quot;&gt;\r\n\t\t\t&lt;input class=&quot;btn btn-secondary&quot; style=&quot;font-size: 25px&quot;\r\n\t\t\t\ttype=&quot;submit&quot; onclick=validate() value=&quot;OK!&quot;&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/form&gt;\r\n&lt;/body&gt;\r\n```\r\n CSS:\r\n\r\n```\r\ninput[type=radio] {\r\n\t display: none;\r\n}\r\n\r\ninput[type=&quot;radio&quot;]:checked + label {\r\n\tbackground: #455a64; \r\n\tcolor: #eceff1; \r\n}\r\n\r\nlabel {\r\n\tdisplay: block; \r\n\tmargin: auto; \r\n\twidth: max-content; \r\n\ttext-align: center;\r\n\tpadding-top : 0.05em;\r\n\tpadding-bottom: 0.05em;\r\n\tpadding-left: 5em;\r\n\tpadding-right: 5em;\r\n\tline-height: 45px; \r\n\tcursor: pointer; \r\n\tborder: solid #eceff1;\r\n\tbackground-color: #eceff1;\r\n\tpadding-top: 0.05em;\r\n}\r\n\r\n\r\n  ","title":"How to show colour change when customised radio button is selected?","body":"<p>I am new to coding generally, and have been working on a quiz program on HTML and CSS (data is from PostgreSQL, framework SpringBoot on Eclipse. PHP and JQuery not included in syllabus).</p>\n<p>Here's my problem:</p>\n<ol>\n<li>Now I have a list of answers where the user will have to select from.</li>\n<li>Was hoping to have the colours of the button-like radio input? change colour when the user clicks on it.</li>\n<li>Managed to create the buttons and the cursor when it hovers over the selections, but there's no change despite my CSS.</li>\n</ol>\n<p>Can someone tell me where I did wrong? Big thanks in advance.</p>\n<p><strong>※Updated HTML and CSS according to the advices in the comments + more code:</strong></p>\n<p>This is the HTML code:</p>\n<p>the screenshot of the id: <a href=\"https://i.stack.imgur.com/4IeWK.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/4IeWK.png</a></p>\n<pre><code>&lt;body&gt;\n    &lt;form method=&quot;post&quot; action=&quot;/result&quot; data-th-object=&quot;${form}&quot;&gt;\n        &lt;!-- ヘッダータイトル --&gt;\n        &lt;div class=&quot;headerbackground&quot;&gt;\n            &lt;h6&gt;模擬試験オンライン&lt;/h6&gt;\n        &lt;/div&gt;\n        &lt;br&gt;\n        &lt;!-- 試験指示 --&gt;\n        &lt;div class=&quot;examinstruction&quot;&gt;\n            &lt;p&gt;表示された言葉の英単語を以下から選び、&lt;/p&gt;\n            &lt;p&gt;OKボタンをクリックしてください。&lt;/p&gt;\n        &lt;/div&gt;\n        &lt;br&gt;\n        &lt;!-- question --&gt;\n\n        &lt;div data-th-each=&quot;list, st : ${form.list}&quot;&gt;\n            &lt;p style=&quot;text-align: center; font-size: 12px;&quot;&gt;\n                &lt;span data-th-text=&quot;${list.questionCount}&quot;&gt;n&lt;/span&gt; &lt;span&gt;/&lt;/span&gt; &lt;span\n                    data-th-text=&quot;${list.questionTotal}&quot;&gt;/n&lt;/span&gt;\n            &lt;/p&gt;\n            &lt;div class=&quot;questionborder&quot;&gt;\n                &lt;p style=&quot;font-size: 22px; font-weight: bold&quot;\n                    data-th-text=&quot;${list.content}&quot;&gt;question&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;!-- answer choice --&gt;\n            &lt;fieldset style=&quot;border: 0&quot;&gt;\n                &lt;div class=&quot;choiceradiobox&quot;\n                    data-th-each=&quot;choice, stat : ${list.choice}&quot;&gt;\n                    &lt;input id=&quot;selectedchoice&quot; data-th-name=&quot;|choice${st.count}|&quot;\n                        type=&quot;radio&quot; data-th-value=&quot;${choice}&quot;\n                        /&gt;\n                        &lt;label\n                        for=&quot;selectedchoice&quot;&gt;&lt;span data-th-text=&quot;${choice}&quot;&gt;&lt;/span&gt;&lt;/label&gt;\n                &lt;/div&gt;\n            &lt;/fieldset&gt;\n        &lt;/div&gt;\n\n        &lt;!-- 解答完了ボタン --&gt;\n        &lt;div class=&quot;submitsection&quot;&gt;\n            &lt;input class=&quot;btn btn-secondary&quot; style=&quot;font-size: 25px&quot;\n                type=&quot;submit&quot; onclick=validate() value=&quot;OK!&quot;&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n<p>CSS:</p>\n<pre><code>input[type=radio] {\n     display: none;\n}\n\ninput[type=&quot;radio&quot;]:checked + label {\n    background: #455a64; \n    color: #eceff1; \n}\n\nlabel {\n    display: block; \n    margin: auto; \n    width: max-content; \n    text-align: center;\n    padding-top : 0.05em;\n    padding-bottom: 0.05em;\n    padding-left: 5em;\n    padding-right: 5em;\n    line-height: 45px; \n    cursor: pointer; \n    border: solid #eceff1;\n    background-color: #eceff1;\n    padding-top: 0.05em;\n}\n\n\n  \n</code></pre>\n"},{"tags":["java","tdd","junit4"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1669137461,"post_id":74536614,"comment_id":131574048,"body_markdown":"Change `int value= initialValue;` in your constructor to  `value= initialValue;`. You are creating a new local variable instead of assigning to the existing field.","body":"Change <code>int value= initialValue;</code> in your constructor to  <code>value= initialValue;</code>. You are creating a new local variable instead of assigning to the existing field."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1669137586,"post_id":74536614,"comment_id":131574090,"body_markdown":"The error is btw. not related to JUnit. Your constructor was always wrong and didn&#39;t set the field value. And now you already know why tests are useful because your test revealed a bug in your code ;-)","body":"The error is btw. not related to JUnit. Your constructor was always wrong and didn&#39;t set the field value. And now you already know why tests are useful because your test revealed a bug in your code ;-)"}],"answers":[{"tags":[],"owner":{"account_id":5049794,"reputation":631,"user_id":4054720,"display_name":"Ben Borchard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669137651,"creation_date":1669137651,"answer_id":74536695,"question_id":74536614,"body_markdown":"As spiders mentioned in the comments your line \r\n\r\n```\r\nint value= initialValue;\r\n```\r\n\r\ncreates a variable that is only accessible in scope for the constructor method.  The class field `value` will not be set to anything and thus will have the default value for an unassigned int, which is `0`\r\n\r\nIf you change that line to \r\n\r\n```\r\nvalue = initialValue;\r\n```\r\nor\r\n```\r\nthis.value = initialValue;\r\n```\r\n\r\nyou should see the behavior you want as you will be setting the value for the `value` field of your object (instead of a local `value` variable)","title":"JUnit4 - Trying to make my constructor work with my unit tests","body":"<p>As spiders mentioned in the comments your line</p>\n<pre><code>int value= initialValue;\n</code></pre>\n<p>creates a variable that is only accessible in scope for the constructor method.  The class field <code>value</code> will not be set to anything and thus will have the default value for an unassigned int, which is <code>0</code></p>\n<p>If you change that line to</p>\n<pre><code>value = initialValue;\n</code></pre>\n<p>or</p>\n<pre><code>this.value = initialValue;\n</code></pre>\n<p>you should see the behavior you want as you will be setting the value for the <code>value</code> field of your object (instead of a local <code>value</code> variable)</p>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669137815,"creation_date":1669137815,"answer_id":74536737,"question_id":74536614,"body_markdown":"I&#39;m sure some good old printlns will show you what&#39;s going on:\r\n```\r\n    public int addToValue(int valueChange){\r\n        System.out.println(String.format(&quot;Adding %s to %s&quot;, valueChange, value));\r\n        value = value+valueChange;\r\n        System.out.println(&quot;Returning &quot; + value);\r\n        return value;\r\n    }\r\n```\r\n\r\nYou&#39;ll see that your constructor is wrong and this.value is initially zero","title":"JUnit4 - Trying to make my constructor work with my unit tests","body":"<p>I'm sure some good old printlns will show you what's going on:</p>\n<pre><code>    public int addToValue(int valueChange){\n        System.out.println(String.format(&quot;Adding %s to %s&quot;, valueChange, value));\n        value = value+valueChange;\n        System.out.println(&quot;Returning &quot; + value);\n        return value;\n    }\n</code></pre>\n<p>You'll see that your constructor is wrong and this.value is initially zero</p>\n"}],"owner":{"account_id":27015534,"reputation":3,"user_id":20574453,"display_name":"rulerH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74536695,"answer_count":2,"score":0,"last_activity_date":1669137815,"creation_date":1669137278,"question_id":74536614,"body_markdown":"So as you will be able to see in the code, my class constructor asks the user for an input of the &quot;initialValue&quot; of their object. I then have a method &quot;addToValue&quot; which adds to that value.\r\nWhen trying to use JUnit4 to learn TDD it does not use the &quot;initialValue&quot; parameter to set the value of &quot;value&quot;, therefore it is only returning the input of the &quot;valueChange&quot; parameter.\r\nSorry if this is confusing.\r\n\r\nHere is my code\r\n\r\n```\r\npublic class Sterling {\r\n    int value;\r\n    public Sterling(int initialValue) {\r\n        int value= initialValue;\r\n\r\n\r\n    }\r\n    public int addToValue(int valueChange){;\r\n        value = value+valueChange;\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\nThis is the JUnit4 code\r\n```\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\nimport static org.junit.Assert.*;\r\n\r\npublic class SterlingTest {\r\n\r\n    private Sterling o;\r\n\r\n    @Before\r\n    public void setUp() {\r\n        o = new Sterling(100);\r\n    }\r\n\r\n    @Test\r\n    public void testAddToValue(){\r\n            assertEquals(150,o.addToValue(50));\r\n\r\n    }}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nin the &quot;assertEquals&quot; line, 150 is the expected return value (initalValue is 100 and valueChange is 50) however my &quot;Actual&quot; output value is 50. As mentioned before I am only just learning to use JUnit so I&#39;m sure its a simple mistake but I have been stuck on this for nearly 2hours lol. \r\n\r\nThank you for any help :)","title":"JUnit4 - Trying to make my constructor work with my unit tests","body":"<p>So as you will be able to see in the code, my class constructor asks the user for an input of the &quot;initialValue&quot; of their object. I then have a method &quot;addToValue&quot; which adds to that value.\nWhen trying to use JUnit4 to learn TDD it does not use the &quot;initialValue&quot; parameter to set the value of &quot;value&quot;, therefore it is only returning the input of the &quot;valueChange&quot; parameter.\nSorry if this is confusing.</p>\n<p>Here is my code</p>\n<pre><code>public class Sterling {\n    int value;\n    public Sterling(int initialValue) {\n        int value= initialValue;\n\n\n    }\n    public int addToValue(int valueChange){;\n        value = value+valueChange;\n        return value;\n    }\n}\n</code></pre>\n<p>This is the JUnit4 code</p>\n<pre><code>import org.junit.Before;\nimport org.junit.Test;\n\nimport static org.junit.Assert.*;\n\npublic class SterlingTest {\n\n    private Sterling o;\n\n    @Before\n    public void setUp() {\n        o = new Sterling(100);\n    }\n\n    @Test\n    public void testAddToValue(){\n            assertEquals(150,o.addToValue(50));\n\n    }}\n\n</code></pre>\n<p>in the &quot;assertEquals&quot; line, 150 is the expected return value (initalValue is 100 and valueChange is 50) however my &quot;Actual&quot; output value is 50. As mentioned before I am only just learning to use JUnit so I'm sure its a simple mistake but I have been stuck on this for nearly 2hours lol.</p>\n<p>Thank you for any help :)</p>\n"},{"tags":["java","jframe"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669138270,"post_id":74536683,"comment_id":131574348,"body_markdown":"You shouldn&#39;t refer to that frame there. The frame&#39;s visibility should be controlled by the code that *calls* that `Winner` class (not `WinnerClass` - string &quot;Class&quot; is completely redundant). [Method names](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions) start lower case in Java btw","body":"You shouldn&#39;t refer to that frame there. The frame&#39;s visibility should be controlled by the code that <i>calls</i> that <code>Winner</code> class (not <code>WinnerClass</code> - string &quot;Class&quot; is completely redundant). <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">Method names</a> start lower case in Java btw"},{"owner":{"account_id":447793,"reputation":57,"user_id":841635,"display_name":"Arash"},"score":0,"creation_date":1669147699,"post_id":74536683,"comment_id":131577324,"body_markdown":"Thank you for your answer. &quot;WinnerClass&quot; is a name that i choose. imagine i change it to &quot;looooooser&quot;.","body":"Thank you for your answer. &quot;WinnerClass&quot; is a name that i choose. imagine i change it to &quot;looooooser&quot;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669148238,"post_id":74536683,"comment_id":131577482,"body_markdown":"You could, but it probably wouldn&#39;t work any better","body":"You could, but it probably wouldn&#39;t work any better"},{"owner":{"account_id":447793,"reputation":57,"user_id":841635,"display_name":"Arash"},"score":0,"creation_date":1669148878,"post_id":74536683,"comment_id":131577672,"body_markdown":"I don&#39;t think it happens because of name. Names can&#39;t make difference. It&#39;s about code.","body":"I don&#39;t think it happens because of name. Names can&#39;t make difference. It&#39;s about code."}],"owner":{"account_id":447793,"reputation":57,"user_id":841635,"display_name":"Arash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669137604,"creation_date":1669137604,"question_id":74536683,"body_markdown":"I need to runtime change `JFrame `properties in below code but i got error. `F_3x3 `is a `JFrame`. Please help me:\r\n\r\n\r\n```\r\npublic class WinnerClass {\r\n        public void RunEnd(short who){\r\n            System.out.format(&quot;Player %d wins&quot;,who );\r\n&gt; *F_3x3.setVisible(false);*\r\n        }\r\n        public boolean win3x3( short who){\r\n            if (((mat9[0]==who)&amp;&amp;(mat9[1]==who)&amp;&amp;(mat9[2]==who))||\r\n                ((mat9[0]==who)&amp;&amp;(mat9[4]==who)&amp;&amp;(mat9[8]==who)))\r\n                    return true;\r\n            else\r\n                return false;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\n i need something like this:\r\n\r\nF_3x3.setVisible(false);\r\n```","title":"Dynamically change JFrame Properties at runtime in Java","body":"<p>I need to runtime change <code>JFrame </code>properties in below code but i got error. <code>F_3x3 </code>is a <code>JFrame</code>. Please help me:</p>\n<pre><code>public class WinnerClass {\n        public void RunEnd(short who){\n            System.out.format(&quot;Player %d wins&quot;,who );\n&gt; *F_3x3.setVisible(false);*\n        }\n        public boolean win3x3( short who){\n            if (((mat9[0]==who)&amp;&amp;(mat9[1]==who)&amp;&amp;(mat9[2]==who))||\n                ((mat9[0]==who)&amp;&amp;(mat9[4]==who)&amp;&amp;(mat9[8]==who)))\n                    return true;\n            else\n                return false;\n        }\n    }\n</code></pre>\n<pre><code> i need something like this:\n\nF_3x3.setVisible(false);\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5083689,"reputation":1006,"user_id":4079056,"display_name":"sanurah"},"score":0,"creation_date":1669138665,"post_id":74536284,"comment_id":131574470,"body_markdown":"How did you check the output? I get 2022-12-09T13:21:32Z\nhttps://ideone.com/3mGJDq","body":"How did you check the output? I get 2022-12-09T13:21:32Z <a href=\"https://ideone.com/3mGJDq\" rel=\"nofollow noreferrer\">ideone.com/3mGJDq</a>"},{"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"score":0,"creation_date":1669140469,"post_id":74536284,"comment_id":131575105,"body_markdown":"As @Noplopy mentioned, there&#39;s a timezone difference in October. I tried the date in December and it returned the date with 5 hour of difference.","body":"As @Noplopy mentioned, there&#39;s a timezone difference in October. I tried the date in December and it returned the date with 5 hour of difference."}],"answers":[{"tags":[],"owner":{"account_id":2721194,"reputation":51,"user_id":2347461,"display_name":"Noplopy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669137422,"creation_date":1669137356,"answer_id":74536631,"question_id":74536284,"body_markdown":"There is a time change in EST timezone on October 30th, try in September and you have only 4 hours difference and 5 hours in December.\r\n\r\nYour can try this on this website: https://savvytime.com/converter/est-to-utc/sep-12-2022/8-30am\r\n\r\n","title":"How to convert String to UTC timezone?","body":"<p>There is a time change in EST timezone on October 30th, try in September and you have only 4 hours difference and 5 hours in December.</p>\n<p>Your can try this on this website: <a href=\"https://savvytime.com/converter/est-to-utc/sep-12-2022/8-30am\" rel=\"nofollow noreferrer\">https://savvytime.com/converter/est-to-utc/sep-12-2022/8-30am</a></p>\n"}],"owner":{"account_id":26527947,"reputation":41,"user_id":20160624,"display_name":"Lewis12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74536631,"answer_count":1,"score":0,"last_activity_date":1669137422,"creation_date":1669135776,"question_id":74536284,"body_markdown":"I have a string like this, \r\n\r\n    String userTime = &quot;12-09-2022 08:21:32 EST&quot;\r\n\r\nI have a utility which converts this string to UTC time\r\n\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy HH:mm:ss z&quot;);\r\n    ZonedDateTime zdt = ZonedDateTime.parse(userTime, f).withZoneSameInstant(ZoneOffset.UTC);\r\n\r\nThis returns the result `2022-12-09T12:21:32Z`\r\n\r\nIt gives back the time difference of 4 hours. Shouldn&#39;t it be 5 hours?","title":"How to convert String to UTC timezone?","body":"<p>I have a string like this,</p>\n<pre><code>String userTime = &quot;12-09-2022 08:21:32 EST&quot;\n</code></pre>\n<p>I have a utility which converts this string to UTC time</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy HH:mm:ss z&quot;);\nZonedDateTime zdt = ZonedDateTime.parse(userTime, f).withZoneSameInstant(ZoneOffset.UTC);\n</code></pre>\n<p>This returns the result <code>2022-12-09T12:21:32Z</code></p>\n<p>It gives back the time difference of 4 hours. Shouldn't it be 5 hours?</p>\n"},{"tags":["java","android","git","gitlab","repository"],"answers":[{"tags":[],"owner":{"account_id":18118137,"reputation":86,"user_id":13174552,"display_name":"Ammar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669137248,"creation_date":1669137248,"answer_id":74536608,"question_id":74534732,"body_markdown":"First of all, I am assuming that you have already added all files to the staging area. now you should check your branch by running this command on terminal :\r\n\r\n    git branch\r\n\r\nit will show your current branch either **main** or **master**\r\n\r\nif your current branch is main branch then run these commands it will push your code to master branch\r\n\r\n    1. Git checkout master \r\n    2. Git pull origin main\r\n    3. Git push origin master\r\n\r\nif you need more help please let me know in comments.","title":"How can I push a local android studio project to gitlab in an existing folder in the master branch?","body":"<p>First of all, I am assuming that you have already added all files to the staging area. now you should check your branch by running this command on terminal :</p>\n<pre><code>git branch\n</code></pre>\n<p>it will show your current branch either <strong>main</strong> or <strong>master</strong></p>\n<p>if your current branch is main branch then run these commands it will push your code to master branch</p>\n<pre><code>1. Git checkout master \n2. Git pull origin main\n3. Git push origin master\n</code></pre>\n<p>if you need more help please let me know in comments.</p>\n"}],"owner":{"account_id":27014379,"reputation":1,"user_id":20573496,"display_name":"Tobs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669137248,"creation_date":1669129368,"question_id":74534732,"body_markdown":"I have 3 local projects on my computer\r\nproject1,\r\nproject2\r\nand project3\r\n\r\nIn gitlab I have an existing repository. There is the master branch in this are 3 existing folders:\r\nproject1,\r\nproject2\r\nand project3\r\n\r\nHow can I push the contents/project of my local project folders into the respective matching project folder in the master branch?\r\n\r\nSo that the contents from the local folder project 1 are also in the same folder project 1 in the repository. And so on.\r\n\r\nI tried with project 1, but the files from this folder are now all in a new main branch. These should be in the master branch in the correct folder.\r\n\r\nCan someone help me here?\r\nThanks!","title":"How can I push a local android studio project to gitlab in an existing folder in the master branch?","body":"<p>I have 3 local projects on my computer\nproject1,\nproject2\nand project3</p>\n<p>In gitlab I have an existing repository. There is the master branch in this are 3 existing folders:\nproject1,\nproject2\nand project3</p>\n<p>How can I push the contents/project of my local project folders into the respective matching project folder in the master branch?</p>\n<p>So that the contents from the local folder project 1 are also in the same folder project 1 in the repository. And so on.</p>\n<p>I tried with project 1, but the files from this folder are now all in a new main branch. These should be in the master branch in the correct folder.</p>\n<p>Can someone help me here?\nThanks!</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669136006,"creation_date":1669136006,"answer_id":74536328,"question_id":74536100,"body_markdown":"It takes a few `flatMap` operations, but the following is the result:\r\n\r\n```java\r\npublic ResultObject getBestObjectWithParameters() {\r\n    int maxParameterValue = 10;\r\n    return IntStream.range(0, maxParameterValue)\r\n            .mapToObj(a -&gt; a) // Stream&lt;Integer&gt;\r\n            .flatMap(a -&gt; IntStream.range(0, maxParameterValue)\r\n                    .mapToObj(b -&gt; b) // Stream&lt;Integer&gt;\r\n                    .flatMap(b -&gt; IntStream.range(0, maxParameterValue)\r\n                            .mapToObj(c -&gt; c) // Stream&lt;Integer&gt;\r\n                            .map(c -&gt; runCalculation(a, b, c)) // Stream&lt;ResultObject&gt;\r\n                     ) // Stream&lt;resultObject&gt;\r\n            ) // Stream&lt;ResultObject&gt;\r\n            .max(Comparator.comparingDouble(ResultObject::getValue))\r\n            .orElse(null);\r\n}\r\n```\r\nNote that I have to use `mapToObj`, because `IntStream` can only `flatMap` to an `IntStream`, not to a `Stream&lt;ResultObject&gt;`.","title":"Use Java Streams to get max value for combination of parameters","body":"<p>It takes a few <code>flatMap</code> operations, but the following is the result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResultObject getBestObjectWithParameters() {\n    int maxParameterValue = 10;\n    return IntStream.range(0, maxParameterValue)\n            .mapToObj(a -&gt; a) // Stream&lt;Integer&gt;\n            .flatMap(a -&gt; IntStream.range(0, maxParameterValue)\n                    .mapToObj(b -&gt; b) // Stream&lt;Integer&gt;\n                    .flatMap(b -&gt; IntStream.range(0, maxParameterValue)\n                            .mapToObj(c -&gt; c) // Stream&lt;Integer&gt;\n                            .map(c -&gt; runCalculation(a, b, c)) // Stream&lt;ResultObject&gt;\n                     ) // Stream&lt;resultObject&gt;\n            ) // Stream&lt;ResultObject&gt;\n            .max(Comparator.comparingDouble(ResultObject::getValue))\n            .orElse(null);\n}\n</code></pre>\n<p>Note that I have to use <code>mapToObj</code>, because <code>IntStream</code> can only <code>flatMap</code> to an <code>IntStream</code>, not to a <code>Stream&lt;ResultObject&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669136566,"creation_date":1669136566,"answer_id":74536464,"question_id":74536100,"body_markdown":"Use `IntStream` and `flatMap`, as in:\r\n  \r\n\r\n      int maxParameterValue = 10;\r\n              IntStream.range(0, maxParameterValue).boxed()\r\n                .flatMap(i -&gt; IntStream.range(0, maxParameterValue).boxed()\r\n                    .flatMap(j -&gt; IntStream.range(0, maxParameterValue).boxed()\r\n                        .map(k -&gt; i + &quot;-&quot; + j + &quot;-&quot; + k)))\r\n                .forEach(s -&gt; System.out.println(s));\r\n\r\nBTW, this was much more painful to write than it needed to be. Streams are nice, but other languages would make this so much more concise and not require the annoying `.boxed()` stuff.","title":"Use Java Streams to get max value for combination of parameters","body":"<p>Use <code>IntStream</code> and <code>flatMap</code>, as in:</p>\n<pre><code>  int maxParameterValue = 10;\n          IntStream.range(0, maxParameterValue).boxed()\n            .flatMap(i -&gt; IntStream.range(0, maxParameterValue).boxed()\n                .flatMap(j -&gt; IntStream.range(0, maxParameterValue).boxed()\n                    .map(k -&gt; i + &quot;-&quot; + j + &quot;-&quot; + k)))\n            .forEach(s -&gt; System.out.println(s));\n</code></pre>\n<p>BTW, this was much more painful to write than it needed to be. Streams are nice, but other languages would make this so much more concise and not require the annoying <code>.boxed()</code> stuff.</p>\n"},{"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669136953,"creation_date":1669136953,"answer_id":74536540,"question_id":74536100,"body_markdown":"Here is a solution using a little class to wrap each calculation\r\n```\r\nimport com.google.common.collect.Sets;\r\n\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.Set;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\nclass Scratch {\r\n    public static void main(String[] args) {\r\n        int maxParameterValue = 10;\r\n\r\n        Set&lt;Integer&gt; params = IntStream.range(0, maxParameterValue).boxed().collect(Collectors.toSet());\r\n        Result bestResult = Sets.cartesianProduct(params, params, params).stream()\r\n                .parallel()\r\n                .map(Result::new)\r\n                .max(Comparator.comparingDouble(Result::getResult)).get();\r\n\r\n        System.out.println(bestResult);\r\n    }\r\n\r\n    private static double runCalculation(int a, int b, int c) {\r\n        // This just sums the 3 inputs replace with your function\r\n        return a + b + c;\r\n    }\r\n\r\n    private static class Result {\r\n        int a,b, c;\r\n        double result;\r\n\r\n        public Result(List&lt;Integer&gt; params) {\r\n            this.a = params.get(0);\r\n            this.b = params.get(1);\r\n            this.c = params.get(2);\r\n            this.result = runCalculation(a, b, c);\r\n        }\r\n\r\n        public double getResult() {\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;Result{a=%d, b=%d, c=%d, result=%s}&quot;, a, b, c, result);\r\n        }\r\n    }\r\n}\r\n```\r\nit uses Guava to generate the parameters","title":"Use Java Streams to get max value for combination of parameters","body":"<p>Here is a solution using a little class to wrap each calculation</p>\n<pre><code>import com.google.common.collect.Sets;\n\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nclass Scratch {\n    public static void main(String[] args) {\n        int maxParameterValue = 10;\n\n        Set&lt;Integer&gt; params = IntStream.range(0, maxParameterValue).boxed().collect(Collectors.toSet());\n        Result bestResult = Sets.cartesianProduct(params, params, params).stream()\n                .parallel()\n                .map(Result::new)\n                .max(Comparator.comparingDouble(Result::getResult)).get();\n\n        System.out.println(bestResult);\n    }\n\n    private static double runCalculation(int a, int b, int c) {\n        // This just sums the 3 inputs replace with your function\n        return a + b + c;\n    }\n\n    private static class Result {\n        int a,b, c;\n        double result;\n\n        public Result(List&lt;Integer&gt; params) {\n            this.a = params.get(0);\n            this.b = params.get(1);\n            this.c = params.get(2);\n            this.result = runCalculation(a, b, c);\n        }\n\n        public double getResult() {\n            return result;\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;Result{a=%d, b=%d, c=%d, result=%s}&quot;, a, b, c, result);\n        }\n    }\n}\n</code></pre>\n<p>it uses Guava to generate the parameters</p>\n"}],"owner":{"account_id":418572,"reputation":459,"user_id":795221,"accept_rate":100,"display_name":"imichaeldotorg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74536540,"answer_count":3,"score":0,"last_activity_date":1669136953,"creation_date":1669134997,"question_id":74536100,"body_markdown":"I&#39;m looking to transition this code to use Streams. \r\n\r\n```java\r\npublic ResultObject getBestObjectWithParameters() {\r\n    int maxParameterValue = 10;\r\n    double bestValue = 0.0;\r\n    ResultObject bestObject = null;\r\n    for (int a = 0; a &lt; maxParameterValue; a++) {\r\n      for (int b = 0; b &lt; maxParameterValue; b++) {\r\n        for (int c = 0; c &lt; maxParameterValue; c++) {\r\n          ResultObject o = runCalculation(a, b, c);\r\n          if (o.getValue() &gt; bestValue) {\r\n            bestValue = getValue;\r\n            bestObject = o;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return bestObject;\r\n  }\r\n```\r\n\r\nIn short, I&#39;d like to `runCalculation` on every combination of parameters.  `runCalculation` returns a `ResultObject`.  I&#39;d like to return *the* `ResultObject` that returns the maximum `ResultObject.getValue()`.\r\n\r\nIdeally, I would like to use `parallel()` to run this as quickly as possible.\r\n\r\nWhat is the best way to do this?\r\n","title":"Use Java Streams to get max value for combination of parameters","body":"<p>I'm looking to transition this code to use Streams.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResultObject getBestObjectWithParameters() {\n    int maxParameterValue = 10;\n    double bestValue = 0.0;\n    ResultObject bestObject = null;\n    for (int a = 0; a &lt; maxParameterValue; a++) {\n      for (int b = 0; b &lt; maxParameterValue; b++) {\n        for (int c = 0; c &lt; maxParameterValue; c++) {\n          ResultObject o = runCalculation(a, b, c);\n          if (o.getValue() &gt; bestValue) {\n            bestValue = getValue;\n            bestObject = o;\n          }\n        }\n      }\n    }\n    return bestObject;\n  }\n</code></pre>\n<p>In short, I'd like to <code>runCalculation</code> on every combination of parameters.  <code>runCalculation</code> returns a <code>ResultObject</code>.  I'd like to return <em>the</em> <code>ResultObject</code> that returns the maximum <code>ResultObject.getValue()</code>.</p>\n<p>Ideally, I would like to use <code>parallel()</code> to run this as quickly as possible.</p>\n<p>What is the best way to do this?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":24291308,"reputation":13,"user_id":18236283,"display_name":"Ben Chu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669136950,"creation_date":1669129761,"answer_id":74534833,"question_id":74533809,"body_markdown":"I have found the mistake. In my RatingEntity code, the getter and setter are erroneous. There&#39;s some typos there. It should be\r\n\r\n    public Integer getPruid() {\r\n            return pruid;\r\n        }\r\n    \r\n        public void setPruid(Integer pruid) {\r\n            this.pruid = pruid;\r\n        }","title":"Going around the many-to-many relationship in Spring boot, but no new entity is created","body":"<p>I have found the mistake. In my RatingEntity code, the getter and setter are erroneous. There's some typos there. It should be</p>\n<pre><code>public Integer getPruid() {\n        return pruid;\n    }\n\n    public void setPruid(Integer pruid) {\n        this.pruid = pruid;\n    }\n</code></pre>\n"}],"owner":{"account_id":24291308,"reputation":13,"user_id":18236283,"display_name":"Ben Chu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74534833,"answer_count":1,"score":0,"last_activity_date":1669136950,"creation_date":1669125500,"question_id":74533809,"body_markdown":"I&#39;m using spring boot to construct a database using AWS RDS as well. I want to track down how many stars a user gives to different products. I learnt to go around the many-to-many relationship by creating a table connecting two one-to-many other tables. For this reason, I have created the following tables: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen a user rates a product, an api is called through the put command in order to track down which user(uid) rates which product(pid). When the product(pid) is not rated by anyone, a rate_item is created that contains the pid and also the uid. However, when another user (with a different uid) rates the same product (same pid), **the rate_item is updated**, which is a problem becausse supposedly, a new row containing the same pid and a different uid should be created, as seen in the following (user with &quot;uid 1&quot; has already rated the same product and when user with &quot;uid 2&quot; rates the same product, the entity gets updated, but not like a new entity is created):\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6q8iB.png\r\n  [2]: https://i.stack.imgur.com/zgpxB.png\r\n\r\nProductEntity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;product&quot;)\r\n    public class ProductEntity {\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        @Column(name = &quot;pid&quot;,nullable = false)\r\n        private Integer pid;\r\n        @Column(name = &quot;name&quot;, nullable = false)\r\n        private String name;\r\n        @Column(name=&quot;theme&quot;, nullable = false)\r\n        private String theme;\r\n        @Column(name=&quot;color&quot;, nullable = false)\r\n        private String color;\r\n        @Column(name=&quot;sizeZero&quot;, nullable = true)\r\n        private String sizeZero;\r\n        @Column(name=&quot;sizeOne&quot;, nullable = true)\r\n        private String sizeOne;\r\n        @Column(name=&quot;sizeTwo&quot;, nullable = true)\r\n        private String sizeTwo;\r\n        @Column(name=&quot;sizeThree&quot;, nullable = true)\r\n        private String sizeThree;\r\n        @Column(name=&quot;description&quot;,nullable = false)\r\n        private String description;\r\n        @Column(name = &quot;image_url&quot;, nullable = false)\r\n        private String imageUrl;\r\n        @Column(name = &quot;price&quot;,nullable = false)\r\n        private BigDecimal price;\r\n        @Column(name = &quot;stock&quot;,nullable = false)\r\n        private Integer stock;\r\n    \r\n        public ProductEntity(CreateProductData createProductData) {\r\n            this.pid = createProductData.getPid();\r\n            this.name = createProductData.getName();\r\n            this.theme =createProductData.getTheme();\r\n            this.color=createProductData.getColor();\r\n            this.sizeZero=createProductData.getSizeZero();\r\n            this.sizeOne =createProductData.getSizeOne();\r\n            this.sizeTwo =createProductData.getSizeTwo();\r\n            this.sizeThree =createProductData.getSizeThree();\r\n            this.description =createProductData.getDescription();\r\n            this.imageUrl = createProductData.getImageUrl();\r\n            this.price = createProductData.getPrice();\r\n            this.stock = createProductData.getStock();\r\n        }\r\n        public ProductEntity(){\r\n    \r\n        }\r\n    \r\n        public Integer getPid() {\r\n            return pid;\r\n        }\r\n    \r\n        public void setPid(Integer pid) {\r\n            this.pid = pid;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getTheme() {\r\n            return theme;\r\n        }\r\n    \r\n        public void setTheme(String productType) {\r\n            this.theme = productType;\r\n        }\r\n        public String getColor() {\r\n            return color;\r\n        }\r\n    \r\n        public void setColor(String color) {\r\n            this.color = color;\r\n        }\r\n    \r\n        public String getSizeZero() {\r\n            return sizeZero;\r\n        }\r\n    \r\n        public void setSizeZero(String sizeZero) {\r\n            this.sizeZero = sizeZero;\r\n        }\r\n        public String getSizeOne() {\r\n            return sizeOne;\r\n        }\r\n    \r\n        public void setSizeOne(String smallSize) {\r\n            this.sizeOne = smallSize;\r\n        }\r\n    \r\n        public String getSizeTwo() {\r\n            return sizeTwo;\r\n        }\r\n    \r\n        public void setSizeTwo(String mediumSize) {\r\n            this.sizeTwo = mediumSize;\r\n        }\r\n    \r\n        public String getSizeThree() {\r\n            return sizeThree;\r\n        }\r\n    \r\n        public void setSizeThree(String largeSize) {\r\n            this.sizeThree = largeSize;\r\n        }\r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        public String getImageUrl() {\r\n            return imageUrl;\r\n        }\r\n    \r\n        public void setImageUrl(String imageUrl) {\r\n            this.imageUrl = imageUrl;\r\n        }\r\n    \r\n        public BigDecimal getPrice() {\r\n            return price;\r\n        }\r\n    \r\n        public void setPrice(BigDecimal price) {\r\n            this.price = price;\r\n        }\r\n    \r\n        public Integer getStock() {\r\n            return stock;\r\n        }\r\n    \r\n        public void setStock(Integer stock) {\r\n            this.stock = stock;\r\n        }\r\n    }\r\n\r\nUserEntity:\r\n\r\n    @Entity\r\n    @Table(name=&quot;User&quot;)\r\n    public class UserEntity {\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        @Column(name=&quot;uid&quot;,nullable = false)\r\n        private Integer uid;\r\n        @Column(name=&quot;username&quot;, nullable = false)\r\n        private String username;\r\n        @Column(name=&quot;email&quot;, nullable = false, unique = true)\r\n        private String email;\r\n        @Column(name=&quot;password&quot;, nullable = false)\r\n        private String password;\r\n        @Column(name = &quot;firebase_uid&quot;, nullable = false)\r\n        private String firebaseUid;\r\n        @Column(name= &quot;emailVerified&quot;, nullable = false,columnDefinition = &quot;boolean default false&quot;)\r\n        private Boolean emailVerified=false;\r\n    \r\n        @Column(name=&quot;subscribed&quot;, nullable = false)\r\n        private Boolean subscribed;\r\n    \r\n        public UserEntity(UserEntity tempUserEntity){\r\n            this.uid=tempUserEntity.getUid();\r\n            this.firebaseUid=tempUserEntity.getFirebaseUid();\r\n            this.email=tempUserEntity.getEmail();\r\n        }\r\n    \r\n        public UserEntity(CreateFirebaseUserData createFirebaseUserData){\r\n            this.username=createFirebaseUserData.getUsername();\r\n            this.email=createFirebaseUserData.getEmail();\r\n            this.password=createFirebaseUserData.getPassword();\r\n            this.firebaseUid= createFirebaseUserData.getFirebaseUid();\r\n            this.subscribed=createFirebaseUserData.getSubscribed();\r\n        }\r\n    \r\n        public UserEntity(){\r\n    \r\n        }\r\n    \r\n        public Integer getUid() {\r\n            return uid;\r\n        }\r\n    \r\n        public void setUid(Integer uid) {\r\n            this.uid = uid;\r\n        }\r\n    \r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        public String getFirebaseUid() {\r\n            return firebaseUid;\r\n        }\r\n    \r\n        public void setFirebaseUid(String firebaseUid) {\r\n            this.firebaseUid = firebaseUid;\r\n        }\r\n    \r\n        public Boolean getEmailVerified() {\r\n            return emailVerified;\r\n        }\r\n    \r\n        public void setEmailVerified(Boolean emailVerified) {\r\n            this.emailVerified = emailVerified;\r\n        }\r\n    \r\n        public Boolean getSubscribed() {\r\n            return subscribed;\r\n        }\r\n    \r\n        public void setSubscribed(Boolean subscribed) {\r\n            this.subscribed = subscribed;\r\n        }\r\n    }\r\n\r\nRatingEntity:\r\n\r\n    @Entity\r\n    @Table(name=&quot;Rating&quot;)\r\n    public class ProductsRatedByUserEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;pruid&quot;)\r\n        private Integer pruid;\r\n        @OneToOne\r\n        @JoinColumn(name=&quot;pid&quot;,nullable = false)\r\n        private ProductEntity product;\r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;uid&quot;,nullable = false)\r\n        private UserEntity user;\r\n        @Column\r\n        private Integer starsGiven;\r\n        @Column(name=&quot;total_stars&quot;, nullable = false)\r\n        private Integer totalStars;\r\n        @Column(name=&quot;total_num_of_users_who_rated&quot;, nullable = false)\r\n        private Integer totalNumOfUsersWhoRated;\r\n        @Column(name=&quot;average_stars&quot;)\r\n        private BigDecimal averageStars;\r\n    \r\n        public ProductsRatedByUserEntity(UserEntity userEntity, ProductEntity productEntity, Integer numOfStars){\r\n            this.product=productEntity;\r\n            this.user=userEntity;\r\n            this.starsGiven=numOfStars;\r\n            this.totalStars=numOfStars;\r\n            this.totalNumOfUsersWhoRated=1;\r\n            this.averageStars=BigDecimal.valueOf(this.getTotalStars()).divide(BigDecimal.valueOf(this.getTotalNumOfUsersWhoRated()));\r\n        }\r\n    \r\n        public ProductsRatedByUserEntity(ProductEntity product,UserEntity user,Integer numOfStars,Integer newTotalNumOfStars, Integer newTotalNumberOfUsers, BigDecimal averageStars){\r\n            this.product=product;\r\n            this.user=user;\r\n            this.starsGiven=numOfStars;\r\n            this.totalStars=newTotalNumOfStars;\r\n            this.totalNumOfUsersWhoRated=newTotalNumberOfUsers;\r\n            this.averageStars=averageStars;\r\n        }\r\n    \r\n    \r\n        public ProductsRatedByUserEntity(){\r\n    \r\n        }\r\n    \r\n    \r\n        public Integer getPruid() {\r\n            return pruid;\r\n        }\r\n    \r\n        public void setPruid(Integer plbuid) {\r\n            this.pruid = plbuid;\r\n        }\r\n    \r\n        public ProductEntity getProduct() {\r\n            return product;\r\n        }\r\n    \r\n        public void setProduct(ProductEntity product) {\r\n            this.product = product;\r\n        }\r\n    \r\n        public UserEntity getUser() {\r\n            return user;\r\n        }\r\n    \r\n        public void setUser(UserEntity user) {\r\n            this.user = user;\r\n        }\r\n    \r\n        public Integer getStarsGiven() {\r\n            return starsGiven;\r\n        }\r\n    \r\n        public void setStarsGiven(Integer starsGiven) {\r\n            this.starsGiven = starsGiven;\r\n        }\r\n    \r\n        public Integer getTotalStars() {\r\n            return totalStars;\r\n        }\r\n    \r\n        public void setTotalStars(Integer totalStars) {\r\n            this.totalStars = totalStars;\r\n        }\r\n    \r\n        public Integer getTotalNumOfUsersWhoRated() {\r\n            return totalNumOfUsersWhoRated;\r\n        }\r\n    \r\n        public void setTotalNumOfUsersWhoRated(Integer totalNumOfUsersWhoLiked) {\r\n            this.totalNumOfUsersWhoRated = totalNumOfUsersWhoLiked;\r\n        }\r\n    \r\n        public BigDecimal getAverageStars() {\r\n            return averageStars;\r\n        }\r\n    \r\n        public void setAverageStars(BigDecimal averageStars) {\r\n            this.averageStars = averageStars;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\nApi:\r\n\r\n    @CrossOrigin\r\n    @RestController\r\n    public class ProductApi {\r\n        private ProductService productService;\r\n        private ProductsRatedByUserService productsRatedByUserService;\r\n        @Autowired\r\n        public ProductApi(ProductService productService,ProductsRatedByUserService productsRatedByUserService){\r\n            this.productService=productService;\r\n            this.productsRatedByUserService=productsRatedByUserService;\r\n        }\r\n        @PutMapping(&quot;/product/rating/{pid}/{numOfStars}&quot;)\r\n        public ProductsRatedByUserResponseDto updateRating(@PathVariable Integer pid, @PathVariable Integer numOfStars, JwtAuthenticationToken jwtAuthenticationToken) throws ProductFoundByIdException {\r\n            FirebaseUserData firebaseUserData=new FirebaseUserData(jwtAuthenticationToken);\r\n            ProductsRatedByUserDetail productsRatedByUserDetail=productsRatedByUserService.updateProductRating(pid,numOfStars,firebaseUserData);\r\n            return new ProductsRatedByUserResponseDto(productsRatedByUserDetail);\r\n        }\r\n    }\r\n\r\nRatingServiceImpl:\r\n\r\n    @Service\r\n    @Component\r\n    public class ProductsRatedByUserServiceImpl implements ProductsRatedByUserService {\r\n        public ProductsRatedByUserRepository productsRatedByUserRepository;\r\n        public ProductRepository productRepository;\r\n        public UserRepository userRepository;\r\n    \r\n        @Autowired\r\n        public ProductsRatedByUserServiceImpl(ProductsRatedByUserRepository productsRatedByUserRepository,ProductRepository productRepository,UserRepository userRepository){\r\n            this.productsRatedByUserRepository=productsRatedByUserRepository;\r\n            this.productRepository=productRepository;\r\n            this.userRepository=userRepository;\r\n        }\r\n    \r\n        @Override\r\n        public ProductsRatedByUserDetail updateProductRating(Integer pid, Integer numOfStars, FirebaseUserData firebaseUserData) throws ProductFoundByIdException {\r\n            if(!productRepository.existsById(pid)){\r\n                throw new ProductFoundByIdException();\r\n            }\r\n            UserEntity userEntity=userRepository.findUserEntityByEmail(firebaseUserData.getEmail());\r\n            ProductEntity productEntity =productRepository.findById(pid).orElse(null);\r\n            //check if the product has been rated by *any user*\r\n            //If no, we need to create an entity\r\n            if(!productsRatedByUserRepository.existsByProduct(productEntity)){\r\n                ProductsRatedByUserEntity productsRatedByUserEntity=new ProductsRatedByUserEntity(userEntity, productEntity, numOfStars);\r\n                ProductsRatedByUserEntity productsRatedByUserEntityReturned=productsRatedByUserRepository.save(productsRatedByUserEntity);\r\n                System.out.println(&quot;the product has been rated by *any user*&quot;);\r\n                return new ProductsRatedByUserDetail(productsRatedByUserEntityReturned);\r\n            }\r\n            //If yes, we update the entity from there\r\n            else {\r\n                //if the product has been rated by this very user\r\n                if (productsRatedByUserRepository.existsByUserAndProduct(userEntity, productEntity)) {\r\n                    ProductsRatedByUserEntity productsRatedByUserEntity = productsRatedByUserRepository.findTopByUserAndProduct(userEntity, productEntity);\r\n                    productsRatedByUserEntity.setTotalStars(productsRatedByUserEntity.getTotalStars() - productsRatedByUserEntity.getStarsGiven() + numOfStars);\r\n                    productsRatedByUserEntity.setStarsGiven(numOfStars);\r\n                    productsRatedByUserEntity.setAverageStars(BigDecimal.valueOf(productsRatedByUserEntity.getTotalStars()).divide(BigDecimal.valueOf(productsRatedByUserEntity.getTotalNumOfUsersWhoRated())));\r\n                    ProductsRatedByUserEntity productsRatedByUserEntityReturned = productsRatedByUserRepository.save(productsRatedByUserEntity);\r\n                    System.out.println(&quot;the product has been rated by this very user&quot;);\r\n                    return new ProductsRatedByUserDetail(productsRatedByUserEntityReturned);\r\n                } else {\r\n                    //The product has not been rated by this very user\r\n                    ProductsRatedByUserEntity productsRatedByUserEntity = productsRatedByUserRepository.findTopByProduct(productEntity);\r\n                    int newTotalNumOfStars = (productsRatedByUserEntity.getTotalStars() + numOfStars);\r\n                    int newTotalNumberOfUsers = productsRatedByUserEntity.getTotalNumOfUsersWhoRated() + 1;\r\n                    productsRatedByUserEntity.setUser(userEntity);\r\n                    System.out.println(&quot;The product has not been rated by this very user&quot;);\r\n                    return new ProductsRatedByUserDetail(productsRatedByUserRepository.save(new ProductsRatedByUserEntity(productEntity, userEntity, numOfStars, newTotalNumOfStars, newTotalNumberOfUsers, BigDecimal.valueOf(newTotalNumOfStars).divide(BigDecimal.valueOf(newTotalNumberOfUsers)))));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nRatingServiceInterface:\r\n\r\n    public interface ProductsRatedByUserService {\r\n        ProductsRatedByUserDetail updateProductRating(Integer pid, Integer numOfStars, FirebaseUserData firebaseUserData) throws ProductFoundByIdException;\r\n    \r\n    }\r\n\r\nRepository:\r\n\r\n    public interface ProductsRatedByUserRepository extends CrudRepository&lt;ProductsRatedByUserEntity,Integer&gt; {\r\n        boolean existsByProduct(ProductEntity product);\r\n        ProductsRatedByUserEntity findTopByProduct(ProductEntity product);\r\n        boolean existsByUserAndProduct(UserEntity userEntity, ProductEntity product);\r\n        ProductsRatedByUserEntity findTopByUserAndProduct(UserEntity userEntity, ProductEntity product);\r\n    }\r\n\r\nI will really appreciate anyone who can help me with this! I&#39;ve been stuck for a whole day! I don&#39;t want to use the many-to-many annotation because it seems a bit messy. Thanks!\r\n\r\n\r\n","title":"Going around the many-to-many relationship in Spring boot, but no new entity is created","body":"<p>I'm using spring boot to construct a database using AWS RDS as well. I want to track down how many stars a user gives to different products. I learnt to go around the many-to-many relationship by creating a table connecting two one-to-many other tables. For this reason, I have created the following tables:</p>\n<p><a href=\"https://i.stack.imgur.com/6q8iB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6q8iB.png\" alt=\"enter image description here\" /></a></p>\n<p>When a user rates a product, an api is called through the put command in order to track down which user(uid) rates which product(pid). When the product(pid) is not rated by anyone, a rate_item is created that contains the pid and also the uid. However, when another user (with a different uid) rates the same product (same pid), <strong>the rate_item is updated</strong>, which is a problem becausse supposedly, a new row containing the same pid and a different uid should be created, as seen in the following (user with &quot;uid 1&quot; has already rated the same product and when user with &quot;uid 2&quot; rates the same product, the entity gets updated, but not like a new entity is created):\n<a href=\"https://i.stack.imgur.com/zgpxB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zgpxB.png\" alt=\"enter image description here\" /></a></p>\n<p>ProductEntity:</p>\n<pre><code>@Entity\n@Table(name = &quot;product&quot;)\npublic class ProductEntity {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name = &quot;pid&quot;,nullable = false)\n    private Integer pid;\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n    @Column(name=&quot;theme&quot;, nullable = false)\n    private String theme;\n    @Column(name=&quot;color&quot;, nullable = false)\n    private String color;\n    @Column(name=&quot;sizeZero&quot;, nullable = true)\n    private String sizeZero;\n    @Column(name=&quot;sizeOne&quot;, nullable = true)\n    private String sizeOne;\n    @Column(name=&quot;sizeTwo&quot;, nullable = true)\n    private String sizeTwo;\n    @Column(name=&quot;sizeThree&quot;, nullable = true)\n    private String sizeThree;\n    @Column(name=&quot;description&quot;,nullable = false)\n    private String description;\n    @Column(name = &quot;image_url&quot;, nullable = false)\n    private String imageUrl;\n    @Column(name = &quot;price&quot;,nullable = false)\n    private BigDecimal price;\n    @Column(name = &quot;stock&quot;,nullable = false)\n    private Integer stock;\n\n    public ProductEntity(CreateProductData createProductData) {\n        this.pid = createProductData.getPid();\n        this.name = createProductData.getName();\n        this.theme =createProductData.getTheme();\n        this.color=createProductData.getColor();\n        this.sizeZero=createProductData.getSizeZero();\n        this.sizeOne =createProductData.getSizeOne();\n        this.sizeTwo =createProductData.getSizeTwo();\n        this.sizeThree =createProductData.getSizeThree();\n        this.description =createProductData.getDescription();\n        this.imageUrl = createProductData.getImageUrl();\n        this.price = createProductData.getPrice();\n        this.stock = createProductData.getStock();\n    }\n    public ProductEntity(){\n\n    }\n\n    public Integer getPid() {\n        return pid;\n    }\n\n    public void setPid(Integer pid) {\n        this.pid = pid;\n    }\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getTheme() {\n        return theme;\n    }\n\n    public void setTheme(String productType) {\n        this.theme = productType;\n    }\n    public String getColor() {\n        return color;\n    }\n\n    public void setColor(String color) {\n        this.color = color;\n    }\n\n    public String getSizeZero() {\n        return sizeZero;\n    }\n\n    public void setSizeZero(String sizeZero) {\n        this.sizeZero = sizeZero;\n    }\n    public String getSizeOne() {\n        return sizeOne;\n    }\n\n    public void setSizeOne(String smallSize) {\n        this.sizeOne = smallSize;\n    }\n\n    public String getSizeTwo() {\n        return sizeTwo;\n    }\n\n    public void setSizeTwo(String mediumSize) {\n        this.sizeTwo = mediumSize;\n    }\n\n    public String getSizeThree() {\n        return sizeThree;\n    }\n\n    public void setSizeThree(String largeSize) {\n        this.sizeThree = largeSize;\n    }\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getImageUrl() {\n        return imageUrl;\n    }\n\n    public void setImageUrl(String imageUrl) {\n        this.imageUrl = imageUrl;\n    }\n\n    public BigDecimal getPrice() {\n        return price;\n    }\n\n    public void setPrice(BigDecimal price) {\n        this.price = price;\n    }\n\n    public Integer getStock() {\n        return stock;\n    }\n\n    public void setStock(Integer stock) {\n        this.stock = stock;\n    }\n}\n</code></pre>\n<p>UserEntity:</p>\n<pre><code>@Entity\n@Table(name=&quot;User&quot;)\npublic class UserEntity {\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;uid&quot;,nullable = false)\n    private Integer uid;\n    @Column(name=&quot;username&quot;, nullable = false)\n    private String username;\n    @Column(name=&quot;email&quot;, nullable = false, unique = true)\n    private String email;\n    @Column(name=&quot;password&quot;, nullable = false)\n    private String password;\n    @Column(name = &quot;firebase_uid&quot;, nullable = false)\n    private String firebaseUid;\n    @Column(name= &quot;emailVerified&quot;, nullable = false,columnDefinition = &quot;boolean default false&quot;)\n    private Boolean emailVerified=false;\n\n    @Column(name=&quot;subscribed&quot;, nullable = false)\n    private Boolean subscribed;\n\n    public UserEntity(UserEntity tempUserEntity){\n        this.uid=tempUserEntity.getUid();\n        this.firebaseUid=tempUserEntity.getFirebaseUid();\n        this.email=tempUserEntity.getEmail();\n    }\n\n    public UserEntity(CreateFirebaseUserData createFirebaseUserData){\n        this.username=createFirebaseUserData.getUsername();\n        this.email=createFirebaseUserData.getEmail();\n        this.password=createFirebaseUserData.getPassword();\n        this.firebaseUid= createFirebaseUserData.getFirebaseUid();\n        this.subscribed=createFirebaseUserData.getSubscribed();\n    }\n\n    public UserEntity(){\n\n    }\n\n    public Integer getUid() {\n        return uid;\n    }\n\n    public void setUid(Integer uid) {\n        this.uid = uid;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getFirebaseUid() {\n        return firebaseUid;\n    }\n\n    public void setFirebaseUid(String firebaseUid) {\n        this.firebaseUid = firebaseUid;\n    }\n\n    public Boolean getEmailVerified() {\n        return emailVerified;\n    }\n\n    public void setEmailVerified(Boolean emailVerified) {\n        this.emailVerified = emailVerified;\n    }\n\n    public Boolean getSubscribed() {\n        return subscribed;\n    }\n\n    public void setSubscribed(Boolean subscribed) {\n        this.subscribed = subscribed;\n    }\n}\n</code></pre>\n<p>RatingEntity:</p>\n<pre><code>@Entity\n@Table(name=&quot;Rating&quot;)\npublic class ProductsRatedByUserEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;pruid&quot;)\n    private Integer pruid;\n    @OneToOne\n    @JoinColumn(name=&quot;pid&quot;,nullable = false)\n    private ProductEntity product;\n    @ManyToOne\n    @JoinColumn(name=&quot;uid&quot;,nullable = false)\n    private UserEntity user;\n    @Column\n    private Integer starsGiven;\n    @Column(name=&quot;total_stars&quot;, nullable = false)\n    private Integer totalStars;\n    @Column(name=&quot;total_num_of_users_who_rated&quot;, nullable = false)\n    private Integer totalNumOfUsersWhoRated;\n    @Column(name=&quot;average_stars&quot;)\n    private BigDecimal averageStars;\n\n    public ProductsRatedByUserEntity(UserEntity userEntity, ProductEntity productEntity, Integer numOfStars){\n        this.product=productEntity;\n        this.user=userEntity;\n        this.starsGiven=numOfStars;\n        this.totalStars=numOfStars;\n        this.totalNumOfUsersWhoRated=1;\n        this.averageStars=BigDecimal.valueOf(this.getTotalStars()).divide(BigDecimal.valueOf(this.getTotalNumOfUsersWhoRated()));\n    }\n\n    public ProductsRatedByUserEntity(ProductEntity product,UserEntity user,Integer numOfStars,Integer newTotalNumOfStars, Integer newTotalNumberOfUsers, BigDecimal averageStars){\n        this.product=product;\n        this.user=user;\n        this.starsGiven=numOfStars;\n        this.totalStars=newTotalNumOfStars;\n        this.totalNumOfUsersWhoRated=newTotalNumberOfUsers;\n        this.averageStars=averageStars;\n    }\n\n\n    public ProductsRatedByUserEntity(){\n\n    }\n\n\n    public Integer getPruid() {\n        return pruid;\n    }\n\n    public void setPruid(Integer plbuid) {\n        this.pruid = plbuid;\n    }\n\n    public ProductEntity getProduct() {\n        return product;\n    }\n\n    public void setProduct(ProductEntity product) {\n        this.product = product;\n    }\n\n    public UserEntity getUser() {\n        return user;\n    }\n\n    public void setUser(UserEntity user) {\n        this.user = user;\n    }\n\n    public Integer getStarsGiven() {\n        return starsGiven;\n    }\n\n    public void setStarsGiven(Integer starsGiven) {\n        this.starsGiven = starsGiven;\n    }\n\n    public Integer getTotalStars() {\n        return totalStars;\n    }\n\n    public void setTotalStars(Integer totalStars) {\n        this.totalStars = totalStars;\n    }\n\n    public Integer getTotalNumOfUsersWhoRated() {\n        return totalNumOfUsersWhoRated;\n    }\n\n    public void setTotalNumOfUsersWhoRated(Integer totalNumOfUsersWhoLiked) {\n        this.totalNumOfUsersWhoRated = totalNumOfUsersWhoLiked;\n    }\n\n    public BigDecimal getAverageStars() {\n        return averageStars;\n    }\n\n    public void setAverageStars(BigDecimal averageStars) {\n        this.averageStars = averageStars;\n    }\n\n\n\n}\n</code></pre>\n<p>Api:</p>\n<pre><code>@CrossOrigin\n@RestController\npublic class ProductApi {\n    private ProductService productService;\n    private ProductsRatedByUserService productsRatedByUserService;\n    @Autowired\n    public ProductApi(ProductService productService,ProductsRatedByUserService productsRatedByUserService){\n        this.productService=productService;\n        this.productsRatedByUserService=productsRatedByUserService;\n    }\n    @PutMapping(&quot;/product/rating/{pid}/{numOfStars}&quot;)\n    public ProductsRatedByUserResponseDto updateRating(@PathVariable Integer pid, @PathVariable Integer numOfStars, JwtAuthenticationToken jwtAuthenticationToken) throws ProductFoundByIdException {\n        FirebaseUserData firebaseUserData=new FirebaseUserData(jwtAuthenticationToken);\n        ProductsRatedByUserDetail productsRatedByUserDetail=productsRatedByUserService.updateProductRating(pid,numOfStars,firebaseUserData);\n        return new ProductsRatedByUserResponseDto(productsRatedByUserDetail);\n    }\n}\n</code></pre>\n<p>RatingServiceImpl:</p>\n<pre><code>@Service\n@Component\npublic class ProductsRatedByUserServiceImpl implements ProductsRatedByUserService {\n    public ProductsRatedByUserRepository productsRatedByUserRepository;\n    public ProductRepository productRepository;\n    public UserRepository userRepository;\n\n    @Autowired\n    public ProductsRatedByUserServiceImpl(ProductsRatedByUserRepository productsRatedByUserRepository,ProductRepository productRepository,UserRepository userRepository){\n        this.productsRatedByUserRepository=productsRatedByUserRepository;\n        this.productRepository=productRepository;\n        this.userRepository=userRepository;\n    }\n\n    @Override\n    public ProductsRatedByUserDetail updateProductRating(Integer pid, Integer numOfStars, FirebaseUserData firebaseUserData) throws ProductFoundByIdException {\n        if(!productRepository.existsById(pid)){\n            throw new ProductFoundByIdException();\n        }\n        UserEntity userEntity=userRepository.findUserEntityByEmail(firebaseUserData.getEmail());\n        ProductEntity productEntity =productRepository.findById(pid).orElse(null);\n        //check if the product has been rated by *any user*\n        //If no, we need to create an entity\n        if(!productsRatedByUserRepository.existsByProduct(productEntity)){\n            ProductsRatedByUserEntity productsRatedByUserEntity=new ProductsRatedByUserEntity(userEntity, productEntity, numOfStars);\n            ProductsRatedByUserEntity productsRatedByUserEntityReturned=productsRatedByUserRepository.save(productsRatedByUserEntity);\n            System.out.println(&quot;the product has been rated by *any user*&quot;);\n            return new ProductsRatedByUserDetail(productsRatedByUserEntityReturned);\n        }\n        //If yes, we update the entity from there\n        else {\n            //if the product has been rated by this very user\n            if (productsRatedByUserRepository.existsByUserAndProduct(userEntity, productEntity)) {\n                ProductsRatedByUserEntity productsRatedByUserEntity = productsRatedByUserRepository.findTopByUserAndProduct(userEntity, productEntity);\n                productsRatedByUserEntity.setTotalStars(productsRatedByUserEntity.getTotalStars() - productsRatedByUserEntity.getStarsGiven() + numOfStars);\n                productsRatedByUserEntity.setStarsGiven(numOfStars);\n                productsRatedByUserEntity.setAverageStars(BigDecimal.valueOf(productsRatedByUserEntity.getTotalStars()).divide(BigDecimal.valueOf(productsRatedByUserEntity.getTotalNumOfUsersWhoRated())));\n                ProductsRatedByUserEntity productsRatedByUserEntityReturned = productsRatedByUserRepository.save(productsRatedByUserEntity);\n                System.out.println(&quot;the product has been rated by this very user&quot;);\n                return new ProductsRatedByUserDetail(productsRatedByUserEntityReturned);\n            } else {\n                //The product has not been rated by this very user\n                ProductsRatedByUserEntity productsRatedByUserEntity = productsRatedByUserRepository.findTopByProduct(productEntity);\n                int newTotalNumOfStars = (productsRatedByUserEntity.getTotalStars() + numOfStars);\n                int newTotalNumberOfUsers = productsRatedByUserEntity.getTotalNumOfUsersWhoRated() + 1;\n                productsRatedByUserEntity.setUser(userEntity);\n                System.out.println(&quot;The product has not been rated by this very user&quot;);\n                return new ProductsRatedByUserDetail(productsRatedByUserRepository.save(new ProductsRatedByUserEntity(productEntity, userEntity, numOfStars, newTotalNumOfStars, newTotalNumberOfUsers, BigDecimal.valueOf(newTotalNumOfStars).divide(BigDecimal.valueOf(newTotalNumberOfUsers)))));\n            }\n        }\n    }\n}\n</code></pre>\n<p>RatingServiceInterface:</p>\n<pre><code>public interface ProductsRatedByUserService {\n    ProductsRatedByUserDetail updateProductRating(Integer pid, Integer numOfStars, FirebaseUserData firebaseUserData) throws ProductFoundByIdException;\n\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface ProductsRatedByUserRepository extends CrudRepository&lt;ProductsRatedByUserEntity,Integer&gt; {\n    boolean existsByProduct(ProductEntity product);\n    ProductsRatedByUserEntity findTopByProduct(ProductEntity product);\n    boolean existsByUserAndProduct(UserEntity userEntity, ProductEntity product);\n    ProductsRatedByUserEntity findTopByUserAndProduct(UserEntity userEntity, ProductEntity product);\n}\n</code></pre>\n<p>I will really appreciate anyone who can help me with this! I've been stuck for a whole day! I don't want to use the many-to-many annotation because it seems a bit messy. Thanks!</p>\n"},{"tags":["java","multithreading","performance","concurrency"],"comments":[{"owner":{"account_id":874149,"reputation":31549,"user_id":924313,"accept_rate":96,"display_name":"corazza"},"score":1,"creation_date":1417548636,"post_id":27257359,"comment_id":42988367,"body_markdown":"`threads number = CPU cores * 2` how did you come to this formula?","body":"<code>threads number = CPU cores * 2</code> how did you come to this formula?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1417548882,"post_id":27257359,"comment_id":42988532,"body_markdown":"http://stackoverflow.com/a/10670440/462347, especially: &quot;the optimal number was equal to the number of cores in the machine&quot;. I use &quot;* 2&quot; to be sure I have enough threads for multi-core &amp; multi-threading CPUs. If you have another advice, please, share your opinion.","body":"<a href=\"http://stackoverflow.com/a/10670440/462347\">stackoverflow.com/a/10670440/462347</a>, especially: &quot;the optimal number was equal to the number of cores in the machine&quot;. I use &quot;* 2&quot; to be sure I have enough threads for multi-core &amp; multi-threading CPUs. If you have another advice, please, share your opinion."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":2,"creation_date":1417549282,"post_id":27257359,"comment_id":42988745,"body_markdown":"You can not be sure what the best number is if you don&#39;t know how your threads behave. How frequent you complete tasks, whether they are IO or CPU bound, .. E.g. it makes no sense for CPU bound tasks to use more than exactly 1 thread per core, anything more will be slower.","body":"You can not be sure what the best number is if you don&#39;t know how your threads behave. How frequent you complete tasks, whether they are IO or CPU bound, .. E.g. it makes no sense for CPU bound tasks to use more than exactly 1 thread per core, anything more will be slower."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1417549413,"post_id":27257359,"comment_id":42988818,"body_markdown":"They are CPU bound, calculation of some NLP-rank according to the string context.","body":"They are CPU bound, calculation of some NLP-rank according to the string context."}],"answers":[{"tags":[],"owner":{"account_id":1485940,"reputation":1335,"user_id":1394229,"accept_rate":100,"display_name":"Oleksandr Horobets"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1417550038,"creation_date":1417549347,"answer_id":27257612,"question_id":27257359,"body_markdown":"I think creating additional threads can slow down the processing, because of some additional overhead needed for new threads creation. But to be sure try to do an experiment. Try with different numbers of threads, then choose the optimal number.\r\n\r\nP.S. Like other people in this topic I would recommend using thread pool for this task.\r\n\r\nP.P.S. Consider using java.util.concurrent FixedThreadPool (launches n threads, if there are more tasks they are waiting for free thread) or CachedThreadPool (if there are more tasks creates new thread, otherwise reuses existing sleeping threads).\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool(int)\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool()\r\n","title":"Threads utilization strategy","body":"<p>I think creating additional threads can slow down the processing, because of some additional overhead needed for new threads creation. But to be sure try to do an experiment. Try with different numbers of threads, then choose the optimal number.</p>\n\n<p>P.S. Like other people in this topic I would recommend using thread pool for this task.</p>\n\n<p>P.P.S. Consider using java.util.concurrent FixedThreadPool (launches n threads, if there are more tasks they are waiting for free thread) or CachedThreadPool (if there are more tasks creates new thread, otherwise reuses existing sleeping threads).</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool(int)\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newFixedThreadPool(int)</a>\n<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool()\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newCachedThreadPool()</a></p>\n"},{"tags":[],"owner":{"account_id":5401917,"reputation":81,"user_id":4301568,"display_name":"anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417549362,"creation_date":1417549362,"answer_id":27257616,"question_id":27257359,"body_markdown":"I am first assuming that the threads are native threads (not green threads for performance reasons).\r\nThere isn&#39;t really a performance consideration with passing references of objects into the thread\r\nother than making the gc continually skipping the reference for clean up which is more efficient than\r\nserializing/deserializing the object into the thread.\r\n\r\nLong story short, you should avoid creating any unnecessary threads that exceed the hardware capacity if you know that the running threads have a high utilization rate (ie very rarely blocking on io/net/db/etc) otherwise you will force the cpu to perform a thread context switch which is very expensive.","title":"Threads utilization strategy","body":"<p>I am first assuming that the threads are native threads (not green threads for performance reasons).\nThere isn't really a performance consideration with passing references of objects into the thread\nother than making the gc continually skipping the reference for clean up which is more efficient than\nserializing/deserializing the object into the thread.</p>\n\n<p>Long story short, you should avoid creating any unnecessary threads that exceed the hardware capacity if you know that the running threads have a high utilization rate (ie very rarely blocking on io/net/db/etc) otherwise you will force the cpu to perform a thread context switch which is very expensive.</p>\n"},{"tags":[],"owner":{"account_id":1343303,"reputation":11,"user_id":1284535,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417549441,"creation_date":1417549441,"answer_id":27257638,"question_id":27257359,"body_markdown":"I would likely create a thread pool with a configurable size, which process a queue of person objects.\r\n\r\nThis allows then a thread to access, update and process an entire persons data without concerns of conflicts with other threads.\r\n\r\nIf there is IO within the process, you might be able to increase your thread pool size, or decrease it if over utilising the CPU.\r\n\r\nHope that helps\r\n\r\n\r\n\r\n","title":"Threads utilization strategy","body":"<p>I would likely create a thread pool with a configurable size, which process a queue of person objects.</p>\n\n<p>This allows then a thread to access, update and process an entire persons data without concerns of conflicts with other threads.</p>\n\n<p>If there is IO within the process, you might be able to increase your thread pool size, or decrease it if over utilising the CPU.</p>\n\n<p>Hope that helps</p>\n"},{"tags":[],"owner":{"account_id":978760,"reputation":1422,"user_id":999043,"accept_rate":83,"display_name":"Ralf H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417550690,"creation_date":1417550690,"answer_id":27257942,"question_id":27257359,"body_markdown":"If processing each string takes in the order of 1&#181;s or more, you should be fine putting each string processing in its own Runnable and pass that job to a ThreadPool with as many worker threads as you have logical CPUs. If they are faster, you should batch them so there is less overhead handling the job queue.","title":"Threads utilization strategy","body":"<p>If processing each string takes in the order of 1µs or more, you should be fine putting each string processing in its own Runnable and pass that job to a ThreadPool with as many worker threads as you have logical CPUs. If they are faster, you should batch them so there is less overhead handling the job queue.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27257612,"answer_count":4,"score":0,"last_activity_date":1669136461,"creation_date":1417548473,"question_id":27257359,"body_markdown":"In my Java-system, I have X persons, each person has Y strings, where Y &gt;&gt; X. I need to execute some complex calculations on each string. In order to boost the process, I run strings computing process in separate threads (threads number = CPU cores * 2). My question is should I put each person treatment in the separate thread too or it is enough to run only strings treatment in separate threads?\r\n\r\nShould I execute person treatment in separate threads in additional to the thread-based strings computing? Or, because I&#39;m already using the maximum optimal number of threads per number of CPU cores for strings treatment I will not benefit if will put the persons in the separate threads.\r\n\r\nAll persons are independent of each other.\r\nAll person&#39;s strings are independent of each other.","title":"Threads utilization strategy","body":"<p>In my Java-system, I have X persons, each person has Y strings, where Y &gt;&gt; X. I need to execute some complex calculations on each string. In order to boost the process, I run strings computing process in separate threads (threads number = CPU cores * 2). My question is should I put each person treatment in the separate thread too or it is enough to run only strings treatment in separate threads?</p>\n<p>Should I execute person treatment in separate threads in additional to the thread-based strings computing? Or, because I'm already using the maximum optimal number of threads per number of CPU cores for strings treatment I will not benefit if will put the persons in the separate threads.</p>\n<p>All persons are independent of each other.\nAll person's strings are independent of each other.</p>\n"},{"tags":["java","youtube-api","youtube-data-api"],"answers":[{"tags":[],"owner":{"account_id":2244074,"reputation":4893,"user_id":1977887,"accept_rate":75,"display_name":"Erick G. Hagstrom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1454763499,"creation_date":1454763499,"answer_id":35241291,"question_id":35241129,"body_markdown":"It appears that there is more to download. You got everything except the actual `YouTube Data API`. As of this writing it can be found at https://developers.google.com/api-client-library/java/apis/youtube/v3. At that site there is the option to download a `.zip` file, or obtain through `Maven` or `Gradle`.\r\n\r\nI found it by searching (googling) for the class `com.google.api.services.youtube.YouTube`, which I found listed as an import in the `Sample` that you linked above.","title":"Can&#39;t resolve YouTube class/symbol, YouTube Data API Java sample issue","body":"<p>It appears that there is more to download. You got everything except the actual <code>YouTube Data API</code>. As of this writing it can be found at <a href=\"https://developers.google.com/api-client-library/java/apis/youtube/v3\" rel=\"nofollow\">https://developers.google.com/api-client-library/java/apis/youtube/v3</a>. At that site there is the option to download a <code>.zip</code> file, or obtain through <code>Maven</code> or <code>Gradle</code>.</p>\n\n<p>I found it by searching (googling) for the class <code>com.google.api.services.youtube.YouTube</code>, which I found listed as an import in the <code>Sample</code> that you linked above.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35241291,"answer_count":1,"score":1,"last_activity_date":1669136373,"creation_date":1454762454,"question_id":35241129,"body_markdown":"I&#39;m trying to execute the [Search by keyword][1] sample code from YouTube Data API Java Samples collection.\r\n\r\nIn order to do that I:\r\n\r\n 1. Created a new project in IntelliJ IDEA.\r\n 2. Downloaded latest [google-api-java-client-featured.zip][2].\r\n 3. Added the libraries from the `google-api-java-client-featured` to the project via *Project Structure → Libraries → New Project Library*.\r\n 4. Created a class *Search.java* and copy pasted the [sample][1].\r\n\r\nIDEA can&#39;t resolve `YouTube` class:\r\n\r\n```java\r\n/**\r\n * Define a global instance of a Youtube object, which will be used\r\n * to make YouTube Data API requests.\r\n */\r\nprivate static YouTube youtube;\r\n```\r\n\r\nWhere can I find this `YouTube` class or what have I to do in order to be able to execute the official YouTube Data API Java sample?\r\n\r\n  [1]: https://developers.google.com/youtube/v3/code_samples/java#search_by_keyword\r\n  [2]: https://developers.google.com/api-client-library/java/google-api-java-client/download","title":"Can&#39;t resolve YouTube class/symbol, YouTube Data API Java sample issue","body":"<p>I'm trying to execute the <a href=\"https://developers.google.com/youtube/v3/code_samples/java#search_by_keyword\" rel=\"nofollow noreferrer\">Search by keyword</a> sample code from YouTube Data API Java Samples collection.</p>\n<p>In order to do that I:</p>\n<ol>\n<li>Created a new project in IntelliJ IDEA.</li>\n<li>Downloaded latest <a href=\"https://developers.google.com/api-client-library/java/google-api-java-client/download\" rel=\"nofollow noreferrer\">google-api-java-client-featured.zip</a>.</li>\n<li>Added the libraries from the <code>google-api-java-client-featured</code> to the project via <em>Project Structure → Libraries → New Project Library</em>.</li>\n<li>Created a class <em>Search.java</em> and copy pasted the <a href=\"https://developers.google.com/youtube/v3/code_samples/java#search_by_keyword\" rel=\"nofollow noreferrer\">sample</a>.</li>\n</ol>\n<p>IDEA can't resolve <code>YouTube</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Define a global instance of a Youtube object, which will be used\n * to make YouTube Data API requests.\n */\nprivate static YouTube youtube;\n</code></pre>\n<p>Where can I find this <code>YouTube</code> class or what have I to do in order to be able to execute the official YouTube Data API Java sample?</p>\n"},{"tags":["java","memory-leaks","garbage-collection"],"answers":[{"tags":[],"owner":{"account_id":1804338,"reputation":681,"user_id":2866559,"accept_rate":71,"display_name":"Ulysse Mizrahi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1454674865,"creation_date":1454674865,"answer_id":35224126,"question_id":35223924,"body_markdown":"There will be no leaks in your code as long as the `drv` object does not maintain references to `objArr`. The reference `objArr` to your &quot;heavy object&quot; is limited to the scope of the while loop, and thus once you leave an iteration, it is eligible for garbage collection. \r\nHowever, if `drv` maintains a permanent reference to the object, then it will not be collected as long as the reference persists.\r\n\r\nThe example in the link you mention is when the reference to your data lives outside the scope (in their example, the `E[]` array field of the `Stack` class) and cannot be collected. ","title":"Potential memory leak in Java, may this code lead to the memory leak?","body":"<p>There will be no leaks in your code as long as the <code>drv</code> object does not maintain references to <code>objArr</code>. The reference <code>objArr</code> to your \"heavy object\" is limited to the scope of the while loop, and thus once you leave an iteration, it is eligible for garbage collection. \nHowever, if <code>drv</code> maintains a permanent reference to the object, then it will not be collected as long as the reference persists.</p>\n\n<p>The example in the link you mention is when the reference to your data lives outside the scope (in their example, the <code>E[]</code> array field of the <code>Stack</code> class) and cannot be collected. </p>\n"},{"tags":[],"owner":{"account_id":325607,"reputation":33143,"user_id":646887,"accept_rate":100,"display_name":"Klas Lindb&#228;ck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454674878,"creation_date":1454674878,"answer_id":35224132,"question_id":35223924,"body_markdown":"It does make a difference.\r\n\r\nNormally it doesn&#39;t matter if you set it to null or to some other value. Reassigning `objArr` reduces the reference count and makes it possible to GC the array.\r\n\r\nIf, however, the array is so big that you cannot fit two of them in memory at the same time, then it might help, because if you set the reference to null before the call, then the current array can be GC:ed before assigning memory for the next array. ","title":"Potential memory leak in Java, may this code lead to the memory leak?","body":"<p>It does make a difference.</p>\n\n<p>Normally it doesn't matter if you set it to null or to some other value. Reassigning <code>objArr</code> reduces the reference count and makes it possible to GC the array.</p>\n\n<p>If, however, the array is so big that you cannot fit two of them in memory at the same time, then it might help, because if you set the reference to null before the call, then the current array can be GC:ed before assigning memory for the next array. </p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35224126,"answer_count":2,"score":3,"last_activity_date":1669136355,"creation_date":1454674251,"question_id":35223924,"body_markdown":"Let say I have a Java code, which constantly runs and every minute should get an array of really heavy objects and proceed them. The following code does the job:\r\n\r\n```java\r\nwhile (true) {\r\n\r\n\tArrayList&lt;HeavyObject&gt; objArr = this.getHeavyObject();\r\n\tdrv.processObject(objArr);\r\n\r\n\ttry {\r\n\t\tThread.sleep(60000);\r\n\t} catch (InterruptedException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\nMay this code lead to the memory leak when executing `ArrayList&lt;HeavyObject&gt; objArr = this.getHeavyObject();` without assigning `objArr = null` before getting new batch of heavy objects?\r\n\r\nAccording to the &#171;[Memory leaks in Java][1]&#187; article it&#39;s important to use assigning to `null` if I don&#39;t leave the scope of the variable (this code is a part of the `main()` and is alive until I exit the program).\r\n\r\nCan you clarify this aspect as applied to the code listed above?\r\n\r\n  [1]: http://coderevisited.com/memory-leaks-in-java/","title":"Potential memory leak in Java, may this code lead to the memory leak?","body":"<p>Let say I have a Java code, which constantly runs and every minute should get an array of really heavy objects and proceed them. The following code does the job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (true) {\n\n    ArrayList&lt;HeavyObject&gt; objArr = this.getHeavyObject();\n    drv.processObject(objArr);\n\n    try {\n        Thread.sleep(60000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>May this code lead to the memory leak when executing <code>ArrayList&lt;HeavyObject&gt; objArr = this.getHeavyObject();</code> without assigning <code>objArr = null</code> before getting new batch of heavy objects?</p>\n<p>According to the «<a href=\"http://coderevisited.com/memory-leaks-in-java/\" rel=\"nofollow noreferrer\">Memory leaks in Java</a>» article it's important to use assigning to <code>null</code> if I don't leave the scope of the variable (this code is a part of the <code>main()</code> and is alive until I exit the program).</p>\n<p>Can you clarify this aspect as applied to the code listed above?</p>\n"},{"tags":["java","swing","jtextfield"],"answers":[{"tags":[],"owner":{"account_id":2900184,"reputation":3513,"user_id":4009739,"accept_rate":58,"display_name":"John Smith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669136221,"creation_date":1669009816,"answer_id":74514743,"question_id":74514705,"body_markdown":"Got it!\r\n\r\n    jTextField.setBorder(BorderFactory.createMatteBorder(0,0,1,0, Color.BLACK));\r\n","title":"jTextFIeld bottom line border only","body":"<p>Got it!</p>\n<pre><code>jTextField.setBorder(BorderFactory.createMatteBorder(0,0,1,0, Color.BLACK));\n</code></pre>\n"}],"owner":{"account_id":2900184,"reputation":3513,"user_id":4009739,"accept_rate":58,"display_name":"John Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669136286,"creation_date":1669009448,"question_id":74514705,"body_markdown":"I&#39;m wanting to create a jTextField that only has a bottom black line for a border in the simplest way possible. createLineborder doesn&#39;t seem to have a parameter for only the bottom line. createEmptyBorder has but obviously no line.","title":"jTextFIeld bottom line border only","body":"<p>I'm wanting to create a jTextField that only has a bottom black line for a border in the simplest way possible. createLineborder doesn't seem to have a parameter for only the bottom line. createEmptyBorder has but obviously no line.</p>\n"},{"tags":["java","web-crawler","html-parsing","jsoup","crawler4j"],"answers":[{"tags":[],"owner":{"account_id":1158581,"reputation":17184,"user_id":1138559,"accept_rate":99,"display_name":"Alkis Kalogeris"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1458712130,"creation_date":1453269432,"answer_id":34892537,"question_id":34888510,"body_markdown":"Crawling is something bigger than just retrieving the contents of a single URI. If you just want to retrieve the content of some pages then there is no real benefit from using something like `Crawler4J`. \r\n\r\nLet&#39;s take a look at an example. Assume you want to crawl a website. The requirements would be:\r\n\r\n 1. Give base URI (home page)\r\n 2. Take all the URIs from each page and retrieve the contents of those too.\r\n 3. Move recursively for every URI you retrieve.\r\n 4. Retrieve the contents only of URIs that are inside this website (there could be external URIs referencing another website, we don&#39;t need those).\r\n 5. Avoid circular crawling. Page A has URI for page B (of the same site). Page B has URI for page A, but we already retrieved the content of page A (the `About` page has a link for the `Home` page, but we already got the contents of `Home` page so don&#39;t visit it again). \r\n 6. The crawling operation must be multithreaded\r\n 7. The website is vast. It contains a lot of pages. We only want to retrieve 50 URIs beginning from `Home` page. \r\n\r\nThis is a simple scenario. Try solving this with `Jsoup`. All this functionality must be implemented by you. Crawler4J or any crawler micro framework for that matter, would or should have an implementation for the actions above. `Jsoup`&#39;s strong qualities shine when you get to decide what to do with the content.\r\n\r\nLet&#39;s take a look at some requirements for parsing.\r\n\r\n 1. Get all paragraphs of a page\r\n 2. Get all images\r\n 3. Remove invalid tags (tags that do not comply to the `HTML` specs)\r\n 4. Remove script tags\r\n\r\nThis is where `Jsoup` comes to play. Of course, there is some overlapping here. Some things might be possible with both `Crawler4J` or `Jsoup`, but that doesn&#39;t make them equivalent. You could remove the mechanism of retrieving content from `Jsoup` and still be an amazing tool to use. If `Crawler4J` would remove the retrieval, then it would lose half of its functionality. \r\n\r\nI used both of them in the same project in a real life scenario. \r\nI crawled a site, leveraging the strong points of `Crawler4J`, for all the problems mentioned in the first example. Then I passed the content of each page I retrieved to `Jsoup`, in order to extract the information I needed. Could I have not used one or the other? Yes, I could, but I would have had to implement all the missing functionality. \r\n\r\nHence the difference, `Crawler4J` is a crawler with some simple operations for parsing (you could extract the images in one line), but there is no implementation for complex `CSS` queries. `Jsoup` is a parser that gives you a simple API for `HTTP` requests. For anything more complex there is no implementation.","title":"Crawler4j vs. Jsoup for the pages crawling and parsing in Java","body":"<p>Crawling is something bigger than just retrieving the contents of a single URI. If you just want to retrieve the content of some pages then there is no real benefit from using something like <code>Crawler4J</code>. </p>\n\n<p>Let's take a look at an example. Assume you want to crawl a website. The requirements would be:</p>\n\n<ol>\n<li>Give base URI (home page)</li>\n<li>Take all the URIs from each page and retrieve the contents of those too.</li>\n<li>Move recursively for every URI you retrieve.</li>\n<li>Retrieve the contents only of URIs that are inside this website (there could be external URIs referencing another website, we don't need those).</li>\n<li>Avoid circular crawling. Page A has URI for page B (of the same site). Page B has URI for page A, but we already retrieved the content of page A (the <code>About</code> page has a link for the <code>Home</code> page, but we already got the contents of <code>Home</code> page so don't visit it again). </li>\n<li>The crawling operation must be multithreaded</li>\n<li>The website is vast. It contains a lot of pages. We only want to retrieve 50 URIs beginning from <code>Home</code> page. </li>\n</ol>\n\n<p>This is a simple scenario. Try solving this with <code>Jsoup</code>. All this functionality must be implemented by you. Crawler4J or any crawler micro framework for that matter, would or should have an implementation for the actions above. <code>Jsoup</code>'s strong qualities shine when you get to decide what to do with the content.</p>\n\n<p>Let's take a look at some requirements for parsing.</p>\n\n<ol>\n<li>Get all paragraphs of a page</li>\n<li>Get all images</li>\n<li>Remove invalid tags (tags that do not comply to the <code>HTML</code> specs)</li>\n<li>Remove script tags</li>\n</ol>\n\n<p>This is where <code>Jsoup</code> comes to play. Of course, there is some overlapping here. Some things might be possible with both <code>Crawler4J</code> or <code>Jsoup</code>, but that doesn't make them equivalent. You could remove the mechanism of retrieving content from <code>Jsoup</code> and still be an amazing tool to use. If <code>Crawler4J</code> would remove the retrieval, then it would lose half of its functionality. </p>\n\n<p>I used both of them in the same project in a real life scenario. \nI crawled a site, leveraging the strong points of <code>Crawler4J</code>, for all the problems mentioned in the first example. Then I passed the content of each page I retrieved to <code>Jsoup</code>, in order to extract the information I needed. Could I have not used one or the other? Yes, I could, but I would have had to implement all the missing functionality. </p>\n\n<p>Hence the difference, <code>Crawler4J</code> is a crawler with some simple operations for parsing (you could extract the images in one line), but there is no implementation for complex <code>CSS</code> queries. <code>Jsoup</code> is a parser that gives you a simple API for <code>HTTP</code> requests. For anything more complex there is no implementation.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4960,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":34892537,"answer_count":1,"score":11,"last_activity_date":1669136276,"creation_date":1453244111,"question_id":34888510,"body_markdown":"I want to get the content of a page and extract the specific parts of it. As far as I know, there are at least two solutions for such task: [Crawler4j][1] and [Jsoup][2].\r\n\r\nBoth of them are capable retrieving the content of a page and extract sub-parts of it. The only thing I&#39;m not sure about, what is the difference between them? There is a [similar question][3], which is marked as answered:\r\n\r\n&gt; Crawler4j is a crawler, Jsoup is a parser.\r\n\r\nBut I just checked, Jsoup is also capable crawling a page in addition to a parsing functionality, while Crawler4j is capable not only crawling the page but parsing its content.\r\n\r\nWhat is the difference between Crawler4j and Jsoup?\r\n\r\n  [1]: https://github.com/yasserg/crawler4j\r\n  [2]: http://jsoup.org/\r\n  [3]: https://stackoverflow.com/questions/24372118/crawler-in-groovy-jsoup-vs-crawler4j","title":"Crawler4j vs. Jsoup for the pages crawling and parsing in Java","body":"<p>I want to get the content of a page and extract the specific parts of it. As far as I know, there are at least two solutions for such task: <a href=\"https://github.com/yasserg/crawler4j\" rel=\"nofollow noreferrer\">Crawler4j</a> and <a href=\"http://jsoup.org/\" rel=\"nofollow noreferrer\">Jsoup</a>.</p>\n<p>Both of them are capable retrieving the content of a page and extract sub-parts of it. The only thing I'm not sure about, what is the difference between them? There is a <a href=\"https://stackoverflow.com/questions/24372118/crawler-in-groovy-jsoup-vs-crawler4j\">similar question</a>, which is marked as answered:</p>\n<blockquote>\n<p>Crawler4j is a crawler, Jsoup is a parser.</p>\n</blockquote>\n<p>But I just checked, Jsoup is also capable crawling a page in addition to a parsing functionality, while Crawler4j is capable not only crawling the page but parsing its content.</p>\n<p>What is the difference between Crawler4j and Jsoup?</p>\n"},{"tags":["java","mongodb","indexing","duplicates","crud"],"comments":[{"owner":{"account_id":3726276,"reputation":60422,"user_id":3100115,"accept_rate":100,"display_name":"styvane"},"score":0,"creation_date":1452383748,"post_id":34700258,"comment_id":57146856,"body_markdown":"That is not true. Why do you think `ChinaPost-f411f6... === skynews-1a2346...`?","body":"That is not true. Why do you think <code>ChinaPost-f411f6... === skynews-1a2346...</code>?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1452409173,"post_id":34700258,"comment_id":57151841,"body_markdown":"@user3100115, actually I mean that if I run the insert command two times or more then MongoDB will add `ChinaPost-f411f6…` twice or more. I&#39;m not comparing `ChinaPost-f411f6…` with `skynews-1a2346…` but `ChinaPost-f411f6…` from the first execution with `ChinaPost-f411f6…` of the second execution  of insert and so on.","body":"@user3100115, actually I mean that if I run the insert command two times or more then MongoDB will add <code>ChinaPost-f411f6…</code> twice or more. I&#39;m not comparing <code>ChinaPost-f411f6…</code> with <code>skynews-1a2346…</code> but <code>ChinaPost-f411f6…</code> from the first execution with <code>ChinaPost-f411f6…</code> of the second execution  of insert and so on."}],"answers":[{"tags":[],"owner":{"account_id":1777092,"reputation":68282,"user_id":1620671,"accept_rate":87,"display_name":"Philipp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452386497,"creation_date":1452386497,"answer_id":34700725,"question_id":34700258,"body_markdown":"Regular indexes allow multiple documents with the same value.\r\n\r\nWhat you need is not a regular index but [an unique index][1]. These are created by using the method [`createIndex(DBObject keys, DBObject options)`][2] with an options-object where `unique` is `true`.\r\n\r\n    collection.createIndex(new BasicDBObject(&quot;guid&quot;, 1), new BasicDBObject(&quot;unique&quot;, true));\r\n\r\n\r\n  [1]: https://docs.mongodb.org/manual/tutorial/create-a-unique-index/\r\n  [2]: http://api.mongodb.org/java/current/com/mongodb/DBCollection.html#createIndex-com.mongodb.DBObject-com.mongodb.DBObject-","title":"Create index in MongoDB 3.2 to avoid duplicated documents/rows","body":"<p>Regular indexes allow multiple documents with the same value.</p>\n\n<p>What you need is not a regular index but <a href=\"https://docs.mongodb.org/manual/tutorial/create-a-unique-index/\" rel=\"nofollow\">an unique index</a>. These are created by using the method <a href=\"http://api.mongodb.org/java/current/com/mongodb/DBCollection.html#createIndex-com.mongodb.DBObject-com.mongodb.DBObject-\" rel=\"nofollow\"><code>createIndex(DBObject keys, DBObject options)</code></a> with an options-object where <code>unique</code> is <code>true</code>.</p>\n\n<pre><code>collection.createIndex(new BasicDBObject(\"guid\", 1), new BasicDBObject(\"unique\", true));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1452423899,"creation_date":1452423504,"answer_id":34704605,"question_id":34700258,"body_markdown":"With the help of [Phillip][1], I composed a completely worked solution for the problem &#171;How to avoid duplicates / skip duplicates on insert&#187; in ***MongoDB 3.2*** for ***Java Driver 3.2.0***:\r\n\r\n\t\tIndexOptions options = new IndexOptions();\r\n\r\n\t\t// ensure the index is unique\r\n\t\toptions.unique(true);\r\n\t\t// define the index\r\n\t\tdbColl.createIndex(new BasicDBObject(&quot;guid&quot;, 1), options);\r\n\r\n\t\t// add data to DB\r\n\t\tfor (Object item : itemsArr) {\r\n\r\n\t\t\t// if there is a duplicate, skip it and write to a console (optionally)\r\n\t\t\ttry {\r\n\t\t\t\tdbColl.insertOne(Document.parse(item.toString()));\r\n\t\t\t} catch (com.mongodb.MongoWriteException ex) {\r\n\t\t\t\t//System.err.println(ex.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\r\nFeel free to use this ready-to-use solution.\r\n\r\n  [1]: https://stackoverflow.com/users/1620671/philipp","title":"Create index in MongoDB 3.2 to avoid duplicated documents/rows","body":"<p>With the help of <a href=\"https://stackoverflow.com/users/1620671/philipp\">Phillip</a>, I composed a completely worked solution for the problem «How to avoid duplicates / skip duplicates on insert» in <strong><em>MongoDB 3.2</em></strong> for <strong><em>Java Driver 3.2.0</em></strong>:</p>\n\n<pre><code>    IndexOptions options = new IndexOptions();\n\n    // ensure the index is unique\n    options.unique(true);\n    // define the index\n    dbColl.createIndex(new BasicDBObject(\"guid\", 1), options);\n\n    // add data to DB\n    for (Object item : itemsArr) {\n\n        // if there is a duplicate, skip it and write to a console (optionally)\n        try {\n            dbColl.insertOne(Document.parse(item.toString()));\n        } catch (com.mongodb.MongoWriteException ex) {\n            //System.err.println(ex.getMessage());\n        }\n    }\n</code></pre>\n\n<p>Feel free to use this ready-to-use solution.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1763,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34704605,"answer_count":2,"score":3,"last_activity_date":1669136251,"creation_date":1452382648,"question_id":34700258,"body_markdown":"I&#39;m using MongoDB 3.2 and want to avoid the duplicates in my collection. In order to do that I use `createIndex()` method (I tried different variants, none of them doesn&#39;t work):\r\n\r\n```java\r\ndbColl.createIndex(new Document(&quot;guid&quot;, 1));\r\ndbColl.createIndex(new BasicDBObject(&quot;guid&quot;, 1));\r\ndbColl.createIndex(new Document(&quot;guid.content&quot;, 1));\r\ndbColl.createIndex(new BasicDBObject(&quot;guid.content&quot;, 1));\r\n```\r\n\r\nThen I try to execute data insert with:\r\n\r\n```java\r\nitemsArr.forEach(\r\n\titem -&gt; dbColl.insertOne(Document.parse(item.toString()))\r\n);\r\n```\r\n\r\nI do it two times and anticipate that the second time MongoDB will not add any new row since the data has been already added and there is an index on the `guid` field. But that&#39;s not the case MongoDB adds duplicates despite index value.\r\n\r\nWhy does MongoDB add duplicates even if there is an index on a `guid` and/or `guid.content` field? And how to fix it? I want to be able to add the document with the same `guid` field only one time.\r\n\r\nHere is a sample of documents structure:\r\n[![Documents Schema Example][1]][1]\r\n\r\nIn my data the `guid` field is a unique document identifier.\r\n\r\n  [1]: http://i.stack.imgur.com/ZCagt.png","title":"Create index in MongoDB 3.2 to avoid duplicated documents/rows","body":"<p>I'm using MongoDB 3.2 and want to avoid the duplicates in my collection. In order to do that I use <code>createIndex()</code> method (I tried different variants, none of them doesn't work):</p>\n<pre class=\"lang-java prettyprint-override\"><code>dbColl.createIndex(new Document(&quot;guid&quot;, 1));\ndbColl.createIndex(new BasicDBObject(&quot;guid&quot;, 1));\ndbColl.createIndex(new Document(&quot;guid.content&quot;, 1));\ndbColl.createIndex(new BasicDBObject(&quot;guid.content&quot;, 1));\n</code></pre>\n<p>Then I try to execute data insert with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>itemsArr.forEach(\n    item -&gt; dbColl.insertOne(Document.parse(item.toString()))\n);\n</code></pre>\n<p>I do it two times and anticipate that the second time MongoDB will not add any new row since the data has been already added and there is an index on the <code>guid</code> field. But that's not the case MongoDB adds duplicates despite index value.</p>\n<p>Why does MongoDB add duplicates even if there is an index on a <code>guid</code> and/or <code>guid.content</code> field? And how to fix it? I want to be able to add the document with the same <code>guid</code> field only one time.</p>\n<p>Here is a sample of documents structure:\n<a href=\"https://i.stack.imgur.com/ZCagt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZCagt.png\" alt=\"Documents Schema Example\" /></a></p>\n<p>In my data the <code>guid</code> field is a unique document identifier.</p>\n"},{"tags":["java","mongodb","mongodb-query","mongodb-java"],"answers":[{"tags":[],"owner":{"account_id":2633537,"reputation":10037,"user_id":2278844,"accept_rate":93,"display_name":"Cydrick Trudel"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1539210494,"creation_date":1449579475,"answer_id":34156518,"question_id":34155418,"body_markdown":"**TL;DR**:\r\n\r\nUse the async driver if the operations are slow, or use the regular driver in most cases. You shouldn&#39;t use the core driver.\r\n\r\n**MongoDB Regular Driver**:\r\n\r\nGeneral driver that you can use to search, create, read, update and delete documents. The `find(...)`, `updateMany(...)`, `deleteMany(...)` and similar methods will hang for as long as the result is not returned or the operation not done (synchronous behavior). This is the driver that most program uses and is good in most cases.\r\n\r\nHere is an example for inserting a single Document:\r\n\r\n    collection.insertOne(doc);\r\n    //Do something here.\r\n    System.out.println(&quot;Inserted!&quot;)\r\n\r\n**MongoDB Async Driver**:\r\n\r\nAnother type of driver that you can use to search, create, read, update and delete documents. This driver offers similar methods than the regular driver (`find(...)`, `updateMany(...)`, `deleteMany(...)`, etc.). \r\n\r\nThe difference with the regular driver is that the main thread will not hang because the async driver sends the result in a [callback][1] (asynchronous behavior). This driver is used when the operations can take a long time (a lot of data to go through, high latency, query on unindexed fields, etc.) and you do not want to manage multiple threads.\r\n\r\nHere is an example of the callback when inserting a single Document:\r\n\r\n    collection.insertOne(doc, new SingleResultCallback&lt;Void&gt;() {\r\n        @Override\r\n        public void onResult(final Void result, final Throwable t) {\r\n            //Do something here.\r\n            System.out.println(&quot;Inserted!&quot;);\r\n        }\r\n    });\r\n    // Do something to show that the Document was not inserted yet.\r\n    System.out.println(&quot;Inserting...&quot;)\r\n\r\nFor more informations, read [this][2].\r\n\r\n**MongoDB Core Driver**\r\n\r\nBase layer of the regular and async drivers. It contains low-level methods to do all the operations common to the regular and async drivers. Unless you are making a new API / Driver for MongoDB, you shouldn&#39;t use the core driver.\r\n\r\n  [1]: https://stackoverflow.com/questions/824234/what-is-a-callback-function\r\n  [2]: http://mongodb.github.io/mongo-java-driver/3.0/driver-async/getting-started/quick-tour/#going-async-with-callbacks","title":"MongoDB Java Driver: MongoCore Driver vs. MongoDB Driver vs. MongoDB Async Driver","body":"<p><strong>TL;DR</strong>:</p>\n\n<p>Use the async driver if the operations are slow, or use the regular driver in most cases. You shouldn't use the core driver.</p>\n\n<p><strong>MongoDB Regular Driver</strong>:</p>\n\n<p>General driver that you can use to search, create, read, update and delete documents. The <code>find(...)</code>, <code>updateMany(...)</code>, <code>deleteMany(...)</code> and similar methods will hang for as long as the result is not returned or the operation not done (synchronous behavior). This is the driver that most program uses and is good in most cases.</p>\n\n<p>Here is an example for inserting a single Document:</p>\n\n<pre><code>collection.insertOne(doc);\n//Do something here.\nSystem.out.println(\"Inserted!\")\n</code></pre>\n\n<p><strong>MongoDB Async Driver</strong>:</p>\n\n<p>Another type of driver that you can use to search, create, read, update and delete documents. This driver offers similar methods than the regular driver (<code>find(...)</code>, <code>updateMany(...)</code>, <code>deleteMany(...)</code>, etc.). </p>\n\n<p>The difference with the regular driver is that the main thread will not hang because the async driver sends the result in a <a href=\"https://stackoverflow.com/questions/824234/what-is-a-callback-function\">callback</a> (asynchronous behavior). This driver is used when the operations can take a long time (a lot of data to go through, high latency, query on unindexed fields, etc.) and you do not want to manage multiple threads.</p>\n\n<p>Here is an example of the callback when inserting a single Document:</p>\n\n<pre><code>collection.insertOne(doc, new SingleResultCallback&lt;Void&gt;() {\n    @Override\n    public void onResult(final Void result, final Throwable t) {\n        //Do something here.\n        System.out.println(\"Inserted!\");\n    }\n});\n// Do something to show that the Document was not inserted yet.\nSystem.out.println(\"Inserting...\")\n</code></pre>\n\n<p>For more informations, read <a href=\"http://mongodb.github.io/mongo-java-driver/3.0/driver-async/getting-started/quick-tour/#going-async-with-callbacks\" rel=\"noreferrer\">this</a>.</p>\n\n<p><strong>MongoDB Core Driver</strong></p>\n\n<p>Base layer of the regular and async drivers. It contains low-level methods to do all the operations common to the regular and async drivers. Unless you are making a new API / Driver for MongoDB, you shouldn't use the core driver.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9664,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":34156518,"answer_count":1,"score":13,"last_activity_date":1669136207,"creation_date":1449576187,"question_id":34155418,"body_markdown":"There are three different driver options for the MongoDB Java driver:\r\n\r\n 1. Core Driver\r\n 2. MongoDB Driver\r\n 3. MongoDB Async Driver\r\n\r\nThe [drivers description page][1] gives a brief description of each of them but no further explanation is provided regarding when I should use each of them.\r\n\r\nMy questions:\r\n\r\n 1. What are the cases to use each of them?\r\n\r\n 2. When should I prefer one over the second and when I must/have to use the particular driver option?\r\n\r\n  [1]: https://docs.mongodb.org/ecosystem/drivers/java/","title":"MongoDB Java Driver: MongoCore Driver vs. MongoDB Driver vs. MongoDB Async Driver","body":"<p>There are three different driver options for the MongoDB Java driver:</p>\n<ol>\n<li>Core Driver</li>\n<li>MongoDB Driver</li>\n<li>MongoDB Async Driver</li>\n</ol>\n<p>The <a href=\"https://docs.mongodb.org/ecosystem/drivers/java/\" rel=\"nofollow noreferrer\">drivers description page</a> gives a brief description of each of them but no further explanation is provided regarding when I should use each of them.</p>\n<p>My questions:</p>\n<ol>\n<li><p>What are the cases to use each of them?</p>\n</li>\n<li><p>When should I prefer one over the second and when I must/have to use the particular driver option?</p>\n</li>\n</ol>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":3449292,"reputation":1106,"user_id":2889288,"display_name":"k0ner"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1448395848,"creation_date":1448394661,"answer_id":33902555,"question_id":33902181,"body_markdown":"In `3.1.1` driver:\r\n\r\nCalling `getDatabase` doesn&#39;t in fact create new database because operation is lazy - it returns database representation. Calling any modifiable operation (e.g. `createCollection`):\r\n\r\n1. will create new database for you if it is not present\r\n2. if present it will get database for you\r\n\r\nBut remember that you have to call any operation which actually performs something - like create. If you just call `getDatabase` it won&#39;t create it.","title":"Does MongoClient.getDatabase() return just a DB instance or actually creates it?","body":"<p>In <code>3.1.1</code> driver:</p>\n\n<p>Calling <code>getDatabase</code> doesn't in fact create new database because operation is lazy - it returns database representation. Calling any modifiable operation (e.g. <code>createCollection</code>):</p>\n\n<ol>\n<li>will create new database for you if it is not present</li>\n<li>if present it will get database for you</li>\n</ol>\n\n<p>But remember that you have to call any operation which actually performs something - like create. If you just call <code>getDatabase</code> it won't create it.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4191,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33902555,"answer_count":1,"score":3,"last_activity_date":1669136156,"creation_date":1448393348,"question_id":33902181,"body_markdown":"In order to create a database instance in MongoDB 3.2 you have to write something like that:\r\n\r\n```java\r\nnew MongoClient().getDatabase(&quot;dbName&quot;);\r\n```\r\n\r\nAccording to the official [MongoDB Java API 3.2][1] this should return you a database instance.\r\n\r\nMy questions:\r\n\r\n 1. Do I understand correctly, that if the DB with the specified name does not exist, thus MongoDB will create it for me?\r\n\r\n 2. And if the assumption from the question #1 is correct, what will happen if I&#39;ll try to request the same DB twice? Will it return just the already existed instance or will drop the existed one and will create a new one?\r\n\r\nP.S. Can you, please, advise me a good and *updated* MongoDB for Java manual/tutorial, I googled for a couple of them, but they are not so updated.\r\n\r\n  [1]: https://api.mongodb.org/java/3.2/com/mongodb/MongoClient.html#getDatabase-java.lang.String-","title":"Does MongoClient.getDatabase() return just a DB instance or actually creates it?","body":"<p>In order to create a database instance in MongoDB 3.2 you have to write something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new MongoClient().getDatabase(&quot;dbName&quot;);\n</code></pre>\n<p>According to the official <a href=\"https://api.mongodb.org/java/3.2/com/mongodb/MongoClient.html#getDatabase-java.lang.String-\" rel=\"nofollow noreferrer\">MongoDB Java API 3.2</a> this should return you a database instance.</p>\n<p>My questions:</p>\n<ol>\n<li><p>Do I understand correctly, that if the DB with the specified name does not exist, thus MongoDB will create it for me?</p>\n</li>\n<li><p>And if the assumption from the question #1 is correct, what will happen if I'll try to request the same DB twice? Will it return just the already existed instance or will drop the existed one and will create a new one?</p>\n</li>\n</ol>\n<p>P.S. Can you, please, advise me a good and <em>updated</em> MongoDB for Java manual/tutorial, I googled for a couple of them, but they are not so updated.</p>\n"},{"tags":["java","c++","opencv","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":5715792,"reputation":277,"user_id":4516039,"display_name":"Meng Wang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439141082,"creation_date":1439141082,"answer_id":31906872,"question_id":31906737,"body_markdown":"I think the environment variables are somehow different when running in a Tomcat Servlet. That can explain why you program cannot load runtime library. \r\n\r\nI would try to copy necessary OpenCV runtime library files to the same directory as the C++ executable.","title":"C++ program returns -1073741515 when is called from the Java Tomcat Servlet","body":"<p>I think the environment variables are somehow different when running in a Tomcat Servlet. That can explain why you program cannot load runtime library. </p>\n\n<p>I would try to copy necessary OpenCV runtime library files to the same directory as the C++ executable.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31906872,"answer_count":1,"score":0,"last_activity_date":1669136123,"creation_date":1439140352,"question_id":31906737,"body_markdown":"I have a C++ application which deals with the image processing (by OpenCV 2.4.10). When I call this program from the command line or from another local Java application with the following code snippet:\r\n\r\n```java\r\nProcessBuilder pb = new ProcessBuilder(_IMG_PROC_ENGINE_PATH, imgPath);\r\npb.redirectError();\r\nProcess p = pb.start();\r\nexitCode = p.waitFor();\r\n```\r\n\r\neverything is working and the CPP-application returns the correct outcome.\r\n\r\nBut when I call the same CPP-program on the same PC with absolutely the same user account from ***Java Tomcat Servlet***, I get an error return code ***-1073741515*** from the CPP. After some searching, I discovered that this code error occurs when there is a problem with an external library loading. And it&#39;s true if I remove the OpenCV libraries usage from my C++ program, everything is OK.\r\n\r\nWhy, when I execute the program locally from the command line or from another local Java application, everything is OK, but when I call the same C++ EXE from the ***Java Servlet***, I get an error of library loading? How can I fix the issue?\r\n\r\nP.S. There is no antivirus or any other security software (e.g. Internet Security, EMET, etc.) on the PC, which can interrupt the process.","title":"C++ program returns -1073741515 when is called from the Java Tomcat Servlet","body":"<p>I have a C++ application which deals with the image processing (by OpenCV 2.4.10). When I call this program from the command line or from another local Java application with the following code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder pb = new ProcessBuilder(_IMG_PROC_ENGINE_PATH, imgPath);\npb.redirectError();\nProcess p = pb.start();\nexitCode = p.waitFor();\n</code></pre>\n<p>everything is working and the CPP-application returns the correct outcome.</p>\n<p>But when I call the same CPP-program on the same PC with absolutely the same user account from <em><strong>Java Tomcat Servlet</strong></em>, I get an error return code <em><strong>-1073741515</strong></em> from the CPP. After some searching, I discovered that this code error occurs when there is a problem with an external library loading. And it's true if I remove the OpenCV libraries usage from my C++ program, everything is OK.</p>\n<p>Why, when I execute the program locally from the command line or from another local Java application, everything is OK, but when I call the same C++ EXE from the <em><strong>Java Servlet</strong></em>, I get an error of library loading? How can I fix the issue?</p>\n<p>P.S. There is no antivirus or any other security software (e.g. Internet Security, EMET, etc.) on the PC, which can interrupt the process.</p>\n"},{"tags":["java","http","events","file-upload","raise"],"comments":[{"owner":{"account_id":2209650,"reputation":2966,"user_id":1951909,"accept_rate":80,"display_name":"SSC"},"score":1,"creation_date":1436905210,"post_id":31409361,"comment_id":50805644,"body_markdown":"Once you are done with httpclient.execute that means you are finished uploading, otherwise it goes into the catch section. By the way, it&#39;s discouraged to catch Exception, try to narrow it down.","body":"Once you are done with httpclient.execute that means you are finished uploading, otherwise it goes into the catch section. By the way, it&#39;s discouraged to catch Exception, try to narrow it down."},{"owner":{"account_id":2209650,"reputation":2966,"user_id":1951909,"accept_rate":80,"display_name":"SSC"},"score":0,"creation_date":1436905232,"post_id":31409361,"comment_id":50805659,"body_markdown":"Also, create a custom event handler and raise it once you are done with httpclient.execute.","body":"Also, create a custom event handler and raise it once you are done with httpclient.execute."}],"answers":[{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1436958978,"creation_date":1436958978,"answer_id":31428896,"question_id":31409361,"body_markdown":"Probably, the implementation of the ***Observer Design Pattern*** would be a suitable solution.  \r\nReference: https://stackoverflow.com/a/6270150/462347","title":"Upload complete event using HttpPost","body":"<p>Probably, the implementation of the <strong><em>Observer Design Pattern</em></strong> would be a suitable solution.<br>\nReference: <a href=\"https://stackoverflow.com/a/6270150/462347\">https://stackoverflow.com/a/6270150/462347</a></p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31428896,"answer_count":1,"score":0,"last_activity_date":1669136073,"creation_date":1436883684,"question_id":31409361,"body_markdown":"My app uploads an image to the server. In order to execute an uploading, I use the `HttpPost` class. Here is the relevant code fragment:\r\n\r\n```java\r\ntry {\r\n\tHttpClient httpclient = new DefaultHttpClient();\r\n\tHttpPost httppost = new HttpPost(&quot;%PATH_TO_SERVER_PAGE%&quot;);\r\n\t\r\n\thttppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\r\n\thttpclient.execute(httppost);\r\n} catch (Exception e) {\r\n\tSystem.out.println(&quot;Connection error: &quot; + e.toString());\r\n}\r\n```\r\n\r\nHow can I raise an event and know if the uploading has been successfully finished to be sure that the file is already on a server?","title":"Upload complete event using HttpPost","body":"<p>My app uploads an image to the server. In order to execute an uploading, I use the <code>HttpPost</code> class. Here is the relevant code fragment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    HttpClient httpclient = new DefaultHttpClient();\n    HttpPost httppost = new HttpPost(&quot;%PATH_TO_SERVER_PAGE%&quot;);\n    \n    httppost.setEntity(new UrlEncodedFormEntity(nameValuePairs));\n    httpclient.execute(httppost);\n} catch (Exception e) {\n    System.out.println(&quot;Connection error: &quot; + e.toString());\n}\n</code></pre>\n<p>How can I raise an event and know if the uploading has been successfully finished to be sure that the file is already on a server?</p>\n"},{"tags":["java","multithreading","performance","optimization","file-io"],"comments":[{"owner":{"account_id":5019425,"reputation":7741,"user_id":4033292,"accept_rate":81,"display_name":"Derrops"},"score":1,"creation_date":1435906340,"post_id":31187616,"comment_id":50403829,"body_markdown":"No one has mention that I/O calls are already buffered, I would take a guess that that if you have started new threads everytime you saw the possiblity it would slow down the larger application.","body":"No one has mention that I/O calls are already buffered, I would take a guess that that if you have started new threads everytime you saw the possiblity it would slow down the larger application."}],"answers":[{"tags":[],"owner":{"account_id":6145979,"reputation":1637,"user_id":4791954,"display_name":"Andr&#233; R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435848438,"creation_date":1435848438,"answer_id":31187764,"question_id":31187616,"body_markdown":"are you sure you are not constructing any new files before\r\nyour &#39;file deleting&#39; thread executes this `path.listFiles()` ?\r\n\r\nif not you might delete files that are currently needed !\r\n\r\napart from that spinning of some more threads would probably improve performance since in each iteration of the loop you will have a lot of IO-Time. In other words ... your thread is not CPU-bound but IO-bound, so spinning of more threads than you have CPU cores might pay off.\r\n\r\non the other hand you should not start thousands of threads if it might happen that you have thousands of files. in that case your logic would be a bit more complex to distribute the files to delete over the threads.","title":"Remove multiple files using multithreading in Java","body":"<p>are you sure you are not constructing any new files before\nyour 'file deleting' thread executes this <code>path.listFiles()</code> ?</p>\n\n<p>if not you might delete files that are currently needed !</p>\n\n<p>apart from that spinning of some more threads would probably improve performance since in each iteration of the loop you will have a lot of IO-Time. In other words ... your thread is not CPU-bound but IO-bound, so spinning of more threads than you have CPU cores might pay off.</p>\n\n<p>on the other hand you should not start thousands of threads if it might happen that you have thousands of files. in that case your logic would be a bit more complex to distribute the files to delete over the threads.</p>\n"},{"tags":[],"owner":{"account_id":1181066,"reputation":19241,"user_id":1155984,"display_name":"uraimo"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1435848967,"creation_date":1435848456,"answer_id":31187777,"question_id":31187616,"body_markdown":"If you are simply deleting files (cpu-wise the time needed is negligible and individually it is the same from the i/o point of view too) the bottleneck will be represented by disk I/O, i don&#39;t expect to see any improvement deleting file with multiple threads, you can just do it sequentially.","title":"Remove multiple files using multithreading in Java","body":"<p>If you are simply deleting files (cpu-wise the time needed is negligible and individually it is the same from the i/o point of view too) the bottleneck will be represented by disk I/O, i don't expect to see any improvement deleting file with multiple threads, you can just do it sequentially.</p>\n"},{"tags":[],"owner":{"account_id":2220773,"reputation":7600,"user_id":1960180,"accept_rate":100,"display_name":"Aaron D"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1435848796,"creation_date":1435848796,"answer_id":31187921,"question_id":31187616,"body_markdown":"Don&#39;t prematurely optimize until you know for sure that this code is a bottleneck. The time can always be spent fixing another bug or adding another feature.\r\n\r\nMaking it multi-threaded will make your application state more complex and thus harder to debug and the source code harder to read. So before you do this, I would run benchmarks to actually determine whether or not this operation is thread-bound and could actually be optimized by using more threads.","title":"Remove multiple files using multithreading in Java","body":"<p>Don't prematurely optimize until you know for sure that this code is a bottleneck. The time can always be spent fixing another bug or adding another feature.</p>\n\n<p>Making it multi-threaded will make your application state more complex and thus harder to debug and the source code harder to read. So before you do this, I would run benchmarks to actually determine whether or not this operation is thread-bound and could actually be optimized by using more threads.</p>\n"},{"tags":[],"owner":{"account_id":6262368,"reputation":409,"user_id":4869120,"accept_rate":0,"display_name":"amith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435848948,"creation_date":1435848948,"answer_id":31187980,"question_id":31187616,"body_markdown":"If you are trying to start the log file afresh instaed of appending the current log you can use \r\n\r\n    &lt;appender name=&quot;RFA&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n    &lt;param name=&quot;Append&quot; value=&quot;false&quot; /&gt;\r\n\r\n\r\nI use this during my development \r\nThis does not delete or clean if the log file is rolled.\r\n","title":"Remove multiple files using multithreading in Java","body":"<p>If you are trying to start the log file afresh instaed of appending the current log you can use </p>\n\n<pre><code>&lt;appender name=\"RFA\" class=\"org.apache.log4j.RollingFileAppender\"&gt;\n&lt;param name=\"Append\" value=\"false\" /&gt;\n</code></pre>\n\n<p>I use this during my development \nThis does not delete or clean if the log file is rolled.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2043,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31187764,"answer_count":4,"score":0,"last_activity_date":1669136055,"creation_date":1435848033,"question_id":31187616,"body_markdown":"My application generates a lot of log files, I want to clean this folder each time I startup the application. The simplest way to do that is:\r\n\r\n```java\r\n//remove files from the previous executions\r\nThread tCleanAppFolder = new Thread() {\r\n\r\n\tpublic void run() {\r\n\r\n\t\tString savePath = getFilesDir().getPath() + File.separator;\r\n\t\tFile path = new File(savePath);\r\n\r\n\t\tfor (File file : path.listFiles()) {\r\n\t\t\tfile.delete();\r\n\t\t}\r\n\t}\r\n};\r\ntCleanAppFolder.start();\r\n```\r\n\r\nOf course, we execute this code in the separate thread for the performance reasons.\r\n\r\nMy questions:\r\n\r\n 1. Should I remove each file in the separate thread or it&#39;s OK to leave the code as it&#39;s now?\r\n\r\n 2. Will the usage of the multiple threads inside of `tCleanAppFolder` thread boost the cleaning process?\r\n\r\nProbably, it&#39;s worth to mention, I&#39;m talking about Android application thus, there is no HDD, but internal and external memory of a smartphone.","title":"Remove multiple files using multithreading in Java","body":"<p>My application generates a lot of log files, I want to clean this folder each time I startup the application. The simplest way to do that is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//remove files from the previous executions\nThread tCleanAppFolder = new Thread() {\n\n    public void run() {\n\n        String savePath = getFilesDir().getPath() + File.separator;\n        File path = new File(savePath);\n\n        for (File file : path.listFiles()) {\n            file.delete();\n        }\n    }\n};\ntCleanAppFolder.start();\n</code></pre>\n<p>Of course, we execute this code in the separate thread for the performance reasons.</p>\n<p>My questions:</p>\n<ol>\n<li><p>Should I remove each file in the separate thread or it's OK to leave the code as it's now?</p>\n</li>\n<li><p>Will the usage of the multiple threads inside of <code>tCleanAppFolder</code> thread boost the cleaning process?</p>\n</li>\n</ol>\n<p>Probably, it's worth to mention, I'm talking about Android application thus, there is no HDD, but internal and external memory of a smartphone.</p>\n"},{"tags":["java","date","datetime","java-8","date-comparison"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1455032226,"post_id":35295968,"comment_id":58301978,"body_markdown":"Use a `DateFormat.format(...)`, not `Date.toString()`, to print a `Date`. The latter prints it in the JVM default timezone; the former prints it out in whichever timezone you configure on the instance.","body":"Use a <code>DateFormat.format(...)</code>, not <code>Date.toString()</code>, to print a <code>Date</code>. The latter prints it in the JVM default timezone; the former prints it out in whichever timezone you configure on the instance."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1455032428,"post_id":35295968,"comment_id":58302127,"body_markdown":"@AndyTurner, I check the value of `date` in debugger even there the date is in `IST 2016` and not in `GMT`.","body":"@AndyTurner, I check the value of <code>date</code> in debugger even there the date is in <code>IST 2016</code> and not in <code>GMT</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1455032513,"post_id":35295968,"comment_id":58302196,"body_markdown":"`Date`s don&#39;t have a specific &quot;timezone&quot;. The only timezone they have is that of the JVM. You must have some environment variable or preference somewhere specifying that IST should be used by default in the JVM.","body":"<code>Date</code>s don&#39;t have a specific &quot;timezone&quot;. The only timezone they have is that of the JVM. You must have some environment variable or preference somewhere specifying that IST should be used by default in the JVM."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1455032660,"post_id":35295968,"comment_id":58302324,"body_markdown":"BTW, I that&#39;s &quot;Israel Standard Time&quot;, not &quot;Indian Standard Time&quot;.","body":"BTW, I that&#39;s &quot;Israel Standard Time&quot;, not &quot;Indian Standard Time&quot;."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1455032878,"post_id":35295968,"comment_id":58302479,"body_markdown":"@AndyTurner, `Israel Standard Time` is more logical for my case and, probably, it&#39;s a correct explanation. The reason I decided that&#39;s `Indian Standard Time`: http://www.timeanddate.com/time/zones/ist but there is also http://www.timeanddate.com/time/zones/ist-israel.","body":"@AndyTurner, <code>Israel Standard Time</code> is more logical for my case and, probably, it&#39;s a correct explanation. The reason I decided that&#39;s <code>Indian Standard Time</code>: <a href=\"http://www.timeanddate.com/time/zones/ist\" rel=\"nofollow noreferrer\">timeanddate.com/time/zones/ist</a> but there is also <a href=\"http://www.timeanddate.com/time/zones/ist-israel\" rel=\"nofollow noreferrer\">timeanddate.com/time/zones/ist-israel</a>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1455032916,"post_id":35295968,"comment_id":58302511,"body_markdown":"And [Irish Standard Time](https://en.wikipedia.org/wiki/Ist#Time_zones). This is why three-letter abbreviations for timezones should be avoided.","body":"And <a href=\"https://en.wikipedia.org/wiki/Ist#Time_zones\" rel=\"nofollow noreferrer\">Irish Standard Time</a>. This is why three-letter abbreviations for timezones should be avoided."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1455037073,"post_id":35295968,"comment_id":58305697,"body_markdown":"As suggested, avoid such 3-4 letter codes as they are neither standardized nor unique. See [this list of proper time zone names](https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones). By the way, if it were India time you could tell by the half-hour; India uses an offset of five and a half hours, `+05:30`.","body":"As suggested, avoid such 3-4 letter codes as they are neither standardized nor unique. See <a href=\"https://en.m.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"nofollow noreferrer\">this list of proper time zone names</a>. By the way, if it were India time you could tell by the half-hour; India uses an offset of five and a half hours, <code>+05:30</code>."}],"answers":[{"tags":[],"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669116997,"creation_date":1455033161,"answer_id":35296352,"question_id":35295968,"body_markdown":"You are relying to `Date.toString()` to print your date when you should format it to a `String` with a formatter. What you are seeing is just the default pattern of `Date.toString()`. What you must keep in mind is that a `Date` does not have a timezone. You are seeing the output with the IST timezone, this must be because the current locale for the JVM is set to some specific locale for which the timezone name is `&quot;IST&quot;`.\r\n\r\nWith regard to your point 4, yes, you can do it much cleaner with Java Time API introduced in Java 8. You can create a `List` of your strings to parse, create a `DateTimeFormatter` to parse it, and keep the maximum date value.\r\n\r\n```js\r\npublic static void main(String[] args) {\r\n\r\n\tList&lt;String&gt; dates = Arrays.asList(&quot;Tue, 09 Feb 2016 14:07:00 GMT&quot;, &quot;Tue, 09 Feb 2016 19:55:00 GMT&quot;);\r\n\tDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;, Locale.ENGLISH);\r\n\t\r\n\tZonedDateTime maxDate = dates.stream()\r\n\t\t\t\t\t\t\t\t .map(s -&gt; ZonedDateTime.parse(s, formatter))\r\n\t\t\t\t\t\t\t\t .max(ZonedDateTime::compareTo)\r\n\t\t\t\t\t\t\t\t .get(); // or .orElse(null)\r\n\t\r\n\tSystem.out.println(maxDate);\r\n}\r\n```\r\n\r\nThis code is using a `ZonedDateTime` to keep the time-zone of the incoming strings.","title":"Can&#39;t convert string to date in Java, wrong timezone after conversion","body":"<p>You are relying to <code>Date.toString()</code> to print your date when you should format it to a <code>String</code> with a formatter. What you are seeing is just the default pattern of <code>Date.toString()</code>. What you must keep in mind is that a <code>Date</code> does not have a timezone. You are seeing the output with the IST timezone, this must be because the current locale for the JVM is set to some specific locale for which the timezone name is <code>&quot;IST&quot;</code>.</p>\n<p>With regard to your point 4, yes, you can do it much cleaner with Java Time API introduced in Java 8. You can create a <code>List</code> of your strings to parse, create a <code>DateTimeFormatter</code> to parse it, and keep the maximum date value.</p>\n<pre class=\"lang-js prettyprint-override\"><code>public static void main(String[] args) {\n\n    List&lt;String&gt; dates = Arrays.asList(&quot;Tue, 09 Feb 2016 14:07:00 GMT&quot;, &quot;Tue, 09 Feb 2016 19:55:00 GMT&quot;);\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;, Locale.ENGLISH);\n    \n    ZonedDateTime maxDate = dates.stream()\n                                 .map(s -&gt; ZonedDateTime.parse(s, formatter))\n                                 .max(ZonedDateTime::compareTo)\n                                 .get(); // or .orElse(null)\n    \n    System.out.println(maxDate);\n}\n</code></pre>\n<p>This code is using a <code>ZonedDateTime</code> to keep the time-zone of the incoming strings.</p>\n"},{"tags":[],"owner":{"account_id":5310965,"reputation":11758,"user_id":4237316,"accept_rate":47,"display_name":"Harald Nordgren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455033292,"creation_date":1455033292,"answer_id":35296398,"question_id":35295968,"body_markdown":"Your computer seems to be set to `IST`. To force `GMT` output, import `java.util.TimeZone` and do this in your `try` block:\r\n\r\n    format.setTimeZone(TimeZone.getTimeZone(&quot;GMT&quot;));\r\n    date = format.parse(strDate);\r\n\r\n    System.out.println(&quot;Result: &quot; + format.format(date));","title":"Can&#39;t convert string to date in Java, wrong timezone after conversion","body":"<p>Your computer seems to be set to <code>IST</code>. To force <code>GMT</code> output, import <code>java.util.TimeZone</code> and do this in your <code>try</code> block:</p>\n\n<pre><code>format.setTimeZone(TimeZone.getTimeZone(\"GMT\"));\ndate = format.parse(strDate);\n\nSystem.out.println(\"Result: \" + format.format(date));\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35296352,"answer_count":2,"score":2,"last_activity_date":1669135927,"creation_date":1455032101,"question_id":35295968,"body_markdown":"I have an array of `Strings` with the dates e.g.:\r\n\r\n - *Tue, 09 Feb 2016 14:07:00 GMT*;\r\n - *Tue, 09 Feb 2016 19:55:00 GMT*.\r\n\r\nNow I want to find the most recent date on this list. In order to do that, I try to deserialize these strings to `java.util.Date` objects and after that compare them.\r\n\r\nThe code sample of `java.util.Date` object generation:\r\n\r\n```js\r\nstrDate = &quot;Tue, 09 Feb 2016 14:07:00 GMT&quot;;\r\nDateFormat format = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;);\r\n\r\nDate date;\r\ntry {\r\n\r\n\tdate = format.parse(strDate);\r\n\r\n\t//Result: Tue Feb 09 16:07:00 IST 2016\r\n\tSystem.out.println(&quot;Result: &quot; + date.toString());\r\n\r\n} catch(ParseException e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\nMy questions:\r\n\r\n 1. Why is the result in *IST 2016* time zone and not in *GMT*? What does the *IST 2016* stand for? Is it *India Standard Time* or *Irish Standard Time* or *Israel Standard Time*?\r\n\r\n 2. The initial string is in `EEE, dd MMM` format, the `SimpleDateFormat` pattern is also in this format, thus, why the result is in `EEE, MMM dd` format?\r\n\r\n 3. How can get a `java.util.Date` object in the same timezone as the initial string, in my case — *GMT*?\r\n\r\n 4. Is the approach I&#39;m using to find the most recent date in the list is OK or there is more convenient/modern way to do that in Java 8, e.g., with the usage of `LocalDateTime`?","title":"Can&#39;t convert string to date in Java, wrong timezone after conversion","body":"<p>I have an array of <code>Strings</code> with the dates e.g.:</p>\n<ul>\n<li><em>Tue, 09 Feb 2016 14:07:00 GMT</em>;</li>\n<li><em>Tue, 09 Feb 2016 19:55:00 GMT</em>.</li>\n</ul>\n<p>Now I want to find the most recent date on this list. In order to do that, I try to deserialize these strings to <code>java.util.Date</code> objects and after that compare them.</p>\n<p>The code sample of <code>java.util.Date</code> object generation:</p>\n<pre class=\"lang-js prettyprint-override\"><code>strDate = &quot;Tue, 09 Feb 2016 14:07:00 GMT&quot;;\nDateFormat format = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss z&quot;);\n\nDate date;\ntry {\n\n    date = format.parse(strDate);\n\n    //Result: Tue Feb 09 16:07:00 IST 2016\n    System.out.println(&quot;Result: &quot; + date.toString());\n\n} catch(ParseException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>My questions:</p>\n<ol>\n<li><p>Why is the result in <em>IST 2016</em> time zone and not in <em>GMT</em>? What does the <em>IST 2016</em> stand for? Is it <em>India Standard Time</em> or <em>Irish Standard Time</em> or <em>Israel Standard Time</em>?</p>\n</li>\n<li><p>The initial string is in <code>EEE, dd MMM</code> format, the <code>SimpleDateFormat</code> pattern is also in this format, thus, why the result is in <code>EEE, MMM dd</code> format?</p>\n</li>\n<li><p>How can get a <code>java.util.Date</code> object in the same timezone as the initial string, in my case — <em>GMT</em>?</p>\n</li>\n<li><p>Is the approach I'm using to find the most recent date in the list is OK or there is more convenient/modern way to do that in Java 8, e.g., with the usage of <code>LocalDateTime</code>?</p>\n</li>\n</ol>\n"},{"tags":["java","date","datetime","timestamp","java-8"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":3,"creation_date":1455048850,"post_id":35301269,"comment_id":58312747,"body_markdown":"I&#39;m afraid this is too broad. You should start by reading the Javadoc for those classes. There is no good answer to this.","body":"I&#39;m afraid this is too broad. You should start by reading the Javadoc for those classes. There is no good answer to this."},{"owner":{"account_id":25684,"reputation":3449,"user_id":66207,"accept_rate":100,"display_name":"keuleJ"},"score":2,"creation_date":1455048963,"post_id":35301269,"comment_id":58312808,"body_markdown":"Don&#39;t use java.util.Date in Java 8.","body":"Don&#39;t use java.util.Date in Java 8."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1455049001,"post_id":35301269,"comment_id":58312838,"body_markdown":"Define &quot;store a date&quot;, first; you mention `java.sql.Timestamp`, does that mean you intend to store into/retrieve from an RDBMS engine? Do you need timezone information?","body":"Define &quot;store a date&quot;, first; you mention <code>java.sql.Timestamp</code>, does that mean you intend to store into/retrieve from an RDBMS engine? Do you need timezone information?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1455049017,"post_id":35301269,"comment_id":58312849,"body_markdown":"@Tunaki, I already passed over their JavaDocs and paid attention that all these classes contain all the methods I need, thus, for the moment I can select them randomly. But I guess, that there is some reason why there are 4 separate classes and each of them is dedicated to the specific purpose.","body":"@Tunaki, I already passed over their JavaDocs and paid attention that all these classes contain all the methods I need, thus, for the moment I can select them randomly. But I guess, that there is some reason why there are 4 separate classes and each of them is dedicated to the specific purpose."},{"owner":{"account_id":2915477,"reputation":15624,"user_id":2498782,"accept_rate":65,"display_name":"Eric Guan"},"score":2,"creation_date":1455049053,"post_id":35301269,"comment_id":58312867,"body_markdown":"Well obviously i wouldn&#39;t use java.sql.Timestamp if you aren&#39;t planning to do JDBC. java.util.Date is pre-java 8 and notoriously clunky. I would go with Java 8&#39;s LocalDateTime.","body":"Well obviously i wouldn&#39;t use java.sql.Timestamp if you aren&#39;t planning to do JDBC. java.util.Date is pre-java 8 and notoriously clunky. I would go with Java 8&#39;s LocalDateTime."},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1455049279,"post_id":35301269,"comment_id":58313005,"body_markdown":"@EricGuan Unless timezones are important and `ZonedDateTime` should be preferred.","body":"@EricGuan Unless timezones are important and <code>ZonedDateTime</code> should be preferred."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1455049360,"post_id":35301269,"comment_id":58313061,"body_markdown":"@fge, I want to save a date in object&#39;s property and then compare/sort objects by this value. Furthermore, I&#39;ll store these objects in `MongoDB` and will perform the queries by date field as well.","body":"@fge, I want to save a date in object&#39;s property and then compare/sort objects by this value. Furthermore, I&#39;ll store these objects in <code>MongoDB</code> and will perform the queries by date field as well."},{"owner":{"account_id":2016330,"reputation":13111,"user_id":1803551,"accept_rate":67,"display_name":"user1803551"},"score":1,"creation_date":1455061902,"post_id":35301269,"comment_id":58319361,"body_markdown":"You have to give specific details. In what form do you get the input (string?), are time zones important, are they timestamps, what operations will be performed on them and what calculation will they be used for.","body":"You have to give specific details. In what form do you get the input (string?), are time zones important, are they timestamps, what operations will be performed on them and what calculation will they be used for."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":2,"creation_date":1455093145,"post_id":35301269,"comment_id":58329735,"body_markdown":"@user1803551, the question has been narrowed and enriched by technical details.","body":"@user1803551, the question has been narrowed and enriched by technical details."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1455094302,"post_id":35301269,"comment_id":58330388,"body_markdown":"@MikeB. This may be informative: https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html - what matters is the underlying data you are trying to describe. Your string only has date and time information - it is essentially a LocalDateTime. But then you also mention time zones. When you get that string, do you know in what time zone it is? Also note that mongodb represents dates as a number of milliseconds since the epoch - the closest representation in Java would be an Instant. You should give a bit more background as to what those date actually represent.","body":"@MikeB. This may be informative: <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/overview.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/datetime/iso/overview.html</a> - what matters is the underlying data you are trying to describe. Your string only has date and time information - it is essentially a LocalDateTime. But then you also mention time zones. When you get that string, do you know in what time zone it is? Also note that mongodb represents dates as a number of milliseconds since the epoch - the closest representation in Java would be an Instant. You should give a bit more background as to what those date actually represent."}],"answers":[{"tags":[],"owner":{"account_id":1465211,"reputation":340,"user_id":1378283,"display_name":"Maouven"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1455103787,"creation_date":1455100011,"answer_id":35312599,"question_id":35301269,"body_markdown":"Each one of the `Date` classes are for specific purposes: \r\n\r\n- If you want to use your Date in an `SQL`/`JDBC` context, use the `java.sql.Timestamp`.\r\n\r\n- `java.util.Date` is the old Java API, it is not thread safe, you can difficultly handle time zoning, and on the top of all, it is poorly designed: one simple uniformity is that months start from 1 while days start from 0.\r\n\r\n- `java.time.LocalDateTime` is an immutable date-time object that represents a date-time, often viewed as year-month-day-hour-minute-second, which you need exactly.\r\n\r\n- `java.time.ZonedDateTime` class stores all date and time fields, so you can use it to deal with values like:\r\n`27th January 1990 at 15:40.30.123123123 +02:00` in the Europe/Paris time-zone.\r\n\r\nTo do your task, the `ZonedDateTime` class handles conversion from the local time-line of `LocalDateTime` to the instant time-line of `Instant`(which models a single instantaneous point on the time-line). The difference between the two time-lines, represented by a `ZoneOffset`, is the offset from UTC/Greenwich.\r\n\r\nTo calculate duration and period: there is the `java.time.Duration` which is a time-based amount of time, such as &#39;20.5 seconds&#39;, and `java.time.Period`, which is a date-based amount of time (like: 26 years, 2 months and 2 days).\r\n\r\nTo get max and min dates, you can use the Java 8 lambdas in something like: \r\n\r\n    Date maxDate = list.stream().map(yourInstance -&gt; yourInstance.date).max(Date::compareTo).get();\r\n    Date minDate = list.stream().map(yourInstance -&gt; yourInstance.date).min(Date::compareTo).get();\r\n\r\n ","title":"Which date class should I use in Java 8?","body":"<p>Each one of the <code>Date</code> classes are for specific purposes: </p>\n\n<ul>\n<li><p>If you want to use your Date in an <code>SQL</code>/<code>JDBC</code> context, use the <code>java.sql.Timestamp</code>.</p></li>\n<li><p><code>java.util.Date</code> is the old Java API, it is not thread safe, you can difficultly handle time zoning, and on the top of all, it is poorly designed: one simple uniformity is that months start from 1 while days start from 0.</p></li>\n<li><p><code>java.time.LocalDateTime</code> is an immutable date-time object that represents a date-time, often viewed as year-month-day-hour-minute-second, which you need exactly.</p></li>\n<li><p><code>java.time.ZonedDateTime</code> class stores all date and time fields, so you can use it to deal with values like:\n<code>27th January 1990 at 15:40.30.123123123 +02:00</code> in the Europe/Paris time-zone.</p></li>\n</ul>\n\n<p>To do your task, the <code>ZonedDateTime</code> class handles conversion from the local time-line of <code>LocalDateTime</code> to the instant time-line of <code>Instant</code>(which models a single instantaneous point on the time-line). The difference between the two time-lines, represented by a <code>ZoneOffset</code>, is the offset from UTC/Greenwich.</p>\n\n<p>To calculate duration and period: there is the <code>java.time.Duration</code> which is a time-based amount of time, such as '20.5 seconds', and <code>java.time.Period</code>, which is a date-based amount of time (like: 26 years, 2 months and 2 days).</p>\n\n<p>To get max and min dates, you can use the Java 8 lambdas in something like: </p>\n\n<pre><code>Date maxDate = list.stream().map(yourInstance -&gt; yourInstance.date).max(Date::compareTo).get();\nDate minDate = list.stream().map(yourInstance -&gt; yourInstance.date).min(Date::compareTo).get();\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11487,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":35312599,"answer_count":1,"score":31,"last_activity_date":1669135903,"creation_date":1455048710,"question_id":35301269,"body_markdown":"There is a whole set of date&#39;s classes in Java 8:\r\n\r\n - [**`java.time.LocalDateTime`**][1];\r\n - [**`java.time.ZonedDateTime`**][2];\r\n - [**`java.time.Instant`**][3];\r\n - [**`java.time.OffsetDateTime`**][4];\r\n - [**`java.sql.Timestamp`**][5];\r\n - [**`java.util.Date`**][6].\r\n\r\nI already passed over their JavaDocs and paid attention that all these classes contain all the methods I need. Thus, for the moment, I can select them randomly. But I guess that there is some reason why there are 6 separate classes and each of them is dedicated to the specific purpose.\r\n\r\nTechnical information &amp; requirements:\r\n\r\n 1. The input is in `String`, which is converted to one of these date formats.\r\n 2. I don&#39;t need to display the time zones but when I compare two dates it&#39;s important to be capable to compare correctly the time in New York and in Paris.\r\n 3. The precise level is seconds, there is no need to use milliseconds.\r\n 4. The required operations:\r\n  - find max/min date;\r\n  - sort objects by date;\r\n  - calculate date &amp; time period (difference between two dates);\r\n  - insert objects to MongoDB and retrieve them from a db by date (e.g. all objects after specific date).\r\n\r\nMy questions:\r\n\r\n 1. Which aspects should I bear in mind in order to choose the optimal format among these four options from the performance &amp; maintainability points of view?\r\n\r\n 2. Is there any reason why I should avoid some of these date classes?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html","title":"Which date class should I use in Java 8?","body":"<p>There is a whole set of date's classes in Java 8:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><strong><code>java.time.LocalDateTime</code></strong></a>;</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><strong><code>java.time.ZonedDateTime</code></strong></a>;</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><strong><code>java.time.Instant</code></strong></a>;</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><strong><code>java.time.OffsetDateTime</code></strong></a>;</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\" rel=\"nofollow noreferrer\"><strong><code>java.sql.Timestamp</code></strong></a>;</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><strong><code>java.util.Date</code></strong></a>.</li>\n</ul>\n<p>I already passed over their JavaDocs and paid attention that all these classes contain all the methods I need. Thus, for the moment, I can select them randomly. But I guess that there is some reason why there are 6 separate classes and each of them is dedicated to the specific purpose.</p>\n<p>Technical information &amp; requirements:</p>\n<ol>\n<li>The input is in <code>String</code>, which is converted to one of these date formats.</li>\n<li>I don't need to display the time zones but when I compare two dates it's important to be capable to compare correctly the time in New York and in Paris.</li>\n<li>The precise level is seconds, there is no need to use milliseconds.</li>\n<li>The required operations:</li>\n</ol>\n<ul>\n<li>find max/min date;</li>\n<li>sort objects by date;</li>\n<li>calculate date &amp; time period (difference between two dates);</li>\n<li>insert objects to MongoDB and retrieve them from a db by date (e.g. all objects after specific date).</li>\n</ul>\n<p>My questions:</p>\n<ol>\n<li><p>Which aspects should I bear in mind in order to choose the optimal format among these four options from the performance &amp; maintainability points of view?</p>\n</li>\n<li><p>Is there any reason why I should avoid some of these date classes?</p>\n</li>\n</ol>\n"},{"tags":["java","mongodb","authentication"],"comments":[{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1455461085,"post_id":35392797,"comment_id":58489802,"body_markdown":"Do you have an SSL-enabled `mongod`?","body":"Do you have an SSL-enabled <code>mongod</code>?"},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":1,"creation_date":1455461377,"post_id":35392797,"comment_id":58489898,"body_markdown":"And make sure that you have `myAppDB` appended to your connection string and/or use the [authSource parameter](https://docs.mongodb.org/manual/reference/connection-string/#uri.authSource).","body":"And make sure that you have <code>myAppDB</code> appended to your connection string and/or use the <a href=\"https://docs.mongodb.org/manual/reference/connection-string/#uri.authSource\" rel=\"nofollow noreferrer\">authSource parameter</a>."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1455463138,"post_id":35392797,"comment_id":58490464,"body_markdown":"@MarkusWMahlberg, I enabled SSL in the settings of Mongo Explorer plugin.","body":"@MarkusWMahlberg, I enabled SSL in the settings of Mongo Explorer plugin."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1455463635,"post_id":35392797,"comment_id":58490676,"body_markdown":"@MarkusWMahlberg, btw, in some tutorials I saw that users are created in `admin` table is it a good idea or it worth to create users only in a database they are going to work with?","body":"@MarkusWMahlberg, btw, in some tutorials I saw that users are created in <code>admin</code> table is it a good idea or it worth to create users only in a database they are going to work with?"},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":1,"creation_date":1455468158,"post_id":35392797,"comment_id":58492326,"body_markdown":"***My*** rule of thumb: if the user only has roles on one DB, create the user there. If the user has roles in multiple DBs, create the user in the &quot;primary&quot; DB (usually the first one he or she connects to). For everything else, I use &quot;admin&quot;.","body":"<b><i>My</i></b> rule of thumb: if the user only has roles on one DB, create the user there. If the user has roles in multiple DBs, create the user in the &quot;primary&quot; DB (usually the first one he or she connects to). For everything else, I use &quot;admin&quot;."}],"answers":[{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1460216329,"creation_date":1460216329,"answer_id":36518977,"question_id":35392797,"body_markdown":"As [MarkusWMahlberg][1] correctly noted, it is necessary to note the database name in the connection string.\r\n\r\nFor instance:\r\n\r\n    String mongoClientURI = &quot;mongodb://&quot; + DB_SRV_USR + &quot;:&quot; + DB_SRV_PWD + &quot;@&quot; + DB_URL + &quot;:&quot; + DB_PORT + &quot;/&quot; + dbName;\r\n\r\n  [1]: https://stackoverflow.com/users/1296707/markus-w-mahlberg","title":"How to connect to MongoDB 3.2 in Java with username and password?","body":"<p>As <a href=\"https://stackoverflow.com/users/1296707/markus-w-mahlberg\">MarkusWMahlberg</a> correctly noted, it is necessary to note the database name in the connection string.</p>\n\n<p>For instance:</p>\n\n<pre><code>String mongoClientURI = \"mongodb://\" + DB_SRV_USR + \":\" + DB_SRV_PWD + \"@\" + DB_URL + \":\" + DB_PORT + \"/\" + dbName;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1836998,"reputation":9822,"user_id":1667163,"display_name":"Jonathan L"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1494977298,"creation_date":1494976078,"answer_id":44013018,"question_id":35392797,"body_markdown":"Tested with mongodb-3.4.2 and mongo-java-driver-3.4.2.jar\r\n\r\n(1) Use MongoCredential\r\n\r\n    MongoCredential credential = MongoCredential.createCredential(&quot;user&quot;, &quot;database&quot;, &quot;passwd&quot;.toCharArray());\r\n    MongoClient mongoClient = new MongoClient(new ServerAddress(&quot;localhost&quot;, 27017), Arrays.asList(credential));\r\n\tMongoDatabase db = mongoClient.getDatabase( &quot;test&quot; );\r\n\tMongoCollection collection = db.getCollection(&quot;mycol&quot;);\r\n\tFindIterable fi = collection.find();\r\n    MongoCursor cursor = fi.iterator();\r\n\r\n(2) Use MongoClientURI\r\n\r\n    MongoClientURI uri = new MongoClientURI(&quot;mongodb://user:passwd@localhost:27017/?authSource=test&quot;);\r\n    MongoClient mongoClient = new MongoClient(uri);\r\n\r\nThere are some variant forms for using MongoCredential and MongoClientURI for different authentication mechanisms, check [here][1] for details\r\n\r\n  [1]: http://mongodb.github.io/mongo-java-driver/3.0/driver/reference/connecting/authenticating/","title":"How to connect to MongoDB 3.2 in Java with username and password?","body":"<p>Tested with mongodb-3.4.2 and mongo-java-driver-3.4.2.jar</p>\n\n<p>(1) Use MongoCredential</p>\n\n<pre><code>MongoCredential credential = MongoCredential.createCredential(\"user\", \"database\", \"passwd\".toCharArray());\nMongoClient mongoClient = new MongoClient(new ServerAddress(\"localhost\", 27017), Arrays.asList(credential));\nMongoDatabase db = mongoClient.getDatabase( \"test\" );\nMongoCollection collection = db.getCollection(\"mycol\");\nFindIterable fi = collection.find();\nMongoCursor cursor = fi.iterator();\n</code></pre>\n\n<p>(2) Use MongoClientURI</p>\n\n<pre><code>MongoClientURI uri = new MongoClientURI(\"mongodb://user:passwd@localhost:27017/?authSource=test\");\nMongoClient mongoClient = new MongoClient(uri);\n</code></pre>\n\n<p>There are some variant forms for using MongoCredential and MongoClientURI for different authentication mechanisms, check <a href=\"http://mongodb.github.io/mongo-java-driver/3.0/driver/reference/connecting/authenticating/\" rel=\"noreferrer\">here</a> for details</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30205,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":36518977,"answer_count":2,"score":12,"last_activity_date":1669135876,"creation_date":1455459371,"question_id":35392797,"body_markdown":"I&#39;m using MongoDB 3.2 in my application. The code below demonstrates database initialization logic:\r\n\r\n```java\r\nprivate void dbInit(String dbName) {\r\n\r\n\tString mongoClientURI = &quot;mongodb://&quot; + DB_URL + &quot;:&quot; + DB_PORT;\r\n\tMongoClientURI connectionString = new MongoClientURI(mongoClientURI);\r\n\r\n\t// enable SSL connection\r\n\tMongoClientOptions.builder().sslEnabled(true).build();\r\n\r\n\tif (this.mongoClient == null) {\r\n\t\tthis.mongoClient = new MongoClient(connectionString);\r\n\t}\r\n\r\n\t// create database if doesn&#39;t exist\r\n\tthis.mongoClient.getDatabase(dbName);\r\n}\r\n```\r\n\r\nThis code works fine, now I want to introduce access level separation to database.\r\n\r\nThe steps to do that:\r\n\r\n 1. Define users:\r\n\r\n```java\r\nuse myAppDB\r\ndb.createUser(\r\n   {\r\n      &quot;user&quot;: &quot;myAdmin&quot;,\r\n      &quot;pwd&quot;: &quot;123090d1487dd4ab7&quot;,\r\n      roles: [ &quot;readWrite&quot;, &quot;dbAdmin&quot; ]\r\n   }\r\n)\r\n\r\nuse myAppDB\r\ndb.createUser(\r\n   {\r\n      &quot;user&quot;: &quot;guest&quot;,\r\n      &quot;pwd&quot;: &quot;guest&quot;,\r\n      roles: [ &quot;read&quot; ]\r\n   }\r\n)\r\n```\r\n\r\n 2. Re-create the MongoDB 3.2 service in authentication mode:\r\n`&quot;C:\\Program Files\\MongoDB\\Server\\3.2\\bin\\mongod.exe&quot; --install --dbpath=C:\\data\\db --logpath=C:\\data\\log\\log.txt --auth --service`. And run it.\r\n\r\n 3. Change the `mongoClientURI` connection string to \r\n\r\n```java\r\nString mongoClientURI = &quot;mongodb://&quot; + DB_SRV_USR + &quot;:&quot; + DB_SRV_PWD + &quot;@&quot; + DB_URL + &quot;:&quot; + DB_PORT;\r\n```\r\nwhere `DB_SRV_USR` = `myAdmin` and `DB_SRV_PWD` = `123090d1487dd4ab7`.\r\n\r\n 4. Check the authenticated connection in IDEA&#39;s `Mongo Explorer` with the same credentials, everything is OK.\r\n\r\n 5. Execute my application and get exception `Authentication failed`.\r\n\r\nMy questions:\r\n\r\n 1. How to connect to MongoDB 3.2 in Java with username and password? I saw a couple of [examples][1] but they are using deprecated methods.\r\n\r\n 2. Should I add my users to `myAppDB` or to `admin` table? In some tutorials I saw that users are created in `admin` table is it a good idea or it worth to create users only in a database they are going to work with?\r\n\r\n  [1]: https://stackoverflow.com/a/34085215/462347","title":"How to connect to MongoDB 3.2 in Java with username and password?","body":"<p>I'm using MongoDB 3.2 in my application. The code below demonstrates database initialization logic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void dbInit(String dbName) {\n\n    String mongoClientURI = &quot;mongodb://&quot; + DB_URL + &quot;:&quot; + DB_PORT;\n    MongoClientURI connectionString = new MongoClientURI(mongoClientURI);\n\n    // enable SSL connection\n    MongoClientOptions.builder().sslEnabled(true).build();\n\n    if (this.mongoClient == null) {\n        this.mongoClient = new MongoClient(connectionString);\n    }\n\n    // create database if doesn't exist\n    this.mongoClient.getDatabase(dbName);\n}\n</code></pre>\n<p>This code works fine, now I want to introduce access level separation to database.</p>\n<p>The steps to do that:</p>\n<ol>\n<li>Define users:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>use myAppDB\ndb.createUser(\n   {\n      &quot;user&quot;: &quot;myAdmin&quot;,\n      &quot;pwd&quot;: &quot;123090d1487dd4ab7&quot;,\n      roles: [ &quot;readWrite&quot;, &quot;dbAdmin&quot; ]\n   }\n)\n\nuse myAppDB\ndb.createUser(\n   {\n      &quot;user&quot;: &quot;guest&quot;,\n      &quot;pwd&quot;: &quot;guest&quot;,\n      roles: [ &quot;read&quot; ]\n   }\n)\n</code></pre>\n<ol start=\"2\">\n<li><p>Re-create the MongoDB 3.2 service in authentication mode:\n<code>&quot;C:\\Program Files\\MongoDB\\Server\\3.2\\bin\\mongod.exe&quot; --install --dbpath=C:\\data\\db --logpath=C:\\data\\log\\log.txt --auth --service</code>. And run it.</p>\n</li>\n<li><p>Change the <code>mongoClientURI</code> connection string to</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String mongoClientURI = &quot;mongodb://&quot; + DB_SRV_USR + &quot;:&quot; + DB_SRV_PWD + &quot;@&quot; + DB_URL + &quot;:&quot; + DB_PORT;\n</code></pre>\n<p>where <code>DB_SRV_USR</code> = <code>myAdmin</code> and <code>DB_SRV_PWD</code> = <code>123090d1487dd4ab7</code>.</p>\n<ol start=\"4\">\n<li><p>Check the authenticated connection in IDEA's <code>Mongo Explorer</code> with the same credentials, everything is OK.</p>\n</li>\n<li><p>Execute my application and get exception <code>Authentication failed</code>.</p>\n</li>\n</ol>\n<p>My questions:</p>\n<ol>\n<li><p>How to connect to MongoDB 3.2 in Java with username and password? I saw a couple of <a href=\"https://stackoverflow.com/a/34085215/462347\">examples</a> but they are using deprecated methods.</p>\n</li>\n<li><p>Should I add my users to <code>myAppDB</code> or to <code>admin</code> table? In some tutorials I saw that users are created in <code>admin</code> table is it a good idea or it worth to create users only in a database they are going to work with?</p>\n</li>\n</ol>\n"},{"tags":["java","mongodb","synchronization"],"comments":[{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1456052024,"post_id":35535076,"comment_id":58759036,"body_markdown":"Please add a [minimal, complete and verifiable example](http://www.stackoverflow.com/help/mcve).","body":"Please add a <a href=\"http://www.stackoverflow.com/help/mcve\">minimal, complete and verifiable example</a>."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":1,"creation_date":1456052359,"post_id":35535076,"comment_id":58759132,"body_markdown":"From what I can see, I think your application architecture is a bit... ...improvable. Here is what I would do: have a producer (the crawler) sending the new sites down a pipeline, one of the steps being persisting the data, and applying business logic before (and after) as needed. Camel is very usable for this.","body":"From what I can see, I think your application architecture is a bit... ...improvable. Here is what I would do: have a producer (the crawler) sending the new sites down a pipeline, one of the steps being persisting the data, and applying business logic before (and after) as needed. Camel is very usable for this."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1456054240,"post_id":35535076,"comment_id":58759693,"body_markdown":"@MarkusWMahlberg, it&#39;s hard to provide the minimal, complete and verifiable example without providing the whole crawler project.","body":"@MarkusWMahlberg, it&#39;s hard to provide the minimal, complete and verifiable example without providing the whole crawler project."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":0,"creation_date":1456054718,"post_id":35535076,"comment_id":58759854,"body_markdown":"Well, you have to put some effort into it ;) But take a deep look into my suggestion. Processing each site individually, potentially by many threads will make your life a lot easier.","body":"Well, you have to put some effort into it ;) But take a deep look into my suggestion. Processing each site individually, potentially by many threads will make your life a lot easier."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1456055915,"post_id":35535076,"comment_id":58760185,"body_markdown":"Yeap, actually, I&#39;m working just with one site — a news aggregator, it accumulates all the data for me in one place, I just have to fetch it via RSS, store it in DB and after that process.","body":"Yeap, actually, I&#39;m working just with one site — a news aggregator, it accumulates all the data for me in one place, I just have to fetch it via RSS, store it in DB and after that process."},{"owner":{"account_id":1358954,"reputation":19779,"user_id":1296707,"accept_rate":50,"display_name":"Markus W Mahlberg"},"score":1,"creation_date":1456064464,"post_id":35535076,"comment_id":58763070,"body_markdown":"http://camel.apache.org/rss.html","body":"<a href=\"http://camel.apache.org/rss.html\" rel=\"nofollow noreferrer\">camel.apache.org/rss.html</a>"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1456066056,"post_id":35535076,"comment_id":58763607,"body_markdown":"@MarkusWMahlberg, I checked this framework, looks great but my project is a small academic project, thus we don&#39;t need to use a whole zoo of frameworks/APIs at the same time.","body":"@MarkusWMahlberg, I checked this framework, looks great but my project is a small academic project, thus we don&#39;t need to use a whole zoo of frameworks/APIs at the same time."}],"answers":[{"tags":[],"owner":{"account_id":4698412,"reputation":5833,"user_id":5106017,"display_name":"sheilak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1456071233,"creation_date":1456071233,"answer_id":35538477,"question_id":35535076,"body_markdown":"When you call `find` here:\r\n\r\n    FindIterable&lt;Document&gt; unfetchedEpisodes = dbC_Episodes.find(query);\r\n    \r\nyou are not actually getting all the episodes back. You are getting a database cursor pointing to the matched documents.\r\n\r\nThen when you call: \r\n\r\n    for (Document document : unfetchedEpisodes){}\r\n    \r\nan iterator is created over all of the documents that match the query.\r\n\r\nWhen you call it a second time, a new cursor is returned, for the same query, and all of the documents that match *now* are iterated over. \r\n\r\nIf the collection has changed in between, the results will be different.\r\n\r\nIf you want to ensure that the contents of `unfetchedEpisodes` are unchanged then one option is you could pull the entire result set into memory and iterate over it in memory rather than on the DB, e.g.\r\n\r\n    ArrayList&lt;Document&gt; unfetchedEpisodes = dbC_Episodes.find(query).into(new ArrayList&lt;Document&gt;());","title":"MongoDB result set getting modified after execution of a query","body":"<p>When you call <code>find</code> here:</p>\n\n<pre><code>FindIterable&lt;Document&gt; unfetchedEpisodes = dbC_Episodes.find(query);\n</code></pre>\n\n<p>you are not actually getting all the episodes back. You are getting a database cursor pointing to the matched documents.</p>\n\n<p>Then when you call: </p>\n\n<pre><code>for (Document document : unfetchedEpisodes){}\n</code></pre>\n\n<p>an iterator is created over all of the documents that match the query.</p>\n\n<p>When you call it a second time, a new cursor is returned, for the same query, and all of the documents that match <em>now</em> are iterated over. </p>\n\n<p>If the collection has changed in between, the results will be different.</p>\n\n<p>If you want to ensure that the contents of <code>unfetchedEpisodes</code> are unchanged then one option is you could pull the entire result set into memory and iterate over it in memory rather than on the DB, e.g.</p>\n\n<pre><code>ArrayList&lt;Document&gt; unfetchedEpisodes = dbC_Episodes.find(query).into(new ArrayList&lt;Document&gt;());\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1349,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35538477,"answer_count":1,"score":4,"last_activity_date":1669135827,"creation_date":1456051311,"question_id":35535076,"body_markdown":"In my application there are 2 threads:\r\n\r\n 1. crawl the web-sites and insert the data into MongoDB\r\n\r\n 2. retrieve the crawled sites and perform business logic\r\n\r\nIn order to retrieve the the crawled sites I use the following query:\r\n\r\n```java\r\nDocument query = new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam));\r\nFindIterable&lt;Document&gt; unfetchedEpisodes = dbC_Episodes.find(query);\r\n```\r\n\r\nAs the result I get all episodes, which its `fetchStatusParam` is less or equal to the specific value.\r\n\r\nThe next step, I store the items of the result set in `HashMap&lt;String, TrackedEpisode&gt;`, which is an object property in order to track them:\r\n\r\n```java\r\nfor (Document document : unfetchedEpisodes) {\r\n\tthis.trackedEpisodes.put(document.get(&quot;_id&quot;).toString(), new TrackedEpisode(document));\r\n}\r\n```\r\n\r\nThen I do some business logic, which:\r\n\r\n - ***doesn&#39;t*** modify the `unfetchedEpisodes` result set.\r\n\r\n - ***doesn&#39;t*** remove any object from `trackedEpisodes`.\r\n\r\nUp till now everything is OK.  \r\nThe last step, I pass over all retrieved documents and mark them as fetched in order to prevent the duplicate fetching in the future.\r\n\r\n```java\r\nfor (Document document : unfetchedEpisodes) {\r\n\r\n\tif (this.trackedEpisodes.containsKey(document.get(&quot;_id&quot;).toString())) {\r\n\r\n\t\t// prevent repeated fetching\r\n\t\tdocument.put(&quot;fetchStatus&quot;, FetchStatus.IN_PROCESS.getID());\r\n\r\n\t\tif (this.trackedEpisodes.get(document.get(&quot;_id&quot;).toString()).isExpired()) {\r\n\t\t\tdocument.put(&quot;isExpired&quot;, true);\r\n\t\t\tdocument.put(&quot;fetchStatus&quot;, FetchStatus.FETCHED.getID());\r\n\t\t}\r\n\t} else {\r\n\t\tSystem.out.println(&quot;BOO! Strange new object detected&quot;);\r\n\t}\r\n\r\n\tdbC_Episodes.updateOne(new Document(&quot;_id&quot;, document.get(&quot;_id&quot;)), new Document(&quot;$set&quot;, document));\r\n}\r\n```\r\n\r\nI run this code for a couple of days and paid attention that sometimes it arrives to the `else` part of the `if (this.trackedEpisodes.containsKey())` statement. It&#39;s weird for me, how it can be possible that `unfetchedEpisodes` and `trackedEpisodes` are not synchronized and don&#39;t contain the same items?\r\n\r\nI began to investigate the case and paid attention that the times I arrive to `&quot;BOO! Strange new object detected&quot;` the `document` iterator contains the item which is in database but should not yet be in `unfetchedEpisodes` since I didn&#39;t execute a new query to database.\r\n\r\nI checked couple of times the matter of storing retrieved items into `trackedEpisodes` and always all elements from the `unfetchedEpisodes` have been added to `trackedEpisodes` but after that sometimes I still arrive to `&quot;BOO! Strange new object detected&quot;`.\r\n\r\nMy question:  \r\n\r\n 1. Why `unfetchedEpisodes` gets new items after execution of a query?\r\n\r\n 2. Is it possible that `unfetchedEpisodes` will be modified by MongoDB driver after execution of `Collection#query()`?\r\n\r\n 3. Maybe should I use kind of `.close()` after executing a query from the MongoDB?\r\n\r\nThe used versions:\r\n\r\n - MongoDB: 3.2.3, x64\r\n\r\n - MongoDB Java Driver: *mongodb-driver-3.2.2*, *mongodb-driver-core-3.2.2*, *bson-3.2.2*","title":"MongoDB result set getting modified after execution of a query","body":"<p>In my application there are 2 threads:</p>\n<ol>\n<li><p>crawl the web-sites and insert the data into MongoDB</p>\n</li>\n<li><p>retrieve the crawled sites and perform business logic</p>\n</li>\n</ol>\n<p>In order to retrieve the the crawled sites I use the following query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document query = new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam));\nFindIterable&lt;Document&gt; unfetchedEpisodes = dbC_Episodes.find(query);\n</code></pre>\n<p>As the result I get all episodes, which its <code>fetchStatusParam</code> is less or equal to the specific value.</p>\n<p>The next step, I store the items of the result set in <code>HashMap&lt;String, TrackedEpisode&gt;</code>, which is an object property in order to track them:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Document document : unfetchedEpisodes) {\n    this.trackedEpisodes.put(document.get(&quot;_id&quot;).toString(), new TrackedEpisode(document));\n}\n</code></pre>\n<p>Then I do some business logic, which:</p>\n<ul>\n<li><p><em><strong>doesn't</strong></em> modify the <code>unfetchedEpisodes</code> result set.</p>\n</li>\n<li><p><em><strong>doesn't</strong></em> remove any object from <code>trackedEpisodes</code>.</p>\n</li>\n</ul>\n<p>Up till now everything is OK.<br />\nThe last step, I pass over all retrieved documents and mark them as fetched in order to prevent the duplicate fetching in the future.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Document document : unfetchedEpisodes) {\n\n    if (this.trackedEpisodes.containsKey(document.get(&quot;_id&quot;).toString())) {\n\n        // prevent repeated fetching\n        document.put(&quot;fetchStatus&quot;, FetchStatus.IN_PROCESS.getID());\n\n        if (this.trackedEpisodes.get(document.get(&quot;_id&quot;).toString()).isExpired()) {\n            document.put(&quot;isExpired&quot;, true);\n            document.put(&quot;fetchStatus&quot;, FetchStatus.FETCHED.getID());\n        }\n    } else {\n        System.out.println(&quot;BOO! Strange new object detected&quot;);\n    }\n\n    dbC_Episodes.updateOne(new Document(&quot;_id&quot;, document.get(&quot;_id&quot;)), new Document(&quot;$set&quot;, document));\n}\n</code></pre>\n<p>I run this code for a couple of days and paid attention that sometimes it arrives to the <code>else</code> part of the <code>if (this.trackedEpisodes.containsKey())</code> statement. It's weird for me, how it can be possible that <code>unfetchedEpisodes</code> and <code>trackedEpisodes</code> are not synchronized and don't contain the same items?</p>\n<p>I began to investigate the case and paid attention that the times I arrive to <code>&quot;BOO! Strange new object detected&quot;</code> the <code>document</code> iterator contains the item which is in database but should not yet be in <code>unfetchedEpisodes</code> since I didn't execute a new query to database.</p>\n<p>I checked couple of times the matter of storing retrieved items into <code>trackedEpisodes</code> and always all elements from the <code>unfetchedEpisodes</code> have been added to <code>trackedEpisodes</code> but after that sometimes I still arrive to <code>&quot;BOO! Strange new object detected&quot;</code>.</p>\n<p>My question:</p>\n<ol>\n<li><p>Why <code>unfetchedEpisodes</code> gets new items after execution of a query?</p>\n</li>\n<li><p>Is it possible that <code>unfetchedEpisodes</code> will be modified by MongoDB driver after execution of <code>Collection#query()</code>?</p>\n</li>\n<li><p>Maybe should I use kind of <code>.close()</code> after executing a query from the MongoDB?</p>\n</li>\n</ol>\n<p>The used versions:</p>\n<ul>\n<li><p>MongoDB: 3.2.3, x64</p>\n</li>\n<li><p>MongoDB Java Driver: <em>mongodb-driver-3.2.2</em>, <em>mongodb-driver-core-3.2.2</em>, <em>bson-3.2.2</em></p>\n</li>\n</ul>\n"},{"tags":["java","mongodb","mongodb-query","crud"],"answers":[{"tags":[],"owner":{"account_id":455406,"reputation":19774,"user_id":853558,"accept_rate":75,"display_name":"Lukasz Wiktor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1457354031,"creation_date":1457354031,"answer_id":35843891,"question_id":35843111,"body_markdown":"It just updates the specified field. The field will be created if it doesn&#39;t exist. Other fields remain untouched. According to [documentation][1]:\r\n\r\n&gt; The $set operator replaces the value of a field with the specified value.\r\n\r\nand\r\n\r\n&gt; If the field does not exist, $set will add a new field with the specified value, provided that the new field does not violate a type constraint. If you specify a dotted path for a non-existent field, $set will create the embedded documents as needed to fulfill the dotted path to the field.\r\n\r\n  [1]: https://docs.mongodb.org/manual/reference/operator/update/set/","title":"Update the specific field and not the whole document in MongoDB with Java","body":"<p>It just updates the specified field. The field will be created if it doesn't exist. Other fields remain untouched. According to <a href=\"https://docs.mongodb.org/manual/reference/operator/update/set/\" rel=\"nofollow\">documentation</a>:</p>\n\n<blockquote>\n  <p>The $set operator replaces the value of a field with the specified value.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>If the field does not exist, $set will add a new field with the specified value, provided that the new field does not violate a type constraint. If you specify a dotted path for a non-existent field, $set will create the embedded documents as needed to fulfill the dotted path to the field.</p>\n</blockquote>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1224,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35843891,"answer_count":1,"score":1,"last_activity_date":1669135743,"creation_date":1457351743,"question_id":35843111,"body_markdown":"I&#39;m using MongoDB 3.2 and MongoDB Java Driver 3.2. In order to update the document I use the following code:\r\n\r\n```java\r\nunfetchedEpisodes.stream()\r\n\t.forEach(ep -&gt; {\r\n\t\tBasicDBObject updatedFields = new BasicDBObject();\r\n\t\tupdatedFields.append(&quot;fetchStatus&quot;, &quot;IN_PROCESS&quot;);\r\n\r\n\t\tupdateColFields(updatedFields, dbCollection, new ObjectId(ep.get(&quot;_id&quot;).toString()));\r\n\t});\r\n\r\npublic void updateColFields(BasicDBObject updatedFields, MongoCollection&lt;Document&gt; dbCollection, ObjectId docID) {\r\n\r\n\tBasicDBObject setQuery = new BasicDBObject();\r\n\tsetQuery.append(&quot;$set&quot;, updatedFields);\r\n\r\n\tBasicDBObject searchQuery = new BasicDBObject(&quot;_id&quot;, docID);\r\n\r\n\tdbCollection.updateOne(searchQuery, setQuery);\r\n}\r\n```\r\n\r\nThis code works but I&#39;m not sure that this code updates ***only the specific field*** (e.g. `fetchStatus`) of the document and not overwrites the whole document.\r\n\r\nDoes this code update *only the specific field* of the document or simply overwrites *the whole document*?","title":"Update the specific field and not the whole document in MongoDB with Java","body":"<p>I'm using MongoDB 3.2 and MongoDB Java Driver 3.2. In order to update the document I use the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>unfetchedEpisodes.stream()\n    .forEach(ep -&gt; {\n        BasicDBObject updatedFields = new BasicDBObject();\n        updatedFields.append(&quot;fetchStatus&quot;, &quot;IN_PROCESS&quot;);\n\n        updateColFields(updatedFields, dbCollection, new ObjectId(ep.get(&quot;_id&quot;).toString()));\n    });\n\npublic void updateColFields(BasicDBObject updatedFields, MongoCollection&lt;Document&gt; dbCollection, ObjectId docID) {\n\n    BasicDBObject setQuery = new BasicDBObject();\n    setQuery.append(&quot;$set&quot;, updatedFields);\n\n    BasicDBObject searchQuery = new BasicDBObject(&quot;_id&quot;, docID);\n\n    dbCollection.updateOne(searchQuery, setQuery);\n}\n</code></pre>\n<p>This code works but I'm not sure that this code updates <em><strong>only the specific field</strong></em> (e.g. <code>fetchStatus</code>) of the document and not overwrites the whole document.</p>\n<p>Does this code update <em>only the specific field</em> of the document or simply overwrites <em>the whole document</em>?</p>\n"},{"tags":["java","mongodb","mongodb-query","crud","bulkinsert"],"comments":[{"owner":{"account_id":5600723,"reputation":649,"user_id":4437074,"display_name":"Ashutosh Srivastav"},"score":1,"creation_date":1504950865,"post_id":35846474,"comment_id":79221031,"body_markdown":"Look at the detailed example https://stackoverflow.com/a/39356860/4437074","body":"Look at the detailed example <a href=\"https://stackoverflow.com/a/39356860/4437074\">stackoverflow.com/a/39356860/4437074</a>"}],"answers":[{"tags":[],"owner":{"account_id":41926,"reputation":101722,"user_id":122005,"accept_rate":100,"display_name":"chridam"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1457364921,"creation_date":1457364549,"answer_id":35847568,"question_id":35846474,"body_markdown":"Using the example in the manual on the new **[`bulkWrite()`][1]** API, consider the following test collection which contains the following documents:\r\n\r\n    { &quot;_id&quot; : 1, &quot;char&quot; : &quot;Brisbane&quot;, &quot;class&quot; : &quot;monk&quot;, &quot;lvl&quot; : 4 },\r\n    { &quot;_id&quot; : 2, &quot;char&quot; : &quot;Eldon&quot;, &quot;class&quot; : &quot;alchemist&quot;, &quot;lvl&quot; : 3 },\r\n    { &quot;_id&quot; : 3, &quot;char&quot; : &quot;Meldane&quot;, &quot;class&quot; : &quot;ranger&quot;, &quot;lvl&quot; : 3 }\r\n\r\nThe following **[`bulkWrite()`][1]** performs multiple operations on the `characters` collection:\r\n\r\n\r\n----------\r\n\r\n\r\n**Mongo shell:**\r\n\r\n    try {\r\n    \tdb.characters.bulkWrite([\r\n    \t\t{ \r\n    \t\t\tinsertOne:{\r\n    \t\t\t\t&quot;document&quot;:{\r\n    \t\t\t\t\t&quot;_id&quot; : 4, &quot;char&quot; : &quot;Dithras&quot;, &quot;class&quot; : &quot;barbarian&quot;, &quot;lvl&quot; : 4\r\n    \t\t\t\t}\r\n                }\r\n    \t\t},\r\n    \t\t{ \r\n    \t\t\tinsertOne:{\r\n    \t\t\t\t&quot;document&quot;: {\r\n    \t\t\t\t\t&quot;_id&quot; : 5, &quot;char&quot; : &quot;Taeln&quot;, &quot;class&quot; : &quot;fighter&quot;, &quot;lvl&quot; : 3\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t},\r\n    \t\t{ \r\n    \t\t\tupdateOne: {\r\n    \t\t\t\t&quot;filter&quot; : { &quot;char&quot; : &quot;Eldon&quot; },\r\n    \t\t\t\t&quot;update&quot; : { $set : { &quot;status&quot; : &quot;Critical Injury&quot; } }\r\n    \t\t\t}\r\n    \t\t},\r\n    \t\t{ \r\n    \t\t\tdeleteOne: { &quot;filter&quot; : { &quot;char&quot; : &quot;Brisbane&quot;} }\r\n    \t\t},\r\n    \t\t{ \r\n    \t\t\treplaceOne: {\r\n                   &quot;filter&quot; : { &quot;char&quot; : &quot;Meldane&quot; },\r\n                   &quot;replacement&quot; : { &quot;char&quot; : &quot;Tanys&quot;, &quot;class&quot; : &quot;oracle&quot;, &quot;lvl&quot; : 4 }\r\n    \t\t\t}\r\n    \t\t}\r\n    \t]);\r\n    }\r\n    catch (e) {  print(e); }\r\n\r\nwhich prints the output:\r\n\r\n    {\r\n       &quot;acknowledged&quot; : true,\r\n       &quot;deletedCount&quot; : 1,\r\n       &quot;insertedCount&quot; : 2,\r\n       &quot;matchedCount&quot; : 2,\r\n       &quot;upsertedCount&quot; : 0,\r\n       &quot;insertedIds&quot; : {\r\n          &quot;0&quot; : 4,\r\n          &quot;1&quot; : 5\r\n       },\r\n       &quot;upsertedIds&quot; : {\r\n    \r\n       }\r\n    }\r\n\r\n----------\r\n\r\n\r\nThe equivalent Java 3.2 implementation follows:\r\n\r\n    MongoCollection&lt;Document&gt; collection = db.getCollection(&quot;characters&quot;);\r\n    List&lt;WriteModel&lt;Document&gt;&gt; writes = new ArrayList&lt;WriteModel&lt;Document&gt;&gt;();\r\n    writes.add(\r\n    \tnew InsertOneModel&lt;Document&gt;(\r\n    \t\tnew Document(&quot;_id&quot;, 4)\r\n    \t\t\t.append(&quot;char&quot;, &quot;Dithras&quot;)\r\n    \t\t\t.append(&quot;class&quot;, &quot;barbarian&quot;)\r\n    \t\t\t.append(&quot;lvl&quot;, 3)\r\n    \t)\r\n    );\r\n    writes.add(\r\n    \tnew InsertOneModel&lt;Document&gt;(\r\n    \t\tnew Document(&quot;_id&quot;, 5)\r\n    \t\t\t.append(&quot;char&quot;, &quot;Taeln&quot;)\r\n    \t\t\t.append(&quot;class&quot;, &quot;fighter&quot;)\r\n    \t\t\t.append(&quot;lvl&quot;, 4)\r\n    \t)\r\n    );\r\n    writes.add(\r\n    \tnew UpdateOneModel&lt;Document&gt;(\r\n    \t\tnew Document(&quot;char&quot;, &quot;Eldon&quot;), // filter\r\n    \t\tnew Document(&quot;$set&quot;, new Document(&quot;status&quot;, &quot;Critical Injury&quot;)) // update\r\n    \t)\r\n    );\r\n    writes.add(new DeleteOneModel&lt;Document&gt;(new Document(&quot;char&quot;, &quot;Brisbane&quot;)));\r\n    writes.add(\r\n    \tnew ReplaceOneModel&lt;Document&gt;(\r\n    \t\tnew Document(&quot;char&quot;, &quot;Meldane&quot;), \r\n    \t\tnew Document(&quot;char&quot;, &quot;Tanys&quot;)\r\n    \t\t\t.append(&quot;class&quot;, &quot;oracle&quot;)\r\n    \t\t\t.append(&quot;lvl&quot;, 4)\t\t\t\r\n    \t)\r\n    );\r\n     \r\n    BulkWriteResult bulkWriteResult = collection.bulkWrite(writes);\r\n\r\n\r\n----------\r\n\r\n\r\nFor your question use the **[`replaceOne()`][2]** method and this would be implemented as\r\n\r\n\r\n    MongoCollection&lt;Document&gt; collection = db.getCollection(&quot;collection&quot;);\r\n    List&lt;WriteModel&lt;Document&gt;&gt; writes = Arrays.&lt;WriteModel&lt;Document&gt;&gt;asList(\r\n    \tnew ReplaceOneModel&lt;Document&gt;(\r\n    \t\tnew Document(&quot;_id&quot;, 1001), // filter\r\n    \t\tnew Document(&quot;author&quot;, &quot;newName&quot;), // update\r\n            new UpdateOptions().upsert(true) // options\r\n    \t)\t\r\n    );\r\n    \r\n    BulkWriteResult bulkWriteResult = collection.bulkWrite(writes);\r\n\r\n\r\n  [1]: https://docs.mongodb.org/manual/core/bulk-write-operations/#bulkwrite-methods\r\n  [2]: https://docs.mongodb.org/manual/reference/method/db.collection.bulkWrite/#replaceone","title":"How to perform a bulk update of documents in MongoDB with Java?","body":"<p>Using the example in the manual on the new <strong><a href=\"https://docs.mongodb.org/manual/core/bulk-write-operations/#bulkwrite-methods\" rel=\"noreferrer\"><code>bulkWrite()</code></a></strong> API, consider the following test collection which contains the following documents:</p>\n\n<pre><code>{ \"_id\" : 1, \"char\" : \"Brisbane\", \"class\" : \"monk\", \"lvl\" : 4 },\n{ \"_id\" : 2, \"char\" : \"Eldon\", \"class\" : \"alchemist\", \"lvl\" : 3 },\n{ \"_id\" : 3, \"char\" : \"Meldane\", \"class\" : \"ranger\", \"lvl\" : 3 }\n</code></pre>\n\n<p>The following <strong><a href=\"https://docs.mongodb.org/manual/core/bulk-write-operations/#bulkwrite-methods\" rel=\"noreferrer\"><code>bulkWrite()</code></a></strong> performs multiple operations on the <code>characters</code> collection:</p>\n\n<hr>\n\n<p><strong>Mongo shell:</strong></p>\n\n<pre><code>try {\n    db.characters.bulkWrite([\n        { \n            insertOne:{\n                \"document\":{\n                    \"_id\" : 4, \"char\" : \"Dithras\", \"class\" : \"barbarian\", \"lvl\" : 4\n                }\n            }\n        },\n        { \n            insertOne:{\n                \"document\": {\n                    \"_id\" : 5, \"char\" : \"Taeln\", \"class\" : \"fighter\", \"lvl\" : 3\n                }\n            }\n        },\n        { \n            updateOne: {\n                \"filter\" : { \"char\" : \"Eldon\" },\n                \"update\" : { $set : { \"status\" : \"Critical Injury\" } }\n            }\n        },\n        { \n            deleteOne: { \"filter\" : { \"char\" : \"Brisbane\"} }\n        },\n        { \n            replaceOne: {\n               \"filter\" : { \"char\" : \"Meldane\" },\n               \"replacement\" : { \"char\" : \"Tanys\", \"class\" : \"oracle\", \"lvl\" : 4 }\n            }\n        }\n    ]);\n}\ncatch (e) {  print(e); }\n</code></pre>\n\n<p>which prints the output:</p>\n\n<pre><code>{\n   \"acknowledged\" : true,\n   \"deletedCount\" : 1,\n   \"insertedCount\" : 2,\n   \"matchedCount\" : 2,\n   \"upsertedCount\" : 0,\n   \"insertedIds\" : {\n      \"0\" : 4,\n      \"1\" : 5\n   },\n   \"upsertedIds\" : {\n\n   }\n}\n</code></pre>\n\n<hr>\n\n<p>The equivalent Java 3.2 implementation follows:</p>\n\n<pre><code>MongoCollection&lt;Document&gt; collection = db.getCollection(\"characters\");\nList&lt;WriteModel&lt;Document&gt;&gt; writes = new ArrayList&lt;WriteModel&lt;Document&gt;&gt;();\nwrites.add(\n    new InsertOneModel&lt;Document&gt;(\n        new Document(\"_id\", 4)\n            .append(\"char\", \"Dithras\")\n            .append(\"class\", \"barbarian\")\n            .append(\"lvl\", 3)\n    )\n);\nwrites.add(\n    new InsertOneModel&lt;Document&gt;(\n        new Document(\"_id\", 5)\n            .append(\"char\", \"Taeln\")\n            .append(\"class\", \"fighter\")\n            .append(\"lvl\", 4)\n    )\n);\nwrites.add(\n    new UpdateOneModel&lt;Document&gt;(\n        new Document(\"char\", \"Eldon\"), // filter\n        new Document(\"$set\", new Document(\"status\", \"Critical Injury\")) // update\n    )\n);\nwrites.add(new DeleteOneModel&lt;Document&gt;(new Document(\"char\", \"Brisbane\")));\nwrites.add(\n    new ReplaceOneModel&lt;Document&gt;(\n        new Document(\"char\", \"Meldane\"), \n        new Document(\"char\", \"Tanys\")\n            .append(\"class\", \"oracle\")\n            .append(\"lvl\", 4)           \n    )\n);\n\nBulkWriteResult bulkWriteResult = collection.bulkWrite(writes);\n</code></pre>\n\n<hr>\n\n<p>For your question use the <strong><a href=\"https://docs.mongodb.org/manual/reference/method/db.collection.bulkWrite/#replaceone\" rel=\"noreferrer\"><code>replaceOne()</code></a></strong> method and this would be implemented as</p>\n\n<pre><code>MongoCollection&lt;Document&gt; collection = db.getCollection(\"collection\");\nList&lt;WriteModel&lt;Document&gt;&gt; writes = Arrays.&lt;WriteModel&lt;Document&gt;&gt;asList(\n    new ReplaceOneModel&lt;Document&gt;(\n        new Document(\"_id\", 1001), // filter\n        new Document(\"author\", \"newName\"), // update\n        new UpdateOptions().upsert(true) // options\n    )   \n);\n\nBulkWriteResult bulkWriteResult = collection.bulkWrite(writes);\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59068,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":35847568,"answer_count":1,"score":31,"last_activity_date":1669135730,"creation_date":1457361557,"question_id":35846474,"body_markdown":"I&#39;m using MongoDB 3.2 and MongoDB Java Driver 3.2. I have an array of a couple of hundreds of updated documents which should be now saved/stored in MongoDB. In order to do that, I iterate over the array and call for each document in this array the `updateOne()` method.\r\n\r\nNow, I want to re-implement this logic with a bulk update. I tried to find an example of bulk update in MongoDB 3.2 with MongoDB Java Driver 3.2.\r\n\r\nI tried this code:\r\n\r\n```java\r\nMongoClient mongo = new MongoClient(&quot;localhost&quot;, 27017);\r\n\r\nDB db = (DB) mongo.getDB(&quot;test1&quot;);\r\nDBCollection collection = db.getCollection(&quot;collection&quot;);\r\nBulkWriteOperation builder = collection.initializeUnorderedBulkOperation();\r\n\r\nbuilder.find(new BasicDBObject(&quot;_id&quot;, 1001)).upsert()\r\n\t.replaceOne(new BasicDBObject(&quot;_id&quot;, 1001).append(&quot;author&quot;, &quot;newName&quot;));\r\n\r\nbuilder.execute();\r\n```\r\n\r\nBut it seems that this approach is based on an outdated MongoDB Java Driver, such as 2.4 and uses deprecated methods.\r\n\r\nHow to perform a bulk update of documents in MongoDB 3.2 with MongoDB Java Driver 3.2?","title":"How to perform a bulk update of documents in MongoDB with Java?","body":"<p>I'm using MongoDB 3.2 and MongoDB Java Driver 3.2. I have an array of a couple of hundreds of updated documents which should be now saved/stored in MongoDB. In order to do that, I iterate over the array and call for each document in this array the <code>updateOne()</code> method.</p>\n<p>Now, I want to re-implement this logic with a bulk update. I tried to find an example of bulk update in MongoDB 3.2 with MongoDB Java Driver 3.2.</p>\n<p>I tried this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MongoClient mongo = new MongoClient(&quot;localhost&quot;, 27017);\n\nDB db = (DB) mongo.getDB(&quot;test1&quot;);\nDBCollection collection = db.getCollection(&quot;collection&quot;);\nBulkWriteOperation builder = collection.initializeUnorderedBulkOperation();\n\nbuilder.find(new BasicDBObject(&quot;_id&quot;, 1001)).upsert()\n    .replaceOne(new BasicDBObject(&quot;_id&quot;, 1001).append(&quot;author&quot;, &quot;newName&quot;));\n\nbuilder.execute();\n</code></pre>\n<p>But it seems that this approach is based on an outdated MongoDB Java Driver, such as 2.4 and uses deprecated methods.</p>\n<p>How to perform a bulk update of documents in MongoDB 3.2 with MongoDB Java Driver 3.2?</p>\n"},{"tags":["java","apache","http-headers","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":3224451,"reputation":1606,"user_id":2721119,"display_name":"GerritCap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457981004,"creation_date":1457981004,"answer_id":35995538,"question_id":35995431,"body_markdown":"Probably not, unless you can get a hold of the underlying mechanism that opens the URL.\r\n\r\nI recommend to use the https://hc.apache.org/ library. This has a lot of features regarding headers etc.","title":"How to specify User Agent and Referer in FileUtils.copyURLToFile(URL, File) method?","body":"<p>Probably not, unless you can get a hold of the underlying mechanism that opens the URL.</p>\n\n<p>I recommend to use the <a href=\"https://hc.apache.org/\" rel=\"nofollow\">https://hc.apache.org/</a> library. This has a lot of features regarding headers etc.</p>\n"},{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1614436686,"creation_date":1458405175,"answer_id":36104239,"question_id":35995431,"body_markdown":"I&#39;ve re-implement the functionality with `HttpComponents` instead of `Commons-IO`. This code allows you to download a file in Java according to its URL and save it at the specific destination.\r\n\r\n*The final code:*\r\n\r\n    public static boolean saveFile(URL imgURL, String imgSavePath) {\r\n    \r\n    \tboolean isSucceed = true;\r\n    \r\n    \tCloseableHttpClient httpClient = HttpClients.createDefault();\r\n    \r\n    \tHttpGet httpGet = new HttpGet(imgURL.toString());\r\n    \thttpGet.addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.11 Safari/537.36&quot;);\r\n    \thttpGet.addHeader(&quot;Referer&quot;, &quot;https://www.google.com&quot;);\r\n    \r\n    \ttry {\r\n    \t\tCloseableHttpResponse httpResponse = httpClient.execute(httpGet);\r\n    \t\tHttpEntity imageEntity = httpResponse.getEntity();\r\n    \r\n    \t\tif (imageEntity != null) {\r\n    \t\t\tFileUtils.copyInputStreamToFile(imageEntity.getContent(), new File(imgSavePath));\r\n    \t\t}\r\n    \r\n    \t} catch (IOException e) {\r\n    \t\tisSucceed = false;\r\n    \t}\r\n    \r\n    \thttpGet.releaseConnection();\r\n\r\n    \treturn isSucceed;\r\n    }\r\n\r\nOf course, the code above takes more space then just single line of code:\r\n\r\n    FileUtils.copyURLToFile(imgURL, new File(imgSavePath),\r\n                            URLS_FETCH_TIMEOUT, URLS_FETCH_TIMEOUT);\r\n\r\nbut it will give you more control over a process and let you specify not only timeouts but `User-Agent` and `Referer` values, which are critical for many web-sites.","title":"How to specify User Agent and Referer in FileUtils.copyURLToFile(URL, File) method?","body":"<p>I've re-implement the functionality with <code>HttpComponents</code> instead of <code>Commons-IO</code>. This code allows you to download a file in Java according to its URL and save it at the specific destination.</p>\n<p><em>The final code:</em></p>\n<pre><code>public static boolean saveFile(URL imgURL, String imgSavePath) {\n\n    boolean isSucceed = true;\n\n    CloseableHttpClient httpClient = HttpClients.createDefault();\n\n    HttpGet httpGet = new HttpGet(imgURL.toString());\n    httpGet.addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.11 Safari/537.36&quot;);\n    httpGet.addHeader(&quot;Referer&quot;, &quot;https://www.google.com&quot;);\n\n    try {\n        CloseableHttpResponse httpResponse = httpClient.execute(httpGet);\n        HttpEntity imageEntity = httpResponse.getEntity();\n\n        if (imageEntity != null) {\n            FileUtils.copyInputStreamToFile(imageEntity.getContent(), new File(imgSavePath));\n        }\n\n    } catch (IOException e) {\n        isSucceed = false;\n    }\n\n    httpGet.releaseConnection();\n\n    return isSucceed;\n}\n</code></pre>\n<p>Of course, the code above takes more space then just single line of code:</p>\n<pre><code>FileUtils.copyURLToFile(imgURL, new File(imgSavePath),\n                        URLS_FETCH_TIMEOUT, URLS_FETCH_TIMEOUT);\n</code></pre>\n<p>but it will give you more control over a process and let you specify not only timeouts but <code>User-Agent</code> and <code>Referer</code> values, which are critical for many web-sites.</p>\n"},{"tags":[],"owner":{"account_id":6522954,"reputation":1831,"user_id":5046586,"display_name":"Aldo Canepa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614847675,"creation_date":1614807293,"answer_id":66465252,"question_id":35995431,"body_markdown":"Completing the accepted answer on how to handle timeouts:\r\n\r\nIf you want to set timeouts, you have to create the `CloseableHttpClient` like this:\r\n\r\n```java\r\nRequestConfig config = RequestConfig.custom()\r\n                 .setConnectTimeout(connectionTimeout)\r\n                 .setConnectionRequestTimeout(readDataTimeout)\r\n                 .setSocketTimeout(readDataTimeout)\r\n                 .build();\r\n\r\nCloseableHttpClient httpClient = HttpClientBuilder\r\n                 .create()\r\n                 .setDefaultRequestConfig(config)\r\n                 .build();\r\n```\r\n\r\nAnd, it may be a good idea to create your `CloseableHttpClient` using a try-with-resource statement to handle its closing:\r\n\r\n```java\r\ntry (CloseableHttpClient httpClient = HttpClientBuilder.create().setDefaultRequestConfig(config).build()) {\r\n  ... rest of the code using httpClient\r\n}\r\n```","title":"How to specify User Agent and Referer in FileUtils.copyURLToFile(URL, File) method?","body":"<p>Completing the accepted answer on how to handle timeouts:</p>\n<p>If you want to set timeouts, you have to create the <code>CloseableHttpClient</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>RequestConfig config = RequestConfig.custom()\n                 .setConnectTimeout(connectionTimeout)\n                 .setConnectionRequestTimeout(readDataTimeout)\n                 .setSocketTimeout(readDataTimeout)\n                 .build();\n\nCloseableHttpClient httpClient = HttpClientBuilder\n                 .create()\n                 .setDefaultRequestConfig(config)\n                 .build();\n</code></pre>\n<p>And, it may be a good idea to create your <code>CloseableHttpClient</code> using a try-with-resource statement to handle its closing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (CloseableHttpClient httpClient = HttpClientBuilder.create().setDefaultRequestConfig(config).build()) {\n  ... rest of the code using httpClient\n}\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3344,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":36104239,"answer_count":3,"score":5,"last_activity_date":1669135651,"creation_date":1457980680,"question_id":35995431,"body_markdown":"I&#39;m using **[`FileUtils.copyURLToFile(URL, File)`][1]**, an [Apache Commons IO 2.4][2] part, to download and save the file on my computer. The problem is that some sites refuse connection without referrer and user agent data.\r\n\r\nMy questions:\r\n\r\n 1. Is there any way to specify user agent and referrer to the `copyURLToFile` method?\r\n\r\n 2. Or should I use another approach to download a file and then save a given `InputStream` to file?\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File)\r\n  [2]: https://commons.apache.org/proper/commons-io/","title":"How to specify User Agent and Referer in FileUtils.copyURLToFile(URL, File) method?","body":"<p>I'm using <strong><a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#copyURLToFile(java.net.URL,%20java.io.File)\" rel=\"nofollow noreferrer\"><code>FileUtils.copyURLToFile(URL, File)</code></a></strong>, an <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">Apache Commons IO 2.4</a> part, to download and save the file on my computer. The problem is that some sites refuse connection without referrer and user agent data.</p>\n<p>My questions:</p>\n<ol>\n<li><p>Is there any way to specify user agent and referrer to the <code>copyURLToFile</code> method?</p>\n</li>\n<li><p>Or should I use another approach to download a file and then save a given <code>InputStream</code> to file?</p>\n</li>\n</ol>\n"},{"tags":["java","mongodb","query-optimization","mongodb-query","crud"],"answers":[{"tags":[],"owner":{"account_id":6500113,"reputation":49680,"user_id":5031275,"display_name":"Blakes Seven"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1458429562,"creation_date":1458429562,"answer_id":36108441,"question_id":36108147,"body_markdown":"There is a [`.projection()`][1] method that is chainable to the query result which allows you to specify fields.\r\n\r\nEither expressed as a document, with the familiar and well documented BSON syntax:\r\n\r\n        ArrayList&lt;Document&gt; unfecthedEvents = collection.find(\r\n            new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam))\r\n        ).projection(\r\n            new Document(&quot;Name&quot;,1)\r\n        ).into(new ArrayList&lt;Document&gt;());\r\n\r\nOr as a [`fields`][2] property builder which really just translates to exactly the same BSON:\r\n\r\n        ArrayList&lt;Document&gt; unfecthedEvents = collection.find(\r\n            new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam))\r\n        ).projection(\r\n                fields(include(&quot;Name&quot;))\r\n        ).into(new ArrayList&lt;Document&gt;());\r\n\r\n\r\n\r\n  [1]: http://api.mongodb.org/java/3.0/?com/mongodb/client/model/Projections.html\r\n  [2]: http://api.mongodb.org/java/3.0/com/mongodb/client/model/Projections.html#fields-org.bson.conversions.Bson...-","title":"How to query only the specific fields in MongoDB with Java?","body":"<p>There is a <a href=\"http://api.mongodb.org/java/3.0/?com/mongodb/client/model/Projections.html\" rel=\"noreferrer\"><code>.projection()</code></a> method that is chainable to the query result which allows you to specify fields.</p>\n\n<p>Either expressed as a document, with the familiar and well documented BSON syntax:</p>\n\n<pre><code>    ArrayList&lt;Document&gt; unfecthedEvents = collection.find(\n        new Document(\"fetchStatus\", new Document(\"$lte\", fetchStatusParam))\n    ).projection(\n        new Document(\"Name\",1)\n    ).into(new ArrayList&lt;Document&gt;());\n</code></pre>\n\n<p>Or as a <a href=\"http://api.mongodb.org/java/3.0/com/mongodb/client/model/Projections.html#fields-org.bson.conversions.Bson...-\" rel=\"noreferrer\"><code>fields</code></a> property builder which really just translates to exactly the same BSON:</p>\n\n<pre><code>    ArrayList&lt;Document&gt; unfecthedEvents = collection.find(\n        new Document(\"fetchStatus\", new Document(\"$lte\", fetchStatusParam))\n    ).projection(\n            fields(include(\"Name\"))\n    ).into(new ArrayList&lt;Document&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11530127,"reputation":1,"user_id":8449285,"display_name":"Gayatri Purohit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623235283,"creation_date":1623232260,"answer_id":67901723,"question_id":36108147,"body_markdown":"It worked for me as well:\r\n\r\n```java\r\nBasicDBObject whereQuery = new BasicDBObject();\r\nBasicDBObject fields = new BasicDBObject();\t\t\r\n\r\n// the conditions in where query\r\nwhereQuery.put(&quot;dzeeClient&quot;, dzeeClient);\r\nwhereQuery.put(&quot;recommendationRunType&quot;, planView);\r\nwhereQuery.put(&quot;recommendedPlans.enrolled&quot;,employeeViewed);\r\n\r\n// the fields to be returned from the query-only loginId, and remove _id\r\nfields.put(&quot;loginId&quot;, 1); \r\nfields.put(&quot;_id&quot;, 0);\r\n\r\nFindIterable&lt;Document&gt; cursor = collection.find(whereQuery)\r\n\t\t\t\t\t.projection(fields).sort(new BasicDBObject(&quot;timeStamp&quot;,-1)).limit(1);\r\n```","title":"How to query only the specific fields in MongoDB with Java?","body":"<p>It worked for me as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BasicDBObject whereQuery = new BasicDBObject();\nBasicDBObject fields = new BasicDBObject();     \n\n// the conditions in where query\nwhereQuery.put(&quot;dzeeClient&quot;, dzeeClient);\nwhereQuery.put(&quot;recommendationRunType&quot;, planView);\nwhereQuery.put(&quot;recommendedPlans.enrolled&quot;,employeeViewed);\n\n// the fields to be returned from the query-only loginId, and remove _id\nfields.put(&quot;loginId&quot;, 1); \nfields.put(&quot;_id&quot;, 0);\n\nFindIterable&lt;Document&gt; cursor = collection.find(whereQuery)\n                    .projection(fields).sort(new BasicDBObject(&quot;timeStamp&quot;,-1)).limit(1);\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13171,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":36108441,"answer_count":2,"score":2,"last_activity_date":1669135639,"creation_date":1458427659,"question_id":36108147,"body_markdown":"I&#39;m using MongoDB 3.2 and MongoDB Java Driver 3.2. In order to query document I use the following code:\r\n\r\n```java\r\nDocument query = new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam));\r\nArrayList&lt;Document&gt; unfetchedEvents = dbC_Events.find(query).into(new ArrayList&lt;Document&gt;());\r\n```\r\n\r\nThis query works but the problem is that in this case all fields of the document are retrieved (analog of `select *` in SQL). In order to optimize query performance, I want to specify fields I really need and fetch only them.\r\n\r\nI found couple of examples, such as:\r\n\r\n```java\r\nBasicDBObject query = new BasicDBObject();\r\nBasicDBObject fields = new BasicDBObject(&quot;Name&quot;, 1);\r\ncoll.find(query, fields);\r\n```\r\n\r\nbut all of them are designed for outdated version of MongoDB Java Driver, e.g. 2.4, while I&#39;m using 3.2.\r\n\r\nHow can I query only specific fields of document in MongoDB Java Driver 3.2?","title":"How to query only the specific fields in MongoDB with Java?","body":"<p>I'm using MongoDB 3.2 and MongoDB Java Driver 3.2. In order to query document I use the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document query = new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam));\nArrayList&lt;Document&gt; unfetchedEvents = dbC_Events.find(query).into(new ArrayList&lt;Document&gt;());\n</code></pre>\n<p>This query works but the problem is that in this case all fields of the document are retrieved (analog of <code>select *</code> in SQL). In order to optimize query performance, I want to specify fields I really need and fetch only them.</p>\n<p>I found couple of examples, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BasicDBObject query = new BasicDBObject();\nBasicDBObject fields = new BasicDBObject(&quot;Name&quot;, 1);\ncoll.find(query, fields);\n</code></pre>\n<p>but all of them are designed for outdated version of MongoDB Java Driver, e.g. 2.4, while I'm using 3.2.</p>\n<p>How can I query only specific fields of document in MongoDB Java Driver 3.2?</p>\n"},{"tags":["java","apache","lucene","information-retrieval","stop-words"],"answers":[{"tags":[],"owner":{"account_id":1787149,"reputation":32983,"user_id":1628375,"display_name":"femtoRgon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459053227,"creation_date":1459053227,"answer_id":36243865,"question_id":36241051,"body_markdown":"Just tested both approach 1 and approach 2, and they both seem to filter out stop words just fine.  Here is how I tested it:\r\n\r\n\tpublic static void main(String[] args) throws IOException, ParseException, org.apache.lucene.queryparser.surround.parser.ParseException \r\n\t{\r\n\t\t StandardTokenizer stdToken = new StandardTokenizer();\r\n\t\t stdToken.setReader(new StringReader(&quot;Some stuff that is in need of analysis&quot;));\r\n\t\t TokenStream tokenStream;\r\n\t\t \r\n\t\t //You&#39;re code starts here\r\n\t\t tokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), EnglishAnalyzer.getDefaultStopSet());\r\n\t\t tokenStream.reset();\r\n\t\t //And ends here\r\n\r\n         CharTermAttribute token = tokenStream.getAttribute(CharTermAttribute.class);\r\n         while (tokenStream.incrementToken()) {\r\n        \t System.out.println(token.toString());\r\n         }\r\n         tokenStream.close();\r\n\t}\r\n\r\nResults:\r\n\r\n&gt; some  \r\n&gt; stuff  \r\n&gt; need  \r\n&gt; analysis\r\n\r\nWhich has eliminated the four stop words in my sample.","title":"Apache Lucene doesn&#39;t filter stop words despite the usage of StopAnalyzer and StopFilter","body":"<p>Just tested both approach 1 and approach 2, and they both seem to filter out stop words just fine.  Here is how I tested it:</p>\n\n<pre><code>public static void main(String[] args) throws IOException, ParseException, org.apache.lucene.queryparser.surround.parser.ParseException \n{\n     StandardTokenizer stdToken = new StandardTokenizer();\n     stdToken.setReader(new StringReader(\"Some stuff that is in need of analysis\"));\n     TokenStream tokenStream;\n\n     //You're code starts here\n     tokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), EnglishAnalyzer.getDefaultStopSet());\n     tokenStream.reset();\n     //And ends here\n\n     CharTermAttribute token = tokenStream.getAttribute(CharTermAttribute.class);\n     while (tokenStream.incrementToken()) {\n         System.out.println(token.toString());\n     }\n     tokenStream.close();\n}\n</code></pre>\n\n<p>Results:</p>\n\n<blockquote>\n  <p>some<br>\n  stuff<br>\n  need<br>\n  analysis</p>\n</blockquote>\n\n<p>Which has eliminated the four stop words in my sample.</p>\n"},{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1600705440,"creation_date":1459072947,"answer_id":36246089,"question_id":36241051,"body_markdown":"The pitfall was in the default Lucene&#39;s stop words list, I expected, it is much more broader.\r\n\r\nHere is the code which by default tries to load the customized stop words list and if it&#39;s failed then uses the standard one:\r\n\r\n```java\r\nCharArraySet stopWordsSet;\r\n\r\ntry {\r\n\t// use customized stop words list\r\n\tString stopWordsDictionary = FileUtils.readFileToString(new File(%PATH_TO_FILE%));\r\n\tstopWordsSet = WordlistLoader.getWordSet(new StringReader(stopWordsDictionary));\r\n} catch (FileNotFoundException e) {\r\n\t// use standard stop words list\r\n\tstopWordsSet = CharArraySet.copy(StandardAnalyzer.STOP_WORDS_SET);\r\n}\r\n\r\ntokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), stopWordsSet);\r\ntokenStream.reset();\r\n```","title":"Apache Lucene doesn&#39;t filter stop words despite the usage of StopAnalyzer and StopFilter","body":"<p>The pitfall was in the default Lucene's stop words list, I expected, it is much more broader.</p>\n<p>Here is the code which by default tries to load the customized stop words list and if it's failed then uses the standard one:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CharArraySet stopWordsSet;\n\ntry {\n    // use customized stop words list\n    String stopWordsDictionary = FileUtils.readFileToString(new File(%PATH_TO_FILE%));\n    stopWordsSet = WordlistLoader.getWordSet(new StringReader(stopWordsDictionary));\n} catch (FileNotFoundException e) {\n    // use standard stop words list\n    stopWordsSet = CharArraySet.copy(StandardAnalyzer.STOP_WORDS_SET);\n}\n\ntokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), stopWordsSet);\ntokenStream.reset();\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2083,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36246089,"answer_count":2,"score":2,"last_activity_date":1669135628,"creation_date":1459027334,"question_id":36241051,"body_markdown":"I have a module based on Apache Lucene 5.5 / 6.0 which retrieves keywords. Everything is working fine except one thing — Lucene doesn&#39;t filter stop words.\r\n\r\nI tried to enable stop word filtering with two different approaches.\r\n\r\n**Approach #1:**\r\n\r\n```java\r\ntokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), EnglishAnalyzer.getDefaultStopSet());\r\ntokenStream.reset();\r\n```\r\n\r\n**Approach #2:**\r\n\r\n```java\r\ntokenStream = new StopFilter(new ClassicFilter(new LowerCaseFilter(stdToken)), StopAnalyzer.ENGLISH_STOP_WORDS_SET);\r\ntokenStream.reset();\r\n```\r\n\r\nThe full code is available here:  \r\nhttps://stackoverflow.com/a/36237769/462347\r\n\r\nMy questions:\r\n\r\n 1. Why Lucene doesn&#39;t filter stop words?\r\n\r\n 2. How can I enable the stop words filtering in Lucene 5.5 / 6.0?","title":"Apache Lucene doesn&#39;t filter stop words despite the usage of StopAnalyzer and StopFilter","body":"<p>I have a module based on Apache Lucene 5.5 / 6.0 which retrieves keywords. Everything is working fine except one thing — Lucene doesn't filter stop words.</p>\n<p>I tried to enable stop word filtering with two different approaches.</p>\n<p><strong>Approach #1:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>tokenStream = new StopFilter(new ASCIIFoldingFilter(new ClassicFilter(new LowerCaseFilter(stdToken))), EnglishAnalyzer.getDefaultStopSet());\ntokenStream.reset();\n</code></pre>\n<p><strong>Approach #2:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>tokenStream = new StopFilter(new ClassicFilter(new LowerCaseFilter(stdToken)), StopAnalyzer.ENGLISH_STOP_WORDS_SET);\ntokenStream.reset();\n</code></pre>\n<p>The full code is available here:<br />\n<a href=\"https://stackoverflow.com/a/36237769/462347\">https://stackoverflow.com/a/36237769/462347</a></p>\n<p>My questions:</p>\n<ol>\n<li><p>Why Lucene doesn't filter stop words?</p>\n</li>\n<li><p>How can I enable the stop words filtering in Lucene 5.5 / 6.0?</p>\n</li>\n</ol>\n"},{"tags":["java","java-8","guava","hashcode"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1459105880,"post_id":36251450,"comment_id":60132583,"body_markdown":"Why do you think the Guava implementation would be better than the new built-in? Also, define &quot;better&quot;.","body":"Why do you think the Guava implementation would be better than the new built-in? Also, define &quot;better&quot;."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":2,"creation_date":1459105907,"post_id":36251450,"comment_id":60132593,"body_markdown":"This class is there since Java 7","body":"This class is there since Java 7"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1459105990,"post_id":36251450,"comment_id":60132627,"body_markdown":"Perhaps, Guava&#39;s hash is based on better/other hash-function?","body":"Perhaps, Guava&#39;s hash is based on better/other hash-function?"},{"owner":{"account_id":6589256,"reputation":12808,"user_id":5091073,"display_name":"Nir Levy"},"score":2,"creation_date":1459106330,"post_id":36251450,"comment_id":60132752,"body_markdown":"like many other things, java inserts into the base classes features from guava or other libraries. This happened with Optional class that was first in guava and added to java8, many collection utils and more, and also hashcode. You can simply look at the source codes to see if there&#39;s a different implementation. In my mind- if you&#39;re using already the guava method - I wouldn&#39;t go into the trouble of migrating. if you don&#39;t and want to use this method- I prefer to use internal java when possible","body":"like many other things, java inserts into the base classes features from guava or other libraries. This happened with Optional class that was first in guava and added to java8, many collection utils and more, and also hashcode. You can simply look at the source codes to see if there&#39;s a different implementation. In my mind- if you&#39;re using already the guava method - I wouldn&#39;t go into the trouble of migrating. if you don&#39;t and want to use this method- I prefer to use internal java when possible"}],"answers":[{"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1459106665,"creation_date":1459106345,"answer_id":36251559,"question_id":36251450,"body_markdown":"Guava&#39;s method predates&#39; Java 7. \r\n\r\nThe Java method of the same name only accepts a single argument. But a sibling `java.util.Objects.hash()` accepts a variable number of arguments, like Guava&#39;s `Objects.hashCode()`.\r\n\r\nIf you&#39;re using Java 7 or later, you can use `java.util.Objects.hash(...)`. The [Guava documentation][1] notes this:\r\n\r\n&gt;Note for Java 7 and later: This method should be treated as deprecated; use Objects.hash(java.lang.Object...) instead.\r\n\r\n\r\nIf you&#39;re using Java 6 or earlier, you can use Guava&#39;s method.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Objects.html#hashCode(java.lang.Object...)","title":"Guava.Objects.hashCode vs Java.Objects.hashCode","body":"<p>Guava's method predates' Java 7. </p>\n\n<p>The Java method of the same name only accepts a single argument. But a sibling <code>java.util.Objects.hash()</code> accepts a variable number of arguments, like Guava's <code>Objects.hashCode()</code>.</p>\n\n<p>If you're using Java 7 or later, you can use <code>java.util.Objects.hash(...)</code>. The <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Objects.html#hashCode(java.lang.Object...)\">Guava documentation</a> notes this:</p>\n\n<blockquote>\n  <p>Note for Java 7 and later: This method should be treated as deprecated; use Objects.hash(java.lang.Object...) instead.</p>\n</blockquote>\n\n<p>If you're using Java 6 or earlier, you can use Guava's method.</p>\n"},{"tags":[],"owner":{"account_id":3313963,"reputation":11003,"user_id":2786733,"accept_rate":95,"display_name":"Andrejs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572250698,"creation_date":1572248526,"answer_id":58587197,"question_id":36251450,"body_markdown":"To add to the accepted answer:\r\n\r\nWhile `Objects.hash()` should be preferred to Guava in Java 7+ code, note the below (paraphrased) from Effective Java 3rd Edition by Joshua Bloch (Item 11):\r\n\r\n&gt; Unfortunately, `Objects.hash()` runs more slowly because it entails \r\n&gt; \r\n&gt; 1. array creation (*)\r\n&gt; 2. boxing and unboxing of any primitive arguments\r\n&gt; \r\n&gt; It is recommended for use only in situations where performance is not\r\n&gt; critical.\r\n\r\n(*) Indeed, `Objects.hash()` simply invokes another static method under the hood:\r\n\r\n    public static int hash(Object... values) {\r\n            return Arrays.hashCode(values);\r\n        }\r\n\r\n**What you can do to counter this is to either** \r\n\r\n1. cache the computed hash code instead of recomputing it each time \r\nand/or \r\n2. lazily initialize it. \r\n\r\n(but also remember that premature optimization is the root of many evils).\r\n\r\n**Alternatively:**\r\n\r\n\r\n1. Simply use your IDE to generate it for you (saves time, but boilerplate code still there). In IntelliJ: `Code &gt; Generate &gt; equals() and hashCode()`\r\n\r\n2. consider adding [Project Lombok][1] as a dependency\r\n\r\n\r\n  [1]: https://projectlombok.org/\r\n","title":"Guava.Objects.hashCode vs Java.Objects.hashCode","body":"<p>To add to the accepted answer:</p>\n\n<p>While <code>Objects.hash()</code> should be preferred to Guava in Java 7+ code, note the below (paraphrased) from Effective Java 3rd Edition by Joshua Bloch (Item 11):</p>\n\n<blockquote>\n  <p>Unfortunately, <code>Objects.hash()</code> runs more slowly because it entails </p>\n  \n  <ol>\n  <li>array creation (*)</li>\n  <li>boxing and unboxing of any primitive arguments</li>\n  </ol>\n  \n  <p>It is recommended for use only in situations where performance is not\n  critical.</p>\n</blockquote>\n\n<p>(*) Indeed, <code>Objects.hash()</code> simply invokes another static method under the hood:</p>\n\n<pre><code>public static int hash(Object... values) {\n        return Arrays.hashCode(values);\n    }\n</code></pre>\n\n<p><strong>What you can do to counter this is to either</strong> </p>\n\n<ol>\n<li>cache the computed hash code instead of recomputing it each time \nand/or </li>\n<li>lazily initialize it. </li>\n</ol>\n\n<p>(but also remember that premature optimization is the root of many evils).</p>\n\n<p><strong>Alternatively:</strong></p>\n\n<ol>\n<li><p>Simply use your IDE to generate it for you (saves time, but boilerplate code still there). In IntelliJ: <code>Code &gt; Generate &gt; equals() and hashCode()</code></p></li>\n<li><p>consider adding <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Project Lombok</a> as a dependency</p></li>\n</ol>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3176,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":36251559,"answer_count":2,"score":9,"last_activity_date":1669135615,"creation_date":1459105779,"question_id":36251450,"body_markdown":"In Java 8 there is a class `java.util.Objects`, which contains `hashCode()` method. At the same time Google Guava 19 contains `com.google.common.base.Objects`, which also has `hashCode()` method.\r\n\r\nMy questions:\r\n\r\n 1. Is there any reason why should I prefer Guava&#39;s 19 `hashCode()` over Java&#39;s 8?\r\n\r\n 2. Can I completely rely on Java 8 `hashCode()` or it&#39;s better to stay with Guava?","title":"Guava.Objects.hashCode vs Java.Objects.hashCode","body":"<p>In Java 8 there is a class <code>java.util.Objects</code>, which contains <code>hashCode()</code> method. At the same time Google Guava 19 contains <code>com.google.common.base.Objects</code>, which also has <code>hashCode()</code> method.</p>\n<p>My questions:</p>\n<ol>\n<li><p>Is there any reason why should I prefer Guava's 19 <code>hashCode()</code> over Java's 8?</p>\n</li>\n<li><p>Can I completely rely on Java 8 <code>hashCode()</code> or it's better to stay with Guava?</p>\n</li>\n</ol>\n"},{"tags":["java","multithreading","concurrency","executorservice","java-threads"],"answers":[{"tags":[],"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1583840901,"creation_date":1459616821,"answer_id":36376286,"question_id":36376179,"body_markdown":"The answer is available in the [`ExecutorService.shutdown()`][1] Javadoc:\r\n\r\n&gt; This method does not wait for previously submitted tasks to complete execution. Use `awaitTermination` to do that.\r\n\r\n\r\nIf you want to wait for the threads to finish work you have the following options:\r\n\r\n- get `Future` instances returned by `submit()` and call `get()` on every `Future` instance\r\n- after calling `shutdown` on `service` call `awaitTermination` on `service` until it returns `true`\r\n- instead of calling `submit` on `service` add your `Runnable` instances to a `java.util.List` and pass this list to the `invokeAll` method called on `service`\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--","title":"ExecutorService&#39;s shutdown() doesn&#39;t wait until all threads will be finished","body":"<p>The answer is available in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--\" rel=\"nofollow noreferrer\"><code>ExecutorService.shutdown()</code></a> Javadoc:</p>\n\n<blockquote>\n  <p>This method does not wait for previously submitted tasks to complete execution. Use <code>awaitTermination</code> to do that.</p>\n</blockquote>\n\n<p>If you want to wait for the threads to finish work you have the following options:</p>\n\n<ul>\n<li>get <code>Future</code> instances returned by <code>submit()</code> and call <code>get()</code> on every <code>Future</code> instance</li>\n<li>after calling <code>shutdown</code> on <code>service</code> call <code>awaitTermination</code> on <code>service</code> until it returns <code>true</code></li>\n<li>instead of calling <code>submit</code> on <code>service</code> add your <code>Runnable</code> instances to a <code>java.util.List</code> and pass this list to the <code>invokeAll</code> method called on <code>service</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459627373,"creation_date":1459627373,"answer_id":36378118,"question_id":36376179,"body_markdown":"Thanks to @[Adam Siemion][1] suggestions, here is a final code:\r\n\r\n\tExecutorService service = Executors.newFixedThreadPool(cpuCoresNum);\r\n\r\n\tint itNum = 1;\r\n\r\n\tfor (int i = 0; i &lt; cpuCoresNum; i++) {\r\n\r\n\t\tint treadID = itNum++;\r\n\r\n\t\tservice.submit(() -&gt; {\r\n\t\t\tThread.currentThread().setName(&quot;Thread_#&quot; + treadID);\r\n\t\t\ttry {\r\n\t\t\t\tfoo();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t// wait until all threads will be finished\r\n\tservice.shutdown();\r\n\ttry {\r\n\t\tservice.awaitTermination(Long.MAX_VALUE, TimeUnit.MILLISECONDS);\r\n\t} catch (InterruptedException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2345933/adam-siemion","title":"ExecutorService&#39;s shutdown() doesn&#39;t wait until all threads will be finished","body":"<p>Thanks to @<a href=\"https://stackoverflow.com/users/2345933/adam-siemion\">Adam Siemion</a> suggestions, here is a final code:</p>\n\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(cpuCoresNum);\n\nint itNum = 1;\n\nfor (int i = 0; i &lt; cpuCoresNum; i++) {\n\n    int treadID = itNum++;\n\n    service.submit(() -&gt; {\n        Thread.currentThread().setName(\"Thread_#\" + treadID);\n        try {\n            foo();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    });\n}\n\n// wait until all threads will be finished\nservice.shutdown();\ntry {\n    service.awaitTermination(Long.MAX_VALUE, TimeUnit.MILLISECONDS);\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462778624,"creation_date":1459881105,"answer_id":36434278,"question_id":36376179,"body_markdown":"Recommended way from oracle documentation page of [ExecutorService][1]:\r\n\r\n     void shutdownAndAwaitTermination(ExecutorService pool) {\r\n       pool.shutdown(); // Disable new tasks from being submitted\r\n       try {\r\n         // Wait a while for existing tasks to terminate\r\n         if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\r\n           pool.shutdownNow(); // Cancel currently executing tasks\r\n           // Wait a while for tasks to respond to being cancelled\r\n           if (!pool.awaitTermination(60, TimeUnit.SECONDS))\r\n               System.err.println(&quot;Pool did not terminate&quot;);\r\n         }\r\n       } catch (InterruptedException ie) {\r\n         // (Re-)Cancel if current thread also interrupted\r\n         pool.shutdownNow();\r\n         // Preserve interrupt status\r\n         Thread.currentThread().interrupt();\r\n       }\r\n\r\n\r\n`shutdown():`  Initiates an orderly shutdown in which previously submitted tasks are executed, but no new tasks will be accepted.\r\n\r\n`shutdownNow():`Attempts to stop all actively executing tasks, halts the processing of waiting tasks, and returns a list of the tasks that were awaiting execution.\r\n\r\nIn above example, if your tasks are taking more time to complete, you can change if condition to while condition\r\n\r\nReplace\r\n\r\n    if (!pool.awaitTermination(60, TimeUnit.SECONDS))\r\n\r\nwith\r\n\r\n     while(!pool.awaitTermination(60, TimeUnit.SECONDS)) {\r\n         Thread.sleep(60000);\r\n     }  \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html","title":"ExecutorService&#39;s shutdown() doesn&#39;t wait until all threads will be finished","body":"<p>Recommended way from oracle documentation page of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow\">ExecutorService</a>:</p>\n\n<pre><code> void shutdownAndAwaitTermination(ExecutorService pool) {\n   pool.shutdown(); // Disable new tasks from being submitted\n   try {\n     // Wait a while for existing tasks to terminate\n     if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\n       pool.shutdownNow(); // Cancel currently executing tasks\n       // Wait a while for tasks to respond to being cancelled\n       if (!pool.awaitTermination(60, TimeUnit.SECONDS))\n           System.err.println(\"Pool did not terminate\");\n     }\n   } catch (InterruptedException ie) {\n     // (Re-)Cancel if current thread also interrupted\n     pool.shutdownNow();\n     // Preserve interrupt status\n     Thread.currentThread().interrupt();\n   }\n</code></pre>\n\n<p><code>shutdown():</code>  Initiates an orderly shutdown in which previously submitted tasks are executed, but no new tasks will be accepted.</p>\n\n<p><code>shutdownNow():</code>Attempts to stop all actively executing tasks, halts the processing of waiting tasks, and returns a list of the tasks that were awaiting execution.</p>\n\n<p>In above example, if your tasks are taking more time to complete, you can change if condition to while condition</p>\n\n<p>Replace</p>\n\n<pre><code>if (!pool.awaitTermination(60, TimeUnit.SECONDS))\n</code></pre>\n\n<p>with</p>\n\n<pre><code> while(!pool.awaitTermination(60, TimeUnit.SECONDS)) {\n     Thread.sleep(60000);\n }  \n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11588,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":36376286,"answer_count":3,"score":8,"last_activity_date":1669135605,"creation_date":1459616332,"question_id":36376179,"body_markdown":"I have a code where 4 threads run at the same time. I want to wait until all these 4 threads will be finished. And only after that to continue the app flow.\r\n\r\nI tried two approaches:\r\n\r\n 1. [**`Thread#join()`**][1], this approach works as expected. The code, which comes after `join()` is executed only after all threads are finished.\r\n 2. [**`ExecutorService#shutdown()`**][2], this technique allows executing code, which comes after `shutdown()` even if not all threads are finished.\r\n\r\nCode sample:\r\n\r\n```java\r\nExecutorService service = Executors.newFixedThreadPool(cpuCoresNum);\r\n\r\nfor (int i = 0; i &lt; cpuCoresNum; i++) {\r\n\r\n\tservice.submit(() -&gt; {\r\n\t\ttry {\r\n\t\t\tfoo(); // some long execution function\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t});\r\n}\r\n\r\nservice.shutdown();\r\n\r\nSystem.out.println(&quot;We&#39;re done! All threads are finished!&quot;);\r\n```\r\n\r\nWhy don&#39;t `submit()` and `shutdown()` wait until all threads will be finished and prints *&#171;We&#39;re done! All threads are finished!&#187;* right after call of `service.shutdown();`?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#join--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--","title":"ExecutorService&#39;s shutdown() doesn&#39;t wait until all threads will be finished","body":"<p>I have a code where 4 threads run at the same time. I want to wait until all these 4 threads will be finished. And only after that to continue the app flow.</p>\n<p>I tried two approaches:</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#join--\" rel=\"nofollow noreferrer\"><strong><code>Thread#join()</code></strong></a>, this approach works as expected. The code, which comes after <code>join()</code> is executed only after all threads are finished.</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#shutdown--\" rel=\"nofollow noreferrer\"><strong><code>ExecutorService#shutdown()</code></strong></a>, this technique allows executing code, which comes after <code>shutdown()</code> even if not all threads are finished.</li>\n</ol>\n<p>Code sample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService service = Executors.newFixedThreadPool(cpuCoresNum);\n\nfor (int i = 0; i &lt; cpuCoresNum; i++) {\n\n    service.submit(() -&gt; {\n        try {\n            foo(); // some long execution function\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    });\n}\n\nservice.shutdown();\n\nSystem.out.println(&quot;We're done! All threads are finished!&quot;);\n</code></pre>\n<p>Why don't <code>submit()</code> and <code>shutdown()</code> wait until all threads will be finished and prints <em>«We're done! All threads are finished!»</em> right after call of <code>service.shutdown();</code>?</p>\n"},{"tags":["java","multithreading","concurrency","threadpool","executorservice"],"comments":[{"owner":{"account_id":5501406,"reputation":4041,"user_id":4370629,"accept_rate":67,"display_name":"Spotted"},"score":0,"creation_date":1459760655,"post_id":36398144,"comment_id":60413469,"body_markdown":"Option 1 is more common and has least overhead.","body":"Option 1 is more common and has least overhead."},{"owner":{"account_id":1251686,"reputation":29348,"user_id":1531054,"accept_rate":95,"display_name":"s.d"},"score":0,"creation_date":1459775972,"post_id":36398144,"comment_id":60423914,"body_markdown":"On another note, You can re-write the code inside infinite loop as a `Runnable` that posts itself again on as executor service, when run. That way, multiple tasks can run even on a single thread.","body":"On another note, You can re-write the code inside infinite loop as a <code>Runnable</code> that posts itself again on as executor service, when run. That way, multiple tasks can run even on a single thread."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1459761894,"creation_date":1459761894,"answer_id":36398846,"question_id":36398144,"body_markdown":"Given each task is a infinite loop, what I would used is a \r\n\r\n    newCachedThreadPool();\r\n\r\nThis would create a thread for every task which needed it (and no more)\r\n\r\nThe benefit of using a single threaded pool each is you could shutdown the pool individually, or give each thread a name, but if you don&#39;t need this, it&#39;s just overhead.\r\n\r\nNote: you can change the name of a thread with setName(&quot;My task&quot;) which might be useful for debugging/profiling purposes.\r\n\r\nOne of the tricks of using an ExecutorService is that it captures any uncaught exception/errors and places it in the `Future` object returned.  Often this `Future` is discarded which means that if your task dies unexpectedly it might also do it silently.\r\n\r\nI suggest you do a try/catch(Throwable) outside the loop and log it so you can see if the thread ever dies unexpectedly. e.g OutOfMemoryError","title":"Multiple newSingleThreadExecutor vs. newFixedThreadPool of ExecutorService","body":"<p>Given each task is a infinite loop, what I would used is a </p>\n\n<pre><code>newCachedThreadPool();\n</code></pre>\n\n<p>This would create a thread for every task which needed it (and no more)</p>\n\n<p>The benefit of using a single threaded pool each is you could shutdown the pool individually, or give each thread a name, but if you don't need this, it's just overhead.</p>\n\n<p>Note: you can change the name of a thread with setName(\"My task\") which might be useful for debugging/profiling purposes.</p>\n\n<p>One of the tricks of using an ExecutorService is that it captures any uncaught exception/errors and places it in the <code>Future</code> object returned.  Often this <code>Future</code> is discarded which means that if your task dies unexpectedly it might also do it silently.</p>\n\n<p>I suggest you do a try/catch(Throwable) outside the loop and log it so you can see if the thread ever dies unexpectedly. e.g OutOfMemoryError</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459779315,"creation_date":1459776659,"answer_id":36404133,"question_id":36398144,"body_markdown":"I don&#39;t see any benefit for below option except shutting down individual executor.\r\n\r\n    numOfProc * newSingleThreadExecutor()\r\n\r\nBut you have more options. I prefer one of below three options from `Executors`. \r\n\r\n    newFixedThreadPool\r\n    newCachedThreadPool\r\n    newWorkStealingPool\r\n\r\n\r\n\r\nRefer to below SE questions for relevant queries :\r\n\r\nhttps://stackoverflow.com/questions/21156599/javas-fork-join-vs-executorservice-when-to-use-which/34922218#34922218\r\n\r\nhttps://stackoverflow.com/questions/33596079/how-to-properly-use-java-executor/33596230#33596230\r\n\r\n\r\nhttps://stackoverflow.com/questions/21300924/difference-between-executors-newfixedthreadpool1-and-executors-newsinglethread","title":"Multiple newSingleThreadExecutor vs. newFixedThreadPool of ExecutorService","body":"<p>I don't see any benefit for below option except shutting down individual executor.</p>\n\n<pre><code>numOfProc * newSingleThreadExecutor()\n</code></pre>\n\n<p>But you have more options. I prefer one of below three options from <code>Executors</code>. </p>\n\n<pre><code>newFixedThreadPool\nnewCachedThreadPool\nnewWorkStealingPool\n</code></pre>\n\n<p>Refer to below SE questions for relevant queries :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/21156599/javas-fork-join-vs-executorservice-when-to-use-which/34922218#34922218\">Java&#39;s Fork/Join vs ExecutorService - when to use which?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/33596079/how-to-properly-use-java-executor/33596230#33596230\">How to properly use Java Executor?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/21300924/difference-between-executors-newfixedthreadpool1-and-executors-newsinglethread\">Difference between Executors.newFixedThreadPool(1) and Executors.newSingleThreadExecutor()</a></p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3297,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":36398846,"answer_count":2,"score":6,"last_activity_date":1669135577,"creation_date":1459759757,"question_id":36398144,"body_markdown":"In my application I have 4 distinct processes, which run permanently with some small pauses.\r\n\r\nThe current version of code executes each process in a separate old-school thread:\r\n\r\n```java\r\nThread nlpAnalyzer = new Thread(() -&gt; {\r\n\r\n\t// infine lop for auto restore in case of crash\r\n\t//noinspection InfiniteLoopStatement\r\n\twhile (true) {\r\n\t\ttry {\r\n\t\t\t// this method should run permanently, pauses implemented internally\r\n\t\t\tNLPAnalyzer.analyzeNLP(dbCollection);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n});\r\n\r\nnlpAnalyzer.setName(&quot;im_nlpAnalyzer&quot;);\r\nnlpAnalyzer.start();\r\n```\r\n\r\nNow I would like to refactor this code with use of `ExecutorService`. In order to do that I can use at least two approaches:\r\n\r\n - `newFixedThreadPool(numOfProc)`;\r\n - `numOfProc * newSingleThreadExecutor()`.\r\n\r\nMy questions:\r\n\r\n 1. Is there any reason why I should prefer one option over another?\r\n\r\n 2. What is more accepted to generate a thread pool with X threads or generate X `newSingleThreadExecutor`s?\r\n\r\n 3. Pro et contra of each of the approach?","title":"Multiple newSingleThreadExecutor vs. newFixedThreadPool of ExecutorService","body":"<p>In my application I have 4 distinct processes, which run permanently with some small pauses.</p>\n<p>The current version of code executes each process in a separate old-school thread:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Thread nlpAnalyzer = new Thread(() -&gt; {\n\n    // infine lop for auto restore in case of crash\n    //noinspection InfiniteLoopStatement\n    while (true) {\n        try {\n            // this method should run permanently, pauses implemented internally\n            NLPAnalyzer.analyzeNLP(dbCollection);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n});\n\nnlpAnalyzer.setName(&quot;im_nlpAnalyzer&quot;);\nnlpAnalyzer.start();\n</code></pre>\n<p>Now I would like to refactor this code with use of <code>ExecutorService</code>. In order to do that I can use at least two approaches:</p>\n<ul>\n<li><code>newFixedThreadPool(numOfProc)</code>;</li>\n<li><code>numOfProc * newSingleThreadExecutor()</code>.</li>\n</ul>\n<p>My questions:</p>\n<ol>\n<li><p>Is there any reason why I should prefer one option over another?</p>\n</li>\n<li><p>What is more accepted to generate a thread pool with X threads or generate X <code>newSingleThreadExecutor</code>s?</p>\n</li>\n<li><p>Pro et contra of each of the approach?</p>\n</li>\n</ol>\n"},{"tags":["java","android","kotlin","android-fragments","android-activity"],"answers":[{"tags":[],"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669120956,"creation_date":1669120956,"answer_id":74532813,"question_id":74532760,"body_markdown":"    //simply put this code where you want to make back intent\r\n    super.onBackPressed();","title":"Is it possible to invoke a back button click programmatically?","body":"<pre><code>//simply put this code where you want to make back intent\nsuper.onBackPressed();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11231611,"reputation":91,"user_id":8239457,"display_name":"Mahmoud Gamal El-Din"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1669122088,"creation_date":1669121035,"answer_id":74532831,"question_id":74532760,"body_markdown":"From your activity just call =&gt; `onBackPressed()`,\r\n\r\nor form your fragment =&gt; `activity?.onBackPressed()`\r\n","title":"Is it possible to invoke a back button click programmatically?","body":"<p>From your activity just call =&gt; <code>onBackPressed()</code>,</p>\n<p>or form your fragment =&gt; <code>activity?.onBackPressed()</code></p>\n"},{"tags":[],"owner":{"account_id":18118137,"reputation":86,"user_id":13174552,"display_name":"Ammar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669135563,"creation_date":1669134866,"answer_id":74536073,"question_id":74532760,"body_markdown":"According to [official docs][1] onBackPressed is deprecated in Api level 33.\r\n\r\nyou can now use onBackPressedDispatcher please follow these steps:\r\n\r\n 1. Add android:enableOnBackInvokedCallBack=&quot;true” inside application tag\r\n    in manifest folder.\r\n\r\nKotlin code : \r\n\r\n    class YourActivity : AppCompatActivity() {\r\n\r\n    lateinit var button: Button\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        button = findViewById(R.id.txt)\r\n        button.setOnClickListener {\r\n            onBackPressedCallback.handleOnBackPressed()\r\n        }\r\n\r\n    }\r\n\r\n    private val onBackPressedCallback = object : OnBackPressedCallback(true) {\r\n        override fun handleOnBackPressed() {\r\n            finish()  //this finishes the current activity\r\n            // Your business logic to handle the back pressed event\r\n        }\r\n\r\n      }\r\n    }\r\n\r\n\r\nAnd here is old way of implementation:\r\n\r\nJava : \r\n\r\n    buttonBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                YourActivity.super.onBackPressed();\r\n            }\r\n        });\r\n\r\nKotlin :\r\n\r\n     buttonBack.setOnClickListener{\r\n            super.onBackPressed()\r\n        }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Activity.html#onBackPressed()","title":"Is it possible to invoke a back button click programmatically?","body":"<p>According to <a href=\"https://developer.android.com/reference/android/app/Activity.html#onBackPressed()\" rel=\"nofollow noreferrer\">official docs</a> onBackPressed is deprecated in Api level 33.</p>\n<p>you can now use onBackPressedDispatcher please follow these steps:</p>\n<ol>\n<li>Add android:enableOnBackInvokedCallBack=&quot;true” inside application tag\nin manifest folder.</li>\n</ol>\n<p>Kotlin code :</p>\n<pre><code>class YourActivity : AppCompatActivity() {\n\nlateinit var button: Button\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    button = findViewById(R.id.txt)\n    button.setOnClickListener {\n        onBackPressedCallback.handleOnBackPressed()\n    }\n\n}\n\nprivate val onBackPressedCallback = object : OnBackPressedCallback(true) {\n    override fun handleOnBackPressed() {\n        finish()  //this finishes the current activity\n        // Your business logic to handle the back pressed event\n    }\n\n  }\n}\n</code></pre>\n<p>And here is old way of implementation:</p>\n<p>Java :</p>\n<pre><code>buttonBack.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            YourActivity.super.onBackPressed();\n        }\n    });\n</code></pre>\n<p>Kotlin :</p>\n<pre><code> buttonBack.setOnClickListener{\n        super.onBackPressed()\n    }\n</code></pre>\n"}],"owner":{"account_id":23684117,"reputation":200,"user_id":17709311,"display_name":"Saraf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74532831,"answer_count":3,"score":1,"last_activity_date":1669135563,"creation_date":1669120707,"question_id":74532760,"body_markdown":"I&#39;ve seen plenty of answers explaining how to override and add functionality to a back button press via user&#39;s interaction, but almost none of the answers explain how to programmatically trigger a back button press without any user input. Answers that do address it give somewhat deprecated code samples that don&#39;t really compute.","title":"Is it possible to invoke a back button click programmatically?","body":"<p>I've seen plenty of answers explaining how to override and add functionality to a back button press via user's interaction, but almost none of the answers explain how to programmatically trigger a back button press without any user input. Answers that do address it give somewhat deprecated code samples that don't really compute.</p>\n"},{"tags":["java","mongodb","exception","mongo-java-driver","mongo-java"],"comments":[{"owner":{"account_id":278995,"reputation":2459,"user_id":2553194,"display_name":"RubioRic"},"score":0,"creation_date":1460281955,"post_id":36527991,"comment_id":60660660,"body_markdown":"I agree with Frankenapps, that sentence is not throwing the exception. I think that it is being thrown when you instantiate your client. Catch the exception there.","body":"I agree with Frankenapps, that sentence is not throwing the exception. I think that it is being thrown when you instantiate your client. Catch the exception there."}],"answers":[{"tags":[],"owner":{"account_id":5827715,"reputation":6317,"user_id":4593433,"accept_rate":88,"display_name":"frankenapps"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1460282000,"creation_date":1460281360,"answer_id":36528177,"question_id":36527991,"body_markdown":"1. I use this code to check connection:\r\n\r\n\t\ttry {\r\n\t\t\tmongo.getAddress();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Database unavailable!&quot;);\r\n\t\t\tmongo.close();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n2. Not sure here my guess would be that `this.mongoClient.getAddress();` does not throw that exception, but I don&#39;t really know\r\n\r\nEDIT: I initialized it via:\r\n\r\n\tBuilder builder = MongoClientOptions.builder().connectTimeout(3000);  \r\n\tMongoClient mongo = new MongoClient(new ServerAddress(&quot;192.168.0.1&quot;, 3000), builder.build());","title":"How to check if MongoDB connection is established with Java?","body":"<ol>\n<li><p>I use this code to check connection:</p>\n\n<pre><code>try {\n    mongo.getAddress();\n} catch (Exception e) {\n    System.out.println(\"Database unavailable!\");\n    mongo.close();\n    return;\n}\n</code></pre></li>\n<li><p>Not sure here my guess would be that <code>this.mongoClient.getAddress();</code> does not throw that exception, but I don't really know</p></li>\n</ol>\n\n<p>EDIT: I initialized it via:</p>\n\n<pre><code>Builder builder = MongoClientOptions.builder().connectTimeout(3000);  \nMongoClient mongo = new MongoClient(new ServerAddress(\"192.168.0.1\", 3000), builder.build());\n</code></pre>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12663,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36528177,"answer_count":1,"score":3,"last_activity_date":1669135563,"creation_date":1460280076,"question_id":36527991,"body_markdown":"In my app, MongoDB 3.2.4 runs on a custom port, I want to implement logic where my app will try to reach MongoDB on a custom port and if it fails it will use the default `27018` port.\r\n\r\nIn order to do that I use the following code:\r\n\r\n```java\r\nString mongoClientURI = &quot;mongodb://&quot; + DB_SRV_USR + &quot;:&quot; + DB_SRV_PWD + &quot;@&quot; + DB_URL + &quot;:&quot; + DB_PORT_CUS + &quot;/&quot; + dbName;\r\nMongoClientURI connectionString = new MongoClientURI(mongoClientURI);\r\n\r\n// enable SSL connection\r\nMongoClientOptions.builder().sslEnabled(true).build();\r\n\r\nif (this.mongoClient == null) {\r\n\tthis.mongoClient = new MongoClient(connectionString);\r\n}\r\n\r\n// create database if doesn&#39;t exist\r\nMongoDatabase mdb = this.mongoClient.getDatabase(dbName);\r\n\r\ntry {\r\n\tthis.mongoClient.getAddress();\r\n} catch (com.mongodb.MongoSocketOpenException e) {\r\n\tSystem.out.println(&quot;Switch to default port&quot;);\r\n\t/*…use default port logic…*/\r\n}\r\n```\r\n\r\nThe problem is that this exception is not caught.\r\nAlthough MongoDB throws the following exception:\r\n\r\n&gt; com.mongodb.MongoSocketOpenException: Exception opening socket \tat\r\n&gt; com.mongodb.connection.SocketStream.open(SocketStream.java:63) \tat\r\n&gt; com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:114)\r\n&gt; \tat\r\n&gt; com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:128)\r\n&gt; \tat java.lang.Thread.run(Thread.java:745) Caused by:\r\n&gt; java.net.ConnectException: Connection refused: connect \tat\r\n&gt; java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) \tat\r\n&gt; java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)\r\n&gt; \tat\r\n&gt; java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n&gt; \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n&gt; \tat\r\n&gt; java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n&gt; \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) \tat\r\n&gt; java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) \tat\r\n&gt; java.net.Socket.connect(Socket.java:589) \tat\r\n&gt; com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:50)\r\n&gt; \tat com.mongodb.connection.SocketStream.open(SocketStream.java:58)\r\n&gt; \t... 3 more\r\n\r\nmy `try-catch` expression can&#39;t catch this exception.\r\n\r\nI tried multiple approaches, such as to catch:\r\n\r\n - `Exception`\r\n - `RuntimeException`\r\n - `MongoSocketOpenException`\r\n - `MongoException`\r\n - `MongoCommandException`\r\n\r\nnone of them doesn&#39;t work.\r\n\r\nMy questions:\r\n\r\n 1. How can I check if MongoDB connection is established?\r\n\r\n 2. How can catch the exception `MongoSocketOpenException`?","title":"How to check if MongoDB connection is established with Java?","body":"<p>In my app, MongoDB 3.2.4 runs on a custom port, I want to implement logic where my app will try to reach MongoDB on a custom port and if it fails it will use the default <code>27018</code> port.</p>\n<p>In order to do that I use the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String mongoClientURI = &quot;mongodb://&quot; + DB_SRV_USR + &quot;:&quot; + DB_SRV_PWD + &quot;@&quot; + DB_URL + &quot;:&quot; + DB_PORT_CUS + &quot;/&quot; + dbName;\nMongoClientURI connectionString = new MongoClientURI(mongoClientURI);\n\n// enable SSL connection\nMongoClientOptions.builder().sslEnabled(true).build();\n\nif (this.mongoClient == null) {\n    this.mongoClient = new MongoClient(connectionString);\n}\n\n// create database if doesn't exist\nMongoDatabase mdb = this.mongoClient.getDatabase(dbName);\n\ntry {\n    this.mongoClient.getAddress();\n} catch (com.mongodb.MongoSocketOpenException e) {\n    System.out.println(&quot;Switch to default port&quot;);\n    /*…use default port logic…*/\n}\n</code></pre>\n<p>The problem is that this exception is not caught.\nAlthough MongoDB throws the following exception:</p>\n<blockquote>\n<p>com.mongodb.MongoSocketOpenException: Exception opening socket    at\ncom.mongodb.connection.SocketStream.open(SocketStream.java:63)    at\ncom.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:114)\nat\ncom.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:128)\nat java.lang.Thread.run(Thread.java:745) Caused by:\njava.net.ConnectException: Connection refused: connect    at\njava.net.DualStackPlainSocketImpl.waitForConnect(Native Method)   at\njava.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85)\nat\njava.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\nat\njava.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\nat\njava.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\nat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)   at\njava.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)    at\njava.net.Socket.connect(Socket.java:589)  at\ncom.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:50)\nat com.mongodb.connection.SocketStream.open(SocketStream.java:58)\n... 3 more</p>\n</blockquote>\n<p>my <code>try-catch</code> expression can't catch this exception.</p>\n<p>I tried multiple approaches, such as to catch:</p>\n<ul>\n<li><code>Exception</code></li>\n<li><code>RuntimeException</code></li>\n<li><code>MongoSocketOpenException</code></li>\n<li><code>MongoException</code></li>\n<li><code>MongoCommandException</code></li>\n</ul>\n<p>none of them doesn't work.</p>\n<p>My questions:</p>\n<ol>\n<li><p>How can I check if MongoDB connection is established?</p>\n</li>\n<li><p>How can catch the exception <code>MongoSocketOpenException</code>?</p>\n</li>\n</ol>\n"},{"tags":["java","mongodb","mongodb-query","mongo-java-driver"],"answers":[{"tags":[],"owner":{"account_id":2677968,"reputation":148907,"user_id":2313887,"accept_rate":82,"display_name":"Neil Lunn"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1461240058,"creation_date":1461188439,"answer_id":36755725,"question_id":36753254,"body_markdown":"Personally, I find it far less confusing to construct the object sequences just like U would with a JSON structure to enhance readability. But it&#39;s still just `Document()` wherever you see `{}` and `List` wherever you see `[]`:\r\n\r\n\r\n    Document query = new Document(\r\n        &quot;$or&quot;, Arrays.asList(\r\n            // First document in $or\r\n            new Document(\r\n                &quot;fetchStatus&quot;, \r\n                new Document( &quot;$gte&quot;, FetchStatus.PROCESSED_NLP.getID() )\r\n                .append(&quot;$lte&quot;, fetchStatusParam)\r\n            )\r\n            .append(&quot;episodeID&quot;, new Document( &quot;$in&quot;, episodeIDs)),\r\n            // Second document in $or\r\n            new Document(&quot;fetchStatus&quot;, PROCESSED_FETCH.getID())\r\n            .append(&quot;isFullTextRet&quot;, false)\r\n        )\r\n    );\r\n\r\n\r\nWhich is basically the same as:\r\n\r\n\r\n       {\r\n           &quot;$or&quot;: [\r\n               {\r\n                   &quot;fetchStatus&quot;: { \r\n                       &quot;$gte&quot;: FetchStatus.PROCESS_NLP.getID(),\r\n                       &quot;$lte&quot;: fetchStatusParam\r\n                   },\r\n                   &quot;episodeID&quot;: { &quot;$in&quot;: episodeIDs }\r\n               },\r\n               {\r\n                   &quot;fetchStatus&quot;: PROCESSED_FETCH.getID(),\r\n                   &quot;isFullTextRet&quot;: false\r\n               }\r\n           ]\r\n       }\r\n\r\nAlso there is no need for &quot;explicit&quot; `$eq` operators, since &quot;equals&quot; is actually the default meaning of a value assignment in a query property anyway.","title":"How to execute queries with both AND and OR clauses in MongoDB with Java?","body":"<p>Personally, I find it far less confusing to construct the object sequences just like U would with a JSON structure to enhance readability. But it's still just <code>Document()</code> wherever you see <code>{}</code> and <code>List</code> wherever you see <code>[]</code>:</p>\n\n<pre><code>Document query = new Document(\n    \"$or\", Arrays.asList(\n        // First document in $or\n        new Document(\n            \"fetchStatus\", \n            new Document( \"$gte\", FetchStatus.PROCESSED_NLP.getID() )\n            .append(\"$lte\", fetchStatusParam)\n        )\n        .append(\"episodeID\", new Document( \"$in\", episodeIDs)),\n        // Second document in $or\n        new Document(\"fetchStatus\", PROCESSED_FETCH.getID())\n        .append(\"isFullTextRet\", false)\n    )\n);\n</code></pre>\n\n<p>Which is basically the same as:</p>\n\n<pre><code>   {\n       \"$or\": [\n           {\n               \"fetchStatus\": { \n                   \"$gte\": FetchStatus.PROCESS_NLP.getID(),\n                   \"$lte\": fetchStatusParam\n               },\n               \"episodeID\": { \"$in\": episodeIDs }\n           },\n           {\n               \"fetchStatus\": PROCESSED_FETCH.getID(),\n               \"isFullTextRet\": false\n           }\n       ]\n   }\n</code></pre>\n\n<p>Also there is no need for \"explicit\" <code>$eq</code> operators, since \"equals\" is actually the default meaning of a value assignment in a query property anyway.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1719,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":36755725,"answer_count":1,"score":4,"last_activity_date":1669135543,"creation_date":1461180144,"question_id":36753254,"body_markdown":"I want to execute query in MongoDB 3.2 with Java Driver 3.2, which contains both `$and` and `$or` clauses at the same time.\r\n\r\nWith the [reference][1], I tried the following approach:\r\n\r\n```java\r\nList&lt;Document&gt; criteria1 = new ArrayList&lt;&gt;();\r\nList&lt;Document&gt; criteria2 = new ArrayList&lt;&gt;();\r\n\r\ncriteria1.add(new Document(&quot;fetchStatus&quot;, new Document(&quot;$gte&quot;, FetchStatus.PROCESSED_NLP.getID())));\r\ncriteria1.add(new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam)));\r\ncriteria1.add(new Document(&quot;episodeID&quot;, new Document(&quot;$in&quot;, episodeIDs)));\r\n\r\ncriteria2.add(new Document(&quot;fetchStatus&quot;, new Document(&quot;$eq&quot;, PROCESSED_FETCH.getID())));\r\ncriteria2.add(new Document(&quot;isFullTextRet&quot;, new Document(&quot;$eq&quot;, false)));\r\n\r\nBasicDBList or = new BasicDBList();\r\nor.add(criteria1);\r\nor.add(criteria2);\r\n\r\nDBObject query = new BasicDBObject(&quot;$or&quot;, or);\r\nArrayList&lt;Document&gt; results = dbC_Coll.find(query).into(new ArrayList&lt;&gt;());\r\n```\r\n\r\nWhere the `criteria1` and `criteria2` should be connected with `$or` while within `criteria1` clause the `$and` should be applied.\r\n\r\nThe problem is that in MongoDB Java Driver 3.2 there is such no method and I get the `Cannot resolve method find(com.mongodb.DBObject)` error.\r\n\r\nHow can I compose a query such as `(A &amp;&amp; B) || (X &amp;&amp; Y)` in MongoDB Java Driver 3.2?\r\n\r\n  [1]: https://stackoverflow.com/a/10621210/462347","title":"How to execute queries with both AND and OR clauses in MongoDB with Java?","body":"<p>I want to execute query in MongoDB 3.2 with Java Driver 3.2, which contains both <code>$and</code> and <code>$or</code> clauses at the same time.</p>\n<p>With the <a href=\"https://stackoverflow.com/a/10621210/462347\">reference</a>, I tried the following approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Document&gt; criteria1 = new ArrayList&lt;&gt;();\nList&lt;Document&gt; criteria2 = new ArrayList&lt;&gt;();\n\ncriteria1.add(new Document(&quot;fetchStatus&quot;, new Document(&quot;$gte&quot;, FetchStatus.PROCESSED_NLP.getID())));\ncriteria1.add(new Document(&quot;fetchStatus&quot;, new Document(&quot;$lte&quot;, fetchStatusParam)));\ncriteria1.add(new Document(&quot;episodeID&quot;, new Document(&quot;$in&quot;, episodeIDs)));\n\ncriteria2.add(new Document(&quot;fetchStatus&quot;, new Document(&quot;$eq&quot;, PROCESSED_FETCH.getID())));\ncriteria2.add(new Document(&quot;isFullTextRet&quot;, new Document(&quot;$eq&quot;, false)));\n\nBasicDBList or = new BasicDBList();\nor.add(criteria1);\nor.add(criteria2);\n\nDBObject query = new BasicDBObject(&quot;$or&quot;, or);\nArrayList&lt;Document&gt; results = dbC_Coll.find(query).into(new ArrayList&lt;&gt;());\n</code></pre>\n<p>Where the <code>criteria1</code> and <code>criteria2</code> should be connected with <code>$or</code> while within <code>criteria1</code> clause the <code>$and</code> should be applied.</p>\n<p>The problem is that in MongoDB Java Driver 3.2 there is such no method and I get the <code>Cannot resolve method find(com.mongodb.DBObject)</code> error.</p>\n<p>How can I compose a query such as <code>(A &amp;&amp; B) || (X &amp;&amp; Y)</code> in MongoDB Java Driver 3.2?</p>\n"},{"tags":["java","json","encoding","utf-8","apache-commons-io"],"comments":[{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1461505480,"post_id":36823851,"comment_id":61219108,"body_markdown":"if you log `jsonTxt` is it valid JSON?","body":"if you log <code>jsonTxt</code> is it valid JSON?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1461505615,"post_id":36823851,"comment_id":61219155,"body_markdown":"@Yazan, yes.At least `IDEA 2016.1` and `jsonlint.com` claim this.","body":"@Yazan, yes.At least <code>IDEA 2016.1</code> and <code>jsonlint.com</code> claim this."},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1461505869,"post_id":36823851,"comment_id":61219224,"body_markdown":"thats weird!  another note is `character 2 line 1` so what&#39;s the 1st character? is it some kind of invalid character (invisible maybe?), and another question, by `if I convert the file to ASCII` you mean convert the file encoding (save as) or just use other encoding name in your `readFileToString()` ?","body":"thats weird!  another note is <code>character 2 line 1</code> so what&#39;s the 1st character? is it some kind of invalid character (invisible maybe?), and another question, by <code>if I convert the file to ASCII</code> you mean convert the file encoding (save as) or just use other encoding name in your <code>readFileToString()</code> ?"},{"owner":{"account_id":1571066,"reputation":2177,"user_id":1458740,"display_name":"Ilya"},"score":1,"creation_date":1461508393,"post_id":36823851,"comment_id":61220094,"body_markdown":"I think you have a file encode in UTF-8 with BOM https://en.wikipedia.org/wiki/Byte_order_mark  try to convert file using Notepad++ or something similiar to UTF-8 without BOM.","body":"I think you have a file encode in UTF-8 with BOM <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Byte_order_mark</a>  try to convert file using Notepad++ or something similiar to UTF-8 without BOM."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1461508432,"post_id":36823851,"comment_id":61220109,"body_markdown":"@Yazan, under `convert the file to ASCII` I mean `Save as` in notepad. BTW, of course, it&#39;s `ANSI` and not `ASCII`.","body":"@Yazan, under <code>convert the file to ASCII</code> I mean <code>Save as</code> in notepad. BTW, of course, it&#39;s <code>ANSI</code> and not <code>ASCII</code>."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1461508744,"post_id":36823851,"comment_id":61220218,"body_markdown":"@Ilya, bingo! The problem was with `BOM`. Please, arrange your comment as an answer.","body":"@Ilya, bingo! The problem was with <code>BOM</code>. Please, arrange your comment as an answer."}],"answers":[{"tags":[],"owner":{"account_id":1571066,"reputation":2177,"user_id":1458740,"display_name":"Ilya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1461508946,"creation_date":1461508946,"answer_id":36824567,"question_id":36823851,"body_markdown":"I think you have a file encode in [UTF-8 with BOM][1] try to convert file using Notepad++ or something similiar to UTF-8 without BOM\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Byte_order_mark","title":"JSON file processing error: A JSONArray text must start with &#39;[&#39; at 1 [character 2 line 1] when use file in UTF-8 encoding","body":"<p>I think you have a file encode in <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow\">UTF-8 with BOM</a> try to convert file using Notepad++ or something similiar to UTF-8 without BOM</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36824567,"answer_count":1,"score":1,"last_activity_date":1669135533,"creation_date":1461504943,"question_id":36823851,"body_markdown":"I have a valid JSON-file. I want to read it into a memory as `JSONArray` object. \r\n\r\nIn order to do that I use the following code (powered by Apache Commons IO 2.5):\r\n\r\n```java\r\nString jsonTxt = FileUtils.readFileToString(new File(file.json), &quot;UTF-8&quot;);\r\nJSONArray itemsArr = new JSONArray(jsonTxt);\r\n```\r\n\r\nBut I get the error:\r\n\r\n```java\r\nException in thread &quot;main&quot; org.json.JSONException: A JSONArray text must start with &#39;[&#39; at 1 [character 2 line 1]\r\n\tat org.json.JSONTokener.syntaxError(JSONTokener.java:433)\r\n\tat org.json.JSONArray.&lt;init&gt;(JSONArray.java:106)\r\n\tat org.json.JSONArray.&lt;init&gt;(JSONArray.java:145)\r\n\tat myOrg.infomedia.dba.NewsSourcesData.loadNewsSourcesData(NewsSourcesData.java:39)\r\n\tat myOrg.infomedia.main.Main.main(Main.java:65)\r\n```\r\n\r\nAfter multiple checks, I found out that the root of the problem is the file encoding. If I provide a file in `UTF-8`, it throws exception, but if I convert the file to `ANSI` everything is working correctly.\r\n\r\nI&#39;m using `org.json` version *json-20160212.jar*.\r\n\r\nHow can I get `JSONArray` from my JSON-file in `UTF-8` encoding?","title":"JSON file processing error: A JSONArray text must start with &#39;[&#39; at 1 [character 2 line 1] when use file in UTF-8 encoding","body":"<p>I have a valid JSON-file. I want to read it into a memory as <code>JSONArray</code> object.</p>\n<p>In order to do that I use the following code (powered by Apache Commons IO 2.5):</p>\n<pre class=\"lang-java prettyprint-override\"><code>String jsonTxt = FileUtils.readFileToString(new File(file.json), &quot;UTF-8&quot;);\nJSONArray itemsArr = new JSONArray(jsonTxt);\n</code></pre>\n<p>But I get the error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; org.json.JSONException: A JSONArray text must start with '[' at 1 [character 2 line 1]\n    at org.json.JSONTokener.syntaxError(JSONTokener.java:433)\n    at org.json.JSONArray.&lt;init&gt;(JSONArray.java:106)\n    at org.json.JSONArray.&lt;init&gt;(JSONArray.java:145)\n    at myOrg.infomedia.dba.NewsSourcesData.loadNewsSourcesData(NewsSourcesData.java:39)\n    at myOrg.infomedia.main.Main.main(Main.java:65)\n</code></pre>\n<p>After multiple checks, I found out that the root of the problem is the file encoding. If I provide a file in <code>UTF-8</code>, it throws exception, but if I convert the file to <code>ANSI</code> everything is working correctly.</p>\n<p>I'm using <code>org.json</code> version <em>json-20160212.jar</em>.</p>\n<p>How can I get <code>JSONArray</code> from my JSON-file in <code>UTF-8</code> encoding?</p>\n"},{"tags":["java","tomcat","servlets","jackson","pom.xml"],"comments":[{"owner":{"account_id":13256684,"reputation":115,"user_id":9572517,"display_name":"Greg T."},"score":1,"creation_date":1530692372,"post_id":51168697,"comment_id":89320718,"body_markdown":"This sort of problem is usually caused by packaging issues with your code associated with the servlet engine classloader(s).  How is your code packaged when installed into the servlet engine?  Which servlet engine(s) are you using when you get the error?","body":"This sort of problem is usually caused by packaging issues with your code associated with the servlet engine classloader(s).  How is your code packaged when installed into the servlet engine?  Which servlet engine(s) are you using when you get the error?"},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1530693038,"post_id":51168697,"comment_id":89321082,"body_markdown":"@GregT., I&#39;m using Tomcat 8 to run a servlets. Servlet class and `PDFGenerator` class are located in different packages but with `public` access modifiers.","body":"@GregT., I&#39;m using Tomcat 8 to run a servlets. Servlet class and <code>PDFGenerator</code> class are located in different packages but with <code>public</code> access modifiers."}],"answers":[{"tags":[],"owner":{"account_id":13256684,"reputation":115,"user_id":9572517,"display_name":"Greg T."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1530694446,"creation_date":1530694446,"answer_id":51169615,"question_id":51168697,"body_markdown":"This problem is almost certainly caused by classloaders within your servlet container (Tomcat 8.x) being unable to locate the library/JAR for Jackson. The way classes/libs are loaded within servlet containers is different than a standard classpath declaration from a standalone Java application. This is why you are seeing the error from the servlet engine but not during your direct execution of the class.  Here is the general documentation on how Tomcat 8.x handles classloading:\r\n\r\n[https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html][1]\r\n\r\nAs a general rule, to help prevent such issues in the first place, its a good idea to deploy your servlets within a &quot;webapp&quot; container including all required libraries (the appropriate versions of required JAR&#39;s, etc.).  Doing this isolates your servlets under a single classloader and automatically locates them in the correct hierarchy.  See this portion of the linked documentation:\r\n\r\n&gt; **WebappX** — A class loader is created for each web application that is deployed in a single Tomcat instance. All unpacked classes and resources in the /WEB-INF/classes directory of your web application, plus classes and resources in JAR files under the /WEB-INF/lib directory of your web application, are made visible to this web application, but not to other ones.\r\n\r\nFYI, there are other ways to do this with enterprise-class web applications, but we&#39;re not talking about that here.\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html","title":"Getting ClassNotFoundException: com.fasterxml.jackson.core.JsonProcessingException when calling Jackson JSON parser from a servlet","body":"<p>This problem is almost certainly caused by classloaders within your servlet container (Tomcat 8.x) being unable to locate the library/JAR for Jackson. The way classes/libs are loaded within servlet containers is different than a standard classpath declaration from a standalone Java application. This is why you are seeing the error from the servlet engine but not during your direct execution of the class.  Here is the general documentation on how Tomcat 8.x handles classloading:</p>\n\n<p><a href=\"https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.0-doc/class-loader-howto.html</a></p>\n\n<p>As a general rule, to help prevent such issues in the first place, its a good idea to deploy your servlets within a \"webapp\" container including all required libraries (the appropriate versions of required JAR's, etc.).  Doing this isolates your servlets under a single classloader and automatically locates them in the correct hierarchy.  See this portion of the linked documentation:</p>\n\n<blockquote>\n  <p><strong>WebappX</strong> — A class loader is created for each web application that is deployed in a single Tomcat instance. All unpacked classes and resources in the /WEB-INF/classes directory of your web application, plus classes and resources in JAR files under the /WEB-INF/lib directory of your web application, are made visible to this web application, but not to other ones.</p>\n</blockquote>\n\n<p>FYI, there are other ways to do this with enterprise-class web applications, but we're not talking about that here.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51169615,"answer_count":1,"score":0,"last_activity_date":1669135401,"creation_date":1530691468,"question_id":51168697,"body_markdown":"I have a servlet, powered by Tomcat 8, which calls for a static method to perform JSON parsing with Jackson 2.9.6.\r\n\r\nDuring the code execution:\r\n\r\n```java\r\nJSONData parsedJSONData = PDFGenerator.parseJSONDocument(jsonDocument);\r\n```\r\n\r\nI get:\r\n\r\n```java\r\njava.lang.ClassNotFoundException: com.fasterxml.jackson.core.JsonProcessingException\r\n```\r\n\r\nIt&#39;s important to note, that servlet class and `PDFGenerator` class are located in different packages but with `public` access modifiers.\r\n\r\nI tried to add dependencies to the root of the project via *pom.xml*:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nbut it doesn&#39;t help.\r\n\r\nIn my project I&#39;m not using Maven, rather just added needed libraries via `classpath`.\r\n\r\nWhat&#39;s strange is that such exception appears only when I try to call `PDFGenerator.parseJSONDocument(jsonDocument)` from a servlet, execution from a regular Java-class works smoothly.\r\n\r\nWhat and where should I add in order to be able calling a static method with the JSON parser functionality based on a FasterXML/Jackson JSON library?","title":"Getting ClassNotFoundException: com.fasterxml.jackson.core.JsonProcessingException when calling Jackson JSON parser from a servlet","body":"<p>I have a servlet, powered by Tomcat 8, which calls for a static method to perform JSON parsing with Jackson 2.9.6.</p>\n<p>During the code execution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONData parsedJSONData = PDFGenerator.parseJSONDocument(jsonDocument);\n</code></pre>\n<p>I get:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.ClassNotFoundException: com.fasterxml.jackson.core.JsonProcessingException\n</code></pre>\n<p>It's important to note, that servlet class and <code>PDFGenerator</code> class are located in different packages but with <code>public</code> access modifiers.</p>\n<p>I tried to add dependencies to the root of the project via <em>pom.xml</em>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.9.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but it doesn't help.</p>\n<p>In my project I'm not using Maven, rather just added needed libraries via <code>classpath</code>.</p>\n<p>What's strange is that such exception appears only when I try to call <code>PDFGenerator.parseJSONDocument(jsonDocument)</code> from a servlet, execution from a regular Java-class works smoothly.</p>\n<p>What and where should I add in order to be able calling a static method with the JSON parser functionality based on a FasterXML/Jackson JSON library?</p>\n"},{"tags":["java","apache","project","package","directory-structure"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1531483596,"post_id":51324282,"comment_id":89624404,"body_markdown":"This is because now not `src` but `main` and `test` are the java source folders. I personally would switch to the **maven** convention, start wit a maven project: src/main/java and src/test/java and likewise src/main/resources and src/test/resources. Maven already is well integrated in all IDEs. For now set the source folders in eclipse appropriately (or make a maven project).","body":"This is because now not <code>src</code> but <code>main</code> and <code>test</code> are the java source folders. I personally would switch to the <b>maven</b> convention, start wit a maven project: src/main/java and src/test/java and likewise src/main/resources and src/test/resources. Maven already is well integrated in all IDEs. For now set the source folders in eclipse appropriately (or make a maven project)."},{"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"score":0,"creation_date":1531483891,"post_id":51324282,"comment_id":89624571,"body_markdown":"@JoopEggen, do I understand it correctly that in order specify a new java source folder I have to define `pom.xml`?","body":"@JoopEggen, do I understand it correctly that in order specify a new java source folder I have to define <code>pom.xml</code>?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1531485459,"post_id":51324282,"comment_id":89625511,"body_markdown":"Yes, as: File / New &gt; / Project ... / Maven / Maven Project.","body":"Yes, as: File / New &gt; / Project ... / Maven / Maven Project."}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1531484848,"creation_date":1531484848,"answer_id":51325094,"question_id":51324282,"body_markdown":"You can do it in the pom.xml but you can also edit the project in Eclipse and define the source folders there\r\n\r\nI noticed you actually misread the Apache standard structure, it follows the Maven convention `src/main/java` etc so I would use that. Then, if you use some form of Maven-Eclipse integration the source folders should automatically be set correctly by default. I used to do that with `mvn eclipse:eclipse` (using the eclipse-maven-plugin) but that&#39;s a long time ago - I use Intellij now. I&#39;m guessing by now Eclipse picks up the source path from Maven automatically.","title":"Separate code to main and test branches under `src` folder without changing packages names","body":"<p>You can do it in the pom.xml but you can also edit the project in Eclipse and define the source folders there</p>\n\n<p>I noticed you actually misread the Apache standard structure, it follows the Maven convention <code>src/main/java</code> etc so I would use that. Then, if you use some form of Maven-Eclipse integration the source folders should automatically be set correctly by default. I used to do that with <code>mvn eclipse:eclipse</code> (using the eclipse-maven-plugin) but that's a long time ago - I use Intellij now. I'm guessing by now Eclipse picks up the source path from Maven automatically.</p>\n"}],"owner":{"account_id":210629,"reputation":14178,"user_id":462347,"accept_rate":99,"display_name":"Mike"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51325094,"answer_count":1,"score":0,"last_activity_date":1669135385,"creation_date":1531481922,"question_id":51324282,"body_markdown":"I would like to adopt an [Apache Software Foundation&#39;s standard directory structure][1] to already existing project, which is:\r\n\r\n```\r\nmodule/\r\n  src/\r\n    main/\r\n      java/\r\n        com.mycompany...\r\n    test/\r\n      java/\r\n        com.mycompany...\r\n```\r\n\r\nThe issue is that after moving the sources from `src/com.mycompany`to `src/main/java/com.mycompany` and `src/test/java/com.mycompany` the IDE (Eclipse) returns a warning and proposes to rename the packages from `com.mycompany` to `main.java.com.mycompany` and `test.java.com.mycompany` respectively.\r\n\r\n**Important note:**  \r\nSince this is a legacy project without any Maven integration, but which is still in use in production, I would like to reduce a changes to the project as much as possible but still separate the code on production and unit test code.\r\n\r\nIs there any way to avoid packages renaming in all source-files but still to use Apache&#39;s source directory structure?\r\n\r\n  [1]: http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html","title":"Separate code to main and test branches under `src` folder without changing packages names","body":"<p>I would like to adopt an <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">Apache Software Foundation's standard directory structure</a> to already existing project, which is:</p>\n<pre><code>module/\n  src/\n    main/\n      java/\n        com.mycompany...\n    test/\n      java/\n        com.mycompany...\n</code></pre>\n<p>The issue is that after moving the sources from <code>src/com.mycompany</code>to <code>src/main/java/com.mycompany</code> and <code>src/test/java/com.mycompany</code> the IDE (Eclipse) returns a warning and proposes to rename the packages from <code>com.mycompany</code> to <code>main.java.com.mycompany</code> and <code>test.java.com.mycompany</code> respectively.</p>\n<p><strong>Important note:</strong><br />\nSince this is a legacy project without any Maven integration, but which is still in use in production, I would like to reduce a changes to the project as much as possible but still separate the code on production and unit test code.</p>\n<p>Is there any way to avoid packages renaming in all source-files but still to use Apache's source directory structure?</p>\n"},{"tags":["java","generics","casting","jls","parameterization"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1669121542,"post_id":74532578,"comment_id":131567564,"body_markdown":"Excellently asked :) Putting the effort into asking a question properly is to be commended.","body":"Excellently asked :) Putting the effort into asking a question properly is to be commended."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669122003,"post_id":74532578,"comment_id":131567757,"body_markdown":"There’s a logical error in your reasoning. If the specification says “if X then an error occurs”, it does not imply that “if not X then no error occurs”. Your code still has to obey the other, not cited rules. Besides that, *S* is `S_intrf` and `S_intrf` is not a parameterized type.","body":"There’s a logical error in your reasoning. If the specification says “if X then an error occurs”, it does not imply that “if not X then no error occurs”. Your code still has to obey the other, not cited rules. Besides that, <i>S</i> is <code>S_intrf</code> and <code>S_intrf</code> is not a parameterized type."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669135112,"creation_date":1669121962,"answer_id":74533018,"question_id":74532578,"body_markdown":"You&#39;ve overcomplicated matters. Let&#39;s first ditch the generics:\r\n\r\n```java\r\nclass Scratch {\r\n  public static void main(String[] args) {\r\n    S_intrf S = new S_clss();\r\n    T_clss T = (T_clss) S;\r\n  }\r\n}\r\n\r\ninterface G {}\r\n\r\ninterface S_intrf extends G {}\r\nclass S_clss implements S_intrf {}\r\n\r\ninterface X extends G {}\r\nfinal class T_clss implements X {}\r\n```\r\n\r\nand try to compile that, which produces the exact same error. Hence the generics don&#39;t matter and just muddy the waters. They do not explain this error.\r\n\r\nAs you can see from your own diagram you made, there is an exclusionary principle at work:\r\n\r\n* There is some unknown type; this is the _actual_ type of the object that expression `S` resolves to.\r\n* We do know a few things about this unknown type; we know it __has to be__ an object (because it&#39;s a reference variable), and that object has `S_intrf` in its type hierarchy. After all, if that wasn&#39;t the case, we could never get here; the JVM does not let you assign a reference to an object that isn&#39;t to variable `S`, given that it is declared as being of type `S_intrf`. This is an absolute guarantee: You can&#39;t make `javac` compile code so that this doesn&#39;t hold, and if you try to use bytecode manipulation shenanigans, the verifier will refuse to load the class.\r\n\r\nGiven that knowledge, we can surmise one more thing: This unknown type, whatever it might be, __cannot possibly be `T_clss` or any subtype of it__. We know this because `T_clss` is final (therefore, no subtype of it can exist), _and_, it does not itself implement `S_intrf`.\r\n\r\nHence, the cast will necessarily fail, it can&#39;t not. And in the Java Lang Spec, there&#39;s a rule that says the compiler must reject such a situation with a compile time error.\r\n\r\nWe can &#39;prove&#39; this by reading the JLS, but I&#39;ll leave that as an exercise to the reader. A more pragmatic way to show this truly is the answer, is to simply remove the `final`. Now, it _does_ compile! If you then run it, you get, as expected, a `ClassCastException`.\r\n\r\nWithout `final`, one could write e.g. `class Example extends T_clss implements S_intrf {}` and now we have a type such that an instance of this could _both_ [A] be referred to by variable `S`, and [B] can be cast to `T_clss`.\r\n\r\nBy the rules of JLS, the fact that a code analyser can trivially figure out that variable `S` in fact refers to an instance of `S_clss()` is __not__ taken into consideration. The rules of the analysis that leads to &#39;oh, the analyser says this code will always fail, therefore refuse to compile it&#39; is set in stone, spelled out by the JLS, and a compiler must adhere to it exactly.\r\n\r\n\r\n----\r\n\r\nThe &#167;5.5.1 clause is most likely referring to the fact that you can use the cast operation to make assertions about the stuff in the generics part; you can for example do:\r\n\r\n```\r\nList&lt;Object&gt; foo = ...;\r\nList&lt;String&gt; bar = (List&lt;String&gt;) foo;\r\n```\r\n\r\nThis compiles, with a warning, as the java compiler is not going to generate any code or give you any guarantees that the list in fact only contains strings. &#167;5.5.1 is talking about casts where the non-generics part is useless (e.g. casting an expression of type `List` to `List`, which is obviously pointless), but the generics part is relevant - e.g. the above snippet.\r\n","title":"Rule for Cast operator validity when Interface held type is converted to a final class Type according to JLS","body":"<p>You've overcomplicated matters. Let's first ditch the generics:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scratch {\n  public static void main(String[] args) {\n    S_intrf S = new S_clss();\n    T_clss T = (T_clss) S;\n  }\n}\n\ninterface G {}\n\ninterface S_intrf extends G {}\nclass S_clss implements S_intrf {}\n\ninterface X extends G {}\nfinal class T_clss implements X {}\n</code></pre>\n<p>and try to compile that, which produces the exact same error. Hence the generics don't matter and just muddy the waters. They do not explain this error.</p>\n<p>As you can see from your own diagram you made, there is an exclusionary principle at work:</p>\n<ul>\n<li>There is some unknown type; this is the <em>actual</em> type of the object that expression <code>S</code> resolves to.</li>\n<li>We do know a few things about this unknown type; we know it <strong>has to be</strong> an object (because it's a reference variable), and that object has <code>S_intrf</code> in its type hierarchy. After all, if that wasn't the case, we could never get here; the JVM does not let you assign a reference to an object that isn't to variable <code>S</code>, given that it is declared as being of type <code>S_intrf</code>. This is an absolute guarantee: You can't make <code>javac</code> compile code so that this doesn't hold, and if you try to use bytecode manipulation shenanigans, the verifier will refuse to load the class.</li>\n</ul>\n<p>Given that knowledge, we can surmise one more thing: This unknown type, whatever it might be, <strong>cannot possibly be <code>T_clss</code> or any subtype of it</strong>. We know this because <code>T_clss</code> is final (therefore, no subtype of it can exist), <em>and</em>, it does not itself implement <code>S_intrf</code>.</p>\n<p>Hence, the cast will necessarily fail, it can't not. And in the Java Lang Spec, there's a rule that says the compiler must reject such a situation with a compile time error.</p>\n<p>We can 'prove' this by reading the JLS, but I'll leave that as an exercise to the reader. A more pragmatic way to show this truly is the answer, is to simply remove the <code>final</code>. Now, it <em>does</em> compile! If you then run it, you get, as expected, a <code>ClassCastException</code>.</p>\n<p>Without <code>final</code>, one could write e.g. <code>class Example extends T_clss implements S_intrf {}</code> and now we have a type such that an instance of this could <em>both</em> [A] be referred to by variable <code>S</code>, and [B] can be cast to <code>T_clss</code>.</p>\n<p>By the rules of JLS, the fact that a code analyser can trivially figure out that variable <code>S</code> in fact refers to an instance of <code>S_clss()</code> is <strong>not</strong> taken into consideration. The rules of the analysis that leads to 'oh, the analyser says this code will always fail, therefore refuse to compile it' is set in stone, spelled out by the JLS, and a compiler must adhere to it exactly.</p>\n<hr />\n<p>The §5.5.1 clause is most likely referring to the fact that you can use the cast operation to make assertions about the stuff in the generics part; you can for example do:</p>\n<pre><code>List&lt;Object&gt; foo = ...;\nList&lt;String&gt; bar = (List&lt;String&gt;) foo;\n</code></pre>\n<p>This compiles, with a warning, as the java compiler is not going to generate any code or give you any guarantees that the list in fact only contains strings. §5.5.1 is talking about casts where the non-generics part is useless (e.g. casting an expression of type <code>List</code> to <code>List</code>, which is obviously pointless), but the generics part is relevant - e.g. the above snippet.</p>\n"}],"owner":{"account_id":16188208,"reputation":493,"user_id":11687703,"display_name":"theutonium.18"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74533018,"answer_count":1,"score":2,"last_activity_date":1669135112,"creation_date":1669119833,"question_id":74532578,"body_markdown":"Consider the following clause of JLS 8 [&#167;5.5.1](https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.1)\r\n\r\n&gt; Blockquote\r\n&gt; If S is an interface type:\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; &gt; If T is a class type that is final, then:\r\n&gt; &gt; \r\n&gt; &gt; ...\r\n&gt; &gt;\r\n&gt; &gt; &gt; – Otherwise, S is either a parameterized type that is an invocation of some\r\ngeneric type declaration G, or a raw type corresponding to a generic type\r\ndeclaration G. Then there must exist a supertype X of T, such that X is an\r\ninvocation of G, or a compile-time error occurs.\r\n\r\nHere is the code example I tried to frame based on my understanding:\r\n```java\r\nclass Scratch {\r\n  public static void main(String[] args) {\r\n    S_intrf S = new S_clss();\r\n    T_clss T = (T_clss) S;\r\n  }\r\n}\r\n\r\ninterface G&lt;T&gt; {}\r\n\r\ninterface S_intrf extends G&lt;String&gt; {}\r\nclass S_clss implements S_intrf {}\r\n\r\ninterface X extends G&lt;String&gt; {}\r\nfinal class T_clss implements X {}\r\n```\r\n**The diagram shows what I tried to implement in the example:** \r\n[![enter image description here][1]][1]\r\n\r\n- Here the `interface G&lt;&gt;` is the generic super type that is being used to generate other types based on the clause:\r\n- **Not sure why I am getting compilation error at that section?** \r\n- In the `S -&gt; T` conversion - my target type is Parameterized type and final type which is complying all the rules that JLS mentions for validity of the cast operation.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JyoRs.png\r\n\r\n\r\n","title":"Rule for Cast operator validity when Interface held type is converted to a final class Type according to JLS","body":"<p>Consider the following clause of JLS 8 <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.5.1\" rel=\"nofollow noreferrer\">§5.5.1</a></p>\n<blockquote>\n<p>Blockquote\nIf S is an interface type:</p>\n<p>...</p>\n<blockquote>\n<p>If T is a class type that is final, then:</p>\n<p>...</p>\n<blockquote>\n<p>– Otherwise, S is either a parameterized type that is an invocation of some\ngeneric type declaration G, or a raw type corresponding to a generic type\ndeclaration G. Then there must exist a supertype X of T, such that X is an\ninvocation of G, or a compile-time error occurs.</p>\n</blockquote>\n</blockquote>\n</blockquote>\n<p>Here is the code example I tried to frame based on my understanding:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Scratch {\n  public static void main(String[] args) {\n    S_intrf S = new S_clss();\n    T_clss T = (T_clss) S;\n  }\n}\n\ninterface G&lt;T&gt; {}\n\ninterface S_intrf extends G&lt;String&gt; {}\nclass S_clss implements S_intrf {}\n\ninterface X extends G&lt;String&gt; {}\nfinal class T_clss implements X {}\n</code></pre>\n<p><strong>The diagram shows what I tried to implement in the example:</strong>\n<a href=\"https://i.stack.imgur.com/JyoRs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JyoRs.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>Here the <code>interface G&lt;&gt;</code> is the generic super type that is being used to generate other types based on the clause:</li>\n<li><strong>Not sure why I am getting compilation error at that section?</strong></li>\n<li>In the <code>S -&gt; T</code> conversion - my target type is Parameterized type and final type which is complying all the rules that JLS mentions for validity of the cast operation.</li>\n</ul>\n"},{"tags":["java","concurrency","akka","actor"],"answers":[{"tags":[],"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669134921,"creation_date":1669134921,"answer_id":74536087,"question_id":74530132,"body_markdown":"The actor model really helps with managing in-memory state and dramatically simplifies patterns/techniques like digital twins and memory image through the concurrency aspects.\r\n\r\nThere are other benefits: communication and latency being explicit in the model facilitating distribution is a major one... the closer an application is to a pure actor model the more able one is to present many replicas as one application with the attendant resiliency benefits.  There&#39;s also a failure-handling story (distinct from error-handling: they&#39;re rather distinct) which has a long history in building reliable systems.\r\n\r\nBut for the &quot;backend business apps&quot; you&#39;re talking about, where (from the talk of bounded contexts etc.) it seems you&#39;re following at least some DDD patterns, being able to keep state in memory is a pretty big win.\r\n\r\nConsider a DDD aggregate noting that all access to the entities within that aggregate is through its root and noting that an aggregate forms a consistency boundary.  These both conform well to the actor model: the model&#39;s concurrency guarantees only hold when the actor&#39;s internal state is only accessible via the actor and the consistency boundary is trivially satisfied by encoding operations on the aggregate as messages/commands to the actor and relying on the one-message-at-a-time processing.  So it&#39;s reasonable to model each instance of an aggregate as an actor.\r\n\r\nFor simplicity, I&#39;m going to assume (without loss of generality, but the one-aggregate-multiple-entity case introduces some complexity around preserving an illusion to the outside of one-message-at-a-time: the broad approach there in Akka terms is to map the aggregate to a sharded entity (there is a terminological mismatch...) and the entities in the aggregate to (likely persistent) child actors of that entity) that the aggregate contains a single entity.\r\n\r\nA request comes in, we resolve the aggregate root for the request, and we have a `Map&lt;AggregateRoot, ActorRef&lt;AggregateCommand&gt;&gt;` (I&#39;m using the typed API here, and we can assume that the map is concurrent) tracking the active in-memory instances of the aggregate.  If there&#39;s already an instance in memory, we translate the request into an `AggregateCommand` and send it to the actor (we&#39;ll probably be using the ask pattern so that we can return a different response for whether the command was accepted or rejected); if there isn&#39;t already an instance in memory, we&#39;ll spawn one and save it in the map before proceeding as before.\r\n\r\nAs a direct translation of the old logic, our aggregate actor will on every command load state for its entity from the DB, verify that certain invariants hold, process the command to update the in-memory state, persist that updated state and raise an event (presumably some sort of transactional outbox pattern is in use, otherwise there will be situations where no event was actually raised even though the state was updated...).\r\n\r\nIt&#39;s not clear what strategy you&#39;re taking with respect to concurrent command execution (I&#39;ll ignore event sourcing for the moment).  Perhaps you&#39;re able to encode all of your domain constraints in your database schema (letting the database take care of concurrency), which is great (we should all be so lucky!), though having the rules of the domain spread between our code and our DB schema introduces a potential point-of-conflict and means some category of changes to those rules requires a schema migration and all of that pain.  Alternatively, some optimistic concurrency control might be at work: if a concurrent update has gone through, we might go back to reload from the DB and onwards.\r\n\r\nBecause the actor and the concurrent `Map` combine to guard against concurrent modification (we&#39;ve basically introduced pessimistic concurrency control), we can persist under the assumption of no concurrency, thus not paying a concurrency tax.  Likewise, we can dispense with loading the entity from the DB and verifying that invariants hold with every message: as long as there&#39;s at most one actor for this instance of the aggregate active at any one time and only such an actor updates the DB (and the command processing upholds the invariants, which you&#39;d really hope was the case before), it suffices to load the entity into memory when the actor starts up and use the same in-memory state from command to command.  You&#39;re basically declaring the in-memory representation the source-of-truth with the DB representation only there for durability, and you&#39;ve also created a single-source-of-truth for the domain logic and constraints.  As a side benefit, you&#39;ve eliminated a majority of your DB load under concurrency (reads, DB concurrency resolution, retries under concurrency).\r\n\r\nThis sounds complex, but there are pre-existing implementations of this pattern: the concurrent `Map` is provided by Akka Cluster Sharding (note that a cluster of 1 node is perfectly acceptable) and I&#39;ve basically just described Akka Persistence&#39;s `DurableStateBehavior` API.\r\n\r\nNote that we&#39;ve dramatically shifted the DB&#39;s workload: it&#39;s gone from a basically 1 read:1 write to 1 read:_n_ writes (_n_ &gt;= 1).  You can now tune the DB for writes, especially if you&#39;re doing CQRS (and if you&#39;re publishing domain events for other bounded contexts, you&#39;re doing at least some CQRS already).  Shifting to event sourcing (e.g. Akka Persistence&#39;s `EventSourcedBehavior`), if done with fine-grained events, reduces the cost of the writes at the expense of the reads (since the events only concern part of the entity and can be small while reading a snapshot and then many events almost surely is more expensive than reading the whole state once), this optimization magnifies the benefits of our new write-heavy workload.\r\n\r\n(Disclaimer: I&#39;m employed by Lightbend, which is the primary developer of Akka, but this is the same answer I&#39;d give even before that employment)","title":"Does the Actor Model make most sense when dealing with concurrent in-memory state","body":"<p>The actor model really helps with managing in-memory state and dramatically simplifies patterns/techniques like digital twins and memory image through the concurrency aspects.</p>\n<p>There are other benefits: communication and latency being explicit in the model facilitating distribution is a major one... the closer an application is to a pure actor model the more able one is to present many replicas as one application with the attendant resiliency benefits.  There's also a failure-handling story (distinct from error-handling: they're rather distinct) which has a long history in building reliable systems.</p>\n<p>But for the &quot;backend business apps&quot; you're talking about, where (from the talk of bounded contexts etc.) it seems you're following at least some DDD patterns, being able to keep state in memory is a pretty big win.</p>\n<p>Consider a DDD aggregate noting that all access to the entities within that aggregate is through its root and noting that an aggregate forms a consistency boundary.  These both conform well to the actor model: the model's concurrency guarantees only hold when the actor's internal state is only accessible via the actor and the consistency boundary is trivially satisfied by encoding operations on the aggregate as messages/commands to the actor and relying on the one-message-at-a-time processing.  So it's reasonable to model each instance of an aggregate as an actor.</p>\n<p>For simplicity, I'm going to assume (without loss of generality, but the one-aggregate-multiple-entity case introduces some complexity around preserving an illusion to the outside of one-message-at-a-time: the broad approach there in Akka terms is to map the aggregate to a sharded entity (there is a terminological mismatch...) and the entities in the aggregate to (likely persistent) child actors of that entity) that the aggregate contains a single entity.</p>\n<p>A request comes in, we resolve the aggregate root for the request, and we have a <code>Map&lt;AggregateRoot, ActorRef&lt;AggregateCommand&gt;&gt;</code> (I'm using the typed API here, and we can assume that the map is concurrent) tracking the active in-memory instances of the aggregate.  If there's already an instance in memory, we translate the request into an <code>AggregateCommand</code> and send it to the actor (we'll probably be using the ask pattern so that we can return a different response for whether the command was accepted or rejected); if there isn't already an instance in memory, we'll spawn one and save it in the map before proceeding as before.</p>\n<p>As a direct translation of the old logic, our aggregate actor will on every command load state for its entity from the DB, verify that certain invariants hold, process the command to update the in-memory state, persist that updated state and raise an event (presumably some sort of transactional outbox pattern is in use, otherwise there will be situations where no event was actually raised even though the state was updated...).</p>\n<p>It's not clear what strategy you're taking with respect to concurrent command execution (I'll ignore event sourcing for the moment).  Perhaps you're able to encode all of your domain constraints in your database schema (letting the database take care of concurrency), which is great (we should all be so lucky!), though having the rules of the domain spread between our code and our DB schema introduces a potential point-of-conflict and means some category of changes to those rules requires a schema migration and all of that pain.  Alternatively, some optimistic concurrency control might be at work: if a concurrent update has gone through, we might go back to reload from the DB and onwards.</p>\n<p>Because the actor and the concurrent <code>Map</code> combine to guard against concurrent modification (we've basically introduced pessimistic concurrency control), we can persist under the assumption of no concurrency, thus not paying a concurrency tax.  Likewise, we can dispense with loading the entity from the DB and verifying that invariants hold with every message: as long as there's at most one actor for this instance of the aggregate active at any one time and only such an actor updates the DB (and the command processing upholds the invariants, which you'd really hope was the case before), it suffices to load the entity into memory when the actor starts up and use the same in-memory state from command to command.  You're basically declaring the in-memory representation the source-of-truth with the DB representation only there for durability, and you've also created a single-source-of-truth for the domain logic and constraints.  As a side benefit, you've eliminated a majority of your DB load under concurrency (reads, DB concurrency resolution, retries under concurrency).</p>\n<p>This sounds complex, but there are pre-existing implementations of this pattern: the concurrent <code>Map</code> is provided by Akka Cluster Sharding (note that a cluster of 1 node is perfectly acceptable) and I've basically just described Akka Persistence's <code>DurableStateBehavior</code> API.</p>\n<p>Note that we've dramatically shifted the DB's workload: it's gone from a basically 1 read:1 write to 1 read:<em>n</em> writes (<em>n</em> &gt;= 1).  You can now tune the DB for writes, especially if you're doing CQRS (and if you're publishing domain events for other bounded contexts, you're doing at least some CQRS already).  Shifting to event sourcing (e.g. Akka Persistence's <code>EventSourcedBehavior</code>), if done with fine-grained events, reduces the cost of the writes at the expense of the reads (since the events only concern part of the entity and can be small while reading a snapshot and then many events almost surely is more expensive than reading the whole state once), this optimization magnifies the benefits of our new write-heavy workload.</p>\n<p>(Disclaimer: I'm employed by Lightbend, which is the primary developer of Akka, but this is the same answer I'd give even before that employment)</p>\n"}],"owner":{"account_id":931736,"reputation":155,"user_id":961502,"accept_rate":40,"display_name":"jdh961502"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669134921,"creation_date":1669108654,"question_id":74530132,"body_markdown":"I&#39;ve been looking into the Actor Model and Akka of late. As an OOP programmer I try to adhere to loose coupling and &#39;tell don&#39;t ask&#39;. I also use messaging and events to communicate between bounded contexts. So, the patterns of actors make a lot of sense to me.\r\n\r\nIt is my understanding that the main motivation for using Actors is for managing state in a concurrent environment. Most of my day to day work involves writing backend business apps where the typical pattern is load an entity from a DB, check invariants, process a command, persist, raise event. If I have a high load and a lot of concurrent changes I might choose to use Event Sourcing rather than updating a database. So really my concurrency challenges are taken care of by my database layer.\r\n\r\nSo, my question is, is the Actor Model mainly an advantage where you dealing with fast changing, concurrent and in-memory state management such as an online multi player game.\r\n\r\n\r\n\r\n","title":"Does the Actor Model make most sense when dealing with concurrent in-memory state","body":"<p>I've been looking into the Actor Model and Akka of late. As an OOP programmer I try to adhere to loose coupling and 'tell don't ask'. I also use messaging and events to communicate between bounded contexts. So, the patterns of actors make a lot of sense to me.</p>\n<p>It is my understanding that the main motivation for using Actors is for managing state in a concurrent environment. Most of my day to day work involves writing backend business apps where the typical pattern is load an entity from a DB, check invariants, process a command, persist, raise event. If I have a high load and a lot of concurrent changes I might choose to use Event Sourcing rather than updating a database. So really my concurrency challenges are taken care of by my database layer.</p>\n<p>So, my question is, is the Actor Model mainly an advantage where you dealing with fast changing, concurrent and in-memory state management such as an online multi player game.</p>\n"},{"tags":["java","encryption","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1646909702,"post_id":71422498,"comment_id":126242412,"body_markdown":"You must of course concatenate the return values of the `update()` and `doFinal()` calls. In the current case the return value of the `update()` call is simply ignored.","body":"You must of course concatenate the return values of the <code>update()</code> and <code>doFinal()</code> calls. In the current case the return value of the <code>update()</code> call is simply ignored."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1646909848,"post_id":71422498,"comment_id":126242458,"body_markdown":"For a plaintext smaller than a block it works, because `update()` returns nothing for this case, but only `doFinal()`. See the functionality of [`update()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/Cipher.html#update(byte%5B%5D)) and [`final()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/Cipher.html#doFinal(byte%5B%5D)).","body":"For a plaintext smaller than a block it works, because <code>update()</code> returns nothing for this case, but only <code>doFinal()</code>. See the functionality of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/Cipher.html#update(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>update()</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/javax/crypto/Cipher.html#doFinal(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>final()</code></a>."},{"owner":{"account_id":23843683,"reputation":3,"user_id":17848437,"display_name":"PeterJ"},"score":0,"creation_date":1669280805,"post_id":71422498,"comment_id":131610366,"body_markdown":"Sorry Topaco - thanks for your clarifications by the way.","body":"Sorry Topaco - thanks for your clarifications by the way."}],"answers":[{"tags":[],"owner":{"account_id":1714642,"reputation":687,"user_id":1571996,"accept_rate":28,"display_name":"Michael Remijan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669134920,"creation_date":1669134920,"answer_id":74536086,"question_id":71422498,"body_markdown":"I have updated my original blog post to fix the error Peter found. \r\n\r\nhttps://mjremijan.blogspot.com/2017/12/choosing-java-cryptographic-algorithms_22.html\r\n\r\nFor demonstration purposes, I made my `Aes` class abstract with two new concrete classes which extend it: \r\n\r\n 1. [AesUsingSinglePartEncryption.java](https://github.com/mjremijan/thoth-cryptography/blob/master/thoth-cryptography-03-encryption-symmetric-aes256/src/main/java/org/thoth/crypto/symmetric/AesUsingSinglePartEncryption.java) - Demonstrates the single-part encryption operation, which uses a single call to `Cipher#doFinal(byte[])` to get the encrypted bytes.\r\n2. [AesUsingMultiplePartEncryption.java](https://github.com/mjremijan/thoth-cryptography/blob/master/thoth-cryptography-03-encryption-symmetric-aes256/src/main/java/org/thoth/crypto/symmetric/AesUsingMultiplePartEncryption.java) - Demonstrates the multiple-part encryption operation which makes multiple calls to `Cipher#update(byte[])` and then a final call to `Cipher#doFinal()`. All the encrypted bytes are store along the way and returned after the call to `Cipher#doFinal()`.\r\n\r\nThis solves the problem and demonstrates two different ways of using `Cipher` to get encrypted bytes. \r\n\r\n","title":"javax.crypto.AEADBadTagException: Tag mismatch! when password.length &gt;= 16","body":"<p>I have updated my original blog post to fix the error Peter found.</p>\n<p><a href=\"https://mjremijan.blogspot.com/2017/12/choosing-java-cryptographic-algorithms_22.html\" rel=\"nofollow noreferrer\">https://mjremijan.blogspot.com/2017/12/choosing-java-cryptographic-algorithms_22.html</a></p>\n<p>For demonstration purposes, I made my <code>Aes</code> class abstract with two new concrete classes which extend it:</p>\n<ol>\n<li><a href=\"https://github.com/mjremijan/thoth-cryptography/blob/master/thoth-cryptography-03-encryption-symmetric-aes256/src/main/java/org/thoth/crypto/symmetric/AesUsingSinglePartEncryption.java\" rel=\"nofollow noreferrer\">AesUsingSinglePartEncryption.java</a> - Demonstrates the single-part encryption operation, which uses a single call to <code>Cipher#doFinal(byte[])</code> to get the encrypted bytes.</li>\n<li><a href=\"https://github.com/mjremijan/thoth-cryptography/blob/master/thoth-cryptography-03-encryption-symmetric-aes256/src/main/java/org/thoth/crypto/symmetric/AesUsingMultiplePartEncryption.java\" rel=\"nofollow noreferrer\">AesUsingMultiplePartEncryption.java</a> - Demonstrates the multiple-part encryption operation which makes multiple calls to <code>Cipher#update(byte[])</code> and then a final call to <code>Cipher#doFinal()</code>. All the encrypted bytes are store along the way and returned after the call to <code>Cipher#doFinal()</code>.</li>\n</ol>\n<p>This solves the problem and demonstrates two different ways of using <code>Cipher</code> to get encrypted bytes.</p>\n"}],"owner":{"account_id":23843683,"reputation":3,"user_id":17848437,"display_name":"PeterJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3965,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74536086,"answer_count":1,"score":0,"last_activity_date":1669134920,"creation_date":1646907650,"question_id":71422498,"body_markdown":"I am newbie in regards to AES encryption/decryption. \r\nI found the following nice article from Michael Remijan \r\nhttps://www.javacodegeeks.com/2017/12/choosing-java-cryptographic-algorithms-part-2-single-key-symmetric-encryption.html\r\n\r\nI have tried the example tests, and it runs just fine whith smaller length passwords.\r\nHowever when I change the length of the message (password) string to a length &gt;= 16 it fails with the following exception.\r\n\r\n    javax.crypto.AEADBadTagException: Tag mismatch!\r\n    \r\n    at com.sun.crypto.provider.GaloisCounterMode.decryptFinal(GaloisCounterMode.java:578)\r\n    at com.sun.crypto.provider.CipherCore.finalNoPadding(CipherCore.java:1049)\r\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:985)\r\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:847)\r\n    at com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:446)\r\n    at javax.crypto.Cipher.doFinal(Cipher.java:2047)\r\n\r\nI have contacted Michael about this issue, yet he does not currently know why this behaviour occurs.\r\n\r\nHowever I recently just found a fix for this but I unfortunately do not understand why. I hope you guys can help here :-)\r\n\r\nThe fix looks like this and is to be found in the encrypt method of the Aes class.\r\nThe original encrypt method in the Aes class (from the article) contains the following : \r\n\r\n    public byte[] encrypt(String message, Optional&lt;String&gt; aad) {\r\n    ......\r\n    // Add message to encrypt\r\n    c.update(message.getBytes(&quot;UTF-8&quot;));\r\n          \r\n    // Encrypt\r\n    byte[] encryptedBytes = c.doFinal();\r\n    //....\r\n\r\nI changed it to this :\r\n\r\n    public byte[] encrypt(String message, Optional&lt;String&gt; aad) {\r\n    .....\r\n    // Add message to encrypt\r\n    // REMOVE THIS c.update(message.getBytes(&quot;UTF-8&quot;));\r\n            \r\n    // Encrypt\r\n    byte[] encryptedBytes = c.doFinal(message.getBytes(&quot;UTF-8&quot;));\r\n    .....\r\n\r\n     \r\n\r\nand it works :-) but why ?\r\n\r\nThanks alot.\r\n\r\n\r\n\r\n","title":"javax.crypto.AEADBadTagException: Tag mismatch! when password.length &gt;= 16","body":"<p>I am newbie in regards to AES encryption/decryption.\nI found the following nice article from Michael Remijan\n<a href=\"https://www.javacodegeeks.com/2017/12/choosing-java-cryptographic-algorithms-part-2-single-key-symmetric-encryption.html\" rel=\"nofollow noreferrer\">https://www.javacodegeeks.com/2017/12/choosing-java-cryptographic-algorithms-part-2-single-key-symmetric-encryption.html</a></p>\n<p>I have tried the example tests, and it runs just fine whith smaller length passwords.\nHowever when I change the length of the message (password) string to a length &gt;= 16 it fails with the following exception.</p>\n<pre><code>javax.crypto.AEADBadTagException: Tag mismatch!\n\nat com.sun.crypto.provider.GaloisCounterMode.decryptFinal(GaloisCounterMode.java:578)\nat com.sun.crypto.provider.CipherCore.finalNoPadding(CipherCore.java:1049)\nat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:985)\nat com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:847)\nat com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:446)\nat javax.crypto.Cipher.doFinal(Cipher.java:2047)\n</code></pre>\n<p>I have contacted Michael about this issue, yet he does not currently know why this behaviour occurs.</p>\n<p>However I recently just found a fix for this but I unfortunately do not understand why. I hope you guys can help here :-)</p>\n<p>The fix looks like this and is to be found in the encrypt method of the Aes class.\nThe original encrypt method in the Aes class (from the article) contains the following :</p>\n<pre><code>public byte[] encrypt(String message, Optional&lt;String&gt; aad) {\n......\n// Add message to encrypt\nc.update(message.getBytes(&quot;UTF-8&quot;));\n      \n// Encrypt\nbyte[] encryptedBytes = c.doFinal();\n//....\n</code></pre>\n<p>I changed it to this :</p>\n<pre><code>public byte[] encrypt(String message, Optional&lt;String&gt; aad) {\n.....\n// Add message to encrypt\n// REMOVE THIS c.update(message.getBytes(&quot;UTF-8&quot;));\n        \n// Encrypt\nbyte[] encryptedBytes = c.doFinal(message.getBytes(&quot;UTF-8&quot;));\n.....\n\n \n</code></pre>\n<p>and it works :-) but why ?</p>\n<p>Thanks alot.</p>\n"},{"tags":["java","google-cloud-platform","vert.x","google-cloud-bigtable"],"comments":[{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":1,"creation_date":1669187957,"post_id":74531305,"comment_id":131584948,"body_markdown":"Have you considered generating a Vert.x client with vertx-grpc ? See https://vertx.io/docs/vertx-grpc/java/#_stub_api_2 and https://github.com/vert-x3/vertx-examples/blob/4.x/grpc-examples/src/main/java/io/vertx/example/grpc/empty/ClientWithStub.java","body":"Have you considered generating a Vert.x client with vertx-grpc ? See <a href=\"https://vertx.io/docs/vertx-grpc/java/#_stub_api_2\" rel=\"nofollow noreferrer\">vertx.io/docs/vertx-grpc/java/#_stub_api_2</a> and <a href=\"https://github.com/vert-x3/vertx-examples/blob/4.x/grpc-examples/src/main/java/io/vertx/example/grpc/empty/ClientWithStub.java\" rel=\"nofollow noreferrer\">github.com/vert-x3/vertx-examples/blob/4.x/grpc-examples/src&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6552130,"reputation":896,"user_id":5066169,"accept_rate":80,"display_name":"Dharmvir Tiwari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669134698,"creation_date":1669134698,"answer_id":74536040,"question_id":74531305,"body_markdown":"The block was due to the bigtable client being created in a normal vertical which blocks the event loop when making the call. Moving the instantiation of the client to a worker vertical solved the issue.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rOk5m.png\r\n\r\nHere the worker vertical should manage the lifecycle of any blocking third party libraries.","title":"GCP Bigtable client with Vert.X blocking out","body":"<p>The block was due to the bigtable client being created in a normal vertical which blocks the event loop when making the call. Moving the instantiation of the client to a worker vertical solved the issue.</p>\n<p><a href=\"https://i.stack.imgur.com/rOk5m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rOk5m.png\" alt=\"enter image description here\" /></a></p>\n<p>Here the worker vertical should manage the lifecycle of any blocking third party libraries.</p>\n"}],"owner":{"account_id":6552130,"reputation":896,"user_id":5066169,"accept_rate":80,"display_name":"Dharmvir Tiwari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669134698,"creation_date":1669113787,"question_id":74531305,"body_markdown":"I am using Vert.X and Bigtable client library provided by GCP. The call for querying data is made from a worker pool/executeBlocking. But the AsyncResult which i receive is null and after a while warning logs gets printed for the worked thread being blocked for too long.\r\n\r\nGradle Dependencies:\r\n\r\n```\r\nobject Versions {\r\n  const val protobuf = &quot;3.20.1&quot;\r\n  const val bigtable = &quot;2.5.3&quot;\r\n}\r\n\r\ndependencies {\r\n  apply(plugin = &quot;io.freefair.lombok&quot;)\r\n\r\n  implementation(&quot;com.google.protobuf&quot;, &quot;protobuf-java&quot;, Versions.protobuf)\r\n  implementation(&quot;com.google.cloud&quot;, &quot;google-cloud-bigtable&quot;, Versions.bigtable)\r\n// https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\r\n  implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.14.0&quot;)\r\n  compileOnly(&quot;org.projectlombok:lombok&quot;)\r\n  annotationProcessor(&quot;org.projectlombok:lombok&quot;)\r\n  implementation(platform(&quot;io.vertx:vertx-stack-depchain:$vertxVersion&quot;))\r\n  implementation(&quot;org.slf4j:slf4j-api:1.7.+&quot;)\r\n  implementation(&quot;ch.qos.logback:logback-classic:1.2.+&quot;)\r\n  implementation(&quot;io.vertx:vertx-config&quot;)\r\n  implementation(&quot;io.vertx:vertx-web&quot;)\r\n  implementation(&quot;io.vertx:vertx-micrometer-metrics&quot;)\r\n  implementation(&quot;io.vertx:vertx-opentracing&quot;)\r\n  testImplementation(&quot;io.vertx:vertx-junit5&quot;)\r\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter:$junitJupiterVersion&quot;)\r\n}\r\n```\r\n\r\n\r\n&gt; Bigtable API call:\r\n\r\n```\r\nvertx.&lt;Row&gt;executeBlocking(t-&gt;{\r\n      var row=dataClient.readRow(TABLE_ID,&quot;1234#DATA&quot;);\r\n      t.complete(row);\r\n    }).onComplete(r-&gt;{\r\n      log.info(&quot;Result&quot;+r.result());\r\n    });\r\n```\r\n\r\nBelow are the logs:\r\n11:36:46.376 [vert.x-worker-thread-1] INFO  StateRepository - StateRepository being deployed\r\n\r\n11:36:46.379 [vert.x-worker-thread-1] INFO  StateRepository - Resultnull\r\n\r\nI am thinking that Bigtable client creates an executor internally to handle the connection and is not using the worked thread pool under which it was initialised. But it might be something else altogether","title":"GCP Bigtable client with Vert.X blocking out","body":"<p>I am using Vert.X and Bigtable client library provided by GCP. The call for querying data is made from a worker pool/executeBlocking. But the AsyncResult which i receive is null and after a while warning logs gets printed for the worked thread being blocked for too long.</p>\n<p>Gradle Dependencies:</p>\n<pre><code>object Versions {\n  const val protobuf = &quot;3.20.1&quot;\n  const val bigtable = &quot;2.5.3&quot;\n}\n\ndependencies {\n  apply(plugin = &quot;io.freefair.lombok&quot;)\n\n  implementation(&quot;com.google.protobuf&quot;, &quot;protobuf-java&quot;, Versions.protobuf)\n  implementation(&quot;com.google.cloud&quot;, &quot;google-cloud-bigtable&quot;, Versions.bigtable)\n// https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\n  implementation(&quot;com.fasterxml.jackson.core:jackson-databind:2.14.0&quot;)\n  compileOnly(&quot;org.projectlombok:lombok&quot;)\n  annotationProcessor(&quot;org.projectlombok:lombok&quot;)\n  implementation(platform(&quot;io.vertx:vertx-stack-depchain:$vertxVersion&quot;))\n  implementation(&quot;org.slf4j:slf4j-api:1.7.+&quot;)\n  implementation(&quot;ch.qos.logback:logback-classic:1.2.+&quot;)\n  implementation(&quot;io.vertx:vertx-config&quot;)\n  implementation(&quot;io.vertx:vertx-web&quot;)\n  implementation(&quot;io.vertx:vertx-micrometer-metrics&quot;)\n  implementation(&quot;io.vertx:vertx-opentracing&quot;)\n  testImplementation(&quot;io.vertx:vertx-junit5&quot;)\n  testImplementation(&quot;org.junit.jupiter:junit-jupiter:$junitJupiterVersion&quot;)\n}\n</code></pre>\n<blockquote>\n<p>Bigtable API call:</p>\n</blockquote>\n<pre><code>vertx.&lt;Row&gt;executeBlocking(t-&gt;{\n      var row=dataClient.readRow(TABLE_ID,&quot;1234#DATA&quot;);\n      t.complete(row);\n    }).onComplete(r-&gt;{\n      log.info(&quot;Result&quot;+r.result());\n    });\n</code></pre>\n<p>Below are the logs:\n11:36:46.376 [vert.x-worker-thread-1] INFO  StateRepository - StateRepository being deployed</p>\n<p>11:36:46.379 [vert.x-worker-thread-1] INFO  StateRepository - Resultnull</p>\n<p>I am thinking that Bigtable client creates an executor internally to handle the connection and is not using the worked thread pool under which it was initialised. But it might be something else altogether</p>\n"},{"tags":["java","reflection","java-17"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1669133884,"post_id":74535107,"comment_id":131572659,"body_markdown":"`lambda`&#39;s class is a [hidden class](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#isHidden()) and the [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/reflect/Field.html#set(java.lang.Object,java.lang.Object)) of `set()` states: &quot;If the underlying field is final, this Field object has write access if and only if the following conditions are met:  ... the field&#39;s declaring class is not a hidden class ... If any of the above checks is not met, this method throws an IllegalAccessException&quot;","body":"<code>lambda</code>&#39;s class is a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#isHidden()\" rel=\"nofollow noreferrer\">hidden class</a> and the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/reflect/Field.html#set(java.lang.Object,java.lang.Object)\" rel=\"nofollow noreferrer\">documentation</a> of <code>set()</code> states: &quot;If the underlying field is final, this Field object has write access if and only if the following conditions are met:  ... the field&#39;s declaring class is not a hidden class ... If any of the above checks is not met, this method throws an IllegalAccessException&quot;"},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":10,"creation_date":1669146888,"post_id":74535107,"comment_id":131577088,"body_markdown":"It is not &quot;supposed&quot; to work in Java 11, either; you just managed to get away with it by luck, and your luck ran out.  What reason do you even have to believe that the first field returned by `getDeclaredFields` corresponds to any captured value, let alone the one you think, let alone to think that by rewriting it you can predictably change the behavior of the lambda?  You relied heavily on questionable assumptions about the implementation details of the translation scheme.  This is exactly what you&#39;re not supposed to do, and this is why.","body":"It is not &quot;supposed&quot; to work in Java 11, either; you just managed to get away with it by luck, and your luck ran out.  What reason do you even have to believe that the first field returned by <code>getDeclaredFields</code> corresponds to any captured value, let alone the one you think, let alone to think that by rewriting it you can predictably change the behavior of the lambda?  You relied heavily on questionable assumptions about the implementation details of the translation scheme.  This is exactly what you&#39;re not supposed to do, and this is why."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1669204033,"post_id":74535107,"comment_id":131590207,"body_markdown":"The reasoning about this feature is similar to what has been said in [this answer](https://stackoverflow.com/a/71051688/2711488) about `record` fields. Serialization doesn’t store the lambda’s internal representation and cloning isn’t supported, so there is no reason to support overwriting `final` fields.","body":"The reasoning about this feature is similar to what has been said in <a href=\"https://stackoverflow.com/a/71051688/2711488\">this answer</a> about <code>record</code> fields. Serialization doesn’t store the lambda’s internal representation and cloning isn’t supported, so there is no reason to support overwriting <code>final</code> fields."}],"answers":[{"tags":[],"owner":{"account_id":13343141,"reputation":515,"user_id":9630748,"display_name":"Arnault Le Pr&#233;vost-Corvellec"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1669134509,"creation_date":1669134509,"answer_id":74535988,"question_id":74535107,"body_markdown":"Short answer : no you can&#39;t doing that this way\r\n\r\nExplanation : I don&#39;t test if on previsous version of java this can work but in j17 i am sur you can&#39;t : the lambda you use is basicaly something close of an innerClass and your are trying to edit the class in which this as been declare and that reference done by using a class pattern that is in the jvm. by the way the message is quite explicite the reference is a final one so no set will be allowed.\r\n\r\nmay be a solution will be to change le lambda as a Biconsumer\r\n```java \r\nBiConsumer&lt;LambdaArg1ReflectionTest,String&gt; lambda = (o,s) -&gt; o.parseInt(s, 7);\r\n```\r\nthis way you can specify the object on which apply your fonction including a stub.","title":"Java 17 reflection: assign the &quot;this&quot; reference of a lambda object","body":"<p>Short answer : no you can't doing that this way</p>\n<p>Explanation : I don't test if on previsous version of java this can work but in j17 i am sur you can't : the lambda you use is basicaly something close of an innerClass and your are trying to edit the class in which this as been declare and that reference done by using a class pattern that is in the jvm. by the way the message is quite explicite the reference is a final one so no set will be allowed.</p>\n<p>may be a solution will be to change le lambda as a Biconsumer</p>\n<pre class=\"lang-java prettyprint-override\"><code>BiConsumer&lt;LambdaArg1ReflectionTest,String&gt; lambda = (o,s) -&gt; o.parseInt(s, 7);\n</code></pre>\n<p>this way you can specify the object on which apply your fonction including a stub.</p>\n"}],"owner":{"account_id":7016426,"reputation":101,"user_id":5377597,"display_name":"tsoiland"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1669134509,"creation_date":1669130849,"question_id":74535107,"body_markdown":"This code runs fine in java 11.\r\n\r\n    package test;\r\n    \r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.util.function.Consumer;\r\n    \r\n    public class LambdaArg1ReflectionTest {\r\n        @Test\r\n        public void test() throws IllegalAccessException {\r\n            // Create a lambda with reference to parent class (this)\r\n            Consumer&lt;String&gt; lambda = s -&gt; this.parseInt(s, 7);\r\n    \r\n            // Get the value from the lambdas &quot;this&quot; reference\r\n            Field lambda_arg1_field = lambda.getClass().getDeclaredFields()[0];\r\n            lambda_arg1_field.setAccessible(true);\r\n            Object lambda_arg1_value = lambda_arg1_field.get(lambda);\r\n            // Assert that the value is as we expected\r\n            Assert.assertEquals(this, lambda_arg1_value);\r\n    \r\n            // Attempt to assign the same value\r\n            lambda_arg1_field.set(lambda, lambda_arg1_value);\r\n        }\r\n    \r\n        private int parseInt(String s, int i) {\r\n            return Integer.parseInt(s + i);\r\n        }\r\n    }\r\nBut, in java 17 it throws an exception:\r\n\r\n        java.lang.IllegalAccessException: Can not set final test.LambdaArg1ReflectionTest field test.LambdaArg1ReflectionTest$$Lambda$40/0x0000000800c191a8.arg$1 to test.LambdaArg1ReflectionTest\r\n    \r\n        at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:76)\r\n        at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:80)\r\n        at java.base/jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl.set(UnsafeQualifiedObjectFieldAccessorImpl.java:79)\r\n        at java.base/java.lang.reflect.Field.set(Field.java:799)\r\n        at test.LambdaArg1ReflectionTest.test(LambdaArg1ReflectionTest.java:23)\r\n\r\n- Why?\r\n- Is it not supposed to work in java 17?\r\n- Is there any way to work around this?\r\n\r\nObviously this is an example. What the real code attempts to do is to replace the lambdas this reference with a spy object, invoke the lambda and then capture the arguments given to this.parseInt. Ultimately what it does is to serialize the first method invocation of a lambda.\r\n","title":"Java 17 reflection: assign the &quot;this&quot; reference of a lambda object","body":"<p>This code runs fine in java 11.</p>\n<pre><code>package test;\n\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.lang.reflect.Field;\nimport java.util.function.Consumer;\n\npublic class LambdaArg1ReflectionTest {\n    @Test\n    public void test() throws IllegalAccessException {\n        // Create a lambda with reference to parent class (this)\n        Consumer&lt;String&gt; lambda = s -&gt; this.parseInt(s, 7);\n\n        // Get the value from the lambdas &quot;this&quot; reference\n        Field lambda_arg1_field = lambda.getClass().getDeclaredFields()[0];\n        lambda_arg1_field.setAccessible(true);\n        Object lambda_arg1_value = lambda_arg1_field.get(lambda);\n        // Assert that the value is as we expected\n        Assert.assertEquals(this, lambda_arg1_value);\n\n        // Attempt to assign the same value\n        lambda_arg1_field.set(lambda, lambda_arg1_value);\n    }\n\n    private int parseInt(String s, int i) {\n        return Integer.parseInt(s + i);\n    }\n}\n</code></pre>\n<p>But, in java 17 it throws an exception:</p>\n<pre><code>    java.lang.IllegalAccessException: Can not set final test.LambdaArg1ReflectionTest field test.LambdaArg1ReflectionTest$$Lambda$40/0x0000000800c191a8.arg$1 to test.LambdaArg1ReflectionTest\n\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:76)\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorImpl.throwFinalFieldIllegalAccessException(UnsafeFieldAccessorImpl.java:80)\n    at java.base/jdk.internal.reflect.UnsafeQualifiedObjectFieldAccessorImpl.set(UnsafeQualifiedObjectFieldAccessorImpl.java:79)\n    at java.base/java.lang.reflect.Field.set(Field.java:799)\n    at test.LambdaArg1ReflectionTest.test(LambdaArg1ReflectionTest.java:23)\n</code></pre>\n<ul>\n<li>Why?</li>\n<li>Is it not supposed to work in java 17?</li>\n<li>Is there any way to work around this?</li>\n</ul>\n<p>Obviously this is an example. What the real code attempts to do is to replace the lambdas this reference with a spy object, invoke the lambda and then capture the arguments given to this.parseInt. Ultimately what it does is to serialize the first method invocation of a lambda.</p>\n"},{"tags":["java","cucumber","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":7081386,"reputation":95,"user_id":5419683,"display_name":"krisc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669133962,"creation_date":1669133962,"answer_id":74535856,"question_id":74460096,"body_markdown":"Maybe you can rewrite the Gherkin Steps in a way that is not conditional. And within the step that is where you can write the condition as an if-else statement.\r\n```\r\nScenario: --\r\n  Given --\r\n  When User logs into application\r\n  Then navigate to fetch button\r\n\r\n--\r\n\r\n@Then(&#39;navigate to fetch button&#39;)\r\n  // check the element\r\n  // add an if-else statement\r\n```","title":"How to skip cucmber steps if certain condition matched","body":"<p>Maybe you can rewrite the Gherkin Steps in a way that is not conditional. And within the step that is where you can write the condition as an if-else statement.</p>\n<pre><code>Scenario: --\n  Given --\n  When User logs into application\n  Then navigate to fetch button\n\n--\n\n@Then('navigate to fetch button')\n  // check the element\n  // add an if-else statement\n</code></pre>\n"}],"owner":{"account_id":3756894,"reputation":49,"user_id":3123056,"display_name":"Johny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669133962,"creation_date":1668600029,"question_id":74460096,"body_markdown":"In cucumber with java i am writing a test case, where in one step i am looking for one web element.\r\nIf this web element is not found then i want to skip all the steps below this and also wants to mark this scenario as pass.\r\n\r\nHow to do that ?\r\n\r\nWhen User logs into application\r\nThen check if element is present (if this web element is not present then skip below steps)\r\nThen navigate to Queue page\r\nThen click on Fetch button","title":"How to skip cucmber steps if certain condition matched","body":"<p>In cucumber with java i am writing a test case, where in one step i am looking for one web element.\nIf this web element is not found then i want to skip all the steps below this and also wants to mark this scenario as pass.</p>\n<p>How to do that ?</p>\n<p>When User logs into application\nThen check if element is present (if this web element is not present then skip below steps)\nThen navigate to Queue page\nThen click on Fetch button</p>\n"},{"tags":["java","jboss7.x","resteasy","jboss6.x","jersey-1.0"],"comments":[{"owner":{"account_id":1162076,"reputation":93,"user_id":1141387,"display_name":"wattale"},"score":0,"creation_date":1603344324,"post_id":64469030,"comment_id":114008546,"body_markdown":"What CDI implementation are you using ?","body":"What CDI implementation are you using ?"},{"owner":{"account_id":19791748,"reputation":11,"user_id":14494618,"display_name":"proceso"},"score":0,"creation_date":1603344379,"post_id":64469030,"comment_id":114008559,"body_markdown":"I&#39;m using resteasy-cdi library version 3.9.3.SP1","body":"I&#39;m using resteasy-cdi library version 3.9.3.SP1"}],"owner":{"account_id":19791748,"reputation":11,"user_id":14494618,"display_name":"proceso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669133941,"creation_date":1603302425,"question_id":64469030,"body_markdown":"Recently i migrated a jboss eap 6.4 application to jboss eap 7.3. \r\n\r\nThe application uses resteasy and jersey(1.9.1) for some service implementations. \r\n\r\nSince resteasy is automatically loaded by jboss, i have excluded that from the deployment using the following confis in jboss-deployment-structure.xml \r\n\r\n    &lt;exclusions&gt;\r\n\t\t\t&lt;module name=&quot;org.jboss.resteasy.resteasy-atom-provider&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-cdi&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jaxrs&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jaxb-provider&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jackson-provider&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-jsapi&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.resteasy-multipart-provider&quot; /&gt;\r\n            &lt;module name=&quot;org.jboss.resteasy.async-http-servlet-30&quot; /&gt;\r\n\t\t\t&lt;module name=&quot;org.apache.httpcomponents&quot; /&gt;\t\t\t\r\n\t&lt;/exclusions&gt;\r\n\r\nAlso following parameters are set in the REST service war file web.xml \r\n\r\n    &lt;context-param&gt;\r\n\t\t&lt;param-name&gt;resteasy.scan&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;false&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;resteasy.scan.providers&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;false&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\t&lt;context-param&gt;\r\n\t\t&lt;param-name&gt;resteasy.scan.resources&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;false&lt;/param-value&gt;\r\n\t&lt;/context-param&gt;\r\n\r\nWhat I can not figure out is, i&#39;m getting this following error \r\n\r\n        22 Oct 2020 01:01:49,354 ERROR [org.jboss.msc.service.fail] - MSC000001: Failed to start service jboss.deployment.subunit.&quot;xxxxxx_0.ear&quot;.&quot;xxxREST.war&quot;.undertow-deployment\r\n    org.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;xxxxxx_0.ear&quot;.&quot;xxxREST.war&quot;.undertow-deployment: java.lang.RuntimeException: Initialized Extension not found\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n    \tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    \tat org.jboss.threads.JBossThread.run(JBossThread.java:485)\r\n    Caused by: java.lang.RuntimeException: Initialized Extension not found\r\n    \tat com.sun.jersey.server.impl.cdi.CDIExtension.getInitializedExtensionFromBeanManager(CDIExtension.java:196)\r\n    \tat com.sun.jersey.server.impl.cdi.CDIComponentProviderFactory.&lt;init&gt;(CDIComponentProviderFactory.java:93)\r\n    \tat com.sun.jersey.server.impl.cdi.CDIComponentProviderFactoryInitializer.initialize(CDIComponentProviderFactoryInitializer.java:76)\r\n    \tat com.sun.jersey.spi.container.servlet.WebComponent.configure(WebComponent.java:572)\r\n    \tat com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.configure(ServletContainer.java:332)\r\n    \tat com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:604)\r\n    \tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:207)\r\n    \tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n    \tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:180)\r\n    \tat io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)\r\n    \tat org.wildfly.extension.undertow.security.RunAsLifecycleInterceptor.init(RunAsLifecycleInterceptor.java:78)\r\n    \tat io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:103)\r\n    \tat io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:305)\r\n    \tat io.undertow.servlet.core.ManagedServlet.createServlet(ManagedServlet.java:145)\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:585)\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:556)\r\n    \tat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\r\n    \tat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    \tat org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\r\n    \tat io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:598)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:97)\r\n    \tat org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\r\n    \t... 8 more\r\n\r\n\r\nI would really appreciate if someone can give me some tips to solve this problem :) ","title":"Jersey error after migrating EAR from Jboss EAP 6.4 to Jboss EAP 7.3","body":"<p>Recently i migrated a jboss eap 6.4 application to jboss eap 7.3.</p>\n<p>The application uses resteasy and jersey(1.9.1) for some service implementations.</p>\n<p>Since resteasy is automatically loaded by jboss, i have excluded that from the deployment using the following confis in jboss-deployment-structure.xml</p>\n<pre><code>&lt;exclusions&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-atom-provider&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-cdi&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-jaxrs&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-jaxb-provider&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-jackson-provider&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-jsapi&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.resteasy-multipart-provider&quot; /&gt;\n        &lt;module name=&quot;org.jboss.resteasy.async-http-servlet-30&quot; /&gt;\n        &lt;module name=&quot;org.apache.httpcomponents&quot; /&gt;         \n&lt;/exclusions&gt;\n</code></pre>\n<p>Also following parameters are set in the REST service war file web.xml</p>\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;resteasy.scan&lt;/param-name&gt;\n    &lt;param-value&gt;false&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;resteasy.scan.providers&lt;/param-name&gt;\n    &lt;param-value&gt;false&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;context-param&gt;\n    &lt;param-name&gt;resteasy.scan.resources&lt;/param-name&gt;\n    &lt;param-value&gt;false&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>What I can not figure out is, i'm getting this following error</p>\n<pre><code>    22 Oct 2020 01:01:49,354 ERROR [org.jboss.msc.service.fail] - MSC000001: Failed to start service jboss.deployment.subunit.&quot;xxxxxx_0.ear&quot;.&quot;xxxREST.war&quot;.undertow-deployment\norg.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;xxxxxx_0.ear&quot;.&quot;xxxREST.war&quot;.undertow-deployment: java.lang.RuntimeException: Initialized Extension not found\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1982)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at java.lang.Thread.run(Thread.java:748)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:485)\nCaused by: java.lang.RuntimeException: Initialized Extension not found\n    at com.sun.jersey.server.impl.cdi.CDIExtension.getInitializedExtensionFromBeanManager(CDIExtension.java:196)\n    at com.sun.jersey.server.impl.cdi.CDIComponentProviderFactory.&lt;init&gt;(CDIComponentProviderFactory.java:93)\n    at com.sun.jersey.server.impl.cdi.CDIComponentProviderFactoryInitializer.initialize(CDIComponentProviderFactoryInitializer.java:76)\n    at com.sun.jersey.spi.container.servlet.WebComponent.configure(WebComponent.java:572)\n    at com.sun.jersey.spi.container.servlet.ServletContainer$InternalWebComponent.configure(ServletContainer.java:332)\n    at com.sun.jersey.spi.container.servlet.WebComponent.load(WebComponent.java:604)\n    at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:207)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:180)\n    at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:117)\n    at org.wildfly.extension.undertow.security.RunAsLifecycleInterceptor.init(RunAsLifecycleInterceptor.java:78)\n    at io.undertow.servlet.core.LifecyleInterceptorInvocation.proceed(LifecyleInterceptorInvocation.java:103)\n    at io.undertow.servlet.core.ManagedServlet$DefaultInstanceStrategy.start(ManagedServlet.java:305)\n    at io.undertow.servlet.core.ManagedServlet.createServlet(ManagedServlet.java:145)\n    at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:585)\n    at io.undertow.servlet.core.DeploymentManagerImpl$2.call(DeploymentManagerImpl.java:556)\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:42)\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1541)\n    at io.undertow.servlet.core.DeploymentManagerImpl.start(DeploymentManagerImpl.java:598)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:97)\n    at org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\n    ... 8 more\n</code></pre>\n<p>I would really appreciate if someone can give me some tips to solve this problem :)</p>\n"},{"tags":["java","sql","postgresql","jdbc"],"comments":[{"owner":{"account_id":23201300,"reputation":3123,"user_id":17296084,"display_name":"Ramin Faracov"},"score":0,"creation_date":1669133752,"post_id":74535653,"comment_id":131572609,"body_markdown":"On PostgreSQL `insert into table` with `returning` statement - this is equivalent to any select statement. Try it: `stmt.executeQuery(&quot;insert into [table] values(default,0) returning id;&quot;)`","body":"On PostgreSQL <code>insert into table</code> with <code>returning</code> statement - this is equivalent to any select statement. Try it: <code>stmt.executeQuery(&quot;insert into [table] values(default,0) returning id;&quot;)</code>"},{"owner":{"account_id":18419514,"reputation":65,"user_id":13417522,"display_name":"Aldie Yung"},"score":0,"creation_date":1669135336,"post_id":74535653,"comment_id":131573256,"body_markdown":"now I&#39;m getting this: ```java.io.NotSerializableException: org.postgresql.jdbc.PgResultSet ``` any idea what&#39;s wrong? I&#39;m using ResultSet to send data to the client in other places in the code and it&#39;s wokring fine","body":"now I&#39;m getting this: <code>java.io.NotSerializableException: org.postgresql.jdbc.PgResultSet </code> any idea what&#39;s wrong? I&#39;m using ResultSet to send data to the client in other places in the code and it&#39;s wokring fine"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1669189445,"post_id":74535653,"comment_id":131585324,"body_markdown":"@AldieYung You can&#39;t serialize a result set. If you need to serialize things, you need to get the values from the result set and pack them in a way that can be serialized. That said, you really shouldn&#39;t use Java serialization unless you really, really have to.","body":"@AldieYung You can&#39;t serialize a result set. If you need to serialize things, you need to get the values from the result set and pack them in a way that can be serialized. That said, you really shouldn&#39;t use Java serialization unless you really, really have to."}],"answers":[{"tags":[],"owner":{"display_name":"user330315"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669133807,"creation_date":1669133807,"answer_id":74535822,"question_id":74535653,"body_markdown":"You can use `getGeneratedKeys()`\r\n\r\n```java\r\nString sql = &quot;insert into the_table(some_column) values (?)&quot;;\r\nPreparedStatement pstmt = connection.prepareStatement(sql, new String[]{&quot;id&quot;});    \r\npstmt.setInt(1, 0);\r\nint numRows = pstmt.executeUpdate();\r\nResultSet keys = pstmt.getGeneratedKeys();\r\nint newId = -1;\r\nif (keys.next()) {\r\n  newId = keys.getInt(1);\r\n}\r\n```\r\n\r\nAlternatively you can also use: \r\n\r\n\r\n```java\r\nPreparedStatement pstmt = connection.prepareStatement(&quot;...&quot;, PreparedStatement.RETURN_GENERATED_KEYS);\r\n```\r\n\r\nThis also works with batchedStatements (after `pstmt.executeBatch()`)  or multi-row inserts. In that case the `if (keys.next())` must be changed to a `while()` loop to iterate over all generated IDs","title":"Can I return values with execute() or executeUpdate()?","body":"<p>You can use <code>getGeneratedKeys()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = &quot;insert into the_table(some_column) values (?)&quot;;\nPreparedStatement pstmt = connection.prepareStatement(sql, new String[]{&quot;id&quot;});    \npstmt.setInt(1, 0);\nint numRows = pstmt.executeUpdate();\nResultSet keys = pstmt.getGeneratedKeys();\nint newId = -1;\nif (keys.next()) {\n  newId = keys.getInt(1);\n}\n</code></pre>\n<p>Alternatively you can also use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement pstmt = connection.prepareStatement(&quot;...&quot;, PreparedStatement.RETURN_GENERATED_KEYS);\n</code></pre>\n<p>This also works with batchedStatements (after <code>pstmt.executeBatch()</code>)  or multi-row inserts. In that case the <code>if (keys.next())</code> must be changed to a <code>while()</code> loop to iterate over all generated IDs</p>\n"}],"owner":{"account_id":18419514,"reputation":65,"user_id":13417522,"display_name":"Aldie Yung"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669189288,"answer_count":1,"score":0,"last_activity_date":1669133807,"creation_date":1669133105,"question_id":74535653,"body_markdown":"I have a server with connection to a database in postgreSQL and I want to return the ID of a new row to the client once it is inserted.\r\nI&#39;ve tried this:\r\n```\r\nint id = stmt.execute(&quot;insert into [table] values(default,0) returning id;&quot;);                         \r\n```\r\nthe SQL statement works if I&#39;m working directly on the database but not here, I get this error:\r\norg.postgresql.util.PSQLException: A result was returned when none was expected.\r\n\r\nI&#39;m thinking its because execute() and executeUpdate() aren&#39;t supposed to return values so I added this:\r\n```\r\nstmt.execute(&quot;insert into [table] values(default,0) returning id;&quot;);\r\nResultSet id = stmt.executeQuery(&quot;select last_insert_id();&quot;);\r\n```\r\nApparently that statement is for mySQL so it doesn&#39;t work, I&#39;ve read that CURRVAL and NEXTVAL do this in postgreSQL but I haven&#39;t been able to do it and I&#39;ve also read it&#39;s not always acurate.\r\n\r\nIs there something I&#39;m missing or another way to do it?","title":"Can I return values with execute() or executeUpdate()?","body":"<p>I have a server with connection to a database in postgreSQL and I want to return the ID of a new row to the client once it is inserted.\nI've tried this:</p>\n<pre><code>int id = stmt.execute(&quot;insert into [table] values(default,0) returning id;&quot;);                         \n</code></pre>\n<p>the SQL statement works if I'm working directly on the database but not here, I get this error:\norg.postgresql.util.PSQLException: A result was returned when none was expected.</p>\n<p>I'm thinking its because execute() and executeUpdate() aren't supposed to return values so I added this:</p>\n<pre><code>stmt.execute(&quot;insert into [table] values(default,0) returning id;&quot;);\nResultSet id = stmt.executeQuery(&quot;select last_insert_id();&quot;);\n</code></pre>\n<p>Apparently that statement is for mySQL so it doesn't work, I've read that CURRVAL and NEXTVAL do this in postgreSQL but I haven't been able to do it and I've also read it's not always acurate.</p>\n<p>Is there something I'm missing or another way to do it?</p>\n"},{"tags":["java","colors","java.util.scanner"],"comments":[{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":0,"creation_date":1669133646,"post_id":74535725,"comment_id":131572571,"body_markdown":"A similar question has been answered here: https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println","body":"A similar question has been answered here: <a href=\"https://stackoverflow.com/questions/5762491/how-to-print-color-in-console-using-system-out-println\" title=\"how to print color in console using system out println\">stackoverflow.com/questions/5762491/&hellip;</a>"},{"owner":{"account_id":26720632,"reputation":1,"user_id":20324559,"display_name":"Ivan Parra"},"score":0,"creation_date":1669136441,"post_id":74535725,"comment_id":131573677,"body_markdown":"Thank&#39;s for your answer, but my objective is to switch the color in the input of the scanner if the word writed is a reserved java keyword, if not I print &quot;No es correcto&quot; in red.","body":"Thank&#39;s for your answer, but my objective is to switch the color in the input of the scanner if the word writed is a reserved java keyword, if not I print &quot;No es correcto&quot; in red."},{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":0,"creation_date":1669136770,"post_id":74535725,"comment_id":131573787,"body_markdown":"your attempt of concatenating the Strings should work. Make sure to also put an ANSI_RESET when the color should end. Your code is missing some important details (e.g., what type is acertadas) to find out why it is not working.","body":"your attempt of concatenating the Strings should work. Make sure to also put an ANSI_RESET when the color should end. Your code is missing some important details (e.g., what type is acertadas) to find out why it is not working."},{"owner":{"account_id":26895750,"reputation":296,"user_id":20473701,"display_name":"Lorenz Hetterich"},"score":1,"creation_date":1669136905,"post_id":74535725,"comment_id":131573833,"body_markdown":"oh sorry I am completly wrong and I misunderstood your question. I believe that what you are trying to do is not possible (at least not in a generic way) using simple java IO. The only way it seems possible to me is by writing your own GUI.","body":"oh sorry I am completly wrong and I misunderstood your question. I believe that what you are trying to do is not possible (at least not in a generic way) using simple java IO. The only way it seems possible to me is by writing your own GUI."}],"owner":{"account_id":26720632,"reputation":1,"user_id":20324559,"display_name":"Ivan Parra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669133389,"creation_date":1669133389,"question_id":74535725,"body_markdown":"I&#39;m doing a class exercise about reserved java keywords, and I want to change the color in the input of a scanner. Happy to hear any suggestion!\r\n\r\n[What I&#39;m trying to switch](https://i.stack.imgur.com/NWdSs.png)\r\n\r\nHere&#39;s my code if you want to take a look.\r\n\r\n```\r\nwhile (repetir || contador == max) {\r\n            String palabras = new Scanner(System.in).nextLine().toLowerCase();\r\n            \r\n            if (palabras.contains(&quot;.&quot;)) {\r\n                System.out.println(&quot;Has acertado las siguientes palabras: &quot;\r\n                        + acertadas);\r\n                repetir = false;\r\n            } else {\r\n                if(reservadas.contains(palabras)) {\r\n                    palabras = bien + palabras; //This is my attempt to switch the color\r\n                    acertadas.add(palabras);\r\n                    contador++;\r\n                } else {\r\n                    System.out.println(mal + &quot;No es correcto&quot; + ANSI_RESET);\r\n                }\r\n                if (contador == 50) {\r\n                    System.out.println(&quot;ENHORABUENA!!!&quot;);\r\n                    System.out.println(&quot;Has acertado todas las palabras &quot;\r\n                            + &quot;reservadas&quot;);\r\n                    repetir = false;\r\n                }\r\n            }\r\n            \r\n        }\r\n```\r\n\r\n\r\n\r\n\r\nWhen I press the intro keyword and the word writed in the  scanner is correct, I want to switch the color to green. ","title":"How to change the color in the input of a scanner?","body":"<p>I'm doing a class exercise about reserved java keywords, and I want to change the color in the input of a scanner. Happy to hear any suggestion!</p>\n<p><a href=\"https://i.stack.imgur.com/NWdSs.png\" rel=\"nofollow noreferrer\">What I'm trying to switch</a></p>\n<p>Here's my code if you want to take a look.</p>\n<pre><code>while (repetir || contador == max) {\n            String palabras = new Scanner(System.in).nextLine().toLowerCase();\n            \n            if (palabras.contains(&quot;.&quot;)) {\n                System.out.println(&quot;Has acertado las siguientes palabras: &quot;\n                        + acertadas);\n                repetir = false;\n            } else {\n                if(reservadas.contains(palabras)) {\n                    palabras = bien + palabras; //This is my attempt to switch the color\n                    acertadas.add(palabras);\n                    contador++;\n                } else {\n                    System.out.println(mal + &quot;No es correcto&quot; + ANSI_RESET);\n                }\n                if (contador == 50) {\n                    System.out.println(&quot;ENHORABUENA!!!&quot;);\n                    System.out.println(&quot;Has acertado todas las palabras &quot;\n                            + &quot;reservadas&quot;);\n                    repetir = false;\n                }\n            }\n            \n        }\n</code></pre>\n<p>When I press the intro keyword and the word writed in the  scanner is correct, I want to switch the color to green.</p>\n"},{"tags":["java","multithreading","process","inputstream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1483638520,"post_id":41491327,"comment_id":70188684,"body_markdown":"You need to get the output in separate threads.","body":"You need to get the output in separate threads."}],"answers":[{"tags":[],"owner":{"account_id":2175164,"reputation":5597,"user_id":1925997,"accept_rate":64,"display_name":"Kishore Bandi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1483645087,"creation_date":1483642863,"answer_id":41492679,"question_id":41491327,"body_markdown":"As @EJP suggested, You can use different threads to capture the streams or use `ProcessBuilder` or redirect to a file from your command.&lt;br/&gt;\r\nHere are 3 approaches that I feel you can use.\r\n\r\n 1. **Using different threads for Streams.**\r\n\r\n\t\tProcess process = Runtime.getRuntime().exec(&quot;cat &quot;);\r\n\t\t\t\t\t\r\n\t\tExecutorService newFixedThreadPool = Executors.newFixedThreadPool(2);\r\n\r\n\t\tFuture&lt;String&gt; output = newFixedThreadPool.submit(() -&gt; {\r\n\t\t\treturn IOUtils.toString(process.getInputStream());\r\n\t\t});\r\n\t\tFuture&lt;String&gt; error = newFixedThreadPool.submit(() -&gt; {\r\n\t\t\treturn IOUtils.toString(process.getErrorStream());\r\n\t\t});\r\n\r\n\t\tnewFixedThreadPool.shutdown();\r\n\r\n\t\t// process.waitFor();\r\n\t\tif (!process.waitFor(3, TimeUnit.SECONDS)) {\r\n\t\t\tSystem.out.println(&quot;Destroy&quot;);\r\n\t\t\tprocess.destroy();\r\n\t\t}\r\n\r\n\t\tSystem.out.println(output.get());\r\n\t\tSystem.out.println(error.get());\r\n\r\n 2. **Using** `ProcessBuilder`\r\n\r\n\t\tProcessBuilder processBuilder = new ProcessBuilder(&quot;cat&quot;)\r\n\t\t\t\t.redirectError(new File(&quot;error&quot;))\r\n\t\t\t\t.redirectOutput(new File(&quot;output&quot;));\r\n\r\n\t\tProcess process = processBuilder.start();\r\n\r\n\t\t// process.waitFor();\r\n\t\tif (!process.waitFor(3, TimeUnit.SECONDS)) {\r\n\t\t\tSystem.out.println(&quot;Destroy&quot;);\r\n\t\t\tprocess.destroy();\r\n\t\t}\r\n\r\n\t\tSystem.out.println(FileUtils.readFileToString(new File(&quot;output&quot;)));\r\n\t\tSystem.out.println(FileUtils.readFileToString(new File(&quot;error&quot;)));\r\n\r\n\r\n 3.  **Use a redirection operator in your command to redirect Output &amp; Error to a file and then Read from File.**\r\n\r\n\r\n[Here][1] is very good blog which explains different ways of handling `Runtime.Exec`\r\n\r\n\r\n  [1]: http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html?page=2","title":"How to get the output from a process and set a timeout?","body":"<p>As @EJP suggested, You can use different threads to capture the streams or use <code>ProcessBuilder</code> or redirect to a file from your command.<br/>\nHere are 3 approaches that I feel you can use.</p>\n\n<ol>\n<li><p><strong>Using different threads for Streams.</strong></p>\n\n<pre><code>Process process = Runtime.getRuntime().exec(\"cat \");\n\nExecutorService newFixedThreadPool = Executors.newFixedThreadPool(2);\n\nFuture&lt;String&gt; output = newFixedThreadPool.submit(() -&gt; {\n    return IOUtils.toString(process.getInputStream());\n});\nFuture&lt;String&gt; error = newFixedThreadPool.submit(() -&gt; {\n    return IOUtils.toString(process.getErrorStream());\n});\n\nnewFixedThreadPool.shutdown();\n\n// process.waitFor();\nif (!process.waitFor(3, TimeUnit.SECONDS)) {\n    System.out.println(\"Destroy\");\n    process.destroy();\n}\n\nSystem.out.println(output.get());\nSystem.out.println(error.get());\n</code></pre></li>\n<li><p><strong>Using</strong> <code>ProcessBuilder</code></p>\n\n<pre><code>ProcessBuilder processBuilder = new ProcessBuilder(\"cat\")\n        .redirectError(new File(\"error\"))\n        .redirectOutput(new File(\"output\"));\n\nProcess process = processBuilder.start();\n\n// process.waitFor();\nif (!process.waitFor(3, TimeUnit.SECONDS)) {\n    System.out.println(\"Destroy\");\n    process.destroy();\n}\n\nSystem.out.println(FileUtils.readFileToString(new File(\"output\")));\nSystem.out.println(FileUtils.readFileToString(new File(\"error\")));\n</code></pre></li>\n<li><p><strong>Use a redirection operator in your command to redirect Output &amp; Error to a file and then Read from File.</strong></p></li>\n</ol>\n\n<p><a href=\"http://www.javaworld.com/article/2071275/core-java/when-runtime-exec---won-t.html?page=2\" rel=\"noreferrer\">Here</a> is very good blog which explains different ways of handling <code>Runtime.Exec</code></p>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669133040,"creation_date":1661425845,"answer_id":73486466,"question_id":41491327,"body_markdown":"This is a slightly adjusted version of [Kishore Bandi&#39;s first solution](https://stackoverflow.com/a/41492679/452775) which uses separate thread to capture output.\r\n\r\nIt has been simplified, uses no external libraries and have more robust termination code.\r\n\r\n```\r\nProcess process = new ProcessBuilder(&quot;cat&quot;, &quot;file.txt&quot;)\r\n    .redirectErrorStream(true)\r\n    .start();\r\n\r\nSystem.out.println(&quot;Output: &quot; + waitForOuput(process, Duration.ofSeconds(10)));\r\n```\r\n\r\n```\r\n/**\r\n * Waits {@code timeout} time for the output of\r\n * {@code process.getInputStream()}. Returns when the process is terminated.\r\n * Throws on non-zero exit value.\r\n */\r\npublic static String waitForOuput(Process process, Duration timeout) throws InterruptedException, TimeoutException {\r\n\tExecutorService pool = Executors.newFixedThreadPool(1);\r\n\tFuture&lt;String&gt; outputFuture = pool.submit(() -&gt; new String(process.getInputStream().readAllBytes()));\r\n\tpool.shutdown();\r\n\r\n\ttry {\r\n\t\tString output = outputFuture.get(timeout.toMillis(), TimeUnit.MILLISECONDS);\r\n\t\tif (process.exitValue() != 0) {\r\n\t\t\tthrow new IllegalStateException(&quot;Command &quot; + process.info().command()\r\n\t\t\t\t+ &quot; returned exit value &quot; + process.exitValue());\r\n\t\t}\r\n\t\treturn output;\r\n\t} catch (ExecutionException | TimeoutException | InterruptedException ex) {\r\n\t\tprocess.destroyForcibly();\r\n\t\toutputFuture.cancel(true);\r\n\t\tprocess.waitFor(1, TimeUnit.SECONDS); // Give process time to die\r\n\r\n\t\tif (ex instanceof InterruptedException intEx) {\r\n\t\t\tthrow intEx;\r\n\t\t} else if (ex instanceof TimeoutException timeEx) {\r\n\t\t\tthrow timeEx;\r\n\t\t} else {\r\n\t\t\tthrow new IllegalStateException(ex);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"How to get the output from a process and set a timeout?","body":"<p>This is a slightly adjusted version of <a href=\"https://stackoverflow.com/a/41492679/452775\">Kishore Bandi's first solution</a> which uses separate thread to capture output.</p>\n<p>It has been simplified, uses no external libraries and have more robust termination code.</p>\n<pre><code>Process process = new ProcessBuilder(&quot;cat&quot;, &quot;file.txt&quot;)\n    .redirectErrorStream(true)\n    .start();\n\nSystem.out.println(&quot;Output: &quot; + waitForOuput(process, Duration.ofSeconds(10)));\n</code></pre>\n<pre><code>/**\n * Waits {@code timeout} time for the output of\n * {@code process.getInputStream()}. Returns when the process is terminated.\n * Throws on non-zero exit value.\n */\npublic static String waitForOuput(Process process, Duration timeout) throws InterruptedException, TimeoutException {\n    ExecutorService pool = Executors.newFixedThreadPool(1);\n    Future&lt;String&gt; outputFuture = pool.submit(() -&gt; new String(process.getInputStream().readAllBytes()));\n    pool.shutdown();\n\n    try {\n        String output = outputFuture.get(timeout.toMillis(), TimeUnit.MILLISECONDS);\n        if (process.exitValue() != 0) {\n            throw new IllegalStateException(&quot;Command &quot; + process.info().command()\n                + &quot; returned exit value &quot; + process.exitValue());\n        }\n        return output;\n    } catch (ExecutionException | TimeoutException | InterruptedException ex) {\n        process.destroyForcibly();\n        outputFuture.cancel(true);\n        process.waitFor(1, TimeUnit.SECONDS); // Give process time to die\n\n        if (ex instanceof InterruptedException intEx) {\n            throw intEx;\n        } else if (ex instanceof TimeoutException timeEx) {\n            throw timeEx;\n        } else {\n            throw new IllegalStateException(ex);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1386208,"reputation":6896,"user_id":1318213,"accept_rate":85,"display_name":"waylonion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3731,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":41492679,"answer_count":2,"score":4,"last_activity_date":1669133040,"creation_date":1483637862,"question_id":41491327,"body_markdown":"How can I obtain a process&#39; output while setting a timeout value?\r\n\r\nI am currently using Apache Commons IO utils to create a string from the process&#39; standard and error outputs.\r\n\r\nThe code below, as is (with the comments), works fine for processes that terminate. However, if the process doesn&#39;t terminate, the main thread doesn&#39;t terminate either!\r\n\r\nIf I uncomment out the commented code and instead comment out `process.waitfor()`, the method will properly destroy non terminating processes. However, for terminating processes, the output isn&#39;t properly obtained. It appears that once `waitFor` is completed, I cannot get the process&#39; input and error streams?\r\n\r\nFinally, if I attempt to move the commented section to where `process.waitFor()` currently is, remove `process.waitFor()` and uncomment the commented section, then for non terminating processes, the main thread also won&#39;t stop. This is because the `process.waitFor(15, ...)` will never be reached.\r\n\r\n    private static Outputs runProcess(String command) throws Exception {\r\n        Process process = Runtime.getRuntime().exec(command);\r\n\r\n        // if (!process.waitFor(15, TimeUnit.SECONDS)) {\r\n        // System.out.println(&quot;Destroy&quot;);\r\n        // process.destroy();\r\n        // }\r\n\r\n        // Run and collect the results from the standard output and error output\r\n        String stdStr = IOUtils.toString(process.getInputStream());\r\n        String errStr = IOUtils.toString(process.getErrorStream());\r\n\r\n        process.waitFor();\r\n\r\n        return new Outputs(stdStr, errStr);\r\n    }\r\n","title":"How to get the output from a process and set a timeout?","body":"<p>How can I obtain a process' output while setting a timeout value?</p>\n<p>I am currently using Apache Commons IO utils to create a string from the process' standard and error outputs.</p>\n<p>The code below, as is (with the comments), works fine for processes that terminate. However, if the process doesn't terminate, the main thread doesn't terminate either!</p>\n<p>If I uncomment out the commented code and instead comment out <code>process.waitfor()</code>, the method will properly destroy non terminating processes. However, for terminating processes, the output isn't properly obtained. It appears that once <code>waitFor</code> is completed, I cannot get the process' input and error streams?</p>\n<p>Finally, if I attempt to move the commented section to where <code>process.waitFor()</code> currently is, remove <code>process.waitFor()</code> and uncomment the commented section, then for non terminating processes, the main thread also won't stop. This is because the <code>process.waitFor(15, ...)</code> will never be reached.</p>\n<pre><code>private static Outputs runProcess(String command) throws Exception {\n    Process process = Runtime.getRuntime().exec(command);\n\n    // if (!process.waitFor(15, TimeUnit.SECONDS)) {\n    // System.out.println(&quot;Destroy&quot;);\n    // process.destroy();\n    // }\n\n    // Run and collect the results from the standard output and error output\n    String stdStr = IOUtils.toString(process.getInputStream());\n    String errStr = IOUtils.toString(process.getErrorStream());\n\n    process.waitFor();\n\n    return new Outputs(stdStr, errStr);\n}\n</code></pre>\n"},{"tags":["java","compareto"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669124818,"creation_date":1669124818,"answer_id":74533648,"question_id":74533587,"body_markdown":"`UNP` is a `String`, not a number. You can&#39;t use `&gt;` and `&lt;` on `String`(s). But you can *delegate* the `compareTo` call to the `String`(s). Like,\r\n\r\n    public int compareTo(RentalCars rc){\r\n       return UNP.compareTo(rc.UNP);\r\n    }\r\n\r\n","title":"compareTo() method for a string giving out and bad operand type error","body":"<p><code>UNP</code> is a <code>String</code>, not a number. You can't use <code>&gt;</code> and <code>&lt;</code> on <code>String</code>(s). But you can <em>delegate</em> the <code>compareTo</code> call to the <code>String</code>(s). Like,</p>\n<pre><code>public int compareTo(RentalCars rc){\n   return UNP.compareTo(rc.UNP);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26719218,"reputation":21,"user_id":20323360,"display_name":"Hadi Soufan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669132824,"creation_date":1669132824,"answer_id":74535585,"question_id":74533587,"body_markdown":"you can&#39;t use comparison operators on set of characters. you can use .compareTo() that returns 0 if both strings are equal , -1 if string 1 is less than string 2 , and 1 if string 2 is greater than string 1. so it will compare characters in ASCII code together (a is less than b since a is 97 in ASCII table but b is 98). ","title":"compareTo() method for a string giving out and bad operand type error","body":"<p>you can't use comparison operators on set of characters. you can use .compareTo() that returns 0 if both strings are equal , -1 if string 1 is less than string 2 , and 1 if string 2 is greater than string 1. so it will compare characters in ASCII code together (a is less than b since a is 97 in ASCII table but b is 98).</p>\n"}],"owner":{"account_id":21170285,"reputation":1,"user_id":15566755,"display_name":"HoLee"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1669134593,"answer_count":2,"score":-4,"last_activity_date":1669132824,"creation_date":1669124540,"question_id":74533587,"body_markdown":"i&#39;m doing a compareTo() method for a string the way i was taught but it&#39;s giving me an error, it seems that the way i formulated it similar to how you would usually do for a number doesn&#39;t go well with a string.\r\nClass Car(implements the interface: Comparable&lt;&gt; )\r\n    - Attributes:\r\n    o Unique number plate (final) : String\r\n    o Brand: String\r\n    o Rental rate: double\r\n    o Extra three (from your choice)\r\n    - Methods:\r\n    o Constructors: zero-arg and multi-arg\r\n    o getters\r\n    o setters (if needed)\r\n    o toString()\r\n    o equals(): compare plate numbers\r\n    o compareTo(): compare plate numbers\r\n     \r\n\r\n        \r\n    \r\n    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class RentalCars implements Comparable&lt;RentalCars&gt; {\r\n      private final String UNP;\r\n      private String brandName;\r\n      private double rental_Rates;\r\n      private int wheel_Drive;\r\n      private String color;\r\n      private int milage;\r\n      \r\n      \r\n      \r\n    public RentalCars(){\r\n          this(null,null, 0.0, 0, null, 0);\r\n      }\r\n    public RentalCars(String UNP, String brandName, double rental_Rates, int wheel_Drive,\r\n       String color, int milage){\r\n        \r\n          this.UNP = UNP;\r\n          this.brandName=brandName;\r\n          this.rental_Rates=rental_Rates;\r\n          this.wheel_Drive=wheel_Drive;\r\n          this.color=color;\r\n          this.milage=milage;\r\n      }\r\n    public String getUNP() {\r\n        return UNP;\r\n        }\r\n    public String getbrandName() {\r\n         return brandName;\r\n        }\r\n    public void setbrandname(String brandName) {\r\n        this.brandName=brandName;\r\n        }\r\n    public double getrental_Rates() {\r\n        return rental_Rates;\r\n        }\r\n    public void setrental_Rates(double rental_Rates) {\r\n        this.rental_Rates=rental_Rates; \r\n        } \r\n    public int getwheel_Drive() {\r\n        return wheel_Drive;\r\n        }\r\n    public void setwheel_Drive(int wheel_Drive) {\r\n        this.wheel_Drive=wheel_Drive; \r\n        }\r\n    public String getcolor() {\r\n        return color;\r\n        }\r\n    public void setcolor(String color) {\r\n        this.color=color; \r\n        }\r\n    public int getmilage() {\r\n        return milage;\r\n        }\r\n    public void setmilage(int milage) {\r\n        this.milage=milage; \r\n        }\r\n    \r\n    @Override\r\n    public String toString()\r\n    {\r\n        return &quot;the Number Plate of the car is &quot;+UNP+&quot;the Car brand is &quot;+brandName+\r\n                &quot;the rent rate of this car is &quot;+rental_Rates+&quot;the wheel drive is &quot;+\r\n                wheel_Drive+&quot;the color of the car is &quot;+color+&quot;the milage is &quot;+milage;\r\n     }\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n    \t\tif (this == obj)\r\n    \t\t\treturn true;\r\n    \t\tif (obj == null)\r\n    \t\t\treturn false;\r\n    \t\tif (getClass() != obj.getClass())\r\n    \t\t\treturn false;\r\n    \t\tif (!super.equals(obj)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\t\r\n    \t\tRentalCars other = (RentalCars) obj;\r\n    \t\treturn Objects.equals(UNP, other.UNP);\r\n    \t}\r\n    public int compareTo(RentalCars rc){\r\n       if(UNP&gt;rc.UNP)return 1;\r\n       if(UNP&lt;rc.UNP)return -1;\r\n       return 0;\r\n      }\r\n    }","title":"compareTo() method for a string giving out and bad operand type error","body":"<p>i'm doing a compareTo() method for a string the way i was taught but it's giving me an error, it seems that the way i formulated it similar to how you would usually do for a number doesn't go well with a string.\nClass Car(implements the interface: Comparable&lt;&gt; )\n- Attributes:\no Unique number plate (final) : String\no Brand: String\no Rental rate: double\no Extra three (from your choice)\n- Methods:\no Constructors: zero-arg and multi-arg\no getters\no setters (if needed)\no toString()\no equals(): compare plate numbers\no compareTo(): compare plate numbers</p>\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class RentalCars implements Comparable&lt;RentalCars&gt; {\n  private final String UNP;\n  private String brandName;\n  private double rental_Rates;\n  private int wheel_Drive;\n  private String color;\n  private int milage;\n  \n  \n  \npublic RentalCars(){\n      this(null,null, 0.0, 0, null, 0);\n  }\npublic RentalCars(String UNP, String brandName, double rental_Rates, int wheel_Drive,\n   String color, int milage){\n    \n      this.UNP = UNP;\n      this.brandName=brandName;\n      this.rental_Rates=rental_Rates;\n      this.wheel_Drive=wheel_Drive;\n      this.color=color;\n      this.milage=milage;\n  }\npublic String getUNP() {\n    return UNP;\n    }\npublic String getbrandName() {\n     return brandName;\n    }\npublic void setbrandname(String brandName) {\n    this.brandName=brandName;\n    }\npublic double getrental_Rates() {\n    return rental_Rates;\n    }\npublic void setrental_Rates(double rental_Rates) {\n    this.rental_Rates=rental_Rates; \n    } \npublic int getwheel_Drive() {\n    return wheel_Drive;\n    }\npublic void setwheel_Drive(int wheel_Drive) {\n    this.wheel_Drive=wheel_Drive; \n    }\npublic String getcolor() {\n    return color;\n    }\npublic void setcolor(String color) {\n    this.color=color; \n    }\npublic int getmilage() {\n    return milage;\n    }\npublic void setmilage(int milage) {\n    this.milage=milage; \n    }\n\n@Override\npublic String toString()\n{\n    return &quot;the Number Plate of the car is &quot;+UNP+&quot;the Car brand is &quot;+brandName+\n            &quot;the rent rate of this car is &quot;+rental_Rates+&quot;the wheel drive is &quot;+\n            wheel_Drive+&quot;the color of the car is &quot;+color+&quot;the milage is &quot;+milage;\n }\n@Override\npublic boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        if (!super.equals(obj)) {\n            return false;\n        }\n        \n        RentalCars other = (RentalCars) obj;\n        return Objects.equals(UNP, other.UNP);\n    }\npublic int compareTo(RentalCars rc){\n   if(UNP&gt;rc.UNP)return 1;\n   if(UNP&lt;rc.UNP)return -1;\n   return 0;\n  }\n}\n</code></pre>\n"},{"tags":["java","if-statement","nested","switch-statement"],"answers":[{"tags":[],"owner":{"account_id":17804432,"reputation":28,"user_id":19639045,"display_name":"TheCodingBuddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669132505,"creation_date":1669132505,"answer_id":74535500,"question_id":74535285,"body_markdown":"You can do it without switch statement also. Nested if else would be easy to implement.","title":"How do I fix a nested switch without breaking if statement?","body":"<p>You can do it without switch statement also. Nested if else would be easy to implement.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669132819,"creation_date":1669132515,"answer_id":74535502,"question_id":74535285,"body_markdown":"To improve the code, you can extract this logic into a separate method.\r\n\r\n```\r\nint duration = input.nextInt();\r\n    \r\nswitch (duration) {\r\n    default -&gt; System.out.println(&quot;You have not entered a valid number of nights.&quot;);\r\n    case 2, 7, 14 -&gt; arrange(input);\r\n}\r\n``` \r\n\r\n    public static void arrange(Scanner input) {\r\n        System.out.print(&quot;How many guests are in your party? &quot;);\r\n        int guestAmount = input.nextInt();\r\n    \r\n        if (guestAmount &gt;= 1 &amp;&amp; guestAmount &lt;= 10) {\r\n            System.out.print(&quot;What type of board would you like (full, half, or self-catering)? &quot;);\r\n            String boardType = input.next();\r\n        \r\n            switch (boardType) {\r\n                case &quot;full&quot;, &quot;half&quot;, &quot;self-catering&quot; -&gt; System.out.println(&quot;Valid details entered - booking may proceed&quot;);\r\n                default -&gt; System.out.println(&quot;Sorry, we do not cater that type of board.&quot;);\r\n            }\r\n        } else {\r\n            System.out.println(&quot;Sorry, you are only allowed 1 to 10 guests.&quot;);\r\n        }\r\n    }\r\n\r\nAnd logic for choosing the boarding type could reside in its own method as well. This way the code would be learner and easier to follow.\r\n\r\n    public static void arrange(Scanner input) {\r\n        System.out.print(&quot;How many guests are in your party? &quot;);\r\n        int guestAmount = input.nextInt();\r\n    \r\n        if (guestAmount &gt;= 1 &amp;&amp; guestAmount &lt;= 10) {\r\n            chooseBoardingType(input);\r\n        } else {\r\n            System.out.println(&quot;Sorry, you are only allowed 1 to 10 guests.&quot;);\r\n        }\r\n    }\r\n    \r\n    public static void chooseBoardingType(Scanner input) {\r\n        System.out.print(&quot;What type of board would you like (full, half, or self-catering)? &quot;);\r\n        String boardType = input.next();\r\n    \r\n        switch (boardType) {\r\n            case &quot;full&quot;, &quot;half&quot;, &quot;self-catering&quot; -&gt; System.out.println(&quot;Valid details entered - booking may proceed&quot;);\r\n            default -&gt; System.out.println(&quot;Sorry, we do not cater that type of board.&quot;);\r\n        }\r\n    }","title":"How do I fix a nested switch without breaking if statement?","body":"<p>To improve the code, you can extract this logic into a separate method.</p>\n<pre><code>int duration = input.nextInt();\n    \nswitch (duration) {\n    default -&gt; System.out.println(&quot;You have not entered a valid number of nights.&quot;);\n    case 2, 7, 14 -&gt; arrange(input);\n}\n</code></pre>\n<pre><code>public static void arrange(Scanner input) {\n    System.out.print(&quot;How many guests are in your party? &quot;);\n    int guestAmount = input.nextInt();\n\n    if (guestAmount &gt;= 1 &amp;&amp; guestAmount &lt;= 10) {\n        System.out.print(&quot;What type of board would you like (full, half, or self-catering)? &quot;);\n        String boardType = input.next();\n    \n        switch (boardType) {\n            case &quot;full&quot;, &quot;half&quot;, &quot;self-catering&quot; -&gt; System.out.println(&quot;Valid details entered - booking may proceed&quot;);\n            default -&gt; System.out.println(&quot;Sorry, we do not cater that type of board.&quot;);\n        }\n    } else {\n        System.out.println(&quot;Sorry, you are only allowed 1 to 10 guests.&quot;);\n    }\n}\n</code></pre>\n<p>And logic for choosing the boarding type could reside in its own method as well. This way the code would be learner and easier to follow.</p>\n<pre><code>public static void arrange(Scanner input) {\n    System.out.print(&quot;How many guests are in your party? &quot;);\n    int guestAmount = input.nextInt();\n\n    if (guestAmount &gt;= 1 &amp;&amp; guestAmount &lt;= 10) {\n        chooseBoardingType(input);\n    } else {\n        System.out.println(&quot;Sorry, you are only allowed 1 to 10 guests.&quot;);\n    }\n}\n\npublic static void chooseBoardingType(Scanner input) {\n    System.out.print(&quot;What type of board would you like (full, half, or self-catering)? &quot;);\n    String boardType = input.next();\n\n    switch (boardType) {\n        case &quot;full&quot;, &quot;half&quot;, &quot;self-catering&quot; -&gt; System.out.println(&quot;Valid details entered - booking may proceed&quot;);\n        default -&gt; System.out.println(&quot;Sorry, we do not cater that type of board.&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23025019,"reputation":35,"user_id":17145420,"display_name":"Hamza Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669132819,"creation_date":1669131599,"question_id":74535285,"body_markdown":"I&#39;ve been trying to get the switch statement to work without having to be nested, but it won&#39;t work because it&#39;s linked to the if statement I&#39;ve made.\r\n\r\nDoes anybody know how i can move the boardType switch statement outside of the duration switch statement with the if statement still working? Thank you\r\n\r\n    int duration = input.nextInt();\r\n\r\n    switch (duration) {\r\n        default -&gt; System.out.println(&quot;You have not entered a valid number of nights.&quot;);\r\n        case 2, 7, 14 -&gt; {\r\n            System.out.print(&quot;How many guests are in your party? &quot;);\r\n            int guestAmount = input.nextInt();\r\n\r\n            if (guestAmount &gt;= 1 &amp;&amp; guestAmount &lt;= 10) {\r\n                System.out.print(&quot;What type of board would you like (full, half, or self-catering)? &quot;);\r\n                String boardType = input.next();\r\n\r\n                switch (boardType) {\r\n                    case &quot;full&quot;, &quot;half&quot;, &quot;self-catering&quot; -&gt;\r\n                            System.out.println(&quot;Valid details entered - booking may proceed&quot;);\r\n                    default -&gt; System.out.println(&quot;Sorry, we do not cater that type of board.&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Sorry, you are only allowed 1 to 10 guests.&quot;);","title":"How do I fix a nested switch without breaking if statement?","body":"<p>I've been trying to get the switch statement to work without having to be nested, but it won't work because it's linked to the if statement I've made.</p>\n<p>Does anybody know how i can move the boardType switch statement outside of the duration switch statement with the if statement still working? Thank you</p>\n<pre><code>int duration = input.nextInt();\n\nswitch (duration) {\n    default -&gt; System.out.println(&quot;You have not entered a valid number of nights.&quot;);\n    case 2, 7, 14 -&gt; {\n        System.out.print(&quot;How many guests are in your party? &quot;);\n        int guestAmount = input.nextInt();\n\n        if (guestAmount &gt;= 1 &amp;&amp; guestAmount &lt;= 10) {\n            System.out.print(&quot;What type of board would you like (full, half, or self-catering)? &quot;);\n            String boardType = input.next();\n\n            switch (boardType) {\n                case &quot;full&quot;, &quot;half&quot;, &quot;self-catering&quot; -&gt;\n                        System.out.println(&quot;Valid details entered - booking may proceed&quot;);\n                default -&gt; System.out.println(&quot;Sorry, we do not cater that type of board.&quot;);\n            }\n        } else {\n            System.out.println(&quot;Sorry, you are only allowed 1 to 10 guests.&quot;);\n</code></pre>\n"},{"tags":["java","android","bluetooth-lowenergy","bluetooth-gatt","characteristics"],"comments":[{"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"score":0,"creation_date":1565727434,"post_id":57474710,"comment_id":101440707,"body_markdown":"Don&#39;t know why your definition doesn&#39;t work, but 18 means notify and read (no write), so you should check the ESP32 setup first and not Android.","body":"Don&#39;t know why your definition doesn&#39;t work, but 18 means notify and read (no write), so you should check the ESP32 setup first and not Android."},{"owner":{"account_id":10891515,"reputation":73,"user_id":8007130,"display_name":"Argiris Mouratidis"},"score":0,"creation_date":1565764713,"post_id":57474710,"comment_id":101448986,"body_markdown":"@Emil ιn case of external applications, the communication process works properly with all Read, Notify and Write.I tried changing BLECharacteristic properties but my android application keep returning properties=18.","body":"@Emil ιn case of external applications, the communication process works properly with all Read, Notify and Write.I tried changing BLECharacteristic properties but my android application keep returning properties=18."},{"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"score":0,"creation_date":1565765614,"post_id":57474710,"comment_id":101449346,"body_markdown":"It might be that some external application ignores the property (that says write is not allowed) and tries to write anyway and it succeeds because the ESP32 allows it even though it declares it doesn&#39;t.","body":"It might be that some external application ignores the property (that says write is not allowed) and tries to write anyway and it succeeds because the ESP32 allows it even though it declares it doesn&#39;t."},{"owner":{"account_id":10891515,"reputation":73,"user_id":8007130,"display_name":"Argiris Mouratidis"},"score":0,"creation_date":1565768921,"post_id":57474710,"comment_id":101450758,"body_markdown":"I just changed the properties and the external application recognized them. My application returns properties 18 (even if the characteristic has only PROPERTY_READ).","body":"I just changed the properties and the external application recognized them. My application returns properties 18 (even if the characteristic has only PROPERTY_READ)."}],"answers":[{"tags":[],"owner":{"account_id":10891515,"reputation":73,"user_id":8007130,"display_name":"Argiris Mouratidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1569915736,"creation_date":1569915736,"answer_id":58180151,"question_id":57474710,"body_markdown":"After a lot of searching and experimenting with various ways of implementing the above communication of an android application and an ESP32 board with BLE server inside, I was able to find the solution.\r\n\r\nIn all my tests I used UUIDs in the following way:\r\n\r\nDeclaring characteristic uuid inside ESP32 \r\n```\r\nCharacteristic_UUID = BLEUUID((uint16_t) 0x1A00))\r\n```\r\nAnd Searching this uuid from android using \r\n```\r\nCharacteristic _UUID = convertFromInteger (0x1A00)\r\n```\r\n\r\nconvertFromInteger function:\r\n```\r\n    public UUID convertFromInteger (int i) \r\n    {\r\n        final long MSB = 0x0000000000001000L;\r\n        final long LSB = 0x800000805f9b34fbL;\r\n        long value = i &amp; 0xFFFFFFFF;\r\n        return new UUID (MSB | (value &lt;&lt; 32), LSB);\r\n    }\r\n```\r\n\r\nThe solution was found when I followed a tutorial in which I noticed the uuids and the differences with the ones I used.When I replaced my old uuids with randomly generated uuid such as &quot;cff6dbb0-996f-427b-9618-9e131a1d6d3f&quot;, the whole writeCharacteristic process for BLE server was done without any problem.","title":"Writing characteristic property check is always false Android BluetoothGatt class","body":"<p>After a lot of searching and experimenting with various ways of implementing the above communication of an android application and an ESP32 board with BLE server inside, I was able to find the solution.</p>\n\n<p>In all my tests I used UUIDs in the following way:</p>\n\n<p>Declaring characteristic uuid inside ESP32 </p>\n\n<pre><code>Characteristic_UUID = BLEUUID((uint16_t) 0x1A00))\n</code></pre>\n\n<p>And Searching this uuid from android using </p>\n\n<pre><code>Characteristic _UUID = convertFromInteger (0x1A00)\n</code></pre>\n\n<p>convertFromInteger function:</p>\n\n<pre><code>    public UUID convertFromInteger (int i) \n    {\n        final long MSB = 0x0000000000001000L;\n        final long LSB = 0x800000805f9b34fbL;\n        long value = i &amp; 0xFFFFFFFF;\n        return new UUID (MSB | (value &lt;&lt; 32), LSB);\n    }\n</code></pre>\n\n<p>The solution was found when I followed a tutorial in which I noticed the uuids and the differences with the ones I used.When I replaced my old uuids with randomly generated uuid such as \"cff6dbb0-996f-427b-9618-9e131a1d6d3f\", the whole writeCharacteristic process for BLE server was done without any problem.</p>\n"}],"owner":{"account_id":10891515,"reputation":73,"user_id":8007130,"display_name":"Argiris Mouratidis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58180151,"answer_count":1,"score":1,"last_activity_date":1669132677,"creation_date":1565688086,"question_id":57474710,"body_markdown":"I want to create an android application in order to connect and retrieve data from an ESP32 board as well as the ability to send values to the board using Bluetooth Low Energy communication.\r\n\r\nI have an ESP32 board with BLE server inside.I&#39;ve implemented a custom Service with the following characteristic.\r\n\r\n```\r\n/* define the characteristic and it&#39;s propeties */\r\nBLECharacteristic dataCharacteristic(\r\n    BLEUUID((uint16_t)0x1A00),\r\n    BLECharacteristic::PROPERTY_READ |\r\n    BLECharacteristic::PROPERTY_WRITE |    \r\n    BLECharacteristic::PROPERTY_NOTIFY);\r\n```\r\n\r\nI successfully implemented all the scanning, reading and notifying functions inside the android application but when it comes to writing BluetoothGatt.writeCharacteristic always returns false in the first Condition: \r\n\r\n```      \r\n  if ((characteristic.getProperties() &amp; BluetoothGattCharacteristic.PROPERTY_WRITE) == 0\r\n                &amp;&amp; (characteristic.getProperties()\r\n                &amp; BluetoothGattCharacteristic.PROPERTY_WRITE_NO_RESPONSE) == 0) {\r\n            return false;\r\n        }\r\n```\r\nWhile Debugging the android application the characteristic.getProperties() is always 18.\r\n\r\n```\r\n public boolean writeCharacteristic(BluetoothGattCharacteristic characteristic) {\r\n        if ((characteristic.getProperties() &amp; BluetoothGattCharacteristic.PROPERTY_WRITE) == 0\r\n                &amp;&amp; (characteristic.getProperties()\r\n                &amp; BluetoothGattCharacteristic.PROPERTY_WRITE_NO_RESPONSE) == 0) {\r\n            return false;\r\n        }\r\n\r\n        if (VDBG) Log.d(TAG, &quot;writeCharacteristic() - uuid: &quot; + characteristic.getUuid());\r\n        if (mService == null || mClientIf == 0 || characteristic.getValue() == null) return false;\r\n\r\n        BluetoothGattService service = characteristic.getService();\r\n        if (service == null) return false;\r\n\r\n        BluetoothDevice device = service.getDevice();\r\n        if (device == null) return false;\r\n\r\n        synchronized (mDeviceBusy) {\r\n            if (mDeviceBusy) return false;\r\n            mDeviceBusy = true;\r\n        }\r\n\r\n        try {\r\n            mService.writeCharacteristic(mClientIf, device.getAddress(),\r\n                    characteristic.getInstanceId(), characteristic.getWriteType(),\r\n                    AUTHENTICATION_NONE, characteristic.getValue());\r\n        } catch (RemoteException e) {\r\n            Log.e(TAG, &quot;&quot;, e);\r\n            mDeviceBusy = false;\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n```\r\nHere is the write characteristic code that uses the above function:\r\n```\r\n            //Get BLE Service\r\n            BluetoothGattService service = gatt.getService(SERVICE_UUID);\r\n\r\n            //Get the characteristic\r\n            BluetoothGattCharacteristic dataCharacteristic = \r\n            service.getCharacteristic(DATA_CHARACTERISTIC_UUID);\r\n\r\n            //Pass value\r\n            dataCharacteristic.setValue(value);\r\n\r\n            //Write characteristic\r\n            boolean success = gatt.writeCharacteristic(dataCharacteristic);\r\n\r\n            if(success){\r\n                Log.d(TAG, &quot;Write characteristic successful&quot;);\r\n            }\r\n            else{\r\n                Log.e(TAG, &quot;Write characteristic failed&quot;);\r\n            }\r\n```\r\n\r\nI have already tried executing write operation without the read or notify, to prevent multiple requests, but the result is the same.\r\n\r\n\r\nI also tried using external BLE applications with read write notify functionality and they all worked perfectly with my ESP32 setup.","title":"Writing characteristic property check is always false Android BluetoothGatt class","body":"<p>I want to create an android application in order to connect and retrieve data from an ESP32 board as well as the ability to send values to the board using Bluetooth Low Energy communication.</p>\n\n<p>I have an ESP32 board with BLE server inside.I've implemented a custom Service with the following characteristic.</p>\n\n<pre><code>/* define the characteristic and it's propeties */\nBLECharacteristic dataCharacteristic(\n    BLEUUID((uint16_t)0x1A00),\n    BLECharacteristic::PROPERTY_READ |\n    BLECharacteristic::PROPERTY_WRITE |    \n    BLECharacteristic::PROPERTY_NOTIFY);\n</code></pre>\n\n<p>I successfully implemented all the scanning, reading and notifying functions inside the android application but when it comes to writing BluetoothGatt.writeCharacteristic always returns false in the first Condition: </p>\n\n<pre><code>  if ((characteristic.getProperties() &amp; BluetoothGattCharacteristic.PROPERTY_WRITE) == 0\n                &amp;&amp; (characteristic.getProperties()\n                &amp; BluetoothGattCharacteristic.PROPERTY_WRITE_NO_RESPONSE) == 0) {\n            return false;\n        }\n</code></pre>\n\n<p>While Debugging the android application the characteristic.getProperties() is always 18.</p>\n\n<pre><code> public boolean writeCharacteristic(BluetoothGattCharacteristic characteristic) {\n        if ((characteristic.getProperties() &amp; BluetoothGattCharacteristic.PROPERTY_WRITE) == 0\n                &amp;&amp; (characteristic.getProperties()\n                &amp; BluetoothGattCharacteristic.PROPERTY_WRITE_NO_RESPONSE) == 0) {\n            return false;\n        }\n\n        if (VDBG) Log.d(TAG, \"writeCharacteristic() - uuid: \" + characteristic.getUuid());\n        if (mService == null || mClientIf == 0 || characteristic.getValue() == null) return false;\n\n        BluetoothGattService service = characteristic.getService();\n        if (service == null) return false;\n\n        BluetoothDevice device = service.getDevice();\n        if (device == null) return false;\n\n        synchronized (mDeviceBusy) {\n            if (mDeviceBusy) return false;\n            mDeviceBusy = true;\n        }\n\n        try {\n            mService.writeCharacteristic(mClientIf, device.getAddress(),\n                    characteristic.getInstanceId(), characteristic.getWriteType(),\n                    AUTHENTICATION_NONE, characteristic.getValue());\n        } catch (RemoteException e) {\n            Log.e(TAG, \"\", e);\n            mDeviceBusy = false;\n            return false;\n        }\n\n        return true;\n    }\n</code></pre>\n\n<p>Here is the write characteristic code that uses the above function:</p>\n\n<pre><code>            //Get BLE Service\n            BluetoothGattService service = gatt.getService(SERVICE_UUID);\n\n            //Get the characteristic\n            BluetoothGattCharacteristic dataCharacteristic = \n            service.getCharacteristic(DATA_CHARACTERISTIC_UUID);\n\n            //Pass value\n            dataCharacteristic.setValue(value);\n\n            //Write characteristic\n            boolean success = gatt.writeCharacteristic(dataCharacteristic);\n\n            if(success){\n                Log.d(TAG, \"Write characteristic successful\");\n            }\n            else{\n                Log.e(TAG, \"Write characteristic failed\");\n            }\n</code></pre>\n\n<p>I have already tried executing write operation without the read or notify, to prevent multiple requests, but the result is the same.</p>\n\n<p>I also tried using external BLE applications with read write notify functionality and they all worked perfectly with my ESP32 setup.</p>\n"},{"tags":["java","relative-path","apache-fop"],"comments":[{"owner":{"account_id":25684565,"reputation":806,"user_id":19446851,"display_name":"habrewning"},"score":0,"creation_date":1669149354,"post_id":74535503,"comment_id":131577801,"body_markdown":"You said, your font is in `resources/fonts/Arial.ttf`. But then you say what is your fontUris and that is different. I also use Arial. But I don&#39;t have to set the font manager. I just made the embed-url relative. You can try this. In my case I have embed-url=&quot;../fonts/arial.ttf&quot; and it works. But I use the command line version of fop. That behaves probably differently.","body":"You said, your font is in <code>resources&#47;fonts&#47;Arial.ttf</code>. But then you say what is your fontUris and that is different. I also use Arial. But I don&#39;t have to set the font manager. I just made the embed-url relative. You can try this. In my case I have embed-url=&quot;../fonts/arial.ttf&quot; and it works. But I use the command line version of fop. That behaves probably differently."},{"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"score":0,"creation_date":1669196490,"post_id":74535503,"comment_id":131587533,"body_markdown":"By default, build tools like Maven, Gradle, or common Java practice will copy all files from &quot;src/main/resources&quot; to the root of &quot;target/classes&quot; or &quot;build/classes&quot;. So, when we try to read a file from &quot;src/main/resources&quot;, we read the file from the root of the project classpath.","body":"By default, build tools like Maven, Gradle, or common Java practice will copy all files from &quot;src/main/resources&quot; to the root of &quot;target/classes&quot; or &quot;build/classes&quot;. So, when we try to read a file from &quot;src/main/resources&quot;, we read the file from the root of the project classpath."}],"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669132516,"creation_date":1669132516,"question_id":74535503,"body_markdown":"This is where my font is located `resources/fonts/Arial.ttf`\r\n\r\nThis is how I am referencing my relative path:\r\n\r\n    FontUris fontUris = new FontUris(Thread.currentThread().getContextClassLoader()\r\n    .getResource(&quot;fonts/Arial.ttf&quot;).toURI(), null);\r\n\r\n    fopFactoryBuilder.getFontManager().setResourceResolver(\r\n    ResourceResolverFactory.createDefaultInternalResourceResolver(fontUris.getEmbed()));\r\n\r\n    confInputStream = FopGenerator.class.getClassLoader().getResourceAsStream(&quot;fopconf.xconf&quot;);\r\n\r\n    fopFactoryBuilder.setConfiguration(new DefaultConfigurationBuilder().build(confInputStream));\r\n\r\nThis is the fopconf.xconf:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\r\n    &lt;fop&gt;\r\n    &lt;strict-validation&gt;false&lt;/strict-validation&gt;\r\n    &lt;base&gt;.&lt;/base&gt;\r\n    &lt;font-base&gt;./&lt;/font-base&gt;\r\n      &lt;renderers&gt;\r\n        &lt;renderer mime=&quot;application/pdf&quot;&gt;\r\n           &lt;fonts&gt;\r\n            &lt;font kerning=&quot;yes&quot; embed-url=&quot;Arial.ttf&quot; embedding-mode=&quot;subset&quot;&gt;\r\n                 &lt;font-triplet name=&quot;Arial&quot; style=&quot;normal&quot; weight=&quot;400&quot;/&gt;\r\n            &lt;/font&gt;\r\n           &lt;/fonts&gt;\r\n        &lt;/renderer&gt;\r\n      &lt;/renderers&gt;\r\n    &lt;/fop&gt;\r\n\r\nWhile debugging the embedded url in fontUris is exactly the path to the font:\r\n\r\n    /Users/midi/IdeaProjects/MyProject/forms/target/classes/fonts/Arial.ttf\r\n\r\nBut still when printing the document I&#39;m getting the following warning:\r\n\r\n    org.apache.fop.apps.FOUserAgent          : Font &quot;Arial,normal,400&quot; not found. Substituting with &quot;any,normal,400&quot;.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can Apache FOP find Font with relative path in resources/fonts?","body":"<p>This is where my font is located <code>resources/fonts/Arial.ttf</code></p>\n<p>This is how I am referencing my relative path:</p>\n<pre><code>FontUris fontUris = new FontUris(Thread.currentThread().getContextClassLoader()\n.getResource(&quot;fonts/Arial.ttf&quot;).toURI(), null);\n\nfopFactoryBuilder.getFontManager().setResourceResolver(\nResourceResolverFactory.createDefaultInternalResourceResolver(fontUris.getEmbed()));\n\nconfInputStream = FopGenerator.class.getClassLoader().getResourceAsStream(&quot;fopconf.xconf&quot;);\n\nfopFactoryBuilder.setConfiguration(new DefaultConfigurationBuilder().build(confInputStream));\n</code></pre>\n<p>This is the fopconf.xconf:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;fop&gt;\n&lt;strict-validation&gt;false&lt;/strict-validation&gt;\n&lt;base&gt;.&lt;/base&gt;\n&lt;font-base&gt;./&lt;/font-base&gt;\n  &lt;renderers&gt;\n    &lt;renderer mime=&quot;application/pdf&quot;&gt;\n       &lt;fonts&gt;\n        &lt;font kerning=&quot;yes&quot; embed-url=&quot;Arial.ttf&quot; embedding-mode=&quot;subset&quot;&gt;\n             &lt;font-triplet name=&quot;Arial&quot; style=&quot;normal&quot; weight=&quot;400&quot;/&gt;\n        &lt;/font&gt;\n       &lt;/fonts&gt;\n    &lt;/renderer&gt;\n  &lt;/renderers&gt;\n&lt;/fop&gt;\n</code></pre>\n<p>While debugging the embedded url in fontUris is exactly the path to the font:</p>\n<pre><code>/Users/midi/IdeaProjects/MyProject/forms/target/classes/fonts/Arial.ttf\n</code></pre>\n<p>But still when printing the document I'm getting the following warning:</p>\n<pre><code>org.apache.fop.apps.FOUserAgent          : Font &quot;Arial,normal,400&quot; not found. Substituting with &quot;any,normal,400&quot;.\n</code></pre>\n"},{"tags":["java","swing","jcheckbox"],"comments":[{"owner":{"display_name":"user760034"},"score":0,"creation_date":1305756334,"post_id":19766,"comment_id":18482337,"body_markdown":"You can use the Japura API. There is a List component with checkboxes [http://www.japura.org/checklist.html](http://www.japura.org/checklist.html)","body":"You can use the Japura API. There is a List component with checkboxes <a href=\"http://www.japura.org/checklist.html\" rel=\"nofollow noreferrer\">http://www.japura.org/checklist.html</a>"},{"owner":{"account_id":148631,"reputation":488,"user_id":360557,"accept_rate":27,"display_name":"Mike Stoddart"},"score":0,"creation_date":1582218484,"post_id":19766,"comment_id":106710519,"body_markdown":"That Japura API link is now broken.","body":"That Japura API link is now broken."}],"answers":[{"tags":[],"owner":{"account_id":790,"reputation":23125,"user_id":1030,"accept_rate":98,"display_name":"ninesided"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1219323842,"creation_date":1219323842,"answer_id":19796,"question_id":19766,"body_markdown":"I&#39;d probably be looking to use a _JTable_ rather than a _JList_ and since the default rendering of a checkbox is rather ugly, I&#39;d probably be looking to drop in a custom _TableModel_, _CellRenderer_ and _CellEditor_ to represent a boolean value. Of course, I would imagine this has been done a bajillion times already. Sun has [good examples][1].\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/uiswing/components/table.html","title":"How do I make a list with checkboxes in Java Swing?","body":"<p>I'd probably be looking to use a <em>JTable</em> rather than a <em>JList</em> and since the default rendering of a checkbox is rather ugly, I'd probably be looking to drop in a custom <em>TableModel</em>, <em>CellRenderer</em> and <em>CellEditor</em> to represent a boolean value. Of course, I would imagine this has been done a bajillion times already. Sun has <a href=\"http://java.sun.com/docs/books/tutorial/uiswing/components/table.html\" rel=\"noreferrer\">good examples</a>.</p>\n"},{"tags":[],"owner":{"account_id":408,"reputation":4792,"user_id":518,"accept_rate":86,"display_name":"Telcontar"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1331558179,"creation_date":1219323926,"answer_id":19804,"question_id":19766,"body_markdown":"Create a custom `ListCellRenderer` and asign it to the `JList`.\r\n\r\nThis custom `ListCellRenderer` must return a `JCheckbox` in the implementantion of `getListCellRendererComponent(...)` method.\r\n\r\nBut this `JCheckbox` will not be editable, is a simple paint in the screen is up to you to choose when this `JCheckbox` must be &#39;ticked&#39; or not, \r\n\r\nFor example, show it ticked when the row is selected (parameter `isSelected`), but this way the check status will no be mantained if the selection changes. Its better to show it checked consulting the data below the `ListModel`, but then is up to you to implement the method who changes the check status of the data, and notify the change to the `JList` to be repainted.\r\n\r\nI Will post sample code later if you need it\r\n\r\n[ListCellRenderer][1]\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/javax/swing/ListCellRenderer.html","title":"How do I make a list with checkboxes in Java Swing?","body":"<p>Create a custom <code>ListCellRenderer</code> and asign it to the <code>JList</code>.</p>\n\n<p>This custom <code>ListCellRenderer</code> must return a <code>JCheckbox</code> in the implementantion of <code>getListCellRendererComponent(...)</code> method.</p>\n\n<p>But this <code>JCheckbox</code> will not be editable, is a simple paint in the screen is up to you to choose when this <code>JCheckbox</code> must be 'ticked' or not, </p>\n\n<p>For example, show it ticked when the row is selected (parameter <code>isSelected</code>), but this way the check status will no be mantained if the selection changes. Its better to show it checked consulting the data below the <code>ListModel</code>, but then is up to you to implement the method who changes the check status of the data, and notify the change to the <code>JList</code> to be repainted.</p>\n\n<p>I Will post sample code later if you need it</p>\n\n<p><a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/ListCellRenderer.html\" rel=\"noreferrer\">ListCellRenderer</a></p>\n"},{"tags":[],"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1219324720,"creation_date":1219324720,"answer_id":19840,"question_id":19766,"body_markdown":"Odds are good w/ Java that someone has already implemented the widget or utility you need. Part of the benefits of a large OSS community. No need to reinvent the wheel unless you really want to do it yourself. In this case it would be a good learning exercise in CellRenderers and Editors.\r\n\r\nMy project has had great success with JIDE. The component you want, a Check Box List, is in the JIDE Common Layer (which is OSS and hosted on java.net). The commercial stuff is good too, but you don&#39;t need it.\r\n\r\nhttp://www.jidesoft.com/products/oss.htm\r\nhttps://jide-oss.dev.java.net/","title":"How do I make a list with checkboxes in Java Swing?","body":"<p>Odds are good w/ Java that someone has already implemented the widget or utility you need. Part of the benefits of a large OSS community. No need to reinvent the wheel unless you really want to do it yourself. In this case it would be a good learning exercise in CellRenderers and Editors.</p>\n\n<p>My project has had great success with JIDE. The component you want, a Check Box List, is in the JIDE Common Layer (which is OSS and hosted on java.net). The commercial stuff is good too, but you don't need it.</p>\n\n<p><a href=\"http://www.jidesoft.com/products/oss.htm\" rel=\"nofollow noreferrer\">http://www.jidesoft.com/products/oss.htm</a>\n<a href=\"https://jide-oss.dev.java.net/\" rel=\"nofollow noreferrer\">https://jide-oss.dev.java.net/</a></p>\n"},{"tags":[],"owner":{"account_id":5110,"reputation":68784,"user_id":8047,"accept_rate":95,"display_name":"Dan Rosenstark"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1371216144,"creation_date":1261926443,"answer_id":1966151,"question_id":19766,"body_markdown":"A wonderful answer is this [`CheckBoxList`][1]. It implements Telcontar&#39;s answer (though 3 years before :)... I&#39;m using it in Java 1.6 with no problems. I&#39;ve also added an `addCheckbox` method like this (surely could be shorter, haven&#39;t used Java in a while):\r\n\r\n\tpublic void addCheckbox(JCheckBox checkBox) {\r\n\t\tListModel currentList = this.getModel();\r\n\t\tJCheckBox[] newList = new JCheckBox[currentList.getSize() + 1];\r\n\t\tfor (int i = 0; i &lt; currentList.getSize(); i++) {\r\n\t\t\tnewList[i] = (JCheckBox) currentList.getElementAt(i);\r\n\t\t}\r\n\t\tnewList[newList.length - 1] = checkBox;\r\n\t\tsetListData(newList);\r\n\t}\r\n\r\n\r\nI tried out the demo for the Jidesoft stuff, playing with the `CheckBoxList` I encountered some problems (behaviors that didn&#39;t work). I&#39;ll modify this answer if I find problems with the `CheckBoxList` I linked to.\r\n\r\n\r\n  [1]: http://www.devx.com/tips/Tip/5342","title":"How do I make a list with checkboxes in Java Swing?","body":"<p>A wonderful answer is this <a href=\"http://www.devx.com/tips/Tip/5342\" rel=\"noreferrer\"><code>CheckBoxList</code></a>. It implements Telcontar's answer (though 3 years before :)... I'm using it in Java 1.6 with no problems. I've also added an <code>addCheckbox</code> method like this (surely could be shorter, haven't used Java in a while):</p>\n\n<pre><code>public void addCheckbox(JCheckBox checkBox) {\n    ListModel currentList = this.getModel();\n    JCheckBox[] newList = new JCheckBox[currentList.getSize() + 1];\n    for (int i = 0; i &lt; currentList.getSize(); i++) {\n        newList[i] = (JCheckBox) currentList.getElementAt(i);\n    }\n    newList[newList.length - 1] = checkBox;\n    setListData(newList);\n}\n</code></pre>\n\n<p>I tried out the demo for the Jidesoft stuff, playing with the <code>CheckBoxList</code> I encountered some problems (behaviors that didn't work). I'll modify this answer if I find problems with the <code>CheckBoxList</code> I linked to.</p>\n"},{"tags":[],"owner":{"account_id":3304218,"reputation":39,"user_id":2779549,"display_name":"Zero_8"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1379174211,"creation_date":1379174211,"answer_id":18803557,"question_id":19766,"body_markdown":"I recommend you use a JPanel with a GridLayout of 1 column. Add the checkBoxes to the JPanel, and set the JPanel as the data source of a JScrollPane. And to get the selected CheckBoxes, just call the getComponents() of the JPanel to get the CheckBoxes.","title":"How do I make a list with checkboxes in Java Swing?","body":"<p>I recommend you use a JPanel with a GridLayout of 1 column. Add the checkBoxes to the JPanel, and set the JPanel as the data source of a JScrollPane. And to get the selected CheckBoxes, just call the getComponents() of the JPanel to get the CheckBoxes.</p>\n"},{"tags":[],"owner":{"account_id":1910026,"reputation":13497,"user_id":1724097,"accept_rate":100,"display_name":"Rawa"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1405505229,"creation_date":1405504412,"answer_id":24777687,"question_id":19766,"body_markdown":"## Better solution for Java 7 and newer ##\r\n\r\nI stumbled upon this question and realized that some of the answers are pretty old and outdated. Nowadays, JList is generic and thus there are better solutions.\r\n\r\nMy solution of the generic JCheckBoxList:\r\n\r\n    import java.awt.Component;\r\n    \r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    \r\n    import java.awt.event.*;\r\n    \r\n    @SuppressWarnings(&quot;serial&quot;)\r\n    public class JCheckBoxList extends JList&lt;JCheckBox&gt; {\r\n      protected static Border noFocusBorder = new EmptyBorder(1, 1, 1, 1);\r\n    \r\n      public JCheckBoxList() {\r\n        setCellRenderer(new CellRenderer());\r\n        addMouseListener(new MouseAdapter() {\r\n          public void mousePressed(MouseEvent e) {\r\n            int index = locationToIndex(e.getPoint());\r\n            if (index != -1) {\r\n              JCheckBox checkbox = (JCheckBox) getModel().getElementAt(index);\r\n              checkbox.setSelected(!checkbox.isSelected());\r\n              repaint();\r\n            }\r\n          }\r\n        });\r\n        setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n      }\r\n\r\n      public JCheckBoxList(ListModel&lt;JCheckBox&gt; model){\r\n        this();\r\n        setModel(model);\r\n      }\r\n    \r\n      protected class CellRenderer implements ListCellRenderer&lt;JCheckBox&gt; {\r\n        public Component getListCellRendererComponent(\r\n            JList&lt;? extends JCheckBox&gt; list, JCheckBox value, int index,\r\n            boolean isSelected, boolean cellHasFocus) {\r\n          JCheckBox checkbox = value;\r\n\r\n          //Drawing checkbox, change the appearance here\r\n          checkbox.setBackground(isSelected ? getSelectionBackground()\r\n              : getBackground());\r\n          checkbox.setForeground(isSelected ? getSelectionForeground()\r\n              : getForeground());\r\n          checkbox.setEnabled(isEnabled());\r\n          checkbox.setFont(getFont());\r\n          checkbox.setFocusPainted(false);\r\n          checkbox.setBorderPainted(true);\r\n          checkbox.setBorder(isSelected ? UIManager\r\n              .getBorder(&quot;List.focusCellHighlightBorder&quot;) : noFocusBorder);\r\n          return checkbox;\r\n        }\r\n      }\r\n    }\r\n\r\nFor dynamically adding JCheckBox lists you need to create your own ListModel or add the DefaultListModel.\r\n\r\n    DefaultListModel&lt;JCheckBox&gt; model = new DefaultListModel&lt;JCheckBox&gt;();\r\n    JCheckBoxList checkBoxList = new JCheckBoxList(model);\r\n\r\nThe [DefaultListModel][1] are generic and thus you can use methods specified by JAVA 7 API [here][2] like this:\r\n\r\n    model.addElement(new JCheckBox(&quot;Checkbox1&quot;));\r\n    model.addElement(new JCheckBox(&quot;Checkbox2&quot;));\r\n    model.addElement(new JCheckBox(&quot;Checkbox3&quot;));\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/DefaultListModel.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/swing/DefaultListModel.html","title":"How do I make a list with checkboxes in Java Swing?","body":"<h2>Better solution for Java 7 and newer</h2>\n\n<p>I stumbled upon this question and realized that some of the answers are pretty old and outdated. Nowadays, JList is generic and thus there are better solutions.</p>\n\n<p>My solution of the generic JCheckBoxList:</p>\n\n<pre><code>import java.awt.Component;\n\nimport javax.swing.*;\nimport javax.swing.border.*;\n\nimport java.awt.event.*;\n\n@SuppressWarnings(\"serial\")\npublic class JCheckBoxList extends JList&lt;JCheckBox&gt; {\n  protected static Border noFocusBorder = new EmptyBorder(1, 1, 1, 1);\n\n  public JCheckBoxList() {\n    setCellRenderer(new CellRenderer());\n    addMouseListener(new MouseAdapter() {\n      public void mousePressed(MouseEvent e) {\n        int index = locationToIndex(e.getPoint());\n        if (index != -1) {\n          JCheckBox checkbox = (JCheckBox) getModel().getElementAt(index);\n          checkbox.setSelected(!checkbox.isSelected());\n          repaint();\n        }\n      }\n    });\n    setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n  }\n\n  public JCheckBoxList(ListModel&lt;JCheckBox&gt; model){\n    this();\n    setModel(model);\n  }\n\n  protected class CellRenderer implements ListCellRenderer&lt;JCheckBox&gt; {\n    public Component getListCellRendererComponent(\n        JList&lt;? extends JCheckBox&gt; list, JCheckBox value, int index,\n        boolean isSelected, boolean cellHasFocus) {\n      JCheckBox checkbox = value;\n\n      //Drawing checkbox, change the appearance here\n      checkbox.setBackground(isSelected ? getSelectionBackground()\n          : getBackground());\n      checkbox.setForeground(isSelected ? getSelectionForeground()\n          : getForeground());\n      checkbox.setEnabled(isEnabled());\n      checkbox.setFont(getFont());\n      checkbox.setFocusPainted(false);\n      checkbox.setBorderPainted(true);\n      checkbox.setBorder(isSelected ? UIManager\n          .getBorder(\"List.focusCellHighlightBorder\") : noFocusBorder);\n      return checkbox;\n    }\n  }\n}\n</code></pre>\n\n<p>For dynamically adding JCheckBox lists you need to create your own ListModel or add the DefaultListModel.</p>\n\n<pre><code>DefaultListModel&lt;JCheckBox&gt; model = new DefaultListModel&lt;JCheckBox&gt;();\nJCheckBoxList checkBoxList = new JCheckBoxList(model);\n</code></pre>\n\n<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/DefaultListModel.html\" rel=\"noreferrer\">DefaultListModel</a> are generic and thus you can use methods specified by JAVA 7 API <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/DefaultListModel.html\" rel=\"noreferrer\">here</a> like this:</p>\n\n<pre><code>model.addElement(new JCheckBox(\"Checkbox1\"));\nmodel.addElement(new JCheckBox(\"Checkbox2\"));\nmodel.addElement(new JCheckBox(\"Checkbox3\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4944291,"reputation":3,"user_id":3980145,"display_name":"Željko Vuković"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409123626,"creation_date":1409123626,"answer_id":25521015,"question_id":19766,"body_markdown":"Here is just a little addition to the JCheckBoxList by Rawa. This will add the ability to select using space bar. If multiple items are selected, all will be set to inverted value of the first item.\r\n\r\n    \t\taddKeyListener(new KeyAdapter() {\r\n\t\t\t@Override\r\n\t\t\tpublic void keyPressed(KeyEvent e) {\r\n\t\t\t\tint index = getSelectedIndex();\r\n\t\t\t\tif (index != -1 &amp;&amp; e.getKeyCode() == KeyEvent.VK_SPACE) {\r\n\t\t\t\t\tboolean newVal = !((JCheckBox) (getModel()\r\n\t\t\t\t\t\t\t.getElementAt(index))).isSelected();\r\n\t\t\t\t\tfor (int i : getSelectedIndices()) {\r\n\t\t\t\t\t\tJCheckBox checkbox = (JCheckBox) getModel()\r\n\t\t\t\t\t\t\t\t.getElementAt(i);\r\n\t\t\t\t\t\tcheckbox.setSelected(newVal);\r\n\t\t\t\t\t\trepaint();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t    });","title":"How do I make a list with checkboxes in Java Swing?","body":"<p>Here is just a little addition to the JCheckBoxList by Rawa. This will add the ability to select using space bar. If multiple items are selected, all will be set to inverted value of the first item.</p>\n\n<pre><code>        addKeyListener(new KeyAdapter() {\n        @Override\n        public void keyPressed(KeyEvent e) {\n            int index = getSelectedIndex();\n            if (index != -1 &amp;&amp; e.getKeyCode() == KeyEvent.VK_SPACE) {\n                boolean newVal = !((JCheckBox) (getModel()\n                        .getElementAt(index))).isSelected();\n                for (int i : getSelectedIndices()) {\n                    JCheckBox checkbox = (JCheckBox) getModel()\n                            .getElementAt(i);\n                    checkbox.setSelected(newVal);\n                    repaint();\n                }\n            }\n        }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1417368125,"creation_date":1417367792,"answer_id":27215934,"question_id":19766,"body_markdown":"Just implement a `ListCellRenderer`\r\n\r\n\tpublic class CheckboxListCellRenderer extends JCheckBox implements ListCellRenderer {\r\n\t \r\n\t\tpublic Component getListCellRendererComponent(JList list, Object value, int index, \r\n                boolean isSelected, boolean cellHasFocus) {\r\n\r\n\t\t\tsetComponentOrientation(list.getComponentOrientation());\r\n\t\t\tsetFont(list.getFont());\r\n\t\t\tsetBackground(list.getBackground());\r\n\t\t\tsetForeground(list.getForeground());\r\n\t\t\tsetSelected(isSelected);\r\n\t\t\tsetEnabled(list.isEnabled());\r\n\r\n\t\t\tsetText(value == null ? &quot;&quot; : value.toString());\t \r\n\r\n\t\t\treturn this;\r\n\t\t}\r\n\t}\r\n\r\nand set the renderer\r\n\r\n    JList list = new JList();\r\n    list.setCellRenderer(new CheckboxListCellRenderer());\r\n\r\nthis will result in\r\n\r\n ![CheckboxListCellRenderer example][1]\r\n\r\nDetails at [Custom swing component renderers][2].\r\n\r\nPS: If you want radio elements just replace `extends JCheckbox` with `extends JRadioButton`.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pO1lh.png\r\n  [2]: http://www.link-intersystems.com/blog/2014/10/19/custom-swing-component-renderers/","title":"How do I make a list with checkboxes in Java Swing?","body":"<p>Just implement a <code>ListCellRenderer</code></p>\n\n<pre><code>public class CheckboxListCellRenderer extends JCheckBox implements ListCellRenderer {\n\n    public Component getListCellRendererComponent(JList list, Object value, int index, \n            boolean isSelected, boolean cellHasFocus) {\n\n        setComponentOrientation(list.getComponentOrientation());\n        setFont(list.getFont());\n        setBackground(list.getBackground());\n        setForeground(list.getForeground());\n        setSelected(isSelected);\n        setEnabled(list.isEnabled());\n\n        setText(value == null ? \"\" : value.toString());  \n\n        return this;\n    }\n}\n</code></pre>\n\n<p>and set the renderer</p>\n\n<pre><code>JList list = new JList();\nlist.setCellRenderer(new CheckboxListCellRenderer());\n</code></pre>\n\n<p>this will result in</p>\n\n<p><img src=\"https://i.stack.imgur.com/pO1lh.png\" alt=\"CheckboxListCellRenderer example\"></p>\n\n<p>Details at <a href=\"http://www.link-intersystems.com/blog/2014/10/19/custom-swing-component-renderers/\" rel=\"noreferrer\">Custom swing component renderers</a>.</p>\n\n<p>PS: If you want radio elements just replace <code>extends JCheckbox</code> with <code>extends JRadioButton</code>.</p>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442910378,"creation_date":1442910378,"answer_id":32712019,"question_id":19766,"body_markdown":"All of the aggregate components in Swing--that is, components made up other components, such as JTable, JTree, or JComboBox--can be highly customized. For example, a JTable component normally displays a grid of JLabel components, but it can also display JButtons, JTextFields, or even other JTables. Getting these aggregate components to display non-default objects is the easy part, however. Making them respond properly to keyboard and mouse events is a much harder task, due to Swing&#39;s separation of components into &quot;renderers&quot; and &quot;editors.&quot; This separation was (in my opinion) a poor design choice and only serves to complicate matters when trying to extend Swing components.\r\n\r\nTo see what I mean, try enhancing Swing&#39;s JList component so that it displays checkboxes instead of labels. According to Swing philosophy, this task requires implementing two interfaces: ListCellRenderer (for drawing the checkboxes) and CellEditor (for handling keyboard and mouse events on the checkboxes). Implementing the ListCellRenderer interface is easy enough, but the CellEditor interface can be rather clumsy and hard to understand. In this particular case, I would suggest forgetting CellEditor entirely and to handle input events directly, as shown in the following code.\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.border.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    \r\n    public class CheckBoxList extends JList\r\n    {\r\n       protected static Border noFocusBorder = new EmptyBorder(1, 1, 1, 1);\r\n    \r\n       public CheckBoxList()\r\n       {\r\n          setCellRenderer(new CellRenderer());\r\n    \r\n          addMouseListener(new MouseAdapter()\r\n             {\r\n                public void mousePressed(MouseEvent e)\r\n                {\r\n                   int index = locationToIndex(e.getPoint());\r\n    \r\n                   if (index != -1) {\r\n                      JCheckBox checkbox = (JCheckBox)\r\n                                  getModel().getElementAt(index);\r\n                      checkbox.setSelected(\r\n                                         !checkbox.isSelected());\r\n                      repaint();\r\n                   }\r\n                }\r\n             }\r\n          );\r\n    \r\n          setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n       }\r\n    \r\n       protected class CellRenderer implements ListCellRenderer\r\n       {\r\n          public Component getListCellRendererComponent(\r\n                        JList list, Object value, int index,\r\n                        boolean isSelected, boolean cellHasFocus)\r\n          {\r\n             JCheckBox checkbox = (JCheckBox) value;\r\n             checkbox.setBackground(isSelected ?\r\n                     getSelectionBackground() : getBackground());\r\n             checkbox.setForeground(isSelected ?\r\n                     getSelectionForeground() : getForeground());\r\n             checkbox.setEnabled(isEnabled());\r\n             checkbox.setFont(getFont());\r\n             checkbox.setFocusPainted(false);\r\n             checkbox.setBorderPainted(true);\r\n             checkbox.setBorder(isSelected ?\r\n              UIManager.getBorder(\r\n               &quot;List.focusCellHighlightBorder&quot;) : noFocusBorder);\r\n             return checkbox;\r\n          }\r\n       }\r\n    }\r\n\r\nHere, I intercept mouse clicks from the listbox and simulate a click on the appropriate checkbox. The result is a &quot;CheckBoxList&quot; component that is both simpler and smaller than an equivalent component using the CellEditor interface. To use the class, simply instantiate it, then pass it an array of JCheckBox objects (or subclasses of JCheckBox objects) by calling setListData. Note that the checkboxes in this component will not respond to keypresses (i.e. the spacebar), but you could always add your own key listener if needed.\r\n\r\nSource: [DevX.com][1]\r\n\r\n\r\n  [1]: http://www.devx.com/tips/Tip/5342","title":"How do I make a list with checkboxes in Java Swing?","body":"<p>All of the aggregate components in Swing--that is, components made up other components, such as JTable, JTree, or JComboBox--can be highly customized. For example, a JTable component normally displays a grid of JLabel components, but it can also display JButtons, JTextFields, or even other JTables. Getting these aggregate components to display non-default objects is the easy part, however. Making them respond properly to keyboard and mouse events is a much harder task, due to Swing's separation of components into \"renderers\" and \"editors.\" This separation was (in my opinion) a poor design choice and only serves to complicate matters when trying to extend Swing components.</p>\n\n<p>To see what I mean, try enhancing Swing's JList component so that it displays checkboxes instead of labels. According to Swing philosophy, this task requires implementing two interfaces: ListCellRenderer (for drawing the checkboxes) and CellEditor (for handling keyboard and mouse events on the checkboxes). Implementing the ListCellRenderer interface is easy enough, but the CellEditor interface can be rather clumsy and hard to understand. In this particular case, I would suggest forgetting CellEditor entirely and to handle input events directly, as shown in the following code.</p>\n\n<pre><code>import javax.swing.*;\nimport javax.swing.border.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class CheckBoxList extends JList\n{\n   protected static Border noFocusBorder = new EmptyBorder(1, 1, 1, 1);\n\n   public CheckBoxList()\n   {\n      setCellRenderer(new CellRenderer());\n\n      addMouseListener(new MouseAdapter()\n         {\n            public void mousePressed(MouseEvent e)\n            {\n               int index = locationToIndex(e.getPoint());\n\n               if (index != -1) {\n                  JCheckBox checkbox = (JCheckBox)\n                              getModel().getElementAt(index);\n                  checkbox.setSelected(\n                                     !checkbox.isSelected());\n                  repaint();\n               }\n            }\n         }\n      );\n\n      setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n   }\n\n   protected class CellRenderer implements ListCellRenderer\n   {\n      public Component getListCellRendererComponent(\n                    JList list, Object value, int index,\n                    boolean isSelected, boolean cellHasFocus)\n      {\n         JCheckBox checkbox = (JCheckBox) value;\n         checkbox.setBackground(isSelected ?\n                 getSelectionBackground() : getBackground());\n         checkbox.setForeground(isSelected ?\n                 getSelectionForeground() : getForeground());\n         checkbox.setEnabled(isEnabled());\n         checkbox.setFont(getFont());\n         checkbox.setFocusPainted(false);\n         checkbox.setBorderPainted(true);\n         checkbox.setBorder(isSelected ?\n          UIManager.getBorder(\n           \"List.focusCellHighlightBorder\") : noFocusBorder);\n         return checkbox;\n      }\n   }\n}\n</code></pre>\n\n<p>Here, I intercept mouse clicks from the listbox and simulate a click on the appropriate checkbox. The result is a \"CheckBoxList\" component that is both simpler and smaller than an equivalent component using the CellEditor interface. To use the class, simply instantiate it, then pass it an array of JCheckBox objects (or subclasses of JCheckBox objects) by calling setListData. Note that the checkboxes in this component will not respond to keypresses (i.e. the spacebar), but you could always add your own key listener if needed.</p>\n\n<p>Source: <a href=\"http://www.devx.com/tips/Tip/5342\" rel=\"nofollow\">DevX.com</a></p>\n"},{"tags":[],"owner":{"account_id":26848307,"reputation":1,"user_id":20501329,"display_name":"huakim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668435203,"creation_date":1668434269,"answer_id":74432809,"question_id":19766,"body_markdown":"this is yet another example of making list with checkboxes\r\n\r\n    class JCheckList&lt;T&gt; extends JList&lt;T&gt; {\r\n    \r\n        protected static Border noFocusBorder = new EmptyBorder(1, 1, 1, 1);\r\n    \r\n        public void setSelected(int index) {\r\n            if (index != -1) {\r\n                JCheckBox checkbox = (JCheckBox) getModel().getElementAt(index);\r\n                checkbox.setSelected(\r\n                        !checkbox.isSelected());\r\n                repaint();\r\n            }\r\n        }\r\n    \r\n        protected static class CellListener\r\n                extends DefaultListModel\r\n                implements ListDataListener {\r\n    \r\n            ListModel ls;\r\n    \r\n            public CellListener(ListModel ls) {\r\n                ls.addListDataListener(this);\r\n                int i = ls.getSize();\r\n                for (int v = 0; v &lt; i; v++) {\r\n                    var r = new JCheckBox();\r\n                    r.setText(ls.getElementAt(v).toString());\r\n                    this.addElement(r);\r\n                }\r\n                this.ls = ls;\r\n            }\r\n    \r\n            @Override\r\n            public void intervalAdded(ListDataEvent e) {\r\n                int begin = e.getIndex0();\r\n                int end = e.getIndex1();\r\n                for (; begin &lt;= end; begin++) {\r\n                    var r = new JCheckBox();\r\n                    r.setText(ls.getElementAt(begin).toString());\r\n                    this.add(begin, r);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void intervalRemoved(ListDataEvent e) {\r\n                int begin = e.getIndex0();\r\n                int end = e.getIndex1();\r\n                for (; begin &lt;= end; end--) {\r\n                    this.remove(begin);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void contentsChanged(ListDataEvent e) {\r\n    \r\n            }\r\n        }\r\n    \r\n        public JCheckList() {\r\n            setCellRenderer(new CellRenderer());\r\n    \r\n            addMouseListener(new MouseAdapter() {\r\n                public void mousePressed(MouseEvent e) {\r\n                    int index = locationToIndex(e.getPoint());\r\n    \r\n                    setSelected(index);\r\n                }\r\n            }\r\n            );\r\n    \r\n\r\n        addKeyListener(new KeyListener(){\r\n            @Override\r\n            public void keyTyped(KeyEvent e) {\r\n                \r\n            }\r\n\r\n            @Override\r\n            public void keyPressed(KeyEvent e) {\r\n                if (e.getKeyCode() == KeyEvent.VK_SPACE){\r\n                    \r\n                int index = JCheckList.this.getSelectedIndex();\r\n\r\n                setSelected(index);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void keyReleased(KeyEvent e) {\r\n                \r\n            }\r\n                \r\n        });\r\n\r\n            setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n        }\r\n    \r\n        @Override\r\n        public void setModel(ListModel&lt;T&gt; d) {\r\n            var r = new CellListener(d);\r\n            d.addListDataListener(r);\r\n            super.setModel(r);\r\n        }\r\n    \r\n        protected class CellRenderer implements ListCellRenderer {\r\n    \r\n            public Component getListCellRendererComponent(\r\n                    JList list, Object value, int index,\r\n                    boolean isSelected, boolean cellHasFocus) {\r\n                JCheckBox checkbox = (JCheckBox) value;\r\n                checkbox.setBackground(isSelected\r\n                        ? getSelectionBackground() : getBackground());\r\n                checkbox.setForeground(isSelected\r\n                        ? getSelectionForeground() : getForeground());\r\n                checkbox.setEnabled(isEnabled());\r\n                checkbox.setFont(getFont());\r\n                checkbox.setFocusPainted(false);\r\n                checkbox.setBorderPainted(true);\r\n                checkbox.setBorder(isSelected\r\n                        ? UIManager.getBorder(\r\n                                &quot;List.focusCellHighlightBorder&quot;) : noFocusBorder);\r\n                return checkbox;\r\n            }\r\n        }\r\n    }","title":"How do I make a list with checkboxes in Java Swing?","body":"<p>this is yet another example of making list with checkboxes</p>\n<pre><code>class JCheckList&lt;T&gt; extends JList&lt;T&gt; {\n\n    protected static Border noFocusBorder = new EmptyBorder(1, 1, 1, 1);\n\n    public void setSelected(int index) {\n        if (index != -1) {\n            JCheckBox checkbox = (JCheckBox) getModel().getElementAt(index);\n            checkbox.setSelected(\n                    !checkbox.isSelected());\n            repaint();\n        }\n    }\n\n    protected static class CellListener\n            extends DefaultListModel\n            implements ListDataListener {\n\n        ListModel ls;\n\n        public CellListener(ListModel ls) {\n            ls.addListDataListener(this);\n            int i = ls.getSize();\n            for (int v = 0; v &lt; i; v++) {\n                var r = new JCheckBox();\n                r.setText(ls.getElementAt(v).toString());\n                this.addElement(r);\n            }\n            this.ls = ls;\n        }\n\n        @Override\n        public void intervalAdded(ListDataEvent e) {\n            int begin = e.getIndex0();\n            int end = e.getIndex1();\n            for (; begin &lt;= end; begin++) {\n                var r = new JCheckBox();\n                r.setText(ls.getElementAt(begin).toString());\n                this.add(begin, r);\n            }\n        }\n\n        @Override\n        public void intervalRemoved(ListDataEvent e) {\n            int begin = e.getIndex0();\n            int end = e.getIndex1();\n            for (; begin &lt;= end; end--) {\n                this.remove(begin);\n            }\n        }\n\n        @Override\n        public void contentsChanged(ListDataEvent e) {\n\n        }\n    }\n\n    public JCheckList() {\n        setCellRenderer(new CellRenderer());\n\n        addMouseListener(new MouseAdapter() {\n            public void mousePressed(MouseEvent e) {\n                int index = locationToIndex(e.getPoint());\n\n                setSelected(index);\n            }\n        }\n        );\n\n\n    addKeyListener(new KeyListener(){\n        @Override\n        public void keyTyped(KeyEvent e) {\n            \n        }\n\n        @Override\n        public void keyPressed(KeyEvent e) {\n            if (e.getKeyCode() == KeyEvent.VK_SPACE){\n                \n            int index = JCheckList.this.getSelectedIndex();\n\n            setSelected(index);\n            }\n        }\n\n        @Override\n        public void keyReleased(KeyEvent e) {\n            \n        }\n            \n    });\n\n        setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\n    }\n\n    @Override\n    public void setModel(ListModel&lt;T&gt; d) {\n        var r = new CellListener(d);\n        d.addListDataListener(r);\n        super.setModel(r);\n    }\n\n    protected class CellRenderer implements ListCellRenderer {\n\n        public Component getListCellRendererComponent(\n                JList list, Object value, int index,\n                boolean isSelected, boolean cellHasFocus) {\n            JCheckBox checkbox = (JCheckBox) value;\n            checkbox.setBackground(isSelected\n                    ? getSelectionBackground() : getBackground());\n            checkbox.setForeground(isSelected\n                    ? getSelectionForeground() : getForeground());\n            checkbox.setEnabled(isEnabled());\n            checkbox.setFont(getFont());\n            checkbox.setFocusPainted(false);\n            checkbox.setBorderPainted(true);\n            checkbox.setBorder(isSelected\n                    ? UIManager.getBorder(\n                            &quot;List.focusCellHighlightBorder&quot;) : noFocusBorder);\n            return checkbox;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5108847,"reputation":460,"user_id":4308462,"accept_rate":50,"display_name":"JPT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669132493,"creation_date":1669132170,"answer_id":74535408,"question_id":19766,"body_markdown":"I don&#39;t like the solutions that put a Checkbox into the model. The model should only contain data not display elements. \r\n\r\nI found this http://www.java2s.com/Tutorials/Java/Swing_How_to/JList/Create_JList_of_CheckBox.htm\r\n\r\nwhich I optimized a bit. The ACTIVE flag represents the Checkbox, the SELECTED flag shows what entry the cursor sits on. \r\n\r\nmy version requires a renderer\r\n\r\n\timport java.awt.Component;\r\n\r\n\timport javax.swing.JCheckBox;\r\n\timport javax.swing.JList;\r\n\timport javax.swing.ListCellRenderer;\r\n\r\n\tclass CheckListRenderer extends JCheckBox implements ListCellRenderer&lt;Entity&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic Component getListCellRendererComponent(JList&lt;? extends Entity&gt; list, \r\n\t\t    Entity value, int index, boolean isSelected, boolean cellHasFocus) {\r\n    \r\n\t\t\t\tsetEnabled(list.isEnabled());\r\n\t\t\t\tsetSelected(value.isActive()); // sets the checkbox\r\n\t\t\t\tsetFont(list.getFont());\r\n\t\t\tif (isSelected) { // highlights the currently selected entry\r\n\t\t\t\tsetBackground(list.getSelectionBackground());\r\n\t\t\t\tsetForeground(list.getSelectionForeground());\r\n\t\t\t} else {\r\n\t\t\t\tsetBackground(list.getBackground());\r\n\t\t\t\tsetForeground(list.getForeground());\r\n\t\t\t}\r\n\t\t\tsetText(value.toString()+&quot; - A&quot; + value.isActive()+&quot; - F&quot;+cellHasFocus+&quot; - S&quot;+isSelected );\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t}\r\n\r\nand an entity that got the active field: \r\n\r\n\tpublic class Entity {\r\n\r\n\t\tprivate boolean active = true;\r\n\r\n\t\tpublic boolean isActive() {\r\n\t\t\treturn active;\r\n\t\t}\r\n\r\n\t\tpublic void setActive(boolean isActive) {\r\n\t\t\tthis.active = isActive;\r\n\t\t}\r\n\r\n\t}\r\n\r\nNow you only have to add this to your JList: \r\n\r\n\tlist = new JList&lt;Entity&gt;();\r\n\tlist.setModel(new DefaultListModel&lt;Entity&gt;());\r\n\tlist.setCellRenderer(new CheckListRenderer());\r\n\tlist.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\r\n\tlist.addMouseListener(new MouseAdapter() {\r\n\t\t@Override\r\n\t\tpublic void mouseClicked(MouseEvent event) {\r\n\t\t\tif (event.getX() &lt; 20) { \r\n\t\t\t\t// Quick and dirty: only change the tick if clicked into the leftmost pixels\r\n\t\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\t\tJList&lt;Entity&gt; list = ((JList&lt;Entity&gt;) event.getSource());\r\n\t\t\t\tint index = list.locationToIndex(event.getPoint());// Get index of item clicked\r\n\t\t\t\tif (index &gt;= 0) {\r\n\t\t\t\t\tEntity item = (Entity) list.getModel().getElementAt(index);\r\n\t\t\t\t\titem.setActive(!item.isActive()); // Toggle selected state\r\n\t\t\t\t\tlist.repaint(list.getCellBounds(index, index));// Repaint cell\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n","title":"How do I make a list with checkboxes in Java Swing?","body":"<p>I don't like the solutions that put a Checkbox into the model. The model should only contain data not display elements.</p>\n<p>I found this <a href=\"http://www.java2s.com/Tutorials/Java/Swing_How_to/JList/Create_JList_of_CheckBox.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Tutorials/Java/Swing_How_to/JList/Create_JList_of_CheckBox.htm</a></p>\n<p>which I optimized a bit. The ACTIVE flag represents the Checkbox, the SELECTED flag shows what entry the cursor sits on.</p>\n<p>my version requires a renderer</p>\n<pre><code>import java.awt.Component;\n\nimport javax.swing.JCheckBox;\nimport javax.swing.JList;\nimport javax.swing.ListCellRenderer;\n\nclass CheckListRenderer extends JCheckBox implements ListCellRenderer&lt;Entity&gt; {\n\n    @Override\n    public Component getListCellRendererComponent(JList&lt;? extends Entity&gt; list, \n        Entity value, int index, boolean isSelected, boolean cellHasFocus) {\n\n            setEnabled(list.isEnabled());\n            setSelected(value.isActive()); // sets the checkbox\n            setFont(list.getFont());\n        if (isSelected) { // highlights the currently selected entry\n            setBackground(list.getSelectionBackground());\n            setForeground(list.getSelectionForeground());\n        } else {\n            setBackground(list.getBackground());\n            setForeground(list.getForeground());\n        }\n        setText(value.toString()+&quot; - A&quot; + value.isActive()+&quot; - F&quot;+cellHasFocus+&quot; - S&quot;+isSelected );\n        return this;\n    }\n\n}\n</code></pre>\n<p>and an entity that got the active field:</p>\n<pre><code>public class Entity {\n\n    private boolean active = true;\n\n    public boolean isActive() {\n        return active;\n    }\n\n    public void setActive(boolean isActive) {\n        this.active = isActive;\n    }\n\n}\n</code></pre>\n<p>Now you only have to add this to your JList:</p>\n<pre><code>list = new JList&lt;Entity&gt;();\nlist.setModel(new DefaultListModel&lt;Entity&gt;());\nlist.setCellRenderer(new CheckListRenderer());\nlist.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);\nlist.addMouseListener(new MouseAdapter() {\n    @Override\n    public void mouseClicked(MouseEvent event) {\n        if (event.getX() &lt; 20) { \n            // Quick and dirty: only change the tick if clicked into the leftmost pixels\n            @SuppressWarnings(&quot;unchecked&quot;)\n            JList&lt;Entity&gt; list = ((JList&lt;Entity&gt;) event.getSource());\n            int index = list.locationToIndex(event.getPoint());// Get index of item clicked\n            if (index &gt;= 0) {\n                Entity item = (Entity) list.getModel().getElementAt(index);\n                item.setActive(!item.isActive()); // Toggle selected state\n                list.repaint(list.getCellBounds(index, index));// Repaint cell\n            }\n        }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":1369,"reputation":873,"user_id":1827,"display_name":"Shabaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89234,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":19804,"answer_count":11,"score":35,"last_activity_date":1669132493,"creation_date":1219322952,"question_id":19766,"body_markdown":"What would be the best way to have a list of items with a checkbox each in Java Swing?\r\n\r\nI.e. a JList with items that have some text and a checkbox each?","title":"How do I make a list with checkboxes in Java Swing?","body":"<p>What would be the best way to have a list of items with a checkbox each in Java Swing?</p>\n\n<p>I.e. a JList with items that have some text and a checkbox each?</p>\n"},{"tags":["java","scala","apache-tika","runtimeexception","pdfparser"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1668397839,"post_id":74408109,"comment_id":131387352,"body_markdown":"What&#39;s the exception you get?","body":"What&#39;s the exception you get?"},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1668402024,"post_id":74408109,"comment_id":131387899,"body_markdown":"500 internal server error:- org.apache.tika.exception.TikaException: Unexpected Runtime exception from org.apache.parser.pdf.PDFParser@12345","body":"500 internal server error:- org.apache.tika.exception.TikaException: Unexpected Runtime exception from org.apache.parser.pdf.PDFParser@12345"},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1668431308,"post_id":74408109,"comment_id":131395902,"body_markdown":"This issue is not there if we use tika-parsers 1.28.5 and tika-core 1.28.5. As part of moving to the upgraded version. I need to update these versions to 1.2.60 and follow the modular approach in Tika we have currently.","body":"This issue is not there if we use tika-parsers 1.28.5 and tika-core 1.28.5. As part of moving to the upgraded version. I need to update these versions to 1.2.60 and follow the modular approach in Tika we have currently."},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1668434540,"post_id":74408109,"comment_id":131397110,"body_markdown":"Not able to update the above comment. this is the exception @Gagravarr . org.apache.tika.exception.TikaException: Unexpected RuntimeException from org.apache.tika.parser.pdf.PDFParser@350ab3f1","body":"Not able to update the above comment. this is the exception @Gagravarr . org.apache.tika.exception.TikaException: Unexpected RuntimeException from org.apache.tika.parser.pdf.PDFParser@350ab3f1"},{"owner":{"account_id":8363906,"reputation":615,"user_id":6281268,"display_name":"Tim Allison"},"score":1,"creation_date":1668550847,"post_id":74408109,"comment_id":131432146,"body_markdown":"Can you provide more of the stacktrace?  Is that your server error or ours in tika-server?","body":"Can you provide more of the stacktrace?  Is that your server error or ours in tika-server?"},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1668610713,"post_id":74408109,"comment_id":131447945,"body_markdown":"Hi @TimAllison, this is tika error i am getting from PDF Parser. i will see if i can get the whole stack trace.","body":"Hi @TimAllison, this is tika error i am getting from PDF Parser. i will see if i can get the whole stack trace."},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1669132035,"post_id":74408109,"comment_id":131571896,"body_markdown":"Hi Tim, this is the whole stack trace :- org.apache.tika.exception.TikaException: Unexpected RuntimeException from org.apache.tika.parser.pdf.PDFParser@2d539b25\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:312) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:298) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]\n\tat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:175) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]","body":"Hi Tim, this is the whole stack trace :- org.apache.tika.exception.TikaException: Unexpected RuntimeException from org.apache.tika.parser.pdf.PDFParser@2d539b25 \tat org.apache.tika.parser.CompositeParser.parse(CompositeParser&zwnj;&#8203;.java:312) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0] \tat org.apache.tika.parser.CompositeParser.parse(CompositeParser&zwnj;&#8203;.java:298) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0] \tat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectPars&zwnj;&#8203;er.java:175) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]"},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1669132148,"post_id":74408109,"comment_id":131571946,"body_markdown":"Caused by: java.lang.NullPointerException\n\tat org.apache.tika.parser.pdf.AbstractPDF2XHTML.doOCROnCurrentPage(AbstractPDF2XHTML.java:520) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\n\tat org.apache.tika.parser.pdf.AbstractPDF2XHTML.endPage(AbstractPDF2XHTML.java:786) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\n\tat org.apache.tika.parser.pdf.PDF2XHTML.endPage(PDF2XHTML.java:154) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]","body":"Caused by: java.lang.NullPointerException \tat org.apache.tika.parser.pdf.AbstractPDF2XHTML.doOCROnCurrentP&zwnj;&#8203;age(AbstractPDF2XHTM&zwnj;&#8203;L.java:520) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.&zwnj;&#8203;6.0] \tat org.apache.tika.parser.pdf.AbstractPDF2XHTML.endPage(Abstrac&zwnj;&#8203;tPDF2XHTML.java:786) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.&zwnj;&#8203;6.0] \tat org.apache.tika.parser.pdf.PDF2XHTML.endPage(PDF2XHTML.java:&zwnj;&#8203;154) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.&zwnj;&#8203;6.0]"},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1669132173,"post_id":74408109,"comment_id":131571960,"body_markdown":"at org.apache.pdfbox.text.PDFTextStripper.processPage(PDFTextStripper.java:365) ~[org.apache.pdfbox.pdfbox-2.0.27.jar:2.0.27]\n\tat org.apache.tika.parser.pdf.PDF2XHTML.processPage(PDF2XHTML.java:137) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\n\tat org.apache.tika.parser.pdf.AbstractPDF2XHTML.processPages(AbstractPDF2XHTML.java:1277) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\n\tat org.apache.pdfbox.text.PDFTextStripper.writeText(PDFTextStripper.java:238) ~[org.apache.pdfbox.pdfbox-2.0.27.jar:2.0.27]","body":"at org.apache.pdfbox.text.PDFTextStripper.processPage(PDFTextSt&zwnj;&#8203;ripper.java:365) ~[org.apache.pdfbox.pdfbox-2.0.27.jar:2.0.27] \tat org.apache.tika.parser.pdf.PDF2XHTML.processPage(PDF2XHTML.j&zwnj;&#8203;ava:137) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.&zwnj;&#8203;6.0] \tat org.apache.tika.parser.pdf.AbstractPDF2XHTML.processPages(Ab&zwnj;&#8203;stractPDF2XHTML.java&zwnj;&#8203;:1277) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.&zwnj;&#8203;6.0] \tat org.apache.pdfbox.text.PDFTextStripper.writeText(PDFTextStri&zwnj;&#8203;pper.java:238) ~[org.apache.pdfbox.pdfbox-2.0.27.jar:2.0.27]"},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1669132195,"post_id":74408109,"comment_id":131571972,"body_markdown":"at org.apache.tika.parser.pdf.PDF2XHTML.process(PDF2XHTML.java:108) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\n\tat org.apache.tika.parser.pdf.PDFParser.parse(PDFParser.java:198) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:298) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]\n\t... 37 more","body":"at org.apache.tika.parser.pdf.PDF2XHTML.process(PDF2XHTML.java:&zwnj;&#8203;108) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.&zwnj;&#8203;6.0] \tat org.apache.tika.parser.pdf.PDFParser.parse(PDFParser.java:19&zwnj;&#8203;8) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.&zwnj;&#8203;6.0] \tat org.apache.tika.parser.CompositeParser.parse(CompositeParser&zwnj;&#8203;.java:298) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0] \t... 37 more"},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":0,"creation_date":1669132317,"post_id":74408109,"comment_id":131572036,"body_markdown":"please note that same code will work fine if i change the dependenices from tika-parser-standard-package 2.6.0 to tika-parsers-1.28.5 and tika-core-2.6.0 to tika-core-1.28.5","body":"please note that same code will work fine if i change the dependenices from tika-parser-standard-package 2.6.0 to tika-parsers-1.28.5 and tika-core-2.6.0 to tika-core-1.28.5"},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":2,"creation_date":1669204531,"post_id":74408109,"comment_id":131590404,"body_markdown":"Issue is fixed now. Its expecting Parser.class instance for scanned images.I have passed that in context. Thanks","body":"Issue is fixed now. Its expecting Parser.class instance for scanned images.I have passed that in context. Thanks"},{"owner":{"account_id":27071838,"reputation":207,"user_id":20622382,"display_name":"Seriously"},"score":0,"creation_date":1682477910,"post_id":74408109,"comment_id":134220809,"body_markdown":"@DeadPool do we need to install tesseract ocr engine separately or adding tika core and tika parser is enough??","body":"@DeadPool do we need to install tesseract ocr engine separately or adding tika core and tika parser is enough??"},{"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"score":1,"creation_date":1683627242,"post_id":74408109,"comment_id":134392097,"body_markdown":"@Seriously sorry for the delay reply. Yes we need to install tesseract on the top of tika parser and core and also to set path configurations if required.","body":"@Seriously sorry for the delay reply. Yes we need to install tesseract on the top of tika parser and core and also to set path configurations if required."}],"answers":[{"tags":[],"owner":{"account_id":3832499,"reputation":672,"user_id":3177710,"display_name":"marek.kapowicki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668521948,"creation_date":1668521948,"answer_id":74447148,"question_id":74408109,"body_markdown":"You should use different PDFParserConfig \r\nThere are 2 types of pdfs files  \r\n\r\n 1. native files (also called searchble) - Tika is able to extract text from native without ocr\r\n\r\n    PDFParserConfig pdfParserConfig = new PDFParserConfig();\r\n\r\n    pdfParserConfig.setExtractInlineImages(false);\r\n\r\n    pdfParserConfig.setOcrStrategy(NO_OCR);\r\n2. scanned files (or images converted to pdf) - Tika has to do the OCR (using the tesseract under the hood)\r\n\r\n    PDFParserConfig pdfParserConfig = new PDFParserConfig();\r\n\r\n    pdfParserConfig.setExtractInlineImages(true);\r\n\r\n    pdfParserConfig.setOcrStrategy(OCR_ONLY);\r\n\r\n","title":"Issue using Apache tika parser when trying to parse pdf having text contains image","body":"<p>You should use different PDFParserConfig\nThere are 2 types of pdfs files</p>\n<ol>\n<li><p>native files (also called searchble) - Tika is able to extract text from native without ocr</p>\n<p>PDFParserConfig pdfParserConfig = new PDFParserConfig();</p>\n<p>pdfParserConfig.setExtractInlineImages(false);</p>\n<p>pdfParserConfig.setOcrStrategy(NO_OCR);</p>\n</li>\n<li><p>scanned files (or images converted to pdf) - Tika has to do the OCR (using the tesseract under the hood)</p>\n<p>PDFParserConfig pdfParserConfig = new PDFParserConfig();</p>\n<p>pdfParserConfig.setExtractInlineImages(true);</p>\n<p>pdfParserConfig.setOcrStrategy(OCR_ONLY);</p>\n</li>\n</ol>\n"}],"owner":{"account_id":9063580,"reputation":42,"user_id":6749289,"display_name":"DeadPool"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":878,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669132452,"creation_date":1668200669,"question_id":74408109,"body_markdown":"I am using these two dependencies:-\r\n tika core 2.6.0\r\n tika parser standard package 2.6.0\r\n.Parsing is working fine for these cases:-\r\n pdf file with text.\r\n pdf file with images.\r\n text files and other extensions.\r\n\r\nParsing is failing with pdfparser runtime exception for the use case below:-\r\npdf file with text inside images.\r\n\r\nCan someone pls suggest how to resolve failed case here. Thanks\r\n\r\nFull error Stack trace:-\r\n\r\norg.apache.tika.exception.TikaException: Unexpected RuntimeException from org.apache.tika.parser.pdf.PDFParser@2d539b25\r\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:312) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]\r\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:298) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]\r\n\tat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:175) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.tika.parser.pdf.AbstractPDF2XHTML.doOCROnCurrentPage(AbstractPDF2XHTML.java:520) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\r\n\tat org.apache.tika.parser.pdf.AbstractPDF2XHTML.endPage(AbstractPDF2XHTML.java:786) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\r\n\tat org.apache.tika.parser.pdf.PDF2XHTML.endPage(PDF2XHTML.java:154) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\r\n\tat org.apache.pdfbox.text.PDFTextStripper.processPage(PDFTextStripper.java:365) ~[org.apache.pdfbox.pdfbox-2.0.27.jar:2.0.27]\r\n\tat org.apache.tika.parser.pdf.PDF2XHTML.processPage(PDF2XHTML.java:137) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\r\n\tat org.apache.tika.parser.pdf.AbstractPDF2XHTML.processPages(AbstractPDF2XHTML.java:1277) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\r\n\tat org.apache.pdfbox.text.PDFTextStripper.writeText(PDFTextStripper.java:238) ~[org.apache.pdfbox.pdfbox-2.0.27.jar:2.0.27]\r\n\tat org.apache.tika.parser.pdf.PDF2XHTML.process(PDF2XHTML.java:108) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\r\n\tat org.apache.tika.parser.pdf.PDFParser.parse(PDFParser.java:198) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\r\n\tat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:298) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]\r\n\t... 37 more\r\n","title":"Issue using Apache tika parser when trying to parse pdf having text contains image","body":"<p>I am using these two dependencies:-\ntika core 2.6.0\ntika parser standard package 2.6.0\n.Parsing is working fine for these cases:-\npdf file with text.\npdf file with images.\ntext files and other extensions.</p>\n<p>Parsing is failing with pdfparser runtime exception for the use case below:-\npdf file with text inside images.</p>\n<p>Can someone pls suggest how to resolve failed case here. Thanks</p>\n<p>Full error Stack trace:-</p>\n<p>org.apache.tika.exception.TikaException: Unexpected RuntimeException from org.apache.tika.parser.pdf.PDFParser@2d539b25\nat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:312) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]\nat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:298) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]\nat org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:175) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]\nCaused by: java.lang.NullPointerException\nat org.apache.tika.parser.pdf.AbstractPDF2XHTML.doOCROnCurrentPage(AbstractPDF2XHTML.java:520) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\nat org.apache.tika.parser.pdf.AbstractPDF2XHTML.endPage(AbstractPDF2XHTML.java:786) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\nat org.apache.tika.parser.pdf.PDF2XHTML.endPage(PDF2XHTML.java:154) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\nat org.apache.pdfbox.text.PDFTextStripper.processPage(PDFTextStripper.java:365) ~[org.apache.pdfbox.pdfbox-2.0.27.jar:2.0.27]\nat org.apache.tika.parser.pdf.PDF2XHTML.processPage(PDF2XHTML.java:137) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\nat org.apache.tika.parser.pdf.AbstractPDF2XHTML.processPages(AbstractPDF2XHTML.java:1277) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\nat org.apache.pdfbox.text.PDFTextStripper.writeText(PDFTextStripper.java:238) ~[org.apache.pdfbox.pdfbox-2.0.27.jar:2.0.27]\nat org.apache.tika.parser.pdf.PDF2XHTML.process(PDF2XHTML.java:108) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\nat org.apache.tika.parser.pdf.PDFParser.parse(PDFParser.java:198) ~[org.apache.tika.tika-parsers-standard-package-2.6.0.jar:2.6.0]\nat org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:298) ~[org.apache.tika.tika-core-2.6.0.jar:2.6.0]\n... 37 more</p>\n"},{"tags":["java","filepath"],"comments":[{"owner":{"account_id":7490528,"reputation":486,"user_id":5692402,"display_name":"Shreyas Sarvothama"},"score":0,"creation_date":1477462907,"post_id":40255039,"comment_id":67771706,"body_markdown":"Is it a GUI program that you are looking for? what application are you trying to build?","body":"Is it a GUI program that you are looking for? what application are you trying to build?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1477462976,"post_id":40255039,"comment_id":67771739,"body_markdown":"If you are using swing [JFileChooser](https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html) or [FileDialog](https://docs.oracle.com/javase/8/docs/api/java/awt/FileDialog.html) if you are using javafx, [FileChooser](https://docs.oracle.com/javase/8/javafx/api/javafx/stage/FileChooser.html). The JFileChooser doc has an example of usage.","body":"If you are using swing <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JFileChooser.html\" rel=\"nofollow noreferrer\">JFileChooser</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/FileDialog.html\" rel=\"nofollow noreferrer\">FileDialog</a> if you are using javafx, <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/stage/FileChooser.html\" rel=\"nofollow noreferrer\">FileChooser</a>. The JFileChooser doc has an example of usage."},{"owner":{"account_id":5948511,"reputation":423,"user_id":4677318,"display_name":"Hemanth S. Vaddi"},"score":0,"creation_date":1477463201,"post_id":40255039,"comment_id":67771849,"body_markdown":"@shreyas-sarvothama Yes I&#39;m looking for GUI File chooser","body":"@shreyas-sarvothama Yes I&#39;m looking for GUI File chooser"},{"owner":{"account_id":7490528,"reputation":486,"user_id":5692402,"display_name":"Shreyas Sarvothama"},"score":0,"creation_date":1477463261,"post_id":40255039,"comment_id":67771884,"body_markdown":"Then as @matt suggested, go for JFileChooser... I would recommend you to take a complete Java Tutorial. JavaFx if you are looking for GUI","body":"Then as @matt suggested, go for JFileChooser... I would recommend you to take a complete Java Tutorial. JavaFx if you are looking for GUI"},{"owner":{"account_id":46475,"reputation":20349,"user_id":137369,"accept_rate":78,"display_name":"Thirler"},"score":0,"creation_date":1477463503,"post_id":40255039,"comment_id":67771997,"body_markdown":"If you don&#39;t have a preference for JavaFx or Swing, go for JavaFx. It is a modern GUI that Oracle actively developes these days (where Swing has not changed in more than 10 years).","body":"If you don&#39;t have a preference for JavaFx or Swing, go for JavaFx. It is a modern GUI that Oracle actively developes these days (where Swing has not changed in more than 10 years)."},{"owner":{"account_id":5948511,"reputation":423,"user_id":4677318,"display_name":"Hemanth S. Vaddi"},"score":0,"creation_date":1477464656,"post_id":40255039,"comment_id":67772571,"body_markdown":"Thanks for your help guys","body":"Thanks for your help guys"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1669132428,"creation_date":1477463354,"answer_id":40255184,"question_id":40255039,"body_markdown":"Here is the example from the `JFileChooser` docs copy pasta with the parent sent to `null`. \r\n\r\n    public class PickAFile {\r\n        public static void main(String[] args){\r\n            JFileChooser chooser = new JFileChooser();\r\n            FileNameExtensionFilter filter = new FileNameExtensionFilter(\r\n                    &quot;JPG &amp; GIF Images&quot;, &quot;jpg&quot;, &quot;gif&quot;);\r\n            chooser.setFileFilter(filter);\r\n            int returnVal = chooser.showOpenDialog(null);\r\n            if(returnVal == JFileChooser.APPROVE_OPTION) {\r\n                System.out.println(&quot;You chose to open this file: &quot; +\r\n                        chooser.getSelectedFile().getName());\r\n            }\r\n        }\r\n    }\r\n\r\nIf you don&#39;t like the look of the JFileChooser try the `FileDialog`.\r\n\r\n        FileDialog dialog = new FileDialog((Frame)null, &quot;Select File to Open&quot;);\r\n        dialog.setMode(FileDialog.LOAD);\r\n        dialog.setVisible(true);\r\n        String file = dialog.getFile();\r\n        dialog.dispose();\r\n        System.out.println(file + &quot; chosen.&quot;);\r\n\r\n** The call to dispose is necessary to exit the program if this is an isolated call, or to prevent a memory leak if this is used in a larger application.","title":"How to choose file in java?","body":"<p>Here is the example from the <code>JFileChooser</code> docs copy pasta with the parent sent to <code>null</code>.</p>\n<pre><code>public class PickAFile {\n    public static void main(String[] args){\n        JFileChooser chooser = new JFileChooser();\n        FileNameExtensionFilter filter = new FileNameExtensionFilter(\n                &quot;JPG &amp; GIF Images&quot;, &quot;jpg&quot;, &quot;gif&quot;);\n        chooser.setFileFilter(filter);\n        int returnVal = chooser.showOpenDialog(null);\n        if(returnVal == JFileChooser.APPROVE_OPTION) {\n            System.out.println(&quot;You chose to open this file: &quot; +\n                    chooser.getSelectedFile().getName());\n        }\n    }\n}\n</code></pre>\n<p>If you don't like the look of the JFileChooser try the <code>FileDialog</code>.</p>\n<pre><code>    FileDialog dialog = new FileDialog((Frame)null, &quot;Select File to Open&quot;);\n    dialog.setMode(FileDialog.LOAD);\n    dialog.setVisible(true);\n    String file = dialog.getFile();\n    dialog.dispose();\n    System.out.println(file + &quot; chosen.&quot;);\n</code></pre>\n<p>** The call to dispose is necessary to exit the program if this is an isolated call, or to prevent a memory leak if this is used in a larger application.</p>\n"}],"owner":{"account_id":5948511,"reputation":423,"user_id":4677318,"display_name":"Hemanth S. Vaddi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47221,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1477464444,"accepted_answer_id":40255184,"answer_count":1,"score":10,"last_activity_date":1669132428,"creation_date":1477462747,"question_id":40255039,"body_markdown":"I need to get file path for my java program during **runtime**. Is there any way to use default _dialog box_ to choose a _single file_ and get its full path and name?\r\n\r\nIts just picking a file and get its path into a String object\r\n\r\nCan you please provide the code for it or a tutorial? \r\n\r\nPS: Windows OS","title":"How to choose file in java?","body":"<p>I need to get file path for my java program during <strong>runtime</strong>. Is there any way to use default <em>dialog box</em> to choose a <em>single file</em> and get its full path and name?</p>\n\n<p>Its just picking a file and get its path into a String object</p>\n\n<p>Can you please provide the code for it or a tutorial? </p>\n\n<p>PS: Windows OS</p>\n"},{"tags":["java","hibernate","utf-8","char","concatenation"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1669113125,"post_id":74531078,"comment_id":131564682,"body_markdown":"You understand that `group_short += metadata[2].charAt(i);` is *changing* the character `group_short` holds, not concatenating characters?","body":"You understand that <code>group_short += metadata[2].charAt(i);</code> is <i>changing</i> the character <code>group_short</code> holds, not concatenating characters?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1669114466,"post_id":74531078,"comment_id":131565206,"body_markdown":"`char` is a primitive, actually a number, so `+=` is adding the values - the `+` operator only works as string concatenation if at least one of the operands is a `String` - it is hard to understand what the goal of that is, why not use `metadata[2]`  directly? Concatenating all its chars into a String, is just creating a second string with the same content (on the other hand. a `char` cannot {*correctly*) hold two letters - assuming that `setGroup_short()` only accepts a `char`)","body":"<code>char</code> is a primitive, actually a number, so <code>+=</code> is adding the values - the <code>+</code> operator only works as string concatenation if at least one of the operands is a <code>String</code> - it is hard to understand what the goal of that is, why not use <code>metadata[2]</code>  directly? Concatenating all its chars into a String, is just creating a second string with the same content (on the other hand. a <code>char</code> cannot {<i>correctly</i>) hold two letters - assuming that <code>setGroup_short()</code> only accepts a <code>char</code>)"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1669119752,"post_id":74531078,"comment_id":131566955,"body_markdown":"Why are you even building `group_short` like this? It starts with the first character of `metadata[2]`, and then you add each other character to it. In the end, `group_short` will be identical to `metadata[2]`. Since `pcbGroup.setGroup_short` obviously takes a singe `char`, it&#39;s most likely that you only need to set the first character only. You cannot store more than 1 character in a single `char`.","body":"Why are you even building <code>group_short</code> like this? It starts with the first character of <code>metadata[2]</code>, and then you add each other character to it. In the end, <code>group_short</code> will be identical to <code>metadata[2]</code>. Since <code>pcbGroup.setGroup_short</code> obviously takes a singe <code>char</code>, it&#39;s most likely that you only need to set the first character only. You cannot store more than 1 character in a single <code>char</code>."},{"owner":{"account_id":24628909,"reputation":21,"user_id":18528353,"display_name":"dbuergi"},"score":0,"creation_date":1669121439,"post_id":74531078,"comment_id":131567527,"body_markdown":"@RobSpoor I did not see the forest for the trees in this case. I was way too fixated on a wrongly implemented entity class where my predecessors used char instead of String for `group_short`","body":"@RobSpoor I did not see the forest for the trees in this case. I was way too fixated on a wrongly implemented entity class where my predecessors used char instead of String for <code>group_short</code>"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669116380,"creation_date":1669113205,"answer_id":74531188,"question_id":74531078,"body_markdown":"This line doesn&#39;t do what you seem to think it does:\r\n\r\n    group_short += metadata[2].charAt(i);\r\n\r\nWhile this might look like a string concatenation to you, it&#39;s not. `group_short` is of type `char` meaning it holds **a single character**&lt;sup&gt;*&lt;/sup&gt;.\r\n\r\nWhat this does is add the codepoint value of the other characters to the one of the first character which doesn&#39;t result in anything semantically meaningful for your use case (one *could* argue that it&#39;s a very simple kind of hashing, but it&#39;s not even good at that).\r\n\r\nWhat you want to do is have a `String` (or ideally `StringBuilder`) variable and do proper concatenation:\r\n\r\n    String group_short = &quot;&quot; + metadata[2].charAt(0);\r\n    \r\n    // and later in the loop:\r\n    group_short += metadata[2].charAt(i);\r\n\r\nNote that with this code `group_short` will be *exactly* the same value as `metadata[2]` at the end of the loop, making all of that code equivalent to (but way less efficient than) `group_short = Objects.nonNull(metadata[2])`.\r\n\r\n&lt;sup&gt;* Due to the complexity of Unicode and Java Strings using UTF-16 this is not *entirely* accurate as multiple `char` values can be required to make up a single &quot;character&quot; in the &quot;human language&quot; sense, it&#39;s close enough for this issue.&lt;/sup&gt;","title":"Concatenating chars with String.charAt() and + operator turns them into encoded UTF-8","body":"<p>This line doesn't do what you seem to think it does:</p>\n<pre><code>group_short += metadata[2].charAt(i);\n</code></pre>\n<p>While this might look like a string concatenation to you, it's not. <code>group_short</code> is of type <code>char</code> meaning it holds <strong>a single character</strong><sup>*</sup>.</p>\n<p>What this does is add the codepoint value of the other characters to the one of the first character which doesn't result in anything semantically meaningful for your use case (one <em>could</em> argue that it's a very simple kind of hashing, but it's not even good at that).</p>\n<p>What you want to do is have a <code>String</code> (or ideally <code>StringBuilder</code>) variable and do proper concatenation:</p>\n<pre><code>String group_short = &quot;&quot; + metadata[2].charAt(0);\n\n// and later in the loop:\ngroup_short += metadata[2].charAt(i);\n</code></pre>\n<p>Note that with this code <code>group_short</code> will be <em>exactly</em> the same value as <code>metadata[2]</code> at the end of the loop, making all of that code equivalent to (but way less efficient than) <code>group_short = Objects.nonNull(metadata[2])</code>.</p>\n<p><sup>* Due to the complexity of Unicode and Java Strings using UTF-16 this is not <em>entirely</em> accurate as multiple <code>char</code> values can be required to make up a single &quot;character&quot; in the &quot;human language&quot; sense, it's close enough for this issue.</sup></p>\n"}],"owner":{"account_id":24628909,"reputation":21,"user_id":18528353,"display_name":"dbuergi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74531188,"answer_count":1,"score":-1,"last_activity_date":1669132362,"creation_date":1669112784,"question_id":74531078,"body_markdown":"I&#39;m having trouble properly concatenating characters out of a `String[]` using `String.charAt()` and `+` operator with the following method.\r\n\r\n    private PcbGroup createPcbGroup(String[] metadata, PcbGroup pcbGroup) {\r\n        char group_short = metadata[2].charAt(0);\r\n        \r\n        pcbGroup.setId(Integer.parseInt(metadata[0]));\r\n        pcbGroup.setGroup_name(metadata[1]);\r\n        for (int i = 1; i &lt; metadata[2].length(); i++) {\r\n            group_short += metadata[2].charAt(i);\r\n        }\r\n        pcbGroup.setGroup_short(group_short);\r\n\r\n        // create and return pcbGroup of this metadata\r\n        return pcbGroup;\r\n    }  \r\n\r\nI&#39;m reading a CSV file with `BufferedReader` and populate `String[] metadata` with it. The content of the `String[] metadata` is `[3, &quot;Foo&quot;, ML]`. The line `char group_short = metadata[2].charAt(0);` correctly assings `&#39;M&#39;` to `char group_short`. It then turns into `? ` (space intended) when concatenating it with the second character `&#39;L&#39;`.\r\n\r\nWhen I save this object, Hibernate complains about noncorrect String value which appears to be `&#39;\\xC2\\x99&#39;`.  \r\n\r\n    Hibernate: insert into pcb_group (group_name, group_short, id) values (?, ?, ?)\r\n\r\n    2022-11-22 10:41:35.902  WARN 2988 --- [           main] \r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1366, SQLState: HY000\r\n\r\n    2022-11-22 10:41:35.903 ERROR 2988 --- [           main] \r\n    o.h.engine.jdbc.spi.SqlExceptionHelper   : (conn=3030) Incorrect string value: &#39;\\xC2\\x99&#39; for \r\n    column &#39;group_short&#39; at row 1\r\n\r\n    2022-11-22 10:41:35.903  INFO 2988 --- [           main] o.h.e.j.b.internal.AbstractBatchImpl     \r\n    : HHH000010: On release of batch it still contained JDBC statements\r\n\r\nI&#39;m struggling with this little thing for a few hours now and it&#39;s getting on my nerves, could use some help.","title":"Concatenating chars with String.charAt() and + operator turns them into encoded UTF-8","body":"<p>I'm having trouble properly concatenating characters out of a <code>String[]</code> using <code>String.charAt()</code> and <code>+</code> operator with the following method.</p>\n<pre><code>private PcbGroup createPcbGroup(String[] metadata, PcbGroup pcbGroup) {\n    char group_short = metadata[2].charAt(0);\n    \n    pcbGroup.setId(Integer.parseInt(metadata[0]));\n    pcbGroup.setGroup_name(metadata[1]);\n    for (int i = 1; i &lt; metadata[2].length(); i++) {\n        group_short += metadata[2].charAt(i);\n    }\n    pcbGroup.setGroup_short(group_short);\n\n    // create and return pcbGroup of this metadata\n    return pcbGroup;\n}  \n</code></pre>\n<p>I'm reading a CSV file with <code>BufferedReader</code> and populate <code>String[] metadata</code> with it. The content of the <code>String[] metadata</code> is <code>[3, &quot;Foo&quot;, ML]</code>. The line <code>char group_short = metadata[2].charAt(0);</code> correctly assings <code>'M'</code> to <code>char group_short</code>. It then turns into <code>? </code> (space intended) when concatenating it with the second character <code>'L'</code>.</p>\n<p>When I save this object, Hibernate complains about noncorrect String value which appears to be <code>'\\xC2\\x99'</code>.</p>\n<pre><code>Hibernate: insert into pcb_group (group_name, group_short, id) values (?, ?, ?)\n\n2022-11-22 10:41:35.902  WARN 2988 --- [           main] \no.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1366, SQLState: HY000\n\n2022-11-22 10:41:35.903 ERROR 2988 --- [           main] \no.h.engine.jdbc.spi.SqlExceptionHelper   : (conn=3030) Incorrect string value: '\\xC2\\x99' for \ncolumn 'group_short' at row 1\n\n2022-11-22 10:41:35.903  INFO 2988 --- [           main] o.h.e.j.b.internal.AbstractBatchImpl     \n: HHH000010: On release of batch it still contained JDBC statements\n</code></pre>\n<p>I'm struggling with this little thing for a few hours now and it's getting on my nerves, could use some help.</p>\n"},{"tags":["java","spring","maven","spring-ws","maven-shade-plugin"],"comments":[{"owner":{"account_id":87202,"reputation":17573,"user_id":241986,"accept_rate":80,"display_name":"Boris Treukhov"},"score":0,"creation_date":1431197310,"post_id":11160534,"comment_id":48396022,"body_markdown":"Alternative approach which works great is to place Spring jars into separate lib folder, and add this `lib` folder into class path in manifest - see Andr&#233; Aronsen&#39;s answer http://stackoverflow.com/a/4323501/241986","body":"Alternative approach which works great is to place Spring jars into separate lib folder, and add this <code>lib</code> folder into class path in manifest - see Andr&#233; Aronsen&#39;s answer <a href=\"http://stackoverflow.com/a/4323501/241986\">stackoverflow.com/a/4323501/241986</a>"}],"answers":[{"tags":[],"owner":{"account_id":341781,"reputation":20847,"user_id":672586,"display_name":"gkamal"},"down_vote_count":0,"up_vote_count":63,"is_accepted":false,"score":63,"last_activity_date":1340383521,"creation_date":1340383521,"answer_id":11160599,"question_id":11160534,"body_markdown":"You can add the following configuration so that the contents of the .schema files from all the jars get appended together.\r\n\r\n    &lt;configuration&gt;\r\n      &lt;transformers&gt;\r\n        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n          &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\r\n        &lt;/transformer&gt;\r\n        &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n          &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\r\n        &lt;/transformer&gt;\r\n      &lt;/transformers&gt;\r\n    &lt;/configuration&gt;","title":"How to create spring-based executable jar with maven?","body":"<p>You can add the following configuration so that the contents of the .schema files from all the jars get appended together.</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;transformers&gt;\n    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n      &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\n    &lt;/transformer&gt;\n    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n      &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\n    &lt;/transformer&gt;\n  &lt;/transformers&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115974,"reputation":16225,"user_id":304285,"accept_rate":86,"display_name":"amra"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1340383570,"creation_date":1340383570,"answer_id":11160606,"question_id":11160534,"body_markdown":"Instead of maven-shade-plugin use [onejar-maven-plugin][1]. [One-JAR][2] lets you package a Java application together with its dependency Jars into a single executable Jar file.\r\n\r\n\r\n  [1]: http://code.google.com/p/onejar-maven-plugin/\r\n  [2]: http://one-jar.sourceforge.net/","title":"How to create spring-based executable jar with maven?","body":"<p>Instead of maven-shade-plugin use <a href=\"http://code.google.com/p/onejar-maven-plugin/\" rel=\"noreferrer\">onejar-maven-plugin</a>. <a href=\"http://one-jar.sourceforge.net/\" rel=\"noreferrer\">One-JAR</a> lets you package a Java application together with its dependency Jars into a single executable Jar file.</p>\n"},{"tags":[],"owner":{"account_id":102920,"reputation":3485,"user_id":275973,"display_name":"Jean-Philippe Briend"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340724533,"creation_date":1340724533,"answer_id":11210732,"question_id":11160534,"body_markdown":"Have you tried the [maven-assembly-plugin][1] ?\r\n\r\nIt will create a single jar with dependencies for you and morevover it can make this jar be executable :\r\n\r\nUse mainClass to specify the class you want to execute.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;org.sample.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-assembly-plugin","title":"How to create spring-based executable jar with maven?","body":"<p>Have you tried the <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin\" rel=\"nofollow\">maven-assembly-plugin</a> ?</p>\n\n<p>It will create a single jar with dependencies for you and morevover it can make this jar be executable :</p>\n\n<p>Use mainClass to specify the class you want to execute.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;descriptorRefs&gt;\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n      &lt;/descriptorRefs&gt;\n      &lt;archive&gt;\n        &lt;manifest&gt;\n          &lt;mainClass&gt;org.sample.App&lt;/mainClass&gt;\n        &lt;/manifest&gt;\n      &lt;/archive&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;single&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1057443,"reputation":642,"user_id":1059840,"accept_rate":55,"display_name":"Mikhail  Tsaplin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1353594667,"creation_date":1343879474,"answer_id":11770812,"question_id":11160534,"body_markdown":"Yesterday I was encountered this issue too.\r\n\r\nThe solution was to prepare required files by manual concatenation and configuration of assembly plugin by this:\r\n\r\n      &lt;files&gt;\r\n      \t&lt;file&gt;\r\n      \t\t&lt;source&gt;src/META-INF/spring.schemas&lt;/source&gt;\r\n      \t\t&lt;outputDirectory&gt;META-INF&lt;/outputDirectory&gt;\r\n      \t&lt;/file&gt;\r\n      \t&lt;file&gt;\r\n      \t\t&lt;source&gt;src/META-INF/spring.handlers&lt;/source&gt;\r\n      \t\t&lt;outputDirectory&gt;META-INF&lt;/outputDirectory&gt;\r\n      \t&lt;/file&gt;\r\n      &lt;/files&gt;\r\n      &lt;dependencySets&gt;\r\n        &lt;dependencySet&gt;\r\n          &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\r\n          &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\r\n          &lt;unpack&gt;true&lt;/unpack&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n          &lt;unpackOptions&gt;\r\n    \t  \t&lt;excludes&gt;\r\n    \t  \t\t&lt;exclude&gt;META-INF/spring.handlers&lt;/exclude&gt;\r\n    \t  \t\t&lt;exclude&gt;META-INF/spring.schemas&lt;/exclude&gt;\r\n    \t  \t&lt;/excludes&gt;\r\n          &lt;/unpackOptions&gt;  \r\n        &lt;/dependencySet&gt;\r\n      &lt;/dependencySets&gt;\r\n\r\nNOTE: using one jar approach is not good enough - you can&#39;t be certain on hand mixed files, try to keep exporting of all dependence&#39;s as is... ","title":"How to create spring-based executable jar with maven?","body":"<p>Yesterday I was encountered this issue too.</p>\n\n<p>The solution was to prepare required files by manual concatenation and configuration of assembly plugin by this:</p>\n\n<pre><code>  &lt;files&gt;\n    &lt;file&gt;\n        &lt;source&gt;src/META-INF/spring.schemas&lt;/source&gt;\n        &lt;outputDirectory&gt;META-INF&lt;/outputDirectory&gt;\n    &lt;/file&gt;\n    &lt;file&gt;\n        &lt;source&gt;src/META-INF/spring.handlers&lt;/source&gt;\n        &lt;outputDirectory&gt;META-INF&lt;/outputDirectory&gt;\n    &lt;/file&gt;\n  &lt;/files&gt;\n  &lt;dependencySets&gt;\n    &lt;dependencySet&gt;\n      &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n      &lt;useProjectArtifact&gt;true&lt;/useProjectArtifact&gt;\n      &lt;unpack&gt;true&lt;/unpack&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n      &lt;unpackOptions&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;META-INF/spring.handlers&lt;/exclude&gt;\n            &lt;exclude&gt;META-INF/spring.schemas&lt;/exclude&gt;\n        &lt;/excludes&gt;\n      &lt;/unpackOptions&gt;  \n    &lt;/dependencySet&gt;\n  &lt;/dependencySets&gt;\n</code></pre>\n\n<p>NOTE: using one jar approach is not good enough - you can't be certain on hand mixed files, try to keep exporting of all dependence's as is... </p>\n"},{"tags":[],"owner":{"account_id":1268613,"reputation":665,"user_id":1225373,"accept_rate":20,"display_name":"Aamir"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436985121,"creation_date":1436985121,"answer_id":31438359,"question_id":11160534,"body_markdown":"\tassembly plugin have issues, use below plugin\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;transformers&gt;\r\n\t\t\t\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;at.seresunit.lecturemanager_connector.App&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/transformer&gt;\r\n\t\t\t\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\r\n\t\t\t\t\t\t&lt;/transformer&gt;\r\n\t\t\t\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.AppendingTransformer&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\r\n\t\t\t\t\t\t&lt;/transformer&gt;\r\n\t\t\t\t\t&lt;/transformers&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\tyou may get security exception resolve it using below configuration\r\n\r\n\t &lt;configuration&gt;\r\n\t\t&lt;filters&gt;\r\n\t\t\t&lt;filter&gt;\r\n\t\t\t\t&lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/filter&gt;\r\n\t\t&lt;/filters&gt;\r\n\t&lt;/configuration&gt;","title":"How to create spring-based executable jar with maven?","body":"<pre><code>assembly plugin have issues, use below plugin\n\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;transformers&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                        &lt;mainClass&gt;at.seresunit.lecturemanager_connector.App&lt;/mainClass&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                        &lt;resource&gt;META-INF/spring.handlers&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                    &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.AppendingTransformer\"&gt;\n                        &lt;resource&gt;META-INF/spring.schemas&lt;/resource&gt;\n                    &lt;/transformer&gt;\n                &lt;/transformers&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n\nyou may get security exception resolve it using below configuration\n\n &lt;configuration&gt;\n    &lt;filters&gt;\n        &lt;filter&gt;\n            &lt;artifact&gt;*:*&lt;/artifact&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/filter&gt;\n    &lt;/filters&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599398144,"creation_date":1593049398,"answer_id":62566614,"question_id":11160534,"body_markdown":"For people who were hoping to find an answer for Spring Boot applications, all you need is:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"How to create spring-based executable jar with maven?","body":"<p>For people who were hoping to find an answer for Spring Boot applications, all you need is:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27015000,"reputation":1,"user_id":20574004,"display_name":"Sol Q."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669132341,"creation_date":1669132341,"answer_id":74535452,"question_id":11160534,"body_markdown":"I had the exact same problem after upgrading to Spring 6.0.0. My project has an assembly xml, and I fixed the spring.schemas and spring.handlers problem by adding the following handler to the \\&lt;assembly&gt; section:\r\n\r\n    &lt;containerDescriptorHandlers&gt;\r\n\t    &lt;containerDescriptorHandler&gt;\r\n\t    \t&lt;handlerName&gt;metaInf-spring&lt;/handlerName&gt;\r\n\t    &lt;/containerDescriptorHandler&gt;\r\n  \t&lt;/containerDescriptorHandlers&gt;\r\n\r\nThis is documented in https://maven.apache.org/plugins/maven-assembly-plugin/examples/single/using-container-descriptor-handlers.html","title":"How to create spring-based executable jar with maven?","body":"<p>I had the exact same problem after upgrading to Spring 6.0.0. My project has an assembly xml, and I fixed the spring.schemas and spring.handlers problem by adding the following handler to the &lt;assembly&gt; section:</p>\n<pre><code>&lt;containerDescriptorHandlers&gt;\n    &lt;containerDescriptorHandler&gt;\n        &lt;handlerName&gt;metaInf-spring&lt;/handlerName&gt;\n    &lt;/containerDescriptorHandler&gt;\n&lt;/containerDescriptorHandlers&gt;\n</code></pre>\n<p>This is documented in <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/examples/single/using-container-descriptor-handlers.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-assembly-plugin/examples/single/using-container-descriptor-handlers.html</a></p>\n"}],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41766,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":11160606,"answer_count":7,"score":32,"last_activity_date":1669132341,"creation_date":1340383262,"question_id":11160534,"body_markdown":"I have a Maven based Spring-WS client project that I want to package as a single jar.  In eclipse, everything runs properly.  When I try to package it as an executable jar, I get ClassNotFound exceptions since the Spring jars are not included in my application jar.\r\n\r\nSo I added the [maven-shade-plugin][1] to include all my dependencies in my application jar.  When I look at my app jar, I see all the class files from all the dependencies included (all the library jar&#39;s are exploded).\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.6&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.6&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;com.cws.cs.Client&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\nMy problem is that in the packaging process, my multiple spring dependencies have different [META-INF/spring.schemas][2] files that override each other.  Consequently, my final jar has an incomplete spring.schemas file.\r\n\r\nSo when I try to run my executable jar, I get Spring error messages that files cannot be found since the spring.schemas file is incomplete (the Spring-WS&#39;s jar has overriden the Spring-core&#39;s spring.schemas file).  \r\n\r\nMy executable jar&#39;s META-INF/spring.schemas:\r\n\r\n    http\\://www.springframework.org/schema/web-services/web-services-1.5.xsd=/org/springframework/ws/config/web-services-1.5.xsd\r\n    http\\://www.springframework.org/schema/web-services/web-services-2.0.xsd=/org/springframework/ws/config/web-services-2.0.xsd\r\n    http\\://www.springframework.org/schema/web-services/web-services.xsd=/org/springframework/ws/config/web-services-2.0.xsd\r\n\r\n\r\nInstead of Spring-beans.jar META-INF/spring.schemas:\r\n\r\n    http\\://www.springframework.org/schema/beans/spring-beans-2.0.xsd=org/springframework/beans/factory/xml/spring-beans-2.0.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans-2.5.xsd=org/springframework/beans/factory/xml/spring-beans-2.5.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans-3.1.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-2.0.xsd=org/springframework/beans/factory/xml/spring-tool-2.0.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-2.5.xsd=org/springframework/beans/factory/xml/spring-tool-2.5.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-3.0.xsd=org/springframework/beans/factory/xml/spring-tool-3.0.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-3.1.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-2.0.xsd=org/springframework/beans/factory/xml/spring-util-2.0.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-2.5.xsd=org/springframework/beans/factory/xml/spring-util-2.5.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-3.0.xsd=org/springframework/beans/factory/xml/spring-util-3.0.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-3.1.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd\r\n\r\nI&#39;m stumped.  I am not sure if/how I can package everything as a single executable jar.  I don&#39;t know if this is a shade-plugin configuration issue, or if I am trying to do something impossible.  It would not seem correct that I would have to manually create my own spring.schemas file (a concatenation of the others).\r\n\r\nI may have jumped the gun a little.  In digging up more info on the shade plugin, I noticed the [AppendingTransformer][3] that I had previously missed.  However, my concern is how to know which other files are having the same problems?  I&#39;ve discovered/caught this particular Spring issue.  I have no idea about any other libraries that may be doing something similar...\r\n\r\nAny suggestions would be appreciated.\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-shade-plugin/usage.html\r\n  [2]: http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/extensible-xml.html#extensible-xml-registration-spring-schemas\r\n  [3]: http://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#AppendingTransformer","title":"How to create spring-based executable jar with maven?","body":"<p>I have a Maven based Spring-WS client project that I want to package as a single jar.  In eclipse, everything runs properly.  When I try to package it as an executable jar, I get ClassNotFound exceptions since the Spring jars are not included in my application jar.</p>\n\n<p>So I added the <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/usage.html\">maven-shade-plugin</a> to include all my dependencies in my application jar.  When I look at my app jar, I see all the class files from all the dependencies included (all the library jar's are exploded).</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.6&lt;/source&gt;\n                &lt;target&gt;1.6&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;mainClass&gt;com.cws.cs.Client&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>My problem is that in the packaging process, my multiple spring dependencies have different <a href=\"http://static.springsource.org/spring/docs/3.1.x/spring-framework-reference/html/extensible-xml.html#extensible-xml-registration-spring-schemas\">META-INF/spring.schemas</a> files that override each other.  Consequently, my final jar has an incomplete spring.schemas file.</p>\n\n<p>So when I try to run my executable jar, I get Spring error messages that files cannot be found since the spring.schemas file is incomplete (the Spring-WS's jar has overriden the Spring-core's spring.schemas file).  </p>\n\n<p>My executable jar's META-INF/spring.schemas:</p>\n\n<pre><code>http\\://www.springframework.org/schema/web-services/web-services-1.5.xsd=/org/springframework/ws/config/web-services-1.5.xsd\nhttp\\://www.springframework.org/schema/web-services/web-services-2.0.xsd=/org/springframework/ws/config/web-services-2.0.xsd\nhttp\\://www.springframework.org/schema/web-services/web-services.xsd=/org/springframework/ws/config/web-services-2.0.xsd\n</code></pre>\n\n<p>Instead of Spring-beans.jar META-INF/spring.schemas:</p>\n\n<pre><code>http\\://www.springframework.org/schema/beans/spring-beans-2.0.xsd=org/springframework/beans/factory/xml/spring-beans-2.0.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans-2.5.xsd=org/springframework/beans/factory/xml/spring-beans-2.5.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans-3.1.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-2.0.xsd=org/springframework/beans/factory/xml/spring-tool-2.0.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-2.5.xsd=org/springframework/beans/factory/xml/spring-tool-2.5.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-3.0.xsd=org/springframework/beans/factory/xml/spring-tool-3.0.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-3.1.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-2.0.xsd=org/springframework/beans/factory/xml/spring-util-2.0.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-2.5.xsd=org/springframework/beans/factory/xml/spring-util-2.5.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-3.0.xsd=org/springframework/beans/factory/xml/spring-util-3.0.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-3.1.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd\nhttp\\://www.springframework.org/schema/util/spring-util.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd\n</code></pre>\n\n<p>I'm stumped.  I am not sure if/how I can package everything as a single executable jar.  I don't know if this is a shade-plugin configuration issue, or if I am trying to do something impossible.  It would not seem correct that I would have to manually create my own spring.schemas file (a concatenation of the others).</p>\n\n<p>I may have jumped the gun a little.  In digging up more info on the shade plugin, I noticed the <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/examples/resource-transformers.html#AppendingTransformer\">AppendingTransformer</a> that I had previously missed.  However, my concern is how to know which other files are having the same problems?  I've discovered/caught this particular Spring issue.  I have no idea about any other libraries that may be doing something similar...</p>\n\n<p>Any suggestions would be appreciated.</p>\n"},{"tags":["java","active-directory","kerberos"],"answers":[{"tags":[],"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669132071,"creation_date":1669132071,"answer_id":74535384,"question_id":74523532,"body_markdown":"Moved my test to a Linux machine and ultimately found 2 missing components. \r\n\r\n1 - when executing, I needed to include the \r\n\r\n    -Djava.security.auth.login.config=mylocation/jaas.conf \r\n\r\n2 - I needed to edit the following file to include my Active Directory information \r\n\r\n     /etc/krb5.conf \r\n\r\nAfter making the necessary references and entries, it worked. ","title":"Kerberos and Active Directory - where does the Active Directory Server name get set?","body":"<p>Moved my test to a Linux machine and ultimately found 2 missing components.</p>\n<p>1 - when executing, I needed to include the</p>\n<pre><code>-Djava.security.auth.login.config=mylocation/jaas.conf \n</code></pre>\n<p>2 - I needed to edit the following file to include my Active Directory information</p>\n<pre><code> /etc/krb5.conf \n</code></pre>\n<p>After making the necessary references and entries, it worked.</p>\n"}],"owner":{"account_id":4421715,"reputation":1485,"user_id":3601445,"accept_rate":37,"display_name":"Unhandled Exception"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74535384,"answer_count":1,"score":0,"last_activity_date":1669132071,"creation_date":1669056262,"question_id":74523532,"body_markdown":"Total Kerberos and Active Directory newb here trying to get a very small sample working.\r\n\r\nFound a Java Active Directory JAAS example onLine and here is the code. \r\n\r\n\timport javax.security.auth.login.LoginContext;\r\n\timport javax.security.auth.login.LoginException;\r\n\r\n\tpublic class ActiveDirectoryValidator\r\n\t{\r\n\t  \r\n\t  private static final String USERNAME = &quot;FOO&quot;;\r\n\t  private static final String PASSWORD = &quot;BAR&quot;;\r\n\t  \r\n\t  private ActiveDirectoryValidator()\r\n\t  {\r\n\t  }\r\n\t  \r\n\t  public boolean validateUser(String userName, String password)\r\n\t  {\r\n\t  try\r\n\t\t{\r\n\t\t  LoginContext lc = null;\r\n\t\t  ADCallbackHandler ch = new ADCallbackHandler();\r\n\t\t  ch.setUserId(userName);\r\n\t\t  ch.setPassword(password);\r\n\t\t  lc = new LoginContext(&quot;JaasConfig&quot;, ch);\r\n\t\t  lc.login();\r\n\t\t  return true;\r\n\t\t}\r\n\t\tcatch (LoginException le)\r\n\t\t{\r\n\t\t  System.err.println(&quot;Authentication failed:&quot;);\r\n\t\t  System.err.println(&quot;  &quot; + le.getMessage());\r\n\t\t  return false;\r\n\t\t}\r\n\t\tcatch (NullPointerException e)\r\n\t\t{\r\n\t\tSystem.err.println(&quot;Authentication failed:&quot;);\r\n\t\tSystem.err.println(&quot;  &quot; + e.getMessage());\r\n\t\treturn false;\r\n\t\t}\r\n\t  }\r\n\t  \r\n\t  public static void main(String[] args) throws Exception\r\n\t  {\r\n\t\tActiveDirectoryValidator validateUser = new ActiveDirectoryValidator();\r\n\t\tif (validateUser.validateUser(USERNAME, PASSWORD))\r\n\t\t{\r\n\t\t  System.out.print(&quot;Authentication Successful&quot;);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t  System.out.print(&quot;Authentication Failed&quot;);\r\n\t\t}\r\n\t  }\r\n\r\n\t}\r\n\r\nand\r\n\r\n\timport javax.security.auth.callback.*;\r\n\timport java.io.IOException;\r\n\r\n\tpublic class ADCallbackHandler implements CallbackHandler\r\n\t{\r\n\t  private String ADUserId;\r\n\t  private char[] ADPassword;\r\n\r\n\t  public void handle(Callback[] callbacks) throws java.io.IOException, UnsupportedCallbackException\r\n\t  {\r\n\t\tfor (int i = 0; i &lt; callbacks.length; i++)\r\n\t\t{\r\n\t\t  if (callbacks[i] instanceof NameCallback)\r\n\t\t  {\r\n\t\t\tNameCallback cb = (NameCallback)callbacks[i];\r\n\t\t\tcb.setName(ADUserId);\r\n\t\t  }\r\n\t\t  else if (callbacks[i] instanceof PasswordCallback)\r\n\t\t  {\r\n\t\t\tPasswordCallback cb = (PasswordCallback)callbacks[i];\r\n\t\t\tcb.setPassword(ADPassword);\r\n\t\t  }\r\n\t\t  else\r\n\t\t  {\r\n\t\t\tthrow new UnsupportedCallbackException(callbacks[i]);\r\n\t\t  }\r\n\t\t}\r\n\t  }\r\n\r\n\t  public void setUserId(String userid)\r\n\t  {\r\n\t\tADUserId = userid;\r\n\t  }\r\n\r\n\t  public void setPassword(String password)\r\n\t  {\r\n\t\tADPassword = new char[password.length()];\r\n\t\tpassword.getChars(0, ADPassword.length, ADPassword, 0);\r\n\t  }\r\n\r\n\t}\r\n\r\n\r\nWhere does the Active Directory Server name go?\r\n\r\nI would not expect it to be in the jaas.conf file as I have seen other programs set it via the UI interface and the jaas.conf file never changes. \r\n\r\nWhat am I missing?\r\n\r\nIs this example showing something totally different?\r\n","title":"Kerberos and Active Directory - where does the Active Directory Server name get set?","body":"<p>Total Kerberos and Active Directory newb here trying to get a very small sample working.</p>\n<p>Found a Java Active Directory JAAS example onLine and here is the code.</p>\n<pre><code>import javax.security.auth.login.LoginContext;\nimport javax.security.auth.login.LoginException;\n\npublic class ActiveDirectoryValidator\n{\n  \n  private static final String USERNAME = &quot;FOO&quot;;\n  private static final String PASSWORD = &quot;BAR&quot;;\n  \n  private ActiveDirectoryValidator()\n  {\n  }\n  \n  public boolean validateUser(String userName, String password)\n  {\n  try\n    {\n      LoginContext lc = null;\n      ADCallbackHandler ch = new ADCallbackHandler();\n      ch.setUserId(userName);\n      ch.setPassword(password);\n      lc = new LoginContext(&quot;JaasConfig&quot;, ch);\n      lc.login();\n      return true;\n    }\n    catch (LoginException le)\n    {\n      System.err.println(&quot;Authentication failed:&quot;);\n      System.err.println(&quot;  &quot; + le.getMessage());\n      return false;\n    }\n    catch (NullPointerException e)\n    {\n    System.err.println(&quot;Authentication failed:&quot;);\n    System.err.println(&quot;  &quot; + e.getMessage());\n    return false;\n    }\n  }\n  \n  public static void main(String[] args) throws Exception\n  {\n    ActiveDirectoryValidator validateUser = new ActiveDirectoryValidator();\n    if (validateUser.validateUser(USERNAME, PASSWORD))\n    {\n      System.out.print(&quot;Authentication Successful&quot;);\n    }\n    else\n    {\n      System.out.print(&quot;Authentication Failed&quot;);\n    }\n  }\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>import javax.security.auth.callback.*;\nimport java.io.IOException;\n\npublic class ADCallbackHandler implements CallbackHandler\n{\n  private String ADUserId;\n  private char[] ADPassword;\n\n  public void handle(Callback[] callbacks) throws java.io.IOException, UnsupportedCallbackException\n  {\n    for (int i = 0; i &lt; callbacks.length; i++)\n    {\n      if (callbacks[i] instanceof NameCallback)\n      {\n        NameCallback cb = (NameCallback)callbacks[i];\n        cb.setName(ADUserId);\n      }\n      else if (callbacks[i] instanceof PasswordCallback)\n      {\n        PasswordCallback cb = (PasswordCallback)callbacks[i];\n        cb.setPassword(ADPassword);\n      }\n      else\n      {\n        throw new UnsupportedCallbackException(callbacks[i]);\n      }\n    }\n  }\n\n  public void setUserId(String userid)\n  {\n    ADUserId = userid;\n  }\n\n  public void setPassword(String password)\n  {\n    ADPassword = new char[password.length()];\n    password.getChars(0, ADPassword.length, ADPassword, 0);\n  }\n\n}\n</code></pre>\n<p>Where does the Active Directory Server name go?</p>\n<p>I would not expect it to be in the jaas.conf file as I have seen other programs set it via the UI interface and the jaas.conf file never changes.</p>\n<p>What am I missing?</p>\n<p>Is this example showing something totally different?</p>\n"},{"tags":["java","process","apache-commons-exec"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":1,"creation_date":1276628816,"post_id":3048212,"comment_id":3119676,"body_markdown":"Maybe if you summarised those pains and pitfalls...?","body":"Maybe if you summarised those pains and pitfalls...?"}],"answers":[{"tags":[],"owner":{"account_id":62054,"reputation":22899,"user_id":184581,"accept_rate":62,"display_name":"Mike Q"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1276628941,"creation_date":1276628941,"answer_id":3048237,"question_id":3048212,"body_markdown":"commons-exec is not the best library I&#39;ve ever used but it does solve the biggest pitfall in Java process invocation which is handling/consuming stdout/sterr properly.  I&#39;ve used ProcessBuilder in the past, which is fine, and commons-exec now which is also fine and handles most of the common cases easily.","title":"Deciding between Apache Commons exec or ProcessBuilder","body":"<p>commons-exec is not the best library I've ever used but it does solve the biggest pitfall in Java process invocation which is handling/consuming stdout/sterr properly.  I've used ProcessBuilder in the past, which is fine, and commons-exec now which is also fine and handles most of the common cases easily.</p>\n"},{"tags":[],"owner":{"account_id":61169,"reputation":1527,"user_id":182462,"accept_rate":58,"display_name":"malaverdiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278499740,"creation_date":1278499740,"answer_id":3193978,"question_id":3048212,"body_markdown":"If you want to use a daemon process, maybe Apache Commons Daemon would be more appropriate?","title":"Deciding between Apache Commons exec or ProcessBuilder","body":"<p>If you want to use a daemon process, maybe Apache Commons Daemon would be more appropriate?</p>\n"},{"tags":[],"owner":{"account_id":128902,"reputation":571,"user_id":327085,"display_name":"jeckhart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285190265,"creation_date":1285190265,"answer_id":3773704,"question_id":3048212,"body_markdown":"Commons Daemon does the job of starting a Java process as a daemon, but it doesn&#39;t do it the way one would expect. For example, when a standard C program starts a daemon (take apache or sshd for example), they perform some config sanity checks and other things (like locking a lockfile) before forking into the background. Apache Commons Daemon is a c program that launches a java app and doesn&#39;t let you put the sanity checks in the Java code AFAIK and thus breaks what I would consider important daemon facilities.\r\n\r\nThus, if you are looking to implement a daemon launcher that behaves similar to sshd, apache, etc. then I would suggest commons exec.","title":"Deciding between Apache Commons exec or ProcessBuilder","body":"<p>Commons Daemon does the job of starting a Java process as a daemon, but it doesn't do it the way one would expect. For example, when a standard C program starts a daemon (take apache or sshd for example), they perform some config sanity checks and other things (like locking a lockfile) before forking into the background. Apache Commons Daemon is a c program that launches a java app and doesn't let you put the sanity checks in the Java code AFAIK and thus breaks what I would consider important daemon facilities.</p>\n\n<p>Thus, if you are looking to implement a daemon launcher that behaves similar to sshd, apache, etc. then I would suggest commons exec.</p>\n"},{"tags":[],"owner":{"account_id":185100,"reputation":3489,"user_id":421602,"accept_rate":40,"display_name":"vorburger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1626078338,"creation_date":1331984301,"answer_id":9749685,"question_id":3048212,"body_markdown":"May be my [Exec library][1] could be of any interest to you?\r\n\r\n\r\n[1]: https://github.com/vorburger/ch.vorburger.exec","title":"Deciding between Apache Commons exec or ProcessBuilder","body":"<p>May be my <a href=\"https://github.com/vorburger/ch.vorburger.exec\" rel=\"nofollow noreferrer\">Exec library</a> could be of any interest to you?</p>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1626339919,"creation_date":1469888909,"answer_id":38675004,"question_id":3048212,"body_markdown":"The [ZT Process Executor][page] library is an alternative to Apache Commons Exec. It has functionality to run commands, capture their output, set timeouts, verify program exit status etc.\r\n\r\nI have used it a little and I find it well-designed reasonably well-documented.\r\n\r\n### Example from the documentation\r\n\r\nExecuting a command, pumping the stderr to a logger, returning the output as UTF8 string.\r\n\r\n     String output = new ProcessExecutor().command(&quot;java&quot;, &quot;-version&quot;)\r\n        .redirectError(Slf4jStream.of(getClass()).asInfo())\r\n        .readOutput(true).execute()\r\n        .outputUTF8();\r\n\r\nIts documentation lists the following advantages over Commons Exec:\r\n\r\n* Improved handling of streams\r\n * Reading/writing to streams\r\n * Redirecting stderr to stdout\r\n* Improved handling of timeouts\r\n* Improved checking of exit codes\r\n* Improved API\r\n * One liners for quite complex usecases\r\n * One liners to get process output into a String\r\n * Access to the **Process** object available\r\n * Support for async processes ( **Future** ) \r\n* Improved logging with [SLF4J API](http://www.slf4j.org/)\r\n* Support for multiple processes\r\n\r\n\r\n[page]: https://github.com/zeroturnaround/zt-exec","title":"Deciding between Apache Commons exec or ProcessBuilder","body":"<p>The <a href=\"https://github.com/zeroturnaround/zt-exec\" rel=\"nofollow noreferrer\">ZT Process Executor</a> library is an alternative to Apache Commons Exec. It has functionality to run commands, capture their output, set timeouts, verify program exit status etc.</p>\n<p>I have used it a little and I find it well-designed reasonably well-documented.</p>\n<h3 id=\"example-from-the-documentation-1g6h\">Example from the documentation</h3>\n<p>Executing a command, pumping the stderr to a logger, returning the output as UTF8 string.</p>\n<pre><code> String output = new ProcessExecutor().command(&quot;java&quot;, &quot;-version&quot;)\n    .redirectError(Slf4jStream.of(getClass()).asInfo())\n    .readOutput(true).execute()\n    .outputUTF8();\n</code></pre>\n<p>Its documentation lists the following advantages over Commons Exec:</p>\n<ul>\n<li>Improved handling of streams</li>\n<li>Reading/writing to streams</li>\n<li>Redirecting stderr to stdout</li>\n<li>Improved handling of timeouts</li>\n<li>Improved checking of exit codes</li>\n<li>Improved API</li>\n<li>One liners for quite complex usecases</li>\n<li>One liners to get process output into a String</li>\n<li>Access to the <strong>Process</strong> object available</li>\n<li>Support for async processes ( <strong>Future</strong> )</li>\n<li>Improved logging with <a href=\"http://www.slf4j.org/\" rel=\"nofollow noreferrer\">SLF4J API</a></li>\n<li>Support for multiple processes</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669132022,"creation_date":1669132022,"answer_id":74535368,"question_id":3048212,"body_markdown":"Now days you can perform most tasks pretty easily using [`ProcessBuilder`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html), and the need for libraries such as ZT Process Executor or Commons Exec is not so great any more.\r\n\r\nThis is great, because together with the ability to run Java programs without a separate compilation step (`java SomeProgram.java`), you can now use Java for shell scripting tasks.\r\n\r\nThe following code demonstrates how to fulfil the requirements given in the question:\r\n\r\n```\r\nvar process = new ProcessBuilder()\r\n\t\t.redirectError(Redirect.DISCARD)\r\n\t\t.redirectOutput(Redirect.DISCARD)\r\n\t\t.start();\r\n\r\nif (!process.waitFor(10, TimeUnit.SECONDS)) {\r\n\tprocess.destroyForcibly();\r\n}\r\n\r\nif (process.exitValue() != 0) {\r\n\t// Handle error\r\n}\r\n```\r\n\r\n---\r\n\r\nOne thing that is often necessary for shell script style programs is to capture the output of an external command. This is still a bit tricky in Java, but it can be done using the snippet in this [answer](https://stackoverflow.com/questions/41491327/how-to-get-the-output-from-a-process-and-set-a-timeout/73486466#73486466). ","title":"Deciding between Apache Commons exec or ProcessBuilder","body":"<p>Now days you can perform most tasks pretty easily using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\"><code>ProcessBuilder</code></a>, and the need for libraries such as ZT Process Executor or Commons Exec is not so great any more.</p>\n<p>This is great, because together with the ability to run Java programs without a separate compilation step (<code>java SomeProgram.java</code>), you can now use Java for shell scripting tasks.</p>\n<p>The following code demonstrates how to fulfil the requirements given in the question:</p>\n<pre><code>var process = new ProcessBuilder()\n        .redirectError(Redirect.DISCARD)\n        .redirectOutput(Redirect.DISCARD)\n        .start();\n\nif (!process.waitFor(10, TimeUnit.SECONDS)) {\n    process.destroyForcibly();\n}\n\nif (process.exitValue() != 0) {\n    // Handle error\n}\n</code></pre>\n<hr />\n<p>One thing that is often necessary for shell script style programs is to capture the output of an external command. This is still a bit tricky in Java, but it can be done using the snippet in this <a href=\"https://stackoverflow.com/questions/41491327/how-to-get-the-output-from-a-process-and-set-a-timeout/73486466#73486466\">answer</a>.</p>\n"}],"owner":{"account_id":101061,"reputation":2157,"user_id":272071,"accept_rate":92,"display_name":"Traker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10030,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":3048237,"answer_count":6,"score":27,"last_activity_date":1669132022,"creation_date":1276628717,"question_id":3048212,"body_markdown":"I am trying to decide as to whether to use `ProcessBuilder` or Commons exec, \r\n\r\nMy requirements are that I am simply trying to create a daemon process whose stdout/stdin/stderr I do not care about. In addition I want to execute a kill to destroy this process when the time comes. \r\n\r\nI am using Java on Linux. \r\n\r\nI know that both have their pains and pitfalls (such as being sure to use separate thread to swallow streams can lead to blocking or deadlocks, and closing the streams so not to leave open files hanging around) and wanted to know if anyone had suggestions one way or the other as well as any good resources to follow. ","title":"Deciding between Apache Commons exec or ProcessBuilder","body":"<p>I am trying to decide as to whether to use <code>ProcessBuilder</code> or Commons exec, </p>\n\n<p>My requirements are that I am simply trying to create a daemon process whose stdout/stdin/stderr I do not care about. In addition I want to execute a kill to destroy this process when the time comes. </p>\n\n<p>I am using Java on Linux. </p>\n\n<p>I know that both have their pains and pitfalls (such as being sure to use separate thread to swallow streams can lead to blocking or deadlocks, and closing the streams so not to leave open files hanging around) and wanted to know if anyone had suggestions one way or the other as well as any good resources to follow. </p>\n"},{"tags":["java","migration","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669131924,"creation_date":1669131924,"answer_id":74535346,"question_id":74533992,"body_markdown":"I found the cause of the problem. It was in the web.xml:\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;classpath:log4j.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;log4jExposeWebAppRoot&lt;/param-name&gt;\r\n        &lt;param-value&gt;false&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\nThose lines were actually useless and I removed them, which solved the issue.","title":"After migrating from log4J 1 to log4j2, still looking for log4j.xml","body":"<p>I found the cause of the problem. It was in the web.xml:</p>\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;classpath:log4j.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;context-param&gt;\n    &lt;param-name&gt;log4jExposeWebAppRoot&lt;/param-name&gt;\n    &lt;param-value&gt;false&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.util.Log4jConfigListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n<p>Those lines were actually useless and I removed them, which solved the issue.</p>\n"}],"owner":{"account_id":237493,"reputation":11836,"user_id":505714,"accept_rate":87,"display_name":"Alexis Dufrenoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74535346,"answer_count":1,"score":0,"last_activity_date":1669131924,"creation_date":1669126218,"question_id":74533992,"body_markdown":"I&#39;m in the process of migrating a Maven multi-modules JavaEE project from Log4J 1.2.17 to Log4J 2.19.0. I successfully changed the different pom.xml and the code, I changed the log4j.xml for an updated log4j2.xml, I also added the exclusions to other dependecies (like docx4j) in order to avoid them to import log4J 1 again. Finally, I deleted the log4j.dtd file we were validating the log4j.xml again. There is no visible reference to Log4J 1 left in the project.\r\n\r\nBut when I start my Tomcat server, I get the following logs:\r\n\r\n    log4j:WARN Continuable parsing error 2 and column 31\r\n    log4j:WARN L&#39;&#233;l&#233;ment racine de document &quot;Configuration&quot; doit correspondre &#224;&#160; la racine DOCTYPE &quot;null&quot;.\r\n    log4j:WARN Continuable parsing error 2 and column 31\r\n    log4j:WARN Le document nest pas valide : aucune grammaire d&#233;tect&#233;e.\r\n    log4j:ERROR DOM element is - not a &lt;log4j:configuration&gt; element.\r\n\r\n`log4j:configuration` is a log4j 1 configuration tag. I have no idea which part of the application is still looking for the log4j.xml. Any ideas?\r\n\r\nI also searched in the Tomcat configuration, and even made a research on my entire disks looking for those logs, to no avail.","title":"After migrating from log4J 1 to log4j2, still looking for log4j.xml","body":"<p>I'm in the process of migrating a Maven multi-modules JavaEE project from Log4J 1.2.17 to Log4J 2.19.0. I successfully changed the different pom.xml and the code, I changed the log4j.xml for an updated log4j2.xml, I also added the exclusions to other dependecies (like docx4j) in order to avoid them to import log4J 1 again. Finally, I deleted the log4j.dtd file we were validating the log4j.xml again. There is no visible reference to Log4J 1 left in the project.</p>\n<p>But when I start my Tomcat server, I get the following logs:</p>\n<pre><code>log4j:WARN Continuable parsing error 2 and column 31\nlog4j:WARN L'élément racine de document &quot;Configuration&quot; doit correspondre à  la racine DOCTYPE &quot;null&quot;.\nlog4j:WARN Continuable parsing error 2 and column 31\nlog4j:WARN Le document nest pas valide : aucune grammaire détectée.\nlog4j:ERROR DOM element is - not a &lt;log4j:configuration&gt; element.\n</code></pre>\n<p><code>log4j:configuration</code> is a log4j 1 configuration tag. I have no idea which part of the application is still looking for the log4j.xml. Any ideas?</p>\n<p>I also searched in the Tomcat configuration, and even made a research on my entire disks looking for those logs, to no avail.</p>\n"},{"tags":["java","string","primes"],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669131544,"creation_date":1669092932,"answer_id":74527674,"question_id":74527527,"body_markdown":"In your while loop, you need to divide the remaining `n` value by each found factor.  Otherwise, you&#39;ll never break out of the loop.\r\n\r\n    while (n % i == 0) {\r\n        str += (str.equals(&quot;&quot;) ? i : &quot; * &quot; + i);\r\n        n /= i;\r\n    }\r\n","title":"Returning Prime Factorization in a particular form","body":"<p>In your while loop, you need to divide the remaining <code>n</code> value by each found factor.  Otherwise, you'll never break out of the loop.</p>\n<pre><code>while (n % i == 0) {\n    str += (str.equals(&quot;&quot;) ? i : &quot; * &quot; + i);\n    n /= i;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669098393,"creation_date":1669095546,"answer_id":74527951,"question_id":74527527,"body_markdown":"  Below is the Running Code.\r\n\r\n    public static void main(String[] args) throws IOException\r\n           {\r\n              System.out.println(factor(24));\r\n    }\r\n               public static String factor(int n)\r\n        {\r\n            String str = &quot;&quot;;\r\n            String multiplySymbol = &quot;&quot;;\r\n            if(isPrime(n)) {\r\n                str = &quot;&quot; + n;\r\n                }else if(n == 2) {\r\n                str = &quot;2&quot;;\r\n                }else{\r\n                for (int i = 2; i &lt;= n; i++)\r\n                {\r\n                    while (n % i == 0)\r\n                    {\r\n                      str +=  multiplySymbol+i ;\r\n                      multiplySymbol = &quot;x&quot;;\r\n                        n /= i;\r\n                    }\r\n                }\r\n            }\r\n            return str;\r\n        }\r\n               \r\n               public static boolean isPrime(int n)\r\n        {\r\n            if (n &lt;= 1) {\r\n            return false;\r\n            }\r\n            for (int i = 2; i &lt;= n/2; i++)\r\n            {\r\n                if (n % i == 0) {\r\n                return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n          \r\n    }\r\n\r\n\r\n","title":"Returning Prime Factorization in a particular form","body":"<p>Below is the Running Code.</p>\n<pre><code>public static void main(String[] args) throws IOException\n       {\n          System.out.println(factor(24));\n}\n           public static String factor(int n)\n    {\n        String str = &quot;&quot;;\n        String multiplySymbol = &quot;&quot;;\n        if(isPrime(n)) {\n            str = &quot;&quot; + n;\n            }else if(n == 2) {\n            str = &quot;2&quot;;\n            }else{\n            for (int i = 2; i &lt;= n; i++)\n            {\n                while (n % i == 0)\n                {\n                  str +=  multiplySymbol+i ;\n                  multiplySymbol = &quot;x&quot;;\n                    n /= i;\n                }\n            }\n        }\n        return str;\n    }\n           \n           public static boolean isPrime(int n)\n    {\n        if (n &lt;= 1) {\n        return false;\n        }\n        for (int i = 2; i &lt;= n/2; i++)\n        {\n            if (n % i == 0) {\n            return false;\n            }\n        }\n        return true;\n    }\n      \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669108506,"creation_date":1669108506,"answer_id":74530100,"question_id":74527527,"body_markdown":"Looking at just the formatting problem, inserting the &quot; * &quot; separator as required. I approach it as &quot;every number, except the first, is preceded by the separator string&quot;. This puts the separator before, rather than after, each entry, and automatically leaves the last entry without a trailing separator. I use a boolean flag to indicate the first entry in the list.\r\n\r\nThis is in pseudocode:\r\n\r\n    // primeArray holds the previously calculated prime factors.\r\n    function printPrimes(primeArray)\r\n      separator ← &quot; * &quot;\r\n      atFirst ← true\r\n\r\n      foreach thisPrime in primeArray\r\n        if (atFirst)\r\n          // No separator before first prime.\r\n          atFirst ← false\r\n        else\r\n          // Put separator before all the other primes.\r\n          print(separator)\r\n        end if\r\n\r\n        // Print the number.\r\n        print(thisPrime)\r\n      end foreach\r\n    end function\r\n","title":"Returning Prime Factorization in a particular form","body":"<p>Looking at just the formatting problem, inserting the &quot; * &quot; separator as required. I approach it as &quot;every number, except the first, is preceded by the separator string&quot;. This puts the separator before, rather than after, each entry, and automatically leaves the last entry without a trailing separator. I use a boolean flag to indicate the first entry in the list.</p>\n<p>This is in pseudocode:</p>\n<pre><code>// primeArray holds the previously calculated prime factors.\nfunction printPrimes(primeArray)\n  separator ← &quot; * &quot;\n  atFirst ← true\n\n  foreach thisPrime in primeArray\n    if (atFirst)\n      // No separator before first prime.\n      atFirst ← false\n    else\n      // Put separator before all the other primes.\n      print(separator)\n    end if\n\n    // Print the number.\n    print(thisPrime)\n  end foreach\nend function\n</code></pre>\n"}],"owner":{"display_name":"user20146539"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74527674,"answer_count":3,"score":-1,"last_activity_date":1669131544,"creation_date":1669091477,"question_id":74527527,"body_markdown":"My problem is that I need to take an inputted integer and return the prime factorization of it. It needs to be in the form of:\r\n```none\r\nint * int * int * int\r\n```\r\nFor example, the prime factorization of 180 would return:\r\n```none\r\n2 * 2 * 3 * 3 * 5.\r\n```\r\nThe code I have currently is:\r\n```java\r\npublic static String factor(int n)\r\n{\r\n    String str = &quot;&quot;;\r\n    if(isPrime(n)) {\r\n        str = &quot;&quot; + n;\r\n    }else if(n == 2) {\r\n        str = &quot;2&quot;;\r\n    }else{\r\n        for (int i = 2; i &lt;= Math.sqrt(n); i++)\r\n        {\r\n            while (n % i == 0)\r\n            {\r\n                str = str + i;\r\n            }\r\n        }\r\n    }\r\n    return str;\r\n}\r\n```\r\nThe `isPrime` method mentioned is:\r\n```java\r\npublic static boolean isPrime(int n)\r\n{\r\n    if (n &lt;= 1) {\r\n        return false;\r\n    }\r\n    for (int i = 2; i &lt;= n/2; i++)\r\n    {\r\n        if (n % i == 0) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n```\r\n","title":"Returning Prime Factorization in a particular form","body":"<p>My problem is that I need to take an inputted integer and return the prime factorization of it. It needs to be in the form of:</p>\n<pre class=\"lang-none prettyprint-override\"><code>int * int * int * int\n</code></pre>\n<p>For example, the prime factorization of 180 would return:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2 * 2 * 3 * 3 * 5.\n</code></pre>\n<p>The code I have currently is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String factor(int n)\n{\n    String str = &quot;&quot;;\n    if(isPrime(n)) {\n        str = &quot;&quot; + n;\n    }else if(n == 2) {\n        str = &quot;2&quot;;\n    }else{\n        for (int i = 2; i &lt;= Math.sqrt(n); i++)\n        {\n            while (n % i == 0)\n            {\n                str = str + i;\n            }\n        }\n    }\n    return str;\n}\n</code></pre>\n<p>The <code>isPrime</code> method mentioned is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isPrime(int n)\n{\n    if (n &lt;= 1) {\n        return false;\n    }\n    for (int i = 2; i &lt;= n/2; i++)\n    {\n        if (n % i == 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":["java","string","switch-statement"],"comments":[{"owner":{"account_id":81168,"reputation":234336,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1669130369,"post_id":74534961,"comment_id":131571168,"body_markdown":"Convert both strings to the same case before comparison. I&#39;m sure this is just a simple exercise, but note that password checks should *never* be case-insensitive in the real world.","body":"Convert both strings to the same case before comparison. I&#39;m sure this is just a simple exercise, but note that password checks should <i>never</i> be case-insensitive in the real world."}],"answers":[{"tags":[],"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669130550,"creation_date":1669130550,"answer_id":74535031,"question_id":74534961,"body_markdown":"The first part of your question says `The program can not be case sensitive` while afterwards you are stating that `Program prints as expected, but is not case sensitive`, so it&#39;s a little difficult to understand what you want. But by looking at the code and seeing that it is doing a case-sensitive comparison, and that you are not happy with it&#39;s behavior, I&#39;m guessing you want this to be a case-INsensitive comparison. \r\nIn that case, you can use `String#equalsIgnoreCase`: `!PASSWORD.equalsIgnoresCase(password)`","title":"Strings || Case Sensitive","body":"<p>The first part of your question says <code>The program can not be case sensitive</code> while afterwards you are stating that <code>Program prints as expected, but is not case sensitive</code>, so it's a little difficult to understand what you want. But by looking at the code and seeing that it is doing a case-sensitive comparison, and that you are not happy with it's behavior, I'm guessing you want this to be a case-INsensitive comparison.\nIn that case, you can use <code>String#equalsIgnoreCase</code>: <code>!PASSWORD.equalsIgnoresCase(password)</code></p>\n"},{"tags":[],"owner":{"account_id":26719218,"reputation":21,"user_id":20323360,"display_name":"Hadi Soufan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669130888,"creation_date":1669130888,"answer_id":74535119,"question_id":74534961,"body_markdown":"simply if you need not to consider the case sensitive just do password.equalIgnoreCase(PASSWORD) \r\nbut if you need to be sure that both have same case sensitive you can just convert both variables to .toUpperCase before the comparison ","title":"Strings || Case Sensitive","body":"<p>simply if you need not to consider the case sensitive just do password.equalIgnoreCase(PASSWORD)\nbut if you need to be sure that both have same case sensitive you can just convert both variables to .toUpperCase before the comparison</p>\n"}],"owner":{"account_id":26852171,"reputation":11,"user_id":20436933,"display_name":"Ehxo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":2,"score":-5,"last_activity_date":1669130888,"creation_date":1669130276,"question_id":74534961,"body_markdown":"Need to make a password program, where the user sets a password at the beginning and the password can be entered 3 times before the program is stopped. The program can not be case sensitive.\r\n\r\n\r\n```\tjava \r\n    public static void main(String[] args) \r\n{\r\n    Scanner sc = new Scanner(System.in);\r\n    int attempts = 3;\r\n    String password = &quot;&quot;;\r\n    System.out.println(&quot;Please input your password.&quot;);\r\n    Scanner stringScanner = new Scanner(System.in);\r\n    String PASSWORD = stringScanner.next();\r\n    while (attempts-- &gt; 0 &amp;&amp; !PASSWORD.equals(password)) //compares and then decrements\r\n    {\r\n        System.out.print(&quot;Enter your password: &quot;);\r\n        password = sc.nextLine();\r\n        if (password.equals(PASSWORD)) \r\n            System.out.println(&quot;Access Granted&quot;);\r\n        else \r\n            System.out.println(&quot;Incorrect. Number of attempts remaining: &quot; + attempts);     \r\n    }\r\n        if (attempts &lt; 1) {\r\n            System.out.println(&quot;You have entered too many incorrect passwords, please try again later.&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;Secret: Water is not Wet.&quot;);\r\n            }\r\n        }\t\t\t\t\t\t\t\t\r\n    }\r\n```\r\nProgram prints as expected, but is not case sensitive","title":"Strings || Case Sensitive","body":"<p>Need to make a password program, where the user sets a password at the beginning and the password can be entered 3 times before the program is stopped. The program can not be case sensitive.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) \n{\n    Scanner sc = new Scanner(System.in);\n    int attempts = 3;\n    String password = &quot;&quot;;\n    System.out.println(&quot;Please input your password.&quot;);\n    Scanner stringScanner = new Scanner(System.in);\n    String PASSWORD = stringScanner.next();\n    while (attempts-- &gt; 0 &amp;&amp; !PASSWORD.equals(password)) //compares and then decrements\n    {\n        System.out.print(&quot;Enter your password: &quot;);\n        password = sc.nextLine();\n        if (password.equals(PASSWORD)) \n            System.out.println(&quot;Access Granted&quot;);\n        else \n            System.out.println(&quot;Incorrect. Number of attempts remaining: &quot; + attempts);     \n    }\n        if (attempts &lt; 1) {\n            System.out.println(&quot;You have entered too many incorrect passwords, please try again later.&quot;);\n        }\n        else {\n            System.out.println(&quot;Secret: Water is not Wet.&quot;);\n            }\n        }                               \n    }\n</code></pre>\n<p>Program prints as expected, but is not case sensitive</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669131955,"post_id":74534482,"comment_id":131571869,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669130888,"creation_date":1669130888,"answer_id":74535118,"question_id":74534482,"body_markdown":"Create logback.xml configuration file under src/main/resources as below:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;property name=&quot;LOGS&quot; value=&quot;./logs&quot; /&gt;\r\n    &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n            &lt;pattern&gt;\r\n            %d{yyyy-MM-dd HH:mm.ss} [%thread] %-5level %logger{36} - %msg%n\r\n            &lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\n```","title":"How can i close netty log for selenium Java project?","body":"<p>Create logback.xml configuration file under src/main/resources as below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;property name=&quot;LOGS&quot; value=&quot;./logs&quot; /&gt;\n    &lt;appender name=&quot;Console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n            &lt;pattern&gt;\n            %d{yyyy-MM-dd HH:mm.ss} [%thread] %-5level %logger{36} - %msg%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;Console&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n\n</code></pre>\n"}],"owner":{"account_id":27014247,"reputation":3,"user_id":20573387,"display_name":"dele"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74535118,"answer_count":1,"score":0,"last_activity_date":1669130888,"creation_date":1669128299,"question_id":74534482,"body_markdown":"I updated selenium 4.5.0 but when run my test netty give it an error so added netty-handler dependency to my project. But when run my test I&#39;m seeing too much netty log. How can I close? \r\n\r\n[netty logs](https://i.stack.imgur.com/Jg8dE.png)\r\n\r\n","title":"How can i close netty log for selenium Java project?","body":"<p>I updated selenium 4.5.0 but when run my test netty give it an error so added netty-handler dependency to my project. But when run my test I'm seeing too much netty log. How can I close?</p>\n<p><a href=\"https://i.stack.imgur.com/Jg8dE.png\" rel=\"nofollow noreferrer\">netty logs</a></p>\n"},{"tags":["java","spring","backend"],"comments":[{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1669130736,"post_id":74534643,"comment_id":131571326,"body_markdown":"try this sample... https://docs.oracle.com/javase/tutorial/2d/images/drawimage.html","body":"try this sample... <a href=\"https://docs.oracle.com/javase/tutorial/2d/images/drawimage.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/2d/images/drawimage.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669130782,"creation_date":1669130782,"answer_id":74535095,"question_id":74534643,"body_markdown":"Most likely you failed with Graphics2D.drawImage() because you didn&#39;t pass the arguments correctly. Try:\r\n\r\n    Graphics2D.drawImage(image, x, y, null);\r\n    Graphics2D.dispose(); \r\n\r\nAfter that everything should work.","title":"Inserting an image by coordinates","body":"<p>Most likely you failed with Graphics2D.drawImage() because you didn't pass the arguments correctly. Try:</p>\n<pre><code>Graphics2D.drawImage(image, x, y, null);\nGraphics2D.dispose(); \n</code></pre>\n<p>After that everything should work.</p>\n"}],"owner":{"account_id":27014446,"reputation":11,"user_id":20573547,"display_name":"Дмитрий Ефимов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669130782,"creation_date":1669129022,"question_id":74534643,"body_markdown":"Can I somehow insert an image by coordinates into another image?\r\n\r\nA MultipartFile comes to me with an image, if its aspect ratio != 16:9, then I generate a new image with that aspect ratio and black and in the middle of it I need to insert the image that came to me.\r\n\r\nAt the moment I can only generate a black image, but I have no way to figure out how to insert the image by coordinates into another image.\r\nI tried using Graphics2D.drawImage(), but it didn&#39;t work for me.\r\n\r\n```\r\n`public static String getImageAndReturnPathToResult(MultipartFile multipartFile){\r\n    try{\r\n&gt; //Image taken from the front\r\n        BufferedImage image = ImageIO.read(multipartFile.getInputStream()); \r\n\r\n&gt; //Generating a new black image\r\n        BufferedImage bufferedImage = new BufferedImage(1920, 1080, BufferedImage.TYPE_INT_RGB);\r\n\r\n        Graphics2D g2d = bufferedImage.createGraphics();\r\n\r\n        g2d.setColor(Color.black);\r\n        g2d.fillRect(0, 0, 1920, 1080);\r\n        g2d.dispose();\r\n        \r\n        \r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n    return &quot;error&quot;;\r\n}`\r\n```\r\n","title":"Inserting an image by coordinates","body":"<p>Can I somehow insert an image by coordinates into another image?</p>\n<p>A MultipartFile comes to me with an image, if its aspect ratio != 16:9, then I generate a new image with that aspect ratio and black and in the middle of it I need to insert the image that came to me.</p>\n<p>At the moment I can only generate a black image, but I have no way to figure out how to insert the image by coordinates into another image.\nI tried using Graphics2D.drawImage(), but it didn't work for me.</p>\n<pre><code>`public static String getImageAndReturnPathToResult(MultipartFile multipartFile){\n    try{\n&gt; //Image taken from the front\n        BufferedImage image = ImageIO.read(multipartFile.getInputStream()); \n\n&gt; //Generating a new black image\n        BufferedImage bufferedImage = new BufferedImage(1920, 1080, BufferedImage.TYPE_INT_RGB);\n\n        Graphics2D g2d = bufferedImage.createGraphics();\n\n        g2d.setColor(Color.black);\n        g2d.fillRect(0, 0, 1920, 1080);\n        g2d.dispose();\n        \n        \n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return &quot;error&quot;;\n}`\n</code></pre>\n"},{"tags":["java","xml","parsing","recursion","dom"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1669129799,"post_id":74534755,"comment_id":131570930,"body_markdown":"`split(&quot;.&quot;, -1)` —The `split` method expects a regular expression.  A period is a special character in a regular expression, unless escaped.","body":"<code>split(&quot;.&quot;, -1)</code> —The <code>split</code> method expects a regular expression.  A period is a special character in a regular expression, unless escaped."},{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1669135521,"post_id":74534755,"comment_id":131573340,"body_markdown":"Your spec doesn&#39;t make sense or is incomplete. It&#39;s not possible to translate the given tabular data into XML as the source data doesn&#39;t provide the leaf values (1, x, Fifth av etc). The source format is also odd in other ways - the &quot;xml_parent&quot; field is actually providing a path and not a parent. The &quot;order&quot; field is not clear either. Seems like a contrived and not well-thought out spec.","body":"Your spec doesn&#39;t make sense or is incomplete. It&#39;s not possible to translate the given tabular data into XML as the source data doesn&#39;t provide the leaf values (1, x, Fifth av etc). The source format is also odd in other ways - the &quot;xml_parent&quot; field is actually providing a path and not a parent. The &quot;order&quot; field is not clear either. Seems like a contrived and not well-thought out spec."}],"owner":{"account_id":3456383,"reputation":33,"user_id":2894802,"display_name":"Jonas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669130676,"creation_date":1669129459,"question_id":74534755,"body_markdown":"I have a ordered list.\r\n\r\n```\r\norder, xml_parent, xml_field\r\n1,Identification,Id\r\n2,Identification.Name,LastName\r\n3,Identification.Name,FirstName\r\n4,Identification.OfficialAddress,StreetName\r\n5,Identification.OfficialAddress,StreetNumber\r\n7,Identification.OfficialAddress,PostalCode\r\n8,Identification.OfficialAddress,City\r\n9,Identification.OfficialAddress,Country\r\n10,Identification.Nationality\r\n13,ReasonIntroduction.AskSomething,FromDate\r\n14,ReasonIntroduction.AskMore,FirstTime\r\n```\r\nwhich needs to be parsed to\r\n```\r\n&lt;root&gt;\r\n    &lt;Identification&gt;\r\n        &lt;Id&gt;1&lt;/Id&gt;\r\n        &lt;Name&gt;\r\n            &lt;LastName&gt;x&lt;/LastName&gt;\r\n            &lt;FirstName&gt;x&lt;/FirstName&gt;\r\n        &lt;/Name&gt;\r\n        &lt;OfficialAddress&gt;\r\n            &lt;StreetName&gt;Fifth av.&lt;/StreetName&gt;\r\n            &lt;StreetNumber&gt;5&lt;/StreetNumber&gt;\r\n            &lt;PostalCode&gt;3212&lt;/PostalCode&gt;\r\n            &lt;City&gt;3212&lt;/City&gt;\r\n            &lt;Country&gt;UK&lt;/Country&gt;\r\n         &lt;/OfficialAddress&gt;\r\n         &lt;Nationality&gt;Qatar&lt;/Nationality&gt;\r\n    &lt;/Identification&gt;\r\n    &lt;ReasonIntroduction&gt;\r\n        &lt;AskSomething&gt;true&lt;/AskSomething&gt;\r\n        &lt;AskMore&gt;true&lt;/AskMore&gt;\r\n    &lt;/ReasonIntroduction&gt;\r\n&lt;/root&gt;\r\n```\r\nMy file is not that huge so I&#39;ll be using java DOM parsing.\r\n\r\nInstead of looping over this ordered list, I would like to use recursion to handle this but I do not get how I can get the &quot;next&quot; value.\r\n\r\nSo when treating &quot;Identification.Name&quot; for handling the &quot;LastName&quot; how do I get the &quot;next&quot; element &quot;FirstName&quot; which I do include under &lt;Identification&gt;&lt;Name&gt;&lt;LastName&gt;&lt;/LastName&gt;&lt;/Name&gt;&lt;/Identification&gt;.\r\n\r\nI&#39;m pretty sure recursion is the right way but I&#39;m missing some dots.\r\n\r\n```\r\n\r\nList&lt;String&gt; parentList = Arrays.asList(parentXmlName.split(&quot;\\\\.&quot;, -1));\r\n\r\nElement parentElement = document.createElement(field.getXmlParentName());\r\nElement element = document.createElement(field.getXmlName());\r\nelement.setTextContent(field.getValue());\r\nparentElement.appendChild(element);\r\n```","title":"parse xml based on ordered List","body":"<p>I have a ordered list.</p>\n<pre><code>order, xml_parent, xml_field\n1,Identification,Id\n2,Identification.Name,LastName\n3,Identification.Name,FirstName\n4,Identification.OfficialAddress,StreetName\n5,Identification.OfficialAddress,StreetNumber\n7,Identification.OfficialAddress,PostalCode\n8,Identification.OfficialAddress,City\n9,Identification.OfficialAddress,Country\n10,Identification.Nationality\n13,ReasonIntroduction.AskSomething,FromDate\n14,ReasonIntroduction.AskMore,FirstTime\n</code></pre>\n<p>which needs to be parsed to</p>\n<pre><code>&lt;root&gt;\n    &lt;Identification&gt;\n        &lt;Id&gt;1&lt;/Id&gt;\n        &lt;Name&gt;\n            &lt;LastName&gt;x&lt;/LastName&gt;\n            &lt;FirstName&gt;x&lt;/FirstName&gt;\n        &lt;/Name&gt;\n        &lt;OfficialAddress&gt;\n            &lt;StreetName&gt;Fifth av.&lt;/StreetName&gt;\n            &lt;StreetNumber&gt;5&lt;/StreetNumber&gt;\n            &lt;PostalCode&gt;3212&lt;/PostalCode&gt;\n            &lt;City&gt;3212&lt;/City&gt;\n            &lt;Country&gt;UK&lt;/Country&gt;\n         &lt;/OfficialAddress&gt;\n         &lt;Nationality&gt;Qatar&lt;/Nationality&gt;\n    &lt;/Identification&gt;\n    &lt;ReasonIntroduction&gt;\n        &lt;AskSomething&gt;true&lt;/AskSomething&gt;\n        &lt;AskMore&gt;true&lt;/AskMore&gt;\n    &lt;/ReasonIntroduction&gt;\n&lt;/root&gt;\n</code></pre>\n<p>My file is not that huge so I'll be using java DOM parsing.</p>\n<p>Instead of looping over this ordered list, I would like to use recursion to handle this but I do not get how I can get the &quot;next&quot; value.</p>\n<p>So when treating &quot;Identification.Name&quot; for handling the &quot;LastName&quot; how do I get the &quot;next&quot; element &quot;FirstName&quot; which I do include under .</p>\n<p>I'm pretty sure recursion is the right way but I'm missing some dots.</p>\n<pre><code>\nList&lt;String&gt; parentList = Arrays.asList(parentXmlName.split(&quot;\\\\.&quot;, -1));\n\nElement parentElement = document.createElement(field.getXmlParentName());\nElement element = document.createElement(field.getXmlName());\nelement.setTextContent(field.getValue());\nparentElement.appendChild(element);\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":18503295,"reputation":53,"user_id":13480123,"display_name":"User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669130504,"creation_date":1669107517,"question_id":74529886,"body_markdown":"I am creating an attendance app in which I want to block floating apps (like WhatsApp) to prevent sharing of code, I want to block or detect floating apps.\r\nBelow I have shared an image of the floating app.\r\n\r\n[![Floating window on my app photo][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n6qz3.png\r\n\r\nWhat I have tried:\r\n1) Adding setOnFocusChangeListener to my Edittext where code is entered to know if focus goes to another app, But even on changing focus to other apps my setOnFocusChangeListener is not working, Below is the code I used:\r\n\r\n        codeView.setOnFocusChangeListener((v, hasFocus) -&gt; {\r\n            if (!hasFocus) {\r\n                checkCurrentRollNoAndRemoveAttendance();\r\n            }\r\n        });\r\n \r\n2) https://stackoverflow.com/questions/39200416/how-to-fix-screen-overlay-detected-programmatically\r\n\r\n3) https://stackoverflow.com/questions/50231275/where-to-androidfiltertoucheswhenobscured\r\n\r\n4) https://stackoverflow.com/questions/36923301/android-detect-or-block-floating-overlaying-apps\r\n\r\n5) https://stackoverflow.com/questions/70437628/prevent-losing-focus-on-edittext-when-clicking-on-a-button-in-android","title":"How to disable floating apps when my Android app is running","body":"<p>I am creating an attendance app in which I want to block floating apps (like WhatsApp) to prevent sharing of code, I want to block or detect floating apps.\nBelow I have shared an image of the floating app.</p>\n<p><a href=\"https://i.stack.imgur.com/n6qz3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n6qz3.png\" alt=\"Floating window on my app photo\" /></a></p>\n<p>What I have tried:</p>\n<ol>\n<li><p>Adding setOnFocusChangeListener to my Edittext where code is entered to know if focus goes to another app, But even on changing focus to other apps my setOnFocusChangeListener is not working, Below is the code I used:</p>\n<pre><code> codeView.setOnFocusChangeListener((v, hasFocus) -&gt; {\n     if (!hasFocus) {\n         checkCurrentRollNoAndRemoveAttendance();\n     }\n });\n</code></pre>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/39200416/how-to-fix-screen-overlay-detected-programmatically\">how to fix screen overlay detected programmatically</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/50231275/where-to-androidfiltertoucheswhenobscured\">Where to android:filterTouchesWhenObscured?</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/36923301/android-detect-or-block-floating-overlaying-apps\">Android detect or block floating/overlaying apps</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/70437628/prevent-losing-focus-on-edittext-when-clicking-on-a-button-in-android\">Prevent losing focus on EditText when clicking on a button in Android</a></p>\n</li>\n</ol>\n"},{"tags":["java","jdbc"],"answers":[{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669026907,"creation_date":1669026907,"answer_id":74517544,"question_id":74517425,"body_markdown":"You can serialize the custom data type and save it to database: \r\n\r\n[How to Serialize objects in java exampe][1]\r\n\r\nAlso you can get hint/ help from \r\n[How to Serialize object in Java - stackoverflow][2]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Java/Database-SQL-JDBC/HowtoserializedeserializeaJavaobjecttotheMySQLdatabase.htm\r\n  [2]: https://stackoverflow.com/questions/26901706/how-to-save-a-serialized-object-in-a-database","title":"Retrieving data from a table with user defined column type in jdbc","body":"<p>You can serialize the custom data type and save it to database:</p>\n<p><a href=\"http://www.java2s.com/Code/Java/Database-SQL-JDBC/HowtoserializedeserializeaJavaobjecttotheMySQLdatabase.htm\" rel=\"nofollow noreferrer\">How to Serialize objects in java exampe</a></p>\n<p>Also you can get hint/ help from\n<a href=\"https://stackoverflow.com/questions/26901706/how-to-save-a-serialized-object-in-a-database\">How to Serialize object in Java - stackoverflow</a></p>\n"}],"owner":{"account_id":26971947,"reputation":11,"user_id":20537837,"display_name":"abhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669130255,"creation_date":1669026367,"question_id":74517425,"body_markdown":"I have a table report. It has a column NAME which has a user-defined datatype.\r\n\r\nI want to retrieve that data from the database using the JDBC API.\r\nStack Overflow already has the same question but that is for PLSQL procedure with the user-defined data type.\r\n\r\nIn my case I am using result set to get the output, but don&#39;t know exactly how to do it. How can I get the data from user defined column type?\r\n\r\nI tried using STRUCT but can do it.\r\n\r\nI wrote this code after doing some research.\r\n\r\n```\r\nwhile (orset.next()) {\r\n            System.out.println(&quot;inside first for loop&quot;);\r\n            Object data = (Object) ((Array) orset.getObject(&quot;Parameter&quot;)).getArray();\r\n            Struct row = (Struct) data;\r\n            // Attributes are index 1 based...\r\n            int idx = 1;\r\n            for (Object attribute : row.getAttributes()) {\r\n                System.out.println(&quot;inside 2nd for loop&quot;);\r\n                System.out.println(idx + &quot; -- &quot; + attribute);\r\n                ++idx;\r\n            }\r\n\r\n        }\r\n```","title":"Retrieving data from a table with user defined column type in jdbc","body":"<p>I have a table report. It has a column NAME which has a user-defined datatype.</p>\n<p>I want to retrieve that data from the database using the JDBC API.\nStack Overflow already has the same question but that is for PLSQL procedure with the user-defined data type.</p>\n<p>In my case I am using result set to get the output, but don't know exactly how to do it. How can I get the data from user defined column type?</p>\n<p>I tried using STRUCT but can do it.</p>\n<p>I wrote this code after doing some research.</p>\n<pre><code>while (orset.next()) {\n            System.out.println(&quot;inside first for loop&quot;);\n            Object data = (Object) ((Array) orset.getObject(&quot;Parameter&quot;)).getArray();\n            Struct row = (Struct) data;\n            // Attributes are index 1 based...\n            int idx = 1;\n            for (Object attribute : row.getAttributes()) {\n                System.out.println(&quot;inside 2nd for loop&quot;);\n                System.out.println(idx + &quot; -- &quot; + attribute);\n                ++idx;\n            }\n\n        }\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"score":3,"creation_date":1361965996,"post_id":15111420,"comment_id":21262818,"body_markdown":"http://stackoverflow.com/questions/10575624/java-string-see-if-a-string-contains-only-numbers-and-not-letters","body":"<a href=\"http://stackoverflow.com/questions/10575624/java-string-see-if-a-string-contains-only-numbers-and-not-letters\" title=\"java string see if a string contains only numbers and not letters\">stackoverflow.com/questions/10575624/&hellip;</a>"},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1361966129,"post_id":15111420,"comment_id":21262900,"body_markdown":"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\n\\d \tA digit: [0-9]","body":"<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.ht&zwnj;&#8203;ml</a> \\d \tA digit: [0-9]"},{"owner":{"account_id":2087685,"reputation":16031,"user_id":1858225,"accept_rate":74,"display_name":"Kyle Strand"},"score":2,"creation_date":1441991910,"post_id":15111420,"comment_id":52915778,"body_markdown":"You should read up on regular expressions. They have two primary elements: atoms and *quantifiers*. You&#39;ve specified an atom without specifying a quantifier.","body":"You should read up on regular expressions. They have two primary elements: atoms and <i>quantifiers</i>. You&#39;ve specified an atom without specifying a quantifier."}],"answers":[{"tags":[],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"down_vote_count":4,"up_vote_count":11,"is_accepted":false,"score":7,"last_activity_date":1361966537,"creation_date":1361965966,"answer_id":15111441,"question_id":15111420,"body_markdown":"    Long.parseLong(data)\r\n\r\nand catch exception, it handles minus sign. \r\n\r\nAlthough the number of digits is limited this actually creates a variable of the data which can be used, which is, I would imagine, the most common use-case.","title":"How to check if a string contains only digits in Java","body":"<pre><code>Long.parseLong(data)\n</code></pre>\n\n<p>and catch exception, it handles minus sign. </p>\n\n<p>Although the number of digits is limited this actually creates a variable of the data which can be used, which is, I would imagine, the most common use-case.</p>\n"},{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":1,"up_vote_count":414,"is_accepted":true,"score":413,"last_activity_date":1565959736,"creation_date":1361965999,"answer_id":15111450,"question_id":15111420,"body_markdown":"Try\r\n\r\n    String regex = &quot;[0-9]+&quot;;\r\n\r\nor\r\n\r\n    String regex = &quot;\\\\d+&quot;;\r\n\r\nAs per Java *regular expressions*, the  `+` means &quot;one or more times&quot; and `\\d` means &quot;a digit&quot;.\r\n\r\nNote: the &quot;double backslash&quot; is an *escape sequence* to get a single backslash - therefore, `\\\\d` in a java String gives you the actual result: `\\d`\r\n\r\n**References:**\r\n\r\n* [Java Regular Expressions][1]\r\n\r\n* [Java Character Escape Sequences][2]\r\n\r\n----------\r\n\r\n**Edit:** due to some confusion in other answers, I am writing a test case and will explain some more things in detail.\r\n\r\nFirstly, if you are in doubt about the correctness of this solution (or others), please run this test case:\r\n\r\n    String regex = &quot;\\\\d+&quot;;\r\n\r\n    // positive test cases, should all be &quot;true&quot;\r\n    System.out.println(&quot;1&quot;.matches(regex));\r\n    System.out.println(&quot;12345&quot;.matches(regex));\r\n    System.out.println(&quot;123456789&quot;.matches(regex));\r\n\r\n    // negative test cases, should all be &quot;false&quot;\r\n    System.out.println(&quot;&quot;.matches(regex));\r\n    System.out.println(&quot;foo&quot;.matches(regex));\r\n    System.out.println(&quot;aa123bb&quot;.matches(regex));\r\n\r\n## Question 1:\r\n&gt; ### Isn&#39;t it necessary to add `^` and `$` to the regex, so it won&#39;t match &quot;aa123bb&quot; ?\r\n\r\n**No.** In java, the `matches` method (which was specified in the question) matches a complete string, not fragments. In other words, it is not necessary to use `^\\\\d+$` (even though it is also correct). Please see the last negative test case.\r\n\r\nPlease note that if you use an online &quot;regex checker&quot; then this may behave differently. To match fragments of a string in Java, you can use the `find` method instead, described in detail here:\r\n\r\nhttps://stackoverflow.com/questions/4450045/difference-between-matches-and-find-in-java-regex\r\n\r\n## Question 2: \r\n&gt; ###  Won&#39;t this regex also match the empty string, `&quot;&quot;` ?*\r\n\r\n**No.** A regex `\\\\d*` would match the empty string, but `\\\\d+` does not. The star `*` means zero or more, whereas the plus `+` means one or more. Please see the first negative test case.\r\n\r\n## Question 3\r\n&gt; ### Isn&#39;t it faster to compile a regex Pattern?\r\n\r\n**Yes.** It is indeed faster to compile a regex Pattern once, rather than on every invocation of `matches`, and so if performance implications are important then a `Pattern` can be compiled and used like this:\r\n\r\n    Pattern pattern = Pattern.compile(regex);\r\n    System.out.println(pattern.matcher(&quot;1&quot;).matches());\r\n    System.out.println(pattern.matcher(&quot;12345&quot;).matches());\r\n    System.out.println(pattern.matcher(&quot;123456789&quot;).matches());\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/data/characters.html","title":"How to check if a string contains only digits in Java","body":"<p>Try</p>\n\n<pre><code>String regex = \"[0-9]+\";\n</code></pre>\n\n<p>or</p>\n\n<pre><code>String regex = \"\\\\d+\";\n</code></pre>\n\n<p>As per Java <em>regular expressions</em>, the  <code>+</code> means \"one or more times\" and <code>\\d</code> means \"a digit\".</p>\n\n<p>Note: the \"double backslash\" is an <em>escape sequence</em> to get a single backslash - therefore, <code>\\\\d</code> in a java String gives you the actual result: <code>\\d</code></p>\n\n<p><strong>References:</strong></p>\n\n<ul>\n<li><p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"noreferrer\">Java Regular Expressions</a></p></li>\n<li><p><a href=\"http://docs.oracle.com/javase/tutorial/java/data/characters.html\" rel=\"noreferrer\">Java Character Escape Sequences</a></p></li>\n</ul>\n\n<hr>\n\n<p><strong>Edit:</strong> due to some confusion in other answers, I am writing a test case and will explain some more things in detail.</p>\n\n<p>Firstly, if you are in doubt about the correctness of this solution (or others), please run this test case:</p>\n\n<pre><code>String regex = \"\\\\d+\";\n\n// positive test cases, should all be \"true\"\nSystem.out.println(\"1\".matches(regex));\nSystem.out.println(\"12345\".matches(regex));\nSystem.out.println(\"123456789\".matches(regex));\n\n// negative test cases, should all be \"false\"\nSystem.out.println(\"\".matches(regex));\nSystem.out.println(\"foo\".matches(regex));\nSystem.out.println(\"aa123bb\".matches(regex));\n</code></pre>\n\n<h2>Question 1:</h2>\n\n<blockquote>\n  <h3>Isn't it necessary to add <code>^</code> and <code>$</code> to the regex, so it won't match \"aa123bb\" ?</h3>\n</blockquote>\n\n<p><strong>No.</strong> In java, the <code>matches</code> method (which was specified in the question) matches a complete string, not fragments. In other words, it is not necessary to use <code>^\\\\d+$</code> (even though it is also correct). Please see the last negative test case.</p>\n\n<p>Please note that if you use an online \"regex checker\" then this may behave differently. To match fragments of a string in Java, you can use the <code>find</code> method instead, described in detail here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/4450045/difference-between-matches-and-find-in-java-regex\">Difference between matches() and find() in Java Regex</a></p>\n\n<h2>Question 2:</h2>\n\n<blockquote>\n  <h3>Won't this regex also match the empty string, <code>\"\"</code> ?*</h3>\n</blockquote>\n\n<p><strong>No.</strong> A regex <code>\\\\d*</code> would match the empty string, but <code>\\\\d+</code> does not. The star <code>*</code> means zero or more, whereas the plus <code>+</code> means one or more. Please see the first negative test case.</p>\n\n<h2>Question 3</h2>\n\n<blockquote>\n  <h3>Isn't it faster to compile a regex Pattern?</h3>\n</blockquote>\n\n<p><strong>Yes.</strong> It is indeed faster to compile a regex Pattern once, rather than on every invocation of <code>matches</code>, and so if performance implications are important then a <code>Pattern</code> can be compiled and used like this:</p>\n\n<pre><code>Pattern pattern = Pattern.compile(regex);\nSystem.out.println(pattern.matcher(\"1\").matches());\nSystem.out.println(pattern.matcher(\"12345\").matches());\nSystem.out.println(pattern.matcher(\"123456789\").matches());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1370355,"reputation":5676,"user_id":1305740,"display_name":"Carlo Pellegrini"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1361966017,"creation_date":1361966017,"answer_id":15111458,"question_id":15111420,"body_markdown":"You must allow for more than a digit (the `+` sign) as in:\r\n\r\n    String regex = &quot;[0-9]+&quot;; \r\n    String data = &quot;23343453&quot;; \r\n    System.out.println(data.matches(regex));","title":"How to check if a string contains only digits in Java","body":"<p>You must allow for more than a digit (the <code>+</code> sign) as in:</p>\n\n<pre><code>String regex = \"[0-9]+\"; \nString data = \"23343453\"; \nSystem.out.println(data.matches(regex));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":930869,"reputation":3743,"user_id":960778,"accept_rate":69,"display_name":"Apurv"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1441962813,"creation_date":1361966030,"answer_id":15111463,"question_id":15111420,"body_markdown":"You can also use [NumberUtil.isNumber(String str)][1] from Apache Commons\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/math/NumberUtils.html#isDigits(java.lang.String)","title":"How to check if a string contains only digits in Java","body":"<p>You can also use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/math/NumberUtils.html#isDigits(java.lang.String)\" rel=\"noreferrer\">NumberUtil.isNumber(String str)</a> from Apache Commons</p>\n"},{"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1361966759,"creation_date":1361966759,"answer_id":15111715,"question_id":15111420,"body_markdown":"One more solution, that hasn&#39;t been posted, yet:\r\n\r\n    String regex = &quot;\\\\p{Digit}+&quot;; // uses POSIX character class","title":"How to check if a string contains only digits in Java","body":"<p>One more solution, that hasn't been posted, yet:</p>\n\n<pre><code>String regex = \"\\\\p{Digit}+\"; // uses POSIX character class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2239560,"reputation":29944,"user_id":1977620,"accept_rate":54,"display_name":"Max Malysh"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1454407678,"creation_date":1454407678,"answer_id":35150400,"question_id":15111420,"body_markdown":"Using regular expressions is costly in terms of performance. Trying to parse string as a long value is inefficient and unreliable, and may be not what you need.\r\n\r\nWhat I suggest is to simply check if each character is a digit, what can be efficiently done using Java 8 lambda expressions:\r\n\r\n    boolean isNumeric = someString.chars().allMatch(x -&gt; Character.isDigit(x));","title":"How to check if a string contains only digits in Java","body":"<p>Using regular expressions is costly in terms of performance. Trying to parse string as a long value is inefficient and unreliable, and may be not what you need.</p>\n\n<p>What I suggest is to simply check if each character is a digit, what can be efficiently done using Java 8 lambda expressions:</p>\n\n<pre><code>boolean isNumeric = someString.chars().allMatch(x -&gt; Character.isDigit(x));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1674383,"reputation":221,"user_id":1540221,"display_name":"Luan Vo"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1473677458,"creation_date":1473677458,"answer_id":39448666,"question_id":15111420,"body_markdown":" We can use either `Pattern.compile(&quot;[0-9]+.[0-9]+&quot;)` or `Pattern.compile(&quot;\\\\d+.\\\\d+&quot;)`. They have the same meaning.\r\n\r\nthe pattern [0-9] means digit. The same as &#39;\\d&#39;.\r\n&#39;+&#39; means it appears more times.\r\n&#39;.&#39; for integer or float.\r\n\r\nTry following code:\r\n\r\n   \r\n\r\n \r\n\r\n    import java.util.regex.Pattern;\r\n        \r\n        public class PatternSample {\r\n        \t\r\n        \tpublic boolean containNumbersOnly(String source){\r\n        \t\tboolean result = false;\r\n        \t\tPattern pattern = Pattern.compile(&quot;[0-9]+.[0-9]+&quot;); //correct pattern for both float and integer.\r\n        \t\tpattern = Pattern.compile(&quot;\\\\d+.\\\\d+&quot;); //correct pattern for both float and integer.\r\n        \t\t\r\n        \t\tresult = pattern.matcher(source).matches();\r\n        \t\tif(result){\r\n        \t\t\tSystem.out.println(&quot;\\&quot;&quot; + source + &quot;\\&quot;&quot;  + &quot; is a number&quot;);\r\n        \t\t}else\r\n        \t\t\tSystem.out.println(&quot;\\&quot;&quot; + source + &quot;\\&quot;&quot;  + &quot; is a String&quot;);\r\n        \t\treturn result;\r\n        \t}\r\n        \t\r\n        \tpublic static void main(String[] args){\r\n        \t\tPatternSample obj = new PatternSample();\r\n        \t\tobj.containNumbersOnly(&quot;123456.a&quot;);\r\n        \t\tobj.containNumbersOnly(&quot;123456 &quot;);\r\n        \t\tobj.containNumbersOnly(&quot;123456&quot;);\r\n        \t\tobj.containNumbersOnly(&quot;0123456.0&quot;);\r\n        \t\tobj.containNumbersOnly(&quot;0123456a.0&quot;);\r\n        \t}\r\n        \r\n        }\r\n\r\nOutput:\r\n\r\n    &quot;123456.a&quot; is a String\r\n    &quot;123456 &quot; is a String\r\n    &quot;123456&quot; is a number\r\n    &quot;0123456.0&quot; is a number\r\n    &quot;0123456a.0&quot; is a String\r\n\r\n\r\n\r\n\r\n","title":"How to check if a string contains only digits in Java","body":"<p>We can use either <code>Pattern.compile(\"[0-9]+.[0-9]+\")</code> or <code>Pattern.compile(\"\\\\d+.\\\\d+\")</code>. They have the same meaning.</p>\n\n<p>the pattern [0-9] means digit. The same as '\\d'.\n'+' means it appears more times.\n'.' for integer or float.</p>\n\n<p>Try following code:</p>\n\n<pre><code>import java.util.regex.Pattern;\n\n    public class PatternSample {\n\n        public boolean containNumbersOnly(String source){\n            boolean result = false;\n            Pattern pattern = Pattern.compile(\"[0-9]+.[0-9]+\"); //correct pattern for both float and integer.\n            pattern = Pattern.compile(\"\\\\d+.\\\\d+\"); //correct pattern for both float and integer.\n\n            result = pattern.matcher(source).matches();\n            if(result){\n                System.out.println(\"\\\"\" + source + \"\\\"\"  + \" is a number\");\n            }else\n                System.out.println(\"\\\"\" + source + \"\\\"\"  + \" is a String\");\n            return result;\n        }\n\n        public static void main(String[] args){\n            PatternSample obj = new PatternSample();\n            obj.containNumbersOnly(\"123456.a\");\n            obj.containNumbersOnly(\"123456 \");\n            obj.containNumbersOnly(\"123456\");\n            obj.containNumbersOnly(\"0123456.0\");\n            obj.containNumbersOnly(\"0123456a.0\");\n        }\n\n    }\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>\"123456.a\" is a String\n\"123456 \" is a String\n\"123456\" is a number\n\"0123456.0\" is a number\n\"0123456a.0\" is a String\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3640365,"reputation":21,"user_id":3034617,"display_name":"user3034617"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490803996,"creation_date":1490803996,"answer_id":43098852,"question_id":15111420,"body_markdown":"According to Oracle&#39;s Java Documentation:\r\n\r\n    private static final Pattern NUMBER_PATTERN = Pattern.compile(\r\n\t\t    &quot;[\\\\x00-\\\\x20]*[+-]?(NaN|Infinity|((((\\\\p{Digit}+)(\\\\.)?((\\\\p{Digit}+)?)&quot; +\r\n\t\t    &quot;([eE][+-]?(\\\\p{Digit}+))?)|(\\\\.((\\\\p{Digit}+))([eE][+-]?(\\\\p{Digit}+))?)|&quot; +\r\n\t\t    &quot;(((0[xX](\\\\p{XDigit}+)(\\\\.)?)|(0[xX](\\\\p{XDigit}+)?(\\\\.)(\\\\p{XDigit}+)))&quot; +\r\n\t\t    &quot;[pP][+-]?(\\\\p{Digit}+)))[fFdD]?))[\\\\x00-\\\\x20]*&quot;);\r\n    boolean isNumber(String s){\r\n    return NUMBER_PATTERN.matcher(s).matches()\r\n    }\r\n    ","title":"How to check if a string contains only digits in Java","body":"<p>According to Oracle's Java Documentation:</p>\n\n<pre><code>private static final Pattern NUMBER_PATTERN = Pattern.compile(\n        \"[\\\\x00-\\\\x20]*[+-]?(NaN|Infinity|((((\\\\p{Digit}+)(\\\\.)?((\\\\p{Digit}+)?)\" +\n        \"([eE][+-]?(\\\\p{Digit}+))?)|(\\\\.((\\\\p{Digit}+))([eE][+-]?(\\\\p{Digit}+))?)|\" +\n        \"(((0[xX](\\\\p{XDigit}+)(\\\\.)?)|(0[xX](\\\\p{XDigit}+)?(\\\\.)(\\\\p{XDigit}+)))\" +\n        \"[pP][+-]?(\\\\p{Digit}+)))[fFdD]?))[\\\\x00-\\\\x20]*\");\nboolean isNumber(String s){\nreturn NUMBER_PATTERN.matcher(s).matches()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7180981,"reputation":1,"user_id":5484939,"display_name":"siva"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1524244968,"creation_date":1521822085,"answer_id":49454198,"question_id":15111420,"body_markdown":"Try this part of code:\r\n\r\n    void containsOnlyNumbers(String str)\r\n\t{\r\n\t\ttry {\r\n\t\t\tInteger num = Integer.valueOf(str);\r\n\t\t\tSystem.out.println(&quot;is a number&quot;);\r\n\t\t} catch (NumberFormatException e) {\r\n\t\t\t// TODO: handle exception\r\n\t\t\tSystem.out.println(&quot;is not a number&quot;);\r\n\t\t}\r\n\t\t\r\n\t}","title":"How to check if a string contains only digits in Java","body":"<p>Try this part of code:</p>\n\n<pre><code>void containsOnlyNumbers(String str)\n{\n    try {\n        Integer num = Integer.valueOf(str);\n        System.out.println(\"is a number\");\n    } catch (NumberFormatException e) {\n        // TODO: handle exception\n        System.out.println(\"is not a number\");\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23763533,"reputation":2291,"user_id":17778576,"display_name":"Santh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661181864,"creation_date":1648627439,"answer_id":71673637,"question_id":15111420,"body_markdown":"In Java for `String` class, there is a method called `matches()`. With help of this method you can validate the regex expression along with your string.\r\n\r\n```java  \r\nString regex = &quot;^[\\\\d]{4}$&quot;;\r\n   \r\nString value = &quot;1234&quot;;\r\n\r\nSystem.out.println(data.matches(value));\r\n```\r\n\r\n\r\n**The Explanation for the above regex expression is:-**\r\n\r\n* `^` - Indicates the start of the regex expression.\r\n\r\n* `[]`  - Inside this you have to describe your own conditions.\r\n\r\n* `\\\\\\d` - Only allows digits. You can use &#39;\\\\\\d&#39;or 0-9 inside the bracket both are same.\r\n\r\n* `{4}` - This condition allows exactly 4 digits. You can change the number according to your need.\r\n \r\n* `$` - Indicates the end of the regex expression.\r\n\r\n&gt;**Note:** You can remove the `{4}` and specify `+` which means one or more times, or `*` which means zero or more times, or `?` which means once or none.\r\n\r\nFor more reference please go through this website: https://www.rexegg.com/regex-quickstart.html","title":"How to check if a string contains only digits in Java","body":"<p>In Java for <code>String</code> class, there is a method called <code>matches()</code>. With help of this method you can validate the regex expression along with your string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;^[\\\\d]{4}$&quot;;\n   \nString value = &quot;1234&quot;;\n\nSystem.out.println(data.matches(value));\n</code></pre>\n<p><strong>The Explanation for the above regex expression is:-</strong></p>\n<ul>\n<li><p><code>^</code> - Indicates the start of the regex expression.</p>\n</li>\n<li><p><code>[]</code>  - Inside this you have to describe your own conditions.</p>\n</li>\n<li><p><code>\\\\\\d</code> - Only allows digits. You can use '\\\\d'or 0-9 inside the bracket both are same.</p>\n</li>\n<li><p><code>{4}</code> - This condition allows exactly 4 digits. You can change the number according to your need.</p>\n</li>\n<li><p><code>$</code> - Indicates the end of the regex expression.</p>\n</li>\n</ul>\n<blockquote>\n<p><strong>Note:</strong> You can remove the <code>{4}</code> and specify <code>+</code> which means one or more times, or <code>*</code> which means zero or more times, or <code>?</code> which means once or none.</p>\n</blockquote>\n<p>For more reference please go through this website: <a href=\"https://www.rexegg.com/regex-quickstart.html\" rel=\"nofollow noreferrer\">https://www.rexegg.com/regex-quickstart.html</a></p>\n"},{"tags":[],"owner":{"account_id":2800747,"reputation":135,"user_id":10686802,"display_name":"Remzi Cavdar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669126493,"creation_date":1669126493,"answer_id":74534064,"question_id":15111420,"body_markdown":"# Offical regex way\r\nI would use this regex for integers:\r\n\r\n    ^[-1-9]\\d*$\r\n\r\nThis will also work in other programming languages because it&#39;s more specific and doesn&#39;t make any assumptions about how different programming languages may interpret or handle regex.\r\n## Also works in Java\r\n\r\n    \\\\d+\r\n\r\n## Questions regarding ^ and $\r\nAs [@vikingsteve][1] has pointed out in java, the matches method matches a complete string, not parts of a string. In other words, it is unnecessary to use ^\\\\d+$ (even though it is the official way of regex).\r\n\r\nOnline regex checkers are more strict and therefore they will behave differently than how Java handles regex.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15111450/10686802","title":"How to check if a string contains only digits in Java","body":"<h1>Offical regex way</h1>\n<p>I would use this regex for integers:</p>\n<pre><code>^[-1-9]\\d*$\n</code></pre>\n<p>This will also work in other programming languages because it's more specific and doesn't make any assumptions about how different programming languages may interpret or handle regex.</p>\n<h2>Also works in Java</h2>\n<pre><code>\\\\d+\n</code></pre>\n<h2>Questions regarding ^ and $</h2>\n<p>As <a href=\"https://stackoverflow.com/a/15111450/10686802\">@vikingsteve</a> has pointed out in java, the matches method matches a complete string, not parts of a string. In other words, it is unnecessary to use ^\\d+$ (even though it is the official way of regex).</p>\n<p>Online regex checkers are more strict and therefore they will behave differently than how Java handles regex.</p>\n"},{"tags":[],"owner":{"account_id":27000035,"reputation":34,"user_id":20561457,"display_name":"npe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669129989,"creation_date":1669129989,"answer_id":74534899,"question_id":15111420,"body_markdown":"Refer to org.apache.commons.lang3.StringUtils\r\n```\r\n    public static boolean isNumeric(CharSequence cs) {\r\n        if (cs == null || cs.length() == 0) {\r\n            return false;\r\n        } else {\r\n            int sz = cs.length();\r\n\r\n            for(int i = 0; i &lt; sz; ++i) {\r\n                if (!Character.isDigit(cs.charAt(i))) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n```","title":"How to check if a string contains only digits in Java","body":"<p>Refer to org.apache.commons.lang3.StringUtils</p>\n<pre><code>    public static boolean isNumeric(CharSequence cs) {\n        if (cs == null || cs.length() == 0) {\n            return false;\n        } else {\n            int sz = cs.length();\n\n            for(int i = 0; i &lt; sz; ++i) {\n                if (!Character.isDigit(cs.charAt(i))) {\n                    return false;\n                }\n            }\n\n            return true;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645212,"favorite_count":0,"down_vote_count":1,"up_vote_count":181,"accepted_answer_id":15111450,"answer_count":12,"score":180,"last_activity_date":1669129989,"creation_date":1361965902,"question_id":15111420,"body_markdown":"In Java for String class there is a method called matches, how to use this method to check if my string is having only digits using regular expression. I tried with below examples, but both of them returned me false as result.\r\n\r\n    String regex = &quot;[0-9]&quot;;\r\n    String data = &quot;23343453&quot;;\r\n    System.out.println(data.matches(regex));\r\n\r\n-------------------------\r\n\r\n    String regex = &quot;^[0-9]&quot;;\r\n    String data = &quot;23343453&quot;;\r\n    System.out.println(data.matches(regex));","title":"How to check if a string contains only digits in Java","body":"<p>In Java for String class there is a method called matches, how to use this method to check if my string is having only digits using regular expression. I tried with below examples, but both of them returned me false as result.</p>\n\n<pre><code>String regex = \"[0-9]\";\nString data = \"23343453\";\nSystem.out.println(data.matches(regex));\n</code></pre>\n\n<hr>\n\n<pre><code>String regex = \"^[0-9]\";\nString data = \"23343453\";\nSystem.out.println(data.matches(regex));\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":16477305,"reputation":23,"user_id":11904903,"display_name":"Matheus "},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669129860,"creation_date":1669129860,"answer_id":74534862,"question_id":74308715,"body_markdown":"For those running the same issue. Here is how i have solved:\r\n\r\nExposed the bean on my security configuration:\r\n\r\n    @Bean \r\n    public OpaqueTokenIntrospector introspector() {\r\n        return new CustomOpaqueTokenIntrospector(this.introspectionUri,this.clientId, this.clientSecret);\r\n      }\r\n\r\n\r\nAnd created a custom class to cache the values found:\r\n\r\n    public class CustomOpaqueTokenIntrospector implements OpaqueTokenIntrospector {\r\n      private final OpaqueTokenIntrospector introspector;\r\n    \r\n      private CacheManager cacheManager;\r\n      private Cache&lt;String, OAuth2AuthenticatedPrincipal&gt; accessTokens;\r\n    CacheManager.createCache(&quot;iamCache&quot;,CacheManager.getRuntimeConfiguration);\r\n      public CustomOpaqueTokenIntrospector(String uri, String clientId, String clientSecret) {\r\n    \r\n        cacheManager = CacheManagerBuilder.newCacheManagerBuilder().build();\r\n        cacheManager.init();\r\n    \r\n        accessTokens = cacheManager.createCache(&quot;iamCache&quot;,\r\n            CacheConfigurationBuilder\r\n                .newCacheConfigurationBuilder(String.class, OAuth2AuthenticatedPrincipal.class,\r\n                    ResourcePoolsBuilder.heap(1000))\r\n                .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofSeconds(1800))));\r\n    \r\n        this.introspector = new NimbusOpaqueTokenIntrospector(uri, clientId, clientSecret);\r\n      }\r\n    \r\n      public @Override OAuth2AuthenticatedPrincipal introspect(String token) {\r\n        if (this.accessTokens.containsKey(token)) {\r\n          if (this.getAccessTokensCacheFromCacheManager().get(token).getAttribute(&quot;exp&quot;) != null\r\n              &amp;&amp; ((Instant) this.getAccessTokensCacheFromCacheManager().get(token).getAttribute(&quot;exp&quot;))\r\n                  .isAfter(Instant.now())) {\r\n            return this.getAccessTokensCacheFromCacheManager().get(token);\r\n          }\r\n          \r\n          this.getAccessTokensCacheFromCacheManager().remove(token);\r\n        }\r\n        OAuth2AuthenticatedPrincipal principal = introspector.introspect(token);\r\n        this.getAccessTokensCacheFromCacheManager().put(token, principal);\r\n    \r\n        return principal;\r\n      }\r\n    \r\n      public Cache&lt;String, OAuth2AuthenticatedPrincipal&gt; getAccessTokensCacheFromCacheManager() {\r\n        return cacheManager.getCache(&quot;iamCache&quot;, String.class, OAuth2AuthenticatedPrincipal.class);\r\n      }\r\n    }\r\n\r\n","title":"How to cache introspect request on Spring Security?","body":"<p>For those running the same issue. Here is how i have solved:</p>\n<p>Exposed the bean on my security configuration:</p>\n<pre><code>@Bean \npublic OpaqueTokenIntrospector introspector() {\n    return new CustomOpaqueTokenIntrospector(this.introspectionUri,this.clientId, this.clientSecret);\n  }\n</code></pre>\n<p>And created a custom class to cache the values found:</p>\n<pre><code>public class CustomOpaqueTokenIntrospector implements OpaqueTokenIntrospector {\n  private final OpaqueTokenIntrospector introspector;\n\n  private CacheManager cacheManager;\n  private Cache&lt;String, OAuth2AuthenticatedPrincipal&gt; accessTokens;\nCacheManager.createCache(&quot;iamCache&quot;,CacheManager.getRuntimeConfiguration);\n  public CustomOpaqueTokenIntrospector(String uri, String clientId, String clientSecret) {\n\n    cacheManager = CacheManagerBuilder.newCacheManagerBuilder().build();\n    cacheManager.init();\n\n    accessTokens = cacheManager.createCache(&quot;iamCache&quot;,\n        CacheConfigurationBuilder\n            .newCacheConfigurationBuilder(String.class, OAuth2AuthenticatedPrincipal.class,\n                ResourcePoolsBuilder.heap(1000))\n            .withExpiry(ExpiryPolicyBuilder.timeToLiveExpiration(Duration.ofSeconds(1800))));\n\n    this.introspector = new NimbusOpaqueTokenIntrospector(uri, clientId, clientSecret);\n  }\n\n  public @Override OAuth2AuthenticatedPrincipal introspect(String token) {\n    if (this.accessTokens.containsKey(token)) {\n      if (this.getAccessTokensCacheFromCacheManager().get(token).getAttribute(&quot;exp&quot;) != null\n          &amp;&amp; ((Instant) this.getAccessTokensCacheFromCacheManager().get(token).getAttribute(&quot;exp&quot;))\n              .isAfter(Instant.now())) {\n        return this.getAccessTokensCacheFromCacheManager().get(token);\n      }\n      \n      this.getAccessTokensCacheFromCacheManager().remove(token);\n    }\n    OAuth2AuthenticatedPrincipal principal = introspector.introspect(token);\n    this.getAccessTokensCacheFromCacheManager().put(token, principal);\n\n    return principal;\n  }\n\n  public Cache&lt;String, OAuth2AuthenticatedPrincipal&gt; getAccessTokensCacheFromCacheManager() {\n    return cacheManager.getCache(&quot;iamCache&quot;, String.class, OAuth2AuthenticatedPrincipal.class);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":16477305,"reputation":23,"user_id":11904903,"display_name":"Matheus "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74534862,"answer_count":1,"score":0,"last_activity_date":1669129860,"creation_date":1667504363,"question_id":74308715,"body_markdown":"I&#39;m using Spring Boot to my resource server with OAuth2 authentication. But the authentication server (it&#39;s not ours) is getting instable and can&#39;t resolve sometimes.\r\n\r\nI&#39;ve already read many articles but couldn&#39;t find out how to cache these requests to reduce the amount of 401 on the app.\r\n\r\nMy security configuration is runnning like this:\r\n\r\n\r\n```java \r\n.oauth2ResourceServer()\r\n                .opaqueToken()\r\n                .introspectionClientCredentials(this.clientId, this.clientSecret) \r\n                .introspectionUri(this.introspectionUri);\r\n```\r\n\r\nCould someone help me?\r\n\r\n\r\nPS: I tried to use `@Cacheable`, but I don&#39;t think I tried the right way.","title":"How to cache introspect request on Spring Security?","body":"<p>I'm using Spring Boot to my resource server with OAuth2 authentication. But the authentication server (it's not ours) is getting instable and can't resolve sometimes.</p>\n<p>I've already read many articles but couldn't find out how to cache these requests to reduce the amount of 401 on the app.</p>\n<p>My security configuration is runnning like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.oauth2ResourceServer()\n                .opaqueToken()\n                .introspectionClientCredentials(this.clientId, this.clientSecret) \n                .introspectionUri(this.introspectionUri);\n</code></pre>\n<p>Could someone help me?</p>\n<p>PS: I tried to use <code>@Cacheable</code>, but I don't think I tried the right way.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1669115379,"post_id":74531630,"comment_id":131565510,"body_markdown":"search what is this line, why it is there. you probably should never change that","body":"search what is this line, why it is there. you probably should never change that"}],"answers":[{"tags":[],"owner":{"account_id":21384180,"reputation":1690,"user_id":15749574,"display_name":"JustSightseeing"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669129810,"creation_date":1669117276,"answer_id":74532073,"question_id":74531630,"body_markdown":"Before I answer your question:\r\n\r\nThis line represents the margin of A4 paper, which is useful mainly in one case:\r\nimagine if that line did not exist and your workmate had a 5120 x 1440 monitor, his/hers &quot;one-liners&quot; would NOT fit into one line on your screen (and if you had line wrapping turned off, you would have to scroll horizontally to see what a line of code does, it would be really annoying!), so if you want to save your workmates or anybody reading your code on a smaller monitor, you should not disable that line\r\n\r\nAnd now the answer to your question:\r\n\r\ngo to:\r\n\r\nEditor -&gt; General -&gt; Appearance -&gt; Show hard wrap guide\r\n\r\n(or File -&gt; Settings -&gt; Editor -&gt; General -&gt; Appearance -&gt; Show hard wrap and visual guides)","title":"How to adjust android stuidio guide line on coding page?","body":"<p>Before I answer your question:</p>\n<p>This line represents the margin of A4 paper, which is useful mainly in one case:\nimagine if that line did not exist and your workmate had a 5120 x 1440 monitor, his/hers &quot;one-liners&quot; would NOT fit into one line on your screen (and if you had line wrapping turned off, you would have to scroll horizontally to see what a line of code does, it would be really annoying!), so if you want to save your workmates or anybody reading your code on a smaller monitor, you should not disable that line</p>\n<p>And now the answer to your question:</p>\n<p>go to:</p>\n<p>Editor -&gt; General -&gt; Appearance -&gt; Show hard wrap guide</p>\n<p>(or File -&gt; Settings -&gt; Editor -&gt; General -&gt; Appearance -&gt; Show hard wrap and visual guides)</p>\n"}],"owner":{"account_id":24084523,"reputation":35,"user_id":18058731,"display_name":"Suicide Hacker"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669121799,"accepted_answer_id":74532073,"answer_count":1,"score":0,"last_activity_date":1669129810,"creation_date":1669115294,"question_id":74531630,"body_markdown":"How can i adjust that white line, i want my code cross that line when i do reformat code (cmd + shift + L) my codes adjusting itself which stays on left side of that white line. I want to push that line to right side. Is anyone know how to do that?\r\n\r\n[![White line][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iu3YA.jpg","title":"How to adjust android stuidio guide line on coding page?","body":"<p>How can i adjust that white line, i want my code cross that line when i do reformat code (cmd + shift + L) my codes adjusting itself which stays on left side of that white line. I want to push that line to right side. Is anyone know how to do that?</p>\n<p><a href=\"https://i.stack.imgur.com/Iu3YA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iu3YA.jpg\" alt=\"White line\" /></a></p>\n"},{"tags":["java","testing","appium"],"comments":[{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1669129555,"post_id":74534644,"comment_id":131570824,"body_markdown":"that&#39;s a selenium error, not an OpenCV error. I don&#39;t see ANY indication of OpenCV in that file. error indicates issue way before any visual comparison can take place. complete traceback please. [tour], [ask], [mre]","body":"that&#39;s a selenium error, not an OpenCV error. I don&#39;t see ANY indication of OpenCV in that file. error indicates issue way before any visual comparison can take place. complete traceback please. <a href=\"https://stackoverflow.com/tour\">tour</a>, <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":12318216,"reputation":61,"user_id":8988075,"display_name":"Azharudeen Mohammed"},"score":0,"creation_date":1669129846,"post_id":74534644,"comment_id":131570944,"body_markdown":"Hi! I did a trace but no clue.. The error throws on this line :  SimilarityMatchingResult res = driver.getImagesSimilarity(baselineImg, driver.getScreenshotAs(OutputType.FILE), opts); no clear info in appium log","body":"Hi! I did a trace but no clue.. The error throws on this line :  SimilarityMatchingResult res = driver.getImagesSimilarity(baselineImg, driver.getScreenshotAs(OutputType.FILE), opts); no clear info in appium log"},{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1669131073,"post_id":74534644,"comment_id":131571493,"body_markdown":"pull the inner call out and up into a temporary variable. figure out which of the two calls fails.","body":"pull the inner call out and up into a temporary variable. figure out which of the two calls fails."},{"owner":{"account_id":12318216,"reputation":61,"user_id":8988075,"display_name":"Azharudeen Mohammed"},"score":0,"creation_date":1669132120,"post_id":74534644,"comment_id":131571934,"body_markdown":"I have tried it no luck","body":"I have tried it no luck"},{"owner":{"account_id":5592269,"reputation":265,"user_id":4431073,"accept_rate":80,"display_name":"chmc"},"score":0,"creation_date":1675451270,"post_id":74534644,"comment_id":132939408,"body_markdown":"I&#39;m also encountering this error. Were you able to resolve it, @AzharudeenMohammed?","body":"I&#39;m also encountering this error. Were you able to resolve it, @AzharudeenMohammed?"},{"owner":{"account_id":12318216,"reputation":61,"user_id":8988075,"display_name":"Azharudeen Mohammed"},"score":1,"creation_date":1675563151,"post_id":74534644,"comment_id":132955986,"body_markdown":"Use this appium --use-plugins=images while starting appium server","body":"Use this appium --use-plugins=images while starting appium server"},{"owner":{"account_id":5592269,"reputation":265,"user_id":4431073,"accept_rate":80,"display_name":"chmc"},"score":0,"creation_date":1675583941,"post_id":74534644,"comment_id":132957794,"body_markdown":"Works perfectly with that command, thank you! Also just to note for anyone else that may encounter this issue using Appium 2.0, you need to install the images plugin before running the above command of starting the server: appium plugin install images","body":"Works perfectly with that command, thank you! Also just to note for anyone else that may encounter this issue using Appium 2.0, you need to install the images plugin before running the above command of starting the server: appium plugin install images"}],"owner":{"account_id":12318216,"reputation":61,"user_id":8988075,"display_name":"Azharudeen Mohammed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669129513,"creation_date":1669129023,"question_id":74534644,"body_markdown":"I have tried this example. https://github.com/cloudgrey-io/appiumpro/blob/master/java/src/test/java/Edition098_Visual_Testing_1.java with opencv but it always throws\r\n\r\norg.openqa.selenium.UnsupportedCommandException: The requested resource could not be found, or a request was received using an HTTP method that is not supported by the mapped resource\r\n\r\nAnyone resolved this issue?","title":"org.openqa.selenium.UnsupportedCommandException (Appium + opencv image comparison)","body":"<p>I have tried this example. <a href=\"https://github.com/cloudgrey-io/appiumpro/blob/master/java/src/test/java/Edition098_Visual_Testing_1.java\" rel=\"nofollow noreferrer\">https://github.com/cloudgrey-io/appiumpro/blob/master/java/src/test/java/Edition098_Visual_Testing_1.java</a> with opencv but it always throws</p>\n<p>org.openqa.selenium.UnsupportedCommandException: The requested resource could not be found, or a request was received using an HTTP method that is not supported by the mapped resource</p>\n<p>Anyone resolved this issue?</p>\n"},{"tags":["java","hibernate","hibernate-mapping","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437976073,"creation_date":1437976073,"answer_id":31645726,"question_id":31645493,"body_markdown":"The error means something wrong with setter of `fieldId`. It should be like this\r\n\r\n    public void setFieldId(AvailableFields fieldId) {\r\n       this.fieldId=fieldId;\r\n    }\r\n\r\nbut it seems in your case incorrect class (guess long) is used in the setter.","title":"how to resolve &quot;IllegalArgumentException occurred while calling setter for property&quot;?","body":"<p>The error means something wrong with setter of <code>fieldId</code>. It should be like this</p>\n\n<pre><code>public void setFieldId(AvailableFields fieldId) {\n   this.fieldId=fieldId;\n}\n</code></pre>\n\n<p>but it seems in your case incorrect class (guess long) is used in the setter.</p>\n"},{"tags":[],"owner":{"account_id":4777833,"reputation":1,"user_id":3860470,"display_name":"user3860470"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648114997,"creation_date":1648114997,"answer_id":71600112,"question_id":31645493,"body_markdown":"SQLQuery sqlquery=session.createSQLQuery(queryString);\r\n\r\nsqlquery.addScalar(&quot;fieldId &quot;, IntegerType.INSTANCE);","title":"how to resolve &quot;IllegalArgumentException occurred while calling setter for property&quot;?","body":"<p>SQLQuery sqlquery=session.createSQLQuery(queryString);</p>\n<p>sqlquery.addScalar(&quot;fieldId &quot;, IntegerType.INSTANCE);</p>\n"},{"tags":[],"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669129097,"creation_date":1669129097,"answer_id":74534664,"question_id":31645493,"body_markdown":"I was receiving this error  of  \r\n\r\n&gt; IllegalArgumentException occurred while calling setter for property\r\n&gt; Version (type expected is Long but received 0)\r\n\r\n  because instead of using \r\n\r\n    Query query = sess.createSQLQuery(sqlQueryStr).addEntity(instance.getClass().getName());\r\n    retval = query.list();\r\n\r\nI was doing \r\n\r\n    Query query = sess.createSQLQuery(sqlQueryStr)\r\n    \t\t.setResultTransformer(Transformers.aliasToBean(instance.getClass()));\r\n        retval = query.list();\r\n\r\nIn case it helps anyone. ","title":"how to resolve &quot;IllegalArgumentException occurred while calling setter for property&quot;?","body":"<p>I was receiving this error  of</p>\n<blockquote>\n<p>IllegalArgumentException occurred while calling setter for property\nVersion (type expected is Long but received 0)</p>\n</blockquote>\n<p>because instead of using</p>\n<pre><code>Query query = sess.createSQLQuery(sqlQueryStr).addEntity(instance.getClass().getName());\nretval = query.list();\n</code></pre>\n<p>I was doing</p>\n<pre><code>Query query = sess.createSQLQuery(sqlQueryStr)\n        .setResultTransformer(Transformers.aliasToBean(instance.getClass()));\n    retval = query.list();\n</code></pre>\n<p>In case it helps anyone.</p>\n"}],"owner":{"account_id":3832442,"reputation":2890,"user_id":3177669,"accept_rate":71,"display_name":"Naghaveer R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6079,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1669129097,"creation_date":1437974792,"question_id":31645493,"body_markdown":"I&#39;m trying get all the entries from Messages table using criteria\r\n\r\n\tCriteria getCriteria = session.createCriteria(MessageAttributes.class);\r\n\tList&lt;MessageAttributes&gt; unProcessedJcbMessagesList=getCriteria.list(); \r\n\r\n I&#39;m getiing following exception when I&#39;m trying run above criteria.\r\nFieldId is the foreign key from AvailableFields(AvailableFieldsIs) table.\r\n\r\n      IllegalArgumentException occurred while calling setter for property [com.alu.jcb.model.MessageAttributes.fieldId (expected type = com.alu.jcb.model.AvailableFields)]; target = [com.alu.jcb.model.MessageAttributes@1cf3877], property value = [2]\r\n    \tat org.hibernate.property.BasicPropertyAccessor$BasicSetter.set(BasicPropertyAccessor.java:123)\r\n    \tat org.hibernate.tuple.entity.AbstractEntityTuplizer.setPropertyValues(AbstractEntityTuplizer.java:713)\r\n    \tat org.hibernate.tuple.entity.PojoEntityTuplizer.setPropertyValues(PojoEntityTuplizer.java:362)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4718)\r\n    \tat org.hibernate.engine.internal.TwoPhaseLoad.doInitializeEntity(TwoPhaseLoad.java:188)\r\n    \tat org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:144)\r\n    \tat org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1115)\r\n    \tat org.hibernate.loader.Loader.processResultSet(Loader.java:973)\r\n    \tat org.hibernate.loader.Loader.doQuery(Loader.java:921)\r\n    \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2554)\r\n    \tat org.hibernate.loader.Loader.doList(Loader.java:2540)\r\n    \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\r\n    \tat org.hibernate.loader.Loader.list(Loader.java:2365)\r\n    \tat org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:126)\r\n    \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1718)\r\n    \tat org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:380)\r\n    \tat com.alu.jcb.messageProcessor.Test.main(Test.java:23)\r\n    Caused by: java.lang.IllegalArgumentException: argument type mismatch\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.hibernate.property.BasicPropertyAccessor$BasicSetter.set(BasicPropertyAccessor.java:68)\r\n    \t... 17 more\r\n\r\nBeans\r\n\r\n**MessageAttributes.java**\r\n\r\n    public class MessageAttributes {\r\n    \tprivate long messageAttributeId=1L;\r\n    \tprivate AvailableFields fieldId;\r\n    \tprivate String value;\r\n    //getters and setters\r\n    }\r\n\r\n**AvailableFields.java**\r\n\r\n    public class AvailableFields {\r\n    \r\n    \tprivate long availableFieldsId=1L;\r\n    \tprivate Instance instance;\r\n    \tprivate String fieldDisplayName;\r\n    \r\n    //getters and setters\r\n    }\r\n\r\n**HBM files**\r\n**MessageAttributes.hbm.xml**\r\n\r\n    &lt;hibernate-mapping package=&quot;com.alu.jcb.model&quot;&gt;\r\n        &lt;class name=&quot;MessageAttributes&quot; table=&quot;MESSAGE_ATTRIBUTES&quot;&gt;\r\n            &lt;id name=&quot;messageAttributeId&quot; column=&quot;message_attribute_id&quot; type=&quot;long&quot;&gt;\r\n                &lt;generator class=&quot;sequence&quot; /&gt;\r\n            &lt;/id&gt;\r\n            \r\n            &lt;many-to-one name=&quot;fieldId&quot; class=&quot;com.alu.jcb.model.AvailableFields&quot; fetch=&quot;select&quot;&gt;\r\n                &lt;column name=&quot;field_id&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;/many-to-one&gt;\r\n            \r\n            &lt;property name=&quot;value&quot; type=&quot;string&quot; column=&quot;value&quot; /&gt;                          \r\n        &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\n**AvailableFields.hbm.xml**\r\n\r\n    &lt;hibernate-mapping package=&quot;com.alu.jcb.model&quot;&gt;\r\n    \t&lt;class name=&quot;AvailableFields&quot; table=&quot;AVAILABLE_FIELDS&quot;&gt;\r\n    \t\t &lt;id name=&quot;availableFieldsId&quot; column=&quot;available_fields_id&quot; type=&quot;java.lang.Long&quot;&gt;\r\n                &lt;generator class=&quot;sequence&quot; /&gt;\r\n            &lt;/id&gt;\r\n            &lt;many-to-one name=&quot;instance&quot; class=&quot;com.alu.jcb.model.Instance&quot; fetch=&quot;select&quot;&gt;\r\n                &lt;column name=&quot;instance_id&quot; not-null=&quot;true&quot; /&gt;\r\n            &lt;/many-to-one&gt;\r\n            &lt;property name=&quot;fieldDisplayName&quot; type=&quot;string&quot; column=&quot;field_display_name&quot; not-null=&quot;true&quot;/&gt;\r\n    \t&lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\nPlease help me","title":"how to resolve &quot;IllegalArgumentException occurred while calling setter for property&quot;?","body":"<p>I'm trying get all the entries from Messages table using criteria</p>\n\n<pre><code>Criteria getCriteria = session.createCriteria(MessageAttributes.class);\nList&lt;MessageAttributes&gt; unProcessedJcbMessagesList=getCriteria.list(); \n</code></pre>\n\n<p>I'm getiing following exception when I'm trying run above criteria.\nFieldId is the foreign key from AvailableFields(AvailableFieldsIs) table.</p>\n\n<pre><code>  IllegalArgumentException occurred while calling setter for property [com.alu.jcb.model.MessageAttributes.fieldId (expected type = com.alu.jcb.model.AvailableFields)]; target = [com.alu.jcb.model.MessageAttributes@1cf3877], property value = [2]\n    at org.hibernate.property.BasicPropertyAccessor$BasicSetter.set(BasicPropertyAccessor.java:123)\n    at org.hibernate.tuple.entity.AbstractEntityTuplizer.setPropertyValues(AbstractEntityTuplizer.java:713)\n    at org.hibernate.tuple.entity.PojoEntityTuplizer.setPropertyValues(PojoEntityTuplizer.java:362)\n    at org.hibernate.persister.entity.AbstractEntityPersister.setPropertyValues(AbstractEntityPersister.java:4718)\n    at org.hibernate.engine.internal.TwoPhaseLoad.doInitializeEntity(TwoPhaseLoad.java:188)\n    at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:144)\n    at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1115)\n    at org.hibernate.loader.Loader.processResultSet(Loader.java:973)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:921)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355)\n    at org.hibernate.loader.Loader.doList(Loader.java:2554)\n    at org.hibernate.loader.Loader.doList(Loader.java:2540)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370)\n    at org.hibernate.loader.Loader.list(Loader.java:2365)\n    at org.hibernate.loader.criteria.CriteriaLoader.list(CriteriaLoader.java:126)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1718)\n    at org.hibernate.internal.CriteriaImpl.list(CriteriaImpl.java:380)\n    at com.alu.jcb.messageProcessor.Test.main(Test.java:23)\nCaused by: java.lang.IllegalArgumentException: argument type mismatch\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.hibernate.property.BasicPropertyAccessor$BasicSetter.set(BasicPropertyAccessor.java:68)\n    ... 17 more\n</code></pre>\n\n<p>Beans</p>\n\n<p><strong>MessageAttributes.java</strong></p>\n\n<pre><code>public class MessageAttributes {\n    private long messageAttributeId=1L;\n    private AvailableFields fieldId;\n    private String value;\n//getters and setters\n}\n</code></pre>\n\n<p><strong>AvailableFields.java</strong></p>\n\n<pre><code>public class AvailableFields {\n\n    private long availableFieldsId=1L;\n    private Instance instance;\n    private String fieldDisplayName;\n\n//getters and setters\n}\n</code></pre>\n\n<p><strong>HBM files</strong>\n<strong>MessageAttributes.hbm.xml</strong></p>\n\n<pre><code>&lt;hibernate-mapping package=\"com.alu.jcb.model\"&gt;\n    &lt;class name=\"MessageAttributes\" table=\"MESSAGE_ATTRIBUTES\"&gt;\n        &lt;id name=\"messageAttributeId\" column=\"message_attribute_id\" type=\"long\"&gt;\n            &lt;generator class=\"sequence\" /&gt;\n        &lt;/id&gt;\n\n        &lt;many-to-one name=\"fieldId\" class=\"com.alu.jcb.model.AvailableFields\" fetch=\"select\"&gt;\n            &lt;column name=\"field_id\" not-null=\"true\" /&gt;\n        &lt;/many-to-one&gt;\n\n        &lt;property name=\"value\" type=\"string\" column=\"value\" /&gt;                          \n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p><strong>AvailableFields.hbm.xml</strong></p>\n\n<pre><code>&lt;hibernate-mapping package=\"com.alu.jcb.model\"&gt;\n    &lt;class name=\"AvailableFields\" table=\"AVAILABLE_FIELDS\"&gt;\n         &lt;id name=\"availableFieldsId\" column=\"available_fields_id\" type=\"java.lang.Long\"&gt;\n            &lt;generator class=\"sequence\" /&gt;\n        &lt;/id&gt;\n        &lt;many-to-one name=\"instance\" class=\"com.alu.jcb.model.Instance\" fetch=\"select\"&gt;\n            &lt;column name=\"instance_id\" not-null=\"true\" /&gt;\n        &lt;/many-to-one&gt;\n        &lt;property name=\"fieldDisplayName\" type=\"string\" column=\"field_display_name\" not-null=\"true\"/&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p>Please help me</p>\n"},{"tags":["java","excel","apache-poi","sax","xssf"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1669140575,"post_id":74534663,"comment_id":131575146,"body_markdown":"How is this related to your [previous question](https://stackoverflow.com/q/74530997/230513) on the topic?","body":"How is this related to your <a href=\"https://stackoverflow.com/q/74530997/230513\">previous question</a> on the topic?"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1669145518,"post_id":74534663,"comment_id":131576672,"body_markdown":"I have some sample code that reads an excel file and writes it out using streaming code - the support is limited (some formatting may be lost) - but have a look at https://github.com/pjfanning/excel-streaming-reader/wiki/Streaming-copy-with-SXSSF","body":"I have some sample code that reads an excel file and writes it out using streaming code - the support is limited (some formatting may be lost) - but have a look at <a href=\"https://github.com/pjfanning/excel-streaming-reader/wiki/Streaming-copy-with-SXSSF\" rel=\"nofollow noreferrer\">github.com/pjfanning/excel-streaming-reader/wiki/&hellip;</a>"},{"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669168742,"post_id":74534663,"comment_id":131581720,"body_markdown":"@PJFanning i see. but i need to keep those cell format like Date or Numeric value","body":"@PJFanning i see. but i need to keep those cell format like Date or Numeric value"},{"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669168784,"post_id":74534663,"comment_id":131581726,"body_markdown":"@trashgod my previous question is to see the xml payload before getting the elements/attributes","body":"@trashgod my previous question is to see the xml payload before getting the elements/attributes"},{"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669172508,"post_id":74534663,"comment_id":131582313,"body_markdown":"@PJFanning i&#39;ll try this. but do u happen to have the external library instead of pom ? my project dont use pom","body":"@PJFanning i&#39;ll try this. but do u happen to have the external library instead of pom ? my project dont use pom"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1669198046,"post_id":74534663,"comment_id":131588097,"body_markdown":"The latest release is at https://repo1.maven.org/maven2/com/github/pjfanning/excel-streaming-reader/4.0.4/ - and this includes a jar","body":"The latest release is at <a href=\"https://repo1.maven.org/maven2/com/github/pjfanning/excel-streaming-reader/4.0.4/\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/github/pjfanning/&hellip;</a> - and this includes a jar"},{"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669198952,"post_id":74534663,"comment_id":131588455,"body_markdown":"@PJFanning thank you. Any dependencies ? I already have apache poi in my prijects","body":"@PJFanning thank you. Any dependencies ? I already have apache poi in my prijects"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1669202552,"post_id":74534663,"comment_id":131589700,"body_markdown":"the dependencies are in the pom file - https://repo1.maven.org/maven2/com/github/pjfanning/excel-streaming-reader/4.0.4/excel-streaming-reader-4.0.4.pom","body":"the dependencies are in the pom file - <a href=\"https://repo1.maven.org/maven2/com/github/pjfanning/excel-streaming-reader/4.0.4/excel-streaming-reader-4.0.4.pom\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/com/github/pjfanning/&hellip;</a>"},{"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669270421,"post_id":74534663,"comment_id":131607399,"body_markdown":"@PJFanning im still facing java heap space, but at a different line when i iterate over all the cells","body":"@PJFanning im still facing java heap space, but at a different line when i iterate over all the cells"}],"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669129080,"creation_date":1669129080,"question_id":74534663,"body_markdown":"I am trying to open a large size(&gt;30mb) .xlsx and copy all the rows and columns(consists of &gt;200k rows) in that sheet into a new workbook sheet. I got an error on the following code:\r\n\r\n    FileInputStream fis = new FileInputStream(file);\r\n    XSSFWorkbook newWorkBook = new XSSFWorkbook(fis);\r\n\r\nIncreasing heap space does not help. After much research, i understand that a work around is either to use [XSSF and SAX (Event API)][1] or XLSX2CSV.java. I just need to copy the whole data from old sheet to new sheet. Somehow after trying SAX, i am stuck as i am not sure how to get the value from old sheet to copy to new sheet. Also, empty cells are not included in the SST. i need to copy over all cells, inclusive of empty cell.\r\n\r\n\r\n        @Override\r\n    \tpublic void startElement(String uri, String localName, String name,\r\n                Attributes attributes) throws SAXException {\r\n    \t\t// c =&gt; cell\r\n    \t\tif(name.equals(&quot;c&quot;)) {\r\n    \t\t\t//print cell reference\r\n    \t\t\tSystem.out.print(attributes.getValue(&quot;r&quot;) + &quot; - &quot;);\r\n    \t\t\t// Figure out if value is an index in the SST\r\n    \t\t\tString cellType = attributes.getValue(&quot;t&quot;);\r\n    \t\t\tSystem.out.println(&quot;CellType &quot; + cellType);\r\n    \t\t\tif(cellType != null &amp;&amp; cellType.equals(&quot;s&quot;)) {\r\n    \t\t\t\tisNextString = true;\r\n    \t\t\t}else {\r\n    \t\t\t\tisNextString = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t//Clear last content\r\n    \t\tlastContents = &quot;&quot;;\r\n    \t}\r\n\r\nI am using Java, though i can try on C#. \r\n\t\t\t\t\r\n\r\n\r\n  [1]: https://poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_api","title":"Read large size xlsx file and copy all","body":"<p>I am trying to open a large size(&gt;30mb) .xlsx and copy all the rows and columns(consists of &gt;200k rows) in that sheet into a new workbook sheet. I got an error on the following code:</p>\n<pre><code>FileInputStream fis = new FileInputStream(file);\nXSSFWorkbook newWorkBook = new XSSFWorkbook(fis);\n</code></pre>\n<p>Increasing heap space does not help. After much research, i understand that a work around is either to use <a href=\"https://poi.apache.org/components/spreadsheet/how-to.html#xssf_sax_api\" rel=\"nofollow noreferrer\">XSSF and SAX (Event API)</a> or XLSX2CSV.java. I just need to copy the whole data from old sheet to new sheet. Somehow after trying SAX, i am stuck as i am not sure how to get the value from old sheet to copy to new sheet. Also, empty cells are not included in the SST. i need to copy over all cells, inclusive of empty cell.</p>\n<pre><code>    @Override\n    public void startElement(String uri, String localName, String name,\n            Attributes attributes) throws SAXException {\n        // c =&gt; cell\n        if(name.equals(&quot;c&quot;)) {\n            //print cell reference\n            System.out.print(attributes.getValue(&quot;r&quot;) + &quot; - &quot;);\n            // Figure out if value is an index in the SST\n            String cellType = attributes.getValue(&quot;t&quot;);\n            System.out.println(&quot;CellType &quot; + cellType);\n            if(cellType != null &amp;&amp; cellType.equals(&quot;s&quot;)) {\n                isNextString = true;\n            }else {\n                isNextString = false;\n            }\n        }\n        //Clear last content\n        lastContents = &quot;&quot;;\n    }\n</code></pre>\n<p>I am using Java, though i can try on C#.</p>\n"},{"tags":["java","sql-server","jdbc","jar"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1669044576,"post_id":74521129,"comment_id":131547715,"body_markdown":"Jars are essentially zip files. You can open up your compiled jar to ensure that the driver was included within your jarfile (you&#39;d be looking for the same contents you&#39;d see in that `sqljdbc42.jar`). The driver needs to be loaded one way or another, either through classloading the separate jar or by including it in your own jarfile. You might benefit from &quot;extract required libraries into generated JAR&quot;.","body":"Jars are essentially zip files. You can open up your compiled jar to ensure that the driver was included within your jarfile (you&#39;d be looking for the same contents you&#39;d see in that <code>sqljdbc42.jar</code>). The driver needs to be loaded one way or another, either through classloading the separate jar or by including it in your own jarfile. You might benefit from &quot;extract required libraries into generated JAR&quot;."},{"owner":{"account_id":4259370,"reputation":69,"user_id":3484121,"display_name":"user3484121"},"score":0,"creation_date":1669046256,"post_id":74521129,"comment_id":131548391,"body_markdown":"Hi. The sqljdbc42.jar is inside the generated JAR file. I&#39;ve also tried &quot;extract required libraries into generated JAR&quot; and &quot;Copy required ...&quot;....I&#39;ve always the same problem","body":"Hi. The sqljdbc42.jar is inside the generated JAR file. I&#39;ve also tried &quot;extract required libraries into generated JAR&quot; and &quot;Copy required ...&quot;....I&#39;ve always the same problem"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1669046662,"post_id":74521129,"comment_id":131548556,"body_markdown":"The jarfile itself shouldn&#39;t really be inside your generated jar if you&#39;re going for bundling the driver. What did the &quot;Extract into&quot; option do for you? What was the stack trace?","body":"The jarfile itself shouldn&#39;t really be inside your generated jar if you&#39;re going for bundling the driver. What did the &quot;Extract into&quot; option do for you? What was the stack trace?"},{"owner":{"account_id":4259370,"reputation":69,"user_id":3484121,"display_name":"user3484121"},"score":0,"creation_date":1669049196,"post_id":74521129,"comment_id":131549448,"body_markdown":"Sorry i don&#39;t understand. What do you mean? My target is to give the jar to my collegues in order to execute it also on their pc. I need a single file","body":"Sorry i don&#39;t understand. What do you mean? My target is to give the jar to my collegues in order to execute it also on their pc. I need a single file"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1669050919,"post_id":74521129,"comment_id":131550031,"body_markdown":"I&#39;m saying the `sqljdbc42.jar` itself should not be inside your `test2.jar`, but rather the _contents_ of `sqljdbc42.jar` should be inside of `test2.jar`. The alternative is loading it with a `ClassLoader`.","body":"I&#39;m saying the <code>sqljdbc42.jar</code> itself should not be inside your <code>test2.jar</code>, but rather the <i>contents</i> of <code>sqljdbc42.jar</code> should be inside of <code>test2.jar</code>. The alternative is loading it with a <code>ClassLoader</code>."},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1669067433,"post_id":74521129,"comment_id":131554838,"body_markdown":"&quot;Package required libraries into generated JAR&quot; bundles the .jar files of your libraries into your application&#39;s .jar file and requires a custom loader to make use of them. Have you explored the other two options?","body":"&quot;Package required libraries into generated JAR&quot; bundles the .jar files of your libraries into your application&#39;s .jar file and requires a custom loader to make use of them. Have you explored the other two options?"},{"owner":{"account_id":4259370,"reputation":69,"user_id":3484121,"display_name":"user3484121"},"score":0,"creation_date":1669107633,"post_id":74521129,"comment_id":131562620,"body_markdown":"Yes, both. The problem is always the same.","body":"Yes, both. The problem is always the same."},{"owner":{"account_id":4259370,"reputation":69,"user_id":3484121,"display_name":"user3484121"},"score":0,"creation_date":1669107918,"post_id":74521129,"comment_id":131562713,"body_markdown":"If I use the option &quot;extract required libraries into generated JAR&quot;. I see that in the final jar there are the *.class file and not the sqljdbc42.jar. But I receive always the same error :(","body":"If I use the option &quot;extract required libraries into generated JAR&quot;. I see that in the final jar there are the *.class file and not the sqljdbc42.jar. But I receive always the same error :("}],"answers":[{"tags":[],"owner":{"account_id":4259370,"reputation":69,"user_id":3484121,"display_name":"user3484121"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669129051,"creation_date":1669129051,"answer_id":74534656,"question_id":74521129,"body_markdown":"I&#39;ve found the problem.\r\n\r\nThe Jar file didn&#39;t read the properties file where I put the DBConnection URL and credentials.\r\n\r\nI fix my code using getResourceAsStream and now it works.","title":"Error &quot;No suitable driver found for &quot; executing jar file","body":"<p>I've found the problem.</p>\n<p>The Jar file didn't read the properties file where I put the DBConnection URL and credentials.</p>\n<p>I fix my code using getResourceAsStream and now it works.</p>\n"}],"owner":{"account_id":4259370,"reputation":69,"user_id":3484121,"display_name":"user3484121"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669129051,"creation_date":1669044002,"question_id":74521129,"body_markdown":"I&#39;m working on a simple java project that perform the connection to a SQLServer DB.\r\n\r\nMy project works fine when I run it from eclipse or other IDE like IntelliJ, but i have a problem when I try to run it from a JAR file.\r\n\r\nHere the Java Builth Path of my application (with JDBC library):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI did File -&gt; Export -&gt; Runnable Jar File:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/1Kycv.png\r\n  [2]: https://i.stack.imgur.com/2kCxT.png\r\n\r\n\r\nbut when I try to run test2.jar:\r\n\r\n16:03:49.159 ERROR: No suitable driver found for\r\n\r\n16:03:49.159 ERROR: 08001\r\n\r\nwhere I&#39;m wrong?","title":"Error &quot;No suitable driver found for &quot; executing jar file","body":"<p>I'm working on a simple java project that perform the connection to a SQLServer DB.</p>\n<p>My project works fine when I run it from eclipse or other IDE like IntelliJ, but i have a problem when I try to run it from a JAR file.</p>\n<p>Here the Java Builth Path of my application (with JDBC library):</p>\n<p><a href=\"https://i.stack.imgur.com/1Kycv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Kycv.png\" alt=\"enter image description here\" /></a></p>\n<p>I did File -&gt; Export -&gt; Runnable Jar File:</p>\n<p><a href=\"https://i.stack.imgur.com/2kCxT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2kCxT.png\" alt=\"enter image description here\" /></a></p>\n<p>but when I try to run test2.jar:</p>\n<p>16:03:49.159 ERROR: No suitable driver found for</p>\n<p>16:03:49.159 ERROR: 08001</p>\n<p>where I'm wrong?</p>\n"},{"tags":["java","date","timezone","simpledateformat","timezone-offset"],"comments":[{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":1,"creation_date":1669118822,"post_id":74532284,"comment_id":131566653,"body_markdown":"I see multiple places where this comparison can fail: your UI doesn&#39;t have timezone, nor seconds or milliseconds, while the 2nd part is easy to overcome by saying that 2 dates are equal if they have the same time up to the minute, it&#39;s impossible to compare zoned time with a non-zoned time","body":"I see multiple places where this comparison can fail: your UI doesn&#39;t have timezone, nor seconds or milliseconds, while the 2nd part is easy to overcome by saying that 2 dates are equal if they have the same time up to the minute, it&#39;s impossible to compare zoned time with a non-zoned time"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669125761,"post_id":74532284,"comment_id":131569206,"body_markdown":"What your UI shows is wrong. Did the sign of the offset from the database somehow get reversed?","body":"What your UI shows is wrong. Did the sign of the offset from the database somehow get reversed?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669131380,"post_id":74532284,"comment_id":131571627,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `OffsetDateTime`, `LocalDateTime` and `DateTimeFormatter`, all from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>OffsetDateTime</code>, <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669131554,"post_id":74532284,"comment_id":131571696,"body_markdown":"The format that your database shows should be irrelevant. Retrieve your database `timestamp with time zone` (as I presume it is) as an `OffsetDateTime` in Java. See for example [Getting the date from a ResultSet for use with java.time classes](https://stackoverflow.com/questions/29773390/getting-the-date-from-a-resultset-for-use-with-java-time-classes).","body":"The format that your database shows should be irrelevant. Retrieve your database <code>timestamp with time zone</code> (as I presume it is) as an <code>OffsetDateTime</code> in Java. See for example <a href=\"https://stackoverflow.com/questions/29773390/getting-the-date-from-a-resultset-for-use-with-java-time-classes\">Getting the date from a ResultSet for use with java.time classes</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669131888,"post_id":74532284,"comment_id":131571833,"body_markdown":"Your UI probably makes an assumption that the use seeing the *Thu 01/12/2022 12:00* is in some specific time zone. Do you know which time zone that is? That knowledge would make it possible to compare. I would then convert the text from the UI to `OffsetDateTime` using that time zone, and I would truncate the value from the database to whole minutes and compare.","body":"Your UI probably makes an assumption that the use seeing the <i>Thu 01/12/2022 12:00</i> is in some specific time zone. Do you know which time zone that is? That knowledge would make it possible to compare. I would then convert the text from the UI to <code>OffsetDateTime</code> using that time zone, and I would truncate the value from the database to whole minutes and compare."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669132508,"post_id":74532284,"comment_id":131572112,"body_markdown":"I cannot reproduce the result you are reporting, `Wed 30/11/2022 22:02`. I got `Wed 30/11/2022 21:00`. Depending on the default time zone I can get `Wed 30/11/2022 22:00` but not `:02`.","body":"I cannot reproduce the result you are reporting, <code>Wed 30&#47;11&#47;2022 22:02</code>. I got <code>Wed 30&#47;11&#47;2022 21:00</code>. Depending on the default time zone I can get <code>Wed 30&#47;11&#47;2022 22:00</code> but not <code>:02</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1669133907,"post_id":74532284,"comment_id":131572668,"body_markdown":"I believe that you *are* converting it correctly. The logic is: At 4 in the night at offset +08:00 (for example Asia/Ujung_Pandang time zone) it is still the previous day on most of the globe. For example it is 22:00 the previous evening in Asia/Gaza time zone (offset +02:00) and 21:00 in my time zone (offset +01:00).","body":"I believe that you <i>are</i> converting it correctly. The logic is: At 4 in the night at offset +08:00 (for example Asia/Ujung_Pandang time zone) it is still the previous day on most of the globe. For example it is 22:00 the previous evening in Asia/Gaza time zone (offset +02:00) and 21:00 in my time zone (offset +01:00)."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1669128493,"creation_date":1669123894,"answer_id":74533446,"question_id":74532284,"body_markdown":"As already commented by [Yonatan Karp-Rudin](https://stackoverflow.com/questions/74532284/how-to-convert-a-date-with-time-zone-offset-to-another-format#comment131566653_74532284), you can not compare a date-time with time-zone offset with another without time-zone offset. A clear way to compare the two date-times is to bring them to a single time-zone e.g. you can apply the same time-zone offset to the UI date-time as of the DB date-time.\r\n\r\nIn March 2014, `java.time` API supplanted the [error-prone legacy date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). Since then, it has been strongly recommended to use this modern date-time API. \r\n\r\n**Demo using java.time API**:\r\n\r\n    import java.time.OffsetDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String dt1 = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\r\n            String dt2 = &quot;Thu 01/12/2022 12:00&quot;;\r\n    \r\n            DateTimeFormatter dtf1 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS XXX&quot;, Locale.ENGLISH);\r\n            OffsetDateTime odt1 = OffsetDateTime.parse(dt1, dtf1);\r\n            System.out.println(odt1);\r\n    \r\n            DateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(&quot;EEE dd/MM/uuuu HH:mm&quot;, Locale.ENGLISH)\r\n                    .withZone(odt1.getOffset());\r\n            OffsetDateTime odt2 = OffsetDateTime.parse(dt2, dtf2);\r\n            System.out.println(odt2);\r\n    \r\n            System.out.println(odt1.equals(odt2));\r\n        }\r\n    }\r\n**Output**:\r\n\r\n    2022-12-01T04:00+08:00\r\n    2022-12-01T12:00+08:00\r\n    false\r\n\r\nAssuming both the date-times belong to the same time-zone offset, another way to compare them would be compare them without time-zone i.e. comparing their date-time part only (`LocalDateTime`).\r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String dt1 = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\r\n            String dt2 = &quot;Thu 01/12/2022 12:00&quot;;\r\n    \r\n            DateTimeFormatter dtf1 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS XXX&quot;, Locale.ENGLISH);\r\n            LocalDateTime ldt1 = OffsetDateTime.parse(dt1, dtf1).toLocalDateTime();\r\n            System.out.println(ldt1);\r\n    \r\n            DateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(&quot;EEE dd/MM/uuuu HH:mm&quot;, Locale.ENGLISH);\r\n            LocalDateTime ldt2 = LocalDateTime.parse(dt2, dtf2);\r\n            System.out.println(ldt2);\r\n    \r\n            System.out.println(ldt1.equals(ldt2));\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-12-01T04:00\r\n    2022-12-01T12:00\r\n    false\r\n\r\nThe modern date-time API (java.time API) provides you with tools to do the same thing in many ways e.g. in the 1st demo, we could obtain the `OffsetDateTime` for your UI date-time string by parsing it into a `LocalDateTime` as shown in the 2nd demo and then using one of the ways shown in [this answer](https://stackoverflow.com/a/66622113/10819573) where `ZoneOffset offset =  odt1.getOffset()`.\r\n\r\nBy the way, here is an example of how you format a date-time with time-zone offset to another format:\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String dtDb = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS XXX&quot;, Locale.ENGLISH);\r\n            OffsetDateTime odtDb = OffsetDateTime.parse(dtDb, parser);\r\n            System.out.println(odtDb);\r\n    \r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE dd/MM/uuuu HH:mm&quot;, Locale.ENGLISH);\r\n            String strDtUi = odtDb.format(formatter);\r\n            System.out.println(strDtUi);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    2022-12-01T04:00+08:00\r\n    Thu 01/12/2022 04:00\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"How to convert a date with time zone offset to another format","body":"<p>As already commented by <a href=\"https://stackoverflow.com/questions/74532284/how-to-convert-a-date-with-time-zone-offset-to-another-format#comment131566653_74532284\">Yonatan Karp-Rudin</a>, you can not compare a date-time with time-zone offset with another without time-zone offset. A clear way to compare the two date-times is to bring them to a single time-zone e.g. you can apply the same time-zone offset to the UI date-time as of the DB date-time.</p>\n<p>In March 2014, <code>java.time</code> API supplanted the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">error-prone legacy date-time API</a>. Since then, it has been strongly recommended to use this modern date-time API.</p>\n<p><strong>Demo using java.time API</strong>:</p>\n<pre><code>import java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        String dt1 = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\n        String dt2 = &quot;Thu 01/12/2022 12:00&quot;;\n\n        DateTimeFormatter dtf1 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS XXX&quot;, Locale.ENGLISH);\n        OffsetDateTime odt1 = OffsetDateTime.parse(dt1, dtf1);\n        System.out.println(odt1);\n\n        DateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(&quot;EEE dd/MM/uuuu HH:mm&quot;, Locale.ENGLISH)\n                .withZone(odt1.getOffset());\n        OffsetDateTime odt2 = OffsetDateTime.parse(dt2, dtf2);\n        System.out.println(odt2);\n\n        System.out.println(odt1.equals(odt2));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-12-01T04:00+08:00\n2022-12-01T12:00+08:00\nfalse\n</code></pre>\n<p>Assuming both the date-times belong to the same time-zone offset, another way to compare them would be compare them without time-zone i.e. comparing their date-time part only (<code>LocalDateTime</code>).</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        String dt1 = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\n        String dt2 = &quot;Thu 01/12/2022 12:00&quot;;\n\n        DateTimeFormatter dtf1 = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS XXX&quot;, Locale.ENGLISH);\n        LocalDateTime ldt1 = OffsetDateTime.parse(dt1, dtf1).toLocalDateTime();\n        System.out.println(ldt1);\n\n        DateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(&quot;EEE dd/MM/uuuu HH:mm&quot;, Locale.ENGLISH);\n        LocalDateTime ldt2 = LocalDateTime.parse(dt2, dtf2);\n        System.out.println(ldt2);\n\n        System.out.println(ldt1.equals(ldt2));\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-12-01T04:00\n2022-12-01T12:00\nfalse\n</code></pre>\n<p>The modern date-time API (java.time API) provides you with tools to do the same thing in many ways e.g. in the 1st demo, we could obtain the <code>OffsetDateTime</code> for your UI date-time string by parsing it into a <code>LocalDateTime</code> as shown in the 2nd demo and then using one of the ways shown in <a href=\"https://stackoverflow.com/a/66622113/10819573\">this answer</a> where <code>ZoneOffset offset =  odt1.getOffset()</code>.</p>\n<p>By the way, here is an example of how you format a date-time with time-zone offset to another format:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String dtDb = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss.SSS XXX&quot;, Locale.ENGLISH);\n        OffsetDateTime odtDb = OffsetDateTime.parse(dtDb, parser);\n        System.out.println(odtDb);\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE dd/MM/uuuu HH:mm&quot;, Locale.ENGLISH);\n        String strDtUi = odtDb.format(formatter);\n        System.out.println(strDtUi);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2022-12-01T04:00+08:00\nThu 01/12/2022 04:00\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":16966577,"reputation":57,"user_id":12272269,"display_name":"user12272269"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669128493,"creation_date":1669118321,"question_id":74532284,"body_markdown":"I tried reading a lot about the date formatting with time zone, but it doesn&#39;t make sense to me.\r\n\r\nMy DB shows this datetime: 2022-12-01 04:00:00.000 +08:00  \r\nMy UI shows it as: Thu 01/12/2022 12:00\r\n\r\nI need to compare between them to verify they are the same. I tried to convert the DB time like this: \r\n\r\n    String dbDate = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\r\n    SimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS XXX&quot;);\r\n    Date date = sf.parse(dbDate)\r\n    \r\n    sf = new SimpleDateFormat(&quot;EEE dd/MM/yyy HH:mm&quot;);  \r\n    String uiDate = sf.format(date);\r\n\r\nThe results received is a completely different date: &#39;Wed 30/11/2022 22:02&#39;.\r\n\r\nI don&#39;t understand the logic here and would appreciate help in converting it correctly.\r\n","title":"How to convert a date with time zone offset to another format","body":"<p>I tried reading a lot about the date formatting with time zone, but it doesn't make sense to me.</p>\n<p>My DB shows this datetime: 2022-12-01 04:00:00.000 +08:00<br />\nMy UI shows it as: Thu 01/12/2022 12:00</p>\n<p>I need to compare between them to verify they are the same. I tried to convert the DB time like this:</p>\n<pre><code>String dbDate = &quot;2022-12-01 04:00:00.000 +08:00&quot;;\nSimpleDateFormat sf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.SSS XXX&quot;);\nDate date = sf.parse(dbDate)\n\nsf = new SimpleDateFormat(&quot;EEE dd/MM/yyy HH:mm&quot;);  \nString uiDate = sf.format(date);\n</code></pre>\n<p>The results received is a completely different date: 'Wed 30/11/2022 22:02'.</p>\n<p>I don't understand the logic here and would appreciate help in converting it correctly.</p>\n"},{"tags":["java","drools","rule-engine","business-rules"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1669822174,"post_id":74534410,"comment_id":131731304,"body_markdown":"At the end of the day, the more code you have, the longer it takes to compile and load. You might be able to eke out some performance improvements by increasing your CPU, but this is an expensive fix and not sustainable long-term.","body":"At the end of the day, the more code you have, the longer it takes to compile and load. You might be able to eke out some performance improvements by increasing your CPU, but this is an expensive fix and not sustainable long-term."},{"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"score":0,"creation_date":1674113782,"post_id":74534410,"comment_id":132646487,"body_markdown":"@RoddyoftheFrozenPeas But you cannot limit the size of the code when you have 15000 rules. Is there a way to divide the rules in a way that only a subset of them could be loaded when changed? I don&#39;t know but something like modules.","body":"@RoddyoftheFrozenPeas But you cannot limit the size of the code when you have 15000 rules. Is there a way to divide the rules in a way that only a subset of them could be loaded when changed? I don&#39;t know but something like modules."},{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1674114111,"post_id":74534410,"comment_id":132646552,"body_markdown":"You mean something like KieBases?","body":"You mean something like KieBases?"}],"owner":{"account_id":6676441,"reputation":979,"user_id":5150898,"accept_rate":75,"display_name":"Chinmay jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669128007,"creation_date":1669128007,"question_id":74534410,"body_markdown":"I have implemented a rules engine based on drools (v7.25). The users dynamically add, update, and delete the rules.\r\n\r\nThe application could be expanded further and currently includes over 15000 rules. These rules are distributed evenly throughout several files even though they are part of the same package.\r\n\r\nThe application was initially functioning properly, but as the number of rules increased, the add and update performance of the rules has decreased noticeably.\r\n\r\nFor instance, it only takes the KieBuilder 300ms to build the KieBases when there are up to 1000 rules. But now, the same process can take up to 38000ms.\r\n\r\nHere is a sample of my code for your reference:\r\n\r\n        List&lt;CustomerRule&gt; customerRules = rulesBuilder.getCustomerRules(customerId);\r\n\t\tif (!customerRules.isEmpty()) {\r\n\t\t\tkieFileSystem.write(rulesBuilder.getDRLFilePath(customerId),\r\n\t\t\t\t\trulesBuilder.getRulesFileData(customerId, customerRules));\r\n\t\t}\r\n\t\tKieBuilder kieBuilder = kieServices.newKieBuilder(kieFileSystem).buildAll();\r\n\t\tResults results = kieBuilder.getResults();\r\n\t\tif (results.hasMessages(Message.Level.ERROR)) {\r\n\t\t\tlog.error(results.getMessages());\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tresults = ((KieContainerImpl) kieContainer).updateToKieModule((InternalKieModule) kieBuilder.getKieModule());\r\n\t\tif (results.hasMessages(Message.Level.ERROR)) {\r\n\t\t\tlog.error(results.getMessages());\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tkieContainer.dispose();\r\n\r\nIs there a way to improve the re-building process of the KieBases? What are the best practises I should take into account?","title":"Drools Rule Engine taking too long to update","body":"<p>I have implemented a rules engine based on drools (v7.25). The users dynamically add, update, and delete the rules.</p>\n<p>The application could be expanded further and currently includes over 15000 rules. These rules are distributed evenly throughout several files even though they are part of the same package.</p>\n<p>The application was initially functioning properly, but as the number of rules increased, the add and update performance of the rules has decreased noticeably.</p>\n<p>For instance, it only takes the KieBuilder 300ms to build the KieBases when there are up to 1000 rules. But now, the same process can take up to 38000ms.</p>\n<p>Here is a sample of my code for your reference:</p>\n<pre><code>    List&lt;CustomerRule&gt; customerRules = rulesBuilder.getCustomerRules(customerId);\n    if (!customerRules.isEmpty()) {\n        kieFileSystem.write(rulesBuilder.getDRLFilePath(customerId),\n                rulesBuilder.getRulesFileData(customerId, customerRules));\n    }\n    KieBuilder kieBuilder = kieServices.newKieBuilder(kieFileSystem).buildAll();\n    Results results = kieBuilder.getResults();\n    if (results.hasMessages(Message.Level.ERROR)) {\n        log.error(results.getMessages());\n        return;\n    }\n    results = ((KieContainerImpl) kieContainer).updateToKieModule((InternalKieModule) kieBuilder.getKieModule());\n    if (results.hasMessages(Message.Level.ERROR)) {\n        log.error(results.getMessages());\n        return;\n    }\n    kieContainer.dispose();\n</code></pre>\n<p>Is there a way to improve the re-building process of the KieBases? What are the best practises I should take into account?</p>\n"},{"tags":["java","spring","spring-integration"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669108809,"post_id":74529439,"comment_id":131563051,"body_markdown":"Btw: It&#39;s Spring Integration 5.5","body":"Btw: It&#39;s Spring Integration 5.5"},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1669124967,"post_id":74529439,"comment_id":131568872,"body_markdown":"You need to show the flow configuration; by default, the second subscriber won&#39;t be called if the first one fails, but that behavior can be changed; so we need to see your flow. Also, an error message like that is useless without the full stack trace.","body":"You need to show the flow configuration; by default, the second subscriber won&#39;t be called if the first one fails, but that behavior can be changed; so we need to see your flow. Also, an error message like that is useless without the full stack trace."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669125680,"post_id":74529439,"comment_id":131569167,"body_markdown":"@GaryRussell The exception above is related to the code shown. That&#39;s a full lab example. \n\nActually, it&#39;s just another desparete attempt to realize my &quot;sequential&quot; flow. Also tryed using PubSubChannel with 2 subscribers, but the do not depend on each other and get called regardless on any &quot;previous&quot; output.","body":"@GaryRussell The exception above is related to the code shown. That&#39;s a full lab example.   Actually, it&#39;s just another desparete attempt to realize my &quot;sequential&quot; flow. Also tryed using PubSubChannel with 2 subscribers, but the do not depend on each other and get called regardless on any &quot;previous&quot; output."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1669126841,"post_id":74529439,"comment_id":131569647,"body_markdown":"One more time - please show the flow configs and the full stack trace; nobody can help you without that.","body":"One more time - please show the flow configs and the full stack trace; nobody can help you without that."},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1669127259,"post_id":74529439,"comment_id":131569823,"body_markdown":"An `@InboundChannelAdapter`method must not have any parameters.","body":"An <code>@InboundChannelAdapter</code>method must not have any parameters."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669127887,"creation_date":1669127887,"answer_id":74534375,"question_id":74529439,"body_markdown":"You can&#39;t have parameters on an `@InboundChannelAdapter` method. This works...\r\n\r\n```java\r\n@Configuration\r\n@EnableIntegration\r\nclass SeqChannels {\r\n\r\n\tAtomicInteger integerSource = new AtomicInteger();\r\n\r\n\t@InboundChannelAdapter(channel = &quot;process&quot;, poller = @Poller(fixedDelay = &quot;1000&quot;))\r\n\tpublic Message&lt;Integer&gt; source() {\r\n\t\treturn MessageBuilder.withPayload(this.integerSource.incrementAndGet()).build();\r\n\t}\r\n\r\n\t@ServiceActivator(inputChannel = &quot;process&quot;, outputChannel = &quot;delete&quot;)\r\n\tpublic Integer process(@Payload Integer message) {\r\n\t\tSystem.out.println(&quot;Process: &quot; + message);\r\n\t\treturn message;\r\n\t}\r\n\r\n\t@ServiceActivator(inputChannel = &quot;delete&quot;)\r\n\tpublic void delete(@Payload Integer message) {\r\n\t\tSystem.out.println(&quot;delete: &quot; + message);\r\n\t}\r\n\r\n}\r\n```\r\n```\r\nProcess: 1\r\ndelete: 1\r\nProcess: 2\r\ndelete: 2\r\nProcess: 3\r\n...","title":"Spring Integration: Define sequential handling of messages using Java DSL","body":"<p>You can't have parameters on an <code>@InboundChannelAdapter</code> method. This works...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableIntegration\nclass SeqChannels {\n\n    AtomicInteger integerSource = new AtomicInteger();\n\n    @InboundChannelAdapter(channel = &quot;process&quot;, poller = @Poller(fixedDelay = &quot;1000&quot;))\n    public Message&lt;Integer&gt; source() {\n        return MessageBuilder.withPayload(this.integerSource.incrementAndGet()).build();\n    }\n\n    @ServiceActivator(inputChannel = &quot;process&quot;, outputChannel = &quot;delete&quot;)\n    public Integer process(@Payload Integer message) {\n        System.out.println(&quot;Process: &quot; + message);\n        return message;\n    }\n\n    @ServiceActivator(inputChannel = &quot;delete&quot;)\n    public void delete(@Payload Integer message) {\n        System.out.println(&quot;delete: &quot; + message);\n    }\n\n}\n</code></pre>\n<pre><code>Process: 1\ndelete: 1\nProcess: 2\ndelete: 2\nProcess: 3\n...\n</code></pre>\n"}],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74534375,"answer_count":1,"score":1,"last_activity_date":1669127887,"creation_date":1669105165,"question_id":74529439,"body_markdown":"I can&#39;t get my head around a solution for a - as I consider - rather common integration flow: \r\n\r\n1. read a file from source\r\n1. process file\r\n1. delete file from sourced **if** processing was successful.\r\n\r\nCurrently, I have an IntegrationFlow using a PublishSubscribeChannel with two IntegrationFlows as subscribers: One to process file, one to delete file. Unfortunately, the later one (delete) is executed regardless of the outcome of the first one (process), even if the &quot;process&quot; flow throws an Exception. \r\n\r\nWhat I need is a sequential handling flow, but I cannot figure out how to realize. Created some test code, but that doesn&#39;t work, reporting\r\n\r\n    2022-11-22 09:55:54.256 ERROR 14648 --- [   scheduling-1]\r\n    o.s.integration.handler.LoggingHandler   :\r\n    org.springframework.messaging.MessagingException: Failed to \r\n    invoke method; nested exception is \r\n    java.lang.IllegalArgumentException: wrong number of arguments\r\n\r\nThe lab code: \r\n\r\n```java\r\n@Configuration\r\n@EnableIntegration\r\npublic class SeqChannels {\r\n\r\n    @Bean\r\n    public AtomicInteger integerSource() {\r\n        return new AtomicInteger();\r\n    }\r\n\r\n    @InboundChannelAdapter(channel = &quot;process&quot;, poller = @Poller(fixedDelay = &quot;1000&quot;))\r\n    public Message&lt;Integer&gt; source(final AtomicInteger integerSource) {\r\n        return MessageBuilder.withPayload(integerSource.incrementAndGet()).build();\r\n    }\r\n\r\n    @ServiceActivator(inputChannel = &quot;process&quot;, outputChannel = &quot;delete&quot;)\r\n    public Integer process(@Payload Integer message) {\r\n        return message;\r\n    }\r\n\r\n    @ServiceActivator(inputChannel = &quot;delete&quot;)\r\n    public void delete(@Payload Integer message) {\r\n\r\n    }\r\n\r\n}\r\n```","title":"Spring Integration: Define sequential handling of messages using Java DSL","body":"<p>I can't get my head around a solution for a - as I consider - rather common integration flow:</p>\n<ol>\n<li>read a file from source</li>\n<li>process file</li>\n<li>delete file from sourced <strong>if</strong> processing was successful.</li>\n</ol>\n<p>Currently, I have an IntegrationFlow using a PublishSubscribeChannel with two IntegrationFlows as subscribers: One to process file, one to delete file. Unfortunately, the later one (delete) is executed regardless of the outcome of the first one (process), even if the &quot;process&quot; flow throws an Exception.</p>\n<p>What I need is a sequential handling flow, but I cannot figure out how to realize. Created some test code, but that doesn't work, reporting</p>\n<pre><code>2022-11-22 09:55:54.256 ERROR 14648 --- [   scheduling-1]\no.s.integration.handler.LoggingHandler   :\norg.springframework.messaging.MessagingException: Failed to \ninvoke method; nested exception is \njava.lang.IllegalArgumentException: wrong number of arguments\n</code></pre>\n<p>The lab code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableIntegration\npublic class SeqChannels {\n\n    @Bean\n    public AtomicInteger integerSource() {\n        return new AtomicInteger();\n    }\n\n    @InboundChannelAdapter(channel = &quot;process&quot;, poller = @Poller(fixedDelay = &quot;1000&quot;))\n    public Message&lt;Integer&gt; source(final AtomicInteger integerSource) {\n        return MessageBuilder.withPayload(integerSource.incrementAndGet()).build();\n    }\n\n    @ServiceActivator(inputChannel = &quot;process&quot;, outputChannel = &quot;delete&quot;)\n    public Integer process(@Payload Integer message) {\n        return message;\n    }\n\n    @ServiceActivator(inputChannel = &quot;delete&quot;)\n    public void delete(@Payload Integer message) {\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","out-of-memory","intellij-13"],"comments":[{"owner":{"account_id":3672835,"reputation":1758,"user_id":3059575,"accept_rate":98,"display_name":"Ya Wang"},"score":0,"creation_date":1423491775,"post_id":28411803,"comment_id":45157279,"body_markdown":"It isn&#39;t a regular practice to have outofmemoryexceptions generally this means your code is poorly optimized probably written wrongly somewhere. Although it is possible to increase heap size the general cause isn&#39;t the actually heap size and it more likely programming conventions or mistakes. Come back with code, show us your thread.","body":"It isn&#39;t a regular practice to have outofmemoryexceptions generally this means your code is poorly optimized probably written wrongly somewhere. Although it is possible to increase heap size the general cause isn&#39;t the actually heap size and it more likely programming conventions or mistakes. Come back with code, show us your thread."},{"owner":{"account_id":1391020,"reputation":7060,"user_id":1321867,"accept_rate":100,"display_name":"Yevgen Yampolskiy"},"score":5,"creation_date":1481960224,"post_id":28411803,"comment_id":69592405,"body_markdown":"I ran into this issue, and increasing &quot;Build process heap size&quot; fixed it for me","body":"I ran into this issue, and increasing &quot;Build process heap size&quot; fixed it for me"}],"answers":[{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1669127830,"creation_date":1423491915,"answer_id":28411978,"question_id":28411803,"body_markdown":"Try `Run` menu -&gt; `Edit Configurations...` -&gt; find your project in the tree of projects on the left, look for `VM options:` in the panel on the right, and enter something there, according to information found here: https://stackoverflow.com/questions/14763079/what-are-the-xms-and-xmx-parameters-when-starting-jvms\r\n\r\nThat having been said, I should also add that if you are running out of memory without knowingly doing extremely memory hungry stuff, then what you have in your hands is a bug which is causing your program to do runaway memory allocation, which will always be resulting in out-of-memory errors no matter how much you increase your heap size.  In that case, you will need to look at your code, not at your project options.","title":"OutOfMemoryError: insufficient memory in IntelliJ?","body":"<p>Try <code>Run</code> menu -&gt; <code>Edit Configurations...</code> -&gt; find your project in the tree of projects on the left, look for <code>VM options:</code> in the panel on the right, and enter something there, according to information found here: <a href=\"https://stackoverflow.com/questions/14763079/what-are-the-xms-and-xmx-parameters-when-starting-jvms\">What are the -Xms and -Xmx parameters when starting JVM?</a></p>\n<p>That having been said, I should also add that if you are running out of memory without knowingly doing extremely memory hungry stuff, then what you have in your hands is a bug which is causing your program to do runaway memory allocation, which will always be resulting in out-of-memory errors no matter how much you increase your heap size.  In that case, you will need to look at your code, not at your project options.</p>\n"},{"tags":[],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1423569647,"creation_date":1423569647,"answer_id":28431136,"question_id":28411803,"body_markdown":"It is very strange still i don&#39;t understand why but I resolved it by decreasing the size of `VM Options: -Xmx820m`. \r\nMaybe because i use jre 32 bit en my Intellij IDE runs on 64 bit. ","title":"OutOfMemoryError: insufficient memory in IntelliJ?","body":"<p>It is very strange still i don't understand why but I resolved it by decreasing the size of <code>VM Options: -Xmx820m</code>. \nMaybe because i use jre 32 bit en my Intellij IDE runs on 64 bit. </p>\n"}],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42201,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":28411978,"answer_count":2,"score":16,"last_activity_date":1669127830,"creation_date":1423491326,"question_id":28411803,"body_markdown":"When I run my project in IntelliJ in debug mode I get the following error.\r\n\r\n**Does anybody know what is the cause?**\r\n![enter image description here][1]\r\n\r\nI already increased my heap size in `idea.vmoptions`:\r\n\r\n    -ea\r\n    -server\r\n    -Xms1g\r\n    -Xmx3G\r\n    -Xss16m\r\n    -Xverify:none\r\n    -XX:PermSize=512m\r\n    -XX:MaxPermSize=1024m\r\n\r\nI already increased my heap size for compiler to 1024 as bellow:\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2rAtv.png\r\n  [2]: http://i.stack.imgur.com/aDhH7.png","title":"OutOfMemoryError: insufficient memory in IntelliJ?","body":"<p>When I run my project in IntelliJ in debug mode I get the following error.</p>\n\n<p><strong>Does anybody know what is the cause?</strong>\n<img src=\"https://i.stack.imgur.com/2rAtv.png\" alt=\"enter image description here\"></p>\n\n<p>I already increased my heap size in <code>idea.vmoptions</code>:</p>\n\n<pre><code>-ea\n-server\n-Xms1g\n-Xmx3G\n-Xss16m\n-Xverify:none\n-XX:PermSize=512m\n-XX:MaxPermSize=1024m\n</code></pre>\n\n<p>I already increased my heap size for compiler to 1024 as bellow:\n<img src=\"https://i.stack.imgur.com/aDhH7.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669127784,"creation_date":1669127784,"answer_id":74534361,"question_id":74533700,"body_markdown":"You can cancel any `onDisconnect` handler you registered by calling the function that is returned when you call `onDisconnect()`. From the documentation on [how `onDisconnect` works](https://firebase.google.com/docs/database/android/offline-capabilities#how-ondisconnect-works):\r\n```\r\nOnDisconnect onDisconnectRef = presenceRef.onDisconnect();\r\nonDisconnectRef.setValue(&quot;I disconnected&quot;);\r\n// ...\r\n// some time later when we change our minds\r\n// ...\r\nonDisconnectRef.cancel();\r\n```\r\n\r\nWhen applied to your code, that&#39;d be:\r\n```\r\nDatabaseReference presenceRef = FirebaseDatabase.getInstance().getReference(&quot;rooms/&quot; + roomName + &quot;/disconnectP1&quot;);\r\nOnDisconnect onDisconnectRef = presenceRef.onDisconnect();\r\nonDisconnectRef.setValue(1);\r\n...\r\nonDisconnectRef.cancel();\r\n```","title":"How to disable onDisconnect? - Java","body":"<p>You can cancel any <code>onDisconnect</code> handler you registered by calling the function that is returned when you call <code>onDisconnect()</code>. From the documentation on <a href=\"https://firebase.google.com/docs/database/android/offline-capabilities#how-ondisconnect-works\" rel=\"nofollow noreferrer\">how <code>onDisconnect</code> works</a>:</p>\n<pre><code>OnDisconnect onDisconnectRef = presenceRef.onDisconnect();\nonDisconnectRef.setValue(&quot;I disconnected&quot;);\n// ...\n// some time later when we change our minds\n// ...\nonDisconnectRef.cancel();\n</code></pre>\n<p>When applied to your code, that'd be:</p>\n<pre><code>DatabaseReference presenceRef = FirebaseDatabase.getInstance().getReference(&quot;rooms/&quot; + roomName + &quot;/disconnectP1&quot;);\nOnDisconnect onDisconnectRef = presenceRef.onDisconnect();\nonDisconnectRef.setValue(1);\n...\nonDisconnectRef.cancel();\n</code></pre>\n"}],"owner":{"account_id":25932092,"reputation":5,"user_id":19652986,"display_name":"SuperMen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74534361,"answer_count":1,"score":0,"last_activity_date":1669127784,"creation_date":1669125038,"question_id":74533700,"body_markdown":"I have a code snippet below that adds a number to the database at a specific path if the user has logged out of the application.\r\n\r\nI have a question, how can I make it so that onDisconnect does not fire as I wish? Is it possible?\r\n\r\n```\r\nDatabaseReference presenceRef = FirebaseDatabase.getInstance().getReference(&quot;rooms/&quot; + roomName + &quot;/disconnectP1&quot;);\r\npresenceRef.onDisconnect().setValue(1);\r\n```","title":"How to disable onDisconnect? - Java","body":"<p>I have a code snippet below that adds a number to the database at a specific path if the user has logged out of the application.</p>\n<p>I have a question, how can I make it so that onDisconnect does not fire as I wish? Is it possible?</p>\n<pre><code>DatabaseReference presenceRef = FirebaseDatabase.getInstance().getReference(&quot;rooms/&quot; + roomName + &quot;/disconnectP1&quot;);\npresenceRef.onDisconnect().setValue(1);\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669133655,"post_id":74534124,"comment_id":131572575,"body_markdown":"You&#39;ve got the JSONIgnore annotation on the collection, but with the orphanRemoval=true option on it too - how are you handling deserialization from JSON and merging that object into the DB if that collection isn&#39;t included? Your issue, despite where the error is thrown, is due to the save call. JPA operations are just delayed until there is a need to synchronize to the database, which is on the query to make sure it flushes any changes that might affect the query results. If you look back on the instances passed in to this method, you might hit your break point or see a collection change.","body":"You&#39;ve got the JSONIgnore annotation on the collection, but with the orphanRemoval=true option on it too - how are you handling deserialization from JSON and merging that object into the DB if that collection isn&#39;t included? Your issue, despite where the error is thrown, is due to the save call. JPA operations are just delayed until there is a need to synchronize to the database, which is on the query to make sure it flushes any changes that might affect the query results. If you look back on the instances passed in to this method, you might hit your break point or see a collection change."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669133895,"post_id":74534124,"comment_id":131572661,"body_markdown":"If you use the em.merge(account) and return what is returned from that call (instead of re-querying what must be the same instance), do you get the same issue?","body":"If you use the em.merge(account) and return what is returned from that call (instead of re-querying what must be the same instance), do you get the same issue?"},{"owner":{"account_id":1288376,"reputation":55,"user_id":1240976,"display_name":"robhyx"},"score":0,"creation_date":1669143941,"post_id":74534124,"comment_id":131576223,"body_markdown":"No, I don&#39;t get the error with merge and just returning that. Interesting. I&#39;ll have to see if that breaks anything else or introduces any degradation in performance because this code is called so frequently. Regarding the JSONIgnore, I believe that&#39;s used by the API so that particular field isn&#39;t included in the response.","body":"No, I don&#39;t get the error with merge and just returning that. Interesting. I&#39;ll have to see if that breaks anything else or introduces any degradation in performance because this code is called so frequently. Regarding the JSONIgnore, I believe that&#39;s used by the API so that particular field isn&#39;t included in the response."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669214309,"post_id":74534124,"comment_id":131594099,"body_markdown":"Merge without the extra query should improve performance (though you may want to force a flush to get exactly the same behavior), and I suspect this is a Hibernate native api only validation as changing collections is perfectly legal with JPA. JSONIgnore also affect deserialization - so make sure you correct for this collection being null/empty if using JSON to get the data back for changes.","body":"Merge without the extra query should improve performance (though you may want to force a flush to get exactly the same behavior), and I suspect this is a Hibernate native api only validation as changing collections is perfectly legal with JPA. JSONIgnore also affect deserialization - so make sure you correct for this collection being null/empty if using JSON to get the data back for changes."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669127768,"creation_date":1669127768,"answer_id":74534356,"question_id":74534124,"body_markdown":"You shouldn&#39;t even have a setter for authorizations.\r\n\r\nIf you want to keep it, your code should look like this:\r\n\r\n    @JsonIgnore\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval=true, mappedBy = &quot;account&quot;, fetch = FetchType.EAGER)\r\n    // Initialize here to prevent NPE when someone is calling getAuthorizations().add()\r\n    private Set&lt;Authorization&gt; authorizations = new HashSet&lt;&gt;();\r\n\r\n    @Valid\r\n    public Set&lt;Authorization&gt; getAuthorizations() {\r\n        return authorizations;\r\n    }\r\n\r\n    public void setAuthorizations(final Set&lt;Authorization&gt; authorizations) {\r\n        this.authorizations = authorizations;\r\n    }\r\n\r\nBut I would suggest not to expose a setter.\r\n\r\n    @JsonIgnore\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval=true, mappedBy = &quot;account&quot;, fetch = FetchType.EAGER)\r\n    // Initialize here to prevent NPE when someone is calling getAuthorizations().add()\r\n    private Set&lt;Authorization&gt; authorizations = new HashSet&lt;&gt;();\r\n\r\n    @Valid\r\n    public Set&lt;Authorization&gt; getAuthorizations() {\r\n        return authorizations;\r\n    }\r\n\r\n    public void addAuthorizations(final Authorization authorization) {\r\n        this.authorizations.add(authorization);\r\n    }\r\n\r\n    public void removeAuthorizations(final Authorization authorization) {\r\n        this.authorizations.remove(authorization);\r\n    }","title":"JPA Error Don&#39;t Change Reference to Collection Even Though it&#39;s not Being Explicitly Changed","body":"<p>You shouldn't even have a setter for authorizations.</p>\n<p>If you want to keep it, your code should look like this:</p>\n<pre><code>@JsonIgnore\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval=true, mappedBy = &quot;account&quot;, fetch = FetchType.EAGER)\n// Initialize here to prevent NPE when someone is calling getAuthorizations().add()\nprivate Set&lt;Authorization&gt; authorizations = new HashSet&lt;&gt;();\n\n@Valid\npublic Set&lt;Authorization&gt; getAuthorizations() {\n    return authorizations;\n}\n\npublic void setAuthorizations(final Set&lt;Authorization&gt; authorizations) {\n    this.authorizations = authorizations;\n}\n</code></pre>\n<p>But I would suggest not to expose a setter.</p>\n<pre><code>@JsonIgnore\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval=true, mappedBy = &quot;account&quot;, fetch = FetchType.EAGER)\n// Initialize here to prevent NPE when someone is calling getAuthorizations().add()\nprivate Set&lt;Authorization&gt; authorizations = new HashSet&lt;&gt;();\n\n@Valid\npublic Set&lt;Authorization&gt; getAuthorizations() {\n    return authorizations;\n}\n\npublic void addAuthorizations(final Authorization authorization) {\n    this.authorizations.add(authorization);\n}\n\npublic void removeAuthorizations(final Authorization authorization) {\n    this.authorizations.remove(authorization);\n}\n</code></pre>\n"}],"owner":{"account_id":1288376,"reputation":55,"user_id":1240976,"display_name":"robhyx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669127768,"creation_date":1669126767,"question_id":74534124,"body_markdown":"I&#39;d like to know how to get rid of this error, but at this point I’d settle for why I’m getting it. \r\n\r\nThe error:\r\n```\r\nCaused by: org.hibernate.HibernateException: Don&#39;t change the reference to a collection with delete-orphan enabled : com.asdf.data.entity.jpa.impl.Account.authorizations\r\n```\r\nThe implicated method near the top of the stack trace:\r\n```\r\n\t@Override\r\n\tpublic Account save(Account account) {\r\n\t\tif (account == null) {\r\n\t\t\treturn null;\r\n\t\t} else {\r\n\t\t\tString normailzedUserDN = UserDNParseUtil.normalizeUserDN(account.getUserDn());\r\n\t\t\tcacheConfig.evictSingleCacheValue(&quot;accountCache&quot;, normailzedUserDN);\r\n\t\t\t\r\n\t\t\tSession session = em.unwrap(Session.class);\r\n\t\t\tsession.save(account);\r\n\t\t\t\r\n\t\t\tString query = &quot;select a from Account a where a.isActive IS TRUE and a.userDn = :userDn&quot;;\r\n\t\t\t\r\n\t\t\tTypedQuery&lt;Account&gt; q = em.createQuery(query, Account.class);\r\n\t\t\tq.setParameter(&quot;userDn&quot;, account.getUserDn());\r\n\t\t\t\r\n\t\t\taccount = q.getSingleResult(); // This is line 80, so the error occurs here\r\n\t\t\t\r\n\t\t\treturn account;\r\n\t\t}\r\n\t}\r\n```\r\nRelevant lines from Account class:\r\n```\r\n\t@JsonIgnore\r\n\t@OneToMany(cascade = CascadeType.ALL, orphanRemoval=true, mappedBy = &quot;account&quot;, fetch = FetchType.EAGER)\r\n\tprivate Set&lt;Authorization&gt; authorizations;\r\n\r\n\t@Valid\r\n\tpublic Set&lt;Authorization&gt; getAuthorizations() {\r\n\t\treturn authorizations;\r\n\t}\r\n\r\n\tpublic void setAuthorizations(final Set&lt;Authorization&gt; authorizations) {\r\n\t\tif (this.authorizations==null) {\r\n\t\t\tthis.authorizations=new HashSet&lt;Authorization&gt;();\r\n\t\t} else {\r\n\t\t\tthis.authorizations.clear();\r\n\t\t}\r\n\t\tthis.authorizations.addAll(authorizations);\r\n\t}\r\n```\r\nNowhere in our code are we explicitly changing the reference to the authorizations field, and the setter is never called, at least according to the breakpoint I set. So, is this a JPA / Reflection thing that’s occurring on retrieval of the account that’s setting the field? Obviously, removing the orphanRemoval attribute from the field fixes it, but I don’t necessarily want to do that, as authorizations without an account make no sense. \r\n\r\nAny help would be greatly appreciated!","title":"JPA Error Don&#39;t Change Reference to Collection Even Though it&#39;s not Being Explicitly Changed","body":"<p>I'd like to know how to get rid of this error, but at this point I’d settle for why I’m getting it.</p>\n<p>The error:</p>\n<pre><code>Caused by: org.hibernate.HibernateException: Don't change the reference to a collection with delete-orphan enabled : com.asdf.data.entity.jpa.impl.Account.authorizations\n</code></pre>\n<p>The implicated method near the top of the stack trace:</p>\n<pre><code>    @Override\n    public Account save(Account account) {\n        if (account == null) {\n            return null;\n        } else {\n            String normailzedUserDN = UserDNParseUtil.normalizeUserDN(account.getUserDn());\n            cacheConfig.evictSingleCacheValue(&quot;accountCache&quot;, normailzedUserDN);\n            \n            Session session = em.unwrap(Session.class);\n            session.save(account);\n            \n            String query = &quot;select a from Account a where a.isActive IS TRUE and a.userDn = :userDn&quot;;\n            \n            TypedQuery&lt;Account&gt; q = em.createQuery(query, Account.class);\n            q.setParameter(&quot;userDn&quot;, account.getUserDn());\n            \n            account = q.getSingleResult(); // This is line 80, so the error occurs here\n            \n            return account;\n        }\n    }\n</code></pre>\n<p>Relevant lines from Account class:</p>\n<pre><code>    @JsonIgnore\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval=true, mappedBy = &quot;account&quot;, fetch = FetchType.EAGER)\n    private Set&lt;Authorization&gt; authorizations;\n\n    @Valid\n    public Set&lt;Authorization&gt; getAuthorizations() {\n        return authorizations;\n    }\n\n    public void setAuthorizations(final Set&lt;Authorization&gt; authorizations) {\n        if (this.authorizations==null) {\n            this.authorizations=new HashSet&lt;Authorization&gt;();\n        } else {\n            this.authorizations.clear();\n        }\n        this.authorizations.addAll(authorizations);\n    }\n</code></pre>\n<p>Nowhere in our code are we explicitly changing the reference to the authorizations field, and the setter is never called, at least according to the breakpoint I set. So, is this a JPA / Reflection thing that’s occurring on retrieval of the account that’s setting the field? Obviously, removing the orphanRemoval attribute from the field fixes it, but I don’t necessarily want to do that, as authorizations without an account make no sense.</p>\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java","swing","awt","joptionpane"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1669105468,"post_id":74528520,"comment_id":131561965,"body_markdown":"are you sure that `determine` is set to the size of `numbs`? Or is it still zero since no match was found? Also reading a file two times at the same time is at least *strange* (redundant and error-prone) - use a variable to store the line e.g. `String line; while ((line = reader.readLine()) != null) { numbs.add(line);  }` (or `Files.readAllLines()`)","body":"are you sure that <code>determine</code> is set to the size of <code>numbs</code>? Or is it still zero since no match was found? Also reading a file two times at the same time is at least <i>strange</i> (redundant and error-prone) - use a variable to store the line e.g. <code>String line; while ((line = reader.readLine()) != null) { numbs.add(line);  }</code> (or <code>Files.readAllLines()</code>)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669100746,"creation_date":1669100746,"answer_id":74528628,"question_id":74528520,"body_markdown":"The file is found, otherwise a JOptionPane would have shown up. You can test that by renaming the file and running the code again.\r\n\r\nAfter that, the condition to display a JOptionPane would be `determine==numbs.size()`, but `determine` is initialized to zero and only set on successful login to the index at which it was found. Even if the last entry (pair of user/password) were found, it would match with i=size-2, so the condition never applies.\r\n\r\nChange your code into something like\r\n\r\n    boolean found = false;\r\n    for (int i=0;i&lt;=numbs.size();i=i+2){\r\n        p1=numbs.get(i);\r\n        p2=numbs.get(i+1);\r\n        if(password.equals(p2)&amp;&amp;(username.equals(p1))) {\r\n            found = true;\r\n            break;\r\n        } \r\n    }\r\n    if (found) {\r\n        MainGUI x=new MainGUI();\r\n        x.setVisible(true);\r\n        dispose();\r\n    } else {\r\n        JOptionPane.showMessageDialog(this, &quot;try again&quot;);\r\n    }","title":"Doesn&#39;t show the JOptionPane when a condition is met","body":"<p>The file is found, otherwise a JOptionPane would have shown up. You can test that by renaming the file and running the code again.</p>\n<p>After that, the condition to display a JOptionPane would be <code>determine==numbs.size()</code>, but <code>determine</code> is initialized to zero and only set on successful login to the index at which it was found. Even if the last entry (pair of user/password) were found, it would match with i=size-2, so the condition never applies.</p>\n<p>Change your code into something like</p>\n<pre><code>boolean found = false;\nfor (int i=0;i&lt;=numbs.size();i=i+2){\n    p1=numbs.get(i);\n    p2=numbs.get(i+1);\n    if(password.equals(p2)&amp;&amp;(username.equals(p1))) {\n        found = true;\n        break;\n    } \n}\nif (found) {\n    MainGUI x=new MainGUI();\n    x.setVisible(true);\n    dispose();\n} else {\n    JOptionPane.showMessageDialog(this, &quot;try again&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":27009681,"reputation":1,"user_id":20569535,"display_name":"Nave"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669127534,"creation_date":1669099920,"question_id":74528520,"body_markdown":"Im trying to make a Login Gui where it searches a text file for the password and username and if it doesn&#39;t find any that match the input then they display a `JOptionPane` but for some reason it never shows it. This is the code:\r\n\r\n    int determine=0;\r\n    try{\r\n        String p1;\r\n        String p2;\r\n        String password =PasswordEntered.getText();\r\n        String username =UsernameEntered.getText();\r\n        FileReader reader=new FileReader(&quot;LoginPages.txt&quot;);\r\n        FileReader read=new FileReader(&quot;LoginPages.txt&quot;);\r\n        BufferedReader cr=new BufferedReader(read);\r\n        BufferedReader br=new BufferedReader(reader);\r\n       \r\n        ArrayList&lt;String&gt; numbs = new ArrayList&lt;String&gt;();\r\n        while (cr.readLine()!=null){\r\n            numbs.add(br.readLine());\r\n        }\r\n        for (int i=0;i&lt;=numbs.size();i=i+2){\r\n            p1=numbs.get(i);\r\n            p2=numbs.get(i+1);\r\n            if(password.equals(p2)&amp;&amp;(username.equals(p1))) {\r\n                determine=i;\r\n                MainGUI x=new MainGUI();\r\n                x.setVisible(true);\r\n                dispose();\r\n            } \r\n        }\r\n        if (determine==numbs.size()) {\r\n            JOptionPane.showMessageDialog(this, &quot;try again&quot;);\r\n        }\r\n    } catch(IOException ex){\r\n        JOptionPane.showMessageDialog(this, &quot;File Not Found&quot;);\r\n    }\r\n\r\n\r\n\r\nIt was supposed to pop up saying &quot;try again&quot; but instead it doesn&#39;t do anything. Please help or explain anyone.","title":"Doesn&#39;t show the JOptionPane when a condition is met","body":"<p>Im trying to make a Login Gui where it searches a text file for the password and username and if it doesn't find any that match the input then they display a <code>JOptionPane</code> but for some reason it never shows it. This is the code:</p>\n<pre><code>int determine=0;\ntry{\n    String p1;\n    String p2;\n    String password =PasswordEntered.getText();\n    String username =UsernameEntered.getText();\n    FileReader reader=new FileReader(&quot;LoginPages.txt&quot;);\n    FileReader read=new FileReader(&quot;LoginPages.txt&quot;);\n    BufferedReader cr=new BufferedReader(read);\n    BufferedReader br=new BufferedReader(reader);\n   \n    ArrayList&lt;String&gt; numbs = new ArrayList&lt;String&gt;();\n    while (cr.readLine()!=null){\n        numbs.add(br.readLine());\n    }\n    for (int i=0;i&lt;=numbs.size();i=i+2){\n        p1=numbs.get(i);\n        p2=numbs.get(i+1);\n        if(password.equals(p2)&amp;&amp;(username.equals(p1))) {\n            determine=i;\n            MainGUI x=new MainGUI();\n            x.setVisible(true);\n            dispose();\n        } \n    }\n    if (determine==numbs.size()) {\n        JOptionPane.showMessageDialog(this, &quot;try again&quot;);\n    }\n} catch(IOException ex){\n    JOptionPane.showMessageDialog(this, &quot;File Not Found&quot;);\n}\n</code></pre>\n<p>It was supposed to pop up saying &quot;try again&quot; but instead it doesn't do anything. Please help or explain anyone.</p>\n"},{"tags":["java","sql","oracle","hibernate","jpa"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1669126307,"post_id":74533987,"comment_id":131569422,"body_markdown":"The above code won&#39;t even _compile_.  You should at least post valid Java code.","body":"The above code won&#39;t even <i>compile</i>.  You should at least post valid Java code."},{"owner":{"account_id":98359,"reputation":184987,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1669126911,"post_id":74533987,"comment_id":131569680,"body_markdown":"You haven&#39;t said what problem/error you have. But your parentheses look wrong; and you&#39;re treating `:startdate` as a date and then as a string - if it is a date then don&#39;t use `to_date()` on it...","body":"You haven&#39;t said what problem/error you have. But your parentheses look wrong; and you&#39;re treating <code>:startdate</code> as a date and then as a string - if it is a date then don&#39;t use <code>to_date()</code> on it..."}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669127227,"creation_date":1669127227,"answer_id":74534231,"question_id":74533987,"body_markdown":"This is a native query so you must set &quot;nativeQuery = true&quot;:\r\n\r\n    @Query(&quot;DELETE FROM myTable&quot; +\r\n        &quot;WHERE DAB_ID = :dabId &quot; +\r\n        &quot;AND BIRTH_DATE BETWEEN :startDate &quot; +\r\n        &quot;AND select trunc(to_date(:startDate, &#39;dd/mm/yy&#39;), &#39;y&#39;) + interval &#39;1&#39; year - 1 from DUAL &quot; +\r\n        &quot;AND (to_char(id.activityDate, &#39;D&#39;) IN (1,2,3,4,5)) &quot;,\r\n        nativeQuery = true)\r\n    Publisher&lt;Long&gt; deleteByYearBirth(Long dabId , Date startDate);","title":"can not use trunc from dual ina JPA query","body":"<p>This is a native query so you must set &quot;nativeQuery = true&quot;:</p>\n<pre><code>@Query(&quot;DELETE FROM myTable&quot; +\n    &quot;WHERE DAB_ID = :dabId &quot; +\n    &quot;AND BIRTH_DATE BETWEEN :startDate &quot; +\n    &quot;AND select trunc(to_date(:startDate, 'dd/mm/yy'), 'y') + interval '1' year - 1 from DUAL &quot; +\n    &quot;AND (to_char(id.activityDate, 'D') IN (1,2,3,4,5)) &quot;,\n    nativeQuery = true)\nPublisher&lt;Long&gt; deleteByYearBirth(Long dabId , Date startDate);\n</code></pre>\n"}],"owner":{"account_id":1524505,"reputation":13,"user_id":1423269,"display_name":"BOS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669127227,"creation_date":1669126204,"question_id":74533987,"body_markdown":"I&#39;m using data JPA in my springboot project, and I need to use the trunc function in my sql @query, but the code does not compile.\r\nThe goal is to select the last day of the year from a date given in parameter :\r\n \r\n    @Query(&quot;DELETE FROM myTable&quot; +\r\n        &quot;WHERE DAB_ID = :dabId &quot; +\r\n        &quot;AND BIRTH_DATE BETWEEN :startDate &quot; +\r\n        &quot;AND select trunc(to_date(:startDate, &#39;dd/mm/yy&#39;), &#39;y&#39;) + interval &#39;1&#39; year - 1 from DUAL &quot; +\r\n        &quot;AND (to_char(id.activityDate, &#39;D&#39;) IN (1,2,3,4,5)) &quot;)\r\n    Publisher&lt;Long&gt; deleteByYearBirth(Long dabId , Date startDate);\r\n```\r\ntechnos: oracle, Java 11, hibernate, JPA\r\n\r\nthanks for your help in advance,\r\n\r\ni tried many solutions but I didn&#39;t succeed.","title":"can not use trunc from dual ina JPA query","body":"<p>I'm using data JPA in my springboot project, and I need to use the trunc function in my sql @query, but the code does not compile.\nThe goal is to select the last day of the year from a date given in parameter :</p>\n<pre><code>@Query(&quot;DELETE FROM myTable&quot; +\n    &quot;WHERE DAB_ID = :dabId &quot; +\n    &quot;AND BIRTH_DATE BETWEEN :startDate &quot; +\n    &quot;AND select trunc(to_date(:startDate, 'dd/mm/yy'), 'y') + interval '1' year - 1 from DUAL &quot; +\n    &quot;AND (to_char(id.activityDate, 'D') IN (1,2,3,4,5)) &quot;)\nPublisher&lt;Long&gt; deleteByYearBirth(Long dabId , Date startDate);\n</code></pre>\n<pre><code>technos: oracle, Java 11, hibernate, JPA\n\nthanks for your help in advance,\n\ni tried many solutions but I didn't succeed.\n</code></pre>\n"},{"tags":["java","jvm","classloader"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669101092,"post_id":74528654,"comment_id":131560668,"body_markdown":"why do you assume they are static? You use a static method to build them, that is all. They are not saved in a static variable, or static List, in this case.","body":"why do you assume they are static? You use a static method to build them, that is all. They are not saved in a static variable, or static List, in this case."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1669102281,"post_id":74528654,"comment_id":131561002,"body_markdown":"It&#39;s hard to say because your code doesn&#39;t even compile. (1) What is `instanceB`? (2) What is `predicateInConstruction`? (3) The `FilteredPredicateBuilder build()` is missing a return statement. (4) You have two parameterless `build()` methods in your class which is not allowed.","body":"It&#39;s hard to say because your code doesn&#39;t even compile. (1) What is <code>instanceB</code>? (2) What is <code>predicateInConstruction</code>? (3) The <code>FilteredPredicateBuilder build()</code> is missing a return statement. (4) You have two parameterless <code>build()</code> methods in your class which is not allowed."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669108438,"post_id":74528654,"comment_id":131562900,"body_markdown":"You are definitely reading the wrong articles. Neither “static class variables loading” nor “static methods loading” are a thing. While the individual words exist, these combinations are just gibberish.","body":"You are definitely reading the wrong articles. Neither “static class variables loading” nor “static methods loading” are a thing. While the individual words exist, these combinations are just gibberish."},{"owner":{"account_id":6971216,"reputation":17,"user_id":5347524,"display_name":"Felix"},"score":0,"creation_date":1669126218,"post_id":74528654,"comment_id":131569395,"body_markdown":"Thank you, I needed to remove this confusion from my mind.","body":"Thank you, I needed to remove this confusion from my mind."},{"owner":{"account_id":6971216,"reputation":17,"user_id":5347524,"display_name":"Felix"},"score":0,"creation_date":1669126959,"post_id":74528654,"comment_id":131569702,"body_markdown":"Thanks @ThomasKl&#228;ger, sorry for this, the snippet it edited","body":"Thanks @ThomasKl&#228;ger, sorry for this, the snippet it edited"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669103508,"creation_date":1669103155,"answer_id":74529047,"question_id":74528654,"body_markdown":"Note that your example is not compilable and it is not possible to be sure about what the \r\n\r\n\r\n&gt; 1. Are the different `RandomSumBuilder` instances static?\r\n\r\nThat question is meaningless.\r\n\r\nThere is no such thing as a static instance.  Seriously.\r\n\r\nFor example:\r\n\r\n     public class Test {\r\n        public static Test myTest = new Test();\r\n     }\r\n\r\nThe `myTest` *variable* is a static variable, but the *instance* that it points to is no different from any other instance of `Test`.  \r\n\r\nIt is not a &quot;static instance&quot;.  *There is no such thing.*\r\n\r\nThe second issue is that your example is not creating any `RandomSumBuilder` instances at all.\r\n\r\n&gt;  2. Can these objects be elected&lt;sup&gt;1&lt;/sup&gt; for garbage collection?\r\n\r\nYes.  Assuming that they are not *assigned* to something that makes it reachable.\r\n\r\n&gt; 3. Does it put unnecessary work on the class loader?\r\n    \r\nNo.  Unless you are creating multiple classloaders, the class only loaded once.  The classloader doesn&#39;t get involved in creating instances.\r\n\r\n&gt; 4. What would the builder pattern (with a nested class) bring here instead?\r\n  \r\nHow an object is created makes no difference to its reachability.  It makes no difference that the method that creates it is static, or inner or nested.\r\n\r\nOn the other hand your code does this:\r\n\r\n    instanceB.aList.add(new Random().nextInt(11));\r\n\r\nThis doesn&#39;t compile because `instanceB` is not declared.  But if `instanceB` **was** declared, and it was `static`, then that would be sufficient to make the `Integer` that you are (possibly) creating reachable.\r\n\r\nBut that is nothing to do with the `build` method being static ... \r\n\r\n----------------------\r\n\r\n&lt;sup&gt;1 - English mistake: you are equating &quot;candidates&quot; with &quot;election&quot;.  Garbage collection is not democratic.   And even in the real world, candidate has a broader meaning than that.  Look it up in a dictionary ...&lt;/sup&gt;\r\n","title":"What&#39;s the footprint of many instances built from a static method at runtime?","body":"<p>Note that your example is not compilable and it is not possible to be sure about what the</p>\n<blockquote>\n<ol>\n<li>Are the different <code>RandomSumBuilder</code> instances static?</li>\n</ol>\n</blockquote>\n<p>That question is meaningless.</p>\n<p>There is no such thing as a static instance.  Seriously.</p>\n<p>For example:</p>\n<pre><code> public class Test {\n    public static Test myTest = new Test();\n }\n</code></pre>\n<p>The <code>myTest</code> <em>variable</em> is a static variable, but the <em>instance</em> that it points to is no different from any other instance of <code>Test</code>.</p>\n<p>It is not a &quot;static instance&quot;.  <em>There is no such thing.</em></p>\n<p>The second issue is that your example is not creating any <code>RandomSumBuilder</code> instances at all.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Can these objects be elected<sup>1</sup> for garbage collection?</li>\n</ol>\n</blockquote>\n<p>Yes.  Assuming that they are not <em>assigned</em> to something that makes it reachable.</p>\n<blockquote>\n<ol start=\"3\">\n<li>Does it put unnecessary work on the class loader?</li>\n</ol>\n</blockquote>\n<p>No.  Unless you are creating multiple classloaders, the class only loaded once.  The classloader doesn't get involved in creating instances.</p>\n<blockquote>\n<ol start=\"4\">\n<li>What would the builder pattern (with a nested class) bring here instead?</li>\n</ol>\n</blockquote>\n<p>How an object is created makes no difference to its reachability.  It makes no difference that the method that creates it is static, or inner or nested.</p>\n<p>On the other hand your code does this:</p>\n<pre><code>instanceB.aList.add(new Random().nextInt(11));\n</code></pre>\n<p>This doesn't compile because <code>instanceB</code> is not declared.  But if <code>instanceB</code> <strong>was</strong> declared, and it was <code>static</code>, then that would be sufficient to make the <code>Integer</code> that you are (possibly) creating reachable.</p>\n<p>But that is nothing to do with the <code>build</code> method being static ...</p>\n<hr />\n<p><sup>1 - English mistake: you are equating &quot;candidates&quot; with &quot;election&quot;.  Garbage collection is not democratic.   And even in the real world, candidate has a broader meaning than that.  Look it up in a dictionary ...</sup></p>\n"}],"owner":{"account_id":6971216,"reputation":17,"user_id":5347524,"display_name":"Felix"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74529047,"answer_count":1,"score":0,"last_activity_date":1669126922,"creation_date":1669100918,"question_id":74528654,"body_markdown":"I&#39;ve read articles talking about static class variables loading and static methods loading but very few about returned instantiated objects from static methods and their footprint.\r\n\r\nReturning an instance from a static method is actually how singletons are created however singletons are supposed to be created once and then accessed by some getInstance method.\r\n\r\nIf I voluntarily want to break the singleton pattern, what happens if I write something like the following for example? (note the RandomSumBuilder build() method static access modifier)\r\n\r\n```\r\npublic class Service {\r\n\r\n\tpublic void doSomething() {\r\n\t\tfor (int i = 0; i &lt; 1000; i++) {\r\n\t\t\tSystem.out.println(&quot;Random sum : &quot; + RandomSumBuilder.add().build());\r\n\t\t}\r\n\t}\r\n}\r\n\r\npublic class RandomSumBuilder {\r\n\tprivate List&lt;Integer&gt; aList = new ArrayList&lt;&gt;();\r\n\r\n\tpublic RandomSumBuilder() { }\r\n\r\n\tpublic static RandomSumBuilder add() {\r\n\t\tRandomSumBuilder randomSumBuilder = new RandomSumBuilder();\r\n\t\trandomSumBuilder.aList.add(new Random().nextInt(11));\r\n\t\treturn randomSumBuilder;\r\n\t}\r\n\r\n\tpublic int build() {\r\n\t\treturn aList.stream()\r\n\t\t\t\t.reduce(Integer::sum)\r\n\t\t\t\t.orElse(0);\r\n\r\n\t}\r\n}\r\n```\r\n\r\nTo me it&#39;s clear RandomSumBuilder can&#39;t be considered as singletons but I can&#39;t get my head around these questions and I can only make assumptions so far.\r\n\r\n1. Are the different RandomSumBuilder instances static?  \r\n   *(I&#39;d say yes, like singletons)*\r\n\r\n2. Can these objects be elected for garbage collection?  \r\n   *(given my answer to question 1, I&#39;d say no)*\r\n\r\n3. Does it put unnecessary work on the class loader?  \r\n   *(if it has to load that many RandomSumBuilder to instantiate these static objects, I&#39;d say yes since I don&#39;t see the point in keeping them global. My quick local test with visualvm couldn&#39;t help me decide)*\r\n\r\n4. What would the builder pattern (with a nested class) bring here instead?  \r\n   *(I&#39;d say way less static objects created and class loading work but being at my 4th consecutive assumption I&#39;m not even sure)*\r\n\r\nI hope I&#39;m not too lost in this subject, please correct me if I&#39;m wrong.","title":"What&#39;s the footprint of many instances built from a static method at runtime?","body":"<p>I've read articles talking about static class variables loading and static methods loading but very few about returned instantiated objects from static methods and their footprint.</p>\n<p>Returning an instance from a static method is actually how singletons are created however singletons are supposed to be created once and then accessed by some getInstance method.</p>\n<p>If I voluntarily want to break the singleton pattern, what happens if I write something like the following for example? (note the RandomSumBuilder build() method static access modifier)</p>\n<pre><code>public class Service {\n\n    public void doSomething() {\n        for (int i = 0; i &lt; 1000; i++) {\n            System.out.println(&quot;Random sum : &quot; + RandomSumBuilder.add().build());\n        }\n    }\n}\n\npublic class RandomSumBuilder {\n    private List&lt;Integer&gt; aList = new ArrayList&lt;&gt;();\n\n    public RandomSumBuilder() { }\n\n    public static RandomSumBuilder add() {\n        RandomSumBuilder randomSumBuilder = new RandomSumBuilder();\n        randomSumBuilder.aList.add(new Random().nextInt(11));\n        return randomSumBuilder;\n    }\n\n    public int build() {\n        return aList.stream()\n                .reduce(Integer::sum)\n                .orElse(0);\n\n    }\n}\n</code></pre>\n<p>To me it's clear RandomSumBuilder can't be considered as singletons but I can't get my head around these questions and I can only make assumptions so far.</p>\n<ol>\n<li><p>Are the different RandomSumBuilder instances static?<br />\n<em>(I'd say yes, like singletons)</em></p>\n</li>\n<li><p>Can these objects be elected for garbage collection?<br />\n<em>(given my answer to question 1, I'd say no)</em></p>\n</li>\n<li><p>Does it put unnecessary work on the class loader?<br />\n<em>(if it has to load that many RandomSumBuilder to instantiate these static objects, I'd say yes since I don't see the point in keeping them global. My quick local test with visualvm couldn't help me decide)</em></p>\n</li>\n<li><p>What would the builder pattern (with a nested class) bring here instead?<br />\n<em>(I'd say way less static objects created and class loading work but being at my 4th consecutive assumption I'm not even sure)</em></p>\n</li>\n</ol>\n<p>I hope I'm not too lost in this subject, please correct me if I'm wrong.</p>\n"},{"tags":["java","hadoop","mapreduce","combiners"],"comments":[{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1333910500,"post_id":10065314,"comment_id":12882828,"body_markdown":"Erm, if that&#39;s how you want your reducer to receive your data ... then yes.","body":"Erm, if that&#39;s how you want your reducer to receive your data ... then yes."},{"owner":{"account_id":335032,"reputation":227,"user_id":661867,"accept_rate":73,"display_name":"honeywind"},"score":0,"creation_date":1333913144,"post_id":10065314,"comment_id":12883389,"body_markdown":"@BrianRoach The reducer is basically doing what the combiner would do if it were possible. Could you elaborate on your answer? As a disclaimer, I have an assignment and my professor asks us why a combiner class cannot be introduced into a situation similar to the example above. However, I feel as though it can, which is why I am asking.","body":"@BrianRoach The reducer is basically doing what the combiner would do if it were possible. Could you elaborate on your answer? As a disclaimer, I have an assignment and my professor asks us why a combiner class cannot be introduced into a situation similar to the example above. However, I feel as though it can, which is why I am asking."}],"answers":[{"tags":[],"owner":{"account_id":1337393,"reputation":29969,"user_id":1279787,"accept_rate":67,"display_name":"Chris White"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1333933096,"creation_date":1333933096,"answer_id":10067849,"question_id":10065314,"body_markdown":"Combiners are typically suited to a problem where you are performing some form of aggregation, min, max etc operation on the data - these values can be calculated in the combiner for the map output, and then calculated again in the reducer for all the combined outputs. This is useful as it means you are not transferring all the data across the network between the mappers and the reducer.\r\n\r\nNow there is not reason that you can&#39;t introduce a combiner to accumulate a list of the values observed for each key (i assume this is what your example shows), but there are some things which would make it tricker.\r\n\r\nIf you have to output `&lt;Text, Text&gt;` pairs from the mapper, and consume `&lt;Text, Text&gt;` in the reducer then your combiner can easily concatenate the list of values together and output this as a Text value. Now in your reducer, you can do the same, concatenate all the values together and form one big output.\r\n\r\nYou may run into a problem if you wanted to sort and dedup the output list - as the combiner / reducer logic would need to tokenize the Text object back into words, sort and dedup the list and then rebuild the list of words.\r\n\r\nTo directly answer your question - when would it be appropriate, well i can think of some examples:\r\n\r\n- If you wanted to find the lexicographical smallest or largest value associated with each key\r\n- You have millions of values for each key and you want to &#39;randomly&#39; sample a small set the values","title":"Hadoop Combiner Class for Text","body":"<p>Combiners are typically suited to a problem where you are performing some form of aggregation, min, max etc operation on the data - these values can be calculated in the combiner for the map output, and then calculated again in the reducer for all the combined outputs. This is useful as it means you are not transferring all the data across the network between the mappers and the reducer.</p>\n\n<p>Now there is not reason that you can't introduce a combiner to accumulate a list of the values observed for each key (i assume this is what your example shows), but there are some things which would make it tricker.</p>\n\n<p>If you have to output <code>&lt;Text, Text&gt;</code> pairs from the mapper, and consume <code>&lt;Text, Text&gt;</code> in the reducer then your combiner can easily concatenate the list of values together and output this as a Text value. Now in your reducer, you can do the same, concatenate all the values together and form one big output.</p>\n\n<p>You may run into a problem if you wanted to sort and dedup the output list - as the combiner / reducer logic would need to tokenize the Text object back into words, sort and dedup the list and then rebuild the list of words.</p>\n\n<p>To directly answer your question - when would it be appropriate, well i can think of some examples:</p>\n\n<ul>\n<li>If you wanted to find the lexicographical smallest or largest value associated with each key</li>\n<li>You have millions of values for each key and you want to 'randomly' sample a small set the values</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4883421,"reputation":337,"user_id":3936513,"display_name":"VG P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669126797,"creation_date":1407918588,"answer_id":25281488,"question_id":10065314,"body_markdown":"Combiner class is used when there is situation to use commutative or associative approach. Commutative example:\r\n\r\nabc=cba during combine task perform (a*b=d),c and then send value of d,c to reducer. Now the reducer has to perform only one task instead of two task i.e. a*b = d\r\nd*c to get final answer. If you use combiner need to do only d*c.\r\n\r\nSimilarly for associative (a+b)+c = a+(b+c) \r\nAssociative(Grouping) and commutative(moving around) result will not differ on how you multiply or add. Mainly combiner is used for structured data which obeys Associative &amp; commutative.\r\n\r\nAdvantage of combiner:\r\n\r\n - It reduces network I/O between Map and reducer\r\n - It reduces Disk I/O in reducer as part of execution happens in Combiner.","title":"Hadoop Combiner Class for Text","body":"<p>Combiner class is used when there is situation to use commutative or associative approach. Commutative example:</p>\n<p>abc=cba during combine task perform (a<em>b=d),c and then send value of d,c to reducer. Now the reducer has to perform only one task instead of two task i.e. a</em>b = d\nd<em>c to get final answer. If you use combiner need to do only d</em>c.</p>\n<p>Similarly for associative (a+b)+c = a+(b+c)\nAssociative(Grouping) and commutative(moving around) result will not differ on how you multiply or add. Mainly combiner is used for structured data which obeys Associative &amp; commutative.</p>\n<p>Advantage of combiner:</p>\n<ul>\n<li>It reduces network I/O between Map and reducer</li>\n<li>It reduces Disk I/O in reducer as part of execution happens in Combiner.</li>\n</ul>\n"}],"owner":{"account_id":335032,"reputation":227,"user_id":661867,"accept_rate":73,"display_name":"honeywind"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1643,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10067849,"answer_count":2,"score":0,"last_activity_date":1669126797,"creation_date":1333910166,"question_id":10065314,"body_markdown":"I&#39;m still trying to get an intuition as to when to use the Hadoop combiner class (I saw a few articles but they did not specifically help in my situation).\r\n\r\nMy question is, is it appropriate to use a combiner class when the value of the &lt;key,value&gt; pair is of the Text class? For instance, let&#39;s say we have the following output from the mapper:\r\n\r\n    fruit apple\r\n    fruit orange\r\n    fruit banana\r\n    ...\r\n    veggie carrot\r\n    veggie celery\r\n    ...\r\n\r\nCan we apply a combiner class here to be:\r\n\r\n    fruit apple orange banana\r\n    ...\r\n    veggie carrot celery\r\n    ...\r\n\r\nbefore it even reaches the reducer?","title":"Hadoop Combiner Class for Text","body":"<p>I'm still trying to get an intuition as to when to use the Hadoop combiner class (I saw a few articles but they did not specifically help in my situation).</p>\n\n<p>My question is, is it appropriate to use a combiner class when the value of the  pair is of the Text class? For instance, let's say we have the following output from the mapper:</p>\n\n<pre><code>fruit apple\nfruit orange\nfruit banana\n...\nveggie carrot\nveggie celery\n...\n</code></pre>\n\n<p>Can we apply a combiner class here to be:</p>\n\n<pre><code>fruit apple orange banana\n...\nveggie carrot celery\n...\n</code></pre>\n\n<p>before it even reaches the reducer?</p>\n"},{"tags":["java","kotlin","android-viewpager2"],"answers":[{"tags":[],"owner":{"account_id":26579939,"reputation":106,"user_id":20204744,"display_name":"MRF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669126641,"creation_date":1669126641,"answer_id":74534098,"question_id":74533525,"body_markdown":"It may have something to do with the way you&#39;re managing the navigation between the fragments.\r\nFirst of all, this, in ViewActivity\r\n\r\n      override fun onCreate(savedInstanceState: Bundle?){\r\n      super.onCreate(savedInstanceState)\r\n\r\n      adapterViewPager()\r\n      goToNextPage()\r\n      goToBackPage()}\r\n\r\nhere you&#39;re invoking sequentially both the function to navigate back and forth, as soon as the Activity gets created(onCreate), is there a reason for that?\r\n\r\nThen, in TakePictureFragment there&#39;s no need to wrap the button listener in a next() function, try this: \r\n\r\n      override fun onViewCreated(view: View, savedInstanceState: Bundle?){\r\n      super.onViewCreated(view, savedInstanceState)\r\n\r\n      binding.buttonNext.setOnClickListener {\r\n         parent.goToNextPage()\r\n      }}\r\n\r\n","title":"ViewPager is skipping a fragment when I take the picture or accept the permission","body":"<p>It may have something to do with the way you're managing the navigation between the fragments.\nFirst of all, this, in ViewActivity</p>\n<pre><code>  override fun onCreate(savedInstanceState: Bundle?){\n  super.onCreate(savedInstanceState)\n\n  adapterViewPager()\n  goToNextPage()\n  goToBackPage()}\n</code></pre>\n<p>here you're invoking sequentially both the function to navigate back and forth, as soon as the Activity gets created(onCreate), is there a reason for that?</p>\n<p>Then, in TakePictureFragment there's no need to wrap the button listener in a next() function, try this:</p>\n<pre><code>  override fun onViewCreated(view: View, savedInstanceState: Bundle?){\n  super.onViewCreated(view, savedInstanceState)\n\n  binding.buttonNext.setOnClickListener {\n     parent.goToNextPage()\n  }}\n</code></pre>\n"}],"owner":{"account_id":26977814,"reputation":1,"user_id":20542950,"display_name":"ShawDD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669126641,"creation_date":1669124265,"question_id":74533525,"body_markdown":"I&#39;m making a project in viewpager2. However, in one of the fragments I ask for the camera&#39;s permission and take the photo, and after I take it with the cell phone camera, it should show the photo in the fragment. However, when I go back to the fragment it goes to the next page automatically and without any error. Is there any way to control this and not let it jump until the user clicks the button?\r\n\r\n```\r\nclass ViewActivity : BaseActivity() {\r\n\r\n   private lateinit var binding: ActivityView\r\n   private lateinit var adapter: PagerAdapter\r\n\r\n   override fun onCreate(savedInstanceState: Bundle?){\r\n      super.onCreate(savedInstanceState)\r\n\r\n      adapterViewPager()\r\n      goToNextPage()\r\n      goToBackPage()\r\n   }\r\n\r\n   private fun adapterViewPager(){\r\n      adapter = ViewAdapter(supportFragmentManager, lifecycle)\r\n\r\n      adapter.addFragment(HelloWordFragment())\r\n      adapter.addFragment(TakePictureFragment())\r\n      adapter.addFragment(LoginFragment())\r\n      adapter.addFragment(ConfirmEmailFragment())\r\n\r\n      binding.viewPager.adapter = adapter\r\n   }\r\n\r\n   private fun goToNextPage(){\r\n      binding.viewPager.setCurrentItem(binding.viewPager.currentItem + 1)\r\n   }\r\n \r\n   private fun goToBackPage(){\r\n      binding.viewPager.setCurrentItem(binding.viewPager.currentItem - 1)\r\n   }\r\n}\r\n```\r\nPagerAdapter in java\r\n```\r\n\r\npublic final class PagerAdapter extends FragmentStateAdapter {\r\n\r\n   private final List&lt;Fragment&gt; fragList = new ArrayList&lt;&gt;() \r\n\r\n   ViewAdapter(FragmentManager fm, Lifecycle lf){\r\n      super(fm, lf)\r\n   }\r\n\r\n   public Fragment createViewPager(int position){\r\n      retirn fragList.get(position)\r\n   }\r\n\r\n   public void addFragment(Fragment fragment){\r\n      fragList.add(fragment)\r\n   }\r\n}\r\n```\r\nFragment da foto\r\n```\r\n\r\nclass TakePictureFragment : Fragment() {\r\n   \r\n   private lateinit var binding : FragmentTakePicture\r\n\r\n   override fun onCreateView(\r\n      inflater: LayoutInflater, container: ViewGroup?,\r\n      savedInstanceState: Bundle?\r\n   ): View {\r\n      binding = FragmentTakePicture.inflate(layoutInflater, container, false)\r\n      return binding.root\r\n   }\r\n\r\n   override fun onViewCreated(view: View, savedInstanceState: Bundle?){\r\n      super.onViewCreated(view, savedInstanceState)\r\n\r\n      next()\r\n   }\r\n\r\n   override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n      super.onActivityResult(requestCode, resultCode, data)\r\n      if (resultCode == RESULT_OK) {\r\n            when (requestCode) {\r\n                REQUEST_IMAGE_CAPTURE -&gt; {...}\r\n                REQUEST_GALLERY_IMAGE -&gt; {...}\r\n            }\r\n      }\r\n   }\r\n\r\n   private fun next(){\r\n      binding.buttonNext.setOnClickListener {\r\n         parent.goToNextPage()\r\n      }\r\n   }\r\n}\r\n```","title":"ViewPager is skipping a fragment when I take the picture or accept the permission","body":"<p>I'm making a project in viewpager2. However, in one of the fragments I ask for the camera's permission and take the photo, and after I take it with the cell phone camera, it should show the photo in the fragment. However, when I go back to the fragment it goes to the next page automatically and without any error. Is there any way to control this and not let it jump until the user clicks the button?</p>\n<pre><code>class ViewActivity : BaseActivity() {\n\n   private lateinit var binding: ActivityView\n   private lateinit var adapter: PagerAdapter\n\n   override fun onCreate(savedInstanceState: Bundle?){\n      super.onCreate(savedInstanceState)\n\n      adapterViewPager()\n      goToNextPage()\n      goToBackPage()\n   }\n\n   private fun adapterViewPager(){\n      adapter = ViewAdapter(supportFragmentManager, lifecycle)\n\n      adapter.addFragment(HelloWordFragment())\n      adapter.addFragment(TakePictureFragment())\n      adapter.addFragment(LoginFragment())\n      adapter.addFragment(ConfirmEmailFragment())\n\n      binding.viewPager.adapter = adapter\n   }\n\n   private fun goToNextPage(){\n      binding.viewPager.setCurrentItem(binding.viewPager.currentItem + 1)\n   }\n \n   private fun goToBackPage(){\n      binding.viewPager.setCurrentItem(binding.viewPager.currentItem - 1)\n   }\n}\n</code></pre>\n<p>PagerAdapter in java</p>\n<pre><code>\npublic final class PagerAdapter extends FragmentStateAdapter {\n\n   private final List&lt;Fragment&gt; fragList = new ArrayList&lt;&gt;() \n\n   ViewAdapter(FragmentManager fm, Lifecycle lf){\n      super(fm, lf)\n   }\n\n   public Fragment createViewPager(int position){\n      retirn fragList.get(position)\n   }\n\n   public void addFragment(Fragment fragment){\n      fragList.add(fragment)\n   }\n}\n</code></pre>\n<p>Fragment da foto</p>\n<pre><code>\nclass TakePictureFragment : Fragment() {\n   \n   private lateinit var binding : FragmentTakePicture\n\n   override fun onCreateView(\n      inflater: LayoutInflater, container: ViewGroup?,\n      savedInstanceState: Bundle?\n   ): View {\n      binding = FragmentTakePicture.inflate(layoutInflater, container, false)\n      return binding.root\n   }\n\n   override fun onViewCreated(view: View, savedInstanceState: Bundle?){\n      super.onViewCreated(view, savedInstanceState)\n\n      next()\n   }\n\n   override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n      super.onActivityResult(requestCode, resultCode, data)\n      if (resultCode == RESULT_OK) {\n            when (requestCode) {\n                REQUEST_IMAGE_CAPTURE -&gt; {...}\n                REQUEST_GALLERY_IMAGE -&gt; {...}\n            }\n      }\n   }\n\n   private fun next(){\n      binding.buttonNext.setOnClickListener {\n         parent.goToNextPage()\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","apache-arrow"],"answers":[{"tags":[],"owner":{"account_id":96711,"reputation":11791,"user_id":262727,"display_name":"li.davidm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669126374,"creation_date":1669126374,"answer_id":74534036,"question_id":74523121,"body_markdown":"A VectorSchemaRoot holds only one &quot;batch&quot; of data at a time. For multiple batches, you must work in a &quot;streaming&quot; fashion. So your rough flow looks like:\r\n\r\n1. Create a VectorSchemaRoot.\r\n2. Create a file writer and call `start`.\r\n3. Fill the Root with data and call `writeBatch`.\r\n4. Fill the Root with new data and call `writeBatch` again. Repeat as needed.\r\n5. `end()` or `close()` the writer.\r\n\r\nSee for example https://arrow.apache.org/docs/java/vector_schema_root.html#vectorschemaroot or https://arrow.apache.org/cookbook/java/io.html#writing:\r\n\r\n```java\r\nimport org.apache.arrow.memory.BufferAllocator;\r\nimport org.apache.arrow.memory.RootAllocator;\r\nimport org.apache.arrow.vector.VarCharVector;\r\nimport org.apache.arrow.vector.IntVector;\r\nimport org.apache.arrow.vector.types.pojo.Field;\r\nimport org.apache.arrow.vector.types.pojo.FieldType;\r\nimport org.apache.arrow.vector.types.pojo.ArrowType;\r\nimport org.apache.arrow.vector.types.pojo.Schema;\r\nimport org.apache.arrow.vector.VectorSchemaRoot;\r\nimport static java.util.Arrays.asList;\r\nimport org.apache.arrow.vector.ipc.ArrowFileWriter;\r\nimport java.io.File;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\n\r\ntry (BufferAllocator allocator = new RootAllocator()) {\r\n    Field name = new Field(&quot;name&quot;, FieldType.nullable(new ArrowType.Utf8()), null);\r\n    Field age = new Field(&quot;age&quot;, FieldType.nullable(new ArrowType.Int(32, true)), null);\r\n    Schema schemaPerson = new Schema(asList(name, age));\r\n    try(\r\n        VectorSchemaRoot vectorSchemaRoot = VectorSchemaRoot.create(schemaPerson, allocator)\r\n    ){\r\n        VarCharVector nameVector = (VarCharVector) vectorSchemaRoot.getVector(&quot;name&quot;);\r\n        nameVector.allocateNew(3);\r\n        nameVector.set(0, &quot;David&quot;.getBytes());\r\n        nameVector.set(1, &quot;Gladis&quot;.getBytes());\r\n        nameVector.set(2, &quot;Juan&quot;.getBytes());\r\n        IntVector ageVector = (IntVector) vectorSchemaRoot.getVector(&quot;age&quot;);\r\n        ageVector.allocateNew(3);\r\n        ageVector.set(0, 10);\r\n        ageVector.set(1, 20);\r\n        ageVector.set(2, 30);\r\n        vectorSchemaRoot.setRowCount(3);\r\n        File file = new File(&quot;randon_access_to_file.arrow&quot;);\r\n        try (\r\n            FileOutputStream fileOutputStream = new FileOutputStream(file);\r\n            ArrowFileWriter writer = new ArrowFileWriter(vectorSchemaRoot, null, fileOutputStream.getChannel())\r\n        ) {\r\n            writer.start();\r\n            writer.writeBatch();\r\n            // For a second batch, fill vectorSchemaRoot with more data\r\n            // then call writeBatch again\r\n            writer.end();\r\n            System.out.println(&quot;Record batches written: &quot; + writer.getRecordBlocks().size() + &quot;. Number of rows written: &quot; + vectorSchemaRoot.getRowCount());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```","title":"How can I write an .arrow/.arrows file with several batches?","body":"<p>A VectorSchemaRoot holds only one &quot;batch&quot; of data at a time. For multiple batches, you must work in a &quot;streaming&quot; fashion. So your rough flow looks like:</p>\n<ol>\n<li>Create a VectorSchemaRoot.</li>\n<li>Create a file writer and call <code>start</code>.</li>\n<li>Fill the Root with data and call <code>writeBatch</code>.</li>\n<li>Fill the Root with new data and call <code>writeBatch</code> again. Repeat as needed.</li>\n<li><code>end()</code> or <code>close()</code> the writer.</li>\n</ol>\n<p>See for example <a href=\"https://arrow.apache.org/docs/java/vector_schema_root.html#vectorschemaroot\" rel=\"nofollow noreferrer\">https://arrow.apache.org/docs/java/vector_schema_root.html#vectorschemaroot</a> or <a href=\"https://arrow.apache.org/cookbook/java/io.html#writing\" rel=\"nofollow noreferrer\">https://arrow.apache.org/cookbook/java/io.html#writing</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.arrow.memory.BufferAllocator;\nimport org.apache.arrow.memory.RootAllocator;\nimport org.apache.arrow.vector.VarCharVector;\nimport org.apache.arrow.vector.IntVector;\nimport org.apache.arrow.vector.types.pojo.Field;\nimport org.apache.arrow.vector.types.pojo.FieldType;\nimport org.apache.arrow.vector.types.pojo.ArrowType;\nimport org.apache.arrow.vector.types.pojo.Schema;\nimport org.apache.arrow.vector.VectorSchemaRoot;\nimport static java.util.Arrays.asList;\nimport org.apache.arrow.vector.ipc.ArrowFileWriter;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\ntry (BufferAllocator allocator = new RootAllocator()) {\n    Field name = new Field(&quot;name&quot;, FieldType.nullable(new ArrowType.Utf8()), null);\n    Field age = new Field(&quot;age&quot;, FieldType.nullable(new ArrowType.Int(32, true)), null);\n    Schema schemaPerson = new Schema(asList(name, age));\n    try(\n        VectorSchemaRoot vectorSchemaRoot = VectorSchemaRoot.create(schemaPerson, allocator)\n    ){\n        VarCharVector nameVector = (VarCharVector) vectorSchemaRoot.getVector(&quot;name&quot;);\n        nameVector.allocateNew(3);\n        nameVector.set(0, &quot;David&quot;.getBytes());\n        nameVector.set(1, &quot;Gladis&quot;.getBytes());\n        nameVector.set(2, &quot;Juan&quot;.getBytes());\n        IntVector ageVector = (IntVector) vectorSchemaRoot.getVector(&quot;age&quot;);\n        ageVector.allocateNew(3);\n        ageVector.set(0, 10);\n        ageVector.set(1, 20);\n        ageVector.set(2, 30);\n        vectorSchemaRoot.setRowCount(3);\n        File file = new File(&quot;randon_access_to_file.arrow&quot;);\n        try (\n            FileOutputStream fileOutputStream = new FileOutputStream(file);\n            ArrowFileWriter writer = new ArrowFileWriter(vectorSchemaRoot, null, fileOutputStream.getChannel())\n        ) {\n            writer.start();\n            writer.writeBatch();\n            // For a second batch, fill vectorSchemaRoot with more data\n            // then call writeBatch again\n            writer.end();\n            System.out.println(&quot;Record batches written: &quot; + writer.getRecordBlocks().size() + &quot;. Number of rows written: &quot; + vectorSchemaRoot.getRowCount());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669126374,"creation_date":1669053787,"question_id":74523121,"body_markdown":"As a part of my current task, I need to write several batches to .arrow/.arrows file and then read the data from it.\r\n\r\nHow can I do that?\r\n\r\nNow I am doing something like this:\r\n\r\n    private static VectorSchemaRoot addData(int count) {\r\n    \t\ttry (BufferAllocator allocator = new RootAllocator()) {\r\n    \t\t\tField age = new Field(&quot;age&quot;, FieldType.nullable(new ArrowType.Int(32, true)), null);\r\n    \t\t\tField name = new Field(&quot;name&quot;, FieldType.nullable(new ArrowType.Utf8()), null);\r\n    \t\t\tSchema schema = new Schema(List.of(age, name));\r\n    \t\t\ttry(\r\n    \t\t\t\t\tVectorSchemaRoot vectorSchemaRoot = VectorSchemaRoot.create(schema, allocator);\r\n    \r\n    \t\t\t){\r\n    \r\n    \t\t\t\tIntVector ageVector = (IntVector) vectorSchemaRoot.getVector(&quot;age&quot;);\r\n    \t\t\t\tVarCharVector nameVector = (VarCharVector) vectorSchemaRoot.getVector(&quot;name&quot;);\r\n    \t\t\t\tageVector.allocateNew(count);\r\n    \t\t\t\tnameVector.allocateNew(count);\r\n    \r\n    \t\t\t\tfor (int i = 0; i &lt; count; i++) {\r\n    \t\t\t\t\tageVector.set(i, i*10);\r\n    \t\t\t\t\tnameVector.set(i, (&quot;John &quot; + i*10).getBytes());\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tvectorSchemaRoot.setRowCount(count);\r\n    \t\t\t\treturn vectorSchemaRoot;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\nBut this adds only one batch/block?\r\nHonestly, I am not sure that I am getting the concept enough, and not much info I was able to find on this topic. If you can point me to some good read on this topic, I would appreciate this.","title":"How can I write an .arrow/.arrows file with several batches?","body":"<p>As a part of my current task, I need to write several batches to .arrow/.arrows file and then read the data from it.</p>\n<p>How can I do that?</p>\n<p>Now I am doing something like this:</p>\n<pre><code>private static VectorSchemaRoot addData(int count) {\n        try (BufferAllocator allocator = new RootAllocator()) {\n            Field age = new Field(&quot;age&quot;, FieldType.nullable(new ArrowType.Int(32, true)), null);\n            Field name = new Field(&quot;name&quot;, FieldType.nullable(new ArrowType.Utf8()), null);\n            Schema schema = new Schema(List.of(age, name));\n            try(\n                    VectorSchemaRoot vectorSchemaRoot = VectorSchemaRoot.create(schema, allocator);\n\n            ){\n\n                IntVector ageVector = (IntVector) vectorSchemaRoot.getVector(&quot;age&quot;);\n                VarCharVector nameVector = (VarCharVector) vectorSchemaRoot.getVector(&quot;name&quot;);\n                ageVector.allocateNew(count);\n                nameVector.allocateNew(count);\n\n                for (int i = 0; i &lt; count; i++) {\n                    ageVector.set(i, i*10);\n                    nameVector.set(i, (&quot;John &quot; + i*10).getBytes());\n                }\n\n                vectorSchemaRoot.setRowCount(count);\n                return vectorSchemaRoot;\n            }\n        }\n    }\n</code></pre>\n<p>But this adds only one batch/block?\nHonestly, I am not sure that I am getting the concept enough, and not much info I was able to find on this topic. If you can point me to some good read on this topic, I would appreciate this.</p>\n"},{"tags":["java","sql","spring","database","jooq"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1668976844,"post_id":74511215,"comment_id":131531452,"body_markdown":"you are trying to map Post&#39;s comments to Comment&#39;s postId. those are different types. check your mapping again.","body":"you are trying to map Post&#39;s comments to Comment&#39;s postId. those are different types. check your mapping again."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669100788,"creation_date":1669100788,"answer_id":74528633,"question_id":74511215,"body_markdown":"### Why your approach doesn&#39;t work\r\n\r\nYou&#39;re creating a flat result set from your one-to-many relationship between `POSTS` and `COMMENTS`, and then, you&#39;re expecting jOOQ&#39;s [`DefaultRecordMapper`][1] (via the `fetchInto(Class)` method) to de-duplicate those flat results again automatically for you. But that&#39;s not how things work in jOOQ. While *you* know the relationship between `POSTS` and `COMMENTS` in your query, a flat jOOQ `Result` does not. There&#39;s no obvious way how to auto-deduplicate stuff. Imagine, you had several nested collections in `Post`, how would that even work?\r\n\r\n### Using `MULTISET` to nest collections\r\n\r\nThe most jOOQ and SQL idiomatic way to nest collections is to use [`MULTISET`][2], along with [ad-hoc converters][3], e.g. like this:\r\n\r\n```java\r\nList&lt;Post&gt; result =\r\ndslContext\r\n    .select(\r\n        POSTS.ID,\r\n        POSTS.CONTENT,\r\n        POSTS.CREATED_AT,\r\n        multiset(\r\n            select(COMMENTS.ID, COMMENTS.CONTENT, COMMENTS.CREATED_AT)\r\n            .from(COMMENTS)\r\n            .where(COMMENTS.POST_ID.eq(POSTS.ID))\r\n        ).convertFrom(r -&gt; r.map(Records.mapping(Comment::new))))\r\n    .from(POSTS)\r\n    .fetch(Records.mapping(Post::new));\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/","title":"JOOQ problem with mapping (DataTypeException)","body":"<h3>Why your approach doesn't work</h3>\n<p>You're creating a flat result set from your one-to-many relationship between <code>POSTS</code> and <code>COMMENTS</code>, and then, you're expecting jOOQ's <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\" rel=\"nofollow noreferrer\"><code>DefaultRecordMapper</code></a> (via the <code>fetchInto(Class)</code> method) to de-duplicate those flat results again automatically for you. But that's not how things work in jOOQ. While <em>you</em> know the relationship between <code>POSTS</code> and <code>COMMENTS</code> in your query, a flat jOOQ <code>Result</code> does not. There's no obvious way how to auto-deduplicate stuff. Imagine, you had several nested collections in <code>Post</code>, how would that even work?</p>\n<h3>Using <code>MULTISET</code> to nest collections</h3>\n<p>The most jOOQ and SQL idiomatic way to nest collections is to use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\" rel=\"nofollow noreferrer\"><code>MULTISET</code></a>, along with <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc converters</a>, e.g. like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Post&gt; result =\ndslContext\n    .select(\n        POSTS.ID,\n        POSTS.CONTENT,\n        POSTS.CREATED_AT,\n        multiset(\n            select(COMMENTS.ID, COMMENTS.CONTENT, COMMENTS.CREATED_AT)\n            .from(COMMENTS)\n            .where(COMMENTS.POST_ID.eq(POSTS.ID))\n        ).convertFrom(r -&gt; r.map(Records.mapping(Comment::new))))\n    .from(POSTS)\n    .fetch(Records.mapping(Post::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669126067,"creation_date":1669126067,"answer_id":74533951,"question_id":74511215,"body_markdown":"@Lukas Eder\r\n\r\nI&#39;ve written this method using multisetAgg. It works ok but i&#39;m not sure it should look like this:\r\n\r\n      List&lt;Post&gt; getAllPost() {\r\n        List&lt;Post&gt; result =\r\n                dslContext\r\n                        .select(\r\n                                POSTS.ID,\r\n                                POSTS.CONTENT,\r\n                                POSTS.CREATED_AT,\r\n                                multisetAgg(\r\n                                        COMMENTS.ID, COMMENTS.CONTENT, COMMENTS.CREATED_AT, COMMENTS.POST_ID\r\n\r\n                                ).as(&quot;comments&quot;).convertFrom(r -&gt; r.into(Comment.class))\r\n                        )\r\n                        .from(POSTS)\r\n                        .leftJoin(COMMENTS).on(COMMENTS.POST_ID.eq(POSTS.ID))\r\n                        .groupBy(POSTS.ID)\r\n                        .fetchInto(Post.class);\r\n        return result;\r\n    }","title":"JOOQ problem with mapping (DataTypeException)","body":"<p>@Lukas Eder</p>\n<p>I've written this method using multisetAgg. It works ok but i'm not sure it should look like this:</p>\n<pre><code>  List&lt;Post&gt; getAllPost() {\n    List&lt;Post&gt; result =\n            dslContext\n                    .select(\n                            POSTS.ID,\n                            POSTS.CONTENT,\n                            POSTS.CREATED_AT,\n                            multisetAgg(\n                                    COMMENTS.ID, COMMENTS.CONTENT, COMMENTS.CREATED_AT, COMMENTS.POST_ID\n\n                            ).as(&quot;comments&quot;).convertFrom(r -&gt; r.into(Comment.class))\n                    )\n                    .from(POSTS)\n                    .leftJoin(COMMENTS).on(COMMENTS.POST_ID.eq(POSTS.ID))\n                    .groupBy(POSTS.ID)\n                    .fetchInto(Post.class);\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":711,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74533951,"answer_count":2,"score":2,"last_activity_date":1669126067,"creation_date":1668972139,"question_id":74511215,"body_markdown":"I get this exception when mapping record to entity:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    org.jooq.exception.DataTypeException: No Converter found for types java.util.UUID and java.util.List\r\n\tat org.jooq.impl.Tools.converterOrFail(Tools.java:1208) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.Tools.converterOrFail(Tools.java:1217) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:351) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.DefaultRecordMapper$ImmutablePOJOMapper.set(DefaultRecordMapper.java:1146) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.DefaultRecordMapper$ImmutablePOJOMapper.mapNonnested(DefaultRecordMapper.java:1137) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.DefaultRecordMapper$ImmutablePOJOMapper.map(DefaultRecordMapper.java:1124) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.DefaultRecordMapper.map(DefaultRecordMapper.java:610) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.DelayedRecordMapper.map(DelayedRecordMapper.java:69) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.RecordMapper.apply(RecordMapper.java:80) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.RecordMapper.apply(RecordMapper.java:65) ~[jooq-3.15.0.jar:na]\r\n\tat java.base/java.util.stream.Collectors.lambda$mapping$13(Collectors.java:469) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169) ~[na:na]\r\n\tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\r\n\tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\r\n\tat org.jooq.impl.AbstractCursor.collect(AbstractCursor.java:78) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.ResultQueryTrait.collect(ResultQueryTrait.java:358) ~[jooq-3.15.0.jar:na]\r\n\tat org.jooq.impl.ResultQueryTrait.fetchInto(ResultQueryTrait.java:1423) ~[jooq-3.15.0.jar:na]\r\n\tat com.example.jooqsample.posts.JOOQPostRepository.getAll(JOOQPostRepository.java:45) ~[classes/:na]\r\n\tat com.example.jooqsample.posts.PostFacade.getAllPosts(PostFacade.java:34) ~[classes/:na]\r\n\tat com.example.jooqsample.posts.rest.PostController.getAllPosts(PostController.java:27) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\nEntities:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @AllArgsConstructor(access = AccessLevel.PACKAGE)\r\n    @Getter\r\n    @ToString\r\n    @EqualsAndHashCode(of = &quot;id&quot;)\r\n    class Post {\r\n\r\n        private UUID id;\r\n\r\n        private String content;\r\n\r\n        private Instant createdAt;\r\n\r\n        private List&lt;Comment&gt; comments;\r\n\r\n    PostDTO toDTO() {\r\n        return PostDTO\r\n                .builder()\r\n                .id(this.id)\r\n                .content(this.content)\r\n                .comments(this.comments.stream().map(Comment::toDTO).toList())\r\n                .build();\r\n        }\r\n     }\r\n\r\n    @AllArgsConstructor(access = AccessLevel.PACKAGE)\r\n    @Getter\r\n    @ToString\r\n    @EqualsAndHashCode(of = &quot;id&quot;)\r\n    class Comment {\r\n        private UUID id;\r\n\r\n        private String content;\r\n\r\n        private Instant createdAt;\r\n\r\n        UUID postId;\r\n\r\n    CommentDTO toDTO() {\r\n        return new CommentDTO(this.id, this.content);\r\n      }\r\n    }\r\n\r\nMethod:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public List&lt;Post&gt; getAll() {\r\n        return dslContext\r\n                .select()\r\n                .from(POSTS)\r\n                .leftJoin(COMMENTS)\r\n                .onKey()\r\n                .fetchInto(Post.class);\r\n    }\r\n\r\n- JOOQ version: 3.15\r\n- Spring Boot version: 2.7.5\r\n- Java version: 17","title":"JOOQ problem with mapping (DataTypeException)","body":"<p>I get this exception when mapping record to entity:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.jooq.exception.DataTypeException: No Converter found for types java.util.UUID and java.util.List\nat org.jooq.impl.Tools.converterOrFail(Tools.java:1208) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.Tools.converterOrFail(Tools.java:1217) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.AbstractRecord.get(AbstractRecord.java:351) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.DefaultRecordMapper$ImmutablePOJOMapper.set(DefaultRecordMapper.java:1146) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.DefaultRecordMapper$ImmutablePOJOMapper.mapNonnested(DefaultRecordMapper.java:1137) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.DefaultRecordMapper$ImmutablePOJOMapper.map(DefaultRecordMapper.java:1124) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.DefaultRecordMapper.map(DefaultRecordMapper.java:610) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.DelayedRecordMapper.map(DelayedRecordMapper.java:69) ~[jooq-3.15.0.jar:na]\nat org.jooq.RecordMapper.apply(RecordMapper.java:80) ~[jooq-3.15.0.jar:na]\nat org.jooq.RecordMapper.apply(RecordMapper.java:65) ~[jooq-3.15.0.jar:na]\nat java.base/java.util.stream.Collectors.lambda$mapping$13(Collectors.java:469) ~[na:na]\nat java.base/java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169) ~[na:na]\nat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]\nat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\nat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\nat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]\nat org.jooq.impl.AbstractCursor.collect(AbstractCursor.java:78) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.ResultQueryTrait.collect(ResultQueryTrait.java:358) ~[jooq-3.15.0.jar:na]\nat org.jooq.impl.ResultQueryTrait.fetchInto(ResultQueryTrait.java:1423) ~[jooq-3.15.0.jar:na]\nat com.example.jooqsample.posts.JOOQPostRepository.getAll(JOOQPostRepository.java:45) ~[classes/:na]\nat com.example.jooqsample.posts.PostFacade.getAllPosts(PostFacade.java:34) ~[classes/:na]\nat com.example.jooqsample.posts.rest.PostController.getAllPosts(PostController.java:27) ~[classes/:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:670) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.23.jar:5.3.23]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:779) ~[tomcat-embed-core-9.0.68.jar:4.0.FR]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.23.jar:5.3.23]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.23.jar:5.3.23]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.68.jar:9.0.68]\nat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>Entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor(access = AccessLevel.PACKAGE)\n@Getter\n@ToString\n@EqualsAndHashCode(of = &quot;id&quot;)\nclass Post {\n\n    private UUID id;\n\n    private String content;\n\n    private Instant createdAt;\n\n    private List&lt;Comment&gt; comments;\n\nPostDTO toDTO() {\n    return PostDTO\n            .builder()\n            .id(this.id)\n            .content(this.content)\n            .comments(this.comments.stream().map(Comment::toDTO).toList())\n            .build();\n    }\n }\n\n@AllArgsConstructor(access = AccessLevel.PACKAGE)\n@Getter\n@ToString\n@EqualsAndHashCode(of = &quot;id&quot;)\nclass Comment {\n    private UUID id;\n\n    private String content;\n\n    private Instant createdAt;\n\n    UUID postId;\n\nCommentDTO toDTO() {\n    return new CommentDTO(this.id, this.content);\n  }\n}\n</code></pre>\n<p>Method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Post&gt; getAll() {\n    return dslContext\n            .select()\n            .from(POSTS)\n            .leftJoin(COMMENTS)\n            .onKey()\n            .fetchInto(Post.class);\n}\n</code></pre>\n<ul>\n<li>JOOQ version: 3.15</li>\n<li>Spring Boot version: 2.7.5</li>\n<li>Java version: 17</li>\n</ul>\n"},{"tags":["java","android","kotlin","sdk","libs"],"answers":[{"tags":[],"owner":{"account_id":21413989,"reputation":23,"user_id":15773565,"display_name":"tahreem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669125473,"creation_date":1669125473,"answer_id":74533797,"question_id":73233424,"body_markdown":"The issue was fixed long time ago. Had to reimplement everything from scratch. \r\n\r\n1. Added the JAR file in the libs folder.\r\n2. Run the JAR file inside the android studio so that it can install all its components inside the folder. \r\n3. Add all the other .SO files.\r\n4. Used a third party library for converting View to Bitmap and used to send the same bitmap for printing.\r\nAvailable on github-&gt; ` implementation &#39;id.zelory:cekrek:1.0.0&#39;`\r\n5. Implement the methods for printing the project. Had to use the USB cable so as the printer works. \r\n\r\nAnd it worked like a charm. ","title":"Getting java.lang.UnsatisfiedLinkError: No implementation found for error","body":"<p>The issue was fixed long time ago. Had to reimplement everything from scratch.</p>\n<ol>\n<li>Added the JAR file in the libs folder.</li>\n<li>Run the JAR file inside the android studio so that it can install all its components inside the folder.</li>\n<li>Add all the other .SO files.</li>\n<li>Used a third party library for converting View to Bitmap and used to send the same bitmap for printing.\nAvailable on github-&gt; <code> implementation 'id.zelory:cekrek:1.0.0'</code></li>\n<li>Implement the methods for printing the project. Had to use the USB cable so as the printer works.</li>\n</ol>\n<p>And it worked like a charm.</p>\n"}],"owner":{"account_id":21413989,"reputation":23,"user_id":15773565,"display_name":"tahreem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74533797,"answer_count":1,"score":0,"last_activity_date":1669125473,"creation_date":1659605124,"question_id":73233424,"body_markdown":"I am using a third party library for printing purposes in my Kotlin Android app. I am getting this error when running the application and clicking the print button. \r\n\r\nI have added the .so files in the jniLibs folder. Can anyone help me with this. I can share the project as well but you will need a physical printer from the company I am using this SDK from. \r\n\r\n[![&gt; Fatal Exception: java.lang.UnsatisfiedLinkError: No implementation\r\n&gt; found for int com.icod.serial.SerialPort.native_open(java.lang.String,\r\n&gt; int, int, int) (tried Java_com_icod_serial_SerialPort_native_1open and\r\n&gt; Java_com_icod_serial_SerialPort_native_1open__Ljava_lang_String_2III)\r\n&gt;        at com.icod.serial.SerialPort.native_open(SerialPort.java)\r\n&gt;        at com.icod.serial.SerialPort.open(SerialPort.java:76)\r\n&gt;        at com.szsicod.print.io.SerialAPI.openDevice(SerialAPI.java:36)\r\n&gt;        at com.szsicod.print.escpos.PrinterAPI.connect(PrinterAPI.java:370)\r\n&gt;        at com.tahreem.testmasungapplication.MainActivity.printIcod(MainActivity.kt:97)]\r\n\r\nImage attached\r\n\r\n[Image]\r\n\r\n\r\n  [Image]: https://i.stack.imgur.com/tCbwG.png","title":"Getting java.lang.UnsatisfiedLinkError: No implementation found for error","body":"<p>I am using a third party library for printing purposes in my Kotlin Android app. I am getting this error when running the application and clicking the print button.</p>\n<p>I have added the .so files in the jniLibs folder. Can anyone help me with this. I can share the project as well but you will need a physical printer from the company I am using this SDK from.</p>\n<p>[![&gt; Fatal Exception: java.lang.UnsatisfiedLinkError: No implementation</p>\n<blockquote>\n<p>found for int com.icod.serial.SerialPort.native_open(java.lang.String,\nint, int, int) (tried Java_com_icod_serial_SerialPort_native_1open and\nJava_com_icod_serial_SerialPort_native_1open__Ljava_lang_String_2III)\nat com.icod.serial.SerialPort.native_open(SerialPort.java)\nat com.icod.serial.SerialPort.open(SerialPort.java:76)\nat com.szsicod.print.io.SerialAPI.openDevice(SerialAPI.java:36)\nat com.szsicod.print.escpos.PrinterAPI.connect(PrinterAPI.java:370)\nat com.tahreem.testmasungapplication.MainActivity.printIcod(MainActivity.kt:97)]</p>\n</blockquote>\n<p>Image attached</p>\n<p><a href=\"https://i.stack.imgur.com/tCbwG.png\" rel=\"nofollow noreferrer\">Image</a></p>\n"},{"tags":["java","java-8","chronicle","chronicle-map"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669125462,"creation_date":1669125462,"answer_id":74533793,"question_id":73403687,"body_markdown":"1. This is determined by the OS, it is between 5 and 30 seconds by default up to a maximum of 10% of the main memory not being written to disk.\r\n\r\n2. dirtytime_expire_seconds and dirty_expire_centisecs\r\nhttps://docs.kernel.org/admin-guide/sysctl/vm.html\r\n\r\n3. The data is flushed by the OS so as long as this keeps running for another 30 seconds, it should be flushed.\r\n\r\n4. In short, it&#39;s controlled by your OS.","title":"OpenHFT Chronicle Map frequency of persist on to the disk","body":"<ol>\n<li><p>This is determined by the OS, it is between 5 and 30 seconds by default up to a maximum of 10% of the main memory not being written to disk.</p>\n</li>\n<li><p>dirtytime_expire_seconds and dirty_expire_centisecs\n<a href=\"https://docs.kernel.org/admin-guide/sysctl/vm.html\" rel=\"nofollow noreferrer\">https://docs.kernel.org/admin-guide/sysctl/vm.html</a></p>\n</li>\n<li><p>The data is flushed by the OS so as long as this keeps running for another 30 seconds, it should be flushed.</p>\n</li>\n<li><p>In short, it's controlled by your OS.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":6920012,"reputation":628,"user_id":5312971,"accept_rate":60,"display_name":"howard roark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74533793,"answer_count":1,"score":1,"last_activity_date":1669125462,"creation_date":1660828245,"question_id":73403687,"body_markdown":"I had few questions regarding openHFT chronicle map.\r\n\r\n1) How often does chronicle map persist from memory to disk.\r\n2) Is this time configurable?\r\n3) If JVM process with chronicle map crashes. Does the data in off heap memory gets flushed automatically?\r\n4) Can someone point me to correct resources that are available for above questions?\r\n\r\nThank you","title":"OpenHFT Chronicle Map frequency of persist on to the disk","body":"<p>I had few questions regarding openHFT chronicle map.</p>\n<ol>\n<li>How often does chronicle map persist from memory to disk.</li>\n<li>Is this time configurable?</li>\n<li>If JVM process with chronicle map crashes. Does the data in off heap memory gets flushed automatically?</li>\n<li>Can someone point me to correct resources that are available for above questions?</li>\n</ol>\n<p>Thank you</p>\n"},{"tags":["java","hibernate","hibernate-search"],"comments":[{"owner":{"account_id":1578628,"reputation":1857,"user_id":1464495,"accept_rate":91,"display_name":"brandones"},"score":0,"creation_date":1571182458,"post_id":58403820,"comment_id":103152655,"body_markdown":"If the linked question is indeed related, the ticket https://hibernate.atlassian.net/browse/HSEARCH-2518 claims that this should be possible in Hibernate Search 6.0.","body":"If the linked question is indeed related, the ticket <a href=\"https://hibernate.atlassian.net/browse/HSEARCH-2518\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HSEARCH-2518</a> claims that this should be possible in Hibernate Search 6.0."},{"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"score":0,"creation_date":1571207816,"post_id":58403820,"comment_id":103158302,"body_markdown":"You can give a name to an analyzer instance in Search 6, but you can&#39;t use the `AnalyzerDiscriminator`. There would be ways around that, but first: what is the need exactly? When you say &quot;provided at runtime&quot;, do you mean &quot;when starting the application&quot; or &quot;for each HTTP request&quot; or &quot;for each entity instance&quot;? Do you need to change the analyzer when querying, or when indexing?","body":"You can give a name to an analyzer instance in Search 6, but you can&#39;t use the <code>AnalyzerDiscriminator</code>. There would be ways around that, but first: what is the need exactly? When you say &quot;provided at runtime&quot;, do you mean &quot;when starting the application&quot; or &quot;for each HTTP request&quot; or &quot;for each entity instance&quot;? Do you need to change the analyzer when querying, or when indexing?"},{"owner":{"account_id":1578628,"reputation":1857,"user_id":1464495,"accept_rate":91,"display_name":"brandones"},"score":0,"creation_date":1571234982,"post_id":58403820,"comment_id":103173469,"body_markdown":"When starting the application. I would like to specify the Filter[Factory] or Analyzer in a configuration file. I&#39;ll update the question. I assume a reindex would be needed after changing the analyzer?","body":"When starting the application. I would like to specify the Filter[Factory] or Analyzer in a configuration file. I&#39;ll update the question. I assume a reindex would be needed after changing the analyzer?"},{"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"score":0,"creation_date":1571236789,"post_id":58403820,"comment_id":103174679,"body_markdown":"Answered below. And yes, you will need to reindex when you change the analyzers, regardless of how you do it (you would need to reindex even if you changed the annotations).","body":"Answered below. And yes, you will need to reindex when you change the analyzers, regardless of how you do it (you would need to reindex even if you changed the annotations)."}],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1571242824,"creation_date":1571236734,"answer_id":58415931,"question_id":58403820,"body_markdown":"In Hibernate Search 5.11 (and since 5.6 or 5.7, IIRC), you can define analyzers programmatically using a `LuceneAnalysisDefinitionProvider`.\r\n\r\nImplement the interface:\r\n\r\n```java\r\npublic class CustomAnalysisDefinitionProvider implements LuceneAnalysisDefinitionProvider {\r\n    @Override\r\n    public void register(LuceneAnalyzerDefinitionRegistryBuilder builder) {\r\n        builder.analyzer( &quot;myAnalyzer&quot; )\r\n                        .tokenizer( KeywordTokenizerFactory.class )\r\n                        .tokenFilter( ClassicFilterFactory.class )\r\n                        .tokenFilter( LowerCaseFilterFactory.class )\r\n                        .tokenFilter( StopFilterFactory.class )\r\n                                // You can pass parameters like this\r\n                                .param( &quot;mapping&quot;, &quot;org/hibernate/search/test/analyzer/stoplist.properties&quot; )\r\n                                .param( &quot;ignoreCase&quot;, &quot;true&quot; );\r\n\r\n        // You can define multiple analyzers\r\n        builder.analyzer( &quot;otherAnalyzer&quot; )\r\n                        .tokenizer( ... ) ...\r\n    }\r\n}\r\n\r\n```\r\n\r\nThen tell Hibernate Search to use it:\r\n\r\n```\r\n# In properties.java\r\nhibernate.search.lucene.analysis_definition_provider = com.mycompany.CustomAnalysisDefinitionProvider;\r\n\r\n```\r\n\r\nYou&#39;re free to do whatever you want in the implementation of `register`, so potentially you could check out system properties or even load configuration files.\r\nIf you have a limited set of implementations, you can also directly override the definition provider when starting the JVM by setting `hibernate.search.lucene.analysis_definition_provider` through the system properties.\r\n\r\n\r\nSee https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition for details.\r\n\r\nIn Hibernate Search **6**, APIs are a bit different, but they follow the same core principles: https://docs.jboss.org/hibernate/search/6.0/reference/en-US/html_single/#backend-lucene-analysis , and you can even inject Spring/CDI beans into the analysis configurer (you can&#39;t do that in Search 5, or at least Hibernate Search won&#39;t help you to do it).","title":"Choosing an analyzer at runtime in Hibernate Search","body":"<p>In Hibernate Search 5.11 (and since 5.6 or 5.7, IIRC), you can define analyzers programmatically using a <code>LuceneAnalysisDefinitionProvider</code>.</p>\n\n<p>Implement the interface:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAnalysisDefinitionProvider implements LuceneAnalysisDefinitionProvider {\n    @Override\n    public void register(LuceneAnalyzerDefinitionRegistryBuilder builder) {\n        builder.analyzer( \"myAnalyzer\" )\n                        .tokenizer( KeywordTokenizerFactory.class )\n                        .tokenFilter( ClassicFilterFactory.class )\n                        .tokenFilter( LowerCaseFilterFactory.class )\n                        .tokenFilter( StopFilterFactory.class )\n                                // You can pass parameters like this\n                                .param( \"mapping\", \"org/hibernate/search/test/analyzer/stoplist.properties\" )\n                                .param( \"ignoreCase\", \"true\" );\n\n        // You can define multiple analyzers\n        builder.analyzer( \"otherAnalyzer\" )\n                        .tokenizer( ... ) ...\n    }\n}\n\n</code></pre>\n\n<p>Then tell Hibernate Search to use it:</p>\n\n<pre><code># In properties.java\nhibernate.search.lucene.analysis_definition_provider = com.mycompany.CustomAnalysisDefinitionProvider;\n\n</code></pre>\n\n<p>You're free to do whatever you want in the implementation of <code>register</code>, so potentially you could check out system properties or even load configuration files.\nIf you have a limited set of implementations, you can also directly override the definition provider when starting the JVM by setting <code>hibernate.search.lucene.analysis_definition_provider</code> through the system properties.</p>\n\n<p>See <a href=\"https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/search/5.11/reference/en-US/html_single/#section-programmatic-analyzer-definition</a> for details.</p>\n\n<p>In Hibernate Search <strong>6</strong>, APIs are a bit different, but they follow the same core principles: <a href=\"https://docs.jboss.org/hibernate/search/6.0/reference/en-US/html_single/#backend-lucene-analysis\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/search/6.0/reference/en-US/html_single/#backend-lucene-analysis</a> , and you can even inject Spring/CDI beans into the analysis configurer (you can't do that in Search 5, or at least Hibernate Search won't help you to do it).</p>\n"}],"owner":{"account_id":1578628,"reputation":1857,"user_id":1464495,"accept_rate":91,"display_name":"brandones"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58415931,"answer_count":1,"score":0,"last_activity_date":1669125455,"creation_date":1571182237,"question_id":58403820,"body_markdown":"I&#39;m using Hibernate Search with Lucene and would like to be able to add an AnalyzerDef based on a Filter name (fetching, e.g., [this][1]) that is provided in a config file, loaded when the application starts.\r\n\r\nRight now I&#39;ve got code like\r\n\r\n```java\r\n@AnalyzerDefs({\r\n\t\t@AnalyzerDef(name = &quot;phraseAnalyzer&quot;,\r\n\t\t\t\ttokenizer = @TokenizerDef(factory = KeywordTokenizerFactory.class),\r\n\t\t\t\tfilters = {\r\n\t\t\t\t\t\t@TokenFilterDef(factory = ClassicFilterFactory.class),\r\n\t\t\t\t\t\t@TokenFilterDef(factory = LowerCaseFilterFactory.class)\r\n\t\t\t\t}),\r\n})\r\n@MappedSuperclass\r\npublic abstract class MyObject {\r\n```\r\n\r\nI looked at [the docs][2] and it didn&#39;t pop out at me how I would do it.\r\n\r\nI suspect [this question][3] might be related.\r\n\r\n\r\n  [1]: https://lucene.apache.org/core/6_4_0/analyzers-phonetic/org/apache/lucene/analysis/phonetic/DoubleMetaphoneFilterFactory.html\r\n  [2]: https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#_analysis\r\n  [3]: https://stackoverflow.com/questions/40928584/use-existing-analyzer-in-hibernate-search-analyzerdiscriminator","title":"Choosing an analyzer at runtime in Hibernate Search","body":"<p>I'm using Hibernate Search with Lucene and would like to be able to add an AnalyzerDef based on a Filter name (fetching, e.g., <a href=\"https://lucene.apache.org/core/6_4_0/analyzers-phonetic/org/apache/lucene/analysis/phonetic/DoubleMetaphoneFilterFactory.html\" rel=\"nofollow noreferrer\">this</a>) that is provided in a config file, loaded when the application starts.</p>\n\n<p>Right now I've got code like</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@AnalyzerDefs({\n        @AnalyzerDef(name = \"phraseAnalyzer\",\n                tokenizer = @TokenizerDef(factory = KeywordTokenizerFactory.class),\n                filters = {\n                        @TokenFilterDef(factory = ClassicFilterFactory.class),\n                        @TokenFilterDef(factory = LowerCaseFilterFactory.class)\n                }),\n})\n@MappedSuperclass\npublic abstract class MyObject {\n</code></pre>\n\n<p>I looked at <a href=\"https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#_analysis\" rel=\"nofollow noreferrer\">the docs</a> and it didn't pop out at me how I would do it.</p>\n\n<p>I suspect <a href=\"https://stackoverflow.com/questions/40928584/use-existing-analyzer-in-hibernate-search-analyzerdiscriminator\">this question</a> might be related.</p>\n"},{"tags":["java","decorator"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1669060037,"post_id":74524134,"comment_id":131552853,"body_markdown":"Why can&#39;t `decoratorP.a()` not just call `delegate.a()` followed by `delegate.b()`? (Assuming your decorator is a real decorator with a delegate and doesn&#39;t just call `super.a()`, in which case it wouldn&#39;t be much of a decorator, but the same question/suggestion would still apply).","body":"Why can&#39;t <code>decoratorP.a()</code> not just call <code>delegate.a()</code> followed by <code>delegate.b()</code>? (Assuming your decorator is a real decorator with a delegate and doesn&#39;t just call <code>super.a()</code>, in which case it wouldn&#39;t be much of a decorator, but the same question/suggestion would still apply)."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1669060875,"post_id":74524134,"comment_id":131553086,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":19650202,"reputation":11,"user_id":14384216,"display_name":"DoZmeR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669125263,"creation_date":1669059739,"question_id":74524134,"body_markdown":"I have a class P with two methods, a() and b(). Also I have a decorator for class P named decoratorP that extends the P class (they&#39;re not in the same file either). Inside this decorator, I also have those two methods with a couple of additional operations.\r\n\r\nWhen I get the instance of decoratorP (lets say, from the main), I call decoratorP.a(). So, those additional operations are executed and then I proceed to execute the P.a() function. Case is that, at the end of P.a(), I need to execute decoratorP.b() function, and I need to call it from the P class instance (I cannot do it from the main). Is there any possibility to do so?\r\n\r\nI don&#39;t know how to accomplish this maintaining the decorator pattern.","title":"Call a decorator function from its inner class","body":"<p>I have a class P with two methods, a() and b(). Also I have a decorator for class P named decoratorP that extends the P class (they're not in the same file either). Inside this decorator, I also have those two methods with a couple of additional operations.</p>\n<p>When I get the instance of decoratorP (lets say, from the main), I call decoratorP.a(). So, those additional operations are executed and then I proceed to execute the P.a() function. Case is that, at the end of P.a(), I need to execute decoratorP.b() function, and I need to call it from the P class instance (I cannot do it from the main). Is there any possibility to do so?</p>\n<p>I don't know how to accomplish this maintaining the decorator pattern.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":0,"creation_date":1669125314,"post_id":74533745,"comment_id":131569016,"body_markdown":"Do you need the positions as class members? or can you directly put them into the array?","body":"Do you need the positions as class members? or can you directly put them into the array?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1669125355,"post_id":74533745,"comment_id":131569036,"body_markdown":"this might help you building a List of the fields of the class: https://stackoverflow.com/questions/16295949/get-all-fields-even-private-and-inherited-from-class","body":"this might help you building a List of the fields of the class: <a href=\"https://stackoverflow.com/questions/16295949/get-all-fields-even-private-and-inherited-from-class\" title=\"get all fields even private and inherited from class\">stackoverflow.com/questions/16295949/&hellip;</a>"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1669125498,"post_id":74533745,"comment_id":131569096,"body_markdown":"Yes, as @Stultuske you can use *reflection* to solve your problem, there is no other way except if you want to change your logic.","body":"Yes, as @Stultuske you can use <i>reflection</i> to solve your problem, there is no other way except if you want to change your logic."},{"owner":{"account_id":22811010,"reputation":5,"user_id":20572995,"display_name":"imnachox2"},"score":0,"creation_date":1669127324,"post_id":74533745,"comment_id":131569858,"body_markdown":"@Stultuske Do you have any idea if it loads the array sequentially to the variables? That is, I would add how I have it in the code, right?","body":"@Stultuske Do you have any idea if it loads the array sequentially to the variables? That is, I would add how I have it in the code, right?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669127432,"post_id":74533745,"comment_id":131569916,"body_markdown":"try writing the code and find out","body":"try writing the code and find out"}],"owner":{"account_id":22811010,"reputation":5,"user_id":20572995,"display_name":"imnachox2"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669125224,"creation_date":1669125224,"question_id":74533745,"body_markdown":"This is the class where I declare several INT variables that contain positions and then add them into an arraylist but I would like to do it in some kind of loop and not add line by line\r\n\r\n```\r\nclass Ejecutar {\r\n\r\n\t\r\n\tprivate int B1 = 0;\r\n\tprivate int B2 = 2;\r\n\tprivate int B3 = 3;\r\n\tprivate int B4 = 8;\r\n\tprivate int B5 = 9;\r\n\tprivate int B6 = 11;\r\n\tprivate int B7 = 12;\r\n\tprivate int B8 = 17;\r\n\r\n\t\r\n\tprivate  ArrayList&lt;Integer&gt; arreglo_posiciones = new ArrList&lt;Integer&gt;();\r\n\r\n\t\r\n\tpublic Ejecutar() {\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tpublic void cargarArregloPosiciones() {\t\r\n\t\tthis.arreglo_posiciones.add(this.B1);\r\n\t\tthis.arreglo_posiciones.add(this.B2);\r\n\t\tthis.arreglo_posiciones.add(this.B3);\r\n\t\tthis.arreglo_posiciones.add(this.B4);\r\n\t\tthis.arreglo_posiciones.add(this.B5);\r\n\t\tthis.arreglo_posiciones.add(this.B6);\r\n\t\tthis.arreglo_posiciones.add(this.B7);\r\n\t\tthis.arreglo_posiciones.add(this.B8); \r\n\t}\r\n\r\n}\r\n\t\r\n```\r\n\r\n\r\nI want to add these variables with some kind of loop without the need to add them line by line","title":"How can I add these variables that share almost the same name without the need to add them line by line?","body":"<p>This is the class where I declare several INT variables that contain positions and then add them into an arraylist but I would like to do it in some kind of loop and not add line by line</p>\n<pre><code>class Ejecutar {\n\n    \n    private int B1 = 0;\n    private int B2 = 2;\n    private int B3 = 3;\n    private int B4 = 8;\n    private int B5 = 9;\n    private int B6 = 11;\n    private int B7 = 12;\n    private int B8 = 17;\n\n    \n    private  ArrayList&lt;Integer&gt; arreglo_posiciones = new ArrList&lt;Integer&gt;();\n\n    \n    public Ejecutar() {\n        \n    }\n    \n    \n    public void cargarArregloPosiciones() { \n        this.arreglo_posiciones.add(this.B1);\n        this.arreglo_posiciones.add(this.B2);\n        this.arreglo_posiciones.add(this.B3);\n        this.arreglo_posiciones.add(this.B4);\n        this.arreglo_posiciones.add(this.B5);\n        this.arreglo_posiciones.add(this.B6);\n        this.arreglo_posiciones.add(this.B7);\n        this.arreglo_posiciones.add(this.B8); \n    }\n\n}\n    \n</code></pre>\n<p>I want to add these variables with some kind of loop without the need to add them line by line</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9129,"page":863,"page_size":100}
