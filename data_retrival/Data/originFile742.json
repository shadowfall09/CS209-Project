{"items":[{"tags":["java","android","google-maps","debugging","google-directions-api"],"owner":{"account_id":7533282,"reputation":1,"user_id":5720587,"display_name":"ALIBABATRAVEL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673319989,"creation_date":1673319582,"question_id":75065021,"body_markdown":"I&#39;m trying to make an app with places and directions I have done that but after 1 or 2 direction calls I just get onFailure: timeout and nothing shows on the screen. I am using firebase for markers but that&#39;s not the issue also the marker changes to another marker when using direction and even that isn&#39;t working anymore any help would be greatly appreciated\r\n\r\neverything works but you have to wait like 5 seconds each time you make a routes but that might be the emulator but after 1 or 2 routes it says onFailure: timeout I was expecting it to work as i was following a tutorial but morphing it into my app\r\n\r\nIt works [it works](https://i.stack.imgur.com/gfywj.png) then \r\n\r\nit doesn&#39;t [then it doesnt](https://i.stack.imgur.com/8apjD.png)\r\n\r\nthis error also only sometimes happens some times I can do a lot of trips and I can re click on it and try doing the direction again and sometimes that works it&#39;s really weird \r\n\r\nMap Activity\r\n\r\n```\r\npackage au.com.tutorialmaps;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.inputmethod.InputMethodManager;\r\nimport android.widget.AutoCompleteTextView;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport com.google.android.gms.common.api.Status;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MapStyleOptions;\r\nimport com.google.android.gms.maps.model.Marker;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.gms.maps.model.Polyline;\r\nimport com.google.android.gms.maps.model.PolylineOptions;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.libraries.places.api.Places;\r\nimport com.google.android.libraries.places.api.model.Place;\r\nimport com.google.android.libraries.places.api.net.PlacesClient;\r\nimport com.google.android.libraries.places.widget.Autocomplete;\r\nimport com.google.android.libraries.places.widget.AutocompleteActivity;\r\nimport com.google.android.libraries.places.widget.model.AutocompleteActivityMode;\r\nimport com.google.firebase.firestore.CollectionReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\nimport com.google.firebase.firestore.GeoPoint;\r\nimport com.google.firebase.firestore.Query;\r\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\r\nimport com.google.firebase.firestore.QuerySnapshot;\r\nimport com.google.maps.DirectionsApiRequest;\r\nimport com.google.maps.GeoApiContext;\r\nimport com.google.maps.PendingResult;\r\nimport com.google.maps.android.SphericalUtil;\r\nimport com.google.maps.internal.PolylineEncoding;\r\nimport com.google.maps.model.DirectionsResult;\r\nimport com.google.maps.model.DirectionsRoute;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\n\r\n\r\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback, GoogleMap.OnPolylineClickListener {\r\n\r\n\r\n    @SuppressLint({&quot;SuspiciousIndentation&quot;, &quot;PotentialBehaviorOverride&quot;})\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        Toast.makeText(this, &quot;Map is Ready&quot;, Toast.LENGTH_SHORT).show();\r\n        Log.d(TAG, &quot;onMapReady: map is ready&quot;);\r\n        mMap = googleMap;\r\n\r\n        if (mLocationPermissionsGranted) {\r\n            getDeviceLocation();\r\n\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\r\n                    != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this,\r\n                    Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                return;\r\n            }\r\n\r\n            mMap.setMyLocationEnabled(true);\r\n            mMap.getUiSettings().setMyLocationButtonEnabled(false);\r\n            mMap.getUiSettings().setZoomControlsEnabled(true);\r\n            mMap.getUiSettings().setZoomGesturesEnabled(true);\r\n            mMap.isBuildingsEnabled();\r\n            mMap.setOnPolylineClickListener(this);\r\n\r\n\r\n\r\n\r\n\r\n            init();\r\n            //mMap.setInfoWindowAdapter(new CustomInfoViewAdapter(this));\r\n\r\n            CollectionReference shrinesRef = db.collection(&quot;Shrines&quot;);\r\n            Query shrine = shrinesRef.whereEqualTo(&quot;isShrine&quot;, true);\r\n\r\n            shrine.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        for (QueryDocumentSnapshot document : task.getResult()) {\r\n                            Log.i(TAG, Objects.requireNonNull(document.getData().get(&quot;LatLing&quot;)).toString());\r\n                            GeoPoint geoPoint = document.getGeoPoint(&quot;LatLing&quot;);\r\n                            String name = document.getString(&quot;Name&quot;);\r\n                            String description = document.getString(&quot;Description&quot;);\r\n                            if (geoPoint != null &amp;&amp; name != null) {\r\n                                LatLng latLng = new LatLng(geoPoint.getLatitude(), geoPoint.getLongitude());\r\n                                Log.i(TAG, &quot;the latLing is   &quot; + latLng);\r\n                                Log.i(TAG, &quot;the name is   &quot; + name);\r\n                                Log.i(TAG, &quot;the description is   &quot; + description);\r\n                                 firebaseMarker = mMap.addMarker(new MarkerOptions()\r\n                                        .position(latLng)\r\n                                        .title(name)\r\n                                        .snippet(description)\r\n                                         );\r\n\r\n\r\n                            }\r\n                        }\r\n                    }else{\r\n                        Log.w(TAG, &quot;Error getting documents&quot;, task.getException());\r\n                    }\r\n                }\r\n            });\r\n\r\n            mMap.setOnInfoWindowLongClickListener(new GoogleMap.OnInfoWindowLongClickListener() {\r\n                @Override\r\n                public void onInfoWindowLongClick(@NonNull Marker marker) {\r\n\r\n                    final AlertDialog.Builder builder = new AlertDialog.Builder(MapActivity.this);\r\n                    builder.setMessage(&quot;More Info or Directions?&quot;)\r\n                            .setCancelable(true)\r\n                            .setPositiveButton(&quot;Directions&quot;, (dialog, id) -&gt; {\r\n                                mSelectedMarker = marker;\r\n                                calculateDirections(mSelectedMarker);\r\n                                dialog.dismiss();\r\n                            })\r\n                            .setNegativeButton(&quot;More Info&quot;, (dialog, id) -&gt; {\r\n                                dialog.dismiss();\r\n                            });\r\n                    final AlertDialog alert = builder.create();\r\n                    alert.show();\r\n\r\n\r\n                }\r\n           });\r\n\r\n        }\r\n    }\r\n\r\n    private void addPolylinesToMap(final DirectionsResult result){\r\n        new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Log.d(TAG, &quot;run: result routes: &quot; + result.routes.length);\r\n                if (mPolylinesData.size() &gt; 0){\r\n                    for (PolylineData polylineData : mPolylinesData){\r\n                        polylineData.getPolyline().remove();\r\n                    }\r\n                    mPolylinesData.clear();\r\n                    mPolylinesData = new ArrayList&lt;&gt;();\r\n                }\r\n                double duration = 999999999;\r\n                for(DirectionsRoute route: result.routes){\r\n                    Log.d(TAG, &quot;run: leg: &quot; + route.legs[0].toString());\r\n                    List&lt;com.google.maps.model.LatLng&gt; decodedPath = PolylineEncoding.decode(route.overviewPolyline.getEncodedPath());\r\n\r\n                    List&lt;LatLng&gt; newDecodedPath = new ArrayList&lt;&gt;();\r\n\r\n                    // This loops through all the LatLng coordinates of ONE polyline.\r\n                    for(com.google.maps.model.LatLng latLng: decodedPath){\r\n\r\n//                        Log.d(TAG, &quot;run: latlng: &quot; + latLng.toString());\r\n\r\n                        newDecodedPath.add(new LatLng(\r\n                                latLng.lat,\r\n                                latLng.lng\r\n                        ));\r\n                    }\r\n                    Polyline polyline = mMap.addPolyline(new PolylineOptions().addAll(newDecodedPath));\r\n                    polyline.setColor(ContextCompat.getColor(MapActivity.this, R.color.grey));\r\n                    polyline.setClickable(true);\r\n                    mPolylinesData.add(new PolylineData(polyline, route.legs[0]));\r\n                    onPolylineClick(polyline);\r\n                    double tempDuration = route.legs[0].duration.inSeconds;\r\n                    if (tempDuration &lt; duration) {\r\n                        duration = tempDuration;\r\n                        onPolylineClick(polyline);\r\n\r\n                    }\r\n                    mSelectedMarker.setVisible(false);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.map_types_menu, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()){\r\n            case R.id.normal:\r\n                mMap.setMapStyle(MapStyleOptions.loadRawResourceStyle(this, R.raw.daymap));\r\n                mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\r\n                break;\r\n            case R.id.hybrid:\r\n                mMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);\r\n                break;\r\n            case R.id.satellite:\r\n                mMap.setMapType(GoogleMap.MAP_TYPE_SATELLITE);\r\n                break;\r\n            case R.id.terrain:\r\n                mMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\r\n                break;\r\n            case R.id.normalnight:\r\n                mMap.setMapStyle(MapStyleOptions.loadRawResourceStyle(this, R.raw.nightmap));\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    private static final String TAG = &quot;MapActivity&quot;;\r\n\r\n    private static final String FINE_LOCATION = Manifest.permission.ACCESS_FINE_LOCATION;\r\n    private static final String COURSE_LOCATION = Manifest.permission.ACCESS_COARSE_LOCATION;\r\n    private static final int LOCATION_PERMISSION_REQUEST_CODE = 1234;\r\n    private static final float DEFAULT_ZOOM = 7f;\r\n\r\n    //widgets\r\n    private AutoCompleteTextView mSearchText;\r\n    private ImageView mGps;\r\n    private Button mSRearchFiller;\r\n\r\n    //vars\r\n    private Boolean mLocationPermissionsGranted = false;\r\n    private GoogleMap mMap;\r\n    private FusedLocationProviderClient mFusedLocationProviderClient;\r\n    private PlacesClient mplacesclient;\r\n    private Autocomplete autocomplete;\r\n    private static int AUTOCOMPLETE_REQUEST_CODE = 1079;\r\n    private FirebaseFirestore db;\r\n    private GeoApiContext mGeoApiContext = null;\r\n    private Location userCurrentLocation;\r\n    private Marker firebaseMarker;\r\n    private ArrayList&lt;PolylineData&gt; mPolylinesData = new ArrayList&lt;&gt;();\r\n    private Marker mSelectedMarker = null;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_maps);\r\n        mSRearchFiller = (Button) findViewById(R.id.btn2);\r\n        mGps = (ImageView) findViewById(R.id.ic_gps);\r\n        Places.initialize(getApplicationContext(), &quot;AIzaSyDa-r-kB83q9XM0CjCaRx7uQqSeSxs-m0Q&quot;);\r\n        PlacesClient placesClient = Places.createClient(this);\r\n        FirebaseFirestore firestore = FirebaseFirestore.getInstance();\r\n        db = firestore;\r\n\r\n        getLocationPermission();\r\n\r\n\r\n        CollectionReference shrinesRef = firestore.collection(&quot;Shrines&quot;);\r\n\r\n// Create a query against the collection.\r\n        Query query = shrinesRef.whereEqualTo(&quot;Name&quot;, &quot;Imam Ali&quot;);\r\n\r\n\r\n\r\n    }\r\n\r\n    public void startAutocompleteActivity(View view) {\r\n        // Start the autocomplete intent.\r\n        Intent intent = new Autocomplete.IntentBuilder(AutocompleteActivityMode.OVERLAY, Arrays.asList(Place.Field.ID, Place.Field.NAME))\r\n                .setCountries(Arrays.asList(&quot;IQ&quot;))\r\n                .build(this);\r\n\r\n        startActivityForResult(intent, AUTOCOMPLETE_REQUEST_CODE);\r\n\r\n    }\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == AUTOCOMPLETE_REQUEST_CODE) {\r\n            if (resultCode == RESULT_OK) {\r\n                Place place = Autocomplete.getPlaceFromIntent(data);\r\n                Log.i(TAG, &quot;Place:&quot;+ place.getName() + &quot;, &quot; + place.getId());\r\n                LatLng placelatling = place.getLatLng();\r\n                String placetitle = place.getName();\r\n                moveCamera(placelatling, DEFAULT_ZOOM, placetitle);\r\n            }else if (resultCode == AutocompleteActivity.RESULT_ERROR){\r\n                Status status = Autocomplete.getStatusFromIntent(data);\r\n                Log.i(TAG, status.getStatusMessage());\r\n            }else if (resultCode == RESULT_CANCELED) {\r\n                // user has cancelled do nothing\r\n            }\r\n        }\r\n    }\r\n\r\n    private void init(){\r\n        Log.d(TAG, &quot;init: initializing&quot;);\r\n\r\n\r\n        mGps.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Log.d(TAG, &quot;onClick: clicked gps icon&quot;);\r\n                getDeviceLocation();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n    private void getDeviceLocation(){\r\n        Log.d(TAG, &quot;getDeviceLocation: getting the devices current location&quot;);\r\n\r\n        mFusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n        try{\r\n            if(mLocationPermissionsGranted){\r\n\r\n                final Task&lt;Location&gt; location = mFusedLocationProviderClient.getLastLocation();\r\n                location.addOnCompleteListener(new OnCompleteListener() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task task) {\r\n                        if(task.isSuccessful()){\r\n                            Log.d(TAG, &quot;onComplete: found location!&quot;);\r\n                            Location currentLocation = (Location) task.getResult();\r\n                            userCurrentLocation = currentLocation;\r\n\r\n                            moveCamera(new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude()),\r\n                                    DEFAULT_ZOOM,\r\n                                    &quot;My Location&quot;);\r\n\r\n                        }else{\r\n                            Log.d(TAG, &quot;onComplete: current location is null&quot;);\r\n                            Toast.makeText(MapActivity.this, &quot;unable to get current location&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }catch (SecurityException e){\r\n            Log.e(TAG, &quot;getDeviceLocation: SecurityException: &quot; + e.getMessage() );\r\n        }\r\n    }\r\n\r\n    private void moveCamera(LatLng latLng, float zoom, String title){\r\n        Log.d(TAG, &quot;moveCamera: moving the camera to: lat: &quot; + latLng.latitude + &quot;, lng: &quot; + latLng.longitude );\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, zoom));\r\n\r\n\r\n        if(!title.equals(&quot;My Location&quot;)){\r\n            MarkerOptions options = new MarkerOptions()\r\n                    .position(latLng)\r\n                    .title(title);\r\n            mMap.addMarker(options);\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void initMap(){\r\n        Log.d(TAG, &quot;initMap: initializing map&quot;);\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\r\n\r\n        mapFragment.getMapAsync(MapActivity.this);\r\n        if (mGeoApiContext == null){\r\n            mGeoApiContext = new GeoApiContext.Builder()\r\n                    .apiKey(&quot;AIzaSyAmytqSCGeWxEQMOAeI6SB7nPNH8UayubA&quot;)\r\n                    .build();\r\n        }\r\n    }\r\n\r\n    private void getLocationPermission(){\r\n        Log.d(TAG, &quot;getLocationPermission: getting location permissions&quot;);\r\n        String[] permissions = {Manifest.permission.ACCESS_FINE_LOCATION,\r\n                Manifest.permission.ACCESS_COARSE_LOCATION};\r\n\r\n        if(ContextCompat.checkSelfPermission(this.getApplicationContext(),\r\n                FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){\r\n            if(ContextCompat.checkSelfPermission(this.getApplicationContext(),\r\n                    COURSE_LOCATION) == PackageManager.PERMISSION_GRANTED){\r\n                mLocationPermissionsGranted = true;\r\n                initMap();\r\n            }else{\r\n                ActivityCompat.requestPermissions(this,\r\n                        permissions,\r\n                        LOCATION_PERMISSION_REQUEST_CODE);\r\n            }\r\n        }else{\r\n            ActivityCompat.requestPermissions(this,\r\n                    permissions,\r\n                    LOCATION_PERMISSION_REQUEST_CODE);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        Log.d(TAG, &quot;onRequestPermissionsResult: called.&quot;);\r\n        mLocationPermissionsGranted = false;\r\n\r\n        switch (requestCode) {\r\n            case LOCATION_PERMISSION_REQUEST_CODE: {\r\n                if (grantResults.length &gt; 0) {\r\n                    for (int i = 0; i &lt; grantResults.length; i++) {\r\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\r\n                            mLocationPermissionsGranted = false;\r\n                            Log.d(TAG, &quot;onRequestPermissionsResult: permission failed&quot;);\r\n                            return;\r\n                        }\r\n                    }\r\n                    Log.d(TAG, &quot;onRequestPermissionsResult: permission granted&quot;);\r\n                    mLocationPermissionsGranted = true;\r\n                    //initialize our map\r\n                    initMap();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private void hideSoftKeyboard(){\r\n        View view = this.getCurrentFocus();\r\n        if (view != null) {\r\n            InputMethodManager imm = (InputMethodManager)getSystemService(MapActivity.INPUT_METHOD_SERVICE);\r\n            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    private void calculateDirections(Marker marker){\r\n        Log.d(TAG, &quot;calculateDirections: calculating directions.&quot;);\r\n\r\n        com.google.maps.model.LatLng destination = new com.google.maps.model.LatLng(\r\n                marker.getPosition().latitude,\r\n                marker.getPosition().longitude\r\n        );\r\n        DirectionsApiRequest directions = new DirectionsApiRequest(mGeoApiContext);\r\n\r\n        directions.alternatives(true);\r\n        directions.origin(\r\n                new com.google.maps.model.LatLng(\r\n                        userCurrentLocation.getLatitude(),\r\n                        userCurrentLocation.getLongitude()\r\n                )\r\n        );\r\n        Log.d(TAG, &quot;calculateDirections: destination: &quot; + destination.toString());\r\n        directions.destination(destination).setCallback(new PendingResult.Callback&lt;DirectionsResult&gt;() {\r\n            @Override\r\n            public void onResult(DirectionsResult result) {\r\n                Log.d(TAG, &quot;onResult: routes: &quot; + result.routes[0].toString());\r\n                Log.d(TAG, &quot;onResult: geocodedWayPoints: &quot; + result.geocodedWaypoints[0].toString());\r\n\r\n                addPolylinesToMap(result);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable e) {\r\n                Log.e(TAG, &quot;onFailure: &quot; + e.getMessage() );\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onPolylineClick(@NonNull Polyline polyline) {\r\n        int index = 0;\r\n        for(PolylineData polylineData: mPolylinesData){\r\n            index++;\r\n            Log.d(TAG, &quot;onPolylineClick: toString: &quot; + polylineData.toString());\r\n            if(polyline.getId().equals(polylineData.getPolyline().getId())){\r\n                polylineData.getPolyline().setColor(ContextCompat.getColor(MapActivity.this, com.google.android.libraries.places.R.color.quantum_googblue));\r\n                polylineData.getPolyline().setZIndex(1);\r\n\r\n                LatLng endLocation = new LatLng(\r\n                        polylineData.getLeg().endLocation.lat,\r\n                        polylineData.getLeg().endLocation.lng\r\n                );\r\n\r\n                    Marker marker = mMap.addMarker(new MarkerOptions()\r\n                            .position(endLocation)\r\n                            .title(&quot;Trip: #&quot; + index)\r\n                            .snippet(&quot;Duration: &quot; + polylineData.getLeg().duration)\r\n                    );\r\n                    marker.showInfoWindow();\r\n\r\n            }\r\n            else{\r\n                polylineData.getPolyline().setColor(ContextCompat.getColor(MapActivity.this, R.color.grey));\r\n                polylineData.getPolyline().setZIndex(0);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"onFailure: timeout after making 1 or 2 direction requests","body":"<p>I'm trying to make an app with places and directions I have done that but after 1 or 2 direction calls I just get onFailure: timeout and nothing shows on the screen. I am using firebase for markers but that's not the issue also the marker changes to another marker when using direction and even that isn't working anymore any help would be greatly appreciated</p>\n<p>everything works but you have to wait like 5 seconds each time you make a routes but that might be the emulator but after 1 or 2 routes it says onFailure: timeout I was expecting it to work as i was following a tutorial but morphing it into my app</p>\n<p>It works <a href=\"https://i.stack.imgur.com/gfywj.png\" rel=\"nofollow noreferrer\">it works</a> then</p>\n<p>it doesn't <a href=\"https://i.stack.imgur.com/8apjD.png\" rel=\"nofollow noreferrer\">then it doesnt</a></p>\n<p>this error also only sometimes happens some times I can do a lot of trips and I can re click on it and try doing the direction again and sometimes that works it's really weird</p>\n<p>Map Activity</p>\n<pre><code>package au.com.tutorialmaps;\n\nimport android.Manifest;\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.location.Location;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.inputmethod.InputMethodManager;\nimport android.widget.AutoCompleteTextView;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport com.google.android.gms.common.api.Status;\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MapStyleOptions;\nimport com.google.android.gms.maps.model.Marker;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.gms.maps.model.Polyline;\nimport com.google.android.gms.maps.model.PolylineOptions;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.libraries.places.api.Places;\nimport com.google.android.libraries.places.api.model.Place;\nimport com.google.android.libraries.places.api.net.PlacesClient;\nimport com.google.android.libraries.places.widget.Autocomplete;\nimport com.google.android.libraries.places.widget.AutocompleteActivity;\nimport com.google.android.libraries.places.widget.model.AutocompleteActivityMode;\nimport com.google.firebase.firestore.CollectionReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\nimport com.google.firebase.firestore.GeoPoint;\nimport com.google.firebase.firestore.Query;\nimport com.google.firebase.firestore.QueryDocumentSnapshot;\nimport com.google.firebase.firestore.QuerySnapshot;\nimport com.google.maps.DirectionsApiRequest;\nimport com.google.maps.GeoApiContext;\nimport com.google.maps.PendingResult;\nimport com.google.maps.android.SphericalUtil;\nimport com.google.maps.internal.PolylineEncoding;\nimport com.google.maps.model.DirectionsResult;\nimport com.google.maps.model.DirectionsRoute;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Objects;\n\n\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback, GoogleMap.OnPolylineClickListener {\n\n\n    @SuppressLint({&quot;SuspiciousIndentation&quot;, &quot;PotentialBehaviorOverride&quot;})\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        Toast.makeText(this, &quot;Map is Ready&quot;, Toast.LENGTH_SHORT).show();\n        Log.d(TAG, &quot;onMapReady: map is ready&quot;);\n        mMap = googleMap;\n\n        if (mLocationPermissionsGranted) {\n            getDeviceLocation();\n\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION)\n                    != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this,\n                    Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                return;\n            }\n\n            mMap.setMyLocationEnabled(true);\n            mMap.getUiSettings().setMyLocationButtonEnabled(false);\n            mMap.getUiSettings().setZoomControlsEnabled(true);\n            mMap.getUiSettings().setZoomGesturesEnabled(true);\n            mMap.isBuildingsEnabled();\n            mMap.setOnPolylineClickListener(this);\n\n\n\n\n\n            init();\n            //mMap.setInfoWindowAdapter(new CustomInfoViewAdapter(this));\n\n            CollectionReference shrinesRef = db.collection(&quot;Shrines&quot;);\n            Query shrine = shrinesRef.whereEqualTo(&quot;isShrine&quot;, true);\n\n            shrine.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        for (QueryDocumentSnapshot document : task.getResult()) {\n                            Log.i(TAG, Objects.requireNonNull(document.getData().get(&quot;LatLing&quot;)).toString());\n                            GeoPoint geoPoint = document.getGeoPoint(&quot;LatLing&quot;);\n                            String name = document.getString(&quot;Name&quot;);\n                            String description = document.getString(&quot;Description&quot;);\n                            if (geoPoint != null &amp;&amp; name != null) {\n                                LatLng latLng = new LatLng(geoPoint.getLatitude(), geoPoint.getLongitude());\n                                Log.i(TAG, &quot;the latLing is   &quot; + latLng);\n                                Log.i(TAG, &quot;the name is   &quot; + name);\n                                Log.i(TAG, &quot;the description is   &quot; + description);\n                                 firebaseMarker = mMap.addMarker(new MarkerOptions()\n                                        .position(latLng)\n                                        .title(name)\n                                        .snippet(description)\n                                         );\n\n\n                            }\n                        }\n                    }else{\n                        Log.w(TAG, &quot;Error getting documents&quot;, task.getException());\n                    }\n                }\n            });\n\n            mMap.setOnInfoWindowLongClickListener(new GoogleMap.OnInfoWindowLongClickListener() {\n                @Override\n                public void onInfoWindowLongClick(@NonNull Marker marker) {\n\n                    final AlertDialog.Builder builder = new AlertDialog.Builder(MapActivity.this);\n                    builder.setMessage(&quot;More Info or Directions?&quot;)\n                            .setCancelable(true)\n                            .setPositiveButton(&quot;Directions&quot;, (dialog, id) -&gt; {\n                                mSelectedMarker = marker;\n                                calculateDirections(mSelectedMarker);\n                                dialog.dismiss();\n                            })\n                            .setNegativeButton(&quot;More Info&quot;, (dialog, id) -&gt; {\n                                dialog.dismiss();\n                            });\n                    final AlertDialog alert = builder.create();\n                    alert.show();\n\n\n                }\n           });\n\n        }\n    }\n\n    private void addPolylinesToMap(final DirectionsResult result){\n        new Handler(Looper.getMainLooper()).post(new Runnable() {\n            @Override\n            public void run() {\n                Log.d(TAG, &quot;run: result routes: &quot; + result.routes.length);\n                if (mPolylinesData.size() &gt; 0){\n                    for (PolylineData polylineData : mPolylinesData){\n                        polylineData.getPolyline().remove();\n                    }\n                    mPolylinesData.clear();\n                    mPolylinesData = new ArrayList&lt;&gt;();\n                }\n                double duration = 999999999;\n                for(DirectionsRoute route: result.routes){\n                    Log.d(TAG, &quot;run: leg: &quot; + route.legs[0].toString());\n                    List&lt;com.google.maps.model.LatLng&gt; decodedPath = PolylineEncoding.decode(route.overviewPolyline.getEncodedPath());\n\n                    List&lt;LatLng&gt; newDecodedPath = new ArrayList&lt;&gt;();\n\n                    // This loops through all the LatLng coordinates of ONE polyline.\n                    for(com.google.maps.model.LatLng latLng: decodedPath){\n\n//                        Log.d(TAG, &quot;run: latlng: &quot; + latLng.toString());\n\n                        newDecodedPath.add(new LatLng(\n                                latLng.lat,\n                                latLng.lng\n                        ));\n                    }\n                    Polyline polyline = mMap.addPolyline(new PolylineOptions().addAll(newDecodedPath));\n                    polyline.setColor(ContextCompat.getColor(MapActivity.this, R.color.grey));\n                    polyline.setClickable(true);\n                    mPolylinesData.add(new PolylineData(polyline, route.legs[0]));\n                    onPolylineClick(polyline);\n                    double tempDuration = route.legs[0].duration.inSeconds;\n                    if (tempDuration &lt; duration) {\n                        duration = tempDuration;\n                        onPolylineClick(polyline);\n\n                    }\n                    mSelectedMarker.setVisible(false);\n                }\n            }\n        });\n    }\n\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.map_types_menu, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()){\n            case R.id.normal:\n                mMap.setMapStyle(MapStyleOptions.loadRawResourceStyle(this, R.raw.daymap));\n                mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\n                break;\n            case R.id.hybrid:\n                mMap.setMapType(GoogleMap.MAP_TYPE_HYBRID);\n                break;\n            case R.id.satellite:\n                mMap.setMapType(GoogleMap.MAP_TYPE_SATELLITE);\n                break;\n            case R.id.terrain:\n                mMap.setMapType(GoogleMap.MAP_TYPE_TERRAIN);\n                break;\n            case R.id.normalnight:\n                mMap.setMapStyle(MapStyleOptions.loadRawResourceStyle(this, R.raw.nightmap));\n                break;\n        }\n        return true;\n    }\n\n    private static final String TAG = &quot;MapActivity&quot;;\n\n    private static final String FINE_LOCATION = Manifest.permission.ACCESS_FINE_LOCATION;\n    private static final String COURSE_LOCATION = Manifest.permission.ACCESS_COARSE_LOCATION;\n    private static final int LOCATION_PERMISSION_REQUEST_CODE = 1234;\n    private static final float DEFAULT_ZOOM = 7f;\n\n    //widgets\n    private AutoCompleteTextView mSearchText;\n    private ImageView mGps;\n    private Button mSRearchFiller;\n\n    //vars\n    private Boolean mLocationPermissionsGranted = false;\n    private GoogleMap mMap;\n    private FusedLocationProviderClient mFusedLocationProviderClient;\n    private PlacesClient mplacesclient;\n    private Autocomplete autocomplete;\n    private static int AUTOCOMPLETE_REQUEST_CODE = 1079;\n    private FirebaseFirestore db;\n    private GeoApiContext mGeoApiContext = null;\n    private Location userCurrentLocation;\n    private Marker firebaseMarker;\n    private ArrayList&lt;PolylineData&gt; mPolylinesData = new ArrayList&lt;&gt;();\n    private Marker mSelectedMarker = null;\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        mSRearchFiller = (Button) findViewById(R.id.btn2);\n        mGps = (ImageView) findViewById(R.id.ic_gps);\n        Places.initialize(getApplicationContext(), &quot;AIzaSyDa-r-kB83q9XM0CjCaRx7uQqSeSxs-m0Q&quot;);\n        PlacesClient placesClient = Places.createClient(this);\n        FirebaseFirestore firestore = FirebaseFirestore.getInstance();\n        db = firestore;\n\n        getLocationPermission();\n\n\n        CollectionReference shrinesRef = firestore.collection(&quot;Shrines&quot;);\n\n// Create a query against the collection.\n        Query query = shrinesRef.whereEqualTo(&quot;Name&quot;, &quot;Imam Ali&quot;);\n\n\n\n    }\n\n    public void startAutocompleteActivity(View view) {\n        // Start the autocomplete intent.\n        Intent intent = new Autocomplete.IntentBuilder(AutocompleteActivityMode.OVERLAY, Arrays.asList(Place.Field.ID, Place.Field.NAME))\n                .setCountries(Arrays.asList(&quot;IQ&quot;))\n                .build(this);\n\n        startActivityForResult(intent, AUTOCOMPLETE_REQUEST_CODE);\n\n    }\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == AUTOCOMPLETE_REQUEST_CODE) {\n            if (resultCode == RESULT_OK) {\n                Place place = Autocomplete.getPlaceFromIntent(data);\n                Log.i(TAG, &quot;Place:&quot;+ place.getName() + &quot;, &quot; + place.getId());\n                LatLng placelatling = place.getLatLng();\n                String placetitle = place.getName();\n                moveCamera(placelatling, DEFAULT_ZOOM, placetitle);\n            }else if (resultCode == AutocompleteActivity.RESULT_ERROR){\n                Status status = Autocomplete.getStatusFromIntent(data);\n                Log.i(TAG, status.getStatusMessage());\n            }else if (resultCode == RESULT_CANCELED) {\n                // user has cancelled do nothing\n            }\n        }\n    }\n\n    private void init(){\n        Log.d(TAG, &quot;init: initializing&quot;);\n\n\n        mGps.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Log.d(TAG, &quot;onClick: clicked gps icon&quot;);\n                getDeviceLocation();\n            }\n        });\n\n\n    }\n\n\n    private void getDeviceLocation(){\n        Log.d(TAG, &quot;getDeviceLocation: getting the devices current location&quot;);\n\n        mFusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n\n        try{\n            if(mLocationPermissionsGranted){\n\n                final Task&lt;Location&gt; location = mFusedLocationProviderClient.getLastLocation();\n                location.addOnCompleteListener(new OnCompleteListener() {\n                    @Override\n                    public void onComplete(@NonNull Task task) {\n                        if(task.isSuccessful()){\n                            Log.d(TAG, &quot;onComplete: found location!&quot;);\n                            Location currentLocation = (Location) task.getResult();\n                            userCurrentLocation = currentLocation;\n\n                            moveCamera(new LatLng(currentLocation.getLatitude(), currentLocation.getLongitude()),\n                                    DEFAULT_ZOOM,\n                                    &quot;My Location&quot;);\n\n                        }else{\n                            Log.d(TAG, &quot;onComplete: current location is null&quot;);\n                            Toast.makeText(MapActivity.this, &quot;unable to get current location&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                });\n            }\n        }catch (SecurityException e){\n            Log.e(TAG, &quot;getDeviceLocation: SecurityException: &quot; + e.getMessage() );\n        }\n    }\n\n    private void moveCamera(LatLng latLng, float zoom, String title){\n        Log.d(TAG, &quot;moveCamera: moving the camera to: lat: &quot; + latLng.latitude + &quot;, lng: &quot; + latLng.longitude );\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, zoom));\n\n\n        if(!title.equals(&quot;My Location&quot;)){\n            MarkerOptions options = new MarkerOptions()\n                    .position(latLng)\n                    .title(title);\n            mMap.addMarker(options);\n\n        }\n\n\n    }\n\n    private void initMap(){\n        Log.d(TAG, &quot;initMap: initializing map&quot;);\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager().findFragmentById(R.id.map);\n\n        mapFragment.getMapAsync(MapActivity.this);\n        if (mGeoApiContext == null){\n            mGeoApiContext = new GeoApiContext.Builder()\n                    .apiKey(&quot;AIzaSyAmytqSCGeWxEQMOAeI6SB7nPNH8UayubA&quot;)\n                    .build();\n        }\n    }\n\n    private void getLocationPermission(){\n        Log.d(TAG, &quot;getLocationPermission: getting location permissions&quot;);\n        String[] permissions = {Manifest.permission.ACCESS_FINE_LOCATION,\n                Manifest.permission.ACCESS_COARSE_LOCATION};\n\n        if(ContextCompat.checkSelfPermission(this.getApplicationContext(),\n                FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){\n            if(ContextCompat.checkSelfPermission(this.getApplicationContext(),\n                    COURSE_LOCATION) == PackageManager.PERMISSION_GRANTED){\n                mLocationPermissionsGranted = true;\n                initMap();\n            }else{\n                ActivityCompat.requestPermissions(this,\n                        permissions,\n                        LOCATION_PERMISSION_REQUEST_CODE);\n            }\n        }else{\n            ActivityCompat.requestPermissions(this,\n                    permissions,\n                    LOCATION_PERMISSION_REQUEST_CODE);\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        Log.d(TAG, &quot;onRequestPermissionsResult: called.&quot;);\n        mLocationPermissionsGranted = false;\n\n        switch (requestCode) {\n            case LOCATION_PERMISSION_REQUEST_CODE: {\n                if (grantResults.length &gt; 0) {\n                    for (int i = 0; i &lt; grantResults.length; i++) {\n                        if (grantResults[i] != PackageManager.PERMISSION_GRANTED) {\n                            mLocationPermissionsGranted = false;\n                            Log.d(TAG, &quot;onRequestPermissionsResult: permission failed&quot;);\n                            return;\n                        }\n                    }\n                    Log.d(TAG, &quot;onRequestPermissionsResult: permission granted&quot;);\n                    mLocationPermissionsGranted = true;\n                    //initialize our map\n                    initMap();\n                }\n            }\n        }\n    }\n\n\n    private void hideSoftKeyboard(){\n        View view = this.getCurrentFocus();\n        if (view != null) {\n            InputMethodManager imm = (InputMethodManager)getSystemService(MapActivity.INPUT_METHOD_SERVICE);\n            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n        }\n    }\n\n\n\n    private void calculateDirections(Marker marker){\n        Log.d(TAG, &quot;calculateDirections: calculating directions.&quot;);\n\n        com.google.maps.model.LatLng destination = new com.google.maps.model.LatLng(\n                marker.getPosition().latitude,\n                marker.getPosition().longitude\n        );\n        DirectionsApiRequest directions = new DirectionsApiRequest(mGeoApiContext);\n\n        directions.alternatives(true);\n        directions.origin(\n                new com.google.maps.model.LatLng(\n                        userCurrentLocation.getLatitude(),\n                        userCurrentLocation.getLongitude()\n                )\n        );\n        Log.d(TAG, &quot;calculateDirections: destination: &quot; + destination.toString());\n        directions.destination(destination).setCallback(new PendingResult.Callback&lt;DirectionsResult&gt;() {\n            @Override\n            public void onResult(DirectionsResult result) {\n                Log.d(TAG, &quot;onResult: routes: &quot; + result.routes[0].toString());\n                Log.d(TAG, &quot;onResult: geocodedWayPoints: &quot; + result.geocodedWaypoints[0].toString());\n\n                addPolylinesToMap(result);\n            }\n\n            @Override\n            public void onFailure(Throwable e) {\n                Log.e(TAG, &quot;onFailure: &quot; + e.getMessage() );\n\n            }\n        });\n    }\n\n\n    @Override\n    public void onPolylineClick(@NonNull Polyline polyline) {\n        int index = 0;\n        for(PolylineData polylineData: mPolylinesData){\n            index++;\n            Log.d(TAG, &quot;onPolylineClick: toString: &quot; + polylineData.toString());\n            if(polyline.getId().equals(polylineData.getPolyline().getId())){\n                polylineData.getPolyline().setColor(ContextCompat.getColor(MapActivity.this, com.google.android.libraries.places.R.color.quantum_googblue));\n                polylineData.getPolyline().setZIndex(1);\n\n                LatLng endLocation = new LatLng(\n                        polylineData.getLeg().endLocation.lat,\n                        polylineData.getLeg().endLocation.lng\n                );\n\n                    Marker marker = mMap.addMarker(new MarkerOptions()\n                            .position(endLocation)\n                            .title(&quot;Trip: #&quot; + index)\n                            .snippet(&quot;Duration: &quot; + polylineData.getLeg().duration)\n                    );\n                    marker.showInfoWindow();\n\n            }\n            else{\n                polylineData.getPolyline().setColor(ContextCompat.getColor(MapActivity.this, R.color.grey));\n                polylineData.getPolyline().setZIndex(0);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1673318171,"post_id":75064848,"comment_id":132466954,"body_markdown":"`distinctByKey` only executes once because it is only called once, when you pass the result to `filter`. It&#39;s the `Predicate` (implemented by a lambda in your code) that gets executed for each element in the stream. And that&#39;s also why `Set&lt;Object&gt; seen = ...` only gets executed once, because it&#39;s in `distinctByKey` but **not** in the lambda. Which also means your `Predicate` is **not** stateless.","body":"<code>distinctByKey</code> only executes once because it is only called once, when you pass the result to <code>filter</code>. It&#39;s the <code>Predicate</code> (implemented by a lambda in your code) that gets executed for each element in the stream. And that&#39;s also why <code>Set&lt;Object&gt; seen = ...</code> only gets executed once, because it&#39;s in <code>distinctByKey</code> but <b>not</b> in the lambda. Which also means your <code>Predicate</code> is <b>not</b> stateless."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1673337932,"post_id":75064848,"comment_id":132470288,"body_markdown":"Both, the builtin `distinct()` and this `distinctByKey` are stateful. However, the latter depends on external state, as the Stream has no knowledge of the `ConcurrentHashMap`. As a consequence, the builtin `distinct()` will respect encounter order and pick the first one of duplicates, whereas this `distinctByKey` can not make such guaranty.","body":"Both, the builtin <code>distinct()</code> and this <code>distinctByKey</code> are stateful. However, the latter depends on external state, as the Stream has no knowledge of the <code>ConcurrentHashMap</code>. As a consequence, the builtin <code>distinct()</code> will respect encounter order and pick the first one of duplicates, whereas this <code>distinctByKey</code> can not make such guaranty."}],"answers":[{"tags":[],"owner":{"account_id":2962536,"reputation":2218,"user_id":7330729,"display_name":"Dmitry Gorkovets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673319802,"creation_date":1673319802,"answer_id":75065039,"question_id":75064848,"body_markdown":"If you want to distinct by key you can use trick with wrapper. Java stream API does not provide way to distinct by custom rule, it relies in equals() and hashCode() methods of your class.\r\n\r\nIf we want to use custom distinction then we can create wrapper class where we can override given methods:\r\n\r\n```\r\npublic class Sample {\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    private static class UserInfo {\r\n        private int id;\r\n        private String name;\r\n    }\r\n\r\n    @AllArgsConstructor\r\n    private static class UserInfoWrapper {\r\n        private UserInfo userInfo;\r\n\r\n        public static UserInfoWrapper wrap(UserInfo userInfo) {\r\n            return new UserInfoWrapper(userInfo);\r\n        }\r\n\r\n        public UserInfo unwrap() {\r\n            return userInfo;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(final Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            final UserInfoWrapper that = (UserInfoWrapper) o;\r\n            return Objects.equals(userInfo.id, that.userInfo.id);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(userInfo.id);\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        List&lt;UserInfo&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(new UserInfo(1, &quot;a&quot;));\r\n        list.add(new UserInfo(2, &quot;b&quot;));\r\n        list.add(new UserInfo(2, &quot;c&quot;));\r\n        List&lt;UserInfo&gt; result = list.stream()\r\n                .map(UserInfoWrapper::wrap)\r\n                .distinct()\r\n                .map(UserInfoWrapper::unwrap)\r\n                .collect(Collectors.toList());\r\n        System.out.println(result);\r\n\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\n[Sample.UserInfo(id=1, name=a), Sample.UserInfo(id=2, name=b)]\r\n```\r\n\r\nAnd it will be definitely pure stateless solution.","title":"How does this java stream code [distinctByKey] executes and is it stateless?","body":"<p>If you want to distinct by key you can use trick with wrapper. Java stream API does not provide way to distinct by custom rule, it relies in equals() and hashCode() methods of your class.</p>\n<p>If we want to use custom distinction then we can create wrapper class where we can override given methods:</p>\n<pre><code>public class Sample {\n\n    @Data\n    @NoArgsConstructor\n    @AllArgsConstructor\n    private static class UserInfo {\n        private int id;\n        private String name;\n    }\n\n    @AllArgsConstructor\n    private static class UserInfoWrapper {\n        private UserInfo userInfo;\n\n        public static UserInfoWrapper wrap(UserInfo userInfo) {\n            return new UserInfoWrapper(userInfo);\n        }\n\n        public UserInfo unwrap() {\n            return userInfo;\n        }\n\n        @Override\n        public boolean equals(final Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            final UserInfoWrapper that = (UserInfoWrapper) o;\n            return Objects.equals(userInfo.id, that.userInfo.id);\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(userInfo.id);\n        }\n    }\n\n\n    public static void main(String[] args) {\n\n        List&lt;UserInfo&gt; list = new ArrayList&lt;&gt;();\n        list.add(new UserInfo(1, &quot;a&quot;));\n        list.add(new UserInfo(2, &quot;b&quot;));\n        list.add(new UserInfo(2, &quot;c&quot;));\n        List&lt;UserInfo&gt; result = list.stream()\n                .map(UserInfoWrapper::wrap)\n                .distinct()\n                .map(UserInfoWrapper::unwrap)\n                .collect(Collectors.toList());\n        System.out.println(result);\n\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>[Sample.UserInfo(id=1, name=a), Sample.UserInfo(id=2, name=b)]\n</code></pre>\n<p>And it will be definitely pure stateless solution.</p>\n"}],"owner":{"account_id":22016374,"reputation":31,"user_id":16285798,"display_name":"phantomsee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673319802,"creation_date":1673317481,"question_id":75064848,"body_markdown":"I want to distinct a list by primary key, and why does `Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();` executes only once and `seen.add(keyExtractor.apply(t));` executes for every element in the list?  \r\nAnd is the method `distinctByKey` stateless?\r\n```\r\npublic static void main(String[] args) {\r\n\tList&lt;UserInfo&gt; list = new ArrayList&lt;&gt;();\r\n\tlist.add(new UserInfo(1, &quot;a&quot;));\r\n\tlist.add(new UserInfo(2, &quot;b&quot;));\r\n\tlist.add(new UserInfo(2, &quot;c&quot;));\r\n\tList&lt;UserInfo&gt; result = list.stream()\r\n\t\t\t.filter(distinctByKey(userInfo -&gt; userInfo.id))\r\n\t\t\t.collect(Collectors.toList());\r\n\tSystem.out.println(result);\r\n}\r\n\r\nprivate static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) {\r\n\tSet&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();\r\n\treturn (t) -&gt; {\r\n\t\treturn seen.add(keyExtractor.apply(t));\r\n\t};\r\n}\r\n\r\n```","title":"How does this java stream code [distinctByKey] executes and is it stateless?","body":"<p>I want to distinct a list by primary key, and why does <code>Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();</code> executes only once and <code>seen.add(keyExtractor.apply(t));</code> executes for every element in the list?<br />\nAnd is the method <code>distinctByKey</code> stateless?</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;UserInfo&gt; list = new ArrayList&lt;&gt;();\n    list.add(new UserInfo(1, &quot;a&quot;));\n    list.add(new UserInfo(2, &quot;b&quot;));\n    list.add(new UserInfo(2, &quot;c&quot;));\n    List&lt;UserInfo&gt; result = list.stream()\n            .filter(distinctByKey(userInfo -&gt; userInfo.id))\n            .collect(Collectors.toList());\n    System.out.println(result);\n}\n\nprivate static &lt;T&gt; Predicate&lt;T&gt; distinctByKey(Function&lt;? super T, ?&gt; keyExtractor) {\n    Set&lt;Object&gt; seen = ConcurrentHashMap.newKeySet();\n    return (t) -&gt; {\n        return seen.add(keyExtractor.apply(t));\n    };\n}\n\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673287751,"post_id":75061312,"comment_id":132460649,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673287794,"post_id":75061312,"comment_id":132460661,"body_markdown":"Please add a [mcve]","body":"Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1673288617,"post_id":75061312,"comment_id":132460877,"body_markdown":"`allTypes.stream().map(t -&gt; t.TypeB).collect(Collectors.toList())`","body":"<code>allTypes.stream().map(t -&gt; t.TypeB).collect(Collectors.toList())</code>"},{"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"score":0,"creation_date":1673290165,"post_id":75061312,"comment_id":132461320,"body_markdown":"@Eritrean, what is `t.TypeB`? Does `class Types` compile for you? &#128521; And FYI: With modern versions of Java, `.collect(Collectors.toList())` can be simplified to `.toList()`.","body":"@Eritrean, what is <code>t.TypeB</code>? Does <code>class Types</code> compile for you? 😉 And FYI: With modern versions of Java, <code>.collect(Collectors.toList())</code> can be simplified to <code>.toList()</code>."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673296560,"post_id":75061312,"comment_id":132463062,"body_markdown":"Please [edit] your question to include a [mre]. It must be compilable and match your actual source.","body":"Please <a href=\"https://stackoverflow.com/posts/75061312/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It must be compilable and match your actual source."},{"owner":{"account_id":3821089,"reputation":769,"user_id":3169180,"accept_rate":67,"display_name":"mrmannione"},"score":0,"creation_date":1673304433,"post_id":75061312,"comment_id":132465046,"body_markdown":"I am hoping the experts here can give me an example.","body":"I am hoping the experts here can give me an example."}],"answers":[{"tags":[],"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673318039,"creation_date":1673315446,"answer_id":75064664,"question_id":75061312,"body_markdown":"I tried the following and it compiles just fine. I even wonder how your code runs/compiles given the state of your Types class.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          Types types = new Types();\r\n          types.a = new TypeA();\r\n          types.b = new TypeB();\r\n          List&lt;Types&gt; allTypes = Arrays.asList(types);\r\n          //refer to the varible in t\r\n          List&lt;TypeB&gt; typeB = allTypes.stream().map(t -&gt; t.b).collect(Collectors.toList());\r\n          System.out.println(typeB.get(0).getClass());\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    class Types {\r\n        //besides stating the type, you need to give variable a name\r\n     public TypeA a;\r\n     public TypeB b;\r\n    } \r\n    \r\n    //provide the typea and typeb classes\r\n    class TypeB {}\r\n    class TypeA {}","title":"Java stream extract list of an element from a list of objects","body":"<p>I tried the following and it compiles just fine. I even wonder how your code runs/compiles given the state of your Types class.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.ArrayList;\nimport java.util.stream.Collectors;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      Types types = new Types();\n      types.a = new TypeA();\n      types.b = new TypeB();\n      List&lt;Types&gt; allTypes = Arrays.asList(types);\n      //refer to the varible in t\n      List&lt;TypeB&gt; typeB = allTypes.stream().map(t -&gt; t.b).collect(Collectors.toList());\n      System.out.println(typeB.get(0).getClass());\n    }\n}\n\n\n\nclass Types {\n    //besides stating the type, you need to give variable a name\n public TypeA a;\n public TypeB b;\n} \n\n//provide the typea and typeb classes\nclass TypeB {}\nclass TypeA {}\n</code></pre>\n"}],"owner":{"account_id":3821089,"reputation":769,"user_id":3169180,"accept_rate":67,"display_name":"mrmannione"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673319341,"creation_date":1673287662,"question_id":75061312,"body_markdown":"I have an a list of objects.  I want to extract another list of objects from that list.\r\n\r\nOriginal List:\r\n\r\n    List&lt;Types&gt; allTypes\r\n    \r\n    class Types {\r\n     public TypeA\r\n     public TypeB\r\n    }\r\n\r\n// my class does not have a getTypeA method\r\n\r\nI want a stream to end up with:\r\n\r\n    List&lt;TypeB&gt; typeBs\r\n\r\nIs this possible.\r\n\r\nI tried this and it does not work.\r\n\r\n    allTypes.stream().map(t -&gt; t.TypeB).collect(Collectors.toList()) \r\n\r\nt.TypeB is not accessible.\r\n\r\n\r\n\r\nThanks.\r\n\r\n","title":"Java stream extract list of an element from a list of objects","body":"<p>I have an a list of objects.  I want to extract another list of objects from that list.</p>\n<p>Original List:</p>\n<pre><code>List&lt;Types&gt; allTypes\n\nclass Types {\n public TypeA\n public TypeB\n}\n</code></pre>\n<p>// my class does not have a getTypeA method</p>\n<p>I want a stream to end up with:</p>\n<pre><code>List&lt;TypeB&gt; typeBs\n</code></pre>\n<p>Is this possible.</p>\n<p>I tried this and it does not work.</p>\n<pre><code>allTypes.stream().map(t -&gt; t.TypeB).collect(Collectors.toList()) \n</code></pre>\n<p>t.TypeB is not accessible.</p>\n<p>Thanks.</p>\n"},{"tags":["java","lambda","java-8","option-type","java-9"],"comments":[{"owner":{"account_id":3152821,"reputation":2999,"user_id":2665890,"accept_rate":75,"display_name":"Obicere"},"score":14,"creation_date":1425326730,"post_id":28818506,"comment_id":45908646,"body_markdown":"[See this issue](https://bugs.openjdk.java.net/browse/JDK-8071670?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab). To clarify: this is already going to be in Java 9 - if not in a future update of Java 8.","body":"<a href=\"https://bugs.openjdk.java.net/browse/JDK-8071670?page=com.atlassian.streams.streams-jira-plugin:activity-stream-issue-tab\" rel=\"nofollow noreferrer\">See this issue</a>. To clarify: this is already going to be in Java 9 - if not in a future update of Java 8."},{"owner":{"account_id":937438,"reputation":8861,"user_id":966104,"accept_rate":70,"display_name":"Yona Appletree"},"score":0,"creation_date":1425327097,"post_id":28818506,"comment_id":45908832,"body_markdown":"It is! Thanks, didn&#39;t find that in my searching.","body":"It is! Thanks, didn&#39;t find that in my searching."},{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1442575688,"post_id":28818506,"comment_id":53148372,"body_markdown":"@Obicere That issue does not apply here because it is about _behavior_ on empty Optional, not about _an alternative result_. Optional already has `orElseGet()` for what OP needs, only it doesn&#39;t generate nice cascading syntax.","body":"@Obicere That issue does not apply here because it is about <i>behavior</i> on empty Optional, not about <i>an alternative result</i>. Optional already has <code>orElseGet()</code> for what OP needs, only it doesn&#39;t generate nice cascading syntax."},{"owner":{"account_id":1775560,"reputation":1720,"user_id":1619407,"display_name":"Alessandro Giusa"},"score":1,"creation_date":1468072442,"post_id":28818506,"comment_id":63983717,"body_markdown":"http://stackoverflow.com/questions/23773024/functional-style-of-java-8s-optional-ifpresent-and-if-not-present/38282460#38282460","body":"<a href=\"http://stackoverflow.com/questions/23773024/functional-style-of-java-8s-optional-ifpresent-and-if-not-present/38282460#38282460\" title=\"functional style of java 8s optional ifpresent and if not present\">stackoverflow.com/questions/23773024/&hellip;</a>"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1470818516,"post_id":28818506,"comment_id":65099092,"body_markdown":"I wrote [an answer](http://stackoverflow.com/a/38560612/2525313) using the new Java 9 syntax.","body":"I wrote <a href=\"http://stackoverflow.com/a/38560612/2525313\">an answer</a> using the new Java 9 syntax."},{"owner":{"account_id":7097390,"reputation":65,"user_id":5461753,"display_name":"John Detroit"},"score":1,"creation_date":1524991890,"post_id":28818506,"comment_id":87185417,"body_markdown":"Great tutorials on Java Optional: http://codeflex.co/java-optional-no-more-nullpointerexception/","body":"Great tutorials on Java Optional: <a href=\"http://codeflex.co/java-optional-no-more-nullpointerexception/\" rel=\"nofollow noreferrer\">codeflex.co/java-optional-no-more-nullpointerexception</a>"}],"answers":[{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1425327478,"creation_date":1425327042,"answer_id":28818627,"question_id":28818506,"body_markdown":"Perhaps this is what you&#39;re after: https://stackoverflow.com/questions/24599996/get-value-from-one-optional-or-another\r\n\r\nOtherwise, you may want to have a look at [`Optional.orElseGet`](http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-). Here&#39;s an example of what I *think* that you&#39;re after:\r\n\r\n\r\n    result = Optional.ofNullable(serviceA().orElseGet(\r\n                                     () -&gt; serviceB().orElseGet(\r\n                                         () -&gt; serviceC().orElse(null))));","title":"Optional orElse Optional in Java","body":"<p>Perhaps this is what you're after: <a href=\"https://stackoverflow.com/questions/24599996/get-value-from-one-optional-or-another\">Get value from one Optional or another</a></p>\n\n<p>Otherwise, you may want to have a look at <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#orElseGet-java.util.function.Supplier-\" rel=\"noreferrer\"><code>Optional.orElseGet</code></a>. Here's an example of what I <em>think</em> that you're after:</p>\n\n<pre><code>result = Optional.ofNullable(serviceA().orElseGet(\n                                 () -&gt; serviceB().orElseGet(\n                                     () -&gt; serviceC().orElse(null))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1425341071,"creation_date":1425338792,"answer_id":28821352,"question_id":28818506,"body_markdown":"It&#39;s not pretty, but this will work:\r\n\r\n\treturn serviceA(args)\r\n\t  .map(Optional::of).orElseGet(() -&gt; serviceB(args))\r\n\t  .map(Optional::of).orElseGet(() -&gt; serviceC(args))\r\n\t  .map(Optional::of).orElseGet(() -&gt; serviceD(args));\r\n\r\n\r\n`.map(func).orElseGet(sup)` is a fairly handy pattern for use with `Optional`.  It means &quot;If this `Optional` contains value `v`, give me `func(v)`, otherwise give me `sup.get()`&quot;.  \r\n\r\nIn this case, we call `serviceA(args)` and get an `Optional&lt;Result&gt;`.  If that `Optional` contains value `v`, we want to get `Optional.of(v)`, but if it is empty, we want to get `serviceB(args)`. Rinse-repeat with more alternatives.\r\n\r\nOther uses of this pattern are \r\n\r\n*  `.map(Stream::of).orElseGet(Stream::empty)`\r\n*  `.map(Collections::singleton).orElseGet(Collections::emptySet)`\r\n","title":"Optional orElse Optional in Java","body":"<p>It's not pretty, but this will work:</p>\n\n<pre><code>return serviceA(args)\n  .map(Optional::of).orElseGet(() -&gt; serviceB(args))\n  .map(Optional::of).orElseGet(() -&gt; serviceC(args))\n  .map(Optional::of).orElseGet(() -&gt; serviceD(args));\n</code></pre>\n\n<p><code>.map(func).orElseGet(sup)</code> is a fairly handy pattern for use with <code>Optional</code>.  It means \"If this <code>Optional</code> contains value <code>v</code>, give me <code>func(v)</code>, otherwise give me <code>sup.get()</code>\".  </p>\n\n<p>In this case, we call <code>serviceA(args)</code> and get an <code>Optional&lt;Result&gt;</code>.  If that <code>Optional</code> contains value <code>v</code>, we want to get <code>Optional.of(v)</code>, but if it is empty, we want to get <code>serviceB(args)</code>. Rinse-repeat with more alternatives.</p>\n\n<p>Other uses of this pattern are </p>\n\n<ul>\n<li><code>.map(Stream::of).orElseGet(Stream::empty)</code></li>\n<li><code>.map(Collections::singleton).orElseGet(Collections::emptySet)</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":1,"up_vote_count":70,"is_accepted":false,"score":69,"last_activity_date":1620283182,"creation_date":1425391129,"answer_id":28833677,"question_id":28818506,"body_markdown":"The cleanest “try services” approach given the current API would be:\r\n\r\n    Optional&lt;Result&gt; o = Stream.&lt;Supplier&lt;Optional&lt;Result&gt;&gt;&gt;of(\r\n        ()-&gt;serviceA(args), \r\n        ()-&gt;serviceB(args), \r\n        ()-&gt;serviceC(args), \r\n        ()-&gt;serviceD(args))\r\n    .map(Supplier::get)\r\n    .filter(Optional::isPresent)\r\n    .map(Optional::get)\r\n    .findFirst();\r\n\r\nThe important aspect is not the (constant) chain of operations you have to write once but how easy it is to add another service (or modify the list of services in general). Here, adding or removing a single `()-&gt;serviceX(args)` is enough.\r\n\r\nDue to the lazy evaluation of streams, no service will be invoked if a preceding service returned a non-empty `Optional`.\r\n\r\n---\r\n\r\nStarting with Java&#160;9, you can simplify the code to\r\n\r\n```java\r\nOptional&lt;Result&gt; o = Stream.&lt;Supplier&lt;Optional&lt;Result&gt;&gt;&gt;of(\r\n    ()-&gt;serviceA(args), \r\n    ()-&gt;serviceB(args), \r\n    ()-&gt;serviceC(args), \r\n    ()-&gt;serviceD(args))\r\n.flatMap(s -&gt; s.get().stream())\r\n.findFirst();\r\n```\r\nthough [this answer] already contains an even simpler approach for JDK&#160;9.\r\n\r\n\r\nJDK&#160;16 offers the alternative\r\n\r\n```java\r\nOptional&lt;Result&gt; o = Stream.&lt;Supplier&lt;Optional&lt;Result&gt;&gt;&gt;of(\r\n    ()-&gt;serviceA(args), \r\n    ()-&gt;serviceB(args), \r\n    ()-&gt;serviceC(args), \r\n    ()-&gt;serviceD(args))\r\n.&lt;Result&gt;mapMulti((s,c) -&gt; s.get().ifPresent(c))\r\n.findFirst();\r\n```\r\n\r\nthough this approach might be more convenient with service methods accepting a `Consumer` rather than returning a `Supplier`.\r\n\r\n[this answer]: https://stackoverflow.com/a/38560612/2711488","title":"Optional orElse Optional in Java","body":"<p>The cleanest “try services” approach given the current API would be:</p>\n<pre><code>Optional&lt;Result&gt; o = Stream.&lt;Supplier&lt;Optional&lt;Result&gt;&gt;&gt;of(\n    ()-&gt;serviceA(args), \n    ()-&gt;serviceB(args), \n    ()-&gt;serviceC(args), \n    ()-&gt;serviceD(args))\n.map(Supplier::get)\n.filter(Optional::isPresent)\n.map(Optional::get)\n.findFirst();\n</code></pre>\n<p>The important aspect is not the (constant) chain of operations you have to write once but how easy it is to add another service (or modify the list of services in general). Here, adding or removing a single <code>()-&gt;serviceX(args)</code> is enough.</p>\n<p>Due to the lazy evaluation of streams, no service will be invoked if a preceding service returned a non-empty <code>Optional</code>.</p>\n<hr />\n<p>Starting with Java 9, you can simplify the code to</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Result&gt; o = Stream.&lt;Supplier&lt;Optional&lt;Result&gt;&gt;&gt;of(\n    ()-&gt;serviceA(args), \n    ()-&gt;serviceB(args), \n    ()-&gt;serviceC(args), \n    ()-&gt;serviceD(args))\n.flatMap(s -&gt; s.get().stream())\n.findFirst();\n</code></pre>\n<p>though <a href=\"https://stackoverflow.com/a/38560612/2711488\">this answer</a> already contains an even simpler approach for JDK 9.</p>\n<p>JDK 16 offers the alternative</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Result&gt; o = Stream.&lt;Supplier&lt;Optional&lt;Result&gt;&gt;&gt;of(\n    ()-&gt;serviceA(args), \n    ()-&gt;serviceB(args), \n    ()-&gt;serviceC(args), \n    ()-&gt;serviceD(args))\n.&lt;Result&gt;mapMulti((s,c) -&gt; s.get().ifPresent(c))\n.findFirst();\n</code></pre>\n<p>though this approach might be more convenient with service methods accepting a <code>Consumer</code> rather than returning a <code>Supplier</code>.</p>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1464858693,"creation_date":1442582534,"answer_id":32653133,"question_id":28818506,"body_markdown":"This is looks like a good fit for pattern matching and a more traditional Option interface with Some and None implementations (such as those in [Javaslang](https://github.com/javaslang/javaslang), [FunctionalJava](https://github.com/functionaljava/functionaljava)) or a lazy [Maybe](http://www.javadoc.io/doc/com.aol.simplereact/cyclops-react/1.0.0-RC3) implementation in [cyclops-react](https://github.com/aol/cyclops-react).I&#39;m the author of this library. \r\n\r\nWith [cyclops-react](https://github.com/aol/cyclops-react) you can also use structural [pattern matching](http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/pattern-matching.adoc) on JDK types. For Optional you can match on the present and absent cases via the [visitor pattern](http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/visitor-pattern.adoc).  it would look something like this -\r\n\r\n      import static com.aol.cyclops.Matchables.optional;\r\n\r\n      optional(serviceA(args)).visit(some -&gt; some , \r\n                                     () -&gt; optional(serviceB(args)).visit(some -&gt; some,\r\n                                                                          () -&gt; serviceC(args)));\r\n\r\n\r\n    ","title":"Optional orElse Optional in Java","body":"<p>This is looks like a good fit for pattern matching and a more traditional Option interface with Some and None implementations (such as those in <a href=\"https://github.com/javaslang/javaslang\" rel=\"nofollow\">Javaslang</a>, <a href=\"https://github.com/functionaljava/functionaljava\" rel=\"nofollow\">FunctionalJava</a>) or a lazy <a href=\"http://www.javadoc.io/doc/com.aol.simplereact/cyclops-react/1.0.0-RC3\" rel=\"nofollow\">Maybe</a> implementation in <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a>.I'm the author of this library. </p>\n\n<p>With <a href=\"https://github.com/aol/cyclops-react\" rel=\"nofollow\">cyclops-react</a> you can also use structural <a href=\"http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/pattern-matching.adoc\" rel=\"nofollow\">pattern matching</a> on JDK types. For Optional you can match on the present and absent cases via the <a href=\"http://gist.asciidoctor.org/?github-aol/simple-react//user-guide/visitor-pattern.adoc\" rel=\"nofollow\">visitor pattern</a>.  it would look something like this -</p>\n\n<pre><code>  import static com.aol.cyclops.Matchables.optional;\n\n  optional(serviceA(args)).visit(some -&gt; some , \n                                 () -&gt; optional(serviceB(args)).visit(some -&gt; some,\n                                                                      () -&gt; serviceC(args)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"down_vote_count":0,"up_vote_count":109,"is_accepted":true,"score":109,"last_activity_date":1673317881,"creation_date":1469426210,"answer_id":38560612,"question_id":28818506,"body_markdown":"This is part of JDK 9 in the form of method `or`, which takes a `Supplier&lt;Optional&lt;T&gt;&gt;`. Your example would then be:\r\n\r\n    return serviceA(args)\r\n        .or(() -&gt; serviceB(args))\r\n        .or(() -&gt; serviceC(args));\r\n\r\nFor details see [the Javadoc](https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#or-java.util.function.Supplier-), [this post](http://blog.codefx.org/java/dev/java-9-optional/#or) I wrote, or ticket [JDK-8080418](https://bugs.openjdk.org/browse/JDK-8080418) where this method was introduced.","title":"Optional orElse Optional in Java","body":"<p>This is part of JDK 9 in the form of method <code>or</code>, which takes a <code>Supplier&lt;Optional&lt;T&gt;&gt;</code>. Your example would then be:</p>\n<pre><code>return serviceA(args)\n    .or(() -&gt; serviceB(args))\n    .or(() -&gt; serviceC(args));\n</code></pre>\n<p>For details see <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#or-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">the Javadoc</a>, <a href=\"http://blog.codefx.org/java/dev/java-9-optional/#or\" rel=\"nofollow noreferrer\">this post</a> I wrote, or ticket <a href=\"https://bugs.openjdk.org/browse/JDK-8080418\" rel=\"nofollow noreferrer\">JDK-8080418</a> where this method was introduced.</p>\n"},{"tags":[],"owner":{"account_id":178074,"reputation":677,"user_id":409817,"accept_rate":67,"display_name":"Sheepy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520553966,"creation_date":1520553551,"answer_id":49184522,"question_id":28818506,"body_markdown":"Assuming you&#39;re still on JDK8, there are several options.\r\n\r\n## Option#1: make your own helper method ###\r\nE.g.:\r\n\r\n    public class Optionals {\r\n        static &lt;T&gt; Optional&lt;T&gt; or(Supplier&lt;Optional&lt;T&gt;&gt;... optionals) {\r\n            return Arrays.stream(optionals)\r\n                    .map(Supplier::get)\r\n                    .filter(Optional::isPresent)\r\n                    .findFirst()\r\n                    .orElseGet(Optional::empty);\r\n        }\r\n    }\r\n\r\nSo that you could do:\r\n\r\n    return Optionals.or(\r\n       ()-&gt; serviceA(args),\r\n       ()-&gt; serviceB(args),\r\n       ()-&gt; serviceC(args),\r\n       ()-&gt; serviceD(args)\r\n    );\r\n\r\n## Option#2: use a library##\r\nE.g. google guava&#39;s Optional supports a proper `or()` operation (just like JDK9), e.g.:\r\n\r\n    return serviceA(args)\r\n      .or(() -&gt; serviceB(args))\r\n      .or(() -&gt; serviceC(args))\r\n      .or(() -&gt; serviceD(args));\r\n(Where each of the services returns `com.google.common.base.Optional`, rather than `java.util.Optional`).","title":"Optional orElse Optional in Java","body":"<p>Assuming you're still on JDK8, there are several options.</p>\n\n<h2>Option#1: make your own helper method</h2>\n\n<p>E.g.:</p>\n\n<pre><code>public class Optionals {\n    static &lt;T&gt; Optional&lt;T&gt; or(Supplier&lt;Optional&lt;T&gt;&gt;... optionals) {\n        return Arrays.stream(optionals)\n                .map(Supplier::get)\n                .filter(Optional::isPresent)\n                .findFirst()\n                .orElseGet(Optional::empty);\n    }\n}\n</code></pre>\n\n<p>So that you could do:</p>\n\n<pre><code>return Optionals.or(\n   ()-&gt; serviceA(args),\n   ()-&gt; serviceB(args),\n   ()-&gt; serviceC(args),\n   ()-&gt; serviceD(args)\n);\n</code></pre>\n\n<h2>Option#2: use a library</h2>\n\n<p>E.g. google guava's Optional supports a proper <code>or()</code> operation (just like JDK9), e.g.:</p>\n\n<pre><code>return serviceA(args)\n  .or(() -&gt; serviceB(args))\n  .or(() -&gt; serviceC(args))\n  .or(() -&gt; serviceD(args));\n</code></pre>\n\n<p>(Where each of the services returns <code>com.google.common.base.Optional</code>, rather than <code>java.util.Optional</code>).</p>\n"}],"owner":{"account_id":937438,"reputation":8861,"user_id":966104,"accept_rate":70,"display_name":"Yona Appletree"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84686,"favorite_count":0,"down_vote_count":0,"up_vote_count":155,"accepted_answer_id":38560612,"answer_count":6,"score":155,"last_activity_date":1673317881,"creation_date":1425326627,"question_id":28818506,"body_markdown":"I&#39;ve been working with the new [Optional type in Java 8](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html), and I&#39;ve come across what seems like a common operation that isn&#39;t supported functionally: an &quot;orElseOptional&quot;\r\n\r\nConsider the following pattern:\r\n\r\n    Optional&lt;Result&gt; resultFromServiceA = serviceA(args);\r\n    if (resultFromServiceA.isPresent) return result;\r\n    else {\r\n        Optional&lt;Result&gt; resultFromServiceB = serviceB(args);\r\n        if (resultFromServiceB.isPresent) return resultFromServiceB;\r\n        else return serviceC(args);\r\n    }\r\n\r\nThere are many forms of this pattern, but it boils down to wanting an &quot;orElse&quot; on an optional that takes a function producing a new optional, called only if the current one does not exist.\r\n\r\nIt&#39;s implementation would look like this:\r\n\r\n    public Optional&lt;T&gt; orElse(Supplier&lt;Optional&lt;? extends T&gt;&gt; otherSupplier) {\r\n        return value != null ? this : other.get();\r\n    }\r\n\r\nI&#39;m curious if there&#39;s a reason such a method doesn&#39;t exist, if I&#39;m just using Optional in an unintended way, and what other ways people have come up with to deal with this case.\r\n\r\nI should say that I think that solutions involving custom utility classes/methods aren&#39;t elegant because people working with my code won&#39;t necessarily know they exist.\r\n\r\nAlso, if anyone knows, will such a method be included in JDK 9, and where might I propose such a method? This seems like a pretty glaring omission to the API to me.","title":"Optional orElse Optional in Java","body":"<p>I've been working with the new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\">Optional type in Java 8</a>, and I've come across what seems like a common operation that isn't supported functionally: an \"orElseOptional\"</p>\n\n<p>Consider the following pattern:</p>\n\n<pre><code>Optional&lt;Result&gt; resultFromServiceA = serviceA(args);\nif (resultFromServiceA.isPresent) return result;\nelse {\n    Optional&lt;Result&gt; resultFromServiceB = serviceB(args);\n    if (resultFromServiceB.isPresent) return resultFromServiceB;\n    else return serviceC(args);\n}\n</code></pre>\n\n<p>There are many forms of this pattern, but it boils down to wanting an \"orElse\" on an optional that takes a function producing a new optional, called only if the current one does not exist.</p>\n\n<p>It's implementation would look like this:</p>\n\n<pre><code>public Optional&lt;T&gt; orElse(Supplier&lt;Optional&lt;? extends T&gt;&gt; otherSupplier) {\n    return value != null ? this : other.get();\n}\n</code></pre>\n\n<p>I'm curious if there's a reason such a method doesn't exist, if I'm just using Optional in an unintended way, and what other ways people have come up with to deal with this case.</p>\n\n<p>I should say that I think that solutions involving custom utility classes/methods aren't elegant because people working with my code won't necessarily know they exist.</p>\n\n<p>Also, if anyone knows, will such a method be included in JDK 9, and where might I propose such a method? This seems like a pretty glaring omission to the API to me.</p>\n"},{"tags":["java","pom.xml","java-9","java-module","module-info"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1673315484,"post_id":75064578,"comment_id":132466607,"body_markdown":"Honestly, if your dependencies are not modular, it may be more effort than it&#39;s worth to use modules. The only dependency I see in your list that &quot;must&quot; (a warning is emitted otherwise since JavaFX 16, but it still works afaik) be on the module-path is JavaFX (9+). Note that code in the unnamed module (i.e., code on the class-path) can use code in named modules (i.e., code on the module-path), but not vice versa. That may matter if you deploy using e.g., `jpackage`, where you can make a run-time image with all the modular code, but leave your and other non-modular code on the class-path.","body":"Honestly, if your dependencies are not modular, it may be more effort than it&#39;s worth to use modules. The only dependency I see in your list that &quot;must&quot; (a warning is emitted otherwise since JavaFX 16, but it still works afaik) be on the module-path is JavaFX (9+). Note that code in the unnamed module (i.e., code on the class-path) can use code in named modules (i.e., code on the module-path), but not vice versa. That may matter if you deploy using e.g., <code>jpackage</code>, where you can make a run-time image with all the modular code, but leave your and other non-modular code on the class-path."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1673317394,"post_id":75064578,"comment_id":132466849,"body_markdown":"(and regarding code in named modules not being to use code in unnamed modules, I mean named modules can&#39;t use code in unnamed modules &quot;directly&quot;; if I&#39;m not mistaken, named modules can still load service-providers from unnamed modules, if they use the correct `ServiceLoader.load` method and the appropriate `uses` directives are declared)","body":"(and regarding code in named modules not being to use code in unnamed modules, I mean named modules can&#39;t use code in unnamed modules &quot;directly&quot;; if I&#39;m not mistaken, named modules can still load service-providers from unnamed modules, if they use the correct <code>ServiceLoader.load</code> method and the appropriate <code>uses</code> directives are declared)"},{"owner":{"account_id":22976190,"reputation":29,"user_id":17103770,"display_name":"Borel"},"score":1,"creation_date":1673317519,"post_id":75064578,"comment_id":132466865,"body_markdown":"Thank you, that answers my question. If you would like to submit one I can select it. I got rid of module-info.java, removed modular dependencies from pom, and instead added a pointer to those in the vm options. Everything is working fine now.","body":"Thank you, that answers my question. If you would like to submit one I can select it. I got rid of module-info.java, removed modular dependencies from pom, and instead added a pointer to those in the vm options. Everything is working fine now."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673317863,"post_id":75064578,"comment_id":132466916,"body_markdown":"Note modular code can still be placed on the class-path. They stop being named modules, but otherwise should work normally (except possibly for some edge cases). So, it may have been unnecessary to remove _all_ modular dependencies from your POM.","body":"Note modular code can still be placed on the class-path. They stop being named modules, but otherwise should work normally (except possibly for some edge cases). So, it may have been unnecessary to remove <i>all</i> modular dependencies from your POM."},{"owner":{"account_id":22976190,"reputation":29,"user_id":17103770,"display_name":"Borel"},"score":0,"creation_date":1673318790,"post_id":75064578,"comment_id":132467037,"body_markdown":"You are right about leaving it in the pom.","body":"You are right about leaving it in the pom."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673338551,"post_id":75064578,"comment_id":132470449,"body_markdown":"@Borel You too can post and accept an Answer to your own Question.","body":"@Borel You too can post and accept an Answer to your own Question."}],"owner":{"account_id":22976190,"reputation":29,"user_id":17103770,"display_name":"Borel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673314512,"creation_date":1673314451,"question_id":75064578,"body_markdown":"I have a project where dependencies were designed based on java 8, I&#39;m using java 9 modules. I keep getting errors related to multiple exports. \r\n\r\n```\r\njava: java.lang.reflect.InvocationTargetException\r\nModules nd4j.common and nd4j.api export package org.nd4j.linalg.util to module jai.imageio.core\r\n```\r\nDo I need to map out every dependency tree, find the duplicates and make exclusions? Some dependencies have upwards of 12 dependencies that also have their own dependencies. Is there a better way? Java 9 modules are becoming a **huge** needless headache if not.\r\n\r\nHere are the libraries I&#39;m using:\r\nDeeplearning4j-core,\r\nDeeplearning4j-ui,\r\ndeeplearning4j-zoo,\r\nnd4j-native-platform,\r\njavacv,\r\nlombok,\r\njavafx-controls,\r\njavafx-fxml,\r\njavafx-media,\r\ncontrols-fx,\r\nformsfx-core\r\n\r\nI tried creating an Excel spreadsheet of all my dependencies&#39; dependencies, found the ones that were duplicates, and made the appropriate exclusions in pom.xml. I&#39;m still getting multiple export errors but they are now libraries that I&#39;m not even sure where they are because they aren&#39;t ones I&#39;ve imported but rather a child dependency somewhere that is in common with another child somewhere.\r\n\r\nThank you for looking!","title":"How to configure java 9 module with many shared java 8 dependencies?","body":"<p>I have a project where dependencies were designed based on java 8, I'm using java 9 modules. I keep getting errors related to multiple exports.</p>\n<pre><code>java: java.lang.reflect.InvocationTargetException\nModules nd4j.common and nd4j.api export package org.nd4j.linalg.util to module jai.imageio.core\n</code></pre>\n<p>Do I need to map out every dependency tree, find the duplicates and make exclusions? Some dependencies have upwards of 12 dependencies that also have their own dependencies. Is there a better way? Java 9 modules are becoming a <strong>huge</strong> needless headache if not.</p>\n<p>Here are the libraries I'm using:\nDeeplearning4j-core,\nDeeplearning4j-ui,\ndeeplearning4j-zoo,\nnd4j-native-platform,\njavacv,\nlombok,\njavafx-controls,\njavafx-fxml,\njavafx-media,\ncontrols-fx,\nformsfx-core</p>\n<p>I tried creating an Excel spreadsheet of all my dependencies' dependencies, found the ones that were duplicates, and made the appropriate exclusions in pom.xml. I'm still getting multiple export errors but they are now libraries that I'm not even sure where they are because they aren't ones I've imported but rather a child dependency somewhere that is in common with another child somewhere.</p>\n<p>Thank you for looking!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":17442705,"reputation":1,"user_id":12644370,"display_name":"kianyanglee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673313972,"creation_date":1673313972,"answer_id":75064546,"question_id":75064506,"body_markdown":"What `logger` library that you are using? If you use `sl4j`, you can couple it with `log4j` by configuring properly to just log the error messages into the file that you have specified in the configuration. I&#39;ve done some lookup and I find this [stackoverflow: where-does-the-slf4j-log-file-get-saved](https://stackoverflow.com/questions/21881846/where-does-the-slf4j-log-file-get-saved) answer provided a template for you to follow on with this setup.","title":"How can I print the error message into a txt or json file in my directory?","body":"<p>What <code>logger</code> library that you are using? If you use <code>sl4j</code>, you can couple it with <code>log4j</code> by configuring properly to just log the error messages into the file that you have specified in the configuration. I've done some lookup and I find this <a href=\"https://stackoverflow.com/questions/21881846/where-does-the-slf4j-log-file-get-saved\">stackoverflow: where-does-the-slf4j-log-file-get-saved</a> answer provided a template for you to follow on with this setup.</p>\n"}],"owner":{"account_id":27415027,"reputation":49,"user_id":20914383,"display_name":"EXEC1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673313972,"creation_date":1673313406,"question_id":75064506,"body_markdown":"I have a function that save all the error in a errormessage list\r\n```\r\npublic class Util {\r\n    private List&lt;String&gt; errorMessages = new ArrayList&lt;&gt;();\r\n\r\n    public void outputResult(String content) {\r\n        logger.error(content);\r\n        errorMessages.add(content);\r\n    }\r\n}\r\n```\r\n\r\nand my compare function add all the error message to the list, \r\n```\r\npublic void compare(Config source, Config target) {\r\n    if (source.getId() != target.getId()) {\r\n        util.outputResult(&quot;id not equal&quot;);\r\n    }\r\n    // ...\r\n}\r\n```\r\n\r\nAnd in my main function, I call this compare function and want to save all the error message in a txt or some other file in my current directory\r\n```\r\npublic class MyClass {\r\n    public void main() {\r\n        compare();\r\n\r\n        // writeToFile\r\n    }\r\n}\r\n```\r\n\r\nThis is what I&#39;m doing right now, I convert ByteArrayOutputStream to a string and print it, there a txt file generated but is empty, and I don&#39;t want to a string, I want each error message in the list be printed, how can I do that?\r\n\r\n```\r\nByteArrayOutputStream errorMessages = new ByteArrayOutputStream();\r\n\r\ntry (FileWriter w = new FileWriter(pathToReport)) {\r\n    w.write(errorMessages.toString());\r\n}\r\nFile errorMessagesFile = new File(pathToReport);\r\n\r\nerrorMessagesFile.writeText(errorMessages.toString());\r\n","title":"How can I print the error message into a txt or json file in my directory?","body":"<p>I have a function that save all the error in a errormessage list</p>\n<pre><code>public class Util {\n    private List&lt;String&gt; errorMessages = new ArrayList&lt;&gt;();\n\n    public void outputResult(String content) {\n        logger.error(content);\n        errorMessages.add(content);\n    }\n}\n</code></pre>\n<p>and my compare function add all the error message to the list,</p>\n<pre><code>public void compare(Config source, Config target) {\n    if (source.getId() != target.getId()) {\n        util.outputResult(&quot;id not equal&quot;);\n    }\n    // ...\n}\n</code></pre>\n<p>And in my main function, I call this compare function and want to save all the error message in a txt or some other file in my current directory</p>\n<pre><code>public class MyClass {\n    public void main() {\n        compare();\n\n        // writeToFile\n    }\n}\n</code></pre>\n<p>This is what I'm doing right now, I convert ByteArrayOutputStream to a string and print it, there a txt file generated but is empty, and I don't want to a string, I want each error message in the list be printed, how can I do that?</p>\n<pre><code>ByteArrayOutputStream errorMessages = new ByteArrayOutputStream();\n\ntry (FileWriter w = new FileWriter(pathToReport)) {\n    w.write(errorMessages.toString());\n}\nFile errorMessagesFile = new File(pathToReport);\n\nerrorMessagesFile.writeText(errorMessages.toString());\n</code></pre>\n"},{"tags":["java","sockets","asynchronous","async-await"],"owner":{"account_id":18510058,"reputation":615,"user_id":13485494,"display_name":"Gavin Ray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673313254,"creation_date":1673313254,"question_id":75064495,"body_markdown":"I&#39;m writing a Postgres wire-protocol server on the JVM, and the core loop of the server is to receive a command over a socket from a PSQL client, handle it, and then read/wait for another command over the wire.\r\n\r\nI&#39;ve made a method, `read()`, which is the entrypoint for reading from the socket. Some decoding and business logic happens, and then it dispatches to `handleClientMessage()`, which I made return a `CompleteableFuture&lt;&gt;` so that when it finishes, I can then call `.thenRun(() -&gt; read())` to have it loop back &#39;round again to `read()`.\r\n\r\nThe alternative I had before to was remember to call `read()` at the end of every method.\r\n\r\nMy hesitation with using `CompleteableFuture&lt;&gt;` is that I believe it queues tasks to be run in a pool, which sounds like it has a lot of overhead potentially? Is this a poor practice just so that I can call `.thenRun(() -&gt; {})` on the result?\r\n\r\nCode is below, with most of the non-relevant bits removed:\r\n\r\n---\r\n\r\n```java\r\n// A single client connection to the Postgres wire-protocol server\r\nclass PostgresServerClientConnection {\r\n    private AsynchronousSocketChannel client;\r\n    private MemorySegment buffer;\r\n\r\n    public PostgresServerClientConnection(AsynchronousSocketChannel client) {\r\n        this.client = client;\r\n        this.buffer = MemorySegment.allocateNative(1024, SegmentScope.global());\r\n    }\r\n\r\n    public void read() {\r\n        ByteBuffer byteBuffer = buffer.asByteBuffer();\r\n        client.read(byteBuffer, null, new CompletionHandler&lt;&gt;() {\r\n            @Override\r\n            public void completed(Integer result, Object attachment) {\r\n                // Create an infinite loop of reading and handling messages\r\n                handleClientMessage(msg).thenRun(() -&gt; read());\r\n            }\r\n\r\n            @Override\r\n            public void failed(Throwable exc, Object attachment) {\r\n                System.err.println(&quot;[SERVER] Failed to read from client: &quot; + exc);\r\n            }\r\n        });\r\n    }\r\n\r\n    CompletableFuture&lt;Void&gt; handleClientMessage(ClientMessage msg) {\r\n        if (msg.isSSLRequest()) {\r\n            return handleSSLRequest(msg);\r\n        } else if (msg.isStartupMessage()) {\r\n            return handleStartupMessage(msg);\r\n        } else {\r\n            return handleRegularMessage(msg);\r\n        }\r\n    }\r\n\r\n    CompletableFuture&lt;Void&gt; handleSSLRequest(ClientMessage msg) {\r\n        return CompletableFuture.runAsync(() -&gt; {\r\n            try {\r\n                client.write(byteBuffer).get();\r\n            } catch (InterruptedException | ExecutionException e) {\r\n            }\r\n        });\r\n    }\r\n\r\n    CompletableFuture&lt;Void&gt; handleStartupMessage(ClientMessage msg) {\r\n        return CompletableFuture.runAsync(() -&gt; {\r\n            try {\r\n                client.write(byteBuffer).get();\r\n            } catch (InterruptedException | ExecutionException e) {\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"Modeling asynchronous &quot;read-message-then-dispatch&quot; loop in `java.nio.channels.AsynchronousSocketChannel`, is `CompleteableFuture&lt;&gt;` the proper tool?","body":"<p>I'm writing a Postgres wire-protocol server on the JVM, and the core loop of the server is to receive a command over a socket from a PSQL client, handle it, and then read/wait for another command over the wire.</p>\n<p>I've made a method, <code>read()</code>, which is the entrypoint for reading from the socket. Some decoding and business logic happens, and then it dispatches to <code>handleClientMessage()</code>, which I made return a <code>CompleteableFuture&lt;&gt;</code> so that when it finishes, I can then call <code>.thenRun(() -&gt; read())</code> to have it loop back 'round again to <code>read()</code>.</p>\n<p>The alternative I had before to was remember to call <code>read()</code> at the end of every method.</p>\n<p>My hesitation with using <code>CompleteableFuture&lt;&gt;</code> is that I believe it queues tasks to be run in a pool, which sounds like it has a lot of overhead potentially? Is this a poor practice just so that I can call <code>.thenRun(() -&gt; {})</code> on the result?</p>\n<p>Code is below, with most of the non-relevant bits removed:</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>// A single client connection to the Postgres wire-protocol server\nclass PostgresServerClientConnection {\n    private AsynchronousSocketChannel client;\n    private MemorySegment buffer;\n\n    public PostgresServerClientConnection(AsynchronousSocketChannel client) {\n        this.client = client;\n        this.buffer = MemorySegment.allocateNative(1024, SegmentScope.global());\n    }\n\n    public void read() {\n        ByteBuffer byteBuffer = buffer.asByteBuffer();\n        client.read(byteBuffer, null, new CompletionHandler&lt;&gt;() {\n            @Override\n            public void completed(Integer result, Object attachment) {\n                // Create an infinite loop of reading and handling messages\n                handleClientMessage(msg).thenRun(() -&gt; read());\n            }\n\n            @Override\n            public void failed(Throwable exc, Object attachment) {\n                System.err.println(&quot;[SERVER] Failed to read from client: &quot; + exc);\n            }\n        });\n    }\n\n    CompletableFuture&lt;Void&gt; handleClientMessage(ClientMessage msg) {\n        if (msg.isSSLRequest()) {\n            return handleSSLRequest(msg);\n        } else if (msg.isStartupMessage()) {\n            return handleStartupMessage(msg);\n        } else {\n            return handleRegularMessage(msg);\n        }\n    }\n\n    CompletableFuture&lt;Void&gt; handleSSLRequest(ClientMessage msg) {\n        return CompletableFuture.runAsync(() -&gt; {\n            try {\n                client.write(byteBuffer).get();\n            } catch (InterruptedException | ExecutionException e) {\n            }\n        });\n    }\n\n    CompletableFuture&lt;Void&gt; handleStartupMessage(ClientMessage msg) {\n        return CompletableFuture.runAsync(() -&gt; {\n            try {\n                client.write(byteBuffer).get();\n            } catch (InterruptedException | ExecutionException e) {\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","hadoop","mapreduce","amazon-emr"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673312887,"creation_date":1673190154,"answer_id":75048808,"question_id":75042635,"body_markdown":"EMR has nothing to do with problem. No, it&#39;s not automatic. \r\n\r\nWe would need to see the code of your executed JAR, but I only assume it&#39;s traditional mapreduce code where you&#39;re using FileInputFormat and might have code like `Path(args[0])` if so, that&#39;s likely your input. Then `Path(args[1])` could be the output.\r\n\r\nTherefore, you&#39;d simply chain those arguments together in each step...\r\n```\r\nstep1 = ...\r\n   .args(new String[] {&quot;/in&quot;, &quot;/stage1&quot; })\r\n...\r\nend = ...\r\n   .args(new String[] {&quot;/stageN&quot;, &quot;/out&quot; }) \r\n```\r\n\r\nAlternatively, translate your code to Spark/Flink or a Hive query, where multiple mapreduce stages **are handled automatically** ","title":"in aws emr job flow, does each step receive the output from the previous step?","body":"<p>EMR has nothing to do with problem. No, it's not automatic.</p>\n<p>We would need to see the code of your executed JAR, but I only assume it's traditional mapreduce code where you're using FileInputFormat and might have code like <code>Path(args[0])</code> if so, that's likely your input. Then <code>Path(args[1])</code> could be the output.</p>\n<p>Therefore, you'd simply chain those arguments together in each step...</p>\n<pre><code>step1 = ...\n   .args(new String[] {&quot;/in&quot;, &quot;/stage1&quot; })\n...\nend = ...\n   .args(new String[] {&quot;/stageN&quot;, &quot;/out&quot; }) \n</code></pre>\n<p>Alternatively, translate your code to Spark/Flink or a Hive query, where multiple mapreduce stages <strong>are handled automatically</strong></p>\n"}],"owner":{"account_id":27463207,"reputation":3,"user_id":20953398,"display_name":"אורי זיו"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75048808,"answer_count":1,"score":0,"last_activity_date":1673312887,"creation_date":1673114626,"question_id":75042635,"body_markdown":"I am making a map reduce program in Java that has 4 steps.\r\neach step is operating on the output of the previous step.\r\n\r\nI ran those steps locally and manually so far, and i want to start running on AWS EMR using Job Flow.  \r\nmy professor gave us some code to configure steps for a job flow, but now we face a problem:\r\n\r\neach one of my steps is expecting input and output paths as the args of its main function.\r\nJobFlow allows me to transfer args to each step, but for my understanding each step in a job flow is supposed to receive the output of the previous step automatically\r\n\r\nDoes anyone know if this is true?\r\nhow does the map-reduce app in the step realizes where its input is? is the path passed to it implicitly as arguments from the JobFlow? \r\n\r\nI am using AWS SDK 2 for Java.\r\n\r\n\r\nmy code:\r\n```\r\n public static void main(String args[]) throws IOException, ClassNotFoundException, InterruptedException {\r\n                // AwsCredentialsProvider credentialsProvider = StaticCredentialsProvider\r\n                // .create(ProfileCredentialsProvider.create().resolveCredentials());\r\n\r\n                EmrClient mapReduce = EmrClient.builder().credentialsProvider(ProfileCredentialsProvider.create())\r\n                                .build();\r\n                List&lt;StepConfig&gt; steps = new LinkedList&lt;StepConfig&gt;();\r\n\r\n                HadoopJarStepConfig hadoopJarStepConfig = HadoopJarStepConfig.builder()\r\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + NCount + jarPostfix)\r\n                                .mainClass(packageName + NCount)\r\n                                .args(??????????????????????)\r\n                                .build();\r\n                steps.add(StepConfig.builder().name(NCount).hadoopJarStep(hadoopJarStepConfig)\r\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\r\n\r\n                HadoopJarStepConfig hadoopJarStepConfig2 = HadoopJarStepConfig.builder()\r\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + CountNrTr + jarPostfix)\r\n                                .mainClass(packageName + CountNrTr)\r\n                                .args(??????????????????????)\r\n                                .build();\r\n                steps.add(StepConfig.builder().name(CountNrTr).hadoopJarStep(hadoopJarStepConfig2)\r\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\r\n\r\n                HadoopJarStepConfig hadoopJarStepConfig3 = HadoopJarStepConfig.builder()\r\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + JoinAndCalculate + jarPostfix)\r\n                                .mainClass(packageName + JoinAndCalculate)\r\n                                .args(??????????????????????)\r\n                                .build();\r\n                steps.add(StepConfig.builder().name(JoinAndCalculate).hadoopJarStep(hadoopJarStepConfig3)\r\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\r\n\r\n                HadoopJarStepConfig hadoopJarStepConfig4 = HadoopJarStepConfig.builder()\r\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + ValueToKeySort + jarPostfix)\r\n                                .mainClass(packageName + ValueToKeySort)\r\n                                .args(??????????????????????)\r\n                                .build();\r\n                steps.add(StepConfig.builder().name(ValueToKeySort).hadoopJarStep(hadoopJarStepConfig4)\r\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\r\n\r\n                JobFlowInstancesConfig instances = JobFlowInstancesConfig.builder()\r\n                                .instanceCount(2)\r\n                                .masterInstanceType(&quot;m4.large&quot;)\r\n                                .slaveInstanceType(&quot;m4.large&quot;)\r\n                                .hadoopVersion(&quot;3.3.4&quot;)\r\n                                .ec2KeyName(myKeyPair)\r\n                                .keepJobFlowAliveWhenNoSteps(false)\r\n                                .placement(PlacementType.builder().availabilityZone(&quot;us-east-1a&quot;).build()).build();\r\n```\r\n","title":"in aws emr job flow, does each step receive the output from the previous step?","body":"<p>I am making a map reduce program in Java that has 4 steps.\neach step is operating on the output of the previous step.</p>\n<p>I ran those steps locally and manually so far, and i want to start running on AWS EMR using Job Flow.<br />\nmy professor gave us some code to configure steps for a job flow, but now we face a problem:</p>\n<p>each one of my steps is expecting input and output paths as the args of its main function.\nJobFlow allows me to transfer args to each step, but for my understanding each step in a job flow is supposed to receive the output of the previous step automatically</p>\n<p>Does anyone know if this is true?\nhow does the map-reduce app in the step realizes where its input is? is the path passed to it implicitly as arguments from the JobFlow?</p>\n<p>I am using AWS SDK 2 for Java.</p>\n<p>my code:</p>\n<pre><code> public static void main(String args[]) throws IOException, ClassNotFoundException, InterruptedException {\n                // AwsCredentialsProvider credentialsProvider = StaticCredentialsProvider\n                // .create(ProfileCredentialsProvider.create().resolveCredentials());\n\n                EmrClient mapReduce = EmrClient.builder().credentialsProvider(ProfileCredentialsProvider.create())\n                                .build();\n                List&lt;StepConfig&gt; steps = new LinkedList&lt;StepConfig&gt;();\n\n                HadoopJarStepConfig hadoopJarStepConfig = HadoopJarStepConfig.builder()\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + NCount + jarPostfix)\n                                .mainClass(packageName + NCount)\n                                .args(??????????????????????)\n                                .build();\n                steps.add(StepConfig.builder().name(NCount).hadoopJarStep(hadoopJarStepConfig)\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\n\n                HadoopJarStepConfig hadoopJarStepConfig2 = HadoopJarStepConfig.builder()\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + CountNrTr + jarPostfix)\n                                .mainClass(packageName + CountNrTr)\n                                .args(??????????????????????)\n                                .build();\n                steps.add(StepConfig.builder().name(CountNrTr).hadoopJarStep(hadoopJarStepConfig2)\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\n\n                HadoopJarStepConfig hadoopJarStepConfig3 = HadoopJarStepConfig.builder()\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + JoinAndCalculate + jarPostfix)\n                                .mainClass(packageName + JoinAndCalculate)\n                                .args(??????????????????????)\n                                .build();\n                steps.add(StepConfig.builder().name(JoinAndCalculate).hadoopJarStep(hadoopJarStepConfig3)\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\n\n                HadoopJarStepConfig hadoopJarStepConfig4 = HadoopJarStepConfig.builder()\n                                .jar(&quot;s3n://&quot; + myBucketName + &quot;/&quot; + ValueToKeySort + jarPostfix)\n                                .mainClass(packageName + ValueToKeySort)\n                                .args(??????????????????????)\n                                .build();\n                steps.add(StepConfig.builder().name(ValueToKeySort).hadoopJarStep(hadoopJarStepConfig4)\n                                .actionOnFailure(&quot;TERMINATE_JOB_FLOW&quot;).build());\n\n                JobFlowInstancesConfig instances = JobFlowInstancesConfig.builder()\n                                .instanceCount(2)\n                                .masterInstanceType(&quot;m4.large&quot;)\n                                .slaveInstanceType(&quot;m4.large&quot;)\n                                .hadoopVersion(&quot;3.3.4&quot;)\n                                .ec2KeyName(myKeyPair)\n                                .keepJobFlowAliveWhenNoSteps(false)\n                                .placement(PlacementType.builder().availabilityZone(&quot;us-east-1a&quot;).build()).build();\n</code></pre>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673312328,"creation_date":1673274475,"answer_id":75058704,"question_id":75058543,"body_markdown":"Sounds like you need a real client, not a dummy one. Kafka needs installed somewhere for any client to work, however. \r\n\r\nYou therefore need to write code in any language that offers a Kafka library to do this. You seem to previously used Spark, so  use that to read JSON and write to Kafka, for example. \r\n\r\nOtherwise, you need to download Kafka, rather than &quot;install&quot;, to get CLI tools for producers and consumers.\r\n\r\nOr, you can install `kcat` for the same. Ex. Producing a file of json-lines\r\n\r\n```\r\nkcat -P -b localhost:9092 -t data-topic &lt; data.jsonl\r\n```","title":"how to create dummy kafka producer and consumer?","body":"<p>Sounds like you need a real client, not a dummy one. Kafka needs installed somewhere for any client to work, however.</p>\n<p>You therefore need to write code in any language that offers a Kafka library to do this. You seem to previously used Spark, so  use that to read JSON and write to Kafka, for example.</p>\n<p>Otherwise, you need to download Kafka, rather than &quot;install&quot;, to get CLI tools for producers and consumers.</p>\n<p>Or, you can install <code>kcat</code> for the same. Ex. Producing a file of json-lines</p>\n<pre><code>kcat -P -b localhost:9092 -t data-topic &lt; data.jsonl\n</code></pre>\n"}],"owner":{"account_id":23516184,"reputation":337,"user_id":17564051,"display_name":"Oxana Grey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75058704,"answer_count":1,"score":-1,"last_activity_date":1673312328,"creation_date":1673273681,"question_id":75058543,"body_markdown":"I&#39;m working on small assignment, where I need to read json messages like we read from kakfa. But as of now I&#39;ve not kafka installed in my machine. \r\n\r\nI&#39;ve list of json strings in a file and I want to read that file and send single json string as message to producer and consume using consumer until all json strings are sent by producer.\r\n\r\nIs there any way I could create any dummy producer and consumer like kafka in my work ? Because once am done I need to share that code with other person to run it in their machine.\r\n\r\nCan anyone share any ideas or reference to do it ?\r\n\r\n","title":"how to create dummy kafka producer and consumer?","body":"<p>I'm working on small assignment, where I need to read json messages like we read from kakfa. But as of now I've not kafka installed in my machine.</p>\n<p>I've list of json strings in a file and I want to read that file and send single json string as message to producer and consume using consumer until all json strings are sent by producer.</p>\n<p>Is there any way I could create any dummy producer and consumer like kafka in my work ? Because once am done I need to share that code with other person to run it in their machine.</p>\n<p>Can anyone share any ideas or reference to do it ?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":2,"creation_date":1673278750,"post_id":75058694,"comment_id":132457296,"body_markdown":"Configuration looks correct; if you are using Boot, it should automatically configure a `KafkaAdmin` bean; use a debugger in `KafkaAdmin.afterSingletonsInstantiated()` to see what&#39;s going wrong.","body":"Configuration looks correct; if you are using Boot, it should automatically configure a <code>KafkaAdmin</code> bean; use a debugger in <code>KafkaAdmin.afterSingletonsInstantiated()</code> to see what&#39;s going wrong."},{"owner":{"account_id":18695929,"reputation":81,"user_id":13629257,"display_name":"prateek jangid"},"score":1,"creation_date":1673283150,"post_id":75058694,"comment_id":132459054,"body_markdown":"@GaryRussell Thanks for helping out.Issue of replica factor number mismatch.","body":"@GaryRussell Thanks for helping out.Issue of replica factor number mismatch."},{"owner":{"account_id":13694632,"reputation":411,"user_id":9881640,"display_name":"Vipul Gupta"},"score":1,"creation_date":1673283767,"post_id":75058694,"comment_id":132459281,"body_markdown":"@prateekjangid Replication factor value is more than the number of Brokers which is the potential issue seems like.","body":"@prateekjangid Replication factor value is more than the number of Brokers which is the potential issue seems like."}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673312258,"creation_date":1673312258,"answer_id":75064410,"question_id":75058694,"body_markdown":"As shown by the CLI describe output, you only have one broker. Therefore, you are limited to one replica, rather than 2. ","title":"Partition not getting created in kafka spring boot","body":"<p>As shown by the CLI describe output, you only have one broker. Therefore, you are limited to one replica, rather than 2.</p>\n"}],"owner":{"account_id":18695929,"reputation":81,"user_id":13629257,"display_name":"prateek jangid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75064410,"answer_count":1,"score":3,"last_activity_date":1673312258,"creation_date":1673274435,"question_id":75058694,"body_markdown":"I am creating topic dynamically in spring boot on my local machine.But when described the the topic there was only one partition.\r\nBelow is the code.\r\n\r\n\r\n        @Bean\r\n            public NewTopic newTopic() {\r\n        \r\n                return new NewTopic(&quot;kafkaTopic&quot;,20,(short)2);\r\n     //return TopicBuilder.name(&quot;kafkaTopic&quot;).partitions(15).replicas(2).build();// tried with as well.\r\n            }\r\n\r\no/p:-\r\n\r\n    Topic: kafkaTopic\tTopicId: ZiypKK48Q0GqcNwsx6323Q\tPartitionCount: 1\tReplicationFactor: Configs: \r\n    \tTopic: kafkaTopic\tPartition: 0\tLeader: 0\tReplicas: 0\tIsr: 0\r\n\r\n\r\nLooked through net but not able to resolve issue.\r\n\r\nConfig code\r\n\r\n    @Bean\r\n        public ProducerFactory&lt;String, String&gt; producerFactoryString() {\r\n            Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n    \r\n            configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\r\n            configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n            configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n    \r\n            return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n        }\r\n    \r\n    @Bean\r\n        public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n            Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n            configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\r\n            configProps.put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\r\n            configProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            configProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            configProps.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, &quot;200&quot;);\r\n            configProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n            configProps.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, &quot;550000&quot;);\r\n            configProps.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n            configProps.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, &quot;55000&quot;);\r\n            configProps.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG, &quot;25000&quot;);\r\n    \r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(configProps);\r\n        }\r\n\r\n\r\nDid i miss any configuration or anything to add?\r\n\r\n","title":"Partition not getting created in kafka spring boot","body":"<p>I am creating topic dynamically in spring boot on my local machine.But when described the the topic there was only one partition.\nBelow is the code.</p>\n<pre><code>    @Bean\n        public NewTopic newTopic() {\n    \n            return new NewTopic(&quot;kafkaTopic&quot;,20,(short)2);\n //return TopicBuilder.name(&quot;kafkaTopic&quot;).partitions(15).replicas(2).build();// tried with as well.\n        }\n</code></pre>\n<p>o/p:-</p>\n<pre><code>Topic: kafkaTopic   TopicId: ZiypKK48Q0GqcNwsx6323Q PartitionCount: 1   ReplicationFactor: Configs: \n    Topic: kafkaTopic   Partition: 0    Leader: 0   Replicas: 0 Isr: 0\n</code></pre>\n<p>Looked through net but not able to resolve issue.</p>\n<p>Config code</p>\n<pre><code>@Bean\n    public ProducerFactory&lt;String, String&gt; producerFactoryString() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n    }\n\n@Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, server);\n        configProps.put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\n        configProps.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        configProps.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        configProps.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, &quot;200&quot;);\n        configProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n        configProps.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, &quot;550000&quot;);\n        configProps.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        configProps.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG, &quot;55000&quot;);\n        configProps.put(ConsumerConfig.HEARTBEAT_INTERVAL_MS_CONFIG, &quot;25000&quot;);\n\n        return new DefaultKafkaConsumerFactory&lt;&gt;(configProps);\n    }\n</code></pre>\n<p>Did i miss any configuration or anything to add?</p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1673311745,"post_id":75063524,"comment_id":132466145,"body_markdown":"There is no relation. Maven is a build tool. Spring is an app framework. The app code is totally unaware of the existence of maven.","body":"There is no relation. Maven is a build tool. Spring is an app framework. The app code is totally unaware of the existence of maven."}],"answers":[{"tags":[],"owner":{"account_id":1656890,"reputation":8197,"user_id":1526192,"display_name":"Phil Webb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673311687,"creation_date":1673311687,"answer_id":75064376,"question_id":75063524,"body_markdown":"`SpringApplication.run` doesn&#39;t read the `pom.xml` file, it works at a higher level of abstraction. The `pom.xml` file is used by your IDE or by the `mvn` command line application to download dependencies and configure your applications classpath.\r\n\r\nBy the time that `SpringApplication.run` is called, the classpath is fully configured but `SpringApplication` itself isn&#39;t aware about how this was done.\r\n\r\nAuto-configuration occurs by searching the all jars on the classpath looking for a files named `META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports` (if you&#39;re using a recent version). Once these files have been found, the classes listed within them are loaded and used for configuration.\r\n\r\nIf you want to step though the code, you can set a breakpoint at `AutoConfigurationImportSelector.getCandidateConfigurations(...)` and see the auto-configuration candidate classes get found. The exact auto-configurations that get applied will depend on the `@Condition...` annotations on them. ","title":"What is the relationship between Spring Boot and the Maven pom.xml file?","body":"<p><code>SpringApplication.run</code> doesn't read the <code>pom.xml</code> file, it works at a higher level of abstraction. The <code>pom.xml</code> file is used by your IDE or by the <code>mvn</code> command line application to download dependencies and configure your applications classpath.</p>\n<p>By the time that <code>SpringApplication.run</code> is called, the classpath is fully configured but <code>SpringApplication</code> itself isn't aware about how this was done.</p>\n<p>Auto-configuration occurs by searching the all jars on the classpath looking for a files named <code>META-INF/spring/org.springframework.boot.autoconfigure.AutoConfiguration.imports</code> (if you're using a recent version). Once these files have been found, the classes listed within them are loaded and used for configuration.</p>\n<p>If you want to step though the code, you can set a breakpoint at <code>AutoConfigurationImportSelector.getCandidateConfigurations(...)</code> and see the auto-configuration candidate classes get found. The exact auto-configurations that get applied will depend on the <code>@Condition...</code> annotations on them.</p>\n"}],"owner":{"account_id":10702514,"reputation":61,"user_id":7877351,"display_name":"Psi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75064376,"answer_count":1,"score":0,"last_activity_date":1673311687,"creation_date":1673302502,"question_id":75063524,"body_markdown":"I use maven to build spring boot applications. I know that the maven spring-boot dependencies have annotations (such as `@AutoConfiguration` or `@Condition*`). At what point in the `SpringApplication.run` method in the main class does it actually read from the `pom.xml` file? I&#39;m stepping through the code line by line and I can&#39;t figure out at what point does Spring Boot interact with the `pom.xml` file.\r\n\r\nThe `@EnableAutoConfiguration` enables auto-cofiguration of the Application Context based on jar files in the classpath and user-defined beans, so presumably the pom.xml eventually gets added as a source and the annotations in the dependencies are read when the auto-configuration state is running, but I can&#39;t figure out where or when it does so. \r\n","title":"What is the relationship between Spring Boot and the Maven pom.xml file?","body":"<p>I use maven to build spring boot applications. I know that the maven spring-boot dependencies have annotations (such as <code>@AutoConfiguration</code> or <code>@Condition*</code>). At what point in the <code>SpringApplication.run</code> method in the main class does it actually read from the <code>pom.xml</code> file? I'm stepping through the code line by line and I can't figure out at what point does Spring Boot interact with the <code>pom.xml</code> file.</p>\n<p>The <code>@EnableAutoConfiguration</code> enables auto-cofiguration of the Application Context based on jar files in the classpath and user-defined beans, so presumably the pom.xml eventually gets added as a source and the annotations in the dependencies are read when the auto-configuration state is running, but I can't figure out where or when it does so.</p>\n"},{"tags":["java","tomcat","classcastexception"],"comments":[{"owner":{"account_id":15345109,"reputation":592,"user_id":11070778,"display_name":"Edward"},"score":0,"creation_date":1661597842,"post_id":73457793,"comment_id":129813052,"body_markdown":"I&#39;m getting this as well, but with Tomcat 9 and on linux (not running through eclipse). It happens when I deploy a new war file.","body":"I&#39;m getting this as well, but with Tomcat 9 and on linux (not running through eclipse). It happens when I deploy a new war file."},{"owner":{"account_id":1313784,"reputation":1928,"user_id":1261193,"accept_rate":40,"display_name":"woodvi"},"score":0,"creation_date":1661728180,"post_id":73457793,"comment_id":129834284,"body_markdown":"We started experiencing the same problem. No code changes at all, and the builds just started failing around 8/16-8/18. We can even deploy an old build and that works fine. We can deploy inside of IntelliJ, but when it goes out to an actual server it fails (opposite of you).\n\nWe are running our server on AWS Elastic Beanstalk with Tomcat 8.5, Corretto 11, on Amazon Linux 2\n\nDoes your app use JAXB ?","body":"We started experiencing the same problem. No code changes at all, and the builds just started failing around 8/16-8/18. We can even deploy an old build and that works fine. We can deploy inside of IntelliJ, but when it goes out to an actual server it fails (opposite of you).  We are running our server on AWS Elastic Beanstalk with Tomcat 8.5, Corretto 11, on Amazon Linux 2  Does your app use JAXB ?"},{"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"score":0,"creation_date":1661764703,"post_id":73457793,"comment_id":129840856,"body_markdown":"I&#39;m using org.glassfish.jaxb:jaxb-runtime:4.0.0. I intend to compare some different Tomcat minor revisions, but I have not found the time yet. I hope that will be possible quicker with Eclipse 2022-09, currently I could only install newer Tomcat releases by hand.","body":"I&#39;m using org.glassfish.jaxb:jaxb-runtime:4.0.0. I intend to compare some different Tomcat minor revisions, but I have not found the time yet. I hope that will be possible quicker with Eclipse 2022-09, currently I could only install newer Tomcat releases by hand."}],"answers":[{"tags":[],"owner":{"account_id":4203139,"reputation":299,"user_id":3442763,"display_name":"Glucide"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1661929114,"creation_date":1661929114,"answer_id":73551982,"question_id":73457793,"body_markdown":"I got the same problem after upgrading my IDE.  \r\nAfter comparing the both tomcat logs, I saw that there were using 2 different jvm&#39;s.\r\nIndeed I had upgraded the jdk and the ide!\r\n\r\nThe problem is appeared with jvm11.0.16, no exception with jvm11.0.11 even on the latest ide version.\r\n\r\nThis is the explanation, but the solution consisting to keep the old jvm may be not very good...\r\n\r\nSo I did **upgrade Tomcat to the latest version** (8.5.82 in my case) and it solved the problem. I guess it is due to this feature (see tomcat changelog):\r\n \r\n\r\n&gt; Disable the memory leak correction code enabled by the Context\r\n&gt; attribute clearReferencesObjectStreamClassCaches when running on a JRE\r\n&gt; that includes a fix for the underlying memory leak. (markt)\r\n\r\n","title":"ClassCastException when stopping Tomcat 10 inside Eclipse","body":"<p>I got the same problem after upgrading my IDE.<br />\nAfter comparing the both tomcat logs, I saw that there were using 2 different jvm's.\nIndeed I had upgraded the jdk and the ide!</p>\n<p>The problem is appeared with jvm11.0.16, no exception with jvm11.0.11 even on the latest ide version.</p>\n<p>This is the explanation, but the solution consisting to keep the old jvm may be not very good...</p>\n<p>So I did <strong>upgrade Tomcat to the latest version</strong> (8.5.82 in my case) and it solved the problem. I guess it is due to this feature (see tomcat changelog):</p>\n<blockquote>\n<p>Disable the memory leak correction code enabled by the Context\nattribute clearReferencesObjectStreamClassCaches when running on a JRE\nthat includes a fix for the underlying memory leak. (markt)</p>\n</blockquote>\n"}],"owner":{"account_id":20561213,"reputation":160,"user_id":15091679,"display_name":"Tim Lammarsch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12471,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":73551982,"answer_count":1,"score":10,"last_activity_date":1673311636,"creation_date":1661253592,"question_id":73457793,"body_markdown":"I am using Eclipse 2022-06 and Tomcat 10.0.10.\r\n\r\nOften, when shutting down Tomcat running inside Eclipse, I get \r\n\r\n    WARNUNG: Failed to clear soft references from ObjectStreamClass$Caches for web application [ROOT]\r\n    java.lang.ClassCastException: class java.io.ObjectStreamClass$Caches$1 cannot be cast to class java.util.Map (java.io.ObjectStreamClass$Caches$1 and java.util.Map are in module java.base of loader &#39;bootstrap&#39;)\r\n    \tat org.apache.catalina.loader.WebappClassLoaderBase.clearCache(WebappClassLoaderBase.java:2363)\r\n...\r\n\r\nI have found [this][1] question, but it does not really apply: It&#39;s a different class (Map instead of String) and I cannot find a file called &quot;SESSIONS.ser&quot;. I also have already removed everything from the actual web service part (so the code is doing nothing). I just have not started to remove all the jar files linked that are probably loaded automatically.\r\n\r\nIs there any way to find out which class actually causes the problem?\r\n\r\nBy the way, if by deploying a WAR file to a Tomcat installation outside Eclipse, I was not able to reproduce the error in the log. I am unsure whether that means it does not appear.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34553583/java-lang-classcastexception-java-io-objectstreamclass-cannot-be-cast-to-java-l","title":"ClassCastException when stopping Tomcat 10 inside Eclipse","body":"<p>I am using Eclipse 2022-06 and Tomcat 10.0.10.</p>\n<p>Often, when shutting down Tomcat running inside Eclipse, I get</p>\n<pre><code>WARNUNG: Failed to clear soft references from ObjectStreamClass$Caches for web application [ROOT]\njava.lang.ClassCastException: class java.io.ObjectStreamClass$Caches$1 cannot be cast to class java.util.Map (java.io.ObjectStreamClass$Caches$1 and java.util.Map are in module java.base of loader 'bootstrap')\n    at org.apache.catalina.loader.WebappClassLoaderBase.clearCache(WebappClassLoaderBase.java:2363)\n</code></pre>\n<p>...</p>\n<p>I have found <a href=\"https://stackoverflow.com/questions/34553583/java-lang-classcastexception-java-io-objectstreamclass-cannot-be-cast-to-java-l\">this</a> question, but it does not really apply: It's a different class (Map instead of String) and I cannot find a file called &quot;SESSIONS.ser&quot;. I also have already removed everything from the actual web service part (so the code is doing nothing). I just have not started to remove all the jar files linked that are probably loaded automatically.</p>\n<p>Is there any way to find out which class actually causes the problem?</p>\n<p>By the way, if by deploying a WAR file to a Tomcat installation outside Eclipse, I was not able to reproduce the error in the log. I am unsure whether that means it does not appear.</p>\n"},{"tags":["java","android","xml","calculation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673342100,"post_id":75063684,"comment_id":132471523,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":14060422,"reputation":36,"user_id":10156638,"display_name":"buffman23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673310882,"creation_date":1673310882,"answer_id":75064308,"question_id":75063684,"body_markdown":"I am assuming this is a string you are trying to manipulate. Ex &quot;10.5+6\\*7.0&quot;.\r\nI will assume you are storing the user input in a StringBuilder.&lt;br&gt;\r\nEvery time the user types a character you append it to the StringBuilder. Always keep track of the rightmost &quot;number delimiter&quot; in the string. Delimiter Examples: +-*/%()[]. You know the current number being typed begins after the rightmost delimiter. Check the chars from delimiter to string length to see if there is already a decimal in the number.\r\n\r\n```\r\nimport java.util.*;\r\nimport javax.script.ScriptEngineManager;\r\nimport javax.script.ScriptEngine;\r\nimport javax.script.ScriptException;\r\n\r\nclass Foo {\r\n    int rightmostDelimiterIdx = 0;\r\n    List&lt;Character&gt; delimiters = Arrays.asList(&#39;+&#39;, &#39;-&#39;, &#39;*&#39;, &#39;/&#39;, &#39;%&#39;, &#39;(&#39;, &#39;)&#39;, &#39;[&#39;, &#39;]&#39;);\r\n    \r\n    public static void main(String[] args){\r\n    \tFoo foo = new Foo();\r\n        try {\r\n\t\t\tfoo.run();\r\n\t\t} catch (ScriptException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n    \r\n    public void run() throws ScriptException\r\n    {\r\n    \tStringBuilder sb = new StringBuilder(); // store user input\r\n        ScriptEngineManager mgr = new ScriptEngineManager(); // evaluate expression with JavaScript\r\n        ScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n        \r\n        // User types:5.0*7\r\n        charTyped(sb, &#39;5&#39;);\r\n        charTyped(sb,&#39;.&#39;);\r\n        charTyped(sb,&#39;0&#39;);\r\n        charTyped(sb,&#39;*&#39;);\r\n        charTyped(sb,&#39;7&#39;);\r\n        System.out.println(engine.eval(sb.toString()));\r\n        sb.setLength(0);\r\n        // User types:8+2.3.3\r\n        charTyped(sb, &#39;8&#39;);\r\n        charTyped(sb,&#39;+&#39;);\r\n        charTyped(sb,&#39;2&#39;);\r\n        charTyped(sb,&#39;.&#39;);\r\n        charTyped(sb,&#39;3&#39;);\r\n        charTyped(sb,&#39;.&#39;); // second decimal will be rejected, thus string will be &quot;8+2.33&quot;\r\n        charTyped(sb,&#39;3&#39;);\r\n        System.out.println(engine.eval(sb.toString()));\r\n    }\r\n    \r\n    // appends c to sb if valid operation\r\n    public void charTyped(StringBuilder sb, char c)\r\n    {\r\n        if(delimiters.contains(c)) {\r\n            rightmostDelimiterIdx = sb.length();\r\n        } else if(c == &#39;.&#39; &amp;&amp; sb.indexOf(&quot;.&quot;, rightmostDelimiterIdx) != -1) {\r\n        \treturn; // do not add &#39;.&#39; b/c already exists in number\r\n        }\r\n        \r\n        sb.append(c);\r\n    }\r\n    \r\n    public void charDeleted(StringBuilder sb, char c) {\r\n    \t// I leave implementation up to you\r\n    }\r\n}\r\n```\r\n\r\nOutput:&lt;br&gt;\r\n35.0&lt;br&gt;\r\n10.33","title":"How do I allow a decimal point only in certain circumstance for my calculator app in android studio?","body":"<p>I am assuming this is a string you are trying to manipulate. Ex &quot;10.5+6*7.0&quot;.\nI will assume you are storing the user input in a StringBuilder.<br>\nEvery time the user types a character you append it to the StringBuilder. Always keep track of the rightmost &quot;number delimiter&quot; in the string. Delimiter Examples: +-*/%()[]. You know the current number being typed begins after the rightmost delimiter. Check the chars from delimiter to string length to see if there is already a decimal in the number.</p>\n<pre><code>import java.util.*;\nimport javax.script.ScriptEngineManager;\nimport javax.script.ScriptEngine;\nimport javax.script.ScriptException;\n\nclass Foo {\n    int rightmostDelimiterIdx = 0;\n    List&lt;Character&gt; delimiters = Arrays.asList('+', '-', '*', '/', '%', '(', ')', '[', ']');\n    \n    public static void main(String[] args){\n        Foo foo = new Foo();\n        try {\n            foo.run();\n        } catch (ScriptException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public void run() throws ScriptException\n    {\n        StringBuilder sb = new StringBuilder(); // store user input\n        ScriptEngineManager mgr = new ScriptEngineManager(); // evaluate expression with JavaScript\n        ScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);\n        \n        // User types:5.0*7\n        charTyped(sb, '5');\n        charTyped(sb,'.');\n        charTyped(sb,'0');\n        charTyped(sb,'*');\n        charTyped(sb,'7');\n        System.out.println(engine.eval(sb.toString()));\n        sb.setLength(0);\n        // User types:8+2.3.3\n        charTyped(sb, '8');\n        charTyped(sb,'+');\n        charTyped(sb,'2');\n        charTyped(sb,'.');\n        charTyped(sb,'3');\n        charTyped(sb,'.'); // second decimal will be rejected, thus string will be &quot;8+2.33&quot;\n        charTyped(sb,'3');\n        System.out.println(engine.eval(sb.toString()));\n    }\n    \n    // appends c to sb if valid operation\n    public void charTyped(StringBuilder sb, char c)\n    {\n        if(delimiters.contains(c)) {\n            rightmostDelimiterIdx = sb.length();\n        } else if(c == '.' &amp;&amp; sb.indexOf(&quot;.&quot;, rightmostDelimiterIdx) != -1) {\n            return; // do not add '.' b/c already exists in number\n        }\n        \n        sb.append(c);\n    }\n    \n    public void charDeleted(StringBuilder sb, char c) {\n        // I leave implementation up to you\n    }\n}\n</code></pre>\n<p>Output:<br>\n35.0<br>\n10.33</p>\n"}],"owner":{"account_id":27471919,"reputation":47,"user_id":20960654,"display_name":"Marfog509"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673310882,"creation_date":1673303881,"question_id":75063684,"body_markdown":"I am trying to figure out on how to allow only a decimal point for every decimal number. \r\n\r\nI have been able to allow only 1 decimal on the output when the user is inputting his equation, but I can&#39;t figure out how to allow the user to input a decimal point whenever he wants to have more than 1 decimal number on the screen.  At this moment, my code only allows only 1 decimal point on screen. \r\n\r\nHow do I change this to allow it for every number without adding decimal points in incorrect places?\r\n\r\n","title":"How do I allow a decimal point only in certain circumstance for my calculator app in android studio?","body":"<p>I am trying to figure out on how to allow only a decimal point for every decimal number.</p>\n<p>I have been able to allow only 1 decimal on the output when the user is inputting his equation, but I can't figure out how to allow the user to input a decimal point whenever he wants to have more than 1 decimal number on the screen.  At this moment, my code only allows only 1 decimal point on screen.</p>\n<p>How do I change this to allow it for every number without adding decimal points in incorrect places?</p>\n"},{"tags":["java","string","immutability"],"comments":[{"owner":{"account_id":37484,"reputation":27768,"user_id":107158,"accept_rate":87,"display_name":"Derek Mahar"},"score":1,"creation_date":1260372603,"post_id":279507,"comment_id":1773175,"body_markdown":"When you said StringBuilder, didn&#39;t you mean the mutable class StringBuffer?  String and StringBuffer are more similar in function than are String and StringBuilder.  StringBuffer is effectively a mutable string.","body":"When you said StringBuilder, didn&#39;t you mean the mutable class StringBuffer?  String and StringBuffer are more similar in function than are String and StringBuilder.  StringBuffer is effectively a mutable string."},{"owner":{"account_id":1319802,"reputation":1332,"user_id":1265850,"accept_rate":79,"display_name":"R D"},"score":0,"creation_date":1407996165,"post_id":279507,"comment_id":39433494,"body_markdown":"http://stackoverflow.com/questions/2971315/string-stringbuffer-and-stringbuilder/2971343#2971343","body":"<a href=\"http://stackoverflow.com/questions/2971315/string-stringbuffer-and-stringbuilder/2971343#2971343\" title=\"string stringbuffer and stringbuilder\">stackoverflow.com/questions/2971315/&hellip;</a>"},{"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"score":0,"creation_date":1683839712,"post_id":279507,"comment_id":134432362,"body_markdown":"For a deeper discussion of immutability, including immutability AFTER the constructor has completed and the instance has become available: https://stackoverflow.com/a/75043881/501113","body":"For a deeper discussion of immutability, including immutability AFTER the constructor has completed and the instance has become available: <a href=\"https://stackoverflow.com/a/75043881/501113\">stackoverflow.com/a/75043881/501113</a>"}],"answers":[{"tags":[],"owner":{"account_id":2169,"reputation":3168,"user_id":2985,"accept_rate":56,"display_name":"stjohnroe"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1226358424,"creation_date":1226358424,"answer_id":279513,"question_id":279507,"body_markdown":"Once instanciated, cannot be altered. Consider a class that an instance of might be used as the key for a hashtable or similar. Check out Java best practices.","title":"What is meant by immutable?","body":"<p>Once instanciated, cannot be altered. Consider a class that an instance of might be used as the key for a hashtable or similar. Check out Java best practices.</p>\n"},{"tags":[],"owner":{"account_id":8894,"reputation":1326,"user_id":16201,"display_name":"eishay"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1462390092,"creation_date":1226358473,"answer_id":279515,"question_id":279507,"body_markdown":"Immutable means that once the object is created, non of its members will change. `String` is immutable since you can not change its content.\r\nFor example:\r\n\r\n    String s1 = &quot;  abc  &quot;;\r\n    String s2 = s1.trim();\r\n\r\nIn the code above, the string s1 did not change, another object (`s2`) was created using `s1`.","title":"What is meant by immutable?","body":"<p>Immutable means that once the object is created, non of its members will change. <code>String</code> is immutable since you can not change its content.\nFor example:</p>\n\n<pre><code>String s1 = \"  abc  \";\nString s2 = s1.trim();\n</code></pre>\n\n<p>In the code above, the string s1 did not change, another object (<code>s2</code>) was created using <code>s1</code>.</p>\n"},{"tags":[],"owner":{"account_id":2857,"reputation":8373,"user_id":4052,"accept_rate":92,"display_name":"Georgy Bolyuba"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1424843521,"creation_date":1226358516,"answer_id":279516,"question_id":279507,"body_markdown":"&quot;immutable&quot; means you cannot change value. If you have an instance of String class, any method you call which seems to modify the value, will actually create another String.\r\n\r\n    String foo = &quot;Hello&quot;;\r\n    foo.substring(3);\r\n    &lt;-- foo here still has the same value &quot;Hello&quot;\r\n\r\nTo preserve changes you should do something like this\r\n    foo = foo.sustring(3);\r\n\r\nImmutable vs mutable can be funny when you work with collections. Think about what will happen if you use mutable object as a key for map and then change the value (tip: think about `equals` and `hashCode`).","title":"What is meant by immutable?","body":"<p>\"immutable\" means you cannot change value. If you have an instance of String class, any method you call which seems to modify the value, will actually create another String.</p>\n\n<pre><code>String foo = \"Hello\";\nfoo.substring(3);\n&lt;-- foo here still has the same value \"Hello\"\n</code></pre>\n\n<p>To preserve changes you should do something like this\n    foo = foo.sustring(3);</p>\n\n<p>Immutable vs mutable can be funny when you work with collections. Think about what will happen if you use mutable object as a key for map and then change the value (tip: think about <code>equals</code> and <code>hashCode</code>).</p>\n"},{"tags":[],"owner":{"account_id":15446,"reputation":144228,"user_id":32632,"accept_rate":76,"display_name":"Charles Bretana"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1226358694,"creation_date":1226358694,"answer_id":279521,"question_id":279507,"body_markdown":"  One meaning has to do with how the value is stored in the computer,  For a .Net string for example, it means that the string in memory cannot be changed,   When you think you&#39;re changing it, you are in fact creating a new string in memory and pointing the existing variable (which is just a pointer to the actual collection of characters somewhere else) to the new string. ","title":"What is meant by immutable?","body":"<p>One meaning has to do with how the value is stored in the computer,  For a .Net string for example, it means that the string in memory cannot be changed,   When you think you're changing it, you are in fact creating a new string in memory and pointing the existing variable (which is just a pointer to the actual collection of characters somewhere else) to the new string. </p>\n"},{"tags":[],"owner":{"account_id":2815,"reputation":52564,"user_id":3978,"accept_rate":86,"display_name":"Douglas Leeder"},"down_vote_count":3,"up_vote_count":286,"is_accepted":true,"score":283,"last_activity_date":1582477871,"creation_date":1226358708,"answer_id":279522,"question_id":279507,"body_markdown":"Immutable means that once the constructor for an object has completed execution that instance can&#39;t be altered.\r\n\r\nThis is useful as it means you can pass references to the object around, without worrying that someone else is going to change its contents. *Especially when dealing with concurrency, there are no locking issues with objects that never change*\r\n\r\ne.g.\r\n\r\n    class Foo\r\n    {\r\n         private final String myvar;\r\n\r\n         public Foo(final String initialValue)\r\n         {\r\n             this.myvar = initialValue;\r\n         }\r\n\r\n         public String getValue()\r\n         {\r\n             return this.myvar;\r\n         }\r\n    }\r\n\r\n`Foo` doesn&#39;t have to worry that the caller to `getValue()` might change the text in the string.\r\n\r\nIf you imagine a similar class to `Foo`, but with a `StringBuilder` rather than a `String` as a member, you can see that a caller to `getValue()` would be able to alter the `StringBuilder` attribute of a `Foo` instance.\r\n\r\nAlso beware of the different kinds of immutability you might find: Eric Lippert wrote a [blog article][1] about this. Basically you can have objects whose interface is immutable but behind the scenes actual mutables private state (and therefore can&#39;t be shared safely between threads).\r\n\r\n\r\n  [1]: https://learn.microsoft.com/archive/blogs/ericlippert/immutability-in-c-part-one-kinds-of-immutability","title":"What is meant by immutable?","body":"<p>Immutable means that once the constructor for an object has completed execution that instance can't be altered.</p>\n\n<p>This is useful as it means you can pass references to the object around, without worrying that someone else is going to change its contents. <em>Especially when dealing with concurrency, there are no locking issues with objects that never change</em></p>\n\n<p>e.g.</p>\n\n<pre><code>class Foo\n{\n     private final String myvar;\n\n     public Foo(final String initialValue)\n     {\n         this.myvar = initialValue;\n     }\n\n     public String getValue()\n     {\n         return this.myvar;\n     }\n}\n</code></pre>\n\n<p><code>Foo</code> doesn't have to worry that the caller to <code>getValue()</code> might change the text in the string.</p>\n\n<p>If you imagine a similar class to <code>Foo</code>, but with a <code>StringBuilder</code> rather than a <code>String</code> as a member, you can see that a caller to <code>getValue()</code> would be able to alter the <code>StringBuilder</code> attribute of a <code>Foo</code> instance.</p>\n\n<p>Also beware of the different kinds of immutability you might find: Eric Lippert wrote a <a href=\"https://learn.microsoft.com/archive/blogs/ericlippert/immutability-in-c-part-one-kinds-of-immutability\" rel=\"noreferrer\">blog article</a> about this. Basically you can have objects whose interface is immutable but behind the scenes actual mutables private state (and therefore can't be shared safely between threads).</p>\n"},{"tags":[],"owner":{"account_id":15939,"reputation":78065,"user_id":34218,"display_name":"Jason Coco"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1226368947,"creation_date":1226359211,"answer_id":279537,"question_id":279507,"body_markdown":"Immutable objects are objects that can&#39;t be changed programmatically. They&#39;re especially good for multi-threaded environments or other environments where more than one process is able to alter (mutate) the values in an object.\r\n\r\nJust to clarify, however, StringBuilder is actually a mutable object, not an immutable one. A regular java String is immutable (meaning that once it&#39;s been created you cannot change the underlying string without changing the object).\r\n\r\nFor example, let&#39;s say that I have a class called ColoredString that has a String value and a String color:\r\n\r\n    public class ColoredString {\r\n    \t\r\n    \tprivate String color;\r\n    \tprivate String string;\r\n    \t\r\n    \tpublic ColoredString(String color, String string) {\r\n    \t\tthis.color  = color;\r\n    \t\tthis.string = string;\r\n    \t}\r\n    \t\r\n    \tpublic String getColor()  { return this.color;  }\r\n    \tpublic String getString() { return this.string; }\r\n    \t\r\n    \tpublic void setColor(String newColor) {\r\n    \t\tthis.color = newColor;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nIn this example, the ColoredString is said to be mutable because you can change (mutate) one of its key properties without creating a new ColoredString class. The reason why this may be bad is, for example, let&#39;s say you have a GUI application which has multiple threads and you are using ColoredStrings to print data to the window. If you have an instance of ColoredString which was created as\r\n\r\n    new ColoredString(&quot;Blue&quot;, &quot;This is a blue string!&quot;);\r\n\r\nThen you would expect the string to always be &quot;Blue&quot;. If another thread, however, got ahold of this instance and called\r\n\r\n    blueString.setColor(&quot;Red&quot;);\r\n\r\nYou would suddenly, and probably unexpectedly, now have a &quot;Red&quot; string when you wanted a &quot;Blue&quot; one. Because of this, immutable objects are almost always preferred when passing instances of objects around. When you have a case where mutable objects are really necessary, then you would typically guard the objet by only passing copies out from your specific field of control.\r\n\r\nTo recap, in Java, java.lang.String is an immutable object (it *cannot* be changed once it&#39;s created) and java.lang.StringBuilder is a mutable object because it can be changed without creating a new instance.\r\n\r\n","title":"What is meant by immutable?","body":"<p>Immutable objects are objects that can't be changed programmatically. They're especially good for multi-threaded environments or other environments where more than one process is able to alter (mutate) the values in an object.</p>\n\n<p>Just to clarify, however, StringBuilder is actually a mutable object, not an immutable one. A regular java String is immutable (meaning that once it's been created you cannot change the underlying string without changing the object).</p>\n\n<p>For example, let's say that I have a class called ColoredString that has a String value and a String color:</p>\n\n<pre><code>public class ColoredString {\n\n    private String color;\n    private String string;\n\n    public ColoredString(String color, String string) {\n        this.color  = color;\n        this.string = string;\n    }\n\n    public String getColor()  { return this.color;  }\n    public String getString() { return this.string; }\n\n    public void setColor(String newColor) {\n        this.color = newColor;\n    }\n\n}\n</code></pre>\n\n<p>In this example, the ColoredString is said to be mutable because you can change (mutate) one of its key properties without creating a new ColoredString class. The reason why this may be bad is, for example, let's say you have a GUI application which has multiple threads and you are using ColoredStrings to print data to the window. If you have an instance of ColoredString which was created as</p>\n\n<pre><code>new ColoredString(\"Blue\", \"This is a blue string!\");\n</code></pre>\n\n<p>Then you would expect the string to always be \"Blue\". If another thread, however, got ahold of this instance and called</p>\n\n<pre><code>blueString.setColor(\"Red\");\n</code></pre>\n\n<p>You would suddenly, and probably unexpectedly, now have a \"Red\" string when you wanted a \"Blue\" one. Because of this, immutable objects are almost always preferred when passing instances of objects around. When you have a case where mutable objects are really necessary, then you would typically guard the objet by only passing copies out from your specific field of control.</p>\n\n<p>To recap, in Java, java.lang.String is an immutable object (it <em>cannot</em> be changed once it's created) and java.lang.StringBuilder is a mutable object because it can be changed without creating a new instance.</p>\n"},{"tags":[],"owner":{"account_id":6190,"reputation":681,"user_id":10318,"accept_rate":71,"display_name":"wen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1226363603,"creation_date":1226363603,"answer_id":279675,"question_id":279507,"body_markdown":"I really like the explaination from [SCJP Sun Certified Programmer for Java 5 Study Guide][1].\r\n&gt; \r\nTo make Java more memory efficient, the JVM sets aside a special area of  memory called the &quot;String constant pool.&quot; When the compiler encounters a String literal, it checks the pool to see if  an identical String already exists. If  a match is found, the reference to the new literal is directed to the existing String, and no new String literal object is created. \r\n&gt; \r\n\r\n\r\n  [1]: http://www.amazon.com/Certified-Programmer-310-055-Certification-Guides/dp/0072253606/ref=pd_bbs_sr_2?ie=UTF8&amp;s=books&amp;qid=1226363595&amp;sr=8-2","title":"What is meant by immutable?","body":"<p>I really like the explaination from <a href=\"https://rads.stackoverflow.com/amzn/click/com/0072253606\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">SCJP Sun Certified Programmer for Java 5 Study Guide</a>.</p>\n\n<blockquote>\n  <p>To make Java more memory efficient, the JVM sets aside a special area of  memory called the \"String constant pool.\" When the compiler encounters a String literal, it checks the pool to see if  an identical String already exists. If  a match is found, the reference to the new literal is directed to the existing String, and no new String literal object is created. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16613,"reputation":147,"user_id":36393,"display_name":"user36393"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1226363945,"creation_date":1226363945,"answer_id":279687,"question_id":279507,"body_markdown":"An immutable object is the one you cannot modify after you create it. A typical example are string literals.\r\n\r\nA D programming language, which becomes increasingly popular, has a notion of &quot;immutability&quot; through &quot;invariant&quot; keyword. Check this Dr.Dobb&#39;s article about it - [http://dobbscodetalk.com/index.php?option=com_myblog&amp;show=Invariant-Strings.html&amp;Itemid=29][1] . It explains the problem perfectly.\r\n\r\n\r\n  [1]: http://dobbscodetalk.com/index.php?option=com_myblog&amp;show=Invariant-Strings.html&amp;Itemid=29","title":"What is meant by immutable?","body":"<p>An immutable object is the one you cannot modify after you create it. A typical example are string literals.</p>\n\n<p>A D programming language, which becomes increasingly popular, has a notion of \"immutability\" through \"invariant\" keyword. Check this Dr.Dobb's article about it - <a href=\"http://dobbscodetalk.com/index.php?option=com_myblog&amp;show=Invariant-Strings.html&amp;Itemid=29\" rel=\"nofollow noreferrer\">http://dobbscodetalk.com/index.php?option=com_myblog&amp;show=Invariant-Strings.html&amp;Itemid=29</a> . It explains the problem perfectly.</p>\n"},{"tags":[],"owner":{"account_id":5059,"reputation":8280,"user_id":7938,"display_name":"Bill Michell"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1226401532,"creation_date":1226401532,"answer_id":280622,"question_id":279507,"body_markdown":"Objects which are immutable can not have their state changed after they have been created.\r\n\r\nThere are three main reasons to use immutable objects whenever you can, all of which will help to reduce the number of bugs you introduce in your code:\r\n\r\n  - It is much easier to reason about how your program works when you know that an object&#39;s state cannot be changed by another method\r\n  - Immutable objects are automatically thread safe (assuming they are published safely) so will never be the cause of those hard-to-pin-down multithreading bugs\r\n  - Immutable objects will always have the same Hash code, so they can be used as the keys in a HashMap (or similar). If the hash code of an element in a hash table was to change, the table entry would then effectively be lost, since attempts to find it in the table would end up looking in the wrong place. This is the main reason that String objects are immutable - they are frequently used as HashMap keys.\r\n\r\nThere are also some other optimisations you might be able to make in code when you know that the state of an object is immutable - caching the calculated hash, for example - but these are optimisations and therefore not nearly so interesting.\r\n\r\n","title":"What is meant by immutable?","body":"<p>Objects which are immutable can not have their state changed after they have been created.</p>\n\n<p>There are three main reasons to use immutable objects whenever you can, all of which will help to reduce the number of bugs you introduce in your code:</p>\n\n<ul>\n<li>It is much easier to reason about how your program works when you know that an object's state cannot be changed by another method</li>\n<li>Immutable objects are automatically thread safe (assuming they are published safely) so will never be the cause of those hard-to-pin-down multithreading bugs</li>\n<li>Immutable objects will always have the same Hash code, so they can be used as the keys in a HashMap (or similar). If the hash code of an element in a hash table was to change, the table entry would then effectively be lost, since attempts to find it in the table would end up looking in the wrong place. This is the main reason that String objects are immutable - they are frequently used as HashMap keys.</li>\n</ul>\n\n<p>There are also some other optimisations you might be able to make in code when you know that the state of an object is immutable - caching the calculated hash, for example - but these are optimisations and therefore not nearly so interesting.</p>\n"},{"tags":[],"owner":{"display_name":"Gary Frost"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1233768870,"creation_date":1233768870,"answer_id":512458,"question_id":279507,"body_markdown":"Actually String is not immutable if you use the wikipedia definition suggested above. \r\n\r\nString&#39;s state does change post construction. Take a look at the hashcode() method.  String caches the hashcode value in a local field but does not calculate it until the first call of hashcode().  This lazy evaluation of hashcode places String in an interesting position as an immutable object whose state changes, but it cannot be observed to have changed without using reflection. \r\n\r\nSo maybe the definition of immutable should be an object that cannot be observed to have changed. \r\n\r\nIf the state changes in an immutable object after it has been created but no-one can see it (without reflection) is the object still immutable?\r\n\r\n ","title":"What is meant by immutable?","body":"<p>Actually String is not immutable if you use the wikipedia definition suggested above. </p>\n\n<p>String's state does change post construction. Take a look at the hashcode() method.  String caches the hashcode value in a local field but does not calculate it until the first call of hashcode().  This lazy evaluation of hashcode places String in an interesting position as an immutable object whose state changes, but it cannot be observed to have changed without using reflection. </p>\n\n<p>So maybe the definition of immutable should be an object that cannot be observed to have changed. </p>\n\n<p>If the state changes in an immutable object after it has been created but no-one can see it (without reflection) is the object still immutable?</p>\n"},{"tags":[],"owner":{"account_id":44494,"reputation":18176,"user_id":130640,"accept_rate":91,"display_name":"Imagist"},"down_vote_count":1,"up_vote_count":83,"is_accepted":false,"score":82,"last_activity_date":1652459970,"creation_date":1249888940,"answer_id":1253519,"question_id":279507,"body_markdown":"An immutable object is an object where the internal fields (or at least, all the internal fields that affect its external behavior) cannot be changed.\r\n\r\nThere are a lot of advantages to immutable strings:\r\n\r\n**Performance:** Take the following operation:\r\n\r\n    String substring = fullstring.substring(x,y);\r\n\r\nThe underlying C for the substring() method is probably something like this:\r\n\r\n    // Assume string is stored like this:\r\n    struct String { char* characters; unsigned int length; };\r\n\r\n    // Passing pointers because Java is pass-by-reference\r\n    struct String* substring(struct String* in, unsigned int begin, unsigned int end)\r\n    {\r\n        struct String* out = malloc(sizeof(struct String));\r\n        out-&gt;characters = in-&gt;characters + begin;\r\n        out-&gt;length = end - begin;\r\n        return out;\r\n    }\r\n\r\nNote that *none of the characters have to be copied!*  If the String object were mutable (the characters could change later) then you would have to copy all the characters, otherwise changes to characters in the substring would be reflected in the other string later.\r\n\r\n**Concurrency:** If the internal structure of an immutable object is valid, it will always be valid.  There&#39;s no chance that different threads can create an invalid state within that object. Hence, immutable objects are *Thread Safe*.\r\n\r\n**Garbage collection:** It&#39;s much easier for the garbage collector to make logical decisions about immutable objects.\r\n\r\nHowever, there are also downsides to immutability:\r\n\r\n**Performance:** Wait, I thought you said performance was an upside of immutability!  Well, it is sometimes, but not always.  Take the following code:\r\n\r\n    foo = foo.substring(0,4) + &quot;a&quot; + foo.substring(5);  // foo is a String\r\n    bar.replace(4,5,&quot;a&quot;); // bar is a StringBuilder\r\n\r\nThe two lines both replace the fourth character with the letter &quot;a&quot;.  Not only is the second piece of code more readable, it&#39;s faster.  Look at how you would have to do the underlying code for foo.  The substrings are easy, but now because there&#39;s already a character at space five and something else might be referencing foo, you can&#39;t just change it; you have to copy the whole string (of course some of this functionality is abstracted into functions in the real underlying C, but the point here is to show the code that gets executed all in one place).\r\n\r\n    struct String* concatenate(struct String* first, struct String* second)\r\n    {\r\n        struct String* new = malloc(sizeof(struct String));\r\n        new-&gt;length = first-&gt;length + second-&gt;length;\r\n\r\n        new-&gt;characters = malloc(new-&gt;length);\r\n        \r\n        int i;\r\n\r\n        for(i = 0; i &lt; first-&gt;length; i++)\r\n            new-&gt;characters[i] = first-&gt;characters[i];\r\n\r\n        for(; i - first-&gt;length &lt; second-&gt;length; i++)\r\n            new-&gt;characters[i] = second-&gt;characters[i - first-&gt;length];\r\n\r\n        return new;\r\n    }\r\n\r\n    // The code that executes\r\n    struct String* astring;\r\n    char a = &#39;a&#39;;\r\n    astring-&gt;characters = &amp;a;\r\n    astring-&gt;length = 1;\r\n    foo = concatenate(concatenate(slice(foo,0,4),astring),slice(foo,5,foo-&gt;length));\r\n\r\nNote that concatenate gets called **twice** meaning that the entire string has to be looped through!  Compare this to the C code for the `bar` operation:\r\n\r\n    bar-&gt;characters[4] = &#39;a&#39;;\r\n\r\nThe mutable string operation is obviously much faster.\r\n\r\n**In Conclusion:** In most cases, you want an immutable string.  But if you need to do a lot of appending and inserting into a string, you need the mutability for speed.  If you want the concurrency safety and garbage collection benefits with it the key is to keep your mutable objects local to a method:\r\n\r\n    // This will have awful performance if you don&#39;t use mutable strings\r\n    String join(String[] strings, String separator)\r\n    {\r\n        StringBuilder mutable;\r\n        boolean first = true;\r\n\r\n        for(int i = 0; i &lt; strings.length; i++)\r\n        {\r\n            if(first) first = false;\r\n            else mutable.append(separator);\r\n\r\n            mutable.append(strings[i]);\r\n        }\r\n\r\n        return mutable.toString();\r\n    }\r\n\r\nSince the `mutable` object is a local reference, you don&#39;t have to worry about concurrency safety (only one thread ever touches it).  And since it isn&#39;t referenced anywhere else, it is only allocated on the stack, so it is deallocated as soon as the function call is finished (you don&#39;t have to worry about garbage collection).  And you get all the performance benefits of both mutability and immutability.","title":"What is meant by immutable?","body":"<p>An immutable object is an object where the internal fields (or at least, all the internal fields that affect its external behavior) cannot be changed.</p>\n<p>There are a lot of advantages to immutable strings:</p>\n<p><strong>Performance:</strong> Take the following operation:</p>\n<pre><code>String substring = fullstring.substring(x,y);\n</code></pre>\n<p>The underlying C for the substring() method is probably something like this:</p>\n<pre><code>// Assume string is stored like this:\nstruct String { char* characters; unsigned int length; };\n\n// Passing pointers because Java is pass-by-reference\nstruct String* substring(struct String* in, unsigned int begin, unsigned int end)\n{\n    struct String* out = malloc(sizeof(struct String));\n    out-&gt;characters = in-&gt;characters + begin;\n    out-&gt;length = end - begin;\n    return out;\n}\n</code></pre>\n<p>Note that <em>none of the characters have to be copied!</em>  If the String object were mutable (the characters could change later) then you would have to copy all the characters, otherwise changes to characters in the substring would be reflected in the other string later.</p>\n<p><strong>Concurrency:</strong> If the internal structure of an immutable object is valid, it will always be valid.  There's no chance that different threads can create an invalid state within that object. Hence, immutable objects are <em>Thread Safe</em>.</p>\n<p><strong>Garbage collection:</strong> It's much easier for the garbage collector to make logical decisions about immutable objects.</p>\n<p>However, there are also downsides to immutability:</p>\n<p><strong>Performance:</strong> Wait, I thought you said performance was an upside of immutability!  Well, it is sometimes, but not always.  Take the following code:</p>\n<pre><code>foo = foo.substring(0,4) + &quot;a&quot; + foo.substring(5);  // foo is a String\nbar.replace(4,5,&quot;a&quot;); // bar is a StringBuilder\n</code></pre>\n<p>The two lines both replace the fourth character with the letter &quot;a&quot;.  Not only is the second piece of code more readable, it's faster.  Look at how you would have to do the underlying code for foo.  The substrings are easy, but now because there's already a character at space five and something else might be referencing foo, you can't just change it; you have to copy the whole string (of course some of this functionality is abstracted into functions in the real underlying C, but the point here is to show the code that gets executed all in one place).</p>\n<pre><code>struct String* concatenate(struct String* first, struct String* second)\n{\n    struct String* new = malloc(sizeof(struct String));\n    new-&gt;length = first-&gt;length + second-&gt;length;\n\n    new-&gt;characters = malloc(new-&gt;length);\n    \n    int i;\n\n    for(i = 0; i &lt; first-&gt;length; i++)\n        new-&gt;characters[i] = first-&gt;characters[i];\n\n    for(; i - first-&gt;length &lt; second-&gt;length; i++)\n        new-&gt;characters[i] = second-&gt;characters[i - first-&gt;length];\n\n    return new;\n}\n\n// The code that executes\nstruct String* astring;\nchar a = 'a';\nastring-&gt;characters = &amp;a;\nastring-&gt;length = 1;\nfoo = concatenate(concatenate(slice(foo,0,4),astring),slice(foo,5,foo-&gt;length));\n</code></pre>\n<p>Note that concatenate gets called <strong>twice</strong> meaning that the entire string has to be looped through!  Compare this to the C code for the <code>bar</code> operation:</p>\n<pre><code>bar-&gt;characters[4] = 'a';\n</code></pre>\n<p>The mutable string operation is obviously much faster.</p>\n<p><strong>In Conclusion:</strong> In most cases, you want an immutable string.  But if you need to do a lot of appending and inserting into a string, you need the mutability for speed.  If you want the concurrency safety and garbage collection benefits with it the key is to keep your mutable objects local to a method:</p>\n<pre><code>// This will have awful performance if you don't use mutable strings\nString join(String[] strings, String separator)\n{\n    StringBuilder mutable;\n    boolean first = true;\n\n    for(int i = 0; i &lt; strings.length; i++)\n    {\n        if(first) first = false;\n        else mutable.append(separator);\n\n        mutable.append(strings[i]);\n    }\n\n    return mutable.toString();\n}\n</code></pre>\n<p>Since the <code>mutable</code> object is a local reference, you don't have to worry about concurrency safety (only one thread ever touches it).  And since it isn't referenced anywhere else, it is only allocated on the stack, so it is deallocated as soon as the function call is finished (you don't have to worry about garbage collection).  And you get all the performance benefits of both mutability and immutability.</p>\n"},{"tags":[],"owner":{"account_id":6518097,"reputation":339,"user_id":5043154,"display_name":"Shanaka Jayalath"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1488873584,"creation_date":1437239025,"answer_id":31493491,"question_id":279507,"body_markdown":" 1. In large applications its common for string literals to occupy large bits of memory. So to efficiently handle the memory, the JVM allocates an area called &quot;String constant pool&quot;.([Note that in memory even an unreferenced String carries around a char\\[\\], an int for its length, and another for its hashCode. For a number, by contrast, a maximum of eight immediate bytes is required][1])\r\n 2. When complier comes across a String literal it checks the pool to see if there is an identical literal already present. And if one is found, the reference to the new literal is directed to the existing String, and no new &#39;String literal object&#39; is created(the existing String simply gets an additional reference). \r\n 3. Hence : **String mutability saves memory...**\r\n 4. But when any of the variables change value, Actually - it&#39;s only their reference that&#39;s changed, not the value in memory(hence it will not affect the other variables referencing it) as seen below....\r\n\r\n\r\n----------\r\n\r\n\r\nString s1 = &quot;Old string&quot;; \r\n    \r\n    //s1 variable, refers to string in memory\r\n            reference                 |     MEMORY       |\r\n            variables                 |                  |\r\n            \r\n               [s1]   ---------------&gt;|   &quot;Old String&quot;   |\r\n\r\nString s2 = s1; \r\n\r\n    //s2 refers to same string as s1\r\n                                      |                  |\r\n               [s1]   ---------------&gt;|   &quot;Old String&quot;   |\r\n               [s2]   ------------------------^\r\n\r\n\r\n\r\ns1 = &quot;New String&quot;;\r\n\r\n    //s1 deletes reference to old string and points to the newly created one\r\n               [s1]   -----|---------&gt;|   &quot;New String&quot;   |\r\n                           |          |                  |\r\n                           |~~~~~~~~~X|   &quot;Old String&quot;   |\r\n               [s2]   ------------------------^\r\n    \r\n\r\n&gt; The original string &#39;in memory&#39; didn&#39;t change, but the\r\n&gt; reference variable was changed so that it refers to the new string.\r\n&gt; And if we didn&#39;t have s2, &quot;Old String&quot; would still be in the memory but\r\n&gt; we&#39;ll not be able to access it...\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20394116/java-why-is-constant-pool-maintained-only-for-string-values","title":"What is meant by immutable?","body":"<ol>\n<li>In large applications its common for string literals to occupy large bits of memory. So to efficiently handle the memory, the JVM allocates an area called \"String constant pool\".(<a href=\"https://stackoverflow.com/questions/20394116/java-why-is-constant-pool-maintained-only-for-string-values\">Note that in memory even an unreferenced String carries around a char[], an int for its length, and another for its hashCode. For a number, by contrast, a maximum of eight immediate bytes is required</a>)</li>\n<li>When complier comes across a String literal it checks the pool to see if there is an identical literal already present. And if one is found, the reference to the new literal is directed to the existing String, and no new 'String literal object' is created(the existing String simply gets an additional reference). </li>\n<li>Hence : <strong>String mutability saves memory...</strong></li>\n<li>But when any of the variables change value, Actually - it's only their reference that's changed, not the value in memory(hence it will not affect the other variables referencing it) as seen below....</li>\n</ol>\n\n<hr>\n\n<p>String s1 = \"Old string\"; </p>\n\n<pre><code>//s1 variable, refers to string in memory\n        reference                 |     MEMORY       |\n        variables                 |                  |\n\n           [s1]   ---------------&gt;|   \"Old String\"   |\n</code></pre>\n\n<p>String s2 = s1; </p>\n\n<pre><code>//s2 refers to same string as s1\n                                  |                  |\n           [s1]   ---------------&gt;|   \"Old String\"   |\n           [s2]   ------------------------^\n</code></pre>\n\n<p>s1 = \"New String\";</p>\n\n<pre><code>//s1 deletes reference to old string and points to the newly created one\n           [s1]   -----|---------&gt;|   \"New String\"   |\n                       |          |                  |\n                       |~~~~~~~~~X|   \"Old String\"   |\n           [s2]   ------------------------^\n</code></pre>\n\n<blockquote>\n  <p>The original string 'in memory' didn't change, but the\n  reference variable was changed so that it refers to the new string.\n  And if we didn't have s2, \"Old String\" would still be in the memory but\n  we'll not be able to access it...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4686592,"reputation":3132,"user_id":3793865,"accept_rate":75,"display_name":"george"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1465767997,"creation_date":1465746249,"answer_id":37776140,"question_id":279507,"body_markdown":"# java.time\n\nIt might be a bit late but in order to understand what an immutable object is, consider the following example from the new Java 8 Date and Time API ([java.time][1]). As you probably know all date objects from Java 8 are **immutable** so in the following example\r\n\r\n    LocalDate date = LocalDate.of(2014, 3, 18); \r\n    date.plusYears(2);\r\n    System.out.println(date);\r\n\r\nOutput:\r\n\r\n&gt;2014-03-18\r\n\r\nThis prints the same year as the initial date because the `plusYears(2)` returns a new object so the old date is still unchanged because it&#39;s an immutable object. Once created you cannot further modify it and the date variable still points to it.\n\nSo, that code example should capture and use the new object instantiated and returned by that call to `plusYears`.\n\n    LocalDate date = LocalDate.of(2014, 3, 18); \r    LocalDate dateAfterTwoYears = date.plusYears(2);\n\n&gt;date.toString()… 2014-03-18\n\n&gt;dateAfterTwoYears.toString()… 2016-03-18\n\n\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"What is meant by immutable?","body":"<h1>java.time</h1>\n\n<p>It might be a bit late but in order to understand what an immutable object is, consider the following example from the new Java 8 Date and Time API (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a>). As you probably know all date objects from Java 8 are <strong>immutable</strong> so in the following example</p>\n\n<pre><code>LocalDate date = LocalDate.of(2014, 3, 18); \ndate.plusYears(2);\nSystem.out.println(date);\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>2014-03-18</p>\n</blockquote>\n\n<p>This prints the same year as the initial date because the <code>plusYears(2)</code> returns a new object so the old date is still unchanged because it's an immutable object. Once created you cannot further modify it and the date variable still points to it.</p>\n\n<p>So, that code example should capture and use the new object instantiated and returned by that call to <code>plusYears</code>.</p>\n\n<pre><code>LocalDate date = LocalDate.of(2014, 3, 18); \nLocalDate dateAfterTwoYears = date.plusYears(2);\n</code></pre>\n\n<blockquote>\n  <p>date.toString()… 2014-03-18</p>\n  \n  <p>dateAfterTwoYears.toString()… 2016-03-18</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":282472,"reputation":2355,"user_id":579381,"accept_rate":75,"display_name":"Ayub"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1496308835,"creation_date":1493106346,"answer_id":43604612,"question_id":279507,"body_markdown":"    String s1=&quot;Hi&quot;;\r\n    String s2=s1;\r\n    s1=&quot;Bye&quot;;\r\n\r\n    System.out.println(s2); //Hi  (if String was mutable output would be: Bye)\r\n    System.out.println(s1); //Bye\r\n\r\n`s1=&quot;Hi&quot;` : an object `s1` was created with &quot;Hi&quot; value in it.\r\n\r\n`s2=s1`   : an object `s2` is created with reference to s1 object.\r\n\r\n`s1=&quot;Bye&quot;` : the previous `s1` object&#39;s value doesn&#39;t change because `s1` has String type and String type is an immutable type, instead compiler create a new String object with &quot;Bye&quot; value and `s1` referenced to it. here when we print `s2` value, the result will be &quot;Hi&quot; not &quot;Bye&quot; because `s2` referenced to previous `s1` object which had &quot;Hi&quot; value.","title":"What is meant by immutable?","body":"<pre><code>String s1=\"Hi\";\nString s2=s1;\ns1=\"Bye\";\n\nSystem.out.println(s2); //Hi  (if String was mutable output would be: Bye)\nSystem.out.println(s1); //Bye\n</code></pre>\n\n<p><code>s1=\"Hi\"</code> : an object <code>s1</code> was created with \"Hi\" value in it.</p>\n\n<p><code>s2=s1</code>   : an object <code>s2</code> is created with reference to s1 object.</p>\n\n<p><code>s1=\"Bye\"</code> : the previous <code>s1</code> object's value doesn't change because <code>s1</code> has String type and String type is an immutable type, instead compiler create a new String object with \"Bye\" value and <code>s1</code> referenced to it. here when we print <code>s2</code> value, the result will be \"Hi\" not \"Bye\" because <code>s2</code> referenced to previous <code>s1</code> object which had \"Hi\" value.</p>\n"},{"tags":[],"owner":{"account_id":7475505,"reputation":384,"user_id":5682080,"display_name":"Kamal Mrock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499245719,"creation_date":1499245719,"answer_id":44921736,"question_id":279507,"body_markdown":"**Immutable Objects**\r\n\r\nAn object is considered immutable if its state cannot change after it is constructed. Maximum reliance on immutable objects is widely accepted as a sound strategy for creating simple, reliable code.\r\n\r\nImmutable objects are particularly useful in concurrent applications. Since they cannot change state, they cannot be corrupted by thread interference or observed in an inconsistent state.\r\n\r\nProgrammers are often reluctant to employ immutable objects, because they worry about the cost of creating a new object as opposed to updating an object in place. The impact of object creation is often overestimated, and can be offset by some of the efficiencies associated with immutable objects. These include decreased overhead due to garbage collection, and the elimination of code needed to protect mutable objects from corruption.\r\n\r\nThe following subsections take a class whose instances are mutable and derives a class with immutable instances from it. In so doing, they give general rules for this kind of conversion and demonstrate some of the advantages of immutable objects.\r\n\r\n[Source] [1]\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html","title":"What is meant by immutable?","body":"<p><strong>Immutable Objects</strong></p>\n\n<p>An object is considered immutable if its state cannot change after it is constructed. Maximum reliance on immutable objects is widely accepted as a sound strategy for creating simple, reliable code.</p>\n\n<p>Immutable objects are particularly useful in concurrent applications. Since they cannot change state, they cannot be corrupted by thread interference or observed in an inconsistent state.</p>\n\n<p>Programmers are often reluctant to employ immutable objects, because they worry about the cost of creating a new object as opposed to updating an object in place. The impact of object creation is often overestimated, and can be offset by some of the efficiencies associated with immutable objects. These include decreased overhead due to garbage collection, and the elimination of code needed to protect mutable objects from corruption.</p>\n\n<p>The following subsections take a class whose instances are mutable and derives a class with immutable instances from it. In so doing, they give general rules for this kind of conversion and demonstrate some of the advantages of immutable objects.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/immutable.html\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":10104128,"reputation":4849,"user_id":7467246,"accept_rate":67,"display_name":"Priyantha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531814141,"creation_date":1531814141,"answer_id":51376068,"question_id":279507,"body_markdown":"Immutable simply mean unchangeable or unmodifiable. Once string object is created its data or state can&#39;t be changed\r\n\r\nConsider bellow example,\r\n\r\n    class Testimmutablestring{  \r\n      public static void main(String args[]){  \r\n        String s=&quot;Future&quot;;  \r\n        s.concat(&quot; World&quot;);//concat() method appends the string at the end  \r\n        System.out.println(s);//will print Future because strings are immutable objects  \r\n      }  \r\n     }  \r\n\r\nLet&#39;s get idea considering bellow diagram,\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn this diagram, you can see new object created as &quot;Future World&quot;. But not change &quot;Future&quot;.`Because String is immutable`. `s`, still refer to &quot;Future&quot;. If you need to call &quot;Future World&quot;,\r\n\r\n    String s=&quot;Future&quot;;  \r\n    s=s.concat(&quot; World&quot;);  \r\n    System.out.println(s);//print Future World\r\n\r\n**Why are string objects immutable in java?**\r\n\r\n&gt; Because Java uses the concept of string literal. Suppose there are 5 reference variables, all refers to one object &quot;Future&quot;.If one reference variable changes the value of the object, it will be affected to all the reference variables. That is why string objects are immutable in java.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8uIrk.png","title":"What is meant by immutable?","body":"<p>Immutable simply mean unchangeable or unmodifiable. Once string object is created its data or state can't be changed</p>\n\n<p>Consider bellow example,</p>\n\n<pre><code>class Testimmutablestring{  \n  public static void main(String args[]){  \n    String s=\"Future\";  \n    s.concat(\" World\");//concat() method appends the string at the end  \n    System.out.println(s);//will print Future because strings are immutable objects  \n  }  \n }  \n</code></pre>\n\n<p>Let's get idea considering bellow diagram,</p>\n\n<p><a href=\"https://i.stack.imgur.com/8uIrk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8uIrk.png\" alt=\"enter image description here\"></a></p>\n\n<p>In this diagram, you can see new object created as \"Future World\". But not change \"Future\".<code>Because String is immutable</code>. <code>s</code>, still refer to \"Future\". If you need to call \"Future World\",</p>\n\n<pre><code>String s=\"Future\";  \ns=s.concat(\" World\");  \nSystem.out.println(s);//print Future World\n</code></pre>\n\n<p><strong>Why are string objects immutable in java?</strong></p>\n\n<blockquote>\n  <p>Because Java uses the concept of string literal. Suppose there are 5 reference variables, all refers to one object \"Future\".If one reference variable changes the value of the object, it will be affected to all the reference variables. That is why string objects are immutable in java.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":412975,"reputation":10638,"user_id":3672184,"accept_rate":66,"display_name":"TooCool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597602467,"creation_date":1588818282,"answer_id":61648791,"question_id":279507,"body_markdown":"As the accepted answer doesn&#39;t answer all the questions. I&#39;m forced to give an answer after 11 years and 6 months.\r\n\r\n&gt; Can somebody clarify what is meant by immutable?\r\n\r\nHope you meant *immutable object* (because we could think about *immutable reference*).\r\n\r\nAn object is *immutable*: iff once created, they always represent the same value (doesn&#39;t have any method that change the value).\r\n\r\n&gt;Why is a `String` immutable?\r\n\r\nRespect the above definition which could be checked by looking into the [Sting.java](http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/lang/String.java) source code.  \r\n\r\n&gt;What are the advantages/disadvantages of the immutable objects?\r\nimmutable types are : \r\n\r\n- safer from bugs.\r\n\r\n- easier to understand.\r\n\r\n- and more ready for change.\r\n\r\n&gt;Why should a mutable object such as StringBuilder be preferred over String and vice-verse?\r\n\r\nNarrowing the question *Why do we need the mutable StringBuilder in programming?* \r\nA common use for it is to concatenate a large number of strings together, like this:\r\n\r\n    String s = &quot;&quot;;\r\n    for (int i = 0; i &lt; n; ++i) {\r\n        s = s + n;\r\n    }\r\n\r\nUsing immutable strings, this makes a lot of temporary copies — the first number of the string (&quot;0&quot;) is actually copied n times in the course of building up the final string, the second number is copied n-1 times, and so on. It actually costs O(n2) time just to do all that copying, even though we only concatenated n elements.\r\n\r\nStringBuilder is designed to minimize this copying. It uses a simple but clever internal data structure to avoid doing any copying at all until the very end, when you ask for the final String with a toString() call:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    for (int i = 0; i &lt; n; ++i) {\r\n      sb.append(String.valueOf(n));\r\n    }\r\n    String s = sb.toString();\r\n\r\n\r\nGetting good performance is one reason why we use mutable objects. Another is convenient sharing: two parts of your program can communicate more conveniently by sharing a common mutable data structure.\r\n\r\nMore could be found here : https://web.mit.edu/6.005/www/fa15/classes/09-immutability/#useful_immutable_types","title":"What is meant by immutable?","body":"<p>As the accepted answer doesn't answer all the questions. I'm forced to give an answer after 11 years and 6 months.</p>\n<blockquote>\n<p>Can somebody clarify what is meant by immutable?</p>\n</blockquote>\n<p>Hope you meant <em>immutable object</em> (because we could think about <em>immutable reference</em>).</p>\n<p>An object is <em>immutable</em>: iff once created, they always represent the same value (doesn't have any method that change the value).</p>\n<blockquote>\n<p>Why is a <code>String</code> immutable?</p>\n</blockquote>\n<p>Respect the above definition which could be checked by looking into the <a href=\"http://hg.openjdk.java.net/jdk7u/jdk7u6/jdk/file/8c2c5d63a17e/src/share/classes/java/lang/String.java\" rel=\"nofollow noreferrer\">Sting.java</a> source code.</p>\n<blockquote>\n<p>What are the advantages/disadvantages of the immutable objects?\nimmutable types are :</p>\n</blockquote>\n<ul>\n<li><p>safer from bugs.</p>\n</li>\n<li><p>easier to understand.</p>\n</li>\n<li><p>and more ready for change.</p>\n</li>\n</ul>\n<blockquote>\n<p>Why should a mutable object such as StringBuilder be preferred over String and vice-verse?</p>\n</blockquote>\n<p>Narrowing the question <em>Why do we need the mutable StringBuilder in programming?</em>\nA common use for it is to concatenate a large number of strings together, like this:</p>\n<pre><code>String s = &quot;&quot;;\nfor (int i = 0; i &lt; n; ++i) {\n    s = s + n;\n}\n</code></pre>\n<p>Using immutable strings, this makes a lot of temporary copies — the first number of the string (&quot;0&quot;) is actually copied n times in the course of building up the final string, the second number is copied n-1 times, and so on. It actually costs O(n2) time just to do all that copying, even though we only concatenated n elements.</p>\n<p>StringBuilder is designed to minimize this copying. It uses a simple but clever internal data structure to avoid doing any copying at all until the very end, when you ask for the final String with a toString() call:</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nfor (int i = 0; i &lt; n; ++i) {\n  sb.append(String.valueOf(n));\n}\nString s = sb.toString();\n</code></pre>\n<p>Getting good performance is one reason why we use mutable objects. Another is convenient sharing: two parts of your program can communicate more conveniently by sharing a common mutable data structure.</p>\n<p>More could be found here : <a href=\"https://web.mit.edu/6.005/www/fa15/classes/09-immutability/#useful_immutable_types\" rel=\"nofollow noreferrer\">https://web.mit.edu/6.005/www/fa15/classes/09-immutability/#useful_immutable_types</a></p>\n"}],"owner":{"account_id":15622,"reputation":80382,"user_id":33203,"accept_rate":81,"display_name":"ashokgelal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191132,"favorite_count":0,"down_vote_count":3,"up_vote_count":425,"accepted_answer_id":279522,"answer_count":17,"score":422,"last_activity_date":1673310866,"creation_date":1226358326,"question_id":279507,"body_markdown":"What exactly does *immutable* mean - that is, what are the consequences of an object being mutable or immutable? In particular, why are Java&#39;s `String`s immutable?\r\n\r\nMy understanding is that the `StringBuilder` type is something like a mutable equivalent to `String`. When would I use `StringBuilder` rather than `String`, and vice-versa?","title":"What is meant by immutable?","body":"<p>What exactly does <em>immutable</em> mean - that is, what are the consequences of an object being mutable or immutable? In particular, why are Java's <code>String</code>s immutable?</p>\n<p>My understanding is that the <code>StringBuilder</code> type is something like a mutable equivalent to <code>String</code>. When would I use <code>StringBuilder</code> rather than <code>String</code>, and vice-versa?</p>\n"},{"tags":["java","multithreading","interrupt"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1672929575,"post_id":75020061,"comment_id":132387363,"body_markdown":"have you read the documentation of `interrupted()`: &quot;*The interrupted status of the thread is cleared by this method. In other words, if this method were to be called twice in succession, the second call would return false*&quot;? And, more relevant, of `sleep()`: &quot; ***Throws:** ... `InterruptedException` - if any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.*&quot;","body":"have you read the documentation of <code>interrupted()</code>: &quot;<i>The interrupted status of the thread is cleared by this method. In other words, if this method were to be called twice in succession, the second call would return false</i>&quot;? And, more relevant, of <code>sleep()</code>: &quot; <b><i>Throws:</b> ... <code>InterruptedException</code> - if any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.</i>&quot;"},{"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"score":1,"creation_date":1672929769,"post_id":75020061,"comment_id":132387440,"body_markdown":"Yes, I know that interrupted() clear the interrupted flag, but the problem is that the flag \nis never set despite calling interrupt()","body":"Yes, I know that interrupted() clear the interrupted flag, but the problem is that the flag  is never set despite calling interrupt()"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1672929914,"post_id":75020061,"comment_id":132387499,"body_markdown":"Use the `Kanye` thread interrupter.","body":"Use the <code>Kanye</code> thread interrupter."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672929984,"post_id":75020061,"comment_id":132387520,"body_markdown":"&quot;*If this thread is blocked in an invocation of the `wait()`, `wait(long)`, or `wait(long, int)` methods of the `Object` class, or of the `join()`, `join(long)`,`join(long, int)`, `sleep(long)`, or `sleep(long, int)` methods of this class, then **its interrupt status will be cleared and it will receive an `InterruptedException`**.*&quot;","body":"&quot;<i>If this thread is blocked in an invocation of the <code>wait()</code>, <code>wait(long)</code>, or <code>wait(long, int)</code> methods of the <code>Object</code> class, or of the <code>join()</code>, <code>join(long)</code>,<code>join(long, int)</code>, <code>sleep(long)</code>, or <code>sleep(long, int)</code> methods of this class, then <b>its interrupt status will be cleared and it will receive an <code>InterruptedException</code></b>.</i>&quot;"},{"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"score":0,"creation_date":1672930392,"post_id":75020061,"comment_id":132387661,"body_markdown":"I don&#39;t know that The interrupted status of the current thread is cleared when this exception is thrown.. Thank you so much","body":"I don&#39;t know that The interrupted status of the current thread is cleared when this exception is thrown.. Thank you so much"}],"answers":[{"tags":[],"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672930154,"creation_date":1672930154,"answer_id":75020247,"question_id":75020061,"body_markdown":"***InterruptedException - if any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.***","title":"Java unable to interrupt other threads","body":"<p><em><strong>InterruptedException - if any thread has interrupted the current thread. The interrupted status of the current thread is cleared when this exception is thrown.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673310343,"creation_date":1673310343,"answer_id":75064271,"question_id":75020061,"body_markdown":"&gt; The problem is that LparsManager is unable to interrupt others thread. Even it calls the method interrupt(), it is unable to set interrupted flag ...\r\n\r\nThe problem is your handling of the interrupt:\r\n\r\n     try {\r\n          Thread.sleep(10000);\r\n     } catch (InterruptedException e) {\r\n          // interrupt status cleared so this method always returns false\r\n          if (interrupted()) {\r\n                ...\r\n\r\nWhen the interrupted exception is thrown, the interrupt flag on the thread is cleared.  If you look at the `Thread.sleep(long)` method signature, it says:\r\n\r\n     * @throws  InterruptedException\r\n     *          if any thread has interrupted the current thread. The\r\n     *          &lt;i&gt;interrupted status&lt;/i&gt; of the current thread is\r\n     *          cleared when this exception is thrown.\r\n\r\nSo in the catch block, the `interrupted()` method will always return false.  Once you have caught `InterruptedException` you know the thread has been interrupted and you don&#39;t need to do any additional tests.  It actually is a proper pattern to re-interrupt the thread once you catch `InterruptedException` to preserve the interrupt status for callers of your code:\r\n\r\n     try {\r\n          Thread.sleep(10000);\r\n     } catch (InterruptedException e) {\r\n          // re-interrupt the thread is a good pattern\r\n          Thread.currentThread().interrupt();\r\n          // now handle the interrupt...\r\n\r\nAlso, you should use the `isInterrupted()` method because it does not change the interrupt flag.  The `interrupted()` method clears the interrupt flag when called.  Typically in a thread loop, I do something like:\r\n\r\n    while (!Thread.currentThread().isInterrupted()) {\r\n        // do my thread work here\r\n    }\r\n\r\n","title":"Java unable to interrupt other threads","body":"<blockquote>\n<p>The problem is that LparsManager is unable to interrupt others thread. Even it calls the method interrupt(), it is unable to set interrupted flag ...</p>\n</blockquote>\n<p>The problem is your handling of the interrupt:</p>\n<pre><code> try {\n      Thread.sleep(10000);\n } catch (InterruptedException e) {\n      // interrupt status cleared so this method always returns false\n      if (interrupted()) {\n            ...\n</code></pre>\n<p>When the interrupted exception is thrown, the interrupt flag on the thread is cleared.  If you look at the <code>Thread.sleep(long)</code> method signature, it says:</p>\n<pre><code> * @throws  InterruptedException\n *          if any thread has interrupted the current thread. The\n *          &lt;i&gt;interrupted status&lt;/i&gt; of the current thread is\n *          cleared when this exception is thrown.\n</code></pre>\n<p>So in the catch block, the <code>interrupted()</code> method will always return false.  Once you have caught <code>InterruptedException</code> you know the thread has been interrupted and you don't need to do any additional tests.  It actually is a proper pattern to re-interrupt the thread once you catch <code>InterruptedException</code> to preserve the interrupt status for callers of your code:</p>\n<pre><code> try {\n      Thread.sleep(10000);\n } catch (InterruptedException e) {\n      // re-interrupt the thread is a good pattern\n      Thread.currentThread().interrupt();\n      // now handle the interrupt...\n</code></pre>\n<p>Also, you should use the <code>isInterrupted()</code> method because it does not change the interrupt flag.  The <code>interrupted()</code> method clears the interrupt flag when called.  Typically in a thread loop, I do something like:</p>\n<pre><code>while (!Thread.currentThread().isInterrupted()) {\n    // do my thread work here\n}\n</code></pre>\n"}],"owner":{"account_id":27443023,"reputation":11,"user_id":20937397,"display_name":"Andrea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673310343,"creation_date":1672929311,"question_id":75020061,"body_markdown":"I&#39;m getting some problems with Java.\r\nI&#39;ve a thread (LparsManager) that generate some other threads of another class (Poncharello). The problem is that LparsManager is unable to interrupt others thread. Even it calls the method interrupt(), it is unable to set interrupted flag (I&#39;ve seen it from the debugger) or throw an interrupted exception for childrens.\r\n\r\n\r\n    public class LparsManager extends Thread{\r\n    \r\n        private int id;\r\n    \r\n        LparsManager(){\r\n            setName(&quot;LparsManager&quot;);\r\n            start();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n            try {\r\n                Thread.sleep(30000);\r\n            } catch (InterruptedException e) {\r\n    \r\n            }\r\n            Connection connection=DatabaseManager.connect();\r\n            HashMap&lt;Integer,Poncharello&gt; associazioni=new HashMap&lt;&gt;();\r\n            ArrayList&lt;Integer&gt; al1, al2, al3;\r\n            ResultSet rs=null;\r\n    \r\n            try {\r\n                //Reperisco il mio id\r\n                rs=connection.createStatement().executeQuery(&quot;SELECT id_server FROM &quot; +\r\n                        &quot;servers where hostname=&#39;&quot;+ InetAddress.getLocalHost().getHostName()+&quot;&#39;&quot;);\r\n                rs.next();\r\n                id=rs.getInt(&quot;id_server&quot;);\r\n                ResultSet rs2;\r\n    \r\n                //Verifico le prime associazioni\r\n                rs=connection.createStatement().executeQuery(&quot;SELECT id_lpar FROM &quot; +\r\n                        &quot;lpars where idf_server=&quot;+ id);\r\n                while (rs.next())\r\n                {\r\n                    rs2=connection.createStatement().executeQuery(&quot;SELECT CI, IDRS from lpars where id_lpar=&quot;+rs.getInt(&quot;id_lpar&quot;));\r\n                    rs2.next();\r\n                    System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi &#232; stata assegnata la lpar &quot;+rs2.getString(&quot;IDRS&quot;)+\r\n                            &quot;-&quot;+rs2.getString(&quot;CI&quot;)+&quot; da monitorare&quot;);\r\n                    associazioni.put(rs.getInt(&quot;id_lpar&quot;),new Poncharello(rs.getInt(&quot;id_lpar&quot;),rs2.getString(&quot;IDRS&quot;),rs2.getString(&quot;CI&quot;)));\r\n                }\r\n                DatabaseManager.close(connection);\r\n            } catch (SQLException | UnknownHostException e) {\r\n                ExceptionManager.sendNotify(e);\r\n                return;\r\n            }\r\n    \r\n            do {\r\n                //Addormento il thread\r\n                try {\r\n                    Thread.sleep(Config.sleep_time);\r\n                } catch (InterruptedException e) {\r\n    \r\n                }\r\n                al1=new ArrayList&lt;&gt;();\r\n                al2=new ArrayList&lt;&gt;();\r\n    \r\n                al1.addAll(associazioni.keySet());\r\n    \r\n                connection=DatabaseManager.connect();\r\n    \r\n                //Verifico le mie associazioni\r\n                try {\r\n    \r\n                    rs = connection.createStatement().executeQuery(&quot;SELECT id_lpar FROM &quot; +\r\n                            &quot;lpars where idf_server=&quot;+ id);\r\n                    while (rs.next())\r\n                    {\r\n                        al2.add(rs.getInt(&quot;id_lpar&quot;));\r\n                    }\r\n    \r\n                    Collections.sort(al1);\r\n                    Collections.sort(al2);\r\n    \r\n                    //Se i due Arraylist sono uguali, looppo altrimenti verifico quali lpars aggiungere/rimuovere\r\n                    if(!al2.equals(al1))\r\n                    {\r\n                        //Verifico quali lpars non sono pi&#249; da monitorare\r\n                        al3=new ArrayList&lt;&gt;(al1);\r\n                        al3.removeAll(al2);\r\n                        ResultSet rs2;\r\n    \r\n                        for(Integer a:al3) {\r\n    \r\n                            associazioni.get(a).interrupt();\r\n                            //tmp.stop();\r\n    \r\n                            associazioni.remove(a);\r\n    \r\n                            rs2=connection.createStatement().executeQuery(&quot;SELECT CI, IDRS from lpars where id_lpar=&quot;+a);\r\n                            rs2.next();\r\n    \r\n                            System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi &#232; stata disassegnata la lpar &quot;+rs2.getString(&quot;IDRS&quot;)+\r\n                                    &quot;-&quot;+rs2.getString(&quot;CI&quot;)+&quot; da monitorare&quot;);\r\n                        }\r\n    \r\n                        //Verifico quali lpars nuove ho da monitorare\r\n                        al3=new ArrayList&lt;&gt;(al2);\r\n                        al3.removeAll(al1);\r\n    \r\n                        for(Integer a:al3)\r\n                        {\r\n                            rs2=connection.createStatement().executeQuery(&quot;SELECT CI, IDRS from lpars where id_lpar=&quot;+a);\r\n                            rs2.next();\r\n    \r\n                            System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi &#232; stata assegnata la lpar &quot;+rs2.getString(&quot;IDRS&quot;)+\r\n                                    &quot;-&quot;+rs2.getString(&quot;CI&quot;)+&quot; da monitorare&quot;);\r\n    \r\n                            associazioni.put(a,new Poncharello(a,rs2.getString(&quot;IDRS&quot;),rs2.getString(&quot;CI&quot;)));\r\n                        }\r\n                    }\r\n    \r\n                } catch (SQLException e) {\r\n                    ExceptionManager.sendNotify(e);\r\n                }\r\n    \r\n                DatabaseManager.close(connection);\r\n    \r\n            }while (true);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nand \r\n\r\n    public class Poncharello extends Thread{\r\n    \r\n        private final int idlpar;\r\n    \r\n        Poncharello(int i, String IDRS, String CI){\r\n            idlpar=i;\r\n            setName(&quot;Poncharello &quot;+IDRS+&quot;-&quot;+CI);\r\n            start();\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: attivit&#224; di monitoraggio iniziata&quot;);\r\n            while (true)\r\n            {\r\n                try {\r\n                    Thread.sleep(10000);\r\n                } catch (InterruptedException e) {\r\n                    if(interrupted())\r\n                    {\r\n                        System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi &#232; stato chiesto di &quot; +\r\n                                &quot;interrompere l&#39;attivit&#224; di monitoraggio&quot;);\r\n                    }\r\n                }\r\n    \r\n                if(interrupted())\r\n                {\r\n                    System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi &#232; stato chiesto di &quot; +\r\n                            &quot;interrompere l&#39;attivit&#224; di monitoraggio&quot;);\r\n                }\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nIn my opinion the code should be interrupt. I&#39;ve tried withc casting with Thread class but it doesn&#39;t work","title":"Java unable to interrupt other threads","body":"<p>I'm getting some problems with Java.\nI've a thread (LparsManager) that generate some other threads of another class (Poncharello). The problem is that LparsManager is unable to interrupt others thread. Even it calls the method interrupt(), it is unable to set interrupted flag (I've seen it from the debugger) or throw an interrupted exception for childrens.</p>\n<pre><code>public class LparsManager extends Thread{\n\n    private int id;\n\n    LparsManager(){\n        setName(&quot;LparsManager&quot;);\n        start();\n    }\n\n    @Override\n    public void run() {\n\n        try {\n            Thread.sleep(30000);\n        } catch (InterruptedException e) {\n\n        }\n        Connection connection=DatabaseManager.connect();\n        HashMap&lt;Integer,Poncharello&gt; associazioni=new HashMap&lt;&gt;();\n        ArrayList&lt;Integer&gt; al1, al2, al3;\n        ResultSet rs=null;\n\n        try {\n            //Reperisco il mio id\n            rs=connection.createStatement().executeQuery(&quot;SELECT id_server FROM &quot; +\n                    &quot;servers where hostname='&quot;+ InetAddress.getLocalHost().getHostName()+&quot;'&quot;);\n            rs.next();\n            id=rs.getInt(&quot;id_server&quot;);\n            ResultSet rs2;\n\n            //Verifico le prime associazioni\n            rs=connection.createStatement().executeQuery(&quot;SELECT id_lpar FROM &quot; +\n                    &quot;lpars where idf_server=&quot;+ id);\n            while (rs.next())\n            {\n                rs2=connection.createStatement().executeQuery(&quot;SELECT CI, IDRS from lpars where id_lpar=&quot;+rs.getInt(&quot;id_lpar&quot;));\n                rs2.next();\n                System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi è stata assegnata la lpar &quot;+rs2.getString(&quot;IDRS&quot;)+\n                        &quot;-&quot;+rs2.getString(&quot;CI&quot;)+&quot; da monitorare&quot;);\n                associazioni.put(rs.getInt(&quot;id_lpar&quot;),new Poncharello(rs.getInt(&quot;id_lpar&quot;),rs2.getString(&quot;IDRS&quot;),rs2.getString(&quot;CI&quot;)));\n            }\n            DatabaseManager.close(connection);\n        } catch (SQLException | UnknownHostException e) {\n            ExceptionManager.sendNotify(e);\n            return;\n        }\n\n        do {\n            //Addormento il thread\n            try {\n                Thread.sleep(Config.sleep_time);\n            } catch (InterruptedException e) {\n\n            }\n            al1=new ArrayList&lt;&gt;();\n            al2=new ArrayList&lt;&gt;();\n\n            al1.addAll(associazioni.keySet());\n\n            connection=DatabaseManager.connect();\n\n            //Verifico le mie associazioni\n            try {\n\n                rs = connection.createStatement().executeQuery(&quot;SELECT id_lpar FROM &quot; +\n                        &quot;lpars where idf_server=&quot;+ id);\n                while (rs.next())\n                {\n                    al2.add(rs.getInt(&quot;id_lpar&quot;));\n                }\n\n                Collections.sort(al1);\n                Collections.sort(al2);\n\n                //Se i due Arraylist sono uguali, looppo altrimenti verifico quali lpars aggiungere/rimuovere\n                if(!al2.equals(al1))\n                {\n                    //Verifico quali lpars non sono più da monitorare\n                    al3=new ArrayList&lt;&gt;(al1);\n                    al3.removeAll(al2);\n                    ResultSet rs2;\n\n                    for(Integer a:al3) {\n\n                        associazioni.get(a).interrupt();\n                        //tmp.stop();\n\n                        associazioni.remove(a);\n\n                        rs2=connection.createStatement().executeQuery(&quot;SELECT CI, IDRS from lpars where id_lpar=&quot;+a);\n                        rs2.next();\n\n                        System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi è stata disassegnata la lpar &quot;+rs2.getString(&quot;IDRS&quot;)+\n                                &quot;-&quot;+rs2.getString(&quot;CI&quot;)+&quot; da monitorare&quot;);\n                    }\n\n                    //Verifico quali lpars nuove ho da monitorare\n                    al3=new ArrayList&lt;&gt;(al2);\n                    al3.removeAll(al1);\n\n                    for(Integer a:al3)\n                    {\n                        rs2=connection.createStatement().executeQuery(&quot;SELECT CI, IDRS from lpars where id_lpar=&quot;+a);\n                        rs2.next();\n\n                        System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi è stata assegnata la lpar &quot;+rs2.getString(&quot;IDRS&quot;)+\n                                &quot;-&quot;+rs2.getString(&quot;CI&quot;)+&quot; da monitorare&quot;);\n\n                        associazioni.put(a,new Poncharello(a,rs2.getString(&quot;IDRS&quot;),rs2.getString(&quot;CI&quot;)));\n                    }\n                }\n\n            } catch (SQLException e) {\n                ExceptionManager.sendNotify(e);\n            }\n\n            DatabaseManager.close(connection);\n\n        }while (true);\n\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class Poncharello extends Thread{\n\n    private final int idlpar;\n\n    Poncharello(int i, String IDRS, String CI){\n        idlpar=i;\n        setName(&quot;Poncharello &quot;+IDRS+&quot;-&quot;+CI);\n        start();\n    }\n\n    @Override\n    public void run() {\n        System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: attività di monitoraggio iniziata&quot;);\n        while (true)\n        {\n            try {\n                Thread.sleep(10000);\n            } catch (InterruptedException e) {\n                if(interrupted())\n                {\n                    System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi è stato chiesto di &quot; +\n                            &quot;interrompere l'attività di monitoraggio&quot;);\n                }\n            }\n\n            if(interrupted())\n            {\n                System.out.println(&quot;-&gt; &quot;+getName()+&quot; at &quot;+Config.sdf.format(new Timestamp(System.currentTimeMillis()))+&quot;: mi è stato chiesto di &quot; +\n                        &quot;interrompere l'attività di monitoraggio&quot;);\n            }\n\n        }\n    }\n}\n</code></pre>\n<p>In my opinion the code should be interrupt. I've tried withc casting with Thread class but it doesn't work</p>\n"},{"tags":["java","mongodb","spring-boot","spring-data","mongotemplate"],"comments":[{"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"score":0,"creation_date":1673291463,"post_id":74861347,"comment_id":132461673,"body_markdown":"from connection string? I don&#39;t really understand the question though","body":"from connection string? I don&#39;t really understand the question though"},{"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"score":0,"creation_date":1673435918,"post_id":74861347,"comment_id":132497261,"body_markdown":"Well I&#39;d rather set those timeout settings via MongoClientSettings than the connection string. If my question was unclear I&#39;m sorry. Basically I normally set timeouts via MongoClientSettings. However that only works when connecting to a single Mongo DB. I have multiple db&#39;s so I need to use MongoDatabaseFactory","body":"Well I&#39;d rather set those timeout settings via MongoClientSettings than the connection string. If my question was unclear I&#39;m sorry. Basically I normally set timeouts via MongoClientSettings. However that only works when connecting to a single Mongo DB. I have multiple db&#39;s so I need to use MongoDatabaseFactory"}],"answers":[{"tags":[],"owner":{"account_id":6734594,"reputation":36672,"user_id":5189811,"display_name":"Oluwafemi Sule"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673309102,"creation_date":1673303430,"answer_id":75063635,"question_id":74861347,"body_markdown":"Except the [`maintenanceFrequency` configuration](https://github.com/spring-projects/spring-data-mongodb/blob/main/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoClientFactoryBean.java#L216), the rest can be provided in the [connection string](https://github.com/mongodb/mongo-java-driver/blob/master/driver-core/src/main/com/mongodb/ConnectionString.java#L114) e.g. \r\n`\r\nmongodb://db1.example.net:27017,db2.example.net:2500/?replicaSet=test&amp;maxPoolSize=300&amp;minPoolSize=100&amp;maxLifeTimeMS=300&amp;maxIdleTimeMS=200&amp;waitQueueTimeoutMS=150&amp;connectTimeoutMS=2000&amp;socketTimeoutMS=5500\r\n`","title":"Spring MongoDatabaseFactory - How to set mongo timeout","body":"<p>Except the <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/main/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/MongoClientFactoryBean.java#L216\" rel=\"nofollow noreferrer\"><code>maintenanceFrequency</code> configuration</a>, the rest can be provided in the <a href=\"https://github.com/mongodb/mongo-java-driver/blob/master/driver-core/src/main/com/mongodb/ConnectionString.java#L114\" rel=\"nofollow noreferrer\">connection string</a> e.g.\n<code>mongodb://db1.example.net:27017,db2.example.net:2500/?replicaSet=test&amp;maxPoolSize=300&amp;minPoolSize=100&amp;maxLifeTimeMS=300&amp;maxIdleTimeMS=200&amp;waitQueueTimeoutMS=150&amp;connectTimeoutMS=2000&amp;socketTimeoutMS=5500</code></p>\n"}],"owner":{"account_id":1972832,"reputation":378,"user_id":1771344,"accept_rate":75,"display_name":"MetaCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673309102,"creation_date":1671530614,"question_id":74861347,"body_markdown":"I&#39;m working on a project whereby my spring service needs to connect to multiple Mongo DB&#39;s.\r\n\r\nIn order to achieve the ability to connect to multiple mongo db&#39;s I&#39;ve created a MongoDatabaseFactory config class to represent each connection. I&#39;am however getting random mongo SSL timeout errors. Normally when I would connect to a single mongo db I would create the client like so:\r\n\r\n```java\r\n  @Value(&quot;${spring.data.mongodb.host}&quot;)\r\n    private String connectionString;\r\n\r\n    @Bean\r\n    public MongoClient mongoClient() {\r\n        CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\r\n        CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\r\n        return MongoClients.create(MongoClientSettings.builder()\r\n                .applyConnectionString(new ConnectionString(connectionString))\r\n                .uuidRepresentation(UuidRepresentation.STANDARD)\r\n                .codecRegistry(codecRegistry)\r\n                .build());\r\n    }\r\n\r\n    @Bean\r\n    public MongoClientSettings mongoClientSettings() {\r\n        final MongoClientSettings clientSettings = MongoClientSettings.builder()\r\n                .retryWrites(true)\r\n                .applyToConnectionPoolSettings((ConnectionPoolSettings.Builder builder) -&gt; {\r\n                    builder.maxSize(300) //connections count\r\n                            .minSize(100)\r\n                            .maxConnectionLifeTime(300, TimeUnit.MILLISECONDS)\r\n                            .maintenanceFrequency(5000, TimeUnit.MILLISECONDS)\r\n                            .maxConnectionIdleTime(200, TimeUnit.MILLISECONDS)\r\n                            .maxWaitTime(150, TimeUnit.MILLISECONDS);\r\n                })\r\n                .applyToSocketSettings(builder -&gt; {\r\n                    builder.connectTimeout(2000, TimeUnit.MILLISECONDS)\r\n                            .readTimeout(5500, TimeUnit.MILLISECONDS);\r\n                })\r\n\r\n                .applicationName(&quot;TestApplication&quot;)\r\n                .retryWrites(true)\r\n                .build();\r\n\r\n        return clientSettings;\r\n    }\r\n\r\n    @Bean\r\n    public MongoCustomConversions mongoCustomConversions() {\r\n        return new MongoCustomConversions(Arrays.asList(\r\n                new BigDecimalDecimal128Converter(),\r\n                new Decimal128BigDecimalConverter()\r\n        ));\r\n\r\n    }\r\n\r\n    @WritingConverter\r\n    private static class BigDecimalDecimal128Converter implements Converter&lt;BigDecimal, Decimal128&gt; {\r\n\r\n        @Override\r\n        public Decimal128 convert(@NonNull BigDecimal source) {\r\n            return new Decimal128(source);\r\n        }\r\n    }\r\n\r\n    @ReadingConverter\r\n    private static class Decimal128BigDecimalConverter implements Converter&lt;Decimal128, BigDecimal&gt; {\r\n\r\n        @Override\r\n        public BigDecimal convert(@NonNull Decimal128 source) {\r\n            return source.bigDecimalValue();\r\n        }\r\n\r\n    }\r\n```\r\n\r\nAnd when connecting to multiple mongo db&#39;s here&#39;s how I do it:\r\n\r\n```java\r\n@Configuration\r\npublic class UserProfileInformationMongoConfig {\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Bean\r\n    public MongoDatabaseFactory userProfileInformationFactory() {\r\n        return new SimpleMongoClientDatabaseFactory(new ConnectionString(env.getProperty(&quot;spring.data.mongo.userprofileinformationdb.uri&quot;)));\r\n    }\r\n    @Bean\r\n    public MongoTemplate userProfileInformationMongoTemplate() {\r\n        return new MongoTemplate(userProfileInformationFactory());\r\n    }\r\n}\r\n```\r\n\r\nSo, my question again is how do I set my mongo client options like in the first code example when using MongoDatabaseFactory.\r\n\r\nMany thanks","title":"Spring MongoDatabaseFactory - How to set mongo timeout","body":"<p>I'm working on a project whereby my spring service needs to connect to multiple Mongo DB's.</p>\n<p>In order to achieve the ability to connect to multiple mongo db's I've created a MongoDatabaseFactory config class to represent each connection. I'am however getting random mongo SSL timeout errors. Normally when I would connect to a single mongo db I would create the client like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Value(&quot;${spring.data.mongodb.host}&quot;)\n    private String connectionString;\n\n    @Bean\n    public MongoClient mongoClient() {\n        CodecRegistry pojoCodecRegistry = fromProviders(PojoCodecProvider.builder().automatic(true).build());\n        CodecRegistry codecRegistry = fromRegistries(MongoClientSettings.getDefaultCodecRegistry(), pojoCodecRegistry);\n        return MongoClients.create(MongoClientSettings.builder()\n                .applyConnectionString(new ConnectionString(connectionString))\n                .uuidRepresentation(UuidRepresentation.STANDARD)\n                .codecRegistry(codecRegistry)\n                .build());\n    }\n\n    @Bean\n    public MongoClientSettings mongoClientSettings() {\n        final MongoClientSettings clientSettings = MongoClientSettings.builder()\n                .retryWrites(true)\n                .applyToConnectionPoolSettings((ConnectionPoolSettings.Builder builder) -&gt; {\n                    builder.maxSize(300) //connections count\n                            .minSize(100)\n                            .maxConnectionLifeTime(300, TimeUnit.MILLISECONDS)\n                            .maintenanceFrequency(5000, TimeUnit.MILLISECONDS)\n                            .maxConnectionIdleTime(200, TimeUnit.MILLISECONDS)\n                            .maxWaitTime(150, TimeUnit.MILLISECONDS);\n                })\n                .applyToSocketSettings(builder -&gt; {\n                    builder.connectTimeout(2000, TimeUnit.MILLISECONDS)\n                            .readTimeout(5500, TimeUnit.MILLISECONDS);\n                })\n\n                .applicationName(&quot;TestApplication&quot;)\n                .retryWrites(true)\n                .build();\n\n        return clientSettings;\n    }\n\n    @Bean\n    public MongoCustomConversions mongoCustomConversions() {\n        return new MongoCustomConversions(Arrays.asList(\n                new BigDecimalDecimal128Converter(),\n                new Decimal128BigDecimalConverter()\n        ));\n\n    }\n\n    @WritingConverter\n    private static class BigDecimalDecimal128Converter implements Converter&lt;BigDecimal, Decimal128&gt; {\n\n        @Override\n        public Decimal128 convert(@NonNull BigDecimal source) {\n            return new Decimal128(source);\n        }\n    }\n\n    @ReadingConverter\n    private static class Decimal128BigDecimalConverter implements Converter&lt;Decimal128, BigDecimal&gt; {\n\n        @Override\n        public BigDecimal convert(@NonNull Decimal128 source) {\n            return source.bigDecimalValue();\n        }\n\n    }\n</code></pre>\n<p>And when connecting to multiple mongo db's here's how I do it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class UserProfileInformationMongoConfig {\n    @Autowired\n    private Environment env;\n\n    @Bean\n    public MongoDatabaseFactory userProfileInformationFactory() {\n        return new SimpleMongoClientDatabaseFactory(new ConnectionString(env.getProperty(&quot;spring.data.mongo.userprofileinformationdb.uri&quot;)));\n    }\n    @Bean\n    public MongoTemplate userProfileInformationMongoTemplate() {\n        return new MongoTemplate(userProfileInformationFactory());\n    }\n}\n</code></pre>\n<p>So, my question again is how do I set my mongo client options like in the first code example when using MongoDatabaseFactory.</p>\n<p>Many thanks</p>\n"},{"tags":["java","list","sorting","arraylist","string-comparison"],"comments":[{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1673183802,"post_id":75048013,"comment_id":132436464,"body_markdown":"Are you able to change it from a list of lists to a list of custom objects?","body":"Are you able to change it from a list of lists to a list of custom objects?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1673184354,"post_id":75048013,"comment_id":132436561,"body_markdown":"What have you tried so far? Where are you stuck? Please share your attempts so far even if they don&#39;t work yet.","body":"What have you tried so far? Where are you stuck? Please share your attempts so far even if they don&#39;t work yet."},{"owner":{"account_id":12922916,"reputation":15,"user_id":9344662,"display_name":"PotatoGod"},"score":0,"creation_date":1673267149,"post_id":75048013,"comment_id":132452640,"body_markdown":"@Eritrean I have updated with the approach I tried to sort them with sample output","body":"@Eritrean I have updated with the approach I tried to sort them with sample output"},{"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"score":0,"creation_date":1673267468,"post_id":75048013,"comment_id":132452763,"body_markdown":"ahhh. Well, if you want to implement a sorter for your Collection, you generally shouldnt be doing it manually with a nested for loop. You should just use the built-in utilities from Collection","body":"ahhh. Well, if you want to implement a sorter for your Collection, you generally shouldnt be doing it manually with a nested for loop. You should just use the built-in utilities from Collection"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1673269831,"post_id":75048013,"comment_id":132453622,"body_markdown":"@PotatoGod Are all your items prefixed with `name` and `id` and differ only in the numbers apended to th end? What shall the order look like if for example the list contains the names `Alex23`, `Robert23` and `Janet23` ?","body":"@PotatoGod Are all your items prefixed with <code>name</code> and <code>id</code> and differ only in the numbers apended to th end? What shall the order look like if for example the list contains the names <code>Alex23</code>, <code>Robert23</code> and <code>Janet23</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":14632062,"reputation":585,"user_id":10671013,"display_name":"Tan Yu Hau Sean"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673267828,"creation_date":1673185235,"answer_id":75048203,"question_id":75048013,"body_markdown":"The following shows the comparators used for sorting, and then a generic method in order to use the comparator as well as whether the order should be in desc or asc.\r\n\r\n    public static void main(String[] args) {\r\n    \t\tList&lt;String&gt; item1 = Arrays.asList(&quot;name99&quot;,&quot;id1&quot;);\r\n    \t\tList&lt;String&gt; item2 = Arrays.asList(&quot;name2&quot;,&quot;id2&quot;);\r\n    \t\tList&lt;String&gt; item3 = Arrays.asList(&quot;name36&quot;,&quot;id3&quot;);\r\n    \t\tList&lt;List&lt;String&gt;&gt; listOfLists = Arrays.asList(item1, item2, item3);\r\n    \t\t\r\n    \t\tComparator&lt;List&lt;String&gt;&gt; nameComparator = (l1, l2) -&gt; l1.get(0).compareTo(l2.get(0));\r\n    \t\tComparator&lt;List&lt;String&gt;&gt; idComparator = (l1, l2) -&gt; l1.get(1).compareTo(l2.get(1));\r\n    \t\t//sort by name in asc\r\n    \t\tlistOfLists.sort(nameComparator);\r\n    \t\tSystem.out.println(listOfLists);\r\n    \t\t//instead of making a new comparator with l2 compared to l1, just call comparator.reversed()\r\n    \t\tlistOfLists.sort(nameComparator.reversed());\r\n    \t\tSystem.out.println(listOfLists);\r\n    \t\t//testing out generic method to pass list of lists, sort comparator and the ordering of the sort.\r\n    \t\tsortListByComparatorAndOrder(listOfLists, idComparator, &quot;DESC&quot;);\r\n    \t\tSystem.out.println(listOfLists);\r\n    \t\t\r\n    \t}\r\n    \t//generic method to sort a list \r\n    \tpublic static &lt;T&gt; void sortListByComparatorAndOrder(List&lt;T&gt; listToSort, Comparator&lt;T&gt; sorter, String order) {\r\n    \t\tif (order.equals(&quot;ASC&quot;)) {\r\n    \t\t\tlistToSort.sort(sorter);\r\n    \t\t}else if (order.equals(&quot;DESC&quot;)) {\r\n    \t\t\tlistToSort.sort(sorter.reversed());\r\n    \t\t}\r\n    \t}\r\n\r\noutput:\r\n\r\n    [[name2, id2], [name36, id3], [name99, id1]]\r\n    [[name99, id1], [name36, id3], [name2, id2]]\r\n    [[name36, id3], [name2, id2], [name99, id1]]\r\n\r\nYou could also use the following method which does not use generics, and follows your method signature:\r\n\r\n    public static void sortListByGivenIndexAndOrder(List&lt;List&lt;String&gt;&gt; listToSort, int index, String order) {\r\n    \t\tComparator&lt;List&lt;String&gt;&gt; indexComparator = (l1, l2) -&gt; l1.get(index).compareTo(l2.get(index));\r\n    \t\tif (order.equals(&quot;ASC&quot;)) {\r\n    \t\t\tlistToSort.sort(indexComparator);\r\n    \t\t}else if (order.equals(&quot;DESC&quot;)) {\r\n    \t\t\tlistToSort.sort(indexComparator.reversed());\r\n    \t\t}\r\n    \t}\r\n\r\nSpecial note:\r\nI suspect that this logic might not be a good idea considering that there are integers in the name. while name2 comes before name36, name2 will NOT come before name16, so I think this might not be the best logic for a comparator.\r\n\r\nIF the id are string representations of numbers ie &quot;9&quot; &quot;10&quot; and not a mix of alphabet and numbers &quot;id9&quot; &quot;id10&quot;, you could instead parse the numbers from the string in order to avoid the issue mentioned above in the note. ie:\r\n\r\n    Comparator&lt;List&lt;String&gt;&gt; idComparator = (l1, l2) -&gt; {\r\n    \t\t\tInteger val1 = Integer.parseInt(l1.get(1));\r\n    \t\t\tInteger val2 = Integer.parseInt(l2.get(1));\r\n    \t\t\treturn val1.compareTo(val2);\r\n    \t\t};\r\n\r\n","title":"How to perform a custom sort based on input values and Asc/Desc as user Input -Java","body":"<p>The following shows the comparators used for sorting, and then a generic method in order to use the comparator as well as whether the order should be in desc or asc.</p>\n<pre><code>public static void main(String[] args) {\n        List&lt;String&gt; item1 = Arrays.asList(&quot;name99&quot;,&quot;id1&quot;);\n        List&lt;String&gt; item2 = Arrays.asList(&quot;name2&quot;,&quot;id2&quot;);\n        List&lt;String&gt; item3 = Arrays.asList(&quot;name36&quot;,&quot;id3&quot;);\n        List&lt;List&lt;String&gt;&gt; listOfLists = Arrays.asList(item1, item2, item3);\n        \n        Comparator&lt;List&lt;String&gt;&gt; nameComparator = (l1, l2) -&gt; l1.get(0).compareTo(l2.get(0));\n        Comparator&lt;List&lt;String&gt;&gt; idComparator = (l1, l2) -&gt; l1.get(1).compareTo(l2.get(1));\n        //sort by name in asc\n        listOfLists.sort(nameComparator);\n        System.out.println(listOfLists);\n        //instead of making a new comparator with l2 compared to l1, just call comparator.reversed()\n        listOfLists.sort(nameComparator.reversed());\n        System.out.println(listOfLists);\n        //testing out generic method to pass list of lists, sort comparator and the ordering of the sort.\n        sortListByComparatorAndOrder(listOfLists, idComparator, &quot;DESC&quot;);\n        System.out.println(listOfLists);\n        \n    }\n    //generic method to sort a list \n    public static &lt;T&gt; void sortListByComparatorAndOrder(List&lt;T&gt; listToSort, Comparator&lt;T&gt; sorter, String order) {\n        if (order.equals(&quot;ASC&quot;)) {\n            listToSort.sort(sorter);\n        }else if (order.equals(&quot;DESC&quot;)) {\n            listToSort.sort(sorter.reversed());\n        }\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>[[name2, id2], [name36, id3], [name99, id1]]\n[[name99, id1], [name36, id3], [name2, id2]]\n[[name36, id3], [name2, id2], [name99, id1]]\n</code></pre>\n<p>You could also use the following method which does not use generics, and follows your method signature:</p>\n<pre><code>public static void sortListByGivenIndexAndOrder(List&lt;List&lt;String&gt;&gt; listToSort, int index, String order) {\n        Comparator&lt;List&lt;String&gt;&gt; indexComparator = (l1, l2) -&gt; l1.get(index).compareTo(l2.get(index));\n        if (order.equals(&quot;ASC&quot;)) {\n            listToSort.sort(indexComparator);\n        }else if (order.equals(&quot;DESC&quot;)) {\n            listToSort.sort(indexComparator.reversed());\n        }\n    }\n</code></pre>\n<p>Special note:\nI suspect that this logic might not be a good idea considering that there are integers in the name. while name2 comes before name36, name2 will NOT come before name16, so I think this might not be the best logic for a comparator.</p>\n<p>IF the id are string representations of numbers ie &quot;9&quot; &quot;10&quot; and not a mix of alphabet and numbers &quot;id9&quot; &quot;id10&quot;, you could instead parse the numbers from the string in order to avoid the issue mentioned above in the note. ie:</p>\n<pre><code>Comparator&lt;List&lt;String&gt;&gt; idComparator = (l1, l2) -&gt; {\n            Integer val1 = Integer.parseInt(l1.get(1));\n            Integer val2 = Integer.parseInt(l2.get(1));\n            return val1.compareTo(val2);\n        };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27413892,"reputation":186,"user_id":20913415,"display_name":"Flavian Iuga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673191788,"creation_date":1673191788,"answer_id":75049010,"question_id":75048013,"body_markdown":"You can use apache&#39;s org.apache.commons.lang3.tuple.Pair to model it. This should cover all 4 cases:\r\n\r\n    List&lt;Pair&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(new MutablePair&lt;&gt;(&quot;name99&quot;, &quot;id1&quot;));\r\n    list.add(new MutablePair&lt;&gt;(&quot;name2&quot;, &quot;id2&quot;));\r\n    list.add(new MutablePair&lt;&gt;(&quot;name36&quot;, &quot;id3&quot;));\r\n        \r\n    list.sort(Comparator.comparing(Pair::getLeft));// name, asc\r\n    list.sort(Comparator.comparing(Pair::getLeft, Collections.reverseOrder()));// name, desc\r\n    list.sort(Comparator.comparing(Pair::getRight)); // id, asc\r\n    list.sort(Comparator.comparing(Pair::getRight, Collections.reverseOrder())); // id, desc","title":"How to perform a custom sort based on input values and Asc/Desc as user Input -Java","body":"<p>You can use apache's org.apache.commons.lang3.tuple.Pair to model it. This should cover all 4 cases:</p>\n<pre><code>List&lt;Pair&lt;String, String&gt;&gt; list = new ArrayList&lt;&gt;();\nlist.add(new MutablePair&lt;&gt;(&quot;name99&quot;, &quot;id1&quot;));\nlist.add(new MutablePair&lt;&gt;(&quot;name2&quot;, &quot;id2&quot;));\nlist.add(new MutablePair&lt;&gt;(&quot;name36&quot;, &quot;id3&quot;));\n    \nlist.sort(Comparator.comparing(Pair::getLeft));// name, asc\nlist.sort(Comparator.comparing(Pair::getLeft, Collections.reverseOrder()));// name, desc\nlist.sort(Comparator.comparing(Pair::getRight)); // id, asc\nlist.sort(Comparator.comparing(Pair::getRight, Collections.reverseOrder())); // id, desc\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673270681,"creation_date":1673270681,"answer_id":75057927,"question_id":75048013,"body_markdown":"For the given sample input, that is: all items are prefixed with `name` and `id` and only differ by the digits appended at the end, something like below should work:\r\n\r\n - Create a function to remove all non digit charachters and parse to int\r\n - create a comparotor and choose the right index to compare with from the given param\r\n - reverse the sort order if needed\r\n\r\nCode:\r\n\r\n    private static void sortBasedonInput(List&lt;List&lt;String&gt;&gt; items, String sortOrder, int sortParameter) {\r\n\r\n        Function&lt;String,Integer&gt; func = str -&gt; Integer.parseInt(str.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;));\r\n        Comparator&lt;List&lt;String&gt;&gt; sortBy = Comparator.comparingInt(list -&gt; func.apply(list.get(sortParameter)));\r\n        if (sortOrder.equals(&quot;desc&quot;)){\r\n            sortBy = sortBy.reversed();\r\n        }\r\n        items.sort(sortBy);\r\n    }","title":"How to perform a custom sort based on input values and Asc/Desc as user Input -Java","body":"<p>For the given sample input, that is: all items are prefixed with <code>name</code> and <code>id</code> and only differ by the digits appended at the end, something like below should work:</p>\n<ul>\n<li>Create a function to remove all non digit charachters and parse to int</li>\n<li>create a comparotor and choose the right index to compare with from the given param</li>\n<li>reverse the sort order if needed</li>\n</ul>\n<p>Code:</p>\n<pre><code>private static void sortBasedonInput(List&lt;List&lt;String&gt;&gt; items, String sortOrder, int sortParameter) {\n\n    Function&lt;String,Integer&gt; func = str -&gt; Integer.parseInt(str.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;));\n    Comparator&lt;List&lt;String&gt;&gt; sortBy = Comparator.comparingInt(list -&gt; func.apply(list.get(sortParameter)));\n    if (sortOrder.equals(&quot;desc&quot;)){\n        sortBy = sortBy.reversed();\n    }\n    items.sort(sortBy);\n}\n</code></pre>\n"}],"owner":{"account_id":12922916,"reputation":15,"user_id":9344662,"display_name":"PotatoGod"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1673308572,"creation_date":1673183416,"question_id":75048013,"body_markdown":"I am trying to arrive at a solution for a problem related to sorting.\r\nThe input is a list of values where each value in list is a list containing two `String` values {name,id}\r\nAn Example input list resembles \r\n```none\r\n{{name99,id1},{name2,id2},{name36,id3}}\r\n```\r\nMy requirement is to sort these based on both input sort condition and sort order.\r\nIf sort condition is &quot;name&quot;, with _asc_ as input order criteria, then\r\nmy output list should be:\r\n```none\r\n{{name2,id2},{name36,id3},{name99,id1}}\r\n```\r\nIf sort condition is &quot;id&quot;, with _desc_ as input order criteria, then\r\nmy output list should be:\r\n```none\r\n{{name36,id3},{name2,id2},{name99,id1}}\r\n```\r\n\r\n\r\nThe implementation that is done so far doesn&#39;t sort the strings as per expectation in place when I use compareTo\r\n\r\n```\tpublic static void main(String[] args) {\r\n\t\tList&lt;String&gt; sample1= Arrays.asList(&quot;name99&quot;,&quot;id1&quot;);\r\n\t\tList&lt;String&gt; sample2= Arrays.asList(&quot;name1&quot;,&quot;id12&quot;);\r\n\t\tList&lt;String&gt; sample3= Arrays.asList(&quot;name22&quot;,&quot;id99&quot;);\r\n\t\tList&lt;String&gt; sample4= Arrays.asList(&quot;name36&quot;,&quot;id5&quot;);\r\n\t\tList&lt;String&gt; sample5= Arrays.asList(&quot;name343&quot;,&quot;id3&quot;);\r\n\t\tList&lt;List&lt;String&gt;&gt; items=Arrays.asList(sample1,sample2,sample3,sample4,sample5);\r\n\t\tString sortOrderVal=&quot;asc&quot;;\r\n\t\tString sortParamVal=&quot;name&quot;;\r\n\t\tint sortParameter=&quot;name&quot;.equalsIgnoreCase(sortParamVal)?0:1;\r\n\t\tsortBasedonInput(items,sortOrderVal,sortParameter);\r\n\r\n\t}\r\n\t\r\n\t\r\n\tprivate static void sortBasedonInput(List&lt;List&lt;String&gt;&gt; items, String sortOrder, int sortParameter) {\r\n\t\tSystem.out.println(&quot;before sort: &quot;+items);\r\n\t\t\tfor(int j=0;j&lt;items.size();j++) {\r\n\t\t\t\tfor(int i=0;i&lt;items.size()-1;i++) {\r\n\t\t\t\t\tif(items.get(i).get(sortParameter).compareTo(items.get(i+1).get(sortParameter))&gt;0) {\r\n\t\t\t\t\t\tList&lt;String&gt; temp=items.get(i);\r\n\t\t\t\t\t\titems.set(i,items.get(i+1));\r\n\t\t\t\t\t\titems.set(i+1,temp);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\tif(&quot;asc&quot;.equalsIgnoreCase(sortOrder))\r\n\t\t\t\tSystem.out.println(items);\r\n\t\t\telse {\r\n\t\t\t\tCollections.reverse(items);\r\n\t\t\t\tSystem.out.println(items);\r\n\t\t\t}\r\n\t\t\t\r\n\t}\r\n```\r\n   \r\n\r\nOutput for the implementation for name with asc order:\r\nbefore sort: \r\n\r\n    [[name99, id1], [name1, id12], [name22, id99], [name36, id5], [name343, id3]]\r\n\r\nAfter sort:\r\n\r\n    [[name1, id12], [name22, id99], [name343, id3], [name36, id5], [name99, id1]]\r\n\r\nnote: item with name343 comes before item with name36","title":"How to perform a custom sort based on input values and Asc/Desc as user Input -Java","body":"<p>I am trying to arrive at a solution for a problem related to sorting.\nThe input is a list of values where each value in list is a list containing two <code>String</code> values {name,id}\nAn Example input list resembles</p>\n<pre class=\"lang-none prettyprint-override\"><code>{{name99,id1},{name2,id2},{name36,id3}}\n</code></pre>\n<p>My requirement is to sort these based on both input sort condition and sort order.\nIf sort condition is &quot;name&quot;, with <em>asc</em> as input order criteria, then\nmy output list should be:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{{name2,id2},{name36,id3},{name99,id1}}\n</code></pre>\n<p>If sort condition is &quot;id&quot;, with <em>desc</em> as input order criteria, then\nmy output list should be:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{{name36,id3},{name2,id2},{name99,id1}}\n</code></pre>\n<p>The implementation that is done so far doesn't sort the strings as per expectation in place when I use compareTo</p>\n<pre><code>        List&lt;String&gt; sample1= Arrays.asList(&quot;name99&quot;,&quot;id1&quot;);\n        List&lt;String&gt; sample2= Arrays.asList(&quot;name1&quot;,&quot;id12&quot;);\n        List&lt;String&gt; sample3= Arrays.asList(&quot;name22&quot;,&quot;id99&quot;);\n        List&lt;String&gt; sample4= Arrays.asList(&quot;name36&quot;,&quot;id5&quot;);\n        List&lt;String&gt; sample5= Arrays.asList(&quot;name343&quot;,&quot;id3&quot;);\n        List&lt;List&lt;String&gt;&gt; items=Arrays.asList(sample1,sample2,sample3,sample4,sample5);\n        String sortOrderVal=&quot;asc&quot;;\n        String sortParamVal=&quot;name&quot;;\n        int sortParameter=&quot;name&quot;.equalsIgnoreCase(sortParamVal)?0:1;\n        sortBasedonInput(items,sortOrderVal,sortParameter);\n\n    }\n    \n    \n    private static void sortBasedonInput(List&lt;List&lt;String&gt;&gt; items, String sortOrder, int sortParameter) {\n        System.out.println(&quot;before sort: &quot;+items);\n            for(int j=0;j&lt;items.size();j++) {\n                for(int i=0;i&lt;items.size()-1;i++) {\n                    if(items.get(i).get(sortParameter).compareTo(items.get(i+1).get(sortParameter))&gt;0) {\n                        List&lt;String&gt; temp=items.get(i);\n                        items.set(i,items.get(i+1));\n                        items.set(i+1,temp);\n                    }\n                }}\n            if(&quot;asc&quot;.equalsIgnoreCase(sortOrder))\n                System.out.println(items);\n            else {\n                Collections.reverse(items);\n                System.out.println(items);\n            }\n            \n    }\n</code></pre>\n<p>Output for the implementation for name with asc order:\nbefore sort:</p>\n<pre><code>[[name99, id1], [name1, id12], [name22, id99], [name36, id5], [name343, id3]]\n</code></pre>\n<p>After sort:</p>\n<pre><code>[[name1, id12], [name22, id99], [name343, id3], [name36, id5], [name99, id1]]\n</code></pre>\n<p>note: item with name343 comes before item with name36</p>\n"},{"tags":["java","algorithm","matrix","depth-first-search"],"answers":[{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673307430,"creation_date":1673307430,"answer_id":75064035,"question_id":75063845,"body_markdown":"Stack space is limited, so you should only write a recursive algorithm when you know that it will use a reasonable amount of it.\r\n\r\nUsing recursive DFS to find your way out of an NxM maze can use O(N*M) stack space -- not reasonable.\r\n\r\nYou could write DFS using a separate stack data structure, but really you should use BFS with a queue.  It&#39;s a little simpler, and you will get the shortest path.","title":"DFS Path has stackoverflow Error on larger entries","body":"<p>Stack space is limited, so you should only write a recursive algorithm when you know that it will use a reasonable amount of it.</p>\n<p>Using recursive DFS to find your way out of an NxM maze can use O(N*M) stack space -- not reasonable.</p>\n<p>You could write DFS using a separate stack data structure, but really you should use BFS with a queue.  It's a little simpler, and you will get the shortest path.</p>\n"},{"tags":[],"owner":{"account_id":8765633,"reputation":84,"user_id":10929107,"display_name":"MohammadMH"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673308521,"creation_date":1673308213,"answer_id":75064083,"question_id":75063845,"body_markdown":"method callings are in stack memory and after some calls it overflows. you can add ```-Xss12m``` as JVM argument (It gives 12 MB memory to your application stack memory. if it wasn&#39;t enough increase it.) and you can add this argument to the Run config in IntelliJ Idea as a JVM argument or as argument of java command in command line.","title":"DFS Path has stackoverflow Error on larger entries","body":"<p>method callings are in stack memory and after some calls it overflows. you can add <code>-Xss12m</code> as JVM argument (It gives 12 MB memory to your application stack memory. if it wasn't enough increase it.) and you can add this argument to the Run config in IntelliJ Idea as a JVM argument or as argument of java command in command line.</p>\n"}],"owner":{"account_id":18465061,"reputation":375,"user_id":13451504,"display_name":"beatmaister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75064035,"answer_count":2,"score":3,"last_activity_date":1673308521,"creation_date":1673305615,"question_id":75063845,"body_markdown":"This algorithm successfully gives me a path through a maze. The maze is a 2D binary matrix, and the target location is &#39;9&#39;.\r\n\r\nThe algorithm works by going through the &#39;0&#39; path that reaches &#39;9&#39; (base case) and recursively adds the previous locations to my path array.\r\n\r\nI observed that removing the border detecting line  at the top gives an index out of bounds error. but I am pretty sure this algo is breaking  when the path reaches a wall.\r\n\r\nIt also works smoothly on matrices 200x200 or less and about 50% of the time at 250x250.\r\n(As seen in the 100 width one below.)\r\n\r\n    public static boolean searchPath(int[][]maze, int x, int y, ArrayList&lt;Integer&gt; path){\r\n            if(x&lt;0 || x&gt;=maze[1].length || y&lt;0 || y&gt;=maze.length) return false;\r\n            if(maze[y][x] == 9){\r\n                path.add(x);\r\n                path.add(y);\r\n                return true;\r\n            }\r\n            if(maze[y][x] == 0){\r\n                maze[y][x] = 2;\r\n    \r\n                int dx = -1;\r\n                int dy = 0;\r\n                if(searchPath(maze,  x+dx, y+dy, path)){\r\n                    path.add(x);\r\n                    path.add(y);\r\n                    return true;\r\n                }\r\n                dx = 1;\r\n                dy = 0;\r\n                if(searchPath(maze,  x+dx, y+dy, path)){\r\n                    path.add(x);\r\n                    path.add(y);\r\n                    return true;\r\n                }\r\n                dx = 0;\r\n                dy = -1;\r\n                if(searchPath(maze,  x+dx, y+dy, path)){\r\n                    path.add(x);\r\n                    path.add(y);\r\n                    return true;\r\n                }\r\n                dx = 0;\r\n                dy = 1;\r\n                if(searchPath(maze,  x+dx, y+dy, path)){\r\n                    path.add(x);\r\n                    path.add(y);\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jmx0A.png\r\n  [2]: https://i.stack.imgur.com/0f2x0.png","title":"DFS Path has stackoverflow Error on larger entries","body":"<p>This algorithm successfully gives me a path through a maze. The maze is a 2D binary matrix, and the target location is '9'.</p>\n<p>The algorithm works by going through the '0' path that reaches '9' (base case) and recursively adds the previous locations to my path array.</p>\n<p>I observed that removing the border detecting line  at the top gives an index out of bounds error. but I am pretty sure this algo is breaking  when the path reaches a wall.</p>\n<p>It also works smoothly on matrices 200x200 or less and about 50% of the time at 250x250.\n(As seen in the 100 width one below.)</p>\n<pre><code>public static boolean searchPath(int[][]maze, int x, int y, ArrayList&lt;Integer&gt; path){\n        if(x&lt;0 || x&gt;=maze[1].length || y&lt;0 || y&gt;=maze.length) return false;\n        if(maze[y][x] == 9){\n            path.add(x);\n            path.add(y);\n            return true;\n        }\n        if(maze[y][x] == 0){\n            maze[y][x] = 2;\n\n            int dx = -1;\n            int dy = 0;\n            if(searchPath(maze,  x+dx, y+dy, path)){\n                path.add(x);\n                path.add(y);\n                return true;\n            }\n            dx = 1;\n            dy = 0;\n            if(searchPath(maze,  x+dx, y+dy, path)){\n                path.add(x);\n                path.add(y);\n                return true;\n            }\n            dx = 0;\n            dy = -1;\n            if(searchPath(maze,  x+dx, y+dy, path)){\n                path.add(x);\n                path.add(y);\n                return true;\n            }\n            dx = 0;\n            dy = 1;\n            if(searchPath(maze,  x+dx, y+dy, path)){\n                path.add(x);\n                path.add(y);\n                return true;\n            }\n        }\n        return false;\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/jmx0A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jmx0A.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/0f2x0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0f2x0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1673307253,"post_id":75063981,"comment_id":132465507,"body_markdown":"`DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;a&quot;);`?","body":"<code>DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;&zwnj;&#8203;a&quot;);</code>?"},{"owner":{"account_id":27176314,"reputation":11,"user_id":20712245,"display_name":"Soufiane B"},"score":0,"creation_date":1673310542,"post_id":75063981,"comment_id":132466003,"body_markdown":"I don&#39;t want specifically the child &quot;a&quot;, I want it in general so that for example if i go in the child &#39;s&#39; I can retrieve a specific child","body":"I don&#39;t want specifically the child &quot;a&quot;, I want it in general so that for example if i go in the child &#39;s&#39; I can retrieve a specific child"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1673311106,"post_id":75063981,"comment_id":132466076,"body_markdown":"Sorry @SoufianeB, but I&#39;m not sure what you mean by that. If you want to get just the username of user `s`, that&#39;d be `DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;s/username&quot;);`. If that still isn&#39;t what you&#39;re looking for, can you edit your question (there&#39;s a link right under it) to show a bit more of the code you have, what output it generates, and what you want to output instead?","body":"Sorry @SoufianeB, but I&#39;m not sure what you mean by that. If you want to get just the username of user <code>s</code>, that&#39;d be <code>DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(&quot;&zwnj;&#8203;s&#47;username&quot;);</code>. If that still isn&#39;t what you&#39;re looking for, can you edit your question (there&#39;s a link right under it) to show a bit more of the code you have, what output it generates, and what you want to output instead?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1673333376,"post_id":75063981,"comment_id":132469143,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":27176314,"reputation":11,"user_id":20712245,"display_name":"Soufiane B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673307228,"creation_date":1673306890,"question_id":75063981,"body_markdown":"I would like to know how to get this specific object name/value because I want to retrieve it for conditions in my android studio project.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/vOK0u.png)](https://i.stack.imgur.com/vOK0u.png)\r\n\r\nI can get the instance of the &#39;table&#39; Users but it is all my users that are retrieved. I would like to get one specific one so that i can target the childs of it.\r\n`DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);`","title":"How can you get the value of a specific &#39;object&#39; in realtime firebase?","body":"<p>I would like to know how to get this specific object name/value because I want to retrieve it for conditions in my android studio project.</p>\n<p><a href=\"https://i.stack.imgur.com/vOK0u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vOK0u.png\" alt=\"enter image description here\" /></a></p>\n<p>I can get the instance of the 'table' Users but it is all my users that are retrieved. I would like to get one specific one so that i can target the childs of it.\n<code>DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;);</code></p>\n"},{"tags":["java","swing","model-view-controller"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673306473,"post_id":75063899,"comment_id":132465408,"body_markdown":"I can&#39;t see `mainPage` been added to a `JDesktopPane` - maybe have closer look at [How to Use Internal Frames](https://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html)","body":"I can&#39;t see <code>mainPage</code> been added to a <code>JDesktopPane</code> - maybe have closer look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/internalframe.html\" rel=\"nofollow noreferrer\">How to Use Internal Frames</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1673306597,"post_id":75063899,"comment_id":132465426,"body_markdown":"I&#39;d also encourage you to make use of debug statements and the debugger to verify that the code execution is going where you think it should be going","body":"I&#39;d also encourage you to make use of debug statements and the debugger to verify that the code execution is going where you think it should be going"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673314092,"post_id":75063899,"comment_id":132466446,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27482687,"reputation":1,"user_id":20969454,"display_name":"Joshua Ulloa Mora"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673306223,"creation_date":1673306223,"question_id":75063899,"body_markdown":"I&#39;m working on a mvc project for which I have created a login form for which after logging in should show a JInternal frame which for some reason is not showing up I&#39;ve tested the connection to the db and is working fine also there is no problem with the validation just the window not showing up.\r\n\r\n                                        \r\n```\r\n private void btnLoginActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n    UserDAO userDAO = new UserDAO();\r\n    User u = new User();\r\n    \r\n        if (!txtUsername.getText().equals(&quot;&quot;) || txtPassword.getText().equals(&quot;&quot;)) {\r\n        u.setUsername(txtUsername.getText());\r\n        u.setPassword(txtPassword.getText());\r\n        u.setUserType(cbType.getSelectedItem().toString());\r\n        \r\n            if (userDAO.login(u)) {\r\n            \r\n            String userID =String.valueOf(u.getUserId());\r\n            String username = u.getUsername();\r\n            String userType = u.getUserType();\r\n            \r\n           \r\n            MainPage mainPage = new MainPage(userID, username, userType);\r\n            mainPage.setVisible(true);\r\n            \r\n            }else{\r\n            \r\n                JOptionPane.showMessageDialog(null, &quot;The username or password are incorrect&quot;);\r\n            }\r\n        }else{\r\n        JOptionPane.showMessageDialog(null, &quot;The spaces must be filled&quot;);\r\n        }\r\n    }                                        \r\n\r\n\r\n\r\n```\r\n","title":"JInternal Frame does not pop up","body":"<p>I'm working on a mvc project for which I have created a login form for which after logging in should show a JInternal frame which for some reason is not showing up I've tested the connection to the db and is working fine also there is no problem with the validation just the window not showing up.</p>\n<pre><code> private void btnLoginActionPerformed(java.awt.event.ActionEvent evt) {                                         \n    UserDAO userDAO = new UserDAO();\n    User u = new User();\n    \n        if (!txtUsername.getText().equals(&quot;&quot;) || txtPassword.getText().equals(&quot;&quot;)) {\n        u.setUsername(txtUsername.getText());\n        u.setPassword(txtPassword.getText());\n        u.setUserType(cbType.getSelectedItem().toString());\n        \n            if (userDAO.login(u)) {\n            \n            String userID =String.valueOf(u.getUserId());\n            String username = u.getUsername();\n            String userType = u.getUserType();\n            \n           \n            MainPage mainPage = new MainPage(userID, username, userType);\n            mainPage.setVisible(true);\n            \n            }else{\n            \n                JOptionPane.showMessageDialog(null, &quot;The username or password are incorrect&quot;);\n            }\n        }else{\n        JOptionPane.showMessageDialog(null, &quot;The spaces must be filled&quot;);\n        }\n    }                                        \n\n\n\n</code></pre>\n"},{"tags":["java","android","service","notifications"],"comments":[{"owner":{"account_id":7213958,"reputation":84,"user_id":9417126,"display_name":"Abhishek sheshagiri"},"score":0,"creation_date":1673322335,"post_id":75063852,"comment_id":132467454,"body_markdown":"Use a periodic WorkManager to run in the background that listens to the user&#39;s location at periodic intervals of time and then if the condition satisfy, fire the notification","body":"Use a periodic WorkManager to run in the background that listens to the user&#39;s location at periodic intervals of time and then if the condition satisfy, fire the notification"},{"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"score":0,"creation_date":1673346212,"post_id":75063852,"comment_id":132472816,"body_markdown":"Will this run in the background? I don&#39;t want the user to be prompted with &quot;App is still running, click here to close... etc&quot;. So how do I implement this? Can you link me to place that explains the basics, please? Thanks in advancd!","body":"Will this run in the background? I don&#39;t want the user to be prompted with &quot;App is still running, click here to close... etc&quot;. So how do I implement this? Can you link me to place that explains the basics, please? Thanks in advancd!"},{"owner":{"account_id":7213958,"reputation":84,"user_id":9417126,"display_name":"Abhishek sheshagiri"},"score":0,"creation_date":1673365506,"post_id":75063852,"comment_id":132479662,"body_markdown":"yes, it works in the background too. Check this documentation - https://developer.android.com/topic/libraries/architecture/workmanager\nI have used this to schedule periodic notifications in the past and many other such requirements","body":"yes, it works in the background too. Check this documentation - <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/workmanag&zwnj;&#8203;er</a> I have used this to schedule periodic notifications in the past and many other such requirements"}],"owner":{"account_id":26794833,"reputation":69,"user_id":20387721,"display_name":"nortain32"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673305679,"creation_date":1673305679,"question_id":75063852,"body_markdown":"I&#39;m making a location-based TODO notifying app.\r\nOne of it&#39;s main features - is to send a notification to the user - if he&#39;s close to one of the location he defined.\r\n\r\nWhat I need to do is to listen to the user&#39;s location - **even when the app is closed.**\r\n\r\nI have come across the idea of a foreground service (This are 2 of it&#39;s function):\r\n\r\n```\r\n@Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O)\r\n        {\r\n            startForegroundCustom();\r\n        }\r\n        else\r\n        {\r\n            startForeground(1, new Notification());\r\n        }\r\n    }\r\n\r\n    @RequiresApi(Build.VERSION_CODES.O)\r\n    private void startForegroundCustom()\r\n    {\r\n        // this is cause of the O api that requires this notification settings...\r\n\r\n        String NOTIFICATION_CHANNEL_ID = &quot;example.permanence&quot;;\r\n        String channelName = &quot;Background Service&quot;;\r\n        NotificationChannel chan = new NotificationChannel\r\n                (NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_NONE);\r\n        chan.setLightColor(Color.BLUE);\r\n        chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n\r\n        NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        assert manager != null;\r\n        manager.createNotificationChannel(chan);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder\r\n                (this, NOTIFICATION_CHANNEL_ID);\r\n        Notification notification =\r\n                notificationBuilder.setOngoing(true)\r\n                .setContentTitle(&quot;Hello from remindify!&quot;)\r\n                .setPriority(NotificationManager.IMPORTANCE_NONE)\r\n                .setCategory(Notification.CATEGORY_SERVICE)\r\n                .setSmallIcon(R.drawable.ic_launcher_background)\r\n                .build();\r\n\r\n        System.out.println(notification);\r\n        startForeground(2, notification);\r\n    }\r\n```\r\n\r\nBasically the startForeground at the end start the &quot;Timer&quot; of the Service.\r\n\r\nProblem - it HAS to display a notification. I checked, and there&#39;s no way to not display a notification. As said here - https://stackoverflow.com/questions/10962418/how-to-startforeground-without-showing-notification\r\n\r\nMy question is - do I have an alternative? or do I have to use this foreground service?\r\n\r\n\r\n\r\n**TL;DR:** I need a way to listen to the user&#39;s location and send him notifications, even when the app is closed - which isn&#39;t a ForegroundService.","title":"Send notifications when app is closed - android","body":"<p>I'm making a location-based TODO notifying app.\nOne of it's main features - is to send a notification to the user - if he's close to one of the location he defined.</p>\n<p>What I need to do is to listen to the user's location - <strong>even when the app is closed.</strong></p>\n<p>I have come across the idea of a foreground service (This are 2 of it's function):</p>\n<pre><code>@Override\n    public void onCreate() {\n        super.onCreate();\n        if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.O)\n        {\n            startForegroundCustom();\n        }\n        else\n        {\n            startForeground(1, new Notification());\n        }\n    }\n\n    @RequiresApi(Build.VERSION_CODES.O)\n    private void startForegroundCustom()\n    {\n        // this is cause of the O api that requires this notification settings...\n\n        String NOTIFICATION_CHANNEL_ID = &quot;example.permanence&quot;;\n        String channelName = &quot;Background Service&quot;;\n        NotificationChannel chan = new NotificationChannel\n                (NOTIFICATION_CHANNEL_ID, channelName, NotificationManager.IMPORTANCE_NONE);\n        chan.setLightColor(Color.BLUE);\n        chan.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n\n        NotificationManager manager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        assert manager != null;\n        manager.createNotificationChannel(chan);\n\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder\n                (this, NOTIFICATION_CHANNEL_ID);\n        Notification notification =\n                notificationBuilder.setOngoing(true)\n                .setContentTitle(&quot;Hello from remindify!&quot;)\n                .setPriority(NotificationManager.IMPORTANCE_NONE)\n                .setCategory(Notification.CATEGORY_SERVICE)\n                .setSmallIcon(R.drawable.ic_launcher_background)\n                .build();\n\n        System.out.println(notification);\n        startForeground(2, notification);\n    }\n</code></pre>\n<p>Basically the startForeground at the end start the &quot;Timer&quot; of the Service.</p>\n<p>Problem - it HAS to display a notification. I checked, and there's no way to not display a notification. As said here - <a href=\"https://stackoverflow.com/questions/10962418/how-to-startforeground-without-showing-notification\">How to startForeground() without showing notification?</a></p>\n<p>My question is - do I have an alternative? or do I have to use this foreground service?</p>\n<p><strong>TL;DR:</strong> I need a way to listen to the user's location and send him notifications, even when the app is closed - which isn't a ForegroundService.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data"],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673305484,"creation_date":1673305484,"answer_id":75063825,"question_id":75001044,"body_markdown":"Using JpaSpecificationExecutor ([scroll down to section 5][1]\r\n\r\nThis way you can programmatically define what fields are you going to add to your where clause, like this .:\r\n\r\n    (Specification&lt;Book&gt;) (book, cq, cb) -&gt;\r\n      cb.and(\r\n        // You can dynamically construct that array of predicates based on which fields are set in the form\r\n        cb.like(book.get(&quot;author&quot;), &quot;%&quot; + author + &quot;%&quot;),\r\n        cb.like(book.get(&quot;title&quot;), &quot;%&quot; + title + &quot;%&quot;)\r\n      )\r\n\r\n  [1]: https://www.baeldung.com/spring-data-criteria-queries","title":"Define a method for multiple searches by hibernate in spring boot","body":"<p>Using JpaSpecificationExecutor (<a href=\"https://www.baeldung.com/spring-data-criteria-queries\" rel=\"nofollow noreferrer\">scroll down to section 5</a></p>\n<p>This way you can programmatically define what fields are you going to add to your where clause, like this .:</p>\n<pre><code>(Specification&lt;Book&gt;) (book, cq, cb) -&gt;\n  cb.and(\n    // You can dynamically construct that array of predicates based on which fields are set in the form\n    cb.like(book.get(&quot;author&quot;), &quot;%&quot; + author + &quot;%&quot;),\n    cb.like(book.get(&quot;title&quot;), &quot;%&quot; + title + &quot;%&quot;)\n  )\n</code></pre>\n"}],"owner":{"account_id":20994955,"reputation":27,"user_id":15427008,"display_name":"Beginner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673305484,"creation_date":1672807420,"question_id":75001044,"body_markdown":"My application have large search form with to many inputs for each entity attributes , I want to define a method for example criteria method for generic query search , instead of defining method for search by each entity attribute , how can I do this with hibernate or JPA ?","title":"Define a method for multiple searches by hibernate in spring boot","body":"<p>My application have large search form with to many inputs for each entity attributes , I want to define a method for example criteria method for generic query search , instead of defining method for search by each entity attribute , how can I do this with hibernate or JPA ?</p>\n"},{"tags":["java","arraylist","comparator"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1673304910,"post_id":75063748,"comment_id":132465140,"body_markdown":"Are these classes all located in the default package? In the same file or in separate files?","body":"Are these classes all located in the default package? In the same file or in separate files?"},{"owner":{"account_id":25566760,"reputation":15,"user_id":19347970,"display_name":"Anonymous"},"score":0,"creation_date":1673304954,"post_id":75063748,"comment_id":132465148,"body_markdown":"yes all of this is in the same file","body":"yes all of this is in the same file"},{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":2,"creation_date":1673305128,"post_id":75063748,"comment_id":132465191,"body_markdown":"Make your example SMALLER. Start removing all the fluff until you come to the really minimalistic code, which still have the same error message.","body":"Make your example SMALLER. Start removing all the fluff until you come to the really minimalistic code, which still have the same error message."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1673305161,"post_id":75063748,"comment_id":132465198,"body_markdown":"It&#39;s just a problem with the word, with a lowercase `b` of `by`. Possibly you&#39;re not that used to case differences if you&#39;re from an Arab country. In most PL&#39;s you&#39;ll see that everything is &quot;case sensitive&quot; making the identifiers completely different from each other.","body":"It&#39;s just a problem with the word, with a lowercase <code>b</code> of <code>by</code>. Possibly you&#39;re not that used to case differences if you&#39;re from an Arab country. In most PL&#39;s you&#39;ll see that everything is &quot;case sensitive&quot; making the identifiers completely different from each other."}],"answers":[{"tags":[],"owner":{"account_id":27482624,"reputation":61,"user_id":20969400,"display_name":"irigami"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673305108,"creation_date":1673305108,"answer_id":75063791,"question_id":75063748,"body_markdown":"Check your spelling in `new SortByFarz()`. In your question you define the class `SortbyFarz`, notice the lowercase `b` in `by`.\r\n\r\nIf you see the error `cannot find symbol`, this means that you are referencing something that doesn&#39;t exist!","title":"&#39;error: cannot find symbol&#39; while displaying ArrayList using Comparator","body":"<p>Check your spelling in <code>new SortByFarz()</code>. In your question you define the class <code>SortbyFarz</code>, notice the lowercase <code>b</code> in <code>by</code>.</p>\n<p>If you see the error <code>cannot find symbol</code>, this means that you are referencing something that doesn't exist!</p>\n"}],"owner":{"account_id":25566760,"reputation":15,"user_id":19347970,"display_name":"Anonymous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1673305293,"answer_count":1,"score":0,"last_activity_date":1673305373,"creation_date":1673304528,"question_id":75063748,"body_markdown":"I made a class named `SortByFarz` and I tried to sort it in ascending order but  I am getting the following error and I don&#39;t know why:\r\n\r\n```\r\n  error: cannot find symbol\r\n\r\n  Collections.sort(a1, new SortByFarz());\r\n                           ^\r\n  symbol:   class SortByFarz\r\n  location: class Salaat\r\n```\r\n\r\n\r\n **CODE:**   \r\n\r\n```java\r\nimport java.util.*;\r\nimport java.io.*;\r\nimport java.lang.*;\r\n\r\nclass Salat {\r\n\r\n    private String name;\r\n    private int farz;\r\n    private int sunnah;\r\n\r\n    public Salat(String name, int farz, int sunnah) {\r\n        this.name = name;\r\n        this.farz = farz;\r\n        this.sunnah = sunnah;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setFarz(int farz) {\r\n        this.farz = farz;\r\n    }\r\n\r\n    public int getFarz() {\r\n        return farz;\r\n    }\r\n\r\n    public void setSunnah(int sunnah) {\r\n        this.sunnah = sunnah;\r\n    }\r\n\r\n    public int getSunnah() {\r\n        return sunnah;\r\n    }\r\n\r\n    public String toString() {\r\n        return String.format(&quot;%s has %d Farz and %d Sunnah&quot;, getName(), getFarz(), getSunnah());\r\n    }\r\n\r\n}\r\n\r\nclass SortbyFarz implements Comparator &lt; Salat &gt; {\r\n\r\n    public int compare(Salat first, Salat second) {\r\n        return first.getFarz() - second.getFarz();\r\n    }\r\n\r\n}\r\n\r\npublic class Salaat {\r\n   public static void main(String[] args) {\r\n\r\n       Salat fajar = new Salat(&quot;Fajar&quot;, 2, 2);\r\n        Salat zuhr = new Salat(&quot;Zuhr&quot;, 4, 6);\r\n        Salat asar = new Salat(&quot;Asar&quot;, 4, 4);\r\n        Salat maghrib = new Salat(&quot;Maghrib&quot;, 3, 2);\r\n        Salat isha = new Salat(&quot;Isha&quot;, 4, 6);\r\n    \r\n        ArrayList &lt; Salat &gt; a1 = new ArrayList &lt; &gt; ();\r\n        a1.add(fajar);\r\n        a1.add(zuhr);\r\n        a1.add(asar);\r\n        a1.add(maghrib);\r\n        a1.add(isha);\r\n    \r\n        System.out.println(&quot;UNSORTED SALATS&quot;);\r\n    \r\n        for (int i = 0; i &lt; a1.size(); i++) {\r\n            System.out.println(a1.get(i));\r\n        }\r\n    \r\n        Collections.sort(a1, new SortByFarz());   //Error in this line\r\n    \r\n    \r\n        System.out.println(&quot;SORTED SALATS BY FARZ&quot;);\r\n    \r\n        for (int i = 0; i &lt; a1.size(); i++) {\r\n            System.out.println(a1.get(i));\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nNote that the classes are all in the same `Salaat.java` file.","title":"&#39;error: cannot find symbol&#39; while displaying ArrayList using Comparator","body":"<p>I made a class named <code>SortByFarz</code> and I tried to sort it in ascending order but  I am getting the following error and I don't know why:</p>\n<pre><code>  error: cannot find symbol\n\n  Collections.sort(a1, new SortByFarz());\n                           ^\n  symbol:   class SortByFarz\n  location: class Salaat\n</code></pre>\n<p><strong>CODE:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.io.*;\nimport java.lang.*;\n\nclass Salat {\n\n    private String name;\n    private int farz;\n    private int sunnah;\n\n    public Salat(String name, int farz, int sunnah) {\n        this.name = name;\n        this.farz = farz;\n        this.sunnah = sunnah;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setFarz(int farz) {\n        this.farz = farz;\n    }\n\n    public int getFarz() {\n        return farz;\n    }\n\n    public void setSunnah(int sunnah) {\n        this.sunnah = sunnah;\n    }\n\n    public int getSunnah() {\n        return sunnah;\n    }\n\n    public String toString() {\n        return String.format(&quot;%s has %d Farz and %d Sunnah&quot;, getName(), getFarz(), getSunnah());\n    }\n\n}\n\nclass SortbyFarz implements Comparator &lt; Salat &gt; {\n\n    public int compare(Salat first, Salat second) {\n        return first.getFarz() - second.getFarz();\n    }\n\n}\n\npublic class Salaat {\n   public static void main(String[] args) {\n\n       Salat fajar = new Salat(&quot;Fajar&quot;, 2, 2);\n        Salat zuhr = new Salat(&quot;Zuhr&quot;, 4, 6);\n        Salat asar = new Salat(&quot;Asar&quot;, 4, 4);\n        Salat maghrib = new Salat(&quot;Maghrib&quot;, 3, 2);\n        Salat isha = new Salat(&quot;Isha&quot;, 4, 6);\n    \n        ArrayList &lt; Salat &gt; a1 = new ArrayList &lt; &gt; ();\n        a1.add(fajar);\n        a1.add(zuhr);\n        a1.add(asar);\n        a1.add(maghrib);\n        a1.add(isha);\n    \n        System.out.println(&quot;UNSORTED SALATS&quot;);\n    \n        for (int i = 0; i &lt; a1.size(); i++) {\n            System.out.println(a1.get(i));\n        }\n    \n        Collections.sort(a1, new SortByFarz());   //Error in this line\n    \n    \n        System.out.println(&quot;SORTED SALATS BY FARZ&quot;);\n    \n        for (int i = 0; i &lt; a1.size(); i++) {\n            System.out.println(a1.get(i));\n    \n    \n        }\n    }\n\n}\n</code></pre>\n<p>Note that the classes are all in the same <code>Salaat.java</code> file.</p>\n"},{"tags":["java","asynchronous","spring-webflux","project-reactor"],"owner":{"account_id":14629418,"reputation":99,"user_id":10565736,"display_name":"Patryk Szymon Młyńczak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673304840,"creation_date":1673304840,"question_id":75063772,"body_markdown":"I have many reactive operations .existById() to do, \r\nthen on the collected list I want to execute once some operations.\r\nThe problem is I don&#39;t know which reactive operators I should use, or how to rewrite this to archive the desirable effect. \r\nEvery try I coded effect execution of only one part of that code.\r\n\r\n\r\nFirst try where no-reactive code weren&#39;t waiting on Cassandra repo:\r\n```\r\n//First part:\r\n        signaturesFromFile.forEach(signatureFromFile -&gt; {\r\n            SignatureKey signatureKey = new SignatureKey(signatureFromFile.getProfileId(), signatureFromFile.getUserId(), signatureFromFile.getId());\r\n           \r\n            signatureRepositoryCassandra.existsById(signatureKey)\r\n                    .map(exists -&gt; {\r\n                        if (!exists) {\r\n                            notSavedSignatures.add(signatureFromFile);\r\n                        }\r\n                        return null;\r\n                    }).subscribe();\r\n\r\n        });\r\n\r\n//Second part:\r\n        String notSavedSignaturesListJson = convertSignaturesToJson(notSavedSignatures);\r\n\r\n        String pathToNotSavedSigantures = NOT_TRANSFERRED_SIGNATURES_DIRECTORY + signatureFilename;\r\n        saveIfFileNotExist(getUserIdFromFileName(signatureFilename), pathToNotSavedSigantures, notSavedSignaturesListJson);\r\n\r\n        deleteTransferredByUserIdSignaturesFile(signatureFilename);\r\n\r\n```\r\n\r\nThe second idea was to close it in one reactive stream, but the problem recurred and the roles reversed - operations in the second part weren&#39;t executed \r\n\r\n```\r\n  Flux.fromIterable(signaturesFromFile).map(signatureFromFile -&gt; {\r\n            SignatureKey signatureKey = new SignatureKey(signatureFromFile.getProfileId(), signatureFromFile.getUserId(), signatureFromFile.getId());\r\n           \r\n//First part:\r\n            signatureRepositoryCassandra.existsById(signatureKey)\r\n                    .map(exists -&gt; {\r\n                        if (!exists) {\r\n                            notSavedSignatures.add(signatureFromFile);\r\n                        }\r\n                        return null;\r\n                    }).subscribe();\r\n            return null;\r\n\r\n\r\n        }).mergeWith(e -&gt; {\r\n//Second part: \r\n            String notSavedSignaturesListJson = convertSignaturesToJson(notSavedSignatures);\r\n\r\n            String pathToNotSavedSigantures = NOT_TRANSFERRED_SIGNATURES_DIRECTORY + signatureFilename;\r\n            saveIfFileNotExist(getUserIdFromFileName(signatureFilename), pathToNotSavedSigantures, notSavedSignaturesListJson);\r\n\r\n            deleteTransferredByUserIdSignaturesFile(signatureFilename);\r\n        }).subscribe();\r\n\r\n```\r\n\r\nI have a workaround for that problem -&gt; \r\n.findAll() and filter data instead of many executed .existById()\r\nbut I would like to resolve it with the correct operators ;)","title":"Reactive: executing many .existById() then executing some operations on collected data","body":"<p>I have many reactive operations .existById() to do,\nthen on the collected list I want to execute once some operations.\nThe problem is I don't know which reactive operators I should use, or how to rewrite this to archive the desirable effect.\nEvery try I coded effect execution of only one part of that code.</p>\n<p>First try where no-reactive code weren't waiting on Cassandra repo:</p>\n<pre><code>//First part:\n        signaturesFromFile.forEach(signatureFromFile -&gt; {\n            SignatureKey signatureKey = new SignatureKey(signatureFromFile.getProfileId(), signatureFromFile.getUserId(), signatureFromFile.getId());\n           \n            signatureRepositoryCassandra.existsById(signatureKey)\n                    .map(exists -&gt; {\n                        if (!exists) {\n                            notSavedSignatures.add(signatureFromFile);\n                        }\n                        return null;\n                    }).subscribe();\n\n        });\n\n//Second part:\n        String notSavedSignaturesListJson = convertSignaturesToJson(notSavedSignatures);\n\n        String pathToNotSavedSigantures = NOT_TRANSFERRED_SIGNATURES_DIRECTORY + signatureFilename;\n        saveIfFileNotExist(getUserIdFromFileName(signatureFilename), pathToNotSavedSigantures, notSavedSignaturesListJson);\n\n        deleteTransferredByUserIdSignaturesFile(signatureFilename);\n\n</code></pre>\n<p>The second idea was to close it in one reactive stream, but the problem recurred and the roles reversed - operations in the second part weren't executed</p>\n<pre><code>  Flux.fromIterable(signaturesFromFile).map(signatureFromFile -&gt; {\n            SignatureKey signatureKey = new SignatureKey(signatureFromFile.getProfileId(), signatureFromFile.getUserId(), signatureFromFile.getId());\n           \n//First part:\n            signatureRepositoryCassandra.existsById(signatureKey)\n                    .map(exists -&gt; {\n                        if (!exists) {\n                            notSavedSignatures.add(signatureFromFile);\n                        }\n                        return null;\n                    }).subscribe();\n            return null;\n\n\n        }).mergeWith(e -&gt; {\n//Second part: \n            String notSavedSignaturesListJson = convertSignaturesToJson(notSavedSignatures);\n\n            String pathToNotSavedSigantures = NOT_TRANSFERRED_SIGNATURES_DIRECTORY + signatureFilename;\n            saveIfFileNotExist(getUserIdFromFileName(signatureFilename), pathToNotSavedSigantures, notSavedSignaturesListJson);\n\n            deleteTransferredByUserIdSignaturesFile(signatureFilename);\n        }).subscribe();\n\n</code></pre>\n<p>I have a workaround for that problem -&gt;\n.findAll() and filter data instead of many executed .existById()\nbut I would like to resolve it with the correct operators ;)</p>\n"},{"tags":["java","spring-boot","yaml","spring-test","spring-properties"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672997169,"post_id":75028531,"comment_id":132403175,"body_markdown":"do you get the same result when you drop `testResources`?","body":"do you get the same result when you drop <code>testResources</code>?"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1673005349,"post_id":75028531,"comment_id":132405555,"body_markdown":"I tried your code in a `@SpringBootTest` test and it works fine, maybe related to the test framework you are using.","body":"I tried your code in a <code>@SpringBootTest</code> test and it works fine, maybe related to the test framework you are using."},{"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"score":0,"creation_date":1673019668,"post_id":75028531,"comment_id":132410000,"body_markdown":"@dariosicily, I do have `@SpringBootTest` in the BaseFunctionalTest class (the base class) in the above code. However, I have to add `@RunWith(SpringRunner.class)`. Otherwise, I got errors complaining something like no test can be found.","body":"@dariosicily, I do have <code>@SpringBootTest</code> in the BaseFunctionalTest class (the base class) in the above code. However, I have to add <code>@RunWith(SpringRunner.class)</code>. Otherwise, I got errors complaining something like no test can be found."}],"answers":[{"tags":[],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673304810,"creation_date":1673304810,"answer_id":75063771,"question_id":75028531,"body_markdown":"My bad, the issue is in the pom, which was not shown in the description of the question. I accidentally copied `&lt;packaging&gt;pom&lt;/packaging&gt;` into the pom.xml. After remove it (or change it to jar), the yml file was read successfully.","title":"test module cannot load its application.yml file","body":"<p>My bad, the issue is in the pom, which was not shown in the description of the question. I accidentally copied <code>&lt;packaging&gt;pom&lt;/packaging&gt;</code> into the pom.xml. After remove it (or change it to jar), the yml file was read successfully.</p>\n"}],"owner":{"account_id":3546793,"reputation":1587,"user_id":2962555,"accept_rate":44,"display_name":"Laodao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673304810,"creation_date":1672993346,"question_id":75028531,"body_markdown":"I have a separate module for functional testing of the application module. Its structure is as below\r\n\r\n    └───functional-test\r\n        ├───pom.xml\r\n        └───src\r\n            ├───test\r\n                ├───java\r\n                |   └─── some java testing class\r\n                ├───resources\r\n                    └─── application.yml\r\n\r\nNote that there is NO main folder. My pom file is something as below \r\n\r\n        \r\n         &lt;build&gt;\r\n            &lt;testResources&gt;\r\n                &lt;testResource&gt;\r\n                    &lt;directory&gt;${project.basedir}/src/test/resources&lt;/directory&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*.yml&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/testResource&gt;\r\n            &lt;/testResources&gt;\r\n        &lt;/build&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;!-- test dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\r\n                &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\r\n                &lt;version&gt;2.27.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n                &lt;version&gt;4.5.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.19.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n                &lt;version&gt;1.17.3&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.20&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-netty-http&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.19&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\r\n                &lt;artifactId&gt;reactor-netty-http&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.19&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n                &lt;version&gt;5.3.4&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\nNow, I put some thing below in the application.yml file as a test \r\n\r\n    abc:\r\n      def: &quot;123&quot; \r\n\r\nI assume the following code should give me &quot;123&quot;. However, it printed null. \r\n\r\n    @Component\r\n    @ConfigurationProperties(&quot;abc&quot;)\r\n    @TestPropertySource(&quot;classpath:application.yml&quot;)\r\n    @Data\r\n    public class TestProperties {\r\n    \r\n        private String def;\r\n    }\r\n    \r\n    \r\n    public class PropertyFuncTest extends BaseFunctionalTest {\r\n    \r\n        @Autowired\r\n        TestProperties testProperties;\r\n    \r\n        @Test\r\n        public void testProperty() {\r\n    \r\n            System.out.println(testProperties.getDef());\r\n            ......\r\n        }\r\n    \r\n    }\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public abstract class BaseFunctionalTest {\r\n        ......\r\n    }\r\n       \r\nIt looks like the application.yml file is not loaded at all. Any idea?","title":"test module cannot load its application.yml file","body":"<p>I have a separate module for functional testing of the application module. Its structure is as below</p>\n<pre><code>└───functional-test\n    ├───pom.xml\n    └───src\n        ├───test\n            ├───java\n            |   └─── some java testing class\n            ├───resources\n                └─── application.yml\n</code></pre>\n<p>Note that there is NO main folder. My pom file is something as below</p>\n<pre><code>     &lt;build&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;${project.basedir}/src/test/resources&lt;/directory&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.yml&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- test dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.tomakehurst&lt;/groupId&gt;\n            &lt;artifactId&gt;wiremock-jre8&lt;/artifactId&gt;\n            &lt;version&gt;2.27.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;4.5.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;3.19.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;1.17.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webflux&lt;/artifactId&gt;\n            &lt;version&gt;5.3.20&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-netty-http&lt;/artifactId&gt;\n            &lt;version&gt;1.0.19&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor.netty&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-netty-http&lt;/artifactId&gt;\n            &lt;version&gt;1.0.19&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;5.3.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;5.3.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>Now, I put some thing below in the application.yml file as a test</p>\n<pre><code>abc:\n  def: &quot;123&quot; \n</code></pre>\n<p>I assume the following code should give me &quot;123&quot;. However, it printed null.</p>\n<pre><code>@Component\n@ConfigurationProperties(&quot;abc&quot;)\n@TestPropertySource(&quot;classpath:application.yml&quot;)\n@Data\npublic class TestProperties {\n\n    private String def;\n}\n\n\npublic class PropertyFuncTest extends BaseFunctionalTest {\n\n    @Autowired\n    TestProperties testProperties;\n\n    @Test\n    public void testProperty() {\n\n        System.out.println(testProperties.getDef());\n        ......\n    }\n\n}\n\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic abstract class BaseFunctionalTest {\n    ......\n}\n   \n</code></pre>\n<p>It looks like the application.yml file is not loaded at all. Any idea?</p>\n"},{"tags":["java","unix"],"answers":[{"tags":[],"owner":{"account_id":43599,"reputation":311,"user_id":127532,"accept_rate":83,"display_name":"Dieter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392714547,"creation_date":1392714547,"answer_id":21848812,"question_id":21848713,"body_markdown":"I have no direct answer, but I assume that the shell-foo-magic you do to get the PID is perhaps wrong. Therefore could you please add an &#39;echo $PID&#39; directly after the pid=... line and showus the output.\r\nBecause useing directly &#39;jstack &lt;pid&gt;&#39; works fine for me.","title":"Taking thread dump using jstack","body":"<p>I have no direct answer, but I assume that the shell-foo-magic you do to get the PID is perhaps wrong. Therefore could you please add an 'echo $PID' directly after the pid=... line and showus the output.\nBecause useing directly 'jstack ' works fine for me.</p>\n"},{"tags":[],"owner":{"account_id":2005748,"reputation":299,"user_id":1795700,"display_name":"Kuro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418146997,"creation_date":1418146659,"answer_id":27385250,"question_id":21848713,"body_markdown":"You can&#39;t give more than one pid to jstack, and you should give it a pid of java process only. Something like this should work:\r\n\r\n    for pid in $(ps axww | grep &#39; java&#39; |grep -v grep | sed -e &#39;s/^[ ]*//g&#39; | sed -e &#39;s/[ ][ ]*/ /g&#39; | cut -f1 -d&#39; &#39;); do\r\n      jstack $pid &gt;&gt; $THREADDUMP_LOG_FILE\r\n    done\r\n\r\nOr more simply:\r\n\r\n    for pid in $(jps | sed &#39;s/^\\([0-9][0-9]*\\) .*$/\\1/&#39;); do\r\n      jstack $pid &gt;&gt; $THREADDUMP_LOG_FILE\r\n    done\r\n","title":"Taking thread dump using jstack","body":"<p>You can't give more than one pid to jstack, and you should give it a pid of java process only. Something like this should work:</p>\n\n<pre><code>for pid in $(ps axww | grep ' java' |grep -v grep | sed -e 's/^[ ]*//g' | sed -e 's/[ ][ ]*/ /g' | cut -f1 -d' '); do\n  jstack $pid &gt;&gt; $THREADDUMP_LOG_FILE\ndone\n</code></pre>\n\n<p>Or more simply:</p>\n\n<pre><code>for pid in $(jps | sed 's/^\\([0-9][0-9]*\\) .*$/\\1/'); do\n  jstack $pid &gt;&gt; $THREADDUMP_LOG_FILE\ndone\n</code></pre>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673304571,"creation_date":1392714282,"question_id":21848713,"body_markdown":"I would like to generate an automatic thread dump. This is the script I am using:\r\n        \r\n        THREADDUMP_LOG_FILE=&quot;/tmp/tmpLog_`date +&quot;%Y%m%d%H%M%S&quot;`&quot;\r\n        pid=`ps axww | grep -v grep | sed -e &#39;s/^[ ]*//g&#39; | sed -e &#39;s/[ ][ ]*/ /g&#39; | cut -f1 -d&#39; &#39; `\r\n        $JAVA_HOME/bin/jstack $pid &gt;&gt; $THREADDUMP_LOG_FILE\r\n\r\nWhen I do this, this is what I see in the thread dump log file:\r\n\r\n    Usage:\r\n    jstack [-l] &lt;pid&gt;\r\n        (to connect to running process)\r\n    jstack -F [-m] [-l] &lt;pid&gt;\r\n        (to connect to a hung process)\r\n    jstack [-m] [-l] &lt;executable&gt; &lt;core&gt;\r\n        (to connect to a core file)\r\n    jstack [-m] [-l] [server_id@]&lt;remote server IP or hostname&gt;\r\n        (to connect to a remote debug server)\r\n\r\n    Options:\r\n        -F  to force a thread dump. Use when jstack &lt;pid&gt; does not respond (process is hung)\r\n        -m  to print both java and native frames (mixed mode)\r\n        -l  long listing. Prints additional information about locks\r\n        -h or -help to print this help message\r\n\r\nClearly, I am doing something wrong. How can I take a thread dump using jstack?\r\n","title":"Taking thread dump using jstack","body":"<p>I would like to generate an automatic thread dump. This is the script I am using:</p>\n<pre><code>    THREADDUMP_LOG_FILE=&quot;/tmp/tmpLog_`date +&quot;%Y%m%d%H%M%S&quot;`&quot;\n    pid=`ps axww | grep -v grep | sed -e 's/^[ ]*//g' | sed -e 's/[ ][ ]*/ /g' | cut -f1 -d' ' `\n    $JAVA_HOME/bin/jstack $pid &gt;&gt; $THREADDUMP_LOG_FILE\n</code></pre>\n<p>When I do this, this is what I see in the thread dump log file:</p>\n<pre><code>Usage:\njstack [-l] &lt;pid&gt;\n    (to connect to running process)\njstack -F [-m] [-l] &lt;pid&gt;\n    (to connect to a hung process)\njstack [-m] [-l] &lt;executable&gt; &lt;core&gt;\n    (to connect to a core file)\njstack [-m] [-l] [server_id@]&lt;remote server IP or hostname&gt;\n    (to connect to a remote debug server)\n\nOptions:\n    -F  to force a thread dump. Use when jstack &lt;pid&gt; does not respond (process is hung)\n    -m  to print both java and native frames (mixed mode)\n    -l  long listing. Prints additional information about locks\n    -h or -help to print this help message\n</code></pre>\n<p>Clearly, I am doing something wrong. How can I take a thread dump using jstack?</p>\n"},{"tags":["java","android","android-intent","bundle"],"comments":[{"owner":{"account_id":2808164,"reputation":2383,"user_id":2414975,"accept_rate":67,"display_name":"groff07"},"score":0,"creation_date":1673303815,"post_id":75062619,"comment_id":132464906,"body_markdown":"Does this answer your question? [Passing data between a fragment and its container activity](https://stackoverflow.com/questions/9343241/passing-data-between-a-fragment-and-its-container-activity)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9343241/passing-data-between-a-fragment-and-its-container-activity\">Passing data between a fragment and its container activity</a>"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1673428588,"post_id":75062619,"comment_id":132494599,"body_markdown":"Edit your question and show the code you use to launch the `Activity`.","body":"Edit your question and show the code you use to launch the <code>Activity</code>."}],"answers":[{"tags":[],"owner":{"account_id":3268941,"reputation":89,"user_id":4040656,"display_name":"harunkor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673297721,"creation_date":1673297721,"answer_id":75062823,"question_id":75062619,"body_markdown":"In the Fragment : \r\n\r\n        val intent = Intent(this, MapsActivity::class.java)\r\n        intent.putExtra(&quot;testing&quot;, &quot;This is a test&quot;)\r\n        startActivity(intent)\r\n\r\n\r\nIn the receiving Activity : \r\n\r\n        val extras = intent.extras\r\n        if (extras != null) {\r\n           val  receivingString = extras.getString(&quot;testing&quot;)\r\n           System.out.println(&quot;Value is : &quot; + receivingString)\r\n        } else {\r\n        \r\n        }\r\n\r\n","title":"How to pass data(value) from a fragment to an activity","body":"<p>In the Fragment :</p>\n<pre><code>    val intent = Intent(this, MapsActivity::class.java)\n    intent.putExtra(&quot;testing&quot;, &quot;This is a test&quot;)\n    startActivity(intent)\n</code></pre>\n<p>In the receiving Activity :</p>\n<pre><code>    val extras = intent.extras\n    if (extras != null) {\n       val  receivingString = extras.getString(&quot;testing&quot;)\n       System.out.println(&quot;Value is : &quot; + receivingString)\n    } else {\n    \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25421873,"reputation":43,"user_id":19227725,"display_name":"Ismail Hamzeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673304527,"creation_date":1673304527,"answer_id":75063747,"question_id":75062619,"body_markdown":"Using jave:\r\n\r\n    Intent intent = new Intent(getActivity(), MapActivity.class);\r\n    intent.putExtra(&quot;testing&quot;, &quot;This is a test&quot;);\r\n    getActivity.startActivity(intent);","title":"How to pass data(value) from a fragment to an activity","body":"<p>Using jave:</p>\n<pre><code>Intent intent = new Intent(getActivity(), MapActivity.class);\nintent.putExtra(&quot;testing&quot;, &quot;This is a test&quot;);\ngetActivity.startActivity(intent);\n</code></pre>\n"}],"owner":{"account_id":27176314,"reputation":11,"user_id":20712245,"display_name":"Soufiane B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673304527,"creation_date":1673296227,"question_id":75062619,"body_markdown":"I want to pass a specific String from a fragment to an activity to use it there.\r\nWhen I am using Intent and Bundle, the value is null. I have tried several methods but can&#39;t seem to make it correctly. Can someone help, please?\r\n\r\nIn my Fragment :\r\n\r\n    Intent testintent = new Intent(getActivity(), MapActivity.class);         \r\n    Bundle bundle = new Bundle();         \r\n    bundle.putString(&quot;testing&quot;, &quot;This is a test&quot;);         \r\n    testintent.putExtras(bundle);`\r\n\r\nAnd in my Activity :\r\n\r\n    String message = getIntent().getStringExtra(&quot;testing&quot;);         \r\n    System.out.println(&quot;Value is : &quot; + message);`\r\n\r\nAnd this is what I am getting as a result in my console :\r\n\r\n    I/System.out: Value is : null","title":"How to pass data(value) from a fragment to an activity","body":"<p>I want to pass a specific String from a fragment to an activity to use it there.\nWhen I am using Intent and Bundle, the value is null. I have tried several methods but can't seem to make it correctly. Can someone help, please?</p>\n<p>In my Fragment :</p>\n<pre><code>Intent testintent = new Intent(getActivity(), MapActivity.class);         \nBundle bundle = new Bundle();         \nbundle.putString(&quot;testing&quot;, &quot;This is a test&quot;);         \ntestintent.putExtras(bundle);`\n</code></pre>\n<p>And in my Activity :</p>\n<pre><code>String message = getIntent().getStringExtra(&quot;testing&quot;);         \nSystem.out.println(&quot;Value is : &quot; + message);`\n</code></pre>\n<p>And this is what I am getting as a result in my console :</p>\n<pre><code>I/System.out: Value is : null\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":279245,"reputation":1924,"user_id":574303,"display_name":"minichate"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1334494607,"creation_date":1310612665,"answer_id":6688033,"question_id":6688017,"body_markdown":"    import static java.lang.System.out;\r\n\r\nAnd in your code:\r\n\r\n    out.println(&quot;Foo&quot;);\r\n\r\n","title":"how do you shorten system.out.println in java","body":"<pre><code>import static java.lang.System.out;\n</code></pre>\n\n<p>And in your code:</p>\n\n<pre><code>out.println(\"Foo\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":167319,"reputation":23070,"user_id":392046,"accept_rate":100,"display_name":"Jesus Ramos"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1310612678,"creation_date":1310612678,"answer_id":6688035,"question_id":6688017,"body_markdown":"    public static void print(String s) { System.out.println(s); }","title":"how do you shorten system.out.println in java","body":"<pre><code>public static void print(String s) { System.out.println(s); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":368385,"reputation":13915,"user_id":715171,"accept_rate":95,"display_name":"talnicolas"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1673304468,"creation_date":1310612728,"answer_id":6688037,"question_id":6688017,"body_markdown":"# *Eclipse* shortcut\r\n\r\nIn the [Eclipse][1] [IDE][2], just type `syso` and then press `Ctrl+space`. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Eclipse_(software)\r\n  [2]: https://en.wikipedia.org/wiki/Integrated_development_environment","title":"how do you shorten system.out.println in java","body":"<h1><em>Eclipse</em> shortcut</h1>\n<p>In the <a href=\"https://en.wikipedia.org/wiki/Eclipse_(software)\" rel=\"nofollow noreferrer\">Eclipse</a> <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>, just type <code>syso</code> and then press <code>Ctrl+space</code>.</p>\n"},{"tags":[],"owner":{"account_id":75696,"reputation":14036,"user_id":217071,"accept_rate":85,"display_name":"Lenik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1310614345,"creation_date":1310614345,"answer_id":6688191,"question_id":6688017,"body_markdown":"\r\nAutohotkey.ahk:\r\n\r\n    #!o:: Send System.out.println(&quot;&quot;);{LEFT 3}\r\n\r\nThen, press &lt;kbd&gt;WIN+ALT+O&lt;/kbd&gt;.\r\n\r\nUnfortunately, autohotkey only supports win32. :(\r\n","title":"how do you shorten system.out.println in java","body":"<p>Autohotkey.ahk:</p>\n\n<pre><code>#!o:: Send System.out.println(\"\");{LEFT 3}\n</code></pre>\n\n<p>Then, press <kbd>WIN+ALT+O</kbd>.</p>\n\n<p>Unfortunately, autohotkey only supports win32. :(</p>\n"},{"tags":[],"owner":{"account_id":694757,"reputation":552,"user_id":573619,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310617912,"creation_date":1310617912,"answer_id":6688506,"question_id":6688017,"body_markdown":"If it&#39;s for the purposes of logging/debugging the logic of your program? **The call that never happens.** \r\n\r\nUnless you are writing a console driven application, refrain from using System.out and System.err directly.\r\n\r\nIf you need logging, use a logging framework (j.u.l, log4j, jcl, avalon, slf4j, logback, etc).\r\nThese allow for improved context specific information, improved granularity and configuration at runtime.","title":"how do you shorten system.out.println in java","body":"<p>If it's for the purposes of logging/debugging the logic of your program? <strong>The call that never happens.</strong> </p>\n\n<p>Unless you are writing a console driven application, refrain from using System.out and System.err directly.</p>\n\n<p>If you need logging, use a logging framework (j.u.l, log4j, jcl, avalon, slf4j, logback, etc).\nThese allow for improved context specific information, improved granularity and configuration at runtime.</p>\n"},{"tags":[],"owner":{"account_id":447093,"reputation":21,"user_id":840521,"display_name":"nightmare17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310632859,"creation_date":1310632859,"answer_id":6690563,"question_id":6688017,"body_markdown":"To make it shortest you can write an another  function and use it,but typing syso and clicking CTRL+Space is the best way I think.You should get used to using shortcuts when coding in JAVA ;)","title":"how do you shorten system.out.println in java","body":"<p>To make it shortest you can write an another  function and use it,but typing syso and clicking CTRL+Space is the best way I think.You should get used to using shortcuts when coding in JAVA ;)</p>\n"},{"tags":[],"owner":{"account_id":420891,"reputation":11018,"user_id":798818,"accept_rate":91,"display_name":"Mob"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1673304371,"creation_date":1317082205,"answer_id":7562809,"question_id":6688017,"body_markdown":"# *NetBeans* shortcut\r\n\r\n\r\nIn the [NetBeans][1] [IDE][2], type `sout` and press &lt;kbd&gt;Tab&lt;/kbd&gt; key. \r\n\r\n# *IntelliJ* shortcut \r\n\r\nIn the [IntelliJ IDEA][3] IDE, do the same: Type `sout`, press &lt;kbd&gt;Tab&lt;/kbd&gt; key. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/NetBeans\r\n  [2]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [3]: https://en.wikipedia.org/wiki/IntelliJ_IDEA","title":"how do you shorten system.out.println in java","body":"<h1><em>NetBeans</em> shortcut</h1>\n<p>In the <a href=\"https://en.wikipedia.org/wiki/NetBeans\" rel=\"nofollow noreferrer\">NetBeans</a> <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a>, type <code>sout</code> and press <kbd>Tab</kbd> key.</p>\n<h1><em>IntelliJ</em> shortcut</h1>\n<p>In the <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ IDEA</a> IDE, do the same: Type <code>sout</code>, press <kbd>Tab</kbd> key.</p>\n"},{"tags":[],"owner":{"account_id":5211499,"reputation":61,"user_id":4167782,"display_name":"Ryeera"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1470125371,"creation_date":1470125371,"answer_id":38715055,"question_id":6688017,"body_markdown":"The shortest possible way would be to create a method with a short name. Something like:\r\n\r\n    public static void out(Object o){\r\n        System.out.println(o.toString());\r\n    }\r\n\r\nNow, you only have to call out(&quot;foobar&quot;); in order to print something to standard out.\r\nThe reason I used an object and the toString() method is so that and integer, for example, gets displayed properly.\r\n\r\n","title":"how do you shorten system.out.println in java","body":"<p>The shortest possible way would be to create a method with a short name. Something like:</p>\n\n<pre><code>public static void out(Object o){\n    System.out.println(o.toString());\n}\n</code></pre>\n\n<p>Now, you only have to call out(\"foobar\"); in order to print something to standard out.\nThe reason I used an object and the toString() method is so that and integer, for example, gets displayed properly.</p>\n"},{"tags":[],"owner":{"account_id":3183722,"reputation":661,"user_id":2689892,"display_name":"Mark Teese"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540307953,"creation_date":1540307953,"answer_id":52952577,"question_id":6688017,"body_markdown":"Here&#39;s a workable example of the answers on this page, and also the [related question][1]. I&#39;m not sure if any of these shortcuts is recommended for readable, reusable code.\r\n\r\n    import static java.lang.System.out; // only for method of minichate&amp;Tim Cooper\r\n    import java.io.PrintWriter;// only for method of Stephan Paul\r\n\r\n    public class PrintExample{\r\n        public static void main(String[] args){\r\n            out.println(&quot;Typing of 7 characters saved!&quot;);\r\n            p.pl(&quot;shortened System.out.println, 14 characters saved.&quot;);\r\n            p.pl(77); // takes non-strings\r\n            p.out(88); // also takes non-strings\r\n            p.print(&quot;sorry, I only take strings!&quot;);\r\n            //p.print(99); compilation error, int cannot be converted to String\r\n            PrintWriter pr = new PrintWriter(System.out, true);\r\n            pr.println(33); // method of Stephan Paul\r\n        }\r\n    }\r\n\r\n    class p{\r\n        // using generics (Java 5.0 onwards), by carlos_lm\r\n        public static &lt;T&gt; void pl (T obj){\r\n            System.out.println(obj);\r\n        }\r\n        // method by Neji3971 &amp; bakkal, seems to work for all objects\r\n        public static void out(Object o){\r\n            System.out.println(o.toString());\r\n        }\r\n        // method by Jesus Ramos &amp; rup. Only accepts strings!!\r\n        public static void print(String s) {\r\n            System.out.println(s);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3320764/how-to-make-system-out-println-shorter","title":"how do you shorten system.out.println in java","body":"<p>Here's a workable example of the answers on this page, and also the <a href=\"https://stackoverflow.com/questions/3320764/how-to-make-system-out-println-shorter\">related question</a>. I'm not sure if any of these shortcuts is recommended for readable, reusable code.</p>\n\n<pre><code>import static java.lang.System.out; // only for method of minichate&amp;Tim Cooper\nimport java.io.PrintWriter;// only for method of Stephan Paul\n\npublic class PrintExample{\n    public static void main(String[] args){\n        out.println(\"Typing of 7 characters saved!\");\n        p.pl(\"shortened System.out.println, 14 characters saved.\");\n        p.pl(77); // takes non-strings\n        p.out(88); // also takes non-strings\n        p.print(\"sorry, I only take strings!\");\n        //p.print(99); compilation error, int cannot be converted to String\n        PrintWriter pr = new PrintWriter(System.out, true);\n        pr.println(33); // method of Stephan Paul\n    }\n}\n\nclass p{\n    // using generics (Java 5.0 onwards), by carlos_lm\n    public static &lt;T&gt; void pl (T obj){\n        System.out.println(obj);\n    }\n    // method by Neji3971 &amp; bakkal, seems to work for all objects\n    public static void out(Object o){\n        System.out.println(o.toString());\n    }\n    // method by Jesus Ramos &amp; rup. Only accepts strings!!\n    public static void print(String s) {\n        System.out.println(s);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25988760,"reputation":1,"user_id":19701338,"display_name":"The Diabolical"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660112451,"creation_date":1659718107,"answer_id":73253008,"question_id":6688017,"body_markdown":"You might wanna try this\r\n\r\n    package com.company;\r\n    \r\n    class Database {\r\n    \r\n        // SOP to print function\r\n        public static void print(String inp) { \r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void print(int inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void print(double inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void print(float inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void print(boolean inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        // SOPLN to printLN function\r\n    \r\n        public static void printLN(String inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void printLN(int inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void printLN(double inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void printLN(float inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void printLN(boolean inp) {\r\n            System.out.println(inp);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            \r\n            printLN(&quot;Hello&quot;);\r\n            printLN(1);\r\n            printLN(2.123);\r\n            printLN(2.2);\r\n            printLN(false);\r\n            printLN(1+2);\r\n            int x = 323;\r\n            int y = 342;\r\n            int z = x+y;\r\n            printLN(x+y);\r\n            printLN(z);\r\n            printLN(&quot;Hello&quot; + z);\r\n            printLN(&quot;You can print anything.&quot;);\r\n    \r\n        }\r\n    }","title":"how do you shorten system.out.println in java","body":"<p>You might wanna try this</p>\n<pre><code>package com.company;\n\nclass Database {\n\n    // SOP to print function\n    public static void print(String inp) { \n        System.out.println(inp);\n    }\n\n    public static void print(int inp) {\n        System.out.println(inp);\n    }\n\n    public static void print(double inp) {\n        System.out.println(inp);\n    }\n\n    public static void print(float inp) {\n        System.out.println(inp);\n    }\n\n    public static void print(boolean inp) {\n        System.out.println(inp);\n    }\n\n    // SOPLN to printLN function\n\n    public static void printLN(String inp) {\n        System.out.println(inp);\n    }\n\n    public static void printLN(int inp) {\n        System.out.println(inp);\n    }\n\n    public static void printLN(double inp) {\n        System.out.println(inp);\n    }\n\n    public static void printLN(float inp) {\n        System.out.println(inp);\n    }\n\n    public static void printLN(boolean inp) {\n        System.out.println(inp);\n    }\n\n    public static void main(String[] args) {\n        \n        printLN(&quot;Hello&quot;);\n        printLN(1);\n        printLN(2.123);\n        printLN(2.2);\n        printLN(false);\n        printLN(1+2);\n        int x = 323;\n        int y = 342;\n        int z = x+y;\n        printLN(x+y);\n        printLN(z);\n        printLN(&quot;Hello&quot; + z);\n        printLN(&quot;You can print anything.&quot;);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":160561,"reputation":14464,"user_id":380714,"accept_rate":97,"display_name":"kamikaze_pilot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11224,"favorite_count":0,"down_vote_count":2,"up_vote_count":21,"accepted_answer_id":6688033,"answer_count":10,"score":19,"last_activity_date":1673304468,"creation_date":1310612564,"question_id":6688017,"body_markdown":"what is the absolute shortest possible shortcut to call System.out.println that makes it callable via the shortest possible number of characters (like print())","title":"how do you shorten system.out.println in java","body":"<p>what is the absolute shortest possible shortcut to call System.out.println that makes it callable via the shortest possible number of characters (like print())</p>\n"},{"tags":["java","return-value","jna","bytebuffer","negative-number"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1673311626,"post_id":75063730,"comment_id":132466134,"body_markdown":"Bytes are signed in Java. Anything 0x7F higher than is negative","body":"Bytes are signed in Java. Anything 0x7F higher than is negative"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1673312670,"post_id":75063730,"comment_id":132466270,"body_markdown":"Printing out byte values in Java isn&#39;t useful and doesn&#39;t reflect the value you&#39;d expect.  Generally, you should operate on `myValue &amp; 0xFF` and not care about their original numeric value.","body":"Printing out byte values in Java isn&#39;t useful and doesn&#39;t reflect the value you&#39;d expect.  Generally, you should operate on <code>myValue &amp; 0xFF</code> and not care about their original numeric value."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673353810,"post_id":75063730,"comment_id":132475194,"body_markdown":"`System.out.println(HexFormat.ofDelimiter(&quot; &quot;).formatHex(pucDataOut.array()));` will show you the hex values (where numerical sign is irrelevant)","body":"<code>System.out.println(HexFormat.ofDelimiter(&quot; &quot;).formatHex(pucDataOut.array()));</code> will show you the hex values (where numerical sign is irrelevant)"}],"owner":{"account_id":26822911,"reputation":15,"user_id":20411977,"display_name":"guiguietben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673370988,"answer_count":0,"score":0,"last_activity_date":1673304421,"creation_date":1673304421,"question_id":75063730,"body_markdown":"I use a native C function from a dll like that:\r\n\r\n    short sSmartISOEx(USHORT usInDataLen, const UCHAR *pucDataIn, USHORT *pusOutDataLen, UCHAR *pucDataOut);\r\n\r\nThis function is declared in my java like that:\r\n\r\n    short sSmartISOEx(short usInDataLen, ByteBuffer pucDataIn, ShortBuffer pusOutDataLen, ByteBuffer pucDataOut);\r\n\r\nSo to use it i send a ByteBuffer pucDataIn with a lenght of usInDataLen.\r\nAnd normaly i retrieve a ByteBuffer pucDataOut with a lenght of pusOutDataLen.\r\n\r\nThe function work correctly, but my problem is after retrieving the ByteBuffer pucDataOut, i do something like that:\r\n\r\n    System.out.println(&quot;first byte: &quot; + pucDataOut.get(0));\r\n    System.out.println(&quot;second byte: &quot; + pucDataOut.get(1));\r\n\r\nIn my specifice case normaly &quot;First byte&quot; value is 0x69 and &quot;Second byte&quot; value is 0x86\r\nBut when i execute my code, this is what i obtain:\r\n\r\n    first byte: 105\r\n    second byte: -122\r\n\r\nFor 105 it&#39;s ok, it correspond to 0x69\r\nBut for -122, it correspond to 0xffffff86\r\n\r\nWhy this &quot;pucDataOut.get(1)&quot; correspond to 4 byte and not just only one byte.\r\nHow to obtain exactly a byte array of two values 0x69 and 0x86","title":"java jna negative value returned in ByteBuffer from a native function","body":"<p>I use a native C function from a dll like that:</p>\n<pre><code>short sSmartISOEx(USHORT usInDataLen, const UCHAR *pucDataIn, USHORT *pusOutDataLen, UCHAR *pucDataOut);\n</code></pre>\n<p>This function is declared in my java like that:</p>\n<pre><code>short sSmartISOEx(short usInDataLen, ByteBuffer pucDataIn, ShortBuffer pusOutDataLen, ByteBuffer pucDataOut);\n</code></pre>\n<p>So to use it i send a ByteBuffer pucDataIn with a lenght of usInDataLen.\nAnd normaly i retrieve a ByteBuffer pucDataOut with a lenght of pusOutDataLen.</p>\n<p>The function work correctly, but my problem is after retrieving the ByteBuffer pucDataOut, i do something like that:</p>\n<pre><code>System.out.println(&quot;first byte: &quot; + pucDataOut.get(0));\nSystem.out.println(&quot;second byte: &quot; + pucDataOut.get(1));\n</code></pre>\n<p>In my specifice case normaly &quot;First byte&quot; value is 0x69 and &quot;Second byte&quot; value is 0x86\nBut when i execute my code, this is what i obtain:</p>\n<pre><code>first byte: 105\nsecond byte: -122\n</code></pre>\n<p>For 105 it's ok, it correspond to 0x69\nBut for -122, it correspond to 0xffffff86</p>\n<p>Why this &quot;pucDataOut.get(1)&quot; correspond to 4 byte and not just only one byte.\nHow to obtain exactly a byte array of two values 0x69 and 0x86</p>\n"},{"tags":["java","mysql","hibernate","jpql"],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673303734,"creation_date":1673303734,"answer_id":75063667,"question_id":75062593,"body_markdown":"What you&#39;re looking for is [LIKE clause][1]\r\n\r\n    from UnidadeDeSaude where nomeDoEstabelecimento like concat(&#39;%&#39;,:nomeDoEstabelecimento,&#39;%&#39;)&quot;, UnidadeDeSaude.class);\r\n\r\nAnd skip the `+ &#39;%&#39;` from `setParameter`\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-jpa-like-queries","title":"How to query data inserting substring - MYSQL/JPQL","body":"<p>What you're looking for is <a href=\"https://www.baeldung.com/spring-jpa-like-queries\" rel=\"nofollow noreferrer\">LIKE clause</a></p>\n<pre><code>from UnidadeDeSaude where nomeDoEstabelecimento like concat('%',:nomeDoEstabelecimento,'%')&quot;, UnidadeDeSaude.class);\n</code></pre>\n<p>And skip the <code>+ '%'</code> from <code>setParameter</code></p>\n"}],"owner":{"account_id":22406354,"reputation":11,"user_id":16615829,"display_name":"Paulo Vitor "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673303734,"creation_date":1673296051,"question_id":75062593,"body_markdown":"I&#39;m writing the below method on a Java project with Hibernate connecting to the database, and want to know how can I write a query to find a register with just the corrensponding substring. I tried using &#39;concat&#39; but it didn&#39;t work\r\n\r\n```\r\npublic List&lt;UnidadeDeSaude&gt; pesquisar(String nome) {\r\n\t\tTypedQuery&lt;UnidadeDeSaude&gt; query = manager.createQuery(&quot;from UnidadeDeSaude where nomeDoEstabelecimento concat(&#39;%&#39;,:nomeDoEstabelecimento,&#39;%&#39;)&quot;, UnidadeDeSaude.class);\r\n\t\tquery.setParameter(&quot;nomeDoEstabelecimento&quot;, nome + &#39;%&#39;);\r\n\t\t\r\n\t\treturn query.getResultList();\r\n\t}\r\n```","title":"How to query data inserting substring - MYSQL/JPQL","body":"<p>I'm writing the below method on a Java project with Hibernate connecting to the database, and want to know how can I write a query to find a register with just the corrensponding substring. I tried using 'concat' but it didn't work</p>\n<pre><code>public List&lt;UnidadeDeSaude&gt; pesquisar(String nome) {\n        TypedQuery&lt;UnidadeDeSaude&gt; query = manager.createQuery(&quot;from UnidadeDeSaude where nomeDoEstabelecimento concat('%',:nomeDoEstabelecimento,'%')&quot;, UnidadeDeSaude.class);\n        query.setParameter(&quot;nomeDoEstabelecimento&quot;, nome + '%');\n        \n        return query.getResultList();\n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1673300920,"post_id":75062010,"comment_id":132464216,"body_markdown":"What type of table inheritance (single table, joined, table per class) are you attempting to use this in? JPA doesn&#39;t support this use case of multiple inheritance branches like this - it leaves it as undefined but states the discriminator column should be on the inheritance root, MyProduct in your case. &quot;Book&quot; should use the product_type column for inheritance as all book subclasses are a subclass of MyProduct, so there is no need to further differentiate them","body":"What type of table inheritance (single table, joined, table per class) are you attempting to use this in? JPA doesn&#39;t support this use case of multiple inheritance branches like this - it leaves it as undefined but states the discriminator column should be on the inheritance root, MyProduct in your case. &quot;Book&quot; should use the product_type column for inheritance as all book subclasses are a subclass of MyProduct, so there is no need to further differentiate them"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1673302679,"post_id":75062010,"comment_id":132464675,"body_markdown":"I fixed the diagrams. I want to use 2 different discriminators for 2 different columns. 1st is of `product_type` and other is &#39;book_type&#39;.","body":"I fixed the diagrams. I want to use 2 different discriminators for 2 different columns. 1st is of <code>product_type</code> and other is &#39;book_type&#39;."}],"answers":[{"tags":[],"owner":{"account_id":8986732,"reputation":1074,"user_id":6700091,"display_name":"Kamil Bęben"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673303473,"creation_date":1673303473,"answer_id":75063639,"question_id":75062010,"body_markdown":"Having multiple disciminator columns on a single entity is not possible according to the [documentation][1]\r\n\r\n\r\n&gt; The strategy and the discriminator column are only specified in the\r\n&gt; root of an entity class hierarchy or subhierarchy in which a different\r\n&gt; inheritance strategy is applied.\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/DiscriminatorColumn.html","title":"Hibernate Single Table Inheritance with 2 @DiscriminatorColumn (1 is embedded) is not working","body":"<p>Having multiple disciminator columns on a single entity is not possible according to the <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/DiscriminatorColumn.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n<blockquote>\n<p>The strategy and the discriminator column are only specified in the\nroot of an entity class hierarchy or subhierarchy in which a different\ninheritance strategy is applied.</p>\n</blockquote>\n"}],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75063639,"answer_count":1,"score":0,"last_activity_date":1673303473,"creation_date":1673292007,"question_id":75062010,"body_markdown":"Single `@DiscriminatorColumn` works fine. Column `product_type` gets filled with correct discriminator value:\r\n[![First @DiscriminatorCOlumn usage][1]][1]\r\n\r\nHowever, when I introduce 2 more classes that inherit Book, hence another `@DiscriminatorColumn`, none of the contracts are honored. Neither `product_type` gets populated (remains null) nor do `book_type`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G01NV.png\r\n  [2]: https://i.stack.imgur.com/WcNkA.png","title":"Hibernate Single Table Inheritance with 2 @DiscriminatorColumn (1 is embedded) is not working","body":"<p>Single <code>@DiscriminatorColumn</code> works fine. Column <code>product_type</code> gets filled with correct discriminator value:\n<a href=\"https://i.stack.imgur.com/G01NV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G01NV.png\" alt=\"First @DiscriminatorCOlumn usage\" /></a></p>\n<p>However, when I introduce 2 more classes that inherit Book, hence another <code>@DiscriminatorColumn</code>, none of the contracts are honored. Neither <code>product_type</code> gets populated (remains null) nor do <code>book_type</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/WcNkA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WcNkA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1542133,"reputation":6307,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"score":0,"creation_date":1407820632,"post_id":25256511,"comment_id":39351614,"body_markdown":"If what you really are trying to accomplish is &quot;bundle all the maven dependencies in one jar&quot; then I would suggest you look at maven-shade-plugin. Why reinvent the wheel?","body":"If what you really are trying to accomplish is &quot;bundle all the maven dependencies in one jar&quot; then I would suggest you look at maven-shade-plugin. Why reinvent the wheel?"},{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1407820895,"post_id":25256511,"comment_id":39351704,"body_markdown":"Agreed, but there has to be a solution to this using mvn exec as well. I have also tried adding the output directory within configuration in my pom, but no luck. &lt;outputDirectory&gt;output/&lt;/outputDirectory&gt;","body":"Agreed, but there has to be a solution to this using mvn exec as well. I have also tried adding the output directory within configuration in my pom, but no luck. &lt;outputDirectory&gt;output/&lt;/outputDirectory&gt;"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1407865862,"post_id":25256511,"comment_id":39377678,"body_markdown":"What exactly are you trying to accomplish? What does you programm Applauncher exactly do? Should it write something into a particular folder? Or do you expect the exec-maven-plugin to write something to a particular location?","body":"What exactly are you trying to accomplish? What does you programm Applauncher exactly do? Should it write something into a particular folder? Or do you expect the exec-maven-plugin to write something to a particular location?"},{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1407866701,"post_id":25256511,"comment_id":39378184,"body_markdown":"App launcher basically reads data from input folders, processes them, and writes to output directory. I just want to be able to write to the output directory when I run mvn exec:exec. If I run the program in eclipse, it writes to the directory, but it doesn&#39;t work from Maven.","body":"App launcher basically reads data from input folders, processes them, and writes to output directory. I just want to be able to write to the output directory when I run mvn exec:exec. If I run the program in eclipse, it writes to the directory, but it doesn&#39;t work from Maven."}],"answers":[{"tags":[],"owner":{"account_id":1542133,"reputation":6307,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407825950,"creation_date":1407825950,"answer_id":25257818,"question_id":25256511,"body_markdown":"In the `&lt;configuration&gt;` element, include something like `&lt;workingDirectory&gt;target/output&lt;/workingDirectory&gt;`. [Here](http://mojo.codehaus.org/exec-maven-plugin/index.html) is an example.","title":"Maven exec fails to write results to output directory","body":"<p>In the <code>&lt;configuration&gt;</code> element, include something like <code>&lt;workingDirectory&gt;target/output&lt;/workingDirectory&gt;</code>. <a href=\"http://mojo.codehaus.org/exec-maven-plugin/index.html\" rel=\"nofollow\">Here</a> is an example.</p>\n"},{"tags":[],"owner":{"account_id":1336531,"reputation":9732,"user_id":1279145,"accept_rate":83,"display_name":"Karthik Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407827968,"creation_date":1407827968,"answer_id":25258353,"question_id":25256511,"body_markdown":"You can try passing destination directory explicitly and its worth adding execution phase as well. The maven plugin configuration is as follows.\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.2.1&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;exec&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;executable&gt;java&lt;/executable&gt;\r\n    \t\t\t\t\t&lt;arguments&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;-classpath&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;classpath/&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;com.kp.deployment.CopyResourceFiles&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;destinationDirectory=${project.build.directory}&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;param1=${param1}&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;param2=${param2}&lt;/argument&gt;\r\n    \t\t\t\t\t&lt;/arguments&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n\r\nAnd the hava class is as follows\r\n\r\n    public class CopyResourceFiles {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t * @throws IOException \r\n    \t */\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t\r\n    \t\t\r\n    \t\tString destionDir = &quot;&quot;;\r\n    \t\tString param1 =&quot;&quot;;\r\n    \t\tString Param2 =&quot;&quot;;\r\n    \t\tfor(String str : args){\r\n    \t\t\t\r\n    \t\t\tif(str != null &amp;&amp; str.contains(&quot;destinationDirectory=&quot;)){\r\n    \t\t\t\tdestionDir = str.substring(str.indexOf(&quot;=&quot;)+1, str.length());\r\n    \t\t\t}\r\n    \t\t\tif(str != null &amp;&amp; str.contains(&quot;param1=&quot;)){\r\n    \t\t\t\tparam1 = str.substring(str.indexOf(&quot;=&quot;)+1, str.length());\r\n    \t\t\t}\r\n    \t\t\tif(str != null &amp;&amp; str.contains(&quot;param2=&quot;)){\r\n    \t\t\t\tParam2 = str.substring(str.indexOf(&quot;=&quot;)+1, str.length());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tdestionDir+=&quot;/kpfile.txt&quot;;\r\n    \t\t\r\n    \t\tList&lt;String&gt; contents= new ArrayList&lt;String&gt;();\r\n    \t\tcontents.add(param1);\r\n    \t\tcontents.add(Param2);\r\n    \t\tFileUtils.writeLines(new File(destionDir), contents);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Sucessfully written&quot;);\r\n    \r\n    \t}\r\n    \r\n    }","title":"Maven exec fails to write results to output directory","body":"<p>You can try passing destination directory explicitly and its worth adding execution phase as well. The maven plugin configuration is as follows.</p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;java&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                        &lt;classpath/&gt;\n                        &lt;argument&gt;com.kp.deployment.CopyResourceFiles&lt;/argument&gt;\n                        &lt;argument&gt;destinationDirectory=${project.build.directory}&lt;/argument&gt;\n                        &lt;argument&gt;param1=${param1}&lt;/argument&gt;\n                        &lt;argument&gt;param2=${param2}&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>And the hava class is as follows</p>\n\n<pre><code>public class CopyResourceFiles {\n\n    /**\n     * @param args\n     * @throws IOException \n     */\n    public static void main(String[] args) throws IOException {\n\n\n        String destionDir = \"\";\n        String param1 =\"\";\n        String Param2 =\"\";\n        for(String str : args){\n\n            if(str != null &amp;&amp; str.contains(\"destinationDirectory=\")){\n                destionDir = str.substring(str.indexOf(\"=\")+1, str.length());\n            }\n            if(str != null &amp;&amp; str.contains(\"param1=\")){\n                param1 = str.substring(str.indexOf(\"=\")+1, str.length());\n            }\n            if(str != null &amp;&amp; str.contains(\"param2=\")){\n                Param2 = str.substring(str.indexOf(\"=\")+1, str.length());\n            }\n        }\n        destionDir+=\"/kpfile.txt\";\n\n        List&lt;String&gt; contents= new ArrayList&lt;String&gt;();\n        contents.add(param1);\n        contents.add(Param2);\n        FileUtils.writeLines(new File(destionDir), contents);\n\n        System.out.println(\"Sucessfully written\");\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673302733,"creation_date":1407820017,"question_id":25256511,"body_markdown":"I have the below configuration in pom.xml to bundle all the Maven dependencies in one jar. When I run the `mvn exec` command, it is working fine except it doesn&#39;t write the results to an output directory that I have configured to store the results when my main method is called.\r\n\r\nIf I run the same program from command line and pass the arguments, the output directory has the results, but it doesn&#39;t work from Maven. What am I missing?\r\n\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.3.2&lt;/version&gt;\r\n        \t&lt;executions&gt;\r\n    \t\t\t&lt;execution&gt;\r\n    \t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t&lt;goal&gt;java&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;executable&gt;java&lt;/executable&gt;\r\n    \t\t\t\t\t&lt;arguments&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;-classpath&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;classpath /&gt;\r\n\t\t                    &lt;argument&gt;com.myapp.test.AppLauncher&lt;/argument&gt;\r\n    \t\t\t\t\t\t&lt;argument&gt;-a&lt;/argument&gt;\r\n                \t\t\t&lt;argument&gt;${Param1}&lt;/argument&gt;\r\n                \t\t\t&lt;argument&gt;-b&lt;/argument&gt;\r\n                \t\t\t&lt;argument&gt;${Param2}&lt;/argument&gt;\r\n    \t\t\t\t\t&lt;/arguments&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\nHere is the result of the maven command -\r\n\r\n   \r\n\r\n    $mvn exec:exec -DParam1=DefaultMode -DParam2=Test\r\n    [INFO] Scanning for projects...\r\n    [INFO]                                                                         \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building myApp\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] \r\n    [INFO] --- exec-maven-plugin:1.3.2:exec (default-cli) @ myApp ---\r\n    Fetching results from database\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 6.943 s\r\n    [INFO] Finished at: 2014-08-11T21:56:30-07:00\r\n    [INFO] Final Memory: 13M/310M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\n\r\n","title":"Maven exec fails to write results to output directory","body":"<p>I have the below configuration in pom.xml to bundle all the Maven dependencies in one jar. When I run the <code>mvn exec</code> command, it is working fine except it doesn't write the results to an output directory that I have configured to store the results when my main method is called.</p>\n<p>If I run the same program from command line and pass the arguments, the output directory has the results, but it doesn't work from Maven. What am I missing?</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;java&lt;/executable&gt;\n                    &lt;arguments&gt;\n                        &lt;argument&gt;-classpath&lt;/argument&gt;\n                        &lt;classpath /&gt;\n                        &lt;argument&gt;com.myapp.test.AppLauncher&lt;/argument&gt;\n                        &lt;argument&gt;-a&lt;/argument&gt;\n                        &lt;argument&gt;${Param1}&lt;/argument&gt;\n                        &lt;argument&gt;-b&lt;/argument&gt;\n                        &lt;argument&gt;${Param2}&lt;/argument&gt;\n                    &lt;/arguments&gt;\n                &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>Here is the result of the maven command -</p>\n<pre><code>$mvn exec:exec -DParam1=DefaultMode -DParam2=Test\n[INFO] Scanning for projects...\n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building myApp\n[INFO] ------------------------------------------------------------------------\n[INFO] \n[INFO] --- exec-maven-plugin:1.3.2:exec (default-cli) @ myApp ---\nFetching results from database\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 6.943 s\n[INFO] Finished at: 2014-08-11T21:56:30-07:00\n[INFO] Final Memory: 13M/310M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2442876,"reputation":7456,"user_id":2137269,"accept_rate":79,"display_name":"Evan Knowles"},"score":0,"creation_date":1426055055,"post_id":28979878,"comment_id":46209940,"body_markdown":"Build up a static map of names to enums and check for it in there then.","body":"Build up a static map of names to enums and check for it in there then."},{"owner":{"account_id":8211,"reputation":23893,"user_id":14663,"accept_rate":88,"display_name":"WW."},"score":2,"creation_date":1426055152,"post_id":28979878,"comment_id":46209973,"body_markdown":"I think you&#39;ll need to provide more of the surrounding code in order for people to help you.  For example, we can&#39;t see the relationship between CountryCodeList and CountryCode.  You could try using the debugger or printing some values in that method to see if that gives you the answer.","body":"I think you&#39;ll need to provide more of the surrounding code in order for people to help you.  For example, we can&#39;t see the relationship between CountryCodeList and CountryCode.  You could try using the debugger or printing some values in that method to see if that gives you the answer."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1426055424,"post_id":28979878,"comment_id":46210064,"body_markdown":"I don&#39;t understand. Why not just `contains(countryCode)`? What is `CountryCodeList`?","body":"I don&#39;t understand. Why not just <code>contains(countryCode)</code>? What is <code>CountryCodeList</code>?"},{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1426055451,"post_id":28979878,"comment_id":46210079,"body_markdown":"CountryCodeList has the list of all country codes. Just as the name of the class suggests. I debugged, and that&#39;s when I found this always returns false.","body":"CountryCodeList has the list of all country codes. Just as the name of the class suggests. I debugged, and that&#39;s when I found this always returns false."},{"owner":{"account_id":961410,"reputation":700,"user_id":985693,"accept_rate":83,"display_name":"Jimmy Geers"},"score":0,"creation_date":1426055513,"post_id":28979878,"comment_id":46210109,"body_markdown":"The contains method uses the equals method don&#39;t forget about that.","body":"The contains method uses the equals method don&#39;t forget about that."},{"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"score":0,"creation_date":1426055590,"post_id":28979878,"comment_id":46210133,"body_markdown":"For where are you getting CountryCodeList?. I think that is the root cause of the problem. Do the types (contents of the list and the enum values) match?","body":"For where are you getting CountryCodeList?. I think that is the root cause of the problem. Do the types (contents of the list and the enum values) match?"},{"owner":{"account_id":5870607,"reputation":535,"user_id":4623055,"display_name":"owenrb"},"score":0,"creation_date":1426055748,"post_id":28979878,"comment_id":46210188,"body_markdown":"Can you post sample values of the list, and the countyCode.name, perhaps it&#39;s a case sensitivity issue.","body":"Can you post sample values of the list, and the countyCode.name, perhaps it&#39;s a case sensitivity issue."},{"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"score":0,"creation_date":1426056072,"post_id":28979878,"comment_id":46210323,"body_markdown":"Done. Please let me know if you have any further questions. And nope, its not a case sensitivity issue. My case is similar to the issue posted here - http://stackoverflow.com/questions/20859706/java-arraylist-contain-always-return-false-although-it-contain-the-same-value. Except in my code, I can&#39;t override equals since CountryCodeList is an enum as well.","body":"Done. Please let me know if you have any further questions. And nope, its not a case sensitivity issue. My case is similar to the issue posted here - <a href=\"http://stackoverflow.com/questions/20859706/java-arraylist-contain-always-return-false-although-it-contain-the-same-value\" title=\"java arraylist contain always return false although it contain the same value\">stackoverflow.com/questions/20859706/&hellip;</a>. Except in my code, I can&#39;t override equals since CountryCodeList is an enum as well."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1426056203,"post_id":28979878,"comment_id":46210369,"body_markdown":"Post the source code of both `CountryCodeList` and `CountryCode`.","body":"Post the source code of both <code>CountryCodeList</code> and <code>CountryCode</code>."}],"answers":[{"tags":[],"owner":{"account_id":5870607,"reputation":535,"user_id":4623055,"display_name":"owenrb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426057192,"creation_date":1426057192,"answer_id":28980387,"question_id":28979878,"body_markdown":"If CountryCodeList is enum, you can refactor you code to this\r\n\r\n    private static boolean checkCountryCode(CountryCode countryCode) {\r\n       try{\r\n          return  CountryCodeList.valueOf(countryCode.name()) != null;\r\n       } catch (java.lang.IllegalArgumentException e) {\r\n          return false;\r\n       }\r\n    }","title":"Contains method for Java enums","body":"<p>If CountryCodeList is enum, you can refactor you code to this</p>\n\n<pre><code>private static boolean checkCountryCode(CountryCode countryCode) {\n   try{\n      return  CountryCodeList.valueOf(countryCode.name()) != null;\n   } catch (java.lang.IllegalArgumentException e) {\n      return false;\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":3100671,"reputation":2657,"user_id":2624866,"accept_rate":48,"display_name":"rickygrimes"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1673302681,"creation_date":1426054845,"question_id":28979878,"body_markdown":"I have a simple enum that I am iterating through to check if it contains a specific value. Here is my code -\r\n\r\n    private static boolean checkCountryCode(CountryCode countryCode) {\r\n        return Arrays.asList(CountryCodeList.values()).contains(countryCode.name());\r\n    }\r\n\r\nThis always returns false although the country code I am passing in the request is present in the list. In this case, I can&#39;t override equals since its a enum.\r\n\r\nThe countryCode in the method argument has the countryCode I am passing in the request. In my case, it is UA (Ukraine). The CountryCodeList is a list pre-populated with all the country codes in which our application runs. Some of them are on this page - http://countrycode.org/\r\n\r\nAlso, please note both CountryCode, and CountryCodeList are enums.","title":"Contains method for Java enums","body":"<p>I have a simple enum that I am iterating through to check if it contains a specific value. Here is my code -</p>\n<pre><code>private static boolean checkCountryCode(CountryCode countryCode) {\n    return Arrays.asList(CountryCodeList.values()).contains(countryCode.name());\n}\n</code></pre>\n<p>This always returns false although the country code I am passing in the request is present in the list. In this case, I can't override equals since its a enum.</p>\n<p>The countryCode in the method argument has the countryCode I am passing in the request. In my case, it is UA (Ukraine). The CountryCodeList is a list pre-populated with all the country codes in which our application runs. Some of them are on this page - <a href=\"http://countrycode.org/\" rel=\"nofollow noreferrer\">http://countrycode.org/</a></p>\n<p>Also, please note both CountryCode, and CountryCodeList are enums.</p>\n"},{"tags":["java","apache-httpclient-4.x","apache-httpcomponents","apache-commons-httpclient"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1673302977,"post_id":75063534,"comment_id":132464739,"body_markdown":"IIRC you need to do it at the &quot;[type]HTTPMethod&quot; something like: `getMethod.releaseConnection();`","body":"IIRC you need to do it at the &quot;[type]HTTPMethod&quot; something like: <code>getMethod.releaseConnection();</code>"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1673303060,"post_id":75063534,"comment_id":132464751,"body_markdown":"This thread may also be relevant: https://stackoverflow.com/questions/21574478/what-is-the-difference-between-closeablehttpclient-and-httpclient-in-apache-http","body":"This thread may also be relevant: <a href=\"https://stackoverflow.com/questions/21574478/what-is-the-difference-between-closeablehttpclient-and-httpclient-in-apache-http\" title=\"what is the difference between closeablehttpclient and httpclient in apache http\">stackoverflow.com/questions/21574478/&hellip;</a>"}],"owner":{"account_id":6413,"reputation":5233,"user_id":10768,"display_name":"Josh Tynjala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673302587,"creation_date":1673302587,"question_id":75063534,"body_markdown":"I have some code that I need to migrate from commons-httpclient 3.x to httpcomponents-client 4.x (or newer). In some error handling code, there are calls to `setConnectionCloseForced(true)` on subclasses of `HttpMethodBase`, such as `GetMethod` or `PostMethod`. What would be the equivalent in httpcomponents-client 4.x?\r\n\r\n```java\r\nHttpMethodBase httpMethod = /* some value */;\r\ntry {\r\n    // do something\r\n} catch (Exception e) {\r\n    // handle error\r\n} finally {\r\n    // how to convert this?\r\n    httpMethod.setConnectionCloseForced(true);\r\n}\r\n```","title":"How can I migrate call to HttpMethodBase.setConnectionCloseForced(true) from commons-httpclient 3.x to httpcomponents-client 4.x?","body":"<p>I have some code that I need to migrate from commons-httpclient 3.x to httpcomponents-client 4.x (or newer). In some error handling code, there are calls to <code>setConnectionCloseForced(true)</code> on subclasses of <code>HttpMethodBase</code>, such as <code>GetMethod</code> or <code>PostMethod</code>. What would be the equivalent in httpcomponents-client 4.x?</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpMethodBase httpMethod = /* some value */;\ntry {\n    // do something\n} catch (Exception e) {\n    // handle error\n} finally {\n    // how to convert this?\n    httpMethod.setConnectionCloseForced(true);\n}\n</code></pre>\n"},{"tags":["java","security","tls1.2"],"comments":[{"owner":{"account_id":26350,"reputation":17454,"user_id":68490,"accept_rate":20,"display_name":"Tore Nestenius"},"score":0,"creation_date":1638020788,"post_id":70094324,"comment_id":123978929,"body_markdown":"I would start to verify your TLS settings using https://www.ssllabs.com/ssltest/","body":"I would start to verify your TLS settings using <a href=\"https://www.ssllabs.com/ssltest/\" rel=\"nofollow noreferrer\">ssllabs.com/ssltest</a>"},{"owner":{"account_id":23438915,"reputation":11,"user_id":17496668,"display_name":"Fabian Monnay"},"score":0,"creation_date":1638193081,"post_id":70094324,"comment_id":124015251,"body_markdown":"Hi @ToreNestenius, it&#39;s a client application. Do you want settings about the server i&#39;m connecting to? I add information about new investigation in my post.","body":"Hi @ToreNestenius, it&#39;s a client application. Do you want settings about the server i&#39;m connecting to? I add information about new investigation in my post."},{"owner":{"account_id":26350,"reputation":17454,"user_id":68490,"accept_rate":20,"display_name":"Tore Nestenius"},"score":1,"creation_date":1638195502,"post_id":70094324,"comment_id":124016340,"body_markdown":"You are correct that newer version of Java has less ciphers to choose from, as they remove ciphers that are no longer considered secure. Older versions of Java might have trouble to connect to modern and more secure versions of TLS , as they might lack support for the more modern ciphers and protocols.","body":"You are correct that newer version of Java has less ciphers to choose from, as they remove ciphers that are no longer considered secure. Older versions of Java might have trouble to connect to modern and more secure versions of TLS , as they might lack support for the more modern ciphers and protocols."},{"owner":{"account_id":26350,"reputation":17454,"user_id":68490,"accept_rate":20,"display_name":"Tore Nestenius"},"score":0,"creation_date":1638195508,"post_id":70094324,"comment_id":124016343,"body_markdown":"Does https://stackoverflow.com/questions/34609384/how-to-set-tls1-2-version-in-java help you?","body":"Does <a href=\"https://stackoverflow.com/questions/34609384/how-to-set-tls1-2-version-in-java\" title=\"how to set tls1 2 version in java\">stackoverflow.com/questions/34609384/&hellip;</a> help you?"},{"owner":{"account_id":26350,"reputation":17454,"user_id":68490,"accept_rate":20,"display_name":"Tore Nestenius"},"score":0,"creation_date":1638195553,"post_id":70094324,"comment_id":124016362,"body_markdown":"If I look at https://www.ssllabs.com/ssltest/analyze.html?d=ws.test.annuaireamc.fr   then that TLS configuration seems a bit insecure","body":"If I look at <a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=ws.test.annuaireamc.fr\" rel=\"nofollow noreferrer\">ssllabs.com/ssltest/analyze.html?d=ws.test.annuaireamc.fr</a>   then that TLS configuration seems a bit insecure"}],"answers":[{"tags":[],"owner":{"account_id":9564509,"reputation":11,"user_id":7104222,"display_name":"R H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656348046,"creation_date":1656348046,"answer_id":72775584,"question_id":70094324,"body_markdown":"I think it&#39;s due to security improvments in SunPKCS11.java, not only JDK11 but also in JDK8, and I think all of them.\r\nThey add a new function : \r\n\r\n    private static boolean isLegacy(CK_MECHANISM_INFO mechInfo)\r\n    \t\tthrows PKCS11Exception {\r\n    \t// assume full support if no mech info available\r\n    \t// For vendor-specific mechanisms, often no mech info is provided\r\n    \tboolean partialSupport = false;\r\n    \r\n    \tif (mechInfo != null) {\r\n    \t\tif ((mechInfo.flags &amp; CKF_DECRYPT) != 0) {\r\n    \t\t\t// non-legacy cipher mechs should support encryption\r\n    \t\t\tpartialSupport |= ((mechInfo.flags &amp; CKF_ENCRYPT) == 0);\r\n    \t\t}\r\n    \t\tif ((mechInfo.flags &amp; CKF_VERIFY) != 0) {\r\n    \t\t\t// non-legacy signature mechs should support signing\r\n    \t\t\tpartialSupport |= ((mechInfo.flags &amp; CKF_SIGN) == 0);\r\n    \t\t}\r\n    \t}\r\n    \treturn partialSupport;\r\n    }\r\n\r\nMechanisms such as &quot;CKM_RSA_PKCS&quot; are disabled since they set the flag &quot;CKF_DECRYPT&quot; without setting &quot;CKF_ENCRYPT&quot;. It&#39;s legacy according to Java, but mandatory according to IAS-ECC specifications.\r\n\r\nI have not found any workaround yet. Have you?","title":"migrating from jdk10 to jdk11 : SSLConnection : CKR_KEY_TYPE_INCONSISTENT","body":"<p>I think it's due to security improvments in SunPKCS11.java, not only JDK11 but also in JDK8, and I think all of them.\nThey add a new function :</p>\n<pre><code>private static boolean isLegacy(CK_MECHANISM_INFO mechInfo)\n        throws PKCS11Exception {\n    // assume full support if no mech info available\n    // For vendor-specific mechanisms, often no mech info is provided\n    boolean partialSupport = false;\n\n    if (mechInfo != null) {\n        if ((mechInfo.flags &amp; CKF_DECRYPT) != 0) {\n            // non-legacy cipher mechs should support encryption\n            partialSupport |= ((mechInfo.flags &amp; CKF_ENCRYPT) == 0);\n        }\n        if ((mechInfo.flags &amp; CKF_VERIFY) != 0) {\n            // non-legacy signature mechs should support signing\n            partialSupport |= ((mechInfo.flags &amp; CKF_SIGN) == 0);\n        }\n    }\n    return partialSupport;\n}\n</code></pre>\n<p>Mechanisms such as &quot;CKM_RSA_PKCS&quot; are disabled since they set the flag &quot;CKF_DECRYPT&quot; without setting &quot;CKF_ENCRYPT&quot;. It's legacy according to Java, but mandatory according to IAS-ECC specifications.</p>\n<p>I have not found any workaround yet. Have you?</p>\n"},{"tags":[],"owner":{"account_id":3503118,"reputation":504,"user_id":2929352,"display_name":"David KELLER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673301559,"creation_date":1673301559,"answer_id":75063381,"question_id":70094324,"body_markdown":"On jdk8u322-ga tag, you still have isLegacy() https://github.com/openjdk/jdk8u/blob/jdk8u322-ga/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java\r\n\r\nOn jdk8u312-ga tag, there is no isLegacy() function\r\nhttps://github.com/openjdk/jdk8u/blob/jdk8u312-ga/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java\r\n\r\nSo the last build without this function is \r\nhttps://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases/tag/jdk8u312-b07\r\n\r\nNow, it is important to understand why OpenJDK add this new constraint incompatible with IAS-ECC specifications.","title":"migrating from jdk10 to jdk11 : SSLConnection : CKR_KEY_TYPE_INCONSISTENT","body":"<p>On jdk8u322-ga tag, you still have isLegacy() <a href=\"https://github.com/openjdk/jdk8u/blob/jdk8u322-ga/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk8u/blob/jdk8u322-ga/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java</a></p>\n<p>On jdk8u312-ga tag, there is no isLegacy() function\n<a href=\"https://github.com/openjdk/jdk8u/blob/jdk8u312-ga/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk8u/blob/jdk8u312-ga/jdk/src/share/classes/sun/security/pkcs11/SunPKCS11.java</a></p>\n<p>So the last build without this function is\n<a href=\"https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases/tag/jdk8u312-b07\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk8-upstream-binaries/releases/tag/jdk8u312-b07</a></p>\n<p>Now, it is important to understand why OpenJDK add this new constraint incompatible with IAS-ECC specifications.</p>\n"}],"owner":{"account_id":23438915,"reputation":11,"user_id":17496668,"display_name":"Fabian Monnay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":732,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673301559,"creation_date":1637749186,"question_id":70094324,"body_markdown":"I migrated my client application from openJDK 10 to 11 (JAVA_VERSION=&quot;11.0.12&quot;) but at runtime, during TLS handhshake, i&#39;ve got this exception :\r\n\r\n&gt; javax.net.ssl|ALL|01|main|2021-11-24 10:55:54.848 CET|SignatureScheme.java:592|Ignore unsupported signature algorithm (rsa_pkcs1_sha256) (\r\n&quot;throwable&quot; : {\r\n  java.security.InvalidKeyException: No installed provider supports this key: sun.security.pkcs11.P11Key$P11PrivateKey\r\n  \tat java.base/java.security.Signature$Delegate.chooseProvider(Signature.java:1282)\r\n  \tat java.base/java.security.Signature$Delegate.engineInitSign(Signature.java:1380)\r\n  \tat java.base/java.security.Signature.initSign(Signature.java:682)\r\n  \tat java.base/java.security.Signature$1.initSign(Signature.java:146)\r\n  \tat java.base/sun.security.util.SignatureUtil.initSignWithParam(SignatureUtil.java:171)\r\n  \tat java.base/sun.security.ssl.SignatureScheme.getSigner(SignatureScheme.java:584)\r\n  \tat java.base/sun.security.ssl.SignatureScheme.getSignerOfPreferableAlgorithm(SignatureScheme.java:532)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:590)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java\r\n\r\n....\r\n\r\n&gt; javax.net.ssl|ALL|01|main|2021-11-24 10:55:54.850 CET|SignatureScheme.java:592|Ignore unsupported signature algorithm (rsa_pkcs1_sha384) (\r\n&quot;throwable&quot; : {\r\n  java.security.InvalidKeyException: No installed provider supports this key: sun.security.pkcs11.P11Key$P11PrivateKey\r\n  \tat java.base/java.security.Signature$Delegate.chooseProvider(Signature.java:1282)\r\n  \tat java.base/java.security.Signature$Delegate.engineInitSign(Signature.java:1380)\r\n  \tat java.base/java.security.Signature.initSign(Signature.java:682)\r\n  \tat java.base/java.security.Signature$1.initSign(Signature.java:146)\r\n  \tat java.base/sun.security.util.SignatureUtil.initSignWithParam(SignatureUtil.java:171)\r\n  \tat java.base/sun.security.ssl.SignatureScheme.getSigner(SignatureScheme.java:584)\r\n  \tat java.base/sun.security.ssl.SignatureScheme.getSignerOfPreferableAlgorithm(SignatureScheme.java:532)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:590)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java:761)\r\n\r\n....\r\n\r\n&gt; javax.net.ssl|WARNING|01|main|2021-11-24 10:55:55.228 CET|SSLSocketImpl.java:1505|handling exception (\r\n&quot;throwable&quot; : {\r\n  java.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_KEY_TYPE_INCONSISTENT\r\n  \tat jdk.crypto.cryptoki/sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:679)\r\n  \tat java.base/java.security.Signature$Delegate.engineSign(Signature.java:1402)\r\n  \tat java.base/java.security.Signature.sign(Signature.java:711)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:609)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java:761)\r\n  \tat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\r\n  \tat java.base/sun.security.ssl.ServerHelloDone$ServerHelloDoneConsumer.consume(ServerHelloDone.java:182)\r\n\r\nIn debug mode, with -Djavax.net.debug=all argument. I see this difference but i don&#39;t know if it&#39;s interesting. \r\n\r\nJDK11\r\n\r\n    javax.net.ssl|DEBUG|01|main|2021-11-24 10:55:54.687 CET|ClientHello.java:653|Produced ClientHello handshake message (\r\n    &quot;ClientHello&quot;: {\r\n      &quot;client version&quot;      : &quot;TLSv1.2&quot;,\r\n      &quot;random&quot;              : &quot;74 E9 F0 E2 E6 18 44 A4 BD 5C 8E 5F 11 BB AE 98 15 13 0F F0 E9 93 6D B3 B4 08 EE 6A 9E B9 39 8B&quot;,\r\n      &quot;session id&quot;          : &quot;&quot;,\r\n      &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\r\n      &quot;compression methods&quot; : &quot;00&quot;,\r\n      &quot;extensions&quot;          : [\r\n        &quot;server_name (0)&quot;: {\r\n          type=host_name (0), value=ws.test.annuaireamc.fr\r\n        },\r\n        &quot;status_request (5)&quot;: {\r\n          &quot;certificate status type&quot;: ocsp\r\n          &quot;OCSP status request&quot;: {\r\n            &quot;responder_id&quot;: &lt;empty&gt;\r\n            &quot;request extensions&quot;: {\r\n              &lt;empty&gt;\r\n            }\r\n          }\r\n        },\r\n        &quot;supported_groups (10)&quot;: {\r\n          &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n        },\r\n        &quot;ec_point_formats (11)&quot;: {\r\n          &quot;formats&quot;: [uncompressed]\r\n        },\r\n        &quot;signature_algorithms (13)&quot;: {\r\n          &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n        },\r\n        &quot;signature_algorithms_cert (50)&quot;: {\r\n          &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\r\n        },\r\n        &quot;status_request_v2 (17)&quot;: {\r\n          &quot;cert status request&quot;: {\r\n            &quot;certificate status type&quot;: ocsp_multi\r\n            &quot;OCSP status request&quot;: {\r\n              &quot;responder_id&quot;: &lt;empty&gt;\r\n              &quot;request extensions&quot;: {\r\n                &lt;empty&gt;\r\n              }\r\n            }\r\n          }\r\n        },\r\n        &quot;extended_master_secret (23)&quot;: {\r\n          &lt;empty&gt;\r\n        },\r\n        &quot;supported_versions (43)&quot;: {\r\n          &quot;versions&quot;: [TLSv1.2]\r\n        }\r\n      ]\r\n    }\r\n\r\nJDK10 :\r\n\r\n    *** ClientHello, TLSv1.2\r\n    RandomCookie:  random_bytes = {82 D7 E3 A8 48 D6 9D 36 FF 54 0B 1A 75 C5 58 1E B9 C0 E8 8D E3 B8 53 73 3B C1 65 F4 A1 E4 DD 12}\r\n    Session ID:  {}\r\n    Cipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n    Compression Methods:  { 0 }\r\n    Extension supported_groups, group names: {secp256r1, secp384r1, secp521r1, sect283k1, sect283r1, sect409k1, sect409r1, sect571k1, sect571r1, secp256k1, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192}\r\n    Extension ec_point_formats, formats: [uncompressed]\r\n    Extension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA256withDSA, SHA224withECDSA, SHA224withRSA, SHA224withDSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA\r\n    Extension extended_master_secret\r\n    Extension server_name, server_name: [type=host_name (0), value=ws.test.annuaireamc.fr]\r\n    Extension status_request_v2\r\n    CertStatusReqItemV2: ocsp_multi, OCSPStatusRequest\r\n        ResponderIds: &lt;EMPTY&gt;\r\n        Extensions: &lt;EMPTY&gt;\r\n    CertStatusReqItemV2: ocsp, OCSPStatusRequest\r\n        ResponderIds: &lt;EMPTY&gt;\r\n        Extensions: &lt;EMPTY&gt;\r\n    Extension status_request: ocsp, OCSPStatusRequest\r\n        ResponderIds: &lt;EMPTY&gt;\r\n        Extensions: &lt;EMPTY&gt;\r\n    ***\r\n\r\nI use a client certificate stored in card.\r\n\r\nI add &quot;SunPKCS11&quot; provider and with the command line Djava.security.debug=sunpkcs11 i have this information with Java11 :\r\n\r\n        Library info:\r\n      cryptokiVersion: 2.20\r\n      manufacturerID: manufacturer                     \r\n      flags: 0\r\n      libraryDescription: CPS3 PKCS#11 MACOSX             \r\n      libraryVersion: 2.07\r\n    All slots: 0\r\n    Slots with tokens: 0\r\n    Slot info for slot 0:\r\n      slotDescription: PSS Reader on CPS                                               \r\n      manufacturerID:                                 \r\n      flags: CKF_TOKEN_PRESENT | CKF_REMOVABLE_DEVICE | CKF_HW_SLOT\r\n      hardwareVersion: 0.00\r\n      firmwareVersion: 0.00\r\n    Token info for token in slot 0:\r\n      label: CPS3v3-2800385098               \r\n      manufacturerID: manufacturer                     \r\n      model: IAS ECC?????????\r\n      serialNumber: 99225468       \r\n      flags: CKF_RNG | CKF_LOGIN_REQUIRED | CKF_USER_PIN_INITIALIZED | CKF_TOKEN_INITIALIZED\r\n      ulMaxSessionCount: CK_EFFECTIVELY_INFINITE\r\n      ulSessionCount: 0\r\n      ulMaxRwSessionCount: CK_EFFECTIVELY_INFINITE\r\n      ulRwSessionCount: 0\r\n      ulMaxPinLen: 4\r\n      ulMinPinLen: 4\r\n      ulTotalPublicMemory: CK_UNAVAILABLE_INFORMATION\r\n      ulFreePublicMemory: CK_UNAVAILABLE_INFORMATION\r\n      ulTotalPrivateMemory: CK_UNAVAILABLE_INFORMATION\r\n      ulFreePrivateMemory: CK_UNAVAILABLE_INFORMATION\r\n      hardwareVersion: 0.00\r\n      firmwareVersion: 0.00\r\n      utcTime: ????????????????\r\n    Mechanism CKM_SHA_1:\r\n      ulMinKeySize: 0\r\n      ulMaxKeySize: 0\r\n      flags: 1024 = CKF_DIGEST\r\n    Mechanism CKM_SHA256:\r\n      ulMinKeySize: 0\r\n      ulMaxKeySize: 0\r\n      flags: 1024 = CKF_DIGEST\r\n    Mechanism CKM_RSA_X_509:\r\n      ulMinKeySize: 512\r\n      ulMaxKeySize: 2048\r\n      flags: 272897 = CKF_HW | CKF_DECRYPT | CKF_SIGN | CKF_VERIFY | CKF_UNWRAP\r\n    DISABLED due to legacy\r\n    Mechanism CKM_RSA_PKCS:\r\n      ulMinKeySize: 512\r\n      ulMaxKeySize: 2048\r\n      flags: 272897 = CKF_HW | CKF_DECRYPT | CKF_SIGN | CKF_VERIFY | CKF_UNWRAP\r\n    DISABLED due to legacy\r\n    Mechanism CKM_SHA1_RSA_PKCS:\r\n      ulMinKeySize: 512\r\n      ulMaxKeySize: 2048\r\n      flags: 10240 = CKF_SIGN | CKF_VERIFY\r\n    Mechanism CKM_SHA256_RSA_PKCS:\r\n      ulMinKeySize: 512\r\n      ulMaxKeySize: 2048\r\n      flags: 10240 = CKF_SIGN | CKF_VERIFY\r\n    DISABLED in configuration\r\n\r\n\r\nSo, if i display the available algorthims, i&#39;ve got less algorthims in java 11 than in java 10.\r\n\r\nIn java 11 :\r\n\r\n    Service Type: MessageDigest Algorithm SHA1\r\n    Service Type: KeyStore Algorithm PKCS11\r\n    Service Type: Signature Algorithm SHA1withRSA\r\n    Service Type: MessageDigest Algorithm SHA-256\r\n    Service Type: SecureRandom Algorithm PKCS11\r\n\r\nIn java 10 :\r\n\r\n    Service Type: Signature Algorithm MD2withRSA\r\n    Service Type: Cipher Algorithm RSA/ECB/NoPadding\r\n    Service Type: Signature Algorithm SHA224withRSA\r\n    Service Type: Signature Algorithm SHA512withRSA\r\n    Service Type: Signature Algorithm SHA1withRSA\r\n    Service Type: KeyFactory Algorithm RSA\r\n    Service Type: Signature Algorithm SHA384withRSA\r\n    Service Type: Signature Algorithm MD5withRSA\r\n    Service Type: Cipher Algorithm RSA/ECB/PKCS1Padding\r\n    Service Type: MessageDigest Algorithm SHA-256\r\n    Service Type: MessageDigest Algorithm SHA1\r\n    Service Type: Signature Algorithm SHA256withRSA\r\n    Service Type: SecureRandom Algorithm PKCS11\r\n    Service Type: KeyStore Algorithm PKCS11 \r\n\r\nDo i need to modify java.security file ? \r\nWhat is the difference between rsa_pkcs1_sha256 and SHA256withRSA ? \r\nIs the problem come from provider and &quot;DISABLED due to legacy&quot;  ?\r\nIs it possible to force &quot;DISABLED due to legacy&quot; algorithm ?","title":"migrating from jdk10 to jdk11 : SSLConnection : CKR_KEY_TYPE_INCONSISTENT","body":"<p>I migrated my client application from openJDK 10 to 11 (JAVA_VERSION=&quot;11.0.12&quot;) but at runtime, during TLS handhshake, i've got this exception :</p>\n<blockquote>\n<p>javax.net.ssl|ALL|01|main|2021-11-24 10:55:54.848 CET|SignatureScheme.java:592|Ignore unsupported signature algorithm (rsa_pkcs1_sha256) (\n&quot;throwable&quot; : {\njava.security.InvalidKeyException: No installed provider supports this key: sun.security.pkcs11.P11Key$P11PrivateKey\nat java.base/java.security.Signature$Delegate.chooseProvider(Signature.java:1282)\nat java.base/java.security.Signature$Delegate.engineInitSign(Signature.java:1380)\nat java.base/java.security.Signature.initSign(Signature.java:682)\nat java.base/java.security.Signature$1.initSign(Signature.java:146)\nat java.base/sun.security.util.SignatureUtil.initSignWithParam(SignatureUtil.java:171)\nat java.base/sun.security.ssl.SignatureScheme.getSigner(SignatureScheme.java:584)\nat java.base/sun.security.ssl.SignatureScheme.getSignerOfPreferableAlgorithm(SignatureScheme.java:532)\nat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.(CertificateVerify.java:590)\nat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java</p>\n</blockquote>\n<p>....</p>\n<blockquote>\n<p>javax.net.ssl|ALL|01|main|2021-11-24 10:55:54.850 CET|SignatureScheme.java:592|Ignore unsupported signature algorithm (rsa_pkcs1_sha384) (\n&quot;throwable&quot; : {\njava.security.InvalidKeyException: No installed provider supports this key: sun.security.pkcs11.P11Key$P11PrivateKey\nat java.base/java.security.Signature$Delegate.chooseProvider(Signature.java:1282)\nat java.base/java.security.Signature$Delegate.engineInitSign(Signature.java:1380)\nat java.base/java.security.Signature.initSign(Signature.java:682)\nat java.base/java.security.Signature$1.initSign(Signature.java:146)\nat java.base/sun.security.util.SignatureUtil.initSignWithParam(SignatureUtil.java:171)\nat java.base/sun.security.ssl.SignatureScheme.getSigner(SignatureScheme.java:584)\nat java.base/sun.security.ssl.SignatureScheme.getSignerOfPreferableAlgorithm(SignatureScheme.java:532)\nat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.(CertificateVerify.java:590)\nat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java:761)</p>\n</blockquote>\n<p>....</p>\n<blockquote>\n<p>javax.net.ssl|WARNING|01|main|2021-11-24 10:55:55.228 CET|SSLSocketImpl.java:1505|handling exception (\n&quot;throwable&quot; : {\njava.security.ProviderException: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_KEY_TYPE_INCONSISTENT\nat jdk.crypto.cryptoki/sun.security.pkcs11.P11Signature.engineSign(P11Signature.java:679)\nat java.base/java.security.Signature$Delegate.engineSign(Signature.java:1402)\nat java.base/java.security.Signature.sign(Signature.java:711)\nat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.(CertificateVerify.java:609)\nat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyProducer.produce(CertificateVerify.java:761)\nat java.base/sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:436)\nat java.base/sun.security.ssl.ServerHelloDone$ServerHelloDoneConsumer.consume(ServerHelloDone.java:182)</p>\n</blockquote>\n<p>In debug mode, with -Djavax.net.debug=all argument. I see this difference but i don't know if it's interesting.</p>\n<p>JDK11</p>\n<pre><code>javax.net.ssl|DEBUG|01|main|2021-11-24 10:55:54.687 CET|ClientHello.java:653|Produced ClientHello handshake message (\n&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1.2&quot;,\n  &quot;random&quot;              : &quot;74 E9 F0 E2 E6 18 44 A4 BD 5C 8E 5F 11 BB AE 98 15 13 0F F0 E9 93 6D B3 B4 08 EE 6A 9E B9 39 8B&quot;,\n  &quot;session id&quot;          : &quot;&quot;,\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\n  &quot;compression methods&quot; : &quot;00&quot;,\n  &quot;extensions&quot;          : [\n    &quot;server_name (0)&quot;: {\n      type=host_name (0), value=ws.test.annuaireamc.fr\n    },\n    &quot;status_request (5)&quot;: {\n      &quot;certificate status type&quot;: ocsp\n      &quot;OCSP status request&quot;: {\n        &quot;responder_id&quot;: &lt;empty&gt;\n        &quot;request extensions&quot;: {\n          &lt;empty&gt;\n        }\n      }\n    },\n    &quot;supported_groups (10)&quot;: {\n      &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n    },\n    &quot;ec_point_formats (11)&quot;: {\n      &quot;formats&quot;: [uncompressed]\n    },\n    &quot;signature_algorithms (13)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;signature_algorithms_cert (50)&quot;: {\n      &quot;signature schemes&quot;: [ecdsa_secp256r1_sha256, ecdsa_secp384r1_sha384, ecdsa_secp521r1_sha512, rsa_pss_rsae_sha256, rsa_pss_rsae_sha384, rsa_pss_rsae_sha512, rsa_pss_pss_sha256, rsa_pss_pss_sha384, rsa_pss_pss_sha512, rsa_pkcs1_sha256, rsa_pkcs1_sha384, rsa_pkcs1_sha512, dsa_sha256, ecdsa_sha224, rsa_sha224, dsa_sha224, ecdsa_sha1, rsa_pkcs1_sha1, dsa_sha1]\n    },\n    &quot;status_request_v2 (17)&quot;: {\n      &quot;cert status request&quot;: {\n        &quot;certificate status type&quot;: ocsp_multi\n        &quot;OCSP status request&quot;: {\n          &quot;responder_id&quot;: &lt;empty&gt;\n          &quot;request extensions&quot;: {\n            &lt;empty&gt;\n          }\n        }\n      }\n    },\n    &quot;extended_master_secret (23)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;supported_versions (43)&quot;: {\n      &quot;versions&quot;: [TLSv1.2]\n    }\n  ]\n}\n</code></pre>\n<p>JDK10 :</p>\n<pre><code>*** ClientHello, TLSv1.2\nRandomCookie:  random_bytes = {82 D7 E3 A8 48 D6 9D 36 FF 54 0B 1A 75 C5 58 1E B9 C0 E8 8D E3 B8 53 73 3B C1 65 F4 A1 E4 DD 12}\nSession ID:  {}\nCipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_RSA_WITH_AES_256_GCM_SHA384, TLS_DHE_DSS_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_RSA_WITH_AES_128_GCM_SHA256, TLS_DHE_DSS_WITH_AES_128_GCM_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384, TLS_RSA_WITH_AES_256_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384, TLS_DHE_RSA_WITH_AES_256_CBC_SHA256, TLS_DHE_DSS_WITH_AES_256_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_RSA_WITH_AES_128_CBC_SHA256, TLS_DHE_DSS_WITH_AES_128_CBC_SHA256, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\nCompression Methods:  { 0 }\nExtension supported_groups, group names: {secp256r1, secp384r1, secp521r1, sect283k1, sect283r1, sect409k1, sect409r1, sect571k1, sect571r1, secp256k1, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192}\nExtension ec_point_formats, formats: [uncompressed]\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA256withDSA, SHA224withECDSA, SHA224withRSA, SHA224withDSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA\nExtension extended_master_secret\nExtension server_name, server_name: [type=host_name (0), value=ws.test.annuaireamc.fr]\nExtension status_request_v2\nCertStatusReqItemV2: ocsp_multi, OCSPStatusRequest\n    ResponderIds: &lt;EMPTY&gt;\n    Extensions: &lt;EMPTY&gt;\nCertStatusReqItemV2: ocsp, OCSPStatusRequest\n    ResponderIds: &lt;EMPTY&gt;\n    Extensions: &lt;EMPTY&gt;\nExtension status_request: ocsp, OCSPStatusRequest\n    ResponderIds: &lt;EMPTY&gt;\n    Extensions: &lt;EMPTY&gt;\n***\n</code></pre>\n<p>I use a client certificate stored in card.</p>\n<p>I add &quot;SunPKCS11&quot; provider and with the command line Djava.security.debug=sunpkcs11 i have this information with Java11 :</p>\n<pre><code>    Library info:\n  cryptokiVersion: 2.20\n  manufacturerID: manufacturer                     \n  flags: 0\n  libraryDescription: CPS3 PKCS#11 MACOSX             \n  libraryVersion: 2.07\nAll slots: 0\nSlots with tokens: 0\nSlot info for slot 0:\n  slotDescription: PSS Reader on CPS                                               \n  manufacturerID:                                 \n  flags: CKF_TOKEN_PRESENT | CKF_REMOVABLE_DEVICE | CKF_HW_SLOT\n  hardwareVersion: 0.00\n  firmwareVersion: 0.00\nToken info for token in slot 0:\n  label: CPS3v3-2800385098               \n  manufacturerID: manufacturer                     \n  model: IAS ECC?????????\n  serialNumber: 99225468       \n  flags: CKF_RNG | CKF_LOGIN_REQUIRED | CKF_USER_PIN_INITIALIZED | CKF_TOKEN_INITIALIZED\n  ulMaxSessionCount: CK_EFFECTIVELY_INFINITE\n  ulSessionCount: 0\n  ulMaxRwSessionCount: CK_EFFECTIVELY_INFINITE\n  ulRwSessionCount: 0\n  ulMaxPinLen: 4\n  ulMinPinLen: 4\n  ulTotalPublicMemory: CK_UNAVAILABLE_INFORMATION\n  ulFreePublicMemory: CK_UNAVAILABLE_INFORMATION\n  ulTotalPrivateMemory: CK_UNAVAILABLE_INFORMATION\n  ulFreePrivateMemory: CK_UNAVAILABLE_INFORMATION\n  hardwareVersion: 0.00\n  firmwareVersion: 0.00\n  utcTime: ????????????????\nMechanism CKM_SHA_1:\n  ulMinKeySize: 0\n  ulMaxKeySize: 0\n  flags: 1024 = CKF_DIGEST\nMechanism CKM_SHA256:\n  ulMinKeySize: 0\n  ulMaxKeySize: 0\n  flags: 1024 = CKF_DIGEST\nMechanism CKM_RSA_X_509:\n  ulMinKeySize: 512\n  ulMaxKeySize: 2048\n  flags: 272897 = CKF_HW | CKF_DECRYPT | CKF_SIGN | CKF_VERIFY | CKF_UNWRAP\nDISABLED due to legacy\nMechanism CKM_RSA_PKCS:\n  ulMinKeySize: 512\n  ulMaxKeySize: 2048\n  flags: 272897 = CKF_HW | CKF_DECRYPT | CKF_SIGN | CKF_VERIFY | CKF_UNWRAP\nDISABLED due to legacy\nMechanism CKM_SHA1_RSA_PKCS:\n  ulMinKeySize: 512\n  ulMaxKeySize: 2048\n  flags: 10240 = CKF_SIGN | CKF_VERIFY\nMechanism CKM_SHA256_RSA_PKCS:\n  ulMinKeySize: 512\n  ulMaxKeySize: 2048\n  flags: 10240 = CKF_SIGN | CKF_VERIFY\nDISABLED in configuration\n</code></pre>\n<p>So, if i display the available algorthims, i've got less algorthims in java 11 than in java 10.</p>\n<p>In java 11 :</p>\n<pre><code>Service Type: MessageDigest Algorithm SHA1\nService Type: KeyStore Algorithm PKCS11\nService Type: Signature Algorithm SHA1withRSA\nService Type: MessageDigest Algorithm SHA-256\nService Type: SecureRandom Algorithm PKCS11\n</code></pre>\n<p>In java 10 :</p>\n<pre><code>Service Type: Signature Algorithm MD2withRSA\nService Type: Cipher Algorithm RSA/ECB/NoPadding\nService Type: Signature Algorithm SHA224withRSA\nService Type: Signature Algorithm SHA512withRSA\nService Type: Signature Algorithm SHA1withRSA\nService Type: KeyFactory Algorithm RSA\nService Type: Signature Algorithm SHA384withRSA\nService Type: Signature Algorithm MD5withRSA\nService Type: Cipher Algorithm RSA/ECB/PKCS1Padding\nService Type: MessageDigest Algorithm SHA-256\nService Type: MessageDigest Algorithm SHA1\nService Type: Signature Algorithm SHA256withRSA\nService Type: SecureRandom Algorithm PKCS11\nService Type: KeyStore Algorithm PKCS11 \n</code></pre>\n<p>Do i need to modify java.security file ?\nWhat is the difference between rsa_pkcs1_sha256 and SHA256withRSA ?\nIs the problem come from provider and &quot;DISABLED due to legacy&quot;  ?\nIs it possible to force &quot;DISABLED due to legacy&quot; algorithm ?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1669408867,"post_id":74576741,"comment_id":131642112,"body_markdown":"BAD_REQUEST is not 404, it&#39;s 400 status code.","body":"BAD_REQUEST is not 404, it&#39;s 400 status code."}],"answers":[{"tags":[],"owner":{"account_id":6132871,"reputation":11,"user_id":4782546,"display_name":"Mattias Cederlund"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673301356,"creation_date":1673301356,"answer_id":75063346,"question_id":74576741,"body_markdown":"I ran into this problem too after upgrading.\r\n\r\nFrom my understanding, the security filter chain now runs on all dispatch types. Previously it didn&#39;t run on the error dispatcher. You can revert to the old behavior by calling:\r\n\r\n`http.authorizeHttpRequests().shouldFilterAllDispatcherTypes(false)`\r\n\r\nWhat causes re-filtering when dispatching an error to not make your request authenticated is the use of `OncePerRequestFilter`. Since you already executed the filter on the first dispatch, it will not run again when the error is dispatched. Another workaround is therefore to use a plain `Filter` instead.\r\n\r\n---\r\n\r\nSources:\r\n* https://github.com/spring-projects/spring-boot/issues/31852#issuecomment-1193695450\r\n* https://stackoverflow.com/questions/74971183/spring-security-6-0-authorizationfilter-questionable-default-for-shouldfiltera","title":"HttpStatus for thrown exceptions isnt handled right in Spring Boot 3.0.0","body":"<p>I ran into this problem too after upgrading.</p>\n<p>From my understanding, the security filter chain now runs on all dispatch types. Previously it didn't run on the error dispatcher. You can revert to the old behavior by calling:</p>\n<p><code>http.authorizeHttpRequests().shouldFilterAllDispatcherTypes(false)</code></p>\n<p>What causes re-filtering when dispatching an error to not make your request authenticated is the use of <code>OncePerRequestFilter</code>. Since you already executed the filter on the first dispatch, it will not run again when the error is dispatched. Another workaround is therefore to use a plain <code>Filter</code> instead.</p>\n<hr />\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://github.com/spring-projects/spring-boot/issues/31852#issuecomment-1193695450\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/31852#issuecomment-1193695450</a></li>\n<li><a href=\"https://stackoverflow.com/questions/74971183/spring-security-6-0-authorizationfilter-questionable-default-for-shouldfiltera\">Spring security 6.0 AuthorizationFilter - questionable default for shouldFilterAllDispatcherTypes</a></li>\n</ul>\n"}],"owner":{"account_id":5124081,"reputation":253,"user_id":4106800,"display_name":"Gobanit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1673301356,"creation_date":1669401023,"question_id":74576741,"body_markdown":"I just migrated to SpringBoot 3.0.0, but found out, the application fails to handle HttpStatus right, when exception is thrown. It always gives 403 FORBIDDEN (or other code configured for unauthenticated requests). Seems like the authentication is lost after exception is catched or something.\r\nI made a minimalistic example here:\r\n\r\nhttps://gitlab.com/gobanit-public/stack-overflow/spring-boot-3-http-status-bug\r\n\r\nThere are 4 classes:\r\n\r\n**DemoApplication** - application starter\r\n\r\n**CustomAuthFilter** - custom authentication filter that sets dummy Authentication to AuthManager.\r\n\r\n**Web Config** - web configuration for security. Authentication required for any request.\r\n\r\n**Test Controller** - basic controller with three endpoints - one for success and two for failure\r\n\r\nWhen calling the success endpoint, you get the response. The authentication works fine. When the fail endpoint is called, it throws HttpResponseException with HttpStatus.BAD_REQUEST (400). However, i dont get 400 in response but 403 instead. That does not seem right. The same happens when the second fail endpoint is called, which doesnt throw exception but writes error response directly.\r\n\r\nIs this bug. or am I missing something? I could not find anything related to this in 3.0.0 release notes. It worked fine in 2.7.* versions and even in 3.0.0-RC1, but changed in 3.0.0-RC2 and 3.0.0.\r\n\r\nThanks!\r\n\r\nI tried it without Spring Security - it works ok.\r\n\r\nI tried it with default basic auth, without custom auth filter - it works fine too.\r\n\r\nSo I guess it is somehow related to Spring Security filter.\r\n\r\nI tried different versions of SpringBoot - 2.7.5 (ok), 3.0.0-RC1 (ok), 3.0.0-RC2 (not ok), 3.0.0 (not ok)\r\n","title":"HttpStatus for thrown exceptions isnt handled right in Spring Boot 3.0.0","body":"<p>I just migrated to SpringBoot 3.0.0, but found out, the application fails to handle HttpStatus right, when exception is thrown. It always gives 403 FORBIDDEN (or other code configured for unauthenticated requests). Seems like the authentication is lost after exception is catched or something.\nI made a minimalistic example here:</p>\n<p><a href=\"https://gitlab.com/gobanit-public/stack-overflow/spring-boot-3-http-status-bug\" rel=\"nofollow noreferrer\">https://gitlab.com/gobanit-public/stack-overflow/spring-boot-3-http-status-bug</a></p>\n<p>There are 4 classes:</p>\n<p><strong>DemoApplication</strong> - application starter</p>\n<p><strong>CustomAuthFilter</strong> - custom authentication filter that sets dummy Authentication to AuthManager.</p>\n<p><strong>Web Config</strong> - web configuration for security. Authentication required for any request.</p>\n<p><strong>Test Controller</strong> - basic controller with three endpoints - one for success and two for failure</p>\n<p>When calling the success endpoint, you get the response. The authentication works fine. When the fail endpoint is called, it throws HttpResponseException with HttpStatus.BAD_REQUEST (400). However, i dont get 400 in response but 403 instead. That does not seem right. The same happens when the second fail endpoint is called, which doesnt throw exception but writes error response directly.</p>\n<p>Is this bug. or am I missing something? I could not find anything related to this in 3.0.0 release notes. It worked fine in 2.7.* versions and even in 3.0.0-RC1, but changed in 3.0.0-RC2 and 3.0.0.</p>\n<p>Thanks!</p>\n<p>I tried it without Spring Security - it works ok.</p>\n<p>I tried it with default basic auth, without custom auth filter - it works fine too.</p>\n<p>So I guess it is somehow related to Spring Security filter.</p>\n<p>I tried different versions of SpringBoot - 2.7.5 (ok), 3.0.0-RC1 (ok), 3.0.0-RC2 (not ok), 3.0.0 (not ok)</p>\n"},{"tags":["java","spring","flux"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673301186,"creation_date":1673301186,"answer_id":75063313,"question_id":75058643,"body_markdown":"Your code is quite hard to understand, but basically what you want to achieve - is dynamic interval for delaying your Mono. It is possible, of course.\r\n\r\nI&#39;ll simplify this with the following example:\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        final AtomicInteger time = new AtomicInteger(0);\r\n        System.out.println(&quot;START &quot;+ LocalTime.now());\r\n        Flux.interval(Duration.of(5,ChronoUnit.SECONDS))\r\n                .startWith(0L)\r\n                .delayUntil(s -&gt; Mono.just(s).delayElement(randomDuration()))\r\n                .subscribe(s -&gt; test(s,time));\r\n\r\n        Thread.sleep(70000);\r\n    }\r\n\r\n    // generate random Duration in millis between 3000 and 7000 ms\r\n    public static Duration randomDuration() {\r\n        long min = 3000;\r\n        long max = 7000;\r\n        long randomMillis = ThreadLocalRandom.current().nextLong(min, max + 1);\r\n        return Duration.ofMillis(randomMillis);\r\n    }\r\n\r\nWhich will give you output like this: \r\n\r\n    START 01:48:53.160028\r\n    TIME 01:48:59.786793\r\n    TIME 01:49:04.279440\r\n    TIME 01:49:07.771783\r\n    TIME 01:49:13.483046\r\n    TIME 01:49:17.003886\r\n    TIME 01:49:23.819252\r\n    TIME 01:49:29.021108\r\n    TIME 01:49:33.972711\r\n    TIME 01:49:40.832304\r\n    TIME 01:49:44.501199\r\n    TIME 01:49:51.029825\r\n    TIME 01:49:56.869309\r\n\r\nYou can see different intervals here","title":"Dynamic interval in Flux / Mono","body":"<p>Your code is quite hard to understand, but basically what you want to achieve - is dynamic interval for delaying your Mono. It is possible, of course.</p>\n<p>I'll simplify this with the following example:</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    final AtomicInteger time = new AtomicInteger(0);\n    System.out.println(&quot;START &quot;+ LocalTime.now());\n    Flux.interval(Duration.of(5,ChronoUnit.SECONDS))\n            .startWith(0L)\n            .delayUntil(s -&gt; Mono.just(s).delayElement(randomDuration()))\n            .subscribe(s -&gt; test(s,time));\n\n    Thread.sleep(70000);\n}\n\n// generate random Duration in millis between 3000 and 7000 ms\npublic static Duration randomDuration() {\n    long min = 3000;\n    long max = 7000;\n    long randomMillis = ThreadLocalRandom.current().nextLong(min, max + 1);\n    return Duration.ofMillis(randomMillis);\n}\n</code></pre>\n<p>Which will give you output like this:</p>\n<pre><code>START 01:48:53.160028\nTIME 01:48:59.786793\nTIME 01:49:04.279440\nTIME 01:49:07.771783\nTIME 01:49:13.483046\nTIME 01:49:17.003886\nTIME 01:49:23.819252\nTIME 01:49:29.021108\nTIME 01:49:33.972711\nTIME 01:49:40.832304\nTIME 01:49:44.501199\nTIME 01:49:51.029825\nTIME 01:49:56.869309\n</code></pre>\n<p>You can see different intervals here</p>\n"}],"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673301186,"creation_date":1673274190,"question_id":75058643,"body_markdown":"How to make a dynamic interval? when I put for example an atomic value in the interval it only works with the first value even when I change to a larger value, it works every 5s\r\n\r\nI suggested this https://stackoverflow.com/a/47351359/8851815\r\n```java\r\npublic static void main(String[] args) throws InterruptedException {\r\n        final AtomicInteger time = new AtomicInteger(0);\r\n        System.out.println(&quot;START &quot;+ LocalTime.now());\r\n        Flux.interval(Duration.of(5,ChronoUnit.SECONDS))\r\n                .startWith(0L)\r\n                .delayUntil(s -&gt; Mono.just(s).delayElement(Duration.of(time.get(),ChronoUnit.SECONDS)))\r\n                .subscribe(s -&gt; test(s,time));\r\n        Thread.sleep(70000);\r\n\r\n    }\r\n\r\n    public static void test(long s, AtomicInteger time){\r\n        try{\r\n            if(s &lt;= 1) {\r\n                Thread.sleep(10000);\r\n                time.addAndGet(5);\r\n            } else {\r\n                time.set(0);\r\n            }\r\n            System.out.println(&quot;TIME &quot; +  LocalTime.now());\r\n        } catch (Exception e){\r\n            System.out.println(e);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nResult: \r\n```\r\nSTART 15:18:55.710771800\r\nTIME 15:19:06.356155800 -&gt;10s\r\nTIME 15:19:21.376629100 -&gt;15s\r\nTIME 15:19:41.385095    -&gt;20s\r\nTIME 15:19:56.400575500 -&gt;5s\r\nTIME 15:19:56.401578800 -&gt;5s\r\nTIME 15:19:56.402576700 -&gt;5s\r\nTIME 15:19:56.402576700 -&gt;5s\r\nTIME 15:19:56.403571400 -&gt;5s\r\nTIME 15:19:56.403571400 -&gt;5s\r\nTIME 15:19:56.404569800 -&gt;5s\r\nTIME 15:19:56.404569800 -&gt;5s\r\nTIME 15:19:56.404569800 -&gt;5s\r\nTIME 15:19:56.404569800 -&gt;5s [how to skip / drop those requests?]\r\nTIME 15:20:01.371023600 -&gt;5s\r\nTIME 15:20:06.360791800 -&gt;5s\r\n```","title":"Dynamic interval in Flux / Mono","body":"<p>How to make a dynamic interval? when I put for example an atomic value in the interval it only works with the first value even when I change to a larger value, it works every 5s</p>\n<p>I suggested this <a href=\"https://stackoverflow.com/a/47351359/8851815\">https://stackoverflow.com/a/47351359/8851815</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws InterruptedException {\n        final AtomicInteger time = new AtomicInteger(0);\n        System.out.println(&quot;START &quot;+ LocalTime.now());\n        Flux.interval(Duration.of(5,ChronoUnit.SECONDS))\n                .startWith(0L)\n                .delayUntil(s -&gt; Mono.just(s).delayElement(Duration.of(time.get(),ChronoUnit.SECONDS)))\n                .subscribe(s -&gt; test(s,time));\n        Thread.sleep(70000);\n\n    }\n\n    public static void test(long s, AtomicInteger time){\n        try{\n            if(s &lt;= 1) {\n                Thread.sleep(10000);\n                time.addAndGet(5);\n            } else {\n                time.set(0);\n            }\n            System.out.println(&quot;TIME &quot; +  LocalTime.now());\n        } catch (Exception e){\n            System.out.println(e);\n        }\n\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre><code>START 15:18:55.710771800\nTIME 15:19:06.356155800 -&gt;10s\nTIME 15:19:21.376629100 -&gt;15s\nTIME 15:19:41.385095    -&gt;20s\nTIME 15:19:56.400575500 -&gt;5s\nTIME 15:19:56.401578800 -&gt;5s\nTIME 15:19:56.402576700 -&gt;5s\nTIME 15:19:56.402576700 -&gt;5s\nTIME 15:19:56.403571400 -&gt;5s\nTIME 15:19:56.403571400 -&gt;5s\nTIME 15:19:56.404569800 -&gt;5s\nTIME 15:19:56.404569800 -&gt;5s\nTIME 15:19:56.404569800 -&gt;5s\nTIME 15:19:56.404569800 -&gt;5s [how to skip / drop those requests?]\nTIME 15:20:01.371023600 -&gt;5s\nTIME 15:20:06.360791800 -&gt;5s\n</code></pre>\n"},{"tags":["java","github","minecraft"],"owner":{"account_id":18337524,"reputation":1,"user_id":19649528,"display_name":"LIUKRAST"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673300777,"creation_date":1673300777,"question_id":75063260,"body_markdown":"So im using kohsuke&#39;s library to read files from GitHub and my idea is to list a bunch of jar files in a git folder to then find inside the file &quot;fabric.mod.json&quot; and return a list of all the variables &quot;id&quot; from all the jsons in the folder. Here is my code:\r\n\r\n\r\n```\r\n    public static void main(String[] args) throws Exception {\r\n        GitHub github = GitHub.connectAnonymously();\r\n        GHRepository repository = github.getRepository(&quot;LIUKRAST/PersonalMods&quot;);\r\n        List&lt;GHContent&gt; contents = repository.getDirectoryContent(&quot;moddedserver/mods&quot;, &quot;main&quot;);\r\n        for (GHContent content : contents) {\r\n            System.out.println(content.getName());\r\n            if (content.getName().endsWith(&quot;.jar&quot;)) {\r\n                System.out.println(content.getEncoding());\r\n                InputStream is = content.read();\r\n                ZipInputStream zis = new ZipInputStream(is);\r\n                ZipEntry entry;\r\n                while ((entry = zis.getNextEntry()) != null) {\r\n                    String name = entry.getName();\r\n                    if (name.equals(&quot;fabric.mod.json&quot;)) {\r\n                        String json = readEntryAsString(zis);\r\n                        JSONObject obj = new JSONObject(json);\r\n                        String modId = obj.getString(&quot;id&quot;);\r\n                        System.out.println(&quot;It is a mod! MODID:&quot; + modId);\r\n                        break;\r\n                    }\r\n                }\r\n                is.close();\r\n                zis.close();\r\n            }\r\n        }\r\n    }\r\n\r\n    public static String readEntryAsString(ZipInputStream zis) throws IOException {\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(zis));\r\n        StringBuilder sb = new StringBuilder();\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n            sb.append(line);\r\n        }\r\n        return sb.toString();\r\n    }\r\n```\r\n\r\nIt works fine with some files, but other jar files return this error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException: Unrecognized encoding: none\r\n\tat org.kohsuke.github.GHContent.read(GHContent.java:198)\r\n\tat Main.main(Main.java:23)\r\n```\r\n\r\nIt means that the encoding is null, but how is that possible? And how can i change the jar encoding?\r\n\r\n\r\n\r\nI expected to see a list of all the ids, without errors","title":"JAVA: Get jar from github and parse as zip goes wrong with encoding","body":"<p>So im using kohsuke's library to read files from GitHub and my idea is to list a bunch of jar files in a git folder to then find inside the file &quot;fabric.mod.json&quot; and return a list of all the variables &quot;id&quot; from all the jsons in the folder. Here is my code:</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        GitHub github = GitHub.connectAnonymously();\n        GHRepository repository = github.getRepository(&quot;LIUKRAST/PersonalMods&quot;);\n        List&lt;GHContent&gt; contents = repository.getDirectoryContent(&quot;moddedserver/mods&quot;, &quot;main&quot;);\n        for (GHContent content : contents) {\n            System.out.println(content.getName());\n            if (content.getName().endsWith(&quot;.jar&quot;)) {\n                System.out.println(content.getEncoding());\n                InputStream is = content.read();\n                ZipInputStream zis = new ZipInputStream(is);\n                ZipEntry entry;\n                while ((entry = zis.getNextEntry()) != null) {\n                    String name = entry.getName();\n                    if (name.equals(&quot;fabric.mod.json&quot;)) {\n                        String json = readEntryAsString(zis);\n                        JSONObject obj = new JSONObject(json);\n                        String modId = obj.getString(&quot;id&quot;);\n                        System.out.println(&quot;It is a mod! MODID:&quot; + modId);\n                        break;\n                    }\n                }\n                is.close();\n                zis.close();\n            }\n        }\n    }\n\n    public static String readEntryAsString(ZipInputStream zis) throws IOException {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(zis));\n        StringBuilder sb = new StringBuilder();\n        String line;\n        while ((line = reader.readLine()) != null) {\n            sb.append(line);\n        }\n        return sb.toString();\n    }\n</code></pre>\n<p>It works fine with some files, but other jar files return this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: Unrecognized encoding: none\n    at org.kohsuke.github.GHContent.read(GHContent.java:198)\n    at Main.main(Main.java:23)\n</code></pre>\n<p>It means that the encoding is null, but how is that possible? And how can i change the jar encoding?</p>\n<p>I expected to see a list of all the ids, without errors</p>\n"},{"tags":["java","swagger","openapi","swagger-2.0","openapi-generator"],"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1672938613,"post_id":75014454,"comment_id":132390943,"body_markdown":"which generator are you using?","body":"which generator are you using?"},{"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"score":0,"creation_date":1672950837,"post_id":75014454,"comment_id":132394751,"body_markdown":"openapitools.generator,  &#39;io.swagger.core.v3:swagger-annotations:2.2.0&#39; //\ngenerated swagger api and model\nand  &#39;org.openapitools:jackson-databind-nullable:0.2.2&#39; generate swagger model.","body":"openapitools.generator,  &#39;io.swagger.core.v3:swagger-annotations:2.2.0&#39; // generated swagger api and model and  &#39;org.openapitools:jackson-databind-nullable:0.2.2&#39; generate swagger model."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1672951202,"post_id":75014454,"comment_id":132394871,"body_markdown":"no, `generatorName = ` what?  `java`? `spring`? There are a [lot of generators](https://openapi-generator.tech/docs/generators/scala-play-server) in the `openapi generator`","body":"no, <code>generatorName = </code> what?  <code>java</code>? <code>spring</code>? There are a <a href=\"https://openapi-generator.tech/docs/generators/scala-play-server\" rel=\"nofollow noreferrer\">lot of generators</a> in the <code>openapi generator</code>"},{"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"score":0,"creation_date":1673280049,"post_id":75014454,"comment_id":132457883,"body_markdown":"sorry for the delay, its generatorName = &quot;spring&quot; @tbatch","body":"sorry for the delay, its generatorName = &quot;spring&quot; @tbatch"}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673300354,"creation_date":1673300354,"answer_id":75063201,"question_id":75014454,"body_markdown":"By Default, when a field fails validation, Spring will throw a `MethodArgumentNotValidException`.  This is managed internally by Springs `spring-boot-starter-validation`. You can override this exception handling using `@RestControllerAdvice` or `@ControllerAdvice`.\r\n\r\nFirst, create a basic model for your response.  Here is an extremely simple one.\r\n```java\r\n@Setter\r\n@Getter\r\npublic class RestException {\r\n  String code;\r\n  String message;\r\n}\r\n```\r\n\r\nThen, create your controller advice class.\r\n```\r\n@RestControllerAdvice\r\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n  @Override\r\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\r\n\r\n    RestException exception = new RestException();\r\n    exception.setCode(HttpStatus.BAD_REQUEST.toString());\r\n    var message = Optional.ofNullable(ex).map(MethodArgumentNotValidException::getBindingResult).map(BindingResult::getFieldError).orElse(null);\r\n\r\n    exception.setMessage(Objects.isNull(message) ? &quot;unidentified error&quot; : message.getField() + &quot; &quot; + message.getDefaultMessage());\r\n\r\n    return new ResponseEntity&lt;&gt;(exception, HttpStatus.BAD_REQUEST);\r\n  }\r\n}\r\n```\r\n\r\nthis very simple example will return a response of\r\n```\r\n{\r\n  &quot;code&quot;: &quot;400 BAD_REQUEST&quot;,\r\n  &quot;message&quot;: &quot;amount must be greater than or equal to 0&quot;\r\n}\r\n```\r\n\r\n### Note\r\n\r\nYou are free to set the code returned to the user as whatever you want (aka, exception.setCode(&quot;99999 MY_STATUS_CODE&quot;).  However, this will have no meaning to the user, as it won&#39;t match the headers sent by the controller as part of the `ResponseEntity`.  I recommend sticking with defined HttpStatus types as the code you display back to your users.\r\n\r\nAlso, unless you are specifically trying to get a `BigDecimal` as your type, setting the format of the number to `float` or `double` will result in the expected dataType.  Otherwise, declaring `big-decimal` isn&#39;t necessary, since that is the default for a `number` with no format defined.\r\n\r\nLikewise, the defaults for `exclusiveMinimum` and `exclusiveMaximum` is false by default, so there is no need to include them in your schema.\r\n\r\nFinally, I recommend adjusting your schema to include to response description.  Something along the lines of this\r\n```yaml\r\nresponses:\r\n  &quot;200&quot;:\r\n    description: OK\r\n  &quot;5XX&quot;:\r\n    description: Unknown error has occurred\r\n  &quot;400&quot;:\r\n    description: A required parameter is missing or an invalid datatype or value was provided for property.  \r\n      Check the error message to check the invalid information, adjust the provided schema, and try again.\r\n```\r\n\r\nThat should cover all of your bases.  Feel free to expand the `RestException` and `RestExceptionHandler` classes.  As I said, these are basic examples.  You can make them much more robust (i.e. multiple returns based upon the field or error message).","title":"how to get custom error code through swagger annotation","body":"<p>By Default, when a field fails validation, Spring will throw a <code>MethodArgumentNotValidException</code>.  This is managed internally by Springs <code>spring-boot-starter-validation</code>. You can override this exception handling using <code>@RestControllerAdvice</code> or <code>@ControllerAdvice</code>.</p>\n<p>First, create a basic model for your response.  Here is an extremely simple one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\npublic class RestException {\n  String code;\n  String message;\n}\n</code></pre>\n<p>Then, create your controller advice class.</p>\n<pre><code>@RestControllerAdvice\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\n\n  @Override\n  protected ResponseEntity&lt;Object&gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatus status, WebRequest request) {\n\n    RestException exception = new RestException();\n    exception.setCode(HttpStatus.BAD_REQUEST.toString());\n    var message = Optional.ofNullable(ex).map(MethodArgumentNotValidException::getBindingResult).map(BindingResult::getFieldError).orElse(null);\n\n    exception.setMessage(Objects.isNull(message) ? &quot;unidentified error&quot; : message.getField() + &quot; &quot; + message.getDefaultMessage());\n\n    return new ResponseEntity&lt;&gt;(exception, HttpStatus.BAD_REQUEST);\n  }\n}\n</code></pre>\n<p>this very simple example will return a response of</p>\n<pre><code>{\n  &quot;code&quot;: &quot;400 BAD_REQUEST&quot;,\n  &quot;message&quot;: &quot;amount must be greater than or equal to 0&quot;\n}\n</code></pre>\n<h3>Note</h3>\n<p>You are free to set the code returned to the user as whatever you want (aka, exception.setCode(&quot;99999 MY_STATUS_CODE&quot;).  However, this will have no meaning to the user, as it won't match the headers sent by the controller as part of the <code>ResponseEntity</code>.  I recommend sticking with defined HttpStatus types as the code you display back to your users.</p>\n<p>Also, unless you are specifically trying to get a <code>BigDecimal</code> as your type, setting the format of the number to <code>float</code> or <code>double</code> will result in the expected dataType.  Otherwise, declaring <code>big-decimal</code> isn't necessary, since that is the default for a <code>number</code> with no format defined.</p>\n<p>Likewise, the defaults for <code>exclusiveMinimum</code> and <code>exclusiveMaximum</code> is false by default, so there is no need to include them in your schema.</p>\n<p>Finally, I recommend adjusting your schema to include to response description.  Something along the lines of this</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>responses:\n  &quot;200&quot;:\n    description: OK\n  &quot;5XX&quot;:\n    description: Unknown error has occurred\n  &quot;400&quot;:\n    description: A required parameter is missing or an invalid datatype or value was provided for property.  \n      Check the error message to check the invalid information, adjust the provided schema, and try again.\n</code></pre>\n<p>That should cover all of your bases.  Feel free to expand the <code>RestException</code> and <code>RestExceptionHandler</code> classes.  As I said, these are basic examples.  You can make them much more robust (i.e. multiple returns based upon the field or error message).</p>\n"}],"owner":{"account_id":926701,"reputation":1165,"user_id":957359,"accept_rate":47,"display_name":"jcrshankar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1287,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673300354,"creation_date":1672899186,"question_id":75014454,"body_markdown":"    *`I have below schema definition to represent commission amount in my openapi contract.`*\r\n    \r\n    \r\n    &quot;properties&quot;: {\r\n            &quot;Amount&quot;: {\r\n              &quot;type&quot;: &quot;number&quot;,\r\n              &quot;description&quot;: &quot;The amount of tnx&quot;,\r\n              &quot;pattern&quot; : &quot;^-?[0-9]*(\\\\.([0-9]{1,2}))?$&quot;,\r\n              &quot;format&quot;: &quot;big-decimal&quot;,\r\n              &quot;minimum&quot;: 0.01,\r\n              &quot;maximum&quot;: 49999.99,\r\n              &quot;exclusiveMinimum&quot;: false,\r\n              &quot;exclusiveMaximum&quot;: false,\r\n              &quot;example&quot; : &quot;9999.99&quot;\r\n            },\r\n\r\n\r\n**generated code:**\r\n\r\n    @NotNull @Valid @DecimalMin(&quot;0.01&quot;) @DecimalMax(&quot;49999.99&quot;) \r\n      @Schema(name = &quot;amount&quot;, example = &quot;9999.99&quot;, description = &quot;The amount of tnx&quot;, required = true)\r\n      public BigDecimal getAmount() {\r\n        return amount;\r\n      }\r\n    \r\n *when i gave above 50000 or below 0.01 its given the right validation message through post man*\r\n    \r\n    {\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;code&quot;: &quot;DecimalMax&quot;,\r\n                &quot;message&quot;: &quot;must be less than or equal to 49999.99&quot;,\r\n                &quot;field&quot;: &quot;Amount&quot;\r\n            }\r\n        ]\r\n    }\r\n    \r\n\r\n    {\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;code&quot;: &quot;DecimalMin&quot;,\r\n                &quot;message&quot;: &quot;must be greater than or equal to 0.01&quot;,\r\n                &quot;field&quot;: &quot;Amount&quot;\r\n            }\r\n        ]\r\n    }\r\n    \r\n    but i want override the code with some some number to represent the error code like 100,101 etc\r\n    \r\n    {\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;code&quot;: &quot;100&quot;,\r\n                &quot;message&quot;: &quot;must be less than or equal to 49999.99&quot;,\r\n                &quot;field&quot;: &quot;Amount&quot;\r\n            }\r\n        ]\r\n    }\r\n    \r\n    {\r\n        &quot;errors&quot;: [\r\n            {\r\n                &quot;code&quot;: &quot;101&quot;,\r\n                &quot;message&quot;: &quot;must be greater than or equal to 0.01&quot;,\r\n                &quot;field&quot;: &quot;Amount&quot;\r\n            }\r\n        ]\r\n    }\r\n    \r\n    can i specify any annotation on swagger to achieve this","title":"how to get custom error code through swagger annotation","body":"<pre><code>*`I have below schema definition to represent commission amount in my openapi contract.`*\n\n\n&quot;properties&quot;: {\n        &quot;Amount&quot;: {\n          &quot;type&quot;: &quot;number&quot;,\n          &quot;description&quot;: &quot;The amount of tnx&quot;,\n          &quot;pattern&quot; : &quot;^-?[0-9]*(\\\\.([0-9]{1,2}))?$&quot;,\n          &quot;format&quot;: &quot;big-decimal&quot;,\n          &quot;minimum&quot;: 0.01,\n          &quot;maximum&quot;: 49999.99,\n          &quot;exclusiveMinimum&quot;: false,\n          &quot;exclusiveMaximum&quot;: false,\n          &quot;example&quot; : &quot;9999.99&quot;\n        },\n</code></pre>\n<p><strong>generated code:</strong></p>\n<pre><code>@NotNull @Valid @DecimalMin(&quot;0.01&quot;) @DecimalMax(&quot;49999.99&quot;) \n  @Schema(name = &quot;amount&quot;, example = &quot;9999.99&quot;, description = &quot;The amount of tnx&quot;, required = true)\n  public BigDecimal getAmount() {\n    return amount;\n  }\n</code></pre>\n<p><em>when i gave above 50000 or below 0.01 its given the right validation message through post man</em></p>\n<pre><code>{\n    &quot;errors&quot;: [\n        {\n            &quot;code&quot;: &quot;DecimalMax&quot;,\n            &quot;message&quot;: &quot;must be less than or equal to 49999.99&quot;,\n            &quot;field&quot;: &quot;Amount&quot;\n        }\n    ]\n}\n\n\n{\n    &quot;errors&quot;: [\n        {\n            &quot;code&quot;: &quot;DecimalMin&quot;,\n            &quot;message&quot;: &quot;must be greater than or equal to 0.01&quot;,\n            &quot;field&quot;: &quot;Amount&quot;\n        }\n    ]\n}\n\nbut i want override the code with some some number to represent the error code like 100,101 etc\n\n{\n    &quot;errors&quot;: [\n        {\n            &quot;code&quot;: &quot;100&quot;,\n            &quot;message&quot;: &quot;must be less than or equal to 49999.99&quot;,\n            &quot;field&quot;: &quot;Amount&quot;\n        }\n    ]\n}\n\n{\n    &quot;errors&quot;: [\n        {\n            &quot;code&quot;: &quot;101&quot;,\n            &quot;message&quot;: &quot;must be greater than or equal to 0.01&quot;,\n            &quot;field&quot;: &quot;Amount&quot;\n        }\n    ]\n}\n\ncan i specify any annotation on swagger to achieve this\n</code></pre>\n"},{"tags":["java","lombok","downcast"],"comments":[{"owner":{"account_id":1771189,"reputation":32923,"user_id":1615903,"display_name":"1615903"},"score":0,"creation_date":1672223017,"post_id":74938823,"comment_id":132244640,"body_markdown":"Do you have lombok plugin for intellij idea installed and enabled?","body":"Do you have lombok plugin for intellij idea installed and enabled?"}],"answers":[{"tags":[],"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672222862,"creation_date":1672222862,"answer_id":74939007,"question_id":74938823,"body_markdown":"Try `((ExtraPhraseEntity) phraseEntity).setPhrequency(frequency);`","title":"Lombok&#39;s setter can&#39;t be called","body":"<p>Try <code>((ExtraPhraseEntity) phraseEntity).setPhrequency(frequency);</code></p>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74939007,"answer_count":1,"score":0,"last_activity_date":1673299532,"creation_date":1672221749,"question_id":74938823,"body_markdown":"    package com.example.marketing.semantics.entities;\r\n    \r\n    import com.example.marketing.general.entities.BaseEntity;\r\n    import com.example.marketing.general.interfaces.Phraseable;\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Table;\r\n    import jakarta.persistence.UniqueConstraint;\r\n    import jakarta.validation.constraints.NotEmpty;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import lombok.*;\r\n    \r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Table(name = &quot;extra_phrases&quot;,\r\n            uniqueConstraints = {@UniqueConstraint(name = &quot;unique_extra_phrase&quot;,\r\n                    columnNames = {&quot;phrase&quot;})})\r\n    public class ExtraPhraseEntity extends BaseEntity implements Phraseable {\r\n        @NotNull\r\n        @NotEmpty\r\n        @Column(nullable = false,\r\n                columnDefinition = &quot;varchar(1000) default &#39;&#39;&quot;)\r\n        private String phrase;\r\n    \r\n        @NotNull\r\n        @Column(nullable = false,\r\n                columnDefinition = &quot;INTEGER DEFAULT 0&quot;)\r\n        Integer frequency;\r\n    }\r\n\r\n\r\n\r\n\r\nHow I use it:\r\n\r\n    (ExtraPhraseEntity) phraseEntity.setPhrequency(frequency);\r\n\r\nResult: my IDE signals: **Cannot resolve method &#39;setPhrequency&#39; in &#39;Phraseable&#39;.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI cast type because if was Phraseable. So, I hoped that Lombok will help me with this setter method. But it doesn&#39;t.\r\n\r\nWhy does it not help me, and how can I cope with this problem?\r\n\r\n  [1]: https://i.stack.imgur.com/JFu8r.png","title":"Lombok&#39;s setter can&#39;t be called","body":"<pre><code>package com.example.marketing.semantics.entities;\n\nimport com.example.marketing.general.entities.BaseEntity;\nimport com.example.marketing.general.interfaces.Phraseable;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.UniqueConstraint;\nimport jakarta.validation.constraints.NotEmpty;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.*;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Table(name = &quot;extra_phrases&quot;,\n        uniqueConstraints = {@UniqueConstraint(name = &quot;unique_extra_phrase&quot;,\n                columnNames = {&quot;phrase&quot;})})\npublic class ExtraPhraseEntity extends BaseEntity implements Phraseable {\n    @NotNull\n    @NotEmpty\n    @Column(nullable = false,\n            columnDefinition = &quot;varchar(1000) default ''&quot;)\n    private String phrase;\n\n    @NotNull\n    @Column(nullable = false,\n            columnDefinition = &quot;INTEGER DEFAULT 0&quot;)\n    Integer frequency;\n}\n</code></pre>\n<p>How I use it:</p>\n<pre><code>(ExtraPhraseEntity) phraseEntity.setPhrequency(frequency);\n</code></pre>\n<p>Result: my IDE signals: <strong>Cannot resolve method 'setPhrequency' in 'Phraseable'.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/JFu8r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JFu8r.png\" alt=\"enter image description here\" /></a></p>\n<p>I cast type because if was Phraseable. So, I hoped that Lombok will help me with this setter method. But it doesn't.</p>\n<p>Why does it not help me, and how can I cope with this problem?</p>\n"},{"tags":["java","database","csv","dbf","dbase"],"owner":{"account_id":26326610,"reputation":23,"user_id":19987832,"display_name":"cellswithincells"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"closed_date":1672771955,"answer_count":0,"score":-5,"last_activity_date":1673299508,"creation_date":1672771702,"question_id":74997516,"body_markdown":"I am currently writing an android app that interfaces with database files and was considering a way to export data neatly without errors. Currently every library I can find has one issue or another when I try to use it: Dumping records with extra characters attached, corruption of files, no available documentation.\r\n\r\nI could always write the script myself but I think it would be much better to have a tested library to use.\r\n","title":"Using Java, what other libraries are avalible for easily converting CSV files to DBF (dBase/xBase)?","body":"<p>I am currently writing an android app that interfaces with database files and was considering a way to export data neatly without errors. Currently every library I can find has one issue or another when I try to use it: Dumping records with extra characters attached, corruption of files, no available documentation.</p>\n<p>I could always write the script myself but I think it would be much better to have a tested library to use.</p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1673371687,"post_id":75063078,"comment_id":132481980,"body_markdown":"Possible duplicate: [SQL Server Query Notifications in Java](https://stackoverflow.com/questions/23659038/sql-server-query-notifications-in-java)","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/23659038/sql-server-query-notifications-in-java\">SQL Server Query Notifications in Java</a>"}],"owner":{"account_id":1632689,"reputation":304,"user_id":1506934,"accept_rate":40,"display_name":"wlaem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673299474,"creation_date":1673299474,"question_id":75063078,"body_markdown":"Does anyone know of a way to listen to SQL Server change events via Java?  I found this link for SQL server query notifications, but it only seems to apply to .NET, and I need to do this in Java: https://learn.microsoft.com/en-us/dotnet/framework/data/adonet/sql/query-notifications-in-sql-server","title":"SQL Server DB event listener for java app","body":"<p>Does anyone know of a way to listen to SQL Server change events via Java?  I found this link for SQL server query notifications, but it only seems to apply to .NET, and I need to do this in Java: <a href=\"https://learn.microsoft.com/en-us/dotnet/framework/data/adonet/sql/query-notifications-in-sql-server\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/dotnet/framework/data/adonet/sql/query-notifications-in-sql-server</a></p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1673298078,"post_id":75062462,"comment_id":132463471,"body_markdown":"Try to permit access to `/error`. Then you should see the real error.","body":"Try to permit access to <code>&#47;error</code>. Then you should see the real error."}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673297182,"creation_date":1673295220,"question_id":75062462,"body_markdown":"I have a customer JWT filter and when I try to make a request to APIs that aren&#39;t excluded from security I&#39;m always getting 403 back. I&#39;m sure that the token I&#39;m sending is valid.\r\nI assume there is some conflict in configuration since it says that there are 2 mappings for /error\r\n\r\nLogs:\r\n\r\n```\r\n2023-01-09T22:07:00.844+02:00  INFO 18940 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-01-09T22:07:00.844+02:00  INFO 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-01-09T22:07:00.844+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@3928d789\r\n2023-01-09T22:07:00.844+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@59824ef6\r\n2023-01-09T22:07:00.844+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.theme.FixedThemeResolver@5c1b29d0\r\n2023-01-09T22:07:00.845+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected DefaultRequestToViewNameTranslator\r\n2023-01-09T22:07:00.845+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected SessionFlashMapManager\r\n2023-01-09T22:07:00.845+02:00 DEBUG 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n2023-01-09T22:07:00.845+02:00  INFO 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2023-01-09T22:07:00.855+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\r\n2023-01-09T22:07:00.858+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n2023-01-09T22:07:00.859+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\r\n2023-01-09T22:07:00.859+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n```\r\nConfig:\r\n``` java\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final JwtManager jwtManager;\r\n    private final CustomerCredentialsDao customerCredentialsDao;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .csrf().disable()\r\n            .authorizeHttpRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n            .authenticationProvider(authenticationProvider())\r\n            .addFilterBefore(new JwtAuthFilter(jwtManager, customerCredentialsDao), UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PUT&quot;, &quot;PATCH&quot;));\r\n        configuration.setAllowedHeaders(Arrays.asList(&quot;X-Requested-With&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web\r\n                .ignoring()\r\n                .requestMatchers(HttpMethod.POST, &quot;/api/v1/customer&quot;)\r\n                .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth&quot;)\r\n                .requestMatchers(HttpMethod.GET, &quot;/api/v1/customer/verify&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        final DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(userDetailsService());\r\n        authenticationProvider.setPasswordEncoder(encoder());\r\n        return authenticationProvider;\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        return email -&gt; (CustomerContext) customerCredentialsDao.findCredentialsAndIdByEmail(email);\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder encoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\nAnd I have `SecurityAutoConfiguration.class` excluded. \r\nAny idea whats going wrong here?","title":"Spring Security 2 matching mappings for /error","body":"<p>I have a customer JWT filter and when I try to make a request to APIs that aren't excluded from security I'm always getting 403 back. I'm sure that the token I'm sending is valid.\nI assume there is some conflict in configuration since it says that there are 2 mappings for /error</p>\n<p>Logs:</p>\n<pre><code>2023-01-09T22:07:00.844+02:00  INFO 18940 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-01-09T22:07:00.844+02:00  INFO 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-01-09T22:07:00.844+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.multipart.support.StandardServletMultipartResolver@3928d789\n2023-01-09T22:07:00.844+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver@59824ef6\n2023-01-09T22:07:00.844+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.theme.FixedThemeResolver@5c1b29d0\n2023-01-09T22:07:00.845+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected DefaultRequestToViewNameTranslator\n2023-01-09T22:07:00.845+02:00 TRACE 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected SessionFlashMapManager\n2023-01-09T22:07:00.845+02:00 DEBUG 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n2023-01-09T22:07:00.845+02:00  INFO 18940 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2023-01-09T22:07:00.855+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n2023-01-09T22:07:00.858+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n2023-01-09T22:07:00.859+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n2023-01-09T22:07:00.859+02:00 TRACE 18940 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n</code></pre>\n<p>Config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final JwtManager jwtManager;\n    private final CustomerCredentialsDao customerCredentialsDao;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .csrf().disable()\n            .authorizeHttpRequests()\n                .anyRequest().authenticated()\n                .and()\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n            .authenticationProvider(authenticationProvider())\n            .addFilterBefore(new JwtAuthFilter(jwtManager, customerCredentialsDao), UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;OPTIONS&quot;, &quot;DELETE&quot;, &quot;PUT&quot;, &quot;PATCH&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;X-Requested-With&quot;, &quot;Origin&quot;, &quot;Content-Type&quot;, &quot;Accept&quot;, &quot;Authorization&quot;));\n        configuration.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web\n                .ignoring()\n                .requestMatchers(HttpMethod.POST, &quot;/api/v1/customer&quot;)\n                .requestMatchers(HttpMethod.POST, &quot;/api/v1/auth&quot;)\n                .requestMatchers(HttpMethod.GET, &quot;/api/v1/customer/verify&quot;);\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        final DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService());\n        authenticationProvider.setPasswordEncoder(encoder());\n        return authenticationProvider;\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        return email -&gt; (CustomerContext) customerCredentialsDao.findCredentialsAndIdByEmail(email);\n    }\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>And I have <code>SecurityAutoConfiguration.class</code> excluded.\nAny idea whats going wrong here?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1673205945,"post_id":75050649,"comment_id":132441124,"body_markdown":"What do you mean, impossible?  What happens when you try?  Is there some kind of error?  (Although I have a different version of IntelliJ from you, I&#39;ve never had any trouble getting this to work).","body":"What do you mean, impossible?  What happens when you try?  Is there some kind of error?  (Although I have a different version of IntelliJ from you, I&#39;ve never had any trouble getting this to work)."},{"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"score":0,"creation_date":1673206167,"post_id":75050649,"comment_id":132441161,"body_markdown":"com.codindf:morpion:jar:1.1 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced\n\nTry to run Maven import with -U flag (force update snapshots)","body":"com.codindf:morpion:jar:1.1 was not found in <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a> during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced  Try to run Maven import with -U flag (force update snapshots)"},{"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"score":0,"creation_date":1673206258,"post_id":75050649,"comment_id":132441176,"body_markdown":"Apparently ItelliJ tell maven to search dependency on maven central, BUT this dependency is on my own repo on [user]/.m2 standrad directory directory","body":"Apparently ItelliJ tell maven to search dependency on maven central, BUT this dependency is on my own repo on [user]/.m2 standrad directory directory"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673206502,"post_id":75050649,"comment_id":132441201,"body_markdown":"Have you got your local repository listed in the Maven settings?  (File | Settings | Build,Execution,Deployment | Build Tools | Maven | Repositories)?  And is it listed above or below Maven Central?","body":"Have you got your local repository listed in the Maven settings?  (File | Settings | Build,Execution,Deployment | Build Tools | Maven | Repositories)?  And is it listed above or below Maven Central?"},{"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"score":0,"creation_date":1673209725,"post_id":75050649,"comment_id":132441782,"body_markdown":"yes like you can watch below on screenshot","body":"yes like you can watch below on screenshot"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673215315,"post_id":75050649,"comment_id":132442783,"body_markdown":"OK, did you try swapping the entries on the Repositories page over, so that IntelliJ checks the local repository first?","body":"OK, did you try swapping the entries on the Repositories page over, so that IntelliJ checks the local repository first?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673249754,"post_id":75050649,"comment_id":132447284,"body_markdown":"The given dependency simply does not exist in central repository. So your build can&#39;t be successful.  And what does `This file is present on my .m2 directory and have a good structure` mean?","body":"The given dependency simply does not exist in central repository. So your build can&#39;t be successful.  And what does <code>This file is present on my .m2 directory and have a good structure</code> mean?"},{"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"score":0,"creation_date":1673250860,"post_id":75050649,"comment_id":132447545,"body_markdown":"By default, normal maven process is to check **local repository first** to avoid network tranfert, and then if resources is not found find it to central maven\nYou can see the address of local repository on screen below\nnot all dependencies reside on central maven, dude ;-)","body":"By default, normal maven process is to check <b>local repository first</b> to avoid network tranfert, and then if resources is not found find it to central maven You can see the address of local repository on screen below not all dependencies reside on central maven, dude ;-)"},{"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"score":0,"creation_date":1673250904,"post_id":75050649,"comment_id":132447558,"body_markdown":"Any other questions ?...","body":"Any other questions ?..."}],"answers":[{"tags":[],"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673296914,"creation_date":1673296914,"answer_id":75062705,"question_id":75050649,"body_markdown":"I aplogize to all pepole try to answer to my post.\r\nI made a mistake in the name of groupId\r\nI wrote : \r\n  \r\n    &lt;groupId&gt;com.codindf&lt;/groupId&gt;\r\n\r\nbut the real name is :\r\n  \r\n\r\n    &lt;groupId&gt;com.codingf&lt;/groupId&gt;\r\n\r\nSorry to All !\r\n","title":"Impossible to import local dependency in IntelliJ Idea","body":"<p>I aplogize to all pepole try to answer to my post.\nI made a mistake in the name of groupId\nI wrote :</p>\n<pre><code>&lt;groupId&gt;com.codindf&lt;/groupId&gt;\n</code></pre>\n<p>but the real name is :</p>\n<pre><code>&lt;groupId&gt;com.codingf&lt;/groupId&gt;\n</code></pre>\n<p>Sorry to All !</p>\n"}],"owner":{"account_id":15662588,"reputation":102,"user_id":11301191,"display_name":"Rick"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673296914,"creation_date":1673205825,"question_id":75050649,"body_markdown":"Example :\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;com.codindf&lt;/groupId&gt;\r\n          &lt;artifactId&gt;morpion&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1&lt;/version&gt;\r\n          &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis file is present on my .m2 directory and have a good structure\r\n\r\nHave you a solution ? for this really basic problem ...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bxzyl.png\r\n\r\n\r\nThis is my parameters\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n------\r\n------\r\n------\r\n[![enter image description here][4]][4]\r\n\r\n_______\r\n\r\n\r\n  [3]: https://i.stack.imgur.com/mQPR8.png\r\n  [4]: https://i.stack.imgur.com/72fAb.png","title":"Impossible to import local dependency in IntelliJ Idea","body":"<p>Example :</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.codindf&lt;/groupId&gt;\n      &lt;artifactId&gt;morpion&lt;/artifactId&gt;\n      &lt;version&gt;1.1&lt;/version&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This file is present on my .m2 directory and have a good structure</p>\n<p>Have you a solution ? for this really basic problem ...</p>\n<p><a href=\"https://i.stack.imgur.com/bxzyl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bxzyl.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my parameters</p>\n<p><a href=\"https://i.stack.imgur.com/mQPR8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mQPR8.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<hr />\n<hr />\n<p><a href=\"https://i.stack.imgur.com/72fAb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/72fAb.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1673289483,"post_id":75061586,"comment_id":132461129,"body_markdown":"Can you extract an interface and have both classes implement the interface? Then you only need to call `getAllMyObjects` once (because the interface defines it).","body":"Can you extract an interface and have both classes implement the interface? Then you only need to call <code>getAllMyObjects</code> once (because the interface defines it)."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673296290,"creation_date":1673290242,"answer_id":75061738,"question_id":75061586,"body_markdown":"The general solution for this kind of problem is _interfaces_: define a common interface to be implemented by both classes:\r\n\r\n```\r\ninterface MyObjectsProvider {\r\n  Collection&lt;MyObjects&gt; getAllMyObjects();\r\n}\r\n\r\nclass Class1 implements MyObjectsProvider {\r\n  @Override\r\n  public Collection&lt;MyObjects&gt; getAllMyObjects() {\r\n    return ...\r\n  }\r\n}\r\n\r\nclass Class2 implements MyObjectsProvider {\r\n  @Override\r\n  public Collection&lt;MyObjects&gt; getAllMyObjects() {\r\n    return ...\r\n  }\r\n}\r\n```\r\n\r\nUsage could be as simple as:\r\n\r\n```\r\nMyObjectsProvider variable = anotherVar;\r\nlist.addAll(variable.getAllMyObjects());\r\n```\r\n\r\nor if the type is unknown and cannot be constrained to the interface:\r\n\r\n```\r\nvar variable = anotherVar;\r\nif (variable instanceof MyObjectsProvider) {\r\n     list.addAll(((MyObjectsProvider) variable).getAllMyObjects);\r\n}\r\n```","title":"Casting variable into instance of one of two classes","body":"<p>The general solution for this kind of problem is <em>interfaces</em>: define a common interface to be implemented by both classes:</p>\n<pre><code>interface MyObjectsProvider {\n  Collection&lt;MyObjects&gt; getAllMyObjects();\n}\n\nclass Class1 implements MyObjectsProvider {\n  @Override\n  public Collection&lt;MyObjects&gt; getAllMyObjects() {\n    return ...\n  }\n}\n\nclass Class2 implements MyObjectsProvider {\n  @Override\n  public Collection&lt;MyObjects&gt; getAllMyObjects() {\n    return ...\n  }\n}\n</code></pre>\n<p>Usage could be as simple as:</p>\n<pre><code>MyObjectsProvider variable = anotherVar;\nlist.addAll(variable.getAllMyObjects());\n</code></pre>\n<p>or if the type is unknown and cannot be constrained to the interface:</p>\n<pre><code>var variable = anotherVar;\nif (variable instanceof MyObjectsProvider) {\n     list.addAll(((MyObjectsProvider) variable).getAllMyObjects);\n}\n</code></pre>\n"}],"owner":{"account_id":17392377,"reputation":43,"user_id":12602653,"display_name":"Imker Warze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673296290,"creation_date":1673289239,"question_id":75061586,"body_markdown":"I am trying to cast a variable into one of two classes, so that I can use a method.\r\nWhat I am doing right now is:\r\n\r\n    var list = new ArrayList&lt;MyObjects&gt;();\r\n    var variable = anotherVar;\r\n    if (variable instanceof Class1) {\r\n         list.addAll(((Class1) variable).getAllMyObjects);\r\n    else {\r\n         list.addAll(((Class2) variable).getAllMyObjects);\r\n    }\r\nSo I know exactly that variable can only be an instance of these two Classes. Is there anything possible to make that code more readible? I was thinking of something like:\r\n\r\n    variable = (Class1 | Class2) anotherVar; // would make it alot more readible\r\n\r\nAny Ideas?\r\n\r\n","title":"Casting variable into instance of one of two classes","body":"<p>I am trying to cast a variable into one of two classes, so that I can use a method.\nWhat I am doing right now is:</p>\n<pre><code>var list = new ArrayList&lt;MyObjects&gt;();\nvar variable = anotherVar;\nif (variable instanceof Class1) {\n     list.addAll(((Class1) variable).getAllMyObjects);\nelse {\n     list.addAll(((Class2) variable).getAllMyObjects);\n}\n</code></pre>\n<p>So I know exactly that variable can only be an instance of these two Classes. Is there anything possible to make that code more readible? I was thinking of something like:</p>\n<pre><code>variable = (Class1 | Class2) anotherVar; // would make it alot more readible\n</code></pre>\n<p>Any Ideas?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1622794282,"post_id":67833238,"comment_id":119898743,"body_markdown":"You can let the user choose that directory using ACTION_OPEN_DOCUMENT_TREE. Further you posted much too much code for picking a directory.","body":"You can let the user choose that directory using ACTION_OPEN_DOCUMENT_TREE. Further you posted much too much code for picking a directory."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1622794372,"post_id":67833238,"comment_id":119898775,"body_markdown":"Further on Android 11 you can just list the files in that directory using File.listFiles(). Well if the fikes belong to your app.","body":"Further on Android 11 you can just list the files in that directory using File.listFiles(). Well if the fikes belong to your app."},{"owner":{"account_id":19489289,"reputation":33,"user_id":15401243,"display_name":"Phạm Cảnh"},"score":0,"creation_date":1622799263,"post_id":67833238,"comment_id":119900725,"body_markdown":"@blackapps I want when the user presses the application button to automatically open the specified folder. Is this reasonable? Thank you","body":"@blackapps I want when the user presses the application button to automatically open the specified folder. Is this reasonable? Thank you"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1622800989,"post_id":67833238,"comment_id":119901420,"body_markdown":"What is an application button?","body":"What is an application button?"},{"owner":{"account_id":19489289,"reputation":33,"user_id":15401243,"display_name":"Phạm Cảnh"},"score":0,"creation_date":1622801316,"post_id":67833238,"comment_id":119901545,"body_markdown":"@blackapps oh sorry,I mean a button in my app","body":"@blackapps oh sorry,I mean a button in my app"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1622801438,"post_id":67833238,"comment_id":119901589,"body_markdown":"What about it?? Please describe what you want to the point. I think your button is irrelevant.","body":"What about it?? Please describe what you want to the point. I think your button is irrelevant."},{"owner":{"account_id":19489289,"reputation":33,"user_id":15401243,"display_name":"Phạm Cảnh"},"score":0,"creation_date":1622801723,"post_id":67833238,"comment_id":119901688,"body_markdown":"@blackapps My point can be summed up like this: in my application I press an &quot;open&quot; button which will immediately open a folder that I have already selected(/storage/emulated/0/Document/myapp).","body":"@blackapps My point can be summed up like this: in my application I press an &quot;open&quot; button which will immediately open a folder that I have already selected(/storage/emulated/0/Document/myapp)."},{"owner":{"account_id":19489289,"reputation":33,"user_id":15401243,"display_name":"Phạm Cảnh"},"score":0,"creation_date":1622801874,"post_id":67833238,"comment_id":119901749,"body_markdown":"and i also want to know how to create a folder of me in /storage/emulated/0/myapp. it seems in android 11 this is forbidden right?","body":"and i also want to know how to create a folder of me in /storage/emulated/0/myapp. it seems in android 11 this is forbidden right?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1622801910,"post_id":67833238,"comment_id":119901761,"body_markdown":"Pretty unclear as what would you use trying to open in general? Do you want the user to select a folder?","body":"Pretty unclear as what would you use trying to open in general? Do you want the user to select a folder?"},{"owner":{"account_id":19489289,"reputation":33,"user_id":15401243,"display_name":"Phạm Cảnh"},"score":0,"creation_date":1622802077,"post_id":67833238,"comment_id":119901824,"body_markdown":"No .I mean it&#39;s automatic. Sorry for my english","body":"No .I mean it&#39;s automatic. Sorry for my english"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1622802432,"post_id":67833238,"comment_id":119901970,"body_markdown":"Then i have no idea what you mean with &#39;open a folder&#39;. Would there be anything the user would see? Or what should happen?","body":"Then i have no idea what you mean with &#39;open a folder&#39;. Would there be anything the user would see? Or what should happen?"},{"owner":{"account_id":19489289,"reputation":33,"user_id":15401243,"display_name":"Phạm Cảnh"},"score":1,"creation_date":1622802663,"post_id":67833238,"comment_id":119902072,"body_markdown":"@blackapps it contains image (screenshoot from my app). the user will view it","body":"@blackapps it contains image (screenshoot from my app). the user will view it"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1622803388,"post_id":67833238,"comment_id":119902332,"body_markdown":"What is there suddenly that the user can see your images? How would that be possible? Please come to the point.","body":"What is there suddenly that the user can see your images? How would that be possible? Please come to the point."},{"owner":{"account_id":19489289,"reputation":33,"user_id":15401243,"display_name":"Phạm Cảnh"},"score":0,"creation_date":1622808317,"post_id":67833238,"comment_id":119904209,"body_markdown":"For example, my application will take a screenshot and save the image if it detects a face in the image after users will access those images in a specified folder with the click of a button from the app. I don&#39;t know if such approach makes sense or is there any other way to do this? Thank you","body":"For example, my application will take a screenshot and save the image if it detects a face in the image after users will access those images in a specified folder with the click of a button from the app. I don&#39;t know if such approach makes sense or is there any other way to do this? Thank you"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1622822007,"post_id":67833238,"comment_id":119910581,"body_markdown":"Yes that makes sense. But nothing for nothing. What do you wanna use?","body":"Yes that makes sense. But nothing for nothing. What do you wanna use?"},{"owner":{"account_id":19489289,"reputation":33,"user_id":15401243,"display_name":"Phạm Cảnh"},"score":0,"creation_date":1622881437,"post_id":67833238,"comment_id":119922753,"body_markdown":"@blackapps I don&#39;t understand what you mean. can this be done?","body":"@blackapps I don&#39;t understand what you mean. can this be done?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1622881576,"post_id":67833238,"comment_id":119922781,"body_markdown":"I do not exactly understand what you want. So that is why i&#39;m asking and asking... But you do not come to the point is my impression. Sorry.","body":"I do not exactly understand what you want. So that is why i&#39;m asking and asking... But you do not come to the point is my impression. Sorry."},{"owner":{"account_id":19489289,"reputation":33,"user_id":15401243,"display_name":"Phạm Cảnh"},"score":0,"creation_date":1622882041,"post_id":67833238,"comment_id":119922875,"body_markdown":"oh sorry @blackapps ,maybe I should be fine with the current implementation.","body":"oh sorry @blackapps ,maybe I should be fine with the current implementation."}],"answers":[{"tags":[],"owner":{"account_id":22622433,"reputation":115,"user_id":16800976,"display_name":"J. M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643513982,"creation_date":1643513982,"answer_id":70911627,"question_id":67833238,"body_markdown":"Did you put in a  intent where Your_Request_Code is, like 42? Thats what others seem to be using\r\nThis also needs to be on Activity Result \r\n    \r\n    if (_requestCode == 42 &amp;&amp; _resultCode ==\r\n    Activity.RESULT_OK) {\r\n    Uri uri = null;\r\n    if (_data != null) {\r\n    uri = _data.getData();\r\n    ur = uri.toString();\r\n    }\r\n    }","title":"Can&#39;t open specified folder android R","body":"<p>Did you put in a  intent where Your_Request_Code is, like 42? Thats what others seem to be using\nThis also needs to be on Activity Result</p>\n<pre><code>if (_requestCode == 42 &amp;&amp; _resultCode ==\nActivity.RESULT_OK) {\nUri uri = null;\nif (_data != null) {\nuri = _data.getData();\nur = uri.toString();\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8966356,"reputation":11,"user_id":6686815,"display_name":"Reza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673295442,"creation_date":1673295442,"answer_id":75062494,"question_id":67833238,"body_markdown":"EXTRA_INITIAL_URI should specify a document URI or a tree URI with document ID.\r\n\r\nExample: \r\n\r\n```\r\n// Directories : Pictures , Music , Movies\r\n\r\nval documentUri= Uri.parse(&quot;content://com.android.externalstorage.documents/document/primary%3APictures%2FmyApp%2F&quot;)\r\n\r\n```\r\n\r\n```\r\nval intent = Intent(Intent.ACTION_OPEN_DOCUMENT)\r\n        intent.type = &quot;*/*&quot;\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE)\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            intent.putExtra(\r\n                DocumentsContract.EXTRA_INITIAL_URI,\r\n                documentUri\r\n            )\r\n        }\r\n\r\nstartActivityForResult(intent, YOUR_REQUEST_CODE)\r\n```\r\n\r\n","title":"Can&#39;t open specified folder android R","body":"<p>EXTRA_INITIAL_URI should specify a document URI or a tree URI with document ID.</p>\n<p>Example:</p>\n<pre><code>// Directories : Pictures , Music , Movies\n\nval documentUri= Uri.parse(&quot;content://com.android.externalstorage.documents/document/primary%3APictures%2FmyApp%2F&quot;)\n\n</code></pre>\n<pre><code>val intent = Intent(Intent.ACTION_OPEN_DOCUMENT)\n        intent.type = &quot;*/*&quot;\n        intent.addCategory(Intent.CATEGORY_OPENABLE)\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            intent.putExtra(\n                DocumentsContract.EXTRA_INITIAL_URI,\n                documentUri\n            )\n        }\n\nstartActivityForResult(intent, YOUR_REQUEST_CODE)\n</code></pre>\n"}],"owner":{"account_id":19489289,"reputation":33,"user_id":15401243,"display_name":"Phạm Cảnh"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673295442,"creation_date":1622792262,"question_id":67833238,"body_markdown":"Hi everyone i know in android R i cant open folder in /storage/emulated/0/Android/data/ section so i created a folder in /storage/emulated/0/Document/myapp to save images from my app (screenshot) however i tried the following ways still can&#39;t open this folder:\r\n```\r\nfun openDirectory() {\r\n        val dir: File\r\n        // Choose a directory using the system&#39;s file picker.\r\n        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE).apply {\r\n            if (Build.VERSION_CODES.R &gt; SDK_INT) {\r\n                dir = File(\r\n                    Environment.getExternalStorageDirectory().path\r\n                            + &quot;//CHAN&quot;\r\n                )\r\n            } else {\r\n                dir = File(\r\n                    Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)\r\n                        .path\r\n                            + &quot;//CHAN&quot;\r\n                )\r\n            }\r\n            val pickerInitialUri = Uri.parse(dir.toString())\r\n            putExtra(DocumentsContract.EXTRA_INITIAL_URI, pickerInitialUri)\r\n        }\r\n\r\n        startActivityForResult(intent, YOUR_REQUEST_CODE)\r\n    }\r\n\r\n```\r\n    fun openFile() {\r\n            val dir: File\r\n            val intent = Intent(Intent.ACTION_OPEN_DOCUMENT).apply {\r\n                addCategory(Intent.CATEGORY_OPENABLE)\r\n                type = &quot;file/*&quot;\r\n    \r\n                if (Build.VERSION_CODES.R &gt; SDK_INT) {\r\n                    dir = File(\r\n                        Environment.getExternalStorageDirectory().path\r\n                                + &quot;//CHAN&quot;\r\n                    )\r\n                } else {\r\n                    dir = File(\r\n                        Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)\r\n                            .path\r\n                                + &quot;//CHAN&quot;\r\n                    )\r\n                }\r\n                val pickerInitialUri = Uri.parse(dir.toString())\r\n                putExtra(DocumentsContract.EXTRA_INITIAL_URI, pickerInitialUri)\r\n            }\r\n    \r\n            startActivityForResult(intent, YOUR_REQUEST_CODE)\r\n        }\r\n```\r\nopen fun openFolder(): Unit {\r\n    val location : String  = &quot;/storage/emulated/0/Documents/CHAN/&quot;\r\n    val intent = Intent(Intent.ACTION_VIEW)\r\n    val mydir = Uri.parse(&quot;$location&quot;)\r\n    intent.setDataAndType(mydir, &quot;application/*&quot;) // or use */*\r\n    intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n    startActivity(intent)\r\n}\r\n```\r\nI create folder with code:\r\n```\r\n        final File dir;\r\n        if (Build.VERSION_CODES.R &gt; Build.VERSION.SDK_INT) {\r\n            dir = new File(Environment.getExternalStorageDirectory().getPath()\r\n                    + &quot;//CHAN&quot;);\r\n        } else {\r\n            dir = new File(Environment.getExternalStoragePublicDirectory(DIRECTORY_DOCUMENTS).getPath()\r\n                    + &quot;//CHAN&quot;);\r\n        }\r\n```\r\nMy app :`minSdkVersion 29`,`targetSdkVersion 30`\r\nI have a permission WRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE However i can&#39;t permission MANAGE_EXTERNAL_STORAGE\r\nIs there any way to open a folder automatically? Or Is there a better way to save and view these photos? Thank you.\r\n","title":"Can&#39;t open specified folder android R","body":"<p>Hi everyone i know in android R i cant open folder in /storage/emulated/0/Android/data/ section so i created a folder in /storage/emulated/0/Document/myapp to save images from my app (screenshot) however i tried the following ways still can't open this folder:</p>\n<pre><code>fun openDirectory() {\n        val dir: File\n        // Choose a directory using the system's file picker.\n        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT_TREE).apply {\n            if (Build.VERSION_CODES.R &gt; SDK_INT) {\n                dir = File(\n                    Environment.getExternalStorageDirectory().path\n                            + &quot;//CHAN&quot;\n                )\n            } else {\n                dir = File(\n                    Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)\n                        .path\n                            + &quot;//CHAN&quot;\n                )\n            }\n            val pickerInitialUri = Uri.parse(dir.toString())\n            putExtra(DocumentsContract.EXTRA_INITIAL_URI, pickerInitialUri)\n        }\n\n        startActivityForResult(intent, YOUR_REQUEST_CODE)\n    }\n\n</code></pre>\n<pre><code>fun openFile() {\n        val dir: File\n        val intent = Intent(Intent.ACTION_OPEN_DOCUMENT).apply {\n            addCategory(Intent.CATEGORY_OPENABLE)\n            type = &quot;file/*&quot;\n\n            if (Build.VERSION_CODES.R &gt; SDK_INT) {\n                dir = File(\n                    Environment.getExternalStorageDirectory().path\n                            + &quot;//CHAN&quot;\n                )\n            } else {\n                dir = File(\n                    Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS)\n                        .path\n                            + &quot;//CHAN&quot;\n                )\n            }\n            val pickerInitialUri = Uri.parse(dir.toString())\n            putExtra(DocumentsContract.EXTRA_INITIAL_URI, pickerInitialUri)\n        }\n\n        startActivityForResult(intent, YOUR_REQUEST_CODE)\n    }\n</code></pre>\n<pre><code>open fun openFolder(): Unit {\n    val location : String  = &quot;/storage/emulated/0/Documents/CHAN/&quot;\n    val intent = Intent(Intent.ACTION_VIEW)\n    val mydir = Uri.parse(&quot;$location&quot;)\n    intent.setDataAndType(mydir, &quot;application/*&quot;) // or use */*\n    intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    startActivity(intent)\n}\n</code></pre>\n<p>I create folder with code:</p>\n<pre><code>        final File dir;\n        if (Build.VERSION_CODES.R &gt; Build.VERSION.SDK_INT) {\n            dir = new File(Environment.getExternalStorageDirectory().getPath()\n                    + &quot;//CHAN&quot;);\n        } else {\n            dir = new File(Environment.getExternalStoragePublicDirectory(DIRECTORY_DOCUMENTS).getPath()\n                    + &quot;//CHAN&quot;);\n        }\n</code></pre>\n<p>My app :<code>minSdkVersion 29</code>,<code>targetSdkVersion 30</code>\nI have a permission WRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE However i can't permission MANAGE_EXTERNAL_STORAGE\nIs there any way to open a folder automatically? Or Is there a better way to save and view these photos? Thank you.</p>\n"},{"tags":["java","artifactory","artifactory-query-lang"],"comments":[{"owner":{"account_id":17138155,"reputation":266,"user_id":12402748,"display_name":"shaibz"},"score":0,"creation_date":1673338075,"post_id":75062463,"comment_id":132470327,"body_markdown":"It&#39;s logged already from Artifactory side in the artifactory-request.log, isn&#39;t it enough?","body":"It&#39;s logged already from Artifactory side in the artifactory-request.log, isn&#39;t it enough?"}],"owner":{"account_id":16919460,"reputation":59,"user_id":13629810,"display_name":"fedos 3d"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673295225,"creation_date":1673295225,"question_id":75062463,"body_markdown":"I need to log http response from Artifactory, I am using this https://github.com/jfrog/artifactory-client-java There is info on how to intercept and log requests, but no info on how to intercept/log responses. How can I achieve this?","title":"How to intercept http response in Artifactory java client?","body":"<p>I need to log http response from Artifactory, I am using this <a href=\"https://github.com/jfrog/artifactory-client-java\" rel=\"nofollow noreferrer\">https://github.com/jfrog/artifactory-client-java</a> There is info on how to intercept and log requests, but no info on how to intercept/log responses. How can I achieve this?</p>\n"},{"tags":["java","spring","spring-boot","jpa","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673294481,"creation_date":1673294481,"answer_id":75062355,"question_id":75048429,"body_markdown":"The `batch` option is only for producer (eg to). \r\nhttps://camel.apache.org/components/3.20.x/sql-component.html\r\n\r\nInstead take a look at `outputType=StreamList` where you can combine this with split EIP (in streaming mode) to process the rows without loading all into memory.\r\n\r\nThis also mean you process 1 row at a time\r\n\r\n    from sql\r\n      split\r\n        process (1 row here)\r\n","title":"Apache Camel SQL component select all records in a batch mode","body":"<p>The <code>batch</code> option is only for producer (eg to).\n<a href=\"https://camel.apache.org/components/3.20.x/sql-component.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/components/3.20.x/sql-component.html</a></p>\n<p>Instead take a look at <code>outputType=StreamList</code> where you can combine this with split EIP (in streaming mode) to process the rows without loading all into memory.</p>\n<p>This also mean you process 1 row at a time</p>\n<pre><code>from sql\n  split\n    process (1 row here)\n</code></pre>\n"}],"owner":{"account_id":7607529,"reputation":521,"user_id":5769672,"accept_rate":57,"display_name":"Shay Zambrovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673294481,"creation_date":1673187218,"question_id":75048429,"body_markdown":"I&#39;m using apache camel as an ETL from (`select *...`) PostgreSQL to (`insert...`) MariaDB .\r\n\r\nIn the PostgreSQL there are a lot of records (more then 1M) and I want to do it in a batch way.\r\n\r\nI&#39;ve tried with several flag (`batchCount`, `batchSize`) but non of them worked.\r\n\r\nI&#39;ve also search in Apache Camel docs, without any success.\r\n\r\n    from(&quot;sql:SELECT * FROM my_schema.trees?dataSource=#postgersqlDataSource&amp;batch=true&quot;)\r\n                .convertBodyTo(String.class)\r\n                .process(ex -&gt; {\r\n                    log.info(&quot;batch insert for single table&quot;);\r\n                    List&lt;Map&lt;String, Object&gt;&gt; rows = ex.getIn().getBody(List.class);\r\n                    log.info(String.format(&quot;Value: %s&quot;, rows.size()));\r\n                })\r\n                .to(&quot;stream:out&quot;);\r\n\r\nBut the program crashed because it load everything to the memory (with 1 records it worked of course).\r\n\r\nAny advise? \r\n\r\nit runs overs `Spring boot`.","title":"Apache Camel SQL component select all records in a batch mode","body":"<p>I'm using apache camel as an ETL from (<code>select *...</code>) PostgreSQL to (<code>insert...</code>) MariaDB .</p>\n<p>In the PostgreSQL there are a lot of records (more then 1M) and I want to do it in a batch way.</p>\n<p>I've tried with several flag (<code>batchCount</code>, <code>batchSize</code>) but non of them worked.</p>\n<p>I've also search in Apache Camel docs, without any success.</p>\n<pre><code>from(&quot;sql:SELECT * FROM my_schema.trees?dataSource=#postgersqlDataSource&amp;batch=true&quot;)\n            .convertBodyTo(String.class)\n            .process(ex -&gt; {\n                log.info(&quot;batch insert for single table&quot;);\n                List&lt;Map&lt;String, Object&gt;&gt; rows = ex.getIn().getBody(List.class);\n                log.info(String.format(&quot;Value: %s&quot;, rows.size()));\n            })\n            .to(&quot;stream:out&quot;);\n</code></pre>\n<p>But the program crashed because it load everything to the memory (with 1 records it worked of course).</p>\n<p>Any advise?</p>\n<p>it runs overs <code>Spring boot</code>.</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":24908380,"reputation":3091,"user_id":18778181,"display_name":"rabbitbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673293947,"creation_date":1673109148,"answer_id":75041974,"question_id":75040319,"body_markdown":"I created a new code java.\r\n\r\n  \r\n\r\n     var map = new HashMap&lt;String, String&gt;() {{\r\n          put(&quot;descr.canonicalForm&quot;, &quot;tut&quot;);\r\n          put(&quot;descr.grammar&quot;, &quot;verb&quot;);\r\n          put(&quot;descr.meaning&quot;, &quot;&quot;);\r\n        }};\r\n    \r\n        var queries = new ArrayList&lt;Query&gt;();\r\n    \r\n        map.forEach((field, entry) -&gt; {\r\n          if (StringUtils.isNotEmpty(entry)) {\r\n            queries.add(MatchQuery.of(m -&gt; m.field(field).query(entry))._toQuery());\r\n          }\r\n        });\r\n    \r\n        var boolQuery = BoolQuery.of(bq -&gt; bq.must(queries));\r\n    \r\n        SearchRequest sr = SearchRequest.of(s -&gt; s\r\n            .index(&quot;morphemes&quot;)\r\n            .query(q -&gt; q.bool(boolQuery)\r\n            )\r\n        );\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html","title":"How to build a query with variable number of match() clauses using the ElasticSearch Java API","body":"<p>I created a new code java.</p>\n<pre><code> var map = new HashMap&lt;String, String&gt;() {{\n      put(&quot;descr.canonicalForm&quot;, &quot;tut&quot;);\n      put(&quot;descr.grammar&quot;, &quot;verb&quot;);\n      put(&quot;descr.meaning&quot;, &quot;&quot;);\n    }};\n\n    var queries = new ArrayList&lt;Query&gt;();\n\n    map.forEach((field, entry) -&gt; {\n      if (StringUtils.isNotEmpty(entry)) {\n        queries.add(MatchQuery.of(m -&gt; m.field(field).query(entry))._toQuery());\n      }\n    });\n\n    var boolQuery = BoolQuery.of(bq -&gt; bq.must(queries));\n\n    SearchRequest sr = SearchRequest.of(s -&gt; s\n        .index(&quot;morphemes&quot;)\n        .query(q -&gt; q.bool(boolQuery)\n        )\n    );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1476933,"reputation":529,"user_id":1387115,"display_name":"Alain D&#233;silets"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673271501,"creation_date":1673271501,"answer_id":75058095,"question_id":75040319,"body_markdown":"I found a solution, but it&#39;s awkward as hell. If someone has a more fluent solution to suggest, please let me know.\r\n\r\nThe solution I came up with is to:\r\n- Create the query as a JSONObject\r\n- Transform that JSONObject to an InputStream\r\n- Feed that InputStream to .query(q -&gt; q.withJson()) method\r\n\r\nHere is an example below:\r\n\r\n```\r\n\t\t// Say we have these input field values\r\n\t\tString canonicalForm = &quot;tut&quot;;\r\n\t\tString grammar = &quot;verb&quot;;\r\n\t\tString meaning = null; // This means we don&#39;t want to query on field &#39;meaning&#39;\r\n\r\n\t\t// Build a JSONArray that will contain the &quot;match&quot; criteria for the non-null\r\n\t\t// input field values\r\n\t\t//\r\n\t\tJSONArray mustArr = new JSONArray();\r\n\t\tif (canonicalForm != null) {\r\n\t\t\tmustArr.put(new JSONObject()\r\n\t\t\t\t.put(&quot;match&quot;, new JSONObject()\r\n\t\t\t\t\t.put(&quot;descr.canonicalForm&quot;, new JSONObject()\r\n\t\t\t\t\t\t.put(&quot;query&quot;, canonicalForm)\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (grammar != null) {\r\n\t\t\tmustArr.put(new JSONObject()\r\n\t\t\t\t.put(&quot;match&quot;, new JSONObject()\r\n\t\t\t\t\t.put(&quot;descr.grammar&quot;, new JSONObject()\r\n\t\t\t\t\t\t.put(&quot;query&quot;, grammar)\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (meaning != null) {\r\n\t\t\tmustArr.put(new JSONObject()\r\n\t\t\t\t.put(&quot;match&quot;, new JSONObject()\r\n\t\t\t\t\t.put(&quot;descr.meaning&quot;, new JSONObject()\r\n\t\t\t\t\t\t.put(&quot;query&quot;, meaning)\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\t// Build a &quot;bool&quot; query object, feeding it the &quot;must&quot; array.\r\n\t\tJSONObject queryJObj = new JSONObject()\r\n\t\t\t.put(&quot;bool&quot;, new JSONObject()\r\n\t\t\t\t.put(&quot;must&quot;, mustArr)\r\n\t\t\t)\r\n\t\t;\r\n\r\n\t\t// Convert the &quot;query&quot; object to an InputStream\r\n\t\tString queryJsonStr = queryJObj.toString();\r\n\t\tInputStream queryIS = new ByteArrayInputStream(queryJsonStr.getBytes(StandardCharsets.UTF_8));\r\n\r\n\t\tSearchRequest sr = SearchRequest.of(s -&gt; s\r\n\t\t\t.index(&quot;morphemes&quot;)\r\n\t\t\t.query(q -&gt; q\r\n\t\t\t\t\t.withJson(queryIS)\r\n\t\t\t)\r\n\t\t);\r\n\r\n```\r\n","title":"How to build a query with variable number of match() clauses using the ElasticSearch Java API","body":"<p>I found a solution, but it's awkward as hell. If someone has a more fluent solution to suggest, please let me know.</p>\n<p>The solution I came up with is to:</p>\n<ul>\n<li>Create the query as a JSONObject</li>\n<li>Transform that JSONObject to an InputStream</li>\n<li>Feed that InputStream to .query(q -&gt; q.withJson()) method</li>\n</ul>\n<p>Here is an example below:</p>\n<pre><code>        // Say we have these input field values\n        String canonicalForm = &quot;tut&quot;;\n        String grammar = &quot;verb&quot;;\n        String meaning = null; // This means we don't want to query on field 'meaning'\n\n        // Build a JSONArray that will contain the &quot;match&quot; criteria for the non-null\n        // input field values\n        //\n        JSONArray mustArr = new JSONArray();\n        if (canonicalForm != null) {\n            mustArr.put(new JSONObject()\n                .put(&quot;match&quot;, new JSONObject()\n                    .put(&quot;descr.canonicalForm&quot;, new JSONObject()\n                        .put(&quot;query&quot;, canonicalForm)\n                    )\n                )\n            );\n        }\n        if (grammar != null) {\n            mustArr.put(new JSONObject()\n                .put(&quot;match&quot;, new JSONObject()\n                    .put(&quot;descr.grammar&quot;, new JSONObject()\n                        .put(&quot;query&quot;, grammar)\n                    )\n                )\n            );\n        }\n        if (meaning != null) {\n            mustArr.put(new JSONObject()\n                .put(&quot;match&quot;, new JSONObject()\n                    .put(&quot;descr.meaning&quot;, new JSONObject()\n                        .put(&quot;query&quot;, meaning)\n                    )\n                )\n            );\n        }\n\n        // Build a &quot;bool&quot; query object, feeding it the &quot;must&quot; array.\n        JSONObject queryJObj = new JSONObject()\n            .put(&quot;bool&quot;, new JSONObject()\n                .put(&quot;must&quot;, mustArr)\n            )\n        ;\n\n        // Convert the &quot;query&quot; object to an InputStream\n        String queryJsonStr = queryJObj.toString();\n        InputStream queryIS = new ByteArrayInputStream(queryJsonStr.getBytes(StandardCharsets.UTF_8));\n\n        SearchRequest sr = SearchRequest.of(s -&gt; s\n            .index(&quot;morphemes&quot;)\n            .query(q -&gt; q\n                    .withJson(queryIS)\n            )\n        );\n\n</code></pre>\n"}],"owner":{"account_id":1476933,"reputation":529,"user_id":1387115,"display_name":"Alain D&#233;silets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673293947,"creation_date":1673094556,"question_id":75040319,"body_markdown":"I want to retrieve documents based on a combination of 3 field values:\r\n\r\n - canonicalForm\r\n - grammar\r\n - meaning\r\n\r\nHere is how I do it now.\r\n\r\n```\r\nString canonicalForm = &quot;tut&quot;;\r\nString grammar = &quot;verb&quot;;\r\nString meaning = &quot;to land&quot;;\r\n\r\nBoolQuery bool = BoolQuery.of(q -&gt; q\r\n\t\t\t.must(m -&gt; m\r\n\t\t\t\t.match(mt -&gt; mt\r\n\t\t\t\t\t.field(&quot;descr.canonicalForm&quot;)\r\n\t\t\t\t\t\t.query(canonicalForm)\r\n\t\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t.must(m -&gt; m\r\n\t\t\t\t.match(mt -&gt; mt\r\n\t\t\t\t\t.field(&quot;descr.grammar&quot;)\r\n\t\t\t\t\t\t.query(grammar)\r\n\t\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t.must(m -&gt; m\r\n\t\t\t\t.match(mt -&gt; mt\r\n\t\t\t\t\t.field(&quot;descr.meaning&quot;)\r\n\t\t\t\t\t\t.query(meaning)\r\n\t\t\t\t\t)\r\n\t\t\t)\r\n\t\t);\r\n```\r\n\r\nThis works as long as I provide a value for all three fields. But sometimes I want to search using only 1 or two of the fields.\r\n\r\nI tried setting the &quot;absent&quot; field values to null, but that raises an exception.\r\n\r\nI also tried setting the &quot;absent&quot; value to the empty string but that always returns 0 hits.\r\n\r\nAnother solution would be to only add a match() clause for a field if the provided value is not null, but I can&#39;t figure out how to insert this kind of conditionals in the fluent DSL builder pattern.","title":"How to build a query with variable number of match() clauses using the ElasticSearch Java API","body":"<p>I want to retrieve documents based on a combination of 3 field values:</p>\n<ul>\n<li>canonicalForm</li>\n<li>grammar</li>\n<li>meaning</li>\n</ul>\n<p>Here is how I do it now.</p>\n<pre><code>String canonicalForm = &quot;tut&quot;;\nString grammar = &quot;verb&quot;;\nString meaning = &quot;to land&quot;;\n\nBoolQuery bool = BoolQuery.of(q -&gt; q\n            .must(m -&gt; m\n                .match(mt -&gt; mt\n                    .field(&quot;descr.canonicalForm&quot;)\n                        .query(canonicalForm)\n                    )\n            )\n            .must(m -&gt; m\n                .match(mt -&gt; mt\n                    .field(&quot;descr.grammar&quot;)\n                        .query(grammar)\n                    )\n            )\n            .must(m -&gt; m\n                .match(mt -&gt; mt\n                    .field(&quot;descr.meaning&quot;)\n                        .query(meaning)\n                    )\n            )\n        );\n</code></pre>\n<p>This works as long as I provide a value for all three fields. But sometimes I want to search using only 1 or two of the fields.</p>\n<p>I tried setting the &quot;absent&quot; field values to null, but that raises an exception.</p>\n<p>I also tried setting the &quot;absent&quot; value to the empty string but that always returns 0 hits.</p>\n<p>Another solution would be to only add a match() clause for a field if the provided value is not null, but I can't figure out how to insert this kind of conditionals in the fluent DSL builder pattern.</p>\n"},{"tags":["java","json","dynamic"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672933007,"creation_date":1672933007,"answer_id":75020899,"question_id":75019420,"body_markdown":"If your API come from an another team or an external provider, the first thing I would suggest to you, is to clearly define a contract. Otherwise, you can use the `isNull(String key)` method of `JSONObject` to check if the key exists or not.\r\n\r\nAn example here:\r\n\r\n    JSONObject jsonObject = new JSONObject(YOUR_JSON_STRING);\r\n    String nameValue;\r\n\r\n    if(jsonObject.isNull(&quot;Name&quot;)) {\r\n        nameValue = jsonObject.getJSONObject(&quot;Value&quot;)\r\n                    .getJSONArray(&quot;data&quot;)\r\n                    .getJSONObject(0)\r\n                    .getString(&quot;Name&quot;);\r\n    } else {\r\n        nameValue = jsonObject.getString(&quot;Name&quot;);\r\n    }\r\n\r\n    System.out.println(nameValue);","title":"Java get specific data from dynamic JSONObject","body":"<p>If your API come from an another team or an external provider, the first thing I would suggest to you, is to clearly define a contract. Otherwise, you can use the <code>isNull(String key)</code> method of <code>JSONObject</code> to check if the key exists or not.</p>\n<p>An example here:</p>\n<pre><code>JSONObject jsonObject = new JSONObject(YOUR_JSON_STRING);\nString nameValue;\n\nif(jsonObject.isNull(&quot;Name&quot;)) {\n    nameValue = jsonObject.getJSONObject(&quot;Value&quot;)\n                .getJSONArray(&quot;data&quot;)\n                .getJSONObject(0)\n                .getString(&quot;Name&quot;);\n} else {\n    nameValue = jsonObject.getString(&quot;Name&quot;);\n}\n\nSystem.out.println(nameValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672947359,"creation_date":1672947359,"answer_id":75023526,"question_id":75019420,"body_markdown":"If the JSON strings are always in a similar fashion then you can try a little parser method as provided below. It returns a Key/Value (String/Object) Map:\r\n\r\n    public static java.util.Map&lt;String, Object&gt; mapJsonObject(String jsonString) {\r\n        String json = jsonString\r\n                .replaceAll(&quot;(?i)[\\\\[\\\\]\\\\{\\\\}\\&quot;]|\\&quot;?value\\&quot;?:|\\&quot;?data\\&quot;?:|\\n?&quot;, &quot;&quot;)\r\n                .replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\r\n        String[] keyValueParts = json.split(&quot;\\\\s*,\\\\s*&quot;);\r\n        java.util.Map&lt;String, Object&gt; map = new java.util.HashMap&lt;&gt;();\r\n        for (String str : keyValueParts) {\r\n            String[] pts = str.split(&quot;\\\\s*:\\\\s*&quot;);\r\n            map.put(pts[0].trim(), pts[1]);\r\n        }\r\n        return map;\r\n    }\r\n\r\nTo use:\r\n\r\n    String jsonString = &quot;{\\n&quot;\r\n                + &quot;  \\&quot;id\\&quot;: \\&quot;1\\&quot;,\\n&quot;\r\n                + &quot;  \\&quot;Name\\&quot;: \\&quot;Jack\\&quot;,\\n&quot;\r\n                + &quot;  \\&quot;Value\\&quot;: {\\n&quot;\r\n                + &quot;    \\&quot;data\\&quot;: [\\n&quot;\r\n                + &quot;      {\\&quot;time\\&quot;: \\&quot;2023\\&quot;, \\&quot;age\\&quot;: \\&quot;22\\&quot;}\\n&quot;\r\n                + &quot;    ]\\n&quot;\r\n                + &quot;}}&quot;;\r\n\r\n    java.util.Map&lt;String, Object&gt; map = mapJsonObject(jsonString);\r\n    System.out.println(map);\r\n\r\nThe console window will display:\r\n\r\n    {id=1, time=2023, age=22 , Name=Jack}","title":"Java get specific data from dynamic JSONObject","body":"<p>If the JSON strings are always in a similar fashion then you can try a little parser method as provided below. It returns a Key/Value (String/Object) Map:</p>\n<pre><code>public static java.util.Map&lt;String, Object&gt; mapJsonObject(String jsonString) {\n    String json = jsonString\n            .replaceAll(&quot;(?i)[\\\\[\\\\]\\\\{\\\\}\\&quot;]|\\&quot;?value\\&quot;?:|\\&quot;?data\\&quot;?:|\\n?&quot;, &quot;&quot;)\n            .replaceAll(&quot;\\\\s+&quot;, &quot; &quot;);\n    String[] keyValueParts = json.split(&quot;\\\\s*,\\\\s*&quot;);\n    java.util.Map&lt;String, Object&gt; map = new java.util.HashMap&lt;&gt;();\n    for (String str : keyValueParts) {\n        String[] pts = str.split(&quot;\\\\s*:\\\\s*&quot;);\n        map.put(pts[0].trim(), pts[1]);\n    }\n    return map;\n}\n</code></pre>\n<p>To use:</p>\n<pre><code>String jsonString = &quot;{\\n&quot;\n            + &quot;  \\&quot;id\\&quot;: \\&quot;1\\&quot;,\\n&quot;\n            + &quot;  \\&quot;Name\\&quot;: \\&quot;Jack\\&quot;,\\n&quot;\n            + &quot;  \\&quot;Value\\&quot;: {\\n&quot;\n            + &quot;    \\&quot;data\\&quot;: [\\n&quot;\n            + &quot;      {\\&quot;time\\&quot;: \\&quot;2023\\&quot;, \\&quot;age\\&quot;: \\&quot;22\\&quot;}\\n&quot;\n            + &quot;    ]\\n&quot;\n            + &quot;}}&quot;;\n\njava.util.Map&lt;String, Object&gt; map = mapJsonObject(jsonString);\nSystem.out.println(map);\n</code></pre>\n<p>The console window will display:</p>\n<pre><code>{id=1, time=2023, age=22 , Name=Jack}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673293608,"creation_date":1673293608,"answer_id":75062237,"question_id":75019420,"body_markdown":"You may consider library _Josson_.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialization__\r\n\r\n    Josson josson1 = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;id\\&quot;: \\&quot;1\\&quot;,&quot; +\r\n        &quot;  \\&quot;Name\\&quot;: \\&quot;Jack\\&quot;,&quot; +\r\n        &quot;  \\&quot;Value\\&quot;: {&quot; +\r\n        &quot;    \\&quot;data\\&quot;: [&quot; +\r\n        &quot;      {\\&quot;time\\&quot;: \\&quot;2023\\&quot;, \\&quot;age\\&quot;: \\&quot;22\\&quot;}&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;  }&quot; +\r\n        &quot;}&quot;);\r\n\r\n    Josson josson2 = Josson.fromJsonString(\r\n        &quot;{ &quot; +\r\n        &quot;  \\&quot;age\\&quot;: \\&quot;22\\&quot;,&quot; +\r\n        &quot;  \\&quot;time\\&quot;: \\&quot;2023\\&quot;,&quot; +\r\n        &quot;  \\&quot;Value\\&quot;: {&quot; +\r\n        &quot;    \\&quot;data\\&quot;: [&quot; +\r\n        &quot;      {\\&quot;Name\\&quot;: \\&quot;Jack\\&quot;, \\&quot;id\\&quot;: \\&quot;1\\&quot; }&quot; +\r\n        &quot;    ]&quot; +\r\n        &quot;  }&quot; +\r\n        &quot;}&quot;);\r\n\r\n__Query__\r\n\r\n`*()` is a multi-level wildcard search. It returns the first resolvable element.\r\n\r\n    System.out.println(josson1.getString(&quot;coalesce(Name, *().Name)&quot;));\r\n    // Output: Jack\r\n\r\n    System.out.println(josson2.getString(&quot;coalesce(Name, *().Name)&quot;));\r\n    // Output: [&quot;Jack&quot;]\r\n    // It is because &quot;Name&quot; is inside array &quot;data&quot;.\r\n\r\n    System.out.println(josson1.getString(&quot;coalesce(Name, *().Name).first()&quot;));\r\n    // Output: Jack\r\n\r\n    System.out.println(josson2.getString(&quot;coalesce(Name, *().Name).first()&quot;));\r\n    // Output: Jack\r\n    // Added function first() to extract the value.\r\n","title":"Java get specific data from dynamic JSONObject","body":"<p>You may consider library <em>Josson</em>.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialization</strong></p>\n<pre><code>Josson josson1 = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;id\\&quot;: \\&quot;1\\&quot;,&quot; +\n    &quot;  \\&quot;Name\\&quot;: \\&quot;Jack\\&quot;,&quot; +\n    &quot;  \\&quot;Value\\&quot;: {&quot; +\n    &quot;    \\&quot;data\\&quot;: [&quot; +\n    &quot;      {\\&quot;time\\&quot;: \\&quot;2023\\&quot;, \\&quot;age\\&quot;: \\&quot;22\\&quot;}&quot; +\n    &quot;    ]&quot; +\n    &quot;  }&quot; +\n    &quot;}&quot;);\n\nJosson josson2 = Josson.fromJsonString(\n    &quot;{ &quot; +\n    &quot;  \\&quot;age\\&quot;: \\&quot;22\\&quot;,&quot; +\n    &quot;  \\&quot;time\\&quot;: \\&quot;2023\\&quot;,&quot; +\n    &quot;  \\&quot;Value\\&quot;: {&quot; +\n    &quot;    \\&quot;data\\&quot;: [&quot; +\n    &quot;      {\\&quot;Name\\&quot;: \\&quot;Jack\\&quot;, \\&quot;id\\&quot;: \\&quot;1\\&quot; }&quot; +\n    &quot;    ]&quot; +\n    &quot;  }&quot; +\n    &quot;}&quot;);\n</code></pre>\n<p><strong>Query</strong></p>\n<p><code>*()</code> is a multi-level wildcard search. It returns the first resolvable element.</p>\n<pre><code>System.out.println(josson1.getString(&quot;coalesce(Name, *().Name)&quot;));\n// Output: Jack\n\nSystem.out.println(josson2.getString(&quot;coalesce(Name, *().Name)&quot;));\n// Output: [&quot;Jack&quot;]\n// It is because &quot;Name&quot; is inside array &quot;data&quot;.\n\nSystem.out.println(josson1.getString(&quot;coalesce(Name, *().Name).first()&quot;));\n// Output: Jack\n\nSystem.out.println(josson2.getString(&quot;coalesce(Name, *().Name).first()&quot;));\n// Output: Jack\n// Added function first() to extract the value.\n</code></pre>\n"}],"owner":{"account_id":21303821,"reputation":23,"user_id":15679365,"display_name":"Mhamad Abu AlGhanam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75020899,"answer_count":3,"score":0,"last_activity_date":1673293608,"creation_date":1672926481,"question_id":75019420,"body_markdown":"I have a JSON String and convert it to JSONObject.\r\n\r\nI want to get specific data from the JSONObject, and every time the JSONObject changes its structure, sometimes it&#39;s in an array inside the JSON and sometimes not.\r\nexample:\r\nthe first time the JSON arrives like this\r\n```\r\n{\r\n  &quot;id&quot;: &quot;1&quot;,\r\n  &quot;Name&quot;: &quot;Jack&quot;,\r\n  &quot;Value&quot;: {\r\n    &quot;data&quot;: [\r\n      {&quot;time&quot;: &quot;2023&quot;, &quot;age&quot;: &quot;22&quot;}\r\n    ]\r\n}}\r\n\r\n```\r\nthe second time \r\n\r\n```\r\n{ \r\n  &quot;age&quot;: &quot;22&quot;,\r\n  &quot;time&quot;: &quot;2023&quot;,\r\n  &quot;Value&quot;: {\r\n    &quot;data&quot;: [\r\n      {&quot;Name&quot;: &quot;Jack&quot;, &quot;id&quot;: &quot;1&quot; }\r\n    ]\r\n}}\r\n\r\n```\r\nif I want to get the name in the first JSON\r\n```\r\njsonObject.getString(&quot;Name&quot;)\r\n```\r\nand for the second one, I would use \r\n```\r\njsonObject.getJSONArray(&quot;data&quot;).getJSONObject(0).getString(&quot;Name&quot;)\r\n```\r\n\r\nis there a way I can get the value dynamically regardless of where the keys are?","title":"Java get specific data from dynamic JSONObject","body":"<p>I have a JSON String and convert it to JSONObject.</p>\n<p>I want to get specific data from the JSONObject, and every time the JSONObject changes its structure, sometimes it's in an array inside the JSON and sometimes not.\nexample:\nthe first time the JSON arrives like this</p>\n<pre><code>{\n  &quot;id&quot;: &quot;1&quot;,\n  &quot;Name&quot;: &quot;Jack&quot;,\n  &quot;Value&quot;: {\n    &quot;data&quot;: [\n      {&quot;time&quot;: &quot;2023&quot;, &quot;age&quot;: &quot;22&quot;}\n    ]\n}}\n\n</code></pre>\n<p>the second time</p>\n<pre><code>{ \n  &quot;age&quot;: &quot;22&quot;,\n  &quot;time&quot;: &quot;2023&quot;,\n  &quot;Value&quot;: {\n    &quot;data&quot;: [\n      {&quot;Name&quot;: &quot;Jack&quot;, &quot;id&quot;: &quot;1&quot; }\n    ]\n}}\n\n</code></pre>\n<p>if I want to get the name in the first JSON</p>\n<pre><code>jsonObject.getString(&quot;Name&quot;)\n</code></pre>\n<p>and for the second one, I would use</p>\n<pre><code>jsonObject.getJSONArray(&quot;data&quot;).getJSONObject(0).getString(&quot;Name&quot;)\n</code></pre>\n<p>is there a way I can get the value dynamically regardless of where the keys are?</p>\n"},{"tags":["java","unit-testing","intellij-idea"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673284604,"post_id":75060767,"comment_id":132459573,"body_markdown":"What kind of project setup do you have exactly? Maven build? Gradle Build? Plain IDEA project?","body":"What kind of project setup do you have exactly? Maven build? Gradle Build? Plain IDEA project?"},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1673285067,"post_id":75060767,"comment_id":132459745,"body_markdown":"Can you provide an example of the changes? Can you revert these changes and do Refactor | Rename in IntelliJ IDEA again so that it updates the classes and usages in tests automatically?","body":"Can you provide an example of the changes? Can you revert these changes and do Refactor | Rename in IntelliJ IDEA again so that it updates the classes and usages in tests automatically?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673286452,"post_id":75060767,"comment_id":132460217,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26543496,"reputation":17,"user_id":20173883,"display_name":"BeastEvolution"},"score":0,"creation_date":1673293609,"post_id":75060767,"comment_id":132462258,"body_markdown":"Project is Gradle Build","body":"Project is Gradle Build"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673297984,"post_id":75060767,"comment_id":132463442,"body_markdown":"Can you run the tests with gradle? IDEA should automatically reload the gradle configuration for the source sets and you need to make the gradle build work anyways, otherwise it is useless that you put effort into the gradle config at all.","body":"Can you run the tests with gradle? IDEA should automatically reload the gradle configuration for the source sets and you need to make the gradle build work anyways, otherwise it is useless that you put effort into the gradle config at all."},{"owner":{"account_id":26543496,"reputation":17,"user_id":20173883,"display_name":"BeastEvolution"},"score":0,"creation_date":1673458151,"post_id":75060767,"comment_id":132505543,"body_markdown":"I try to ran build and rebuild, but it not help\n\n[paths to classes][1]\n\n  [1]: https://prnt.sc/p_M3TXuyh7xB","body":"I try to ran build and rebuild, but it not help  [paths to classes][1]    [1]: <a href=\"https://prnt.sc/p_M3TXuyh7xB\" rel=\"nofollow noreferrer\">prnt.sc/p_M3TXuyh7xB</a>"}],"owner":{"account_id":26543496,"reputation":17,"user_id":20173883,"display_name":"BeastEvolution"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673293558,"creation_date":1673284357,"question_id":75060767,"body_markdown":"I change paths to java classes in gradle project, but paths for this classes tests steel the same.\r\n\r\nCan I change paths using IDEA tools, not manually?\r\n\r\n[paths to classes][1]\r\n\r\n\r\n[paths to tests][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vraI9.png\r\n  [2]: https://i.stack.imgur.com/R8nIC.png","title":"Can I automatically fix my old paths to tests in Intellij IDEA(using IDEA tools)?","body":"<p>I change paths to java classes in gradle project, but paths for this classes tests steel the same.</p>\n<p>Can I change paths using IDEA tools, not manually?</p>\n<p><a href=\"https://i.stack.imgur.com/vraI9.png\" rel=\"nofollow noreferrer\">paths to classes</a></p>\n<p><a href=\"https://i.stack.imgur.com/R8nIC.png\" rel=\"nofollow noreferrer\">paths to tests</a></p>\n"},{"tags":["java","angular","typescript","hibernate","mariadb"],"comments":[{"owner":{"account_id":17428198,"reputation":4384,"user_id":12632699,"display_name":"SwissCodeMen"},"score":0,"creation_date":1672505122,"post_id":74970786,"comment_id":132300486,"body_markdown":"In my last such application, I only added `@CrossOrigin` to the respective controllers in the java backend, without further configurations and options. Try it!","body":"In my last such application, I only added <code>@CrossOrigin</code> to the respective controllers in the java backend, without further configurations and options. Try it!"},{"owner":{"account_id":14970623,"reputation":270,"user_id":10807611,"display_name":"Zerox"},"score":0,"creation_date":1672505730,"post_id":74970786,"comment_id":132300600,"body_markdown":"@SwissCodeMen just tried it, same error response","body":"@SwissCodeMen just tried it, same error response"},{"owner":{"account_id":26382439,"reputation":3135,"user_id":20035486,"display_name":"kellermat"},"score":1,"creation_date":1672506486,"post_id":74970786,"comment_id":132300734,"body_markdown":"What if you place `@CrossOrigin(origins = &quot;http://localhost:4200&quot;)` above `@Controller`?","body":"What if you place <code>@CrossOrigin(origins = &quot;http:&#47;&#47;localhost:4200&quot;)</code> above <code>@Controller</code>?"},{"owner":{"account_id":14970623,"reputation":270,"user_id":10807611,"display_name":"Zerox"},"score":0,"creation_date":1672509210,"post_id":74970786,"comment_id":132301198,"body_markdown":"@kellermat tried it with and without http-header set, both results in still the same error message","body":"@kellermat tried it with and without http-header set, both results in still the same error message"}],"answers":[{"tags":[],"owner":{"account_id":14970623,"reputation":270,"user_id":10807611,"display_name":"Zerox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672571528,"creation_date":1672571528,"answer_id":74974274,"question_id":74970786,"body_markdown":"So I&#39;m not sure if that&#39;s an optimal solution, but it is a solution.\r\n\r\nI added this slice of code, to basically tell the CORS-Config directly to allow CrossOrigin and it seems to have worked:\r\n\r\n```\r\n@Bean\r\n\tpublic WebMvcConfigurer corsConfigurer() {\r\n\t\tSystem.out.println(&quot;CORS Config success&quot;);\r\n\t\treturn new WebMvcConfigurer() {\r\n\t\t\t@Override\r\n\t\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n\t\t\t\tregistry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;http://localhost:4200&quot;); // &quot;/create-cars&quot;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t}\r\n```","title":"Access to XMLHttpRequest has been blocked by CORS policy eventhough Controller has Crossorigin enabled and Header set","body":"<p>So I'm not sure if that's an optimal solution, but it is a solution.</p>\n<p>I added this slice of code, to basically tell the CORS-Config directly to allow CrossOrigin and it seems to have worked:</p>\n<pre><code>@Bean\n    public WebMvcConfigurer corsConfigurer() {\n        System.out.println(&quot;CORS Config success&quot;);\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;http://localhost:4200&quot;); // &quot;/create-cars&quot;\n            }\n        };\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27481310,"reputation":1,"user_id":20968329,"display_name":"Zoro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673293548,"creation_date":1673293548,"answer_id":75062228,"question_id":74970786,"body_markdown":"Use Windows + R and then try running the below command in RUN on windows. \r\n\r\n    chrome.exe --user-data-dir=&quot;C://Chrome dev session&quot; --disable-web-security\r\n\r\ntry localhost:4200 in the newly opened chrome.\r\n\r\nHope it helps!\r\nHappy coding &#128526;","title":"Access to XMLHttpRequest has been blocked by CORS policy eventhough Controller has Crossorigin enabled and Header set","body":"<p>Use Windows + R and then try running the below command in RUN on windows.</p>\n<pre><code>chrome.exe --user-data-dir=&quot;C://Chrome dev session&quot; --disable-web-security\n</code></pre>\n<p>try localhost:4200 in the newly opened chrome.</p>\n<p>Hope it helps!\nHappy coding 😎</p>\n"}],"owner":{"account_id":14970623,"reputation":270,"user_id":10807611,"display_name":"Zerox"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74974274,"answer_count":2,"score":1,"last_activity_date":1673293548,"creation_date":1672503792,"question_id":74970786,"body_markdown":"I am trying to post data to a MariaDB, by passing it through my service into the controller and then into the repository. However, when trying to make a `http.post` to the controller URL, I get the response: \r\n`Access to XMLHttpRequest at &#39;http://localhost:8080/api/car/create&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.`\r\nWhile I&#39;ve found this error has been described alot of times, the proposed solutions seems to have not worked for me yet, as I both enabled everything in the `http-header` aswell as enable `@Crossorigin` in my controller.\r\n\r\nHere are the important parts of my code:\r\n\r\nService\r\n```\r\n  readonly httpOptions = {\r\n    headers: new HttpHeaders({\r\n      &quot;ACCESS_CONTROL_ALLOW_ORIGIN&quot;: &quot;http://localhost:4200&quot;,\r\n      &quot;ACCESS_CONTROL_ALLOW_CREDENTIALS&quot;: &quot;true&quot;\r\n    })\r\n  };\r\n\r\n  public save(car: Car) {\r\n    return this.http.post(&#39;http://localhost:8080/api/car/create&#39;, car, this.httpOptions);\r\n  }\r\n```\r\nController\r\n```\r\n@Controller\r\n@RequestMapping(&quot;/api/car&quot;)\r\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\r\n@Transactional\r\npublic class CarController {\r\n\r\n    @Autowired\r\n    public CarController(CarRepository carRepository) {\r\n\r\n        this.carRepository = carRepository;\r\n    }\r\n\r\n    @PostMapping(value = &quot;/create&quot;)\r\n    @ResponseBody\r\n    @Transactional\r\n    public void addCars(@RequestBody final car car) {\r\n        this.carRepository.save(car);\r\n    }\r\n}","title":"Access to XMLHttpRequest has been blocked by CORS policy eventhough Controller has Crossorigin enabled and Header set","body":"<p>I am trying to post data to a MariaDB, by passing it through my service into the controller and then into the repository. However, when trying to make a <code>http.post</code> to the controller URL, I get the response:\n<code>Access to XMLHttpRequest at 'http://localhost:8080/api/car/create' from origin 'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</code>\nWhile I've found this error has been described alot of times, the proposed solutions seems to have not worked for me yet, as I both enabled everything in the <code>http-header</code> aswell as enable <code>@Crossorigin</code> in my controller.</p>\n<p>Here are the important parts of my code:</p>\n<p>Service</p>\n<pre><code>  readonly httpOptions = {\n    headers: new HttpHeaders({\n      &quot;ACCESS_CONTROL_ALLOW_ORIGIN&quot;: &quot;http://localhost:4200&quot;,\n      &quot;ACCESS_CONTROL_ALLOW_CREDENTIALS&quot;: &quot;true&quot;\n    })\n  };\n\n  public save(car: Car) {\n    return this.http.post('http://localhost:8080/api/car/create', car, this.httpOptions);\n  }\n</code></pre>\n<p>Controller</p>\n<pre><code>@Controller\n@RequestMapping(&quot;/api/car&quot;)\n@CrossOrigin(origins = &quot;http://localhost:4200&quot;)\n@Transactional\npublic class CarController {\n\n    @Autowired\n    public CarController(CarRepository carRepository) {\n\n        this.carRepository = carRepository;\n    }\n\n    @PostMapping(value = &quot;/create&quot;)\n    @ResponseBody\n    @Transactional\n    public void addCars(@RequestBody final car car) {\n        this.carRepository.save(car);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673287524,"creation_date":1673287524,"answer_id":75061290,"question_id":75059004,"body_markdown":"I presume &quot;ANR&quot; means &quot;Application not responding&quot; and CPF and CNPJ are some acronyms that no-one outside of Brazil has ever heard about and that we don&#39;t need to know about.\r\n\r\nThis ANR would happen if your `while` loop never terminates. This can only happen if there is an error. Luckily, you are logging the error, so check your logs to see what&#39;s gone wrong.","title":"ANR android to calculate cpf digit if it is valid","body":"<p>I presume &quot;ANR&quot; means &quot;Application not responding&quot; and CPF and CNPJ are some acronyms that no-one outside of Brazil has ever heard about and that we don't need to know about.</p>\n<p>This ANR would happen if your <code>while</code> loop never terminates. This can only happen if there is an error. Luckily, you are logging the error, so check your logs to see what's gone wrong.</p>\n"},{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673293294,"creation_date":1673293294,"answer_id":75062191,"question_id":75059004,"body_markdown":"You get an infinite loop when any of the characters isn&#39;t a digit:\r\n\r\n````\r\nwhile (index &gt;= 0) {\r\n    try {\r\n        digit = Integer.parseInt(str.substring(index, index + 1))\r\n        sum += digit * weightCPF[weightCPF.size - str.length + index]\r\n        index--\r\n    } catch (ex: NumberFormatException) {\r\n        Timber.e(ex, &quot;calculateDigit: %s&quot;, ex.message)\r\n    }\r\n}\r\n````\r\n\r\nIf `parseInt` fails, it throws an exception and jumps to the catch block without ever decrementing `index`, so you just end up spinning on the same `index` value and its invalid character forever.\r\n\r\nI don&#39;t know how you want to handle invalid characters, but if you just want to skip them, you could put the `index--` outside the try/catch so it always runs every loop. If it should immediately fail, you could do an early return or throw an exception.\r\n\r\n----\r\n\r\nYou also have an issue in your validation in `isValidCPF`:\r\n\r\n````\r\nif (cpf.trim { it &lt;= &#39; &#39; } == &quot;00000000000&quot;) {\r\n    return false\r\n}\r\n````\r\n\r\nThis implies that you&#39;re *expecting* the the function might be passed non-digit values - just to check the digits aren&#39;t all zeroes, you&#39;re trimming *some* invalid chars (only the ones preceding `!` in [this table][1] though). But that trim only happens *for this check* - the rest of your code still uses the original string. So when you do this:\r\n\r\n````\r\nval digit1 = calculateDigit(cpf.substring(0, 9), weightCPF)\r\n````\r\n\r\nIf that trim **was** necessary to check the digits before, isn&#39;t it necessary now? What if it has leading non-digit characters? You&#39;re just taking the first 9, whatever they happen to be (which is probably how you&#39;re ending up with the infinite loop situation).\r\n\r\nI don&#39;t know exactly what you&#39;re doing, but you might want to use something like `val trimmed = cpf.trim { !it.isDigit() }` or `{ it !in [&#39;0&#39;..&#39;9&#39;]`) }. Or maybe even something like `val filtered = cpf.filter { it.isDigit() }` to remove all non-digit chars, and then decide if you have enough to consider it valid and continue processing. Depends what you&#39;re doing of course! Just giving you some options.\r\n\r\n\r\n  [1]: https://www.ascii-code.com/","title":"ANR android to calculate cpf digit if it is valid","body":"<p>You get an infinite loop when any of the characters isn't a digit:</p>\n<pre><code>while (index &gt;= 0) {\n    try {\n        digit = Integer.parseInt(str.substring(index, index + 1))\n        sum += digit * weightCPF[weightCPF.size - str.length + index]\n        index--\n    } catch (ex: NumberFormatException) {\n        Timber.e(ex, &quot;calculateDigit: %s&quot;, ex.message)\n    }\n}\n</code></pre>\n<p>If <code>parseInt</code> fails, it throws an exception and jumps to the catch block without ever decrementing <code>index</code>, so you just end up spinning on the same <code>index</code> value and its invalid character forever.</p>\n<p>I don't know how you want to handle invalid characters, but if you just want to skip them, you could put the <code>index--</code> outside the try/catch so it always runs every loop. If it should immediately fail, you could do an early return or throw an exception.</p>\n<hr />\n<p>You also have an issue in your validation in <code>isValidCPF</code>:</p>\n<pre><code>if (cpf.trim { it &lt;= ' ' } == &quot;00000000000&quot;) {\n    return false\n}\n</code></pre>\n<p>This implies that you're <em>expecting</em> the the function might be passed non-digit values - just to check the digits aren't all zeroes, you're trimming <em>some</em> invalid chars (only the ones preceding <code>!</code> in <a href=\"https://www.ascii-code.com/\" rel=\"nofollow noreferrer\">this table</a> though). But that trim only happens <em>for this check</em> - the rest of your code still uses the original string. So when you do this:</p>\n<pre><code>val digit1 = calculateDigit(cpf.substring(0, 9), weightCPF)\n</code></pre>\n<p>If that trim <strong>was</strong> necessary to check the digits before, isn't it necessary now? What if it has leading non-digit characters? You're just taking the first 9, whatever they happen to be (which is probably how you're ending up with the infinite loop situation).</p>\n<p>I don't know exactly what you're doing, but you might want to use something like <code>val trimmed = cpf.trim { !it.isDigit() }</code> or <code>{ it !in ['0'..'9']</code>) }. Or maybe even something like <code>val filtered = cpf.filter { it.isDigit() }</code> to remove all non-digit chars, and then decide if you have enough to consider it valid and continue processing. Depends what you're doing of course! Just giving you some options.</p>\n"}],"owner":{"account_id":27478478,"reputation":1,"user_id":20966016,"display_name":"meyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673293294,"creation_date":1673275893,"question_id":75059004,"body_markdown":"I&#39;m getting ANR from play store in a method of calculating CPF and CNPJ digits, calculating valid CPF\r\n\r\n\r\n```\r\nfun isValidCPF(cpf: String?): Boolean {\r\n            if (cpf == null || cpf.length != 11) return false\r\n            if (cpf.trim { it &lt;= &#39; &#39; } == &quot;00000000000&quot;) {\r\n                return false\r\n            }\r\n            val digit1 = calculateDigit(cpf.substring(0, 9), weightCPF)\r\n            val digit2 = calculateDigit(cpf.substring(0, 9) + digit1, weightCPF)\r\n            return cpf == cpf.substring(0, 9) + digit1.toString() + digit2.toString()\r\n        }\r\n```\r\n\r\n\r\n\r\n```\r\nprivate val weightCPF = intArrayOf(11, 10, 9, 8, 7, 6, 5, 4, 3, 2)\r\n```\r\n\r\n\r\n\r\n```\r\nprivate fun calculateDigit(str: String, weightCPF: IntArray): Int {\r\n            var sum = 0\r\n            var index = str.length - 1\r\n            var digit: Int\r\n            while (index &gt;= 0) {\r\n                try {\r\n                    digit = Integer.parseInt(str.substring(index, index + 1))\r\n                    sum += digit * weightCPF[weightCPF.size - str.length + index]\r\n                    index--\r\n                } catch (ex: NumberFormatException) {\r\n                    Timber.e(ex, &quot;calculateDigit: %s&quot;, ex.message)\r\n                }\r\n            }\r\n            sum = 11 - sum % 11\r\n            return if (sum &gt; 9) 0 else sum\r\n        }\r\n```\r\n\r\nDoes anyone know why i am getting this ANR? I can&#39;t reproduce the error","title":"ANR android to calculate cpf digit if it is valid","body":"<p>I'm getting ANR from play store in a method of calculating CPF and CNPJ digits, calculating valid CPF</p>\n<pre><code>fun isValidCPF(cpf: String?): Boolean {\n            if (cpf == null || cpf.length != 11) return false\n            if (cpf.trim { it &lt;= ' ' } == &quot;00000000000&quot;) {\n                return false\n            }\n            val digit1 = calculateDigit(cpf.substring(0, 9), weightCPF)\n            val digit2 = calculateDigit(cpf.substring(0, 9) + digit1, weightCPF)\n            return cpf == cpf.substring(0, 9) + digit1.toString() + digit2.toString()\n        }\n</code></pre>\n<pre><code>private val weightCPF = intArrayOf(11, 10, 9, 8, 7, 6, 5, 4, 3, 2)\n</code></pre>\n<pre><code>private fun calculateDigit(str: String, weightCPF: IntArray): Int {\n            var sum = 0\n            var index = str.length - 1\n            var digit: Int\n            while (index &gt;= 0) {\n                try {\n                    digit = Integer.parseInt(str.substring(index, index + 1))\n                    sum += digit * weightCPF[weightCPF.size - str.length + index]\n                    index--\n                } catch (ex: NumberFormatException) {\n                    Timber.e(ex, &quot;calculateDigit: %s&quot;, ex.message)\n                }\n            }\n            sum = 11 - sum % 11\n            return if (sum &gt; 9) 0 else sum\n        }\n</code></pre>\n<p>Does anyone know why i am getting this ANR? I can't reproduce the error</p>\n"},{"tags":["java","arraylist","stream","java-stream"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673122948,"post_id":75042726,"comment_id":132428922,"body_markdown":"Seems like you need `Collectors.groupingBy`","body":"Seems like you need <code>Collectors.groupingBy</code>"},{"owner":{"account_id":8056890,"reputation":15,"user_id":6610683,"display_name":"Eddie Kwasi Dankie"},"score":0,"creation_date":1673131472,"post_id":75042726,"comment_id":132430367,"body_markdown":"@g00se To group by the latestDateTime?","body":"@g00se To group by the latestDateTime?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1673132969,"post_id":75042726,"comment_id":132430584,"body_markdown":"Did you print and inspect the map `numOfTagsByDateTime`?  You might want to show what that map is supposed to look like?  Because I don&#39;t see how you can get `115` from the results which look are `2022-12-09T13:00=200,  2022-12-08T15:00=60,\n2022-12-08T16:00=15`","body":"Did you print and inspect the map <code>numOfTagsByDateTime</code>?  You might want to show what that map is supposed to look like?  Because I don&#39;t see how you can get <code>115</code> from the results which look are <code>2022-12-09T13:00=200,  2022-12-08T15:00=60, 2022-12-08T16:00=15</code>"},{"owner":{"account_id":8056890,"reputation":15,"user_id":6610683,"display_name":"Eddie Kwasi Dankie"},"score":0,"creation_date":1673133380,"post_id":75042726,"comment_id":132430640,"body_markdown":"@WJS so you add values in each imaginary row like i have in the image. You dont convert the LocalDateTiem to LocalDate but when you have LocalDateTimes with same Date ignoring the Time part you select the LocalDateTime with the latest time. Add not at each LocalDateTime when you have just 1 id with a non zero value you add it to previous values of the other 2 id&#39;s","body":"@WJS so you add values in each imaginary row like i have in the image. You dont convert the LocalDateTiem to LocalDate but when you have LocalDateTimes with same Date ignoring the Time part you select the LocalDateTime with the latest time. Add not at each LocalDateTime when you have just 1 id with a non zero value you add it to previous values of the other 2 id&#39;s"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1673133708,"post_id":75042726,"comment_id":132430685,"body_markdown":"Ok, but what is that map supposed to look like with the current data?  Can you edit your question and show it because that is all you are using to construct the final map.","body":"Ok, but what is that map supposed to look like with the current data?  Can you edit your question and show it because that is all you are using to construct the final map."},{"owner":{"account_id":8056890,"reputation":15,"user_id":6610683,"display_name":"Eddie Kwasi Dankie"},"score":0,"creation_date":1673133909,"post_id":75042726,"comment_id":132430708,"body_markdown":"@WJS which map are you refering to","body":"@WJS which map are you refering to"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1673134218,"post_id":75042726,"comment_id":132430739,"body_markdown":"numOfTagsByDateTime","body":"numOfTagsByDateTime"},{"owner":{"account_id":8056890,"reputation":15,"user_id":6610683,"display_name":"Eddie Kwasi Dankie"},"score":0,"creation_date":1673135496,"post_id":75042726,"comment_id":132430931,"body_markdown":"Made changes to the question","body":"Made changes to the question"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1673136168,"post_id":75042726,"comment_id":132431011,"body_markdown":"Okay.  Those values are not in `numOfTagsByDateTime`.  The values in that map are the ones I highlighted in my comment.","body":"Okay.  Those values are not in <code>numOfTagsByDateTime</code>.  The values in that map are the ones I highlighted in my comment."},{"owner":{"account_id":8056890,"reputation":15,"user_id":6610683,"display_name":"Eddie Kwasi Dankie"},"score":0,"creation_date":1673139581,"post_id":75042726,"comment_id":132431388,"body_markdown":"That shouldn&#39;t be the output it should be what i added in the question.","body":"That shouldn&#39;t be the output it should be what i added in the question."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673205085,"post_id":75042726,"comment_id":132440962,"body_markdown":"Your code doesn&#39;t compile, can you provide us with a [mre] or is the compilation error your problem?","body":"Your code doesn&#39;t compile, can you provide us with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or is the compilation error your problem?"},{"owner":{"account_id":8056890,"reputation":15,"user_id":6610683,"display_name":"Eddie Kwasi Dankie"},"score":0,"creation_date":1673206121,"post_id":75042726,"comment_id":132441154,"body_markdown":"@cyberbrain i added a compiling code","body":"@cyberbrain i added a compiling code"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673206607,"post_id":75042726,"comment_id":132441220,"body_markdown":"please rename your private `Object` class to prevent further confusion.","body":"please rename your private <code>Object</code> class to prevent further confusion."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673208195,"post_id":75042726,"comment_id":132441496,"body_markdown":"In your example, all `latestDateTime` entries are unique, so the rule of &quot;adding the previous value&quot; (when sorted by `latestDateTime`) applies to all entries and so your expected result doesn&#39;t match the rule you gave us. Please refine either the expected result or the rule.","body":"In your example, all <code>latestDateTime</code> entries are unique, so the rule of &quot;adding the previous value&quot; (when sorted by <code>latestDateTime</code>) applies to all entries and so your expected result doesn&#39;t match the rule you gave us. Please refine either the expected result or the rule."},{"owner":{"account_id":8056890,"reputation":15,"user_id":6610683,"display_name":"Eddie Kwasi Dankie"},"score":0,"creation_date":1673209553,"post_id":75042726,"comment_id":132441746,"body_markdown":"Made the changes @cyberbrain","body":"Made the changes @cyberbrain"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673210816,"post_id":75042726,"comment_id":132441970,"body_markdown":"So what I understand now is that you want to build some kind of pivot table and then process it: the `latestDateTime` goes as rows, the `id` as columns and the `numberOfTags` is the value. For each row you take the values in the missing columns from the previous row. The result should be for each date the sum of the three value columns. Is this correct?","body":"So what I understand now is that you want to build some kind of pivot table and then process it: the <code>latestDateTime</code> goes as rows, the <code>id</code> as columns and the <code>numberOfTags</code> is the value. For each row you take the values in the missing columns from the previous row. The result should be for each date the sum of the three value columns. Is this correct?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673212149,"post_id":75042726,"comment_id":132442212,"body_markdown":"If my previous assumptions are correct: why does your expected result contain 200 for 2022-12-09T13:00 ? (The spreadsheet screenshot shows 275 there.) Do the initial values start at 0 for a new day ?","body":"If my previous assumptions are correct: why does your expected result contain 200 for 2022-12-09T13:00 ? (The spreadsheet screenshot shows 275 there.) Do the initial values start at 0 for a new day ?"},{"owner":{"account_id":8056890,"reputation":15,"user_id":6610683,"display_name":"Eddie Kwasi Dankie"},"score":0,"creation_date":1673218137,"post_id":75042726,"comment_id":132443154,"body_markdown":"You are correct with your explanantion. Oh sorry the expected result should be 275 not 200. It can start with 0 or non 0 value","body":"You are correct with your explanantion. Oh sorry the expected result should be 275 not 200. It can start with 0 or non 0 value"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673292973,"creation_date":1673276470,"answer_id":75059137,"question_id":75042726,"body_markdown":"With the clarified requirements I found a solution that brings the expected result:\r\n\r\n``` lang-java\r\npackage examples.stackoverflow.q75042726;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class Q75042726 {\r\n\r\n  private record Stats(Integer id, Integer numberOfTags, LocalDateTime latestDateTime) {\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    List&lt;Stats&gt; statistics = List.of(new Stats(3, 60, LocalDateTime.of(2022, 12, 8, 15, 0, 0)), new Stats(1, 50, LocalDateTime.of(2022, 12, 8, 14, 0, 0)), new Stats(1, 10, LocalDateTime.of(2022, 12, 8, 10, 0, 0)), new Stats(1, 15, LocalDateTime.of(2022, 12, 8, 16, 0, 0)), new Stats(2, 20, LocalDateTime.of(2022, 12, 8, 11, 0, 0)), new Stats(3, 30, LocalDateTime.of(2022, 12, 8, 12, 0, 0)), new Stats(2, 200, LocalDateTime.of(2022, 12, 9, 13, 0, 0)), new Stats(2, 40, LocalDateTime.of(2022, 12, 8, 13, 0, 0)));\r\n    System.out.println(summarize(statistics));\r\n  }\r\n\r\n  private static Map&lt;LocalDateTime, Integer&gt; summarize(List&lt;Stats&gt; items) {\r\n    if (items.size() == 0) {\r\n      return Collections.emptyMap();\r\n    }\r\n    List&lt;Stats&gt; workList = new ArrayList&lt;&gt;(items);\r\n    workList.sort(Comparator.comparing(Stats::latestDateTime));\r\n\r\n    int maxId = workList.stream().mapToInt(Stats::id).max().orElse(0);\r\n    int[] values = new int[maxId];\r\n    Arrays.fill(values, 0);\r\n\r\n    Map&lt;LocalDateTime, Integer&gt; result = new HashMap&lt;&gt;();\r\n\r\n    LocalDateTime previous = workList.get(0).latestDateTime;\r\n    for (Stats current : workList) {\r\n      if (!previous.equals(current.latestDateTime)) {\r\n        result.put(previous, Arrays.stream(values).sum());\r\n      }\r\n      previous = current.latestDateTime;\r\n\r\n      int index = current.id - 1;\r\n      values[index] = current.numberOfTags;\r\n    }\r\n    result.put(previous, Arrays.stream(values).sum());\r\n    return result;\r\n  }\r\n}\r\n```\r\n\r\nPlease note that I used a Java record instead of your class `Stats` here for the sake of brevity and also because it&#39;s exactly meant for that use. Works since Java 14.","title":"Accumulated summing of java object properties","body":"<p>With the clarified requirements I found a solution that brings the expected result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package examples.stackoverflow.q75042726;\n\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class Q75042726 {\n\n  private record Stats(Integer id, Integer numberOfTags, LocalDateTime latestDateTime) {\n  }\n\n  public static void main(String[] args) {\n    List&lt;Stats&gt; statistics = List.of(new Stats(3, 60, LocalDateTime.of(2022, 12, 8, 15, 0, 0)), new Stats(1, 50, LocalDateTime.of(2022, 12, 8, 14, 0, 0)), new Stats(1, 10, LocalDateTime.of(2022, 12, 8, 10, 0, 0)), new Stats(1, 15, LocalDateTime.of(2022, 12, 8, 16, 0, 0)), new Stats(2, 20, LocalDateTime.of(2022, 12, 8, 11, 0, 0)), new Stats(3, 30, LocalDateTime.of(2022, 12, 8, 12, 0, 0)), new Stats(2, 200, LocalDateTime.of(2022, 12, 9, 13, 0, 0)), new Stats(2, 40, LocalDateTime.of(2022, 12, 8, 13, 0, 0)));\n    System.out.println(summarize(statistics));\n  }\n\n  private static Map&lt;LocalDateTime, Integer&gt; summarize(List&lt;Stats&gt; items) {\n    if (items.size() == 0) {\n      return Collections.emptyMap();\n    }\n    List&lt;Stats&gt; workList = new ArrayList&lt;&gt;(items);\n    workList.sort(Comparator.comparing(Stats::latestDateTime));\n\n    int maxId = workList.stream().mapToInt(Stats::id).max().orElse(0);\n    int[] values = new int[maxId];\n    Arrays.fill(values, 0);\n\n    Map&lt;LocalDateTime, Integer&gt; result = new HashMap&lt;&gt;();\n\n    LocalDateTime previous = workList.get(0).latestDateTime;\n    for (Stats current : workList) {\n      if (!previous.equals(current.latestDateTime)) {\n        result.put(previous, Arrays.stream(values).sum());\n      }\n      previous = current.latestDateTime;\n\n      int index = current.id - 1;\n      values[index] = current.numberOfTags;\n    }\n    result.put(previous, Arrays.stream(values).sum());\n    return result;\n  }\n}\n</code></pre>\n<p>Please note that I used a Java record instead of your class <code>Stats</code> here for the sake of brevity and also because it's exactly meant for that use. Works since Java 14.</p>\n"}],"owner":{"account_id":8056890,"reputation":15,"user_id":6610683,"display_name":"Eddie Kwasi Dankie"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75059137,"answer_count":1,"score":-1,"last_activity_date":1673292973,"creation_date":1673115324,"question_id":75042726,"body_markdown":"I have this java List of objects\r\n\r\n```\r\nList&lt;Stats&gt; myStats = [\r\n    {id:3, numberOfTags:60, latestDateTime:2022-12-08T15:00:00},\r\n    {id:1, numberOfTags:50, latestDateTime:2022-12-08T14:00:00},\r\n    {id:1, numberOfTags:10, latestDateTime:2022-12-08T10:00:00},\r\n    {id:1, numberOfTags:15, latestDateTime:2022-12-08T16:00:00},\r\n    {id:2, numberOfTags:20, latestDateTime:2022-12-08T11:00:00},\r\n    {id:3, numberOfTags:30, latestDateTime:2022-12-08T12:00:00},\r\n    {id:2, numberOfTags:200,latestDateTime:2022-12-09T13:00:00},\r\n    {id:2, numberOfTags:40, latestDateTime:2022-12-08T13:00:00}\r\n]\r\n```\r\n                       \r\nI need to sum all `numberOfTags` on each `LocalDateTime` of the `latestDateTime` property. \r\n\r\nWhen only 1 id has value for `numberOfTags` for a specific `latestDateTime` we add the previous value of `numberOfTags` from previous `latestDateTime`.\r\n\r\nFor example on 2022-12-08T11:00:00 Total `numerOfTags` should be 30 because `id`:2 has `numberOfTags`: 20 and its only value for that `LocalDateTime` so we repeat the `numberOfTags` for 2022-12-08T10:00:00 which was 10 for `id`:1 making total `numberOfTags` for 2022-12-08T11:00:00 30 because 10 + 20. So the rule is sum each row where 0 replace with previous value Image below explains it better\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is my code \r\n\r\n``` lang-java\r\nimport java.time.LocalDateTime;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\nimport java.util.Comparator;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Stats&gt; myStats = List.of(\r\n                new Stats(1, 10, LocalDateTime.parse(&quot;2022-12-08T10:00:00&quot;)),\r\n                new Stats(2, 20, LocalDateTime.parse(&quot;2022-12-08T11:00:00&quot;)),\r\n                new Stats(3, 30, LocalDateTime.parse(&quot;2022-12-08T12:00:00&quot;)),\r\n                new Stats(2, 40, LocalDateTime.parse(&quot;2022-12-08T13:00:00&quot;)),\r\n                new Stats(1, 50, LocalDateTime.parse(&quot;2022-12-08T14:00:00&quot;)),\r\n                new Stats(3, 60, LocalDateTime.parse(&quot;2022-12-08T15:00:00&quot;)),\r\n                new Stats(1, 15, LocalDateTime.parse(&quot;2022-12-08T16:00:00&quot;)),\r\n                new Stats(2, 200, LocalDateTime.parse(&quot;2022-12-09T13:00:00&quot;)) \r\n        );\r\n\r\n        List&lt;Stats&gt; sortedStats = myStats.stream()\r\n            .sorted(Comparator.comparing(Stats::getLatestDateTime))\r\n            .collect(Collectors.toList());\r\n    \r\n        Map&lt;LocalDateTime, Integer&gt; tagCountByDateTime = new HashMap&lt;&gt;();\r\n        int previousTagCount = 0;\r\n\r\n        for (Stats stats : sortedStats) {\r\n            LocalDateTime dateTime =stats.getLatestDateTime();\r\n            int tagCount = stats.getNumberOfTags();\r\n\r\n            if (tagCountByDateTime.containsKey(dateTime)) {\r\n                tagCountByDateTime.put(dateTime, tagCountByDateTime.get(dateTime) + tagCount);\r\n            } else {\r\n                tagCountByDateTime.put(dateTime, previousTagCount + tagCount);\r\n            }\r\n\r\n            previousTagCount += tagCount;\r\n        }\r\n\r\n        // Then you can iterate over the map to get the sum of tag counts by date time\r\n        for (Map.Entry&lt;LocalDateTime, Integer&gt; entry : tagCountByDateTime.entrySet()) {\r\n            LocalDateTime dateTime = entry.getKey();\r\n            int tagCount = entry.getValue();\r\n\r\n            System.out.println(dateTime + &quot;: &quot; + tagCount);\r\n        }\r\n    }\r\n}\r\n    \r\nclass Stats {\r\n    private int id;\r\n    private int numberOfTags;\r\n    private LocalDateTime latestDateTime;\r\n\r\n    public Stats(int id, int numberOfTags, LocalDateTime latestDateTime) {\r\n        this.id = id;\r\n        this.numberOfTags = numberOfTags;\r\n        this.latestDateTime = latestDateTime;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public int getNumberOfTags() {\r\n        return numberOfTags;\r\n    }\r\n\r\n    public LocalDateTime getLatestDateTime() {\r\n        return latestDateTime;\r\n    }\r\n}\r\n```\r\n    \r\nresult for numOfTagsByDateTime should be \r\n\r\n```\r\n{\r\n    2022-12-08T10:00:00 = 10,\r\n    2022-12-08T11:00:00 = 30,\r\n    2022-12-08T12:00:00 = 60,\r\n    2022-12-08T13:00:00 = 80,\r\n    2022-12-08T14:00:00 = 120,\r\n    2022-12-08T15:00:00 = 150,\r\n    2022-12-08T16:00:00 = 115,\r\n    2022-12-09T13:00:00 = 275\r\n}\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xyQmB.jpg","title":"Accumulated summing of java object properties","body":"<p>I have this java List of objects</p>\n<pre><code>List&lt;Stats&gt; myStats = [\n    {id:3, numberOfTags:60, latestDateTime:2022-12-08T15:00:00},\n    {id:1, numberOfTags:50, latestDateTime:2022-12-08T14:00:00},\n    {id:1, numberOfTags:10, latestDateTime:2022-12-08T10:00:00},\n    {id:1, numberOfTags:15, latestDateTime:2022-12-08T16:00:00},\n    {id:2, numberOfTags:20, latestDateTime:2022-12-08T11:00:00},\n    {id:3, numberOfTags:30, latestDateTime:2022-12-08T12:00:00},\n    {id:2, numberOfTags:200,latestDateTime:2022-12-09T13:00:00},\n    {id:2, numberOfTags:40, latestDateTime:2022-12-08T13:00:00}\n]\n</code></pre>\n<p>I need to sum all <code>numberOfTags</code> on each <code>LocalDateTime</code> of the <code>latestDateTime</code> property.</p>\n<p>When only 1 id has value for <code>numberOfTags</code> for a specific <code>latestDateTime</code> we add the previous value of <code>numberOfTags</code> from previous <code>latestDateTime</code>.</p>\n<p>For example on 2022-12-08T11:00:00 Total <code>numerOfTags</code> should be 30 because <code>id</code>:2 has <code>numberOfTags</code>: 20 and its only value for that <code>LocalDateTime</code> so we repeat the <code>numberOfTags</code> for 2022-12-08T10:00:00 which was 10 for <code>id</code>:1 making total <code>numberOfTags</code> for 2022-12-08T11:00:00 30 because 10 + 20. So the rule is sum each row where 0 replace with previous value Image below explains it better</p>\n<p><a href=\"https://i.stack.imgur.com/xyQmB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xyQmB.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Here is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\nimport java.util.Comparator;\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Stats&gt; myStats = List.of(\n                new Stats(1, 10, LocalDateTime.parse(&quot;2022-12-08T10:00:00&quot;)),\n                new Stats(2, 20, LocalDateTime.parse(&quot;2022-12-08T11:00:00&quot;)),\n                new Stats(3, 30, LocalDateTime.parse(&quot;2022-12-08T12:00:00&quot;)),\n                new Stats(2, 40, LocalDateTime.parse(&quot;2022-12-08T13:00:00&quot;)),\n                new Stats(1, 50, LocalDateTime.parse(&quot;2022-12-08T14:00:00&quot;)),\n                new Stats(3, 60, LocalDateTime.parse(&quot;2022-12-08T15:00:00&quot;)),\n                new Stats(1, 15, LocalDateTime.parse(&quot;2022-12-08T16:00:00&quot;)),\n                new Stats(2, 200, LocalDateTime.parse(&quot;2022-12-09T13:00:00&quot;)) \n        );\n\n        List&lt;Stats&gt; sortedStats = myStats.stream()\n            .sorted(Comparator.comparing(Stats::getLatestDateTime))\n            .collect(Collectors.toList());\n    \n        Map&lt;LocalDateTime, Integer&gt; tagCountByDateTime = new HashMap&lt;&gt;();\n        int previousTagCount = 0;\n\n        for (Stats stats : sortedStats) {\n            LocalDateTime dateTime =stats.getLatestDateTime();\n            int tagCount = stats.getNumberOfTags();\n\n            if (tagCountByDateTime.containsKey(dateTime)) {\n                tagCountByDateTime.put(dateTime, tagCountByDateTime.get(dateTime) + tagCount);\n            } else {\n                tagCountByDateTime.put(dateTime, previousTagCount + tagCount);\n            }\n\n            previousTagCount += tagCount;\n        }\n\n        // Then you can iterate over the map to get the sum of tag counts by date time\n        for (Map.Entry&lt;LocalDateTime, Integer&gt; entry : tagCountByDateTime.entrySet()) {\n            LocalDateTime dateTime = entry.getKey();\n            int tagCount = entry.getValue();\n\n            System.out.println(dateTime + &quot;: &quot; + tagCount);\n        }\n    }\n}\n    \nclass Stats {\n    private int id;\n    private int numberOfTags;\n    private LocalDateTime latestDateTime;\n\n    public Stats(int id, int numberOfTags, LocalDateTime latestDateTime) {\n        this.id = id;\n        this.numberOfTags = numberOfTags;\n        this.latestDateTime = latestDateTime;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public int getNumberOfTags() {\n        return numberOfTags;\n    }\n\n    public LocalDateTime getLatestDateTime() {\n        return latestDateTime;\n    }\n}\n</code></pre>\n<p>result for numOfTagsByDateTime should be</p>\n<pre><code>{\n    2022-12-08T10:00:00 = 10,\n    2022-12-08T11:00:00 = 30,\n    2022-12-08T12:00:00 = 60,\n    2022-12-08T13:00:00 = 80,\n    2022-12-08T14:00:00 = 120,\n    2022-12-08T15:00:00 = 150,\n    2022-12-08T16:00:00 = 115,\n    2022-12-09T13:00:00 = 275\n}\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","css","javafx","controlsfx","jfoenix"],"comments":[{"owner":{"account_id":52873,"reputation":2689,"user_id":158037,"display_name":"user158037"},"score":0,"creation_date":1513949719,"post_id":47939990,"comment_id":82854302,"body_markdown":"Have you tried workaround from https://bitbucket.org/controlsfx/controlsfx/issues/370/using-controlsfx-causes-css-errors-and ? It looks like it is JDK bug like https://bugs.openjdk.java.net/browse/JDK-8088578 .","body":"Have you tried workaround from <a href=\"https://bitbucket.org/controlsfx/controlsfx/issues/370/using-controlsfx-causes-css-errors-and\" rel=\"nofollow noreferrer\">bitbucket.org/controlsfx/controlsfx/issues/370/&hellip;</a> ? It looks like it is JDK bug like <a href=\"https://bugs.openjdk.java.net/browse/JDK-8088578\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8088578</a> ."},{"owner":{"account_id":2818245,"reputation":581,"user_id":2422715,"accept_rate":31,"display_name":"Lorenzo De Francesco"},"score":1,"creation_date":1513950900,"post_id":47939990,"comment_id":82854821,"body_markdown":"Does not work, even if I remove my custom stylesheet -.- really bad...","body":"Does not work, even if I remove my custom stylesheet -.- really bad..."},{"owner":{"account_id":6698505,"reputation":723,"user_id":5165833,"display_name":"arxakoulini"},"score":1,"creation_date":1553781076,"post_id":47939990,"comment_id":97518839,"body_markdown":"any solutions for this problem yet?","body":"any solutions for this problem yet?"}],"answers":[{"tags":[],"owner":{"account_id":2779049,"reputation":89,"user_id":2391970,"display_name":"Naitonium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673292835,"creation_date":1673292835,"answer_id":75062134,"question_id":47939990,"body_markdown":"I used **CheckComboBox** from the **controlsfx** library and had similar warnings. Actually, this warnings occured when I tried to initialize items of **CheckComboBox** (checkComboBox.getItems().addAll(items) method). In my case the usage of **Platform.runLater** method helped me to overcome this warnings. This method allows to run some code from **JavaFX Application Thread** context.","title":"Java error on CSS","body":"<p>I used <strong>CheckComboBox</strong> from the <strong>controlsfx</strong> library and had similar warnings. Actually, this warnings occured when I tried to initialize items of <strong>CheckComboBox</strong> (checkComboBox.getItems().addAll(items) method). In my case the usage of <strong>Platform.runLater</strong> method helped me to overcome this warnings. This method allows to run some code from <strong>JavaFX Application Thread</strong> context.</p>\n"}],"owner":{"account_id":2818245,"reputation":581,"user_id":2422715,"accept_rate":31,"display_name":"Lorenzo De Francesco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1070,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1673292835,"creation_date":1513938745,"question_id":47939990,"body_markdown":"Today java is going crazy with CSS styling, I think it could be a problem of dependencies, my dependences are:\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jfoenix&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jfoenix&lt;/artifactId&gt;\r\n            &lt;version&gt;1.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n            &lt;version&gt;8.40.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.jensd&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fontawesomefx&lt;/artifactId&gt;\r\n            &lt;version&gt;8.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand the errorr is:\r\n\r\n    Dic 22, 2017 11:26:29 AM javafx.scene.CssStyleHelper calculateValue\r\n    WARNING: Could not resolve &#39;-fx-text-background-color&#39; while resolving \r\n    lookups for &#39;-fx-text-fill&#39; from rule &#39;*.label&#39; in stylesheet  jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\r\n    dic 22, 2017 11:26:29 AM javafx.scene.CssStyleHelper calculateValue\r\n    WARNING: Could not resolve &#39;-fx-text-background-color&#39; while resolving lookups for &#39;-fx-text-fill&#39; from rule &#39;*.label&#39; in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\r\n    dic 22, 2017 11:26:29 AM javafx.scene.CssStyleHelper calculateValue\r\n    WARNING: Could not resolve &#39;-fx-text-background-color&#39; while resolving lookups for &#39;-fx-text-fill&#39; from rule &#39;*.label&#39; in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\r\n    dic 22, 2017 11:26:29 AM javafx.scene.CssStyleHelper calculateValue\r\n    WARNING: Could not resolve &#39;-fx-text-background-color&#39; while resolving lookups for &#39;-fx-text-fill&#39; from rule &#39;*.label&#39; in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\r\n    dic 22, 2017 11:26:30 AM javafx.scene.CssStyleHelper calculateValue\r\n    WARNING: Could not resolve &#39;-fx-text-background-color&#39; while resolving lookups for &#39;-fx-text-fill&#39; from rule &#39;*.check-box&#39; in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\r\n    dic 22, 2017 11:26:33 AM javafx.scene.CssStyleHelper calculateValue\r\n    WARNING: Could not resolve &#39;-fx-text-background-color&#39; while resolving lookups for &#39;-fx-text-fill&#39; from rule &#39;*.check-box&#39; in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\r\n    dic 22, 2017 11:26:34 AM javafx.scene.CssStyleHelper calculateValue\r\n    WARNING: Could not resolve &#39;-fx-text-base-color&#39; while resolving lookups for &#39;-fx-text-fill&#39; from rule &#39;*.combo-box-base&#39; in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\r\n     dic 22, 2017 11:26:34 AM javafx.scene.CssStyleHelper calculateValue\r\n      WARNING: Could not resolve &#39;-fx-text-base-color&#39; while resolving lookups for &#39;-fx-text-fill&#39; from rule &#39;*.combo-box-base&#39; in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\r\n\r\nI cannot find the cause ... ","title":"Java error on CSS","body":"<p>Today java is going crazy with CSS styling, I think it could be a problem of dependencies, my dependences are:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.jfoenix&lt;/groupId&gt;\n        &lt;artifactId&gt;jfoenix&lt;/artifactId&gt;\n        &lt;version&gt;1.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n        &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n        &lt;version&gt;8.40.13&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;de.jensd&lt;/groupId&gt;\n        &lt;artifactId&gt;fontawesomefx&lt;/artifactId&gt;\n        &lt;version&gt;8.9&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>and the errorr is:</p>\n\n<pre><code>Dic 22, 2017 11:26:29 AM javafx.scene.CssStyleHelper calculateValue\nWARNING: Could not resolve '-fx-text-background-color' while resolving \nlookups for '-fx-text-fill' from rule '*.label' in stylesheet  jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\ndic 22, 2017 11:26:29 AM javafx.scene.CssStyleHelper calculateValue\nWARNING: Could not resolve '-fx-text-background-color' while resolving lookups for '-fx-text-fill' from rule '*.label' in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\ndic 22, 2017 11:26:29 AM javafx.scene.CssStyleHelper calculateValue\nWARNING: Could not resolve '-fx-text-background-color' while resolving lookups for '-fx-text-fill' from rule '*.label' in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\ndic 22, 2017 11:26:29 AM javafx.scene.CssStyleHelper calculateValue\nWARNING: Could not resolve '-fx-text-background-color' while resolving lookups for '-fx-text-fill' from rule '*.label' in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\ndic 22, 2017 11:26:30 AM javafx.scene.CssStyleHelper calculateValue\nWARNING: Could not resolve '-fx-text-background-color' while resolving lookups for '-fx-text-fill' from rule '*.check-box' in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\ndic 22, 2017 11:26:33 AM javafx.scene.CssStyleHelper calculateValue\nWARNING: Could not resolve '-fx-text-background-color' while resolving lookups for '-fx-text-fill' from rule '*.check-box' in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\ndic 22, 2017 11:26:34 AM javafx.scene.CssStyleHelper calculateValue\nWARNING: Could not resolve '-fx-text-base-color' while resolving lookups for '-fx-text-fill' from rule '*.combo-box-base' in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\n dic 22, 2017 11:26:34 AM javafx.scene.CssStyleHelper calculateValue\n  WARNING: Could not resolve '-fx-text-base-color' while resolving lookups for '-fx-text-fill' from rule '*.combo-box-base' in stylesheet jar:file:/C:/Program%20Files/Java/jdk1.8.0_144/jre/lib/ext/jfxrt.jar!/com/sun/javafx/scene/control/skin/modena/modena.bss\n</code></pre>\n\n<p>I cannot find the cause ... </p>\n"},{"tags":["java","java-native-interface","jocl"],"owner":{"account_id":24605455,"reputation":1,"user_id":18507711,"display_name":"ZDibLO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673292466,"creation_date":1673292466,"question_id":75062082,"body_markdown":"In my jogamp jocl program when i call (non static) CLCommandQueue.putMapImage() i get this error:\r\n```java\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: com.jogamp.opencl.llb.impl.CLImpl.clEnqueueMapImage0(JJIJLjava/lang/Object;ILjava/lang/Object;ILjava/lang/Object;ILjava/lang/Object;IILjava/lang/Object;ILjava/lang/Object;ILjava/lang/Object;IJJ)Ljava/nio/ByteBuffer;\r\n\tat com.jogamp.opencl.llb.impl.CLImpl.clEnqueueMapImage0(Native Method)\r\n\tat com.jogamp.opencl.llb.impl.CLImpl.clEnqueueMapImage(CLImpl.java:226)\r\n(not important)\r\n```\r\nI have installed proper (matching version in manifest) version of natives (gluegen too (classes + natives)) bc for every else (native tho) method it works but not on that one for some reason, any help? maybe i have to make additional native bindings by myself because for some reason these one dont work? \r\n\r\nWHY? HOW?\r\n\r\nPS. sorry for bad english\r\n\r\nI tried restarting, switching machine, putinng natives in root(workspace) directory, and no positive results.\r\nI can give examples too","title":"jogamp jocl native bind only for clEnqueueMapImage0 are missing","body":"<p>In my jogamp jocl program when i call (non static) CLCommandQueue.putMapImage() i get this error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: com.jogamp.opencl.llb.impl.CLImpl.clEnqueueMapImage0(JJIJLjava/lang/Object;ILjava/lang/Object;ILjava/lang/Object;ILjava/lang/Object;IILjava/lang/Object;ILjava/lang/Object;ILjava/lang/Object;IJJ)Ljava/nio/ByteBuffer;\n    at com.jogamp.opencl.llb.impl.CLImpl.clEnqueueMapImage0(Native Method)\n    at com.jogamp.opencl.llb.impl.CLImpl.clEnqueueMapImage(CLImpl.java:226)\n(not important)\n</code></pre>\n<p>I have installed proper (matching version in manifest) version of natives (gluegen too (classes + natives)) bc for every else (native tho) method it works but not on that one for some reason, any help? maybe i have to make additional native bindings by myself because for some reason these one dont work?</p>\n<p>WHY? HOW?</p>\n<p>PS. sorry for bad english</p>\n<p>I tried restarting, switching machine, putinng natives in root(workspace) directory, and no positive results.\nI can give examples too</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":1,"creation_date":1673289576,"post_id":75061564,"comment_id":132461152,"body_markdown":"This might help https://stackoverflow.com/questions/65456741/mongodb-mongoose-lookup-with-pipeline-error-code-9-but-no-error-message","body":"This might help <a href=\"https://stackoverflow.com/questions/65456741/mongodb-mongoose-lookup-with-pipeline-error-code-9-but-no-error-message\" title=\"mongodb mongoose lookup with pipeline error code 9 but no error message\">stackoverflow.com/questions/65456741/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4592324,"reputation":139,"user_id":3725297,"accept_rate":60,"display_name":"Jagath01234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673292352,"creation_date":1673291849,"answer_id":75061990,"question_id":75061564,"body_markdown":"Found the answer and it&#39;s a silly mistake from me. \r\nIf you check the given code you can see that I&#39;m using the `joinFields1` object in the assignments when I actually want to use the `joinFields2` object. Therefore at the querying time there are no fields in the `joinFields2` object. So the fix is\r\n\r\n   \r\n\r\n            MongoDatabase db = DbConnection.getMongoConnection();\r\n            MongoCollection&lt;Document&gt; borrower_details = db.getCollection(&quot;borrower_details&quot;);\r\n\r\n\r\n            BasicDBObject joinFields1 = new BasicDBObject();\r\n            joinFields1.append(&quot;from&quot;, &quot;student_details&quot;);\r\n            joinFields1.append(&quot;localField&quot;, &quot;student_id&quot;);\r\n            joinFields1.append(&quot;foreignField&quot;, &quot;student_id&quot;);\r\n            joinFields1.append(&quot;as&quot;, &quot;borrow_std&quot;);\r\n\r\n            BasicDBObject lookup1 = new BasicDBObject();\r\n            lookup1.append(&quot;$lookup&quot;, joinFields1);\r\n\r\n            BasicDBObject joinFields2 = new BasicDBObject();\r\n            joinFields2.append(&quot;from&quot;, &quot;book_details&quot;);\r\n            joinFields2.append(&quot;localField&quot;, &quot;book_id&quot;);\r\n            joinFields2.append(&quot;foreignField&quot;, &quot;book_id&quot;);\r\n            joinFields2.append(&quot;as&quot;, &quot;borrow_std_book&quot;);\r\n            BasicDBObject lookup2 = new BasicDBObject();\r\n            lookup2.append(&quot;$lookup&quot;, joinFields2);\r\n\r\n            BasicDBObject retriveFields = new BasicDBObject();\r\n            retriveFields.append(&quot;student_id&quot;, 1);\r\n            retriveFields.append(&quot;borrowed_from&quot;, 1);\r\n            retriveFields.append(&quot;borrowed_to&quot;, 1);\r\n            retriveFields.append(&quot;actual_return_date&quot;, 1);\r\n            retriveFields.append(&quot;student_name&quot;, &quot;$borrow_std.student_name&quot;);\r\n            retriveFields.append(&quot;book_title&quot;, &quot;$borrow_std_book.book_title&quot;);\r\n\r\n            BasicDBObject project = new BasicDBObject();\r\n            project.append(&quot;$project&quot;, retriveFields);\r\n\r\n            List&lt;BasicDBObject&gt; queryList = new ArrayList&lt;&gt;();\r\n            queryList.add(lookup1);\r\n            queryList.add(lookup2);\r\n            queryList.add(project);\r\n\r\n            MongoCursor&lt;Document&gt; cursor = borrower_details.aggregate(queryList).iterator();\r\n\r\n            while (cursor.hasNext()) {\r\n                Document rs = cursor.next();\r\n                /*\r\n                  data retrieval\r\n                 */\r\n            }","title":"How to fix the error &quot;must specify &#39;pipeline&#39; when &#39;from&#39; is empty&quot; in Mongodb aggregation query with java?","body":"<p>Found the answer and it's a silly mistake from me.\nIf you check the given code you can see that I'm using the <code>joinFields1</code> object in the assignments when I actually want to use the <code>joinFields2</code> object. Therefore at the querying time there are no fields in the <code>joinFields2</code> object. So the fix is</p>\n<pre><code>        MongoDatabase db = DbConnection.getMongoConnection();\n        MongoCollection&lt;Document&gt; borrower_details = db.getCollection(&quot;borrower_details&quot;);\n\n\n        BasicDBObject joinFields1 = new BasicDBObject();\n        joinFields1.append(&quot;from&quot;, &quot;student_details&quot;);\n        joinFields1.append(&quot;localField&quot;, &quot;student_id&quot;);\n        joinFields1.append(&quot;foreignField&quot;, &quot;student_id&quot;);\n        joinFields1.append(&quot;as&quot;, &quot;borrow_std&quot;);\n\n        BasicDBObject lookup1 = new BasicDBObject();\n        lookup1.append(&quot;$lookup&quot;, joinFields1);\n\n        BasicDBObject joinFields2 = new BasicDBObject();\n        joinFields2.append(&quot;from&quot;, &quot;book_details&quot;);\n        joinFields2.append(&quot;localField&quot;, &quot;book_id&quot;);\n        joinFields2.append(&quot;foreignField&quot;, &quot;book_id&quot;);\n        joinFields2.append(&quot;as&quot;, &quot;borrow_std_book&quot;);\n        BasicDBObject lookup2 = new BasicDBObject();\n        lookup2.append(&quot;$lookup&quot;, joinFields2);\n\n        BasicDBObject retriveFields = new BasicDBObject();\n        retriveFields.append(&quot;student_id&quot;, 1);\n        retriveFields.append(&quot;borrowed_from&quot;, 1);\n        retriveFields.append(&quot;borrowed_to&quot;, 1);\n        retriveFields.append(&quot;actual_return_date&quot;, 1);\n        retriveFields.append(&quot;student_name&quot;, &quot;$borrow_std.student_name&quot;);\n        retriveFields.append(&quot;book_title&quot;, &quot;$borrow_std_book.book_title&quot;);\n\n        BasicDBObject project = new BasicDBObject();\n        project.append(&quot;$project&quot;, retriveFields);\n\n        List&lt;BasicDBObject&gt; queryList = new ArrayList&lt;&gt;();\n        queryList.add(lookup1);\n        queryList.add(lookup2);\n        queryList.add(project);\n\n        MongoCursor&lt;Document&gt; cursor = borrower_details.aggregate(queryList).iterator();\n\n        while (cursor.hasNext()) {\n            Document rs = cursor.next();\n            /*\n              data retrieval\n             */\n        }\n</code></pre>\n"}],"owner":{"account_id":4592324,"reputation":139,"user_id":3725297,"accept_rate":60,"display_name":"Jagath01234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673292352,"creation_date":1673289080,"question_id":75061564,"body_markdown":"I&#39;m receiving this error in my Mongodb aggregate query in my java application. \r\n\r\n    com.mongodb.MongoCommandException: Command failed with error 9 (FailedToParse): &#39;must specify &#39;pipeline&#39; when &#39;from&#39; is empty&#39; on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;must specify &#39;pipeline&#39; when &#39;from&#39; is empty&quot;, &quot;code&quot;: 9, &quot;codeName&quot;: &quot;FailedToParse&quot;}\r\n\r\nBelow is my Mongo query from  Mongo shell and it works fine and giving me the results.\r\n\r\n    db.borrower_details.aggregate([\r\n\r\n    {\r\n        $lookup:{\r\n            from: &quot;student_details&quot;,   \r\n            localField: &quot;student_id&quot;,  \r\n            foreignField: &quot;student_id&quot;,\r\n            as: &quot;borrow_std&quot;     \r\n        }\r\n    },\r\n\r\n    {\r\n        $lookup:{\r\n            from: &quot;book_details&quot;, \r\n            localField: &quot;book_id&quot;, \r\n            foreignField: &quot;book_id&quot;,\r\n            as: &quot;borrow_std_book&quot;\r\n        }\r\n    },\r\n    {   \r\n        $project:{\r\n            student_id : 1,\r\n            borrowed_from : 1,\r\n            book_title : &quot;$borrow_std_book.Book_Title&quot;,\r\n        } \r\n    }]};\r\n\r\nHowever below is my java code and it does not works and it gives me the above mentioned exception. \r\n\r\n     MongoCollection&lt;Document&gt; borrower_details = db.getCollection(&quot;borrower_details&quot;);\r\n\r\n\r\n            BasicDBObject joinFields1 = new BasicDBObject();\r\n            joinFields1.append(&quot;from&quot;, &quot;student_details&quot;);\r\n            joinFields1.append(&quot;localField&quot;, &quot;student_id&quot;);\r\n            joinFields1.append(&quot;foreignField&quot;, &quot;student_id&quot;);\r\n            joinFields1.append(&quot;as&quot;, &quot;borrow_std&quot;);\r\n            BasicDBObject lookup1 = new BasicDBObject();\r\n            lookup1.append(&quot;$lookup&quot;, joinFields1);\r\n\r\n            BasicDBObject joinFields2 = new BasicDBObject();\r\n            joinFields1.append(&quot;from&quot;, &quot;book_details&quot;);\r\n            joinFields1.append(&quot;localField&quot;, &quot;book_id&quot;);\r\n            joinFields1.append(&quot;foreignField&quot;, &quot;book_id&quot;);\r\n            joinFields1.append(&quot;as&quot;, &quot;borrow_std_book&quot;);\r\n            BasicDBObject lookup2 = new BasicDBObject();\r\n            lookup2.append(&quot;$lookup&quot;, joinFields2);\r\n\r\n            BasicDBObject retriveFields = new BasicDBObject();\r\n            retriveFields.append(&quot;student_id&quot;, 1);\r\n            retriveFields.append(&quot;borrowed_from&quot;, 1);\r\n            retriveFields.append(&quot;book_title&quot;, &quot;$borrow_std_book.book_title&quot;);\r\n\r\n            BasicDBObject project = new BasicDBObject();\r\n            project.append(&quot;$project&quot;, retriveFields);\r\n\r\n            List&lt;BasicDBObject&gt; queryList = new ArrayList&lt;&gt;();\r\n            queryList.add(lookup1);\r\n            queryList.add(lookup2);\r\n            queryList.add(project);\r\n\r\n            MongoCursor&lt;Document&gt; cursor = borrower_details.aggregate(queryList).iterator();\r\n\r\n\r\nWhat is the issue in my java code?\r\n\r\n","title":"How to fix the error &quot;must specify &#39;pipeline&#39; when &#39;from&#39; is empty&quot; in Mongodb aggregation query with java?","body":"<p>I'm receiving this error in my Mongodb aggregate query in my java application.</p>\n<pre><code>com.mongodb.MongoCommandException: Command failed with error 9 (FailedToParse): 'must specify 'pipeline' when 'from' is empty' on server localhost:27017. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;must specify 'pipeline' when 'from' is empty&quot;, &quot;code&quot;: 9, &quot;codeName&quot;: &quot;FailedToParse&quot;}\n</code></pre>\n<p>Below is my Mongo query from  Mongo shell and it works fine and giving me the results.</p>\n<pre><code>db.borrower_details.aggregate([\n\n{\n    $lookup:{\n        from: &quot;student_details&quot;,   \n        localField: &quot;student_id&quot;,  \n        foreignField: &quot;student_id&quot;,\n        as: &quot;borrow_std&quot;     \n    }\n},\n\n{\n    $lookup:{\n        from: &quot;book_details&quot;, \n        localField: &quot;book_id&quot;, \n        foreignField: &quot;book_id&quot;,\n        as: &quot;borrow_std_book&quot;\n    }\n},\n{   \n    $project:{\n        student_id : 1,\n        borrowed_from : 1,\n        book_title : &quot;$borrow_std_book.Book_Title&quot;,\n    } \n}]};\n</code></pre>\n<p>However below is my java code and it does not works and it gives me the above mentioned exception.</p>\n<pre><code> MongoCollection&lt;Document&gt; borrower_details = db.getCollection(&quot;borrower_details&quot;);\n\n\n        BasicDBObject joinFields1 = new BasicDBObject();\n        joinFields1.append(&quot;from&quot;, &quot;student_details&quot;);\n        joinFields1.append(&quot;localField&quot;, &quot;student_id&quot;);\n        joinFields1.append(&quot;foreignField&quot;, &quot;student_id&quot;);\n        joinFields1.append(&quot;as&quot;, &quot;borrow_std&quot;);\n        BasicDBObject lookup1 = new BasicDBObject();\n        lookup1.append(&quot;$lookup&quot;, joinFields1);\n\n        BasicDBObject joinFields2 = new BasicDBObject();\n        joinFields1.append(&quot;from&quot;, &quot;book_details&quot;);\n        joinFields1.append(&quot;localField&quot;, &quot;book_id&quot;);\n        joinFields1.append(&quot;foreignField&quot;, &quot;book_id&quot;);\n        joinFields1.append(&quot;as&quot;, &quot;borrow_std_book&quot;);\n        BasicDBObject lookup2 = new BasicDBObject();\n        lookup2.append(&quot;$lookup&quot;, joinFields2);\n\n        BasicDBObject retriveFields = new BasicDBObject();\n        retriveFields.append(&quot;student_id&quot;, 1);\n        retriveFields.append(&quot;borrowed_from&quot;, 1);\n        retriveFields.append(&quot;book_title&quot;, &quot;$borrow_std_book.book_title&quot;);\n\n        BasicDBObject project = new BasicDBObject();\n        project.append(&quot;$project&quot;, retriveFields);\n\n        List&lt;BasicDBObject&gt; queryList = new ArrayList&lt;&gt;();\n        queryList.add(lookup1);\n        queryList.add(lookup2);\n        queryList.add(project);\n\n        MongoCursor&lt;Document&gt; cursor = borrower_details.aggregate(queryList).iterator();\n</code></pre>\n<p>What is the issue in my java code?</p>\n"},{"tags":["java","data-structures","linked-list","singly-linked-list"],"comments":[{"owner":{"account_id":2322191,"reputation":141,"user_id":2037608,"accept_rate":100,"display_name":"gemorra"},"score":3,"creation_date":1673209415,"post_id":75050988,"comment_id":132441718,"body_markdown":"please provide more information. How do you call your method","body":"please provide more information. How do you call your method"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673209747,"post_id":75050988,"comment_id":132441786,"body_markdown":"Lists with loops?","body":"Lists with loops?"},{"owner":{"account_id":25366612,"reputation":1,"user_id":19181110,"display_name":"batsiouny"},"score":0,"creation_date":1673245297,"post_id":75050988,"comment_id":132446407,"body_markdown":"@gemorra this is a method that swipes the element in the kth position from the beginning of the list, with the element in the kth position from the end of the list, you call the method by invoking it on the head of the linked list and you give it an integer &quot;k&quot; to determine which elements it will be swapping","body":"@gemorra this is a method that swipes the element in the kth position from the beginning of the list, with the element in the kth position from the end of the list, you call the method by invoking it on the head of the linked list and you give it an integer &quot;k&quot; to determine which elements it will be swapping"},{"owner":{"account_id":25366612,"reputation":1,"user_id":19181110,"display_name":"batsiouny"},"score":0,"creation_date":1673245364,"post_id":75050988,"comment_id":132446420,"body_markdown":"@knittl yes the loops in this code are used to move the pointers to point to the nodes to be swapped","body":"@knittl yes the loops in this code are used to move the pointers to point to the nodes to be swapped"},{"owner":{"account_id":2322191,"reputation":141,"user_id":2037608,"accept_rate":100,"display_name":"gemorra"},"score":0,"creation_date":1673266896,"post_id":75050988,"comment_id":132452548,"body_markdown":"I got what it should do. I just wanted to know, how you called the method and ended up in a infinite loop. Or is it always like this? And could you point me to the Class ListNode. I can&#39;t find it?","body":"I got what it should do. I just wanted to know, how you called the method and ended up in a infinite loop. Or is it always like this? And could you point me to the Class ListNode. I can&#39;t find it?"},{"owner":{"account_id":25366612,"reputation":1,"user_id":19181110,"display_name":"batsiouny"},"score":0,"creation_date":1673276730,"post_id":75050988,"comment_id":132456450,"body_markdown":"@gemorra Definition for singly-linked list.\n &#39; public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode() {}\n *     ListNode(int val) { this.val = val; }\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n * } &#39;\nand the infinite loop case happens when two pointers are pointing at the same node","body":"@gemorra Definition for singly-linked list.  &#39; public class ListNode {  *     int val;  *     ListNode next;  *     ListNode() {}  *     ListNode(int val) { this.val = val; }  *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }  * } &#39; and the infinite loop case happens when two pointers are pointing at the same node"},{"owner":{"account_id":25366612,"reputation":1,"user_id":19181110,"display_name":"batsiouny"},"score":0,"creation_date":1673276859,"post_id":75050988,"comment_id":132456504,"body_markdown":"@gemorra i&#39;m sorry the code looks the way it does, it&#39;s my first time posting here so i&#39;m still kind of new to this","body":"@gemorra i&#39;m sorry the code looks the way it does, it&#39;s my first time posting here so i&#39;m still kind of new to this"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1673454302,"post_id":75050988,"comment_id":132504173,"body_markdown":"You shouldn&#39;t post code in comments. You should edit the question, and add the additional information there. You can use the comments to let us know that you made such and such a change.","body":"You shouldn&#39;t post code in comments. You should edit the question, and add the additional information there. You can use the comments to let us know that you made such and such a change."}],"answers":[{"tags":[],"owner":{"account_id":2322191,"reputation":141,"user_id":2037608,"accept_rate":100,"display_name":"gemorra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673292110,"creation_date":1673292110,"answer_id":75062028,"question_id":75050988,"body_markdown":"for me everything works fine. Maybe you are using other inputs or initialising the List in a wrong way.\r\n\r\nI added a method to your ListNode class to create the list in a fluent way:\r\n\r\n    public ListNode addListNode(int v) {\r\n        ListNode listNode = new ListNode(v);\r\n        next = listNode;\r\n        return listNode;\r\n    }\r\n\r\nand a print Method to your Solution class to print the list.\r\n\r\n    public static void printList(ListNode head)\r\n    {\r\n        StringBuilder out = new StringBuilder();\r\n        ListNode curr = head;\r\n        while (curr != null)\r\n        {\r\n            out.append(curr.val).append(&quot;,&quot;);\r\n            curr = curr.next;\r\n        }\r\n        System.out.println(out);\r\n    }\r\n\r\nRunning it with this main method:\r\n\r\n    public static void main(String[] args) {\r\n        ListNode listNode = new ListNode(1);\r\n        ListNode currNode = listNode.addListNode(2);\r\n        for( int i = 3; i &lt;= 10; i++) {\r\n            currNode = currNode.addListNode(i);\r\n        }\r\n        // you also could write listNode.addListNode(2).addListNode(3).addListNode(4) ...\r\n\r\n        printList(listNode);\r\n        System.out.println(&quot;SwapNodes&quot;);\r\n        ListNode swappedListNode = swapNodes(listNode, 2);\r\n        printList(swappedListNode);\r\n    }\r\n\r\nit outputs\r\n\r\n    1,2,3,4,5,6,7,8,9,10,\r\n    SwapNodes\r\n    1,9,3,4,5,6,7,8,2,10,\r\n\r\nSo it seems to work as expected, no infinite loop. As I mentioned at the beginning feel free to add your main method and the way you are calling the swapNodes Method. \r\n\r\nYou can edit your question and add these informations..\r\n","title":"infinite loop, LeetCode 1721","body":"<p>for me everything works fine. Maybe you are using other inputs or initialising the List in a wrong way.</p>\n<p>I added a method to your ListNode class to create the list in a fluent way:</p>\n<pre><code>public ListNode addListNode(int v) {\n    ListNode listNode = new ListNode(v);\n    next = listNode;\n    return listNode;\n}\n</code></pre>\n<p>and a print Method to your Solution class to print the list.</p>\n<pre><code>public static void printList(ListNode head)\n{\n    StringBuilder out = new StringBuilder();\n    ListNode curr = head;\n    while (curr != null)\n    {\n        out.append(curr.val).append(&quot;,&quot;);\n        curr = curr.next;\n    }\n    System.out.println(out);\n}\n</code></pre>\n<p>Running it with this main method:</p>\n<pre><code>public static void main(String[] args) {\n    ListNode listNode = new ListNode(1);\n    ListNode currNode = listNode.addListNode(2);\n    for( int i = 3; i &lt;= 10; i++) {\n        currNode = currNode.addListNode(i);\n    }\n    // you also could write listNode.addListNode(2).addListNode(3).addListNode(4) ...\n\n    printList(listNode);\n    System.out.println(&quot;SwapNodes&quot;);\n    ListNode swappedListNode = swapNodes(listNode, 2);\n    printList(swappedListNode);\n}\n</code></pre>\n<p>it outputs</p>\n<pre><code>1,2,3,4,5,6,7,8,9,10,\nSwapNodes\n1,9,3,4,5,6,7,8,2,10,\n</code></pre>\n<p>So it seems to work as expected, no infinite loop. As I mentioned at the beginning feel free to add your main method and the way you are calling the swapNodes Method.</p>\n<p>You can edit your question and add these informations..</p>\n"}],"owner":{"account_id":25366612,"reputation":1,"user_id":19181110,"display_name":"batsiouny"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673292110,"creation_date":1673209103,"question_id":75050988,"body_markdown":"here&#39;s my code :\r\n```\r\nclass Solution {\r\n    public int size (ListNode head)\r\n    {\r\n        int size = 0;\r\n        ListNode curr = head;\r\n        while (curr != null)\r\n        {\r\n            size ++;\r\n            curr = curr.next;\r\n        }\r\n        return size;\r\n    }\r\n    public ListNode swapNodes(ListNode head, int k) {\r\n        ListNode curr = head;\r\n        ListNode curr2 = head;\r\n        ListNode pre = null;\r\n        ListNode pre2 = null;\r\n        ListNode result = head;\r\n        for (int i = 1; i &lt; k &amp;&amp; curr != null; i ++)\r\n        {\r\n            pre = curr;\r\n            curr = curr.next;\r\n        }\r\n        int size = size(head);\r\n        for (int i = 0; i &lt; (size - k) &amp;&amp; curr2 != null; i ++)\r\n        {\r\n            pre2 = curr2;\r\n            curr2 = curr2.next;\r\n        }\r\n        ListNode tmp = curr.next;\r\n        ListNode tmp2 = curr2.next;\r\n        pre.next = curr2;\r\n        curr2.next = tmp;\r\n        pre2.next = curr;\r\n        curr.next = tmp2;\r\n        return head;\r\n        \r\n    }\r\n}\r\n```\r\n\r\nthere seems to be an infinite loop in one of the cases and i can&#39;t fix it, can someone help please ? ","title":"infinite loop, LeetCode 1721","body":"<p>here's my code :</p>\n<pre><code>class Solution {\n    public int size (ListNode head)\n    {\n        int size = 0;\n        ListNode curr = head;\n        while (curr != null)\n        {\n            size ++;\n            curr = curr.next;\n        }\n        return size;\n    }\n    public ListNode swapNodes(ListNode head, int k) {\n        ListNode curr = head;\n        ListNode curr2 = head;\n        ListNode pre = null;\n        ListNode pre2 = null;\n        ListNode result = head;\n        for (int i = 1; i &lt; k &amp;&amp; curr != null; i ++)\n        {\n            pre = curr;\n            curr = curr.next;\n        }\n        int size = size(head);\n        for (int i = 0; i &lt; (size - k) &amp;&amp; curr2 != null; i ++)\n        {\n            pre2 = curr2;\n            curr2 = curr2.next;\n        }\n        ListNode tmp = curr.next;\n        ListNode tmp2 = curr2.next;\n        pre.next = curr2;\n        curr2.next = tmp;\n        pre2.next = curr;\n        curr.next = tmp2;\n        return head;\n        \n    }\n}\n</code></pre>\n<p>there seems to be an infinite loop in one of the cases and i can't fix it, can someone help please ?</p>\n"},{"tags":["java","karate","teardown"],"answers":[{"tags":[],"owner":{"account_id":14365847,"reputation":64,"user_id":10376926,"display_name":"birketta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1538135605,"creation_date":1538135605,"answer_id":52554775,"question_id":52549816,"body_markdown":"**If it&#39;s truly a one time execution at the end you could let JUnit take care of this step by adding @AfterClass**\r\n\r\nThe below example shows where you can add your before and after code.\r\n\r\n    @RunWith(Karate.class)\r\n\t@CucumberOptions(features = &quot;classpath:features&quot;)\r\n\tpublic class TestRunner {\r\n\t    \r\n\t  @BeforeClass\r\n\t  public static void beforeClass() {\r\n\t    System.out.println(&quot;BEFORE&quot;); \r\n\t  }     \r\n\t  \r\n\t  @AfterClass\r\n\t  public static void afterClass() {\r\n\t    System.out.println(&quot;AFTER&quot;); \r\n\t  }     \r\n\t    \r\n\t}\r\n\r\nCurrently the ordering of feature execution is down to the underlying Cucumber implementation.\r\n\r\nKarate currently uses cucumbers MultiLoader to load the features from the file system or classpath.\r\nThe cucumber version is 1.2.5 as of karate release 0.8.1, and the ordering is determined by the Java ClassLoader.getResources https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResources(java.lang.String)\r\n\r\nYou&#39;re going to have to worry about your directory structure and the naming of files within the folders.\r\n\r\n\r\n(On a side note, a cleaner way would be for each feature to be completely independent from other features).\r\n\r\n\r\n**If you really want to force the order of feature execution, a &quot;Karate way&quot; would be to execute just one feature, and have this feature call the features you want after each other i.e:**\r\n\r\n\r\nSpecify the Runner to only execute your orchestrator feature:\r\n\r\n        @RunWith(Karate.class)\r\n\t\t@CucumberOptions(features = &quot;classpath:features/orchestrator.feature&quot;)\r\n\t\tpublic class TestRunner {\r\n\t\t    \r\n\t\t  @BeforeClass\r\n\t\t  public static void beforeClass() {\r\n\t\t    System.out.println(&quot;BEFORE&quot;); \r\n\t\t  }     \r\n\t\t  \r\n\t\t  @AfterClass\r\n\t\t  public static void afterClass() {\r\n\t\t    System.out.println(&quot;AFTER&quot;); \r\n\t\t  }     \r\n\t\t    \r\n\t\t}\r\n\r\n\r\n\r\nDefine the test orchestrator that will call the other features in order:\r\n\r\n\t\tFeature: Test orchestration feature \r\n\r\n\t\tScenario: Run all of the tests in order\r\n\t\t  \r\n\t\t  * call read(&#39;first.feature&#39;)\r\n\t\t  * call read(&#39;second.feature&#39;)\r\n\t\t  * call read(&#39;third.feature&#39;)\r\n\r\n\r\nHere are sample features that are called - first:\r\n\r\n\t\tFeature: First feature \r\n\r\n\t\tScenario: First\r\n\t\t  \r\n\t\t  * print &quot;first&quot;\r\n\r\nsecond: \r\n\r\n\r\n        Feature: Second feature \r\n\r\n        Scenario: Second\r\n  \r\n          * print &quot;Second&quot;\r\n\r\nand third:\r\n\r\n        Feature: Third feature \r\n\r\n        Scenario: Third\r\n  \r\n          * print &quot;Third&quot;\r\n","title":"How to define order for feature execution in Karate?","body":"<p><strong>If it's truly a one time execution at the end you could let JUnit take care of this step by adding @AfterClass</strong></p>\n\n<p>The below example shows where you can add your before and after code.</p>\n\n<pre><code>@RunWith(Karate.class)\n@CucumberOptions(features = \"classpath:features\")\npublic class TestRunner {\n\n  @BeforeClass\n  public static void beforeClass() {\n    System.out.println(\"BEFORE\"); \n  }     \n\n  @AfterClass\n  public static void afterClass() {\n    System.out.println(\"AFTER\"); \n  }     \n\n}\n</code></pre>\n\n<p>Currently the ordering of feature execution is down to the underlying Cucumber implementation.</p>\n\n<p>Karate currently uses cucumbers MultiLoader to load the features from the file system or classpath.\nThe cucumber version is 1.2.5 as of karate release 0.8.1, and the ordering is determined by the Java ClassLoader.getResources <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResources(java.lang.String)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/ClassLoader.html#getResources(java.lang.String)</a></p>\n\n<p>You're going to have to worry about your directory structure and the naming of files within the folders.</p>\n\n<p>(On a side note, a cleaner way would be for each feature to be completely independent from other features).</p>\n\n<p><strong>If you really want to force the order of feature execution, a \"Karate way\" would be to execute just one feature, and have this feature call the features you want after each other i.e:</strong></p>\n\n<p>Specify the Runner to only execute your orchestrator feature:</p>\n\n<pre><code>    @RunWith(Karate.class)\n    @CucumberOptions(features = \"classpath:features/orchestrator.feature\")\n    public class TestRunner {\n\n      @BeforeClass\n      public static void beforeClass() {\n        System.out.println(\"BEFORE\"); \n      }     \n\n      @AfterClass\n      public static void afterClass() {\n        System.out.println(\"AFTER\"); \n      }     \n\n    }\n</code></pre>\n\n<p>Define the test orchestrator that will call the other features in order:</p>\n\n<pre><code>    Feature: Test orchestration feature \n\n    Scenario: Run all of the tests in order\n\n      * call read('first.feature')\n      * call read('second.feature')\n      * call read('third.feature')\n</code></pre>\n\n<p>Here are sample features that are called - first:</p>\n\n<pre><code>    Feature: First feature \n\n    Scenario: First\n\n      * print \"first\"\n</code></pre>\n\n<p>second: </p>\n\n<pre><code>    Feature: Second feature \n\n    Scenario: Second\n\n      * print \"Second\"\n</code></pre>\n\n<p>and third:</p>\n\n<pre><code>    Feature: Third feature \n\n    Scenario: Third\n\n      * print \"Third\"\n</code></pre>\n"}],"owner":{"account_id":14164130,"reputation":373,"user_id":10232516,"display_name":"Sneha Shukla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52554775,"answer_count":1,"score":1,"last_activity_date":1673291062,"creation_date":1538117217,"question_id":52549816,"body_markdown":"I have 14 features in total.\r\nOne of them is for cleaning (teardown), so I want that to run in the end.\r\n\r\nBut when I run my suite, it actually runs in the middle and hence breaks the suite.\r\n\r\n\r\nHow can we run the features in a specific order?","title":"How to define order for feature execution in Karate?","body":"<p>I have 14 features in total.\nOne of them is for cleaning (teardown), so I want that to run in the end.</p>\n<p>But when I run my suite, it actually runs in the middle and hence breaks the suite.</p>\n<p>How can we run the features in a specific order?</p>\n"},{"tags":["java","nosuchelementexception"],"answers":[{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673290704,"creation_date":1673290189,"answer_id":75061725,"question_id":75061530,"body_markdown":"This happens when there is no input at all, for example when you hit &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;d&lt;/kbd&gt; or run your code like `echo &quot;&quot; | java Main.java`.\r\n\r\nTo avoid this, check that the `Scanner` actually has input before trying to grab the next line. Pull `scan` out of the loop, there is no point to create a new `Scanner` for each line anyway. Then use `hasNext` to see if there is input.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        while (scan.hasNext()) {\r\n            String str = scan.nextLine();\r\n            if(str.equals(&quot;END&quot;)){\r\n                break;\r\n            }\r\n            for (int i = str.length()-1; i &gt;=0; i--) {\r\n                System.out.print(str.charAt(i));\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to solve NoSuchElement in java?","body":"<p>This happens when there is no input at all, for example when you hit <kbd>Ctrl</kbd> + <kbd>d</kbd> or run your code like <code>echo &quot;&quot; | java Main.java</code>.</p>\n<p>To avoid this, check that the <code>Scanner</code> actually has input before trying to grab the next line. Pull <code>scan</code> out of the loop, there is no point to create a new <code>Scanner</code> for each line anyway. Then use <code>hasNext</code> to see if there is input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        while (scan.hasNext()) {\n            String str = scan.nextLine();\n            if(str.equals(&quot;END&quot;)){\n                break;\n            }\n            for (int i = str.length()-1; i &gt;=0; i--) {\n                System.out.print(str.charAt(i));\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27480367,"reputation":35,"user_id":20967571,"display_name":"sera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75061725,"answer_count":1,"score":0,"last_activity_date":1673290704,"creation_date":1673288876,"question_id":75061530,"body_markdown":"It works well on Intellij. \r\nHowever, NoSuchElement appears on the algorithmic solution site. \r\nI know that NoSuchElement is a problem caused by trying to receive it even though there is no value entered.\r\nBut I wrote it so that the problem of NoSuchElement doesn&#39;t occur.\r\nBecause given str, the for statement executes. Given &quot;END&quot;, the if statement is executed. And because it ends with &quot;break;&quot;.\r\nI don&#39;t know what the problem is.\r\n\r\n\r\nAlgorithm problem: Arrange the reverse sentence correctly.\r\nMy code for algorithmic problems\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        while(true) {\r\n            Scanner scan = new Scanner(System.in);\r\n            String str = scan.nextLine();\r\n            if(str.equals(&quot;END&quot;)){\r\n                break;\r\n            }\r\n            for (int i = str.length()-1; i &gt;=0; i--) {\r\n                System.out.print(str.charAt(i));\r\n            }\r\n            System.out.println();\r\n        }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n**Output**\r\n&gt;!edoc doog a tahW\r\nerafraw enirambus detcirtsernu yraurbeF fo tsrif eht no nigeb ot dnetni eW\r\nEND\r\n\r\n**Expected**\r\n&gt;What a good code!\r\nWe intend to begin on the first of February unrestricted submarine warfare\r\n\r\n","title":"How to solve NoSuchElement in java?","body":"<p>It works well on Intellij.\nHowever, NoSuchElement appears on the algorithmic solution site.\nI know that NoSuchElement is a problem caused by trying to receive it even though there is no value entered.\nBut I wrote it so that the problem of NoSuchElement doesn't occur.\nBecause given str, the for statement executes. Given &quot;END&quot;, the if statement is executed. And because it ends with &quot;break;&quot;.\nI don't know what the problem is.</p>\n<p>Algorithm problem: Arrange the reverse sentence correctly.\nMy code for algorithmic problems</p>\n<pre><code>import java.util.Scanner;\n\n    public class Main {\n    public static void main(String[] args) {\n        while(true) {\n            Scanner scan = new Scanner(System.in);\n            String str = scan.nextLine();\n            if(str.equals(&quot;END&quot;)){\n                break;\n            }\n            for (int i = str.length()-1; i &gt;=0; i--) {\n                System.out.print(str.charAt(i));\n            }\n            System.out.println();\n        }\n        }\n    }\n</code></pre>\n<p><strong>Output</strong></p>\n<blockquote>\n<p>!edoc doog a tahW\nerafraw enirambus detcirtsernu yraurbeF fo tsrif eht no nigeb ot dnetni eW\nEND</p>\n</blockquote>\n<p><strong>Expected</strong></p>\n<blockquote>\n<p>What a good code!\nWe intend to begin on the first of February unrestricted submarine warfare</p>\n</blockquote>\n"},{"tags":["java","exception","junit","mockito","malformedurlexception"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1673296013,"post_id":75059873,"comment_id":132462916,"body_markdown":"How is the private method `getUrl()` related to the problem? Which JUnit version are you using? How is the [mockito] tag related to the question?","body":"How is the private method <code>getUrl()</code> related to the problem? Which JUnit version are you using? How is the [mockito] tag related to the question?"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673281067,"creation_date":1673281067,"answer_id":75060098,"question_id":75059873,"body_markdown":"As your test executes a method that can throw a `MalformedURLException` it is required that the test method either handles it with a try-catch or try-finally or simply declares that exception to be thrown, like\r\n\r\n``` lang-java\r\n@Test(expected = MalformedURLException.class)\r\npublic void gctNameSpace_Exception() throws MalformedURLException {\r\n  ServerConnection connection = new ServerConnection();\r\n  connection.setNameSpace();\r\n  String s = connection.getDNSBasedUrl();\r\n}\r\n```","title":"Junit-Expected MalformedURLException but got UndeclaredThrowableException","body":"<p>As your test executes a method that can throw a <code>MalformedURLException</code> it is required that the test method either handles it with a try-catch or try-finally or simply declares that exception to be thrown, like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test(expected = MalformedURLException.class)\npublic void gctNameSpace_Exception() throws MalformedURLException {\n  ServerConnection connection = new ServerConnection();\n  connection.setNameSpace();\n  String s = connection.getDNSBasedUrl();\n}\n</code></pre>\n"}],"owner":{"account_id":25272564,"reputation":9,"user_id":19101688,"display_name":"Sumit Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673290588,"creation_date":1673279943,"question_id":75059873,"body_markdown":"I have a class ServerConnection.java which have below methods\r\n```\r\n private String getUrl() throws MalformedURLException {\r\n  // some operations and condition\r\n\tURL url = getDNSBasedUrl();\r\n}\r\n\r\npublic String getDNSBasedUrl() throws MalformedURLException{\r\nif(this.nameSpace==null)\r\nthrow new MalformedURLException(&quot;undefined namespace&quot;);\r\nreturn this.nodeName + this.nameSpace;\r\n}\r\n```\r\nTest case is written as below\r\n```\r\n@Test(expected = MalformedURLException.class)\r\npublic void gctNameSpace_Exception(){\r\n ServerConnection connection = new ServerConnection();\r\n connection.setNameSpace(null);\r\n String s = connection.getDNSBasedUrl();\r\n}\r\n```\r\nI am expecting MalformedURLException but getting below error.\r\n```\r\njava.lang.Exception: Unexpected exception, expected&lt;java.net.MalformedURLException&gt; but was&lt;java.lang.reflect.UndeclaredThrowableException&gt;\r\n```\r\nDon&#39;t want to change exceptions thrown from methods, getUrl() is referenced at many places.\r\nThanks in advance.\r\n\r\n","title":"Junit-Expected MalformedURLException but got UndeclaredThrowableException","body":"<p>I have a class ServerConnection.java which have below methods</p>\n<pre><code> private String getUrl() throws MalformedURLException {\n  // some operations and condition\n    URL url = getDNSBasedUrl();\n}\n\npublic String getDNSBasedUrl() throws MalformedURLException{\nif(this.nameSpace==null)\nthrow new MalformedURLException(&quot;undefined namespace&quot;);\nreturn this.nodeName + this.nameSpace;\n}\n</code></pre>\n<p>Test case is written as below</p>\n<pre><code>@Test(expected = MalformedURLException.class)\npublic void gctNameSpace_Exception(){\n ServerConnection connection = new ServerConnection();\n connection.setNameSpace(null);\n String s = connection.getDNSBasedUrl();\n}\n</code></pre>\n<p>I am expecting MalformedURLException but getting below error.</p>\n<pre><code>java.lang.Exception: Unexpected exception, expected&lt;java.net.MalformedURLException&gt; but was&lt;java.lang.reflect.UndeclaredThrowableException&gt;\n</code></pre>\n<p>Don't want to change exceptions thrown from methods, getUrl() is referenced at many places.\nThanks in advance.</p>\n"},{"tags":["javascript","java","websocket","jwt","authorization"],"comments":[{"owner":{"account_id":1794329,"reputation":798,"user_id":1634084,"display_name":"Daniel Richter"},"score":0,"creation_date":1700899633,"post_id":75061731,"comment_id":136710904,"body_markdown":"did u find the solution?","body":"did u find the solution?"}],"owner":{"account_id":14679193,"reputation":83,"user_id":10601264,"display_name":"Mihalache Rares"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673290227,"creation_date":1673290227,"question_id":75061731,"body_markdown":"I am trying to make my backend and frontend communicate trough web sockets using STOMP. It is very weird that I get `401(Unauthorized)` status code when I try to connect from my browser, but `200(OK)` when connecting from by Postman after login. It is important to mention that i keep my `jwt` in the `sessionStorage` on my browser and i build the Authorization Header with it and pass it to the stompClient connection.\r\n\r\nBelow is the client code in JS:\r\n```js\r\nasync function connect() {\r\n    var socket = new SockJS(&quot;http://localhost:8080/api/websocket&quot;);\r\n    let stompClient = Stomp.over(socket);\r\n    const token = sessionStorage.getItem(&quot;jwtToken&quot;);\r\n    const headers = {\r\n      Authorization: &quot;Bearer &quot; + token,\r\n    };\r\n    const headersAuth = { headers };\r\n    console.log(headersAuth);\r\n    stompClient.connect({ headersAuth }, function (frame) {\r\n      stompClient.subscribe(&quot;/topic/events&quot;, function (messageOutput) {\r\n        const msg = JSON.parse(messageOutput.body);\r\n\r\n        if (msg.id_user === sessionStorage.getItem(&quot;jwtToken&quot;)) {\r\n          setMess(\r\n            &quot;for the client with id &quot; +\r\n              msg.id_user +\r\n              &quot; the max energy for device with ID &quot; +\r\n              msg.id_device +\r\n              &quot; has been EXCEDEED with &quot; +\r\n              msg.diferenta\r\n          );\r\n          setOpen(true);\r\n        }\r\n        console.log(msg.id_user);\r\n      });\r\n    });\r\n  }\r\n```\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jra9r.png\r\n  [2]: https://i.stack.imgur.com/Mv1jz.png","title":"Websocket connection fails in the browser, but works in Postman","body":"<p>I am trying to make my backend and frontend communicate trough web sockets using STOMP. It is very weird that I get <code>401(Unauthorized)</code> status code when I try to connect from my browser, but <code>200(OK)</code> when connecting from by Postman after login. It is important to mention that i keep my <code>jwt</code> in the <code>sessionStorage</code> on my browser and i build the Authorization Header with it and pass it to the stompClient connection.</p>\n<p>Below is the client code in JS:</p>\n<pre class=\"lang-js prettyprint-override\"><code>async function connect() {\n    var socket = new SockJS(&quot;http://localhost:8080/api/websocket&quot;);\n    let stompClient = Stomp.over(socket);\n    const token = sessionStorage.getItem(&quot;jwtToken&quot;);\n    const headers = {\n      Authorization: &quot;Bearer &quot; + token,\n    };\n    const headersAuth = { headers };\n    console.log(headersAuth);\n    stompClient.connect({ headersAuth }, function (frame) {\n      stompClient.subscribe(&quot;/topic/events&quot;, function (messageOutput) {\n        const msg = JSON.parse(messageOutput.body);\n\n        if (msg.id_user === sessionStorage.getItem(&quot;jwtToken&quot;)) {\n          setMess(\n            &quot;for the client with id &quot; +\n              msg.id_user +\n              &quot; the max energy for device with ID &quot; +\n              msg.id_device +\n              &quot; has been EXCEDEED with &quot; +\n              msg.diferenta\n          );\n          setOpen(true);\n        }\n        console.log(msg.id_user);\n      });\n    });\n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Jra9r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jra9r.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Mv1jz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mv1jz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","vim","javadoc"],"answers":[{"tags":[],"owner":{"account_id":1007158,"reputation":2330,"user_id":1020588,"accept_rate":58,"display_name":"Matthew Cline"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1450224123,"creation_date":1450224123,"answer_id":34301742,"question_id":34301741,"body_markdown":"This can be fixed using the `@NoSpell` directive of [Vim syntax highlighting](http://vimdoc.sourceforge.net/htmldoc/syntax.html).\r\n\r\nPut this into a file somewhere:\r\n\r\n    &quot; Don&#39;t spell check embeded Javadoc tags and code snippets in package.html\r\n    syn region javadoc_tag start=+{@+      end=+}+         contains=@NoSpell\r\n    syn region javadoc_see start=+@see  *+ end=+\\( \\|\\$\\)+ contains=@NoSpell\r\n    syn region code        start=+&lt;code&gt;+  end=+&lt;/code&gt;+   contains=@NoSpell\r\n\r\nThen add this line to your vimrc file:\r\n\r\n    au BufRead,BufNewFile package.html source /PATH/TO/FILE\r\n","title":"Vim: don&#39;t spell check Javadoc or code snippets in package.html","body":"<p>This can be fixed using the <code>@NoSpell</code> directive of <a href=\"http://vimdoc.sourceforge.net/htmldoc/syntax.html\" rel=\"nofollow\">Vim syntax highlighting</a>.</p>\n\n<p>Put this into a file somewhere:</p>\n\n<pre><code>\" Don't spell check embeded Javadoc tags and code snippets in package.html\nsyn region javadoc_tag start=+{@+      end=+}+         contains=@NoSpell\nsyn region javadoc_see start=+@see  *+ end=+\\( \\|\\$\\)+ contains=@NoSpell\nsyn region code        start=+&lt;code&gt;+  end=+&lt;/code&gt;+   contains=@NoSpell\n</code></pre>\n\n<p>Then add this line to your vimrc file:</p>\n\n<pre><code>au BufRead,BufNewFile package.html source /PATH/TO/FILE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3536340,"reputation":12821,"user_id":2954547,"accept_rate":77,"display_name":"shadowtalker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673290194,"creation_date":1673290194,"answer_id":75061728,"question_id":34301741,"body_markdown":"If you are using Neovim and using Tree Sitter for highlighting, there is a special `@nospell` capture group: https://neovim.io/doc/user/treesitter.html#treesitter-highlight-spell\r\n\r\nYou can use this capture group by defining a custom `queries/{lang}/highlights.scm` query file (where `{lang}` is the desired Tree Sitter language) that applies the `@nospell` capture group to the desired syntax tree nodes.\r\n\r\nFor example, if you want to disable spell-checking in Markdown files (which I believe should be set anyway by default in `nvim-treesitter`), you can add this simple query in `queries/markdown/highlights.scm` anywhere in your runtime path (e.g. `stdpath(&#39;config&#39;)`):\r\n\r\n```scheme\r\n(code_fence_content) @nospell\r\n```\r\n\r\nThis query matches any `code_fence_content` anywhere in the syntax tree and captures it with the group `@nospell`, which Neovim in turn recognizes for disabling spell checking on the contents of that node.\r\n\r\nSee [the TS docs](https://tree-sitter.github.io/tree-sitter/using-parsers#query-syntax) and [Neovim docs](https://neovim.io/doc/user/treesitter.html#treesitter-query) for more detail on writing Tree Sitter queries.","title":"Vim: don&#39;t spell check Javadoc or code snippets in package.html","body":"<p>If you are using Neovim and using Tree Sitter for highlighting, there is a special <code>@nospell</code> capture group: <a href=\"https://neovim.io/doc/user/treesitter.html#treesitter-highlight-spell\" rel=\"nofollow noreferrer\">https://neovim.io/doc/user/treesitter.html#treesitter-highlight-spell</a></p>\n<p>You can use this capture group by defining a custom <code>queries/{lang}/highlights.scm</code> query file (where <code>{lang}</code> is the desired Tree Sitter language) that applies the <code>@nospell</code> capture group to the desired syntax tree nodes.</p>\n<p>For example, if you want to disable spell-checking in Markdown files (which I believe should be set anyway by default in <code>nvim-treesitter</code>), you can add this simple query in <code>queries/markdown/highlights.scm</code> anywhere in your runtime path (e.g. <code>stdpath('config')</code>):</p>\n<pre class=\"lang-lisp prettyprint-override\"><code>(code_fence_content) @nospell\n</code></pre>\n<p>This query matches any <code>code_fence_content</code> anywhere in the syntax tree and captures it with the group <code>@nospell</code>, which Neovim in turn recognizes for disabling spell checking on the contents of that node.</p>\n<p>See <a href=\"https://tree-sitter.github.io/tree-sitter/using-parsers#query-syntax\" rel=\"nofollow noreferrer\">the TS docs</a> and <a href=\"https://neovim.io/doc/user/treesitter.html#treesitter-query\" rel=\"nofollow noreferrer\">Neovim docs</a> for more detail on writing Tree Sitter queries.</p>\n"}],"owner":{"account_id":1007158,"reputation":2330,"user_id":1020588,"accept_rate":58,"display_name":"Matthew Cline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34301742,"answer_count":2,"score":1,"last_activity_date":1673290194,"creation_date":1450224123,"question_id":34301741,"body_markdown":"When using vim to do [spell checking](vimdoc.sourceforge.net/htmldoc/spell.html) in a `package.html` file it will flag words it doesn&#39;t recognize in code snippets (`&lt;code&gt;...&lt;/code&gt;`) and inside Javadoc tags (e.g., `{@link com.example.Foobar}`).  How do I make Vim&#39;s spell checker ignore those words?","title":"Vim: don&#39;t spell check Javadoc or code snippets in package.html","body":"<p>When using vim to do spell checking in a <code>package.html</code> file it will flag words it doesn't recognize in code snippets (<code>&lt;code&gt;...&lt;/code&gt;</code>) and inside Javadoc tags (e.g., <code>{@link com.example.Foobar}</code>).  How do I make Vim's spell checker ignore those words?</p>\n"},{"tags":["java","maven","jaxb","jaxb2"],"answers":[{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1418508884,"creation_date":1413491676,"answer_id":26413432,"question_id":26413431,"body_markdown":"After clarification with Oracle, the following artifacts should be used:\r\n\r\nRuntime\r\n-------\r\n\r\nIf you want to unmarshal XML to Java objects or marshal Java objects as XML:\r\n\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    \t&lt;version&gt;...&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSchema compiler (XJC)\r\n---------------------\r\n\r\nIf you have an XML Schema and want to generate the Java code out of it:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;...&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSchema generator (JXC/`schemagen`)\r\n-------------------------------------\r\n\r\nIf you have Java classes with JAXB annotations and want to generate a XML Schema based on them:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jaxb-jxc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;...&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe two latter artifacts (`org.glassfish.jaxb:jaxb-xjc` and `org.glassfish.jaxb:jaxb-jxc`) are wrapped by Maven plugins so you normally would not need them in the runtime.\r\n\r\nEclipse usage\r\n-------------\r\n\r\nIf your Maven projects somehow don&#39;t get the full classpath, turn on debug output and check the Maven console. You might be seeing the following error message there:\r\n\r\n&gt; [ERROR] &#39;dependencyManagement.dependencies.dependency.systemPath&#39; for com.sun:tools:jar must specify an absolute path but is ${tools.jar} @ \r\n\r\nThis is due to the following problem:\r\n\r\n&gt; https://stackoverflow.com/questions/13288735/maven-not-picking-java-home-correctly\r\n\r\nThe [solution][1] by @rustyx is to add `-vm` option to the `eclipse.ini`:\r\n\r\n    -vm\r\n    &lt;PATH_TO_JDK&gt;\\jre\\bin\\javaw.exe\r\n\r\n  [1]: https://stackoverflow.com/a/23129154/303810","title":"Which artifacts should I use for JAXB RI in my Maven project?","body":"<p>After clarification with Oracle, the following artifacts should be used:</p>\n\n<h2>Runtime</h2>\n\n<p>If you want to unmarshal XML to Java objects or marshal Java objects as XML:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;...&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h2>Schema compiler (XJC)</h2>\n\n<p>If you have an XML Schema and want to generate the Java code out of it:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n    &lt;version&gt;...&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h2>Schema generator (JXC/<code>schemagen</code>)</h2>\n\n<p>If you have Java classes with JAXB annotations and want to generate a XML Schema based on them:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-jxc&lt;/artifactId&gt;\n    &lt;version&gt;...&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The two latter artifacts (<code>org.glassfish.jaxb:jaxb-xjc</code> and <code>org.glassfish.jaxb:jaxb-jxc</code>) are wrapped by Maven plugins so you normally would not need them in the runtime.</p>\n\n<h2>Eclipse usage</h2>\n\n<p>If your Maven projects somehow don't get the full classpath, turn on debug output and check the Maven console. You might be seeing the following error message there:</p>\n\n<blockquote>\n  <p>[ERROR] 'dependencyManagement.dependencies.dependency.systemPath' for com.sun:tools:jar must specify an absolute path but is ${tools.jar} @ </p>\n</blockquote>\n\n<p>This is due to the following problem:</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/13288735/maven-not-picking-java-home-correctly\">Maven not picking JAVA_HOME correctly</a></p>\n</blockquote>\n\n<p>The <a href=\"https://stackoverflow.com/a/23129154/303810\">solution</a> by @rustyx is to add <code>-vm</code> option to the <code>eclipse.ini</code>:</p>\n\n<pre><code>-vm\n&lt;PATH_TO_JDK&gt;\\jre\\bin\\javaw.exe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673289925,"creation_date":1665991188,"answer_id":74093729,"question_id":26413431,"body_markdown":"For the latest JAXB 2 version 2.3.3 according to the [Eclipse Implementation of JAXB](https://eclipse-ee4j.github.io/jaxb-ri/2.3.3/docs/ch03.html#deployment-maven-coordinates) these are the Maven coordinates for Eclipse implementation of JAXB artifacts:\r\n```\r\n&lt;!-- API classes for Jakarta XML Binding. Required to compile against Jakarta XML Binding. --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- Contains the main runtime used for serialization and deserialization java objects to/from xml. --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- Tool to generate Jakarta XML Binding java sources from XML representation. --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- Tool to generate XML schema from Jakarta XML Binding java sources. --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-jxc&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlso, the documentation says that\r\n\r\n&gt; In general `com.sun.xml.bind` artifacts are supposed to be used instead.\r\n\r\nThe maven coordinates for them are:\r\n```\r\n&lt;!-- API classes for Jakarta XML Binding. Required to compile against Jakarta XML Binding. --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- RI Implementation of JAXB runtime jar. --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- Class generation tool jar. --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- Schema generation tool jar. --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-jxc&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nEDIT: The documentation for the JAXB version 2.3.3 has been removed already. Here&#39;s the link to [the same section for JAXB 2.3.7](https://eclipse-ee4j.github.io/jaxb-ri/2.3.7/docs/ch03.html#deployment-maven-coordinates)","title":"Which artifacts should I use for JAXB RI in my Maven project?","body":"<p>For the latest JAXB 2 version 2.3.3 according to the <a href=\"https://eclipse-ee4j.github.io/jaxb-ri/2.3.3/docs/ch03.html#deployment-maven-coordinates\" rel=\"nofollow noreferrer\">Eclipse Implementation of JAXB</a> these are the Maven coordinates for Eclipse implementation of JAXB artifacts:</p>\n<pre><code>&lt;!-- API classes for Jakarta XML Binding. Required to compile against Jakarta XML Binding. --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Contains the main runtime used for serialization and deserialization java objects to/from xml. --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Tool to generate Jakarta XML Binding java sources from XML representation. --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n    &lt;version&gt;2.3.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Tool to generate XML schema from Jakarta XML Binding java sources. --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-jxc&lt;/artifactId&gt;\n    &lt;version&gt;2.3.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, the documentation says that</p>\n<blockquote>\n<p>In general <code>com.sun.xml.bind</code> artifacts are supposed to be used instead.</p>\n</blockquote>\n<p>The maven coordinates for them are:</p>\n<pre><code>&lt;!-- API classes for Jakarta XML Binding. Required to compile against Jakarta XML Binding. --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- RI Implementation of JAXB runtime jar. --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.3.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Class generation tool jar. --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n    &lt;version&gt;2.3.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Schema generation tool jar. --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-jxc&lt;/artifactId&gt;\n    &lt;version&gt;2.3.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>EDIT: The documentation for the JAXB version 2.3.3 has been removed already. Here's the link to <a href=\"https://eclipse-ee4j.github.io/jaxb-ri/2.3.7/docs/ch03.html#deployment-maven-coordinates\" rel=\"nofollow noreferrer\">the same section for JAXB 2.3.7</a></p>\n"}],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38132,"favorite_count":0,"down_vote_count":0,"up_vote_count":53,"accepted_answer_id":26413432,"answer_count":2,"score":53,"last_activity_date":1673289925,"creation_date":1413491676,"question_id":26413431,"body_markdown":"Historically, I always used the following JAXB RI artifacts in my Maven projects:\r\n\r\n* `com.sun.xml.bind:jaxb-impl` - Runtime\r\n* `com.sun.xml.bind:jaxb-xjc` - Schema compiler\r\n* `com.sun.xml.bind:jaxb-jxc` - Schema generator\r\n\r\nSince approximately version `2.2.10*` these artifacts are now [described as &quot;old&quot;][1]:\r\n\r\n&gt; `com.sun.xml.bind:jaxb-impl`\r\n&gt; \r\n&gt; Old JAXB Runtime module. \r\n\r\nSo it looks like these artifacts are now obsolete.\r\n\r\nThe question is:\r\n\r\n**Which artifacts should be used instead?**\r\n\r\n  [1]: http://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl/2.2.11","title":"Which artifacts should I use for JAXB RI in my Maven project?","body":"<p>Historically, I always used the following JAXB RI artifacts in my Maven projects:</p>\n\n<ul>\n<li><code>com.sun.xml.bind:jaxb-impl</code> - Runtime</li>\n<li><code>com.sun.xml.bind:jaxb-xjc</code> - Schema compiler</li>\n<li><code>com.sun.xml.bind:jaxb-jxc</code> - Schema generator</li>\n</ul>\n\n<p>Since approximately version <code>2.2.10*</code> these artifacts are now <a href=\"http://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl/2.2.11\" rel=\"noreferrer\">described as \"old\"</a>:</p>\n\n<blockquote>\n  <p><code>com.sun.xml.bind:jaxb-impl</code></p>\n  \n  <p>Old JAXB Runtime module. </p>\n</blockquote>\n\n<p>So it looks like these artifacts are now obsolete.</p>\n\n<p>The question is:</p>\n\n<p><strong>Which artifacts should be used instead?</strong></p>\n"},{"tags":["java","spring","spring-boot","webclient","spring-webclient"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1673146838,"post_id":75045201,"comment_id":132432052,"body_markdown":"Does this answer your question? [Getting the response body in error case with Spring WebClient](https://stackoverflow.com/questions/71643036/getting-the-response-body-in-error-case-with-spring-webclient)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71643036/getting-the-response-body-in-error-case-with-spring-webclient\">Getting the response body in error case with Spring WebClient</a>"},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1673165776,"post_id":75045201,"comment_id":132433715,"body_markdown":"bodyToMono give you Mono object, not Employee class. Please stay in the reactor environment if you use Mono or Flux otherwise you will experience an operational anomaly.","body":"bodyToMono give you Mono object, not Employee class. Please stay in the reactor environment if you use Mono or Flux otherwise you will experience an operational anomaly."}],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673240251,"creation_date":1673216720,"answer_id":75051691,"question_id":75045201,"body_markdown":"Before `bodyToMono()` you can use `onStatus()`\r\n\r\n    .onStatus(httpStatus -&gt; {\r\n        return httpStatus.is4xxClientError(); // handle 4xx or use .is5xxServerError() or .value()\r\n    }, clientResponse -&gt; Mono.error(new RuntimeException(&quot;custom exception&quot;)))\r\n\r\nAnother option is to use `ExchangeFilterFunction` and apply it to your webclient\r\n\r\n    ExchangeFilterFunction responseErrorHandler =\r\n            ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\r\n                clientResponse.statusCode(); // handle any status manually\r\n                return Mono.just(clientResponse);\r\n            });\r\n\r\n    WebClient webClient = WebClient.builder()\r\n            .filter(responseErrorHandler)\r\n\r\n","title":"Spring Boot web Client","body":"<p>Before <code>bodyToMono()</code> you can use <code>onStatus()</code></p>\n<pre><code>.onStatus(httpStatus -&gt; {\n    return httpStatus.is4xxClientError(); // handle 4xx or use .is5xxServerError() or .value()\n}, clientResponse -&gt; Mono.error(new RuntimeException(&quot;custom exception&quot;)))\n</code></pre>\n<p>Another option is to use <code>ExchangeFilterFunction</code> and apply it to your webclient</p>\n<pre><code>ExchangeFilterFunction responseErrorHandler =\n        ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\n            clientResponse.statusCode(); // handle any status manually\n            return Mono.just(clientResponse);\n        });\n\nWebClient webClient = WebClient.builder()\n        .filter(responseErrorHandler)\n</code></pre>\n"}],"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673289773,"creation_date":1673146081,"question_id":75045201,"body_markdown":"I am having an issue with the web client.\r\n\r\nI am trying to make a post request. The request is good. The thing is, if I add onStatus in order to handle http error codes, I am getting a NPE when calling bodyToMono. If I remove onStatus, I get the response.\r\n\r\nwe could take this as an example:\r\n\r\n    Employee createdEmployee = webClient.post()\r\n    \t\t.uri(&quot;/employees&quot;)\r\n    \t\t.header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n    \t\t.body(Mono.just(empl), Employee.class)\r\n    \t\t.retrieve()\r\n     .onStatus(HttpStatus::isError, clientResponse -&gt; {\r\n              if (clientResponse.statusCode() == HttpStatus.resolve(402)) {\r\n                return Mono.error(new Exception(&quot;402&quot;));\r\n              }\r\n              log.error(&quot;Error endpoint with status code {}&quot;, clientResponse.statusCode());\r\n              if (clientResponse.statusCode() == HttpStatus.resolve(500)) {\r\n                return Mono.error(new Exception(&quot;500&quot;));\r\n              }\r\n              if (clientResponse.statusCode() == HttpStatus.resolve(512)) {\r\n                return Mono.error(new Exception(&quot;512&quot;));\r\n              }\r\n              return Mono.error(new Exception(&quot;Error while processing request&quot;));\r\n            })\r\n    \t\t.bodyToMono(Employee.class);\r\n\r\nI wan to handle 4xx and 5xx errors including their specific subtypes (404,402) 500, 512\r\n\r\n\r\n","title":"Spring Boot web Client","body":"<p>I am having an issue with the web client.</p>\n<p>I am trying to make a post request. The request is good. The thing is, if I add onStatus in order to handle http error codes, I am getting a NPE when calling bodyToMono. If I remove onStatus, I get the response.</p>\n<p>we could take this as an example:</p>\n<pre><code>Employee createdEmployee = webClient.post()\n        .uri(&quot;/employees&quot;)\n        .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n        .body(Mono.just(empl), Employee.class)\n        .retrieve()\n .onStatus(HttpStatus::isError, clientResponse -&gt; {\n          if (clientResponse.statusCode() == HttpStatus.resolve(402)) {\n            return Mono.error(new Exception(&quot;402&quot;));\n          }\n          log.error(&quot;Error endpoint with status code {}&quot;, clientResponse.statusCode());\n          if (clientResponse.statusCode() == HttpStatus.resolve(500)) {\n            return Mono.error(new Exception(&quot;500&quot;));\n          }\n          if (clientResponse.statusCode() == HttpStatus.resolve(512)) {\n            return Mono.error(new Exception(&quot;512&quot;));\n          }\n          return Mono.error(new Exception(&quot;Error while processing request&quot;));\n        })\n        .bodyToMono(Employee.class);\n</code></pre>\n<p>I wan to handle 4xx and 5xx errors including their specific subtypes (404,402) 500, 512</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1673287490,"post_id":75061256,"comment_id":132460569,"body_markdown":"`String b = a.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;);` or parse the result to int if you need an integer","body":"<code>String b = a.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;);</code> or parse the result to int if you need an integer"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673289358,"post_id":75061256,"comment_id":132461088,"body_markdown":"@BaskarAvinash You can post and accept an Answer to your own Question.","body":"@BaskarAvinash You can post and accept an Answer to your own Question."}],"answers":[{"tags":[],"owner":{"account_id":27157519,"reputation":11,"user_id":20696087,"display_name":"Tanuja doppalapudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673289698,"creation_date":1673289399,"answer_id":75061612,"question_id":75061256,"body_markdown":"```\r\nString str = &quot;Task1234&quot;;\r\nString number = str.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n```\r\nreturn the number which contains your output.","title":"How to separate number from a string","body":"<pre><code>String str = &quot;Task1234&quot;;\nString number = str.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n</code></pre>\n<p>return the number which contains your output.</p>\n"}],"owner":{"account_id":25756092,"reputation":9,"user_id":19507731,"display_name":"Baskar Avinash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673289698,"creation_date":1673287321,"question_id":75061256,"body_markdown":"Need to seperate a number from a string \r\n\r\n\r\n\r\nfor example:\r\nstring a=&quot;Task123&quot;;\r\ni need to seperate 123 as a single number from the string a","title":"How to separate number from a string","body":"<p>Need to seperate a number from a string</p>\n<p>for example:\nstring a=&quot;Task123&quot;;\ni need to seperate 123 as a single number from the string a</p>\n"},{"tags":["python","java","android","sockets"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673289091,"post_id":75061544,"comment_id":132461012,"body_markdown":"Why the python tag?","body":"Why the python tag?"},{"owner":{"account_id":27391268,"reputation":1,"user_id":20894225,"display_name":"Om Prakash"},"score":0,"creation_date":1673378426,"post_id":75061544,"comment_id":132484019,"body_markdown":"because my server code is in python","body":"because my server code is in python"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673378503,"post_id":75061544,"comment_id":132484053,"body_markdown":"But it looks irrelevant for the error, because it occurs in android","body":"But it looks irrelevant for the error, because it occurs in android"},{"owner":{"account_id":27391268,"reputation":1,"user_id":20894225,"display_name":"Om Prakash"},"score":0,"creation_date":1673455429,"post_id":75061544,"comment_id":132504632,"body_markdown":"well i was not sure whether the error was occuring because i was trying to send file from python to java ,or not","body":"well i was not sure whether the error was occuring because i was trying to send file from python to java ,or not"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673457490,"post_id":75061544,"comment_id":132505351,"body_markdown":"Sounds like the file is too big","body":"Sounds like the file is too big"},{"owner":{"account_id":27391268,"reputation":1,"user_id":20894225,"display_name":"Om Prakash"},"score":0,"creation_date":1673500640,"post_id":75061544,"comment_id":132514396,"body_markdown":"yeah i want to stream live video on my android app , but it look like instead of taking each frame as packet and displaying it in image view , it keeps collecting the package till it exceeds the memory limit , and then the app crashes","body":"yeah i want to stream live video on my android app , but it look like instead of taking each frame as packet and displaying it in image view , it keeps collecting the package till it exceeds the memory limit , and then the app crashes"}],"owner":{"account_id":27391268,"reputation":1,"user_id":20894225,"display_name":"Om Prakash"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673289442,"creation_date":1673288977,"question_id":75061544,"body_markdown":"well i wrote code in python for server and i am applying simple aruco detection on the video from my webcam and i want to display the result in my android app . But i unable to do so.   \r\n\r\n\r\nAfter runnig the app  it shows these errors\r\nThrowing OutOfMemoryError &quot;Failed to allocate a 268435468 byte allocation with 25165824 free bytes and 380MB until OOM, target footprint 163122328, growth limit 536870912&quot; (VmSize 6267440 kB)\r\n\r\ni tried to change the bytes i am allocating to the array, i also tried solution present here -- \r\n\r\nhttps://stackoverflow.com/questions/32244851/androidjava-lang-outofmemoryerror-failed-to-allocate-a-23970828-byte-allocatio\r\n \r\nbut still i am getting same error\r\n\r\nhere is my code for \r\n\r\nmainactivity.java\r\n```\r\n\r\n\r\npackage com.example.drone3;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.StrictMode;\r\nimport android.provider.ContactsContract;\r\nimport android.util.DisplayMetrics;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.webkit.WebView;\r\nimport android.widget.Button;\r\nimport android.widget.CompoundButton;\r\nimport android.widget.EditText;\r\nimport android.widget.Switch;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.os.AsyncTask;\r\nimport android.widget.ImageView;\r\nimport android.widget.VideoView;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.Socket;\r\nimport java.net.UnknownHostException;\r\nimport java.nio.ByteBuffer;\r\nimport java.util.Arrays;\r\n\r\n\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button Land,up,forward,rotate;\r\n    EditText editTextAddress, editTextPort;\r\n    Button buttonConnect;\r\n    Switch am;\r\n    ImageView imageV;\r\n    private ImageView screen;\r\n    public void abort(View view){\r\n        up.setEnabled(false);\r\n        forward.setEnabled(false);\r\n        rotate.setEnabled(false);\r\n        am.setEnabled(false);\r\n\r\n    }\r\n    public void onclick(View view){\r\n        Button b=(Button) view;\r\n        String s=b.getText().toString();\r\n        Log.i(&quot;command is:&quot;,s);\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if(getSupportActionBar()!=null)\r\n            this.getSupportActionBar().hide();\r\n        editTextAddress = (EditText)findViewById(R.id.address);\r\n        editTextPort = (EditText)findViewById(R.id.port);\r\n        buttonConnect = (Button)findViewById(R.id.connect);\r\n        buttonConnect.setOnClickListener(buttonConnectOnClickListener);\r\n        am=(Switch) findViewById(R.id.switch1);\r\n        Land=(Button) findViewById(R.id.landbutton);\r\n        up=(Button) findViewById(R.id.upbutton);\r\n        forward=(Button) findViewById(R.id.forwardbutton);\r\n        Log.i(&quot;this shit is working:&quot;,&quot;57&quot;);\r\n        rotate=(Button) findViewById(R.id.rotatebutton);\r\n        am.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                if(am.isChecked()){\r\n                    Land.setEnabled(false);\r\n                    up.setEnabled(false);\r\n                    forward.setEnabled(false);\r\n                    rotate.setEnabled(false);\r\n\r\n                }\r\n                else{\r\n                    Land.setEnabled(true);\r\n                    up.setEnabled(true);\r\n                    forward.setEnabled(true);\r\n                    rotate.setEnabled(true);\r\n                }\r\n            }\r\n        });\r\n        if(Build.VERSION.SDK_INT&gt;9){\r\n            StrictMode.ThreadPolicy BackgroundTask=\r\n                    new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n            StrictMode.setThreadPolicy(BackgroundTask);\r\n        }\r\n    }\r\n\r\n    View.OnClickListener buttonConnectOnClickListener =\r\n            new View.OnClickListener(){\r\n\r\n                @Override\r\n                public void onClick(View arg0) {\r\n                    MyClientTask myClientTask = new MyClientTask(\r\n                            editTextAddress.getText().toString(),\r\n                            Integer.parseInt(editTextPort.getText().toString()));\r\n                    myClientTask.execute();\r\n                }};\r\n\r\n    public class MyClientTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n\r\n        String dstAddress;\r\n        int dstPort;\r\n        MyClientTask(String addr, int port){\r\n            dstAddress = addr;\r\n            dstPort = port;\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... arg0) {\r\n            InputStream inputStream;\r\n\r\n                try {\r\n                    Socket socket = new Socket(dstAddress, dstPort);\r\n                    inputStream = socket.getInputStream();\r\n                    ByteArrayOutputStream byteArrayOutputStream =\r\n                            new ByteArrayOutputStream(4*1024);\r\n                    byte[] buffer = new byte[4*1024 ];\r\n\r\n                    int bytesRead;\r\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                        byteArrayOutputStream.write(buffer, 0, bytesRead);\r\n                    }\r\n                    Log.i(&quot;this shit is working:&quot;,&quot;&quot;+buffer.length);\r\n                    Bitmap bm = BitmapFactory.decodeByteArray(buffer, 0,buffer.length);\r\n\r\n                    imageV.setImageBitmap(bm);\r\n                    Log.i(&quot;this packet&quot;,buffer.toString());\r\n\r\n\r\n\r\n                } catch (Exception e) {\r\n                    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Void result) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\nandroidmanifest.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n\r\n\r\n    &lt;application\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:hardwareAccelerated=&quot;false&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Drone3&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nactivity_main.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/imageview&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/landbutton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:onClick=&quot;abort&quot;\r\n        android:text=&quot;Land&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/rotatebutton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;36dp&quot;\r\n        android:onClick=&quot;onclick&quot;\r\n        android:text=&quot;rotate&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/landbutton&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/upbutton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;40dp&quot;\r\n        android:onClick=&quot;onclick&quot;\r\n        android:text=&quot;Up&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/rotatebutton&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/forwardbutton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;28dp&quot;\r\n        android:onClick=&quot;onclick&quot;\r\n        android:text=&quot;Forward&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/upbutton&quot; /&gt;\r\n\r\n    &lt;Switch\r\n        android:id=&quot;@+id/switch1&quot;\r\n        android:layout_width=&quot;132dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_marginBottom=&quot;40dp&quot;\r\n        android:layout_marginEnd=&quot;40dp&quot;\r\n        android:text=&quot;M/A&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;162dp&quot;\r\n        android:layout_height=&quot;66dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;OmProduction&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.595&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/display&quot;\r\n        android:layout_width=&quot;705dp&quot;\r\n        android:layout_height=&quot;288dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:srcCompat=&quot;@drawable/ic_launcher_foreground&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/address&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:hint=&quot;dstAddress&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/port&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:hint=&quot;dstPort&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/address&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/connect&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:text=&quot;Connect...&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/port&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n```\r\nhere is my python code for server\r\n\r\n```\r\nimport socket\r\nimport cv2\r\nimport pickle\r\nimport struct\r\nfrom cv2 import aruco\r\nimport numpy as np\r\nimport jpysocket\r\nmarker_dict = aruco.Dictionary_get(aruco.DICT_4X4_50)\r\nparam_markers = aruco.DetectorParameters_create()\r\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\r\nhost_name = socket.gethostname()\r\nprint(&quot;host name&quot;, host_name)\r\nhost_ip = socket.gethostbyname(host_name)\r\nprint(&#39;HOST IP:&#39;, host_ip)\r\nport = 9999\r\nsocket_address = (host_ip, port)\r\nserver_socket.bind(socket_address)\r\nserver_socket.listen(5)\r\nprint(&quot;LISTENING AT:&quot;, socket_address)\r\n\r\nwhile True:\r\n    client_socket, addr = server_socket.accept()\r\n    print(&#39;GOT CONNECTION FROM:&#39;, addr)\r\n    if client_socket:\r\n        vid = cv2.VideoCapture(0)\r\n        while(vid.isOpened()):\r\n            ret, frame = vid.read()\r\n            gray_frame = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\r\n            marker_corners, marker_IDs, reject = aruco.detectMarkers(\r\n            gray_frame, marker_dict, parameters=param_markers\r\n            )\r\n            if marker_corners:\r\n                for ids, corners in zip(marker_IDs, marker_corners):\r\n                    cv2.polylines(\r\n                        frame, [corners.astype(np.int32)], True, (0, 255, 255), 4, cv2.LINE_AA\r\n                    )\r\n                    corners = corners.reshape(4, 2)\r\n                    corners = corners.astype(int)\r\n                    top_right = corners[0].ravel()\r\n                    top_left = corners[1].ravel()\r\n                    bottom_right = corners[2].ravel()\r\n                    bottom_left = corners[3].ravel()\r\n                    cv2.putText(\r\n                        frame,\r\n                        f&quot;id: {ids[0]}&quot;,\r\n                        top_right,\r\n                        cv2.FONT_HERSHEY_PLAIN,\r\n                        1.3,\r\n                        (200, 100, 0),\r\n                        2,\r\n                        cv2.LINE_AA,\r\n                    )\r\n            a = pickle.dumps(frame)\r\n            message = a\r\n            print(len(message))\r\n            client_socket.send(message)\r\n            cv2.imshow(&#39;TRANSMITTING VIDEO&#39;, frame)\r\n            key = cv2.waitKey(1) &amp; 0xFF\r\n            if key == 27:\r\n                client_socket.close()\r\n```\r\n\r\n\r\n","title":"unable to display in image view the image received from socket programming at the client side","body":"<p>well i wrote code in python for server and i am applying simple aruco detection on the video from my webcam and i want to display the result in my android app . But i unable to do so.</p>\n<p>After runnig the app  it shows these errors\nThrowing OutOfMemoryError &quot;Failed to allocate a 268435468 byte allocation with 25165824 free bytes and 380MB until OOM, target footprint 163122328, growth limit 536870912&quot; (VmSize 6267440 kB)</p>\n<p>i tried to change the bytes i am allocating to the array, i also tried solution present here --</p>\n<p><a href=\"https://stackoverflow.com/questions/32244851/androidjava-lang-outofmemoryerror-failed-to-allocate-a-23970828-byte-allocatio\">Android:java.lang.OutOfMemoryError: Failed to allocate a 23970828 byte allocation with 2097152 free bytes and 2MB until OOM</a></p>\n<p>but still i am getting same error</p>\n<p>here is my code for</p>\n<p>mainactivity.java</p>\n<pre><code>\n\npackage com.example.drone3;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.StrictMode;\nimport android.provider.ContactsContract;\nimport android.util.DisplayMetrics;\nimport android.util.Log;\nimport android.view.View;\nimport android.webkit.WebView;\nimport android.widget.Button;\nimport android.widget.CompoundButton;\nimport android.widget.EditText;\nimport android.widget.Switch;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.os.AsyncTask;\nimport android.widget.ImageView;\nimport android.widget.VideoView;\n\nimport java.io.BufferedInputStream;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\nimport java.nio.ByteBuffer;\nimport java.util.Arrays;\n\n\n\n\npublic class MainActivity extends AppCompatActivity {\n    Button Land,up,forward,rotate;\n    EditText editTextAddress, editTextPort;\n    Button buttonConnect;\n    Switch am;\n    ImageView imageV;\n    private ImageView screen;\n    public void abort(View view){\n        up.setEnabled(false);\n        forward.setEnabled(false);\n        rotate.setEnabled(false);\n        am.setEnabled(false);\n\n    }\n    public void onclick(View view){\n        Button b=(Button) view;\n        String s=b.getText().toString();\n        Log.i(&quot;command is:&quot;,s);\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        if(getSupportActionBar()!=null)\n            this.getSupportActionBar().hide();\n        editTextAddress = (EditText)findViewById(R.id.address);\n        editTextPort = (EditText)findViewById(R.id.port);\n        buttonConnect = (Button)findViewById(R.id.connect);\n        buttonConnect.setOnClickListener(buttonConnectOnClickListener);\n        am=(Switch) findViewById(R.id.switch1);\n        Land=(Button) findViewById(R.id.landbutton);\n        up=(Button) findViewById(R.id.upbutton);\n        forward=(Button) findViewById(R.id.forwardbutton);\n        Log.i(&quot;this shit is working:&quot;,&quot;57&quot;);\n        rotate=(Button) findViewById(R.id.rotatebutton);\n        am.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                if(am.isChecked()){\n                    Land.setEnabled(false);\n                    up.setEnabled(false);\n                    forward.setEnabled(false);\n                    rotate.setEnabled(false);\n\n                }\n                else{\n                    Land.setEnabled(true);\n                    up.setEnabled(true);\n                    forward.setEnabled(true);\n                    rotate.setEnabled(true);\n                }\n            }\n        });\n        if(Build.VERSION.SDK_INT&gt;9){\n            StrictMode.ThreadPolicy BackgroundTask=\n                    new StrictMode.ThreadPolicy.Builder().permitAll().build();\n            StrictMode.setThreadPolicy(BackgroundTask);\n        }\n    }\n\n    View.OnClickListener buttonConnectOnClickListener =\n            new View.OnClickListener(){\n\n                @Override\n                public void onClick(View arg0) {\n                    MyClientTask myClientTask = new MyClientTask(\n                            editTextAddress.getText().toString(),\n                            Integer.parseInt(editTextPort.getText().toString()));\n                    myClientTask.execute();\n                }};\n\n    public class MyClientTask extends AsyncTask&lt;Void, Void, Void&gt; {\n\n        String dstAddress;\n        int dstPort;\n        MyClientTask(String addr, int port){\n            dstAddress = addr;\n            dstPort = port;\n        }\n\n        @Override\n        protected Void doInBackground(Void... arg0) {\n            InputStream inputStream;\n\n                try {\n                    Socket socket = new Socket(dstAddress, dstPort);\n                    inputStream = socket.getInputStream();\n                    ByteArrayOutputStream byteArrayOutputStream =\n                            new ByteArrayOutputStream(4*1024);\n                    byte[] buffer = new byte[4*1024 ];\n\n                    int bytesRead;\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\n                        byteArrayOutputStream.write(buffer, 0, bytesRead);\n                    }\n                    Log.i(&quot;this shit is working:&quot;,&quot;&quot;+buffer.length);\n                    Bitmap bm = BitmapFactory.decodeByteArray(buffer, 0,buffer.length);\n\n                    imageV.setImageBitmap(bm);\n                    Log.i(&quot;this packet&quot;,buffer.toString());\n\n\n\n                } catch (Exception e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void result) {\n\n        }\n\n    }\n\n}\n\n\n</code></pre>\n<p>androidmanifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n\n\n\n    &lt;application\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:hardwareAccelerated=&quot;false&quot;\n        android:largeHeap=&quot;true&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Drone3&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/imageview&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;Button\n        android:id=&quot;@+id/landbutton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;40dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:onClick=&quot;abort&quot;\n        android:text=&quot;Land&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/rotatebutton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;40dp&quot;\n        android:layout_marginStart=&quot;36dp&quot;\n        android:onClick=&quot;onclick&quot;\n        android:text=&quot;rotate&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/landbutton&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/upbutton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;40dp&quot;\n        android:layout_marginStart=&quot;40dp&quot;\n        android:onClick=&quot;onclick&quot;\n        android:text=&quot;Up&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/rotatebutton&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/forwardbutton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;40dp&quot;\n        android:layout_marginStart=&quot;28dp&quot;\n        android:onClick=&quot;onclick&quot;\n        android:text=&quot;Forward&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/upbutton&quot; /&gt;\n\n    &lt;Switch\n        android:id=&quot;@+id/switch1&quot;\n        android:layout_width=&quot;132dp&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_marginBottom=&quot;40dp&quot;\n        android:layout_marginEnd=&quot;40dp&quot;\n        android:text=&quot;M/A&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;162dp&quot;\n        android:layout_height=&quot;66dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;OmProduction&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.595&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/display&quot;\n        android:layout_width=&quot;705dp&quot;\n        android:layout_height=&quot;288dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/ic_launcher_foreground&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/address&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:hint=&quot;dstAddress&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/port&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:hint=&quot;dstPort&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/address&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/connect&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:text=&quot;Connect...&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/port&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n</code></pre>\n<p>here is my python code for server</p>\n<pre><code>import socket\nimport cv2\nimport pickle\nimport struct\nfrom cv2 import aruco\nimport numpy as np\nimport jpysocket\nmarker_dict = aruco.Dictionary_get(aruco.DICT_4X4_50)\nparam_markers = aruco.DetectorParameters_create()\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nhost_name = socket.gethostname()\nprint(&quot;host name&quot;, host_name)\nhost_ip = socket.gethostbyname(host_name)\nprint('HOST IP:', host_ip)\nport = 9999\nsocket_address = (host_ip, port)\nserver_socket.bind(socket_address)\nserver_socket.listen(5)\nprint(&quot;LISTENING AT:&quot;, socket_address)\n\nwhile True:\n    client_socket, addr = server_socket.accept()\n    print('GOT CONNECTION FROM:', addr)\n    if client_socket:\n        vid = cv2.VideoCapture(0)\n        while(vid.isOpened()):\n            ret, frame = vid.read()\n            gray_frame = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n            marker_corners, marker_IDs, reject = aruco.detectMarkers(\n            gray_frame, marker_dict, parameters=param_markers\n            )\n            if marker_corners:\n                for ids, corners in zip(marker_IDs, marker_corners):\n                    cv2.polylines(\n                        frame, [corners.astype(np.int32)], True, (0, 255, 255), 4, cv2.LINE_AA\n                    )\n                    corners = corners.reshape(4, 2)\n                    corners = corners.astype(int)\n                    top_right = corners[0].ravel()\n                    top_left = corners[1].ravel()\n                    bottom_right = corners[2].ravel()\n                    bottom_left = corners[3].ravel()\n                    cv2.putText(\n                        frame,\n                        f&quot;id: {ids[0]}&quot;,\n                        top_right,\n                        cv2.FONT_HERSHEY_PLAIN,\n                        1.3,\n                        (200, 100, 0),\n                        2,\n                        cv2.LINE_AA,\n                    )\n            a = pickle.dumps(frame)\n            message = a\n            print(len(message))\n            client_socket.send(message)\n            cv2.imshow('TRANSMITTING VIDEO', frame)\n            key = cv2.waitKey(1) &amp; 0xFF\n            if key == 27:\n                client_socket.close()\n</code></pre>\n"},{"tags":["java","spring-boot","h2"],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673289254,"creation_date":1673289254,"question_id":75061590,"body_markdown":"I&#39;m trying to implement comment/reply feature in my blog application. I did all the work, but when I try to add comment I get the exception in the title: parentComment is null but it shouldn&#39;t be because it has nullable = false. Now I&#39;ve tried to remove the nullable = false and add @Basic annotation to my Comment entity but then I get another exception and it says:\r\n\r\n&gt; NULL not allowed for column &quot;PARENT_ID&quot;; SQL statement: insert into\r\n&gt; comment (id, author, created_at, parent_id, post_id, text) values\r\n&gt; (default, ?, ?, ?, ?, ?)\r\n\r\nI&#39;ve tried inserting parent_comment as such:\r\n\r\n    public void addComment(Long postId, String commentText){\r\n            Post post = postRepository.findById(postId).get();\r\n            Comment comment = new Comment(commentText, post);\r\n            /*\r\n            comment.setParentComment(comment);\r\n             */\r\n            comment.setCreatedAt(LocalDateTime.now());\r\n            commentRepository.save(comment);\r\n        }\r\n\r\nbut that didn&#39;t work. I also tried goign to the database and unselecting the &quot;NOT_NULL&quot; in the alter table, but I dunno how to do that in h2-database. Also, I&#39;ve had an idea where I would create a blank comment which would be the parent comment to every comment and try branching the replies to it, but it sounds stupid. Please help :)\r\n\r\nHere are all the files:\r\n\r\nComment.java\r\n\r\n    @Entity\r\n    @Table(name=&quot;COMMENT&quot;)\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    public class Comment {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(nullable = false)\r\n        private String text;\r\n    \r\n        @Column(nullable = false)\r\n        private LocalDateTime createdAt;\r\n    \r\n        private String author;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;parent_id&quot;)\r\n        private Comment parentComment;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;post_id&quot;, nullable = false)\r\n        private Post post;\r\n    \r\n        public Comment(String text, Post post) {\r\n            this.text = text;\r\n            this.post = post;\r\n        }\r\n    \r\n        public Comment(String text, Post post, Comment parentComment) {\r\n            this.text = text;\r\n            this.post = post;\r\n            this.parentComment = parentComment;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nCommentController.java\r\n    \r\n    import com.hellion.writeup.models.Comment;\r\n    import com.hellion.writeup.models.Post;\r\n    import com.hellion.writeup.repository.CommentRepository;\r\n    import com.hellion.writeup.repository.PostRepository;\r\n    import com.hellion.writeup.service.AccountService;\r\n    import com.hellion.writeup.service.CommentService;\r\n    import com.hellion.writeup.service.PostService;\r\n    import lombok.Getter;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    import org.springframework.security.core.parameters.P;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.validation.annotation.Validated;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.security.Principal;\r\n    import java.util.Optional;\r\n    \r\n    @Controller\r\n    public class CommentController{\r\n    \r\n        @Autowired\r\n        private CommentService commentService;\r\n    \r\n        @Autowired\r\n        private PostRepository postRepository;\r\n    \r\n        @Autowired\r\n        private CommentRepository commentRepository;\r\n    \r\n        @PostMapping(&quot;/post/{postId}/comment&quot;)\r\n        public String addComment(@PathVariable(&quot;postId&quot;) Long postId, @RequestParam String commentText, Model model){\r\n            commentService.addComment(postId, commentText);\r\n            Post post = postRepository.findById(postId).get();\r\n            model.addAttribute(&quot;post&quot;, post);\r\n            return &quot;post&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/comment/{commentId}/reply&quot;)\r\n        public String addReply(@PathVariable(&quot;commentId&quot;)Long commentId, @RequestParam String replyText, Model model){\r\n            commentService.addReply(commentId, replyText);\r\n            Comment comment = commentRepository.findById(commentId).get();\r\n            model.addAttribute(&quot;post&quot;, comment.getPost());\r\n            return &quot;post&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nCommentService.java\r\n\r\n    import com.hellion.writeup.models.Comment;\r\n    import com.hellion.writeup.models.Post;\r\n    import com.hellion.writeup.repository.CommentRepository;\r\n    import com.hellion.writeup.repository.PostRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.time.LocalDateTime;\r\n    \r\n    \r\n    @Service\r\n    public class CommentService {\r\n    \r\n        @Autowired\r\n        private CommentRepository commentRepository;\r\n    \r\n        @Autowired\r\n        private PostRepository postRepository;\r\n    \r\n        public void addComment(Long postId, String commentText){\r\n            Post post = postRepository.findById(postId).get();\r\n            Comment comment = new Comment(commentText, post);\r\n            /*\r\n            comment.setParentComment(comment);\r\n             */\r\n            comment.setCreatedAt(LocalDateTime.now());\r\n            commentRepository.save(comment);\r\n        }\r\n    \r\n        public void addReply(Long commentId, String replyText){\r\n            Comment comment = commentRepository.findById(commentId).get();\r\n            Comment reply = new Comment(replyText, comment.getPost(), comment);\r\n            reply.setCreatedAt(LocalDateTime.now());\r\n            commentRepository.save(reply);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nand commentRepository is just extends JpaRepository&lt;&gt;{} without any methods.","title":"not-null property references a null or transient value : com.hellion.writeup.models.Comment.parentComment","body":"<p>I'm trying to implement comment/reply feature in my blog application. I did all the work, but when I try to add comment I get the exception in the title: parentComment is null but it shouldn't be because it has nullable = false. Now I've tried to remove the nullable = false and add @Basic annotation to my Comment entity but then I get another exception and it says:</p>\n<blockquote>\n<p>NULL not allowed for column &quot;PARENT_ID&quot;; SQL statement: insert into\ncomment (id, author, created_at, parent_id, post_id, text) values\n(default, ?, ?, ?, ?, ?)</p>\n</blockquote>\n<p>I've tried inserting parent_comment as such:</p>\n<pre><code>public void addComment(Long postId, String commentText){\n        Post post = postRepository.findById(postId).get();\n        Comment comment = new Comment(commentText, post);\n        /*\n        comment.setParentComment(comment);\n         */\n        comment.setCreatedAt(LocalDateTime.now());\n        commentRepository.save(comment);\n    }\n</code></pre>\n<p>but that didn't work. I also tried goign to the database and unselecting the &quot;NOT_NULL&quot; in the alter table, but I dunno how to do that in h2-database. Also, I've had an idea where I would create a blank comment which would be the parent comment to every comment and try branching the replies to it, but it sounds stupid. Please help :)</p>\n<p>Here are all the files:</p>\n<p>Comment.java</p>\n<pre><code>@Entity\n@Table(name=&quot;COMMENT&quot;)\n@NoArgsConstructor\n@Getter\n@Setter\n@AllArgsConstructor\npublic class Comment {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String text;\n\n    @Column(nullable = false)\n    private LocalDateTime createdAt;\n\n    private String author;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;parent_id&quot;)\n    private Comment parentComment;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;post_id&quot;, nullable = false)\n    private Post post;\n\n    public Comment(String text, Post post) {\n        this.text = text;\n        this.post = post;\n    }\n\n    public Comment(String text, Post post, Comment parentComment) {\n        this.text = text;\n        this.post = post;\n        this.parentComment = parentComment;\n    }\n\n\n\n}\n</code></pre>\n<p>CommentController.java</p>\n<pre><code>import com.hellion.writeup.models.Comment;\nimport com.hellion.writeup.models.Post;\nimport com.hellion.writeup.repository.CommentRepository;\nimport com.hellion.writeup.repository.PostRepository;\nimport com.hellion.writeup.service.AccountService;\nimport com.hellion.writeup.service.CommentService;\nimport com.hellion.writeup.service.PostService;\nimport lombok.Getter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.security.core.parameters.P;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.security.Principal;\nimport java.util.Optional;\n\n@Controller\npublic class CommentController{\n\n    @Autowired\n    private CommentService commentService;\n\n    @Autowired\n    private PostRepository postRepository;\n\n    @Autowired\n    private CommentRepository commentRepository;\n\n    @PostMapping(&quot;/post/{postId}/comment&quot;)\n    public String addComment(@PathVariable(&quot;postId&quot;) Long postId, @RequestParam String commentText, Model model){\n        commentService.addComment(postId, commentText);\n        Post post = postRepository.findById(postId).get();\n        model.addAttribute(&quot;post&quot;, post);\n        return &quot;post&quot;;\n    }\n\n    @PostMapping(&quot;/comment/{commentId}/reply&quot;)\n    public String addReply(@PathVariable(&quot;commentId&quot;)Long commentId, @RequestParam String replyText, Model model){\n        commentService.addReply(commentId, replyText);\n        Comment comment = commentRepository.findById(commentId).get();\n        model.addAttribute(&quot;post&quot;, comment.getPost());\n        return &quot;post&quot;;\n    }\n\n}\n</code></pre>\n<p>CommentService.java</p>\n<pre><code>import com.hellion.writeup.models.Comment;\nimport com.hellion.writeup.models.Post;\nimport com.hellion.writeup.repository.CommentRepository;\nimport com.hellion.writeup.repository.PostRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDateTime;\n\n\n@Service\npublic class CommentService {\n\n    @Autowired\n    private CommentRepository commentRepository;\n\n    @Autowired\n    private PostRepository postRepository;\n\n    public void addComment(Long postId, String commentText){\n        Post post = postRepository.findById(postId).get();\n        Comment comment = new Comment(commentText, post);\n        /*\n        comment.setParentComment(comment);\n         */\n        comment.setCreatedAt(LocalDateTime.now());\n        commentRepository.save(comment);\n    }\n\n    public void addReply(Long commentId, String replyText){\n        Comment comment = commentRepository.findById(commentId).get();\n        Comment reply = new Comment(replyText, comment.getPost(), comment);\n        reply.setCreatedAt(LocalDateTime.now());\n        commentRepository.save(reply);\n    }\n\n\n}\n</code></pre>\n<p>and commentRepository is just extends JpaRepository&lt;&gt;{} without any methods.</p>\n"},{"tags":["java","spring","spring-boot","mockito","junit4"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1672698114,"post_id":74987487,"comment_id":132330651,"body_markdown":"What if you remove `@Import`?","body":"What if you remove <code>@Import</code>?"},{"owner":{"account_id":21451333,"reputation":25,"user_id":15803737,"display_name":"AlonH"},"score":0,"creation_date":1673289136,"post_id":74987487,"comment_id":132461027,"body_markdown":"Found the cause - when running the whole testing suite, it was being ran in parallel. In Spring Integration testing there are some shared aspects of the context, and thus it caused some errors.\nThe solution was to add for each testing class like the above the annotation:\n@DirtiesContext(classMode=ClassMode.BEFORE_EACH_TEST_METHOD)","body":"Found the cause - when running the whole testing suite, it was being ran in parallel. In Spring Integration testing there are some shared aspects of the context, and thus it caused some errors. The solution was to add for each testing class like the above the annotation: @DirtiesContext(classMode=ClassMode.BEFORE_EACH_TEST_METHOD)"}],"answers":[{"tags":[],"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672713830,"creation_date":1672708097,"answer_id":74988280,"question_id":74987487,"body_markdown":"`@Import` is used to load configurations you should use `@SpringApplicationConfiguration` or even better the newer `@SpringBootTest` annotation. `@SpringApplicationConfiguration`\r\n is currently deprecated by the way.\r\n\r\nexample:\r\n\r\n```java\r\n@SpringBootTest(classes = {MyService.class}) // or @SpringApplicationConfiguration with the same paramters\r\n@RunWith(SpringRunner.class)\r\npublic class MyServiceIntegrationTest{\r\n    @Autowired\r\n    private MyService myService;\r\n    \r\n    @MockBean\r\n    private BeanOne beanOne;\r\n\r\n    @MockBean\r\n    private BeanTwo beanTwo;\r\n\r\n    @Test\r\n    public void test(){\r\n        myService.serviceAction();\r\n        verify(beanTwo,times(3)).doSomething();\r\n    }\r\n}\r\n```\r\n\r\ncheck:\r\n* https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html\r\n* https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\r\n* https://docs.spring.io/spring-boot/docs/1.4.x/api/org/springframework/boot/test/SpringApplicationConfiguration.html","title":"Spring integration testing with mocked dependencies","body":"<p><code>@Import</code> is used to load configurations you should use <code>@SpringApplicationConfiguration</code> or even better the newer <code>@SpringBootTest</code> annotation. <code>@SpringApplicationConfiguration</code>\nis currently deprecated by the way.</p>\n<p>example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = {MyService.class}) // or @SpringApplicationConfiguration with the same paramters\n@RunWith(SpringRunner.class)\npublic class MyServiceIntegrationTest{\n    @Autowired\n    private MyService myService;\n    \n    @MockBean\n    private BeanOne beanOne;\n\n    @MockBean\n    private BeanTwo beanTwo;\n\n    @Test\n    public void test(){\n        myService.serviceAction();\n        verify(beanTwo,times(3)).doSomething();\n    }\n}\n</code></pre>\n<p>check:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/1.4.x/api/org/springframework/boot/test/SpringApplicationConfiguration.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.4.x/api/org/springframework/boot/test/SpringApplicationConfiguration.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21451333,"reputation":25,"user_id":15803737,"display_name":"AlonH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673289180,"creation_date":1673289180,"answer_id":75061575,"question_id":74987487,"body_markdown":"Found the cause - when running the whole testing suite, it was being ran in parallel. In Spring Integration testing there are some shared aspects of the context, and thus it caused some errors. The solution was to add for each testing class like the above the annotation:\r\n```@DirtiesContext(classMode=ClassMode.BEFORE_EACH_TEST_METHOD)```","title":"Spring integration testing with mocked dependencies","body":"<p>Found the cause - when running the whole testing suite, it was being ran in parallel. In Spring Integration testing there are some shared aspects of the context, and thus it caused some errors. The solution was to add for each testing class like the above the annotation:\n<code>@DirtiesContext(classMode=ClassMode.BEFORE_EACH_TEST_METHOD)</code></p>\n"}],"owner":{"account_id":21451333,"reputation":25,"user_id":15803737,"display_name":"AlonH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75061575,"answer_count":2,"score":0,"last_activity_date":1673289180,"creation_date":1672697697,"question_id":74987487,"body_markdown":"I&#39;m using Spring Boot. I have Service class (annotated ```@Service```) with a method annotated with ```@Retryable```.\r\n\r\nFor one of my integration test, I would like to load the Service bean to the context (with all of it&#39;s configurations and annotations).\r\n\r\nThe service has several dependencies. For example,\r\n\r\n```lang-java\r\n@Service\r\n@EnableRetry\r\npublic class MyService{\r\n    private final BeanOne beanOne;\r\n    private final BeanTwo beanTwo;\r\n\r\n    public MyService(BeanOne beanOne, BeanTwo beanTwo){\r\n        this.beanOne = beanOne;\r\n        this.beanTwo = beanTwo\r\n    }\r\n    \r\n    @Retryable(value = RuntimeException.class , maxAttempts = 3)\r\n    public void serviceAction(){\r\n        beanOne.doSomething();\r\n        beanTwo.doSomething();\r\n        doMoreThings();\r\n    }\r\n\r\n    private void doMoreThings(){\r\n        //things\r\n        //eventually throws Runtime Exception\r\n\r\n    }\r\n}\r\n```\r\n\r\nI want to check that I indeed implemented everything regarding the retry correctly.\r\n\r\nI&#39;m trying to write a Spring integration test, when mocking the dependency beans, but still loading the MyService bean to the context (to check the retryable).\r\n\r\nI tried mocking the dependency beans (using JUnit4 and Mockito):\r\n\r\n```lang-java\r\n@Import({MyService.class})\r\n@RunWith(SpringRunner.class)\r\npublic class MyServiceIntegrationTest{\r\n    @Autowired\r\n    private MyService myService;\r\n    \r\n    @MockBean\r\n    private BeanOne beanOne;\r\n\r\n    @MockBean\r\n    private BeanTwo beanTwo;\r\n\r\n    @Test\r\n    public void test(){\r\n        myService.serviceAction();\r\n        verify(beanTwo,times(3)).doSomething();\r\n    }\r\n}\r\n```\r\n\r\nHowever, I&#39;m getting NullPointerException on the ```beanOne.doSomething()``` call. **It seems like beanOne and beanTwo fields in ```MyServiceIntegrationTest``` class are indeed mocked, but are not autowired to the actual ```myService```, and instead ```myService```&#39;s fields are null.**\r\nNote that the ```@Retryable``` annotation indeed works (and repeats 3 times), however this is since NullPointerException is a RuntimeException. The code never actually reaches the ```doMoreThings()``` method.","title":"Spring integration testing with mocked dependencies","body":"<p>I'm using Spring Boot. I have Service class (annotated <code>@Service</code>) with a method annotated with <code>@Retryable</code>.</p>\n<p>For one of my integration test, I would like to load the Service bean to the context (with all of it's configurations and annotations).</p>\n<p>The service has several dependencies. For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@EnableRetry\npublic class MyService{\n    private final BeanOne beanOne;\n    private final BeanTwo beanTwo;\n\n    public MyService(BeanOne beanOne, BeanTwo beanTwo){\n        this.beanOne = beanOne;\n        this.beanTwo = beanTwo\n    }\n    \n    @Retryable(value = RuntimeException.class , maxAttempts = 3)\n    public void serviceAction(){\n        beanOne.doSomething();\n        beanTwo.doSomething();\n        doMoreThings();\n    }\n\n    private void doMoreThings(){\n        //things\n        //eventually throws Runtime Exception\n\n    }\n}\n</code></pre>\n<p>I want to check that I indeed implemented everything regarding the retry correctly.</p>\n<p>I'm trying to write a Spring integration test, when mocking the dependency beans, but still loading the MyService bean to the context (to check the retryable).</p>\n<p>I tried mocking the dependency beans (using JUnit4 and Mockito):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Import({MyService.class})\n@RunWith(SpringRunner.class)\npublic class MyServiceIntegrationTest{\n    @Autowired\n    private MyService myService;\n    \n    @MockBean\n    private BeanOne beanOne;\n\n    @MockBean\n    private BeanTwo beanTwo;\n\n    @Test\n    public void test(){\n        myService.serviceAction();\n        verify(beanTwo,times(3)).doSomething();\n    }\n}\n</code></pre>\n<p>However, I'm getting NullPointerException on the <code>beanOne.doSomething()</code> call. <strong>It seems like beanOne and beanTwo fields in <code>MyServiceIntegrationTest</code> class are indeed mocked, but are not autowired to the actual <code>myService</code>, and instead <code>myService</code>'s fields are null.</strong>\nNote that the <code>@Retryable</code> annotation indeed works (and repeats 3 times), however this is since NullPointerException is a RuntimeException. The code never actually reaches the <code>doMoreThings()</code> method.</p>\n"},{"tags":["java","networking","tcp","simulation","sumo"],"answers":[{"tags":[],"owner":{"account_id":12041596,"reputation":87,"user_id":8808347,"display_name":"mahyar sadeghi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673048172,"creation_date":1673048172,"answer_id":75037047,"question_id":75021692,"body_markdown":"Ok. I have figured it out. On sumo protocol documentation there&#39;s a link to guid developers how to connect to sumo using three languages. Python, C++ and also java. This [link][1] is all I needed. You can build connections from scratch or you can exploit the ones that are already implemented, like simulation step. Below there&#39;s an example:\r\n\r\n    try {\r\n                CommandProcessor cmdPrc=new CommandProcessor(socket);\r\n                cmdPrc.do_SimulationStep(20.0);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\nJust create a socket connection and start sumo. And then, using the codes in the link above it is possible to import and run the simulation. \r\n\r\n  [1]: https://github.com/eclipse/sumo/blob/main/tools/contributed/traas","title":"TCP connection to sumo version 1.14.0 using Java","body":"<p>Ok. I have figured it out. On sumo protocol documentation there's a link to guid developers how to connect to sumo using three languages. Python, C++ and also java. This <a href=\"https://github.com/eclipse/sumo/blob/main/tools/contributed/traas\" rel=\"nofollow noreferrer\">link</a> is all I needed. You can build connections from scratch or you can exploit the ones that are already implemented, like simulation step. Below there's an example:</p>\n<pre><code>try {\n            CommandProcessor cmdPrc=new CommandProcessor(socket);\n            cmdPrc.do_SimulationStep(20.0);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n</code></pre>\n<p>Just create a socket connection and start sumo. And then, using the codes in the link above it is possible to import and run the simulation.</p>\n"},{"tags":[],"owner":{"account_id":7549706,"reputation":3565,"user_id":5731587,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673288923,"creation_date":1673288923,"answer_id":75061536,"question_id":75021692,"body_markdown":"Please do not use TraaS any longer. It is considered deprecated. Use [libsumojni][1] or [libtracijni][2] instead:\r\n\r\n    import org.eclipse.sumo.libsumo.Simulation;\r\n    import org.eclipse.sumo.libsumo.StringVector;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.loadLibrary(&quot;libsumojni&quot;);\r\n            Simulation.start(new StringVector(new String[] {&quot;sumo&quot;, &quot;-c&quot;, &quot;test.sumocfg&quot;}));\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                Simulation.step();\r\n            }\r\n            Simulation.close();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://sumo.dlr.de/docs/Libsumo.html#java\r\n  [2]: https://sumo.dlr.de/docs/Libtraci.html#java","title":"TCP connection to sumo version 1.14.0 using Java","body":"<p>Please do not use TraaS any longer. It is considered deprecated. Use <a href=\"https://sumo.dlr.de/docs/Libsumo.html#java\" rel=\"nofollow noreferrer\">libsumojni</a> or <a href=\"https://sumo.dlr.de/docs/Libtraci.html#java\" rel=\"nofollow noreferrer\">libtracijni</a> instead:</p>\n<pre><code>import org.eclipse.sumo.libsumo.Simulation;\nimport org.eclipse.sumo.libsumo.StringVector;\n\npublic class Test {\n    public static void main(String[] args) {\n        System.loadLibrary(&quot;libsumojni&quot;);\n        Simulation.start(new StringVector(new String[] {&quot;sumo&quot;, &quot;-c&quot;, &quot;test.sumocfg&quot;}));\n        for (int i = 0; i &lt; 5; i++) {\n            Simulation.step();\n        }\n        Simulation.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12041596,"reputation":87,"user_id":8808347,"display_name":"mahyar sadeghi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673288923,"creation_date":1672936857,"question_id":75021692,"body_markdown":"I&#39;ve been trying to connect to sumo in windows, using java, with sumo version of 1.14.0. I can establish the connection, but I can&#39;t send commands, like simulation step. I have to mention I have codes for older versions of sumo, for the new ones it doesn&#39;t work and I&#39;m up to sort of upgrade the older codes. Anybody got any examples how to execute commands using tcp connection in java?","title":"TCP connection to sumo version 1.14.0 using Java","body":"<p>I've been trying to connect to sumo in windows, using java, with sumo version of 1.14.0. I can establish the connection, but I can't send commands, like simulation step. I have to mention I have codes for older versions of sumo, for the new ones it doesn't work and I'm up to sort of upgrade the older codes. Anybody got any examples how to execute commands using tcp connection in java?</p>\n"},{"tags":["java","xml","xml-namespaces","xom"],"answers":[{"tags":[],"owner":{"account_id":29412,"reputation":5855,"user_id":79450,"accept_rate":100,"display_name":"Catchwa"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1278571780,"creation_date":1278571780,"answer_id":3201254,"question_id":3201190,"body_markdown":"This works for me. However, I&#39;m a bit puzzled as to why the `Element` objects don&#39;t inherit the namespace of their parents, though. (Not an XML nor XOM expert)\r\n\r\nCode:\r\n\r\n    String namespace = &quot;http://my-namespace&quot;;\r\n    Element request = new Element(&quot;request&quot;, namespace);\r\n\r\n    Element type = new Element(&quot;type&quot;, namespace);\r\n    type.appendChild(&quot;Test&quot;);\r\n\r\n    request.appendChild(type);\r\n\r\n    Element data = new Element(&quot;data&quot;, namespace);\r\n    request.appendChild(data);\r\n\r\n    Element myData = new Element(&quot;myData&quot;, namespace);\r\n    myData.appendChild(&quot;test data&quot;);\r\n    data.appendChild(myData);\r\n\r\n    Document doc = new Document(request);\r\n    System.out.println(doc.toXML());\r\n\r\nOutput:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;request xmlns=&quot;http://my-namespace&quot;&gt;\r\n      &lt;type&gt;Test&lt;/type&gt;\r\n      &lt;data&gt;\r\n        &lt;myData&gt;test data&lt;/myData&gt;\r\n      &lt;/data&gt;\r\n    &lt;/request&gt;","title":"How to set namespace only on first tag with XOM?","body":"<p>This works for me. However, I'm a bit puzzled as to why the <code>Element</code> objects don't inherit the namespace of their parents, though. (Not an XML nor XOM expert)</p>\n\n<p>Code:</p>\n\n<pre><code>String namespace = \"http://my-namespace\";\nElement request = new Element(\"request\", namespace);\n\nElement type = new Element(\"type\", namespace);\ntype.appendChild(\"Test\");\n\nrequest.appendChild(type);\n\nElement data = new Element(\"data\", namespace);\nrequest.appendChild(data);\n\nElement myData = new Element(\"myData\", namespace);\nmyData.appendChild(\"test data\");\ndata.appendChild(myData);\n\nDocument doc = new Document(request);\nSystem.out.println(doc.toXML());\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;request xmlns=\"http://my-namespace\"&gt;\n  &lt;type&gt;Test&lt;/type&gt;\n  &lt;data&gt;\n    &lt;myData&gt;test data&lt;/myData&gt;\n  &lt;/data&gt;\n&lt;/request&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":423970,"reputation":303,"user_id":803692,"display_name":"bovineone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311787896,"creation_date":1311787896,"answer_id":6848665,"question_id":3201190,"body_markdown":"I ran into the same problem, and Google lead me here.\r\n\r\n@Michael - That&#39;s what it says in the javadoc, yes, but unfortunately, that&#39;s not how it works when you implement it. The child elements will continue to get blank xmlns attributes unless you do Catchwa&#39;s implementation.\r\n\r\nCatchwa&#39;s implementation works just fine. Only the element I tell it to have a namespace, has a namespace. All empty xmlns attributes are gone. It&#39;s strange.\r\n\r\nIs it a bug? I can&#39;t seem to figure that part out. Or is it just the way XOM works?","title":"How to set namespace only on first tag with XOM?","body":"<p>I ran into the same problem, and Google lead me here.</p>\n\n<p>@Michael - That's what it says in the javadoc, yes, but unfortunately, that's not how it works when you implement it. The child elements will continue to get blank xmlns attributes unless you do Catchwa's implementation.</p>\n\n<p>Catchwa's implementation works just fine. Only the element I tell it to have a namespace, has a namespace. All empty xmlns attributes are gone. It's strange.</p>\n\n<p>Is it a bug? I can't seem to figure that part out. Or is it just the way XOM works?</p>\n"},{"tags":[],"owner":{"account_id":496224,"reputation":963,"user_id":2277627,"accept_rate":20,"display_name":"Elliotte Rusty Harold"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458913261,"creation_date":1458913261,"answer_id":36221082,"question_id":3201190,"body_markdown":"Don&#39;t confuse namespaces and namespace declarations. The namespace is an intrinsic property of each element. The namespace declaration is the `xmlns&#39; attribute. They are not the same thing, although they are connected. When you create an element, you set its namespace, not its namespace declaration. \r\n\r\nIn the XOM data model namespaces are not attributes. They are an intrinsic property of the element itself. There is no rule in XML that requires children of an element to be in the same namespace as the parent. Indeed theoretically every element in the document could be in a different namespace. \r\n\r\nIn XOM you specify the namespace of an element or attribute at the same time you specify the local name. When you create an element, the element initially has no parent so there&#39;s no way for XOM to default to giving the element the same namespace as its parent, even if that&#39;s what was wanted (and it&#39;s not). \r\n\r\nWhen the document is serialized the namespaces are represented by `xmlns` and `xmlns:*prefix*` attributes. XOM figures out where to put these elements to match the namespaces you&#39;ve assigned to each element. Just specify the namespace you want for each element in your code, and let XOM figure out where to put the namespace declarations. ","title":"How to set namespace only on first tag with XOM?","body":"<p>Don't confuse namespaces and namespace declarations. The namespace is an intrinsic property of each element. The namespace declaration is the `xmlns' attribute. They are not the same thing, although they are connected. When you create an element, you set its namespace, not its namespace declaration. </p>\n\n<p>In the XOM data model namespaces are not attributes. They are an intrinsic property of the element itself. There is no rule in XML that requires children of an element to be in the same namespace as the parent. Indeed theoretically every element in the document could be in a different namespace. </p>\n\n<p>In XOM you specify the namespace of an element or attribute at the same time you specify the local name. When you create an element, the element initially has no parent so there's no way for XOM to default to giving the element the same namespace as its parent, even if that's what was wanted (and it's not). </p>\n\n<p>When the document is serialized the namespaces are represented by <code>xmlns</code> and <code>xmlns:*prefix*</code> attributes. XOM figures out where to put these elements to match the namespaces you've assigned to each element. Just specify the namespace you want for each element in your code, and let XOM figure out where to put the namespace declarations. </p>\n"},{"tags":[],"owner":{"account_id":18706508,"reputation":16,"user_id":13637554,"display_name":"jakobum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673288836,"creation_date":1673288836,"answer_id":75061525,"question_id":3201190,"body_markdown":"In XOM you can [add a namespace declaration][1] to the root element.\r\n\r\nHere&#39;s a short example with three different namespaces:\r\n\r\n    final String NS_XLINK = &quot;http://www.w3.org/1999/xlink&quot;;\r\n    final String NS_OTHER = &quot;http://other.com&quot;;\r\n    Element root = new Element(&quot;root&quot;, &quot;http://root.com&quot;);\r\n    root.addNamespaceDeclaration(&quot;xlink&quot;, NS_XLINK);\r\n    root.addNamespaceDeclaration(&quot;other&quot;, NS_OTHER);\r\n    root.addAttribute(new Attribute(&quot;xlink:href&quot;, NS_XLINK, &quot;http://somewhere.com&quot;));\r\n    root.appendChild(new Element(&quot;other:alien&quot;, NS_OTHER));\r\n    Document doc = new Document(root);\r\n    System.out.println(doc.toXML());\r\n\r\nwhich produces this result (with additional line breaks inserted for readability):\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n      &lt;?xml version=&quot;1.0&quot;?&gt;\r\n      &lt;root\r\n        xmlns=&quot;http://root.com&quot;\r\n        xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\r\n        xmlns:other=&quot;http://other.com&quot;\r\n        xlink:href=&quot;http://somewhere.com&quot;&gt;\r\n        &lt;other:alien /&gt;\r\n      &lt;/root&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: http://www.xom.nu/apidocs/nu/xom/Element.html#addNamespaceDeclaration-java.lang.String-java.lang.String-","title":"How to set namespace only on first tag with XOM?","body":"<p>In XOM you can <a href=\"http://www.xom.nu/apidocs/nu/xom/Element.html#addNamespaceDeclaration-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">add a namespace declaration</a> to the root element.</p>\n<p>Here's a short example with three different namespaces:</p>\n<pre><code>final String NS_XLINK = &quot;http://www.w3.org/1999/xlink&quot;;\nfinal String NS_OTHER = &quot;http://other.com&quot;;\nElement root = new Element(&quot;root&quot;, &quot;http://root.com&quot;);\nroot.addNamespaceDeclaration(&quot;xlink&quot;, NS_XLINK);\nroot.addNamespaceDeclaration(&quot;other&quot;, NS_OTHER);\nroot.addAttribute(new Attribute(&quot;xlink:href&quot;, NS_XLINK, &quot;http://somewhere.com&quot;));\nroot.appendChild(new Element(&quot;other:alien&quot;, NS_OTHER));\nDocument doc = new Document(root);\nSystem.out.println(doc.toXML());\n</code></pre>\n<p>which produces this result (with additional line breaks inserted for readability):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;?xml version=&quot;1.0&quot;?&gt;\n  &lt;root\n    xmlns=&quot;http://root.com&quot;\n    xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\n    xmlns:other=&quot;http://other.com&quot;\n    xlink:href=&quot;http://somewhere.com&quot;&gt;\n    &lt;other:alien /&gt;\n  &lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1867,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3201254,"answer_count":4,"score":2,"last_activity_date":1673288836,"creation_date":1278570895,"question_id":3201190,"body_markdown":"I am using [XOM][1] to build XML documents in Java.\r\n\r\nI have created a simple XML document, and I want an XML namespace. But when I set the namespace on the first tag, an empty namespace is set on the childs like `xmlns=&quot;&quot;`, how can I get rid of this behaviour? I only want `xmlns` on the first tag.\r\n\r\nI want this XML:\r\n\r\n    &lt;request xmlns=&quot;http://my-namespace&quot;&gt;\r\n        &lt;type&gt;Test&lt;/type&gt;\r\n        &lt;data&gt;\r\n            &lt;myData&gt;test data&lt;/myData&gt;\r\n        &lt;/data&gt;\r\n    &lt;/request&gt;\r\n\r\nBut this is the XML document output from XOM\r\n\r\n    &lt;request xmlns=&quot;http://my-namespace&quot;&gt;\r\n        &lt;type xmlns=&quot;&quot;&gt;Test&lt;/type&gt;\r\n        &lt;data xmlns=&quot;&quot;&gt;\r\n            &lt;myData&gt;test data&lt;/myData&gt;\r\n        &lt;/data&gt;\r\n    &lt;/request&gt;\r\n\r\nThis is my Java XOM code:\r\n\r\n    String namespace = &quot;http://my-namespace&quot;;\r\n    Element request = new Element(&quot;request&quot;, namespace);\r\n    \t\t\r\n    Element type = new Element(&quot;type&quot;);\r\n    type.appendChild(&quot;Test&quot;);\r\n    \t\t\r\n    request.appendChild(type);\r\n    \t\t\r\n    Element data = new Element(&quot;data&quot;);\r\n    request.appendChild(data);\r\n    \t\t\r\n    Element myData = new Element(&quot;myData&quot;);\r\n    myData.appendChild(&quot;test data&quot;);\r\n    data.appendChild(myData);\r\n    \r\n    Document doc = new Document(request);\r\n    doc.toXML();\r\n\r\n\r\n  [1]: http://www.xom.nu/","title":"How to set namespace only on first tag with XOM?","body":"<p>I am using <a href=\"http://www.xom.nu/\" rel=\"nofollow noreferrer\">XOM</a> to build XML documents in Java.</p>\n\n<p>I have created a simple XML document, and I want an XML namespace. But when I set the namespace on the first tag, an empty namespace is set on the childs like <code>xmlns=\"\"</code>, how can I get rid of this behaviour? I only want <code>xmlns</code> on the first tag.</p>\n\n<p>I want this XML:</p>\n\n<pre><code>&lt;request xmlns=\"http://my-namespace\"&gt;\n    &lt;type&gt;Test&lt;/type&gt;\n    &lt;data&gt;\n        &lt;myData&gt;test data&lt;/myData&gt;\n    &lt;/data&gt;\n&lt;/request&gt;\n</code></pre>\n\n<p>But this is the XML document output from XOM</p>\n\n<pre><code>&lt;request xmlns=\"http://my-namespace\"&gt;\n    &lt;type xmlns=\"\"&gt;Test&lt;/type&gt;\n    &lt;data xmlns=\"\"&gt;\n        &lt;myData&gt;test data&lt;/myData&gt;\n    &lt;/data&gt;\n&lt;/request&gt;\n</code></pre>\n\n<p>This is my Java XOM code:</p>\n\n<pre><code>String namespace = \"http://my-namespace\";\nElement request = new Element(\"request\", namespace);\n\nElement type = new Element(\"type\");\ntype.appendChild(\"Test\");\n\nrequest.appendChild(type);\n\nElement data = new Element(\"data\");\nrequest.appendChild(data);\n\nElement myData = new Element(\"myData\");\nmyData.appendChild(\"test data\");\ndata.appendChild(myData);\n\nDocument doc = new Document(request);\ndoc.toXML();\n</code></pre>\n"},{"tags":["java","json","serialization","avro"],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671744642,"creation_date":1671744642,"answer_id":74894040,"question_id":74893604,"body_markdown":"You can use a JsonEncoder:\r\n\r\n    public String serialiseToJson(MyAvroType value) {\r\n        final ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        final Encoder jsonEncoder = EncoderFactory.get().jsonEncoder(MyAvroType.getClassSchema(), baos);\r\n        final DatumWriter&lt;MyAvroType&gt; writer = new SpecificDatumWriter&lt;&gt;(MyAvroType.class);\r\n    \r\n        writer.write(value, jsonEncoder);\r\n        jsonEncoder.flush();\r\n    \r\n        return new String(baos.toByteArray());\r\n    }\r\n","title":"Generating Json String from Avro Schema and Data Object","body":"<p>You can use a JsonEncoder:</p>\n<pre><code>public String serialiseToJson(MyAvroType value) {\n    final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    final Encoder jsonEncoder = EncoderFactory.get().jsonEncoder(MyAvroType.getClassSchema(), baos);\n    final DatumWriter&lt;MyAvroType&gt; writer = new SpecificDatumWriter&lt;&gt;(MyAvroType.class);\n\n    writer.write(value, jsonEncoder);\n    jsonEncoder.flush();\n\n    return new String(baos.toByteArray());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1207803,"reputation":29,"user_id":1176988,"display_name":"Arman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673288796,"creation_date":1673288796,"answer_id":75061521,"question_id":74893604,"body_markdown":"I found a way to get the fields in the Avro schema and use them as a filter for custom serializer. See [https://www.baeldung.com/jackson-serialize-field-custom-criteria][1] \r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-serialize-field-custom-criteria","title":"Generating Json String from Avro Schema and Data Object","body":"<p>I found a way to get the fields in the Avro schema and use them as a filter for custom serializer. See <a href=\"https://www.baeldung.com/jackson-serialize-field-custom-criteria\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-serialize-field-custom-criteria</a></p>\n"}],"owner":{"account_id":1207803,"reputation":29,"user_id":1176988,"display_name":"Arman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1482,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75061521,"answer_count":2,"score":-1,"last_activity_date":1673288796,"creation_date":1671741279,"question_id":74893604,"body_markdown":"I have an Avro Schema (org.apache.avro.Schema) and a data object. I want to serialize the object into a JSON string according to the schema. Is there any way to do that?\r\n\r\nThanks in advance!","title":"Generating Json String from Avro Schema and Data Object","body":"<p>I have an Avro Schema (org.apache.avro.Schema) and a data object. I want to serialize the object into a JSON string according to the schema. Is there any way to do that?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1673273799,"post_id":75058230,"comment_id":132455204,"body_markdown":"(For the end user, would installing a JVM be easier than installing and configuring Docker?  That doesn&#39;t seem any more complex, and it would presumably avoid the problems you&#39;re describing here.)","body":"(For the end user, would installing a JVM be easier than installing and configuring Docker?  That doesn&#39;t seem any more complex, and it would presumably avoid the problems you&#39;re describing here.)"}],"answers":[{"tags":[],"owner":{"account_id":5347263,"reputation":754,"user_id":4262466,"display_name":"ComradeJoecool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673288371,"creation_date":1673288371,"answer_id":75061446,"question_id":75058230,"body_markdown":"It looks like MSYS is doing path conversion inside the docker container to be relative to the Git Bash install directory rather than the container filesystem root.\r\n\r\nThere are a few ways to prevent this behavior.\r\n\r\n 1. Use double forward slash &quot;//&quot; on paths inside the container on the docker run line. In your case change all uses of `/tmp/inputs` to `//tmp/inputs` and `/tmp/outputs` to `//tmp/outputs`\r\n 2. Another option is to execute docker with `winpty` in front of docker `winpty docker ...`\r\n 3. Set the special environment variable MSYS_NO_PATHCONV=1 which will prevent git bash from mangling the paths. (I personally prefer this option by setting this variable to be exported in my .bashrc file so that path conversion is always disabled.)\r\n\r\nSee https://gist.github.com/borekb/cb1536a3685ca6fc0ad9a028e6a959e3 for more info.","title":"Directory paths are being &quot;translated&quot; in docker run call","body":"<p>It looks like MSYS is doing path conversion inside the docker container to be relative to the Git Bash install directory rather than the container filesystem root.</p>\n<p>There are a few ways to prevent this behavior.</p>\n<ol>\n<li>Use double forward slash &quot;//&quot; on paths inside the container on the docker run line. In your case change all uses of <code>/tmp/inputs</code> to <code>//tmp/inputs</code> and <code>/tmp/outputs</code> to <code>//tmp/outputs</code></li>\n<li>Another option is to execute docker with <code>winpty</code> in front of docker <code>winpty docker ...</code></li>\n<li>Set the special environment variable MSYS_NO_PATHCONV=1 which will prevent git bash from mangling the paths. (I personally prefer this option by setting this variable to be exported in my .bashrc file so that path conversion is always disabled.)</li>\n</ol>\n<p>See <a href=\"https://gist.github.com/borekb/cb1536a3685ca6fc0ad9a028e6a959e3\" rel=\"nofollow noreferrer\">https://gist.github.com/borekb/cb1536a3685ca6fc0ad9a028e6a959e3</a> for more info.</p>\n"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673288371,"creation_date":1673272215,"question_id":75058230,"body_markdown":"I am trying to configure a Java application to be able to be built and executed within a Docker container. I&#39;m doing this so that the user does not need to worry about having the Java JDK, or Maven installed in order to build and run it.\r\n\r\nThe application accepts the following command-line arguments:\r\n\r\n    -s (or --source-dir) &lt;directory path&gt; [required]\r\n    -d (or --dest-dir) &lt;directory path&gt; [required]\r\n    -l (or --output-lists) [optional]\r\n    -i (or --include-source) [optional]\r\n\r\nI&#39;ve successfully configured the Dockerfile to build the app and then set up an entry point. I have also provided a bash script that will take care of running the container, and passing user arguments to the Java application.\r\n\r\nWhen I try to run the containerized application with the script, I&#39;m running into a problem where the directory paths I&#39;m specifying are being &quot;translated&quot; into Windows-form paths *within* the container&#39;s context.\r\n\r\nI&#39;m probably not describing this very well, so examples follow. BTW, I am running this in git bash, running on a Windows 11 PC.\r\n\r\nDockerfile:\r\n\r\n\tFROM harbor.hulk.beast-code.com/library/ubi9-0 AS build\r\n\r\n\t# Install Maven (which installs its own Java distribution).\r\n\tRUN dnf install -y maven.noarch\r\n\r\n\tWORKDIR /app-build\r\n\r\n\tCOPY pom.xml .\r\n\tCOPY README.md .\r\n\r\n\tCOPY src ./src\r\n\r\n\t# Build and package application.\r\n\tRUN mvn clean install\r\n\r\n\tFROM harbor.hulk.beast-code.com/library/ubi9-0\r\n\r\n\t# Install JDK and unzip.\r\n\tRUN dnf install -y java-11-openjdk-devel.x86_64\r\n\tRUN dnf install -y unzip.x86_64\r\n\r\n\tWORKDIR /app\r\n\r\n\t# Copy zipped application file from build image.\r\n\tCOPY --from=build /app-build/target/*.zip /app/.\r\n\r\n\t# Unzip zip file.\r\n\tRUN unzip *.zip\r\n\r\n\t# Note: When container is run, volumes must be mounted as follows:\r\n\t# docker run ... -v &lt;Helm chart directory&gt;:/tmp/inputs -v &lt;output directory&gt;:/tmp/outputs helm-template-scanner ...\r\n\tENTRYPOINT [&quot;java&quot;, &quot;-classpath&quot;, &quot;./helm-template-scanner.jar&quot;, &quot;com.beastcode.devops.helm.Main&quot;]\r\n\r\n\tCMD [&quot;--source-dir=/tmp/inputs&quot;, &quot;--dest-dir=/tmp/outputs&quot;]\r\n\r\ndocker-run.sh:\r\n\r\n\t#! bash\r\n\r\n\tshow_usage() {\r\n\t  echo &quot;Usage: $(basename &quot;$0&quot;) [-h] -s &lt;helm chart dir&gt; -d &lt;output dir&gt; [-l] [-i]&quot;\r\n\t  echo &quot;Where:&quot;\r\n\t  echo &quot;  -h        - Display usage and exit.&quot;\r\n\t  echo &quot;  -s &lt;dir&gt;  - Helm chart directory to scan.&quot;\r\n\t  echo &quot;  -d &lt;dir&gt;  - Output directory.&quot;\r\n\t  echo &quot;  -l        - [optional] Writes lists of definitions and references found to files.&quot;\r\n\t  echo &quot;  -i        - [optional] Includes source line for each referenced line number.&quot;\r\n\t  exit 0\r\n\t}\r\n\r\n\twhile getopts &quot;s: d: l i h&quot; flag\r\n\tdo\r\n\t  case &quot;${flag}&quot; in\r\n\t\th) show_usage;;\r\n\t\ts) source_dir=${OPTARG};;\r\n\t\td) dest_dir=${OPTARG};;\r\n\t\tl) output_lists=true;;\r\n\t\ti) include_source=true;;\r\n\t\t\\?) show_usage\r\n\t\t\texit 1\r\n\t  esac\r\n\tdone\r\n\r\n\techo $source_dir\r\n\techo $dest_dir\r\n\techo $output_lists\r\n\techo $include_source\r\n\r\n\t# Check and validate arguments.\r\n\r\n\tif [ -z $source_dir ]; then\r\n\t  echo &quot;Missing Helm chart directory&quot;\r\n\t  show_usage\r\n\t  exit 1\r\n\telif [ ! -d $source_dir ]; then\r\n\t  echo &quot;Helm chart directory &#39;$source_dir&#39; does not exist&quot;\r\n\t  show_usage\r\n\t  exit 1\r\n\tfi\r\n\r\n\tif [ -z $dest_dir ]; then\r\n\t  echo &quot;Missing output directory&quot;\r\n\t  show_usage\r\n\t  exit 1\r\n\telif [ ! -d $dest_dir ]; then\r\n\t  echo &quot;Output directory &#39;$dest_dir&#39; does not exist&quot;\r\n\t  show_usage\r\n\t  exit 1\r\n\tfi\r\n\r\n\tif [ ! -z $output_lists ]; then\r\n\t  output_lists_flag=&quot;--output-lists&quot;\r\n\telse\r\n\t  output_lists_flag=&quot;&quot;\r\n\tfi\r\n\r\n\tif [ ! -z $include_source ]; then\r\n\t  include_source_flag=&quot;--include-source&quot;\r\n\telse\r\n\t  include_source_flag=&quot;&quot;\r\n\tfi\r\n\r\n\t# Run Docker container to execute Java application to scan Helm chart templates.\r\n\tdocker run -it --rm -v $source_dir:/tmp/inputs -v $dest_dir:/tmp/outputs helm-template-scanner --source-dir=/tmp/inputs --dest-dir=/tmp/outputs $output_lists_flag $include_source_flag\r\n\r\nSample script execution with tracing turned on:\r\n\r\n\t$ bash -x ./docker-run.sh -s /c/Users/jgagnon/devops/charts/helm/spoe -d $PWD -i\r\n\t+ getopts &#39;s: d: l i h&#39; flag\r\n\t+ case &quot;${flag}&quot; in\r\n\t+ source_dir=/c/Users/jgagnon/devops/charts/helm/spoe\r\n\t+ getopts &#39;s: d: l i h&#39; flag\r\n\t+ case &quot;${flag}&quot; in\r\n\t+ dest_dir=/c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner\r\n\t+ getopts &#39;s: d: l i h&#39; flag\r\n\t+ case &quot;${flag}&quot; in\r\n\t+ include_source=true\r\n\t+ getopts &#39;s: d: l i h&#39; flag\r\n\t+ echo /c/Users/jgagnon/devops/charts/helm/spoe\r\n\t/c/Users/jgagnon/devops/charts/helm/spoe\r\n\t+ echo /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner\r\n\t/c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner\r\n\t+ echo\r\n\r\n\t+ echo true\r\n\ttrue\r\n\t+ &#39;[&#39; -z /c/Users/jgagnon/devops/charts/helm/spoe &#39;]&#39;\r\n\t+ &#39;[&#39; &#39;!&#39; -d /c/Users/jgagnon/devops/charts/helm/spoe &#39;]&#39;\r\n\t+ &#39;[&#39; -z /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner &#39;]&#39;\r\n\t+ &#39;[&#39; &#39;!&#39; -d /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner &#39;]&#39;\r\n\t+ &#39;[&#39; &#39;!&#39; -z &#39;]&#39;\r\n\t+ output_lists_flag=\r\n\t+ &#39;[&#39; &#39;!&#39; -z true &#39;]&#39;\r\n\t+ include_source_flag=--include-source\r\n\t+ docker run -it --rm -v /c/Users/jgagnon/devops/charts/helm/spoe:/tmp/inputs -v /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner:/tmp/outputs helm-template-scanner --source-dir=/tmp/inputs --dest-dir=/tmp/outputs --include-source\r\n\t2023-01-09 13:37:23 INFO  Main:22 - Command line arguments:\r\n\t2023-01-09 13:37:23 INFO  Main:23 - --source-dir=C:/Users/jgagnon/AppData/Local/Temp/inputs\r\n\t2023-01-09 13:37:23 INFO  Main:23 - --dest-dir=C:/Users/jgagnon/AppData/Local/Temp/outputs\r\n\t2023-01-09 13:37:23 INFO  Main:23 - --include-source\r\n\t2023-01-09 13:37:23 ERROR Main:31 - Exception encountered processing CLI arguments\r\n\tjava.lang.RuntimeException: Source directory does not exist or is not readable\r\n\t\t\tat com.beastcode.devops.helm.CommandLineProcessor.validate(CommandLineProcessor.java:77) ~[helm-template-scanner.jar:?]\r\n\t\t\tat com.beastcode.devops.helm.CommandLineProcessor.process(CommandLineProcessor.java:63) ~[helm-template-scanner.jar:?]\r\n\t\t\tat com.beastcode.devops.helm.Main.main(Main.java:29) ~[helm-template-scanner.jar:?]\r\n\tusage: helm-template-scanner -d &lt;arg&gt; [-i] [-l] -s &lt;arg&gt;\r\n\t -d,--dest-dir &lt;arg&gt;     Output destination directory\r\n\t -i,--include-source     Include source line for each reference\r\n\t -l,--output-lists       Output definitions and references lists\r\n\t -s,--source-dir &lt;arg&gt;   Helm chart directory\r\n\r\nNote that the source and dest dir paths have been converted to Windows-form paths from the Unix/Linux-form paths that were provided.\r\n\r\nIf I run this directly on the command line, no exception is thrown and the Java application runs successfully:\r\n\r\n\t$ docker run -it --rm -v /c/Users/jgagnon/devops/charts/helm/spoe:/tmp/inputs -v /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner:/tmp/outputs helm-template-scanner --source-dir=/tmp/inputs --dest-dir=/tmp/outputs --include-source\r\n\t2023-01-09 13:28:18 INFO  Main:22 - Command line arguments:\r\n\t2023-01-09 13:28:18 INFO  Main:23 - --source-dir=/tmp/inputs\r\n\t2023-01-09 13:28:18 INFO  Main:23 - --dest-dir=/tmp/outputs\r\n\t2023-01-09 13:28:18 INFO  Main:23 - --include-source\r\n\t2023-01-09 13:28:19 INFO  Main:67 - BY DEFINITION\r\n\t2023-01-09 13:28:19 INFO  Main:69 - definition: &quot;common.affinities.nodes&quot; [/tmp/inputs/charts/keycloak/charts/postgresql/charts/common/templates/_affinities.tpl:40]\r\n\t2023-01-09 13:28:19 INFO  Main:69 -   file: /tmp/inputs/charts/keycloak/charts/postgresql/charts/common/templates/_affinities.tpl\r\n\t2023-01-09 13:28:19 INFO  Main:69 -     lines:\r\n\t2023-01-09 13:28:19 INFO  Main:69 -       38: {{ include &quot;common.affinities.nodes&quot; (dict &quot;type&quot; &quot;soft&quot; &quot;key&quot; &quot;FOO&quot; &quot;values&quot; (list &quot;BAR&quot; &quot;BAZ&quot;)) -}}\r\n\t...\r\n\r\nWhat is happening here? How can I fix this?\r\n","title":"Directory paths are being &quot;translated&quot; in docker run call","body":"<p>I am trying to configure a Java application to be able to be built and executed within a Docker container. I'm doing this so that the user does not need to worry about having the Java JDK, or Maven installed in order to build and run it.</p>\n<p>The application accepts the following command-line arguments:</p>\n<pre><code>-s (or --source-dir) &lt;directory path&gt; [required]\n-d (or --dest-dir) &lt;directory path&gt; [required]\n-l (or --output-lists) [optional]\n-i (or --include-source) [optional]\n</code></pre>\n<p>I've successfully configured the Dockerfile to build the app and then set up an entry point. I have also provided a bash script that will take care of running the container, and passing user arguments to the Java application.</p>\n<p>When I try to run the containerized application with the script, I'm running into a problem where the directory paths I'm specifying are being &quot;translated&quot; into Windows-form paths <em>within</em> the container's context.</p>\n<p>I'm probably not describing this very well, so examples follow. BTW, I am running this in git bash, running on a Windows 11 PC.</p>\n<p>Dockerfile:</p>\n<pre><code>FROM harbor.hulk.beast-code.com/library/ubi9-0 AS build\n\n# Install Maven (which installs its own Java distribution).\nRUN dnf install -y maven.noarch\n\nWORKDIR /app-build\n\nCOPY pom.xml .\nCOPY README.md .\n\nCOPY src ./src\n\n# Build and package application.\nRUN mvn clean install\n\nFROM harbor.hulk.beast-code.com/library/ubi9-0\n\n# Install JDK and unzip.\nRUN dnf install -y java-11-openjdk-devel.x86_64\nRUN dnf install -y unzip.x86_64\n\nWORKDIR /app\n\n# Copy zipped application file from build image.\nCOPY --from=build /app-build/target/*.zip /app/.\n\n# Unzip zip file.\nRUN unzip *.zip\n\n# Note: When container is run, volumes must be mounted as follows:\n# docker run ... -v &lt;Helm chart directory&gt;:/tmp/inputs -v &lt;output directory&gt;:/tmp/outputs helm-template-scanner ...\nENTRYPOINT [&quot;java&quot;, &quot;-classpath&quot;, &quot;./helm-template-scanner.jar&quot;, &quot;com.beastcode.devops.helm.Main&quot;]\n\nCMD [&quot;--source-dir=/tmp/inputs&quot;, &quot;--dest-dir=/tmp/outputs&quot;]\n</code></pre>\n<p>docker-run.sh:</p>\n<pre><code>#! bash\n\nshow_usage() {\n  echo &quot;Usage: $(basename &quot;$0&quot;) [-h] -s &lt;helm chart dir&gt; -d &lt;output dir&gt; [-l] [-i]&quot;\n  echo &quot;Where:&quot;\n  echo &quot;  -h        - Display usage and exit.&quot;\n  echo &quot;  -s &lt;dir&gt;  - Helm chart directory to scan.&quot;\n  echo &quot;  -d &lt;dir&gt;  - Output directory.&quot;\n  echo &quot;  -l        - [optional] Writes lists of definitions and references found to files.&quot;\n  echo &quot;  -i        - [optional] Includes source line for each referenced line number.&quot;\n  exit 0\n}\n\nwhile getopts &quot;s: d: l i h&quot; flag\ndo\n  case &quot;${flag}&quot; in\n    h) show_usage;;\n    s) source_dir=${OPTARG};;\n    d) dest_dir=${OPTARG};;\n    l) output_lists=true;;\n    i) include_source=true;;\n    \\?) show_usage\n        exit 1\n  esac\ndone\n\necho $source_dir\necho $dest_dir\necho $output_lists\necho $include_source\n\n# Check and validate arguments.\n\nif [ -z $source_dir ]; then\n  echo &quot;Missing Helm chart directory&quot;\n  show_usage\n  exit 1\nelif [ ! -d $source_dir ]; then\n  echo &quot;Helm chart directory '$source_dir' does not exist&quot;\n  show_usage\n  exit 1\nfi\n\nif [ -z $dest_dir ]; then\n  echo &quot;Missing output directory&quot;\n  show_usage\n  exit 1\nelif [ ! -d $dest_dir ]; then\n  echo &quot;Output directory '$dest_dir' does not exist&quot;\n  show_usage\n  exit 1\nfi\n\nif [ ! -z $output_lists ]; then\n  output_lists_flag=&quot;--output-lists&quot;\nelse\n  output_lists_flag=&quot;&quot;\nfi\n\nif [ ! -z $include_source ]; then\n  include_source_flag=&quot;--include-source&quot;\nelse\n  include_source_flag=&quot;&quot;\nfi\n\n# Run Docker container to execute Java application to scan Helm chart templates.\ndocker run -it --rm -v $source_dir:/tmp/inputs -v $dest_dir:/tmp/outputs helm-template-scanner --source-dir=/tmp/inputs --dest-dir=/tmp/outputs $output_lists_flag $include_source_flag\n</code></pre>\n<p>Sample script execution with tracing turned on:</p>\n<pre><code>$ bash -x ./docker-run.sh -s /c/Users/jgagnon/devops/charts/helm/spoe -d $PWD -i\n+ getopts 's: d: l i h' flag\n+ case &quot;${flag}&quot; in\n+ source_dir=/c/Users/jgagnon/devops/charts/helm/spoe\n+ getopts 's: d: l i h' flag\n+ case &quot;${flag}&quot; in\n+ dest_dir=/c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner\n+ getopts 's: d: l i h' flag\n+ case &quot;${flag}&quot; in\n+ include_source=true\n+ getopts 's: d: l i h' flag\n+ echo /c/Users/jgagnon/devops/charts/helm/spoe\n/c/Users/jgagnon/devops/charts/helm/spoe\n+ echo /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner\n/c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner\n+ echo\n\n+ echo true\ntrue\n+ '[' -z /c/Users/jgagnon/devops/charts/helm/spoe ']'\n+ '[' '!' -d /c/Users/jgagnon/devops/charts/helm/spoe ']'\n+ '[' -z /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner ']'\n+ '[' '!' -d /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner ']'\n+ '[' '!' -z ']'\n+ output_lists_flag=\n+ '[' '!' -z true ']'\n+ include_source_flag=--include-source\n+ docker run -it --rm -v /c/Users/jgagnon/devops/charts/helm/spoe:/tmp/inputs -v /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner:/tmp/outputs helm-template-scanner --source-dir=/tmp/inputs --dest-dir=/tmp/outputs --include-source\n2023-01-09 13:37:23 INFO  Main:22 - Command line arguments:\n2023-01-09 13:37:23 INFO  Main:23 - --source-dir=C:/Users/jgagnon/AppData/Local/Temp/inputs\n2023-01-09 13:37:23 INFO  Main:23 - --dest-dir=C:/Users/jgagnon/AppData/Local/Temp/outputs\n2023-01-09 13:37:23 INFO  Main:23 - --include-source\n2023-01-09 13:37:23 ERROR Main:31 - Exception encountered processing CLI arguments\njava.lang.RuntimeException: Source directory does not exist or is not readable\n        at com.beastcode.devops.helm.CommandLineProcessor.validate(CommandLineProcessor.java:77) ~[helm-template-scanner.jar:?]\n        at com.beastcode.devops.helm.CommandLineProcessor.process(CommandLineProcessor.java:63) ~[helm-template-scanner.jar:?]\n        at com.beastcode.devops.helm.Main.main(Main.java:29) ~[helm-template-scanner.jar:?]\nusage: helm-template-scanner -d &lt;arg&gt; [-i] [-l] -s &lt;arg&gt;\n -d,--dest-dir &lt;arg&gt;     Output destination directory\n -i,--include-source     Include source line for each reference\n -l,--output-lists       Output definitions and references lists\n -s,--source-dir &lt;arg&gt;   Helm chart directory\n</code></pre>\n<p>Note that the source and dest dir paths have been converted to Windows-form paths from the Unix/Linux-form paths that were provided.</p>\n<p>If I run this directly on the command line, no exception is thrown and the Java application runs successfully:</p>\n<pre><code>$ docker run -it --rm -v /c/Users/jgagnon/devops/charts/helm/spoe:/tmp/inputs -v /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner:/tmp/outputs helm-template-scanner --source-dir=/tmp/inputs --dest-dir=/tmp/outputs --include-source\n2023-01-09 13:28:18 INFO  Main:22 - Command line arguments:\n2023-01-09 13:28:18 INFO  Main:23 - --source-dir=/tmp/inputs\n2023-01-09 13:28:18 INFO  Main:23 - --dest-dir=/tmp/outputs\n2023-01-09 13:28:18 INFO  Main:23 - --include-source\n2023-01-09 13:28:19 INFO  Main:67 - BY DEFINITION\n2023-01-09 13:28:19 INFO  Main:69 - definition: &quot;common.affinities.nodes&quot; [/tmp/inputs/charts/keycloak/charts/postgresql/charts/common/templates/_affinities.tpl:40]\n2023-01-09 13:28:19 INFO  Main:69 -   file: /tmp/inputs/charts/keycloak/charts/postgresql/charts/common/templates/_affinities.tpl\n2023-01-09 13:28:19 INFO  Main:69 -     lines:\n2023-01-09 13:28:19 INFO  Main:69 -       38: {{ include &quot;common.affinities.nodes&quot; (dict &quot;type&quot; &quot;soft&quot; &quot;key&quot; &quot;FOO&quot; &quot;values&quot; (list &quot;BAR&quot; &quot;BAZ&quot;)) -}}\n...\n</code></pre>\n<p>What is happening here? How can I fix this?</p>\n"},{"tags":["java","iteration","guava","multimap"],"comments":[{"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"score":0,"creation_date":1399334787,"post_id":23483884,"comment_id":36009145,"body_markdown":"Can you format this better?","body":"Can you format this better?"},{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399334958,"post_id":23483884,"comment_id":36009183,"body_markdown":"@AnubianNoob Does that look better?","body":"@AnubianNoob Does that look better?"},{"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"score":1,"creation_date":1399335157,"post_id":23483884,"comment_id":36009235,"body_markdown":"Yup, thanks. I still don&#39;t understand how you get from one dataset to the other, but that might be just me.","body":"Yup, thanks. I still don&#39;t understand how you get from one dataset to the other, but that might be just me."},{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399335743,"post_id":23483884,"comment_id":36009373,"body_markdown":"I&#39;m trying to take the first dataset which is what i have in the multimap and then make the second dataset.","body":"I&#39;m trying to take the first dataset which is what i have in the multimap and then make the second dataset."},{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399335913,"post_id":23483884,"comment_id":36009415,"body_markdown":"I formatted again. I hope that help to make it more clear.","body":"I formatted again. I hope that help to make it more clear."},{"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"score":0,"creation_date":1399336380,"post_id":23483884,"comment_id":36009535,"body_markdown":"Guava MultiMap get method returns Collection&lt;V&gt;. Your snippet assumes it is a String. Does this compile?","body":"Guava MultiMap get method returns Collection&lt;V&gt;. Your snippet assumes it is a String. Does this compile?"},{"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"score":0,"creation_date":1399336384,"post_id":23483884,"comment_id":36009539,"body_markdown":"I&#39;m not familiar with `MutliMap`s so I have no idea how you go between  the two datasets... However, your question looks clear.","body":"I&#39;m not familiar with <code>MutliMap</code>s so I have no idea how you go between  the two datasets... However, your question looks clear."},{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399338500,"post_id":23483884,"comment_id":36010094,"body_markdown":"Yes it compiles. I print out to a file the first data set. To make the second data set, I copy and paste it to show you what I&#39;m trying to achieve. SO I  take the first value to start the pairing after it pairs with every other value then I make the second value pair up with any other values that haven&#39;t already made a unique pair.","body":"Yes it compiles. I print out to a file the first data set. To make the second data set, I copy and paste it to show you what I&#39;m trying to achieve. SO I  take the first value to start the pairing after it pairs with every other value then I make the second value pair up with any other values that haven&#39;t already made a unique pair."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1399338735,"post_id":23483884,"comment_id":36010141,"body_markdown":"If you could provide an [SSCCE](http://www.sscce.org/) we could run, we&#39;d likely be able to answer your question in seconds.","body":"If you could provide an <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> we could run, we&#39;d likely be able to answer your question in seconds."},{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399339048,"post_id":23483884,"comment_id":36010221,"body_markdown":"Has any of edits made it clearer? I can give you the code not a problem. But all that gives you is the mutltmap I already have. I trying to figure how get data in multimap to the format of that other dataset.","body":"Has any of edits made it clearer? I can give you the code not a problem. But all that gives you is the mutltmap I already have. I trying to figure how get data in multimap to the format of that other dataset."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1399339461,"post_id":23483884,"comment_id":36010321,"body_markdown":"@user3590149 It was not clear to me that the first block *was* a Multimap.  I have reformatted your question in a way that makes sense to me, please look over it and make sure it&#39;s still what you&#39;re looking for, I&#39;ll update my answer.","body":"@user3590149 It was not clear to me that the first block <i>was</i> a Multimap.  I have reformatted your question in a way that makes sense to me, please look over it and make sure it&#39;s still what you&#39;re looking for, I&#39;ll update my answer."},{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399341173,"post_id":23483884,"comment_id":36010720,"body_markdown":"Thank you. That seems to be more clear.","body":"Thank you. That seems to be more clear."}],"answers":[{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1673288159,"creation_date":1399338644,"answer_id":23484420,"question_id":23483884,"body_markdown":"*I wrote this answer before the question was updated to more clearly describe the desired behavior, however I suspect this answer will still help some people who stumble on this question trying to understand different ways to iterate over a `Multimap`, so I&#39;m leaving this answer here for posterity.  See my [other answer](https://stackoverflow.com/a/23484617/113632) for what OP was actually looking for.*\r\n\r\n----\r\n\r\nSuppose we start with the following [`Multimap`][1]:\r\n\r\n    Multimap&lt;String, Integer&gt; map = new ImmutableSetMultimap.Builder&lt;String, Integer&gt;()\r\n                                    .put(&quot;one&quot;, 1)\r\n                                    .putAll(&quot;several&quot;, 1, 2, 3)\r\n                                    .putAll(&quot;many&quot;, 1, 2, 3, 4, 5)\r\n                                    .build();\r\n\r\nWe can print it&#39;s contents several ways, let&#39;s try them:\r\n\r\n1. As a raw string:\r\n\r\n        map.toString()\r\n\r\n    &gt;     {one=[1], several=[1, 2, 3], many=[1, 2, 3, 4, 5]}\r\n\r\n1. As a collection of key =&gt; collection pairs, with unique keys:\r\n\r\n        for(String key : map.keySet()) {\r\n          System.out.println(key+&quot;: &quot;+map.get(key));\r\n        }\r\n        \r\n        // OR with the asMap() view\r\n       \r\n        for(Entry&lt;String,Collection&lt;Integer&gt; e : map.asMap().entrySet()) {\r\n          System.out.println(e.getKey()+&quot;: &quot;+e.getValue());\r\n        }\r\n        \r\n    &gt;     one: [1]\r\n        several: [1, 2, 3]\r\n        many: [1, 2, 3, 4, 5]\r\n\r\n1. As a collection of key =&gt; value pairs, with duplicate keys (and possibly values, if it&#39;s a ListMultimap):\r\n\r\n        for(Entry&lt;String, Integer&gt; e : map.entries()) {\r\n          System.out.println(e.getKey()+&quot;: &quot;+e.getValue());\r\n        }\r\n\r\n    &gt;     one: 1\r\n        several: 1\r\n        several: 2\r\n        several: 3\r\n        many: 1\r\n        many: 2\r\n        many: 3\r\n        many: 4\r\n        many: 5\r\n\r\n1. As a collection of values, without concern for their keys:\r\n\r\n        for(Integer v : map.values()) {\r\n          System.out.println(v);\r\n        }\r\n        \r\n    &gt;     1\r\n        1\r\n        2\r\n        3\r\n        1\r\n        2\r\n        3\r\n        4\r\n        5\r\n\r\nThose are *generally* the ways you&#39;d work with a `Multimap`.  You say you&#39;re trying to &quot;print out pairs that aren&#39;t dependent on order&quot; - it&#39;s unclear to me what that means, but if you&#39;re saying you want the output of option 3 to be in an arbitrary order, you could write your strings to a list, then shuffle it, like so:\r\n\r\n    List&lt;String&gt; pairs = new ArrayList&lt;&gt;();\r\n    for(Entry&lt;String, Integer&gt; e : map.entries()) {\r\n      pairs.add(e.getKey()+&quot;: &quot;+e.getValue());\r\n    }\r\n    Collections.shuffle(pairs);\r\n    for(String s : pairs) {\r\n      System.out.println(s);\r\n    }\r\n\r\nThis would print your Multimap&#39;s contents as pairs in arbitrary order.\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableSetMultimap.Builder.html","title":"How can I iterate through a Guava multimap to print out values as pairs","body":"<p><em>I wrote this answer before the question was updated to more clearly describe the desired behavior, however I suspect this answer will still help some people who stumble on this question trying to understand different ways to iterate over a <code>Multimap</code>, so I'm leaving this answer here for posterity.  See my <a href=\"https://stackoverflow.com/a/23484617/113632\">other answer</a> for what OP was actually looking for.</em></p>\n<hr />\n<p>Suppose we start with the following <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableSetMultimap.Builder.html\" rel=\"nofollow noreferrer\"><code>Multimap</code></a>:</p>\n<pre><code>Multimap&lt;String, Integer&gt; map = new ImmutableSetMultimap.Builder&lt;String, Integer&gt;()\n                                .put(&quot;one&quot;, 1)\n                                .putAll(&quot;several&quot;, 1, 2, 3)\n                                .putAll(&quot;many&quot;, 1, 2, 3, 4, 5)\n                                .build();\n</code></pre>\n<p>We can print it's contents several ways, let's try them:</p>\n<ol>\n<li><p>As a raw string:</p>\n<pre><code> map.toString()\n</code></pre>\n<blockquote>\n<pre><code>{one=[1], several=[1, 2, 3], many=[1, 2, 3, 4, 5]}\n</code></pre>\n</blockquote>\n</li>\n<li><p>As a collection of key =&gt; collection pairs, with unique keys:</p>\n<pre><code> for(String key : map.keySet()) {\n   System.out.println(key+&quot;: &quot;+map.get(key));\n }\n\n // OR with the asMap() view\n\n for(Entry&lt;String,Collection&lt;Integer&gt; e : map.asMap().entrySet()) {\n   System.out.println(e.getKey()+&quot;: &quot;+e.getValue());\n }\n</code></pre>\n<blockquote>\n<pre><code>one: [1]\n</code></pre>\n</blockquote>\n<pre><code> several: [1, 2, 3]\n many: [1, 2, 3, 4, 5]\n</code></pre>\n</li>\n<li><p>As a collection of key =&gt; value pairs, with duplicate keys (and possibly values, if it's a ListMultimap):</p>\n<pre><code> for(Entry&lt;String, Integer&gt; e : map.entries()) {\n   System.out.println(e.getKey()+&quot;: &quot;+e.getValue());\n }\n</code></pre>\n<blockquote>\n<pre><code>one: 1\n</code></pre>\n</blockquote>\n<pre><code> several: 1\n several: 2\n several: 3\n many: 1\n many: 2\n many: 3\n many: 4\n many: 5\n</code></pre>\n</li>\n<li><p>As a collection of values, without concern for their keys:</p>\n<pre><code> for(Integer v : map.values()) {\n   System.out.println(v);\n }\n</code></pre>\n<blockquote>\n<pre><code>1\n</code></pre>\n</blockquote>\n<pre><code> 1\n 2\n 3\n 1\n 2\n 3\n 4\n 5\n</code></pre>\n</li>\n</ol>\n<p>Those are <em>generally</em> the ways you'd work with a <code>Multimap</code>.  You say you're trying to &quot;print out pairs that aren't dependent on order&quot; - it's unclear to me what that means, but if you're saying you want the output of option 3 to be in an arbitrary order, you could write your strings to a list, then shuffle it, like so:</p>\n<pre><code>List&lt;String&gt; pairs = new ArrayList&lt;&gt;();\nfor(Entry&lt;String, Integer&gt; e : map.entries()) {\n  pairs.add(e.getKey()+&quot;: &quot;+e.getValue());\n}\nCollections.shuffle(pairs);\nfor(String s : pairs) {\n  System.out.println(s);\n}\n</code></pre>\n<p>This would print your Multimap's contents as pairs in arbitrary order.</p>\n"},{"tags":[],"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1399339551,"creation_date":1399339551,"answer_id":23484540,"question_id":23483884,"body_markdown":"Hope this helps...\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    \r\n    import com.google.common.collect.ArrayListMultimap;\r\n    import com.google.common.collect.Multimap;\r\n    \r\n    public class GuavaSample {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tMultimap&lt;String, String&gt; multiMap = ArrayListMultimap.create();\r\n    \t\tmultiMap.put(&quot;BE0004429&quot;, &quot;DB00515&quot;);\r\n    \t\tmultiMap.put(&quot;BE0004429&quot;, &quot;DB00951&quot;);\r\n    \t\tmultiMap.put(&quot;BE0004429&quot;, &quot;DB01582&quot;);\r\n    \r\n    \t\tmultiMap.put(&quot;BE0000059&quot;, &quot;DB00603&quot;);\r\n    \t\tmultiMap.put(&quot;BE0000059&quot;, &quot;DB01285&quot;);\r\n    \r\n    \t\tmultiMap.put(&quot;BE0001052&quot;, &quot;DB00366&quot;);\r\n    \t\tmultiMap.put(&quot;BE0001052&quot;, &quot;DB00472&quot;);\r\n    \t\tmultiMap.put(&quot;BE0001052&quot;, &quot;DB00856&quot;);\r\n    \t\tmultiMap.put(&quot;BE0001052&quot;, &quot;DB01104&quot;);\r\n    \t\tmultiMap.put(&quot;BE0001052&quot;, &quot;DB01149&quot;);\r\n    \r\n    \t\tfor (String key : multiMap.keySet()) {\r\n    \t\t\tList&lt;String&gt; list = (List&lt;String&gt;) multiMap.get(key);\r\n    \t\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n    \t\t\t\tfor (int j = i + 1; j &lt; list.size(); j++) {\r\n    \t\t\t\t\tSystem.out.println(list.get(i) + &quot;,&quot; + list.get(j));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How can I iterate through a Guava multimap to print out values as pairs","body":"<p>Hope this helps...</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\nimport com.google.common.collect.ArrayListMultimap;\nimport com.google.common.collect.Multimap;\n\npublic class GuavaSample {\n\n    public static void main(String[] args) {\n        Multimap&lt;String, String&gt; multiMap = ArrayListMultimap.create();\n        multiMap.put(\"BE0004429\", \"DB00515\");\n        multiMap.put(\"BE0004429\", \"DB00951\");\n        multiMap.put(\"BE0004429\", \"DB01582\");\n\n        multiMap.put(\"BE0000059\", \"DB00603\");\n        multiMap.put(\"BE0000059\", \"DB01285\");\n\n        multiMap.put(\"BE0001052\", \"DB00366\");\n        multiMap.put(\"BE0001052\", \"DB00472\");\n        multiMap.put(\"BE0001052\", \"DB00856\");\n        multiMap.put(\"BE0001052\", \"DB01104\");\n        multiMap.put(\"BE0001052\", \"DB01149\");\n\n        for (String key : multiMap.keySet()) {\n            List&lt;String&gt; list = (List&lt;String&gt;) multiMap.get(key);\n            for (int i = 0; i &lt; list.size(); i++) {\n                for (int j = i + 1; j &lt; list.size(); j++) {\n                    System.out.println(list.get(i) + \",\" + list.get(j));\n                }\n            }\n            System.out.println();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1511285415,"creation_date":1399340120,"answer_id":23484617,"question_id":23483884,"body_markdown":"There&#39;s two parts to this question, now that I understand it, and really the fact that you&#39;re working with Multimaps isn&#39;t very important.  It&#39;s valuable to try to break problems into its component parts; when you do the problems often become clearer, even trivial seeming.\r\n\r\n1. How do I print successive pairs from a collection?\r\n\r\n    We need to define a function which will take a Collection (this will let us work with arbitrary Multimaps), and generate your pairs:\r\n\r\n        public static &lt;V&gt; List&lt;String&gt; genPairs(Collection&lt;V&gt; col) {\r\n          List&lt;V&gt; ls = ImmutableList.copyOf(col);\r\n          List&lt;String&gt; ret = new ArrayList&lt;&gt;();\r\n          \r\n          for (int i = 0; i &lt; ls.size()-1; i++) {\r\n            for (int j = i+1; j &lt; ls.size(); j++) {\r\n              ret.add(ls.get(i)+&quot;, &quot;+ls.get(j));\r\n            }\r\n          }\r\n        \r\n          return ret;\r\n        }\r\n\r\n    Demo:\r\n\r\n        for(String pair : genPairs(ImmutableList.of(1,2,3))) {\r\n          System.out.println(pair);\r\n        }\r\n        \r\n    &gt;     1, 2\r\n        1, 3\r\n        2, 3\r\n\r\n2. How do I print successive pairs from the values of a Multimap?\r\n\r\n    This part&#39;s easy, you just loop over the value collections and call the above function:\r\n\r\n        for(Collection&lt;String&gt; col : multimap.asMap().values()) {\r\n          for(String pair : genPairs(col)) {\r\n            System.out.println(pair);\r\n          }\r\n          System.out.println();\r\n        }","title":"How can I iterate through a Guava multimap to print out values as pairs","body":"<p>There's two parts to this question, now that I understand it, and really the fact that you're working with Multimaps isn't very important.  It's valuable to try to break problems into its component parts; when you do the problems often become clearer, even trivial seeming.</p>\n\n<ol>\n<li><p>How do I print successive pairs from a collection?</p>\n\n<p>We need to define a function which will take a Collection (this will let us work with arbitrary Multimaps), and generate your pairs:</p>\n\n<pre><code>public static &lt;V&gt; List&lt;String&gt; genPairs(Collection&lt;V&gt; col) {\n  List&lt;V&gt; ls = ImmutableList.copyOf(col);\n  List&lt;String&gt; ret = new ArrayList&lt;&gt;();\n\n  for (int i = 0; i &lt; ls.size()-1; i++) {\n    for (int j = i+1; j &lt; ls.size(); j++) {\n      ret.add(ls.get(i)+\", \"+ls.get(j));\n    }\n  }\n\n  return ret;\n}\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>for(String pair : genPairs(ImmutableList.of(1,2,3))) {\n  System.out.println(pair);\n}\n</code></pre>\n\n<blockquote>\n<pre><code>1, 2\n1, 3\n2, 3\n</code></pre>\n</blockquote></li>\n<li><p>How do I print successive pairs from the values of a Multimap?</p>\n\n<p>This part's easy, you just loop over the value collections and call the above function:</p>\n\n<pre><code>for(Collection&lt;String&gt; col : multimap.asMap().values()) {\n  for(String pair : genPairs(col)) {\n    System.out.println(pair);\n  }\n  System.out.println();\n}\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11345,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":23484617,"answer_count":3,"score":5,"last_activity_date":1673288159,"creation_date":1399334743,"question_id":23483884,"body_markdown":"For each key in a Guava Multimap I need to take the corresponding values and make pairs with them that are not dependent on order.Uniqueness of pairs are not dependent on order for make pairs inside of key.  [A,B] = [B,A].  If the pair [B,A] is found in another key then this should treated as another pair. I don&#39;t know how iterate the values so I can print out pairs that aren&#39;t dependent on order. I&#39;m not sure how to index this either. For arrays, I could just use a double loop. \r\n\r\nHere is an example Multimap:\r\n\r\n    BE0004429: [DB00515, DB00951, DB01582]\r\n    BE0000059: [DB00603, DB01285]\r\n    BE0001052: [DB00366, DB00472, DB00856, DB01104, DB01149]\r\n\r\nI want to take that data and change it to this format. Look carefully, I&#39;m trying to take the values of each key and make pairs.\r\n\r\nI want take the first value in the each key and pair it up with the other values. Take the second value and pair it with the value after. Until there no more unique pairs.\r\n\r\n    DB00515, DB00951\r\n    DB00515, DB01582\r\n    DB01582, DB00951\r\n\r\n    DB00603, DB01285\r\n\r\n    DB00366, DB00472\r\n    DB00366, DB00856\r\n    DB00366, DB01104\r\n    DB00366, DB01149\r\n    DB00472, DB00856\r\n    DB00472, DB01104\r\n    DB00472, DB01149\r\n    DB00856, DB01104\r\n    DB00856, DB01149\r\n    DB01104, DB01149\r\n    ","title":"How can I iterate through a Guava multimap to print out values as pairs","body":"<p>For each key in a Guava Multimap I need to take the corresponding values and make pairs with them that are not dependent on order.Uniqueness of pairs are not dependent on order for make pairs inside of key.  [A,B] = [B,A].  If the pair [B,A] is found in another key then this should treated as another pair. I don't know how iterate the values so I can print out pairs that aren't dependent on order. I'm not sure how to index this either. For arrays, I could just use a double loop. </p>\n\n<p>Here is an example Multimap:</p>\n\n<pre><code>BE0004429: [DB00515, DB00951, DB01582]\nBE0000059: [DB00603, DB01285]\nBE0001052: [DB00366, DB00472, DB00856, DB01104, DB01149]\n</code></pre>\n\n<p>I want to take that data and change it to this format. Look carefully, I'm trying to take the values of each key and make pairs.</p>\n\n<p>I want take the first value in the each key and pair it up with the other values. Take the second value and pair it with the value after. Until there no more unique pairs.</p>\n\n<pre><code>DB00515, DB00951\nDB00515, DB01582\nDB01582, DB00951\n\nDB00603, DB01285\n\nDB00366, DB00472\nDB00366, DB00856\nDB00366, DB01104\nDB00366, DB01149\nDB00472, DB00856\nDB00472, DB01104\nDB00472, DB01149\nDB00856, DB01104\nDB00856, DB01149\nDB01104, DB01149\n</code></pre>\n"},{"tags":["java","android","webview","android-webview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673350329,"post_id":75061384,"comment_id":132474069,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27264806,"reputation":1,"user_id":20787037,"display_name":"Arun Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673288055,"creation_date":1673288055,"question_id":75061384,"body_markdown":"I Would like to Customize the ui of dropdown popup inside webview.\r\n\r\n[Image](https://i.stack.imgur.com/XKsp3.png)\r\n\r\nCan anyone here helpme to solve this ?","title":"Customize style of dropdown poup in Android WebView","body":"<p>I Would like to Customize the ui of dropdown popup inside webview.</p>\n<p><a href=\"https://i.stack.imgur.com/XKsp3.png\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>Can anyone here helpme to solve this ?</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"owner":{"account_id":23684600,"reputation":1,"user_id":17709729,"display_name":"Lurchfresser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673288054,"creation_date":1673284906,"question_id":75060867,"body_markdown":"I am currently learning how to program minecraft mods using fabric. I want to create an Item, which, when used on a creeper, let the player explode, which will also be shown in the deathmessage, that the player was the cause of the death(like when you kill yourself with TNT).\r\n\r\n```\r\npackage net.lurchfresser.tutorialmod.item.custom;\r\n\r\nimport net.minecraft.entity.Entity;\r\nimport net.minecraft.entity.LivingEntity;\r\nimport net.minecraft.entity.damage.DamageSource;\r\nimport net.minecraft.entity.effect.StatusEffect;\r\nimport net.minecraft.entity.effect.StatusEffectInstance;\r\nimport net.minecraft.entity.mob.CreeperEntity;\r\nimport net.minecraft.entity.mob.ZombieEntity;\r\nimport net.minecraft.entity.player.PlayerEntity;\r\nimport net.minecraft.item.Item;\r\nimport net.minecraft.item.ItemStack;\r\nimport net.minecraft.potion.Potion;\r\nimport net.minecraft.util.ActionResult;\r\nimport net.minecraft.util.Hand;\r\nimport net.minecraft.world.World;\r\nimport org.w3c.dom.Text;\r\n\r\n\r\npublic class ConsumerItem extends Item {\r\n    public ConsumerItem(Settings settings){\r\n        super(settings);\r\n    }\r\n\r\n    @Override\r\n    public ActionResult useOnEntity(ItemStack stack, PlayerEntity user, LivingEntity entity, Hand hand) {\r\n        double x = user.getX();\r\n        double y = user.getY();\r\n        double z = user.getZ();\r\n\r\n        if(!user.world.isClient) {\r\n            if (entity instanceof ZombieEntity) {\r\n                entity.kill();\r\n                user.addStatusEffect(new StatusEffectInstance(StatusEffect.byRawId(19), 100));\r\n            } else if (entity instanceof CreeperEntity) {\r\n                entity.kill();\r\n                user.world.createExplosion(user, null,null, x + 0.5D, y + 0.5d, z + 0.5d,3F,false,World.ExplosionSourceType.MOB);\r\n            }\r\n        }\r\n        return super.useOnEntity(stack, user, entity, hand);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf I put the creeper in the first param of the createExplosion method. The Creeper will be the cause of the death. Also trying pass user.getName.toString in the second param(damageSource) didn&#39;t work out.","title":"Minecraft 1.19.3 modding fabric .createExplosion with user as entity and explosion deals player still damage","body":"<p>I am currently learning how to program minecraft mods using fabric. I want to create an Item, which, when used on a creeper, let the player explode, which will also be shown in the deathmessage, that the player was the cause of the death(like when you kill yourself with TNT).</p>\n<pre><code>package net.lurchfresser.tutorialmod.item.custom;\n\nimport net.minecraft.entity.Entity;\nimport net.minecraft.entity.LivingEntity;\nimport net.minecraft.entity.damage.DamageSource;\nimport net.minecraft.entity.effect.StatusEffect;\nimport net.minecraft.entity.effect.StatusEffectInstance;\nimport net.minecraft.entity.mob.CreeperEntity;\nimport net.minecraft.entity.mob.ZombieEntity;\nimport net.minecraft.entity.player.PlayerEntity;\nimport net.minecraft.item.Item;\nimport net.minecraft.item.ItemStack;\nimport net.minecraft.potion.Potion;\nimport net.minecraft.util.ActionResult;\nimport net.minecraft.util.Hand;\nimport net.minecraft.world.World;\nimport org.w3c.dom.Text;\n\n\npublic class ConsumerItem extends Item {\n    public ConsumerItem(Settings settings){\n        super(settings);\n    }\n\n    @Override\n    public ActionResult useOnEntity(ItemStack stack, PlayerEntity user, LivingEntity entity, Hand hand) {\n        double x = user.getX();\n        double y = user.getY();\n        double z = user.getZ();\n\n        if(!user.world.isClient) {\n            if (entity instanceof ZombieEntity) {\n                entity.kill();\n                user.addStatusEffect(new StatusEffectInstance(StatusEffect.byRawId(19), 100));\n            } else if (entity instanceof CreeperEntity) {\n                entity.kill();\n                user.world.createExplosion(user, null,null, x + 0.5D, y + 0.5d, z + 0.5d,3F,false,World.ExplosionSourceType.MOB);\n            }\n        }\n        return super.useOnEntity(stack, user, entity, hand);\n    }\n\n}\n</code></pre>\n<p>If I put the creeper in the first param of the createExplosion method. The Creeper will be the cause of the death. Also trying pass user.getName.toString in the second param(damageSource) didn't work out.</p>\n"},{"tags":["java","docker","maven"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673287643,"post_id":75061177,"comment_id":132460621,"body_markdown":"try to use an absolute path to app.jar. Maybe the copy and entrypoints uses different working directories","body":"try to use an absolute path to app.jar. Maybe the copy and entrypoints uses different working directories"}],"answers":[{"tags":[],"owner":{"account_id":20141613,"reputation":27,"user_id":14771241,"display_name":"Thiago Salgado"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673287994,"creation_date":1673287994,"answer_id":75061374,"question_id":75061177,"body_markdown":"I&#39;ve found the correct configurations for the dockerfile and relative paths. Since I&#39;ve set the WORKDIR for the buider as ```/tmp/``` my target folder was being generated at ```/tmp/target/```, so specifying the source files with the ```---from=builder``` tag, and updating the path, I was able to succesfully copy the ```.jar``` file\r\n\r\nMy current working dockerfile:\r\n```\r\nFROM maven:3.8.1-openjdk-17 as builder\r\nCOPY src /tmp/src/\r\nCOPY pom.xml /tmp/\r\nWORKDIR /tmp/\r\nRUN mvn clean install\r\n\r\n\r\nFROM maven:3.8.1-openjdk-17\r\nCOPY --from=builder /tmp/target/*.jar app.jar\r\nEXPOSE 8081\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n```","title":"Build maven project inside docker container","body":"<p>I've found the correct configurations for the dockerfile and relative paths. Since I've set the WORKDIR for the buider as <code>/tmp/</code> my target folder was being generated at <code>/tmp/target/</code>, so specifying the source files with the <code>---from=builder</code> tag, and updating the path, I was able to succesfully copy the <code>.jar</code> file</p>\n<p>My current working dockerfile:</p>\n<pre><code>FROM maven:3.8.1-openjdk-17 as builder\nCOPY src /tmp/src/\nCOPY pom.xml /tmp/\nWORKDIR /tmp/\nRUN mvn clean install\n\n\nFROM maven:3.8.1-openjdk-17\nCOPY --from=builder /tmp/target/*.jar app.jar\nEXPOSE 8081\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n"}],"owner":{"account_id":20141613,"reputation":27,"user_id":14771241,"display_name":"Thiago Salgado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673287994,"creation_date":1673286853,"question_id":75061177,"body_markdown":"I&#39;m having some problems while trying to build a mvn project inside a Docker container. Everytime I try to build using the following Dockerfile, I get this error:\r\n\r\n```\r\n[10/10] COPY target/*.jar app.jar:\r\n------\r\nlstat /var/lib/docker/tmp/buildkit-mount9100795/target: no such file or directory\r\n```\r\n\r\nMy current Dockerfile:\r\n```\r\nFROM maven:3.8.1-openjdk-17 as builder\r\nCOPY src /tmp/src/\r\nCOPY pom.xml /tmp/\r\nWORKDIR /tmp/\r\nRUN mvn clean install\r\n\r\n\r\nFROM maven:3.8.1-openjdk-17\r\nWORKDIR /tmp/app\r\nCOPY target/*.jar app.jar\r\nEXPOSE 8081\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n```","title":"Build maven project inside docker container","body":"<p>I'm having some problems while trying to build a mvn project inside a Docker container. Everytime I try to build using the following Dockerfile, I get this error:</p>\n<pre><code>[10/10] COPY target/*.jar app.jar:\n------\nlstat /var/lib/docker/tmp/buildkit-mount9100795/target: no such file or directory\n</code></pre>\n<p>My current Dockerfile:</p>\n<pre><code>FROM maven:3.8.1-openjdk-17 as builder\nCOPY src /tmp/src/\nCOPY pom.xml /tmp/\nWORKDIR /tmp/\nRUN mvn clean install\n\n\nFROM maven:3.8.1-openjdk-17\nWORKDIR /tmp/app\nCOPY target/*.jar app.jar\nEXPOSE 8081\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n"},{"tags":["java","jconsole"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673193662,"post_id":75043785,"comment_id":132438527,"body_markdown":"You&#39;ll need to show your docker run command or compose files. Otherwise, this doesn&#39;t seem like a problem specific to any image (kafka, or otherwise).","body":"You&#39;ll need to show your docker run command or compose files. Otherwise, this doesn&#39;t seem like a problem specific to any image (kafka, or otherwise)."},{"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"score":0,"creation_date":1673207317,"post_id":75043785,"comment_id":132441347,"body_markdown":"Perhaps the docker container doesn&#39;t bind to that port? `docker ps -a` or `netstat -anp | grep 35000` may show a clue..","body":"Perhaps the docker container doesn&#39;t bind to that port? <code>docker ps -a</code> or <code>netstat -anp | grep 35000</code> may show a clue.."},{"owner":{"account_id":3551736,"reputation":1294,"user_id":2966445,"accept_rate":60,"display_name":"user2966445"},"score":0,"creation_date":1673208485,"post_id":75043785,"comment_id":132441541,"body_markdown":"@murtiko I&#39;ve updated the post with the Docker/Netstat info. Looks like port 35000 is correct. When I look at the logs on the Docker side, the error just says `WARNING: The server has decided to close this client connection.`","body":"@murtiko I&#39;ve updated the post with the Docker/Netstat info. Looks like port 35000 is correct. When I look at the logs on the Docker side, the error just says <code>WARNING: The server has decided to close this client connection.</code>"},{"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"score":0,"creation_date":1673258429,"post_id":75043785,"comment_id":132449736,"body_markdown":"Yes it looks like the port is correctly configured and being listened on. Strange, maybe [this other question/thread](https://stackoverflow.com/questions/29412072/how-to-access-spring-boot-jmx-remotely) may help. It may not be a problem but i noticed that you provide the jmx related JVM args to jconsole? Afaik these parameters are needed for the vm that you want to monitor, and not jconsole.","body":"Yes it looks like the port is correctly configured and being listened on. Strange, maybe <a href=\"https://stackoverflow.com/questions/29412072/how-to-access-spring-boot-jmx-remotely\">this other question/thread</a> may help. It may not be a problem but i noticed that you provide the jmx related JVM args to jconsole? Afaik these parameters are needed for the vm that you want to monitor, and not jconsole."},{"owner":{"account_id":3551736,"reputation":1294,"user_id":2966445,"accept_rate":60,"display_name":"user2966445"},"score":1,"creation_date":1673287990,"post_id":75043785,"comment_id":132460720,"body_markdown":"@murtiko Updating to JDK 19 fixed this issue for me. Just posted the answer.","body":"@murtiko Updating to JDK 19 fixed this issue for me. Just posted the answer."}],"answers":[{"tags":[],"owner":{"account_id":3551736,"reputation":1294,"user_id":2966445,"accept_rate":60,"display_name":"user2966445"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673287961,"creation_date":1673287961,"answer_id":75061368,"question_id":75043785,"body_markdown":"The fix for this issue was to update JDK to the latest version (in my case, JDK 19).\r\nAfter downloading/installing JDK 19 and running the updated JConsole, I no longer had the constant disconnects.\r\n\r\nhttps://www.oracle.com/java/technologies/downloads/#jdk19-windows","title":"JConsole - Constant Disconnects with localhost/Kafka Sandbox","body":"<p>The fix for this issue was to update JDK to the latest version (in my case, JDK 19).\nAfter downloading/installing JDK 19 and running the updated JConsole, I no longer had the constant disconnects.</p>\n<p><a href=\"https://www.oracle.com/java/technologies/downloads/#jdk19-windows\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#jdk19-windows</a></p>\n"}],"owner":{"account_id":3551736,"reputation":1294,"user_id":2966445,"accept_rate":60,"display_name":"user2966445"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75061368,"answer_count":1,"score":0,"last_activity_date":1673287961,"creation_date":1673125591,"question_id":75043785,"body_markdown":"I am trying to use JConsole to monitor/view metrics for Kafka Sandbox with Docker containers. As soon as I connect to **locahost:35000**, I receive the error: `&quot;Secure Connection Failed: Retry Insecurely?&quot;` \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf I click `Insecure connection`, the connection works for a split second and then disconnects again with a different error: &quot;`Connection Lost: Reconnect?`&quot;. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;ve researched and tried many different combinations of JMX arguments, including the arguments below and none have worked so far. \r\n\r\nThe actual exception returned in the debug log is:\r\n\r\n    java.lang.SecurityException: Expecting a sun.rmi.server.UnicastRef2 remote reference in stub!\r\n\r\nHas anyone been able to fix this issue with JConsole?\r\n\r\n**Current arguments used:**\r\n\r\n    jconsole -debug -J&quot;-Dcom.sun.management.jmxremote=true, -Dcom.sun.management.jmxremote.authenticate=false, -Dcom.sun.management.jmxremote.ssl=false, -Djava.rmi.server.hostname=localhost,  -Dcom.sun.management.jmxremote.local.only=false, -Dcom.sun.management.jmxremote.rmi.port=35000, -Dcom.sun.management.jmxremote.port=35000, -Dcom.sun.management.jmxremote.port=35000&quot;\r\n\r\n**Java Info:**\r\n\r\n    java 14.0.1 2020-04-14\r\n    Java(TM) SE Runtime Environment (build 14.0.1+7)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 14.0.1+7, mixed mode, sharing)\r\n\r\n\r\n**Docker Info:**\r\n\r\n    CONTAINER ID   IMAGE                                      COMMAND                  CREATED      STATUS                  PORTS                                          NAMES\r\n    b21d9589e737   mongodb-kafka-base-setup-mongod:1.0        &quot;bash -c &#39;sleep 10 &amp;…&quot;   4 days ago   Exited (0) 4 days ago                                                  mongo1-setup\r\n    c0a23e041e23   mongodb-kafka-base-mongod:1.0              &quot;docker-entrypoint.s…&quot;   4 days ago   Up 4 days               0.0.0.0:35001-&gt;27017/tcp                       mongo1\r\n    7c56b4ccc89a   confluentinc/cp-kafka-rest:7.2.2           &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days               8082/tcp                                       rest-proxy\r\n    3b6fd1821270   confluentinc/cp-schema-registry:7.2.2      &quot;/etc/confluent/dock…&quot;   4 days ago   Exited (1) 4 days ago                                                  schema-registry\r\n    c303de030d9f   confluentinc/cp-kafka-connect-base:7.2.2   &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days (healthy)     8083/tcp, 9092/tcp, 0.0.0.0:35000-&gt;35000/tcp   connect\r\n    4c1665f78d4c   confluentinc/cp-kafka:7.2.2                &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days               9092/tcp                                       broker\r\n    b707c2d6b8be   confluentinc/cp-zookeeper:7.2.2            &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days               2181/tcp, 2888/tcp, 3888/tcp                   zookeeper\r\n\r\n**Netstat Info:**\r\n\r\n      TCP    0.0.0.0:35000          0.0.0.0:0              LISTENING\r\n      TCP    [::]:35000             [::]:0                 LISTENING\r\n      TCP    [::1]:35000            [::]:0                 LISTENING\r\n\r\n  [1]: https://i.stack.imgur.com/PSVl2.png\r\n  [2]: https://i.stack.imgur.com/WGCH8.png","title":"JConsole - Constant Disconnects with localhost/Kafka Sandbox","body":"<p>I am trying to use JConsole to monitor/view metrics for Kafka Sandbox with Docker containers. As soon as I connect to <strong>locahost:35000</strong>, I receive the error: <code>&quot;Secure Connection Failed: Retry Insecurely?&quot;</code></p>\n<p><a href=\"https://i.stack.imgur.com/PSVl2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PSVl2.png\" alt=\"enter image description here\" /></a></p>\n<p>If I click <code>Insecure connection</code>, the connection works for a split second and then disconnects again with a different error: &quot;<code>Connection Lost: Reconnect?</code>&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/WGCH8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WGCH8.png\" alt=\"enter image description here\" /></a></p>\n<p>I've researched and tried many different combinations of JMX arguments, including the arguments below and none have worked so far.</p>\n<p>The actual exception returned in the debug log is:</p>\n<pre><code>java.lang.SecurityException: Expecting a sun.rmi.server.UnicastRef2 remote reference in stub!\n</code></pre>\n<p>Has anyone been able to fix this issue with JConsole?</p>\n<p><strong>Current arguments used:</strong></p>\n<pre><code>jconsole -debug -J&quot;-Dcom.sun.management.jmxremote=true, -Dcom.sun.management.jmxremote.authenticate=false, -Dcom.sun.management.jmxremote.ssl=false, -Djava.rmi.server.hostname=localhost,  -Dcom.sun.management.jmxremote.local.only=false, -Dcom.sun.management.jmxremote.rmi.port=35000, -Dcom.sun.management.jmxremote.port=35000, -Dcom.sun.management.jmxremote.port=35000&quot;\n</code></pre>\n<p><strong>Java Info:</strong></p>\n<pre><code>java 14.0.1 2020-04-14\nJava(TM) SE Runtime Environment (build 14.0.1+7)\nJava HotSpot(TM) 64-Bit Server VM (build 14.0.1+7, mixed mode, sharing)\n</code></pre>\n<p><strong>Docker Info:</strong></p>\n<pre><code>CONTAINER ID   IMAGE                                      COMMAND                  CREATED      STATUS                  PORTS                                          NAMES\nb21d9589e737   mongodb-kafka-base-setup-mongod:1.0        &quot;bash -c 'sleep 10 &amp;…&quot;   4 days ago   Exited (0) 4 days ago                                                  mongo1-setup\nc0a23e041e23   mongodb-kafka-base-mongod:1.0              &quot;docker-entrypoint.s…&quot;   4 days ago   Up 4 days               0.0.0.0:35001-&gt;27017/tcp                       mongo1\n7c56b4ccc89a   confluentinc/cp-kafka-rest:7.2.2           &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days               8082/tcp                                       rest-proxy\n3b6fd1821270   confluentinc/cp-schema-registry:7.2.2      &quot;/etc/confluent/dock…&quot;   4 days ago   Exited (1) 4 days ago                                                  schema-registry\nc303de030d9f   confluentinc/cp-kafka-connect-base:7.2.2   &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days (healthy)     8083/tcp, 9092/tcp, 0.0.0.0:35000-&gt;35000/tcp   connect\n4c1665f78d4c   confluentinc/cp-kafka:7.2.2                &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days               9092/tcp                                       broker\nb707c2d6b8be   confluentinc/cp-zookeeper:7.2.2            &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days               2181/tcp, 2888/tcp, 3888/tcp                   zookeeper\n</code></pre>\n<p><strong>Netstat Info:</strong></p>\n<pre><code>  TCP    0.0.0.0:35000          0.0.0.0:0              LISTENING\n  TCP    [::]:35000             [::]:0                 LISTENING\n  TCP    [::1]:35000            [::]:0                 LISTENING\n</code></pre>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1673284384,"post_id":75060452,"comment_id":132459484,"body_markdown":"Is it possible to do something similar but do it as the company is added to its list.  At that point you know the new count; you then check that count against the min of top-10 and replace/insert as needed; if it&#39;s already in the top-10 then update its count and re-sort top-10.  One optimization is if new count is less than min of top-10 then no further processing needed.","body":"Is it possible to do something similar but do it as the company is added to its list.  At that point you know the new count; you then check that count against the min of top-10 and replace/insert as needed; if it&#39;s already in the top-10 then update its count and re-sort top-10.  One optimization is if new count is less than min of top-10 then no further processing needed."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1673284593,"post_id":75060452,"comment_id":132459567,"body_markdown":"How is _**most popular postcodes**_ defined? Postcode with the highest count of companies?","body":"How is <i><b>most popular postcodes</b></i> defined? Postcode with the highest count of companies?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673285246,"post_id":75060452,"comment_id":132459802,"body_markdown":"@Eritrean, from the O/P code, Yes: The most popular postcodes are those with the highest count of companies.","body":"@Eritrean, from the O/P code, Yes: The most popular postcodes are those with the highest count of companies."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1673285877,"post_id":75060452,"comment_id":132460012,"body_markdown":"It strikes me as odd to see code that looks like a sort is being called each iteration in a loop. But, with each invocation of sort, no more than 10 items will be sorted, and the sort will actually be called no more than 10 times. Even so, you might want to consider a [priority queue](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/PriorityQueue.html) or sorted collection.","body":"It strikes me as odd to see code that looks like a sort is being called each iteration in a loop. But, with each invocation of sort, no more than 10 items will be sorted, and the sort will actually be called no more than 10 times. Even so, you might want to consider a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">priority queue</a> or sorted collection."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673286242,"post_id":75060452,"comment_id":132460138,"body_markdown":"If you want to do a web search, try &quot;java find n largest elements in an array&quot; or the same with &quot;array&quot; changed to &quot;collection&quot;   https://en.wikipedia.org/wiki/Selection_algorithm   https://stackoverflow.com/questions/7272534/finding-the-first-n-largest-elements-in-an-array","body":"If you want to do a web search, try &quot;java find n largest elements in an array&quot; or the same with &quot;array&quot; changed to &quot;collection&quot;   <a href=\"https://en.wikipedia.org/wiki/Selection_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Selection_algorithm</a>   <a href=\"https://stackoverflow.com/questions/7272534/finding-the-first-n-largest-elements-in-an-array\" title=\"finding the first n largest elements in an array\">stackoverflow.com/questions/7272534/&hellip;</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1673286427,"post_id":75060452,"comment_id":132460209,"body_markdown":"I saw the following comment to a different question. It might apply here:  &quot;Questions asking about improvements to correct, working code are better suited to CodeReview.SE&quot;","body":"I saw the following comment to a different question. It might apply here:  &quot;Questions asking about improvements to correct, working code are better suited to CodeReview.SE&quot;"},{"owner":{"account_id":1079990,"reputation":2752,"user_id":1082500,"accept_rate":66,"display_name":"Adam Davies"},"score":0,"creation_date":1673287149,"post_id":75060452,"comment_id":132460451,"body_markdown":"Thanks Old Dog Programmer. I did try it out with a PriorityQueue, but it didn&#39;t make any significant differance to the execution time, although I do like the idea of using the priority queue OOTB functionlity.","body":"Thanks Old Dog Programmer. I did try it out with a PriorityQueue, but it didn&#39;t make any significant differance to the execution time, although I do like the idea of using the priority queue OOTB functionlity."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673310502,"post_id":75060452,"comment_id":132465993,"body_markdown":"Out of curiosity, what if postcodeToCompaniesList had millions of entries, and you wanted to find the top thousand popular postcodes?  What would be the difference in execution time, if any?","body":"Out of curiosity, what if postcodeToCompaniesList had millions of entries, and you wanted to find the top thousand popular postcodes?  What would be the difference in execution time, if any?"}],"answers":[{"tags":[],"owner":{"account_id":27413892,"reputation":186,"user_id":20913415,"display_name":"Flavian Iuga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673286069,"creation_date":1673286069,"answer_id":75061057,"question_id":75060452,"body_markdown":"I&#39;m going to assume List of Company  is a List of Strings to make things simpler. I think this should do it:\r\n\r\n    HashMap&lt;String, Integer&gt; counter = new HashMap&lt;&gt;(); // postcodes counter\r\n    postcodeToCompaniesList.forEach((postcode, company) -&gt; counter.put(postcode, company.size()));\r\n    \r\n    counter.entrySet().stream()\r\n        .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed())\r\n        .limit(10)\r\n        .forEach(System.out::println);","title":"Java Algorithm Optimisation Question using a HashMap of Lists","body":"<p>I'm going to assume List of Company  is a List of Strings to make things simpler. I think this should do it:</p>\n<pre><code>HashMap&lt;String, Integer&gt; counter = new HashMap&lt;&gt;(); // postcodes counter\npostcodeToCompaniesList.forEach((postcode, company) -&gt; counter.put(postcode, company.size()));\n\ncounter.entrySet().stream()\n    .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed())\n    .limit(10)\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673287150,"creation_date":1673287150,"answer_id":75061224,"question_id":75060452,"body_markdown":"You could stream over your entries sort them by the list size in reverse order, limit to n entries (in your case 10) and collect them in a LinkedHashMap:\r\n\r\n    private static Map&lt;String, List&lt;Company&gt;&gt; topN(Map&lt;String, List&lt;Company&gt;&gt; map, int n) {\r\n        return map.entrySet()\r\n                  .stream()\r\n                  .sorted(Comparator.comparingInt((Map.Entry&lt;String, List&lt;Company&gt;&gt; e) -&gt; e.getValue().size()).reversed())\r\n                  .limit(n)\r\n                  .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (x, y) -&gt; y, LinkedHashMap::new));\r\n    }\r\n\r\nand use it like below, for example to get the top 7 postcodes:\r\n\r\n    topN(postcodeToCompaniesList, 7)\r\n            .forEach((k,v) -&gt; System.out.printf(&quot;Postcode %s has %d companies.%n&quot;, k, v.size()));","title":"Java Algorithm Optimisation Question using a HashMap of Lists","body":"<p>You could stream over your entries sort them by the list size in reverse order, limit to n entries (in your case 10) and collect them in a LinkedHashMap:</p>\n<pre><code>private static Map&lt;String, List&lt;Company&gt;&gt; topN(Map&lt;String, List&lt;Company&gt;&gt; map, int n) {\n    return map.entrySet()\n              .stream()\n              .sorted(Comparator.comparingInt((Map.Entry&lt;String, List&lt;Company&gt;&gt; e) -&gt; e.getValue().size()).reversed())\n              .limit(n)\n              .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (x, y) -&gt; y, LinkedHashMap::new));\n}\n</code></pre>\n<p>and use it like below, for example to get the top 7 postcodes:</p>\n<pre><code>topN(postcodeToCompaniesList, 7)\n        .forEach((k,v) -&gt; System.out.printf(&quot;Postcode %s has %d companies.%n&quot;, k, v.size()));\n</code></pre>\n"}],"owner":{"account_id":1079990,"reputation":2752,"user_id":1082500,"accept_rate":66,"display_name":"Adam Davies"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75061057,"answer_count":2,"score":0,"last_activity_date":1673287150,"creation_date":1673282808,"question_id":75060452,"body_markdown":"If I had the following\r\n```\r\npostcodeToCompaniesList = new HashMap&lt;String, List&lt;Company&gt;&gt;();\r\n```\r\nAfter some processig the hashmap has many thousands of postcodes, and each postcode is mapped to a list with 1 or more `Company` objects. \r\n\r\nNow I want to get the top 10 most popular postcodes and print out the number of companies at the postcode i.e. `&quot;Postcode SW1A 0AA has 50 companies&quot;`.\r\n \r\nThe approach I&#39;ve taken, and I think this is naive, is to create a Record object to hold the postcode and the corrisponding number of companies at that postcode. I then create a `RecordList` object for managing a list of 10 `Record` objects which have the highest `count` value (see below).\r\n\r\nThe `RecordList.addRecord(Record record)` method adds `records` until 10 are added and then conditionally adds more only if the `count` value is higher than the lowest value currently in the list. Then it sorts the list and removes the lowest value thereby maintaing a count of 10 elements.\r\n\r\n```\r\nfinal class Record implements Comparable&lt;Record&gt; {\r\n    public String postcode;\r\n    public int count;\r\n\r\n    public Record(String postcode, int count){\r\n        this.postcode = postcode;\r\n        this.count = count;\r\n    }\r\n\r\n    @Override \r\n    public int compareTo(Record r){\r\n        return Integer.valueOf(this.count).compareTo(Integer.valueOf(r.count));\r\n    }\r\n}\r\n\r\nfinal class RecordList{\r\n    List&lt;Record&gt; top10 = new ArrayList&lt;Record&gt;();\r\n    \r\n    public void addRecord(Record record){\r\n        if (this.top10.size() &lt; 10){\r\n            this.top10.add(record);\r\n            Collections.sort(this.top10);\r\n        } else if (record.count &gt; this.top10.get(0).count){\r\n            this.top10.add(record);\r\n            Collections.sort(this.top10);\r\n            this.top10.remove(0);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nNext I use a simple loop to loop through all the keys (postcodes) and add them one at a time to the `RecordList` along with the `companyCount`. \r\n\r\n```\r\nRecordList recordList = new RecordList();\r\nSet&lt;String&gt; postcodes = this.postcodeToCompaniesList.keySet();\r\n\r\nfor(String postcode : postcodes){\r\n  int companyCount = this.postcodeToCompaniesList.get(postcode).size();\r\n  recordList.addRecord(new Record(postcode, companyCount));\r\n}\r\n\r\nSystem.out.println(gson.toJson(recordList));\r\n```\r\nThis works. However, I get the feeling that this is an very inefficent way to do this? Maybe Streams would work better??\r\n\r\nWhat are the thoughts from the community? Is there a better, more elegent way to do this?\r\n \r\n\r\n\r\n\r\n","title":"Java Algorithm Optimisation Question using a HashMap of Lists","body":"<p>If I had the following</p>\n<pre><code>postcodeToCompaniesList = new HashMap&lt;String, List&lt;Company&gt;&gt;();\n</code></pre>\n<p>After some processig the hashmap has many thousands of postcodes, and each postcode is mapped to a list with 1 or more <code>Company</code> objects.</p>\n<p>Now I want to get the top 10 most popular postcodes and print out the number of companies at the postcode i.e. <code>&quot;Postcode SW1A 0AA has 50 companies&quot;</code>.</p>\n<p>The approach I've taken, and I think this is naive, is to create a Record object to hold the postcode and the corrisponding number of companies at that postcode. I then create a <code>RecordList</code> object for managing a list of 10 <code>Record</code> objects which have the highest <code>count</code> value (see below).</p>\n<p>The <code>RecordList.addRecord(Record record)</code> method adds <code>records</code> until 10 are added and then conditionally adds more only if the <code>count</code> value is higher than the lowest value currently in the list. Then it sorts the list and removes the lowest value thereby maintaing a count of 10 elements.</p>\n<pre><code>final class Record implements Comparable&lt;Record&gt; {\n    public String postcode;\n    public int count;\n\n    public Record(String postcode, int count){\n        this.postcode = postcode;\n        this.count = count;\n    }\n\n    @Override \n    public int compareTo(Record r){\n        return Integer.valueOf(this.count).compareTo(Integer.valueOf(r.count));\n    }\n}\n\nfinal class RecordList{\n    List&lt;Record&gt; top10 = new ArrayList&lt;Record&gt;();\n    \n    public void addRecord(Record record){\n        if (this.top10.size() &lt; 10){\n            this.top10.add(record);\n            Collections.sort(this.top10);\n        } else if (record.count &gt; this.top10.get(0).count){\n            this.top10.add(record);\n            Collections.sort(this.top10);\n            this.top10.remove(0);\n        }\n    }\n}\n\n</code></pre>\n<p>Next I use a simple loop to loop through all the keys (postcodes) and add them one at a time to the <code>RecordList</code> along with the <code>companyCount</code>.</p>\n<pre><code>RecordList recordList = new RecordList();\nSet&lt;String&gt; postcodes = this.postcodeToCompaniesList.keySet();\n\nfor(String postcode : postcodes){\n  int companyCount = this.postcodeToCompaniesList.get(postcode).size();\n  recordList.addRecord(new Record(postcode, companyCount));\n}\n\nSystem.out.println(gson.toJson(recordList));\n</code></pre>\n<p>This works. However, I get the feeling that this is an very inefficent way to do this? Maybe Streams would work better??</p>\n<p>What are the thoughts from the community? Is there a better, more elegent way to do this?</p>\n"},{"tags":["java","docker","jasper-reports","alpine-linux"],"comments":[{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1673273817,"post_id":74975762,"comment_id":132455217,"body_markdown":"The duplicate may seem strange, but the linked question contains answers on how to solve your issue (the most upvoted one is unfortunately wrong :), but you will also find the correct solution, which is provide font-extension.","body":"The duplicate may seem strange, but the linked question contains answers on how to solve your issue (the most upvoted one is unfortunately wrong :), but you will also find the correct solution, which is provide font-extension."},{"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"score":1,"creation_date":1673286810,"post_id":74975762,"comment_id":132460340,"body_markdown":"As its described in the question, adding font-extension doesnt solve the issue.","body":"As its described in the question, adding font-extension doesnt solve the issue."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":1,"creation_date":1673448474,"post_id":74975762,"comment_id":132501831,"body_markdown":"Please verify that you correctly correctly generated and added the font-extension, I have several application running in container with openjdk generating jasper report with custom fonts and never had similar issue. Font-extension is fundamental if you like to ensure that pdf is always visualizzed correctly (to include the font in the pdf)","body":"Please verify that you correctly correctly generated and added the font-extension, I have several application running in container with openjdk generating jasper report with custom fonts and never had similar issue. Font-extension is fundamental if you like to ensure that pdf is always visualizzed correctly (to include the font in the pdf)"},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":1,"creation_date":1673448655,"post_id":74975762,"comment_id":132501888,"body_markdown":"and do note that jasperreports-fonts do **not** included Times New Roman!, you need to make your own font-extensions to have this font.","body":"and do note that jasperreports-fonts do <b>not</b> included Times New Roman!, you need to make your own font-extensions to have this font."},{"owner":{"account_id":10213320,"reputation":270,"user_id":7539777,"display_name":"akarahman"},"score":1,"creation_date":1691490119,"post_id":74975762,"comment_id":135495571,"body_markdown":"I had the same issue, but I got it resolved by using a different base image `registry.redhat.io/redhat-openjdk-18/openjdk18-openshift`","body":"I had the same issue, but I got it resolved by using a different base image <code>registry.redhat.io&#47;redhat-openjdk-18&#47;openjdk18-openshift</code>"}],"answers":[{"tags":[],"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672619074,"creation_date":1672619074,"answer_id":74978195,"question_id":74975762,"body_markdown":"Solved by adjusting the dockerfile to install the proper microsoft fonts.\r\n\r\n\r\n    FROM openjdk:17-alpine\r\n    EXPOSE 10093\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} site_informativo.jar\r\n     \r\n\tRUN apk add --no-cache msttcorefonts-installer fontconfig\r\n\tRUN update-ms-fonts\r\n\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/site_informativo.jar&quot;]\r\n\r\n\r\n**References:**\r\n\r\nhttps://stackoverflow.com/questions/56937689/how-to-install-fonts-in-docker","title":"Docker and Spring boot giving &quot;sun.awt.FontConfiguration.head&quot; is null","body":"<p>Solved by adjusting the dockerfile to install the proper microsoft fonts.</p>\n<pre><code>FROM openjdk:17-alpine\nEXPOSE 10093\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} site_informativo.jar\n \nRUN apk add --no-cache msttcorefonts-installer fontconfig\nRUN update-ms-fonts\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/site_informativo.jar&quot;]\n</code></pre>\n<p><strong>References:</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/56937689/how-to-install-fonts-in-docker\">How to install fonts in Docker?</a></p>\n"}],"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8415,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1673273508,"accepted_answer_id":74978195,"answer_count":1,"score":2,"last_activity_date":1673286767,"creation_date":1672589953,"question_id":74975762,"body_markdown":"I currently have an app built with spring boot. Im using Jasper reports. When I try to generate a report, I get the following error:\r\n\r\n&gt; java.lang.NullPointerException: Cannot load from short array because &quot;sun.awt.FontConfiguration.head&quot; is null\r\n        at java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1260) ~[na:na]\r\n\r\n\r\nThe application works fine on my computer, it only fails in docker.\r\n\r\nHere&#39;s my Dockerfile:\r\n\r\n    FROM openjdk:17-alpine\r\n    EXPOSE 10093\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} site_informativo.jar\r\n    \r\n    RUN apk update;\r\n    RUN apk add -f apt-utils;\r\n    RUN apk add -f libfreetype6;\r\n    RUN apk add --no-cache -f fontconfig;\r\n    RUN apk add -f fonts-dejavu;\r\n    RUN apk add -f msttcorefonts;\r\n    RUN apk add -f libfontconfig1;\r\n    RUN apk add -f freetype;\r\n    RUN fc-cache --force\r\n    \r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/site_informativo.jar&quot;]\r\n\r\n\r\nI have also added jasperreports-fonts EXTENSION in pom.xml but **THE PROBLEM CONTINUES**.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n        &lt;version&gt;6.20.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports-fonts --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\r\n        &lt;version&gt;6.20.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n------\r\n**Some more context**\r\n------\r\nIf I do \r\n\r\n    FROM openjdk:17-oracle\r\n    EXPOSE 10093\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} site_informativo.jar\r\n    \r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/site_informativo.jar&quot;]\r\n\r\n\r\nI get \r\n\r\n&gt; Font &quot;Times New Roman&quot; is not available to the JVM. See the Javadoc\r\n&gt; for more details.\r\n\r\n","title":"Docker and Spring boot giving &quot;sun.awt.FontConfiguration.head&quot; is null","body":"<p>I currently have an app built with spring boot. Im using Jasper reports. When I try to generate a report, I get the following error:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot load from short array because &quot;sun.awt.FontConfiguration.head&quot; is null\nat java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1260) ~[na:na]</p>\n</blockquote>\n<p>The application works fine on my computer, it only fails in docker.</p>\n<p>Here's my Dockerfile:</p>\n<pre><code>FROM openjdk:17-alpine\nEXPOSE 10093\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} site_informativo.jar\n\nRUN apk update;\nRUN apk add -f apt-utils;\nRUN apk add -f libfreetype6;\nRUN apk add --no-cache -f fontconfig;\nRUN apk add -f fonts-dejavu;\nRUN apk add -f msttcorefonts;\nRUN apk add -f libfontconfig1;\nRUN apk add -f freetype;\nRUN fc-cache --force\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/site_informativo.jar&quot;]\n</code></pre>\n<p>I have also added jasperreports-fonts EXTENSION in pom.xml but <strong>THE PROBLEM CONTINUES</strong>.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n    &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n    &lt;version&gt;6.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports-fonts --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n    &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\n    &lt;version&gt;6.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<h2><strong>Some more context</strong></h2>\n<p>If I do</p>\n<pre><code>FROM openjdk:17-oracle\nEXPOSE 10093\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} site_informativo.jar\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/site_informativo.jar&quot;]\n</code></pre>\n<p>I get</p>\n<blockquote>\n<p>Font &quot;Times New Roman&quot; is not available to the JVM. See the Javadoc\nfor more details.</p>\n</blockquote>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1673282675,"post_id":75060414,"comment_id":132458894,"body_markdown":"Please post all the relevant code (see [mre]). Are you trying to autowire `AuthenticationManagerBuilder` somewhere in your code?","body":"Please post all the relevant code (see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). Are you trying to autowire <code>AuthenticationManagerBuilder</code> somewhere in your code?"},{"owner":{"account_id":27228981,"reputation":49,"user_id":20757012,"display_name":"Cineczeq"},"score":0,"creation_date":1673283109,"post_id":75060414,"comment_id":132459034,"body_markdown":"I updated post, now there is more info.","body":"I updated post, now there is more info."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673284326,"creation_date":1673283439,"answer_id":75060564,"question_id":75060414,"body_markdown":"Instead of using `AuthenticationManagerBuilder`, create a `UserDetailsService` bean.\r\n\r\n```java\r\n@Bean\r\npublic UserDetailsService users() {\r\n\tUserDetails admin = User.withUsername(&quot;admin&quot;)\r\n\t\t.password(passwordEncoder().encode(&quot;admin&quot;))\r\n\t\t.roles(&quot;ADMIN&quot;, &quot;EMPLOYEE&quot;).build();\r\n\tUserDetails employee = User.withUsername(&quot;employee&quot;)\r\n\t\t.password(passwordEncoder().encode(&quot;employee&quot;))\r\n\t\t.roles(&quot;EMPLOYEE&quot;).build();\r\n\tUserDetails client = User.withUsername(&quot;client&quot;)\r\n\t\t.password(passwordEncoder().encode(&quot;client&quot;))\r\n\t\t.roles(&quot;CLIENT&quot;).build();\r\n\treturn new InMemoryUserDetailsManager(admin, employee, client);\r\n}\r\n```","title":"Own login page in spring security 6. new implementation","body":"<p>Instead of using <code>AuthenticationManagerBuilder</code>, create a <code>UserDetailsService</code> bean.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic UserDetailsService users() {\n    UserDetails admin = User.withUsername(&quot;admin&quot;)\n        .password(passwordEncoder().encode(&quot;admin&quot;))\n        .roles(&quot;ADMIN&quot;, &quot;EMPLOYEE&quot;).build();\n    UserDetails employee = User.withUsername(&quot;employee&quot;)\n        .password(passwordEncoder().encode(&quot;employee&quot;))\n        .roles(&quot;EMPLOYEE&quot;).build();\n    UserDetails client = User.withUsername(&quot;client&quot;)\n        .password(passwordEncoder().encode(&quot;client&quot;))\n        .roles(&quot;CLIENT&quot;).build();\n    return new InMemoryUserDetailsManager(admin, employee, client);\n}\n</code></pre>\n"}],"owner":{"account_id":27228981,"reputation":49,"user_id":20757012,"display_name":"Cineczeq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1952,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1673286552,"creation_date":1673282612,"question_id":75060414,"body_markdown":"I am trying to migrate my project to spring security 6. I can&#39;t use anymore &#39;extends WebSecurityConfigurerAdapter&#39;. In that case I don&#39;t know how I can rebuild my code to use my own login page.\r\nThere is old code:\r\n\r\n```\r\npackage main.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth\r\n\t\t\t.inMemoryAuthentication()\r\n\t\t\t.withUser(&quot;admin&quot;).password(passwordEncoder().encode(&quot;admin&quot;)).roles(&quot;ADMIN&quot;, &quot;EMPLOYEE&quot;)\r\n\t\t\t.and()\r\n\t\t\t.withUser(&quot;employee&quot;).password(passwordEncoder().encode(&quot;employee&quot;)).roles(&quot;EMPLOYEE&quot;)\r\n\t\t\t.and()\r\n\t\t\t.withUser(&quot;client&quot;).password(passwordEncoder().encode(&quot;client&quot;)).roles(&quot;CLIENT&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests()\r\n\t\t\t.antMatchers(&quot;/&quot;, &quot;/login&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t.and()\r\n\t\t\t\t.formLogin()\r\n\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t.loginProcessingUrl(&quot;/checkUserAccount&quot;)\r\n\t\t\t\t.defaultSuccessUrl(&quot;/&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t.and()\r\n\t\t\t\t.logout()\r\n\t\t\t\t.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n\t\t\t\t.logoutSuccessUrl(&quot;/&quot;)\r\n\t\t\t\t.invalidateHttpSession(true)\r\n\t\t\t\t.permitAll();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n\r\nSo I saw in documentation that I can replace it with SecurityFilterChain method.\r\nMy code after a long time looks like:\r\n\r\n```\r\npackage main.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService users() {\r\n        UserDetails admin = User.withUsername(&quot;admin&quot;)\r\n            .password(passwordEncoder().encode(&quot;admin&quot;))\r\n            .roles(&quot;ADMIN&quot;, &quot;EMPLOYEE&quot;).build();\r\n        UserDetails employee = User.withUsername(&quot;employee&quot;)\r\n            .password(passwordEncoder().encode(&quot;employee&quot;))\r\n            .roles(&quot;EMPLOYEE&quot;).build();\r\n        UserDetails client = User.withUsername(&quot;client&quot;)\r\n            .password(passwordEncoder().encode(&quot;client&quot;))\r\n            .roles(&quot;CLIENT&quot;).build();\r\n        return new InMemoryUserDetailsManager(admin, employee, client);\r\n    }\r\n    \r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests() \r\n        .requestMatchers(&quot;/&quot;, &quot;/login&quot;)\r\n        .permitAll()\r\n        .and()\r\n            .formLogin()\r\n            .loginPage(&quot;/login&quot;)\r\n            .loginProcessingUrl(&quot;/checkUserAccount&quot;)\r\n            .defaultSuccessUrl(&quot;/&quot;)\r\n            .permitAll()\r\n        .and()\r\n            .logout()\r\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n            .logoutSuccessUrl(&quot;/&quot;)\r\n            .invalidateHttpSession(true)\r\n            .permitAll();\r\n        return http.build();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nbut sadly it&#39;s thrown:\r\n\r\n    &gt; \r\n    SEVERE: Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;filterChain&#39; defined in main.config.SecurityConfiguration: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: No bean named &#39;A Bean named mvcHandlerMappingIntrospector of type org.springframework.web.servlet.handler.HandlerMappingIntrospector is required to use MvcRequestMatcher. Please ensure Spring Security &amp; Spring MVC are configured in a shared ApplicationContext.&#39; available\r\n    \t\r\n\r\nI&#39;m a newbie, thanks for help. \r\n\t\r\nEdit:\r\n\r\nThere is also SecurityInitializer: \r\n\r\n     package main.config;\r\n\r\n    \r\n    import org.springframework.security.web.context.AbstractSecurityWebApplicationInitializer;\r\n    \r\n    public class SecurityInitializer extends AbstractSecurityWebApplicationInitializer {\r\n    \r\n    }\r\n\r\n\r\nAnd this is my login.html:\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    \t  xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n    \t  xmlns:sec=&quot;http://www.thymeleaf.org/extras/spring-security&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Home page&lt;/title&gt;\r\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.slim.min.js&quot; integrity=&quot;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&quot; integrity=&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n    \r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;http://use.fontawesome.com/releases/v5.3.1/css/all.css&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;resources/css/login.css&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;div class=&quot;container&quot;&gt;\r\n    \t\t&lt;div class=&quot;d-flex justify-content-center h-100&quot;&gt;\r\n    \t\t\t&lt;div class=&quot;card&quot;&gt;\r\n    \t\t\t\t&lt;div class=&quot;card-header&quot;&gt;\r\n    \t\t\t\t\t&lt;h2&gt;Sign In&lt;/h2&gt;\r\n    \t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t&lt;div class=&quot;card-body&quot;&gt;\r\n    \t\t\t\t\t&lt;form action=&quot;#&quot; th:action=&quot;@{/checkUserAccount}&quot; method=&quot;post&quot;&gt;\r\n    \t\t\t\t\t\t&lt;div th:if=&quot;${param.error}&quot; class=&quot;alert alert-login&quot;&gt;\r\n    \t\t\t\t\t\t\tInvalid username and password.\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\t&lt;div class=&quot;input-group form-group&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;div class=&quot;input-group-prepend&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;span class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n    \t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t&lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;username&quot; placeholder=&quot;Login&quot;&gt;\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t&lt;div class=&quot;input-group form-group&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;div class=&quot;input-group-prepend&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;span class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;fas fa-key&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n    \t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t&lt;input type=&quot;password&quot; class=&quot;form-control&quot; name=&quot;password&quot; placeholder=&quot;Password&quot;&gt;\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Login&quot; class=&quot;btn login-button&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;a th:href=&quot;@{/}&quot; class=&quot;btn btn-warning float-right&quot;&gt;Back&lt;/a&gt;\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t&lt;/form&gt;\r\n    \t\t\t\t&lt;/div&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n\r\n\r\nEdit2: Without SecurityFilterChain it is working but obviously it&#39;s not pointing me to my own login. When i running this now I can see this: \r\n\r\n&gt; Error creating bean with name\r\n&gt; &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;:\r\n&gt; Unsatisfied dependency expressed through method &#39;setFilterChains&#39;\r\n&gt; parameter 0: Error creating bean with name &#39;filterChain&#39; defined in\r\n&gt; main.config.SecurityConfiguration: Failed to instantiate\r\n&gt; [org.springframework.security.web.SecurityFilterChain]: Factory method\r\n&gt; &#39;filterChain&#39; threw exception with message: No bean named &#39;A Bean\r\n&gt; named mvcHandlerMappingIntrospector of type\r\n&gt; org.springframework.web.servlet.handler.HandlerMappingIntrospector is\r\n&gt; required to use MvcRequestMatcher. Please ensure Spring Security &amp;\r\n&gt; Spring MVC are configured in a shared ApplicationContext.&#39; available\r\n\r\nAlso I have those dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t\r\n\r\n\r\n","title":"Own login page in spring security 6. new implementation","body":"<p>I am trying to migrate my project to spring security 6. I can't use anymore 'extends WebSecurityConfigurerAdapter'. In that case I don't know how I can rebuild my code to use my own login page.\nThere is old code:</p>\n<pre><code>package main.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .inMemoryAuthentication()\n            .withUser(&quot;admin&quot;).password(passwordEncoder().encode(&quot;admin&quot;)).roles(&quot;ADMIN&quot;, &quot;EMPLOYEE&quot;)\n            .and()\n            .withUser(&quot;employee&quot;).password(passwordEncoder().encode(&quot;employee&quot;)).roles(&quot;EMPLOYEE&quot;)\n            .and()\n            .withUser(&quot;client&quot;).password(passwordEncoder().encode(&quot;client&quot;)).roles(&quot;CLIENT&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n            .antMatchers(&quot;/&quot;, &quot;/login&quot;)\n                .permitAll()\n            .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .loginProcessingUrl(&quot;/checkUserAccount&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .permitAll()\n            .and()\n                .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/&quot;)\n                .invalidateHttpSession(true)\n                .permitAll();\n    }\n    \n}\n</code></pre>\n<p>So I saw in documentation that I can replace it with SecurityFilterChain method.\nMy code after a long time looks like:</p>\n<pre><code>package main.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n    }\n\n    @Bean\n    public UserDetailsService users() {\n        UserDetails admin = User.withUsername(&quot;admin&quot;)\n            .password(passwordEncoder().encode(&quot;admin&quot;))\n            .roles(&quot;ADMIN&quot;, &quot;EMPLOYEE&quot;).build();\n        UserDetails employee = User.withUsername(&quot;employee&quot;)\n            .password(passwordEncoder().encode(&quot;employee&quot;))\n            .roles(&quot;EMPLOYEE&quot;).build();\n        UserDetails client = User.withUsername(&quot;client&quot;)\n            .password(passwordEncoder().encode(&quot;client&quot;))\n            .roles(&quot;CLIENT&quot;).build();\n        return new InMemoryUserDetailsManager(admin, employee, client);\n    }\n    \n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests() \n        .requestMatchers(&quot;/&quot;, &quot;/login&quot;)\n        .permitAll()\n        .and()\n            .formLogin()\n            .loginPage(&quot;/login&quot;)\n            .loginProcessingUrl(&quot;/checkUserAccount&quot;)\n            .defaultSuccessUrl(&quot;/&quot;)\n            .permitAll()\n        .and()\n            .logout()\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n            .logoutSuccessUrl(&quot;/&quot;)\n            .invalidateHttpSession(true)\n            .permitAll();\n        return http.build();\n    }\n\n\n}\n</code></pre>\n<p>but sadly it's thrown:</p>\n<pre><code>&gt; \nSEVERE: Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in main.config.SecurityConfiguration: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: No bean named 'A Bean named mvcHandlerMappingIntrospector of type org.springframework.web.servlet.handler.HandlerMappingIntrospector is required to use MvcRequestMatcher. Please ensure Spring Security &amp; Spring MVC are configured in a shared ApplicationContext.' available\n    \n</code></pre>\n<p>I'm a newbie, thanks for help.</p>\n<p>Edit:</p>\n<p>There is also SecurityInitializer:</p>\n<pre><code> package main.config;\n\n\nimport org.springframework.security.web.context.AbstractSecurityWebApplicationInitializer;\n\npublic class SecurityInitializer extends AbstractSecurityWebApplicationInitializer {\n\n}\n</code></pre>\n<p>And this is my login.html:</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:sec=&quot;http://www.thymeleaf.org/extras/spring-security&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Home page&lt;/title&gt;\n&lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.slim.min.js&quot; integrity=&quot;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&quot; integrity=&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\n&lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n\n&lt;link rel=&quot;stylesheet&quot; href=&quot;http://use.fontawesome.com/releases/v5.3.1/css/all.css&quot;&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;resources/css/login.css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;d-flex justify-content-center h-100&quot;&gt;\n            &lt;div class=&quot;card&quot;&gt;\n                &lt;div class=&quot;card-header&quot;&gt;\n                    &lt;h2&gt;Sign In&lt;/h2&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;card-body&quot;&gt;\n                    &lt;form action=&quot;#&quot; th:action=&quot;@{/checkUserAccount}&quot; method=&quot;post&quot;&gt;\n                        &lt;div th:if=&quot;${param.error}&quot; class=&quot;alert alert-login&quot;&gt;\n                            Invalid username and password.\n                        &lt;/div&gt;\n                        \n                        &lt;div class=&quot;input-group form-group&quot;&gt;\n                            &lt;div class=&quot;input-group-prepend&quot;&gt;\n                                &lt;span class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                            &lt;/div&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;username&quot; placeholder=&quot;Login&quot;&gt;\n                        &lt;/div&gt;\n                        &lt;div class=&quot;input-group form-group&quot;&gt;\n                            &lt;div class=&quot;input-group-prepend&quot;&gt;\n                                &lt;span class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;fas fa-key&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                            &lt;/div&gt;\n                            &lt;input type=&quot;password&quot; class=&quot;form-control&quot; name=&quot;password&quot; placeholder=&quot;Password&quot;&gt;\n                        &lt;/div&gt;\n                        &lt;div class=&quot;form-group&quot;&gt;\n                            &lt;input type=&quot;submit&quot; value=&quot;Login&quot; class=&quot;btn login-button&quot;&gt;\n                            &lt;a th:href=&quot;@{/}&quot; class=&quot;btn btn-warning float-right&quot;&gt;Back&lt;/a&gt;\n                        &lt;/div&gt;\n                    &lt;/form&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Edit2: Without SecurityFilterChain it is working but obviously it's not pointing me to my own login. When i running this now I can see this:</p>\n<blockquote>\n<p>Error creating bean with name\n'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration':\nUnsatisfied dependency expressed through method 'setFilterChains'\nparameter 0: Error creating bean with name 'filterChain' defined in\nmain.config.SecurityConfiguration: Failed to instantiate\n[org.springframework.security.web.SecurityFilterChain]: Factory method\n'filterChain' threw exception with message: No bean named 'A Bean\nnamed mvcHandlerMappingIntrospector of type\norg.springframework.web.servlet.handler.HandlerMappingIntrospector is\nrequired to use MvcRequestMatcher. Please ensure Spring Security &amp;\nSpring MVC are configured in a shared ApplicationContext.' available</p>\n</blockquote>\n<p>Also I have those dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;6.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","maven","maven-bom"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671222363,"post_id":74828566,"comment_id":132060758,"body_markdown":"Can you explain why you need to use that property which is from the BOM file?","body":"Can you explain why you need to use that property which is from the BOM file?"},{"owner":{"account_id":11298916,"reputation":382,"user_id":8285537,"display_name":"John"},"score":0,"creation_date":1671226875,"post_id":74828566,"comment_id":132061775,"body_markdown":"The property tag in the pom `&lt;maven.test.version&gt;${test.version}&lt;/maven.test.version&gt;` is being used in one of the classes for accessing a link populated with the retrieved version. Example: `http://example.com/${maven.test.version}`. For this am currently making use of an existing maven-resources-plugin.","body":"The property tag in the pom <code>&lt;maven.test.version&gt;${test.version}&lt;&#47;maven.test.version&gt;</code> is being used in one of the classes for accessing a link populated with the retrieved version. Example: <code>http:&#47;&#47;example.com&#47;${maven.test.version}</code>. For this am currently making use of an existing maven-resources-plugin."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671274366,"post_id":74828566,"comment_id":132067180,"body_markdown":"Why do you need to access a version within a java class?","body":"Why do you need to access a version within a java class?"},{"owner":{"account_id":11298916,"reputation":382,"user_id":8285537,"display_name":"John"},"score":0,"creation_date":1671380610,"post_id":74828566,"comment_id":132082697,"body_markdown":"for documentation purposes.","body":"for documentation purposes."}],"answers":[{"tags":[],"owner":{"account_id":11298916,"reputation":382,"user_id":8285537,"display_name":"John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673286447,"creation_date":1673286447,"answer_id":75061120,"question_id":74828566,"body_markdown":"I did find this plugin https://gitlab.com/josh-cain/dependencyversion-maven-plugin. \r\n\r\nThis did the job of getting the dependency version from the pom that was getting imported. \r\n\r\nSo using this plugin, now I am able to directly access the version of the dependency which was getting exported as a property using this plugin.\r\n\r\nUsed the below snippet in the code.\r\n\r\n`${group2:artifact2.jar.version}`","title":"Accessing a property from a management pom","body":"<p>I did find this plugin <a href=\"https://gitlab.com/josh-cain/dependencyversion-maven-plugin\" rel=\"nofollow noreferrer\">https://gitlab.com/josh-cain/dependencyversion-maven-plugin</a>.</p>\n<p>This did the job of getting the dependency version from the pom that was getting imported.</p>\n<p>So using this plugin, now I am able to directly access the version of the dependency which was getting exported as a property using this plugin.</p>\n<p>Used the below snippet in the code.</p>\n<p><code>${group2:artifact2.jar.version}</code></p>\n"}],"owner":{"account_id":11298916,"reputation":382,"user_id":8285537,"display_name":"John"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673286447,"creation_date":1671215964,"question_id":74828566,"body_markdown":"In our project, we use a dependency-management pom which is imported into another maven project&#39;s pom. The dependency management pom has some properties. Is there a way to access the properties from the dependency management pom?\r\n\r\nAlso, I looked at other options. Having the dependency-management pom as a parent pom, but the maven project&#39;s pom already has a parent pom declared so that is not an option.\r\n\r\nUsing [properties-maven-plugin][1], but I am not sure how to access the property from another pom using this plugin.\r\n\r\nBelow is the structure am working with.\r\n\r\n** dependency-management pom:\r\n\r\n```\r\n&lt;project&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t&lt;groupId&gt;group1&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;artifact1&lt;/artifactId&gt;\r\n\t&lt;name&gt;management-pom&lt;/name&gt;\r\n\t&lt;version&gt;0.1&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;test.version&gt;0.2&lt;/test.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;group2&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;artifact2&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${test.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n        &lt;dependencies&gt;\r\n     &lt;dependencyManagement&gt;\r\n&lt;/project&gt;\r\n```\r\n** pom where dependency-management pom is imported:\r\n```\r\n&lt;project&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;groupId&gt;group3&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;artifact3&lt;/artifactId&gt;\r\n\t&lt;name&gt;war-pom&lt;/name&gt;\r\n\t&lt;version&gt;0.1&lt;/version&gt;\r\n\t&lt;properties&gt;\r\n        &lt;!--how to access the dependency-management pom&#39;s properties here?--&gt;\r\n\t\t&lt;maven.test.version&gt;${test.version}&lt;/maven.test.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;group2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;artifact2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;group1&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;artifact1&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n        &lt;dependencies&gt;\r\n     &lt;dependencyManagement&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe closest question I found was https://stackoverflow.com/questions/50698654/access-maven-property-using-dependency-management which was asked 4 years ago and it did not have an answer that I was looking for.\r\n\r\nAny help is much appreciated.\r\n\r\n\r\n  [1]: https://www.mojohaus.org/properties-maven-plugin/usage.html","title":"Accessing a property from a management pom","body":"<p>In our project, we use a dependency-management pom which is imported into another maven project's pom. The dependency management pom has some properties. Is there a way to access the properties from the dependency management pom?</p>\n<p>Also, I looked at other options. Having the dependency-management pom as a parent pom, but the maven project's pom already has a parent pom declared so that is not an option.</p>\n<p>Using <a href=\"https://www.mojohaus.org/properties-maven-plugin/usage.html\" rel=\"nofollow noreferrer\">properties-maven-plugin</a>, but I am not sure how to access the property from another pom using this plugin.</p>\n<p>Below is the structure am working with.</p>\n<p>** dependency-management pom:</p>\n<pre><code>&lt;project&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;groupId&gt;group1&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact1&lt;/artifactId&gt;\n    &lt;name&gt;management-pom&lt;/name&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;test.version&gt;0.2&lt;/test.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;group2&lt;/groupId&gt;\n                &lt;artifactId&gt;artifact2&lt;/artifactId&gt;\n                &lt;version&gt;${test.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;dependencies&gt;\n     &lt;dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>** pom where dependency-management pom is imported:</p>\n<pre><code>&lt;project&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;groupId&gt;group3&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact3&lt;/artifactId&gt;\n    &lt;name&gt;war-pom&lt;/name&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;!--how to access the dependency-management pom's properties here?--&gt;\n        &lt;maven.test.version&gt;${test.version}&lt;/maven.test.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;group2&lt;/groupId&gt;\n            &lt;artifactId&gt;artifact2&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;group1&lt;/groupId&gt;\n                &lt;artifactId&gt;artifact1&lt;/artifactId&gt;\n                &lt;version&gt;0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;dependencies&gt;\n     &lt;dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The closest question I found was <a href=\"https://stackoverflow.com/questions/50698654/access-maven-property-using-dependency-management\">Access maven property using dependency management</a> which was asked 4 years ago and it did not have an answer that I was looking for.</p>\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","json","org.json"],"answers":[{"tags":[],"owner":{"account_id":4292723,"reputation":16,"user_id":3508630,"display_name":"Sakuragi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673280881,"creation_date":1673280881,"answer_id":75060066,"question_id":75059737,"body_markdown":"Try this instead:\r\n\r\n    JSONObject JSON = new JSONObject(content1.toString());\r\n    JSONArray data = new JSONArray(JSON.getJSONArray(&quot;data&quot;));\r\n    for(int i = 0; i&lt;data.length(); i++) {\r\n      JSONObject ply = data.getJSONObject(i);\r\n      System.out.println(ply.toString());\r\n    }\r\n","title":"Accessing Nested Elements of JSON in Java","body":"<p>Try this instead:</p>\n<pre><code>JSONObject JSON = new JSONObject(content1.toString());\nJSONArray data = new JSONArray(JSON.getJSONArray(&quot;data&quot;));\nfor(int i = 0; i&lt;data.length(); i++) {\n  JSONObject ply = data.getJSONObject(i);\n  System.out.println(ply.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27479170,"reputation":1,"user_id":20966575,"display_name":"Josh Lukin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673285821,"creation_date":1673285821,"answer_id":75061017,"question_id":75059737,"body_markdown":"It turns out I just have to access the particular element in one line:\r\n\r\n    JSONObject JSON = new JSONObject(content1.toString());\r\n        JSONArray data = JSON.getJSONArray(&quot;data&quot;);\r\n        for(int z = 0; z&lt;data.length(); z++)\r\n        {\r\n          //JSONObject ply = new JSONObject(data.getJSONObject(z));\r\n          String name = data.getJSONObject(z).getString(&quot;skaterFullName&quot;);\r\n          System.out.println(name);\r\n        }","title":"Accessing Nested Elements of JSON in Java","body":"<p>It turns out I just have to access the particular element in one line:</p>\n<pre><code>JSONObject JSON = new JSONObject(content1.toString());\n    JSONArray data = JSON.getJSONArray(&quot;data&quot;);\n    for(int z = 0; z&lt;data.length(); z++)\n    {\n      //JSONObject ply = new JSONObject(data.getJSONObject(z));\n      String name = data.getJSONObject(z).getString(&quot;skaterFullName&quot;);\n      System.out.println(name);\n    }\n</code></pre>\n"}],"owner":{"account_id":27479170,"reputation":1,"user_id":20966575,"display_name":"Josh Lukin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673285821,"creation_date":1673279333,"question_id":75059737,"body_markdown":"I have a java project in which I take a JSON and read its contents. I&#39;m using org.json libraries and I would like to iterate through JSONObjects which are nested in a JSONArray, which is nested in a JSONObject. I keep getting this error though: JSONArray initial value should be a string or collection or array. I&#39;m specifically getting the JSON from a web source, but here is an example of one: [`http://jsonblob.com/1062033947625799680`](http://jsonblob.com/1062033947625799680)\r\nI&#39;m particularly concerned about the fact that each player profile is unnamed, but there may be a simple fix for that.\r\n\r\nI&#39;d like to get access to each player profile and here is what I have that is causing an error:\r\n\r\n```\r\nimport org.json.*;\r\nJSONObject JSON = new JSONObject(content1.toString());\r\n        JSONArray data = new JSONArray(JSON.getJSONArray(&quot;data&quot;));\r\n        for(int z = 1; i&lt;data.length(); i++)\r\n        {\r\n          JSONObject ply = new JSONObject(data.getJSONObject(z));\r\n          System.out.println(ply.toString());\r\n        }\r\n```\r\n\r\nI have a feeling I just don&#39;t fully understand the terminology of JSON and/or the library that I&#39;m using, but any help is appreciated.","title":"Accessing Nested Elements of JSON in Java","body":"<p>I have a java project in which I take a JSON and read its contents. I'm using org.json libraries and I would like to iterate through JSONObjects which are nested in a JSONArray, which is nested in a JSONObject. I keep getting this error though: JSONArray initial value should be a string or collection or array. I'm specifically getting the JSON from a web source, but here is an example of one: <a href=\"http://jsonblob.com/1062033947625799680\" rel=\"nofollow noreferrer\"><code>http://jsonblob.com/1062033947625799680</code></a>\nI'm particularly concerned about the fact that each player profile is unnamed, but there may be a simple fix for that.</p>\n<p>I'd like to get access to each player profile and here is what I have that is causing an error:</p>\n<pre><code>import org.json.*;\nJSONObject JSON = new JSONObject(content1.toString());\n        JSONArray data = new JSONArray(JSON.getJSONArray(&quot;data&quot;));\n        for(int z = 1; i&lt;data.length(); i++)\n        {\n          JSONObject ply = new JSONObject(data.getJSONObject(z));\n          System.out.println(ply.toString());\n        }\n</code></pre>\n<p>I have a feeling I just don't fully understand the terminology of JSON and/or the library that I'm using, but any help is appreciated.</p>\n"},{"tags":["java","eclipse","javadoc","comments"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1350070005,"post_id":12865723,"comment_id":17414951,"body_markdown":"These are quite self-explanatory. Are you sure that you need extra info for each of them?","body":"These are quite self-explanatory. Are you sure that you need extra info for each of them?"}],"answers":[{"tags":[],"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1350070839,"creation_date":1350070148,"answer_id":12865825,"question_id":12865723,"body_markdown":"    //singleLineComment\r\n\r\n    /*multiple\r\n      line\r\n      comment*/\r\n\r\n    //TODO commentTaskTag\r\n    //FIXME commentTaskTag\r\n    //XXX commentTaskTag\r\n\r\n    /**\r\n     * javadoc\r\n     *\r\n     */\r\n\r\n    /**\r\n     * javadocLink\r\n     * {@link}\r\n     */\r\n \r\n    /**\r\n     * javadocTag\r\n     * &lt;a href=&quot;&quot; /&gt;\r\n     */\r\n\r\n    /**\r\n     * javadocKeyword\r\n     * @author Jagger\r\n     */","title":"What is the difference between the Eclipse comment types?","body":"<pre><code>//singleLineComment\n\n/*multiple\n  line\n  comment*/\n\n//TODO commentTaskTag\n//FIXME commentTaskTag\n//XXX commentTaskTag\n\n/**\n * javadoc\n *\n */\n\n/**\n * javadocLink\n * {@link}\n */\n\n/**\n * javadocTag\n * &lt;a href=\"\" /&gt;\n */\n\n/**\n * javadocKeyword\n * @author Jagger\n */\n</code></pre>\n"}],"owner":{"account_id":311307,"reputation":11224,"user_id":624814,"accept_rate":79,"display_name":"SMBiggs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1100,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1350084400,"accepted_answer_id":12865825,"answer_count":1,"score":4,"last_activity_date":1673285565,"creation_date":1350069708,"question_id":12865723,"body_markdown":"I am building a nice color scheme at [Eclipse Color Themes][1] (which greatly enhances the Eclipse experience, thank you very much!).  And I see that there are many different comment types.  I understand some of them, but would like to find a definitive description of the varying comment types.  Here they are:\r\n\r\n - singleLineComment\r\n - multiLineComment\r\n - commentTaskTag\r\n - javadoc\r\n - javadocLink\r\n - javadocTag\r\n - javadocKeyword\r\n\r\nIf anyone knows of a link to a place that describes the important features/aspects of these different comment types, please let me know (google search was **very** unsatisfactory).  Thanks!\r\n\r\n  [1]: http://eclipsecolorthemes.org/","title":"What is the difference between the Eclipse comment types?","body":"<p>I am building a nice color scheme at <a href=\"http://eclipsecolorthemes.org/\" rel=\"nofollow\">Eclipse Color Themes</a> (which greatly enhances the Eclipse experience, thank you very much!).  And I see that there are many different comment types.  I understand some of them, but would like to find a definitive description of the varying comment types.  Here they are:</p>\n\n<ul>\n<li>singleLineComment</li>\n<li>multiLineComment</li>\n<li>commentTaskTag</li>\n<li>javadoc</li>\n<li>javadocLink</li>\n<li>javadocTag</li>\n<li>javadocKeyword</li>\n</ul>\n\n<p>If anyone knows of a link to a place that describes the important features/aspects of these different comment types, please let me know (google search was <strong>very</strong> unsatisfactory).  Thanks!</p>\n"},{"tags":["java","amazon-web-services","spring-boot","jwt","amazon-elastic-beanstalk"],"owner":{"account_id":19254744,"reputation":1,"user_id":14071930,"display_name":"Muhammad Munib Ur Rehman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673285461,"creation_date":1673267125,"question_id":75057249,"body_markdown":"I am working on a Spring Boot Application which is deployed on AWS Elastic Beanstalk. I implemented JWT Authentication where we pass Authorization key in header with Bearer token. The problem is; when we run it locally, it works but on elastic beanstalk, Authorization header is dropped and I get Nptr exception.\r\n\r\n\r\n**when I run the application locally and send request from Postman, I get these headers in the application:**\r\n\r\nHttp Request Headers:\r\n\r\n - **authorization: Bearer &lt;jwt-token&gt;**\r\n - user-agent: PostmanRuntime/7.30.0\r\n - accept: */*\r\n - postman-token: &lt;token&gt;\r\n - host: localhost:8080\r\n - accept-encoding: gzip, deflate, br\r\n - connection: keep-alive\r\n - cookie: &lt;token&gt;\r\n\r\n**But**\r\nWhen I deploy it on Elastic Beanstalk and send request from Postman, I get the following headers except **Authorization** header that&#39;s required to store jwt-token.\r\n\r\n - connection: upgrade\r\n - host: 172.31.27.65\r\n - x-real-ip: 172.31.44.173\r\n - x-forwarded-for: 172.31.44.173\r\n - user-agent: ELB-HealthChecker/2.0\r\n - accept-encoding: gzip, compressed\r\n\r\nIt seems like Elastic Application Load Balancer is dropping original request headers and instead adding its headers in the request.","title":"Null Http Request Header &#39;Authorization&#39; Value in spring boot application when deployed on Elastic Beanstalk","body":"<p>I am working on a Spring Boot Application which is deployed on AWS Elastic Beanstalk. I implemented JWT Authentication where we pass Authorization key in header with Bearer token. The problem is; when we run it locally, it works but on elastic beanstalk, Authorization header is dropped and I get Nptr exception.</p>\n<p><strong>when I run the application locally and send request from Postman, I get these headers in the application:</strong></p>\n<p>Http Request Headers:</p>\n<ul>\n<li><strong>authorization: Bearer </strong></li>\n<li>user-agent: PostmanRuntime/7.30.0</li>\n<li>accept: <em>/</em></li>\n<li>postman-token: </li>\n<li>host: localhost:8080</li>\n<li>accept-encoding: gzip, deflate, br</li>\n<li>connection: keep-alive</li>\n<li>cookie: </li>\n</ul>\n<p><strong>But</strong>\nWhen I deploy it on Elastic Beanstalk and send request from Postman, I get the following headers except <strong>Authorization</strong> header that's required to store jwt-token.</p>\n<ul>\n<li>connection: upgrade</li>\n<li>host: 172.31.27.65</li>\n<li>x-real-ip: 172.31.44.173</li>\n<li>x-forwarded-for: 172.31.44.173</li>\n<li>user-agent: ELB-HealthChecker/2.0</li>\n<li>accept-encoding: gzip, compressed</li>\n</ul>\n<p>It seems like Elastic Application Load Balancer is dropping original request headers and instead adding its headers in the request.</p>\n"},{"tags":["java","android","android-studio","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":26814613,"reputation":1,"user_id":20404727,"display_name":"sourav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673285429,"creation_date":1673285429,"answer_id":75060953,"question_id":75049345,"body_markdown":"add this dependency and check \r\n\r\nimplementation &#39;com.firebaseui:firebase-ui-database:4.3.2&#39; ","title":"Cannot resolve symbol FirebaseRecyclerOptions","body":"<p>add this dependency and check</p>\n<p>implementation 'com.firebaseui:firebase-ui-database:4.3.2'</p>\n"}],"owner":{"account_id":26021170,"reputation":132,"user_id":19728854,"display_name":"RIZWAN ALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673285429,"creation_date":1673194329,"question_id":75049345,"body_markdown":"I am creating app for my semester project where I use firebase as backend and trying to fetch data from the firebase realtime database but the issue i am facing is that i am using recycle view inside fragment and and when I pasted code from firebase documents its not importing the relative imports and keep giving `cannot resolve error`.\r\n\r\nHere is my fragment class code:\r\n\r\n    public class homeFragrment extends Fragment {\r\n    \r\n      View view;\r\n      RecyclerView recyclerView;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            view= inflater.inflate(R.layout.fragment_home_fragrment, container, false);\r\n            ImageSlider imageSlider=view.findViewById(R.id.imageSlider);\r\n            recyclerView=view.findViewById(R.id.recview);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n            ArrayList&lt;SlideModel&gt; slideModels=new ArrayList&lt;&gt;();\r\n            slideModels.add(new SlideModel(R.drawable.f, ScaleTypes.FIT));\r\n            slideModels.add(new SlideModel(R.drawable.s, ScaleTypes.FIT));\r\n            slideModels.add(new SlideModel(R.drawable.t, ScaleTypes.FIT));\r\n            slideModels.add(new SlideModel(R.drawable.fo, ScaleTypes.FIT));\r\n            slideModels.add(new SlideModel(R.drawable.fi, ScaleTypes.FIT));\r\n            imageSlider.setImageList(slideModels,ScaleTypes.FIT);\r\n    \r\n            FirebaseRecyclerOptions&lt;model&gt; options =\r\n                    new FirebaseRecyclerOptions.Builder&lt;model&gt;()\r\n                            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Rooms&quot;), model.class)\r\n                            .build();\r\n            return view;\r\n        }\r\n    }\r\n\r\nHere is my build.gradle file looks like:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.example.hostelmanagement&#39;\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.hostelmanagement&quot;\r\n            minSdk 21\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:21.1.0&#39;\r\n        implementation &#39;com.google.android.material:material:x.x.x&#39;\r\n        implementation &#39;com.github.denzcoskun:ImageSlideshow:0.1.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:20.1.0&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n    \r\n    }\r\n\r\n\r\nI also watched a tutorial those guys are also getting auto import but for me it hot happening how to overcome this problem?\r\nThanks in advance.","title":"Cannot resolve symbol FirebaseRecyclerOptions","body":"<p>I am creating app for my semester project where I use firebase as backend and trying to fetch data from the firebase realtime database but the issue i am facing is that i am using recycle view inside fragment and and when I pasted code from firebase documents its not importing the relative imports and keep giving <code>cannot resolve error</code>.</p>\n<p>Here is my fragment class code:</p>\n<pre><code>public class homeFragrment extends Fragment {\n\n  View view;\n  RecyclerView recyclerView;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        view= inflater.inflate(R.layout.fragment_home_fragrment, container, false);\n        ImageSlider imageSlider=view.findViewById(R.id.imageSlider);\n        recyclerView=view.findViewById(R.id.recview);\n        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n        ArrayList&lt;SlideModel&gt; slideModels=new ArrayList&lt;&gt;();\n        slideModels.add(new SlideModel(R.drawable.f, ScaleTypes.FIT));\n        slideModels.add(new SlideModel(R.drawable.s, ScaleTypes.FIT));\n        slideModels.add(new SlideModel(R.drawable.t, ScaleTypes.FIT));\n        slideModels.add(new SlideModel(R.drawable.fo, ScaleTypes.FIT));\n        slideModels.add(new SlideModel(R.drawable.fi, ScaleTypes.FIT));\n        imageSlider.setImageList(slideModels,ScaleTypes.FIT);\n\n        FirebaseRecyclerOptions&lt;model&gt; options =\n                new FirebaseRecyclerOptions.Builder&lt;model&gt;()\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Rooms&quot;), model.class)\n                        .build();\n        return view;\n    }\n}\n</code></pre>\n<p>Here is my build.gradle file looks like:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    namespace 'com.example.hostelmanagement'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.hostelmanagement&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-auth:21.1.0'\n    implementation 'com.google.android.material:material:x.x.x'\n    implementation 'com.github.denzcoskun:ImageSlideshow:0.1.0'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'com.google.firebase:firebase-storage:20.1.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n\n}\n</code></pre>\n<p>I also watched a tutorial those guys are also getting auto import but for me it hot happening how to overcome this problem?\nThanks in advance.</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673285072,"creation_date":1673285072,"answer_id":75060894,"question_id":75056046,"body_markdown":"This seems to be a bug in [Picture.resize(double scaleX, double scaleY)](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Picture.html#resize-double-double-) and [Picture.resize(double scale)](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Picture.html#resize-double-) when either `ClientAnchor.Col1` or `ClientAnchor.Row1` or both are 0. It works when both of the top left anchor cell indexes are greater than 0.\r\n\r\nA workaround is to use `Picture.resize()` first, before resizing with scale. `Picture.resize()` first calculates the bottom right anchor position to fit the full native picture size. After that `Picture.resize(double scaleX, double scaleY)` works properly.\r\n\r\n    ...\r\n            anchor.setCol1(0);\r\n            anchor.setRow1(0);\r\n            final Picture pict = drawing.createPicture( anchor, pictureIndex );\r\n            pict.resize();\r\n            pict.resize(0.1, 0.1);\r\n    ...","title":"Resize Image on workbook sheet does not work in apache poi","body":"<p>This seems to be a bug in <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Picture.html#resize-double-double-\" rel=\"nofollow noreferrer\">Picture.resize(double scaleX, double scaleY)</a> and <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Picture.html#resize-double-\" rel=\"nofollow noreferrer\">Picture.resize(double scale)</a> when either <code>ClientAnchor.Col1</code> or <code>ClientAnchor.Row1</code> or both are 0. It works when both of the top left anchor cell indexes are greater than 0.</p>\n<p>A workaround is to use <code>Picture.resize()</code> first, before resizing with scale. <code>Picture.resize()</code> first calculates the bottom right anchor position to fit the full native picture size. After that <code>Picture.resize(double scaleX, double scaleY)</code> works properly.</p>\n<pre><code>...\n        anchor.setCol1(0);\n        anchor.setRow1(0);\n        final Picture pict = drawing.createPicture( anchor, pictureIndex );\n        pict.resize();\n        pict.resize(0.1, 0.1);\n...\n</code></pre>\n"}],"owner":{"account_id":26205404,"reputation":61,"user_id":19885064,"display_name":"Michał Mańkowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673285072,"creation_date":1673260667,"question_id":75056046,"body_markdown":"i am using newest apache poi dependency and want to resize image (to not have it so so big after workbook opened):\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n1) I created new workbook as .xlsm and didnt change default font (it is Calibri 11 px) according to documentation. \r\n2) downloaded image from pexels: [Link To Pexels Image](https://www.pexels.com/pl-pl/zdjecie/natura-srodowisko-widok-z-lotu-ptaka-zdjecie-lotnicze-12850802/)\r\n3) used code like here:\r\n\r\n```\r\nimport org.apache.commons.compress.utils.IOUtils;\r\nimport org.apache.poi.ss.usermodel.*;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\nimport java.io.*;\r\n\r\npublic class ImageResizer {\r\n\r\n    public static  void main (String[] args) throws IOException {\r\n        ImageResizer resizer = new ImageResizer();\r\n    }\r\n    public ImageResizer() throws IOException {\r\n        InputStream inputStream;\r\n        XSSFWorkbook workbook = null;\r\n        XSSFSheet sheet = null;\r\n        Cell cell = null;\r\n        XSSFRow sheetRow = null;\r\n\r\n        try {\r\n            File myFile = new File(&quot;C:\\\\Users\\\\Luke\\\\Downloads\\\\TestWorkbook_AddingImage.xlsm&quot;);\r\n            FileInputStream fis = new FileInputStream(myFile);\r\n            workbook = new XSSFWorkbook (fis);\r\n            fis.close();\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        sheet = workbook.getSheetAt(0);\r\n\r\n        FileInputStream stream = null;\r\n        try {\r\n            stream = new FileInputStream( &quot;C:\\\\Users\\\\Luke\\\\Downloads\\\\pexels-yura-forrat-12850802.jpg&quot; );\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        CreationHelper helper = workbook.getCreationHelper();\r\n        Drawing drawing = sheet.createDrawingPatriarch();\r\n\r\n        ClientAnchor anchor = helper.createClientAnchor();\r\n        final int pictureIndex = workbook.addPicture( stream, Workbook.PICTURE_TYPE_JPEG);\r\n        stream.close();\r\n\r\n        anchor.setCol1( 0 );\r\n        anchor.setRow1( 0);\r\n        final Picture pict = drawing.createPicture( anchor, pictureIndex );\r\n        pict.resize(0.1,0.1);\r\n\r\n        FileOutputStream os = new FileOutputStream(&quot;C:\\\\Users\\\\Luke\\\\Downloads\\\\TestWorkbook_AddingImage_Saved.xlsm&quot;);\r\n        workbook.write(os);\r\n        os.close();\r\n        System.out.println(&quot;Done!&quot;);\r\n\r\n        }\r\n\r\n    }\r\n```\r\nAnd pict.resize(0.1, 0.1) method is making my picture very, very small (inside cell is only barely seen dot). I tried also with 0.5, 0.9 and even 2.0 but result is all the same.\r\nWhy? What can i do to resize picture? \r\n\r\nBest,\r\nMichal\r\n\r\n\r\n\r\n","title":"Resize Image on workbook sheet does not work in apache poi","body":"<p>i am using newest apache poi dependency and want to resize image (to not have it so so big after workbook opened):</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<ol>\n<li>I created new workbook as .xlsm and didnt change default font (it is Calibri 11 px) according to documentation.</li>\n<li>downloaded image from pexels: <a href=\"https://www.pexels.com/pl-pl/zdjecie/natura-srodowisko-widok-z-lotu-ptaka-zdjecie-lotnicze-12850802/\" rel=\"nofollow noreferrer\">Link To Pexels Image</a></li>\n<li>used code like here:</li>\n</ol>\n<pre><code>import org.apache.commons.compress.utils.IOUtils;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.*;\n\npublic class ImageResizer {\n\n    public static  void main (String[] args) throws IOException {\n        ImageResizer resizer = new ImageResizer();\n    }\n    public ImageResizer() throws IOException {\n        InputStream inputStream;\n        XSSFWorkbook workbook = null;\n        XSSFSheet sheet = null;\n        Cell cell = null;\n        XSSFRow sheetRow = null;\n\n        try {\n            File myFile = new File(&quot;C:\\\\Users\\\\Luke\\\\Downloads\\\\TestWorkbook_AddingImage.xlsm&quot;);\n            FileInputStream fis = new FileInputStream(myFile);\n            workbook = new XSSFWorkbook (fis);\n            fis.close();\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n\n        sheet = workbook.getSheetAt(0);\n\n        FileInputStream stream = null;\n        try {\n            stream = new FileInputStream( &quot;C:\\\\Users\\\\Luke\\\\Downloads\\\\pexels-yura-forrat-12850802.jpg&quot; );\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        CreationHelper helper = workbook.getCreationHelper();\n        Drawing drawing = sheet.createDrawingPatriarch();\n\n        ClientAnchor anchor = helper.createClientAnchor();\n        final int pictureIndex = workbook.addPicture( stream, Workbook.PICTURE_TYPE_JPEG);\n        stream.close();\n\n        anchor.setCol1( 0 );\n        anchor.setRow1( 0);\n        final Picture pict = drawing.createPicture( anchor, pictureIndex );\n        pict.resize(0.1,0.1);\n\n        FileOutputStream os = new FileOutputStream(&quot;C:\\\\Users\\\\Luke\\\\Downloads\\\\TestWorkbook_AddingImage_Saved.xlsm&quot;);\n        workbook.write(os);\n        os.close();\n        System.out.println(&quot;Done!&quot;);\n\n        }\n\n    }\n</code></pre>\n<p>And pict.resize(0.1, 0.1) method is making my picture very, very small (inside cell is only barely seen dot). I tried also with 0.5, 0.9 and even 2.0 but result is all the same.\nWhy? What can i do to resize picture?</p>\n<p>Best,\nMichal</p>\n"},{"tags":["java","android","android-recyclerview","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":17686219,"reputation":19,"user_id":12839091,"display_name":"monjur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673162105,"creation_date":1673162105,"answer_id":75046067,"question_id":75045996,"body_markdown":"You can use **addOnPageChangeListener** for getting the user interaction for the view pager. add this code snippet in the onCreate method.In my project ,I handle it like this ::\r\n\r\n      binding!!.mediaViewPager.addOnPageChangeListener(object : OnPageChangeListener {\r\n    \r\n                    override fun onPageScrolled(\r\n                        position: Int,\r\n                        positionOffset: Float,\r\n                        positionOffsetPixels: Int\r\n                    ) {\r\n                        if (exoPlayer.isPlaying) {\r\n    \r\n                            exoPlayer.pause()\r\n    \r\n    \r\n                        }\r\n    \r\n                    }\r\n    \r\n                    override fun onPageSelected(position: Int) {\r\n                      \r\n                            if (exoPlayer.isPlaying) {\r\n                                exoPlayer.pause()\r\n                            }\r\n                           \r\n    \r\n                        \r\n    \r\n                    }\r\n    \r\n                    override fun onPageScrollStateChanged(state: Int) {\r\n                      \r\n    \r\n                        exoPlayer.pause()\r\n                       \r\n    \r\n                    }\r\n                })\r\n\r\n","title":"How to manage exoplayer with java in android studio?","body":"<p>You can use <strong>addOnPageChangeListener</strong> for getting the user interaction for the view pager. add this code snippet in the onCreate method.In my project ,I handle it like this ::</p>\n<pre><code>  binding!!.mediaViewPager.addOnPageChangeListener(object : OnPageChangeListener {\n\n                override fun onPageScrolled(\n                    position: Int,\n                    positionOffset: Float,\n                    positionOffsetPixels: Int\n                ) {\n                    if (exoPlayer.isPlaying) {\n\n                        exoPlayer.pause()\n\n\n                    }\n\n                }\n\n                override fun onPageSelected(position: Int) {\n                  \n                        if (exoPlayer.isPlaying) {\n                            exoPlayer.pause()\n                        }\n                       \n\n                    \n\n                }\n\n                override fun onPageScrollStateChanged(state: Int) {\n                  \n\n                    exoPlayer.pause()\n                   \n\n                }\n            })\n</code></pre>\n"}],"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673285063,"creation_date":1673161104,"question_id":75045996,"body_markdown":"I am searching Exoplayer using with ViewPager in java but can not find the full tutorial.\r\n\r\nI have issue for stopping and pausing exoplayer while swiping another video. \r\nIs there any tutorial please suggest me.\r\n\r\nAdapter.java\r\n\r\n            package com.daasuu.gpuvideoandroid.Adapter;\r\n        \r\n        import android.content.Context;\r\n        import android.content.Intent;\r\n        import android.util.Log;\r\n        import android.view.LayoutInflater;\r\n        import android.view.View;\r\n        import android.view.ViewGroup;\r\n        import androidx.databinding.DataBindingUtil;\r\n        import androidx.recyclerview.widget.RecyclerView;\r\n        import com.daasuu.gpuvideoandroid.Activity.OtherUser.OtherUserProfileActivity;\r\n        import com.daasuu.gpuvideoandroid.Model.MainVideoDataModel;\r\n        import com.daasuu.gpuvideoandroid.R;\r\n        import com.daasuu.gpuvideoandroid.Utils.VideoCache;\r\n        import com.daasuu.gpuvideoandroid.databinding.ItemMainVideoBinding;\r\n        import com.google.android.exoplayer2.ExoPlayer;\r\n        import com.google.android.exoplayer2.MediaItem;\r\n        import com.google.android.exoplayer2.Player;\r\n        import com.google.android.exoplayer2.SimpleExoPlayer;\r\n        import com.google.android.exoplayer2.source.ProgressiveMediaSource;\r\n        import com.google.android.exoplayer2.ui.PlayerView;\r\n        import com.google.android.exoplayer2.ui.StyledPlayerView;\r\n        import com.google.android.exoplayer2.upstream.DefaultHttpDataSource;\r\n        import com.google.android.exoplayer2.upstream.cache.CacheDataSource;\r\n        \r\n        import java.util.List;\r\n        \r\n        public class MainVideoAdapter2 extends RecyclerView.Adapter&lt;MainVideoAdapter2.MyViewHolder&gt; {\r\n            private Context context;\r\n            private List&lt;MainVideoDataModel&gt; data;\r\n            private boolean likeFlag = false;\r\n            private boolean followFlag = false;\r\n            private boolean isPlaying = false;\r\n            ExoPlayer exoplayer;\r\n            StyledPlayerView styledPlayerView;\r\n        \r\n            public MainVideoAdapter2(Context context, List&lt;MainVideoDataModel&gt; data) {\r\n            this.context = context;\r\n            this.data = data;\r\n            }\r\n        \r\n            @Override\r\n            public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n                ItemMainVideoBinding binding = DataBindingUtil.inflate(LayoutInflater.from(context), R.layout.item_main_video, parent, false);\r\n                return new MyViewHolder(binding);\r\n            }\r\n        \r\n            @Override\r\n            public void onBindViewHolder(MainVideoAdapter2.MyViewHolder holder, int position) {\r\n                MainVideoDataModel model = data.get(position);\r\n                holder.setExoplayerStyled(model.getVideo_url());\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public int getItemCount() {\r\n                return data.size();\r\n            }\r\n        \r\n            public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n                private ItemMainVideoBinding binding;\r\n        \r\n                public MyViewHolder(ItemMainVideoBinding binding) {\r\n                    super(binding.getRoot());\r\n                    this.binding = binding;\r\n        \r\n                    binding.imageUserMainVideo.setOnClickListener(this);\r\n                    binding.videoView.setOnClickListener(this);\r\n                }\r\n        \r\n                //        styled exoplayer with cache\r\n                void setExoplayerStyled(String video_url){\r\n                    binding.progressCircular.setVisibility(View.VISIBLE);\r\n                    exoplayer = new ExoPlayer.Builder(context).build();\r\n                    styledPlayerView = binding.videoStyledPlayerView;\r\n                    styledPlayerView.hideController();\r\n                    styledPlayerView.setUseController(false);\r\n        \r\n                    ProgressiveMediaSource mediaSource = new ProgressiveMediaSource.Factory(\r\n                            new CacheDataSource.Factory()\r\n                                    .setCache(VideoCache.getInstance2(context))\r\n                                    .setUpstreamDataSourceFactory(new DefaultHttpDataSource.Factory()\r\n                                            .setUserAgent(&quot;rgcache&quot;))\r\n                                    .setFlags(CacheDataSource.FLAG_IGNORE_CACHE_ON_ERROR)\r\n                    ).createMediaSource(MediaItem.fromUri(video_url));\r\n        \r\n                    exoplayer.seekTo(0);\r\n                    exoplayer.prepare();\r\n                    exoplayer.pause();\r\n        \r\n                    styledPlayerView.setPlayer(exoplayer);\r\n                    exoplayer.setPlayWhenReady(false);\r\n        \r\n                    binding.videoStyledPlayerView.addOnAttachStateChangeListener(new View.OnAttachStateChangeListener() {\r\n                        @Override\r\n                        public void onViewAttachedToWindow(View view) {\r\n                            styledPlayerView.setKeepScreenOn(true);\r\n                            exoplayer.addMediaSource(mediaSource);\r\n                            exoplayer.prepare();\r\n                            exoplayer.setPlayWhenReady(true);\r\n                            exoplayer.setRepeatMode(exoplayer.REPEAT_MODE_ONE);\r\n        \r\n                            if(binding.videoStyledPlayerView.getPlayer() != null) {\r\n                                binding.videoStyledPlayerView.getPlayer().play();\r\n                            }\r\n                        }\r\n                        @Override\r\n                        public void onViewDetachedFromWindow(View view) {\r\n                            binding.videoStyledPlayerView.getPlayer().stop();\r\n                            binding.videoStyledPlayerView.getPlayer().clearMediaItems();\r\n                            exoplayer.seekTo(0);\r\n                            exoplayer.setPlayWhenReady(false);\r\n                            exoplayer.stop();\r\n                            if(binding.videoStyledPlayerView.getPlayer() != null) {\r\n                                binding.videoStyledPlayerView.getPlayer().pause();\r\n                            }\r\n                        }\r\n                    });\r\n        \r\n                    //buffering\r\n                    exoplayer.addListener(new Player.Listener() {\r\n                        @Override\r\n                        public void onIsLoadingChanged(boolean isLoading) {\r\n                            Player.Listener.super.onIsLoadingChanged(isLoading);\r\n        //                    Log.e(&quot;onIsLoadingChanged&quot;, String.valueOf(isLoading));\r\n                        }\r\n        \r\n                        @Override\r\n                        public void onPlaybackStateChanged(int playbackState) {\r\n                            Player.Listener.super.onPlaybackStateChanged(playbackState);\r\n                            Log.e(&quot;onPlaybackStateChanged&quot;, String.valueOf(playbackState));\r\n                            binding.imgVideoStop.setVisibility(View.GONE);\r\n                            if (playbackState == 3){\r\n                                binding.progressCircular.setVisibility(View.GONE);\r\n                            }\r\n                        }\r\n        \r\n                        @Override\r\n                        public void onPlayWhenReadyChanged(boolean playWhenReady, int reason) {\r\n                            Player.Listener.super.onPlayWhenReadyChanged(playWhenReady, reason);\r\n                        }\r\n                    });\r\n        \r\n        //            touch listener play &amp; pause\r\n                    binding.videoStyledPlayerView.getVideoSurfaceView().setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            if (isPlaying == false){\r\n                                binding.imgVideoStop.setVisibility(View.VISIBLE);\r\n                                isPlaying = true;\r\n                                exoplayer.setPlayWhenReady(false);\r\n        \r\n                            }else{\r\n                                binding.imgVideoStop.setVisibility(View.GONE);\r\n                                isPlaying = false;\r\n                                styledPlayerView.setKeepScreenOn(true);\r\n                                styledPlayerView.setPlayer(exoplayer);\r\n                                exoplayer.addMediaSource(mediaSource);\r\n                                exoplayer.prepare();\r\n                                exoplayer.setPlayWhenReady(true);\r\n                                exoplayer.setRepeatMode(exoplayer.REPEAT_MODE_ONE);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n        \r\n                //on click event\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (v == binding.imageUserMainVideo) {\r\n                        context.startActivity(new Intent(context, OtherUserProfileActivity.class));\r\n                    }\r\n                    if (v == binding.videoView) {\r\n                        Log.e(&quot;isPlaying = &quot; , String.valueOf(isPlaying));\r\n                        if (isPlaying) {\r\n                            binding.videoView.pause();\r\n        //                    binding.imgVideoStop.setVisibility(View.VISIBLE);\r\n                            isPlaying = false;\r\n                        } else {\r\n                            binding.videoView.start();\r\n        //                    binding.imgVideoStop.setVisibility(View.GONE);\r\n                            isPlaying = true;\r\n                        }\r\n                    }\r\n        \r\n                }\r\n        \r\n        \r\n            }\r\n        }\r\n\r\n\r\nitem.xml\r\n\r\n    &lt;com.google.android.exoplayer2.ui.StyledPlayerView\r\n            android:id=&quot;@+id/videoStyledPlayerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:visibility=&quot;visible&quot;\r\n            app:animation_enabled=&quot;true&quot;/&gt;\r\n\r\n**Issues**:\r\n\r\n - After a specific position, it plays previous videos when swipe to next video.\r\n - Plays multiple videos on swipe\r\n - On swipe back(previous videos) don&#39;t stops previous video.\r\n - How to stop when to redirect another activity.\r\n\r\nPlease suggest the solution.","title":"How to manage exoplayer with java in android studio?","body":"<p>I am searching Exoplayer using with ViewPager in java but can not find the full tutorial.</p>\n<p>I have issue for stopping and pausing exoplayer while swiping another video.\nIs there any tutorial please suggest me.</p>\n<p>Adapter.java</p>\n<pre><code>        package com.daasuu.gpuvideoandroid.Adapter;\n    \n    import android.content.Context;\n    import android.content.Intent;\n    import android.util.Log;\n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.view.ViewGroup;\n    import androidx.databinding.DataBindingUtil;\n    import androidx.recyclerview.widget.RecyclerView;\n    import com.daasuu.gpuvideoandroid.Activity.OtherUser.OtherUserProfileActivity;\n    import com.daasuu.gpuvideoandroid.Model.MainVideoDataModel;\n    import com.daasuu.gpuvideoandroid.R;\n    import com.daasuu.gpuvideoandroid.Utils.VideoCache;\n    import com.daasuu.gpuvideoandroid.databinding.ItemMainVideoBinding;\n    import com.google.android.exoplayer2.ExoPlayer;\n    import com.google.android.exoplayer2.MediaItem;\n    import com.google.android.exoplayer2.Player;\n    import com.google.android.exoplayer2.SimpleExoPlayer;\n    import com.google.android.exoplayer2.source.ProgressiveMediaSource;\n    import com.google.android.exoplayer2.ui.PlayerView;\n    import com.google.android.exoplayer2.ui.StyledPlayerView;\n    import com.google.android.exoplayer2.upstream.DefaultHttpDataSource;\n    import com.google.android.exoplayer2.upstream.cache.CacheDataSource;\n    \n    import java.util.List;\n    \n    public class MainVideoAdapter2 extends RecyclerView.Adapter&lt;MainVideoAdapter2.MyViewHolder&gt; {\n        private Context context;\n        private List&lt;MainVideoDataModel&gt; data;\n        private boolean likeFlag = false;\n        private boolean followFlag = false;\n        private boolean isPlaying = false;\n        ExoPlayer exoplayer;\n        StyledPlayerView styledPlayerView;\n    \n        public MainVideoAdapter2(Context context, List&lt;MainVideoDataModel&gt; data) {\n        this.context = context;\n        this.data = data;\n        }\n    \n        @Override\n        public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n            ItemMainVideoBinding binding = DataBindingUtil.inflate(LayoutInflater.from(context), R.layout.item_main_video, parent, false);\n            return new MyViewHolder(binding);\n        }\n    \n        @Override\n        public void onBindViewHolder(MainVideoAdapter2.MyViewHolder holder, int position) {\n            MainVideoDataModel model = data.get(position);\n            holder.setExoplayerStyled(model.getVideo_url());\n    \n        }\n    \n        @Override\n        public int getItemCount() {\n            return data.size();\n        }\n    \n        public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n            private ItemMainVideoBinding binding;\n    \n            public MyViewHolder(ItemMainVideoBinding binding) {\n                super(binding.getRoot());\n                this.binding = binding;\n    \n                binding.imageUserMainVideo.setOnClickListener(this);\n                binding.videoView.setOnClickListener(this);\n            }\n    \n            //        styled exoplayer with cache\n            void setExoplayerStyled(String video_url){\n                binding.progressCircular.setVisibility(View.VISIBLE);\n                exoplayer = new ExoPlayer.Builder(context).build();\n                styledPlayerView = binding.videoStyledPlayerView;\n                styledPlayerView.hideController();\n                styledPlayerView.setUseController(false);\n    \n                ProgressiveMediaSource mediaSource = new ProgressiveMediaSource.Factory(\n                        new CacheDataSource.Factory()\n                                .setCache(VideoCache.getInstance2(context))\n                                .setUpstreamDataSourceFactory(new DefaultHttpDataSource.Factory()\n                                        .setUserAgent(&quot;rgcache&quot;))\n                                .setFlags(CacheDataSource.FLAG_IGNORE_CACHE_ON_ERROR)\n                ).createMediaSource(MediaItem.fromUri(video_url));\n    \n                exoplayer.seekTo(0);\n                exoplayer.prepare();\n                exoplayer.pause();\n    \n                styledPlayerView.setPlayer(exoplayer);\n                exoplayer.setPlayWhenReady(false);\n    \n                binding.videoStyledPlayerView.addOnAttachStateChangeListener(new View.OnAttachStateChangeListener() {\n                    @Override\n                    public void onViewAttachedToWindow(View view) {\n                        styledPlayerView.setKeepScreenOn(true);\n                        exoplayer.addMediaSource(mediaSource);\n                        exoplayer.prepare();\n                        exoplayer.setPlayWhenReady(true);\n                        exoplayer.setRepeatMode(exoplayer.REPEAT_MODE_ONE);\n    \n                        if(binding.videoStyledPlayerView.getPlayer() != null) {\n                            binding.videoStyledPlayerView.getPlayer().play();\n                        }\n                    }\n                    @Override\n                    public void onViewDetachedFromWindow(View view) {\n                        binding.videoStyledPlayerView.getPlayer().stop();\n                        binding.videoStyledPlayerView.getPlayer().clearMediaItems();\n                        exoplayer.seekTo(0);\n                        exoplayer.setPlayWhenReady(false);\n                        exoplayer.stop();\n                        if(binding.videoStyledPlayerView.getPlayer() != null) {\n                            binding.videoStyledPlayerView.getPlayer().pause();\n                        }\n                    }\n                });\n    \n                //buffering\n                exoplayer.addListener(new Player.Listener() {\n                    @Override\n                    public void onIsLoadingChanged(boolean isLoading) {\n                        Player.Listener.super.onIsLoadingChanged(isLoading);\n    //                    Log.e(&quot;onIsLoadingChanged&quot;, String.valueOf(isLoading));\n                    }\n    \n                    @Override\n                    public void onPlaybackStateChanged(int playbackState) {\n                        Player.Listener.super.onPlaybackStateChanged(playbackState);\n                        Log.e(&quot;onPlaybackStateChanged&quot;, String.valueOf(playbackState));\n                        binding.imgVideoStop.setVisibility(View.GONE);\n                        if (playbackState == 3){\n                            binding.progressCircular.setVisibility(View.GONE);\n                        }\n                    }\n    \n                    @Override\n                    public void onPlayWhenReadyChanged(boolean playWhenReady, int reason) {\n                        Player.Listener.super.onPlayWhenReadyChanged(playWhenReady, reason);\n                    }\n                });\n    \n    //            touch listener play &amp; pause\n                binding.videoStyledPlayerView.getVideoSurfaceView().setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        if (isPlaying == false){\n                            binding.imgVideoStop.setVisibility(View.VISIBLE);\n                            isPlaying = true;\n                            exoplayer.setPlayWhenReady(false);\n    \n                        }else{\n                            binding.imgVideoStop.setVisibility(View.GONE);\n                            isPlaying = false;\n                            styledPlayerView.setKeepScreenOn(true);\n                            styledPlayerView.setPlayer(exoplayer);\n                            exoplayer.addMediaSource(mediaSource);\n                            exoplayer.prepare();\n                            exoplayer.setPlayWhenReady(true);\n                            exoplayer.setRepeatMode(exoplayer.REPEAT_MODE_ONE);\n                        }\n                    }\n                });\n            }\n    \n            //on click event\n            @Override\n            public void onClick(View v) {\n                if (v == binding.imageUserMainVideo) {\n                    context.startActivity(new Intent(context, OtherUserProfileActivity.class));\n                }\n                if (v == binding.videoView) {\n                    Log.e(&quot;isPlaying = &quot; , String.valueOf(isPlaying));\n                    if (isPlaying) {\n                        binding.videoView.pause();\n    //                    binding.imgVideoStop.setVisibility(View.VISIBLE);\n                        isPlaying = false;\n                    } else {\n                        binding.videoView.start();\n    //                    binding.imgVideoStop.setVisibility(View.GONE);\n                        isPlaying = true;\n                    }\n                }\n    \n            }\n    \n    \n        }\n    }\n</code></pre>\n<p>item.xml</p>\n<pre><code>&lt;com.google.android.exoplayer2.ui.StyledPlayerView\n        android:id=&quot;@+id/videoStyledPlayerView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:visibility=&quot;visible&quot;\n        app:animation_enabled=&quot;true&quot;/&gt;\n</code></pre>\n<p><strong>Issues</strong>:</p>\n<ul>\n<li>After a specific position, it plays previous videos when swipe to next video.</li>\n<li>Plays multiple videos on swipe</li>\n<li>On swipe back(previous videos) don't stops previous video.</li>\n<li>How to stop when to redirect another activity.</li>\n</ul>\n<p>Please suggest the solution.</p>\n"},{"tags":["java","printing","applet"],"comments":[{"owner":{"account_id":52942,"reputation":5873,"user_id":158288,"accept_rate":92,"display_name":"Koekiebox"},"score":0,"creation_date":1290776848,"post_id":1016372,"comment_id":4648812,"body_markdown":"Have you considered using JNLP? If not what happens when you use PrinterJob printJob = PrinterJob.getPrinterJob();","body":"Have you considered using JNLP? If not what happens when you use PrinterJob printJob = PrinterJob.getPrinterJob();"}],"answers":[{"tags":[],"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1245388976,"creation_date":1245388976,"answer_id":1016451,"question_id":1016372,"body_markdown":"You must change the security settings for java applets first. By default, java applets cannot print.","title":"PrintServiceLookup.lookupDefaultPrintService() returns null","body":"<p>You must change the security settings for java applets first. By default, java applets cannot print.</p>\n"},{"tags":[],"owner":{"account_id":256770,"reputation":131,"user_id":537715,"display_name":"Lacek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291977429,"creation_date":1291977429,"answer_id":4407959,"question_id":1016372,"body_markdown":"In order to access the printer (or any resource on the host computer for that matter) the jar file in which the applet code resides has to be signed, and the user must accept the signer as a trusted party.\r\nTo sign the jar file, use the jarsigner program, which is part of he JDK. Jarsigner uses its own keystore, so if you have your own certificate, you must import the certificate to a keystore first. It can generate certificates as well, in the case you don&#39;t have any other certificate to sign the jar file with.\r\n\r\n[Documentation of the jarsigner tool can be found here.][1]\r\n\r\nNote that newer Java runtimes do ask the user if (s)he allows the code to access the printer, but I found that regardless of the answer, code in an unsigned jar file is prevented from accessing resources.\r\n\r\n  [1]: http://download.oracle.com/javase/1.3/docs/tooldocs/win32/jarsigner.html","title":"PrintServiceLookup.lookupDefaultPrintService() returns null","body":"<p>In order to access the printer (or any resource on the host computer for that matter) the jar file in which the applet code resides has to be signed, and the user must accept the signer as a trusted party.\nTo sign the jar file, use the jarsigner program, which is part of he JDK. Jarsigner uses its own keystore, so if you have your own certificate, you must import the certificate to a keystore first. It can generate certificates as well, in the case you don't have any other certificate to sign the jar file with.</p>\n\n<p><a href=\"http://download.oracle.com/javase/1.3/docs/tooldocs/win32/jarsigner.html\" rel=\"nofollow\">Documentation of the jarsigner tool can be found here.</a></p>\n\n<p>Note that newer Java runtimes do ask the user if (s)he allows the code to access the printer, but I found that regardless of the answer, code in an unsigned jar file is prevented from accessing resources.</p>\n"},{"tags":[],"owner":{"account_id":4368857,"reputation":11,"user_id":3563770,"display_name":"ferdez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400154322,"creation_date":1400154322,"answer_id":23677285,"question_id":1016372,"body_markdown":"This code is working in an signed applet in windows with 1.7.0_55:\r\n\r\n    import javax.print.Doc;\r\n    import javax.print.DocFlavor;\r\n    import javax.print.DocPrintJob;\r\n    import javax.print.PrintService;\r\n    import javax.print.PrintServiceLookup;\r\n    import javax.print.SimpleDoc;\r\n    import javax.print.attribute.HashDocAttributeSet;\r\n    import javax.print.attribute.HashPrintRequestAttributeSet;\r\n    \r\n    ...\r\n    \r\n    HashDocAttributeSet docAttr=new HashDocAttributeSet();\r\n    HashPrintRequestAttributeSet reqAttr=new HashPrintRequestAttributeSet();\r\n    \r\n    try {\r\n    \tPrintService pserv = PrintServiceLookup.lookupDefaultPrintService();\r\n    \tif (pserv == null) {\r\n    \t\tSystem.out.println(&quot;ERROR-01: no default print service&quot;);\r\n    \t}\r\n    \tSystem.out.println(&quot;Printer: &quot; + pserv.getName());\r\n    \r\n    \tDocPrintJob job = pserv.createPrintJob();\r\n    \tDocFlavor flavor = DocFlavor.BYTE_ARRAY.AUTOSENSE;\r\n    \tString content = makeZplLabel();\r\n    \tDoc doc = new SimpleDoc(content.getBytes(), flavor, docAttr);\r\n    \r\n    \tjob.print(doc, reqAttr);\r\n    \r\n    } catch (Exception e) {\r\n    \tSystem.out.println(&quot;ERROR-02:&quot; + e.getMessage());\r\n    }","title":"PrintServiceLookup.lookupDefaultPrintService() returns null","body":"<p>This code is working in an signed applet in windows with 1.7.0_55:</p>\n\n<pre><code>import javax.print.Doc;\nimport javax.print.DocFlavor;\nimport javax.print.DocPrintJob;\nimport javax.print.PrintService;\nimport javax.print.PrintServiceLookup;\nimport javax.print.SimpleDoc;\nimport javax.print.attribute.HashDocAttributeSet;\nimport javax.print.attribute.HashPrintRequestAttributeSet;\n\n...\n\nHashDocAttributeSet docAttr=new HashDocAttributeSet();\nHashPrintRequestAttributeSet reqAttr=new HashPrintRequestAttributeSet();\n\ntry {\n    PrintService pserv = PrintServiceLookup.lookupDefaultPrintService();\n    if (pserv == null) {\n        System.out.println(\"ERROR-01: no default print service\");\n    }\n    System.out.println(\"Printer: \" + pserv.getName());\n\n    DocPrintJob job = pserv.createPrintJob();\n    DocFlavor flavor = DocFlavor.BYTE_ARRAY.AUTOSENSE;\n    String content = makeZplLabel();\n    Doc doc = new SimpleDoc(content.getBytes(), flavor, docAttr);\n\n    job.print(doc, reqAttr);\n\n} catch (Exception e) {\n    System.out.println(\"ERROR-02:\" + e.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2266551,"reputation":394,"user_id":1995068,"display_name":"mar-schmidt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464382810,"creation_date":1464382810,"answer_id":37492176,"question_id":1016372,"body_markdown":"Make sure that printer.conf defines `&lt;DefaultPrinter name&gt;` instead of `&lt;Printer name&gt;`. JVM seems to only find a default printer that is defined like this.\r\n\r\nThis code snippet could help out to quickly verify if it works:\r\n\r\n    import javax.print.PrintServiceLookup;\r\n\r\n    public class checkDefaultPrinter {\r\n\t    public static void main(String[] args) {\r\n\t\t    System.out.println(PrintServiceLookup.lookupDefaultPrintService());\r\n    \t}\r\n    }","title":"PrintServiceLookup.lookupDefaultPrintService() returns null","body":"<p>Make sure that printer.conf defines <code>&lt;DefaultPrinter name&gt;</code> instead of <code>&lt;Printer name&gt;</code>. JVM seems to only find a default printer that is defined like this.</p>\n\n<p>This code snippet could help out to quickly verify if it works:</p>\n\n<pre><code>import javax.print.PrintServiceLookup;\n\npublic class checkDefaultPrinter {\n    public static void main(String[] args) {\n        System.out.println(PrintServiceLookup.lookupDefaultPrintService());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8313788,"reputation":1,"user_id":6247893,"display_name":"Dennys Quiroz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673284634,"creation_date":1673284634,"answer_id":75060823,"question_id":1016372,"body_markdown":"In windows, make sure the Print Spooler service is running. Also, You can test this code while applying the solution\r\n\r\n    import javax.print.PrintService; \r\n    import javax.print.PrintServiceLookup; \r\n    \r\n    public class JavaPrintBug { \r\n    \r\n        public static void main(String[] args) { \r\n            // returns an empty array unless a user has opened system printer settings \r\n            // only short time ago or an adminstrator has set cupsctl WebInterface=yes \r\n            PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null); \r\n            System.out.println(&quot;Number of printers available: &quot; + printServices.length); // zero \r\n             \r\n             \r\n            // returns null unless a user has opened system printer settings only \r\n            // short time ago or an adminstrator has set cupsctl WebInterface=yes \r\n            PrintService defaultPrintService = PrintServiceLookup.lookupDefaultPrintService(); \r\n            if(null != defaultPrintService) { // will not be entered \r\n                System.out.println(&quot;Default printer: &quot; + defaultPrintService.getName()); \r\n            } \r\n             \r\n            // before entering this loop make sure that NO user has opened system \r\n            // printer settings only short time ago and NO administrator has set \r\n            // cupsctl WebInterface=yes (hWebInterface=no)! \r\n            while(null == PrintServiceLookup.lookupDefaultPrintService()) { \r\n                // while trapped in here, open system printer settings or set \r\n                // cupsctl WebInterface=yes and the loop will be left. \r\n    \t\t\t// In Windows, enable the Print Spooler service\r\n            } \r\n            System.out.println(&quot;Workaround worked!&quot;); \r\n        } \r\n    } \r\n\r\nReference: https://bugs.openjdk.org/browse/JDK-8178715","title":"PrintServiceLookup.lookupDefaultPrintService() returns null","body":"<p>In windows, make sure the Print Spooler service is running. Also, You can test this code while applying the solution</p>\n<pre><code>import javax.print.PrintService; \nimport javax.print.PrintServiceLookup; \n\npublic class JavaPrintBug { \n\n    public static void main(String[] args) { \n        // returns an empty array unless a user has opened system printer settings \n        // only short time ago or an adminstrator has set cupsctl WebInterface=yes \n        PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null); \n        System.out.println(&quot;Number of printers available: &quot; + printServices.length); // zero \n         \n         \n        // returns null unless a user has opened system printer settings only \n        // short time ago or an adminstrator has set cupsctl WebInterface=yes \n        PrintService defaultPrintService = PrintServiceLookup.lookupDefaultPrintService(); \n        if(null != defaultPrintService) { // will not be entered \n            System.out.println(&quot;Default printer: &quot; + defaultPrintService.getName()); \n        } \n         \n        // before entering this loop make sure that NO user has opened system \n        // printer settings only short time ago and NO administrator has set \n        // cupsctl WebInterface=yes (hWebInterface=no)! \n        while(null == PrintServiceLookup.lookupDefaultPrintService()) { \n            // while trapped in here, open system printer settings or set \n            // cupsctl WebInterface=yes and the loop will be left. \n            // In Windows, enable the Print Spooler service\n        } \n        System.out.println(&quot;Workaround worked!&quot;); \n    } \n} \n</code></pre>\n<p>Reference: <a href=\"https://bugs.openjdk.org/browse/JDK-8178715\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8178715</a></p>\n"}],"owner":{"account_id":878105,"reputation":85,"user_id":123684,"accept_rate":0,"display_name":"Muhammad Babar Nazir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4247,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1673284634,"creation_date":1245386908,"question_id":1016372,"body_markdown":"`PrintServiceLookup.lookupDefaultPrintService()` returns `NULL` as I have a printer installed and set to default printer.\r\n\r\nIf I am using this in a simple program it works fine, but when I try to use it in my applet-based program it returns `NULL`.\r\n\r\nPlease send me some good solution for this problem.","title":"PrintServiceLookup.lookupDefaultPrintService() returns null","body":"<p><code>PrintServiceLookup.lookupDefaultPrintService()</code> returns <code>NULL</code> as I have a printer installed and set to default printer.</p>\n\n<p>If I am using this in a simple program it works fine, but when I try to use it in my applet-based program it returns <code>NULL</code>.</p>\n\n<p>Please send me some good solution for this problem.</p>\n"},{"tags":["java","processing","collision"],"comments":[{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1672259675,"post_id":74944535,"comment_id":132254794,"body_markdown":"&quot;giving me errors.&quot; - please [edit] and show those errors.","body":"&quot;giving me errors.&quot; - please <a href=\"https://stackoverflow.com/posts/74944535/edit\">edit</a> and show those errors."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672260354,"post_id":74944535,"comment_id":132254946,"body_markdown":"Is your `bullet.width` and `bullet.height` smaller than the speed? If so then one step in speed calculation &quot;teleports&quot; the bullet from one side of the enemy to the other without touching it.","body":"Is your <code>bullet.width</code> and <code>bullet.height</code> smaller than the speed? If so then one step in speed calculation &quot;teleports&quot; the bullet from one side of the enemy to the other without touching it."},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1672261777,"post_id":74944535,"comment_id":132255303,"body_markdown":"@cyberbrain No my bullet height and width isnt smaller than the speed.","body":"@cyberbrain No my bullet height and width isnt smaller than the speed."},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1672262603,"post_id":74944535,"comment_id":132255489,"body_markdown":"@hc_dev I delete those errors I cant get them back so far this is the only code that is close to getting what i need sorry about that","body":"@hc_dev I delete those errors I cant get them back so far this is the only code that is close to getting what i need sorry about that"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672434288,"post_id":74944535,"comment_id":132290913,"body_markdown":"in your constructor `Weapons`:  where do `mouseX` and `mouseY` come from?","body":"in your constructor <code>Weapons</code>:  where do <code>mouseX</code> and <code>mouseY</code> come from?"},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1672525206,"post_id":74944535,"comment_id":132303283,"body_markdown":"@cyberbrain From the weapons x and y (the source) to the mouses x and y (the destination) if that helps","body":"@cyberbrain From the weapons x and y (the source) to the mouses x and y (the destination) if that helps"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672564851,"post_id":74944535,"comment_id":132306176,"body_markdown":"What I meant: your code from the question does not show any declaration of `mouseX` and `mouseY` so it will not compile - but if we should help you, please provide a [mre] so we can find out what&#39;s wrong.","body":"What I meant: your code from the question does not show any declaration of <code>mouseX</code> and <code>mouseY</code> so it will not compile - but if we should help you, please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can find out what&#39;s wrong."},{"owner":{"account_id":17715726,"reputation":2190,"user_id":12862111,"display_name":"apodidae"},"score":0,"creation_date":1672814144,"post_id":74944535,"comment_id":132355631,"body_markdown":"@cyberbrain mouseX and mouseY are system variables in the Processing language:https://processing.org/reference/mouseX.html.  I agree that we still need a minimal example; posted code will not run.  I think there may be other classes for Maincharacter, Enemy, and Goal that we are not being shown.","body":"@cyberbrain mouseX and mouseY are system variables in the Processing language:<a href=\"https://processing.org/reference/mouseX.html\" rel=\"nofollow noreferrer\">processing.org/reference/mouseX.html</a>.  I agree that we still need a minimal example; posted code will not run.  I think there may be other classes for Maincharacter, Enemy, and Goal that we are not being shown."},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1672921741,"post_id":74944535,"comment_id":132384406,"body_markdown":"@apodidae yh there are other class in my code that are not being shown should I bring it up?","body":"@apodidae yh there are other class in my code that are not being shown should I bring it up?"},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1672921760,"post_id":74944535,"comment_id":132384411,"body_markdown":"@cyberbrain yh there are other class in my code that are not being shown should I bring it up?","body":"@cyberbrain yh there are other class in my code that are not being shown should I bring it up?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672922912,"post_id":74944535,"comment_id":132384819,"body_markdown":"Unfortunately I read that &quot;processing&quot; tag too late, I&#39;m not familiar with it. But: you check the collision in the method `Weapons.crash` - is this called anywhere? If it is called in your code, you should show that code too.","body":"Unfortunately I read that &quot;processing&quot; tag too late, I&#39;m not familiar with it. But: you check the collision in the method <code>Weapons.crash</code> - is this called anywhere? If it is called in your code, you should show that code too."},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1672924582,"post_id":74944535,"comment_id":132385387,"body_markdown":"@cyberbrain weapons.crash is not been called in anywhere in my code","body":"@cyberbrain weapons.crash is not been called in anywhere in my code"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672929005,"post_id":74944535,"comment_id":132387153,"body_markdown":"but is it called from _anywhere_ ? If it is not called at all, this would explain, why you do not detect any hits - the collision detection is done in that method, if it is not called at all then no collision detection happens. (Also `Weapons` does not derive from any class nor implement any interface and the method has default visibility, so a call from &quot;outside&quot; gets unlikelier.)","body":"but is it called from <i>anywhere</i> ? If it is not called at all, this would explain, why you do not detect any hits - the collision detection is done in that method, if it is not called at all then no collision detection happens. (Also <code>Weapons</code> does not derive from any class nor implement any interface and the method has default visibility, so a call from &quot;outside&quot; gets unlikelier.)"},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1673193443,"post_id":74944535,"comment_id":132438489,"body_markdown":"@cyberbrain i did call it but it saying that crash doesn&#39;t ( I have update the code in  the main class above).","body":"@cyberbrain i did call it but it saying that crash doesn&#39;t ( I have update the code in  the main class above)."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673199413,"post_id":74944535,"comment_id":132439792,"body_markdown":"so I have to keep on asking ;) (I&#39;m not familiar with processing, sorry): is that `draw` method actually called, where you call the `crash` method? Looks like this is called, but did you actually have a breakpoint or log statement in there to prove it?","body":"so I have to keep on asking ;) (I&#39;m not familiar with processing, sorry): is that <code>draw</code> method actually called, where you call the <code>crash</code> method? Looks like this is called, but did you actually have a breakpoint or log statement in there to prove it?"},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1673283136,"post_id":74944535,"comment_id":132459046,"body_markdown":"@cyberbrain yeah the draw method get called but the crash method doesnt it keeps saying does not exist.","body":"@cyberbrain yeah the draw method get called but the crash method doesnt it keeps saying does not exist."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673284004,"post_id":74944535,"comment_id":132459351,"body_markdown":"Ok, first of all: reading your code is a bit confusing me because you don&#39;t have a common style for your variable and field names. You should let all your variable and field names start with a lowercase letter - but it is not the source of the problem. Anyways for the problem I will post a real answer now ;)","body":"Ok, first of all: reading your code is a bit confusing me because you don&#39;t have a common style for your variable and field names. You should let all your variable and field names start with a lowercase letter - but it is not the source of the problem. Anyways for the problem I will post a real answer now ;)"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673284417,"creation_date":1673284417,"answer_id":75060784,"question_id":74944535,"body_markdown":"You are trying to call the method `enemies.crash(W)` but `enemies` is some collection of `Enemy` instances. `Enemy` does not provide the method `crash` as well.\r\n\r\nYou have to loop for each of your enemies all of your weapons and call the method `crash` on the `Weapon` instance giving the current enemy, something like:\r\n\r\n``` lang-java\r\nfor (Enemy enemy: enemies){\r\n  enemy.update();\r\n  if (mainCharacter.crash(enemy)) {\r\n    gameMode = Finish; \r\n  }\r\n  for (Weapons weapon: bullets) {\r\n    weapon.update();\r\n    if (weapon.crash(enemy)) {\r\n      gameMode = Finish;\r\n      // TODO: are you sure that killing an enemy finishes the game?\r\n    }\r\n  }\r\n} \r\n```\r\n(Please note that I used `mainCharacter` instead of `MC` here for better readability.)","title":"Collisions in processing","body":"<p>You are trying to call the method <code>enemies.crash(W)</code> but <code>enemies</code> is some collection of <code>Enemy</code> instances. <code>Enemy</code> does not provide the method <code>crash</code> as well.</p>\n<p>You have to loop for each of your enemies all of your weapons and call the method <code>crash</code> on the <code>Weapon</code> instance giving the current enemy, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Enemy enemy: enemies){\n  enemy.update();\n  if (mainCharacter.crash(enemy)) {\n    gameMode = Finish; \n  }\n  for (Weapons weapon: bullets) {\n    weapon.update();\n    if (weapon.crash(enemy)) {\n      gameMode = Finish;\n      // TODO: are you sure that killing an enemy finishes the game?\n    }\n  }\n} \n</code></pre>\n<p>(Please note that I used <code>mainCharacter</code> instead of <code>MC</code> here for better readability.)</p>\n"}],"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673284417,"creation_date":1672257775,"question_id":74944535,"body_markdown":"My game is a shooting game for school. I need help on the collision between my bullet and my enemy. I have placed the bullet class with my player but for some reason it keeps on passing through it and not disappearing. The first example below shows the weapon class which is for the bullet and the one underneath that is the main.\r\n\r\n```\r\nclass Weapons{\r\n  PImage bullet;\r\n  int speed; \r\n  int imageSize = 20;\r\n  float x = 20;\r\n  float y = 20;\r\n  float m;\r\n  int damage = 5;\r\n  int[] src = new int[2];\r\n  float[] dest = new float[2]; \r\n  \r\n\r\n  \r\n  \r\n  Weapons(int x, int y){\r\n    speed = 12;\r\n    dest[0] = mouseX;\r\n    dest[1] = mouseY;\r\n    src[0] = x;\r\n    src[1] = y;\r\n    m = (dest[1]-src[1]) / (dest[0]-src[0]);\r\n    this.x = x;\r\n    this.y = y;\r\n    bullet = loadImage(&quot;bullet.png&quot;);\r\n    bullet.resize(imageSize,imageSize);\r\n    \r\n  }\r\n  \r\n  boolean shooting(){\r\n    image(bullet, x, y); // if attack is true then renfer the image\r\n    x += speed;\r\n    y = (m * (x - dest[0])) + dest[1];\r\n    return (x &gt; width || y &gt; height);   \r\n    \r\n  }\r\n  \r\n  boolean crash(Enemy enemies) {\r\n  //// return the result of checking if the plane has crashed into the bird\r\n  return abs(this.x-enemies.x) &lt; bullet.width &amp;&amp; abs(this.y - enemies.y) &lt; bullet.height;\r\n  \r\n}\r\n  \r\n\r\n  \r\n  }\r\n```\r\n\r\n```\r\nMaincharacter MC;\r\nGoal G; \r\nArrayList&lt;Enemy&gt; enemies = new ArrayList&lt;&gt;();\r\nArrayList&lt;Weapons&gt; bullets = new ArrayList&lt;&gt;();\r\n\r\n\r\nfinal int Playing = 0; \r\nfinal int Finish = 1; \r\n\r\nint gameMode = Playing; \r\n\r\n\r\n//Enemy[] enemies = new Enemy[10];\r\n\r\nPImage background; // creating background \r\nint bgX = 0;\r\n\r\n\r\nvoid setup(){\r\n  size(800,500);\r\n  MC = new Maincharacter(100,3); \r\n  //E1 = new Enemy();\r\n  G = new Goal(100,20);\r\n  \r\n  background = loadImage(&quot;Battleground1.png&quot;);\r\n  background.resize(width*2,height); //set image to be same size as the canvas\r\n  \r\n  for(int i = 0; i&lt;2; i++){ // i represent how many enemy I want.\r\n    enemies.add(new Enemy((int)random(200,850), (int)random(0, height- 150) ) );\r\n  }\r\n\r\n\r\n//for(int i=0 ; i &lt; enemies.length ; i++){ \r\n//enemies[i] = new Enemy(); }\r\n\r\n}\r\n\r\n\r\nvoid draw(){\r\n  if(gameMode == Playing){\r\n    background();\r\n    MC.display(); \r\n    G.display();\r\n    \r\n    for(Enemy E : enemies){\r\n      E.update();\r\n      if (MC.crash(E)){\r\n        gameMode = Finish; \r\n    }\r\n    }\r\n    \r\n      for(Weapons W: bullets){\r\n      W.update();\r\n      if(enemies.crash(W)){ // doesnt exist\r\n        gameMode = Finish;\r\n      }\r\n }\r\n\r\n//  for(int i=0 ; i &lt; enemies.length ; i++){ \r\n//enemies[i].update(); }\r\n\r\n}}\r\n\r\n\r\nvoid keyPressed(){\r\n  // creating  the movemnt for my main charcter\r\n  MC.move();\r\n    if (keyCode == RIGHT || keyCode == 68 ){   \r\n      MC.x += 10; \r\n    } else if (keyCode == UP || keyCode == 87) {\r\n      MC.y -=10;\r\n    } else if (keyCode == LEFT || keyCode == 65){\r\n      MC.x -= 10;\r\n    } else if(keyCode == DOWN || keyCode == 83 ){\r\n      MC.y += 10;\r\n    } else if (keyCode == 32) { // space bar\r\n      MC.attack_function(); // call attack function to create bullet object\r\n    }// make an attack \r\n     \r\n  }\r\n  \r\n  \r\nvoid mousePressed(){ // when mouse is pressed call attack function to create bullet object\r\n  MC.attack_function();\r\n  \r\n}\r\n\r\n\r\n\r\n\r\nvoid background(){\r\n//scrolling background image\r\n  image(background, bgX, height/2); //draw image to fill the canvas\r\n  //draw image again off the right of the canvas\r\n  \r\n  image(background, bgX+background.width, height/2);    \r\n  \r\n  bgX -= 4;\r\n \r\n  if(bgX == -background.width ) //if first image completely off the canvas\r\n  {\r\n    bgX=0; //reset back to initial value background\r\n  }\r\n  \r\n}\r\n\r\n\r\n\r\n  \r\n  ```\r\n\r\n\r\n\r\n\r\nWhat I want is to have bullet colliding with the enemies and then disappearing. ","title":"Collisions in processing","body":"<p>My game is a shooting game for school. I need help on the collision between my bullet and my enemy. I have placed the bullet class with my player but for some reason it keeps on passing through it and not disappearing. The first example below shows the weapon class which is for the bullet and the one underneath that is the main.</p>\n<pre><code>class Weapons{\n  PImage bullet;\n  int speed; \n  int imageSize = 20;\n  float x = 20;\n  float y = 20;\n  float m;\n  int damage = 5;\n  int[] src = new int[2];\n  float[] dest = new float[2]; \n  \n\n  \n  \n  Weapons(int x, int y){\n    speed = 12;\n    dest[0] = mouseX;\n    dest[1] = mouseY;\n    src[0] = x;\n    src[1] = y;\n    m = (dest[1]-src[1]) / (dest[0]-src[0]);\n    this.x = x;\n    this.y = y;\n    bullet = loadImage(&quot;bullet.png&quot;);\n    bullet.resize(imageSize,imageSize);\n    \n  }\n  \n  boolean shooting(){\n    image(bullet, x, y); // if attack is true then renfer the image\n    x += speed;\n    y = (m * (x - dest[0])) + dest[1];\n    return (x &gt; width || y &gt; height);   \n    \n  }\n  \n  boolean crash(Enemy enemies) {\n  //// return the result of checking if the plane has crashed into the bird\n  return abs(this.x-enemies.x) &lt; bullet.width &amp;&amp; abs(this.y - enemies.y) &lt; bullet.height;\n  \n}\n  \n\n  \n  }\n</code></pre>\n<pre><code>Maincharacter MC;\nGoal G; \nArrayList&lt;Enemy&gt; enemies = new ArrayList&lt;&gt;();\nArrayList&lt;Weapons&gt; bullets = new ArrayList&lt;&gt;();\n\n\nfinal int Playing = 0; \nfinal int Finish = 1; \n\nint gameMode = Playing; \n\n\n//Enemy[] enemies = new Enemy[10];\n\nPImage background; // creating background \nint bgX = 0;\n\n\nvoid setup(){\n  size(800,500);\n  MC = new Maincharacter(100,3); \n  //E1 = new Enemy();\n  G = new Goal(100,20);\n  \n  background = loadImage(&quot;Battleground1.png&quot;);\n  background.resize(width*2,height); //set image to be same size as the canvas\n  \n  for(int i = 0; i&lt;2; i++){ // i represent how many enemy I want.\n    enemies.add(new Enemy((int)random(200,850), (int)random(0, height- 150) ) );\n  }\n\n\n//for(int i=0 ; i &lt; enemies.length ; i++){ \n//enemies[i] = new Enemy(); }\n\n}\n\n\nvoid draw(){\n  if(gameMode == Playing){\n    background();\n    MC.display(); \n    G.display();\n    \n    for(Enemy E : enemies){\n      E.update();\n      if (MC.crash(E)){\n        gameMode = Finish; \n    }\n    }\n    \n      for(Weapons W: bullets){\n      W.update();\n      if(enemies.crash(W)){ // doesnt exist\n        gameMode = Finish;\n      }\n }\n\n//  for(int i=0 ; i &lt; enemies.length ; i++){ \n//enemies[i].update(); }\n\n}}\n\n\nvoid keyPressed(){\n  // creating  the movemnt for my main charcter\n  MC.move();\n    if (keyCode == RIGHT || keyCode == 68 ){   \n      MC.x += 10; \n    } else if (keyCode == UP || keyCode == 87) {\n      MC.y -=10;\n    } else if (keyCode == LEFT || keyCode == 65){\n      MC.x -= 10;\n    } else if(keyCode == DOWN || keyCode == 83 ){\n      MC.y += 10;\n    } else if (keyCode == 32) { // space bar\n      MC.attack_function(); // call attack function to create bullet object\n    }// make an attack \n     \n  }\n  \n  \nvoid mousePressed(){ // when mouse is pressed call attack function to create bullet object\n  MC.attack_function();\n  \n}\n\n\n\n\nvoid background(){\n//scrolling background image\n  image(background, bgX, height/2); //draw image to fill the canvas\n  //draw image again off the right of the canvas\n  \n  image(background, bgX+background.width, height/2);    \n  \n  bgX -= 4;\n \n  if(bgX == -background.width ) //if first image completely off the canvas\n  {\n    bgX=0; //reset back to initial value background\n  }\n  \n}\n\n\n\n  \n</code></pre>\n<p>What I want is to have bullet colliding with the enemies and then disappearing.</p>\n"},{"tags":["java","android","android-recyclerview","mediastore"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673284451,"post_id":75060770,"comment_id":132459507,"body_markdown":"Well first tell what is your specific folder?","body":"Well first tell what is your specific folder?"},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673322965,"post_id":75060770,"comment_id":132467533,"body_markdown":"&quot;/Android/media/com.whatsapp/WhatsApp/Media/WhatsApp Documents&quot; this is my specific folder @blackapps","body":"&quot;/Android/media/com.whatsapp/WhatsApp/Media/WhatsApp Documents&quot; this is my specific folder @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673341223,"post_id":75060770,"comment_id":132471258,"body_markdown":"You posted an absolute path (starting with a /). That path does not exist on an Android device.","body":"You posted an absolute path (starting with a /). That path does not exist on an Android device."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673341361,"post_id":75060770,"comment_id":132471295,"body_markdown":"Does you code show the files from that folder now?","body":"Does you code show the files from that folder now?"},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673342844,"post_id":75060770,"comment_id":132471759,"body_markdown":"how could i define the path? for that specific folder, could you please show one example so that i can get some idea @blackapps","body":"how could i define the path? for that specific folder, could you please show one example so that i can get some idea @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673342952,"post_id":75060770,"comment_id":132471790,"body_markdown":"You posted your path wrong. Post the real path. And you did not tell if the files were listed now.","body":"You posted your path wrong. Post the real path. And you did not tell if the files were listed now."},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673344992,"post_id":75060770,"comment_id":132472453,"body_markdown":"ok, so what i want to do is to get all pdf and images from whatsapp document folder,but what my code do is getting all the files from internal storage but i want only to  gets pdf and images from whatsapp document @blackapps","body":"ok, so what i want to do is to get all pdf and images from whatsapp document folder,but what my code do is getting all the files from internal storage but i want only to  gets pdf and images from whatsapp document @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673346725,"post_id":75060770,"comment_id":132472952,"body_markdown":"So you get those files listed now too? I asked that before and i dont see a clear answer.","body":"So you get those files listed now too? I asked that before and i dont see a clear answer."},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673348453,"post_id":75060770,"comment_id":132473440,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251004/discussion-between-aisha-and-blackapps).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251004/discussion-between-aisha-and-blackapps\">continue this discussion in chat</a>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673355788,"post_id":75060770,"comment_id":132475914,"body_markdown":"No chat. Please answer","body":"No chat. Please answer"},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673367121,"post_id":75060770,"comment_id":132480317,"body_markdown":"@blackapps i don&#39;t think you can answer my question, and chat I had started because stack shows &quot;the message Please avoid extended discussions in comments. Would you like to automatically move this discussion to chat?&quot;","body":"@blackapps i don&#39;t think you can answer my question, and chat I had started because stack shows &quot;the message Please avoid extended discussions in comments. Would you like to automatically move this discussion to chat?&quot;"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673369668,"post_id":75060770,"comment_id":132481283,"body_markdown":"I understand. But now please first answer my simple question. And im sure i can help with your question after you gave me the required info.","body":"I understand. But now please first answer my simple question. And im sure i can help with your question after you gave me the required info."},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673372802,"post_id":75060770,"comment_id":132482368,"body_markdown":"So you get those files listed now too? yes @blackapps","body":"So you get those files listed now too? yes @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673373459,"post_id":75060770,"comment_id":132482586,"body_markdown":"You should use column .RELATIVE_PATH as selection parameter and the relative path of the files as selection argument.","body":"You should use column .RELATIVE_PATH as selection parameter and the relative path of the files as selection argument."},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673375389,"post_id":75060770,"comment_id":132483156,"body_markdown":"can you show me one example so that I could understand clearly  @blackapps","body":"can you show me one example so that I could understand clearly  @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673379674,"post_id":75060770,"comment_id":132484390,"body_markdown":"I will not do that as you added a `mediastore` tag. Click on it and read a couple of pages and you will see. Before you do that you could add to the code you already have such a column and print or log all relative path values. Then you know the value to select for.","body":"I will not do that as you added a <code>mediastore</code> tag. Click on it and read a couple of pages and you will see. Before you do that you could add to the code you already have such a column and print or log all relative path values. Then you know the value to select for."}],"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673284363,"creation_date":1673284363,"question_id":75060770,"body_markdown":"I am trying to list all the files from specific folder but I can&#39;t understand how to do that using media store, the code I have tried ,it list all the files from the internal storage, but I want to list all the files from specific folder not to list all files from internal storage.\r\nplease help out of this problem.\r\n\r\nhere is my code\r\n\r\n     Uri collection;\r\n            final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\r\n            final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;\r\n                    +&quot; OR &quot; + MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\r\n            final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\r\n            final String jpg = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;jpg&quot;);\r\n            final String[] selectionArgs = new String[]{mimeType,jpg};\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n            }else{\r\n                collection = MediaStore.Files.getContentUri(&quot;external&quot;);\r\n            }\r\n            try (Cursor cursor = getContext().getContentResolver().query(collection, null, selection, selectionArgs, sortOrder)) {\r\n                if ((cursor != null) &amp;&amp; (cursor.getCount() &gt; 0)) {\r\n                    if (cursor.moveToFirst()) {\r\n                        do {\r\n                            @SuppressLint(&quot;Range&quot;) String columnData = cursor.getString(cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA));\r\n                            @SuppressLint(&quot;Range&quot;) String columnName = cursor.getString(cursor.getColumnIndex(MediaStore.Files.FileColumns.DISPLAY_NAME));\r\n                            @SuppressLint(&quot;Range&quot;) Long date = Long.valueOf(cursor.getString(cursor.getColumnIndex(MediaStore.Files.FileColumns.DATE_MODIFIED)));\r\n                            ModalClass mediaFiles = new ModalClass();\r\n                            mediaFiles.setFileName(columnName);\r\n                            mediaFiles.setPath(columnData);\r\n                            mediaFiles.setDate(date);\r\n                            fileList.add(mediaFiles);\r\n                        } while (cursor.moveToNext());\r\n                    }\r\n                }","title":"how to list all files from specific directory using media store?","body":"<p>I am trying to list all the files from specific folder but I can't understand how to do that using media store, the code I have tried ,it list all the files from the internal storage, but I want to list all the files from specific folder not to list all files from internal storage.\nplease help out of this problem.</p>\n<p>here is my code</p>\n<pre><code> Uri collection;\n        final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\n        final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;\n                +&quot; OR &quot; + MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\n        final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\n        final String jpg = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;jpg&quot;);\n        final String[] selectionArgs = new String[]{mimeType,jpg};\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\n        }else{\n            collection = MediaStore.Files.getContentUri(&quot;external&quot;);\n        }\n        try (Cursor cursor = getContext().getContentResolver().query(collection, null, selection, selectionArgs, sortOrder)) {\n            if ((cursor != null) &amp;&amp; (cursor.getCount() &gt; 0)) {\n                if (cursor.moveToFirst()) {\n                    do {\n                        @SuppressLint(&quot;Range&quot;) String columnData = cursor.getString(cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA));\n                        @SuppressLint(&quot;Range&quot;) String columnName = cursor.getString(cursor.getColumnIndex(MediaStore.Files.FileColumns.DISPLAY_NAME));\n                        @SuppressLint(&quot;Range&quot;) Long date = Long.valueOf(cursor.getString(cursor.getColumnIndex(MediaStore.Files.FileColumns.DATE_MODIFIED)));\n                        ModalClass mediaFiles = new ModalClass();\n                        mediaFiles.setFileName(columnName);\n                        mediaFiles.setPath(columnData);\n                        mediaFiles.setDate(date);\n                        fileList.add(mediaFiles);\n                    } while (cursor.moveToNext());\n                }\n            }\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","model-view-controller"],"answers":[{"tags":[],"owner":{"account_id":479869,"reputation":5332,"user_id":892788,"accept_rate":90,"display_name":"diyoda_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444171905,"creation_date":1444171502,"answer_id":32981011,"question_id":32980948,"body_markdown":"`No` to my knowledge. According to your url end points,\r\n\r\nthey are,\r\n\r\n1. /com/prod1\r\n2. /com/prod2\r\n\r\nFor these you can have 2 controller methods for each of these. \r\n\r\nEDIT:\r\n\r\nIf I understand you correctly,\r\n\r\nInstead of having the above end points, write 2 controller methods for request mappings,\r\n\r\n1. com/add\r\n2. com/minus\r\n\r\nIf you want to have it in a more granular manner, then\r\n\r\n1. com/prod1/add\r\n2. com/prod1/minus\r\n3. com/prod2/add\r\n4. com/prod2/minus\r\n\r\nwrite request mapping methods for the above.\r\n\r\nThen you have,\r\n\r\nhttp://hostname:port/com/prod1/add?id=2\r\nhttp://hostname:port/com/prod1/minus?id=2\r\n\r\nhttp://hostname:port/com/prod2/add?id=2\r\nhttp://hostname:port/com/prod2/munus?id=2\r\n\r\n\r\nOr you can use another approach. which is, Just use the generic end points and depending on your request parameters, redirect to different request mappings such as,\r\n\r\n1. com/add\r\n2. com/minus\r\n\r\n\r\n","title":"Spring MVC request mapping based on url parameters","body":"<p><code>No</code> to my knowledge. According to your url end points,</p>\n\n<p>they are,</p>\n\n<ol>\n<li>/com/prod1</li>\n<li>/com/prod2</li>\n</ol>\n\n<p>For these you can have 2 controller methods for each of these. </p>\n\n<p>EDIT:</p>\n\n<p>If I understand you correctly,</p>\n\n<p>Instead of having the above end points, write 2 controller methods for request mappings,</p>\n\n<ol>\n<li>com/add</li>\n<li>com/minus</li>\n</ol>\n\n<p>If you want to have it in a more granular manner, then</p>\n\n<ol>\n<li>com/prod1/add</li>\n<li>com/prod1/minus</li>\n<li>com/prod2/add</li>\n<li>com/prod2/minus</li>\n</ol>\n\n<p>write request mapping methods for the above.</p>\n\n<p>Then you have,</p>\n\n<p><a href=\"http://hostname:port/com/prod1/add?id=2\" rel=\"nofollow\">http://hostname:port/com/prod1/add?id=2</a>\n<a href=\"http://hostname:port/com/prod1/minus?id=2\" rel=\"nofollow\">http://hostname:port/com/prod1/minus?id=2</a></p>\n\n<p><a href=\"http://hostname:port/com/prod2/add?id=2\" rel=\"nofollow\">http://hostname:port/com/prod2/add?id=2</a>\n<a href=\"http://hostname:port/com/prod2/munus?id=2\" rel=\"nofollow\">http://hostname:port/com/prod2/munus?id=2</a></p>\n\n<p>Or you can use another approach. which is, Just use the generic end points and depending on your request parameters, redirect to different request mappings such as,</p>\n\n<ol>\n<li>com/add</li>\n<li>com/minus</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7008474,"reputation":1596,"user_id":5372160,"display_name":"sh0rug0ru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444172716,"creation_date":1444172716,"answer_id":32981206,"question_id":32980948,"body_markdown":"You cannot have two `@RequestMapping` methods to map to two URLs differing only by query parameters. The `@RequestMapping` only binds to the path portion of the URL.\r\n\r\nYou can have two methods if you dispatch on the `action` value, calling one method for `add` and another for `minus`.\r\n\r\nOr, you can make `add` or `minus` a part of the URL path.","title":"Spring MVC request mapping based on url parameters","body":"<p>You cannot have two <code>@RequestMapping</code> methods to map to two URLs differing only by query parameters. The <code>@RequestMapping</code> only binds to the path portion of the URL.</p>\n\n<p>You can have two methods if you dispatch on the <code>action</code> value, calling one method for <code>add</code> and another for <code>minus</code>.</p>\n\n<p>Or, you can make <code>add</code> or <code>minus</code> a part of the URL path.</p>\n"},{"tags":[],"owner":{"account_id":1538545,"reputation":704,"user_id":1433838,"display_name":"Kirby"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1501963097,"creation_date":1501963097,"answer_id":45525887,"question_id":32980948,"body_markdown":"A couple years between question and answer, but **yes** it is possible to route based on query parameters with Spring MVC:\r\n\r\n    @RequestMapping(path = &quot;/com/{product}&quot;, params = &quot;add&quot;)\r\n    String add(@PathVariable(&quot;product&quot;) String product) {\r\n        System.out.println(&quot;add method; product=&quot; + product);\r\n        return &quot;add&quot;;\r\n    }\r\n\r\n    @RequestMapping(path = &quot;/com/{product}&quot;, params = &quot;minus&quot;)\r\n    String minus(@PathVariable(&quot;product&quot;) String product) {\r\n        System.out.println(&quot;minus method; product=&quot; + product);\r\n        return &quot;minus&quot;;\r\n    }\r\n\r\n\r\n","title":"Spring MVC request mapping based on url parameters","body":"<p>A couple years between question and answer, but <strong>yes</strong> it is possible to route based on query parameters with Spring MVC:</p>\n\n<pre><code>@RequestMapping(path = \"/com/{product}\", params = \"add\")\nString add(@PathVariable(\"product\") String product) {\n    System.out.println(\"add method; product=\" + product);\n    return \"add\";\n}\n\n@RequestMapping(path = \"/com/{product}\", params = \"minus\")\nString minus(@PathVariable(\"product\") String product) {\n    System.out.println(\"minus method; product=\" + product);\n    return \"minus\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19178780,"reputation":9,"user_id":14010962,"display_name":"Marcos Pereira"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673284337,"creation_date":1673284337,"answer_id":75060762,"question_id":32980948,"body_markdown":"It is possible with the following code:\r\n\r\n\r\n    @GetMapping(path = &quot;/com/{product}&quot;, params = &quot;action=add&quot;)\r\n    public String add(@PathVariable(&quot;product&quot;) String product) {\r\n        System.out.println(&quot;add method; product=&quot; + product);\r\n        return &quot;add&quot;;\r\n    }\r\n    \r\n    @GetMapping(path = &quot;/com/{product}&quot;, params = &quot;action=minus&quot;)\r\n    public String minus(@PathVariable(&quot;product&quot;) String product) {\r\n        System.out.println(&quot;minus method; product=&quot; + product);\r\n        return &quot;minus&quot;;\r\n    }","title":"Spring MVC request mapping based on url parameters","body":"<p>It is possible with the following code:</p>\n<pre><code>@GetMapping(path = &quot;/com/{product}&quot;, params = &quot;action=add&quot;)\npublic String add(@PathVariable(&quot;product&quot;) String product) {\n    System.out.println(&quot;add method; product=&quot; + product);\n    return &quot;add&quot;;\n}\n\n@GetMapping(path = &quot;/com/{product}&quot;, params = &quot;action=minus&quot;)\npublic String minus(@PathVariable(&quot;product&quot;) String product) {\n    System.out.println(&quot;minus method; product=&quot; + product);\n    return &quot;minus&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":4254480,"reputation":1409,"user_id":3480525,"accept_rate":69,"display_name":"Praveesh P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2966,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1673284337,"creation_date":1444171093,"question_id":32980948,"body_markdown":"Requirement is to write a controller to handle POST requests from the below urls:\r\n\r\n    http://hostname:port/com/prod1?id=2&amp;action=add\r\n    http://hostname:port/com/prod1?id=2&amp;action=minus\r\n    \r\n    http://hostname:port/com/prod2?id=2&amp;action=add\r\n    http://hostname:port/com/prod2?id=2&amp;action=minus\r\n\r\nCan I have two methods, one for mapping urls with action=add, and another for urls with action=minus? All the requests are POST.\r\n\r\n","title":"Spring MVC request mapping based on url parameters","body":"<p>Requirement is to write a controller to handle POST requests from the below urls:</p>\n\n<pre><code>http://hostname:port/com/prod1?id=2&amp;action=add\nhttp://hostname:port/com/prod1?id=2&amp;action=minus\n\nhttp://hostname:port/com/prod2?id=2&amp;action=add\nhttp://hostname:port/com/prod2?id=2&amp;action=minus\n</code></pre>\n\n<p>Can I have two methods, one for mapping urls with action=add, and another for urls with action=minus? All the requests are POST.</p>\n"},{"tags":["java","eclipse","google-app-engine","plugins"],"comments":[{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1671059202,"post_id":74802612,"comment_id":132018734,"body_markdown":"Have you checked if you managed to follow the steps in this link on [creating an application in GAE standard](https://cloud.google.com/eclipse/docs/creating-new-webapp)?","body":"Have you checked if you managed to follow the steps in this link on <a href=\"https://cloud.google.com/eclipse/docs/creating-new-webapp\" rel=\"nofollow noreferrer\">creating an application in GAE standard</a>?"},{"owner":{"account_id":12929907,"reputation":291,"user_id":9349267,"display_name":"Udhaya"},"score":0,"creation_date":1671089585,"post_id":74802612,"comment_id":132023598,"body_markdown":"Yes, I did @RobertG","body":"Yes, I did @RobertG"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1671107018,"post_id":74802612,"comment_id":132029171,"body_markdown":"Just to note that Eclipse 2022-12 won&#39;t actually run on Java 8, you are probably actually using the built-in Java 17 that is packaged with many Eclipse downloads.","body":"Just to note that Eclipse 2022-12 won&#39;t actually run on Java 8, you are probably actually using the built-in Java 17 that is packaged with many Eclipse downloads."},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1671492739,"post_id":74802612,"comment_id":132107256,"body_markdown":"Did the previous comment address your concern? If so, please post it as an answer so that it would be helpful for other community members with similar questions such as yours.","body":"Did the previous comment address your concern? If so, please post it as an answer so that it would be helpful for other community members with similar questions such as yours."},{"owner":{"account_id":12929907,"reputation":291,"user_id":9349267,"display_name":"Udhaya"},"score":0,"creation_date":1671901063,"post_id":74802612,"comment_id":132195071,"body_markdown":"@greg-449 I understand. The local server works fine with Java 8. I have already updated the installed JREs with eclipse.\nhttps://share.anysnap.app/fz6BjOnOTO89","body":"@greg-449 I understand. The local server works fine with Java 8. I have already updated the installed JREs with eclipse. <a href=\"https://share.anysnap.app/fz6BjOnOTO89\" rel=\"nofollow noreferrer\">share.anysnap.app/fz6BjOnOTO89</a>"}],"owner":{"account_id":12929907,"reputation":291,"user_id":9349267,"display_name":"Udhaya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673284172,"creation_date":1671041524,"question_id":74802612,"body_markdown":"- Cloud Tools for Eclipse version: 1.9.1.202211291623\r\n- Google Cloud SDK version: 411.0.0 (auto-managed)\r\n- Eclipse version: 4.26.0.v20221123-1800\r\n- OS: Mac OS X 13.0.1\r\n- Java version: 1.8.0_352\r\n\r\nI&#39;ve a *GAE project*. When I try to deploy, the deploy dialog with the list of GAE projects doesn&#39;t appear. I&#39;ve installed 03-2022 eclipse version and then installed Google Cloud Tools plugin. Then I updated the eclipse version to the latest i.e 12-2022. I&#39;ve also installed https://github.com/ianbrandt/m2e-maven-dependency-plugin\r\n\r\nI also tried to upgrade to 06-2022 &amp; 09-2022, but it doesn&#39;t work.\r\n\r\nI&#39;ve also raised the issue in google-cloud-eclipse.\r\nhttps://github.com/GoogleCloudPlatform/google-cloud-eclipse/issues/3703\r\n\r\nhttps://www.dropbox.com/s/i06xvbdrksue8c6/Deploy%20Eclipse.mov?dl=0","title":"Deploy to App Engine Standard dialog doesn&#39;t appear - Eclipse Version: 2022-12 (4.26.0)","body":"<ul>\n<li>Cloud Tools for Eclipse version: 1.9.1.202211291623</li>\n<li>Google Cloud SDK version: 411.0.0 (auto-managed)</li>\n<li>Eclipse version: 4.26.0.v20221123-1800</li>\n<li>OS: Mac OS X 13.0.1</li>\n<li>Java version: 1.8.0_352</li>\n</ul>\n<p>I've a <em>GAE project</em>. When I try to deploy, the deploy dialog with the list of GAE projects doesn't appear. I've installed 03-2022 eclipse version and then installed Google Cloud Tools plugin. Then I updated the eclipse version to the latest i.e 12-2022. I've also installed <a href=\"https://github.com/ianbrandt/m2e-maven-dependency-plugin\" rel=\"nofollow noreferrer\">https://github.com/ianbrandt/m2e-maven-dependency-plugin</a></p>\n<p>I also tried to upgrade to 06-2022 &amp; 09-2022, but it doesn't work.</p>\n<p>I've also raised the issue in google-cloud-eclipse.\n<a href=\"https://github.com/GoogleCloudPlatform/google-cloud-eclipse/issues/3703\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/google-cloud-eclipse/issues/3703</a></p>\n<p><a href=\"https://www.dropbox.com/s/i06xvbdrksue8c6/Deploy%20Eclipse.mov?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/i06xvbdrksue8c6/Deploy%20Eclipse.mov?dl=0</a></p>\n"},{"tags":["java","android","speech-recognition","speech-to-text"],"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673284071,"creation_date":1673284071,"question_id":75060703,"body_markdown":"I am working in Android Studio (Java) to try to create a certain app, and a part of what I need this app to do is as follows: When the user clicks on the screen, the app starts listening for speech. Then, when they click on the screen again, the app stops listening. In other words, I need it to be so that the speech recognition does not just stop after about a second of silence. Here is something that I tried (this is an excerpt of my code):\r\n\r\n```\r\nspeechRecognizer.setRecognitionListener(recognitionListener);\r\nButton startSpeech = findViewById(R.id.startSpeech);\r\nstartSpeech.setOnClickListener(new View.OnClickListener() {\r\n  @Override\r\n  public void onClick(View view) {\r\n    TextView textView = findViewById(R.id.spokenWords);\r\n    textView.setText(&quot;Listening&quot;);\r\n    Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n    intent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS, 10000);\r\n    speechRecognizer.startListening(intent);\r\n\r\n  }\r\n});\r\n```\r\nDoing this does actually allow me to lengthen the time that the speech recognition service runs. Using the parameter of 10000 milliseconds, the recognition runs for a minimum of 10 seconds and then stops. However, I&#39;ve run into a problem with this:\r\n\r\nIf I make the milliseconds parameter too high, then all of a sudden the recognition does not last any longer than a second of silence. For example, when I changed the parameter to 3600000 milliseconds (an hour) and then ran the app, I turned on the speech recognition and then stayed silent. In response to my silence, the speech recognition stopped after about a second of silence (nowhere near an hour). This is unlike when the parameter was 10000 milliseconds where I could remain silent and the recognition still would not stop until at least 10 seconds have passed. Why is this? Is there perhaps a maximum for the EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS constant? If so, what is that maximum?\r\n\r\nMoreover, is there any way to just make the recognition run indefinitely so that I don&#39;t have to worry about a maximum? Thank you.\r\n ","title":"Android Java: Is there a way to to make the runtime for SpeechRecognizer.startListening() indefinite?","body":"<p>I am working in Android Studio (Java) to try to create a certain app, and a part of what I need this app to do is as follows: When the user clicks on the screen, the app starts listening for speech. Then, when they click on the screen again, the app stops listening. In other words, I need it to be so that the speech recognition does not just stop after about a second of silence. Here is something that I tried (this is an excerpt of my code):</p>\n<pre><code>speechRecognizer.setRecognitionListener(recognitionListener);\nButton startSpeech = findViewById(R.id.startSpeech);\nstartSpeech.setOnClickListener(new View.OnClickListener() {\n  @Override\n  public void onClick(View view) {\n    TextView textView = findViewById(R.id.spokenWords);\n    textView.setText(&quot;Listening&quot;);\n    Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n    intent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS, 10000);\n    speechRecognizer.startListening(intent);\n\n  }\n});\n</code></pre>\n<p>Doing this does actually allow me to lengthen the time that the speech recognition service runs. Using the parameter of 10000 milliseconds, the recognition runs for a minimum of 10 seconds and then stops. However, I've run into a problem with this:</p>\n<p>If I make the milliseconds parameter too high, then all of a sudden the recognition does not last any longer than a second of silence. For example, when I changed the parameter to 3600000 milliseconds (an hour) and then ran the app, I turned on the speech recognition and then stayed silent. In response to my silence, the speech recognition stopped after about a second of silence (nowhere near an hour). This is unlike when the parameter was 10000 milliseconds where I could remain silent and the recognition still would not stop until at least 10 seconds have passed. Why is this? Is there perhaps a maximum for the EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS constant? If so, what is that maximum?</p>\n<p>Moreover, is there any way to just make the recognition run indefinitely so that I don't have to worry about a maximum? Thank you.</p>\n"},{"tags":["java","html-to-pdf","openhtmltopdf"],"comments":[{"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"score":3,"creation_date":1537267148,"post_id":52384688,"comment_id":91713321,"body_markdown":"Can it be a font issue?","body":"Can it be a font issue?"},{"owner":{"account_id":6177253,"reputation":3097,"user_id":4813777,"display_name":"Taras Melnyk"},"score":0,"creation_date":1537267736,"post_id":52384688,"comment_id":91713654,"body_markdown":"Yes, maybe. I&#39;ve found a similar problem there: https://github.com/danfickle/openhtmltopdf/issues/70 \n\n\nBut I don&#39;t use any font for this text.","body":"Yes, maybe. I&#39;ve found a similar problem there: <a href=\"https://github.com/danfickle/openhtmltopdf/issues/70\" rel=\"nofollow noreferrer\">github.com/danfickle/openhtmltopdf/issues/70</a>    But I don&#39;t use any font for this text."},{"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"score":0,"creation_date":1537268100,"post_id":52384688,"comment_id":91713897,"body_markdown":"Can you please try to explicitly define a Unicode font in the CSS, like suggested here: https://github.com/danfickle/openhtmltopdf/issues/20#issuecomment-210754469 ?","body":"Can you please try to explicitly define a Unicode font in the CSS, like suggested here: <a href=\"https://github.com/danfickle/openhtmltopdf/issues/20#issuecomment-210754469\" rel=\"nofollow noreferrer\">github.com/danfickle/openhtmltopdf/issues/&hellip;</a> ?"},{"owner":{"account_id":6177253,"reputation":3097,"user_id":4813777,"display_name":"Taras Melnyk"},"score":0,"creation_date":1537349212,"post_id":52384688,"comment_id":91748786,"body_markdown":"I have ocrb10 font in my html template.\n@font-face {\n            font-family: ocrb10;\n            src: url(&#39;${host}/ocrb10.ttf&#39;)\n        }\n I&#39;ve tried to add &#39;unicode-range: U+?????;&#39; to this font-face but it doesn&#39;t work\n\nI can not find ocrb10 font in Unicode.","body":"I have ocrb10 font in my html template. @font-face {             font-family: ocrb10;             src: url(&#39;${host}/ocrb10.ttf&#39;)         }  I&#39;ve tried to add &#39;unicode-range: U+?????;&#39; to this font-face but it doesn&#39;t work  I can not find ocrb10 font in Unicode."},{"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"score":0,"creation_date":1652800415,"post_id":52384688,"comment_id":127691378,"body_markdown":"What was the solution in the end?","body":"What was the solution in the end?"},{"owner":{"account_id":6177253,"reputation":3097,"user_id":4813777,"display_name":"Taras Melnyk"},"score":0,"creation_date":1652863131,"post_id":52384688,"comment_id":127706868,"body_markdown":"@ndtreviv the problem has not solved yet","body":"@ndtreviv the problem has not solved yet"}],"answers":[{"tags":[],"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652887673,"creation_date":1652887047,"answer_id":72291826,"question_id":52384688,"body_markdown":"In case it helps, we&#39;re using `com.openhtmltopdf:openhtmltopdf-pdfbox:1.0.10` and have found a way that works:\r\n\r\n```\r\n        new PdfRendererBuilder()\r\n                .useFastMode()\r\n                .useFont(new File(main.class.getClassLoader().getResource(&quot;arial-unicode-ms.ttf&quot;).getFile()), &quot;Arial Unicode MS&quot;)\r\n                .withW3cDocument(new W3CDom().fromJsoup(Jsoup.parse(html)), null)\r\n                .toStream(os)\r\n                .run();\r\n\r\n```\r\n\r\nIn the html we have a `&lt;style&gt;` element that declares some css for the page, in particular:\r\n\r\n```\r\n    font-family: &quot;Arial Unicode MS&quot;;\r\n```\r\n\r\nUnicode characters then display as they should.","title":"Unicode character Issue - openhtmltopdf library","body":"<p>In case it helps, we're using <code>com.openhtmltopdf:openhtmltopdf-pdfbox:1.0.10</code> and have found a way that works:</p>\n<pre><code>        new PdfRendererBuilder()\n                .useFastMode()\n                .useFont(new File(main.class.getClassLoader().getResource(&quot;arial-unicode-ms.ttf&quot;).getFile()), &quot;Arial Unicode MS&quot;)\n                .withW3cDocument(new W3CDom().fromJsoup(Jsoup.parse(html)), null)\n                .toStream(os)\n                .run();\n\n</code></pre>\n<p>In the html we have a <code>&lt;style&gt;</code> element that declares some css for the page, in particular:</p>\n<pre><code>    font-family: &quot;Arial Unicode MS&quot;;\n</code></pre>\n<p>Unicode characters then display as they should.</p>\n"},{"tags":[],"owner":{"account_id":13103863,"reputation":31,"user_id":9467338,"display_name":"Alper Karaağa&#231;lı"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673283078,"creation_date":1673283078,"answer_id":75060502,"question_id":52384688,"body_markdown":"I am using openhtmltopdf library. I had character problem too. Turkish characters looks like (İ&#214;Ğ -&gt; ###).\r\nPeople already say its about font problem. \r\n\r\nI add useFont method like this and download tff file in resource/fonts/\r\n\r\n\r\n    PdfRendererBuilder builder = new PdfRendererBuilder();\r\n    builder.useFont(new File(Main.class.getClassLoader().getResource(&quot;fonts/ARIAL.TTF&quot;).getFile()), &quot;Arial&quot;);","title":"Unicode character Issue - openhtmltopdf library","body":"<p>I am using openhtmltopdf library. I had character problem too. Turkish characters looks like (İÖĞ -&gt; ###).\nPeople already say its about font problem.</p>\n<p>I add useFont method like this and download tff file in resource/fonts/</p>\n<pre><code>PdfRendererBuilder builder = new PdfRendererBuilder();\nbuilder.useFont(new File(Main.class.getClassLoader().getResource(&quot;fonts/ARIAL.TTF&quot;).getFile()), &quot;Arial&quot;);\n</code></pre>\n"}],"owner":{"account_id":6177253,"reputation":3097,"user_id":4813777,"display_name":"Taras Melnyk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3152,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673283078,"creation_date":1537267020,"question_id":52384688,"body_markdown":"I use [openhtmltopdf][1] library (version: 0.0.1-RC15). I have a problem with unicode characters. In PDF file I see &quot;#&quot; symbols instead of &quot;ă&quot; and &quot;ș&quot;.\r\nHow I can fix it? Thank you.\r\n\r\n\r\n  [1]: https://github.com/danfickle/openhtmltopdf","title":"Unicode character Issue - openhtmltopdf library","body":"<p>I use <a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"nofollow noreferrer\">openhtmltopdf</a> library (version: 0.0.1-RC15). I have a problem with unicode characters. In PDF file I see \"#\" symbols instead of \"ă\" and \"ș\".\nHow I can fix it? Thank you.</p>\n"},{"tags":["java","generics","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672934357,"creation_date":1672934357,"answer_id":75021196,"question_id":75021036,"body_markdown":"I guess there&#39;s no real universal answer to this question.\r\n\r\nOne could argue that every time you use `Object` in Java, it&#39;s already somewhat bad since you haven&#39;t defined a proper `Object` containing all of the stuff you need, on the other hand, I really know how much of an annoyance this can be, therefore I try to stick to data structures already available, mainly `Maps`.\r\n\r\nThe main problem is that your method(s) calling the method returning an `Object` need to cast the results anyway - without the knowledge of what this function does, it&#39;s hard to give any real advice here. \r\n\r\nTherefore my approach would be to look at what exactly are we returning and what these objects actually contain. \r\n\r\nI guess the even easier way would be to define a `List&lt;List&lt;String&gt;&gt;` on your `ObjectA` and just check of the existence of that list and modify your other method accordingly, if that does make any sense in the context of `ObjectA` and your methods. \r\n\r\nOther than that, I&#39;d probably go with a `Map&lt;String,Object&gt;` or even `Map&lt;?,Object&gt;`. \r\n\r\n","title":"Make a java method return different objects in one single call","body":"<p>I guess there's no real universal answer to this question.</p>\n<p>One could argue that every time you use <code>Object</code> in Java, it's already somewhat bad since you haven't defined a proper <code>Object</code> containing all of the stuff you need, on the other hand, I really know how much of an annoyance this can be, therefore I try to stick to data structures already available, mainly <code>Maps</code>.</p>\n<p>The main problem is that your method(s) calling the method returning an <code>Object</code> need to cast the results anyway - without the knowledge of what this function does, it's hard to give any real advice here.</p>\n<p>Therefore my approach would be to look at what exactly are we returning and what these objects actually contain.</p>\n<p>I guess the even easier way would be to define a <code>List&lt;List&lt;String&gt;&gt;</code> on your <code>ObjectA</code> and just check of the existence of that list and modify your other method accordingly, if that does make any sense in the context of <code>ObjectA</code> and your methods.</p>\n<p>Other than that, I'd probably go with a <code>Map&lt;String,Object&gt;</code> or even <code>Map&lt;?,Object&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673282311,"creation_date":1672934833,"answer_id":75021302,"question_id":75021036,"body_markdown":"With Java 14+, we have the possibility to use [Records (JEP 395, `openjdk.org`)][jep395]. Without knowing anything of the semantics, I will demonstrate the usage with a generic `record Pair`, but we can of course always find more descriptive names.\r\n\r\nWe define a generic `Pair` of generic types `T` and `U`:\r\n\r\n    record Pair&lt;T, U&gt; (T first, U second) {}\r\n\r\nAnd a dummy-implementation of `ObjectA`:\r\n\r\n    class ObjectA {\r\n      private final String name;\r\n    \r\n      public ObjectA(String name) {\r\n        this.name = name;\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        return &quot;ObjectA{&quot; +\r\n            &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n            &#39;}&#39;;\r\n      }\r\n    }\r\n\r\nWe can then implement our method like this:\r\n\r\n    public static Pair&lt;List&lt;ObjectA&gt;, List&lt;List&lt;String&gt;&gt;&gt; foo() {\r\n      return new Pair&lt;&gt;(\r\n          List.of(new ObjectA(&quot;one&quot;), new ObjectA(&quot;two&quot;)),\r\n          List.of(\r\n              List.of(&quot;three&quot;, &quot;four&quot;),\r\n              List.of(&quot;five&quot;, &quot;six&quot;),\r\n              List.of(&quot;seven&quot;, &quot;eight&quot;)));\r\n    }\r\n\r\nAnd call it like this:\r\n\r\n    var fooResult = foo();\r\n    System.out.println(fooResult.first()); // prints the List&lt;ObjectA&gt;\r\n    System.out.println(fooResult.second()); // prints the List&lt;List&lt;String&gt;&gt;\r\n    System.out.println(fooResult);\r\n\r\nThis would produce the following output:\r\n\r\n    [ObjectA{name=&#39;one&#39;}, ObjectA{name=&#39;two&#39;}]\r\n    [[three, four], [five, six], [seven, eight]]\r\n    Pair[first=[ObjectA{name=&#39;one&#39;}, ObjectA{name=&#39;two&#39;}], second=[[three, four], [five, six], [seven, eight]]]\r\n\r\n(Sorry, no `Ideone.com` demo, Ideone does not support Java 14+, only Java 12)\r\n\r\n[jep395]: https://openjdk.org/jeps/395","title":"Make a java method return different objects in one single call","body":"<p>With Java 14+, we have the possibility to use <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">Records (JEP 395, <code>openjdk.org</code>)</a>. Without knowing anything of the semantics, I will demonstrate the usage with a generic <code>record Pair</code>, but we can of course always find more descriptive names.</p>\n<p>We define a generic <code>Pair</code> of generic types <code>T</code> and <code>U</code>:</p>\n<pre><code>record Pair&lt;T, U&gt; (T first, U second) {}\n</code></pre>\n<p>And a dummy-implementation of <code>ObjectA</code>:</p>\n<pre><code>class ObjectA {\n  private final String name;\n\n  public ObjectA(String name) {\n    this.name = name;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;ObjectA{&quot; +\n        &quot;name='&quot; + name + '\\'' +\n        '}';\n  }\n}\n</code></pre>\n<p>We can then implement our method like this:</p>\n<pre><code>public static Pair&lt;List&lt;ObjectA&gt;, List&lt;List&lt;String&gt;&gt;&gt; foo() {\n  return new Pair&lt;&gt;(\n      List.of(new ObjectA(&quot;one&quot;), new ObjectA(&quot;two&quot;)),\n      List.of(\n          List.of(&quot;three&quot;, &quot;four&quot;),\n          List.of(&quot;five&quot;, &quot;six&quot;),\n          List.of(&quot;seven&quot;, &quot;eight&quot;)));\n}\n</code></pre>\n<p>And call it like this:</p>\n<pre><code>var fooResult = foo();\nSystem.out.println(fooResult.first()); // prints the List&lt;ObjectA&gt;\nSystem.out.println(fooResult.second()); // prints the List&lt;List&lt;String&gt;&gt;\nSystem.out.println(fooResult);\n</code></pre>\n<p>This would produce the following output:</p>\n<pre><code>[ObjectA{name='one'}, ObjectA{name='two'}]\n[[three, four], [five, six], [seven, eight]]\nPair[first=[ObjectA{name='one'}, ObjectA{name='two'}], second=[[three, four], [five, six], [seven, eight]]]\n</code></pre>\n<p>(Sorry, no <code>Ideone.com</code> demo, Ideone does not support Java 14+, only Java 12)</p>\n"},{"tags":[],"owner":{"account_id":22019476,"reputation":41,"user_id":16288509,"display_name":"Pirooz Azar Abad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672936080,"creation_date":1672935493,"answer_id":75021444,"question_id":75021036,"body_markdown":"If I understood your question correctly,\r\nyou should create a class with two fields `List&lt;ObjectA&gt;` and `List&lt;List&lt;String&gt;&gt;`\r\nas a model class. after filling the object with the required data, return it as a return type.\r\n&lt;br&gt;\r\nThe model class sample : \r\n&lt;br&gt;\r\n\r\n    public class TestModel{\r\n      private ObjectA objectA;\r\n      private List&lt;List&lt;String&gt;&gt; listOfStrings ; \r\n    }\r\n\r\nYour method will be : \r\n\r\n    public TestModel doSomething(....){\r\n\r\n    //do something\r\n    ...\r\n\r\n    //in the end\r\n    TestModel testModel = new TestModel();\r\n    testModel.setObjectA(objectA);\r\n    testModel.setListOfStrings(listOfStrings);\r\n    return testModel;\r\n    }","title":"Make a java method return different objects in one single call","body":"<p>If I understood your question correctly,\nyou should create a class with two fields <code>List&lt;ObjectA&gt;</code> and <code>List&lt;List&lt;String&gt;&gt;</code>\nas a model class. after filling the object with the required data, return it as a return type.\n<br>\nThe model class sample :\n<br></p>\n<pre><code>public class TestModel{\n  private ObjectA objectA;\n  private List&lt;List&lt;String&gt;&gt; listOfStrings ; \n}\n</code></pre>\n<p>Your method will be :</p>\n<pre><code>public TestModel doSomething(....){\n\n//do something\n...\n\n//in the end\nTestModel testModel = new TestModel();\ntestModel.setObjectA(objectA);\ntestModel.setListOfStrings(listOfStrings);\nreturn testModel;\n}\n</code></pre>\n"}],"owner":{"account_id":9754626,"reputation":3,"user_id":7231788,"display_name":"Sainadh Makeneni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75021302,"answer_count":3,"score":0,"last_activity_date":1673282311,"creation_date":1672933666,"question_id":75021036,"body_markdown":"I have a java method which has to return both `List&lt;ObjectA&gt;` and a `List&lt;List&lt;String&gt;&gt;` for each and every call made to it.\r\n\r\nOne way I can think of achieving this is by returning `Map&lt;String, Object&gt;` where string will be key and object will be my lists. \r\nBut I think returning a Map is not an elegant way of doing so in my scenario. Any help with this?","title":"Make a java method return different objects in one single call","body":"<p>I have a java method which has to return both <code>List&lt;ObjectA&gt;</code> and a <code>List&lt;List&lt;String&gt;&gt;</code> for each and every call made to it.</p>\n<p>One way I can think of achieving this is by returning <code>Map&lt;String, Object&gt;</code> where string will be key and object will be my lists.\nBut I think returning a Map is not an elegant way of doing so in my scenario. Any help with this?</p>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":3721300,"reputation":669,"user_id":3096310,"display_name":"bhowden"},"score":0,"creation_date":1403634595,"post_id":24393684,"comment_id":37730695,"body_markdown":"check if the servlet dependency is being downloaded. Try downloading all the dependencies into a separate folder with `mvn dependency:copy-dependencies -Dclassifer=directory` and see if they all make it","body":"check if the servlet dependency is being downloaded. Try downloading all the dependencies into a separate folder with <code>mvn dependency:copy-dependencies -Dclassifer=directory</code> and see if they all make it"}],"answers":[{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673280198,"creation_date":1403634717,"answer_id":24393830,"question_id":24393684,"body_markdown":"Class is not found at runtime, but it is available at compile time. You need to add the corresponding JAR file so that it can be found at runtime. I generally use Ivy and in Eclipse I do:\r\n\r\nMenu *Project* &amp;rarr; *Properties* &amp;rarr; *Deployment Assembly* &amp;rarr; *Add* &amp;rarr; *Java Build Path Entries* &amp;rarr; *Ivy* &amp;rarr; *Finish*\r\n\r\nThere must be something similar for Maven as well.\r\n\r\nAlso you need `javax.servlet-api` only during compile time as the container you are using to run the server will provide the actual APIs at runtime.\r\n\r\n\r\n\r\n","title":"Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: javax/servlet/ServletContext","body":"<p>Class is not found at runtime, but it is available at compile time. You need to add the corresponding JAR file so that it can be found at runtime. I generally use Ivy and in Eclipse I do:</p>\n<p>Menu <em>Project</em> → <em>Properties</em> → <em>Deployment Assembly</em> → <em>Add</em> → <em>Java Build Path Entries</em> → <em>Ivy</em> → <em>Finish</em></p>\n<p>There must be something similar for Maven as well.</p>\n<p>Also you need <code>javax.servlet-api</code> only during compile time as the container you are using to run the server will provide the actual APIs at runtime.</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1673281921,"creation_date":1403636555,"answer_id":24394329,"question_id":24393684,"body_markdown":"It is a common issue. As [Aniket Thakur said][1], the container will provide all [Java Servlet][2] classes at runtime. But during the tests you **need** a JAR file to provide them.\r\n\r\nThe dependency you added to your POM is only the API: it declares everything but contains no implementation. So it will not help. Anyway, you declare it as &quot;provided&quot; which says to Maven &quot;don&#39;t worry, I know it will be on classpath&quot;.\r\n\r\nYou have to add a dependency that bring the implementation of all [Java EE][3] classes in `test` scope. In my projects I use [GlassFish][4] even if I later use [Tomcat][5] as a Servlet container, but I once found the dependency googling for the same problem:\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIt should solve your `NoClassDefFoundError` problem.\r\n\r\n  [1]: https://stackoverflow.com/questions/24393684/constructor-threw-exception-nested-exception-is-java-lang-noclassdeffounderror/24393830#24393830\r\n  [2]: https://en.wikipedia.org/wiki/Jakarta_Servlet\r\n  [3]: https://en.wikipedia.org/wiki/Jakarta_EE\r\n  [4]: https://en.wikipedia.org/wiki/GlassFish\r\n  [5]: https://en.wikipedia.org/wiki/Apache_Tomcat\r\n","title":"Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: javax/servlet/ServletContext","body":"<p>It is a common issue. As <a href=\"https://stackoverflow.com/questions/24393684/constructor-threw-exception-nested-exception-is-java-lang-noclassdeffounderror/24393830#24393830\">Aniket Thakur said</a>, the container will provide all <a href=\"https://en.wikipedia.org/wiki/Jakarta_Servlet\" rel=\"nofollow noreferrer\">Java Servlet</a> classes at runtime. But during the tests you <strong>need</strong> a JAR file to provide them.</p>\n<p>The dependency you added to your POM is only the API: it declares everything but contains no implementation. So it will not help. Anyway, you declare it as &quot;provided&quot; which says to Maven &quot;don't worry, I know it will be on classpath&quot;.</p>\n<p>You have to add a dependency that bring the implementation of all <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">Java EE</a> classes in <code>test</code> scope. In my projects I use <a href=\"https://en.wikipedia.org/wiki/GlassFish\" rel=\"nofollow noreferrer\">GlassFish</a> even if I later use <a href=\"https://en.wikipedia.org/wiki/Apache_Tomcat\" rel=\"nofollow noreferrer\">Tomcat</a> as a Servlet container, but I once found the dependency googling for the same problem:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\n    &lt;version&gt;3.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It should solve your <code>NoClassDefFoundError</code> problem.</p>\n"}],"owner":{"account_id":2280156,"reputation":970,"user_id":2005443,"accept_rate":14,"display_name":"Jaxox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20172,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1673281921,"creation_date":1403634242,"question_id":24393684,"body_markdown":"I am trying to set up the JUnit test with the MockMVC.\r\n\r\nFrom [this link][1] - &quot;either must not use the Servlet API or you need to provide it on the classpath&quot;.\r\n\r\nI added the following to file *pom.xml*, but it didn&#39;t work. What should I do?\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHere is the trace:\r\n\r\n```lang-none\r\norg.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.test.context.web.WebDelegatingSmartContextLoader]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: javax/servlet/ServletContext\r\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\r\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:105)\r\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:130)\r\n    at org.springframework.test.context.ContextLoaderUtils.resolveContextLoader(ContextLoaderUtils.java:118)\r\n    at org.springframework.test.context.ContextLoaderUtils.buildMergedContextConfiguration(ContextLoaderUtils.java:594)\r\n    at org.springframework.test.context.ContextLoaderUtils.buildMergedContextConfiguration(ContextLoaderUtils.java:560)\r\n    at org.springframework.test.context.TestContext.&lt;init&gt;(TestContext.java:99)\r\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:117)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTestContextManager(SpringJUnit4ClassRunner.java:119)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:108)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:31)\r\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:24)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\r\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:29)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\r\n    at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:24)\r\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:63)\r\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/ServletContext\r\n    at org.springframework.test.context.web.WebDelegatingSmartContextLoader.&lt;init&gt;(WebDelegatingSmartContextLoader.java:36)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148)\r\n    ... 22 more\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletContext\r\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    ... 28 more`enter code here`\r\n```\r\n\r\n&lt;hr/&gt;\r\n\r\nBased on the comments, I changed the scope to compile, and then it seems past the issue of class not found!\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n  [1]: http://forum.spring.io/forum/spring-projects/integration/125805-unit-testing-with-spring-integration\r\n\r\n\r\n","title":"Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: javax/servlet/ServletContext","body":"<p>I am trying to set up the JUnit test with the MockMVC.</p>\n<p>From <a href=\"http://forum.spring.io/forum/spring-projects/integration/125805-unit-testing-with-spring-integration\" rel=\"nofollow noreferrer\">this link</a> - &quot;either must not use the Servlet API or you need to provide it on the classpath&quot;.</p>\n<p>I added the following to file <em>pom.xml</em>, but it didn't work. What should I do?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the trace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.test.context.web.WebDelegatingSmartContextLoader]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: javax/servlet/ServletContext\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:105)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:130)\n    at org.springframework.test.context.ContextLoaderUtils.resolveContextLoader(ContextLoaderUtils.java:118)\n    at org.springframework.test.context.ContextLoaderUtils.buildMergedContextConfiguration(ContextLoaderUtils.java:594)\n    at org.springframework.test.context.ContextLoaderUtils.buildMergedContextConfiguration(ContextLoaderUtils.java:560)\n    at org.springframework.test.context.TestContext.&lt;init&gt;(TestContext.java:99)\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:117)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTestContextManager(SpringJUnit4ClassRunner.java:119)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:108)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:31)\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:24)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:29)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\n    at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:24)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:63)\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/ServletContext\n    at org.springframework.test.context.web.WebDelegatingSmartContextLoader.&lt;init&gt;(WebDelegatingSmartContextLoader.java:36)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148)\n    ... 22 more\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletContext\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 28 more`enter code here`\n</code></pre>\n<hr/>\n<p>Based on the comments, I changed the scope to compile, and then it seems past the issue of class not found!</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","json","spring-boot","httpresponse","response-entity"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673281737,"post_id":75060206,"comment_id":132458547,"body_markdown":"Don&#39;t set it. The serializing stuff will do that if needed. Currently you prbably break it yourself by providingthe content-length (wrongly) which leads to the cut-off.","body":"Don&#39;t set it. The serializing stuff will do that if needed. Currently you prbably break it yourself by providingthe content-length (wrongly) which leads to the cut-off."},{"owner":{"account_id":19654229,"reputation":43,"user_id":14387256,"display_name":"adamB"},"score":0,"creation_date":1673285317,"post_id":75060206,"comment_id":132459829,"body_markdown":"Do you have any links you could share that show this? M.Deinum","body":"Do you have any links you could share that show this? M.Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673331203,"post_id":75060206,"comment_id":132468721,"body_markdown":"That show what?","body":"That show what?"}],"owner":{"account_id":19654229,"reputation":43,"user_id":14387256,"display_name":"adamB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673281635,"creation_date":1673281635,"question_id":75060206,"body_markdown":"I&#39;m trying to set the content length of my ResponseEntity&lt;List&lt;Object&gt;&gt; but the full list isn&#39;t returned in the response. I tried something like\r\n\r\n   \r\n\r\n        long contentLength = staticMethodGetsContentLength(List&lt;Object&gt; objectList);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;Content-Length&quot;, String.valueOf(contentLength));\r\n        return Response.ok().headers(headers).body(objectList);\r\n\r\nand then what is returned is a JSON list like \r\n\r\n**[\r\n   { \r\n    &quot;data&quot;: &quot;data&quot;**\r\n\r\nwithout closing brackets or the full list of objects. Is there an easy fix for this or an alternative to what I&#39;m doing?\r\n\r\n\r\n\r\n","title":"How do I return Http Response Content Length for ResponseEntity&lt;List&lt;Object&gt;&gt; without formatting issues or losing data from my response body?","body":"<p>I'm trying to set the content length of my ResponseEntity&lt;List&gt; but the full list isn't returned in the response. I tried something like</p>\n<pre><code>    long contentLength = staticMethodGetsContentLength(List&lt;Object&gt; objectList);\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Content-Length&quot;, String.valueOf(contentLength));\n    return Response.ok().headers(headers).body(objectList);\n</code></pre>\n<p>and then what is returned is a JSON list like</p>\n<p><strong>[\n{\n&quot;data&quot;: &quot;data&quot;</strong></p>\n<p>without closing brackets or the full list of objects. Is there an easy fix for this or an alternative to what I'm doing?</p>\n"},{"tags":["java","matrix","arraylist"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":2,"creation_date":1673280114,"post_id":75059886,"comment_id":132457918,"body_markdown":"What is the error?  `N` is not declared. Also it should be `n`","body":"What is the error?  <code>N</code> is not declared. Also it should be <code>n</code>"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1673280309,"post_id":75059886,"comment_id":132458001,"body_markdown":"Initializing a static variable (that therefor doesn&#39;t belong to any object) inside a constructor that creates an object looks like a code smell to me. Apart from that your problem is that Arrays need to be a specific size, so `N` needs to be a variable that at the time of the constructor has a specific numeric value (like `int N = 10;` for example). Initializing an Array undefined dimensions isn&#39;t possible.","body":"Initializing a static variable (that therefor doesn&#39;t belong to any object) inside a constructor that creates an object looks like a code smell to me. Apart from that your problem is that Arrays need to be a specific size, so <code>N</code> needs to be a variable that at the time of the constructor has a specific numeric value (like <code>int N = 10;</code> for example). Initializing an Array undefined dimensions isn&#39;t possible."},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":2,"creation_date":1673281677,"post_id":75059886,"comment_id":132458533,"body_markdown":"What is the error? `N` is now declared but not instantiated (set to a value). Also it should be `n`","body":"What is the error? <code>N</code> is now declared but not instantiated (set to a value). Also it should be <code>n</code>"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673280729,"creation_date":1673280729,"answer_id":75060047,"question_id":75059886,"body_markdown":"You cannot initialize a multi-dimensional array in one go in Java. First you have to initialize the outer dimension and then in a loop the inner dimension. This is because the inner dimension is not of a fixed size, you could have arrays of various lengths as inner dimension(s).\r\n\r\nAlso please don&#39;t mix generics and arrays in the way you did in your example, bad confusion is likely to happen.\r\n\r\nAnd don&#39;t initialize static variables in the constructor, this should be either done in the declaration or in a static initialization block.\r\n\r\nOne of the ways to initialize a multi-dimensional array could be:\r\n``` lang-java\r\nInteger[][] matrix = new Integer[42][];\r\njava.util.Arrays.setAll(i -&gt; new Integer[123]);\r\n```\r\n(This examples uses the fixed dimension of 42 and 123 for the both dimensions.)\r\n\r\nAs the main question seems to be the initialization, I do not cover Generics, mixing with Lists, and static initialization here.","title":"Initializing 2D arrray of Arraylist&lt;Integer&gt; type","body":"<p>You cannot initialize a multi-dimensional array in one go in Java. First you have to initialize the outer dimension and then in a loop the inner dimension. This is because the inner dimension is not of a fixed size, you could have arrays of various lengths as inner dimension(s).</p>\n<p>Also please don't mix generics and arrays in the way you did in your example, bad confusion is likely to happen.</p>\n<p>And don't initialize static variables in the constructor, this should be either done in the declaration or in a static initialization block.</p>\n<p>One of the ways to initialize a multi-dimensional array could be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer[][] matrix = new Integer[42][];\njava.util.Arrays.setAll(i -&gt; new Integer[123]);\n</code></pre>\n<p>(This examples uses the fixed dimension of 42 and 123 for the both dimensions.)</p>\n<p>As the main question seems to be the initialization, I do not cover Generics, mixing with Lists, and static initialization here.</p>\n"},{"tags":[],"owner":{"account_id":25538348,"reputation":15,"user_id":19324961,"display_name":"Nnanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673281302,"creation_date":1673281302,"answer_id":75060144,"question_id":75059886,"body_markdown":"Java will not allow you to create a generic array. Why don&#39;t you do it the other way round? Why not implement the matrix as an `ArrayList` of ArrayLists? I think that would be better.","title":"Initializing 2D arrray of Arraylist&lt;Integer&gt; type","body":"<p>Java will not allow you to create a generic array. Why don't you do it the other way round? Why not implement the matrix as an <code>ArrayList</code> of ArrayLists? I think that would be better.</p>\n"}],"owner":{"account_id":24048140,"reputation":1,"user_id":18026936,"display_name":"ARIF FAISAL"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673281597,"creation_date":1673279999,"question_id":75059886,"body_markdown":"I need to use a N by N matrix, where each cell is of type Arraylist&lt;Integer&gt;.\r\nI declared a 2D array like below:\r\n```\r\npublic static int N;\r\nprivate static ArrayList&lt;Integer&gt;[][] matrix;\r\npublic MyConstructor() {\r\n    matrix = new ArrayList[N][N];\r\n}\r\n```\r\nBut, it shows error.\r\nHow can I initialize that variable &quot;matrix&quot; inside a constructor ?\r\n\r\n\r\n","title":"Initializing 2D arrray of Arraylist&lt;Integer&gt; type","body":"<p>I need to use a N by N matrix, where each cell is of type Arraylist.\nI declared a 2D array like below:</p>\n<pre><code>public static int N;\nprivate static ArrayList&lt;Integer&gt;[][] matrix;\npublic MyConstructor() {\n    matrix = new ArrayList[N][N];\n}\n</code></pre>\n<p>But, it shows error.\nHow can I initialize that variable &quot;matrix&quot; inside a constructor ?</p>\n"},{"tags":["java","rabbitmq","spring-cloud-dataflow"],"answers":[{"tags":[],"owner":{"account_id":24209301,"reputation":491,"user_id":18166042,"display_name":"onobc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671662058,"creation_date":1671662058,"answer_id":74882417,"question_id":74881077,"body_markdown":"arreola,\r\n\r\nBecause this is a custom function using Rabbit/AMQP directly, SCDF has no influence. This is therefore more of a Rabbit/AMQP question. \r\n\r\nAlso, you may want to take a look at the [RabbitSource](https://github.com/spring-cloud/stream-applications/tree/main/applications/source/rabbit-source) provided application which may serve as a replacement. ","title":"How to avoid Spring Cloud Dataflow Source application to keep returning same message","body":"<p>arreola,</p>\n<p>Because this is a custom function using Rabbit/AMQP directly, SCDF has no influence. This is therefore more of a Rabbit/AMQP question.</p>\n<p>Also, you may want to take a look at the <a href=\"https://github.com/spring-cloud/stream-applications/tree/main/applications/source/rabbit-source\" rel=\"nofollow noreferrer\">RabbitSource</a> provided application which may serve as a replacement.</p>\n"},{"tags":[],"owner":{"account_id":27320494,"reputation":11,"user_id":20834279,"display_name":"Emmanuel_Arreola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673281578,"creation_date":1673281578,"answer_id":75060197,"question_id":74881077,"body_markdown":"First I want to thanks @onobc for his/her guidence. And also to end this question, what I use to extract specific headers with payload I use the Transform processor default application with a SPeL expression like this: -**-expression=&quot;new String(headers.get(&#39;LoggerID&#39;) + payload)**. Where LoggerID is the name of the header taht you want to extract.","title":"How to avoid Spring Cloud Dataflow Source application to keep returning same message","body":"<p>First I want to thanks @onobc for his/her guidence. And also to end this question, what I use to extract specific headers with payload I use the Transform processor default application with a SPeL expression like this: -<strong>-expression=&quot;new String(headers.get('LoggerID') + payload)</strong>. Where LoggerID is the name of the header taht you want to extract.</p>\n"}],"owner":{"account_id":27320494,"reputation":11,"user_id":20834279,"display_name":"Emmanuel_Arreola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75060197,"answer_count":2,"score":1,"last_activity_date":1673281578,"creation_date":1671651851,"question_id":74881077,"body_markdown":"I&#39;m suscribing to a Queue on rabbitMQ server and consuming the messages on it to retrieve the body and one particular header. This is done on Spring cloud Dataflow Source application, the issue is when it starts it keeps executing and returning the last message. What do I need to add so the application only execute when a new Message comes to the queue that is listening to?\r\n\r\nHere is my Supplier Code: \r\n\r\n\r\n```\r\n@Log4j2\r\n@EnableConfigurationProperties({ RabbitMQProperties.class })\r\n@Configuration\r\npublic class ReceiveMessageConfiguration {\r\n\tprivate final static String QUEUE_NAME = &quot;UniversalId&quot;;\r\n\tString payload;\r\n\tConnection connection;\r\n\tChannel channel;\r\n\r\n\r\n\t@Bean\r\n\tpublic Supplier&lt;String&gt; receiverMessage(RabbitMQProperties rabbitMQProperties) throws Exception {\r\n\t\treturn () -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tConnectionFactory factory = new ConnectionFactory();\r\n\t\t\t\tfactory.setHost(&quot;localhost&quot;);\r\n\t\t\t\tfactory.setRequestedHeartbeat(0);\r\n\r\n\t\t\t\tconnection = factory.newConnection();\r\n\t\t\t\tchannel = connection.createChannel();\r\n\r\n\t\t\t\tchannel.queueDeclare(QUEUE_NAME, true, false, false, null);\r\n\r\n\t\t\t\tDeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\r\n\t\t\t\t\tString message = new String(delivery.getBody(), StandardCharsets.UTF_8);\r\n//\t          \tGet headers from properties\r\n\t\t\t\t\tAMQP.BasicProperties properties = delivery.getProperties();\r\n\t\t\t\t\tMap&lt;String, Object&gt; headers = properties.getHeaders();\r\n\r\n//\t\t\t\tExtract and print payload and header\r\n\t\t\t\t\tfor (Map.Entry&lt;String, Object&gt; header : headers.entrySet()) {\r\n\t\t\t\t\t\tif (header.getKey().toString().equals(&quot;UniversalId&quot;)) {\r\n//\t\t\t\t\t\tlog.info(&quot;ID nedeed: &quot; + header.getValue());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpayload = message;\r\n\t\t\t\t};\r\n\t\t\t\tchannel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; {\r\n\t\t\t\t});\r\n\t\t\t\tlog.info(payload);\r\n\t\t\t\tif (payload != null) {\r\n\t\t\t\t\treturn payload;\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} finally {\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tchannel.close();\r\n\t\t\t\t\tconnection.close();\r\n\t\t\t\t} catch (IOException | TimeoutException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn new String(&quot;No message&quot;);\r\n\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\nMy properties file is like this: \r\n\r\n```\r\nspring.cloud.stream.function.bindings.receiverMessage-in-0=input\r\nspring.cloud.stream.function.bindings.receiverMessage-out-0=output\r\nspring.cloud.stream.bindings.input.destination=receiverMessage-input\r\nspring.cloud.stream.bindings.output.destination=receiverMessage-output\r\n```\r\n\r\nUpdate: Here is an example of the console messages:\r\n```\r\n2022-12-21T16:25:19.725-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[           main][0;39m [36mm.c.n.r.RabbitMqCustomSourceApplication [0;39m [2m:[0;39m Started RabbitMqCustomSourceApplication in 7.888 seconds (process running for 9.482)\r\n[2m2022-12-21T16:25:20.432-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:21.478-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:22.523-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:23.568-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:24.604-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:25.913-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:27.056-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:28.124-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:29.167-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m [\r\n    {\r\n        &quot;MailRequest&quot;: {\r\n            &quot;action&quot;: &quot;fourth&quot;,\r\n            &quot;mails&quot;: []\r\n        }\r\n    }\r\n]\r\n[2m2022-12-21T16:25:30.233-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m [\r\n    {\r\n        &quot;MailRequest&quot;: {\r\n            &quot;action&quot;: &quot;fourth&quot;,\r\n            &quot;mails&quot;: []\r\n        }\r\n    }\r\n]\r\n\r\n```\r\n\r\nI already try to change from RabbitMQ API to AMQP API but the behaviour is the same.","title":"How to avoid Spring Cloud Dataflow Source application to keep returning same message","body":"<p>I'm suscribing to a Queue on rabbitMQ server and consuming the messages on it to retrieve the body and one particular header. This is done on Spring cloud Dataflow Source application, the issue is when it starts it keeps executing and returning the last message. What do I need to add so the application only execute when a new Message comes to the queue that is listening to?</p>\n<p>Here is my Supplier Code:</p>\n<pre><code>@Log4j2\n@EnableConfigurationProperties({ RabbitMQProperties.class })\n@Configuration\npublic class ReceiveMessageConfiguration {\n    private final static String QUEUE_NAME = &quot;UniversalId&quot;;\n    String payload;\n    Connection connection;\n    Channel channel;\n\n\n    @Bean\n    public Supplier&lt;String&gt; receiverMessage(RabbitMQProperties rabbitMQProperties) throws Exception {\n        return () -&gt; {\n            try {\n                ConnectionFactory factory = new ConnectionFactory();\n                factory.setHost(&quot;localhost&quot;);\n                factory.setRequestedHeartbeat(0);\n\n                connection = factory.newConnection();\n                channel = connection.createChannel();\n\n                channel.queueDeclare(QUEUE_NAME, true, false, false, null);\n\n                DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\n                    String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n//              Get headers from properties\n                    AMQP.BasicProperties properties = delivery.getProperties();\n                    Map&lt;String, Object&gt; headers = properties.getHeaders();\n\n//              Extract and print payload and header\n                    for (Map.Entry&lt;String, Object&gt; header : headers.entrySet()) {\n                        if (header.getKey().toString().equals(&quot;UniversalId&quot;)) {\n//                      log.info(&quot;ID nedeed: &quot; + header.getValue());\n                        }\n                    }\n                    payload = message;\n                };\n                channel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; {\n                });\n                log.info(payload);\n                if (payload != null) {\n                    return payload;\n                }\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n\n                try {\n                    channel.close();\n                    connection.close();\n                } catch (IOException | TimeoutException e) {\n                    e.printStackTrace();\n                }\n            }\n            return new String(&quot;No message&quot;);\n\n        };\n    }\n}\n</code></pre>\n<p>My properties file is like this:</p>\n<pre><code>spring.cloud.stream.function.bindings.receiverMessage-in-0=input\nspring.cloud.stream.function.bindings.receiverMessage-out-0=output\nspring.cloud.stream.bindings.input.destination=receiverMessage-input\nspring.cloud.stream.bindings.output.destination=receiverMessage-output\n</code></pre>\n<p>Update: Here is an example of the console messages:</p>\n<pre><code>2022-12-21T16:25:19.725-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[           main][0;39m [36mm.c.n.r.RabbitMqCustomSourceApplication [0;39m [2m:[0;39m Started RabbitMqCustomSourceApplication in 7.888 seconds (process running for 9.482)\n[2m2022-12-21T16:25:20.432-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:21.478-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:22.523-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:23.568-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:24.604-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:25.913-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:27.056-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:28.124-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:29.167-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m [\n    {\n        &quot;MailRequest&quot;: {\n            &quot;action&quot;: &quot;fourth&quot;,\n            &quot;mails&quot;: []\n        }\n    }\n]\n[2m2022-12-21T16:25:30.233-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m [\n    {\n        &quot;MailRequest&quot;: {\n            &quot;action&quot;: &quot;fourth&quot;,\n            &quot;mails&quot;: []\n        }\n    }\n]\n\n</code></pre>\n<p>I already try to change from RabbitMQ API to AMQP API but the behaviour is the same.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9250,"page":742,"page_size":100}
