{"items":[{"tags":["java","android","validation"],"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1635844169,"post_id":69806610,"comment_id":123394582,"body_markdown":"`My android studio code built successful but output app crashing` there is a very big difference between compile time errors and runtime errors, you should learn about stack traces and how to read errors to help you debug","body":"<code>My android studio code built successful but output app crashing</code> there is a very big difference between compile time errors and runtime errors, you should learn about stack traces and how to read errors to help you debug"}],"answers":[{"tags":[],"owner":{"account_id":23198541,"reputation":847,"user_id":17293779,"display_name":"MohammadBaqer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635839390,"creation_date":1635839390,"answer_id":69806906,"question_id":69806610,"body_markdown":"you are setting a null date into your `cal` object\r\n`Date now_date = null;`\r\nchange this line to\r\n`Date now_date = new Date();`\r\n","title":"My android studio code built successful but output app crashing","body":"<p>you are setting a null date into your <code>cal</code> object\n<code>Date now_date = null;</code>\nchange this line to\n<code>Date now_date = new Date();</code></p>\n"}],"owner":{"account_id":23213530,"reputation":1,"user_id":17306684,"display_name":"Sathish Gkk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1636019272,"accepted_answer_id":69806906,"answer_count":1,"score":-3,"last_activity_date":1635839390,"creation_date":1635837360,"question_id":69806610,"body_markdown":"Here&#39;s my MainActivity&#39;s XML file:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hello World!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.47&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.877&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;404dp&quot;\r\n        android:layout_height=&quot;331dp&quot;\r\n        android:layout_marginStart=&quot;3dp&quot;\r\n        android:layout_marginTop=&quot;94dp&quot;\r\n        android:layout_marginEnd=&quot;4dp&quot;\r\n        android:layout_marginBottom=&quot;199dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textView&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        tools:ignore=&quot;ImageContrastCheck&quot;\r\n        tools:srcCompat=&quot;@tools:sample/avatars&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nAnd here&#39;s the Java file:\r\n```\r\npackage com.wavedevelopers.myapplication;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.ImageView;\r\n\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        ImageView imageView;\r\n\r\n        Calendar cal = Calendar.getInstance();\r\n\r\n        Date now_date = null;\r\n        cal.setTime(now_date);\r\n\r\n        imageView = (ImageView)findViewById(R.id.content);\r\n\r\n        if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY)\r\n        {\r\n            imageView.setImageResource(R.drawable.a1);\r\n        }\r\n        else if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY)\r\n        {\r\n            imageView.setImageResource(R.drawable.a2);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe Above code built successfully but out not displaying in the emulator, verify the above code\r\n next \r\n\r\n**NEED CODE CHANGES :**\r\n\r\n ```If(cal.get(Calendar.DAY_OF_WEEK) == CALENDAR.MONDAY) ```\r\n\r\nThis condition checks the `DAY_OF_WEEK`, but I want to check both `DATE_OF_MONTH` and `MONTH` with the local date.\r\n\r\nExample: If local calender date is equal to given date, display the image \r\n\r\n\r\n","title":"My android studio code built successful but output app crashing","body":"<p>Here's my MainActivity's XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.47&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.877&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView&quot;\n        android:layout_width=&quot;404dp&quot;\n        android:layout_height=&quot;331dp&quot;\n        android:layout_marginStart=&quot;3dp&quot;\n        android:layout_marginTop=&quot;94dp&quot;\n        android:layout_marginEnd=&quot;4dp&quot;\n        android:layout_marginBottom=&quot;199dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textView&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        tools:ignore=&quot;ImageContrastCheck&quot;\n        tools:srcCompat=&quot;@tools:sample/avatars&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And here's the Java file:</p>\n<pre><code>package com.wavedevelopers.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.widget.ImageView;\n\nimport java.util.Calendar;\nimport java.util.Date;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        ImageView imageView;\n\n        Calendar cal = Calendar.getInstance();\n\n        Date now_date = null;\n        cal.setTime(now_date);\n\n        imageView = (ImageView)findViewById(R.id.content);\n\n        if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.MONDAY)\n        {\n            imageView.setImageResource(R.drawable.a1);\n        }\n        else if(cal.get(Calendar.DAY_OF_WEEK) == Calendar.TUESDAY)\n        {\n            imageView.setImageResource(R.drawable.a2);\n        }\n\n    }\n}\n</code></pre>\n<p>The Above code built successfully but out not displaying in the emulator, verify the above code\nnext</p>\n<p><strong>NEED CODE CHANGES :</strong></p>\n<p><code>If(cal.get(Calendar.DAY_OF_WEEK) == CALENDAR.MONDAY) </code></p>\n<p>This condition checks the <code>DAY_OF_WEEK</code>, but I want to check both <code>DATE_OF_MONTH</code> and <code>MONTH</code> with the local date.</p>\n<p>Example: If local calender date is equal to given date, display the image</p>\n"},{"tags":["java","generics","warnings","casting","type-safety"],"comments":[{"owner":{"account_id":395711,"reputation":887,"user_id":758806,"accept_rate":88,"display_name":"Axel"},"score":1,"creation_date":1358245717,"post_id":382,"comment_id":19924487,"body_markdown":"If you want to get rid of the yellow underline in Eclipse, but don&#39;t want to add `@SuppressWarning`, you have the option to ignore the warning in the preferences. In the preferences window, go to _Java &gt; Compiler &gt; Errors/Warnings_, then under the _Generic types_ section, change the option **Unchecked generic type operation** to **Ignore**","body":"If you want to get rid of the yellow underline in Eclipse, but don&#39;t want to add <code>@SuppressWarning</code>, you have the option to ignore the warning in the preferences. In the preferences window, go to <i>Java &gt; Compiler &gt; Errors/Warnings</i>, then under the <i>Generic types</i> section, change the option <b>Unchecked generic type operation</b> to <b>Ignore</b>"}],"answers":[{"tags":[],"owner":{"account_id":103,"reputation":44354,"user_id":122,"accept_rate":79,"display_name":"Mike Stone"},"down_vote_count":0,"up_vote_count":53,"is_accepted":true,"score":53,"last_activity_date":1451370752,"creation_date":1217667528,"answer_id":384,"question_id":382,"body_markdown":"This warning is there because Java is not actually storing type information at run-time in an object that uses generics.  Thus, if `object` is actually a `List&lt;String&gt;`, there will be no `ClassCastException` at run-time except until an item is accessed from the list that doesn&#39;t match the generic type defined in the variable.  \r\n\r\nThis can cause further complications if items are added to the list, with this incorrect generic type information.  Any code still holding a reference to the list but with the correct generic type information will now have an inconsistent list.  \r\n\r\nTo remove the warning, try:\r\n\r\n    List&lt;?&gt; list = (List&lt;?&gt;) object;\r\n\r\nHowever, note that you will not be able to use certain methods such as add because the compiler doesn&#39;t know if you are trying to add an object of incorrect type.  The above will work in a lot of situations, but if you have to use add, or some similarly restricted method, you will just have to suffer the yellow underline in Eclipse (or a `SuppressWarning` annotation).","title":"What is the meaning of the type safety warning in certain Java generics casts?","body":"<p>This warning is there because Java is not actually storing type information at run-time in an object that uses generics.  Thus, if <code>object</code> is actually a <code>List&lt;String&gt;</code>, there will be no <code>ClassCastException</code> at run-time except until an item is accessed from the list that doesn't match the generic type defined in the variable.  </p>\n\n<p>This can cause further complications if items are added to the list, with this incorrect generic type information.  Any code still holding a reference to the list but with the correct generic type information will now have an inconsistent list.  </p>\n\n<p>To remove the warning, try:</p>\n\n<pre><code>List&lt;?&gt; list = (List&lt;?&gt;) object;\n</code></pre>\n\n<p>However, note that you will not be able to use certain methods such as add because the compiler doesn't know if you are trying to add an object of incorrect type.  The above will work in a lot of situations, but if you have to use add, or some similarly restricted method, you will just have to suffer the yellow underline in Eclipse (or a <code>SuppressWarning</code> annotation).</p>\n"}],"owner":{"account_id":103,"reputation":44354,"user_id":122,"accept_rate":79,"display_name":"Mike Stone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10226,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":384,"answer_count":1,"score":81,"last_activity_date":1635839161,"creation_date":1217667507,"question_id":382,"body_markdown":"What is the meaning of the *Java warning*?\r\n \r\n&gt; Type safety: The cast from Object to List&amp;lt;Integer&amp;gt; is actually checking against the erased type List\r\n \r\nI get this warning when I try to cast an Object to a type with generic information, such as in the following code:\r\n\r\n    Object object = getMyList();\r\n    List&lt;Integer&gt; list = (List&lt;Integer&gt;) object;","title":"What is the meaning of the type safety warning in certain Java generics casts?","body":"<p>What is the meaning of the <em>Java warning</em>?</p>\n\n<blockquote>\n  <p>Type safety: The cast from Object to List&lt;Integer&gt; is actually checking against the erased type List</p>\n</blockquote>\n\n<p>I get this warning when I try to cast an Object to a type with generic information, such as in the following code:</p>\n\n<pre><code>Object object = getMyList();\nList&lt;Integer&gt; list = (List&lt;Integer&gt;) object;\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-ec2","cloud","jclouds"],"answers":[{"tags":[],"owner":{"account_id":70201,"reputation":13278,"user_id":203801,"accept_rate":69,"display_name":"Julio Faerman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439464898,"creation_date":1439464898,"answer_id":31986771,"question_id":31985973,"body_markdown":"By default, EC2 reports to CloudWatch only hypervisor visible metrics, such as CPU and I/O. You can use the &quot;[Monitoring Scripts for Amazon EC2 Instances][1]&quot; to send memory, swap and disk usage as custom metrics to CloudWatch.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/mon-scripts.html","title":"Getting total disk space used and remaining disk space?","body":"<p>By default, EC2 reports to CloudWatch only hypervisor visible metrics, such as CPU and I/O. You can use the \"<a href=\"http://docs.aws.amazon.com/AmazonCloudWatch/latest/DeveloperGuide/mon-scripts.html\" rel=\"nofollow\">Monitoring Scripts for Amazon EC2 Instances</a>\" to send memory, swap and disk usage as custom metrics to CloudWatch.</p>\n"},{"tags":[],"owner":{"account_id":4336118,"reputation":1476,"user_id":3540564,"display_name":"Ignasi Barrera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439474905,"creation_date":1439474905,"answer_id":31990583,"question_id":31985973,"body_markdown":"You can also use the [Alarm and Metric](http://jclouds.apache.org/reference/javadoc/1.9.x/org/jclouds/cloudwatch/features/package-summary.html) APIs to talk to CloudWatch. You&#39;ll have to create a context using the &quot;cloudwatch&quot; api id.","title":"Getting total disk space used and remaining disk space?","body":"<p>You can also use the <a href=\"http://jclouds.apache.org/reference/javadoc/1.9.x/org/jclouds/cloudwatch/features/package-summary.html\" rel=\"nofollow\">Alarm and Metric</a> APIs to talk to CloudWatch. You'll have to create a context using the \"cloudwatch\" api id.</p>\n"}],"owner":{"account_id":393770,"reputation":6625,"user_id":755806,"accept_rate":55,"display_name":"user755806"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635838805,"creation_date":1439462592,"question_id":31985973,"body_markdown":"I&#39;m using `Apache Jclouds` to get `AWS EC2 CPU` usage metrics. But I do not see any methods to get the total disk space and the remaining disk space. Is there any other API `which provides disk usage information`?","title":"Getting total disk space used and remaining disk space?","body":"<p>I'm using <code>Apache Jclouds</code> to get <code>AWS EC2 CPU</code> usage metrics. But I do not see any methods to get the total disk space and the remaining disk space. Is there any other API <code>which provides disk usage information</code>?</p>\n"},{"tags":["java","maven","intellij-idea","automation","testng"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635839126,"post_id":69806816,"comment_id":123392713,"body_markdown":"you could use a super pom or confihure it in the `~/.m2/settings.xml`.","body":"you could use a super pom or confihure it in the <code>~&#47;.m2&#47;settings.xml</code>."},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635839790,"post_id":69806816,"comment_id":123392908,"body_markdown":"Let me remind you that this repo is include classes, dependencies, settings.\nhow can I do that ?","body":"Let me remind you that this repo is include classes, dependencies, settings. how can I do that ?"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635839851,"post_id":69806816,"comment_id":123392928,"body_markdown":"So you want to import all dependencies etc of the repository?","body":"So you want to import all dependencies etc of the repository?"},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635839992,"post_id":69806816,"comment_id":123392968,"body_markdown":"not just importing, also it includes helpers and utils classes, Extent report classes and configs. Config properties files. testng.xml file, and all the infrastructure.\nI want other repositories can fully used this one and will not have to do it over and over (dependencies, utils classes, xmls and so on)","body":"not just importing, also it includes helpers and utils classes, Extent report classes and configs. Config properties files. testng.xml file, and all the infrastructure. I want other repositories can fully used this one and will not have to do it over and over (dependencies, utils classes, xmls and so on)"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635840100,"post_id":69806816,"comment_id":123393005,"body_markdown":"Yes but do you want all dependencies located in one `maven repository` in all project?","body":"Yes but do you want all dependencies located in one <code>maven repository</code> in all project?"},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635840210,"post_id":69806816,"comment_id":123393034,"body_markdown":"I want that the main jar (main project infra repo) will contain all the dependencies and that the other projects can take from him what they need. I other word I want 1 project to role them all .","body":"I want that the main jar (main project infra repo) will contain all the dependencies and that the other projects can take from him what they need. I other word I want 1 project to role them all ."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635840566,"post_id":69806816,"comment_id":123393163,"body_markdown":"Just create the main project using `&lt;packaging&gt;pom&lt;/packaging&gt;`. and include it with `&lt;scope&gt;import&lt;/import&gt;` and `&lt;type&gt;pom&lt;/type&gt;` or add it in the `&lt;parent&gt;` element.","body":"Just create the main project using <code>&lt;packaging&gt;pom&lt;&#47;packaging&gt;</code>. and include it with <code>&lt;scope&gt;import&lt;&#47;import&gt;</code> and <code>&lt;type&gt;pom&lt;&#47;type&gt;</code> or add it in the <code>&lt;parent&gt;</code> element."},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635840673,"post_id":69806816,"comment_id":123393191,"body_markdown":"Do you have any sample? Never tried it","body":"Do you have any sample? Never tried it"},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635850217,"post_id":69806816,"comment_id":123396980,"body_markdown":"I guess that the need is \n1. to work on same workspace with multiple projects / repositories.\n2. To have 1 resource for all of them (dependencies, utils/helpers classes, xml and config files and so on).","body":"I guess that the need is  1. to work on same workspace with multiple projects / repositories. 2. To have 1 resource for all of them (dependencies, utils/helpers classes, xml and config files and so on)."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635850282,"post_id":69806816,"comment_id":123397010,"body_markdown":"util/helper classes and resources can just be put in a dependency.","body":"util/helper classes and resources can just be put in a dependency."},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635850957,"post_id":69806816,"comment_id":123397269,"body_markdown":"but those classes are private, not published in maven central...\nshould work from pipeline","body":"but those classes are private, not published in maven central... should work from pipeline"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635852217,"post_id":69806816,"comment_id":123397731,"body_markdown":"You can install a project to the local repository using `mvn install`.","body":"You can install a project to the local repository using <code>mvn install</code>."},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1635855396,"post_id":69806816,"comment_id":123398941,"body_markdown":"That is not helpful because I need a flow to have all the repos getting the settings from super repo","body":"That is not helpful because I need a flow to have all the repos getting the settings from super repo"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1635855460,"post_id":69806816,"comment_id":123398969,"body_markdown":"yes, install the super/common repo to the local repository (or deploy it to some private repository) and use it as a dependency","body":"yes, install the super/common repo to the local repository (or deploy it to some private repository) and use it as a dependency"},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1640602351,"post_id":69806816,"comment_id":124612891,"body_markdown":"How about add the project as jar and use it in other repos ?\nwhen I tried it I got this:\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/testng/TestNG","body":"How about add the project as jar and use it in other repos ? when I tried it I got this: Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/testng/TestNG"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1640603728,"post_id":69806816,"comment_id":124613247,"body_markdown":"you need to either use a fat JAR/JAR with dependencies or include all dependencies of the project you create the JAR from in the project you use the JAR, too.","body":"you need to either use a fat JAR/JAR with dependencies or include all dependencies of the project you create the JAR from in the project you use the JAR, too."},{"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"score":0,"creation_date":1640675788,"post_id":69806816,"comment_id":124629348,"body_markdown":"@dan1st\n I did it!\nI build the project artifact then I used that Jar as library but I got:\njava.lang.NoClassDefFoundError\nor:\nCannot instantiate class.\nSo I need some deep explanation or some sample code. please","body":"@dan1st  I did it! I build the project artifact then I used that Jar as library but I got: java.lang.NoClassDefFoundError or: Cannot instantiate class. So I need some deep explanation or some sample code. please"}],"owner":{"account_id":9776900,"reputation":17,"user_id":7246564,"display_name":"Eyal"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635838798,"creation_date":1635838798,"question_id":69806816,"body_markdown":"Using java with maven I have created the automation and it is managed in azure devops pipeline.\r\nI would like to make 1 repository as the infra framework that contains the db connections, utils, helpers, report and dependencies and so on.\r\nThe purpose is to use all other repositories as minimum duplicate code and that they will get all the infra classes and dependencies from the infra repository.\r\n\r\nHow can I do that ? I have tried to convert the infra repo to jar file but it keeps telling me every time that class not found and things like that.\r\n\r\nI appreciate the help here!   ","title":"Git Repositories - Java with maven for Automation pipeline in azure - How can I add repository father for all the repositories?","body":"<p>Using java with maven I have created the automation and it is managed in azure devops pipeline.\nI would like to make 1 repository as the infra framework that contains the db connections, utils, helpers, report and dependencies and so on.\nThe purpose is to use all other repositories as minimum duplicate code and that they will get all the infra classes and dependencies from the infra repository.</p>\n<p>How can I do that ? I have tried to convert the infra repo to jar file but it keeps telling me every time that class not found and things like that.</p>\n<p>I appreciate the help here!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1482046883,"post_id":41206385,"comment_id":69611866,"body_markdown":"`starred.equals(&quot;1&quot;)`","body":"<code>starred.equals(&quot;1&quot;)</code>"},{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":4,"creation_date":1482046911,"post_id":41206385,"comment_id":69611870,"body_markdown":"Possible duplicate of [How do I compare strings in Java?](http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"},{"owner":{"account_id":10671711,"reputation":821,"user_id":7856586,"display_name":"Roman Soviak"},"score":0,"creation_date":1635237579,"post_id":41206385,"comment_id":123236106,"body_markdown":"Small refactoring:\n`isFavorite = starred==&quot;1&quot;`","body":"Small refactoring: <code>isFavorite = starred==&quot;1&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1776193,"reputation":2542,"user_id":1619950,"display_name":"Aleksandr Podkutin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482046891,"creation_date":1482046891,"answer_id":41206397,"question_id":41206385,"body_markdown":"You need to check your result with `equals` method. If you do it with `==`, you try to check if two variables assignment to the same object. And obviously `&quot;1&quot;` and `starred` are different objects.\r\n\r\nTry this:\r\n\r\n    if (&quot;1&quot;.equals(starred) {\r\n","title":"Check if contact is favourite in android","body":"<p>You need to check your result with <code>equals</code> method. If you do it with <code>==</code>, you try to check if two variables assignment to the same object. And obviously <code>\"1\"</code> and <code>starred</code> are different objects.</p>\n\n<p>Try this:</p>\n\n<pre><code>if (\"1\".equals(starred) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21831388,"reputation":81,"user_id":16126283,"display_name":"vaidik limbachiya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635838795,"creation_date":1635235276,"answer_id":69719484,"question_id":41206385,"body_markdown":"     public void checkFavorite(){\r\n\r\n        Cursor getContactNumber = getContentResolver().query(\r\n                ContactsContract.Data.CONTENT_URI,\r\n                null,\r\n                ContactsContract.CommonDataKinds.Phone.NUMBER+&quot; LIKE ?&quot;,\r\n                new String[] { &quot;%&quot;+number }, //number is your number to check\r\n                null);\r\n\r\n        if(getContactNumber != null) {\r\n\r\n            while (getContactNumber.moveToNext()) {\r\n                String favcheck = getContactNumber.getString(getContactNumber.getColumnIndex(ContactsContract.CommonDataKinds.Phone.STARRED));\r\n            }\r\n\r\n           if(favcheck.equals(&quot;1&quot;)){\r\n            // contact is fav\r\n           }else{\r\n            // contact is not fav\r\n            }\r\n        }\r\n    }","title":"Check if contact is favourite in android","body":"<pre><code> public void checkFavorite(){\n\n    Cursor getContactNumber = getContentResolver().query(\n            ContactsContract.Data.CONTENT_URI,\n            null,\n            ContactsContract.CommonDataKinds.Phone.NUMBER+&quot; LIKE ?&quot;,\n            new String[] { &quot;%&quot;+number }, //number is your number to check\n            null);\n\n    if(getContactNumber != null) {\n\n        while (getContactNumber.moveToNext()) {\n            String favcheck = getContactNumber.getString(getContactNumber.getColumnIndex(ContactsContract.CommonDataKinds.Phone.STARRED));\n        }\n\n       if(favcheck.equals(&quot;1&quot;)){\n        // contact is fav\n       }else{\n        // contact is not fav\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9873628,"reputation":1,"user_id":7312250,"display_name":"Siranush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":343,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1635838795,"creation_date":1482046821,"question_id":41206385,"body_markdown":"I try to check if contact is favorite(starred) in Android. Here what I do:\r\n\r\n    String starred = cur.getString(cur.getColumnIndex(ContactsContract.Contacts.STARRED));\r\n                Boolean isFavorite;\r\n                if(starred==&quot;1&quot;){\r\n                    isFavorite = true;\r\n                }else{\r\n                    isFavorite = false;\r\n                }\r\n\r\nMy isFavorite always returns false, even if starred returns 1.\r\nWhat is wrong with my code?","title":"Check if contact is favourite in android","body":"<p>I try to check if contact is favorite(starred) in Android. Here what I do:</p>\n\n<pre><code>String starred = cur.getString(cur.getColumnIndex(ContactsContract.Contacts.STARRED));\n            Boolean isFavorite;\n            if(starred==\"1\"){\n                isFavorite = true;\n            }else{\n                isFavorite = false;\n            }\n</code></pre>\n\n<p>My isFavorite always returns false, even if starred returns 1.\nWhat is wrong with my code?</p>\n"},{"tags":["java","ssh","jsch","apache-mina"],"comments":[{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1506923404,"post_id":46469328,"comment_id":79994022,"body_markdown":"This is too vague. It&#39;s not clear if you want to keep the &quot;shell&quot; functionality and add a new &quot;shell&quot; command &quot;hello&quot;. Or if you just want to provide some kind of API to return a contents of a file. You should explain your use case, rather than just your imagined implementation.","body":"This is too vague. It&#39;s not clear if you want to keep the &quot;shell&quot; functionality and add a new &quot;shell&quot; command &quot;hello&quot;. Or if you just want to provide some kind of API to return a contents of a file. You should explain your use case, rather than just your imagined implementation."},{"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"score":0,"creation_date":1506924838,"post_id":46469328,"comment_id":79994441,"body_markdown":"It need to return contents of a file. Sorry for the bad explaining.","body":"It need to return contents of a file. Sorry for the bad explaining."},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1506925120,"post_id":46469328,"comment_id":79994522,"body_markdown":"Edit your question!","body":"Edit your question!"},{"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"score":0,"creation_date":1506925623,"post_id":46469328,"comment_id":79994674,"body_markdown":"I`ve edited it. Btw the documentation is so low and what I found that maybe is correct it says that i need to create some list of commands that will be accepted... But i have now idea how to make it...","body":"I`ve edited it. Btw the documentation is so low and what I found that maybe is correct it says that i need to create some list of commands that will be accepted... But i have now idea how to make it..."}],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635838662,"creation_date":1506925956,"answer_id":46520501,"question_id":46469328,"body_markdown":"By executing `cmd`, you start a Windows shell. At that moment the session gets out of control of your code. You cannot add a command to the shell using your Java code.\r\n\r\nBut obviously, you can add the command in the Windows shell. Just create a `hello.bat` batch file and make sure it&#39;s in Windows `PATH` for an easy access. Make sure the `PATH` is set for the local (&quot;local&quot; as of the server) account that runs the session.\r\n\r\nThe `hello.bat` batch file can be as trivial as:\r\n\r\n    type c:\\path\\to\\file.txt\r\n\r\n---\r\n\r\nNote that allowing an user to run `cmd.exe` can be pretty dangerous. So make sure you know, what you are doing.\r\n\r\n---\r\n\r\nIn my opinion, you should implement the `CommandFactory` interface.\r\n\r\nMake it create a `Command` that feed the &quot;file&quot; to the stream provided by `setOutputStream`.\r\n\r\nOn client side, with JSch library, use this code:  \r\nhttp://www.jcraft.com/jsch/examples/Exec.java.html","title":"Implement SSH command to return a contents of a file in Apache Mina","body":"<p>By executing <code>cmd</code>, you start a Windows shell. At that moment the session gets out of control of your code. You cannot add a command to the shell using your Java code.</p>\n<p>But obviously, you can add the command in the Windows shell. Just create a <code>hello.bat</code> batch file and make sure it's in Windows <code>PATH</code> for an easy access. Make sure the <code>PATH</code> is set for the local (&quot;local&quot; as of the server) account that runs the session.</p>\n<p>The <code>hello.bat</code> batch file can be as trivial as:</p>\n<pre><code>type c:\\path\\to\\file.txt\n</code></pre>\n<hr />\n<p>Note that allowing an user to run <code>cmd.exe</code> can be pretty dangerous. So make sure you know, what you are doing.</p>\n<hr />\n<p>In my opinion, you should implement the <code>CommandFactory</code> interface.</p>\n<p>Make it create a <code>Command</code> that feed the &quot;file&quot; to the stream provided by <code>setOutputStream</code>.</p>\n<p>On client side, with JSch library, use this code:<br />\n<a href=\"http://www.jcraft.com/jsch/examples/Exec.java.html\" rel=\"nofollow noreferrer\">http://www.jcraft.com/jsch/examples/Exec.java.html</a></p>\n"}],"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46520501,"answer_count":1,"score":2,"last_activity_date":1635838662,"creation_date":1506602118,"question_id":46469328,"body_markdown":"I have created an SSH server which is opening `cmd`. When I connect with Putty `cmd` is open and for example, if I write `dir` (which is the command that I put in the code) everything is okay. \r\n\r\nNow, my question is: How to create some API (for example if i write: `hello` like a command) to return some file content.\r\n\r\nI want to achieve this:\r\n 1. Connect with Putty to the server\r\n 2. write &quot;hello&quot; for example\r\n 3. print in putty console content of some file.\r\n\r\nHere is the code for my SSH server. I am using apache-mina library:\r\n\r\npublic class SshServerMock {\r\n\t\r\n\tpublic static void server() throws IOException, JSchException, SftpException {\r\n\t\tSshServer sshd = SshServer.setUpDefaultServer();\r\n\r\n\t\tsshd.setHost(&quot;127.0.0.1&quot;);\r\n\t\tsshd.setPort(22);\r\n\r\n\t\tsshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(new File(&quot;C://hostkey.ser&quot;)));\r\n\t\tsshd.setPasswordAuthenticator(new PasswordAuthenticator() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic boolean authenticate(String u, String p, ServerSession s) {\t\t\t\t\r\n\t\t\t\treturn (&quot;root&quot;.equals(u) &amp;&amp; &quot;iskratel&quot;.equals(p));\r\n\t\t\t}\t\r\n\t\t\t\r\n\t\t});\r\n\r\n\t\tsshd.setShellFactory(new ProcessShellFactory(new String[] { &quot;cmd.exe&quot; }));\r\n\t\tsshd.start();\r\n\t\ttry {\r\n\t\t\tThread.sleep(100000000000l);\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n}","title":"Implement SSH command to return a contents of a file in Apache Mina","body":"<p>I have created an SSH server which is opening <code>cmd</code>. When I connect with Putty <code>cmd</code> is open and for example, if I write <code>dir</code> (which is the command that I put in the code) everything is okay. </p>\n\n<p>Now, my question is: How to create some API (for example if i write: <code>hello</code> like a command) to return some file content.</p>\n\n<p>I want to achieve this:\n 1. Connect with Putty to the server\n 2. write \"hello\" for example\n 3. print in putty console content of some file.</p>\n\n<p>Here is the code for my SSH server. I am using apache-mina library:</p>\n\n<p>public class SshServerMock {</p>\n\n<pre><code>public static void server() throws IOException, JSchException, SftpException {\n    SshServer sshd = SshServer.setUpDefaultServer();\n\n    sshd.setHost(\"127.0.0.1\");\n    sshd.setPort(22);\n\n    sshd.setKeyPairProvider(new SimpleGeneratorHostKeyProvider(new File(\"C://hostkey.ser\")));\n    sshd.setPasswordAuthenticator(new PasswordAuthenticator() {\n\n        @Override\n        public boolean authenticate(String u, String p, ServerSession s) {              \n            return (\"root\".equals(u) &amp;&amp; \"iskratel\".equals(p));\n        }   \n\n    });\n\n    sshd.setShellFactory(new ProcessShellFactory(new String[] { \"cmd.exe\" }));\n    sshd.start();\n    try {\n        Thread.sleep(100000000000l);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","console-application","user-input"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1635807750,"post_id":69803651,"comment_id":123387324,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/69803651/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1635811868,"post_id":69803651,"comment_id":123388033,"body_markdown":"Yup, java can&#39;t process that until a newline is pressed in the first place. Nothing you can do about it. Note that if this input came in directly, e.g. via `java yourapp.Main &lt;data`, it would work fine.","body":"Yup, java can&#39;t process that until a newline is pressed in the first place. Nothing you can do about it. Note that if this input came in directly, e.g. via <code>java yourapp.Main &lt;data</code>, it would work fine."}],"owner":{"account_id":20214572,"reputation":13,"user_id":14825783,"display_name":"Jerridan B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635838570,"creation_date":1635807582,"question_id":69803651,"body_markdown":"I have the following code where I am trying to get pairs of two numbers and store them in a 2D list.\r\n\r\n        for (int i = 0; i &lt; numEdges; i++) {\r\n            int x = input.nextInt();\r\n            int y = input.nextInt();\r\n            edges.add(new int[]{x, y});\r\n            System.out.println(&quot;x-y: &quot; + x + &quot; &quot; + y);\r\n        }\r\n\r\nMy code is supposed to accept all input at once in the format below where the first two inputs are used elsewhere.\r\n\r\nMy issue is coming from the sets of pairs in the third line where my for loop is waiting for the \r\nenter key to be pressed before completing its last cycle.\r\n\r\n```\r\n5\r\n5\r\n2 3\r\n3 4\r\n1 2\r\n0 2\r\n2 4\r\n```\r\nThe console output after this code looks like this\r\n```\r\nx-y: 2 3\r\nx-y: 3 4\r\nx-y: 1 2\r\nx-y: 0 2\r\n            //Pauses here on last iteration until enter key pressed\r\nx-y: 2 4    //Then finishes normally\r\n```\r\nI&#39;ve included a screenshot below that shows where the code is waiting for the enter key.\r\n\r\nI&#39;m sure this is a mistake that lies in some misunderstanding of how `nextInt()` works but this is also my first time working with input of this format.\r\n\r\n[![Screenshot of the console output][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FIMa4.png","title":"Using scanner.nextInt() to get 2 integers from multiple lines","body":"<p>I have the following code where I am trying to get pairs of two numbers and store them in a 2D list.</p>\n<pre><code>    for (int i = 0; i &lt; numEdges; i++) {\n        int x = input.nextInt();\n        int y = input.nextInt();\n        edges.add(new int[]{x, y});\n        System.out.println(&quot;x-y: &quot; + x + &quot; &quot; + y);\n    }\n</code></pre>\n<p>My code is supposed to accept all input at once in the format below where the first two inputs are used elsewhere.</p>\n<p>My issue is coming from the sets of pairs in the third line where my for loop is waiting for the\nenter key to be pressed before completing its last cycle.</p>\n<pre><code>5\n5\n2 3\n3 4\n1 2\n0 2\n2 4\n</code></pre>\n<p>The console output after this code looks like this</p>\n<pre><code>x-y: 2 3\nx-y: 3 4\nx-y: 1 2\nx-y: 0 2\n            //Pauses here on last iteration until enter key pressed\nx-y: 2 4    //Then finishes normally\n</code></pre>\n<p>I've included a screenshot below that shows where the code is waiting for the enter key.</p>\n<p>I'm sure this is a mistake that lies in some misunderstanding of how <code>nextInt()</code> works but this is also my first time working with input of this format.</p>\n<p><a href=\"https://i.stack.imgur.com/FIMa4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FIMa4.png\" alt=\"Screenshot of the console output\" /></a></p>\n"},{"tags":["java","android-studio","kotlin","android-mediaplayer","media-player"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1635794046,"post_id":69800380,"comment_id":123383529,"body_markdown":"Have you tried adding some logging to each step in the process, and checking the timestamps to see exactly which part is taking so long, and where it&#39;s different when the screen is on? How long is &quot;a long time&quot;? I&#39;m guessing you&#39;re talking about tracks changing automatically when one ends (so manual skipping works fine) - you should probably post the code that handles that too (whatever `actionPlaying.nextBtnClicked()` does). If I had to guess, when the screen is off the phone is giving your app less priority, and all the work is taking longer- seems like a lot of steps, including external I/O","body":"Have you tried adding some logging to each step in the process, and checking the timestamps to see exactly which part is taking so long, and where it&#39;s different when the screen is on? How long is &quot;a long time&quot;? I&#39;m guessing you&#39;re talking about tracks changing automatically when one ends (so manual skipping works fine) - you should probably post the code that handles that too (whatever <code>actionPlaying.nextBtnClicked()</code> does). If I had to guess, when the screen is off the phone is giving your app less priority, and all the work is taking longer- seems like a lot of steps, including external I/O"},{"owner":{"account_id":23206365,"reputation":21,"user_id":17300538,"display_name":"Alex Goodman"},"score":0,"creation_date":1635834660,"post_id":69800380,"comment_id":123391581,"body_markdown":"@cactustictacs, Hello! Yes, I added Log, removed it so that it wouldn&#39;t be superfluous. Added nextBtnClicked.","body":"@cactustictacs, Hello! Yes, I added Log, removed it so that it wouldn&#39;t be superfluous. Added nextBtnClicked."},{"owner":{"account_id":23206365,"reputation":21,"user_id":17300538,"display_name":"Alex Goodman"},"score":0,"creation_date":1635835534,"post_id":69800380,"comment_id":123391763,"body_markdown":"@cactustictacs, As for how long - it does not play in any way before either turning on the screen or pressing the volume button","body":"@cactustictacs, As for how long - it does not play in any way before either turning on the screen or pressing the volume button"}],"answers":[{"tags":[],"owner":{"account_id":23206365,"reputation":21,"user_id":17300538,"display_name":"Alex Goodman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635837513,"creation_date":1635837513,"answer_id":69806641,"question_id":69800380,"body_markdown":"I found a problem. It was necessary to call `MediaPlayer.setwakemode(getApplicationContext(), PowerManager.PARTIAL_WAKE_LOCK);`","title":"The problem with moving to the next track","body":"<p>I found a problem. It was necessary to call <code>MediaPlayer.setwakemode(getApplicationContext(), PowerManager.PARTIAL_WAKE_LOCK);</code></p>\n"}],"owner":{"account_id":23206365,"reputation":21,"user_id":17300538,"display_name":"Alex Goodman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69806641,"answer_count":1,"score":0,"last_activity_date":1635838415,"creation_date":1635786902,"question_id":69800380,"body_markdown":"I&#39;m making a music player, and there was a problem when switching to the next song. When the phone is in working condition (the screen is on) the tracks switch smoothly, when the screen is off there is a long pause, the song starts only after a long time (very long!!!) or when the screen is turned on. Also, everything works well with a headset (Bluetooth), songs switch smoothly even when the screen is turned off. I use `MediaPlayer.prepare` to prepare the track (music files are taken from the SD card, so I don&#39;t see any point in using `MediaPlayer.prepareAsync()`). Songs are played using Service. Since the player works fine when the screen is turned on and poorly when it is turned off, then this is the problem. I tried everything, searched all the articles about media player in Russian and English, reviewed YouTube. Help is also accepted on Kotlin. \r\n(here is the same question. but there is no answer. https://stackoverflow.com/questions/12329601/how-to-use-wake-lock-for-android-mediaplayer)\r\nBelow is the code:\r\n\r\n    public class MusicService extends Service implements MediaPlayer.OnCompletionListener,\r\n            MediaPlayer.OnPreparedListener {\r\n    \r\n        IBinder mBinder = new MyBinder();\r\n        private MediaPlayer mediaPlayer = null;\r\n        private Uri uri;\r\n        private int position = POSITION_PLAY;\r\n        public static AudioManager audioManager;\r\n        int result;\r\n        private NotificationReceiver notificationReceiver;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n    \r\n            notificationReceiver = new NotificationReceiver();\r\n            audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n            result = audioManager.requestAudioFocus(this, AudioManager.STREAM_MUSIC,\r\n                    AudioManager.AUDIOFOCUS_GAIN);\r\n            if (result != AudioManager.AUDIOFOCUS_REQUEST_GRANTED)\r\n                return;\r\n    \r\n            IntentFilter intentFilter = new IntentFilter(AudioManager.ACTION_AUDIO_BECOMING_NOISY);\r\n            registerReceiver(notificationReceiver, intentFilter);\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            releaseMP();\r\n            unregisterReceiver(notificationReceiver);\r\n            audioManager.abandonAudioFocus(this);\r\n            Log.e(TAG, &quot;onDestroy()&quot;);\r\n        }\r\n    \r\n        @Nullable\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return mBinder;\r\n        }\r\n    \r\n        public class MyBinder extends Binder {\r\n            MusicService getService() {\r\n                return MusicService.this;\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            if(myPosition != -1){\r\n                playMedia(myPosition);\r\n            }\r\n            return START_STICKY;\r\n        }\r\n    \r\n        public void createMediaPlayer(int positionInner) {\r\n            position = positionInner;\r\n            uri = Uri.parse(musicFiles.get(position).getPath());\r\n            mediaPlayer = null;\r\n            mediaPlayer = new MediaPlayer();\r\n            mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\r\n            try {\r\n                mediaPlayer.setDataSource(getApplicationContext(), uri);\r\n            } catch (IOException ioException) {\r\n                ioException.printStackTrace();\r\n            }\r\n            prepare();\r\n        }\r\n    \r\n        private void playMedia(int position) {\r\n            if(mediaPlayer != null) {\r\n                mediaPlayer.stop();\r\n                releaseMP();\r\n            }\r\n            createMediaPlayer(position);\r\n            mediaPlayer.start();\r\n        }\r\n    \r\n        public void prepare() {\r\n            try {\r\n                mediaPlayer.prepare();\r\n            } catch (IOException ioException) {\r\n                ioException.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        void showNotification(int playPauseBtn){\r\n            ...\r\n            startForeground(2, notification);\r\n            if(!isGoing &amp;&amp; IS_LIVE) {\r\n                stopForeground(false);\r\n            }\r\n        }\r\n    \r\n    \r\n        void OnCompleted(){\r\n            mediaPlayer.setOnCompletionListener(this);\r\n        }\r\n    \r\n        void OnPrepared() { mediaPlayer.setOnPreparedListener(this);}\r\n    \r\n        @Override\r\n        public void onCompletion(MediaPlayer mp) {\r\n            if(actionPlaying != null){\r\n                actionPlaying.nextBtnClicked();\r\n                if(mediaPlayer != null){\r\n                    mediaPlayer.start();\r\n                    OnCompleted();\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void releaseMP() {\r\n            if (mediaPlayer != null) {\r\n                try {\r\n                    mediaPlayer.release();\r\n                    mediaPlayer = null;\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onPrepared(MediaPlayer mp) {\r\n            mp.start();\r\n        }\r\n        \r\n    \r\n\r\n    public void start() {\r\n        mediaPlayer.start();\r\n    }\r\n    public boolean isPlaying() {\r\n        return mediaPlayer.isPlaying();\r\n    }\r\n    public void stop() {\r\n        mediaPlayer.stop();\r\n    }\r\n    public void pause() {\r\n        mediaPlayer.pause();\r\n    }\r\n    public void release() {\r\n        releaseMP();\r\n    }\r\n    public int getDuration() {\r\n        return mediaPlayer.getDuration();\r\n    }\r\n    public void seekTo(int position) {\r\n        mediaPlayer.seekTo(position);\r\n    }\r\n    public int getCurrentPosition() {\r\n        return mediaPlayer.getCurrentPosition();\r\n    }\r\n    }\r\n\r\nCode for the method:\r\n\r\n    public void nextBtnClicked() {\r\n            if(musicService.isPlaying()) {\r\n                musicService.stop();\r\n                musicService.release();\r\n                if(SHUFFLE &amp;&amp; !REPEAT){\r\n                    POSITION_PLAY = getRandom(ListSongs.size() - 1);\r\n                }\r\n                else if(!SHUFFLE &amp;&amp; !REPEAT){\r\n                    POSITION_PLAY = ((POSITION_PLAY + 1) % ListSongs.size());\r\n                }\r\n                uri = Uri.parse(ListSongs.get(POSITION_PLAY).getPath());\r\n                musicService.createMediaPlayer(POSITION_PLAY);\r\n                if(is_live_player_activity) {\r\n                    metaData(uri);\r\n                }\r\n                musicService.OnCompleted();\r\n                musicService.showNotification(R.drawable.ic_pause);\r\n                playPauseBtn.setBackgroundResource(R.drawable.ic_pause);\r\n                musicService.start();\r\n            }\r\n            else {\r\n                musicService.stop();\r\n                musicService.release();\r\n                if(SHUFFLE &amp;&amp; !REPEAT){\r\n                    POSITION_PLAY = getRandom(ListSongs.size() - 1);\r\n                }\r\n                else if(!SHUFFLE &amp;&amp; !REPEAT){\r\n                    POSITION_PLAY = ((POSITION_PLAY + 1) % ListSongs.size());\r\n                }\r\n                uri = Uri.parse(ListSongs.get(POSITION_PLAY).getPath());\r\n                musicService.createMediaPlayer(POSITION_PLAY);\r\n                if(is_live_player_activity) {\r\n                    metaData(uri);\r\n                }\r\n                musicService.OnCompleted();\r\n                if(FLAG){\r\n                    musicService.showNotification(R.drawable.ic_pause);\r\n                    playPauseBtn.setBackgroundResource(R.drawable.ic_pause);\r\n                } else {\r\n                    musicService.showNotification(R.drawable.ic_play);\r\n                    playPauseBtn.setBackgroundResource(R.drawable.ic_play);\r\n                }\r\n            }\r\n        }\r\n\r\nManifest:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;com.example.music&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:name=&quot;.ApplicationClass&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:theme=&quot;@style/Theme.Music&quot;&gt;\r\n    \r\n            &lt;activity android:name=&quot;.MusicActivity&quot;\r\n                android:screenOrientation=&quot;portrait&quot;\r\n                android:launchMode=&quot;singleTask&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            ...\r\n            &lt;service android:name=&quot;.MusicService&quot; android:enabled=&quot;true&quot;/&gt;\r\n            &lt;receiver android:name=&quot;.NotificationReceiver&quot; android:enabled=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n                    &lt;action android:name=&quot;android.media.AUDIO_BECOMING_NOISY&quot; /&gt;\r\n                    &lt;action android:name=&quot;actionprevious&quot; /&gt;\r\n                    &lt;action android:name=&quot;actionnext&quot; /&gt;\r\n                    &lt;action android:name=&quot;actionplay&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/receiver&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n","title":"The problem with moving to the next track","body":"<p>I'm making a music player, and there was a problem when switching to the next song. When the phone is in working condition (the screen is on) the tracks switch smoothly, when the screen is off there is a long pause, the song starts only after a long time (very long!!!) or when the screen is turned on. Also, everything works well with a headset (Bluetooth), songs switch smoothly even when the screen is turned off. I use <code>MediaPlayer.prepare</code> to prepare the track (music files are taken from the SD card, so I don't see any point in using <code>MediaPlayer.prepareAsync()</code>). Songs are played using Service. Since the player works fine when the screen is turned on and poorly when it is turned off, then this is the problem. I tried everything, searched all the articles about media player in Russian and English, reviewed YouTube. Help is also accepted on Kotlin.\n(here is the same question. but there is no answer. <a href=\"https://stackoverflow.com/questions/12329601/how-to-use-wake-lock-for-android-mediaplayer\">How to use wake lock for android mediaplayer?</a>)\nBelow is the code:</p>\n<pre><code>public class MusicService extends Service implements MediaPlayer.OnCompletionListener,\n        MediaPlayer.OnPreparedListener {\n\n    IBinder mBinder = new MyBinder();\n    private MediaPlayer mediaPlayer = null;\n    private Uri uri;\n    private int position = POSITION_PLAY;\n    public static AudioManager audioManager;\n    int result;\n    private NotificationReceiver notificationReceiver;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        notificationReceiver = new NotificationReceiver();\n        audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n        result = audioManager.requestAudioFocus(this, AudioManager.STREAM_MUSIC,\n                AudioManager.AUDIOFOCUS_GAIN);\n        if (result != AudioManager.AUDIOFOCUS_REQUEST_GRANTED)\n            return;\n\n        IntentFilter intentFilter = new IntentFilter(AudioManager.ACTION_AUDIO_BECOMING_NOISY);\n        registerReceiver(notificationReceiver, intentFilter);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        releaseMP();\n        unregisterReceiver(notificationReceiver);\n        audioManager.abandonAudioFocus(this);\n        Log.e(TAG, &quot;onDestroy()&quot;);\n    }\n\n    @Nullable\n    @Override\n    public IBinder onBind(Intent intent) {\n        return mBinder;\n    }\n\n    public class MyBinder extends Binder {\n        MusicService getService() {\n            return MusicService.this;\n        }\n\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        if(myPosition != -1){\n            playMedia(myPosition);\n        }\n        return START_STICKY;\n    }\n\n    public void createMediaPlayer(int positionInner) {\n        position = positionInner;\n        uri = Uri.parse(musicFiles.get(position).getPath());\n        mediaPlayer = null;\n        mediaPlayer = new MediaPlayer();\n        mediaPlayer.setAudioStreamType(AudioManager.STREAM_MUSIC);\n        try {\n            mediaPlayer.setDataSource(getApplicationContext(), uri);\n        } catch (IOException ioException) {\n            ioException.printStackTrace();\n        }\n        prepare();\n    }\n\n    private void playMedia(int position) {\n        if(mediaPlayer != null) {\n            mediaPlayer.stop();\n            releaseMP();\n        }\n        createMediaPlayer(position);\n        mediaPlayer.start();\n    }\n\n    public void prepare() {\n        try {\n            mediaPlayer.prepare();\n        } catch (IOException ioException) {\n            ioException.printStackTrace();\n        }\n    }\n\n    void showNotification(int playPauseBtn){\n        ...\n        startForeground(2, notification);\n        if(!isGoing &amp;&amp; IS_LIVE) {\n            stopForeground(false);\n        }\n    }\n\n\n    void OnCompleted(){\n        mediaPlayer.setOnCompletionListener(this);\n    }\n\n    void OnPrepared() { mediaPlayer.setOnPreparedListener(this);}\n\n    @Override\n    public void onCompletion(MediaPlayer mp) {\n        if(actionPlaying != null){\n            actionPlaying.nextBtnClicked();\n            if(mediaPlayer != null){\n                mediaPlayer.start();\n                OnCompleted();\n            }\n        }\n    }\n\n    private void releaseMP() {\n        if (mediaPlayer != null) {\n            try {\n                mediaPlayer.release();\n                mediaPlayer = null;\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Override\n    public void onPrepared(MediaPlayer mp) {\n        mp.start();\n    }\n    \n\n\npublic void start() {\n    mediaPlayer.start();\n}\npublic boolean isPlaying() {\n    return mediaPlayer.isPlaying();\n}\npublic void stop() {\n    mediaPlayer.stop();\n}\npublic void pause() {\n    mediaPlayer.pause();\n}\npublic void release() {\n    releaseMP();\n}\npublic int getDuration() {\n    return mediaPlayer.getDuration();\n}\npublic void seekTo(int position) {\n    mediaPlayer.seekTo(position);\n}\npublic int getCurrentPosition() {\n    return mediaPlayer.getCurrentPosition();\n}\n}\n</code></pre>\n<p>Code for the method:</p>\n<pre><code>public void nextBtnClicked() {\n        if(musicService.isPlaying()) {\n            musicService.stop();\n            musicService.release();\n            if(SHUFFLE &amp;&amp; !REPEAT){\n                POSITION_PLAY = getRandom(ListSongs.size() - 1);\n            }\n            else if(!SHUFFLE &amp;&amp; !REPEAT){\n                POSITION_PLAY = ((POSITION_PLAY + 1) % ListSongs.size());\n            }\n            uri = Uri.parse(ListSongs.get(POSITION_PLAY).getPath());\n            musicService.createMediaPlayer(POSITION_PLAY);\n            if(is_live_player_activity) {\n                metaData(uri);\n            }\n            musicService.OnCompleted();\n            musicService.showNotification(R.drawable.ic_pause);\n            playPauseBtn.setBackgroundResource(R.drawable.ic_pause);\n            musicService.start();\n        }\n        else {\n            musicService.stop();\n            musicService.release();\n            if(SHUFFLE &amp;&amp; !REPEAT){\n                POSITION_PLAY = getRandom(ListSongs.size() - 1);\n            }\n            else if(!SHUFFLE &amp;&amp; !REPEAT){\n                POSITION_PLAY = ((POSITION_PLAY + 1) % ListSongs.size());\n            }\n            uri = Uri.parse(ListSongs.get(POSITION_PLAY).getPath());\n            musicService.createMediaPlayer(POSITION_PLAY);\n            if(is_live_player_activity) {\n                metaData(uri);\n            }\n            musicService.OnCompleted();\n            if(FLAG){\n                musicService.showNotification(R.drawable.ic_pause);\n                playPauseBtn.setBackgroundResource(R.drawable.ic_pause);\n            } else {\n                musicService.showNotification(R.drawable.ic_play);\n                playPauseBtn.setBackgroundResource(R.drawable.ic_play);\n            }\n        }\n    }\n</code></pre>\n<p>Manifest:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.music&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:name=&quot;.ApplicationClass&quot;\n        android:screenOrientation=&quot;portrait&quot;\n        android:theme=&quot;@style/Theme.Music&quot;&gt;\n\n        &lt;activity android:name=&quot;.MusicActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:launchMode=&quot;singleTask&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        ...\n        &lt;service android:name=&quot;.MusicService&quot; android:enabled=&quot;true&quot;/&gt;\n        &lt;receiver android:name=&quot;.NotificationReceiver&quot; android:enabled=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n                &lt;action android:name=&quot;android.media.AUDIO_BECOMING_NOISY&quot; /&gt;\n                &lt;action android:name=&quot;actionprevious&quot; /&gt;\n                &lt;action android:name=&quot;actionnext&quot; /&gt;\n                &lt;action android:name=&quot;actionplay&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","class","lambda","stream","method-reference"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1635436140,"post_id":69757097,"comment_id":123303728,"body_markdown":"`customerInput(Bank::addCustomerTransaction)` is basically translated to `(bank, branchName, customerName, transaction) -&gt; bank.addCustomerTransaction(branchName, customerName, transaction))` as they have the same signature. The catch is that the first parameter `bank` is the bank instance and `addCustomerTransaction(String branchName, String customerName, Transaction transcation)` (guessed the param types) actually has an implicit first `this` parameter which is the bank. So this method is different from the static `addCustomerTransaction()`.","body":"<code>customerInput(Bank::addCustomerTransaction)</code> is basically translated to <code>(bank, branchName, customerName, transaction) -&gt; bank.addCustomerTransaction(branchName, customerName, transaction))</code> as they have the same signature. The catch is that the first parameter <code>bank</code> is the bank instance and <code>addCustomerTransaction(String branchName, String customerName, Transaction transcation)</code> (guessed the param types) actually has an implicit first <code>this</code> parameter which is the bank. So this method is different from the static <code>addCustomerTransaction()</code>."},{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1635436899,"post_id":69757097,"comment_id":123304064,"body_markdown":"Here&#39;s also a quick find for relevant topic that will hopefully explain different styles of lambdas and method references in Java: https://www.geeksforgeeks.org/method-references-in-java-with-examples/","body":"Here&#39;s also a quick find for relevant topic that will hopefully explain different styles of lambdas and method references in Java: <a href=\"https://www.geeksforgeeks.org/method-references-in-java-with-examples/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/method-references-in-java-with-examples</a>"},{"owner":{"display_name":"user17188729"},"score":0,"creation_date":1635790159,"post_id":69757097,"comment_id":123382165,"body_markdown":"@Thomas Thanks a lot, but could not understand completely. Maybe my example is not a proper example. Could you pls explain by using a proper example as an answer?","body":"@Thomas Thanks a lot, but could not understand completely. Maybe my example is not a proper example. Could you pls explain by using a proper example as an answer?"},{"owner":{"display_name":"user17188729"},"score":0,"creation_date":1635790237,"post_id":69757097,"comment_id":123382196,"body_markdown":"@M.Prokhorov Seems a useful page, thanks a lot.","body":"@M.Prokhorov Seems a useful page, thanks a lot."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635838290,"creation_date":1635838290,"answer_id":69806751,"question_id":69757097,"body_markdown":"No, this won&#39;t be a recursive call since `Bank::addCustomerTransaction` won&#39;t refer to `private static void addCustomerTransaction()` but to a method with the same name and a fitting signature. I&#39;ll provide a simple answer but please look for a proper tutorial on this for details.\r\n\r\nLet&#39;s assume the parameter for `customerInput()` is an interface that has a method like this:\r\n\r\n    void takeInput(Bank bank, String branchName, String customerName, Transaction transaction);\r\n\r\nNow you could pass any method reference that matches this signature and the same method resolution rules apply that Java uses for normal method calls, i.e. if you have 2 methods `void foo(int x)` and `void foo(long x)` and a call `foo(2)` the compiler will need to determine whether you mean to call the 1st or 2nd method (here the 1st method would be chosen because `1` is an `int` literal).\r\n\r\n_With those rules in place, how does the compiler select the method in your case?_\r\n\r\nLet&#39;s assume we have the following class:\r\n\r\n    class Bank {\r\n       void addCustomerTransaction(String branchName, String customerName, Transaction transaction) { ... }\r\n\r\n       static void addCustomerTransaction() {\r\n         customerInput(Bank::addCustomerTransaction);\r\n       }\r\n    }\r\n\r\n\r\n_Why isn&#39;t this a recursive call?_ \r\n\r\nBecause `void addCustomerTransaction()` doesn&#39;t match the signature required for `void takeInput(Bank, String, String, Transaction)` at all.\r\n\r\n_But why does the instance method `void addCustomerTransaction(String, String, Transaction)` match?_\r\n\r\nThat&#39;s because instance methods _implicitly_ get a first parameter which is a reference to the instance (i.e. the `this` reference), so _to the compiler_ that method looks like this (internally there is no difference between static and instance methods):\r\n\r\n     void addCustomerTransaction(Bank, String, String, Transaction)\r\n\r\nNow this matches the required signature and hence the method can be called.\r\n\r\nTo prove this, try to add a static method with the same signature:\r\n\r\n     static void addCustomerTransaction(Bank bank, String branchName, String customerName, Transaction transaction) { ... }\r\n\r\nNow the compiler can&#39;t decide whether to use the static method or the instance method and it will tell you so.","title":"Calling method reference using lambda (:: operator)","body":"<p>No, this won't be a recursive call since <code>Bank::addCustomerTransaction</code> won't refer to <code>private static void addCustomerTransaction()</code> but to a method with the same name and a fitting signature. I'll provide a simple answer but please look for a proper tutorial on this for details.</p>\n<p>Let's assume the parameter for <code>customerInput()</code> is an interface that has a method like this:</p>\n<pre><code>void takeInput(Bank bank, String branchName, String customerName, Transaction transaction);\n</code></pre>\n<p>Now you could pass any method reference that matches this signature and the same method resolution rules apply that Java uses for normal method calls, i.e. if you have 2 methods <code>void foo(int x)</code> and <code>void foo(long x)</code> and a call <code>foo(2)</code> the compiler will need to determine whether you mean to call the 1st or 2nd method (here the 1st method would be chosen because <code>1</code> is an <code>int</code> literal).</p>\n<p><em>With those rules in place, how does the compiler select the method in your case?</em></p>\n<p>Let's assume we have the following class:</p>\n<pre><code>class Bank {\n   void addCustomerTransaction(String branchName, String customerName, Transaction transaction) { ... }\n\n   static void addCustomerTransaction() {\n     customerInput(Bank::addCustomerTransaction);\n   }\n}\n</code></pre>\n<p><em>Why isn't this a recursive call?</em></p>\n<p>Because <code>void addCustomerTransaction()</code> doesn't match the signature required for <code>void takeInput(Bank, String, String, Transaction)</code> at all.</p>\n<p><em>But why does the instance method <code>void addCustomerTransaction(String, String, Transaction)</code> match?</em></p>\n<p>That's because instance methods <em>implicitly</em> get a first parameter which is a reference to the instance (i.e. the <code>this</code> reference), so <em>to the compiler</em> that method looks like this (internally there is no difference between static and instance methods):</p>\n<pre><code> void addCustomerTransaction(Bank, String, String, Transaction)\n</code></pre>\n<p>Now this matches the required signature and hence the method can be called.</p>\n<p>To prove this, try to add a static method with the same signature:</p>\n<pre><code> static void addCustomerTransaction(Bank bank, String branchName, String customerName, Transaction transaction) { ... }\n</code></pre>\n<p>Now the compiler can't decide whether to use the static method or the instance method and it will tell you so.</p>\n"}],"owner":{"display_name":"user17188729"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69806751,"answer_count":1,"score":-1,"last_activity_date":1635838290,"creation_date":1635435634,"question_id":69757097,"body_markdown":"I have seen some approaches as shown below: \r\n\r\n***calling like this:***\r\n\r\n```\r\nprivate static void addCustomerTransaction() {\r\n  customerInput((bank, branchName, customerName, transaction) -&gt;\r\n      bank.addCustomerTransaction(branchName, customerName, transaction));\r\n}\r\n\r\nprivate static void addCustomer() {\r\n  customerInput((bank, branchName, customerName, transaction) -&gt;\r\n      bank.addCustomer(branchName, customerName, transaction));\r\n}\r\n\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n***or using method references:***\r\n\r\n\r\n```\r\nprivate static void addCustomerTransaction() {\r\n  customerInput(Bank::addCustomerTransaction);\r\n}\r\n\r\nprivate static void addCustomer() {\r\n  customerInput(Bank::addCustomer);\r\n}\r\n```\r\n\r\nI read that code like that: When calling `addCustomerTransaction()` method, it calls the `customerInput` method by passing `Bank` class&#39;s `addCustomer` method. But it seems to be a recursive call. SO, what is the meaning and could you pls give a brief example? \r\n\r\nThanks in advance. ","title":"Calling method reference using lambda (:: operator)","body":"<p>I have seen some approaches as shown below:</p>\n<p><em><strong>calling like this:</strong></em></p>\n<pre><code>private static void addCustomerTransaction() {\n  customerInput((bank, branchName, customerName, transaction) -&gt;\n      bank.addCustomerTransaction(branchName, customerName, transaction));\n}\n\nprivate static void addCustomer() {\n  customerInput((bank, branchName, customerName, transaction) -&gt;\n      bank.addCustomer(branchName, customerName, transaction));\n}\n\n</code></pre>\n<br/>\n<p><em><strong>or using method references:</strong></em></p>\n<pre><code>private static void addCustomerTransaction() {\n  customerInput(Bank::addCustomerTransaction);\n}\n\nprivate static void addCustomer() {\n  customerInput(Bank::addCustomer);\n}\n</code></pre>\n<p>I read that code like that: When calling <code>addCustomerTransaction()</code> method, it calls the <code>customerInput</code> method by passing <code>Bank</code> class's <code>addCustomer</code> method. But it seems to be a recursive call. SO, what is the meaning and could you pls give a brief example?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-restcontroller","spring-resttemplate"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1635794285,"post_id":69801732,"comment_id":123383610,"body_markdown":"And do you have a question?","body":"And do you have a question?"},{"owner":{"account_id":5990231,"reputation":23,"user_id":4706499,"display_name":"huk12353"},"score":0,"creation_date":1635794645,"post_id":69801732,"comment_id":123383738,"body_markdown":"The question is how can I call the rest endpoint with the concurrent request,? I know how to call single-threaded using rest templates.","body":"The question is how can I call the rest endpoint with the concurrent request,? I know how to call single-threaded using rest templates."},{"owner":{"account_id":442447,"reputation":3141,"user_id":833070,"accept_rate":100,"display_name":"Draken"},"score":0,"creation_date":1635838294,"post_id":69801732,"comment_id":123392499,"body_markdown":"Sharing your research helps everyone. Tell us what you&#39;ve tried and why it didnt meet your needs. This demonstrates that youve taken the time to try to help yourself, it saves us from reiterating obvious answers, and most of all it helps you get a more specific and relevant answer! See also: [ask]","body":"Sharing your research helps everyone. Tell us what you&#39;ve tried and why it didnt meet your needs. This demonstrates that youve taken the time to try to help yourself, it saves us from reiterating obvious answers, and most of all it helps you get a more specific and relevant answer! See also: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"answers":[{"tags":[],"owner":{"account_id":3988115,"reputation":1606,"user_id":3288041,"display_name":"gkatiforis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635801386,"creation_date":1635798970,"answer_id":69802524,"question_id":69801732,"body_markdown":"**Use `RestTemplate` with `ExecutorService`**\r\n\r\nUsing `ExecutorService` to perform 3 concurrent calls with `RestTemplate`:\r\n\r\n    Strnig url = &quot;https://asia-east2-jsondoc.cloudfunctions.net/function-1?delay=1000&quot;;\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    ExecutorService executor = Executors.newFixedThreadPool(3);\r\n    \r\n    Future&lt;String&gt; future1 = executor.submit(() -&gt; restTemplate.getForObject(url , String.class));\r\n    Future&lt;String&gt; future2 = executor.submit(() -&gt; restTemplate.getForObject(url , String.class));\r\n    Future&lt;String&gt; future3 = executor.submit(() -&gt; restTemplate.getForObject(url , String.class));\r\n                    \r\n    String response1 = future1.get();\r\n    String response2 = future2.get();\r\n    String response3 = future3.get();\r\n    \r\n    executor.shutdown();\r\n\r\n\r\n**Use reactive `WebClient`**\r\n\r\nUsing reactive `WebClient` to perform 3 concurrent calls and display the response in `subscribe` callback:\r\n\r\n    String url = &quot;https://asia-east2-jsondoc.cloudfunctions.net/function-1?delay=5000&quot;;\r\n    WebClient webClient = WebClient.builder().build();\r\n\r\n    Mono&lt;String&gt; mono1 = webClient.get().uri(url).retrieve().bodyToMono(String.class);\r\n    Mono&lt;String&gt; mono2 = webClient.get().uri(url).retrieve().bodyToMono(String.class);\r\n    Mono&lt;String&gt; mono3 = webClient.get().uri(url).retrieve().bodyToMono(String.class);\r\n                    \r\n    Flux.merge(mono1, mono2, mono3).subscribe(System.out::println);\r\n\r\n","title":"Call Rest end point with concurrent request","body":"<p><strong>Use <code>RestTemplate</code> with <code>ExecutorService</code></strong></p>\n<p>Using <code>ExecutorService</code> to perform 3 concurrent calls with <code>RestTemplate</code>:</p>\n<pre><code>Strnig url = &quot;https://asia-east2-jsondoc.cloudfunctions.net/function-1?delay=1000&quot;;\nRestTemplate restTemplate = new RestTemplate();\nExecutorService executor = Executors.newFixedThreadPool(3);\n\nFuture&lt;String&gt; future1 = executor.submit(() -&gt; restTemplate.getForObject(url , String.class));\nFuture&lt;String&gt; future2 = executor.submit(() -&gt; restTemplate.getForObject(url , String.class));\nFuture&lt;String&gt; future3 = executor.submit(() -&gt; restTemplate.getForObject(url , String.class));\n                \nString response1 = future1.get();\nString response2 = future2.get();\nString response3 = future3.get();\n\nexecutor.shutdown();\n</code></pre>\n<p><strong>Use reactive <code>WebClient</code></strong></p>\n<p>Using reactive <code>WebClient</code> to perform 3 concurrent calls and display the response in <code>subscribe</code> callback:</p>\n<pre><code>String url = &quot;https://asia-east2-jsondoc.cloudfunctions.net/function-1?delay=5000&quot;;\nWebClient webClient = WebClient.builder().build();\n\nMono&lt;String&gt; mono1 = webClient.get().uri(url).retrieve().bodyToMono(String.class);\nMono&lt;String&gt; mono2 = webClient.get().uri(url).retrieve().bodyToMono(String.class);\nMono&lt;String&gt; mono3 = webClient.get().uri(url).retrieve().bodyToMono(String.class);\n                \nFlux.merge(mono1, mono2, mono3).subscribe(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":5990231,"reputation":23,"user_id":4706499,"display_name":"huk12353"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69802524,"answer_count":1,"score":1,"last_activity_date":1635838267,"creation_date":1635794131,"question_id":69801732,"body_markdown":"    &quot;url&quot;:&quot;https://asia-east2-jsondoc.cloudfunctions.net/function-1?delay=1000&quot;  //url that takes 1000 ms to return \t&quot;isParallel&quot;: true, \t&quot;count&quot;: &quot;3&quot; \r\n\r\nisParallel = true means make parallel calls, false means  make a sequential call, count represents the number of parallel or sequential calls to make. \r\n\r\nI have to call the above endpoint and the output should be 1 sec.\r\n\r\nHow can I call the rest endpoint with the concurrent request? I know how to call single-threaded using rest templates.","title":"Call Rest end point with concurrent request","body":"<pre><code>&quot;url&quot;:&quot;https://asia-east2-jsondoc.cloudfunctions.net/function-1?delay=1000&quot;  //url that takes 1000 ms to return     &quot;isParallel&quot;: true,     &quot;count&quot;: &quot;3&quot; \n</code></pre>\n<p>isParallel = true means make parallel calls, false means  make a sequential call, count represents the number of parallel or sequential calls to make.</p>\n<p>I have to call the above endpoint and the output should be 1 sec.</p>\n<p>How can I call the rest endpoint with the concurrent request? I know how to call single-threaded using rest templates.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","reactive-programming"],"comments":[{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":1,"creation_date":1635693491,"post_id":69787788,"comment_id":123357968,"body_markdown":"See https://stackoverflow.com/a/69533407/8909235","body":"See <a href=\"https://stackoverflow.com/a/69533407/8909235\">stackoverflow.com/a/69533407/8909235</a>"},{"owner":{"account_id":23198012,"reputation":1,"user_id":17293340,"display_name":"cafff"},"score":0,"creation_date":1635700861,"post_id":69787788,"comment_id":123359837,"body_markdown":"@lkatiforis i saw the post but I am need to store it in an integer value and i tried that method in the post but it doesn&#39;t work. I am not sure what I am doing wrong..plz help","body":"@lkatiforis i saw the post but I am need to store it in an integer value and i tried that method in the post but it doesn&#39;t work. I am not sure what I am doing wrong..plz help"},{"owner":{"account_id":23198012,"reputation":1,"user_id":17293340,"display_name":"cafff"},"score":0,"creation_date":1635740130,"post_id":69787788,"comment_id":123366570,"body_markdown":"@lkatiforis in the code i wanted to subscribe the result as done in the post but it gives an error. `CustomSequences cs=new CustomSequences();` `counter.subscribe(v-&gt;cs.setSeq(v));` it cannot set it to the cs because it requires an int and custom sequence is provided.","body":"@lkatiforis in the code i wanted to subscribe the result as done in the post but it gives an error. <code>CustomSequences cs=new CustomSequences();</code> <code>counter.subscribe(v-&gt;cs.setSeq(v));</code> it cannot set it to the cs because it requires an int and custom sequence is provided."}],"owner":{"account_id":23198012,"reputation":1,"user_id":17293340,"display_name":"cafff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635818832,"answer_count":0,"score":0,"last_activity_date":1635838185,"creation_date":1635692451,"question_id":69787788,"body_markdown":"I want to return the int value from my Mono class.\r\n```java\r\nint i = counter.map(u -&gt; u.getSeq());\r\n```\r\n\r\nI tried this but it show me error as required type: int, \r\nProvided: Mono&lt;java.lang.Object&gt;\r\n\r\nthis is my Method\r\n```java\r\npublic int getNextSequence(String seqName) {\r\n    Mono&lt;CustomSequences&gt; counter = \r\n        reactiveMongoOperations.findAndModify(\r\n            query(where(&quot;_id&quot;).is(seqName)),\r\n            new Update().inc(&quot;seq&quot;, 1),\r\n            options().returnNew(true).upsert(true),\r\n            CustomSequences.class);\r\n    CustomSequences cs = new CustomSequences();\r\n    counter.subscribe(v -&gt; cs.setSeq(v));\r\n    int i = counter.map(u -&gt; u.getSeq());\r\n    return !Objects.isNull(counter) ? i : &quot;1&quot;;\r\n}","title":"How to return int value from Mono in reactive programming","body":"<p>I want to return the int value from my Mono class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = counter.map(u -&gt; u.getSeq());\n</code></pre>\n<p>I tried this but it show me error as required type: int,\nProvided: Mono&lt;java.lang.Object&gt;</p>\n<p>this is my Method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int getNextSequence(String seqName) {\n    Mono&lt;CustomSequences&gt; counter = \n        reactiveMongoOperations.findAndModify(\n            query(where(&quot;_id&quot;).is(seqName)),\n            new Update().inc(&quot;seq&quot;, 1),\n            options().returnNew(true).upsert(true),\n            CustomSequences.class);\n    CustomSequences cs = new CustomSequences();\n    counter.subscribe(v -&gt; cs.setSeq(v));\n    int i = counter.map(u -&gt; u.getSeq());\n    return !Objects.isNull(counter) ? i : &quot;1&quot;;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15240508,"reputation":1895,"user_id":11143190,"display_name":"Zain Arshad"},"score":0,"creation_date":1635802911,"post_id":69803048,"comment_id":123386204,"body_markdown":"Can you please provide a valid output for the input.dat file given above?","body":"Can you please provide a valid output for the input.dat file given above?"},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1635803145,"post_id":69803048,"comment_id":123386265,"body_markdown":"If you go straight to go to work, would you get home by only doing U-turns?","body":"If you go straight to go to work, would you get home by only doing U-turns?"},{"owner":{"account_id":22809330,"reputation":23,"user_id":16960910,"display_name":"nbhat01"},"score":0,"creation_date":1635804848,"post_id":69803048,"comment_id":123386678,"body_markdown":"You would get home by doing a U-Turn (which is guaranteed, the input always has one), then going straight back","body":"You would get home by doing a U-Turn (which is guaranteed, the input always has one), then going straight back"}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1635837975,"creation_date":1635803488,"answer_id":69803149,"question_id":69803048,"body_markdown":"Looks like you have a problem with using `t.replace(&quot;U&quot;, &quot;S&quot;)`. This is not suitable for multiple replacements. It&#39;s much better to use `StringBuilder` (because `String` is immutable) and one time go through the original `String` and build a new one with all required replacements letter by letter.\r\n \r\n```java\r\npublic class DogWalk {\r\n\r\n    public static void main(String... args) throws FileNotFoundException {\r\n        try (Scanner scan = new Scanner(new File(&quot;input.dat&quot;))) {\r\n            int total = scan.nextInt();\r\n            scan.nextLine();\r\n\r\n            for (int i = 0; i &lt; total; i++)\r\n                System.out.println(convert(scan.nextLine()));\r\n        }\r\n    }\r\n\r\n    private static String convert(String str) {\r\n        StringBuilder buf = new StringBuilder(str.length() - 1);\r\n\r\n        for (int i = str.length() - 1; i &gt; 0; i--) {\r\n            char ch = str.charAt(i);\r\n\r\n            if (ch == &#39;U&#39;)\r\n                buf.append(&#39;S&#39;);\r\n            else if (ch == &#39;L&#39;)\r\n                buf.append(&#39;R&#39;);\r\n            else if (ch == &#39;R&#39;)\r\n                buf.append(&#39;L&#39;);\r\n            else\r\n                buf.append(ch);\r\n        }\r\n\r\n        return buf.toString();\r\n    }\r\n\r\n}\r\n```","title":"How to swap two characters (L and R) with each other in a String java","body":"<p>Looks like you have a problem with using <code>t.replace(&quot;U&quot;, &quot;S&quot;)</code>. This is not suitable for multiple replacements. It's much better to use <code>StringBuilder</code> (because <code>String</code> is immutable) and one time go through the original <code>String</code> and build a new one with all required replacements letter by letter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DogWalk {\n\n    public static void main(String... args) throws FileNotFoundException {\n        try (Scanner scan = new Scanner(new File(&quot;input.dat&quot;))) {\n            int total = scan.nextInt();\n            scan.nextLine();\n\n            for (int i = 0; i &lt; total; i++)\n                System.out.println(convert(scan.nextLine()));\n        }\n    }\n\n    private static String convert(String str) {\n        StringBuilder buf = new StringBuilder(str.length() - 1);\n\n        for (int i = str.length() - 1; i &gt; 0; i--) {\n            char ch = str.charAt(i);\n\n            if (ch == 'U')\n                buf.append('S');\n            else if (ch == 'L')\n                buf.append('R');\n            else if (ch == 'R')\n                buf.append('L');\n            else\n                buf.append(ch);\n        }\n\n        return buf.toString();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22809330,"reputation":23,"user_id":16960910,"display_name":"nbhat01"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635837975,"creation_date":1635802657,"question_id":69803048,"body_markdown":"Here are the basics you need to know: \r\n```\r\nL - Left\r\nR - Right\r\nS - Straight\r\nU - U-Turn\r\n```\r\nSo the string is basically a series of movements, and your output must be the retracement of them (will take you back on the same path you came from and reaches the same destination).\r\n\r\nI&#39;ve figured out all the patterns (reverse string, U goes to S, L goes to R, R goes to L, remove first S). I just need to know how I can replace the L&#39;s and R&#39;s with each other.\r\n``` \r\nimport java.io.*;\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\nimport java.lang.*;\r\n\r\npublic class DogWalk {\r\n\tpublic static void main(String [] args) {\r\n\t\tScanner input = null;\r\n\t\ttry {\r\n\t\t\tinput = new Scanner(new File(&quot;input.dat&quot;));\r\n      \t\tString line;\r\n\t\t}\r\n\t\tcatch (FileNotFoundException e) {\r\n      \t\tSystem.out.println(&quot;***  Can&#39;t open input.dat ***&quot;);\r\n      \t\tSystem.exit(1);\r\n\t\t}\r\n\t\tint i = 0;\r\n\t\twhile(input.hasNextInt()) {\r\n\t\t\ti += input.nextInt();\r\n\r\n\t\t}\r\n\t\t\r\n\t\tArrayList&lt;String&gt; n = new ArrayList&lt;String&gt;();\r\n\t\tint count = -1;\r\n\t\t\r\n\t    while(input.hasNextLine()) {\r\n\t\t\tn.add(input.nextLine());\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\t\r\n\t\t// Loop to parse through string and make changes\r\n\t\tfor (int j = 1; j &lt;= count; j++) {\r\n\t\t    String nstr = &quot;&quot;;\r\n\t\t\tString t = n.get(j); // Getting each string\r\n\t\t\tt = t.substring(1); // Removing first S\r\n\t\t\tchar ch;\r\n\t\t\t\r\n\t\t\tif(t.charAt(t.length() - 1) == &#39;U&#39;) { // Replacing U with S\r\n\t\t\t    t = t.replace(&quot;U&quot;, &quot;S&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (int b=0; b&lt;t.length(); b++) { // Loop to make string backwards\r\n                ch= t.charAt(b);\r\n                nstr= ch+nstr; \r\n            }\r\n            \r\n            t = nstr;\r\n\t\t\tSystem.out.println(t);\r\n        }\r\n\t}\r\n}\r\n\r\n```\r\n\r\nSo that&#39;s the main code, the replacing L and R should occur in the big loop at the bottom. My attempted solution to this was to just go through it with a loop, but it just runs into the problem of replacing itself and then either going full L&#39;s or full R&#39;s. Here&#39;s my input.dat file by the way (this was part of school requirements would&#39;ve rather did it without the data file). \r\nInput:\r\n\r\n``` \r\n3\r\nSRLLRLU\r\nSSLRRRLSLRLU\r\nSSSSSRSLLSRU\r\n```\r\n\r\nFeel like I&#39;m just missing an easy solution. Just need some help.\r\nHere&#39;s the sample output:\r\n```\r\nSRLRRL\r\nSRLRSRLLLRS\r\nSLSRRSLSSSS\r\n```\r\n","title":"How to swap two characters (L and R) with each other in a String java","body":"<p>Here are the basics you need to know:</p>\n<pre><code>L - Left\nR - Right\nS - Straight\nU - U-Turn\n</code></pre>\n<p>So the string is basically a series of movements, and your output must be the retracement of them (will take you back on the same path you came from and reaches the same destination).</p>\n<p>I've figured out all the patterns (reverse string, U goes to S, L goes to R, R goes to L, remove first S). I just need to know how I can replace the L's and R's with each other.</p>\n<pre><code>import java.io.*;\nimport java.util.Scanner;\nimport java.util.ArrayList;\nimport java.lang.*;\n\npublic class DogWalk {\n    public static void main(String [] args) {\n        Scanner input = null;\n        try {\n            input = new Scanner(new File(&quot;input.dat&quot;));\n            String line;\n        }\n        catch (FileNotFoundException e) {\n            System.out.println(&quot;***  Can't open input.dat ***&quot;);\n            System.exit(1);\n        }\n        int i = 0;\n        while(input.hasNextInt()) {\n            i += input.nextInt();\n\n        }\n        \n        ArrayList&lt;String&gt; n = new ArrayList&lt;String&gt;();\n        int count = -1;\n        \n        while(input.hasNextLine()) {\n            n.add(input.nextLine());\n            count++;\n        }\n        \n        // Loop to parse through string and make changes\n        for (int j = 1; j &lt;= count; j++) {\n            String nstr = &quot;&quot;;\n            String t = n.get(j); // Getting each string\n            t = t.substring(1); // Removing first S\n            char ch;\n            \n            if(t.charAt(t.length() - 1) == 'U') { // Replacing U with S\n                t = t.replace(&quot;U&quot;, &quot;S&quot;);\n            }\n            \n            for (int b=0; b&lt;t.length(); b++) { // Loop to make string backwards\n                ch= t.charAt(b);\n                nstr= ch+nstr; \n            }\n            \n            t = nstr;\n            System.out.println(t);\n        }\n    }\n}\n\n</code></pre>\n<p>So that's the main code, the replacing L and R should occur in the big loop at the bottom. My attempted solution to this was to just go through it with a loop, but it just runs into the problem of replacing itself and then either going full L's or full R's. Here's my input.dat file by the way (this was part of school requirements would've rather did it without the data file).\nInput:</p>\n<pre><code>3\nSRLLRLU\nSSLRRRLSLRLU\nSSSSSRSLLSRU\n</code></pre>\n<p>Feel like I'm just missing an easy solution. Just need some help.\nHere's the sample output:</p>\n<pre><code>SRLRRL\nSRLRSRLLLRS\nSLSRRSLSSSS\n</code></pre>\n"},{"tags":["java","replaceall"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1635829439,"post_id":69805486,"comment_id":123390649,"body_markdown":"You have oldUser and newUser back to front in your code.","body":"You have oldUser and newUser back to front in your code."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1635829472,"post_id":69805486,"comment_id":123390653,"body_markdown":"Either the data isn&#39;t getting replaced, in which case the file-writing is not relevant, or the file-writing isn&#39;t working, in which case the regex replacement is not relevant. You should be able to determine which by debugging your code, and this will help you to narrow down your issue to one specific problem; please see [mcve].","body":"Either the data isn&#39;t getting replaced, in which case the file-writing is not relevant, or the file-writing isn&#39;t working, in which case the regex replacement is not relevant. You should be able to determine which by debugging your code, and this will help you to narrow down your issue to one specific problem; please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":23154774,"reputation":77,"user_id":17256191,"display_name":"Therone Almadin"},"score":0,"creation_date":1635831426,"post_id":69805486,"comment_id":123390975,"body_markdown":"@kaya3 there! i just excerpted it form a larger project and I think it should run as intended.","body":"@kaya3 there! i just excerpted it form a larger project and I think it should run as intended."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1635832536,"post_id":69805486,"comment_id":123391152,"body_markdown":"As tgdavies writes in his comment: you are trying to replace `&quot;AABBCCDD,NEW NAME,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;` with `&quot;AABBCCDD,NAME HERE,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;`, but  `&quot;AABBCCDD,NEW NAME,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;` cannot be found in your input and is therefore not replaced.","body":"As tgdavies writes in his comment: you are trying to replace <code>&quot;AABBCCDD,NEW NAME,emailhere@gmail.com,CITY HERE CITY,12&#47;31&#47;2000,11112223333,8000&quot;</code> with <code>&quot;AABBCCDD,NAME HERE,emailhere@gmail.com,CITY HERE CITY,12&#47;31&#47;2000,11112223333,8000&quot;</code>, but  <code>&quot;AABBCCDD,NEW NAME,emailhere@gmail.com,CITY HERE CITY,12&#47;31&#47;2000,11112223333,8000&quot;</code> cannot be found in your input and is therefore not replaced."},{"owner":{"account_id":23154774,"reputation":77,"user_id":17256191,"display_name":"Therone Almadin"},"score":0,"creation_date":1635837275,"post_id":69805486,"comment_id":123392237,"body_markdown":"@ThomasKl&#228;ger oh wait does that mean i have the two parameters switched? I have it attached to a class where it actually finds the user and it returns to me a match, meaning it has found the old user.","body":"@ThomasKl&#228;ger oh wait does that mean i have the two parameters switched? I have it attached to a class where it actually finds the user and it returns to me a match, meaning it has found the old user."},{"owner":{"account_id":23154774,"reputation":77,"user_id":17256191,"display_name":"Therone Almadin"},"score":0,"creation_date":1635837459,"post_id":69805486,"comment_id":123392285,"body_markdown":"okay im dumb so i did switch the two lol. Thanks alot for @ThomasKl&#228;ger and tgdavies","body":"okay im dumb so i did switch the two lol. Thanks alot for @ThomasKl&#228;ger and tgdavies"}],"answers":[{"tags":[],"owner":{"account_id":23154774,"reputation":77,"user_id":17256191,"display_name":"Therone Almadin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635837540,"creation_date":1635837540,"answer_id":69806647,"question_id":69805486,"body_markdown":"Okay so im gonna answer my own question here.\r\n\r\nI had the parameters for replaceAll() switched.\r\n\r\n","title":"replaceAll( ) not working in replacing lines in a CSV txt file","body":"<p>Okay so im gonna answer my own question here.</p>\n<p>I had the parameters for replaceAll() switched.</p>\n"}],"owner":{"account_id":23154774,"reputation":77,"user_id":17256191,"display_name":"Therone Almadin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635837540,"creation_date":1635828303,"question_id":69805486,"body_markdown":"I&#39;m trying to replace a certain line in a text file using the `replaceAll()` method but every time i try to run it, it doesn&#39;t change at all. I even tried to covert the string `oldUser` to a regex (`Pattern.quote(oldUser)`), am I missing something?\r\n\r\nText File Contents (person.txt):\r\n\r\n    ABCDEFG1,THERONE ALMADIN,theronealmadin@gmail.com,DAVAO CITY,06/09/1999,09226217885,8000\r\n    GFEDCBA2,NATHAN ANG,nathanang@gmail.com,BUTUAN CITY,01/02/2000,09451236987,8000\r\n    ADEACAS3,ANTON MARITIREZ,antonmaritirez@gmail.com,GENSAN CITY,02/13/2001,09214561236,8000\r\n    AABBCCDD,NAME HERE,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000\r\n\r\nMy code in particular:\r\n\r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.util.Scanner;\r\n    import java.util.regex.Pattern;\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            String oldUser = &quot;AABBCCDD,NEW NAME,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;;\r\n    \r\n            String newUser = &quot;AABBCCDD,NAME HERE,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;;\r\n    \r\n            String filepath = &quot;person.txt&quot;;\r\n            Scanner scanner = new Scanner (new File(filepath));\r\n    \r\n            StringBuilder bufferedList = new StringBuilder();\r\n    \r\n            while (scanner.hasNextLine()){\r\n                bufferedList.append(scanner.nextLine()).append(System.lineSeparator());\r\n            }\r\n    \r\n            String personContents = bufferedList.toString();\r\n            System.out.println(&quot;old data: &quot; + personContents);\r\n            scanner.close();\r\n    \r\n            System.out.println(&quot;REGEX&quot; + Pattern.quote(oldUser));\r\n            personContents = personContents.replaceAll(Pattern.quote(oldUser), newUser);\r\n    \r\n            FileWriter writer = new FileWriter(filepath);\r\n    \r\n            System.out.println(&quot;new data: &quot; + personContents);\r\n            writer.append(personContents);\r\n            writer.flush();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"replaceAll( ) not working in replacing lines in a CSV txt file","body":"<p>I'm trying to replace a certain line in a text file using the <code>replaceAll()</code> method but every time i try to run it, it doesn't change at all. I even tried to covert the string <code>oldUser</code> to a regex (<code>Pattern.quote(oldUser)</code>), am I missing something?</p>\n<p>Text File Contents (person.txt):</p>\n<pre><code>ABCDEFG1,THERONE ALMADIN,theronealmadin@gmail.com,DAVAO CITY,06/09/1999,09226217885,8000\nGFEDCBA2,NATHAN ANG,nathanang@gmail.com,BUTUAN CITY,01/02/2000,09451236987,8000\nADEACAS3,ANTON MARITIREZ,antonmaritirez@gmail.com,GENSAN CITY,02/13/2001,09214561236,8000\nAABBCCDD,NAME HERE,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000\n</code></pre>\n<p>My code in particular:</p>\n<pre><code>import java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.Scanner;\nimport java.util.regex.Pattern;\n\npublic class Main {\n\n    public static void main(String[] args) throws IOException {\n        String oldUser = &quot;AABBCCDD,NEW NAME,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;;\n\n        String newUser = &quot;AABBCCDD,NAME HERE,emailhere@gmail.com,CITY HERE CITY,12/31/2000,11112223333,8000&quot;;\n\n        String filepath = &quot;person.txt&quot;;\n        Scanner scanner = new Scanner (new File(filepath));\n\n        StringBuilder bufferedList = new StringBuilder();\n\n        while (scanner.hasNextLine()){\n            bufferedList.append(scanner.nextLine()).append(System.lineSeparator());\n        }\n\n        String personContents = bufferedList.toString();\n        System.out.println(&quot;old data: &quot; + personContents);\n        scanner.close();\n\n        System.out.println(&quot;REGEX&quot; + Pattern.quote(oldUser));\n        personContents = personContents.replaceAll(Pattern.quote(oldUser), newUser);\n\n        FileWriter writer = new FileWriter(filepath);\n\n        System.out.println(&quot;new data: &quot; + personContents);\n        writer.append(personContents);\n        writer.flush();\n\n    }\n}\n</code></pre>\n"},{"tags":["python","java","distroless"],"comments":[{"owner":{"account_id":13277507,"reputation":5362,"user_id":9586338,"display_name":"Waket Zheng"},"score":0,"creation_date":1635840212,"post_id":69806645,"comment_id":123393035,"body_markdown":"How about install jdk? https://vitux.com/how-to-install-java-on-ubuntu-20-04/","body":"How about install jdk? <a href=\"https://vitux.com/how-to-install-java-on-ubuntu-20-04/\" rel=\"nofollow noreferrer\">vitux.com/how-to-install-java-on-ubuntu-20-04</a>"},{"owner":{"account_id":23182339,"reputation":51,"user_id":17279984,"display_name":"vishweshwar totade"},"score":0,"creation_date":1635843513,"post_id":69806645,"comment_id":123394296,"body_markdown":"hey thanks for the suggestion i copied the /usr/lib/jvm files into the distroless container and it worked","body":"hey thanks for the suggestion i copied the /usr/lib/jvm files into the distroless container and it worked"}],"owner":{"account_id":23182339,"reputation":51,"user_id":17279984,"display_name":"vishweshwar totade"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635837535,"creation_date":1635837535,"question_id":69806645,"body_markdown":"I am trying to integrate jdk with a python venv on a distroless docker container for my application \r\n\r\nI am not able to import java modules in the venv created in the distroless container\r\n\r\nHow do i export jdk modules into the distroless container so that the application works\r\n```\r\nTraceback (most recent call last):\r\n  File &quot;sutime_server.py&quot;, line 18, in &lt;module&gt;\r\n    sutime = SUTime(jars=&#39;jars&#39;, mark_time_ranges=True, include_range=True)\r\n  File &quot;/app/sutime/sutime.py&quot;, line 47, in __init__\r\n    self._start_jvm()\r\n  File &quot;/app/sutime/sutime.py&quot;, line 67, in _start_jvm\r\n    jpype.getDefaultJVMPath(),\r\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_core.py&quot;, line 337, in getDefaultJVMPath\r\n    return finder.get_jvm_path()\r\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_jvmfinder.py&quot;, line 160, in get_jvm_path\r\n    jvm = method()\r\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_jvmfinder.py&quot;, line 215, in _get_from_known_locations\r\n    for home in self.find_possible_homes(self._locations):\r\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_jvmfinder.py&quot;, line 120, in find_possible_homes\r\n    for childname in sorted(os.listdir(parent)):\r\nFileNotFoundError: [Errno 2] No such file or directory: &#39;/usr/lib/jvm&#39;\r\n```\r\nthis is the error which i am getting while running the application","title":"integrating jdk with python venv","body":"<p>I am trying to integrate jdk with a python venv on a distroless docker container for my application</p>\n<p>I am not able to import java modules in the venv created in the distroless container</p>\n<p>How do i export jdk modules into the distroless container so that the application works</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;sutime_server.py&quot;, line 18, in &lt;module&gt;\n    sutime = SUTime(jars='jars', mark_time_ranges=True, include_range=True)\n  File &quot;/app/sutime/sutime.py&quot;, line 47, in __init__\n    self._start_jvm()\n  File &quot;/app/sutime/sutime.py&quot;, line 67, in _start_jvm\n    jpype.getDefaultJVMPath(),\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_core.py&quot;, line 337, in getDefaultJVMPath\n    return finder.get_jvm_path()\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_jvmfinder.py&quot;, line 160, in get_jvm_path\n    jvm = method()\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_jvmfinder.py&quot;, line 215, in _get_from_known_locations\n    for home in self.find_possible_homes(self._locations):\n  File &quot;/venv/lib/python3.7/site-packages/jpype/_jvmfinder.py&quot;, line 120, in find_possible_homes\n    for childname in sorted(os.listdir(parent)):\nFileNotFoundError: [Errno 2] No such file or directory: '/usr/lib/jvm'\n</code></pre>\n<p>this is the error which i am getting while running the application</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22699957,"reputation":102,"user_id":16867530,"display_name":"nurmanbetov"},"score":0,"creation_date":1635837298,"post_id":69806545,"comment_id":123392245,"body_markdown":"Try to use annotation @Value and Spring Expression Language to retrieve your properties according to your needs\n\nex: @Value(&quot;#{&#39;${users}&#39;.split(&#39;,&#39;)}&quot;) \nprivate List&lt;String&gt; userList;","body":"Try to use annotation @Value and Spring Expression Language to retrieve your properties according to your needs  ex: @Value(&quot;#{&#39;${users}&#39;.split(&#39;,&#39;)}&quot;)  private List&lt;String&gt; userList;"},{"owner":{"account_id":23212951,"reputation":23,"user_id":17306162,"display_name":"unanonymous56"},"score":0,"creation_date":1635837478,"post_id":69806545,"comment_id":123392288,"body_markdown":"I do not want to use Spring module","body":"I do not want to use Spring module"},{"owner":{"account_id":22699957,"reputation":102,"user_id":16867530,"display_name":"nurmanbetov"},"score":0,"creation_date":1635837764,"post_id":69806545,"comment_id":123392361,"body_markdown":"Then try to use Autowired annotation or through constructor injection to retrieve from Environment, such that:\n@Autowired\nprivate Environment environment;","body":"Then try to use Autowired annotation or through constructor injection to retrieve from Environment, such that: @Autowired private Environment environment;"}],"owner":{"account_id":23212951,"reputation":23,"user_id":17306162,"display_name":"unanonymous56"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":964,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1635839543,"answer_count":0,"score":0,"last_activity_date":1635837521,"creation_date":1635836975,"question_id":69806545,"body_markdown":"In config.properties file, there will be users key will multiple users as property values. There may be n users.\r\n\r\nusers = user1, user2, user3\r\n\r\nHow to split the users by commas using java and retrieve single value in each line and store it as either list or array without using spring framework/module.","title":"How to use multiple values of property key from property file in java","body":"<p>In config.properties file, there will be users key will multiple users as property values. There may be n users.</p>\n<p>users = user1, user2, user3</p>\n<p>How to split the users by commas using java and retrieve single value in each line and store it as either list or array without using spring framework/module.</p>\n"},{"tags":["javascript","java","css","reactjs","react-hooks"],"answers":[{"tags":[],"owner":{"account_id":18919504,"reputation":260,"user_id":13803823,"display_name":"J young"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635837409,"creation_date":1635836433,"answer_id":69806457,"question_id":69806384,"body_markdown":"return them with your customStyle\r\n\r\n```js\r\n\r\n  const customStyle = [{\r\n    position: &quot;absolute&quot;,\r\n    /*top: some random top value,*/\r\n    /*left: some random left value,*/\r\n    zIndex: &quot;initial&quot;,\r\n    color: &quot;green&quot;\r\n  },{\r\n    position: &quot;relative&quot;,\r\n    /*top: some random top value,*/\r\n    /*left: some random left value,*/\r\n    zIndex: &quot;1&quot;,\r\n    color: &quot;red&quot;\r\n  }];\r\n\r\n return (\r\n          &lt;div key={index} style={customStyle[index]}&gt;\r\n            {item}\r\n          &lt;/div&gt;\r\n        );\r\n```","title":"How to get each element inside a map and change its CSS?","body":"<p>return them with your customStyle</p>\n<pre class=\"lang-js prettyprint-override\"><code>\n  const customStyle = [{\n    position: &quot;absolute&quot;,\n    /*top: some random top value,*/\n    /*left: some random left value,*/\n    zIndex: &quot;initial&quot;,\n    color: &quot;green&quot;\n  },{\n    position: &quot;relative&quot;,\n    /*top: some random top value,*/\n    /*left: some random left value,*/\n    zIndex: &quot;1&quot;,\n    color: &quot;red&quot;\n  }];\n\n return (\n          &lt;div key={index} style={customStyle[index]}&gt;\n            {item}\n          &lt;/div&gt;\n        );\n</code></pre>\n"}],"owner":{"account_id":18581664,"reputation":74,"user_id":13541075,"display_name":"Srinivas Murthy. N.A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635837409,"creation_date":1635835913,"question_id":69806384,"body_markdown":"I want to loop through and assign a custom CSS property to each element inside a map called &quot;item&quot;, but I don&#39;t know how to do that. Below is my code:\r\n\r\n    import React from &quot;react&quot;;\r\n    \r\n    // Splitting Letters\r\n    const SplitText = React.memo(({ str }) =&gt; {\r\n      \r\n    \r\n      const customStyle = {\r\n        position: &quot;absolute&quot;,\r\n        /*top: some random top value,*/\r\n        /*left: some random left value,*/\r\n        zIndex: &quot;initial&quot;,\r\n        color: &quot;green&quot;\r\n      };\r\n\r\n      return (\r\n        &lt;div&gt;\r\n          {str.split(&quot;&quot;).map((item, index) =&gt; {\r\n    \r\n            \r\n            return (\r\n              &lt;div key={index}&gt;\r\n                {item}\r\n              &lt;/div&gt;\r\n            );\r\n          })}\r\n        &lt;/div&gt;\r\n      );\r\n    });\r\n    \r\n    export default SplitText;\r\n\r\nMy &quot;item&quot; has a set of letters and I want to catch hold of each letter and somehow map the customStyle CSS property to it.\r\n\r\nAny suggestions would be of great help.","title":"How to get each element inside a map and change its CSS?","body":"<p>I want to loop through and assign a custom CSS property to each element inside a map called &quot;item&quot;, but I don't know how to do that. Below is my code:</p>\n<pre><code>import React from &quot;react&quot;;\n\n// Splitting Letters\nconst SplitText = React.memo(({ str }) =&gt; {\n  \n\n  const customStyle = {\n    position: &quot;absolute&quot;,\n    /*top: some random top value,*/\n    /*left: some random left value,*/\n    zIndex: &quot;initial&quot;,\n    color: &quot;green&quot;\n  };\n\n  return (\n    &lt;div&gt;\n      {str.split(&quot;&quot;).map((item, index) =&gt; {\n\n        \n        return (\n          &lt;div key={index}&gt;\n            {item}\n          &lt;/div&gt;\n        );\n      })}\n    &lt;/div&gt;\n  );\n});\n\nexport default SplitText;\n</code></pre>\n<p>My &quot;item&quot; has a set of letters and I want to catch hold of each letter and somehow map the customStyle CSS property to it.</p>\n<p>Any suggestions would be of great help.</p>\n"},{"tags":["java","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":2,"up_vote_count":70,"is_accepted":true,"score":68,"last_activity_date":1371637584,"creation_date":1371637584,"answer_id":17188878,"question_id":17188773,"body_markdown":"Disable **Compact Empty Middle Packages** option in the `Project View`:\r\n\r\n![compact][1]\r\n\r\nYou will now see `admin` as a separate node and will be able to create a new package inside it.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VjGrZ.png","title":"Create new package in IntelliJ","body":"<p>Disable <strong>Compact Empty Middle Packages</strong> option in the <code>Project View</code>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/VjGrZ.png\" alt=\"compact\"></p>\n\n<p>You will now see <code>admin</code> as a separate node and will be able to create a new package inside it.</p>\n"},{"tags":[],"owner":{"account_id":137668,"reputation":2972,"user_id":342015,"display_name":"Tharaka"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1560252092,"creation_date":1469772591,"answer_id":38651630,"question_id":17188773,"body_markdown":"You can follow these steps:\r\n\r\n 1. Select the package from Project Pane\r\n\r\n 2. Double click the relevant section from the breadcrumb. Then it will get selected.\r\n\r\n 3. Right click on the same item\r\n\r\n 4. Select &quot;New&quot; &amp;rarr; &quot;Package&quot; from the menu\r\n\r\n [![enter image description here][1]][1]\r\n\r\n  [1]: http://i.stack.imgur.com/eK4NM.png","title":"Create new package in IntelliJ","body":"<p>You can follow these steps:</p>\n\n<ol>\n<li><p>Select the package from Project Pane</p></li>\n<li><p>Double click the relevant section from the breadcrumb. Then it will get selected.</p></li>\n<li><p>Right click on the same item</p></li>\n<li><p>Select \"New\" &rarr; \"Package\" from the menu</p>\n\n<p><a href=\"https://i.stack.imgur.com/eK4NM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eK4NM.png\" alt=\"enter image description here\"></a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3782477,"reputation":2332,"user_id":3141502,"accept_rate":100,"display_name":"Vaibhav Desai"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1560252077,"creation_date":1494225681,"answer_id":43841295,"question_id":17188773,"body_markdown":"Follow these steps:\r\n\r\n1. First set the folder as a &quot;Sources Root&quot; by right clicking and navigating to &quot;Mark directory&quot;.\r\n\r\n2. Right click on the same item \r\n\r\n3. Select &quot;New&quot; &amp;rarr; &quot;Package&quot;\r\n\r\nIn my case, I was not able to see the create new package option.","title":"Create new package in IntelliJ","body":"<p>Follow these steps:</p>\n\n<ol>\n<li><p>First set the folder as a \"Sources Root\" by right clicking and navigating to \"Mark directory\".</p></li>\n<li><p>Right click on the same item </p></li>\n<li><p>Select \"New\" &rarr; \"Package\"</p></li>\n</ol>\n\n<p>In my case, I was not able to see the create new package option.</p>\n"},{"tags":[],"owner":{"account_id":9883946,"reputation":69,"user_id":7319069,"display_name":"Ramesh Thoutam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635837132,"creation_date":1635837132,"answer_id":69806574,"question_id":17188773,"body_markdown":"To create package the Folder/Directory should be marked as Source or Test.\r\nRight click project-&gt;Project Structure-&gt;Project settings-&gt;Modules-&gt;select the folder where you want to create package and mark its as either Source or Test by clicking the respective colored icons. Then apply and ok.\r\nNow you will see the Folder either in blue(Source) or green(Test) ","title":"Create new package in IntelliJ","body":"<p>To create package the Folder/Directory should be marked as Source or Test.\nRight click project-&gt;Project Structure-&gt;Project settings-&gt;Modules-&gt;select the folder where you want to create package and mark its as either Source or Test by clicking the respective colored icons. Then apply and ok.\nNow you will see the Folder either in blue(Source) or green(Test)</p>\n"}],"owner":{"account_id":2385304,"reputation":7157,"user_id":2086401,"accept_rate":95,"display_name":"StuPointerException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109056,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"accepted_answer_id":17188878,"answer_count":4,"score":59,"last_activity_date":1635837132,"creation_date":1371637215,"question_id":17188773,"body_markdown":"I&#39;ve just moved from years of using Eclipse to the brave new world of IntelliJ and I&#39;m trying to iron out the little (trivial) little things that are slowing me down.\r\n\r\nThe latest is hopefully painfully obvious when you know how to do it.\r\n\r\nI create a new package under my source folder:\r\n\r\n    uk.ac.cam.admin\r\n\r\nI right click on this new package to create another sub-package:\r\n\r\n    uk.ac.cam.admin.domain\r\n\r\nAll well so far, now I want to create a package of `service` at the same level as `domain`.\r\nHowever creating it from `uk.ac.cam.admin.domain` quite rightly results in `uk.ac.cam.admin.domain.service` and creating it on the source just results in `service`.\r\n\r\nObviously I can create a new package from the source and type the fully qualified path, but it&#39;s 2013 and I&#39;m lazy!  ;)\r\n\r\n","title":"Create new package in IntelliJ","body":"<p>I've just moved from years of using Eclipse to the brave new world of IntelliJ and I'm trying to iron out the little (trivial) little things that are slowing me down.</p>\n\n<p>The latest is hopefully painfully obvious when you know how to do it.</p>\n\n<p>I create a new package under my source folder:</p>\n\n<pre><code>uk.ac.cam.admin\n</code></pre>\n\n<p>I right click on this new package to create another sub-package:</p>\n\n<pre><code>uk.ac.cam.admin.domain\n</code></pre>\n\n<p>All well so far, now I want to create a package of <code>service</code> at the same level as <code>domain</code>.\nHowever creating it from <code>uk.ac.cam.admin.domain</code> quite rightly results in <code>uk.ac.cam.admin.domain.service</code> and creating it on the source just results in <code>service</code>.</p>\n\n<p>Obviously I can create a new package from the source and type the fully qualified path, but it's 2013 and I'm lazy!  ;)</p>\n"},{"tags":["java","spring","log4j"],"answers":[{"tags":[],"owner":{"account_id":15372843,"reputation":103,"user_id":15431883,"display_name":"polyackov_ot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635836706,"creation_date":1635836008,"answer_id":69806396,"question_id":69806080,"body_markdown":"You can add `spring.profiles` in your `application.yml` and set new log-name\r\n\r\n    spring.profiles: dev\r\n    logging.file: new-app.log\r\n\r\nMore information you can find get [here][1]\r\n\r\n\r\n  [1]: https://springframework.guru/log4j-2-configuration-using-yaml/","title":"How can I read different log4j.properties file depending on an argument in Spring?","body":"<p>You can add <code>spring.profiles</code> in your <code>application.yml</code> and set new log-name</p>\n<pre><code>spring.profiles: dev\nlogging.file: new-app.log\n</code></pre>\n<p>More information you can find get <a href=\"https://springframework.guru/log4j-2-configuration-using-yaml/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":15253330,"reputation":1225,"user_id":11005990,"display_name":"yoon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635836706,"creation_date":1635833729,"question_id":69806080,"body_markdown":"With the same code, I want to run it both as a real mode and a dev mode.\r\n\r\nSo I added a `service-mode` argument, and it decides the port, database name, etc.\r\n\r\nI also want to make a log file for a dev mode.\r\n\r\nBut using log4j, it seems that configuration about logging is decided when app is started.\r\n\r\nIs there a way to change the log file path depending on a given argument?\r\n\r\nI expected something like:\r\n\r\n```\r\n// Main.java\r\nif (args.serviceMode is real) {\r\n  setLogging(log4j.properties)\r\n}\r\nelse {\r\n  setLogging(log4j.properties.dev)\r\n}\r\n```\r\n\r\nor\r\n\r\n```\r\n// log4j.properties\r\nlog4j.appender.file.File=/path/to/real/log\r\nlog4jdev.appender.file.File=/path/to/dev/log\r\n```\r\n\r\n```\r\n// Main.java\r\nif (args.serviceMode is real) {\r\n  setLogPath(log4j.appender.file.File)\r\n}\r\nelse {\r\n  setLogPath(log4jdev.appender.file.File)\r\n}\r\n```\r\n\r\nAny link or comment appreciated.","title":"How can I read different log4j.properties file depending on an argument in Spring?","body":"<p>With the same code, I want to run it both as a real mode and a dev mode.</p>\n<p>So I added a <code>service-mode</code> argument, and it decides the port, database name, etc.</p>\n<p>I also want to make a log file for a dev mode.</p>\n<p>But using log4j, it seems that configuration about logging is decided when app is started.</p>\n<p>Is there a way to change the log file path depending on a given argument?</p>\n<p>I expected something like:</p>\n<pre><code>// Main.java\nif (args.serviceMode is real) {\n  setLogging(log4j.properties)\n}\nelse {\n  setLogging(log4j.properties.dev)\n}\n</code></pre>\n<p>or</p>\n<pre><code>// log4j.properties\nlog4j.appender.file.File=/path/to/real/log\nlog4jdev.appender.file.File=/path/to/dev/log\n</code></pre>\n<pre><code>// Main.java\nif (args.serviceMode is real) {\n  setLogPath(log4j.appender.file.File)\n}\nelse {\n  setLogPath(log4jdev.appender.file.File)\n}\n</code></pre>\n<p>Any link or comment appreciated.</p>\n"},{"tags":["java","micronaut","micronaut-rest"],"comments":[{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1635783545,"post_id":69794945,"comment_id":123379807,"body_markdown":"Can&#39;t you just do `return chain.proceed(request.mutate().headers(g -&gt; g.add(&quot;X-Cheese&quot;, &quot;NOW&quot; + UUID.randomUUID())));` in your filter?","body":"Can&#39;t you just do <code>return chain.proceed(request.mutate().headers(g -&gt; g.add(&quot;X-Cheese&quot;, &quot;NOW&quot; + UUID.randomUUID())));</code> in your filter?"},{"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"score":0,"creation_date":1635836292,"post_id":69794945,"comment_id":123391962,"body_markdown":"The interface receives `HttpRequest` which is immutable, calling `mutate()` throws an exception.","body":"The interface receives <code>HttpRequest</code> which is immutable, calling <code>mutate()</code> throws an exception."},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1635844996,"post_id":69794945,"comment_id":123394906,"body_markdown":"Weird...  it worked for me in a test with Micronaut 3.0.1","body":"Weird...  it worked for me in a test with Micronaut 3.0.1"}],"answers":[{"tags":[],"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635836585,"creation_date":1635836585,"answer_id":69806483,"question_id":69794945,"body_markdown":"It is possible to add attributes, not headers. Attributes fulfill the same purpose in the end.\r\n\r\n```java\r\n@Filter(Filter.MATCH_ALL_PATTERN)\r\npublic class SecurityFilter implements HttpServerFilter {\r\n\r\n    public static final String TENANT_ID_ATTRIBUTE_NAME = &quot;tenantId&quot;;\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(SecurityFilter.class);\r\n\r\n    @Override\r\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(final HttpRequest&lt;?&gt; request, final ServerFilterChain chain) {\r\n        return chain.proceed(request.setAttribute(TENANT_ID_ATTRIBUTE_NAME, &quot;tenantId&quot;));\r\n    }\r\n\r\n    @Override\r\n    public int getOrder() {\r\n        return ServerFilterPhase.SECURITY.order();\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd then in a controller:\r\n```java\r\n@Get(produces = MediaType.APPLICATION_JSON)\r\npublic List&lt;Item&gt; list(@RequestAttribute(SecurityFilter.TENANT_ID_ATTRIBUTE_NAME) final String tenantId) {\r\n    return service.findAll(tenantId);\r\n}\r\n```","title":"Adding headers to incoming request in Micronaut filters","body":"<p>It is possible to add attributes, not headers. Attributes fulfill the same purpose in the end.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Filter(Filter.MATCH_ALL_PATTERN)\npublic class SecurityFilter implements HttpServerFilter {\n\n    public static final String TENANT_ID_ATTRIBUTE_NAME = &quot;tenantId&quot;;\n\n    private static final Logger LOG = LoggerFactory.getLogger(SecurityFilter.class);\n\n    @Override\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(final HttpRequest&lt;?&gt; request, final ServerFilterChain chain) {\n        return chain.proceed(request.setAttribute(TENANT_ID_ATTRIBUTE_NAME, &quot;tenantId&quot;));\n    }\n\n    @Override\n    public int getOrder() {\n        return ServerFilterPhase.SECURITY.order();\n    }\n\n}\n</code></pre>\n<p>And then in a controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Get(produces = MediaType.APPLICATION_JSON)\npublic List&lt;Item&gt; list(@RequestAttribute(SecurityFilter.TENANT_ID_ATTRIBUTE_NAME) final String tenantId) {\n    return service.findAll(tenantId);\n}\n</code></pre>\n"}],"owner":{"account_id":1864817,"reputation":1943,"user_id":1688639,"accept_rate":64,"display_name":"jokarl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2612,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69806483,"answer_count":1,"score":0,"last_activity_date":1635836585,"creation_date":1635758758,"question_id":69794945,"body_markdown":"I am writing a service that, for now, will need to implement its own validation of JWT tokens. This will later be handled by a layer before the services.\r\n\r\nTo do this, I intended to intercept requests using `HttpServerFilter` interface:\r\n\r\n```java\r\n@Filter(Filter.MATCH_ALL_PATTERN)\r\npublic class SecurityFilter implements HttpServerFilter {\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(SecurityFilter.class);\r\n\r\n    @Override\r\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(final HttpRequest&lt;?&gt; request, final ServerFilterChain chain) {\r\n        return chain.proceed(request);\r\n    }\r\n\r\n    @Override\r\n    public int getOrder() {\r\n        return ServerFilterPhase.SECURITY.order();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe `HttpFilter` interface states:\r\n\r\n&gt; To modify the request filters can either wrap it (using io.micronaut.http.HttpRequestWrapper or pass it along the chain as is\r\n\r\nSo I try to the wrap the request with this class:\r\n```java\r\nfinal HttpRequestWrapper&lt;?&gt; wrappedRequest = new HttpRequestWrapper&lt;&gt;(request);\r\n// wrappedRequest.getHeaders() Not mutable\r\n// request.mutate().getHeaders() Mutable\r\n// wrappedRequest.mutate().getHeaders() Mutable\r\n```\r\n\r\nHowever, both `mutate` methods above go to the same default implementation in the `HttpRequest` interface:\r\n\r\n```java\r\ndefault MutableHttpRequest&lt;B&gt; mutate() {\r\n    throw new UnsupportedOperationException(&quot;Request is immutable&quot;);\r\n}\r\n```\r\n\r\nThe documentation states that the filters support *decoration* of requests and *modification* of responses. What is the difference between decorating and modifying here?\r\n\r\nThe end result I am after is that I want to parse a JWT token, ensure it is valid, and add a field from the token to a new header and retrieve that header from controllers in the following way:\r\n\r\n```java\r\n@Get(uri = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON)\r\npublic Optional&lt;Item&gt; findById(@PathVariable(&quot;id&quot;) final String id, @Header(&quot;X-Tenant-Id&quot;) final String tenantId) {\r\n    return service.findById(id, tenantId);\r\n}\r\n```\r\n\r\nHow can I achieve this with Micronaut filters?","title":"Adding headers to incoming request in Micronaut filters","body":"<p>I am writing a service that, for now, will need to implement its own validation of JWT tokens. This will later be handled by a layer before the services.</p>\n<p>To do this, I intended to intercept requests using <code>HttpServerFilter</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Filter(Filter.MATCH_ALL_PATTERN)\npublic class SecurityFilter implements HttpServerFilter {\n\n    private static final Logger LOG = LoggerFactory.getLogger(SecurityFilter.class);\n\n    @Override\n    public Publisher&lt;MutableHttpResponse&lt;?&gt;&gt; doFilter(final HttpRequest&lt;?&gt; request, final ServerFilterChain chain) {\n        return chain.proceed(request);\n    }\n\n    @Override\n    public int getOrder() {\n        return ServerFilterPhase.SECURITY.order();\n    }\n\n}\n</code></pre>\n<p>The <code>HttpFilter</code> interface states:</p>\n<blockquote>\n<p>To modify the request filters can either wrap it (using io.micronaut.http.HttpRequestWrapper or pass it along the chain as is</p>\n</blockquote>\n<p>So I try to the wrap the request with this class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final HttpRequestWrapper&lt;?&gt; wrappedRequest = new HttpRequestWrapper&lt;&gt;(request);\n// wrappedRequest.getHeaders() Not mutable\n// request.mutate().getHeaders() Mutable\n// wrappedRequest.mutate().getHeaders() Mutable\n</code></pre>\n<p>However, both <code>mutate</code> methods above go to the same default implementation in the <code>HttpRequest</code> interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>default MutableHttpRequest&lt;B&gt; mutate() {\n    throw new UnsupportedOperationException(&quot;Request is immutable&quot;);\n}\n</code></pre>\n<p>The documentation states that the filters support <em>decoration</em> of requests and <em>modification</em> of responses. What is the difference between decorating and modifying here?</p>\n<p>The end result I am after is that I want to parse a JWT token, ensure it is valid, and add a field from the token to a new header and retrieve that header from controllers in the following way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Get(uri = &quot;/{id}&quot;, produces = MediaType.APPLICATION_JSON)\npublic Optional&lt;Item&gt; findById(@PathVariable(&quot;id&quot;) final String id, @Header(&quot;X-Tenant-Id&quot;) final String tenantId) {\n    return service.findById(id, tenantId);\n}\n</code></pre>\n<p>How can I achieve this with Micronaut filters?</p>\n"},{"tags":["java","interface","polymorphism","overloading","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635836582,"creation_date":1635836582,"answer_id":69806481,"question_id":69806401,"body_markdown":"I can think of two reasonable approaches here:\r\n\r\n1. Don&#39;t have a common `DataExporter` interface. The client anyway needs to know the more-specific type of the exporter in order to call it with the appropriate arguments.\r\n2. Give `DataExporter` a type parameter, and give its `export` method a parameter of that type. `ProductExporter` can then be a `DataExporter&lt;Void&gt;`, and its `export` method simply takes `null`, while `CategoryExporter` can be a `DataExporter&lt;String&gt;`.","title":"Overloading abstract method causes unnecessary implementation in Java","body":"<p>I can think of two reasonable approaches here:</p>\n<ol>\n<li>Don't have a common <code>DataExporter</code> interface. The client anyway needs to know the more-specific type of the exporter in order to call it with the appropriate arguments.</li>\n<li>Give <code>DataExporter</code> a type parameter, and give its <code>export</code> method a parameter of that type. <code>ProductExporter</code> can then be a <code>DataExporter&lt;Void&gt;</code>, and its <code>export</code> method simply takes <code>null</code>, while <code>CategoryExporter</code> can be a <code>DataExporter&lt;String&gt;</code>.</li>\n</ol>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635836582,"creation_date":1635836037,"question_id":69806401,"body_markdown":"I have the following interface:\r\n\r\n```\r\npublic interface DataExporter {\r\n    MultipartFile export() throws IOException;\r\n}\r\n```\r\n\r\nAnd the following abstract class inherits from the interface:\r\n\r\n```\r\npublic abstract class AbstractDataExporter&lt;T&gt; implements DataExporter {\r\n    \r\n    @Override\r\n    public MultipartFile export() throws IOException {\r\n        final Iterable&lt;T&gt; entities = getEntities();\r\n        // ...\r\n    }\r\n\r\n    protected abstract Iterable&lt;T&gt; getEntities();\r\n}\r\n```\r\n\r\nThen I implement `export` and `getEntities` methods as shown below:\r\n\r\n```\r\npublic class ProductExporter extends AbstractDataExporter&lt;ProductDTO&gt; {\r\n\r\n    @Override\r\n    protected Iterable&lt;ProductDTO&gt; getEntities() {\r\n        //\r\n    }\r\n}\r\n```\r\n\r\nEverything i working without any problem and I call the export method from Controller as shown below:\r\n\r\n```\r\nprivate final ProductExporter productExporter;\r\n\r\npublic ResponseEntity&lt;Resource&gt; exportProduct() throws IOException {\r\n    final MultipartFile multipartFile = productExporter.export();\r\n    //\r\n}\r\n```\r\n\r\nMy problem is that: When I need another exporter class e.g. CategoryExporter that takes a parameter e.g. an `UUID`, then how should I overload the `export` and `getEntities` methods properly? I overloaded by adding new methods that takes parameter, but in this case all the new methods are also needed to be added ProductExporter unnecessarily. So, how to fix that problem?\r\n \r\n```\r\n// ??? what about passing parameter:\r\nprivate final CategoryExporter categoryExporter ;\r\n\r\npublic ResponseEntity&lt;Resource&gt; exportCategory(UUID uuid) throws IOException {\r\n    final MultipartFile multipartFile = categoryExporter.export(uuid);\r\n    //\r\n}\r\n```","title":"Overloading abstract method causes unnecessary implementation in Java","body":"<p>I have the following interface:</p>\n<pre><code>public interface DataExporter {\n    MultipartFile export() throws IOException;\n}\n</code></pre>\n<p>And the following abstract class inherits from the interface:</p>\n<pre><code>public abstract class AbstractDataExporter&lt;T&gt; implements DataExporter {\n    \n    @Override\n    public MultipartFile export() throws IOException {\n        final Iterable&lt;T&gt; entities = getEntities();\n        // ...\n    }\n\n    protected abstract Iterable&lt;T&gt; getEntities();\n}\n</code></pre>\n<p>Then I implement <code>export</code> and <code>getEntities</code> methods as shown below:</p>\n<pre><code>public class ProductExporter extends AbstractDataExporter&lt;ProductDTO&gt; {\n\n    @Override\n    protected Iterable&lt;ProductDTO&gt; getEntities() {\n        //\n    }\n}\n</code></pre>\n<p>Everything i working without any problem and I call the export method from Controller as shown below:</p>\n<pre><code>private final ProductExporter productExporter;\n\npublic ResponseEntity&lt;Resource&gt; exportProduct() throws IOException {\n    final MultipartFile multipartFile = productExporter.export();\n    //\n}\n</code></pre>\n<p>My problem is that: When I need another exporter class e.g. CategoryExporter that takes a parameter e.g. an <code>UUID</code>, then how should I overload the <code>export</code> and <code>getEntities</code> methods properly? I overloaded by adding new methods that takes parameter, but in this case all the new methods are also needed to be added ProductExporter unnecessarily. So, how to fix that problem?</p>\n<pre><code>// ??? what about passing parameter:\nprivate final CategoryExporter categoryExporter ;\n\npublic ResponseEntity&lt;Resource&gt; exportCategory(UUID uuid) throws IOException {\n    final MultipartFile multipartFile = categoryExporter.export(uuid);\n    //\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":14587195,"reputation":413,"user_id":10535574,"display_name":"RAZAFINARIVO Hanania"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635836328,"creation_date":1635836328,"answer_id":69806438,"question_id":69806382,"body_markdown":"Because operator `==` compares the address memory not the value for String variable. You need to use `equals()` method.\r\n\r\n    command.equals(&quot;exit&quot;)","title":"How do Java scanner read string correctly","body":"<p>Because operator <code>==</code> compares the address memory not the value for String variable. You need to use <code>equals()</code> method.</p>\n<pre><code>command.equals(&quot;exit&quot;)\n</code></pre>\n"}],"owner":{"account_id":23213327,"reputation":29,"user_id":17306502,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635836307,"accepted_answer_id":69806438,"answer_count":1,"score":0,"last_activity_date":1635836328,"creation_date":1635835893,"question_id":69806382,"body_markdown":"```\r\n        String command = &quot;&quot;;\r\n\t    Scanner sc = new Scanner(System.in);\r\n\t    while (command!=&quot;exit&quot;)\r\n\t    {\r\n\t        System.out.println(&quot;Please enter command: &quot;);\r\n\t        command = sc.nextLine();\r\n\t        System.out.println(&quot;You enter: &quot;+command);\r\n\t        if (command == &quot;exit&quot;)\r\n\t        {\r\n\t        \tSystem.out.println(&quot;Exit program.&quot;);\r\n\t        }\r\n\t    }\r\n\t    sc.close();\r\n```\r\nHaven&#39;t written java in a year and I forgot how scanner work. The code would never enter the if part when I enter exit. I tried next() and nextLine().\r\n","title":"How do Java scanner read string correctly","body":"<pre><code>        String command = &quot;&quot;;\n        Scanner sc = new Scanner(System.in);\n        while (command!=&quot;exit&quot;)\n        {\n            System.out.println(&quot;Please enter command: &quot;);\n            command = sc.nextLine();\n            System.out.println(&quot;You enter: &quot;+command);\n            if (command == &quot;exit&quot;)\n            {\n                System.out.println(&quot;Exit program.&quot;);\n            }\n        }\n        sc.close();\n</code></pre>\n<p>Haven't written java in a year and I forgot how scanner work. The code would never enter the if part when I enter exit. I tried next() and nextLine().</p>\n"},{"tags":["java","java-7","tls1.2","sha256","sslhandshakeexception"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1635343850,"post_id":69740045,"comment_id":123272964,"body_markdown":"#1 Enable more verbose log `-Djavax.net.debug=ssl,handshake` and try again. Share us if log has new important lines. https://access.redhat.com/solutions/973783 #2 open-jdk 8 is not an option?","body":"#1 Enable more verbose log <code>-Djavax.net.debug=ssl,handshake</code> and try again. Share us if log has new important lines. <a href=\"https://access.redhat.com/solutions/973783\" rel=\"nofollow noreferrer\">access.redhat.com/solutions/973783</a> #2 open-jdk 8 is not an option?"},{"owner":{"account_id":10286269,"reputation":21,"user_id":11946192,"display_name":"Abhiram Tilak Veerapaneni"},"score":0,"creation_date":1635344451,"post_id":69740045,"comment_id":123273284,"body_markdown":"@JRichardsz, Thank you for your response. I added a -D argument and extracted below comments and updated in question. Yes, open-jdk 8 is not an option because the above mentioned code snippet is from a very big project and it is like very major effort to migrate to java 8.","body":"@JRichardsz, Thank you for your response. I added a -D argument and extracted below comments and updated in question. Yes, open-jdk 8 is not an option because the above mentioned code snippet is from a very big project and it is like very major effort to migrate to java 8."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1635345372,"post_id":69740045,"comment_id":123273757,"body_markdown":"try with this `java -Dhttps.protocols=TLSv1.2,TLSv1.1,TLSv1`","body":"try with this <code>java -Dhttps.protocols=TLSv1.2,TLSv1.1,TLSv1</code>"},{"owner":{"account_id":10286269,"reputation":21,"user_id":11946192,"display_name":"Abhiram Tilak Veerapaneni"},"score":0,"creation_date":1635345626,"post_id":69740045,"comment_id":123273886,"body_markdown":"@JRichardsz, we already have that argument. After that argument we are getting hans shake exception. Before that the error is &quot;protocl_version&quot;","body":"@JRichardsz, we already have that argument. After that argument we are getting hans shake exception. Before that the error is &quot;protocl_version&quot;"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1635852490,"post_id":69740045,"comment_id":123397832,"body_markdown":"That server supports only ciphersuites using GCM; Java 7 JSSE supports TLS1.2 if prodded (e.g. with `https.protocols`) but not GCM suites. Bouncy (bctls&amp;bcprov) 1.68 or 1.67 context `&quot;TLSv1.2&quot;` WORKS FOR ME on 7u80 except I have to fix the truststore because that server uses a CA (Comodo RSA) not in 7u80 cacerts. (1.69 seems to have some internal inconsistency; 1.66 and 1.65 don&#39;t offer the GCM suites even though they&#39;re listed; 1.64 and below have some problem with SecureRandom I don&#39;t understand.) But if youi found an alternative, fine.","body":"That server supports only ciphersuites using GCM; Java 7 JSSE supports TLS1.2 if prodded (e.g. with <code>https.protocols</code>) but not GCM suites. Bouncy (bctls&amp;bcprov) 1.68 or 1.67 context <code>&quot;TLSv1.2&quot;</code> WORKS FOR ME on 7u80 except I have to fix the truststore because that server uses a CA (Comodo RSA) not in 7u80 cacerts. (1.69 seems to have some internal inconsistency; 1.66 and 1.65 don&#39;t offer the GCM suites even though they&#39;re listed; 1.64 and below have some problem with SecureRandom I don&#39;t understand.) But if youi found an alternative, fine."}],"answers":[{"tags":[],"owner":{"account_id":10286269,"reputation":21,"user_id":11946192,"display_name":"Abhiram Tilak Veerapaneni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635836274,"creation_date":1635836274,"answer_id":69806435,"question_id":69740045,"body_markdown":"As we didn&#39;t find any solid information to proceed with this using java 7, we had a microservice running on open jdk 11. So we are caling that micro service internally and doing an actual call.","title":"Getting Received fatal alert: handshake_failure exception in java 1.7.0_80","body":"<p>As we didn't find any solid information to proceed with this using java 7, we had a microservice running on open jdk 11. So we are caling that micro service internally and doing an actual call.</p>\n"}],"owner":{"account_id":10286269,"reputation":21,"user_id":11946192,"display_name":"Abhiram Tilak Veerapaneni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635836274,"creation_date":1635343069,"question_id":69740045,"body_markdown":"I am trying to call ups server for some rate related details. Recently they migrated to new Ciphers.\r\nFor some reason we can not update our jdk version, so we need to stick to 1.7.0_80.\r\nI am getting below stack trace when calling ups calls\r\n```\r\ntrigger seeding of SecureRandom\r\ndone seeding SecureRandom\r\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\r\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\r\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256\r\nAllow unsafe renegotiation: false\r\nAllow legacy hello messages: true\r\nIs initial handshake: true\r\nIs secure renegotiation: false\r\nmain, setSoTimeout(0) called\r\nIgnoring disabled protocol: SSLv3\r\n%% No cached client session\r\n*** ClientHello, TLSv1.2\r\nRandomCookie:  GMT: 1635344196 bytes = { 88, 0, 128, 81, 194, 87, 28, 140, 174, 104, 190, 184, 32, 3, 190, 29, 68, 66, 220, 248, 56, 153, 156, 98, 76, 74, 32, 115 }\r\nSession ID:  {}\r\nCipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, TLS_ECDH_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\nCompression Methods:  { 0 }\r\nExtension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\r\nExtension ec_point_formats, formats: [uncompressed]\r\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA, MD5withRSA\r\nExtension server_name, server_name: [host_name: onlinetools.ups.com]\r\n***\r\nmain, WRITE: TLSv1.2 Handshake, length = 221\r\nmain, READ: TLSv1.2 Alert, length = 2\r\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\r\nmain, called closeSocket()\r\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\nmain, called close()\r\nmain, called closeInternal(true)\r\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n\tat sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\r\n\tat sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1092)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\r\n```\r\nAPI call is as below\r\n```\r\ntry {\r\n\t\t\tOutputStream outputStream = null;\r\n\t\t\tURL url = new URL(&quot;https://onlinetools.ups.com/......&quot;);\r\n\t\t\tHttpURLConnection uc = (HttpURLConnection) url.openConnection();\r\n\t\t\tuc.setDoOutput(true);\r\n\t\t\tuc.setDoInput(true);\r\n\t\t\tuc.setUseCaches(false);\r\n\t\t\toutputStream = uc.getOutputStream(); //Exception getting thrown from here\r\n\t\t\toutputStream.write(xmlInputString.getBytes());\r\n\t\t\toutputStream.flush();\r\n\t\t\toutputStream.close();\r\n\t\t\t\r\n\t\t\tStringBuilder buffer = new StringBuilder();\r\n\t\t\tBufferedReader reader = null;\r\n\t\t\ttry {\r\n\t\t\t\treader = new BufferedReader(new InputStreamReader(uc.getInputStream()));\r\n\t\t\t\tint letter = 0;\r\n\t\t\t\twhile ((letter = reader.read()) != -1) {\r\n\t\t\t\t\tbuffer.append((char) letter);\r\n\t\t\t\t}\r\n\t\t\t\treader.close();\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tSystem.out.println(&quot;Error reading UPS response&quot;+ e);\r\n\t\t\t} finally {\r\n\t\t\t\tif (reader != null) {\r\n\t\t\t\t\treader.close();\r\n\t\t\t\t\treader = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;response is :&quot;+ buffer.toString());\r\n\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\nxmlInputString is the request string.\r\n\r\nAlready tried with bouncycastle but no luck and updated security jars(local_policies and other jar).\r\nPlease provide the suggestions.\r\nThank you in advance.","title":"Getting Received fatal alert: handshake_failure exception in java 1.7.0_80","body":"<p>I am trying to call ups server for some rate related details. Recently they migrated to new Ciphers.\nFor some reason we can not update our jdk version, so we need to stick to 1.7.0_80.\nI am getting below stack trace when calling ups calls</p>\n<pre><code>trigger seeding of SecureRandom\ndone seeding SecureRandom\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_DHE_DSS_WITH_AES_256_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_DHE_RSA_WITH_AES_256_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384\nIgnoring unsupported cipher suite: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_128_CBC_SHA256\nAllow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\nmain, setSoTimeout(0) called\nIgnoring disabled protocol: SSLv3\n%% No cached client session\n*** ClientHello, TLSv1.2\nRandomCookie:  GMT: 1635344196 bytes = { 88, 0, 128, 81, 194, 87, 28, 140, 174, 104, 190, 184, 32, 3, 190, 29, 68, 66, 220, 248, 56, 153, 156, 98, 76, 74, 32, 115 }\nSession ID:  {}\nCipher Suites: [TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA, TLS_ECDH_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA, TLS_ECDH_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA, TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, TLS_ECDHE_ECDSA_WITH_RC4_128_SHA, TLS_ECDHE_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_SHA, TLS_ECDH_ECDSA_WITH_RC4_128_SHA, TLS_ECDH_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_RC4_128_MD5, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\nCompression Methods:  { 0 }\nExtension elliptic_curves, curve names: {secp256r1, sect163k1, sect163r2, secp192r1, secp224r1, sect233k1, sect233r1, sect283k1, sect283r1, secp384r1, sect409k1, sect409r1, secp521r1, sect571k1, sect571r1, secp160k1, secp160r1, secp160r2, sect163r1, secp192k1, sect193r1, sect193r2, secp224k1, sect239k1, secp256k1}\nExtension ec_point_formats, formats: [uncompressed]\nExtension signature_algorithms, signature_algorithms: SHA512withECDSA, SHA512withRSA, SHA384withECDSA, SHA384withRSA, SHA256withECDSA, SHA256withRSA, SHA224withECDSA, SHA224withRSA, SHA1withECDSA, SHA1withRSA, SHA1withDSA, MD5withRSA\nExtension server_name, server_name: [host_name: onlinetools.ups.com]\n***\nmain, WRITE: TLSv1.2 Handshake, length = 221\nmain, READ: TLSv1.2 Alert, length = 2\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\nmain, called closeSocket()\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nmain, called close()\nmain, called closeInternal(true)\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:154)\n    at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1092)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(HttpsURLConnectionImpl.java:250)\n</code></pre>\n<p>API call is as below</p>\n<pre><code>try {\n            OutputStream outputStream = null;\n            URL url = new URL(&quot;https://onlinetools.ups.com/......&quot;);\n            HttpURLConnection uc = (HttpURLConnection) url.openConnection();\n            uc.setDoOutput(true);\n            uc.setDoInput(true);\n            uc.setUseCaches(false);\n            outputStream = uc.getOutputStream(); //Exception getting thrown from here\n            outputStream.write(xmlInputString.getBytes());\n            outputStream.flush();\n            outputStream.close();\n            \n            StringBuilder buffer = new StringBuilder();\n            BufferedReader reader = null;\n            try {\n                reader = new BufferedReader(new InputStreamReader(uc.getInputStream()));\n                int letter = 0;\n                while ((letter = reader.read()) != -1) {\n                    buffer.append((char) letter);\n                }\n                reader.close();\n            } catch (Exception e) {\n                System.out.println(&quot;Error reading UPS response&quot;+ e);\n            } finally {\n                if (reader != null) {\n                    reader.close();\n                    reader = null;\n                }\n            }\n            System.out.println(&quot;response is :&quot;+ buffer.toString());\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>xmlInputString is the request string.</p>\n<p>Already tried with bouncycastle but no luck and updated security jars(local_policies and other jar).\nPlease provide the suggestions.\nThank you in advance.</p>\n"},{"tags":["java","calendar"],"comments":[{"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"score":3,"creation_date":1345994772,"post_id":12131324,"comment_id":16224875,"body_markdown":"http://stackoverflow.com/questions/6245053/how-to-make-a-static-calendar-thread-safe see that","body":"<a href=\"http://stackoverflow.com/questions/6245053/how-to-make-a-static-calendar-thread-safe\" title=\"how to make a static calendar thread safe\">stackoverflow.com/questions/6245053/&hellip;</a> see that"},{"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"score":0,"creation_date":1345994915,"post_id":12131324,"comment_id":16224899,"body_markdown":"@AlexColeman Note that the first answer says &quot;no&quot;, the second answer says &quot;yes&quot;, and none of all that discussion is backed by anything.","body":"@AlexColeman Note that the first answer says &quot;no&quot;, the second answer says &quot;yes&quot;, and none of all that discussion is backed by anything."},{"owner":{"account_id":1196838,"reputation":6753,"user_id":1168372,"accept_rate":79,"display_name":"Sujay"},"score":1,"creation_date":1345995026,"post_id":12131324,"comment_id":16224920,"body_markdown":"+1 for `Joda Time` though. If thread-safety issues are your concern then using this would be a good option.","body":"+1 for <code>Joda Time</code> though. If thread-safety issues are your concern then using this would be a good option."},{"owner":{"account_id":1165929,"reputation":7226,"user_id":1144248,"accept_rate":78,"display_name":"Alex Coleman"},"score":0,"creation_date":1345995306,"post_id":12131324,"comment_id":16224980,"body_markdown":"@DanielC.Sobral However, the first was upvoted 8 times and got the correct answer, and seemed to be backed well","body":"@DanielC.Sobral However, the first was upvoted 8 times and got the correct answer, and seemed to be backed well"},{"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"score":0,"creation_date":1345995810,"post_id":12131324,"comment_id":16225104,"body_markdown":"@AlexColeman The first answer is by Jon Skeet, so it&#39;s subject to the Jon Skeet effect. And there&#39;s no backing: is there any code or explanation or reference to official documentation showing it isn&#39;t thread-safe? No. It mentions mutability, which does impact thread safeness, but the question was about the *static* `getInstance`, not about `Calendar` instances themselves. So, no, that isn&#39;t an answer to this question.","body":"@AlexColeman The first answer is by Jon Skeet, so it&#39;s subject to the Jon Skeet effect. And there&#39;s no backing: is there any code or explanation or reference to official documentation showing it isn&#39;t thread-safe? No. It mentions mutability, which does impact thread safeness, but the question was about the <i>static</i> <code>getInstance</code>, not about <code>Calendar</code> instances themselves. So, no, that isn&#39;t an answer to this question."},{"owner":{"account_id":2234326,"reputation":1296,"user_id":1971144,"accept_rate":50,"display_name":"mojoken"},"score":0,"creation_date":1406765126,"post_id":12131324,"comment_id":38962795,"body_markdown":"At the risk of stating the obvious I will point out that each call to Calendar.getInstance() will return a new object. So as long as you use your instance within a single thread, thread safety may not be an issue for you.","body":"At the risk of stating the obvious I will point out that each call to Calendar.getInstance() will return a new object. So as long as you use your instance within a single thread, thread safety may not be an issue for you."},{"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"score":1,"creation_date":1406836755,"post_id":12131324,"comment_id":38998514,"body_markdown":"@mojoken At risk of stating the obvious, thread safety pertains to multiple threads using the same instance.","body":"@mojoken At risk of stating the obvious, thread safety pertains to multiple threads using the same instance."}],"answers":[{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1345997728,"creation_date":1345997728,"answer_id":12131708,"question_id":12131324,"body_markdown":"Documentation from Oracle says nothing about thread-safety: http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html.\r\n\r\nOpenJDK source code (build b147) implements `java.util.Calendar` in a non-thread-safe way, for example:\r\n\r\n    public void setTimeInMillis(long millis) {\r\n      // skipped\r\n      time = millis;\r\n      isTimeSet = true;\r\n      areFieldsSet = false;\r\n      computeFields();\r\n      areAllFieldsSet = areFieldsSet = true;\r\n    }\r\n\r\nI think that it&#39;s safe to assume that the class is **not** thread safe.","title":"Is java.util.Calendar thread safe or not?","body":"<p>Documentation from Oracle says nothing about thread-safety: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html</a>.</p>\n\n<p>OpenJDK source code (build b147) implements <code>java.util.Calendar</code> in a non-thread-safe way, for example:</p>\n\n<pre><code>public void setTimeInMillis(long millis) {\n  // skipped\n  time = millis;\n  isTimeSet = true;\n  areFieldsSet = false;\n  computeFields();\n  areAllFieldsSet = areFieldsSet = true;\n}\n</code></pre>\n\n<p>I think that it's safe to assume that the class is <strong>not</strong> thread safe.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1635835700,"creation_date":1345998016,"answer_id":12131740,"question_id":12131324,"body_markdown":"Here is a link to the source code of [Calendar][1] and [GregorianCalendar][2] in Java 7 \r\n\r\nIf you read the code you will see that none of the instance methods are synchronized, and none of the instance fields are `volatile`.  You will also see that even the field `get` methods can cause a Calendar instance to mutate.  And since there is no synchronization performed, different threads may see stale versions of a Calendar object&#39;s fields following such a mutating operation.  \r\n\r\nFor the record, the mutation action in the field get methods happens in / during a call to this method:\r\n\r\n     1555 protected void complete()\r\n     1556       {\r\n     1557           if (!isTimeSet)\r\n     1558               updateTime();\r\n     1559           if (!areFieldsSet || !areAllFieldsSet) {\r\n     1560               computeFields(); // fills in unset fields\r\n     1561               areAllFieldsSet = areFieldsSet = true;\r\n     1562           }\r\n     1563       }\r\n\r\nIn short, the `Calendar` class is not thread-safe, and `GregorianCalendar` isn&#39;t either because it inherits the non-thread-safe fields and methods.\r\n\r\nBut don&#39;t just take my word for it.  Do your own analysis of the source code.\r\n\r\n-----------------------\r\n\r\n&gt; And, to top it off, the documentation doesn&#39;t say anything one way or another, not for Calendar, nor even for Date.\r\n\r\nIf the javadocs don&#39;t specify the thread-safety of a class, then you should *assume* that it is not thread-safe.  (Especially if the class is mutable *by design*.)\r\n\r\n\r\n  [1]: http://www.docjar.com/html/api/java/util/Calendar.java.html\r\n  [2]: http://www.docjar.com/html/api/java/util/GregorianCalendar.java.html","title":"Is java.util.Calendar thread safe or not?","body":"<p>Here is a link to the source code of <a href=\"http://www.docjar.com/html/api/java/util/Calendar.java.html\" rel=\"nofollow noreferrer\">Calendar</a> and <a href=\"http://www.docjar.com/html/api/java/util/GregorianCalendar.java.html\" rel=\"nofollow noreferrer\">GregorianCalendar</a> in Java 7</p>\n<p>If you read the code you will see that none of the instance methods are synchronized, and none of the instance fields are <code>volatile</code>.  You will also see that even the field <code>get</code> methods can cause a Calendar instance to mutate.  And since there is no synchronization performed, different threads may see stale versions of a Calendar object's fields following such a mutating operation.</p>\n<p>For the record, the mutation action in the field get methods happens in / during a call to this method:</p>\n<pre><code> 1555 protected void complete()\n 1556       {\n 1557           if (!isTimeSet)\n 1558               updateTime();\n 1559           if (!areFieldsSet || !areAllFieldsSet) {\n 1560               computeFields(); // fills in unset fields\n 1561               areAllFieldsSet = areFieldsSet = true;\n 1562           }\n 1563       }\n</code></pre>\n<p>In short, the <code>Calendar</code> class is not thread-safe, and <code>GregorianCalendar</code> isn't either because it inherits the non-thread-safe fields and methods.</p>\n<p>But don't just take my word for it.  Do your own analysis of the source code.</p>\n<hr />\n<blockquote>\n<p>And, to top it off, the documentation doesn't say anything one way or another, not for Calendar, nor even for Date.</p>\n</blockquote>\n<p>If the javadocs don't specify the thread-safety of a class, then you should <em>assume</em> that it is not thread-safe.  (Especially if the class is mutable <em>by design</em>.)</p>\n"}],"owner":{"account_id":21713,"reputation":295592,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20371,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":12131740,"answer_count":2,"score":26,"last_activity_date":1635835985,"creation_date":1345994677,"question_id":12131324,"body_markdown":"I&#39;ve been working under the assumption that neither `Date` nor `Calendar` are thread-safe, but, during a recent discussion, a co-worker told me `Calendar` was thread-safe.\r\n\r\nSo, I did some research, and came up with nothing. There are plenty people arguing it&#39;s thread-safe, and plenty people arguing it&#39;s not thread-safe. And, to top it off, the documentation doesn&#39;t say anything one way or another, not for `Calendar`, nor even for `Date`.\r\n\r\nSo, which is it?","title":"Is java.util.Calendar thread safe or not?","body":"<p>I've been working under the assumption that neither <code>Date</code> nor <code>Calendar</code> are thread-safe, but, during a recent discussion, a co-worker told me <code>Calendar</code> was thread-safe.</p>\n\n<p>So, I did some research, and came up with nothing. There are plenty people arguing it's thread-safe, and plenty people arguing it's not thread-safe. And, to top it off, the documentation doesn't say anything one way or another, not for <code>Calendar</code>, nor even for <code>Date</code>.</p>\n\n<p>So, which is it?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1635825309,"post_id":69805214,"comment_id":123390070,"body_markdown":"Your Gradle JDK is one thing.  It&#39;s not relevant here.  Your Gradle `sourceCompatibility` and  `targetCompatibility` settings are both &quot;JavaVersion.VERSION_1_8&quot;.  That looks OK.  Your Android/Java source compiler is a different thing. Check &quot;compiler&quot; settings in Android Studio.","body":"Your Gradle JDK is one thing.  It&#39;s not relevant here.  Your Gradle <code>sourceCompatibility</code> and  <code>targetCompatibility</code> settings are both &quot;JavaVersion.VERSION_1_8&quot;.  That looks OK.  Your Android/Java source compiler is a different thing. Check &quot;compiler&quot; settings in Android Studio."},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1635827397,"post_id":69805214,"comment_id":123390341,"body_markdown":"@paulsm4 My &quot;complier&quot; setting is added to the question description, it seems there is nothing I can change. Should I specify the command-line options?","body":"@paulsm4 My &quot;complier&quot; setting is added to the question description, it seems there is nothing I can change. Should I specify the command-line options?"},{"owner":{"account_id":20450406,"reputation":1339,"user_id":15005298,"display_name":"Yaqoob Bhatti"},"score":0,"creation_date":1635828704,"post_id":69805214,"comment_id":123390531,"body_markdown":"I think this will help you https://stackoverflow.com/a/68616770/15005298","body":"I think this will help you <a href=\"https://stackoverflow.com/a/68616770/15005298\">stackoverflow.com/a/68616770/15005298</a>"},{"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"score":0,"creation_date":1635832229,"post_id":69805214,"comment_id":123391103,"body_markdown":"@YaqoobBhatti nope, my gradle setting was the same as this before I got this problem, unfottunately I found that I can use lambda like ```threadpool.submit( ()-&gt;{......} )``` but I cannot use lambda in stream.","body":"@YaqoobBhatti nope, my gradle setting was the same as this before I got this problem, unfottunately I found that I can use lambda like <code>threadpool.submit( ()-&gt;{......} )</code> but I cannot use lambda in stream."}],"answers":[{"tags":[],"owner":{"account_id":23212667,"reputation":21,"user_id":17305903,"display_name":"Chiku AI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635830517,"creation_date":1635830517,"answer_id":69805709,"question_id":69805214,"body_markdown":"go to App level build.gradle&gt;\r\n\r\nthen put this code in android {} block \r\n\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n\r\nafter this your code look like this\r\n\r\n\r\n    android {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &quot;30.0.2&quot;\r\n    \r\n    defaultConfig {\r\n        applicationId &quot;in.chikuai.example&quot;\r\n        minSdkVersion 19\r\n        targetSdkVersion 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    \r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    \r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    \r\n    }","title":"How to use lambda expression in android?","body":"<p>go to App level build.gradle&gt;</p>\n<p>then put this code in android {} block</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n</code></pre>\n<p>after this your code look like this</p>\n<pre><code>android {\ncompileSdkVersion 31\nbuildToolsVersion &quot;30.0.2&quot;\n\ndefaultConfig {\n    applicationId &quot;in.chikuai.example&quot;\n    minSdkVersion 19\n    targetSdkVersion 31\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635835769,"creation_date":1635835769,"answer_id":69806363,"question_id":69805214,"body_markdown":"Recently, I have the problem solved by change my build.gradle file according to the [official doc][1].\r\nnow my build.gradle file is :\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.infiai.simplesender&quot;\r\n        minSdk 25\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n    compileOptions {\r\n        coreLibraryDesugaringEnabled true\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.5&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation group: &#39;com.squareup.okhttp3&#39;, name: &#39;okhttp&#39;, version: &#39;4.9.2&#39;\r\n    implementation group: &#39;com.alibaba&#39;, name: &#39;fastjson&#39;, version: &#39;1.2.78&#39;\r\n    implementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;31.0.1-android&#39;\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n}\r\n```\r\nI can now using both stream and lambda together, but I didn&#39;t figure out how to use this in debug mode when the expression is in watches window, it will still throw exception even the same expression in my code was running succeed.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support#groovy\r\n  [2]: https://i.stack.imgur.com/AhEvN.png","title":"How to use lambda expression in android?","body":"<p>Recently, I have the problem solved by change my build.gradle file according to the <a href=\"https://developer.android.com/studio/write/java8-support#groovy\" rel=\"nofollow noreferrer\">official doc</a>.\nnow my build.gradle file is :</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.infiai.simplesender&quot;\n        minSdk 25\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n\n    compileOptions {\n        coreLibraryDesugaringEnabled true\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    coreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation group: 'com.squareup.okhttp3', name: 'okhttp', version: '4.9.2'\n    implementation group: 'com.alibaba', name: 'fastjson', version: '1.2.78'\n    implementation group: 'com.google.guava', name: 'guava', version: '31.0.1-android'\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n}\n</code></pre>\n<p>I can now using both stream and lambda together, but I didn't figure out how to use this in debug mode when the expression is in watches window, it will still throw exception even the same expression in my code was running succeed.</p>\n<p><a href=\"https://i.stack.imgur.com/AhEvN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AhEvN.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20100957,"reputation":285,"user_id":14739428,"display_name":"william"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69806363,"answer_count":2,"score":-1,"last_activity_date":1635835769,"creation_date":1635825114,"question_id":69805214,"body_markdown":"I have tried everything I could find from ```StackOverflow``` to make this problem right but none of them succeeded.\r\n&lt;br&gt;&lt;be&gt;\r\n\r\nThe strange thing is : I can use lambda such as \r\n```\r\n activity.runOnUiThread(() -&gt; {\r\n                    activity.startActivity(intent);\r\n                });\r\n```\r\nand stream like this\r\n\r\n```\r\nactivity.getPackageManager().getInstalledPackages(0).stream().collect(Collectors.toList())\r\n\r\n```\r\nbut this will fail :\r\n```\r\nactivity.getPackageManager()\r\n.getInstalledPackages(0)\r\n.stream()\r\n.filter(e -&gt; e.packageName.contains(&quot;com&quot;))\r\n.collect(Collectors.toList())\r\n```\r\n\r\n&lt;br&gt;&lt;be&gt;\r\n\r\nmy build.gradle file:\r\n---------------------\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.mylearn.simplesender&quot;\r\n        minSdk 25\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation group: &#39;com.squareup.okhttp3&#39;, name: &#39;okhttp&#39;, version: &#39;4.9.2&#39;\r\n    implementation group: &#39;com.alibaba&#39;, name: &#39;fastjson&#39;, version: &#39;1.2.78&#39;\r\n    implementation group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;31.0.1-android&#39;\r\n    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.12.0&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n}\r\n```\r\nand also, here is my Gradle setting in ```Android Studio```\r\n\r\n\r\n----------\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n----------\r\n\r\nhere is my compile setting in ```Android Studio```\r\n\r\n----------\r\n\r\n[![enter image description here][2]][2]\r\n&lt;br&gt;&lt;br&gt;\r\n\r\nIt shows an unreadable error, and when I debug this expression in the watcher shows :\r\n```\r\nCompilation failed:\r\n-source 1.6  lambda \r\n  ( -source 8  lambda )\r\n\r\n```\r\nwhich means I&#39;m using source version 1.6, and it does not support lambda expression and told me to use source 8 or higher to enable lambda expression.\r\n&lt;br&gt;&lt;br&gt;\r\nBut I&#39;m already in java 11, how could this happen?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u96TT.png\r\n  [2]: https://i.stack.imgur.com/b1IkR.png","title":"How to use lambda expression in android?","body":"<p>I have tried everything I could find from <code>StackOverflow</code> to make this problem right but none of them succeeded.\n<br></p>\n<p>The strange thing is : I can use lambda such as</p>\n<pre><code> activity.runOnUiThread(() -&gt; {\n                    activity.startActivity(intent);\n                });\n</code></pre>\n<p>and stream like this</p>\n<pre><code>activity.getPackageManager().getInstalledPackages(0).stream().collect(Collectors.toList())\n\n</code></pre>\n<p>but this will fail :</p>\n<pre><code>activity.getPackageManager()\n.getInstalledPackages(0)\n.stream()\n.filter(e -&gt; e.packageName.contains(&quot;com&quot;))\n.collect(Collectors.toList())\n</code></pre>\n<p><br></p>\n<h2>my build.gradle file:</h2>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 31\n\n    defaultConfig {\n        applicationId &quot;com.mylearn.simplesender&quot;\n        minSdk 25\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation group: 'com.squareup.okhttp3', name: 'okhttp', version: '4.9.2'\n    implementation group: 'com.alibaba', name: 'fastjson', version: '1.2.78'\n    implementation group: 'com.google.guava', name: 'guava', version: '31.0.1-android'\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.12.0'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n}\n</code></pre>\n<p>and also, here is my Gradle setting in <code>Android Studio</code></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/u96TT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u96TT.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>here is my compile setting in <code>Android Studio</code></p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/b1IkR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b1IkR.png\" alt=\"enter image description here\" /></a>\n<br><br></p>\n<p>It shows an unreadable error, and when I debug this expression in the watcher shows :</p>\n<pre><code>Compilation failed:\n-source 1.6  lambda \n  ( -source 8  lambda )\n\n</code></pre>\n<p>which means I'm using source version 1.6, and it does not support lambda expression and told me to use source 8 or higher to enable lambda expression.\n<br><br>\nBut I'm already in java 11, how could this happen?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3225384,"reputation":9550,"user_id":2721883,"display_name":"clcto"},"score":3,"creation_date":1424213686,"post_id":28572730,"comment_id":45455126,"body_markdown":"One hint: `&#39;6&#39; - &#39;0&#39; = 6`","body":"One hint: <code>&#39;6&#39; - &#39;0&#39; = 6</code>"},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":5,"creation_date":1424213721,"post_id":28572730,"comment_id":45455142,"body_markdown":"Take the code in `Integer.parseInt` and copy it to a new method.","body":"Take the code in <code>Integer.parseInt</code> and copy it to a new method."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1424213766,"post_id":28572730,"comment_id":45455160,"body_markdown":"&quot;*without using `Integer.parseInt`*&quot; why? This looks like [XY problem](http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). What are you trying to achieve?","body":"&quot;<i>without using <code>Integer.parseInt</code></i>&quot; why? This looks like <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. What are you trying to achieve?"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1424213891,"post_id":28572730,"comment_id":45455213,"body_markdown":"`6 = 6*10^0`; `99 = 9*10^0 + 9*10^1` and so on.","body":"<code>6 = 6*10^0</code>; <code>99 = 9*10^0 + 9*10^1</code> and so on."}],"answers":[{"tags":[],"owner":{"account_id":1403438,"reputation":578,"user_id":1331778,"accept_rate":75,"display_name":"Anil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424214266,"creation_date":1424213720,"answer_id":28572753,"question_id":28572730,"body_markdown":"What about Scanner?\r\n\r\n    int a=new Scanner(s).nextInt();\r\nWithout util.\r\n\r\n  \r\n\r\n    public static int parseInt(String s)\r\n      {\r\n    \r\n        int ans=0;\r\n          for(int i=s.length()-1;i&gt;=0;i--)\r\n          {\r\n              ans+=(s.charAt(i)-&#39;0&#39;);\r\n              ans*=10;\r\n          }\r\n          return ans/10;\r\n      }","title":"how to convert a string value to integer without using Integer.parseInt()?","body":"<p>What about Scanner?</p>\n\n<pre><code>int a=new Scanner(s).nextInt();\n</code></pre>\n\n<p>Without util.</p>\n\n<pre><code>public static int parseInt(String s)\n  {\n\n    int ans=0;\n      for(int i=s.length()-1;i&gt;=0;i--)\n      {\n          ans+=(s.charAt(i)-'0');\n          ans*=10;\n      }\n      return ans/10;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25812,"reputation":1185,"user_id":66654,"accept_rate":50,"display_name":"Makis Arvanitis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424215633,"creation_date":1424215633,"answer_id":28573203,"question_id":28572730,"body_markdown":"Try to get each char from the string and then the value of each char. 0 has a value of 48 so \r\n \r\n\r\n     char c = &#39;9&#39;;\r\n     int i = c - 48;\r\n\r\nNow `i = 9`. After that you only need to multiply this value with the appropriate power of 10 and add it to the total\r\n","title":"how to convert a string value to integer without using Integer.parseInt()?","body":"<p>Try to get each char from the string and then the value of each char. 0 has a value of 48 so </p>\n\n<pre><code> char c = '9';\n int i = c - 48;\n</code></pre>\n\n<p>Now <code>i = 9</code>. After that you only need to multiply this value with the appropriate power of 10 and add it to the total</p>\n"},{"tags":[],"owner":{"account_id":8450370,"reputation":11,"user_id":6339389,"display_name":"Umesh Patidar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635835751,"creation_date":1463379456,"answer_id":37247790,"question_id":28572730,"body_markdown":"    public class MyStringToNumber {\r\n\r\n        public static int convert_String_To_Number(String numStr){\r\n             \r\n            char ch[] = numStr.toCharArray();\r\n            int sum = 0;\r\n            //get ascii value for zero\r\n            int zeroAscii = (int)&#39;0&#39;;\r\n            for(char c:ch){\r\n                int tmpAscii = (int)c;\r\n                sum = (sum*10)+(tmpAscii-zeroAscii);\r\n            }\r\n            return sum;\r\n        }\r\n         \r\n        public static void main(String a[]){\r\n             \r\n            System.out.println(&quot;\\&quot;3256\\&quot; == &quot;+convert_String_To_Number(&quot;3256&quot;));\r\n            System.out.println(&quot;\\&quot;76289\\&quot; == &quot;+convert_String_To_Number(&quot;76289&quot;));\r\n            System.out.println(&quot;\\&quot;90087\\&quot; == &quot;+convert_String_To_Number(&quot;90087&quot;));\r\n        }\r\n    }\r\n\r\nSee more at [this URL][1].\r\n\r\n\r\n  [1]: https://www.java2novice.com/java-interview-programs/string-to-number/#sthash.9OnVBYnU.dpuf","title":"how to convert a string value to integer without using Integer.parseInt()?","body":"<pre><code>public class MyStringToNumber {\n\n    public static int convert_String_To_Number(String numStr){\n         \n        char ch[] = numStr.toCharArray();\n        int sum = 0;\n        //get ascii value for zero\n        int zeroAscii = (int)'0';\n        for(char c:ch){\n            int tmpAscii = (int)c;\n            sum = (sum*10)+(tmpAscii-zeroAscii);\n        }\n        return sum;\n    }\n     \n    public static void main(String a[]){\n         \n        System.out.println(&quot;\\&quot;3256\\&quot; == &quot;+convert_String_To_Number(&quot;3256&quot;));\n        System.out.println(&quot;\\&quot;76289\\&quot; == &quot;+convert_String_To_Number(&quot;76289&quot;));\n        System.out.println(&quot;\\&quot;90087\\&quot; == &quot;+convert_String_To_Number(&quot;90087&quot;));\n    }\n}\n</code></pre>\n<p>See more at <a href=\"https://www.java2novice.com/java-interview-programs/string-to-number/#sthash.9OnVBYnU.dpuf\" rel=\"nofollow noreferrer\">this URL</a>.</p>\n"},{"tags":[],"owner":{"account_id":8450370,"reputation":11,"user_id":6339389,"display_name":"Umesh Patidar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463385047,"creation_date":1463382697,"answer_id":37248537,"question_id":28572730,"body_markdown":"    public class ConvertIntoInt {\r\n        public static void main(String []args) {\r\n            String numStr = &quot;3256&quot;;\r\n            char ch[] = numStr.toCharArray();\r\n            int sum = 0;\r\n            // Get ASCII value for zero\r\n            int zeroAscii = (int)&#39;0&#39;;\r\n            for (char c:ch) {\r\n                int tmpAscii = (int)c;\r\n                System.out.println(&quot;Temp Ascii:&quot; + tmpAscii);\r\n                sum = (sum * 10) + (tmpAscii - zeroAscii);\r\n                System.out.println(sum);\r\n            }\r\n            System.out.println(sum);\r\n        }\r\n    }","title":"how to convert a string value to integer without using Integer.parseInt()?","body":"<pre><code>public class ConvertIntoInt {\n    public static void main(String []args) {\n        String numStr = \"3256\";\n        char ch[] = numStr.toCharArray();\n        int sum = 0;\n        // Get ASCII value for zero\n        int zeroAscii = (int)'0';\n        for (char c:ch) {\n            int tmpAscii = (int)c;\n            System.out.println(\"Temp Ascii:\" + tmpAscii);\n            sum = (sum * 10) + (tmpAscii - zeroAscii);\n            System.out.println(sum);\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1341662,"reputation":6557,"user_id":1283215,"accept_rate":63,"display_name":"Hussain Akhtar Wahid &#39;Ghouri&#39;"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1594,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":4,"score":-3,"last_activity_date":1635835751,"creation_date":1424213614,"question_id":28572730,"body_markdown":"I have this input like \r\n\r\n    String s = &quot;6&quot; , ss=&quot;99 , sss = &quot;99999&quot;;\r\n\r\ni need to store these values in an int reference variable ,\r\nwithout using Integer.parseInt\r\n\r\nany suggestion ? , no full code , just the hints ??","title":"how to convert a string value to integer without using Integer.parseInt()?","body":"<p>I have this input like </p>\n\n<pre><code>String s = \"6\" , ss=\"99 , sss = \"99999\";\n</code></pre>\n\n<p>i need to store these values in an int reference variable ,\nwithout using Integer.parseInt</p>\n\n<p>any suggestion ? , no full code , just the hints ??</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":2932591,"reputation":4163,"user_id":2512399,"display_name":"Michael Markidis"},"score":0,"creation_date":1463119660,"post_id":37202337,"comment_id":61936641,"body_markdown":"Show the code you have tried so far.","body":"Show the code you have tried so far."},{"owner":{"account_id":6818082,"reputation":31,"user_id":5246043,"display_name":"Anoop M L"},"score":0,"creation_date":1463129784,"post_id":37202337,"comment_id":61942621,"body_markdown":"I want to know the way to use the s3-bucket path","body":"I want to know the way to use the s3-bucket path"},{"owner":{"account_id":313901,"reputation":2255,"user_id":628781,"display_name":"Ken Brittain"},"score":0,"creation_date":1463139641,"post_id":37202337,"comment_id":61949193,"body_markdown":"Your bucket name has a space and I don&#39;t think that flies: http://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html","body":"Your bucket name has a space and I don&#39;t think that flies: <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":6818082,"reputation":31,"user_id":5246043,"display_name":"Anoop M L"},"score":0,"creation_date":1464333179,"post_id":37202337,"comment_id":62451732,"body_markdown":"Actually &quot;s3-buckt path&quot; this is not the bucket name , its &quot;CVR-TEST&quot;  bucket in the S3 ,but its showing the same issue","body":"Actually &quot;s3-buckt path&quot; this is not the bucket name , its &quot;CVR-TEST&quot;  bucket in the S3 ,but its showing the same issue"}],"answers":[{"tags":[],"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1463139750,"creation_date":1463139750,"answer_id":37209195,"question_id":37202337,"body_markdown":"S3 is not like a Linux file system.\n\nYour S3 storage consists of buckets which contain objects in a completely flat space.  The concept of &quot;folder&quot; is artificial: an object with key &quot;foo&quot; lives in the same flat bucket namespace as an object with key &quot;path/to/bar&quot;.  There is no separate step of creating a folder; you just give your object a key whose name contains separators like &#39;/&#39; and you can treat the buckets as having folders through some of the LIST APIs that involve common prefixes.\n\nHowever, *buckets* do have to be created, once, before you can store things in them.  You have to indicate, among other things, what region should host objects which go in that bucket.","title":"Amazon s3 bucket path issue","body":"<p>S3 is not like a Linux file system.</p>\n\n<p>Your S3 storage consists of buckets which contain objects in a completely flat space.  The concept of \"folder\" is artificial: an object with key \"foo\" lives in the same flat bucket namespace as an object with key \"path/to/bar\".  There is no separate step of creating a folder; you just give your object a key whose name contains separators like '/' and you can treat the buckets as having folders through some of the LIST APIs that involve common prefixes.</p>\n\n<p>However, <em>buckets</em> do have to be created, once, before you can store things in them.  You have to indicate, among other things, what region should host objects which go in that bucket.</p>\n"},{"tags":[],"owner":{"account_id":7974145,"reputation":12975,"user_id":6017840,"display_name":"mootmoot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635835741,"creation_date":1463142352,"answer_id":37210036,"question_id":37202337,"body_markdown":"Either the bucket name you given is incorrect or you didn&#39;t create the bucket. \r\n\r\nYou need to check out documentation about [Bucket Restriction][1]. From the documentation \r\n\r\n&gt;  - Bucket names must be at least 3 and no more than 63 characters long.\r\n&gt;  - Bucket names must be a series of one or more labels. Adjacent labels    are separated by a single period (.). Bucket names can\r\n&gt; contain    lowercase letters, numbers, and hyphens. Each label must\r\n&gt; start and    end with a lowercase letter or a number.\r\n&gt;  - Bucket names must not be formatted as an IP address (e.g.,\r\n&gt;    192.168.5.4).\r\n&gt;  - When using virtual hostedstyle buckets with SSL, the SSL wildcard    certificate only matches buckets that do not contain periods. To work \r\n&gt; around this, use HTTP or write your own certificate verification logic. We recommend that you do not use periods (&quot;.&quot;) in bucket   \r\n&gt; names.\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/BucketRestrictions.html","title":"Amazon s3 bucket path issue","body":"<p>Either the bucket name you given is incorrect or you didn't create the bucket.</p>\n<p>You need to check out documentation about <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/BucketRestrictions.html\" rel=\"nofollow noreferrer\">Bucket Restriction</a>. From the documentation</p>\n<blockquote>\n<ul>\n<li>Bucket names must be at least 3 and no more than 63 characters long.</li>\n<li>Bucket names must be a series of one or more labels. Adjacent labels    are separated by a single period (.). Bucket names can\ncontain    lowercase letters, numbers, and hyphens. Each label must\nstart and    end with a lowercase letter or a number.</li>\n<li>Bucket names must not be formatted as an IP address (e.g.,\n192.168.5.4).</li>\n<li>When using virtual hostedstyle buckets with SSL, the SSL wildcard    certificate only matches buckets that do not contain periods. To work\naround this, use HTTP or write your own certificate verification logic. We recommend that you do not use periods (&quot;.&quot;) in bucket<br />\nnames.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":6818082,"reputation":31,"user_id":5246043,"display_name":"Anoop M L"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3955,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635835741,"creation_date":1463119617,"question_id":37202337,"body_markdown":"I am new to amazons3 i want to upload a file to s3 bucket. So i am writing a code in java for that but I don&#39;t how to specify the path of the bucket. Can any one help me in that.\r\nPLease help in finding a solution for getting the correct path of the s3 bucket.\r\n\r\n    public class SampleS3 {\r\n    \r\n    \tprivate static final String SUFFIX = &quot;/&quot;;\r\n    \tprivate static String existingBucketName = &quot;s3-buckt path&quot;;\r\n    \tprivate static String AccessKey = &quot;accesskey&quot;;\r\n    \tprivate static String SecretAccessKey = &quot;SecretAccessKey&quot;;\r\n    \tprivate static String keyName = &quot;mypic.JPG&quot;;\r\n    \tprivate static String filePath = &quot;/home/dll files/samplefile.txt&quot;;\r\n    \tprivate static String amazonFileUploadLocationOriginal = existingBucketName+ &quot;/&quot;;\r\n    \r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\texecuteUpload();\r\n    \t}\r\n    \r\n    \tprivate static void executeUpload() {\r\n    \t\t\r\n    \t\tAWSCredentials credentials = new BasicAWSCredentials(AccessKey,\r\n    \t\t\t\tSecretAccessKey);\r\n    \t\t\r\n    \t\tAmazonS3 s3Client = new AmazonS3Client(credentials);\r\n    \t\tString folderName = &quot;testfolder&quot;;\r\n    \t\tcreateFolder(existingBucketName, folderName, s3Client);\r\n    \t\tString fileName = folderName + SUFFIX + &quot;testvideo.mp4&quot;;\r\n    \t\ts3Client.putObject(new PutObjectRequest(existingBucketName, fileName,\r\n    \t\t\t\tnew File(filePath))\r\n    \t\t\t\t.withCannedAcl(CannedAccessControlList.PublicRead));\r\n    \t}\r\n    \r\n    \tpublic static void createFolder(String bucketName, String folderName,\r\n    \t\t\tAmazonS3 client) {\r\n    \t\tObjectMetadata metadata = new ObjectMetadata();\r\n    \t\tmetadata.setContentLength(0);\r\n    \t\tInputStream emptyContent = new ByteArrayInputStream(new byte[0]);\r\n    \t\tPutObjectRequest putObjectRequest = new PutObjectRequest(bucketName,\r\n    \t\t\t\tfolderName + SUFFIX, emptyContent, metadata);\r\n    \t\tclient.putObject(putObjectRequest);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n When I run the program i get error as:\r\n\r\n    Exception in thread &quot;main&quot; com.amazonaws.services.s3.model.AmazonS3Exception: The specified bucket does not exist (Service: Amazon S3; Status Code: 404; Error Code: NoSuchBucket; Request ID: 2D45010A48E44C42), S3 Extended Request ID: c7zzSgYO8bNUh9HoOVVmAbjjtG7G6w5tQmuSIqTmgf3cGqjclTrJS3WIXvPpV7Mt\r\n        at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1389)\r\n        at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:902)\r\n        at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:607)\r\n        at com.amazonaws.http.AmazonHttpClient.doExecute(AmazonHttpClient.java:376)\r\n        at com.amazonaws.http.AmazonHttpClient.executeWithTimer(AmazonHttpClient.java:338)\r\n        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:287)\r\n        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3826)\r\n        at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1405)\r\n        at com.qagate.s3.amazons3.SampleS3.createFolder(SampleS3.java:65)\r\n        at com.qagate.s3.amazons3.SampleS3.executeUpload(SampleS3.java:45)\r\n        at com.qagate.s3.amazons3.SampleS3.main(SampleS3.java:33)\r\n\r\n","title":"Amazon s3 bucket path issue","body":"<p>I am new to amazons3 i want to upload a file to s3 bucket. So i am writing a code in java for that but I don't how to specify the path of the bucket. Can any one help me in that.\nPLease help in finding a solution for getting the correct path of the s3 bucket.</p>\n\n<pre><code>public class SampleS3 {\n\n    private static final String SUFFIX = \"/\";\n    private static String existingBucketName = \"s3-buckt path\";\n    private static String AccessKey = \"accesskey\";\n    private static String SecretAccessKey = \"SecretAccessKey\";\n    private static String keyName = \"mypic.JPG\";\n    private static String filePath = \"/home/dll files/samplefile.txt\";\n    private static String amazonFileUploadLocationOriginal = existingBucketName+ \"/\";\n\n\n    public static void main(String[] args) throws IOException {\n\n        executeUpload();\n    }\n\n    private static void executeUpload() {\n\n        AWSCredentials credentials = new BasicAWSCredentials(AccessKey,\n                SecretAccessKey);\n\n        AmazonS3 s3Client = new AmazonS3Client(credentials);\n        String folderName = \"testfolder\";\n        createFolder(existingBucketName, folderName, s3Client);\n        String fileName = folderName + SUFFIX + \"testvideo.mp4\";\n        s3Client.putObject(new PutObjectRequest(existingBucketName, fileName,\n                new File(filePath))\n                .withCannedAcl(CannedAccessControlList.PublicRead));\n    }\n\n    public static void createFolder(String bucketName, String folderName,\n            AmazonS3 client) {\n        ObjectMetadata metadata = new ObjectMetadata();\n        metadata.setContentLength(0);\n        InputStream emptyContent = new ByteArrayInputStream(new byte[0]);\n        PutObjectRequest putObjectRequest = new PutObjectRequest(bucketName,\n                folderName + SUFFIX, emptyContent, metadata);\n        client.putObject(putObjectRequest);\n    }\n\n}\n</code></pre>\n\n<p>When I run the program i get error as:</p>\n\n<pre><code>Exception in thread \"main\" com.amazonaws.services.s3.model.AmazonS3Exception: The specified bucket does not exist (Service: Amazon S3; Status Code: 404; Error Code: NoSuchBucket; Request ID: 2D45010A48E44C42), S3 Extended Request ID: c7zzSgYO8bNUh9HoOVVmAbjjtG7G6w5tQmuSIqTmgf3cGqjclTrJS3WIXvPpV7Mt\n    at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1389)\n    at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:902)\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:607)\n    at com.amazonaws.http.AmazonHttpClient.doExecute(AmazonHttpClient.java:376)\n    at com.amazonaws.http.AmazonHttpClient.executeWithTimer(AmazonHttpClient.java:338)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:287)\n    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3826)\n    at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1405)\n    at com.qagate.s3.amazons3.SampleS3.createFolder(SampleS3.java:65)\n    at com.qagate.s3.amazons3.SampleS3.executeUpload(SampleS3.java:45)\n    at com.qagate.s3.amazons3.SampleS3.main(SampleS3.java:33)\n</code></pre>\n"},{"tags":["java","api","github","commit","github-api"],"comments":[{"owner":{"account_id":4695914,"reputation":635,"user_id":3800789,"accept_rate":67,"display_name":"Zychoo"},"score":0,"creation_date":1635845261,"post_id":69806292,"comment_id":123395026,"body_markdown":"Add more specific information to this question to improve it. We can&#39;t help you if you don&#39;t tell us how you are trying to do this.","body":"Add more specific information to this question to improve it. We can&#39;t help you if you don&#39;t tell us how you are trying to do this."},{"owner":{"account_id":22973602,"reputation":1,"user_id":17101576,"display_name":"Java Sonar"},"score":0,"creation_date":1635878364,"post_id":69806292,"comment_id":123408844,"body_markdown":"For audit purpose we are planning to keep track on the commits performed on all repositories of particular organization on daily basis. So please help me with github api to achieve this.","body":"For audit purpose we are planning to keep track on the commits performed on all repositories of particular organization on daily basis. So please help me with github api to achieve this."}],"owner":{"account_id":22973602,"reputation":1,"user_id":17101576,"display_name":"Java Sonar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635835721,"creation_date":1635835234,"question_id":69806292,"body_markdown":"I want to get all the commits from all the repositories from a Github&#39;s organization for each day. Suggestions please","title":"How to get the commits from all the repositories from a Github&#39;s organization for each day","body":"<p>I want to get all the commits from all the repositories from a Github's organization for each day. Suggestions please</p>\n"},{"tags":["java","spring","eclipse","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1635778941,"post_id":69798754,"comment_id":123378008,"body_markdown":"In the project with issues does your project build on plain command line?","body":"In the project with issues does your project build on plain command line?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1635791024,"post_id":69798754,"comment_id":123382460,"body_markdown":"It looks like you have edited the project properties manually (instead of two _JRE System Library_ items there should only be one). To sync and derive the project properties from the `pom.xml`, right-click the project and choose _Maven &gt; Update Project..._","body":"It looks like you have edited the project properties manually (instead of two <i>JRE System Library</i> items there should only be one). To sync and derive the project properties from the <code>pom.xml</code>, right-click the project and choose <i>Maven &gt; Update Project...</i>"},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1635833020,"post_id":69798754,"comment_id":123391249,"body_markdown":"@khmarbaise yes the build works on plain command line as well. I checked.","body":"@khmarbaise yes the build works on plain command line as well. I checked."},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1635833167,"post_id":69798754,"comment_id":123391276,"body_markdown":"@howlger yes I tried and it worked. Great. Thanks a lot. You can put the same thing in Answer section and I can accept the answer.","body":"@howlger yes I tried and it worked. Great. Thanks a lot. You can put the same thing in Answer section and I can accept the answer."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1635835893,"post_id":69798754,"comment_id":123391844,"body_markdown":"Great. Yasser has already given the answer (right-click project + Maven &gt; Update Project...).","body":"Great. Yasser has already given the answer (right-click project + Maven &gt; Update Project...)."}],"answers":[{"tags":[],"owner":{"account_id":2338728,"reputation":54,"user_id":2050494,"display_name":"Yasser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635835709,"creation_date":1635779564,"answer_id":69798925,"question_id":69798754,"body_markdown":"It looks like you have edited the project properties manually (there should only be one *JRE System Library* instead of two *JRE System Library* items).\r\n\r\nTo sync and derive the project properties from the `pom.xml` again, **right-click the project** and choose ***Maven &gt; Update Project...***","title":"&#39;Maven Dependencies&#39; Folder is missing even though build is successful","body":"<p>It looks like you have edited the project properties manually (there should only be one <em>JRE System Library</em> instead of two <em>JRE System Library</em> items).</p>\n<p>To sync and derive the project properties from the <code>pom.xml</code> again, <strong>right-click the project</strong> and choose <em><strong>Maven &gt; Update Project...</strong></em></p>\n"}],"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69798925,"answer_count":1,"score":0,"last_activity_date":1635835709,"creation_date":1635778724,"question_id":69798754,"body_markdown":"&#39;Maven Dependencies&#39; Folder is missing even though maven build is successful in Eclipse.\r\n\r\nI have 2 projects. In one project &#39;Maven Dependencies&#39; Folder is visible under the Project parallel to src , target folder etc. Build is successful and all the imports in the classes of that project has no errors. No problem.\r\n\r\nBut in another project the &#39;Maven Dependencies&#39; Folder is missing but build is successful. All the imports are showing errors in the left side and when I hover my mouse it shows like below:\r\n\r\nExample:\r\n The import javax.validation cannot be resolved\r\n ....\r\n The import com.fasterxml cannot be resolved\r\n\r\nWhen I click on the suggestion and do &#39;Fix project setup&#39; and add the jar file manually it works.\r\n\r\nBut it should work when maven build is successful even though we are not adding the jars manually. Also the &#39;Maven Dependencies&#39; Folder itself is missing which supposed to come under Project.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3XaAA.png","title":"&#39;Maven Dependencies&#39; Folder is missing even though build is successful","body":"<p>'Maven Dependencies' Folder is missing even though maven build is successful in Eclipse.</p>\n<p>I have 2 projects. In one project 'Maven Dependencies' Folder is visible under the Project parallel to src , target folder etc. Build is successful and all the imports in the classes of that project has no errors. No problem.</p>\n<p>But in another project the 'Maven Dependencies' Folder is missing but build is successful. All the imports are showing errors in the left side and when I hover my mouse it shows like below:</p>\n<p>Example:\nThe import javax.validation cannot be resolved\n....\nThe import com.fasterxml cannot be resolved</p>\n<p>When I click on the suggestion and do 'Fix project setup' and add the jar file manually it works.</p>\n<p>But it should work when maven build is successful even though we are not adding the jars manually. Also the 'Maven Dependencies' Folder itself is missing which supposed to come under Project.</p>\n<p><a href=\"https://i.stack.imgur.com/3XaAA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3XaAA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","nlp","apache-tika"],"answers":[{"tags":[],"owner":{"account_id":6338626,"reputation":2513,"user_id":4921317,"accept_rate":91,"display_name":"Gatusko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1569942609,"creation_date":1569942609,"answer_id":58187770,"question_id":58187568,"body_markdown":"This will not work in short text. As in documentantion say:\r\n\r\n&gt;  Implementation of the LanguageDetector API that uses\r\n&gt; https://github.com/optimaize/language-detector\r\n\r\nFrom https://tika.apache.org/1.13/api/org/apache/tika/langdetect/OptimaizeLangDetector.html\r\n\r\nGoing to review that github and check the challenges they have some issues with short texts. \r\n\r\n&gt; This software does not work as well when the input text to analyze is\r\n&gt; short, or unclean. For example tweets.\r\n\r\nFrom their https://github.com/optimaize/language-detector Challenges Sector","title":"Apache Tika fails to detect language on short sentence. Why?","body":"<p>This will not work in short text. As in documentantion say:</p>\n\n<blockquote>\n  <p>Implementation of the LanguageDetector API that uses\n  <a href=\"https://github.com/optimaize/language-detector\" rel=\"nofollow noreferrer\">https://github.com/optimaize/language-detector</a></p>\n</blockquote>\n\n<p>From <a href=\"https://tika.apache.org/1.13/api/org/apache/tika/langdetect/OptimaizeLangDetector.html\" rel=\"nofollow noreferrer\">https://tika.apache.org/1.13/api/org/apache/tika/langdetect/OptimaizeLangDetector.html</a></p>\n\n<p>Going to review that github and check the challenges they have some issues with short texts. </p>\n\n<blockquote>\n  <p>This software does not work as well when the input text to analyze is\n  short, or unclean. For example tweets.</p>\n</blockquote>\n\n<p>From their <a href=\"https://github.com/optimaize/language-detector\" rel=\"nofollow noreferrer\">https://github.com/optimaize/language-detector</a> Challenges Sector</p>\n"},{"tags":[],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635835400,"creation_date":1635835400,"answer_id":69806308,"question_id":58187568,"body_markdown":"I could reproduce the issue.\r\nIt may not directly answer the question but be considered as a workaround...\r\n\r\nIt seems that if you know what languages can be expected you can pass them to the detector via `loadModels(models)` method. This approach helps to detect English correctly:\r\n\r\n            try {\r\n                Set&lt;String&gt; models=new HashSet&lt;&gt;();\r\n                models.add(&quot;en&quot;);\r\n                models.add(&quot;ru&quot;);\r\n                models.add(&quot;de&quot;);\r\n                LanguageDetector detector = new OptimaizeLangDetector()\r\n    //            .setShortText(true)\r\n                .loadModels(models);\r\n    //            .loadModels();\r\n                LanguageResult enResult = detector.detect(&quot;Hello, my friend!&quot;);\r\n    //            LanguageResult ruResult = detector.detect(&quot;,  !&quot;);\r\n    //            LanguageResult deResult = detector.detect(&quot;Hallo, mein Freund!&quot;);\r\n                System.out.println(enResult.getLanguage());\r\n            } catch (IOException e) {\r\n                throw new ExceptionInInitializerError(e);\r\n            }\r\n\r\n","title":"Apache Tika fails to detect language on short sentence. Why?","body":"<p>I could reproduce the issue.\nIt may not directly answer the question but be considered as a workaround...</p>\n<p>It seems that if you know what languages can be expected you can pass them to the detector via <code>loadModels(models)</code> method. This approach helps to detect English correctly:</p>\n<pre><code>        try {\n            Set&lt;String&gt; models=new HashSet&lt;&gt;();\n            models.add(&quot;en&quot;);\n            models.add(&quot;ru&quot;);\n            models.add(&quot;de&quot;);\n            LanguageDetector detector = new OptimaizeLangDetector()\n//            .setShortText(true)\n            .loadModels(models);\n//            .loadModels();\n            LanguageResult enResult = detector.detect(&quot;Hello, my friend!&quot;);\n//            LanguageResult ruResult = detector.detect(&quot;,  !&quot;);\n//            LanguageResult deResult = detector.detect(&quot;Hallo, mein Freund!&quot;);\n            System.out.println(enResult.getLanguage());\n        } catch (IOException e) {\n            throw new ExceptionInInitializerError(e);\n        }\n</code></pre>\n"}],"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58187770,"answer_count":2,"score":2,"last_activity_date":1635835400,"creation_date":1569941966,"question_id":58187568,"body_markdown":"I tried to detect language on short phrase and was surprised as detection result is wrong. \r\n\r\n        LanguageDetector detector = new OptimaizeLangDetector();\r\n        try {\r\n            detector.loadModels();\r\n        } catch (IOException e) {\r\n            LOG.error(e.getMessage(), e);\r\n            throw new ExceptionInInitializerError(e);\r\n        }\r\n        LanguageResult languageResult = detector.detect(&quot;Hello, my friend!&quot;)\r\n\r\n\r\nThe languageResult contains Norwegian with &quot;medium&quot; probability. Why? I think it have to be English instead. Longer phrases seems to be detected properly. Does this means that Apache Tika should not be used on short text?\r\n","title":"Apache Tika fails to detect language on short sentence. Why?","body":"<p>I tried to detect language on short phrase and was surprised as detection result is wrong. </p>\n\n<pre><code>    LanguageDetector detector = new OptimaizeLangDetector();\n    try {\n        detector.loadModels();\n    } catch (IOException e) {\n        LOG.error(e.getMessage(), e);\n        throw new ExceptionInInitializerError(e);\n    }\n    LanguageResult languageResult = detector.detect(\"Hello, my friend!\")\n</code></pre>\n\n<p>The languageResult contains Norwegian with \"medium\" probability. Why? I think it have to be English instead. Longer phrases seems to be detected properly. Does this means that Apache Tika should not be used on short text?</p>\n"},{"tags":["java","android-studio","button","android-togglebutton"],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635834803,"creation_date":1635834803,"answer_id":69806217,"question_id":69797929,"body_markdown":"My answer to your question--*How to find why?* is to see the error stack trace in the **Logcat** window:\r\n\r\n[![screenshot][1]][1]\r\n\r\nYou may find some clues from it.\r\n\r\n  [1]: https://i.stack.imgur.com/sT1fY.jpg","title":"How to find why Toggle button Crashes?","body":"<p>My answer to your question--<em>How to find why?</em> is to see the error stack trace in the <strong>Logcat</strong> window:</p>\n<p><a href=\"https://i.stack.imgur.com/sT1fY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sT1fY.jpg\" alt=\"screenshot\" /></a></p>\n<p>You may find some clues from it.</p>\n"}],"owner":{"account_id":21199311,"reputation":330,"user_id":15590269,"display_name":"Sam Joshua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69806217,"answer_count":1,"score":0,"last_activity_date":1635834803,"creation_date":1635774903,"question_id":69797929,"body_markdown":"How to find why Toggle button Crashes?\r\n-------------------------------------\r\n\r\n\r\n----------\r\n\r\nMy Toggle button crashes when changing it&#39;s state. My situation: If I change the state of toggle button from *Off* to *On* which Suddenly, crashes the whole app and says &quot;YourApp is not Responding&quot;. I don&#39;t know what is the error in the code. I am a newbie in Android App Developing. So, I don&#39;t know how to find and rectify the errors. If anybody know plz help me in my case. Thanks in Advance!\r\n\r\n\r\n----------\r\n\r\nHere&#39;s my Code:\r\n---------------\r\n\r\n**This is my XML file:**\r\n\r\n    &lt;ToggleButton\r\n        android:id=&quot;@+id/toggle_button&quot;\r\n        android:layout_width=&quot;35dp&quot;\r\n        android:layout_height=&quot;35dp&quot;\r\n        android:layout_marginTop=&quot;-2dp&quot;\r\n        android:layout_marginLeft=&quot;-45dp&quot;\r\n        android:background=&quot;@drawable/toggle_selector&quot;\r\n        android:textOff=&quot;&quot;\r\n        android:textOn=&quot;&quot; /&gt;\r\n\r\n**This is my Java code:**\r\n\r\n    /*------------------------------Screen timeout toggle----------------------------------------------------*/\r\n            ToggleButton toggle_button = (ToggleButton) findViewById(R.id.toggle_button);\r\n            toggle_button.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                    try {\r\n                        if (isChecked) {\r\n                            getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n                            timeout_on = Toast.makeText(getBaseContext(), &quot;Screen Timeout is Disabled (Your screen will doesn&#39;t sleep from now!)&quot;, Toast.LENGTH_LONG);\r\n                            TextView v = (TextView) timeout_on.getView().findViewById(android.R.id.message);\r\n                            if( v != null) v.setGravity(Gravity.CENTER);\r\n                            timeout_on.show();\r\n                        } else {\r\n                            getWindow().clearFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\r\n                            timeout_off = Toast.makeText(getBaseContext(), &quot;Screen Timeout is Enabled (Your screen will go to sleep as your phone&#39;s timeout!)&quot;, Toast.LENGTH_LONG);\r\n                            TextView v = (TextView) timeout_off.getView().findViewById(android.R.id.message);\r\n                            if( v != null) v.setGravity(Gravity.CENTER);\r\n                            timeout_off.show();\r\n                        }\r\n                    } catch (Exception error) {\r\n                        error.printStackTrace();\r\n                    }\r\n                }\r\n            });\r\n    /*------------------------------Screen timeout toggle----------------------------------------------------*/\r\n\r\n","title":"How to find why Toggle button Crashes?","body":"<h2>How to find why Toggle button Crashes?</h2>\n<hr />\n<p>My Toggle button crashes when changing it's state. My situation: If I change the state of toggle button from <em>Off</em> to <em>On</em> which Suddenly, crashes the whole app and says &quot;YourApp is not Responding&quot;. I don't know what is the error in the code. I am a newbie in Android App Developing. So, I don't know how to find and rectify the errors. If anybody know plz help me in my case. Thanks in Advance!</p>\n<hr />\n<h2>Here's my Code:</h2>\n<p><strong>This is my XML file:</strong></p>\n<pre><code>&lt;ToggleButton\n    android:id=&quot;@+id/toggle_button&quot;\n    android:layout_width=&quot;35dp&quot;\n    android:layout_height=&quot;35dp&quot;\n    android:layout_marginTop=&quot;-2dp&quot;\n    android:layout_marginLeft=&quot;-45dp&quot;\n    android:background=&quot;@drawable/toggle_selector&quot;\n    android:textOff=&quot;&quot;\n    android:textOn=&quot;&quot; /&gt;\n</code></pre>\n<p><strong>This is my Java code:</strong></p>\n<pre><code>/*------------------------------Screen timeout toggle----------------------------------------------------*/\n        ToggleButton toggle_button = (ToggleButton) findViewById(R.id.toggle_button);\n        toggle_button.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                try {\n                    if (isChecked) {\n                        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n                        timeout_on = Toast.makeText(getBaseContext(), &quot;Screen Timeout is Disabled (Your screen will doesn't sleep from now!)&quot;, Toast.LENGTH_LONG);\n                        TextView v = (TextView) timeout_on.getView().findViewById(android.R.id.message);\n                        if( v != null) v.setGravity(Gravity.CENTER);\n                        timeout_on.show();\n                    } else {\n                        getWindow().clearFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);\n                        timeout_off = Toast.makeText(getBaseContext(), &quot;Screen Timeout is Enabled (Your screen will go to sleep as your phone's timeout!)&quot;, Toast.LENGTH_LONG);\n                        TextView v = (TextView) timeout_off.getView().findViewById(android.R.id.message);\n                        if( v != null) v.setGravity(Gravity.CENTER);\n                        timeout_off.show();\n                    }\n                } catch (Exception error) {\n                    error.printStackTrace();\n                }\n            }\n        });\n/*------------------------------Screen timeout toggle----------------------------------------------------*/\n</code></pre>\n"},{"tags":["java","graylog","gelf"],"answers":[{"tags":[],"owner":{"account_id":2360824,"reputation":17691,"user_id":2067527,"display_name":"mp911de"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1497127804,"creation_date":1497127804,"answer_id":44477934,"question_id":44438211,"body_markdown":"You need to send the values according to their data types. There&#39;s a difference in\r\n\r\n    {&#39;cpuTime&#39;:&#39;42&#39;}\r\n\r\nand\r\n\r\n    {&#39;cpuTime&#39;:42}\r\n\r\nI don&#39;t know whether there&#39;s a transformer available in Graylog (you can handle field transformations in logstash via `filters`). If you want to solve the issue at logger level take a look at http://logging.paluch.biz/examples/logback.html, specifically `additionalFieldTypes`.","title":"How can I programmatically log numeric fields into Graylog?","body":"<p>You need to send the values according to their data types. There's a difference in</p>\n\n<pre><code>{'cpuTime':'42'}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>{'cpuTime':42}\n</code></pre>\n\n<p>I don't know whether there's a transformer available in Graylog (you can handle field transformations in logstash via <code>filters</code>). If you want to solve the issue at logger level take a look at <a href=\"http://logging.paluch.biz/examples/logback.html\" rel=\"nofollow noreferrer\">http://logging.paluch.biz/examples/logback.html</a>, specifically <code>additionalFieldTypes</code>.</p>\n"},{"tags":[],"owner":{"account_id":6181339,"reputation":21,"user_id":4816732,"display_name":"Juliusz wikalski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635834746,"creation_date":1635425078,"answer_id":69754345,"question_id":44438211,"body_markdown":"I&#39;ve faced same issue and figured out that recent version of https://mvnrepository.com/artifact/de.siegmar/logback-gelf/4.0.0 implements the feature of sending numeric-like values as numbers to Graylog. \r\n\r\nIt&#39;s disabled by default and you can enable it by setting flag `numbersAsString`, for example like that in logback.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n\t&lt;include\r\n\t\tresource=&quot;org/springframework/boot/logging/logback/base.xml&quot; /&gt;\r\n\r\n\t&lt;appender name=&quot;GELF&quot;\r\n\t\tclass=&quot;de.siegmar.logbackgelf.GelfUdpAppender&quot;&gt;\r\n\t\t&lt;graylogHost&gt;${graylog-host}&lt;/graylogHost&gt;\r\n\t\t&lt;graylogPort&gt;${graylog-port&gt;&lt;/graylogPort&gt;\r\n\t\t&lt;encoder class=&quot;de.siegmar.logbackgelf.GelfEncoder&quot;&gt;\r\n\t\t\t&lt;numbersAsString&gt;false&lt;/numbersAsString&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t&lt;/appender&gt;\r\n\t&lt;root level=&quot;INFO&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;GELF&quot; /&gt;\r\n\t&lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n```\r\n\r\nWith above setup parsable values are sent to Graylog as numbers, it&#39;s handled by this piece of code in `de.siegmar.logbackgelf.GelfEncoder` - converts String to BigDecimal\r\n```java\r\n    private Object processValue(final String value) {\r\n        if (!numbersAsString) {\r\n            try {\r\n                return new BigDecimal(value);\r\n            } catch (final NumberFormatException e) {\r\n                return value;\r\n            }\r\n        }\r\n        return value;\r\n    }\r\n```\r\n\r\nThat is later on encoded to Json as number in `de.siegmar.logbackgelf.SimpleJsonEncoder`\r\n\r\n```java\r\n    SimpleJsonEncoder appendToJSON(final String key, final Object value) {\r\n        if (closed) {\r\n            throw new IllegalStateException(&quot;Encoder already closed&quot;);\r\n        }\r\n        if (value != null) {\r\n            appendKey(key);\r\n            if (value instanceof Number) {\r\n                sb.append(value.toString());\r\n            } else {\r\n                sb.append(QUOTE).append(escapeString(value.toString())).append(QUOTE);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n```","title":"How can I programmatically log numeric fields into Graylog?","body":"<p>I've faced same issue and figured out that recent version of <a href=\"https://mvnrepository.com/artifact/de.siegmar/logback-gelf/4.0.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/de.siegmar/logback-gelf/4.0.0</a> implements the feature of sending numeric-like values as numbers to Graylog.</p>\n<p>It's disabled by default and you can enable it by setting flag <code>numbersAsString</code>, for example like that in logback.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;include\n        resource=&quot;org/springframework/boot/logging/logback/base.xml&quot; /&gt;\n\n    &lt;appender name=&quot;GELF&quot;\n        class=&quot;de.siegmar.logbackgelf.GelfUdpAppender&quot;&gt;\n        &lt;graylogHost&gt;${graylog-host}&lt;/graylogHost&gt;\n        &lt;graylogPort&gt;${graylog-port&gt;&lt;/graylogPort&gt;\n        &lt;encoder class=&quot;de.siegmar.logbackgelf.GelfEncoder&quot;&gt;\n            &lt;numbersAsString&gt;false&lt;/numbersAsString&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n        &lt;appender-ref ref=&quot;GELF&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>With above setup parsable values are sent to Graylog as numbers, it's handled by this piece of code in <code>de.siegmar.logbackgelf.GelfEncoder</code> - converts String to BigDecimal</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private Object processValue(final String value) {\n        if (!numbersAsString) {\n            try {\n                return new BigDecimal(value);\n            } catch (final NumberFormatException e) {\n                return value;\n            }\n        }\n        return value;\n    }\n</code></pre>\n<p>That is later on encoded to Json as number in <code>de.siegmar.logbackgelf.SimpleJsonEncoder</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    SimpleJsonEncoder appendToJSON(final String key, final Object value) {\n        if (closed) {\n            throw new IllegalStateException(&quot;Encoder already closed&quot;);\n        }\n        if (value != null) {\n            appendKey(key);\n            if (value instanceof Number) {\n                sb.append(value.toString());\n            } else {\n                sb.append(QUOTE).append(escapeString(value.toString())).append(QUOTE);\n            }\n        }\n        return this;\n    }\n</code></pre>\n"}],"owner":{"account_id":6615281,"reputation":1826,"user_id":5108777,"display_name":"manuelvigarcia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2126,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44477934,"answer_count":2,"score":2,"last_activity_date":1635834746,"creation_date":1496931363,"question_id":44438211,"body_markdown":"The situation\r\n===\r\nI write libraries to work against a computing server.\r\nI am logging computing times (start and stop of a job, for example).\r\nI want to log this values independently of the log framework configuration of the client application. I have achieved this by using Graylog programmatically. So I configure and initialize my logger from my library while the client remain oblivious.\r\n\r\nThis is my initialization code\r\n\r\n    import org.graylog2.log.GelfAppender;\r\n    \r\n    void init() {\r\n        final GelfAppender appender = new GelfAppender();\r\n    \r\n        appender.setName(&quot;MyServerAppender&quot;);\r\n        appender.setGraylogHost(&quot;bigcpuserver&quot;);\r\n        appender.setGraylogPort(2020);\r\n        appender.setExtractStacktrace(true);\r\n        appender.setAddExtendedInformation(true);\r\n        appender.setAdditionalFields(&quot;{&#39;environment&#39;: &#39;TEST&#39;,&quot;\r\n                + &quot;&#39;ip_address&#39;: &#39;10.20.30.40&#39;,&quot;\r\n                + &quot;&#39;serverName&#39;: &#39;devPc&#39;,&quot;\r\n                + &quot;&#39;libVersion&#39;: &#39;1.0.0&#39;,&quot;\r\n                + &quot;&#39;application&#39;: &#39;loggingTestApp&#39;,&quot;\r\n                + &quot;&#39;appversion&#39;: &#39;2.0.7&#39;}&quot;);\r\n        appender.activateOptions();\r\n        final org.apache.log4j.Logger myLog =\r\n            org.apache.log4j.Logger.getLogger(MyHiddenLoggerClass.class);\r\n        myLog.addAppender(appender);\r\n    \r\n    }\r\n\r\n\r\nSo far so good. I can send logs to Graylog from anywhere in my code by means of the following line:\r\n\r\n    org.apache.log4j.Logger.getLogger(MyHiddenLoggerClass.class).info(&quot;message&quot;);\r\n\r\n\r\nThe problem\r\n===\r\nI want to add numeric fields to my logs so Graylog can run statistics on them. Like, for example, find which jobs took longest --might need algorithm optimization-- or shortest --might not need the computation server at all--.\r\n\r\nI can add fields to the MDC in the following fashion:\r\n\r\n    org.apache.log4j.MDC.put(&quot;cpuTime&quot;, startTimeMillis-endTimeMillis);\r\n\r\nAnd, from then on, all logs will include the `cpuTime` field with that value. I do remove it after the specific log entry has been sent to prevent carrying it over the subsequent log entries:\r\n\r\n    org.apache.log4j.MDC.remove(&quot;cpuTime&quot;);\r\n\r\n\r\nBut, to Graylog, those are strings, so it can only count them and see how many different there are.\r\n\r\nThe question\r\n===\r\nHow can I tell Graylog that &quot;cpuTime&quot; will always be a `long`?\r\n\r\nThe attempts so far\r\n===\r\nI tried configuring the fields beforehand, at `init()` time.\r\n\r\nTo do that I tested other class hierarchies too, like `me.moocar`. For example, I have tried the following:\r\n\r\n        final me.moocar.logbackgelf.GelfAppender appender =\r\n            new me.moocar.logbackgelf.GelfAppender();\r\n    \r\n        appender.setName(&quot;MyServerAppender&quot;);\r\n        appender.setIncludeFullMDC(true);\r\n        appender.setGraylog2ServerHost(&quot;bigcpuserver&quot;);\r\n        appender.setGraylog2ServerPort(2020);\r\n        final Map&lt;String, String&gt; additionalFields = new HashMap&lt;String, String&gt;();\r\n        final Map&lt;String, String&gt; fieldTypes = new HashMap&lt;String, String&gt;();\r\n        additionalFields.put(&quot;cpuTime&quot;, &quot;42&quot;);\r\n        fieldTypes.put(&quot;cpuTime&quot;, &quot;long&quot;);\r\n        appender.setAdditionalFields(additionalFields);\r\n        appender.setFieldTypes(fieldTypes);\r\n        appender.start();\r\n    \r\n        final ch.qos.logback.classic.LoggerContext logCtx =\r\n                (LoggerContext) LoggerFactory.getILoggerFactory();\r\n        appender.setContext(logCtx);\r\n    \r\n        ch.qos.logback.classic.Logger logToConfigure =\r\n                logCtx.getLogger(MyHiddenLoggerClass.class);\r\n        logToConfigure.addAppender(appender);\r\n\r\n\r\nSo I can do the following in my test code:\r\n\r\n        final ch.qos.logback.classic.Logger log =\r\n                 logCtx.getLogger(MyHiddenLoggerClass.class);\r\n        MDC.put(&quot;cpuTime&quot;, totalTime);\r\n        log.error(&quot;task finished.&quot;);\r\n\r\nAnd in Graylog, the log &quot;task finished.&quot; will be accompanied by a field named &quot;cpuTime&quot;, and containing _a string_ with the value of `totalTime` at the log moment. I just want the contained value to be a _number_. Anyone can help me with that?\r\n\r\nI can change the whole to the `me.moocar` hierarchy if that helps at all. But so far, neither `me.moocar` nor `org.graylog2.log` have given me the result I want; and with the latter I get an easier task of attaching the appender to the logger.\r\n\r\n### update ###\r\n`me.moocar` seems to be limited to `String` as type of the additional fields. So if I want numeric fields I have to choose other alternative.\r\n","title":"How can I programmatically log numeric fields into Graylog?","body":"<h1>The situation</h1>\n\n<p>I write libraries to work against a computing server.\nI am logging computing times (start and stop of a job, for example).\nI want to log this values independently of the log framework configuration of the client application. I have achieved this by using Graylog programmatically. So I configure and initialize my logger from my library while the client remain oblivious.</p>\n\n<p>This is my initialization code</p>\n\n<pre><code>import org.graylog2.log.GelfAppender;\n\nvoid init() {\n    final GelfAppender appender = new GelfAppender();\n\n    appender.setName(\"MyServerAppender\");\n    appender.setGraylogHost(\"bigcpuserver\");\n    appender.setGraylogPort(2020);\n    appender.setExtractStacktrace(true);\n    appender.setAddExtendedInformation(true);\n    appender.setAdditionalFields(\"{'environment': 'TEST',\"\n            + \"'ip_address': '10.20.30.40',\"\n            + \"'serverName': 'devPc',\"\n            + \"'libVersion': '1.0.0',\"\n            + \"'application': 'loggingTestApp',\"\n            + \"'appversion': '2.0.7'}\");\n    appender.activateOptions();\n    final org.apache.log4j.Logger myLog =\n        org.apache.log4j.Logger.getLogger(MyHiddenLoggerClass.class);\n    myLog.addAppender(appender);\n\n}\n</code></pre>\n\n<p>So far so good. I can send logs to Graylog from anywhere in my code by means of the following line:</p>\n\n<pre><code>org.apache.log4j.Logger.getLogger(MyHiddenLoggerClass.class).info(\"message\");\n</code></pre>\n\n<h1>The problem</h1>\n\n<p>I want to add numeric fields to my logs so Graylog can run statistics on them. Like, for example, find which jobs took longest --might need algorithm optimization-- or shortest --might not need the computation server at all--.</p>\n\n<p>I can add fields to the MDC in the following fashion:</p>\n\n<pre><code>org.apache.log4j.MDC.put(\"cpuTime\", startTimeMillis-endTimeMillis);\n</code></pre>\n\n<p>And, from then on, all logs will include the <code>cpuTime</code> field with that value. I do remove it after the specific log entry has been sent to prevent carrying it over the subsequent log entries:</p>\n\n<pre><code>org.apache.log4j.MDC.remove(\"cpuTime\");\n</code></pre>\n\n<p>But, to Graylog, those are strings, so it can only count them and see how many different there are.</p>\n\n<h1>The question</h1>\n\n<p>How can I tell Graylog that \"cpuTime\" will always be a <code>long</code>?</p>\n\n<h1>The attempts so far</h1>\n\n<p>I tried configuring the fields beforehand, at <code>init()</code> time.</p>\n\n<p>To do that I tested other class hierarchies too, like <code>me.moocar</code>. For example, I have tried the following:</p>\n\n<pre><code>    final me.moocar.logbackgelf.GelfAppender appender =\n        new me.moocar.logbackgelf.GelfAppender();\n\n    appender.setName(\"MyServerAppender\");\n    appender.setIncludeFullMDC(true);\n    appender.setGraylog2ServerHost(\"bigcpuserver\");\n    appender.setGraylog2ServerPort(2020);\n    final Map&lt;String, String&gt; additionalFields = new HashMap&lt;String, String&gt;();\n    final Map&lt;String, String&gt; fieldTypes = new HashMap&lt;String, String&gt;();\n    additionalFields.put(\"cpuTime\", \"42\");\n    fieldTypes.put(\"cpuTime\", \"long\");\n    appender.setAdditionalFields(additionalFields);\n    appender.setFieldTypes(fieldTypes);\n    appender.start();\n\n    final ch.qos.logback.classic.LoggerContext logCtx =\n            (LoggerContext) LoggerFactory.getILoggerFactory();\n    appender.setContext(logCtx);\n\n    ch.qos.logback.classic.Logger logToConfigure =\n            logCtx.getLogger(MyHiddenLoggerClass.class);\n    logToConfigure.addAppender(appender);\n</code></pre>\n\n<p>So I can do the following in my test code:</p>\n\n<pre><code>    final ch.qos.logback.classic.Logger log =\n             logCtx.getLogger(MyHiddenLoggerClass.class);\n    MDC.put(\"cpuTime\", totalTime);\n    log.error(\"task finished.\");\n</code></pre>\n\n<p>And in Graylog, the log \"task finished.\" will be accompanied by a field named \"cpuTime\", and containing <em>a string</em> with the value of <code>totalTime</code> at the log moment. I just want the contained value to be a <em>number</em>. Anyone can help me with that?</p>\n\n<p>I can change the whole to the <code>me.moocar</code> hierarchy if that helps at all. But so far, neither <code>me.moocar</code> nor <code>org.graylog2.log</code> have given me the result I want; and with the latter I get an easier task of attaching the appender to the logger.</p>\n\n<h3>update</h3>\n\n<p><code>me.moocar</code> seems to be limited to <code>String</code> as type of the additional fields. So if I want numeric fields I have to choose other alternative.</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635834201,"creation_date":1635828073,"answer_id":69805470,"question_id":69805442,"body_markdown":"You could use `String#matches` with the following regex pattern:\r\n\r\n    ^[A-Z0-9]*(?:[0-9][A-Z0-9]*[A-Z]|[A-Z][A-Z0-9]*[0-9])[A-Z0-9]*$\r\n\r\nSample Java code:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    List&lt;String&gt; inputs = Arrays.asList(new String[] { &quot;111AB&quot;, &quot;111&quot;, &quot;AB&quot;, &quot;111AB$&quot; });\r\n    for (String input : inputs) {\r\n        if (input.matches(&quot;[A-Z0-9]*(?:[0-9][A-Z0-9]*[A-Z]|[A-Z][A-Z0-9]*[0-9])[A-Z0-9]*&quot;)) {\r\n            System.out.println(input + &quot; =&gt; VALID&quot;);\r\n        }\r\n        else {\r\n            System.out.println(input + &quot; =&gt; INVALID&quot;);\r\n        }\r\n    }\r\n\r\nThis prints:\r\n\r\n    111AB =&gt; VALID\r\n    111 =&gt; INVALID\r\n    AB =&gt; INVALID\r\n    111AB$ =&gt; INVALID\r\n\r\nNote that the regex pattern actually used with `String#matches` do not have leading/trailing `^/$` anchors.  This is because the `matches` API implicitly applies the regex pattern to the entire string.\r\n\r\nFor an explanation of the regex pattern, it simply tries to match an input with has at least one digit or letter, in any order.","title":"How regex pattern write to check at least one string and number in Java?","body":"<p>You could use <code>String#matches</code> with the following regex pattern:</p>\n<pre><code>^[A-Z0-9]*(?:[0-9][A-Z0-9]*[A-Z]|[A-Z][A-Z0-9]*[0-9])[A-Z0-9]*$\n</code></pre>\n<p>Sample Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; inputs = Arrays.asList(new String[] { &quot;111AB&quot;, &quot;111&quot;, &quot;AB&quot;, &quot;111AB$&quot; });\nfor (String input : inputs) {\n    if (input.matches(&quot;[A-Z0-9]*(?:[0-9][A-Z0-9]*[A-Z]|[A-Z][A-Z0-9]*[0-9])[A-Z0-9]*&quot;)) {\n        System.out.println(input + &quot; =&gt; VALID&quot;);\n    }\n    else {\n        System.out.println(input + &quot; =&gt; INVALID&quot;);\n    }\n}\n</code></pre>\n<p>This prints:</p>\n<pre><code>111AB =&gt; VALID\n111 =&gt; INVALID\nAB =&gt; INVALID\n111AB$ =&gt; INVALID\n</code></pre>\n<p>Note that the regex pattern actually used with <code>String#matches</code> do not have leading/trailing <code>^/$</code> anchors.  This is because the <code>matches</code> API implicitly applies the regex pattern to the entire string.</p>\n<p>For an explanation of the regex pattern, it simply tries to match an input with has at least one digit or letter, in any order.</p>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635833287,"creation_date":1635833287,"answer_id":69806024,"question_id":69805442,"body_markdown":"This would accomplish your goal:\r\n\r\n`^(?:[0-9]+[A-Za-z]|[A-Za-z]+[0-9])[A-Za-z0-9]*$`\r\n\r\nDigits preceding alpha, or alphas preceding a digit, followed by only alphas and digits.","title":"How regex pattern write to check at least one string and number in Java?","body":"<p>This would accomplish your goal:</p>\n<p><code>^(?:[0-9]+[A-Za-z]|[A-Za-z]+[0-9])[A-Za-z0-9]*$</code></p>\n<p>Digits preceding alpha, or alphas preceding a digit, followed by only alphas and digits.</p>\n"}],"owner":{"account_id":18927419,"reputation":55,"user_id":13810224,"display_name":"James"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69805470,"answer_count":2,"score":0,"last_activity_date":1635834201,"creation_date":1635827754,"question_id":69805442,"body_markdown":"I have an issue related to regex check at least one string and number which exclude any sign like @!#%^&amp;*.\r\nI have read many articles but I still can not find the correct answer as my expectation result.\r\n\r\nExample: I have a string like : 111AB11111\r\n\r\nMy expectation result:\r\nIf input string\r\n 1. &quot;1111&quot;=&gt;false\r\n 2. &quot;AAA&quot; =&gt;false\r\n 3. &quot;1A&quot; =&gt; true\r\n 4. &quot;A1&quot; =&gt; true\r\n 5. &quot;111AAA111&quot;=&gt;true\r\n 6. &quot;AAA11111AA&quot;=&gt;true\r\n 7. &quot;#AA111BBB&quot;=&gt;false\r\n 8. &quot;111AAAA$&quot;=&gt;false\r\n\r\n Which java regex patter can show above mentioned cases\r\n Thank for your value time for checking and suggestion\r\nThank you!!","title":"How regex pattern write to check at least one string and number in Java?","body":"<p>I have an issue related to regex check at least one string and number which exclude any sign like @!#%^&amp;*.\nI have read many articles but I still can not find the correct answer as my expectation result.</p>\n<p>Example: I have a string like : 111AB11111</p>\n<p>My expectation result:\nIf input string</p>\n<ol>\n<li>&quot;1111&quot;=&gt;false</li>\n<li>&quot;AAA&quot; =&gt;false</li>\n<li>&quot;1A&quot; =&gt; true</li>\n<li>&quot;A1&quot; =&gt; true</li>\n<li>&quot;111AAA111&quot;=&gt;true</li>\n<li>&quot;AAA11111AA&quot;=&gt;true</li>\n<li>&quot;#AA111BBB&quot;=&gt;false</li>\n<li>&quot;111AAAA$&quot;=&gt;false</li>\n</ol>\n<p>Which java regex patter can show above mentioned cases\nThank for your value time for checking and suggestion\nThank you!!</p>\n"},{"tags":["java","xslt"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1635805692,"post_id":69803398,"comment_id":123386879,"body_markdown":"If memory serves, isn&#39;t the input to a Transform XML?  And isn&#39;t the output from a Transform also XML?  Couldn&#39;t you just take the XML from the `Result` object, and assign it to the next `Source` object?","body":"If memory serves, isn&#39;t the input to a Transform XML?  And isn&#39;t the output from a Transform also XML?  Couldn&#39;t you just take the XML from the <code>Result</code> object, and assign it to the next <code>Source</code> object?"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1635807256,"post_id":69803398,"comment_id":123387231,"body_markdown":"Create the second XSLT as a SAX TransformerHandler and feed it as a SaxResult to the first Transformer.","body":"Create the second XSLT as a SAX TransformerHandler and feed it as a SaxResult to the first Transformer."}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635834132,"creation_date":1635833728,"answer_id":69806079,"question_id":69803398,"body_markdown":"One way is to set up the second transformation as a Sax `TransformerHandler` being the ContentHandler of the `SAXResult` of the first `Transformer` e.g.:\r\n\r\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n\r\n        String xslt1 = &quot;&lt;xsl:stylesheet xmlns:xsl=&#39;http://www.w3.org/1999/XSL/Transform&#39; version=&#39;1.0&#39;&gt;&lt;xsl:template match=&#39;/&#39;&gt;&lt;xsl:call-template name=&#39;identity&#39;/&gt;&lt;xsl:comment&gt;sheet 1&lt;/xsl:comment&gt;&lt;/xsl:template&gt;&lt;xsl:template name=&#39;identity&#39; match=&#39;@* | node()&#39;&gt;&lt;xsl:copy&gt;&lt;xsl:apply-templates select=&#39;@* | node()&#39;/&gt;&lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;&quot;;\r\n\r\n        String xslt2 = &quot;&lt;xsl:stylesheet xmlns:xsl=&#39;http://www.w3.org/1999/XSL/Transform&#39; version=&#39;1.0&#39;&gt;&lt;xsl:template match=&#39;/&#39;&gt;&lt;xsl:call-template name=&#39;identity&#39;/&gt;&lt;xsl:comment&gt;sheet 2&lt;/xsl:comment&gt;&lt;/xsl:template&gt;&lt;xsl:template name=&#39;identity&#39; match=&#39;@* | node()&#39;&gt;&lt;xsl:copy&gt;&lt;xsl:apply-templates select=&#39;@* | node()&#39;/&gt;&lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;&quot;;\r\n\r\n        Transformer transformer1 = transformerFactory.newTransformer(new StreamSource(new StringReader(xslt1)));\r\n\r\n        TransformerHandler transformer2 = ((SAXTransformerFactory)transformerFactory).newTransformerHandler(new StreamSource(new StringReader(xslt2)));\r\n        transformer2.setResult(new StreamResult(System.out));\r\n        \r\n        transformer1.transform(new StreamSource(new StringReader(&quot;&lt;root&gt;&lt;item&gt;a&lt;/item&gt;&lt;item&gt;b&lt;/item&gt;&lt;/root&gt;&quot;)), new SAXResult(transformer2));\r\n\r\nOr you can chain XSLT transformations as SAX `XMLFilter`s: https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest10/samples/java/he/JAXPExamples.java#L694","title":"How to chain XSLT processors in Java?","body":"<p>One way is to set up the second transformation as a Sax <code>TransformerHandler</code> being the ContentHandler of the <code>SAXResult</code> of the first <code>Transformer</code> e.g.:</p>\n<pre><code>    TransformerFactory transformerFactory = TransformerFactory.newInstance();\n\n    String xslt1 = &quot;&lt;xsl:stylesheet xmlns:xsl='http://www.w3.org/1999/XSL/Transform' version='1.0'&gt;&lt;xsl:template match='/'&gt;&lt;xsl:call-template name='identity'/&gt;&lt;xsl:comment&gt;sheet 1&lt;/xsl:comment&gt;&lt;/xsl:template&gt;&lt;xsl:template name='identity' match='@* | node()'&gt;&lt;xsl:copy&gt;&lt;xsl:apply-templates select='@* | node()'/&gt;&lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;&quot;;\n\n    String xslt2 = &quot;&lt;xsl:stylesheet xmlns:xsl='http://www.w3.org/1999/XSL/Transform' version='1.0'&gt;&lt;xsl:template match='/'&gt;&lt;xsl:call-template name='identity'/&gt;&lt;xsl:comment&gt;sheet 2&lt;/xsl:comment&gt;&lt;/xsl:template&gt;&lt;xsl:template name='identity' match='@* | node()'&gt;&lt;xsl:copy&gt;&lt;xsl:apply-templates select='@* | node()'/&gt;&lt;/xsl:copy&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;&quot;;\n\n    Transformer transformer1 = transformerFactory.newTransformer(new StreamSource(new StringReader(xslt1)));\n\n    TransformerHandler transformer2 = ((SAXTransformerFactory)transformerFactory).newTransformerHandler(new StreamSource(new StringReader(xslt2)));\n    transformer2.setResult(new StreamResult(System.out));\n    \n    transformer1.transform(new StreamSource(new StringReader(&quot;&lt;root&gt;&lt;item&gt;a&lt;/item&gt;&lt;item&gt;b&lt;/item&gt;&lt;/root&gt;&quot;)), new SAXResult(transformer2));\n</code></pre>\n<p>Or you can chain XSLT transformations as SAX <code>XMLFilter</code>s: <a href=\"https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest10/samples/java/he/JAXPExamples.java#L694\" rel=\"nofollow noreferrer\">https://saxonica.plan.io/projects/saxon/repository/he/revisions/master/entry/latest10/samples/java/he/JAXPExamples.java#L694</a></p>\n"}],"owner":{"account_id":7983379,"reputation":300,"user_id":6023830,"display_name":"fml2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69806079,"answer_count":1,"score":0,"last_activity_date":1635834132,"creation_date":1635805433,"question_id":69803398,"body_markdown":"I&#39;d like to perform chained XML processing with several XSLT transformers in Java. The first transformer takes the input as a `javax.xml.transform.Source` and produces a `javax.xml.transform.Result`. Not I&#39;d like to use the result as the input for the next transformation. I.e. I need the source for the second transformation.\r\n\r\nHow is it possible to create a `Source` from a `Result` (if it&#39;s possible at all)? Or is there some other solution for what I&#39;d like to do?","title":"How to chain XSLT processors in Java?","body":"<p>I'd like to perform chained XML processing with several XSLT transformers in Java. The first transformer takes the input as a <code>javax.xml.transform.Source</code> and produces a <code>javax.xml.transform.Result</code>. Not I'd like to use the result as the input for the next transformation. I.e. I need the source for the second transformation.</p>\n<p>How is it possible to create a <code>Source</code> from a <code>Result</code> (if it's possible at all)? Or is there some other solution for what I'd like to do?</p>\n"},{"tags":["java","type-conversion","integer","long-integer"],"comments":[{"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"score":0,"creation_date":1635833827,"post_id":69806004,"comment_id":123391394,"body_markdown":"Does this answer your question? [Multiplying long values?](https://stackoverflow.com/questions/1494862/multiplying-long-values)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1494862/multiplying-long-values\">Multiplying long values?</a>"},{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1635835967,"post_id":69806004,"comment_id":123391870,"body_markdown":"in the first example at the right of the equation sign you have one long `maxDays`, but in the second, after the equation sign you have 5 int values that will cause  `Numeric overflow` exception. you have to define one of the 5 integers as long, lilke: 1000L*24*60*60*377;","body":"in the first example at the right of the equation sign you have one long <code>maxDays</code>, but in the second, after the equation sign you have 5 int values that will cause  <code>Numeric overflow</code> exception. you have to define one of the 5 integers as long, lilke: 1000L*24*60*60*377;"}],"answers":[{"tags":[],"owner":{"account_id":13721821,"reputation":1820,"user_id":9901515,"display_name":"csalmhof"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635833920,"creation_date":1635833920,"answer_id":69806099,"question_id":69806004,"body_markdown":"You&#39;re right: all the numbers (1000, 24, ...) are seen as `int` and producing an overflow during the calculation. Only the result will be implicitely type casted to `long`.\r\n\r\nTo handle the calculation, you can mark all these values as `long` by adding a `L` at the end of the number like this:\r\n\r\n```\r\nlong maxDays = 1000L * 24L * 60L * 60L * 377L;\r\n```\r\nAlso it would be enough to declare only one number as `long` like this:\r\n\r\n```\r\nlong maxDays = 1000L * 24 * 60 * 60 * 377;\r\n```\r\n\r\n","title":"Java multiple numbers in one line","body":"<p>You're right: all the numbers (1000, 24, ...) are seen as <code>int</code> and producing an overflow during the calculation. Only the result will be implicitely type casted to <code>long</code>.</p>\n<p>To handle the calculation, you can mark all these values as <code>long</code> by adding a <code>L</code> at the end of the number like this:</p>\n<pre><code>long maxDays = 1000L * 24L * 60L * 60L * 377L;\n</code></pre>\n<p>Also it would be enough to declare only one number as <code>long</code> like this:</p>\n<pre><code>long maxDays = 1000L * 24 * 60 * 60 * 377;\n</code></pre>\n"}],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635833920,"creation_date":1635833111,"question_id":69806004,"body_markdown":"Please consider below code on java: \r\n```\r\n        long maxDays = 1000;\r\n        maxDays = maxDays * 24;\r\n        maxDays = maxDays * 60;\r\n        maxDays = maxDays * 60;\r\n        maxDays = maxDays * 377;\r\n        System.out.println(maxDays);  // The result is 32572800000\r\n```\r\n\r\nNow I try to do it in one line:\r\n```\r\n        maxDays = 1000 * 24 * 60 * 60 * 377;\r\n        System.out.println(maxDays);  // The result is -1786938368\r\n```\r\n\r\nWhy the result changed !\r\n\r\nI think it must be about type conversion from `int` to `long`, but I don&#39;t know why?\r\n\r\nAND how can I do it in one line in correct way?","title":"Java multiple numbers in one line","body":"<p>Please consider below code on java:</p>\n<pre><code>        long maxDays = 1000;\n        maxDays = maxDays * 24;\n        maxDays = maxDays * 60;\n        maxDays = maxDays * 60;\n        maxDays = maxDays * 377;\n        System.out.println(maxDays);  // The result is 32572800000\n</code></pre>\n<p>Now I try to do it in one line:</p>\n<pre><code>        maxDays = 1000 * 24 * 60 * 60 * 377;\n        System.out.println(maxDays);  // The result is -1786938368\n</code></pre>\n<p>Why the result changed !</p>\n<p>I think it must be about type conversion from <code>int</code> to <code>long</code>, but I don't know why?</p>\n<p>AND how can I do it in one line in correct way?</p>\n"},{"tags":["java","date","parsing","java-time","localdate"],"comments":[{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1635569798,"post_id":69776883,"comment_id":123339468,"body_markdown":"hint: `00:00` does not mean midnight today. It means start of today, so the result you are getting is correct","body":"hint: <code>00:00</code> does not mean midnight today. It means start of today, so the result you are getting is correct"},{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1635569983,"post_id":69776883,"comment_id":123339489,"body_markdown":"How is 00:00 on Monday _not_ before 23:59 on Monday?","body":"How is 00:00 on Monday <i>not</i> before 23:59 on Monday?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635789446,"post_id":69776883,"comment_id":123381914,"body_markdown":"I got no idea what you are asking. I downvoted and voted to close. Please [edit](https://stackoverflow.com/posts/69776883/edit) your question to answer the question by @chrylis-cautiouslyoptimistic-, and I will seriously consider retracting my votes.","body":"I got no idea what you are asking. I downvoted and voted to close. Please <a href=\"https://stackoverflow.com/posts/69776883/edit\">edit</a> your question to answer the question by @chrylis-cautiouslyoptimistic-, and I will seriously consider retracting my votes."},{"owner":{"account_id":14376350,"reputation":29,"user_id":10413324,"display_name":"user624"},"score":0,"creation_date":1635816931,"post_id":69776883,"comment_id":123388891,"body_markdown":"@OleV.V. Arvind Kumar Avinash got my question and answered it correctly","body":"@OleV.V. Arvind Kumar Avinash got my question and answered it correctly"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635830874,"post_id":69776883,"comment_id":123390873,"body_markdown":"Thanks for replying to my criticism. Thats good for you and bad for the rest of us. Stack Overflow is meant to be a resource for eveyone to enjoy. When we cant understand the question, it makes things a lot harder for us. I repeat: please edit your question and make it clear what the expected result was and how you got to expect that result. Would that be hard to do?","body":"Thanks for replying to my criticism. Thats good for you and bad for the rest of us. Stack Overflow is meant to be a resource for eveyone to enjoy. When we cant understand the question, it makes things a lot harder for us. I repeat: please edit your question and make it clear what the expected result was and how you got to expect that result. Would that be hard to do?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635571608,"creation_date":1635571126,"answer_id":69776989,"question_id":69776883,"body_markdown":"Your issue has nothing to do with parsing.\r\n\r\nAnd, the behavior you see is a feature, not a bug.\r\n\r\n[`LocalTime`][1] represent the time of day for a single imaginary generic 24-hours-long day. That day starts at 00:00:00.0. So all other values are *after* that zero time value. \r\n\r\nSo this should return `true`:\r\n\r\n    LocalTime.parse( &quot;00:00&quot; ).isBefore( LocalTime.parse( &quot;23:59&quot; ) )  // true.\r\n\r\nBe aware that in our politically-defined timekeeping systems days are not necessarily 24-hours long, nor do they necessarily start at 00:00. Some days may be 23, 23.5, 25, or other number of hours long. And some dates in some time zones may start at a time such as 01:00.\r\n\r\nBy the way, notice there is no need to specify a `DateTimeFormatter` when the input complies with ISO 8601 standard for date-time textual values.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html","title":"LocalTime does not parse 00:00 correctly","body":"<p>Your issue has nothing to do with parsing.</p>\n<p>And, the behavior you see is a feature, not a bug.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>LocalTime</code></a> represent the time of day for a single imaginary generic 24-hours-long day. That day starts at 00:00:00.0. So all other values are <em>after</em> that zero time value.</p>\n<p>So this should return <code>true</code>:</p>\n<pre><code>LocalTime.parse( &quot;00:00&quot; ).isBefore( LocalTime.parse( &quot;23:59&quot; ) )  // true.\n</code></pre>\n<p>Be aware that in our politically-defined timekeeping systems days are not necessarily 24-hours long, nor do they necessarily start at 00:00. Some days may be 23, 23.5, 25, or other number of hours long. And some dates in some time zones may start at a time such as 01:00.</p>\n<p>By the way, notice there is no need to specify a <code>DateTimeFormatter</code> when the input complies with ISO 8601 standard for date-time textual values.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635616697,"creation_date":1635616697,"answer_id":69780783,"question_id":69776883,"body_markdown":"Note that\r\n\r\n - The modern Date-Time API is based on [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) and does not require using a `DateTimeFormatter` object explicitly as long as the Date-Time string conforms to the ISO 8601 standards. Your time strings are in ISO 8601 format.\r\n - The local time, `00:00` corresponds to `12:00 AM` whereas `23:59` corresponds to `11:59 PM`, it&#39;s obvious that `00:00` is before `23:59`. So, the results that you have got is correct.\r\n\r\n\r\nTo avoid confusion, I recommend you attach a date with the local time i.e. use `LocalDateTime`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\r\n    \r\n    \t\tLocalTime start = LocalTime.parse(&quot;00:00&quot;);\r\n    \t\tLocalTime end = LocalTime.parse(&quot;23:59&quot;);\r\n    \r\n    \t\tSystem.out.println(start.format(dtf));\r\n    \t\tSystem.out.println(end.format(dtf));\r\n    \r\n    \t\tLocalDate today = LocalDate.now();\r\n    \r\n    \t\tLocalDateTime ldtStart = start.atDate(today);\r\n    \t\tLocalDateTime ldtEnd = end.atDate(today);\r\n    \t\tSystem.out.println(ldtStart);\r\n    \t\tSystem.out.println(ldtEnd);\r\n    \r\n    \t\t// Notice the result when you add a minute to ldtEnd\r\n    \t\tSystem.out.println(ldtEnd.plusMinutes(1));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    12:00 AM\r\n    11:59 PM\r\n    2021-10-30T00:00\r\n    2021-10-30T23:59\r\n    2021-10-31T00:00\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;][1]\r\n\r\nLearn more about the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html)&lt;sup&gt;*&lt;/sup&gt; from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table). Note that Android 8.0 Oreo already provides [support for `java.time`](https://developer.android.com/reference/java/time/package-summary).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://ideone.com/drOkvV","title":"LocalTime does not parse 00:00 correctly","body":"<p>Note that</p>\n<ul>\n<li>The modern Date-Time API is based on <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> and does not require using a <code>DateTimeFormatter</code> object explicitly as long as the Date-Time string conforms to the ISO 8601 standards. Your time strings are in ISO 8601 format.</li>\n<li>The local time, <code>00:00</code> corresponds to <code>12:00 AM</code> whereas <code>23:59</code> corresponds to <code>11:59 PM</code>, it's obvious that <code>00:00</code> is before <code>23:59</code>. So, the results that you have got is correct.</li>\n</ul>\n<p>To avoid confusion, I recommend you attach a date with the local time i.e. use <code>LocalDateTime</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.ENGLISH);\n\n        LocalTime start = LocalTime.parse(&quot;00:00&quot;);\n        LocalTime end = LocalTime.parse(&quot;23:59&quot;);\n\n        System.out.println(start.format(dtf));\n        System.out.println(end.format(dtf));\n\n        LocalDate today = LocalDate.now();\n\n        LocalDateTime ldtStart = start.atDate(today);\n        LocalDateTime ldtEnd = end.atDate(today);\n        System.out.println(ldtStart);\n        System.out.println(ldtEnd);\n\n        // Notice the result when you add a minute to ldtEnd\n        System.out.println(ldtEnd.plusMinutes(1));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>12:00 AM\n11:59 PM\n2021-10-30T00:00\n2021-10-30T23:59\n2021-10-31T00:00\n</code></pre>\n<p><a href=\"https://ideone.com/drOkvV\" rel=\"nofollow noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a><sup>*</sup> from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a>. Note that Android 8.0 Oreo already provides <a href=\"https://developer.android.com/reference/java/time/package-summary\" rel=\"nofollow noreferrer\">support for <code>java.time</code></a>.\n</sup></p>\n"}],"owner":{"account_id":14376350,"reputation":29,"user_id":10413324,"display_name":"user624"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1069,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":69780783,"answer_count":2,"score":0,"last_activity_date":1635832584,"creation_date":1635569566,"question_id":69776883,"body_markdown":"I am trying to parse &quot;Mon 00:00-23:59&quot; using `LocalTime`. \r\n\r\n    LocalTime start = LocalTime.parse(&quot;00:00&quot;, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\r\n    LocalTime end = LocalTime.parse(&quot;23:59&quot;, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\r\n\r\nBut, `start.isBefore(end)` returns true, how is this possible?\r\n\r\nI am trying to compare the Localtimes to check after parsing the user input that start will always be before end, otherwise it should throw an error to the user. \r\n\r\n**Solved :** I realise that this requires LocalDateTime or Date in order to compare the days as well, since there are corner cases such as 00:00.","title":"LocalTime does not parse 00:00 correctly","body":"<p>I am trying to parse &quot;Mon 00:00-23:59&quot; using <code>LocalTime</code>.</p>\n<pre><code>LocalTime start = LocalTime.parse(&quot;00:00&quot;, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\nLocalTime end = LocalTime.parse(&quot;23:59&quot;, DateTimeFormatter.ofPattern(&quot;HH:mm&quot;));\n</code></pre>\n<p>But, <code>start.isBefore(end)</code> returns true, how is this possible?</p>\n<p>I am trying to compare the Localtimes to check after parsing the user input that start will always be before end, otherwise it should throw an error to the user.</p>\n<p><strong>Solved :</strong> I realise that this requires LocalDateTime or Date in order to compare the days as well, since there are corner cases such as 00:00.</p>\n"},{"tags":["java","boolean"],"answers":[{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225; Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635774920,"creation_date":1635774920,"answer_id":69797936,"question_id":69797674,"body_markdown":"Assuming pure math, `y &lt; -x` is equivalent to `x &lt; -y`, `5 * x &gt;= y` is equivalent to `x &gt;= y * 0.2` and `whateverBoolean1 ^ whateverBoolean2` is equivalent to `whateverBoolean1 != whateverBoolean2`. Hence you can omit any side of `&amp;&amp;` operator.\r\n\r\nI am neglecting freaks of floating point arithmetics (0.2 is not precise number so some counterexample that original and simplified expression are not equivalent could be perhaps found after some effort.)","title":"Simplify a long boolean expression","body":"<p>Assuming pure math, <code>y &lt; -x</code> is equivalent to <code>x &lt; -y</code>, <code>5 * x &gt;= y</code> is equivalent to <code>x &gt;= y * 0.2</code> and <code>whateverBoolean1 ^ whateverBoolean2</code> is equivalent to <code>whateverBoolean1 != whateverBoolean2</code>. Hence you can omit any side of <code>&amp;&amp;</code> operator.</p>\n<p>I am neglecting freaks of floating point arithmetics (0.2 is not precise number so some counterexample that original and simplified expression are not equivalent could be perhaps found after some effort.)</p>\n"}],"owner":{"account_id":23206171,"reputation":13,"user_id":17300361,"display_name":"Kittanat Assawakiattikun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69797936,"answer_count":1,"score":0,"last_activity_date":1635831284,"creation_date":1635773565,"question_id":69797674,"body_markdown":"Im pretty new to this plattform  and well I have a trouble regarding boolean expression in my CS-class. I have to simplifly this boolean expression and have no clue how to do this.\r\n\r\ndouble x ;\r\ndouble y  ;\r\n\r\n**boolean b = ( (y &lt; -x) ^ (5 * x &gt;= y) ) &amp;&amp; ( (x &lt; -y) != (x &gt;= y * 0.2) )**","title":"Simplify a long boolean expression","body":"<p>Im pretty new to this plattform  and well I have a trouble regarding boolean expression in my CS-class. I have to simplifly this boolean expression and have no clue how to do this.</p>\n<p>double x ;\ndouble y  ;</p>\n<p><strong>boolean b = ( (y &lt; -x) ^ (5 * x &gt;= y) ) &amp;&amp; ( (x &lt; -y) != (x &gt;= y * 0.2) )</strong></p>\n"},{"tags":["java","swing","jbutton","jtextfield","layout-manager"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":3,"creation_date":1635791678,"post_id":69801159,"comment_id":123382694,"body_markdown":"You can&#39;t add both the `JTextField` and the `JButton` to the CENTER of the `JFrame`.  The `setVisible` method should be called last after all other methods.","body":"You can&#39;t add both the <code>JTextField</code> and the <code>JButton</code> to the CENTER of the <code>JFrame</code>.  The <code>setVisible</code> method should be called last after all other methods."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1635793205,"post_id":69801159,"comment_id":123383227,"body_markdown":"Don&#39;t attempt to use setBounds(...).  Swing was designed to be used with layout managers. By default a JFrame uses a `BorderLayout`. Read the Swing tutorial on [Layout Managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) for more information.","body":"Don&#39;t attempt to use setBounds(...).  Swing was designed to be used with layout managers. By default a JFrame uses a <code>BorderLayout</code>. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">Layout Managers</a> for more information."}],"answers":[{"tags":[],"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635795610,"creation_date":1635795610,"answer_id":69801995,"question_id":69801159,"body_markdown":"You didn&#39;t mention what&#39;s &quot;not working properly&quot;, but there are a few errors with your code:\r\n\r\n1. Don&#39;t call your class `Frame`, it may confuse you or others about `java.awt.Frame`, something that may work would be `MyFrame`\r\n\r\n2. Right now all your class is inside the `main` method and it&#39;s not placed inside the [Event Dispatch Thread (EDT)](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html), to fix this, create an instance of your class and call a method `createAndShowGUI` (or whatever you want to name it) inside `SwingUtilities.invokeLater()`\r\n\r\n    For Example:\r\n\r\n        public static void main(String args[]) {\r\n            SwingUtilities.invokeLater(new MyFrame()::createAndShowGUI)\r\n        }\r\n\r\n    Or if using Java 7 or lower, use the code inside [this answer](https://stackoverflow.com/questions/42404270/jcomponent-stops-getting-rendered-once-it-goes-off-the-screen/42404808#42404808) in point #2.\r\n\r\n3. `setVisible(true)` should be the last line in your code, otherwise you may find some visual glitches that may be resolved until you move your mouse above your window or something that triggers the call to `repaint()` of your components.\r\n\r\n4. Instead of calling `setSize(...)` directly, you should override `getPreferredSize(...)` of your `JPanel` and then call `pack()` on your `JFrame`, see this question and the answers in it: https://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi\r\n\r\n5. You&#39;re adding 2 components to the `CENTER` of `BorderLayout`, which is a `JFrame`&#39;s default layout manager, there are other [layout managers](https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html) and you can combine them to make complex GUI&#39;s.\r\n\r\n6. `setBounds(...)` might mean that you&#39;re using `null-layout`, which might seem like the easiest way to create complex layouts, however you will find yourself in situations like [this one](https://stackoverflow.com/a/42521097/2180785) if you take that approach, it&#39;s better to let Swing do the calculations for you while you use layout managers. For more, read: https://stackoverflow.com/questions/6592468/why-is-it-frowned-upon-to-use-a-null-layout-in-swing\r\n\r\nWith all the above tips now in mind, you may have a code similar to this one:\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.BoxLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class MyFrame {\r\n    \tprivate JFrame frame;\r\n    \tprivate JPanel pane;\r\n    \tprivate JTextField field;\r\n    \tprivate JButton button;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new MyFrame()::createAndShowGUI);\r\n    \t}\r\n    \r\n    \tprivate void createAndShowGUI() {\r\n    \t\tframe = new JFrame(&quot;Alkalmaz&#225;s&quot;);\r\n    \t\tpane = new JPanel() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic Dimension getPreferredSize() {\r\n    \t\t\t\treturn new Dimension(100, 100);\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tpane.setLayout(new BoxLayout(pane, BoxLayout.PAGE_AXIS));\r\n    \r\n    \t\tfield = new JTextField(10);\r\n    \t\tbutton = new JButton(&quot;Click me&quot;);\r\n    \r\n    \t\tbutton.addActionListener(new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \t\t\t\tfield.setText(&quot;something&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tpane.add(field);\r\n    \t\tpane.add(button);\r\n    \r\n    \t\tframe.add(pane);\r\n    \r\n    \t\tframe.setResizable(false);\r\n    \t\tframe.pack();\r\n    \t\tframe.setVisible(true);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t}\r\n    }\r\n\r\nNow you have an output similar to this one:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat about you want the `JTextField` to have a more &quot;normal&quot; size? Like this one: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou&#39;ll have to embed `field` inside another `JPanel` (with `FlowLayout` (the default layout manager of `JPanel`)), and then add that second `JPanel` to `pane`, I&#39;m not writing the code for that as I&#39;m leaving that as an exercise to you so you learn how to use multiple layout managers\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/heWne.png\r\n  [2]: https://i.stack.imgur.com/izChy.png","title":"JButton and JTextField","body":"<p>You didn't mention what's &quot;not working properly&quot;, but there are a few errors with your code:</p>\n<ol>\n<li><p>Don't call your class <code>Frame</code>, it may confuse you or others about <code>java.awt.Frame</code>, something that may work would be <code>MyFrame</code></p>\n</li>\n<li><p>Right now all your class is inside the <code>main</code> method and it's not placed inside the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread (EDT)</a>, to fix this, create an instance of your class and call a method <code>createAndShowGUI</code> (or whatever you want to name it) inside <code>SwingUtilities.invokeLater()</code></p>\n<p>For Example:</p>\n<pre><code> public static void main(String args[]) {\n     SwingUtilities.invokeLater(new MyFrame()::createAndShowGUI)\n }\n</code></pre>\n<p>Or if using Java 7 or lower, use the code inside <a href=\"https://stackoverflow.com/questions/42404270/jcomponent-stops-getting-rendered-once-it-goes-off-the-screen/42404808#42404808\">this answer</a> in point #2.</p>\n</li>\n<li><p><code>setVisible(true)</code> should be the last line in your code, otherwise you may find some visual glitches that may be resolved until you move your mouse above your window or something that triggers the call to <code>repaint()</code> of your components.</p>\n</li>\n<li><p>Instead of calling <code>setSize(...)</code> directly, you should override <code>getPreferredSize(...)</code> of your <code>JPanel</code> and then call <code>pack()</code> on your <code>JFrame</code>, see this question and the answers in it: <a href=\"https://stackoverflow.com/questions/7229226/should-i-avoid-the-use-of-setpreferredmaximumminimumsize-methods-in-java-swi\">Should I avoid the use of set(Preferred|Maximum|Minimum)Size methods in Java Swing?</a></p>\n</li>\n<li><p>You're adding 2 components to the <code>CENTER</code> of <code>BorderLayout</code>, which is a <code>JFrame</code>'s default layout manager, there are other <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow noreferrer\">layout managers</a> and you can combine them to make complex GUI's.</p>\n</li>\n<li><p><code>setBounds(...)</code> might mean that you're using <code>null-layout</code>, which might seem like the easiest way to create complex layouts, however you will find yourself in situations like <a href=\"https://stackoverflow.com/a/42521097/2180785\">this one</a> if you take that approach, it's better to let Swing do the calculations for you while you use layout managers. For more, read: <a href=\"https://stackoverflow.com/questions/6592468/why-is-it-frowned-upon-to-use-a-null-layout-in-swing\">Why is it frowned upon to use a null layout in Swing?</a></p>\n</li>\n</ol>\n<p>With all the above tips now in mind, you may have a code similar to this one:</p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BoxLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class MyFrame {\n    private JFrame frame;\n    private JPanel pane;\n    private JTextField field;\n    private JButton button;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new MyFrame()::createAndShowGUI);\n    }\n\n    private void createAndShowGUI() {\n        frame = new JFrame(&quot;Alkalmazs&quot;);\n        pane = new JPanel() {\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(100, 100);\n            }\n        };\n\n        pane.setLayout(new BoxLayout(pane, BoxLayout.PAGE_AXIS));\n\n        field = new JTextField(10);\n        button = new JButton(&quot;Click me&quot;);\n\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                field.setText(&quot;something&quot;);\n            }\n        });\n\n        pane.add(field);\n        pane.add(button);\n\n        frame.add(pane);\n\n        frame.setResizable(false);\n        frame.pack();\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n}\n</code></pre>\n<p>Now you have an output similar to this one:</p>\n<p><a href=\"https://i.stack.imgur.com/heWne.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/heWne.png\" alt=\"enter image description here\" /></a></p>\n<p>What about you want the <code>JTextField</code> to have a more &quot;normal&quot; size? Like this one:</p>\n<p><a href=\"https://i.stack.imgur.com/izChy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/izChy.png\" alt=\"enter image description here\" /></a></p>\n<p>You'll have to embed <code>field</code> inside another <code>JPanel</code> (with <code>FlowLayout</code> (the default layout manager of <code>JPanel</code>)), and then add that second <code>JPanel</code> to <code>pane</code>, I'm not writing the code for that as I'm leaving that as an exercise to you so you learn how to use multiple layout managers</p>\n"}],"owner":{"account_id":23208672,"reputation":1,"user_id":17302500,"display_name":"B&#225;lint Matus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635831193,"creation_date":1635791053,"question_id":69801159,"body_markdown":"What&#39;s wrong? `ImageIcon` and the frame&#39;s size are working properly.\r\nBut the `JTextField` and the `JButton` aren&#39;t.\r\n\r\nI need the solution.\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.ImageIcon;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    public class Frame {\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame frame = new JFrame();\r\n            frame.setTitle(&quot;Alkalmaz&#225;s&quot;);\r\n            frame.setVisible(true);\r\n            frame.setSize(500,500);\r\n            frame.setResizable(false);\r\n    \r\n            JTextField field = new JTextField();\r\n            field.setBounds(40,250, 300,35);\r\n    \r\n            JButton button = new JButton(new ImageIcon(&quot;table.png&quot;));\r\n            button.setBounds(40,400, 250,25);\r\n            button.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    tf.setText(&quot;&quot;something);\r\n                }\r\n            });\r\n            frame.add(field);\r\n            frame.add(button);\r\n        }\r\n    \r\n    }\r\n    \r\n\r\n","title":"JButton and JTextField","body":"<p>What's wrong? <code>ImageIcon</code> and the frame's size are working properly.\nBut the <code>JTextField</code> and the <code>JButton</code> aren't.</p>\n<p>I need the solution.</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.ImageIcon;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Frame {\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setTitle(&quot;Alkalmazs&quot;);\n        frame.setVisible(true);\n        frame.setSize(500,500);\n        frame.setResizable(false);\n\n        JTextField field = new JTextField();\n        field.setBounds(40,250, 300,35);\n\n        JButton button = new JButton(new ImageIcon(&quot;table.png&quot;));\n        button.setBounds(40,400, 250,25);\n        button.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                tf.setText(&quot;&quot;something);\n            }\n        });\n        frame.add(field);\n        frame.add(button);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","canvas","java-me","deprecated"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635728644,"post_id":69786185,"comment_id":123365170,"body_markdown":"Can you [edit] your question to add full log, show where the log appear and what is your begin data ?","body":"Can you <a href=\"https://stackoverflow.com/posts/69786185/edit\">edit</a> your question to add full log, show where the log appear and what is your begin data ?"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635761683,"post_id":69786185,"comment_id":123371466,"body_markdown":"When you edit your question, on the right there is help. Also, it&#39;s markdown, so if you know how to use markdown it&#39;s the same here","body":"When you edit your question, on the right there is help. Also, it&#39;s markdown, so if you know how to use markdown it&#39;s the same here"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1635797591,"post_id":69786185,"comment_id":123384648,"body_markdown":"Ok. Why the logs are in upper case ?","body":"Ok. Why the logs are in upper case ?"}],"owner":{"account_id":23027651,"reputation":1,"user_id":17147619,"display_name":"manzil safar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635830071,"creation_date":1635677926,"question_id":69786185,"body_markdown":"The code &quot;Region.Op.REPLACE&quot;, at two places in AndroidDisplayGraphics.java throws illegalArgumentException in android 9 and later versions due to policy change.  \r\nHere is the complete java code of AndroidDisplayGraphics.java:\r\n\r\n\t/**\r\n\t*  MicroEmulator\r\n\t*  Copyright (C) 2008 Bartek Teodorczyk &lt;barteo@barteo.net&gt;\r\n\t*\r\n\t*  It is licensed under the following two licenses as alternatives:\r\n\t*    1. GNU Lesser General Public License (the &quot;LGPL&quot;) version 2.1 or any newer version\r\n\t*    2. Apache License (the &quot;AL&quot;) Version 2.0\r\n\t*\r\n\t*  You may not use this file except in compliance with at least one of\r\n\t*  the above two licenses.\r\n\t*\r\n\t*  You may obtain a copy of the LGPL at\r\n\t*      http://www.gnu.org/licenses/old-licenses/lgpl-2.1.txt\r\n\t*\r\n\t*  You may obtain a copy of the AL at\r\n\t*      http://www.apache.org/licenses/LICENSE-2.0\r\n\t*\r\n\t*  Unless required by applicable law or agreed to in writing, software\r\n\t*  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\r\n\t*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n\t*  See the LGPL or the AL for the specific language governing permissions and\r\n\t*  limitations.\r\n\t*\r\n\t*  @version $Id: AndroidDisplayGraphics.java 2522 2011-11-28 13:44:59Z barteo@gmail.com $\r\n\t*/\r\n\r\n\tpackage org.microemu.android.device;\r\n\r\n\timport javax.microedition.lcdui.Font;\r\n\timport javax.microedition.lcdui.Image;\r\n\timport javax.microedition.lcdui.game.Sprite;\r\n\r\n\timport org.microemu.log.Logger;\r\n\r\n\timport android.graphics.Bitmap;\r\n\timport android.graphics.Canvas;\r\n\timport android.graphics.DashPathEffect;\r\n\timport android.graphics.Matrix;\r\n\timport android.graphics.Paint;\r\n\timport android.graphics.Path;\r\n\timport android.graphics.Rect;\r\n\timport android.graphics.RectF;\r\n\timport android.graphics.Region;\r\n\r\n\tpublic class AndroidDisplayGraphics extends javax.microedition.lcdui.Graphics {\r\n\t\t\r\n\t\tpublic Paint strokePaint = new Paint();\r\n\t\t\r\n\t\tpublic Paint fillPaint = new Paint();\r\n\t\t\r\n\t\tpublic AndroidFont androidFont;\r\n\t\t\r\n\t\tprivate static final DashPathEffect dashPathEffect = new DashPathEffect(new float[] { 5, 5 }, 0);\r\n\t\t\r\n\t\tprivate static final Matrix identityMatrix = new Matrix();\r\n\t\t\r\n\t\tprivate Canvas canvas;\r\n\t\t\r\n\t\tprivate GraphicsDelegate delegate;\r\n\r\n\t\tprivate Rect clip;\r\n\t\t\r\n\t\tprivate Font font;\r\n\t\t\r\n\t\tprivate int strokeStyle = SOLID;\r\n\t\t\r\n\t\tprivate Rect tmpRect = new Rect();\r\n\t\t\r\n\t\tprivate Rect tmpRectSecond = new Rect();\r\n\t\t\r\n\t\tprivate Matrix tmpMatrix = new Matrix();\r\n\t\t\r\n\t\tpublic AndroidDisplayGraphics() {\r\n\t\t\tthis.delegate = null;\r\n\t\t\t\r\n\t\t\tstrokePaint.setAntiAlias(true);\r\n\t\t\tstrokePaint.setStyle(Paint.Style.STROKE);\r\n\t\t\tfillPaint.setAntiAlias(true);\r\n\t\t\tfillPaint.setStyle(Paint.Style.FILL);\r\n\t\t}\r\n\t\t\r\n\t\tpublic AndroidDisplayGraphics(Bitmap bitmap) {\r\n\t\t\tthis.canvas = new Canvas(bitmap);\r\n\t\t\tthis.canvas.clipRect(0, 0, bitmap.getWidth(), bitmap.getHeight());\r\n\t\t\tthis.delegate = null;\r\n\t\t\t\r\n\t\t\tstrokePaint.setAntiAlias(true);\r\n\t\t\tstrokePaint.setStyle(Paint.Style.STROKE);\r\n\t\t\tfillPaint.setAntiAlias(true);\r\n\t\t\tfillPaint.setStyle(Paint.Style.FILL);\r\n\t\t\t\r\n\t\t\treset(this.canvas);\r\n\t\t}\r\n\t\t\r\n\t\tpublic void reset(Canvas canvas) {\r\n\t\t\tthis.canvas = canvas;\r\n\t\t\t\r\n\t\t\tRect tmp = this.canvas.getClipBounds();\r\n\t\t\tthis.canvas.setMatrix(identityMatrix);\r\n\t\t\t// setMatrix changes the clipping too\r\n\t\t\tthis.canvas.clipRect(tmp, Region.Op.REPLACE);\r\n\t\t\tclip = this.canvas.getClipBounds();\r\n\t\t\tsetFont(Font.getDefaultFont());\r\n\t\t}\r\n\t\t\r\n\t\tpublic Canvas getCanvas() {\r\n\t\t\treturn canvas;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setDelegate(GraphicsDelegate delegate) {\r\n\t\t\tthis.delegate = delegate;\r\n\t\t}\r\n\r\n\t\tpublic void clipRect(int x, int y, int width, int height) {\r\n\t\t\tcanvas.clipRect(x, y, x + width, y + height);\r\n\t\t\tclip = canvas.getClipBounds();\r\n\t\t\t\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.setClip(clip.left, clip.top, clip.right - clip.left, clip.bottom - clip.top);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void drawArc(int x, int y, int width, int height, int startAngle, int arcAngle) {\r\n\t\t\tRectF rect = new RectF(x, y, x + width, y + height);\r\n\t\t\tcanvas.drawArc(rect, -startAngle, -arcAngle, false, strokePaint);\r\n\t\t}\r\n\r\n\t\tpublic void drawImage(Image img, int x, int y, int anchor) {\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.drawImage(img, x, y, anchor);\r\n\t\t\t} else {\r\n\t\t\t\tint newx = x;\r\n\t\t\t\tint newy = y;\r\n\t\t\r\n\t\t\t\tif (anchor == 0) {\r\n\t\t\t\t\tanchor = javax.microedition.lcdui.Graphics.TOP | javax.microedition.lcdui.Graphics.LEFT;\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tif ((anchor &amp; javax.microedition.lcdui.Graphics.RIGHT) != 0) {\r\n\t\t\t\t\tnewx -= img.getWidth();\r\n\t\t\t\t} else if ((anchor &amp; javax.microedition.lcdui.Graphics.HCENTER) != 0) {\r\n\t\t\t\t\tnewx -= img.getWidth() / 2;\r\n\t\t\t\t}\r\n\t\t\t\tif ((anchor &amp; javax.microedition.lcdui.Graphics.BOTTOM) != 0) {\r\n\t\t\t\t\tnewy -= img.getHeight();\r\n\t\t\t\t} else if ((anchor &amp; javax.microedition.lcdui.Graphics.VCENTER) != 0) {\r\n\t\t\t\t\tnewy -= img.getHeight() / 2;\r\n\t\t\t\t}\r\n\t\t\r\n\t\t\t\tif (img.isMutable()) {\r\n\t\t\t\t\tcanvas.drawBitmap(((AndroidMutableImage) img).getBitmap(), newx, newy, strokePaint);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcanvas.drawBitmap(((AndroidImmutableImage) img).getBitmap(), newx, newy, strokePaint);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void drawLine(int x1, int y1, int x2, int y2) {\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.drawLine(x1, y1, x2, y2);\r\n\t\t\t} else {\r\n\t\t\t\tif (x1 == x2) {\r\n\t\t\t\t\tcanvas.drawLine(x1, y1, x2, y2 + 1, strokePaint);\r\n\t\t\t\t} else if (y1 == y2) {\r\n\t\t\t\t\tcanvas.drawLine(x1, y1, x2 + 1, y2, strokePaint);\r\n\t\t\t\t} else { \r\n\t\t\t\t\tcanvas.drawLine(x1, y1, x2 + 1, y2 + 1, strokePaint);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void drawRect(int x, int y, int width, int height) {\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.drawRect(x, y, width, height);\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.drawRect(x, y, x + width, y + height, strokePaint);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void drawRoundRect(int x, int y, int width, int height, int arcWidth, int arcHeight) {\r\n\t\t\tcanvas.drawRoundRect(new RectF(x, y, x + width, y + height), (float) arcWidth, (float) arcHeight, strokePaint);\r\n\t   }\r\n\r\n\t\tpublic void drawString(String str, int x, int y, int anchor) {\r\n\t\t\tdrawSubstring(str, 0, str.length(), x, y, anchor);\r\n\t\t}\r\n\r\n\t\tpublic void drawSubstring(String str, int offset, int len, int x, int y, int anchor) {\r\n\t\t\tint newx = x;\r\n\t\t\tint newy = y;\r\n\r\n\t\t\tif (anchor == 0) {\r\n\t\t\t\tanchor = javax.microedition.lcdui.Graphics.TOP | javax.microedition.lcdui.Graphics.LEFT;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ((anchor &amp; javax.microedition.lcdui.Graphics.TOP) != 0) {\r\n\t\t\t\tnewy -= androidFont.metrics.ascent;\r\n\t\t\t} else if ((anchor &amp; javax.microedition.lcdui.Graphics.BOTTOM) != 0) {\r\n\t\t\t\tnewy -= androidFont.metrics.descent;\r\n\t\t\t}\r\n\t\t\tif ((anchor &amp; javax.microedition.lcdui.Graphics.HCENTER) != 0) {\r\n\t\t\t\tnewx -= androidFont.paint.measureText(str) / 2;\r\n\t\t\t} else if ((anchor &amp; javax.microedition.lcdui.Graphics.RIGHT) != 0) {\r\n\t\t\t\tnewx -= androidFont.paint.measureText(str);\r\n\t\t\t}\r\n\r\n\t\t\tandroidFont.paint.setColor(strokePaint.getColor());\r\n\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.drawSubstringDelegate(str, offset, len, newx, newy, anchor);\r\n\t\t\t} else {    \r\n\t\t\t\tcanvas.drawText(str, offset, len + offset, newx, newy, androidFont.paint);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void fillArc(int x, int y, int width, int height, int startAngle, int arcAngle) {\r\n\t\t\tRectF rect = new RectF(x, y, x + width, y + height);\r\n\t\t\tcanvas.drawArc(rect, -startAngle, -arcAngle, true, fillPaint);\r\n\t\t}\r\n\r\n\t\tpublic void fillRect(int x, int y, int width, int height) {\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.fillRect(x, y, width, height);\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.drawRect(x, y, x + width, y + height, fillPaint);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void fillRoundRect(int x, int y, int width, int height, int arcWidth, int arcHeight) {\r\n\t\t\tcanvas.drawRoundRect(new RectF(x, y, x + width, y + height), (float) arcWidth, (float) arcHeight, fillPaint);\r\n\t\t}\r\n\r\n\t\tpublic int getClipHeight() {\r\n\t\t\treturn clip.bottom - clip.top;\r\n\t\t}\r\n\r\n\t\tpublic int getClipWidth() {\r\n\t\t\treturn clip.right - clip.left;\r\n\t\t}\r\n\r\n\t\tpublic int getClipX() {\r\n\t\t\treturn clip.left;\r\n\t\t}\r\n\r\n\t\tpublic int getClipY() {\r\n\t\t\treturn clip.top;\r\n\t\t}\r\n\r\n\t\tpublic int getColor() {\r\n\t\t\treturn strokePaint.getColor();\r\n\t\t}\r\n\r\n\t\tpublic Font getFont() {\r\n\t\t\treturn font;\r\n\t\t}\r\n\t\t\r\n\t\tpublic int getStrokeStyle() {\r\n\t\t\treturn strokeStyle;\r\n\t\t}\r\n\r\n\t\tpublic void setClip(int x, int y, int width, int height) {\r\n\t\t\tif (x == clip.left &amp;&amp; x + width == clip.right &amp;&amp; y == clip.top &amp;&amp; y + height == clip.bottom) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.setClip(x, y, width, height);\r\n\t\t\t}\r\n\r\n\t\t\tclip.left = x;\r\n\t\t\tclip.top = y;\r\n\t\t\tclip.right = x + width;\r\n\t\t\tclip.bottom = y + height;\r\n\t\t\tcanvas.clipRect(clip, Region.Op.REPLACE);\r\n\t\t}\r\n\r\n\t\tpublic void setColor(int RGB) {\r\n\t\t\tstrokePaint.setColor(0xff000000 | RGB);\r\n\t\t\tfillPaint.setColor(0xff000000 | RGB);\r\n\t\t}\r\n\r\n\t\tpublic void setFont(Font font) {\r\n\t\t\tthis.font = font;\r\n\t\t\t\r\n\t\t\tandroidFont = AndroidFontManager.getFont(font);\r\n\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setStrokeStyle(int style) {\r\n\t\t\tif (style != SOLID &amp;&amp; style != DOTTED) {\r\n\t\t\t\tthrow new IllegalArgumentException();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.strokeStyle = style;\r\n\t\t\t\r\n\t\t\tif (style == SOLID) {\r\n\t\t\t\tstrokePaint.setPathEffect(null);\r\n\t\t\t\tfillPaint.setPathEffect(null);\r\n\t\t\t} else { // DOTTED\r\n\t\t\t\tstrokePaint.setPathEffect(dashPathEffect);\r\n\t\t\t\tfillPaint.setPathEffect(dashPathEffect);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void translate(int x, int y) {\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.translate(x, y);\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.translate(x, y);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tsuper.translate(x, y);\r\n\t\t\t\t\r\n\t\t\tclip.left -= x;\r\n\t\t\tclip.right -= x;\r\n\t\t\tclip.top -= y;\r\n\t\t\tclip.bottom -= y;\r\n\t\t}\r\n\r\n\t\tpublic void drawRegion(Image src, int x_src, int y_src, int width,\r\n\t\t\t\tint height, int transform, int x_dst, int y_dst, int anchor) {\r\n\t\t\t// may throw NullPointerException, this is ok\r\n\t\t\tif (x_src + width &gt; src.getWidth() || y_src + height &gt; src.getHeight() || width &lt; 0 || height &lt; 0 || x_src &lt; 0\r\n\t\t\t\t\t|| y_src &lt; 0)\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Area out of Image&quot;);\r\n\r\n\t\t\t// this cannot be done on the same image we are drawing\r\n\t\t\t// check this if the implementation of getGraphics change so\r\n\t\t\t// as to return different Graphic Objects on each call to\r\n\t\t\t// getGraphics\r\n\t\t\tif (src.isMutable() &amp;&amp; src.getGraphics() == this)\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Image is source and target&quot;);\r\n\r\n\t\t\tBitmap img;\r\n\t\t\tif (src.isMutable()) {\r\n\t\t\t\timg = ((AndroidMutableImage) src).getBitmap();\r\n\t\t\t} else {\r\n\t\t\t\timg = ((AndroidImmutableImage) src).getBitmap();\r\n\t\t\t}            \r\n\r\n\t\t\ttmpMatrix.reset();\r\n\t\t\tint dW = width, dH = height;\r\n\t\t\tswitch (transform) {\r\n\t\t\tcase Sprite.TRANS_NONE: {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_ROT90: {\r\n\t\t\t\ttmpMatrix.preRotate(90);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tdW = height;\r\n\t\t\t\tdH = width;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_ROT180: {\r\n\t\t\t\ttmpMatrix.preRotate(180);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_ROT270: {\r\n\t\t\t\ttmpMatrix.preRotate(270);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tdW = height;\r\n\t\t\t\tdH = width;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_MIRROR: {\r\n\t\t\t\ttmpMatrix.preScale(-1, 1);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_MIRROR_ROT90: {\r\n\t\t\t\ttmpMatrix.preScale(-1, 1);\r\n\t\t\t\ttmpMatrix.preRotate(-90);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tdW = height;\r\n\t\t\t\tdH = width;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_MIRROR_ROT180: {\r\n\t\t\t\ttmpMatrix.preScale(-1, 1);\r\n\t\t\t\ttmpMatrix.preRotate(-180);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase Sprite.TRANS_MIRROR_ROT270: {\r\n\t\t\t\ttmpMatrix.preScale(-1, 1);\r\n\t\t\t\ttmpMatrix.preRotate(-270);\r\n\t\t\t\timg = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\r\n\t\t\t\tdW = height;\r\n\t\t\t\tdH = width;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Bad transform&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t// process anchor and correct x and y _dest\r\n\t\t\t// vertical\r\n\t\t\tboolean badAnchor = false;\r\n\r\n\t\t\tif (anchor == 0) {\r\n\t\t\t\tanchor = TOP | LEFT;\r\n\t\t\t}\r\n\r\n\t\t\tif ((anchor &amp; 0x7f) != anchor || (anchor &amp; BASELINE) != 0)\r\n\t\t\t\tbadAnchor = true;\r\n\r\n\t\t\tif ((anchor &amp; TOP) != 0) {\r\n\t\t\t\tif ((anchor &amp; (VCENTER | BOTTOM)) != 0)\r\n\t\t\t\t\tbadAnchor = true;\r\n\t\t\t} else if ((anchor &amp; BOTTOM) != 0) {\r\n\t\t\t\tif ((anchor &amp; VCENTER) != 0)\r\n\t\t\t\t\tbadAnchor = true;\r\n\t\t\t\telse {\r\n\t\t\t\t\ty_dst -= dH - 1;\r\n\t\t\t\t}\r\n\t\t\t} else if ((anchor &amp; VCENTER) != 0) {\r\n\t\t\t\ty_dst -= (dH - 1) &gt;&gt;&gt; 1;\r\n\t\t\t} else {\r\n\t\t\t\t// no vertical anchor\r\n\t\t\t\tbadAnchor = true;\r\n\t\t\t}\r\n\r\n\t\t\t// horizontal\r\n\t\t\tif ((anchor &amp; LEFT) != 0) {\r\n\t\t\t\tif ((anchor &amp; (HCENTER | RIGHT)) != 0)\r\n\t\t\t\t\tbadAnchor = true;\r\n\t\t\t} else if ((anchor &amp; RIGHT) != 0) {\r\n\t\t\t\tif ((anchor &amp; HCENTER) != 0)\r\n\t\t\t\t\tbadAnchor = true;\r\n\t\t\t\telse {\r\n\t\t\t\t\tx_dst -= dW - 1;\r\n\t\t\t\t}\r\n\t\t\t} else if ((anchor &amp; HCENTER) != 0) {\r\n\t\t\t\tx_dst -= (dW - 1) &gt;&gt;&gt; 1;\r\n\t\t\t} else {\r\n\t\t\t\t// no horizontal anchor\r\n\t\t\t\tbadAnchor = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (badAnchor) {\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Bad Anchor&quot;);\r\n\t\t\t}\r\n\t\t\t \r\n\t\t\ttmpRect.left = x_src;\r\n\t\t\ttmpRect.top = y_src;\r\n\t\t\ttmpRect.right = x_src + width;\r\n\t\t\ttmpRect.bottom = y_src + height;\r\n\t\t\ttmpRectSecond.left = x_dst;\r\n\t\t\ttmpRectSecond.top = y_dst;\r\n\t\t\ttmpRectSecond.right = x_dst + width;\r\n\t\t\ttmpRectSecond.bottom = y_dst + height;\r\n\t\t\t\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.drawRegionDelegate(img, tmpRect, tmpRectSecond);\r\n\t\t\t} else {\r\n\t\t\t\tcanvas.drawBitmap(img, tmpRect, tmpRectSecond, strokePaint);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void drawRGB(int[] rgbData, int offset, int scanlength, int x,\r\n\t\t\t\tint y, int width, int height, boolean processAlpha) {\r\n\t\t\tif (rgbData == null)\r\n\t\t\t\tthrow new NullPointerException();\r\n\r\n\t\t\tif (width == 0 || height == 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tint l = rgbData.length;\r\n\t\t\tif (width &lt; 0 || height &lt; 0 || offset &lt; 0 || offset &gt;= l || (scanlength &lt; 0 &amp;&amp; scanlength * (height - 1) &lt; 0)\r\n\t\t\t\t\t|| (scanlength &gt;= 0 &amp;&amp; scanlength * (height - 1) + width - 1 &gt;= l)) {\r\n\t\t\t\tthrow new ArrayIndexOutOfBoundsException();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// MIDP allows almost any value of scanlength, drawBitmap is more strict with the stride\r\n\t\t\tif (scanlength == 0) {\r\n\t\t\t\tscanlength = width;\r\n\t\t\t}\r\n\t\t\tint rows = rgbData.length / scanlength;\r\n\t\t\tif (rows &lt; height) {\r\n\t\t\t\theight = rows;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcanvas.drawBitmap(rgbData, offset, scanlength, x, y, width, height, processAlpha, strokePaint);\r\n\t\t}\r\n\r\n\t\tpublic void fillTriangle(int x1, int y1, int x2, int y2, int x3, int y3) {\r\n\t\t\tif (delegate != null) {\r\n\t\t\t\tdelegate.fillTriangle(x1, y1, x2, y2, x3, y3);\r\n\t\t\t} else {\r\n\t\t\t\tPath path = new Path();\r\n\t\t\t\tpath.moveTo(x1, y1);\r\n\t\t\t\tpath.lineTo(x2, y2);\r\n\t\t\t\tpath.lineTo(x3, y3);\r\n\t\t\t\tpath.lineTo(x1, y1);\r\n\t\t\t\tcanvas.drawPath(path, fillPaint);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void copyArea(int x_src, int y_src, int width, int height,\r\n\t\t\t\tint x_dest, int y_dest, int anchor) {\r\n\t\t\tLogger.debug(&quot;copyArea&quot;);\r\n\t\t}\r\n\r\n\t\tpublic int getDisplayColor(int color) {\r\n\t\t\tLogger.debug(&quot;getDisplayColor&quot;);\r\n\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nlogcat shows as follows:\r\n\r\n\t10-10 19:26:13.970 D/AndroidRuntime(20484): Shutting down VM\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): FATAL EXCEPTION: main\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): Process: org.microemu.android.ketabche.QuranSearch, PID: 20484\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): java.lang.IllegalArgumentException: Invalid Region.Op - only INTERSECT and DIFFERENCE are allowed\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.graphics.Canvas.checkValidClipOp(Canvas.java:779)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.graphics.Canvas.clipRect(Canvas.java:826)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat org.microemu.android.device.AndroidDisplayGraphics.reset(AndroidDisplayGraphics.java:101)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat org.microemu.android.device.ui.AndroidCanvasUI$CanvasView.onDraw(AndroidCanvasUI.java:225)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.draw(View.java:20207)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.updateDisplayListIfDirty(View.java:19082)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.draw(View.java:19935)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewGroup.drawChild(ViewGroup.java:4333)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.updateDisplayListIfDirty(View.java:19073)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.draw(View.java:19935)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewGroup.drawChild(ViewGroup.java:4333)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.updateDisplayListIfDirty(View.java:19073)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.draw(View.java:19935)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewGroup.drawChild(ViewGroup.java:4333)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.draw(View.java:20210)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat com.android.internal.policy.DecorView.draw(DecorView.java:780)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.View.updateDisplayListIfDirty(View.java:19082)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:686)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:692)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ThreadedRenderer.draw(ThreadedRenderer.java:801)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewRootImpl.draw(ViewRootImpl.java:3318)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewRootImpl.performDraw(ViewRootImpl.java:3122)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2481)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1463)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7190)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.Choreographer$CallbackRecord.run(Choreographer.java:949)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.Choreographer.doCallbacks(Choreographer.java:761)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.Choreographer.doFrame(Choreographer.java:696)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:935)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.os.Handler.handleCallback(Handler.java:873)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.os.Looper.loop(Looper.java:193)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat android.app.ActivityThread.main(ActivityThread.java:6718)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat java.lang.reflect.Method.invoke(Native Method)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n\t10-10 19:26:13.971 E/AndroidRuntime(20484): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n\t10-10 19:26:13.973 W/s.nexuslaunche( 6826): resources.arsc in APK &#39;/data/app/com.UCMobile.intl-ZgwYkgY4BszTYcMmkf6BuQ==/base.apk&#39; is compressed.\r\n\t10-10 19:26:13.975 W/ActivityManager( 1206):   Force finishing activity org.microemu.android.ketabche.QuranSearch/org.microemu.android.MicroEmulator\r\n\t10-10 19:26:13.979 D/        (  800): ipc_resp_thread: opcode: 0x2, payload_size: 4, resp_buf size\r\n\r\nall experts are requested to help fixing this issue and thanks in advance\r\n\r\n","title":"what is the alternative of java argument: ( Region.Op.REPLACE) in android 9 and higher","body":"<p>The code &quot;Region.Op.REPLACE&quot;, at two places in AndroidDisplayGraphics.java throws illegalArgumentException in android 9 and later versions due to policy change.<br />\nHere is the complete java code of AndroidDisplayGraphics.java:</p>\n<pre><code>/**\n*  MicroEmulator\n*  Copyright (C) 2008 Bartek Teodorczyk &lt;barteo@barteo.net&gt;\n*\n*  It is licensed under the following two licenses as alternatives:\n*    1. GNU Lesser General Public License (the &quot;LGPL&quot;) version 2.1 or any newer version\n*    2. Apache License (the &quot;AL&quot;) Version 2.0\n*\n*  You may not use this file except in compliance with at least one of\n*  the above two licenses.\n*\n*  You may obtain a copy of the LGPL at\n*      http://www.gnu.org/licenses/old-licenses/lgpl-2.1.txt\n*\n*  You may obtain a copy of the AL at\n*      http://www.apache.org/licenses/LICENSE-2.0\n*\n*  Unless required by applicable law or agreed to in writing, software\n*  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,\n*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n*  See the LGPL or the AL for the specific language governing permissions and\n*  limitations.\n*\n*  @version $Id: AndroidDisplayGraphics.java 2522 2011-11-28 13:44:59Z barteo@gmail.com $\n*/\n\npackage org.microemu.android.device;\n\nimport javax.microedition.lcdui.Font;\nimport javax.microedition.lcdui.Image;\nimport javax.microedition.lcdui.game.Sprite;\n\nimport org.microemu.log.Logger;\n\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.graphics.DashPathEffect;\nimport android.graphics.Matrix;\nimport android.graphics.Paint;\nimport android.graphics.Path;\nimport android.graphics.Rect;\nimport android.graphics.RectF;\nimport android.graphics.Region;\n\npublic class AndroidDisplayGraphics extends javax.microedition.lcdui.Graphics {\n    \n    public Paint strokePaint = new Paint();\n    \n    public Paint fillPaint = new Paint();\n    \n    public AndroidFont androidFont;\n    \n    private static final DashPathEffect dashPathEffect = new DashPathEffect(new float[] { 5, 5 }, 0);\n    \n    private static final Matrix identityMatrix = new Matrix();\n    \n    private Canvas canvas;\n    \n    private GraphicsDelegate delegate;\n\n    private Rect clip;\n    \n    private Font font;\n    \n    private int strokeStyle = SOLID;\n    \n    private Rect tmpRect = new Rect();\n    \n    private Rect tmpRectSecond = new Rect();\n    \n    private Matrix tmpMatrix = new Matrix();\n    \n    public AndroidDisplayGraphics() {\n        this.delegate = null;\n        \n        strokePaint.setAntiAlias(true);\n        strokePaint.setStyle(Paint.Style.STROKE);\n        fillPaint.setAntiAlias(true);\n        fillPaint.setStyle(Paint.Style.FILL);\n    }\n    \n    public AndroidDisplayGraphics(Bitmap bitmap) {\n        this.canvas = new Canvas(bitmap);\n        this.canvas.clipRect(0, 0, bitmap.getWidth(), bitmap.getHeight());\n        this.delegate = null;\n        \n        strokePaint.setAntiAlias(true);\n        strokePaint.setStyle(Paint.Style.STROKE);\n        fillPaint.setAntiAlias(true);\n        fillPaint.setStyle(Paint.Style.FILL);\n        \n        reset(this.canvas);\n    }\n    \n    public void reset(Canvas canvas) {\n        this.canvas = canvas;\n        \n        Rect tmp = this.canvas.getClipBounds();\n        this.canvas.setMatrix(identityMatrix);\n        // setMatrix changes the clipping too\n        this.canvas.clipRect(tmp, Region.Op.REPLACE);\n        clip = this.canvas.getClipBounds();\n        setFont(Font.getDefaultFont());\n    }\n    \n    public Canvas getCanvas() {\n        return canvas;\n    }\n    \n    public void setDelegate(GraphicsDelegate delegate) {\n        this.delegate = delegate;\n    }\n\n    public void clipRect(int x, int y, int width, int height) {\n        canvas.clipRect(x, y, x + width, y + height);\n        clip = canvas.getClipBounds();\n        \n        if (delegate != null) {\n            delegate.setClip(clip.left, clip.top, clip.right - clip.left, clip.bottom - clip.top);\n        }\n    }\n\n    public void drawArc(int x, int y, int width, int height, int startAngle, int arcAngle) {\n        RectF rect = new RectF(x, y, x + width, y + height);\n        canvas.drawArc(rect, -startAngle, -arcAngle, false, strokePaint);\n    }\n\n    public void drawImage(Image img, int x, int y, int anchor) {\n        if (delegate != null) {\n            delegate.drawImage(img, x, y, anchor);\n        } else {\n            int newx = x;\n            int newy = y;\n    \n            if (anchor == 0) {\n                anchor = javax.microedition.lcdui.Graphics.TOP | javax.microedition.lcdui.Graphics.LEFT;\n            }\n    \n            if ((anchor &amp; javax.microedition.lcdui.Graphics.RIGHT) != 0) {\n                newx -= img.getWidth();\n            } else if ((anchor &amp; javax.microedition.lcdui.Graphics.HCENTER) != 0) {\n                newx -= img.getWidth() / 2;\n            }\n            if ((anchor &amp; javax.microedition.lcdui.Graphics.BOTTOM) != 0) {\n                newy -= img.getHeight();\n            } else if ((anchor &amp; javax.microedition.lcdui.Graphics.VCENTER) != 0) {\n                newy -= img.getHeight() / 2;\n            }\n    \n            if (img.isMutable()) {\n                canvas.drawBitmap(((AndroidMutableImage) img).getBitmap(), newx, newy, strokePaint);\n            } else {\n                canvas.drawBitmap(((AndroidImmutableImage) img).getBitmap(), newx, newy, strokePaint);\n            }\n        }\n    }\n\n    public void drawLine(int x1, int y1, int x2, int y2) {\n        if (delegate != null) {\n            delegate.drawLine(x1, y1, x2, y2);\n        } else {\n            if (x1 == x2) {\n                canvas.drawLine(x1, y1, x2, y2 + 1, strokePaint);\n            } else if (y1 == y2) {\n                canvas.drawLine(x1, y1, x2 + 1, y2, strokePaint);\n            } else { \n                canvas.drawLine(x1, y1, x2 + 1, y2 + 1, strokePaint);\n            }\n        }\n    }\n\n    public void drawRect(int x, int y, int width, int height) {\n        if (delegate != null) {\n            delegate.drawRect(x, y, width, height);\n        } else {\n            canvas.drawRect(x, y, x + width, y + height, strokePaint);\n        }\n    }\n\n    public void drawRoundRect(int x, int y, int width, int height, int arcWidth, int arcHeight) {\n        canvas.drawRoundRect(new RectF(x, y, x + width, y + height), (float) arcWidth, (float) arcHeight, strokePaint);\n   }\n\n    public void drawString(String str, int x, int y, int anchor) {\n        drawSubstring(str, 0, str.length(), x, y, anchor);\n    }\n\n    public void drawSubstring(String str, int offset, int len, int x, int y, int anchor) {\n        int newx = x;\n        int newy = y;\n\n        if (anchor == 0) {\n            anchor = javax.microedition.lcdui.Graphics.TOP | javax.microedition.lcdui.Graphics.LEFT;\n        }\n        \n        if ((anchor &amp; javax.microedition.lcdui.Graphics.TOP) != 0) {\n            newy -= androidFont.metrics.ascent;\n        } else if ((anchor &amp; javax.microedition.lcdui.Graphics.BOTTOM) != 0) {\n            newy -= androidFont.metrics.descent;\n        }\n        if ((anchor &amp; javax.microedition.lcdui.Graphics.HCENTER) != 0) {\n            newx -= androidFont.paint.measureText(str) / 2;\n        } else if ((anchor &amp; javax.microedition.lcdui.Graphics.RIGHT) != 0) {\n            newx -= androidFont.paint.measureText(str);\n        }\n\n        androidFont.paint.setColor(strokePaint.getColor());\n\n        if (delegate != null) {\n            delegate.drawSubstringDelegate(str, offset, len, newx, newy, anchor);\n        } else {    \n            canvas.drawText(str, offset, len + offset, newx, newy, androidFont.paint);\n        }\n    }\n\n    public void fillArc(int x, int y, int width, int height, int startAngle, int arcAngle) {\n        RectF rect = new RectF(x, y, x + width, y + height);\n        canvas.drawArc(rect, -startAngle, -arcAngle, true, fillPaint);\n    }\n\n    public void fillRect(int x, int y, int width, int height) {\n        if (delegate != null) {\n            delegate.fillRect(x, y, width, height);\n        } else {\n            canvas.drawRect(x, y, x + width, y + height, fillPaint);\n        }\n    }\n\n    public void fillRoundRect(int x, int y, int width, int height, int arcWidth, int arcHeight) {\n        canvas.drawRoundRect(new RectF(x, y, x + width, y + height), (float) arcWidth, (float) arcHeight, fillPaint);\n    }\n\n    public int getClipHeight() {\n        return clip.bottom - clip.top;\n    }\n\n    public int getClipWidth() {\n        return clip.right - clip.left;\n    }\n\n    public int getClipX() {\n        return clip.left;\n    }\n\n    public int getClipY() {\n        return clip.top;\n    }\n\n    public int getColor() {\n        return strokePaint.getColor();\n    }\n\n    public Font getFont() {\n        return font;\n    }\n    \n    public int getStrokeStyle() {\n        return strokeStyle;\n    }\n\n    public void setClip(int x, int y, int width, int height) {\n        if (x == clip.left &amp;&amp; x + width == clip.right &amp;&amp; y == clip.top &amp;&amp; y + height == clip.bottom) {\n            return;\n        }\n\n        if (delegate != null) {\n            delegate.setClip(x, y, width, height);\n        }\n\n        clip.left = x;\n        clip.top = y;\n        clip.right = x + width;\n        clip.bottom = y + height;\n        canvas.clipRect(clip, Region.Op.REPLACE);\n    }\n\n    public void setColor(int RGB) {\n        strokePaint.setColor(0xff000000 | RGB);\n        fillPaint.setColor(0xff000000 | RGB);\n    }\n\n    public void setFont(Font font) {\n        this.font = font;\n        \n        androidFont = AndroidFontManager.getFont(font);\n\n    }\n    \n    public void setStrokeStyle(int style) {\n        if (style != SOLID &amp;&amp; style != DOTTED) {\n            throw new IllegalArgumentException();\n        }\n        \n        this.strokeStyle = style;\n        \n        if (style == SOLID) {\n            strokePaint.setPathEffect(null);\n            fillPaint.setPathEffect(null);\n        } else { // DOTTED\n            strokePaint.setPathEffect(dashPathEffect);\n            fillPaint.setPathEffect(dashPathEffect);\n        }\n    }\n\n    public void translate(int x, int y) {\n        if (delegate != null) {\n            delegate.translate(x, y);\n        } else {\n            canvas.translate(x, y);\n        }\n            \n        super.translate(x, y);\n            \n        clip.left -= x;\n        clip.right -= x;\n        clip.top -= y;\n        clip.bottom -= y;\n    }\n\n    public void drawRegion(Image src, int x_src, int y_src, int width,\n            int height, int transform, int x_dst, int y_dst, int anchor) {\n        // may throw NullPointerException, this is ok\n        if (x_src + width &gt; src.getWidth() || y_src + height &gt; src.getHeight() || width &lt; 0 || height &lt; 0 || x_src &lt; 0\n                || y_src &lt; 0)\n            throw new IllegalArgumentException(&quot;Area out of Image&quot;);\n\n        // this cannot be done on the same image we are drawing\n        // check this if the implementation of getGraphics change so\n        // as to return different Graphic Objects on each call to\n        // getGraphics\n        if (src.isMutable() &amp;&amp; src.getGraphics() == this)\n            throw new IllegalArgumentException(&quot;Image is source and target&quot;);\n\n        Bitmap img;\n        if (src.isMutable()) {\n            img = ((AndroidMutableImage) src).getBitmap();\n        } else {\n            img = ((AndroidImmutableImage) src).getBitmap();\n        }            \n\n        tmpMatrix.reset();\n        int dW = width, dH = height;\n        switch (transform) {\n        case Sprite.TRANS_NONE: {\n            break;\n        }\n        case Sprite.TRANS_ROT90: {\n            tmpMatrix.preRotate(90);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            dW = height;\n            dH = width;\n            break;\n        }\n        case Sprite.TRANS_ROT180: {\n            tmpMatrix.preRotate(180);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            break;\n        }\n        case Sprite.TRANS_ROT270: {\n            tmpMatrix.preRotate(270);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            dW = height;\n            dH = width;\n            break;\n        }\n        case Sprite.TRANS_MIRROR: {\n            tmpMatrix.preScale(-1, 1);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            break;\n        }\n        case Sprite.TRANS_MIRROR_ROT90: {\n            tmpMatrix.preScale(-1, 1);\n            tmpMatrix.preRotate(-90);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            dW = height;\n            dH = width;\n            break;\n        }\n        case Sprite.TRANS_MIRROR_ROT180: {\n            tmpMatrix.preScale(-1, 1);\n            tmpMatrix.preRotate(-180);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            break;\n        }\n        case Sprite.TRANS_MIRROR_ROT270: {\n            tmpMatrix.preScale(-1, 1);\n            tmpMatrix.preRotate(-270);\n            img = Bitmap.createBitmap(img, x_src, y_src, width, height, tmpMatrix, true);\n            dW = height;\n            dH = width;\n            break;\n        }\n        default:\n            throw new IllegalArgumentException(&quot;Bad transform&quot;);\n        }\n\n        // process anchor and correct x and y _dest\n        // vertical\n        boolean badAnchor = false;\n\n        if (anchor == 0) {\n            anchor = TOP | LEFT;\n        }\n\n        if ((anchor &amp; 0x7f) != anchor || (anchor &amp; BASELINE) != 0)\n            badAnchor = true;\n\n        if ((anchor &amp; TOP) != 0) {\n            if ((anchor &amp; (VCENTER | BOTTOM)) != 0)\n                badAnchor = true;\n        } else if ((anchor &amp; BOTTOM) != 0) {\n            if ((anchor &amp; VCENTER) != 0)\n                badAnchor = true;\n            else {\n                y_dst -= dH - 1;\n            }\n        } else if ((anchor &amp; VCENTER) != 0) {\n            y_dst -= (dH - 1) &gt;&gt;&gt; 1;\n        } else {\n            // no vertical anchor\n            badAnchor = true;\n        }\n\n        // horizontal\n        if ((anchor &amp; LEFT) != 0) {\n            if ((anchor &amp; (HCENTER | RIGHT)) != 0)\n                badAnchor = true;\n        } else if ((anchor &amp; RIGHT) != 0) {\n            if ((anchor &amp; HCENTER) != 0)\n                badAnchor = true;\n            else {\n                x_dst -= dW - 1;\n            }\n        } else if ((anchor &amp; HCENTER) != 0) {\n            x_dst -= (dW - 1) &gt;&gt;&gt; 1;\n        } else {\n            // no horizontal anchor\n            badAnchor = true;\n        }\n\n        if (badAnchor) {\n            throw new IllegalArgumentException(&quot;Bad Anchor&quot;);\n        }\n         \n        tmpRect.left = x_src;\n        tmpRect.top = y_src;\n        tmpRect.right = x_src + width;\n        tmpRect.bottom = y_src + height;\n        tmpRectSecond.left = x_dst;\n        tmpRectSecond.top = y_dst;\n        tmpRectSecond.right = x_dst + width;\n        tmpRectSecond.bottom = y_dst + height;\n        \n        if (delegate != null) {\n            delegate.drawRegionDelegate(img, tmpRect, tmpRectSecond);\n        } else {\n            canvas.drawBitmap(img, tmpRect, tmpRectSecond, strokePaint);\n        }\n    }\n\n    public void drawRGB(int[] rgbData, int offset, int scanlength, int x,\n            int y, int width, int height, boolean processAlpha) {\n        if (rgbData == null)\n            throw new NullPointerException();\n\n        if (width == 0 || height == 0) {\n            return;\n        }\n\n        int l = rgbData.length;\n        if (width &lt; 0 || height &lt; 0 || offset &lt; 0 || offset &gt;= l || (scanlength &lt; 0 &amp;&amp; scanlength * (height - 1) &lt; 0)\n                || (scanlength &gt;= 0 &amp;&amp; scanlength * (height - 1) + width - 1 &gt;= l)) {\n            throw new ArrayIndexOutOfBoundsException();\n        }\n        \n        // MIDP allows almost any value of scanlength, drawBitmap is more strict with the stride\n        if (scanlength == 0) {\n            scanlength = width;\n        }\n        int rows = rgbData.length / scanlength;\n        if (rows &lt; height) {\n            height = rows;\n        }\n        \n        canvas.drawBitmap(rgbData, offset, scanlength, x, y, width, height, processAlpha, strokePaint);\n    }\n\n    public void fillTriangle(int x1, int y1, int x2, int y2, int x3, int y3) {\n        if (delegate != null) {\n            delegate.fillTriangle(x1, y1, x2, y2, x3, y3);\n        } else {\n            Path path = new Path();\n            path.moveTo(x1, y1);\n            path.lineTo(x2, y2);\n            path.lineTo(x3, y3);\n            path.lineTo(x1, y1);\n            canvas.drawPath(path, fillPaint);\n        }\n    }\n\n    public void copyArea(int x_src, int y_src, int width, int height,\n            int x_dest, int y_dest, int anchor) {\n        Logger.debug(&quot;copyArea&quot;);\n    }\n\n    public int getDisplayColor(int color) {\n        Logger.debug(&quot;getDisplayColor&quot;);\n\n        return -1;\n    }\n    \n}\n</code></pre>\n<p>logcat shows as follows:</p>\n<pre><code>10-10 19:26:13.970 D/AndroidRuntime(20484): Shutting down VM\n10-10 19:26:13.971 E/AndroidRuntime(20484): FATAL EXCEPTION: main\n10-10 19:26:13.971 E/AndroidRuntime(20484): Process: org.microemu.android.ketabche.QuranSearch, PID: 20484\n10-10 19:26:13.971 E/AndroidRuntime(20484): java.lang.IllegalArgumentException: Invalid Region.Op - only INTERSECT and DIFFERENCE are allowed\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.graphics.Canvas.checkValidClipOp(Canvas.java:779)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.graphics.Canvas.clipRect(Canvas.java:826)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at org.microemu.android.device.AndroidDisplayGraphics.reset(AndroidDisplayGraphics.java:101)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at org.microemu.android.device.ui.AndroidCanvasUI$CanvasView.onDraw(AndroidCanvasUI.java:225)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.draw(View.java:20207)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.updateDisplayListIfDirty(View.java:19082)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.draw(View.java:19935)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewGroup.drawChild(ViewGroup.java:4333)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.updateDisplayListIfDirty(View.java:19073)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.draw(View.java:19935)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewGroup.drawChild(ViewGroup.java:4333)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.updateDisplayListIfDirty(View.java:19073)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.draw(View.java:19935)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewGroup.drawChild(ViewGroup.java:4333)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:4112)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.draw(View.java:20210)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at com.android.internal.policy.DecorView.draw(DecorView.java:780)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.View.updateDisplayListIfDirty(View.java:19082)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ThreadedRenderer.updateViewTreeDisplayList(ThreadedRenderer.java:686)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ThreadedRenderer.updateRootDisplayList(ThreadedRenderer.java:692)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ThreadedRenderer.draw(ThreadedRenderer.java:801)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewRootImpl.draw(ViewRootImpl.java:3318)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewRootImpl.performDraw(ViewRootImpl.java:3122)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2481)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1463)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7190)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:949)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.Choreographer.doCallbacks(Choreographer.java:761)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.Choreographer.doFrame(Choreographer.java:696)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:935)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.os.Handler.handleCallback(Handler.java:873)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.os.Handler.dispatchMessage(Handler.java:99)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.os.Looper.loop(Looper.java:193)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at android.app.ActivityThread.main(ActivityThread.java:6718)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at java.lang.reflect.Method.invoke(Native Method)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n10-10 19:26:13.971 E/AndroidRuntime(20484):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n10-10 19:26:13.973 W/s.nexuslaunche( 6826): resources.arsc in APK '/data/app/com.UCMobile.intl-ZgwYkgY4BszTYcMmkf6BuQ==/base.apk' is compressed.\n10-10 19:26:13.975 W/ActivityManager( 1206):   Force finishing activity org.microemu.android.ketabche.QuranSearch/org.microemu.android.MicroEmulator\n10-10 19:26:13.979 D/        (  800): ipc_resp_thread: opcode: 0x2, payload_size: 4, resp_buf size\n</code></pre>\n<p>all experts are requested to help fixing this issue and thanks in advance</p>\n"},{"tags":["java","android","java-me","anychart"],"answers":[{"tags":[],"owner":{"account_id":4903649,"reputation":3790,"user_id":3951036,"display_name":"AnyChart Support"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635829362,"creation_date":1635829362,"answer_id":69805601,"question_id":69789603,"body_markdown":"The chart configuration code is absolutely ok. Below is the working code and the resulting chart. You should check errors and debug the rest of your code.\r\n```\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        AnyChartView anyChartView = findViewById(R.id.any_chart_view);\r\n\r\n        LinearGauge linearGauge = AnyChart.linear();\r\n\r\n        linearGauge.data(new SingleValueDataSet(new Double[] { 5.3D }));\r\n\r\n        linearGauge.layout(Layout.HORIZONTAL);\r\n\r\n        linearGauge.label(0)\r\n                .position(Position.LEFT_CENTER)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetY(&quot;-50px&quot;)\r\n                .offsetX(&quot;50px&quot;)\r\n                .fontColor(&quot;black&quot;)\r\n                .fontSize(17);\r\n        linearGauge.label(0).text(&quot;Total Rainfall&quot;);\r\n\r\n        linearGauge.label(1)\r\n                .position(Position.LEFT_CENTER)\r\n                .anchor(Anchor.LEFT_CENTER)\r\n                .offsetY(&quot;40px&quot;)\r\n                .offsetX(&quot;50px&quot;)\r\n                .fontColor(&quot;#777777&quot;)\r\n                .fontSize(17);\r\n        linearGauge.label(1).text(&quot;Drought Hazard&quot;);\r\n\r\n        linearGauge.label(2)\r\n                .position(Position.RIGHT_CENTER)\r\n                .anchor(Anchor.RIGHT_CENTER)\r\n                .offsetY(&quot;40px&quot;)\r\n                .offsetX(&quot;50px&quot;)\r\n                .fontColor(&quot;#777777&quot;)\r\n                .fontSize(17);\r\n        linearGauge.label(2).text(&quot;Flood Hazard&quot;);\r\n\r\n        OrdinalColor scaleBarColorScale = OrdinalColor.instantiate();\r\n        scaleBarColorScale.ranges(new String[]{\r\n                &quot;{ from: 0, to: 2, color: [&#39;red 0.5&#39;] }&quot;,\r\n                &quot;{ from: 2, to: 3, color: [&#39;yellow 0.5&#39;] }&quot;,\r\n                &quot;{ from: 3, to: 7, color: [&#39;green 0.5&#39;] }&quot;,\r\n                &quot;{ from: 7, to: 8, color: [&#39;yellow 0.5&#39;] }&quot;,\r\n                &quot;{ from: 8, to: 10, color: [&#39;red 0.5&#39;] }&quot;\r\n        });\r\n\r\n        linearGauge.scaleBar(0)\r\n                .width(&quot;5%&quot;)\r\n                .colorScale(scaleBarColorScale);\r\n\r\n        linearGauge.marker(0)\r\n                .type(MarkerType.TRIANGLE_DOWN)\r\n                .color(&quot;red&quot;)\r\n                .offset(&quot;-3.5%&quot;)\r\n                .zIndex(10);\r\n\r\n        linearGauge.scale()\r\n                .minimum(0)\r\n                .maximum(10);\r\n//        linearGauge.scale().ticks\r\n\r\n        linearGauge.axis(0)\r\n                .minorTicks(false)\r\n                .width(&quot;1%&quot;);\r\n        linearGauge.axis(0)\r\n                .offset(&quot;-1.5%&quot;)\r\n                .orientation(Orientation.TOP)\r\n                .labels(&quot;top&quot;);\r\n\r\n        linearGauge.padding(0, 30, 0, 30);\r\n\r\n        anyChartView.setChart(linearGauge);\r\n    }\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3jixo.png","title":"ANYCHART LinearColorScale","body":"<p>The chart configuration code is absolutely ok. Below is the working code and the resulting chart. You should check errors and debug the rest of your code.</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        AnyChartView anyChartView = findViewById(R.id.any_chart_view);\n\n        LinearGauge linearGauge = AnyChart.linear();\n\n        linearGauge.data(new SingleValueDataSet(new Double[] { 5.3D }));\n\n        linearGauge.layout(Layout.HORIZONTAL);\n\n        linearGauge.label(0)\n                .position(Position.LEFT_CENTER)\n                .anchor(Anchor.LEFT_CENTER)\n                .offsetY(&quot;-50px&quot;)\n                .offsetX(&quot;50px&quot;)\n                .fontColor(&quot;black&quot;)\n                .fontSize(17);\n        linearGauge.label(0).text(&quot;Total Rainfall&quot;);\n\n        linearGauge.label(1)\n                .position(Position.LEFT_CENTER)\n                .anchor(Anchor.LEFT_CENTER)\n                .offsetY(&quot;40px&quot;)\n                .offsetX(&quot;50px&quot;)\n                .fontColor(&quot;#777777&quot;)\n                .fontSize(17);\n        linearGauge.label(1).text(&quot;Drought Hazard&quot;);\n\n        linearGauge.label(2)\n                .position(Position.RIGHT_CENTER)\n                .anchor(Anchor.RIGHT_CENTER)\n                .offsetY(&quot;40px&quot;)\n                .offsetX(&quot;50px&quot;)\n                .fontColor(&quot;#777777&quot;)\n                .fontSize(17);\n        linearGauge.label(2).text(&quot;Flood Hazard&quot;);\n\n        OrdinalColor scaleBarColorScale = OrdinalColor.instantiate();\n        scaleBarColorScale.ranges(new String[]{\n                &quot;{ from: 0, to: 2, color: ['red 0.5'] }&quot;,\n                &quot;{ from: 2, to: 3, color: ['yellow 0.5'] }&quot;,\n                &quot;{ from: 3, to: 7, color: ['green 0.5'] }&quot;,\n                &quot;{ from: 7, to: 8, color: ['yellow 0.5'] }&quot;,\n                &quot;{ from: 8, to: 10, color: ['red 0.5'] }&quot;\n        });\n\n        linearGauge.scaleBar(0)\n                .width(&quot;5%&quot;)\n                .colorScale(scaleBarColorScale);\n\n        linearGauge.marker(0)\n                .type(MarkerType.TRIANGLE_DOWN)\n                .color(&quot;red&quot;)\n                .offset(&quot;-3.5%&quot;)\n                .zIndex(10);\n\n        linearGauge.scale()\n                .minimum(0)\n                .maximum(10);\n//        linearGauge.scale().ticks\n\n        linearGauge.axis(0)\n                .minorTicks(false)\n                .width(&quot;1%&quot;);\n        linearGauge.axis(0)\n                .offset(&quot;-1.5%&quot;)\n                .orientation(Orientation.TOP)\n                .labels(&quot;top&quot;);\n\n        linearGauge.padding(0, 30, 0, 30);\n\n        anyChartView.setChart(linearGauge);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/3jixo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3jixo.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23134651,"reputation":23,"user_id":17239039,"display_name":"AYESHA SIDDIQUI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635829362,"creation_date":1635706028,"question_id":69789603,"body_markdown":"I&#39;m trying to construct a linearColorScale of AnyChart, and I&#39;ve tried the code below but haven&#39;t gotten any results. Please let me know if there is a bug in this code or if I am missing something.\r\n\r\nP.S. As said, I modified minSDK 19 and followed the documentation. Please let me know if there is anything I&#39;m missing:)\r\n\r\n\r\n\r\nTIA.\r\n\r\n\r\n\r\n\r\n\r\n       public class GeneralFragment extends Fragment {\r\n    \r\n        AnyChartView daysScale;\r\n        private View view;\r\n        private LineChart symbolDetailChart;\r\n        private ArrayList&lt;Entry&gt; values;\r\n        private LineDataSet set1;\r\n        private LineData data;\r\n        private Drawable drawablePositive = ContextCompat.getDrawable(Logs.globalContext, R.drawable.graph_green_bg);\r\n    \r\n    \r\n    \r\n        public GeneralFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            view = inflater.inflate(R.layout.fragment_general, container, false);\r\n    \r\n            daysScale = view.findViewById(R.id.scalechartdays);\r\n           \r\n            LinearGauge linearGauge = AnyChart.linear();\r\n    \r\n            linearGauge.data(new SingleValueDataSet(new Double[] { 5.3D }));\r\n    \r\n            linearGauge.layout(Layout.HORIZONTAL);\r\n    \r\n            linearGauge.label(0)\r\n                    .position(Position.LEFT_CENTER)\r\n                    .anchor(Anchor.LEFT_CENTER)\r\n                    .offsetY(&quot;-50px&quot;)\r\n                    .offsetX(&quot;50px&quot;)\r\n                    .fontColor(&quot;black&quot;)\r\n                    .fontSize(17);\r\n            linearGauge.label(0).text(&quot;Total Rainfall&quot;);\r\n    \r\n            linearGauge.label(1)\r\n                    .position(Position.LEFT_CENTER)\r\n                    .anchor(Anchor.LEFT_CENTER)\r\n                    .offsetY(&quot;40px&quot;)\r\n                    .offsetX(&quot;50px&quot;)\r\n                    .fontColor(&quot;#777777&quot;)\r\n                    .fontSize(17);\r\n            linearGauge.label(1).text(&quot;Drought Hazard&quot;);\r\n    \r\n            linearGauge.label(2)\r\n                    .position(Position.RIGHT_CENTER)\r\n                    .anchor(Anchor.RIGHT_CENTER)\r\n                    .offsetY(&quot;40px&quot;)\r\n                    .offsetX(&quot;50px&quot;)\r\n                    .fontColor(&quot;#777777&quot;)\r\n                    .fontSize(17);\r\n            linearGauge.label(2).text(&quot;Flood Hazard&quot;);\r\n    \r\n            OrdinalColor scaleBarColorScale = OrdinalColor.instantiate();\r\n            scaleBarColorScale.ranges(new String[]{\r\n                    &quot;{ from: 0, to: 2, color: [&#39;red 0.5&#39;] }&quot;,\r\n                    &quot;{ from: 2, to: 3, color: [&#39;yellow 0.5&#39;] }&quot;,\r\n                    &quot;{ from: 3, to: 7, color: [&#39;green 0.5&#39;] }&quot;,\r\n                    &quot;{ from: 7, to: 8, color: [&#39;yellow 0.5&#39;] }&quot;,\r\n                    &quot;{ from: 8, to: 10, color: [&#39;red 0.5&#39;] }&quot;\r\n            });\r\n    \r\n            linearGauge.scaleBar(0)\r\n                    .width(&quot;5%&quot;)\r\n                    .colorScale(scaleBarColorScale);\r\n    \r\n            linearGauge.marker(0)\r\n                    .type(MarkerType.TRIANGLE_DOWN)\r\n                    .color(&quot;red&quot;)\r\n                    .offset(&quot;-3.5%&quot;)\r\n                    .zIndex(10);\r\n    \r\n            linearGauge.scale()\r\n                    .minimum(0)\r\n                    .maximum(10);\r\n    //        linearGauge.scale().ticks\r\n    \r\n            linearGauge.axis(0)\r\n                    .minorTicks(false)\r\n                    .width(&quot;1%&quot;);\r\n            linearGauge.axis(0)\r\n                    .offset(&quot;-1.5%&quot;)\r\n                    .orientation(Orientation.TOP)\r\n                    .labels(&quot;top&quot;);\r\n    \r\n            linearGauge.padding(0, 30, 0, 30);\r\n    \r\n            daysScale.setChart(linearGauge);\r\n    \r\n           \r\n    \r\n            return  view;\r\n        }\r\n    }\r\n\r\n","title":"ANYCHART LinearColorScale","body":"<p>I'm trying to construct a linearColorScale of AnyChart, and I've tried the code below but haven't gotten any results. Please let me know if there is a bug in this code or if I am missing something.</p>\n<p>P.S. As said, I modified minSDK 19 and followed the documentation. Please let me know if there is anything I'm missing:)</p>\n<p>TIA.</p>\n<pre><code>   public class GeneralFragment extends Fragment {\n\n    AnyChartView daysScale;\n    private View view;\n    private LineChart symbolDetailChart;\n    private ArrayList&lt;Entry&gt; values;\n    private LineDataSet set1;\n    private LineData data;\n    private Drawable drawablePositive = ContextCompat.getDrawable(Logs.globalContext, R.drawable.graph_green_bg);\n\n\n\n    public GeneralFragment() {\n        // Required empty public constructor\n    }\n\n\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n    }\n\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        view = inflater.inflate(R.layout.fragment_general, container, false);\n\n        daysScale = view.findViewById(R.id.scalechartdays);\n       \n        LinearGauge linearGauge = AnyChart.linear();\n\n        linearGauge.data(new SingleValueDataSet(new Double[] { 5.3D }));\n\n        linearGauge.layout(Layout.HORIZONTAL);\n\n        linearGauge.label(0)\n                .position(Position.LEFT_CENTER)\n                .anchor(Anchor.LEFT_CENTER)\n                .offsetY(&quot;-50px&quot;)\n                .offsetX(&quot;50px&quot;)\n                .fontColor(&quot;black&quot;)\n                .fontSize(17);\n        linearGauge.label(0).text(&quot;Total Rainfall&quot;);\n\n        linearGauge.label(1)\n                .position(Position.LEFT_CENTER)\n                .anchor(Anchor.LEFT_CENTER)\n                .offsetY(&quot;40px&quot;)\n                .offsetX(&quot;50px&quot;)\n                .fontColor(&quot;#777777&quot;)\n                .fontSize(17);\n        linearGauge.label(1).text(&quot;Drought Hazard&quot;);\n\n        linearGauge.label(2)\n                .position(Position.RIGHT_CENTER)\n                .anchor(Anchor.RIGHT_CENTER)\n                .offsetY(&quot;40px&quot;)\n                .offsetX(&quot;50px&quot;)\n                .fontColor(&quot;#777777&quot;)\n                .fontSize(17);\n        linearGauge.label(2).text(&quot;Flood Hazard&quot;);\n\n        OrdinalColor scaleBarColorScale = OrdinalColor.instantiate();\n        scaleBarColorScale.ranges(new String[]{\n                &quot;{ from: 0, to: 2, color: ['red 0.5'] }&quot;,\n                &quot;{ from: 2, to: 3, color: ['yellow 0.5'] }&quot;,\n                &quot;{ from: 3, to: 7, color: ['green 0.5'] }&quot;,\n                &quot;{ from: 7, to: 8, color: ['yellow 0.5'] }&quot;,\n                &quot;{ from: 8, to: 10, color: ['red 0.5'] }&quot;\n        });\n\n        linearGauge.scaleBar(0)\n                .width(&quot;5%&quot;)\n                .colorScale(scaleBarColorScale);\n\n        linearGauge.marker(0)\n                .type(MarkerType.TRIANGLE_DOWN)\n                .color(&quot;red&quot;)\n                .offset(&quot;-3.5%&quot;)\n                .zIndex(10);\n\n        linearGauge.scale()\n                .minimum(0)\n                .maximum(10);\n//        linearGauge.scale().ticks\n\n        linearGauge.axis(0)\n                .minorTicks(false)\n                .width(&quot;1%&quot;);\n        linearGauge.axis(0)\n                .offset(&quot;-1.5%&quot;)\n                .orientation(Orientation.TOP)\n                .labels(&quot;top&quot;);\n\n        linearGauge.padding(0, 30, 0, 30);\n\n        daysScale.setChart(linearGauge);\n\n       \n\n        return  view;\n    }\n}\n</code></pre>\n"},{"tags":["java","exception","testproject.io"],"answers":[{"tags":[],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635828745,"creation_date":1635828745,"answer_id":69805525,"question_id":69804413,"body_markdown":"This is because you&#39;re using JDK 17. I would recommend downgrading to JDK 11, it would solve the issue as described [here](https://forum.testproject.io/t/exception-in-thread-main-org-openqa-selenium-webdriverexception-failed-to-create-an-instance-of-io-testproject-sdk-drivers-web-chromedriver-open/6172)\r\n\r\nDownload OpenJDK 11 from [here](https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_windows-x64_bin.zip)","title":"Failed to create an instance of io.testproject.sdk.drivers.web.ChromeDriver","body":"<p>This is because you're using JDK 17. I would recommend downgrading to JDK 11, it would solve the issue as described <a href=\"https://forum.testproject.io/t/exception-in-thread-main-org-openqa-selenium-webdriverexception-failed-to-create-an-instance-of-io-testproject-sdk-drivers-web-chromedriver-open/6172\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Download OpenJDK 11 from <a href=\"https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_windows-x64_bin.zip\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":8074969,"reputation":130,"user_id":6086352,"accept_rate":27,"display_name":"Ramitha Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635828745,"creation_date":1635816096,"question_id":69804413,"body_markdown":"I got this error when trying to run Testproject sdk.\r\nTestProject agent is running perfectly.\r\nThe token also working perfectly.\r\nI tried to find a solution online but I couldn&#39;t find any soulution to this error. \r\n\r\n\r\n     public static void main(final String[] args) throws Exception {\r\n\r\n        ChromeDriver driver = new DriverBuilder&lt;ChromeDriver&gt;(new ChromeOptions())\r\n                .withRemoteAddress(new URL(&quot;http://localhost:8585&quot;))\r\n                .withToken(&quot;XXX&quot;)\r\n                .build(ChromeDriver.class);\r\n\r\n        driver.navigate().to(&quot;https://example.testproject.io/web/&quot;);\r\n        driver.findElement(By.cssSelector(&quot;#name&quot;)).sendKeys(&quot;John Smith&quot;);\r\n        driver.findElement(By.cssSelector(&quot;#password&quot;)).sendKeys(&quot;12345&quot;);\r\n        driver.findElement(By.cssSelector(&quot;#login&quot;)).click();\r\n        boolean passed = driver.findElement(By.cssSelector(&quot;#logout&quot;)).isDisplayed();\r\n        if (passed) {\r\n            System.out.println(&quot;Test Passed&quot;);\r\n        } else {\r\n            System.out.println(&quot;Test Failed&quot;);\r\n        }\r\n        driver.quit();\r\n\r\nAnd the error message is \r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Failed to create an instance of io.testproject.sdk.drivers.web.ChromeDriver\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;S01128&#39;, ip: &#39;192.168.42.18&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.1&#39;\r\n    Driver info: driver.version: unknown\r\n    \tat io.testproject.sdk.DriverBuilder.build(DriverBuilder.java:263)\r\n    \tat DemoClass.main(DemoClass.java:17)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat io.testproject.sdk.DriverBuilder.build(DriverBuilder.java:251)\r\n    \t... 1 more\r\n    Caused by: java.lang.NoClassDefFoundError: org/apache/http/config/Lookup\r\n    \tat org.apache.http.impl.client.HttpClients.custom(HttpClients.java:48)\r\n    \tat io.testproject.sdk.internal.rest.AgentClient.&lt;init&gt;(AgentClient.java:270)\r\n    \tat io.testproject.sdk.internal.rest.AgentClient.getClient(AgentClient.java:573)\r\n    \tat io.testproject.sdk.drivers.web.ChromeDriver.&lt;init&gt;(ChromeDriver.java:917)\r\n    \t... 7 more\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.http.config.Lookup\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 11 more\r\n    \r\n    Process finished with exit code 1\r\n\r\nI&#39;m using JDK 11. Previously I used JDK 17 and then downgraded to 11 but it didn&#39;t solve the problem. \r\n\r\nHere is the POM file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;FourWDSupaCentre1.0&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;16&lt;/source&gt;\r\n                        &lt;target&gt;16&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;17.0.1&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17.0.1&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n                &lt;version&gt;3.141.59&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n             &lt;!-- https://mvnrepository.com/artifact/io.testproject/java-sdk --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.testproject&lt;/groupId&gt;\r\n                &lt;artifactId&gt;java-sdk&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.4-RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.cassandra&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cassandra-all&lt;/artifactId&gt;\r\n                &lt;version&gt;3.11.10&lt;/version&gt;\r\n    \r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Failed to create an instance of io.testproject.sdk.drivers.web.ChromeDriver","body":"<p>I got this error when trying to run Testproject sdk.\nTestProject agent is running perfectly.\nThe token also working perfectly.\nI tried to find a solution online but I couldn't find any soulution to this error.</p>\n<pre><code> public static void main(final String[] args) throws Exception {\n\n    ChromeDriver driver = new DriverBuilder&lt;ChromeDriver&gt;(new ChromeOptions())\n            .withRemoteAddress(new URL(&quot;http://localhost:8585&quot;))\n            .withToken(&quot;XXX&quot;)\n            .build(ChromeDriver.class);\n\n    driver.navigate().to(&quot;https://example.testproject.io/web/&quot;);\n    driver.findElement(By.cssSelector(&quot;#name&quot;)).sendKeys(&quot;John Smith&quot;);\n    driver.findElement(By.cssSelector(&quot;#password&quot;)).sendKeys(&quot;12345&quot;);\n    driver.findElement(By.cssSelector(&quot;#login&quot;)).click();\n    boolean passed = driver.findElement(By.cssSelector(&quot;#logout&quot;)).isDisplayed();\n    if (passed) {\n        System.out.println(&quot;Test Passed&quot;);\n    } else {\n        System.out.println(&quot;Test Failed&quot;);\n    }\n    driver.quit();\n</code></pre>\n<p>And the error message is</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.WebDriverException: Failed to create an instance of io.testproject.sdk.drivers.web.ChromeDriver\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'S01128', ip: '192.168.42.18', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.1'\nDriver info: driver.version: unknown\n    at io.testproject.sdk.DriverBuilder.build(DriverBuilder.java:263)\n    at DemoClass.main(DemoClass.java:17)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at io.testproject.sdk.DriverBuilder.build(DriverBuilder.java:251)\n    ... 1 more\nCaused by: java.lang.NoClassDefFoundError: org/apache/http/config/Lookup\n    at org.apache.http.impl.client.HttpClients.custom(HttpClients.java:48)\n    at io.testproject.sdk.internal.rest.AgentClient.&lt;init&gt;(AgentClient.java:270)\n    at io.testproject.sdk.internal.rest.AgentClient.getClient(AgentClient.java:573)\n    at io.testproject.sdk.drivers.web.ChromeDriver.&lt;init&gt;(ChromeDriver.java:917)\n    ... 7 more\nCaused by: java.lang.ClassNotFoundException: org.apache.http.config.Lookup\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 11 more\n\nProcess finished with exit code 1\n</code></pre>\n<p>I'm using JDK 11. Previously I used JDK 17 and then downgraded to 11 but it didn't solve the problem.</p>\n<p>Here is the POM file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;FourWDSupaCentre1.0&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;16&lt;/source&gt;\n                    &lt;target&gt;16&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17.0.1&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17.0.1&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n         &lt;!-- https://mvnrepository.com/artifact/io.testproject/java-sdk --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.testproject&lt;/groupId&gt;\n            &lt;artifactId&gt;java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.2.4-RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cassandra&lt;/groupId&gt;\n            &lt;artifactId&gt;cassandra-all&lt;/artifactId&gt;\n            &lt;version&gt;3.11.10&lt;/version&gt;\n\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","sql","spring","spring-boot","datetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1635856610,"post_id":69805523,"comment_id":123399387,"body_markdown":"I recommend you dont use `java.sql.Timestamp`. That class is poorly designed and long outdated. Instead use `OffsetDateTime` or another class from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). Then you can also explicitly specify that it is in UTC.","body":"I recommend you dont use <code>java.sql.Timestamp</code>. That class is poorly designed and long outdated. Instead use <code>OffsetDateTime</code> or another class from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Then you can also explicitly specify that it is in UTC."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1635856677,"post_id":69805523,"comment_id":123399407,"body_markdown":"You are giving us very little to work with. What is the data type in SQL? Which brand of database engine are you using? A [mre], please?","body":"You are giving us very little to work with. What is the data type in SQL? Which brand of database engine are you using? A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, please?"}],"owner":{"account_id":13789522,"reputation":67,"user_id":10857968,"display_name":"Raghav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635828676,"creation_date":1635828676,"question_id":69805523,"body_markdown":"I am trying to store date and time in UTC in sql but it is getting stored as something else only.          \r\n\r\nIn react, I am using local date time in my input to send the request body to the API.       \r\n\r\nThe API is simple, getting the date and storing it in sql.       \r\nBut it is adding time rather than subtracting from it.   \r\nI am in IST Timezone.         \r\nthe requestbody :       \r\n\r\n    {&quot;date&quot; : &quot;2022-09-08 12:30&quot;}\r\nIn the database, it is storing as 2022-09-08 18:00 whereas it should store 2022-09-08 07:00.      \r\nThe java API:       \r\n\r\n    exampleFunction(Timestamp date) {\r\n    // store in db;\r\n    // return success or failure\r\n    }\r\n\r\nI am not able to understand what is happening and also was not able to find any way after trying.\r\n\r\n","title":"Adding in SQL from Timestamp adding time","body":"<p>I am trying to store date and time in UTC in sql but it is getting stored as something else only.</p>\n<p>In react, I am using local date time in my input to send the request body to the API.</p>\n<p>The API is simple, getting the date and storing it in sql.<br />\nBut it is adding time rather than subtracting from it.<br />\nI am in IST Timezone.<br />\nthe requestbody :</p>\n<pre><code>{&quot;date&quot; : &quot;2022-09-08 12:30&quot;}\n</code></pre>\n<p>In the database, it is storing as 2022-09-08 18:00 whereas it should store 2022-09-08 07:00.<br />\nThe java API:</p>\n<pre><code>exampleFunction(Timestamp date) {\n// store in db;\n// return success or failure\n}\n</code></pre>\n<p>I am not able to understand what is happening and also was not able to find any way after trying.</p>\n"},{"tags":["java","mysql","jdbc","vert.x"],"answers":[{"tags":[],"owner":{"account_id":7926575,"reputation":16936,"user_id":5985853,"display_name":"Alexey Soshin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1470765341,"creation_date":1470765341,"answer_id":38857443,"question_id":38843881,"body_markdown":"First of all, I do hope you&#39;re not actually sending queries to your API, and that you&#39;re using prepared statements to prevent SQL injections.\r\n\r\nSecond, you could solve your issue without much Vert.x intervention, by adding unique key to the email column, then catching exception.\r\n\r\nIn your DB:\r\n\r\n    alter table USER add unique (email)\r\n\r\nIn your application:\r\n\r\n    JsonArray params  = new JsonArray().add(&quot;a@a.com&quot;).add(&quot;A&quot;).add(&quot;abcd&quot;);\r\n    conn.updateWithParams(&quot;insert into user (email, name, password) values (?, ?, ?)&quot;, params,\r\n            (r) -&gt; {\r\n                if (r.succeeded()) {\r\n                    System.out.println(&quot;Ok!&quot;);\r\n                }\r\n                else {\r\n                    if (r.cause() instanceof MySQLException) {\r\n                        MySQLException cause = (MySQLException) r.cause();\r\n                        // 1062 is MySQL Duplicate Key\r\n                        if (cause.errorMessage().errorCode() == 1062) {\r\n                            // Duplicate key, ignore\r\n                        }\r\n                    }\r\n                }\r\n                // Handle connection closing\r\n    });\r\n","title":"is there any function to process like this? mysql on vertx java","body":"<p>First of all, I do hope you're not actually sending queries to your API, and that you're using prepared statements to prevent SQL injections.</p>\n\n<p>Second, you could solve your issue without much Vert.x intervention, by adding unique key to the email column, then catching exception.</p>\n\n<p>In your DB:</p>\n\n<pre><code>alter table USER add unique (email)\n</code></pre>\n\n<p>In your application:</p>\n\n<pre><code>JsonArray params  = new JsonArray().add(\"a@a.com\").add(\"A\").add(\"abcd\");\nconn.updateWithParams(\"insert into user (email, name, password) values (?, ?, ?)\", params,\n        (r) -&gt; {\n            if (r.succeeded()) {\n                System.out.println(\"Ok!\");\n            }\n            else {\n                if (r.cause() instanceof MySQLException) {\n                    MySQLException cause = (MySQLException) r.cause();\n                    // 1062 is MySQL Duplicate Key\n                    if (cause.errorMessage().errorCode() == 1062) {\n                        // Duplicate key, ignore\n                    }\n                }\n            }\n            // Handle connection closing\n});\n</code></pre>\n"}],"owner":{"account_id":8972262,"reputation":11,"user_id":6690328,"accept_rate":88,"display_name":"James Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":38857443,"answer_count":1,"score":0,"last_activity_date":1635828438,"creation_date":1470725124,"question_id":38843881,"body_markdown":"As you see,\r\n\r\nIf there&#39;s a existing email, don&#39;t add user\r\nand if there&#39;s no existing email, add user.\r\n\r\nOne API processes everything so I&#39;m trying to separate API to two APIs, User API and Database API.\r\n\r\n\r\nIf I send queries using json like\r\n\r\n&quot;query&quot; : \r\n\r\n    [&quot;SELECT * FROM USER WHERE email=&#39;&quot; + email + &quot;&#39;&quot;, \r\n    &quot;INSERT INTO USER VALUES(&#39;&quot; + email + &quot;&#39;, &#39;&quot; + name + &quot;&#39;, &#39;&quot; + password + &quot;&#39;)&quot;]\r\n\r\nand Database API should handle those queries at the same time.\r\n\r\nIf there&#39;s a result from `SELECT`, do `INSERT`\r\nIf not, don&#39;t `INSERT`\r\n\r\nIs there any solution from vertx?\r\n\r\nThanks in advance.\r\n\r\n \r\n\r\n    connection.query(&quot;SELECT * FROM USER WHERE email=&#39;&quot; + email + &quot;&#39;&quot;, rs -&gt; {\r\n    \tif(!rs.result().getResults().isEmpty()) {\r\n    \t\thandler.handle(Future.failedFuture(&quot;email already exists&quot;));\r\n    \t} else {\r\n    \t\tconnection.execute(&quot;INSERT INTO USER VALUES(&#39;&quot; + email + &quot;&#39;, &#39;&quot; + name + &quot;&#39;, &#39;&quot; + password + &quot;&#39;)&quot;, ins -&gt; {\r\n    \r\n    \t\t\tif (ins.failed()) {\r\n    \t\t\t\tthrow new RuntimeException(ins.cause());\r\n    \t\t\t}\r\n    \r\n    \t\t\t// and close the connection\r\n    \t\t\tconnection.close(done -&gt; {\r\n    \t\t\t\tif (done.failed()) {\r\n    \t\t\t\t\tthrow new RuntimeException(done.cause());\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t});\r\n    \t\thandler.handle(Future.succeededFuture(new JsonObject().put(&quot;result&quot;, &quot;succeed&quot;)));\r\n    \t}\r\n    });\r\n\r\n","title":"is there any function to process like this? mysql on vertx java","body":"<p>As you see,</p>\n\n<p>If there's a existing email, don't add user\nand if there's no existing email, add user.</p>\n\n<p>One API processes everything so I'm trying to separate API to two APIs, User API and Database API.</p>\n\n<p>If I send queries using json like</p>\n\n<p>\"query\" : </p>\n\n<pre><code>[\"SELECT * FROM USER WHERE email='\" + email + \"'\", \n\"INSERT INTO USER VALUES('\" + email + \"', '\" + name + \"', '\" + password + \"')\"]\n</code></pre>\n\n<p>and Database API should handle those queries at the same time.</p>\n\n<p>If there's a result from <code>SELECT</code>, do <code>INSERT</code>\nIf not, don't <code>INSERT</code></p>\n\n<p>Is there any solution from vertx?</p>\n\n<p>Thanks in advance.</p>\n\n<pre><code>connection.query(\"SELECT * FROM USER WHERE email='\" + email + \"'\", rs -&gt; {\n    if(!rs.result().getResults().isEmpty()) {\n        handler.handle(Future.failedFuture(\"email already exists\"));\n    } else {\n        connection.execute(\"INSERT INTO USER VALUES('\" + email + \"', '\" + name + \"', '\" + password + \"')\", ins -&gt; {\n\n            if (ins.failed()) {\n                throw new RuntimeException(ins.cause());\n            }\n\n            // and close the connection\n            connection.close(done -&gt; {\n                if (done.failed()) {\n                    throw new RuntimeException(done.cause());\n                }\n            });\n        });\n        handler.handle(Future.succeededFuture(new JsonObject().put(\"result\", \"succeed\")));\n    }\n});\n</code></pre>\n"},{"tags":["java","g1gc"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1635877024,"post_id":69805394,"comment_id":123408380,"body_markdown":"I dont understand why would anyone upvote this, where are your numbers coming from, _exactly_ what have you measured, etc?","body":"I dont understand why would anyone upvote this, where are your numbers coming from, <i>exactly</i> what have you measured, etc?"}],"owner":{"account_id":18643353,"reputation":39,"user_id":13588633,"display_name":"Hanju Kim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1635827660,"creation_date":1635827126,"question_id":69805394,"body_markdown":"I am a beginner Java developer. My application is using Java 8.\r\n\r\nI know that in Java 8, [Parallel GC](https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/parallel.html) is the default. When no options are given, the memory is 500MB.\r\n\r\nHowever, giving the [G1 GC](https://www.oracle.com/java/technologies/javase/hotspot-garbage-collection.html) option increases the memory to 3GB.(`-XX:+UseG1GC`). I know the G1 GC is memory intensive by default, but does it make that much of a difference?\r\n\r\nIf I want to use G1 GC, do I have to give it a memory option?\r\n\r\n","title":"Memory issues when using G1GC","body":"<p>I am a beginner Java developer. My application is using Java 8.</p>\n<p>I know that in Java 8, <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/parallel.html\" rel=\"nofollow noreferrer\">Parallel GC</a> is the default. When no options are given, the memory is 500MB.</p>\n<p>However, giving the <a href=\"https://www.oracle.com/java/technologies/javase/hotspot-garbage-collection.html\" rel=\"nofollow noreferrer\">G1 GC</a> option increases the memory to 3GB.(<code>-XX:+UseG1GC</code>). I know the G1 GC is memory intensive by default, but does it make that much of a difference?</p>\n<p>If I want to use G1 GC, do I have to give it a memory option?</p>\n"},{"tags":["java","maven","apache-spark","hadoop","graph"],"comments":[{"owner":{"account_id":8761632,"reputation":22774,"user_id":6551426,"accept_rate":25,"display_name":"koiralo"},"score":0,"creation_date":1624269362,"post_id":68065826,"comment_id":120303037,"body_markdown":"You should use the same versions of spark, instead of spark-sql_2.11 use spark-sql_2.12 and 3+ and same with spark-graphx","body":"You should use the same versions of spark, instead of spark-sql_2.11 use spark-sql_2.12 and 3+ and same with spark-graphx"},{"owner":{"account_id":16440014,"reputation":692,"user_id":11876612,"display_name":"Felipe Bonfante"},"score":0,"creation_date":1624276596,"post_id":68065826,"comment_id":120305874,"body_markdown":"you are using this repository: http://dl.bintray.com/spark-packages/maven\nIf you access this repository, the dependencies are there?","body":"you are using this repository: <a href=\"http://dl.bintray.com/spark-packages/maven\" rel=\"nofollow noreferrer\">dl.bintray.com/spark-packages/maven</a> If you access this repository, the dependencies are there?"}],"answers":[{"tags":[],"owner":{"account_id":4743969,"reputation":1799,"user_id":3835765,"display_name":"Abhijeet Dhumal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1625491369,"creation_date":1625491369,"answer_id":68256930,"question_id":68065826,"body_markdown":"The bintray service was shutdown starting from 1st of May. ([Press release][1])\r\n\r\nSo Apache spark community has provided new repo to host all spark packages. You can add/replace below code snippet in your code and things should work.\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;bintray&lt;/id&gt;\r\n            &lt;name&gt;Bintray Repository&lt;/name&gt;\r\n            &lt;url&gt;https://repos.spark-packages.org&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n\r\n  [1]: https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/","title":"cannot import graphframes dependency in maven project","body":"<p>The bintray service was shutdown starting from 1st of May. (<a href=\"https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/\" rel=\"nofollow noreferrer\">Press release</a>)</p>\n<p>So Apache spark community has provided new repo to host all spark packages. You can add/replace below code snippet in your code and things should work.</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;bintray&lt;/id&gt;\n        &lt;name&gt;Bintray Repository&lt;/name&gt;\n        &lt;url&gt;https://repos.spark-packages.org&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"}],"owner":{"account_id":9442226,"reputation":3,"user_id":7022268,"display_name":"Trn Trung &#244;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68256930,"answer_count":1,"score":0,"last_activity_date":1635826765,"creation_date":1624269191,"question_id":68065826,"body_markdown":"I have a maven project and i need import graphframe dependency to use spark grapx,this&#39;s my pom.xml\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;demoGraphX&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;SparkPackagesRepo&lt;/id&gt;\r\n                &lt;url&gt;http://dl.bintray.com/spark-packages/maven&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-graphx_2.11&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/graphframes/graphframes --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;graphframes&lt;/groupId&gt;\r\n                &lt;artifactId&gt;graphframes&lt;/artifactId&gt;\r\n                &lt;version&gt;0.7.0-spark2.4-s_2.11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nBut when i import graphframe dependency, my IDE return:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    Cannot resolve org.apache.parquet:parquet-jackson:1.8.2\r\n    Cannot resolve com.twitter:chill_2.11:0.8.0\r\n    Cannot resolve org.apache.parquet:parquet-hadoop:1.8.2\r\n    Cannot resolve io.dropwizard.metrics:metrics-core:3.1.2\r\n    Cannot resolve org.glassfish.hk2:hk2-utils:2.4.0-b34\r\n    Cannot resolve com.univocity:univocity-parsers:2.2.1\r\n    Cannot resolve org.apache.directory.api:api-asn1-api:1.0.0-M20\r\n    Cannot resolve org.glassfish.hk2:osgi-resource-locator:1.0.1\r\n    Cannot resolve org.objenesis:objenesis:2.1\r\n    Cannot resolve commons-cli:commons-cli:1.2\r\n    Cannot resolve org.apache.hadoop:hadoop-yarn-common:2.6.5\r\n    Cannot resolve org.mortbay.jetty:jetty-util:6.1.26\r\n    Cannot resolve com.google.code.gson:gson:2.2.4\r\n    Cannot resolve com.chuusai:shapeless_2.11:2.3.2\r\n    etc...\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI guest something wrong in my Maven. I use:   \r\n\r\n&gt; Intellij lastest   \r\n&gt; java 1.8.0_292   \r\n&gt; Apache Maven 3.6.3\r\n\r\nCan you help me solve this problem. Thank you!","title":"cannot import graphframes dependency in maven project","body":"<p>I have a maven project and i need import graphframe dependency to use spark grapx,this's my pom.xml</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demoGraphX&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;SparkPackagesRepo&lt;/id&gt;\n            &lt;url&gt;http://dl.bintray.com/spark-packages/maven&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-graphx_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/graphframes/graphframes --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;graphframes&lt;/groupId&gt;\n            &lt;artifactId&gt;graphframes&lt;/artifactId&gt;\n            &lt;version&gt;0.7.0-spark2.4-s_2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>But when i import graphframe dependency, my IDE return:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Cannot resolve org.apache.parquet:parquet-jackson:1.8.2\nCannot resolve com.twitter:chill_2.11:0.8.0\nCannot resolve org.apache.parquet:parquet-hadoop:1.8.2\nCannot resolve io.dropwizard.metrics:metrics-core:3.1.2\nCannot resolve org.glassfish.hk2:hk2-utils:2.4.0-b34\nCannot resolve com.univocity:univocity-parsers:2.2.1\nCannot resolve org.apache.directory.api:api-asn1-api:1.0.0-M20\nCannot resolve org.glassfish.hk2:osgi-resource-locator:1.0.1\nCannot resolve org.objenesis:objenesis:2.1\nCannot resolve commons-cli:commons-cli:1.2\nCannot resolve org.apache.hadoop:hadoop-yarn-common:2.6.5\nCannot resolve org.mortbay.jetty:jetty-util:6.1.26\nCannot resolve com.google.code.gson:gson:2.2.4\nCannot resolve com.chuusai:shapeless_2.11:2.3.2\netc...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I guest something wrong in my Maven. I use:</p>\n<blockquote>\n<p>Intellij lastest<br />\njava 1.8.0_292<br />\nApache Maven 3.6.3</p>\n</blockquote>\n<p>Can you help me solve this problem. Thank you!</p>\n"},{"tags":["java","sockets","jetty","dropwizard","http2"],"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":0,"creation_date":1635848131,"post_id":69805292,"comment_id":123396152,"body_markdown":"Please file this as an issue at https://github.com/eclipse/jetty.project/issues","body":"Please file this as an issue at <a href=\"https://github.com/eclipse/jetty.project/issues\" rel=\"nofollow noreferrer\">github.com/eclipse/jetty.project/issues</a>"},{"owner":{"account_id":1949371,"reputation":997,"user_id":1753823,"display_name":"Jayesh"},"score":0,"creation_date":1637281256,"post_id":69805292,"comment_id":123791330,"body_markdown":"try YourKit Profile to find the bottleneck or try a different version of Jetty parser","body":"try YourKit Profile to find the bottleneck or try a different version of Jetty parser"}],"owner":{"account_id":23212285,"reputation":1,"user_id":17305565,"display_name":"Naveen N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635826067,"creation_date":1635826067,"question_id":69805292,"body_markdown":"We are using Jetty 9.4.40 with dropwizard. We are trying to enable HTTP/2, when we enable the HTTP/2 support, the application works without any issues for 5 to 6 hours, then we see a lot of CLOSE_WAIT connections and CPU usage goes up. \r\n\r\nJetty is behind the ELB. When we analyzed the thread dump, the thread which was consuming a high CPU has the following stack trace.\r\n\r\n    stackTrace:\r\n    java.lang.Thread.State: RUNNABLE\r\n    at org.eclipse.jetty.http2.parser.HeadersBodyParser.parse(HeadersBodyParser.java:225)\r\n    at org.eclipse.jetty.http2.parser.Parser.parseBody(Parser.java:198)\r\n    at org.eclipse.jetty.http2.parser.Parser.parse(Parser.java:127)\r\n    at org.eclipse.jetty.http2.parser.ServerParser.parse(ServerParser.java:115)\r\n    at org.eclipse.jetty.http2.HTTP2Connection$HTTP2Producer.produce(HTTP2Connection.java:261)\r\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produceTask(EatWhatYouKill.java:360)\r\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:184)\r\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\r\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:135)\r\n    at org.eclipse.jetty.http2.HTTP2Connection.produce(HTTP2Connection.java:183)\r\n    at org.eclipse.jetty.http2.HTTP2Connection.onFillable(HTTP2Connection.java:138)\r\n    at org.eclipse.jetty.http2.HTTP2Connection$FillableCallback.succeeded(HTTP2Connection.java:361)\r\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:540)\r\n    at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:395)\r\n    at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:161)\r\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n    at org.eclipse.jetty.util.thread.Invocable.invokeNonBlocking(Invocable.java:69)\r\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.invokeTask(EatWhatYouKill.java:348)\r\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:303)\r\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\r\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\r\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:383)\r\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:882)\r\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1036)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n\r\nAny help on this will be much appreciated.","title":"Jetty with HTTP/2 enabled has CLOSE_WAIT Sockets issue","body":"<p>We are using Jetty 9.4.40 with dropwizard. We are trying to enable HTTP/2, when we enable the HTTP/2 support, the application works without any issues for 5 to 6 hours, then we see a lot of CLOSE_WAIT connections and CPU usage goes up.</p>\n<p>Jetty is behind the ELB. When we analyzed the thread dump, the thread which was consuming a high CPU has the following stack trace.</p>\n<pre><code>stackTrace:\njava.lang.Thread.State: RUNNABLE\nat org.eclipse.jetty.http2.parser.HeadersBodyParser.parse(HeadersBodyParser.java:225)\nat org.eclipse.jetty.http2.parser.Parser.parseBody(Parser.java:198)\nat org.eclipse.jetty.http2.parser.Parser.parse(Parser.java:127)\nat org.eclipse.jetty.http2.parser.ServerParser.parse(ServerParser.java:115)\nat org.eclipse.jetty.http2.HTTP2Connection$HTTP2Producer.produce(HTTP2Connection.java:261)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produceTask(EatWhatYouKill.java:360)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:184)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:135)\nat org.eclipse.jetty.http2.HTTP2Connection.produce(HTTP2Connection.java:183)\nat org.eclipse.jetty.http2.HTTP2Connection.onFillable(HTTP2Connection.java:138)\nat org.eclipse.jetty.http2.HTTP2Connection$FillableCallback.succeeded(HTTP2Connection.java:361)\nat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\nat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:540)\nat org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:395)\nat org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:161)\nat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\nat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\nat org.eclipse.jetty.util.thread.Invocable.invokeNonBlocking(Invocable.java:69)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.invokeTask(EatWhatYouKill.java:348)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:303)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\nat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\nat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:383)\nat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:882)\nat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1036)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>Any help on this will be much appreciated.</p>\n"},{"tags":["java","android","android-recyclerview","imagebutton"],"comments":[{"owner":{"account_id":12533244,"reputation":591,"user_id":9589677,"display_name":"Shakib Uz-Zaman"},"score":1,"creation_date":1635704403,"post_id":69789268,"comment_id":123360670,"body_markdown":"It because you are trying to call Imagebutton from MainActivity, where you should be calling it from your adapter class. A fairly easy solution is to create a reference of your imagebutton inside your MyViewHolder class. Then call it from onBindViewHolder just like tvNom.","body":"It because you are trying to call Imagebutton from MainActivity, where you should be calling it from your adapter class. A fairly easy solution is to create a reference of your imagebutton inside your MyViewHolder class. Then call it from onBindViewHolder just like tvNom."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1635722110,"post_id":69789268,"comment_id":123364284,"body_markdown":"Search SO for &quot;recyclerview click listener&quot;","body":"Search SO for &quot;recyclerview click listener&quot;"}],"answers":[{"tags":[],"owner":{"account_id":14729641,"reputation":2947,"user_id":10637400,"display_name":"quealegriamasalegre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635825529,"creation_date":1635736065,"answer_id":69792250,"question_id":69789268,"body_markdown":"Your issue is quite simple. you are failung to reference your imageButton in the adapter. where exactly did you place the code that is causing the exception? your adapter basically needs you to tell it which view in your adapter layout is the imageButton. here the code with the correction\r\n\r\n     public class QuestionAdapter extends RecyclerView.Adapter&lt;QuestionAdapter.MyViewHolder&gt; {\r\n            public List&lt;Question&gt; list;\r\n            private MyViewHolder.OnQuestionListener mOnQuestionListener;\r\n        \r\n            public static class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\r\n                \r\n                public TextView tvNom;\r\n                ImageButton imageButtom;\r\n                OnQuestionListener onQuestionListener;        \r\n        \r\n        \r\n                public MyViewHolder(LinearLayout v, OnQuestionListener onQuestionListener) {\r\n                    super(v);\r\n                    tvNom = v.findViewById(R.id.tvNom);\r\n                    this.onQuestionListener = onQuestionListener;           \r\n                    itemView.setOnClickListener(this);\r\n                    imagebutton= (ImageButton) findViewById(R.id.btn_piechart);\r\n                    \r\n                }\r\n        \r\n                @Override\r\n                public void onClick(View view) {\r\n                    onQuestionListener.onQuestionClick(getAdapterPosition());\r\n        \r\n                }\r\n        \r\n                public interface OnQuestionListener{\r\n                    void onQuestionClick(int position);\r\n                }\r\n            }\r\n        \r\n            \r\n            public QuestionAdapter(MyViewHolder.OnQuestionListener onQuestionListener) {\r\n                list = new ArrayList&lt;&gt;();\r\n                this.mOnQuestionListener = onQuestionListener;\r\n        \r\n            }\r\n        \r\n            \r\n            @Override\r\n            public QuestionAdapter.MyViewHolder onCreateViewHolder(ViewGroup parent,\r\n                                                                   int viewType) {\r\n                \r\n                LinearLayout v = (LinearLayout) LayoutInflater.from(parent.getContext())\r\n                        .inflate(R.layout.question_item, parent, false);\r\n                MyViewHolder vh = new MyViewHolder(v, mOnQuestionListener);\r\n        \r\n        \r\n                return vh;\r\n            }\r\n        \r\n            // Replace the contents of a view (invoked by the layout manager)\r\n            @Override\r\n            public void onBindViewHolder(MyViewHolder holder, int position) {       \r\n                Question QuestionCourante = list.get(position);\r\n                holder.tvNom.setText(QuestionCourante.nom);\r\n                holder.imageButton.setOnClickListener(new View.OnClickListener(){\r\n                    @Override\r\n                    public void onClick(View v){\r\n                    Intent intent = new Intent(MainActivity.this, ResultatsActivity.class);\r\n                    holder.imageButton.getContext()startActivity(intent);\r\n                }\r\n            });\r\n            }\r\n            @Override\r\n            public int getItemCount() {\r\n                return list.size();\r\n            }\r\n    \r\n    }\r\n\r\nplease note how I added the view in your `viewHolder` and in the `OnBindViewHolder` method\r\n\r\nThe following code does NOT belong in MainActivity, just delete it from there:\r\n  \r\n\r\n    ImageButton button = (ImageButton) findViewById(R.id.btn_piechart);\r\n            button.setOnClickListener(new View.OnClickListener(){\r\n                @Override\r\n                public void onClick(View v){\r\n                    Intent intent = new Intent(MainActivity.this, ResultatsActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n            });","title":"ImageButton in RecyclerView","body":"<p>Your issue is quite simple. you are failung to reference your imageButton in the adapter. where exactly did you place the code that is causing the exception? your adapter basically needs you to tell it which view in your adapter layout is the imageButton. here the code with the correction</p>\n<pre><code> public class QuestionAdapter extends RecyclerView.Adapter&lt;QuestionAdapter.MyViewHolder&gt; {\n        public List&lt;Question&gt; list;\n        private MyViewHolder.OnQuestionListener mOnQuestionListener;\n    \n        public static class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\n            \n            public TextView tvNom;\n            ImageButton imageButtom;\n            OnQuestionListener onQuestionListener;        \n    \n    \n            public MyViewHolder(LinearLayout v, OnQuestionListener onQuestionListener) {\n                super(v);\n                tvNom = v.findViewById(R.id.tvNom);\n                this.onQuestionListener = onQuestionListener;           \n                itemView.setOnClickListener(this);\n                imagebutton= (ImageButton) findViewById(R.id.btn_piechart);\n                \n            }\n    \n            @Override\n            public void onClick(View view) {\n                onQuestionListener.onQuestionClick(getAdapterPosition());\n    \n            }\n    \n            public interface OnQuestionListener{\n                void onQuestionClick(int position);\n            }\n        }\n    \n        \n        public QuestionAdapter(MyViewHolder.OnQuestionListener onQuestionListener) {\n            list = new ArrayList&lt;&gt;();\n            this.mOnQuestionListener = onQuestionListener;\n    \n        }\n    \n        \n        @Override\n        public QuestionAdapter.MyViewHolder onCreateViewHolder(ViewGroup parent,\n                                                               int viewType) {\n            \n            LinearLayout v = (LinearLayout) LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.question_item, parent, false);\n            MyViewHolder vh = new MyViewHolder(v, mOnQuestionListener);\n    \n    \n            return vh;\n        }\n    \n        // Replace the contents of a view (invoked by the layout manager)\n        @Override\n        public void onBindViewHolder(MyViewHolder holder, int position) {       \n            Question QuestionCourante = list.get(position);\n            holder.tvNom.setText(QuestionCourante.nom);\n            holder.imageButton.setOnClickListener(new View.OnClickListener(){\n                @Override\n                public void onClick(View v){\n                Intent intent = new Intent(MainActivity.this, ResultatsActivity.class);\n                holder.imageButton.getContext()startActivity(intent);\n            }\n        });\n        }\n        @Override\n        public int getItemCount() {\n            return list.size();\n        }\n\n}\n</code></pre>\n<p>please note how I added the view in your <code>viewHolder</code> and in the <code>OnBindViewHolder</code> method</p>\n<p>The following code does NOT belong in MainActivity, just delete it from there:</p>\n<pre><code>ImageButton button = (ImageButton) findViewById(R.id.btn_piechart);\n        button.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View v){\n                Intent intent = new Intent(MainActivity.this, ResultatsActivity.class);\n                startActivity(intent);\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":23198781,"reputation":31,"user_id":17293967,"display_name":"Herr Rkt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":722,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1635825529,"creation_date":1635703576,"question_id":69789268,"body_markdown":"I&#39;m pretty new to Android Studio and I&#39;m having some issues with the ImageButton in my RecyclerViews. My RecyclerView contains an item along with the ImageButton. The item which is a TextView leads to another activity when you click on it. I want the ImageButton to do the same thing but I didn&#39;t figure out yet how to do so. \r\n\r\nI tried this code in my MainActivity but it makes the app to crash whenever I excecute it:\r\n\r\n```  \r\n    ImageButton button = (ImageButton) findViewById(R.id.btn_piechart);\r\n        button.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v){\r\n                Intent intent = new Intent(MainActivity.this, ResultatsActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n```  \r\n\r\nHere is the error message:\r\n\r\n```  \r\n    Attempt to invoke virtual method &#39;void android.widget.ImageButton.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n```  \r\n\r\nHere is the XML of my item view: \r\n\r\n```  \r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:layout_margin=&quot;15dp&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/tvNom&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/btn_piechart&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:srcCompat=&quot;@drawable/ic_baseline_pie_chart_24&quot; /&gt;\r\n\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n```  \r\n\r\nHere is the XML of my main activity:\r\n```  \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;Button\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_margin=&quot;20dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:text=&quot;Ajouter&quot;\r\n            android:id=&quot;@+id/btnAjouter&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n\r\n        /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```  \r\n\r\nHere is my adapter:      \r\n\r\n```\r\n    public class QuestionAdapter extends RecyclerView.Adapter&lt;QuestionAdapter.MyViewHolder&gt; {\r\n        public List&lt;Question&gt; list;\r\n        private MyViewHolder.OnQuestionListener mOnQuestionListener;\r\n    \r\n        public static class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\r\n            \r\n            public TextView tvNom;\r\n            OnQuestionListener onQuestionListener;        \r\n    \r\n    \r\n            public MyViewHolder(LinearLayout v, OnQuestionListener onQuestionListener) {\r\n                super(v);\r\n                tvNom = v.findViewById(R.id.tvNom);\r\n                this.onQuestionListener = onQuestionListener;           \r\n                itemView.setOnClickListener(this);\r\n                \r\n            }\r\n    \r\n            @Override\r\n            public void onClick(View view) {\r\n                onQuestionListener.onQuestionClick(getAdapterPosition());\r\n    \r\n            }\r\n    \r\n            public interface OnQuestionListener{\r\n                void onQuestionClick(int position);\r\n            }\r\n        }\r\n    \r\n        \r\n        public QuestionAdapter(MyViewHolder.OnQuestionListener onQuestionListener) {\r\n            list = new ArrayList&lt;&gt;();\r\n            this.mOnQuestionListener = onQuestionListener;\r\n    \r\n        }\r\n    \r\n        \r\n        @Override\r\n        public QuestionAdapter.MyViewHolder onCreateViewHolder(ViewGroup parent,\r\n                                                               int viewType) {\r\n            \r\n            LinearLayout v = (LinearLayout) LayoutInflater.from(parent.getContext())\r\n                    .inflate(R.layout.question_item, parent, false);\r\n            MyViewHolder vh = new MyViewHolder(v, mOnQuestionListener);\r\n    \r\n    \r\n            return vh;\r\n        }\r\n    \r\n        // Replace the contents of a view (invoked by the layout manager)\r\n        @Override\r\n        public void onBindViewHolder(MyViewHolder holder, int position) {       \r\n            Question QuestionCourante = list.get(position);\r\n            holder.tvNom.setText(QuestionCourante.nom);\r\n        }\r\n        @Override\r\n        public int getItemCount() {\r\n            return list.size();\r\n        }\r\n\r\n}\r\n```  \r\n\r\n \r\n      \r\n\r\nThank you for your helps.\r\n\r\n","title":"ImageButton in RecyclerView","body":"<p>I'm pretty new to Android Studio and I'm having some issues with the ImageButton in my RecyclerViews. My RecyclerView contains an item along with the ImageButton. The item which is a TextView leads to another activity when you click on it. I want the ImageButton to do the same thing but I didn't figure out yet how to do so.</p>\n<p>I tried this code in my MainActivity but it makes the app to crash whenever I excecute it:</p>\n<pre><code>    ImageButton button = (ImageButton) findViewById(R.id.btn_piechart);\n        button.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View v){\n                Intent intent = new Intent(MainActivity.this, ResultatsActivity.class);\n                startActivity(intent);\n            }\n        });\n</code></pre>\n<p>Here is the error message:</p>\n<pre><code>    Attempt to invoke virtual method 'void android.widget.ImageButton.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\n</code></pre>\n<p>Here is the XML of my item view:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:layout_margin=&quot;15dp&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvNom&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n\n    &lt;ImageButton\n        android:id=&quot;@+id/btn_piechart&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:srcCompat=&quot;@drawable/ic_baseline_pie_chart_24&quot; /&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Here is the XML of my main activity:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n        &lt;Button\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_margin=&quot;20dp&quot;\n            android:layout_height=&quot;50dp&quot;\n            android:text=&quot;Ajouter&quot;\n            android:id=&quot;@+id/btnAjouter&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n\n        /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Here is my adapter:</p>\n<pre><code>    public class QuestionAdapter extends RecyclerView.Adapter&lt;QuestionAdapter.MyViewHolder&gt; {\n        public List&lt;Question&gt; list;\n        private MyViewHolder.OnQuestionListener mOnQuestionListener;\n    \n        public static class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener{\n            \n            public TextView tvNom;\n            OnQuestionListener onQuestionListener;        \n    \n    \n            public MyViewHolder(LinearLayout v, OnQuestionListener onQuestionListener) {\n                super(v);\n                tvNom = v.findViewById(R.id.tvNom);\n                this.onQuestionListener = onQuestionListener;           \n                itemView.setOnClickListener(this);\n                \n            }\n    \n            @Override\n            public void onClick(View view) {\n                onQuestionListener.onQuestionClick(getAdapterPosition());\n    \n            }\n    \n            public interface OnQuestionListener{\n                void onQuestionClick(int position);\n            }\n        }\n    \n        \n        public QuestionAdapter(MyViewHolder.OnQuestionListener onQuestionListener) {\n            list = new ArrayList&lt;&gt;();\n            this.mOnQuestionListener = onQuestionListener;\n    \n        }\n    \n        \n        @Override\n        public QuestionAdapter.MyViewHolder onCreateViewHolder(ViewGroup parent,\n                                                               int viewType) {\n            \n            LinearLayout v = (LinearLayout) LayoutInflater.from(parent.getContext())\n                    .inflate(R.layout.question_item, parent, false);\n            MyViewHolder vh = new MyViewHolder(v, mOnQuestionListener);\n    \n    \n            return vh;\n        }\n    \n        // Replace the contents of a view (invoked by the layout manager)\n        @Override\n        public void onBindViewHolder(MyViewHolder holder, int position) {       \n            Question QuestionCourante = list.get(position);\n            holder.tvNom.setText(QuestionCourante.nom);\n        }\n        @Override\n        public int getItemCount() {\n            return list.size();\n        }\n\n}\n</code></pre>\n<p>Thank you for your helps.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1635827745,"post_id":69800719,"comment_id":123390393,"body_markdown":"I&#39;ve been looking into that too. You need entity classes with import javax.persistence.Entity; with an AT=Entity defined class with coresponding db column fields (getter and setter methods) , AT=Id entity on one of the fields is for primary-key id column.. here&#39;s a good explaination of Entity classes  https://www.baeldung.com/jpa-entities  and projections , https://www.baeldung.com/spring-data-jpa-projections","body":"I&#39;ve been looking into that too. You need entity classes with import javax.persistence.Entity; with an AT=Entity defined class with coresponding db column fields (getter and setter methods) , AT=Id entity on one of the fields is for primary-key id column.. here&#39;s a good explaination of Entity classes  <a href=\"https://www.baeldung.com/jpa-entities\" rel=\"nofollow noreferrer\">baeldung.com/jpa-entities</a>  and projections , <a href=\"https://www.baeldung.com/spring-data-jpa-projections\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-projections</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1635833329,"post_id":69800719,"comment_id":123391306,"body_markdown":"This appears to be a good one i found ()bindings and aliases and collective registration of the components)  https://stackoverflow.com/questions/29581515/why-is-my-projection-interface-not-picked-up-by-spring-data-rest  you need to do some binding and setting of the interfaces with the entity classes and  persistent data and the JPA repositories of that data cohesively.","body":"This appears to be a good one i found ()bindings and aliases and collective registration of the components)  <a href=\"https://stackoverflow.com/questions/29581515/why-is-my-projection-interface-not-picked-up-by-spring-data-rest\" title=\"why is my projection interface not picked up by spring data rest\">stackoverflow.com/questions/29581515/&hellip;</a>  you need to do some binding and setting of the interfaces with the entity classes and  persistent data and the JPA repositories of that data cohesively."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1635842140,"post_id":69800719,"comment_id":123393695,"body_markdown":"Your public interface IZoneAmountDTO{ should be a &quot;nested interface&quot; it says inside your tutorial link and its outer should extend  extends JpaRepository&lt;Event, Integer&gt; with the angle brackets for a return row in some type of List or Collection form.  extends JpaRepository&lt;WhatYouPut , Integer&gt;  the integer is for the id key of the row.","body":"Your public interface IZoneAmountDTO{ should be a &quot;nested interface&quot; it says inside your tutorial link and its outer should extend  extends JpaRepository&lt;Event, Integer&gt; with the angle brackets for a return row in some type of List or Collection form.  extends JpaRepository&lt;WhatYouPut , Integer&gt;  the integer is for the id key of the row."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1635852327,"post_id":69800719,"comment_id":123397769,"body_markdown":"You are saying that code you pasted here is now your DTO class code !!!  compare it to the DTO source code from the download link of the tutorial  page link you posted  GitHub SRC https://github.com/roytuts/spring-jpa/blob/master/spring-data-jpa-native-query-to-dto/src/main/java/com/roytuts/spring/data/jpa/natve/query/dto/EventDto.java","body":"You are saying that code you pasted here is now your DTO class code !!!  compare it to the DTO source code from the download link of the tutorial  page link you posted  GitHub SRC <a href=\"https://github.com/roytuts/spring-jpa/blob/master/spring-data-jpa-native-query-to-dto/src/main/java/com/roytuts/spring/data/jpa/natve/query/dto/EventDto.java\" rel=\"nofollow noreferrer\">github.com/roytuts/spring-jpa/blob/master/&hellip;</a>"}],"owner":{"account_id":11059588,"reputation":315,"user_id":8121365,"display_name":"Md.Habibur Rahman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635825162,"creation_date":1635788830,"question_id":69800719,"body_markdown":"I have two table- one is `USERS_TAXPAYER`(contains column- `tin_no`, `zone_no` and another one is `PAYMENT_DATA` (contains column- `tin_no` , `amount` ), my goal is to calculate total amount produced by same `zone_no`(there are multiple amount under same zone), so I am using a native query in my `repository layer` in the spring boot project like this-\r\n\r\n    @Query(value = &quot;select USERS_TAXPAYER.zone_no, sum(PAYMENT_DATA.amount) as amount_sum from PAYMENT_DATA inner join USERS_TAXPAYER on \\n&quot; +\r\n            &quot;PAYMENT_DATA.tin_no = USERS_TAXPAYER.tin_no group by USERS_TAXPAYER.zone_no&quot;,nativeQuery = true)\r\n    List&lt;ZoneWiseTotalAmountDto&gt; countZoneWiseReturnAmount();\r\n[![enter image description here][1]][1]\r\n\r\n\r\nbut now I want to retrieve this response as dto, I tried to follow the interface based projection , so I modified the code as follows-\r\n\r\n```\r\npublic interface IZoneAmountDTO{\r\n        Integer getZone();\r\n        Double getAmount();\r\n    }\r\n    @Query(value = &quot;select new com.example.nbr.entity.ZoneWiseTotalAmountDto(z.zone,z.amount) from (select USERS_TAXPAYER.zone_no, sum(PAYMENT_DATA.amount) as amount_sum from PAYMENT_DATA inner join USERS_TAXPAYER on \\n&quot; +\r\n            &quot;PAYMENT_DATA.tin_no = USERS_TAXPAYER.tin_no group by USERS_TAXPAYER.zone_no) z&quot;,nativeQuery = true)\r\n    List&lt;ZoneWiseTotalAmountDto&gt; countZoneWiseReturnAmount();\r\n```\r\nbelow is my `ZoneWiseTotalAmountDto` class\r\n\r\n```\r\npackage com.example.nbr.entity;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ZoneWiseTotalAmountDto {\r\n    private Integer zone;\r\n    private Double amount;\r\n\r\n}\r\n\r\n```\r\nIf I run it then Intellij says- \r\n```\r\nERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions - Incorrect syntax near &#39;.&#39;\r\n```\r\nWhat am I doing wrong here? Where to use that Interface that I created? I was following this blog- [link][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sYd4E.png\r\n  [2]: https://roytuts.com/how-to-map-custom-query-results-into-dto-in-spring-data-jpa/","title":"how to implement interface based projection into dto in spring data jpa with inner join query table","body":"<p>I have two table- one is <code>USERS_TAXPAYER</code>(contains column- <code>tin_no</code>, <code>zone_no</code> and another one is <code>PAYMENT_DATA</code> (contains column- <code>tin_no</code> , <code>amount</code> ), my goal is to calculate total amount produced by same <code>zone_no</code>(there are multiple amount under same zone), so I am using a native query in my <code>repository layer</code> in the spring boot project like this-</p>\n<pre><code>@Query(value = &quot;select USERS_TAXPAYER.zone_no, sum(PAYMENT_DATA.amount) as amount_sum from PAYMENT_DATA inner join USERS_TAXPAYER on \\n&quot; +\n        &quot;PAYMENT_DATA.tin_no = USERS_TAXPAYER.tin_no group by USERS_TAXPAYER.zone_no&quot;,nativeQuery = true)\nList&lt;ZoneWiseTotalAmountDto&gt; countZoneWiseReturnAmount();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/sYd4E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sYd4E.png\" alt=\"enter image description here\" /></a></p>\n<p>but now I want to retrieve this response as dto, I tried to follow the interface based projection , so I modified the code as follows-</p>\n<pre><code>public interface IZoneAmountDTO{\n        Integer getZone();\n        Double getAmount();\n    }\n    @Query(value = &quot;select new com.example.nbr.entity.ZoneWiseTotalAmountDto(z.zone,z.amount) from (select USERS_TAXPAYER.zone_no, sum(PAYMENT_DATA.amount) as amount_sum from PAYMENT_DATA inner join USERS_TAXPAYER on \\n&quot; +\n            &quot;PAYMENT_DATA.tin_no = USERS_TAXPAYER.tin_no group by USERS_TAXPAYER.zone_no) z&quot;,nativeQuery = true)\n    List&lt;ZoneWiseTotalAmountDto&gt; countZoneWiseReturnAmount();\n</code></pre>\n<p>below is my <code>ZoneWiseTotalAmountDto</code> class</p>\n<pre><code>package com.example.nbr.entity;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ZoneWiseTotalAmountDto {\n    private Integer zone;\n    private Double amount;\n\n}\n\n</code></pre>\n<p>If I run it then Intellij says-</p>\n<pre><code>ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions - Incorrect syntax near '.'\n</code></pre>\n<p>What am I doing wrong here? Where to use that Interface that I created? I was following this blog- <a href=\"https://roytuts.com/how-to-map-custom-query-results-into-dto-in-spring-data-jpa/\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":["java","list","lambda","linked-list"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635823570,"creation_date":1635823570,"answer_id":69805083,"question_id":69805031,"body_markdown":"Stream the contents of the `List`. Map each value to an `int` by replacing all non-&#39;e&#39; values with nothing and taking the `length` of the resulting `String`. Take the `sum()` of all such lengths. Like,\r\n\r\n    int count = l.stream().mapToInt(s -&gt; s.replaceAll(&quot;[^e]&quot;, &quot;&quot;).length()).sum();\r\n","title":"How to count a given char in LinkedList in java","body":"<p>Stream the contents of the <code>List</code>. Map each value to an <code>int</code> by replacing all non-'e' values with nothing and taking the <code>length</code> of the resulting <code>String</code>. Take the <code>sum()</code> of all such lengths. Like,</p>\n<pre><code>int count = l.stream().mapToInt(s -&gt; s.replaceAll(&quot;[^e]&quot;, &quot;&quot;).length()).sum();\n</code></pre>\n"}],"owner":{"account_id":15481034,"reputation":29,"user_id":11168304,"display_name":"KVL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69805083,"answer_count":1,"score":-1,"last_activity_date":1635823570,"creation_date":1635823064,"question_id":69805031,"body_markdown":"When I create a LinkedList and add some values like this: \r\n```\r\nList&lt;String&gt; l = new LinkedList&lt;&gt;();\r\nl.add(&quot;I&quot;);\r\nl.add(&quot;have&quot;);\r\nl.add(&quot;eaten&quot;);\r\nl.add(&quot;!&quot;);\r\n```\r\nHow to count the occurrence of char &quot;e&quot; using lambda or other method?\r\n","title":"How to count a given char in LinkedList in java","body":"<p>When I create a LinkedList and add some values like this:</p>\n<pre><code>List&lt;String&gt; l = new LinkedList&lt;&gt;();\nl.add(&quot;I&quot;);\nl.add(&quot;have&quot;);\nl.add(&quot;eaten&quot;);\nl.add(&quot;!&quot;);\n</code></pre>\n<p>How to count the occurrence of char &quot;e&quot; using lambda or other method?</p>\n"},{"tags":["java","sql","hibernate","jpa"],"comments":[{"owner":{"account_id":1842786,"reputation":11494,"user_id":1671856,"display_name":"DannyMo"},"score":0,"creation_date":1384471505,"post_id":19961552,"comment_id":29762531,"body_markdown":"Please include the relevant parts of your entities/mappings. Without knowing things like the relationship between `Customer` and `ActionCustomer` (e.g. is `ActionCustomer` a subclass of `Customer`?), this is hard to answer.","body":"Please include the relevant parts of your entities/mappings. Without knowing things like the relationship between <code>Customer</code> and <code>ActionCustomer</code> (e.g. is <code>ActionCustomer</code> a subclass of <code>Customer</code>?), this is hard to answer."},{"owner":{"account_id":3189429,"reputation":21,"user_id":2694125,"display_name":"Chesmuh"},"score":0,"creation_date":1384977250,"post_id":19961552,"comment_id":29958223,"body_markdown":"Sorry, miss those damn small comments every time ... :-/","body":"Sorry, miss those damn small comments every time ... :-/"}],"answers":[{"tags":[],"owner":{"account_id":2353390,"reputation":4575,"user_id":2061763,"accept_rate":67,"display_name":"Andrei Nicusan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384977708,"creation_date":1384977708,"answer_id":20105786,"question_id":19961552,"body_markdown":"You need to map also the `created` column of `actions` table. Then you can apply the following JPQL query (please note the changes in the subselect; the way you designed your SQL query, it wouldn&#39;t have brought the results you wanted):\r\n\r\n    SELECT a.customer\r\n    FROM Action a\r\n    WHERE a.type = &#39;CUSTOMER_TRAINING_BEGIN&#39; \r\n    AND a.created = \r\n    (\r\n    SELECT max(created)\r\n    FROM Action\r\n    WHERE (type = &#39;CUSTOMER_TRAINING_BEGIN&#39; \r\n    OR type = &#39;CUSTOMER_TRAINING_END&#39;)\r\n    AND customer.id = a.customer.id\r\n    )","title":"JPA - Select, Join, Subquery and max","body":"<p>You need to map also the <code>created</code> column of <code>actions</code> table. Then you can apply the following JPQL query (please note the changes in the subselect; the way you designed your SQL query, it wouldn't have brought the results you wanted):</p>\n\n<pre><code>SELECT a.customer\nFROM Action a\nWHERE a.type = 'CUSTOMER_TRAINING_BEGIN' \nAND a.created = \n(\nSELECT max(created)\nFROM Action\nWHERE (type = 'CUSTOMER_TRAINING_BEGIN' \nOR type = 'CUSTOMER_TRAINING_END')\nAND customer.id = a.customer.id\n)\n</code></pre>\n"}],"owner":{"account_id":3189429,"reputation":21,"user_id":2694125,"display_name":"Chesmuh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2922,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635823532,"creation_date":1384367278,"question_id":19961552,"body_markdown":"I try to map this query into JPA and Join, Subqueries and other are to much for me. Maybe you can help me. this is my query:\r\n\r\n```sql\r\nSELECT customers.*\r\nFROM actions\r\n         JOIN customers\r\n              ON customers.id = actions.customer_id\r\nWHERE actions.action_type = &#39;CUSTOMER_TRAINING_BEGIN&#39;\r\n  AND actions.created IN (\r\n    SELECT max(created)\r\n    FROM actions\r\n    WHERE action_type = &#39;CUSTOMER_TRAINING_BEGIN&#39;\r\n       OR action_type = &#39;CUSTOMER_TRAINING_END&#39;\r\n    GROUP BY customer_id\r\n);\r\n```\r\n\r\nI try to collect all Customers, where the last Status (CUSTOMER_TRAINING_BEGIN or CUSTOMER_TRAINING_END) was CUSTOMER_TRAINING_BEGIN. There are other Status, but i only want those 2.\r\n\r\nSo I have these Tables:\r\n\r\n                         Table &quot;public.actions&quot;  \r\n       Column    |           Type           |       Modifiers           \r\n    -------------+--------------------------+------------------------   \r\n     id          | bigint                   | not null   \r\n     action_type | character varying(30)    | not null   \r\n     user_name   | character varying(30)    | not null   \r\n     customer_id | bigint                   |    \r\n     created     | timestamp with time zone | not null default now()   \r\n     updated     | timestamp with time zone | not null default now()   \r\n    \r\n                         Table &quot;public.customers&quot;\r\n        Column    |           Type           |       Modifiers        \r\n    --------------+--------------------------+------------------------\r\n     id           | integer                  | not null\r\n     fore_name    | character varying(50)    | not null\r\n     last_name    | character varying(50)    | not null\r\n     matrikel     | integer                  | not null\r\n     day_of_birth | timestamp with time zone | not null\r\n     created      | timestamp with time zone | not null default now()\r\n     updated      | timestamp with time zone | not null default now()\r\n\r\nAnd my code snippets:   \r\n\r\nCustomer.java\r\n\r\n    @Data\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;CUSTOMERS&quot;)\r\n    @EqualsAndHashCode(callSuper = false)\r\n    public class Customer extends AbstractTimestampEntity {\r\n    \r\n        @Id\r\n        @SequenceGenerator(sequenceName = &quot;CUSTOMERS_ID_SEQ&quot;, name = &quot;CUSTOMERS_ID_GEN&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator = &quot;CUSTOMERS_ID_GEN&quot;, strategy = GenerationType.SEQUENCE)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;FORE_NAME&quot;)\r\n        private String foreName;\r\n    \r\n        @Column(name = &quot;LAST_NAME&quot;)\r\n        private String lastName;\r\n    \r\n        @Column(name = &quot;MATRIKEL&quot;)\r\n        private int matrikelNumber;\r\n    \r\n        @Column(name = &quot;DAY_OF_BIRTH&quot;)\r\n        private Date dayOfBirth;\r\n    \r\n    }\r\n\r\nActionType.java \r\n\r\n    @AllArgsConstructor\r\n    public enum ActionType {\r\n        /**\r\n         * Customer starts training.\r\n         */\r\n        CUSTOMER_TRAINING_BEGIN(&quot;ActionType.customerTrainingBegin.label&quot;),\r\n        /**\r\n         * Customer stops training\r\n         */\r\n        CUSTOMER_TRAINING_END(&quot;ActionType.customerTrainingEnd.label&quot;);\r\n    \r\n        @Getter\r\n        private String labelKey;\r\n    }\r\n\r\nAction.java\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;ACTIONS&quot;)\r\n    @EqualsAndHashCode(callSuper = false)\r\n    public class Action extends AbstractTimestampEntity {\r\n      \r\n        @Id\r\n        @SequenceGenerator(sequenceName = &quot;ACTIONS_ID_SEQ&quot;, name = &quot;actions_id_gen&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator = &quot;actions_id_gen&quot;, strategy = GenerationType.SEQUENCE)\r\n        private long id;\r\n        \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;USER_NAME&quot;)\r\n        private User user;\r\n     \r\n        @OneToOne\r\n        @JoinColumn(name = &quot;CUSTOMER_ID&quot;)\r\n        private Customer customer;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;ACTION_TYPE&quot;)\r\n        private ActionType type;\r\n    \r\n    }\r\n\r\nMy Problem is, that i hav to collect Customers. I have to join from Action to Customer because i don&#39;t have a refrence from customer to action. So i can&#39;t do something like:\r\n\r\n\r\n    CriteriaBuilder criteriaBuilder = this.em.getCriteriaBuilder();\r\n    CriteriaQuery&lt;Customer&gt; query = criteriaBuilder.createQuery(Customer.class);\r\n    Root&lt;Customer&gt; from = query.from(Customer.class);\r\n    \r\n    query.select(from);\r\n    \r\n    // Join here to action...\r\n\r\n\r\nMaybe this helps to understand my problem. Thanks a lot.   \r\n\r\nGreetings, Chesmuh","title":"JPA - Select, Join, Subquery and max","body":"<p>I try to map this query into JPA and Join, Subqueries and other are to much for me. Maybe you can help me. this is my query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT customers.*\nFROM actions\n         JOIN customers\n              ON customers.id = actions.customer_id\nWHERE actions.action_type = 'CUSTOMER_TRAINING_BEGIN'\n  AND actions.created IN (\n    SELECT max(created)\n    FROM actions\n    WHERE action_type = 'CUSTOMER_TRAINING_BEGIN'\n       OR action_type = 'CUSTOMER_TRAINING_END'\n    GROUP BY customer_id\n);\n</code></pre>\n<p>I try to collect all Customers, where the last Status (CUSTOMER_TRAINING_BEGIN or CUSTOMER_TRAINING_END) was CUSTOMER_TRAINING_BEGIN. There are other Status, but i only want those 2.</p>\n<p>So I have these Tables:</p>\n<pre><code>                     Table &quot;public.actions&quot;  \n   Column    |           Type           |       Modifiers           \n-------------+--------------------------+------------------------   \n id          | bigint                   | not null   \n action_type | character varying(30)    | not null   \n user_name   | character varying(30)    | not null   \n customer_id | bigint                   |    \n created     | timestamp with time zone | not null default now()   \n updated     | timestamp with time zone | not null default now()   \n\n                     Table &quot;public.customers&quot;\n    Column    |           Type           |       Modifiers        \n--------------+--------------------------+------------------------\n id           | integer                  | not null\n fore_name    | character varying(50)    | not null\n last_name    | character varying(50)    | not null\n matrikel     | integer                  | not null\n day_of_birth | timestamp with time zone | not null\n created      | timestamp with time zone | not null default now()\n updated      | timestamp with time zone | not null default now()\n</code></pre>\n<p>And my code snippets:</p>\n<p>Customer.java</p>\n<pre><code>@Data\n@Entity\n@NoArgsConstructor\n@Table(name = &quot;CUSTOMERS&quot;)\n@EqualsAndHashCode(callSuper = false)\npublic class Customer extends AbstractTimestampEntity {\n\n    @Id\n    @SequenceGenerator(sequenceName = &quot;CUSTOMERS_ID_SEQ&quot;, name = &quot;CUSTOMERS_ID_GEN&quot;, allocationSize = 1)\n    @GeneratedValue(generator = &quot;CUSTOMERS_ID_GEN&quot;, strategy = GenerationType.SEQUENCE)\n    private long id;\n\n    @Column(name = &quot;FORE_NAME&quot;)\n    private String foreName;\n\n    @Column(name = &quot;LAST_NAME&quot;)\n    private String lastName;\n\n    @Column(name = &quot;MATRIKEL&quot;)\n    private int matrikelNumber;\n\n    @Column(name = &quot;DAY_OF_BIRTH&quot;)\n    private Date dayOfBirth;\n\n}\n</code></pre>\n<p>ActionType.java</p>\n<pre><code>@AllArgsConstructor\npublic enum ActionType {\n    /**\n     * Customer starts training.\n     */\n    CUSTOMER_TRAINING_BEGIN(&quot;ActionType.customerTrainingBegin.label&quot;),\n    /**\n     * Customer stops training\n     */\n    CUSTOMER_TRAINING_END(&quot;ActionType.customerTrainingEnd.label&quot;);\n\n    @Getter\n    private String labelKey;\n}\n</code></pre>\n<p>Action.java</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;ACTIONS&quot;)\n@EqualsAndHashCode(callSuper = false)\npublic class Action extends AbstractTimestampEntity {\n  \n    @Id\n    @SequenceGenerator(sequenceName = &quot;ACTIONS_ID_SEQ&quot;, name = &quot;actions_id_gen&quot;, allocationSize = 1)\n    @GeneratedValue(generator = &quot;actions_id_gen&quot;, strategy = GenerationType.SEQUENCE)\n    private long id;\n    \n    @OneToOne\n    @JoinColumn(name = &quot;USER_NAME&quot;)\n    private User user;\n \n    @OneToOne\n    @JoinColumn(name = &quot;CUSTOMER_ID&quot;)\n    private Customer customer;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;ACTION_TYPE&quot;)\n    private ActionType type;\n\n}\n</code></pre>\n<p>My Problem is, that i hav to collect Customers. I have to join from Action to Customer because i don't have a refrence from customer to action. So i can't do something like:</p>\n<pre><code>CriteriaBuilder criteriaBuilder = this.em.getCriteriaBuilder();\nCriteriaQuery&lt;Customer&gt; query = criteriaBuilder.createQuery(Customer.class);\nRoot&lt;Customer&gt; from = query.from(Customer.class);\n\nquery.select(from);\n\n// Join here to action...\n</code></pre>\n<p>Maybe this helps to understand my problem. Thanks a lot.</p>\n<p>Greetings, Chesmuh</p>\n"},{"tags":["java","spring","maven","spring-boot","liquibase"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1553631106,"post_id":55365484,"comment_id":97454581,"body_markdown":"src/main/resources does not exist at runtime","body":"src/main/resources does not exist at runtime"},{"owner":{"account_id":2630849,"reputation":470,"user_id":2276842,"display_name":"Bibek Shrestha"},"score":0,"creation_date":1553631308,"post_id":55365484,"comment_id":97454651,"body_markdown":"You can use &quot;/resource/log&quot; folder to create log files. Spring also writes logs at &#39;/tmp/Spring.log&#39; file.","body":"You can use &quot;/resource/log&quot; folder to create log files. Spring also writes logs at &#39;/tmp/Spring.log&#39; file."},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":1,"creation_date":1553695889,"post_id":55365484,"comment_id":97480748,"body_markdown":"@Jens - I pointed to a folder that already exists `C:\\\\Logs\\\\dbChangeLog.xml` but still there is no file getting generated there.","body":"@Jens - I pointed to a folder that already exists <code>C:\\\\Logs\\\\dbChangeLog.xml</code> but still there is no file getting generated there."},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1553696138,"post_id":55365484,"comment_id":97480918,"body_markdown":"@Bibek - I tried putting in `/resource/log` folder but I do not see this getting generated anywhere.","body":"@Bibek - I tried putting in <code>&#47;resource&#47;log</code> folder but I do not see this getting generated anywhere."},{"owner":{"account_id":131902,"reputation":6273,"user_id":332248,"accept_rate":62,"display_name":"Jens"},"score":0,"creation_date":1553765844,"post_id":55365484,"comment_id":97508935,"body_markdown":"Search you file system for a file named `dbChangeLog.xml`. Maybe it got created elsewhere? Also check for exceptions in your log. When liquibase is having problems to create your changelog file there might be exceptions in your log that could help you...","body":"Search you file system for a file named <code>dbChangeLog.xml</code>. Maybe it got created elsewhere? Also check for exceptions in your log. When liquibase is having problems to create your changelog file there might be exceptions in your log that could help you..."},{"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"score":0,"creation_date":1553801534,"post_id":55365484,"comment_id":97531680,"body_markdown":"@Jens - Searched for it. Found nothing.","body":"@Jens - Searched for it. Found nothing."}],"answers":[{"tags":[],"owner":{"account_id":2630849,"reputation":470,"user_id":2276842,"display_name":"Bibek Shrestha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553701781,"creation_date":1553701781,"answer_id":55381379,"question_id":55365484,"body_markdown":"Try different version of Liquibase that might help you.\r\n\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;changeLogFile&gt;src/main/resources/dbChangeLog.xml&lt;/changeLogFile&gt;\r\n                    &lt;driver&gt;oracle.jdbc.OracleDriver&lt;/driver&gt;\r\n                    &lt;url&gt;jdbc:oracle:thin:@//person-db:6136/person-sid&lt;/url&gt;\r\n                    &lt;username&gt;abc&lt;/username&gt;\r\n                    &lt;password&gt;def&lt;/password&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Liquibase not generating changeLog file in src/main/resources folder from existing DB in Spring Boot","body":"<p>Try different version of Liquibase that might help you.</p>\n\n<pre><code>  &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.5&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;changeLogFile&gt;src/main/resources/dbChangeLog.xml&lt;/changeLogFile&gt;\n                &lt;driver&gt;oracle.jdbc.OracleDriver&lt;/driver&gt;\n                &lt;url&gt;jdbc:oracle:thin:@//person-db:6136/person-sid&lt;/url&gt;\n                &lt;username&gt;abc&lt;/username&gt;\n                &lt;password&gt;def&lt;/password&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":361565,"reputation":512,"user_id":704246,"accept_rate":50,"display_name":"Saad Benbouzid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635823486,"creation_date":1635823486,"answer_id":69805074,"question_id":55365484,"body_markdown":"I had the same issue. Checked the xmldoc of the maven plugin, and it happens you have to use the parameter `&lt;outputChangeLogFile&gt;` instead of `&lt;changeLogFile&gt;`.","title":"Liquibase not generating changeLog file in src/main/resources folder from existing DB in Spring Boot","body":"<p>I had the same issue. Checked the xmldoc of the maven plugin, and it happens you have to use the parameter <code>&lt;outputChangeLogFile&gt;</code> instead of <code>&lt;changeLogFile&gt;</code>.</p>\n"}],"owner":{"account_id":170293,"reputation":5854,"user_id":2325154,"accept_rate":68,"display_name":"Nital"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1730,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1635823486,"creation_date":1553630942,"question_id":55365484,"body_markdown":"I am trying to generate a change log on an existing `DB` through `Liquibase` and `Spring Boot`. \r\n\r\nIn the terminal window when I run `mvn liquibase:generateChangeLog` I can see the `XML` output of the entire change log getting generated and scrolling through but the file is not getting generated in `src/main/resources` folder even after specifying the path in the `liquibase-maven-plugin` plugin configuration in the pom.\r\n\r\n**application.properties**\r\n\r\n    spring.datasource.url=jdbc:oracle:thin:@//person-db:6136/person-sid\r\n    spring.datasource.username=abc\r\n    spring.datasource.password=def\r\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n\r\n\r\n**pom.xml**\r\n\r\n      &lt;parent&gt;\r\n          &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n          &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n          &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n          &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n         &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n    \r\n      &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;changeLogFile&gt;src/main/resources/dbChangeLog.xml&lt;/changeLogFile&gt;\r\n                        &lt;driver&gt;oracle.jdbc.OracleDriver&lt;/driver&gt;\r\n                        &lt;url&gt;jdbc:oracle:thin:@//person-db:6136/person-sid&lt;/url&gt;\r\n                        &lt;username&gt;abc&lt;/username&gt;\r\n                        &lt;password&gt;def&lt;/password&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n\r\n**Terminal Logs (after executing mvn liquibase:generateChangeLog command)**\r\n\r\n    &lt;databaseChangeLog&gt;\r\n        .....\r\n        &lt;changeSet author=&quot;R649526 (generated)&quot; id=&quot;1553629923684-9&quot;&gt;\r\n                &lt;createTable tableName=&quot;APPL_SNDER_TRGR_CNTL&quot; tablespace=&quot;TS_USRT_DEV_SML_DATA&quot;&gt;\r\n                    &lt;column name=&quot;RECEIVING_APPL_ID&quot; type=&quot;VARCHAR2(8 BYTE)&quot;&gt;\r\n                        &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;SYS_C0067672&quot;/&gt;\r\n                    &lt;/column&gt;\r\n                    &lt;column name=&quot;SNDING_APPL_ID&quot; type=&quot;VARCHAR2(8 BYTE)&quot;&gt;\r\n                        &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;SYS_C0067672&quot;/&gt;\r\n                    &lt;/column&gt;\r\n                    &lt;column name=&quot;RECEIVING_APPL_CHNL_ID&quot; type=&quot;VARCHAR2(2 BYTE)&quot;&gt;\r\n                        &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;SYS_C0067672&quot;/&gt;\r\n                    &lt;/column&gt;\r\n                    &lt;column name=&quot;LINK_DIR_CD&quot; type=&quot;VARCHAR2(1 BYTE)&quot;/&gt;\r\n                    &lt;column name=&quot;SNDING_APPL_TRGR_NM&quot; type=&quot;VARCHAR2(80 BYTE)&quot;&gt;\r\n                        &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                    &lt;/column&gt;\r\n                    &lt;column name=&quot;LAST_UPDT_TS&quot; type=&quot;TIMESTAMP(6)&quot;&gt;\r\n                        &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                    &lt;/column&gt;\r\n                &lt;/createTable&gt;\r\n            &lt;/changeSet&gt;\r\n            &lt;changeSet author=&quot;R649526 (generated)&quot; id=&quot;1553629923684-10&quot;&gt;\r\n                &lt;createTable tableName=&quot;BAT_APPL_FILE_CNTL&quot; tablespace=&quot;TS_USRT_DEV_SML_DATA&quot;&gt;\r\n                    &lt;column name=&quot;APPL_ID&quot; type=&quot;VARCHAR2(8 BYTE)&quot;&gt;\r\n                        &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;SYS_C0067673&quot;/&gt;\r\n                    &lt;/column&gt;\r\n                    &lt;column name=&quot;BAT_FILE_CNTL_TS&quot; type=&quot;TIMESTAMP(6)&quot;&gt;\r\n                        &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;SYS_C0067673&quot;/&gt;\r\n                    &lt;/column&gt;\r\n                    &lt;column name=&quot;LINK_DIR_CD&quot; type=&quot;VARCHAR2(1 BYTE)&quot;&gt;\r\n                        &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;SYS_C0067673&quot;/&gt;\r\n                    &lt;/column&gt;\r\n                    &lt;column name=&quot;BAT_FILE_NB&quot; type=&quot;NUMBER&quot;&gt;\r\n                        &lt;constraints primaryKey=&quot;true&quot; primaryKeyName=&quot;SYS_C0067673&quot;/&gt;\r\n                    &lt;/column&gt;\r\n                    &lt;column name=&quot;BAT_FILE_CRE_TS&quot; type=&quot;TIMESTAMP(6)&quot;&gt;\r\n                        &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                    &lt;/column&gt;\r\n                    &lt;column name=&quot;BAT_FILE_MSG_CNT&quot; type=&quot;NUMBER&quot;&gt;\r\n                        &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                    &lt;/column&gt;\r\n                    &lt;column name=&quot;BAT_FILE_PROC_TS&quot; type=&quot;TIMESTAMP(6)&quot;/&gt;\r\n                    &lt;column name=&quot;BAT_FILE_STS_CD&quot; type=&quot;VARCHAR2(1 BYTE)&quot;&gt;\r\n                        &lt;constraints nullable=&quot;false&quot;/&gt;\r\n                    &lt;/column&gt;\r\n                    &lt;column name=&quot;BAT_FILE_RJCT_RSN_TX&quot; type=&quot;VARCHAR2(80 BYTE)&quot;/&gt;\r\n                    &lt;column name=&quot;LAST_UPDT_TS&quot; type=&quot;TIMESTAMP(6)&quot;/&gt;\r\n                &lt;/createTable&gt;\r\n            &lt;/changeSet&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n\r\n\r\n","title":"Liquibase not generating changeLog file in src/main/resources folder from existing DB in Spring Boot","body":"<p>I am trying to generate a change log on an existing <code>DB</code> through <code>Liquibase</code> and <code>Spring Boot</code>. </p>\n\n<p>In the terminal window when I run <code>mvn liquibase:generateChangeLog</code> I can see the <code>XML</code> output of the entire change log getting generated and scrolling through but the file is not getting generated in <code>src/main/resources</code> folder even after specifying the path in the <code>liquibase-maven-plugin</code> plugin configuration in the pom.</p>\n\n<p><strong>application.properties</strong></p>\n\n<pre><code>spring.datasource.url=jdbc:oracle:thin:@//person-db:6136/person-sid\nspring.datasource.username=abc\nspring.datasource.password=def\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>  &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n      &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n  &lt;/parent&gt;\n\n  &lt;dependency&gt;\n     &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n     &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n\n  &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;changeLogFile&gt;src/main/resources/dbChangeLog.xml&lt;/changeLogFile&gt;\n                    &lt;driver&gt;oracle.jdbc.OracleDriver&lt;/driver&gt;\n                    &lt;url&gt;jdbc:oracle:thin:@//person-db:6136/person-sid&lt;/url&gt;\n                    &lt;username&gt;abc&lt;/username&gt;\n                    &lt;password&gt;def&lt;/password&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p><strong>Terminal Logs (after executing mvn liquibase:generateChangeLog command)</strong></p>\n\n<pre><code>&lt;databaseChangeLog&gt;\n    .....\n    &lt;changeSet author=\"R649526 (generated)\" id=\"1553629923684-9\"&gt;\n            &lt;createTable tableName=\"APPL_SNDER_TRGR_CNTL\" tablespace=\"TS_USRT_DEV_SML_DATA\"&gt;\n                &lt;column name=\"RECEIVING_APPL_ID\" type=\"VARCHAR2(8 BYTE)\"&gt;\n                    &lt;constraints primaryKey=\"true\" primaryKeyName=\"SYS_C0067672\"/&gt;\n                &lt;/column&gt;\n                &lt;column name=\"SNDING_APPL_ID\" type=\"VARCHAR2(8 BYTE)\"&gt;\n                    &lt;constraints primaryKey=\"true\" primaryKeyName=\"SYS_C0067672\"/&gt;\n                &lt;/column&gt;\n                &lt;column name=\"RECEIVING_APPL_CHNL_ID\" type=\"VARCHAR2(2 BYTE)\"&gt;\n                    &lt;constraints primaryKey=\"true\" primaryKeyName=\"SYS_C0067672\"/&gt;\n                &lt;/column&gt;\n                &lt;column name=\"LINK_DIR_CD\" type=\"VARCHAR2(1 BYTE)\"/&gt;\n                &lt;column name=\"SNDING_APPL_TRGR_NM\" type=\"VARCHAR2(80 BYTE)\"&gt;\n                    &lt;constraints nullable=\"false\"/&gt;\n                &lt;/column&gt;\n                &lt;column name=\"LAST_UPDT_TS\" type=\"TIMESTAMP(6)\"&gt;\n                    &lt;constraints nullable=\"false\"/&gt;\n                &lt;/column&gt;\n            &lt;/createTable&gt;\n        &lt;/changeSet&gt;\n        &lt;changeSet author=\"R649526 (generated)\" id=\"1553629923684-10\"&gt;\n            &lt;createTable tableName=\"BAT_APPL_FILE_CNTL\" tablespace=\"TS_USRT_DEV_SML_DATA\"&gt;\n                &lt;column name=\"APPL_ID\" type=\"VARCHAR2(8 BYTE)\"&gt;\n                    &lt;constraints primaryKey=\"true\" primaryKeyName=\"SYS_C0067673\"/&gt;\n                &lt;/column&gt;\n                &lt;column name=\"BAT_FILE_CNTL_TS\" type=\"TIMESTAMP(6)\"&gt;\n                    &lt;constraints primaryKey=\"true\" primaryKeyName=\"SYS_C0067673\"/&gt;\n                &lt;/column&gt;\n                &lt;column name=\"LINK_DIR_CD\" type=\"VARCHAR2(1 BYTE)\"&gt;\n                    &lt;constraints primaryKey=\"true\" primaryKeyName=\"SYS_C0067673\"/&gt;\n                &lt;/column&gt;\n                &lt;column name=\"BAT_FILE_NB\" type=\"NUMBER\"&gt;\n                    &lt;constraints primaryKey=\"true\" primaryKeyName=\"SYS_C0067673\"/&gt;\n                &lt;/column&gt;\n                &lt;column name=\"BAT_FILE_CRE_TS\" type=\"TIMESTAMP(6)\"&gt;\n                    &lt;constraints nullable=\"false\"/&gt;\n                &lt;/column&gt;\n                &lt;column name=\"BAT_FILE_MSG_CNT\" type=\"NUMBER\"&gt;\n                    &lt;constraints nullable=\"false\"/&gt;\n                &lt;/column&gt;\n                &lt;column name=\"BAT_FILE_PROC_TS\" type=\"TIMESTAMP(6)\"/&gt;\n                &lt;column name=\"BAT_FILE_STS_CD\" type=\"VARCHAR2(1 BYTE)\"&gt;\n                    &lt;constraints nullable=\"false\"/&gt;\n                &lt;/column&gt;\n                &lt;column name=\"BAT_FILE_RJCT_RSN_TX\" type=\"VARCHAR2(80 BYTE)\"/&gt;\n                &lt;column name=\"LAST_UPDT_TS\" type=\"TIMESTAMP(6)\"/&gt;\n            &lt;/createTable&gt;\n        &lt;/changeSet&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n"},{"tags":["java","arrays","json","whatsapp","hardcode"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1635138456,"post_id":69702483,"comment_id":123205722,"body_markdown":"Are you aware that you have `new BufferedReader(Writing);` when `Writing` is null ?","body":"Are you aware that you have <code>new BufferedReader(Writing);</code> when <code>Writing</code> is null ?"},{"owner":{"account_id":7900551,"reputation":21,"user_id":5967711,"display_name":"Nurgustianto Bahdar"},"score":0,"creation_date":1635139173,"post_id":69702483,"comment_id":123205852,"body_markdown":"Yes @c0der, I aware for that, Thanks for noticing me, but let&#39;s say I&#39;m removing that, the response I get is nothing, nothing happened I mean.\nPlease help. Thank you","body":"Yes @c0der, I aware for that, Thanks for noticing me, but let&#39;s say I&#39;m removing that, the response I get is nothing, nothing happened I mean. Please help. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":7900551,"reputation":21,"user_id":5967711,"display_name":"Nurgustianto Bahdar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635823404,"creation_date":1635823404,"answer_id":69805066,"question_id":69702483,"body_markdown":"I have found the solution for this,\r\nHere&#39;s the proper answer : \r\n\r\n    public class SendWhatsApp{\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t//Method for Whatsapp sending message\r\n    \t\t//URL Whatsapp API Gateway\r\n    \t\tURL url = new URL(&quot;https://Your Whatsapp API Gateway&quot;);\r\n    \t\tHttpURLConnection http = (HttpURLConnection)url.openConnection();\r\n    \t\thttp.setRequestMethod(&quot;POST&quot;);\r\n    \t\thttp.setDoOutput(true);\r\n    \t\thttp.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \t\t//Property for token/authorization\r\n    \t\thttp.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer (Input Your Token Here) &quot;);\r\n    \t\thttp.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t\t//still hardcode :(\r\n    \t\tString data = &quot;{\\n    \\&quot;token\\&quot;: \\&quot;\\&quot;,\\n    \\&quot;to\\&quot;: [\\&quot;\\&quot;],\\n    \\&quot;param\\&quot;: [\\&quot;\\&quot;]\\n}&quot;;\r\n    \t\t\r\n    \t\tbyte[] out = data.getBytes(StandardCharsets.UTF_8);\r\n    \r\n    \t\tOutputStream stream = http.getOutputStream();\r\n    \t\tstream.write(out);\r\n    \r\n    \t\tSystem.out.println(http.getResponseCode() + &quot; &quot; + http.getResponseMessage());\r\n    \t\thttp.disconnect();\r\n    \r\n    \t}\r\n    }","title":"Cannot Send Whatsapp Message using Java","body":"<p>I have found the solution for this,\nHere's the proper answer :</p>\n<pre><code>public class SendWhatsApp{\n    public static void main(String[] args) throws IOException {\n        //Method for Whatsapp sending message\n        //URL Whatsapp API Gateway\n        URL url = new URL(&quot;https://Your Whatsapp API Gateway&quot;);\n        HttpURLConnection http = (HttpURLConnection)url.openConnection();\n        http.setRequestMethod(&quot;POST&quot;);\n        http.setDoOutput(true);\n        http.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        //Property for token/authorization\n        http.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer (Input Your Token Here) &quot;);\n        http.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n        //still hardcode :(\n        String data = &quot;{\\n    \\&quot;token\\&quot;: \\&quot;\\&quot;,\\n    \\&quot;to\\&quot;: [\\&quot;\\&quot;],\\n    \\&quot;param\\&quot;: [\\&quot;\\&quot;]\\n}&quot;;\n        \n        byte[] out = data.getBytes(StandardCharsets.UTF_8);\n\n        OutputStream stream = http.getOutputStream();\n        stream.write(out);\n\n        System.out.println(http.getResponseCode() + &quot; &quot; + http.getResponseMessage());\n        http.disconnect();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7900551,"reputation":21,"user_id":5967711,"display_name":"Nurgustianto Bahdar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635823404,"creation_date":1635131536,"question_id":69702483,"body_markdown":"I need your help to solve this question, My approach is want to send Whatsapp message using Java and use Whatsapp Gateway\r\nplease find the java code below \r\n\r\n    import java.net.*;\r\n    import java.io.BufferedReader;\r\n    import java.io.OutputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    public class JsonExample1 {\r\n            // Your Business ID Gateway\r\n        \tprivate static final String ID_CLIENT = &quot;ID Client xxx&quot;;\r\n        \t// Your token Gateway\r\n            private static final String CLIENT_SECRET = &quot;Client&quot;;\r\n        \t// Gateway URL\r\n            private static final String URL_GATEWAY = &quot;URL Whatsapp Gateway&quot;; \r\n            //Main method\r\n        \tpublic static void main(String[] args) throws Exception {\r\n        \t\t// Whatsapp number\r\n                String number = &quot;81275704515&quot;;  \r\n                // Whatsapp message\r\n        \t\tString message = &quot;Test WhatsApp message&quot;; \r\n        \t\tsendwhatsapp(number, message);\r\n        \t}\r\n    \r\n    \tpublic static void sendwhatsapp(String number, String message) {\r\n    \r\n    \t\tString payload = &quot;{ Number: &quot; + number + &quot; | Message: &quot; + message;\r\n    \r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tURL url = new URL(URL_GATEWAY);\r\n    \t\t\tHttpURLConnection conex = (HttpURLConnection) url.openConnection();\r\n    \t\t\tPost(conex);\r\n    \t\t\tOutputStream output = conex.getOutputStream();\r\n    \t\t\toutput.write(payload.getBytes());\r\n    \t\t\toutput.flush();\r\n    \t\t\toutput.close();\r\n    \r\n    \t\t\tint StateCode = conex.getResponseCode();\r\n    \t\t\tSystem.out.println(&quot;Request Gateway: \\n&quot;);\r\n    \t\t\tSystem.out.println(&quot;State Code: &quot; + StateCode);\r\n    \t\t\tInputStreamReader Writing = null;\r\n    \t\t\tBufferedReader br = new BufferedReader(Writing);\r\n    \t\t\tString outputS;\r\n    \t\t\twhile ((outputS = br.readLine()) != null) {\r\n    \t\t\t\tSystem.out.println(outputS);\r\n    \t\t\t}\r\n    \t\t\tconex.disconnect();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Could not send the message&quot;);\r\n    \t\t}\r\n    \t}\r\n    \tpublic static void Post(HttpURLConnection conex) throws ProtocolException {\r\n    \t\tconex.setDoOutput(true);\r\n    \t\tconex.setRequestMethod(&quot;POST&quot;);\r\n    \t\tconex.setRequestProperty(&quot;ID&quot;, ID_CLIENT);\r\n    \t\tconex.setRequestProperty(&quot;CLIENT_SECRET&quot;, CLIENT_SECRET);\r\n    \t\tconex.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \t} \r\n    }\r\n\r\nI always get response like this:\r\nRequest Gateway: \r\n\r\nState Code: 500\r\nCould not send the message\r\n\r\nKindly need your help. Thank you","title":"Cannot Send Whatsapp Message using Java","body":"<p>I need your help to solve this question, My approach is want to send Whatsapp message using Java and use Whatsapp Gateway\nplease find the java code below</p>\n<pre><code>import java.net.*;\nimport java.io.BufferedReader;\nimport java.io.OutputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class JsonExample1 {\n        // Your Business ID Gateway\n        private static final String ID_CLIENT = &quot;ID Client xxx&quot;;\n        // Your token Gateway\n        private static final String CLIENT_SECRET = &quot;Client&quot;;\n        // Gateway URL\n        private static final String URL_GATEWAY = &quot;URL Whatsapp Gateway&quot;; \n        //Main method\n        public static void main(String[] args) throws Exception {\n            // Whatsapp number\n            String number = &quot;81275704515&quot;;  \n            // Whatsapp message\n            String message = &quot;Test WhatsApp message&quot;; \n            sendwhatsapp(number, message);\n        }\n\n    public static void sendwhatsapp(String number, String message) {\n\n        String payload = &quot;{ Number: &quot; + number + &quot; | Message: &quot; + message;\n\n        try {\n            \n            URL url = new URL(URL_GATEWAY);\n            HttpURLConnection conex = (HttpURLConnection) url.openConnection();\n            Post(conex);\n            OutputStream output = conex.getOutputStream();\n            output.write(payload.getBytes());\n            output.flush();\n            output.close();\n\n            int StateCode = conex.getResponseCode();\n            System.out.println(&quot;Request Gateway: \\n&quot;);\n            System.out.println(&quot;State Code: &quot; + StateCode);\n            InputStreamReader Writing = null;\n            BufferedReader br = new BufferedReader(Writing);\n            String outputS;\n            while ((outputS = br.readLine()) != null) {\n                System.out.println(outputS);\n            }\n            conex.disconnect();\n        } catch (Exception e) {\n            System.out.println(&quot;Could not send the message&quot;);\n        }\n    }\n    public static void Post(HttpURLConnection conex) throws ProtocolException {\n        conex.setDoOutput(true);\n        conex.setRequestMethod(&quot;POST&quot;);\n        conex.setRequestProperty(&quot;ID&quot;, ID_CLIENT);\n        conex.setRequestProperty(&quot;CLIENT_SECRET&quot;, CLIENT_SECRET);\n        conex.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    } \n}\n</code></pre>\n<p>I always get response like this:\nRequest Gateway:</p>\n<p>State Code: 500\nCould not send the message</p>\n<p>Kindly need your help. Thank you</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":1,"creation_date":1635808122,"post_id":69803652,"comment_id":123387392,"body_markdown":"There are a few things that you can try: 1- run a thread dump on your application that is throwing the error, it might give exactly what is consuming too much memory; 2 - remove any code from the consumer leave it with just the connection part of it and log everything; 3 - after previous test - check whether the consumer is using any resource and not closing it (such as inputstream/outputstream); start with this and depending on the result you may have better direction","body":"There are a few things that you can try: 1- run a thread dump on your application that is throwing the error, it might give exactly what is consuming too much memory; 2 - remove any code from the consumer leave it with just the connection part of it and log everything; 3 - after previous test - check whether the consumer is using any resource and not closing it (such as inputstream/outputstream); start with this and depending on the result you may have better direction"}],"answers":[{"tags":[],"owner":{"account_id":2967442,"reputation":1681,"user_id":9657108,"display_name":"arunkvelu"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1635823235,"creation_date":1635822802,"answer_id":69805003,"question_id":69803652,"body_markdown":"It is possible to run into out of memory errors when trying to use *Kafka secured endpoint in a non-secure way*. (It is a known issue when wrong security protocol is used or required authentication properties are not passed; OOM error is totally unrelated but it is what it is)\r\n\r\nIn case of Kafka CLI commands, usually, a property file path is passed with the command to provide security related properties.\r\n\r\nFor example:\r\n\r\n    kafka-topics --command-config &lt;String: filename&gt;\r\n    kafka-console-producer --producer.config &lt;String: filename&gt;\r\n    kafka-console-consumer --consumer.config &lt;String: filename&gt;\r\n\r\nGenerally contains,\r\n\r\n    security.protocol=&lt;kafka_security_protocol&gt;\r\n    ssl.truststore.location=&lt;ssl_truststore_filename&gt;\r\n    ssl.truststore.password=&lt;truststore_password&gt;\r\n    ssl.keystore.location=&lt;client_keystore.jks&gt;\r\n    ssl.keystore.password=&lt;password&gt;\r\n    ssl.key.password=&lt;password&gt;\r\n\r\n\r\nFrom the question, I assumed, both producer and consumer components are connecting to the same broker(s) and declared all the required properties to connect to secured broker under **spring.kafka** section in the following example.\r\n\r\n```YAML\r\nspring:\r\n  kafka:\r\n    bootstrap-servers: KAFKA_BOOTSTRAP_SERVER\r\n    security:\r\n      protocol: &quot;SSL&quot;\r\n    ssl:\r\n      trust-store-location: &quot;truststore.jks&quot;\r\n      trust-store-password: &quot;&lt;password&gt;&quot;\r\n      key-store-location: &quot;keystore.jks&quot;\r\n      key-store-password: &quot;&lt;password&gt;&quot;\r\n      key-password: &quot;&lt;password&gt;&quot;\r\n```\r\nIf the producer and consumer are connecting to different broker(s), these properties should be specified under **spring.kafka.producer** and **spring.kafka.consumer** sections respectively.\r\n\r\n```YAML\r\nspring:\r\n  kafka:\r\n    bootstrap-servers: KAFKA_BOOTSTRAP_SERVER\r\n    security:\r\n      protocol: &quot;SSL&quot;\r\nproducer:\r\n  topic: TOPIC\r\n  bootstrap-servers: KAFKA_BOOTSTRAP_SERVER\r\n  ssl.protocol: &quot;SSL&quot;\r\n  ssl.endpoint.identification.algorithm: &quot;https&quot;\r\n  ssl:\r\n    keystore-location: &quot;&lt;keystore.jks&gt;&quot;\r\n    keystore-password: &quot;&lt;password&gt;&quot;\r\nconsumer:\r\n  topic: TOPIC\r\n  auto-offset-reset: &quot;earliest&quot;\r\n  bootstrap-servers: KAFKA_BOOTSTRAP_SERVERS\r\n  ssl.protocol: &quot;SSL&quot;\r\n  ssl.endpoint.identification.algorithm: &quot;https&quot;\r\n  ssl:\r\n    keystore-location: &quot;&lt;keystore.jks&gt;&quot;\r\n    keystore-password: &quot;&lt;password&gt;&quot;\r\n```\r\n\r\nIf there is no client authentication required from the broker side, then the following is a minimal configuration example:\r\n\r\n    security.protocol=SSL\r\n    ssl.truststore.location=&lt;kafka.client.truststore.jks&gt;\r\n    ssl.truststore.password=&lt;password&gt;\r\n\r\nIf client authentication is required, following properties are also needs to be included.\r\n\r\n    ssl.keystore.location=&lt;kafka.client.keystore.jks&gt;\r\n    ssl.keystore.password=&lt;password&gt;\r\n    ssl.key.password=&lt;password&gt;\r\n\r\nPlease note that the property naming convention might differ in Spring Kafka configuration.\r\n\r\nMore details on Kafka security - [Official Doc][1]\r\n\r\n\r\n  [1]: https://kafka.apache.org/documentation/#security_overview","title":"Kafka Consumer throwing &quot;OutOfMemoryError: Java heap space&quot; Error on SSL","body":"<p>It is possible to run into out of memory errors when trying to use <em>Kafka secured endpoint in a non-secure way</em>. (It is a known issue when wrong security protocol is used or required authentication properties are not passed; OOM error is totally unrelated but it is what it is)</p>\n<p>In case of Kafka CLI commands, usually, a property file path is passed with the command to provide security related properties.</p>\n<p>For example:</p>\n<pre><code>kafka-topics --command-config &lt;String: filename&gt;\nkafka-console-producer --producer.config &lt;String: filename&gt;\nkafka-console-consumer --consumer.config &lt;String: filename&gt;\n</code></pre>\n<p>Generally contains,</p>\n<pre><code>security.protocol=&lt;kafka_security_protocol&gt;\nssl.truststore.location=&lt;ssl_truststore_filename&gt;\nssl.truststore.password=&lt;truststore_password&gt;\nssl.keystore.location=&lt;client_keystore.jks&gt;\nssl.keystore.password=&lt;password&gt;\nssl.key.password=&lt;password&gt;\n</code></pre>\n<p>From the question, I assumed, both producer and consumer components are connecting to the same broker(s) and declared all the required properties to connect to secured broker under <strong>spring.kafka</strong> section in the following example.</p>\n<pre><code>spring:\n  kafka:\n    bootstrap-servers: KAFKA_BOOTSTRAP_SERVER\n    security:\n      protocol: &quot;SSL&quot;\n    ssl:\n      trust-store-location: &quot;truststore.jks&quot;\n      trust-store-password: &quot;&lt;password&gt;&quot;\n      key-store-location: &quot;keystore.jks&quot;\n      key-store-password: &quot;&lt;password&gt;&quot;\n      key-password: &quot;&lt;password&gt;&quot;\n</code></pre>\n<p>If the producer and consumer are connecting to different broker(s), these properties should be specified under <strong>spring.kafka.producer</strong> and <strong>spring.kafka.consumer</strong> sections respectively.</p>\n<pre><code>spring:\n  kafka:\n    bootstrap-servers: KAFKA_BOOTSTRAP_SERVER\n    security:\n      protocol: &quot;SSL&quot;\nproducer:\n  topic: TOPIC\n  bootstrap-servers: KAFKA_BOOTSTRAP_SERVER\n  ssl.protocol: &quot;SSL&quot;\n  ssl.endpoint.identification.algorithm: &quot;https&quot;\n  ssl:\n    keystore-location: &quot;&lt;keystore.jks&gt;&quot;\n    keystore-password: &quot;&lt;password&gt;&quot;\nconsumer:\n  topic: TOPIC\n  auto-offset-reset: &quot;earliest&quot;\n  bootstrap-servers: KAFKA_BOOTSTRAP_SERVERS\n  ssl.protocol: &quot;SSL&quot;\n  ssl.endpoint.identification.algorithm: &quot;https&quot;\n  ssl:\n    keystore-location: &quot;&lt;keystore.jks&gt;&quot;\n    keystore-password: &quot;&lt;password&gt;&quot;\n</code></pre>\n<p>If there is no client authentication required from the broker side, then the following is a minimal configuration example:</p>\n<pre><code>security.protocol=SSL\nssl.truststore.location=&lt;kafka.client.truststore.jks&gt;\nssl.truststore.password=&lt;password&gt;\n</code></pre>\n<p>If client authentication is required, following properties are also needs to be included.</p>\n<pre><code>ssl.keystore.location=&lt;kafka.client.keystore.jks&gt;\nssl.keystore.password=&lt;password&gt;\nssl.key.password=&lt;password&gt;\n</code></pre>\n<p>Please note that the property naming convention might differ in Spring Kafka configuration.</p>\n<p>More details on Kafka security - <a href=\"https://kafka.apache.org/documentation/#security_overview\" rel=\"noreferrer\">Official Doc</a></p>\n"}],"owner":{"account_id":14370116,"reputation":403,"user_id":10380101,"display_name":"Bakar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4671,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69805003,"answer_count":1,"score":2,"last_activity_date":1635823235,"creation_date":1635807592,"question_id":69803652,"body_markdown":"I&#39;m using [Spring-Kafka 2.7.1][1] in a spring boot project. \r\n\r\nWhen I connect it to a SSL-configured Kafka Broker it gives a &quot;OutofMemory&quot; Error as below even though I have increased Heap Size multiple times to no avail.\r\n\r\n**Log Below** : \r\n```\r\njava.lang.OutOfMemoryError: Java heap space\\\r\n\tat java.base/java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:61) ~[na:na]\\\r\n\tat java.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:348) ~[na:na]\\\r\n\tat org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:447) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:397) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.common.network.Selector.poll(Selector.java:481) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:563) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:245) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:480) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1257) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1226) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1206) ~[kafka-clients-2.7.1.jar!/:na]\\\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1414) ~[spring-kafka-2.7.7.jar!/:2.7.7]\\\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1251) ~[spring-kafka-2.7.7.jar!/:2.7.7]\\\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1163) ~[spring-kafka-2.7.7.jar!/:2.7.7]\\\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\\\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\\\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\\\r\n```\r\n\r\n\r\nMy Current YAML configuration is as below:\r\n```yaml\r\nspring:\r\n  kafka:\r\n    bootstrap-servers: KAFKA_BOOTSTRAP_SERVER\r\n    security:\r\n      protocol: &quot;SSL&quot;\r\n  consumer:\r\n    auto-offset-reset: earliest\r\nproducer:\r\n  topic: TOPIC\r\n  bootstrap-servers: KAFKA_BOOTSTRAP_SERVER\r\nconsumer:\r\n  topic: TOPIC\r\n  bootstrap-servers: KAFKA_BOOTSTRAP_SERVERS\r\n```\r\n\r\nIt works as expected when connected to a NON-SSL Kafka Broker. \r\n\r\nI have tested all other possiblities and singled out that it&#39;s related to the SSL configuration of the client. \r\n\r\n  [1]: https://spring.io/projects/spring-kafka","title":"Kafka Consumer throwing &quot;OutOfMemoryError: Java heap space&quot; Error on SSL","body":"<p>I'm using <a href=\"https://spring.io/projects/spring-kafka\" rel=\"nofollow noreferrer\">Spring-Kafka 2.7.1</a> in a spring boot project.</p>\n<p>When I connect it to a SSL-configured Kafka Broker it gives a &quot;OutofMemory&quot; Error as below even though I have increased Heap Size multiple times to no avail.</p>\n<p><strong>Log Below</strong> :</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space\\\n    at java.base/java.nio.HeapByteBuffer.&lt;init&gt;(HeapByteBuffer.java:61) ~[na:na]\\\n    at java.base/java.nio.ByteBuffer.allocate(ByteBuffer.java:348) ~[na:na]\\\n    at org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:447) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:397) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.common.network.Selector.poll(Selector.java:481) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:563) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:215) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureCoordinatorReady(AbstractCoordinator.java:245) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:480) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.clients.consumer.KafkaConsumer.updateAssignmentMetadataIfNeeded(KafkaConsumer.java:1257) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1226) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1206) ~[kafka-clients-2.7.1.jar!/:na]\\\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1414) ~[spring-kafka-2.7.7.jar!/:2.7.7]\\\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1251) ~[spring-kafka-2.7.7.jar!/:2.7.7]\\\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1163) ~[spring-kafka-2.7.7.jar!/:2.7.7]\\\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\\\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\\\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\\\n</code></pre>\n<p>My Current YAML configuration is as below:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  kafka:\n    bootstrap-servers: KAFKA_BOOTSTRAP_SERVER\n    security:\n      protocol: &quot;SSL&quot;\n  consumer:\n    auto-offset-reset: earliest\nproducer:\n  topic: TOPIC\n  bootstrap-servers: KAFKA_BOOTSTRAP_SERVER\nconsumer:\n  topic: TOPIC\n  bootstrap-servers: KAFKA_BOOTSTRAP_SERVERS\n</code></pre>\n<p>It works as expected when connected to a NON-SSL Kafka Broker.</p>\n<p>I have tested all other possiblities and singled out that it's related to the SSL configuration of the client.</p>\n"},{"tags":["java","antlr","antlr4"],"comments":[{"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":1,"creation_date":1635831870,"post_id":69804991,"comment_id":123391047,"body_markdown":"There is a rule before your `|` rule that too matches the pipe char. Similar to this: https://stackoverflow.com/questions/31254455/antlr-mismatched-input","body":"There is a rule before your <code>|</code> rule that too matches the pipe char. Similar to this: <a href=\"https://stackoverflow.com/questions/31254455/antlr-mismatched-input\" title=\"antlr mismatched input\">stackoverflow.com/questions/31254455/antlr-mismatched-input</a>"}],"owner":{"account_id":11306940,"reputation":147,"user_id":8291259,"accept_rate":100,"display_name":"Largecooler21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1635835520,"answer_count":0,"score":1,"last_activity_date":1635822689,"creation_date":1635822689,"question_id":69804991,"body_markdown":"this may be a very simple question but I am struggling heavily just matching the pipe character in my Grammar File. My grammar involves the following:\r\n```\r\npipeCommand : call (PIPE call)+\r\n            ;\r\n```\r\nwhere `call` can match any string not including &#39;|&#39;. I have also defined PIPE as:\r\n```\r\nPIPE : &#39;|&#39;;\r\n```\r\nWhen testing my the grammar using with the input `echo | test`, I receive the error:\r\n```\r\nline 1:5 mismatched input &#39;|&#39; expecting &#39;|&#39;\r\n```\r\nI am unable to find anything so far to solve the problem. Is this a problem with lexing modes or I am completely wrong?\r\nMany thanks in advance.","title":"Reading and Parsing PIPE using Antlr","body":"<p>this may be a very simple question but I am struggling heavily just matching the pipe character in my Grammar File. My grammar involves the following:</p>\n<pre><code>pipeCommand : call (PIPE call)+\n            ;\n</code></pre>\n<p>where <code>call</code> can match any string not including '|'. I have also defined PIPE as:</p>\n<pre><code>PIPE : '|';\n</code></pre>\n<p>When testing my the grammar using with the input <code>echo | test</code>, I receive the error:</p>\n<pre><code>line 1:5 mismatched input '|' expecting '|'\n</code></pre>\n<p>I am unable to find anything so far to solve the problem. Is this a problem with lexing modes or I am completely wrong?\nMany thanks in advance.</p>\n"},{"tags":["java","laravel","api","authentication"],"answers":[{"tags":[],"owner":{"account_id":3444080,"reputation":1242,"user_id":4224511,"display_name":"Zrelli Majdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635822557,"creation_date":1635822557,"answer_id":69804977,"question_id":69804376,"body_markdown":"Use digitalocean space as additional shared storage between two servers (php and java) then make storage access private using digitalocean dashboard and finally add new website cors on space settings has your java domain and its http verbs (get post delete...). With this configuration you could access your cloud storage between two servers safely using access key and secret key. ","title":"How to access files in Laravel storage from a third part application (a Java app for instance) with some basic password protection/authentication?","body":"<p>Use digitalocean space as additional shared storage between two servers (php and java) then make storage access private using digitalocean dashboard and finally add new website cors on space settings has your java domain and its http verbs (get post delete...). With this configuration you could access your cloud storage between two servers safely using access key and secret key.</p>\n"}],"owner":{"account_id":23211027,"reputation":19,"user_id":17304471,"display_name":"Ash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1635822557,"creation_date":1635815425,"question_id":69804376,"body_markdown":"I have been working with Laravel for a little less than a month; so, not aware of all the pre-defined functionality it has to offer. I have a bunch of CSV files in my Laravel application storage and I want to access them from another application (a Java application that processes those CSV files to produce some results).\r\n\r\nWhat would be the best way to go about it?\r\n\r\nI have a basic user management system set up and the users fill in an application form (which is where the csv files come from). These files are stored in the Laravel storage.\r\n\r\nMy current approach without using any built-in authentication (because I am not confident about how to use it in this case) is to have a controller return a downloadable file on a POST request (the file just gets downloaded upon request). The data sent with the POST request is the filename and a password, which if correct, returns the file; otherwise, gives an error. Is this a good way to approach the problem?\r\n\r\nI simply want to retrieve the files by making a request from the Java application. Also, some basic protection is required so that everyone cannot access the files by making such requests. Any help or resources would be helpful. Thanks! ","title":"How to access files in Laravel storage from a third part application (a Java app for instance) with some basic password protection/authentication?","body":"<p>I have been working with Laravel for a little less than a month; so, not aware of all the pre-defined functionality it has to offer. I have a bunch of CSV files in my Laravel application storage and I want to access them from another application (a Java application that processes those CSV files to produce some results).</p>\n<p>What would be the best way to go about it?</p>\n<p>I have a basic user management system set up and the users fill in an application form (which is where the csv files come from). These files are stored in the Laravel storage.</p>\n<p>My current approach without using any built-in authentication (because I am not confident about how to use it in this case) is to have a controller return a downloadable file on a POST request (the file just gets downloaded upon request). The data sent with the POST request is the filename and a password, which if correct, returns the file; otherwise, gives an error. Is this a good way to approach the problem?</p>\n<p>I simply want to retrieve the files by making a request from the Java application. Also, some basic protection is required so that everyone cannot access the files by making such requests. Any help or resources would be helpful. Thanks!</p>\n"},{"tags":["java","production-environment","production","asdf-vm"],"answers":[{"tags":[],"owner":{"account_id":1972872,"reputation":531,"user_id":1771375,"display_name":"Lakshan Dissanayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1618639732,"creation_date":1618639732,"answer_id":67135222,"question_id":67074860,"body_markdown":"To use java which is provided by asdf, I had to locate the installation dir of the specified version and set the environment variable in the service configuration.\r\n\r\nget the installation location\r\n```sh\r\nasdf where java openjdk-15.0.2\r\n```\r\nand then set the path as an environmental variable\r\n```\r\nEnvironment=&quot;JAVA_HOME=/home/ubuntu/.asdf/installs/java/openjdk-15.0.2&quot;\r\nExecStart=/home/ubuntu/server/bin/server\r\n```","title":"how to use asdf-vm on production environment","body":"<p>To use java which is provided by asdf, I had to locate the installation dir of the specified version and set the environment variable in the service configuration.</p>\n<p>get the installation location</p>\n<pre class=\"lang-sh prettyprint-override\"><code>asdf where java openjdk-15.0.2\n</code></pre>\n<p>and then set the path as an environmental variable</p>\n<pre><code>Environment=&quot;JAVA_HOME=/home/ubuntu/.asdf/installs/java/openjdk-15.0.2&quot;\nExecStart=/home/ubuntu/server/bin/server\n</code></pre>\n"}],"owner":{"account_id":1972872,"reputation":531,"user_id":1771375,"display_name":"Lakshan Dissanayake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67135222,"answer_count":1,"score":0,"last_activity_date":1635822020,"creation_date":1618316806,"question_id":67074860,"body_markdown":"I need to set up my java application on the server. is there any way to set up the java environment on production which is provided by asdf?","title":"how to use asdf-vm on production environment","body":"<p>I need to set up my java application on the server. is there any way to set up the java environment on production which is provided by asdf?</p>\n"},{"tags":["java","spring-cloud","grafana","spring-cloud-sleuth","zipkin"],"comments":[{"owner":{"account_id":18964319,"reputation":139,"user_id":13839097,"display_name":"Li Ziyan"},"score":0,"creation_date":1644579419,"post_id":66164971,"comment_id":125649762,"body_markdown":"have you figured this out? I am confused as well.","body":"have you figured this out? I am confused as well."},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1644586371,"post_id":66164971,"comment_id":125652298,"body_markdown":"Unfortunately, still hoping for someone to enlighten on this :)","body":"Unfortunately, still hoping for someone to enlighten on this :)"},{"owner":{"account_id":18964319,"reputation":139,"user_id":13839097,"display_name":"Li Ziyan"},"score":0,"creation_date":1644828593,"post_id":66164971,"comment_id":125700066,"body_markdown":"try skywalking as tracing receiver, it has some out-of-the-box metrics such as p99, average resp time etc.","body":"try skywalking as tracing receiver, it has some out-of-the-box metrics such as p99, average resp time etc."},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1644834939,"post_id":66164971,"comment_id":125702237,"body_markdown":"Thanks! I agree there might be over better solutions out there, but I just want to figure out how to get those Zipkin metrics!","body":"Thanks! I agree there might be over better solutions out there, but I just want to figure out how to get those Zipkin metrics!"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635821745,"creation_date":1613090087,"question_id":66164971,"body_markdown":"Small question regarding Spring Webflux project, with Spring Cloud please.\r\n\r\nIn my small Spring Webflux app, I am currently using\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI see the traces fine in m Zipkin server, very happy.\r\n\r\nBut I was also expecting to be able to get some metrics, such as\r\n\r\n```\r\nzipkin_collector_messages_total\r\nzipkin_collector_bytes_total\r\nzipkin_collector_spans_total\r\nzipkin_collector_spans_dropped_total\r\nzipkin_collector_messages_dropped_total\r\n\r\nhistogram_quantile(0.9, http_server_requests_seconds_bucket{method=&quot;POST&quot;,uri=&quot;/api/v2/spans&quot;})\r\n```\r\n\r\nHowever, while I am seeing the traces in Zipkin server, and &quot;some&quot; zipkin metrics, such as ```zipkin_reporter_spans_total``` I am not getting Zipkin related metrics at all.\r\n\r\nMay I ask how to get above mentioned metrics please?\r\n\r\nThank you","title":"Spring Webflux 2.5.x + Spring Cloud + Zipkin: Not able to get Zipkin metrics","body":"<p>Small question regarding Spring Webflux project, with Spring Cloud please.</p>\n<p>In my small Spring Webflux app, I am currently using</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I see the traces fine in m Zipkin server, very happy.</p>\n<p>But I was also expecting to be able to get some metrics, such as</p>\n<pre><code>zipkin_collector_messages_total\nzipkin_collector_bytes_total\nzipkin_collector_spans_total\nzipkin_collector_spans_dropped_total\nzipkin_collector_messages_dropped_total\n\nhistogram_quantile(0.9, http_server_requests_seconds_bucket{method=&quot;POST&quot;,uri=&quot;/api/v2/spans&quot;})\n</code></pre>\n<p>However, while I am seeing the traces in Zipkin server, and &quot;some&quot; zipkin metrics, such as <code>zipkin_reporter_spans_total</code> I am not getting Zipkin related metrics at all.</p>\n<p>May I ask how to get above mentioned metrics please?</p>\n<p>Thank you</p>\n"},{"tags":["java","jvm","instrumentation","java-bytecode-asm","javaagents"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1596410609,"post_id":63216849,"comment_id":111795358,"body_markdown":"You can&#39;t use an object before it&#39;s constructor is called in any way, shape or form.","body":"You can&#39;t use an object before it&#39;s constructor is called in any way, shape or form."},{"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"score":0,"creation_date":1596423769,"post_id":63216849,"comment_id":111797611,"body_markdown":"I think I did not do that. BTW, I found the problem is caused by my instrumentation around `PUTFIELD`, but I have no idea why it throws error since the SubnetInfo&#39;s constructor seems to have no operation to modify any field. I guess maybe it is because of some hidden features for inner class initialization?","body":"I think I did not do that. BTW, I found the problem is caused by my instrumentation around <code>PUTFIELD</code>, but I have no idea why it throws error since the SubnetInfo&#39;s constructor seems to have no operation to modify any field. I guess maybe it is because of some hidden features for inner class initialization?"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":2,"creation_date":1596446633,"post_id":63216849,"comment_id":111803813,"body_markdown":"*&quot;SubnetInfo&#39;s constructor seems to have no operation to modify any field&quot;* - It does. Look at the bytecode.","body":"<i>&quot;SubnetInfo&#39;s constructor seems to have no operation to modify any field&quot;</i> - It does. Look at the bytecode."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1596453285,"post_id":63216849,"comment_id":111806481,"body_markdown":"There is no special process to initialize an inner class. `putfield` instructions are allowed to appear before the invocation of the super constructor, a place where you are not allowed to pass the uninitialized this reference to a static method. The likelihood of encountering such `putfield` instructions is higher for inner classes because they initialize their field holding the outer this reference before invoking the super constructor. But byte code instrumentation code should be prepared for this possibility *in general*.","body":"There is no special process to initialize an inner class. <code>putfield</code> instructions are allowed to appear before the invocation of the super constructor, a place where you are not allowed to pass the uninitialized this reference to a static method. The likelihood of encountering such <code>putfield</code> instructions is higher for inner classes because they initialize their field holding the outer this reference before invoking the super constructor. But byte code instrumentation code should be prepared for this possibility <i>in general</i>."}],"answers":[{"tags":[],"owner":{"account_id":23211751,"reputation":1,"user_id":17305096,"display_name":"eric3100"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635820981,"creation_date":1635820981,"answer_id":69804836,"question_id":63216849,"body_markdown":"inner class will call init function of this firstly.It&#39;s different from common class constructor.you must assign this to var after init operation.\r\n\r\n     public org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile(javax.servlet.http.Part, java.lang.String);\r\n    flags: ACC_PUBLIC\r\n    Code:\r\n      stack=2, locals=3, args_size=3\r\n         0: aload_0\r\n         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n         4: aload_0","title":"In the byte code level, what is the process to initialize an java inner class?","body":"<p>inner class will call init function of this firstly.It's different from common class constructor.you must assign this to var after init operation.</p>\n<pre><code> public org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile(javax.servlet.http.Part, java.lang.String);\nflags: ACC_PUBLIC\nCode:\n  stack=2, locals=3, args_size=3\n     0: aload_0\n     1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n     4: aload_0\n</code></pre>\n"}],"owner":{"account_id":15931656,"reputation":2714,"user_id":11495796,"display_name":"Instein"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635820981,"creation_date":1596376688,"question_id":63216849,"body_markdown":"I wrote a java agent to instrument an open-source benchmark `commons-net`. But I got the following errors:\r\n\r\n```java\r\njava.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    org/apache/commons/net/util/SubnetUtils$SubnetInfo.&lt;init&gt;(Lorg/apache/commons/net/util/SubnetUtils;)V @9: invokestatic\r\n  Reason:\r\n    Type uninitializedThis (current frame, stack[2]) is not assignable to &#39;java/lang/Object&#39;\r\n  Current Frame:\r\n    bci: @9\r\n    flags: { flagThisUninit }\r\n    locals: { uninitializedThis, &#39;org/apache/commons/net/util/SubnetUtils&#39; }\r\n    stack: { &#39;org/apache/commons/net/util/SubnetUtils&#39;, uninitializedThis, uninitializedThis }\r\n  Bytecode:\r\n    0x0000000: 12ca b800 cf2a 2b5f 59b8 00d3 5fb5 0002\r\n    0x0000010: 2ab7 0003 b800 d6b1                    \r\n\r\n    at...\r\n``` \r\nand\r\n```java\r\nException in thread &quot;Thread-1&quot; java.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    org/apache/commons/net/tftp/TFTPServer$TFTPTransfer.&lt;init&gt;(Lorg/apache/commons/net/tftp/TFTPServer;Lorg/apache/commons/net/tftp/TFTPPacket;)V @10: invokestatic\r\n  Reason:\r\n    Type uninitializedThis (current frame, stack[2]) is not assignable to &#39;java/lang/Object&#39;\r\n  Current Frame:\r\n    bci: @10\r\n    flags: { flagThisUninit }\r\n    locals: { uninitializedThis, &#39;org/apache/commons/net/tftp/TFTPServer&#39;, &#39;org/apache/commons/net/tftp/TFTPPacket&#39; }\r\n    stack: { &#39;org/apache/commons/net/tftp/TFTPServer&#39;, uninitializedThis, uninitializedThis }\r\n  Bytecode:\r\n    0x0000000: 1301 84b8 0189 2a2b 5f59 b801 8d5f b500\r\n    0x0000010: 012a b700 022a 035f 59b8 018d 5fb5 0003\r\n    0x0000020: 2a01 5f59 b801 8d5f b500 042a 2c5f 59b8\r\n    0x0000030: 018d 5fb5 0005 b801 90b1   \r\n\r\n    at...\r\n```\r\nWhat is interesting is that these two errors are both thrown in an inner class and the stack frames are very similar. I guess it just happens when the inner class is being initialized because I see `uninitializedThis` in the stack.\r\n\r\nMy MethodVisitor adapter is very long and complicated so I did not post it here. I use it to tracing the event of `method_start`, `method_end`, `new_object`, `object_modify`, `PUTFIELD`, `PUTSTATIC`, etc. I need to record the modified object and new object by calling `INVOKESTATIC` to one of my methods. I comment the inserted instruction `DUP` and `INVOKESTATIC` after the `NEW`, but it still report the same error. I think if I can know how the inner class is initialized, debugging would be much easier.\r\n\r\nThe source code of those two `&lt;init&gt;` method:\r\n```java\r\npublic class SubnetUtils {\r\n    ...\r\n    public final class SubnetInfo {\r\n        /* Mask to convert unsigned int to a long (i.e. keep 32 bits) */\r\n        private static final long UNSIGNED_INT_MASK = 0x0FFFFFFFFL;\r\n\r\n        private SubnetInfo() {}\r\n        ...\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\n```java\r\npublic class TFTPServer implements Runnable\r\n{\r\n    ...\r\n    private class TFTPTransfer implements Runnable\r\n    {\r\n        private final TFTPPacket tftpPacket_;\r\n\r\n        private boolean shutdownTransfer = false;\r\n\r\n        TFTP transferTftp_ = null;\r\n\r\n        public TFTPTransfer(TFTPPacket tftpPacket)\r\n        {\r\n            tftpPacket_ = tftpPacket;\r\n        }\r\n        ...\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\n\r\n----------\r\nI have located the buggy code in my MethodVisitor Adapter class. I mean, when I comment those code, it seems the error is gone. But I still have no idea why this error happened. The `SubnetInfo`&#39;s constructor seems to have no operation to modify any field. I guess maybe it is because of some hidden features for inner class initialization?\r\n```java\r\n    public void visitFieldInsn(int opc, String owner, String name, String desc){\r\n        // Access Static Fields\r\n        if ((opc == GETSTATIC || opc == PUTSTATIC) &amp;&amp; shouldIncludeClass(owner)){\r\n            mv.visitLdcInsn(owner);\r\n            mv.visitMethodInsn(INVOKESTATIC, MyClass, MyMethod,\r\n                    &quot;(Ljava/lang/String;)V&quot;, false);\r\n        }\r\n\r\n        if (...){\r\n            if (opc == PUTFIELD){\r\n                Type t = Type.getType(desc);\r\n                if (t.getSize() == 2){\r\n                    mv.visitInsn(DUP2_X1);\r\n                    mv.visitInsn(POP2);\r\n                }else {\r\n                    mv.visitInsn(SWAP);\r\n                }\r\n                mv.visitInsn(DUP);\r\n                mv.visitMethodInsn(INVOKESTATIC, MyClass,\r\n                        MyClass.TRACE_OBJ_MODIFY, &quot;(Ljava/lang/Object;)V&quot;, false);\r\n                if (t.getSize() == 2){\r\n                    mv.visitInsn(DUP_X2);\r\n                    mv.visitInsn(POP);\r\n                }else {\r\n                    mv.visitInsn(SWAP);\r\n                }\r\n            }else if (opc == PUTSTATIC){\r\n                mv.visitMethodInsn(INVOKESTATIC, MyClass,\r\n                        MyClass.TRACE_PUTSTATIC, &quot;()V&quot;, false);\r\n            }\r\n        }\r\n        mv.visitFieldInsn(opc, owner, name, desc);\r\n    }\r\n```\r\n\r\n\r\n----------\r\nI have traced only one `PUTFIELD` instruction in `SubnetInfo`&#39;s constructor. In my log:\r\n```\r\nTransform: org/apache/commons/net/util/SubnetUtils$SubnetInfo\r\n**** PUTFIELD found ****\r\n**** className org/apache/commons/net/util/SubnetUtils$SubnetInfo ****\r\n**** methodName &lt;init&gt; ****\r\n**** opc PUTFIELD ****\r\n**** owner org/apache/commons/net/util/SubnetUtils$SubnetInfo ****\r\n**** name this$0 ****\r\n**** desc Lorg/apache/commons/net/util/SubnetUtils; ****\r\n```\r\nWhat does this `PUTFIELD` instruction mean? Putting the object of the outer class to the field `this$0` of the inner class? Is there any approach to identify the initialization of the inner class?","title":"In the byte code level, what is the process to initialize an java inner class?","body":"<p>I wrote a java agent to instrument an open-source benchmark <code>commons-net</code>. But I got the following errors:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/apache/commons/net/util/SubnetUtils$SubnetInfo.&lt;init&gt;(Lorg/apache/commons/net/util/SubnetUtils;)V @9: invokestatic\n  Reason:\n    Type uninitializedThis (current frame, stack[2]) is not assignable to 'java/lang/Object'\n  Current Frame:\n    bci: @9\n    flags: { flagThisUninit }\n    locals: { uninitializedThis, 'org/apache/commons/net/util/SubnetUtils' }\n    stack: { 'org/apache/commons/net/util/SubnetUtils', uninitializedThis, uninitializedThis }\n  Bytecode:\n    0x0000000: 12ca b800 cf2a 2b5f 59b8 00d3 5fb5 0002\n    0x0000010: 2ab7 0003 b800 d6b1                    \n\n    at...\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception in thread &quot;Thread-1&quot; java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    org/apache/commons/net/tftp/TFTPServer$TFTPTransfer.&lt;init&gt;(Lorg/apache/commons/net/tftp/TFTPServer;Lorg/apache/commons/net/tftp/TFTPPacket;)V @10: invokestatic\n  Reason:\n    Type uninitializedThis (current frame, stack[2]) is not assignable to 'java/lang/Object'\n  Current Frame:\n    bci: @10\n    flags: { flagThisUninit }\n    locals: { uninitializedThis, 'org/apache/commons/net/tftp/TFTPServer', 'org/apache/commons/net/tftp/TFTPPacket' }\n    stack: { 'org/apache/commons/net/tftp/TFTPServer', uninitializedThis, uninitializedThis }\n  Bytecode:\n    0x0000000: 1301 84b8 0189 2a2b 5f59 b801 8d5f b500\n    0x0000010: 012a b700 022a 035f 59b8 018d 5fb5 0003\n    0x0000020: 2a01 5f59 b801 8d5f b500 042a 2c5f 59b8\n    0x0000030: 018d 5fb5 0005 b801 90b1   \n\n    at...\n</code></pre>\n<p>What is interesting is that these two errors are both thrown in an inner class and the stack frames are very similar. I guess it just happens when the inner class is being initialized because I see <code>uninitializedThis</code> in the stack.</p>\n<p>My MethodVisitor adapter is very long and complicated so I did not post it here. I use it to tracing the event of <code>method_start</code>, <code>method_end</code>, <code>new_object</code>, <code>object_modify</code>, <code>PUTFIELD</code>, <code>PUTSTATIC</code>, etc. I need to record the modified object and new object by calling <code>INVOKESTATIC</code> to one of my methods. I comment the inserted instruction <code>DUP</code> and <code>INVOKESTATIC</code> after the <code>NEW</code>, but it still report the same error. I think if I can know how the inner class is initialized, debugging would be much easier.</p>\n<p>The source code of those two <code>&lt;init&gt;</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SubnetUtils {\n    ...\n    public final class SubnetInfo {\n        /* Mask to convert unsigned int to a long (i.e. keep 32 bits) */\n        private static final long UNSIGNED_INT_MASK = 0x0FFFFFFFFL;\n\n        private SubnetInfo() {}\n        ...\n    }\n    ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class TFTPServer implements Runnable\n{\n    ...\n    private class TFTPTransfer implements Runnable\n    {\n        private final TFTPPacket tftpPacket_;\n\n        private boolean shutdownTransfer = false;\n\n        TFTP transferTftp_ = null;\n\n        public TFTPTransfer(TFTPPacket tftpPacket)\n        {\n            tftpPacket_ = tftpPacket;\n        }\n        ...\n    }\n    ...\n}\n</code></pre>\n<hr />\n<p>I have located the buggy code in my MethodVisitor Adapter class. I mean, when I comment those code, it seems the error is gone. But I still have no idea why this error happened. The <code>SubnetInfo</code>'s constructor seems to have no operation to modify any field. I guess maybe it is because of some hidden features for inner class initialization?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void visitFieldInsn(int opc, String owner, String name, String desc){\n        // Access Static Fields\n        if ((opc == GETSTATIC || opc == PUTSTATIC) &amp;&amp; shouldIncludeClass(owner)){\n            mv.visitLdcInsn(owner);\n            mv.visitMethodInsn(INVOKESTATIC, MyClass, MyMethod,\n                    &quot;(Ljava/lang/String;)V&quot;, false);\n        }\n\n        if (...){\n            if (opc == PUTFIELD){\n                Type t = Type.getType(desc);\n                if (t.getSize() == 2){\n                    mv.visitInsn(DUP2_X1);\n                    mv.visitInsn(POP2);\n                }else {\n                    mv.visitInsn(SWAP);\n                }\n                mv.visitInsn(DUP);\n                mv.visitMethodInsn(INVOKESTATIC, MyClass,\n                        MyClass.TRACE_OBJ_MODIFY, &quot;(Ljava/lang/Object;)V&quot;, false);\n                if (t.getSize() == 2){\n                    mv.visitInsn(DUP_X2);\n                    mv.visitInsn(POP);\n                }else {\n                    mv.visitInsn(SWAP);\n                }\n            }else if (opc == PUTSTATIC){\n                mv.visitMethodInsn(INVOKESTATIC, MyClass,\n                        MyClass.TRACE_PUTSTATIC, &quot;()V&quot;, false);\n            }\n        }\n        mv.visitFieldInsn(opc, owner, name, desc);\n    }\n</code></pre>\n<hr />\n<p>I have traced only one <code>PUTFIELD</code> instruction in <code>SubnetInfo</code>'s constructor. In my log:</p>\n<pre><code>Transform: org/apache/commons/net/util/SubnetUtils$SubnetInfo\n**** PUTFIELD found ****\n**** className org/apache/commons/net/util/SubnetUtils$SubnetInfo ****\n**** methodName &lt;init&gt; ****\n**** opc PUTFIELD ****\n**** owner org/apache/commons/net/util/SubnetUtils$SubnetInfo ****\n**** name this$0 ****\n**** desc Lorg/apache/commons/net/util/SubnetUtils; ****\n</code></pre>\n<p>What does this <code>PUTFIELD</code> instruction mean? Putting the object of the outer class to the field <code>this$0</code> of the inner class? Is there any approach to identify the initialization of the inner class?</p>\n"},{"tags":["java","swing","jframe","mouselistener"],"comments":[{"owner":{"account_id":16940465,"reputation":65,"user_id":12252434,"display_name":"TrumpetFace"},"score":0,"creation_date":1635805793,"post_id":69803367,"comment_id":123386905,"body_markdown":"Seems like you probably need to listen for mouse events with a MouseListener and then use the mouseReleased() method together with some smart logic to check whether the user is resizing or not","body":"Seems like you probably need to listen for mouse events with a MouseListener and then use the mouseReleased() method together with some smart logic to check whether the user is resizing or not"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1635806924,"post_id":69803367,"comment_id":123387162,"body_markdown":"You won&#39;t capture the mouse events for the frame borders, as it&#39;s, generally, beyond  your scope (handled at a much lower level).  What I tend to do is use a single run Swing `Timer` set to a small amount of time (&lt; 250 milliseconds) which gets restarted each time `componentResized` is called.  So it will only trigger when `componentResized` stops been called, after a shortish delay","body":"You won&#39;t capture the mouse events for the frame borders, as it&#39;s, generally, beyond  your scope (handled at a much lower level).  What I tend to do is use a single run Swing <code>Timer</code> set to a small amount of time (&lt; 250 milliseconds) which gets restarted each time <code>componentResized</code> is called.  So it will only trigger when <code>componentResized</code> stops been called, after a shortish delay"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1635813326,"post_id":69803367,"comment_id":123388293,"body_markdown":"*I am trying to capture the moment a user finished resizing a jframe* - check out: https://stackoverflow.com/questions/20925193/using-componentadapter-to-determine-when-frame-resize-is-finished/20926024#20926024. The resized event will only be generated when the mouse is released. However, the frame will not be repainted while you are dragging so you see a black background.","body":"<i>I am trying to capture the moment a user finished resizing a jframe</i> - check out: <a href=\"https://stackoverflow.com/questions/20925193/using-componentadapter-to-determine-when-frame-resize-is-finished/20926024#20926024\" title=\"using componentadapter to determine when frame resize is finished\">stackoverflow.com/questions/20925193/&hellip;</a>. The resized event will only be generated when the mouse is released. However, the frame will not be repainted while you are dragging so you see a black background."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1635820748,"post_id":69803367,"comment_id":123389419,"body_markdown":"*&quot;I am trying to capture the moment a user **finished** resizing a `JFrame` through the mouse drag of a frame corner.&quot;* . . . ***Why?*** What application feature are you hoping to implement based on that knowledge? See also [What is the XY problem?](https://meta.stackexchange.com/q/66377/155831)","body":"<i>&quot;I am trying to capture the moment a user <b>finished</b> resizing a <code>JFrame</code> through the mouse drag of a frame corner.&quot;</i> . . . <b><i>Why?</i></b> What application feature are you hoping to implement based on that knowledge? See also <a href=\"https://meta.stackexchange.com/q/66377/155831\">What is the XY problem?</a>"},{"owner":{"account_id":1537036,"reputation":1430,"user_id":1432779,"accept_rate":59,"display_name":"Alon_T"},"score":1,"creation_date":1635861969,"post_id":69803367,"comment_id":123401687,"body_markdown":"@camickr - exactly what I needed. Works like charm. Thanks!!!","body":"@camickr - exactly what I needed. Works like charm. Thanks!!!"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635809724,"creation_date":1635809724,"answer_id":69803870,"question_id":69803367,"body_markdown":"The core problem is, you&#39;re unlikely to be able to detect when a mouse event occurs on the frame decorations, as it tends to be handled at a much lower level.\r\n\r\nOne trick I&#39;ve used in the past, is to use a short lived, single run, Swing `Timer`, which is restarted each time `componentResized` is called.  This means that the `Timer` will only trigger AFTER a &quot;short delay&quot; after `componentResized` stops been called, for example\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private JLabel label;\r\n            private Timer resizeTimer;\r\n\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                label = new JLabel(&quot;.......&quot;);\r\n                add(label);\r\n                addComponentListener(new ComponentAdapter() {\r\n                    @Override\r\n                    public void componentResized(ComponentEvent e) {\r\n                        if (resizeTimer == null) {\r\n                            resizeTimer = new Timer(250, new ActionListener() {\r\n                                @Override\r\n                                public void actionPerformed(ActionEvent e) {\r\n                                    label.setText(getSize().width + &quot;x&quot; + getSize().getHeight());\r\n                                    resizeTimer.stop();\r\n                                    resizeTimer = null;\r\n                                }\r\n                            });\r\n                            resizeTimer.setRepeats(false);\r\n                        }\r\n                        resizeTimer.restart();\r\n                    }\r\n                });\r\n            }\r\n\r\n        }\r\n    }\r\n","title":"Capture JFrame resize only once, when mouse is released","body":"<p>The core problem is, you're unlikely to be able to detect when a mouse event occurs on the frame decorations, as it tends to be handled at a much lower level.</p>\n<p>One trick I've used in the past, is to use a short lived, single run, Swing <code>Timer</code>, which is restarted each time <code>componentResized</code> is called.  This means that the <code>Timer</code> will only trigger AFTER a &quot;short delay&quot; after <code>componentResized</code> stops been called, for example</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private JLabel label;\n        private Timer resizeTimer;\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            label = new JLabel(&quot;.......&quot;);\n            add(label);\n            addComponentListener(new ComponentAdapter() {\n                @Override\n                public void componentResized(ComponentEvent e) {\n                    if (resizeTimer == null) {\n                        resizeTimer = new Timer(250, new ActionListener() {\n                            @Override\n                            public void actionPerformed(ActionEvent e) {\n                                label.setText(getSize().width + &quot;x&quot; + getSize().getHeight());\n                                resizeTimer.stop();\n                                resizeTimer = null;\n                            }\n                        });\n                        resizeTimer.setRepeats(false);\n                    }\n                    resizeTimer.restart();\n                }\n            });\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1537036,"reputation":1430,"user_id":1432779,"accept_rate":59,"display_name":"Alon_T"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635820645,"creation_date":1635805169,"question_id":69803367,"body_markdown":"I am trying to capture the moment a user *finished* resizing a `JFrame` through the mouse drag of a frame corner. I have so far found the below options, but they both print BLAH again and again until I am done stretching the window size. I only want it to print BLAH once I released the mouse after the continuous dragging of the JFrame corner resizing it. Any thoughts?\r\n\r\n\r\n    \tframe.addComponentListener(new ComponentAdapter() \r\n\t\t{  \r\n\t\t        public void componentResized(ComponentEvent evt) {\r\n\t\t            Component c = (Component)evt.getSource();\r\n\t\t            System.out.println(&quot;BLAH&quot;);\r\n\t\t        }\r\n\t\t});\r\n\r\nAND\r\n\r\n    \t\tframe.addComponentListener(new ComponentListener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void componentShown(ComponentEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void componentResized(ComponentEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\tSystem.out.println(&quot;BLAH&quot;);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void componentMoved(ComponentEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void componentHidden(ComponentEvent e) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n        );","title":"Capture JFrame resize only once, when mouse is released","body":"<p>I am trying to capture the moment a user <em>finished</em> resizing a <code>JFrame</code> through the mouse drag of a frame corner. I have so far found the below options, but they both print BLAH again and again until I am done stretching the window size. I only want it to print BLAH once I released the mouse after the continuous dragging of the JFrame corner resizing it. Any thoughts?</p>\n<pre><code>    frame.addComponentListener(new ComponentAdapter() \n    {  \n            public void componentResized(ComponentEvent evt) {\n                Component c = (Component)evt.getSource();\n                System.out.println(&quot;BLAH&quot;);\n            }\n    });\n</code></pre>\n<p>AND</p>\n<pre><code>        frame.addComponentListener(new ComponentListener() {\n        \n        @Override\n        public void componentShown(ComponentEvent e) {\n            // TODO Auto-generated method stub\n            \n        }\n        \n        @Override\n        public void componentResized(ComponentEvent e) {\n            // TODO Auto-generated method stub\n            System.out.println(&quot;BLAH&quot;);\n            \n        }\n        \n        @Override\n        public void componentMoved(ComponentEvent e) {\n            // TODO Auto-generated method stub\n            \n        }\n        \n        @Override\n        public void componentHidden(ComponentEvent e) {\n            // TODO Auto-generated method stub\n            \n        }\n    }\n    );\n</code></pre>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":23196904,"reputation":45,"user_id":17292410,"display_name":"Jalim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635820221,"creation_date":1635820221,"answer_id":69804769,"question_id":69802741,"body_markdown":"I think this is your error. Here is my link for you. [LINK][1]\r\n\r\nI think you should **delete your JDK and Android Studio.**\r\nRecently, Android Studio program is updated and you don&#39;t need to install JDK separately. In my case, I didn&#39;t have to install JDK separately too when I installed Android Studio. And **re-install Android Studio ONLY!** Don&#39;t install JDK. Because some errors like this are often caused by a duplication of JDK file.\r\n\r\nI want you to like my answer. **Thank you.**\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8238246","title":"Android Studio crashes (no error message)","body":"<p>I think this is your error. Here is my link for you. <a href=\"https://bugs.openjdk.java.net/browse/JDK-8238246\" rel=\"nofollow noreferrer\">LINK</a></p>\n<p>I think you should <strong>delete your JDK and Android Studio.</strong>\nRecently, Android Studio program is updated and you don't need to install JDK separately. In my case, I didn't have to install JDK separately too when I installed Android Studio. And <strong>re-install Android Studio ONLY!</strong> Don't install JDK. Because some errors like this are often caused by a duplication of JDK file.</p>\n<p>I want you to like my answer. <strong>Thank you.</strong></p>\n"}],"owner":{"account_id":23209155,"reputation":11,"user_id":17303000,"display_name":"Daniel Vargas Avila"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635820221,"creation_date":1635800526,"question_id":69802741,"body_markdown":"I&#39;m on x64 Windows 10 pro) I downloaded the latest version of JDK and Android Studio, wanted to learn how to build android apps, until the setup and managing SDK and AVD everything was fine, I created a new Hello World project and it started to download some stuff and it suddenly crashed, now when I start Android studio it opens normally but crashes when it finishes indexing files, there is no error message, it just closes. I tried running as administrator, created a new JAVA_HOME variable but that didn&#39;t work either. I realized every time i run AS a new file like this is created under my user directory:\r\n\r\n**A fatal error has been detected by the Java Runtime Environment:\r\n\r\nEXCEPTION_ILLEGAL_INSTRUCTION (0xc000001d) at pc=0x00007ffb8c6139af, pid=2152, tid=3912\r\nJRE version: OpenJDK Runtime Environment (11.0.10) (build 11.0.10+0-b96-7249189)\r\nJava VM: OpenJDK 64-Bit Server VM (11.0.10+0-b96-7249189, mixed mode, tiered, compressed oops, g1 gc, windows-amd64)\r\nProblematic frame:**\r\nC [libandroid_runtime.dll+0xb39af]***\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QmVrJ.png","title":"Android Studio crashes (no error message)","body":"<p>I'm on x64 Windows 10 pro) I downloaded the latest version of JDK and Android Studio, wanted to learn how to build android apps, until the setup and managing SDK and AVD everything was fine, I created a new Hello World project and it started to download some stuff and it suddenly crashed, now when I start Android studio it opens normally but crashes when it finishes indexing files, there is no error message, it just closes. I tried running as administrator, created a new JAVA_HOME variable but that didn't work either. I realized every time i run AS a new file like this is created under my user directory:</p>\n<p>**A fatal error has been detected by the Java Runtime Environment:</p>\n<p>EXCEPTION_ILLEGAL_INSTRUCTION (0xc000001d) at pc=0x00007ffb8c6139af, pid=2152, tid=3912\nJRE version: OpenJDK Runtime Environment (11.0.10) (build 11.0.10+0-b96-7249189)\nJava VM: OpenJDK 64-Bit Server VM (11.0.10+0-b96-7249189, mixed mode, tiered, compressed oops, g1 gc, windows-amd64)\nProblematic frame:**\nC [libandroid_runtime.dll+0xb39af]***</p>\n<p><a href=\"https://i.stack.imgur.com/QmVrJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","linux","bash","exec","system-calls"],"answers":[{"tags":[],"owner":{"account_id":7304376,"reputation":26,"user_id":5592976,"display_name":"techied"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635819608,"creation_date":1635819608,"answer_id":69804703,"question_id":69804397,"body_markdown":"It looks like you&#39;re trying to use the Bash output redirection operator `&gt;`. This redirects the output of the program you&#39;re running to a file (or another program)\r\n\r\n[This answer][1] explains how to do this using ProcessBuilder which should work for what you&#39;re trying to do here.\r\n\r\nFor example:\r\n\r\n```\r\nProcessBuilder pb = new ProcessBuilder(&quot;mace4&quot;, &quot;-c&quot;, &quot;-f&quot;, inputFileName);\r\npb.redirectOutput(new File(outputFileName));\r\nProcess p = pb.start();\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/49104943/5592976","title":"Having a hard time with linux command calls in Java with exec()","body":"<p>It looks like you're trying to use the Bash output redirection operator <code>&gt;</code>. This redirects the output of the program you're running to a file (or another program)</p>\n<p><a href=\"https://stackoverflow.com/a/49104943/5592976\">This answer</a> explains how to do this using ProcessBuilder which should work for what you're trying to do here.</p>\n<p>For example:</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;mace4&quot;, &quot;-c&quot;, &quot;-f&quot;, inputFileName);\npb.redirectOutput(new File(outputFileName));\nProcess p = pb.start();\n</code></pre>\n"}],"owner":{"account_id":9968573,"reputation":3,"user_id":7375489,"display_name":"Lung Mihai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69804703,"answer_count":1,"score":0,"last_activity_date":1635819608,"creation_date":1635815855,"question_id":69804397,"body_markdown":"I&#39;m trying to use Runtime.getRuntime().exec() to call a program as if it was called from the terminal, but it just crashes with a fatal error after reading the first file.\r\n\r\nIn the terminal I run the command like so:\r\n\r\n**mace4 -c -f inputFile.in &gt; outputFile.out**\r\n\r\nIt works as expected, reading from the first file and outputting in the second one.\r\n\r\nIn Java I try to run it this way:\r\n```\r\nString args[] = new String[]{&quot;mace4&quot;, &quot;-c&quot;, &quot;-f&quot;, inputFileName ,&quot;&gt;&quot;,outputFileName};\r\n        try {\r\n            String s;\r\n            Process proc = Runtime.getRuntime().exec(args, null, new File(&quot;/home/user/workDirectory/&quot;));\r\n            BufferedReader br = new BufferedReader(\r\n                    new InputStreamReader(proc.getInputStream()));\r\n            while ((s = br.readLine()) != null)\r\n                System.out.println(&quot;line: &quot; + s);\r\n            proc.waitFor();\r\n            proc.destroy();\r\n```\r\n\r\nAs soon as the program reaches the end of the first file, it throws this:\r\n\r\n*Fatal error:  read_all_input, file &gt; not found*\r\n\r\nThe program is quite old and I can&#39;t seem to find a way to get a more detailed error out of it.. \r\n\r\nI tried calling it with these arguments **{&quot;sh *or bash*&quot;,  &quot;-c&quot;, &quot;mace4&quot;, &quot;-c&quot;, &quot;-f&quot;, inputFileName ,&quot;&gt;&quot;,outputFileName}** which makes the program run and then freeze (or at least nothing appears in the console)..\r\nAm I calling the terminal command wrong and if yes what should I change?\r\n\r\nPS: this is my first question here, if I missed anything, I&#39;m sorry..","title":"Having a hard time with linux command calls in Java with exec()","body":"<p>I'm trying to use Runtime.getRuntime().exec() to call a program as if it was called from the terminal, but it just crashes with a fatal error after reading the first file.</p>\n<p>In the terminal I run the command like so:</p>\n<p><strong>mace4 -c -f inputFile.in &gt; outputFile.out</strong></p>\n<p>It works as expected, reading from the first file and outputting in the second one.</p>\n<p>In Java I try to run it this way:</p>\n<pre><code>String args[] = new String[]{&quot;mace4&quot;, &quot;-c&quot;, &quot;-f&quot;, inputFileName ,&quot;&gt;&quot;,outputFileName};\n        try {\n            String s;\n            Process proc = Runtime.getRuntime().exec(args, null, new File(&quot;/home/user/workDirectory/&quot;));\n            BufferedReader br = new BufferedReader(\n                    new InputStreamReader(proc.getInputStream()));\n            while ((s = br.readLine()) != null)\n                System.out.println(&quot;line: &quot; + s);\n            proc.waitFor();\n            proc.destroy();\n</code></pre>\n<p>As soon as the program reaches the end of the first file, it throws this:</p>\n<p><em>Fatal error:  read_all_input, file &gt; not found</em></p>\n<p>The program is quite old and I can't seem to find a way to get a more detailed error out of it..</p>\n<p>I tried calling it with these arguments <strong>{&quot;sh <em>or bash</em>&quot;,  &quot;-c&quot;, &quot;mace4&quot;, &quot;-c&quot;, &quot;-f&quot;, inputFileName ,&quot;&gt;&quot;,outputFileName}</strong> which makes the program run and then freeze (or at least nothing appears in the console)..\nAm I calling the terminal command wrong and if yes what should I change?</p>\n<p>PS: this is my first question here, if I missed anything, I'm sorry..</p>\n"},{"tags":["java","json","jackson","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":22771851,"reputation":1650,"user_id":16929145,"display_name":"Raul Saucedo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635783141,"creation_date":1635783141,"answer_id":69799657,"question_id":69772174,"body_markdown":"You can use the [org.json][1] library; it is easy to use.\r\n \r\nJust remember (while casting or using methods like getJSONObject and getJSONArray) that in JSON notation\r\n[  ] represents an array, so library will parse it to JSONArray\r\n{  } represents an object, so library will parse it to JSONObject\r\n \r\nYou can see more [information][1] about.\r\n\r\n\r\nYou can see a simple example below:\r\n \r\nJSON file:\r\n\r\n    {\r\n           &quot;pageInfo&quot;: {\r\n                 &quot;pageName&quot;: &quot;abc&quot;,\r\n                 &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n            },\r\n            &quot;posts&quot;: [\r\n                 {\r\n                      &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\r\n                      &quot;actor_id&quot;: &quot;1234567890&quot;,\r\n                      &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\r\n                      &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\r\n                      &quot;message&quot;: &quot;Sounds cool. Can&#39;t wait to see it!&quot;,\r\n                      &quot;likesCount&quot;: &quot;2&quot;,\r\n                      &quot;comments&quot;: [],\r\n                      &quot;timeOfPost&quot;: &quot;1234567890&quot;\r\n                 }\r\n            ]\r\n        }\r\n\r\nCode example:\r\n\r\n    import org.json.*;\r\n    \r\n    String jsonString = ... ; //assign your JSON String here\r\n    JSONObject obj = new JSONObject(jsonString);\r\n    String pageName = obj.getJSONObject(&quot;pageInfo&quot;).getString(&quot;pageName&quot;);\r\n    \r\n    JSONArray arr = obj.getJSONArray(&quot;posts&quot;); // notice that `&quot;posts&quot;: [...]`\r\n    for (int i = 0; i &lt; arr.length(); i++)\r\n    {\r\n        String post_id = arr.getJSONObject(i).getString(&quot;post_id&quot;);\r\n        ......\r\n    }\r\n\r\nYou may find more examples here: [Parse JSON in Java][2].\r\n \r\n[Downloadable jar][3].\r\n\r\n\r\n  [1]: https://github.com/stleary/JSON-java\r\n  [2]: http://theoryapp.com/parse-json-in-java/\r\n  [3]: http://mvnrepository.com/artifact/org.json/json\r\n","title":"How to parse regular (not newline delimited) json with Apache Beam and Jackson?","body":"<p>You can use the <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">org.json</a> library; it is easy to use.</p>\n<p>Just remember (while casting or using methods like getJSONObject and getJSONArray) that in JSON notation\n[  ] represents an array, so library will parse it to JSONArray\n{  } represents an object, so library will parse it to JSONObject</p>\n<p>You can see more <a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">information</a> about.</p>\n<p>You can see a simple example below:</p>\n<p>JSON file:</p>\n<pre><code>{\n       &quot;pageInfo&quot;: {\n             &quot;pageName&quot;: &quot;abc&quot;,\n             &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\n        },\n        &quot;posts&quot;: [\n             {\n                  &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\n                  &quot;actor_id&quot;: &quot;1234567890&quot;,\n                  &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\n                  &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\n                  &quot;message&quot;: &quot;Sounds cool. Can't wait to see it!&quot;,\n                  &quot;likesCount&quot;: &quot;2&quot;,\n                  &quot;comments&quot;: [],\n                  &quot;timeOfPost&quot;: &quot;1234567890&quot;\n             }\n        ]\n    }\n</code></pre>\n<p>Code example:</p>\n<pre><code>import org.json.*;\n\nString jsonString = ... ; //assign your JSON String here\nJSONObject obj = new JSONObject(jsonString);\nString pageName = obj.getJSONObject(&quot;pageInfo&quot;).getString(&quot;pageName&quot;);\n\nJSONArray arr = obj.getJSONArray(&quot;posts&quot;); // notice that `&quot;posts&quot;: [...]`\nfor (int i = 0; i &lt; arr.length(); i++)\n{\n    String post_id = arr.getJSONObject(i).getString(&quot;post_id&quot;);\n    ......\n}\n</code></pre>\n<p>You may find more examples here: <a href=\"http://theoryapp.com/parse-json-in-java/\" rel=\"nofollow noreferrer\">Parse JSON in Java</a>.</p>\n<p><a href=\"http://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">Downloadable jar</a>.</p>\n"},{"tags":[],"owner":{"account_id":15711785,"reputation":1371,"user_id":11337033,"display_name":"Daniel Oliveira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635818865,"creation_date":1635818865,"answer_id":69804636,"question_id":69772174,"body_markdown":"The problem is that you are using `TextIO.read()` to read from the json files. TextIO reads each line of a text file into a separate element, so a multi-line JSON object gets split into multiple elements. That means your parse function attempts to parse JSON strings such as `};`. That also explains why it succeeds if you format your object entirely on one line.\r\n\r\nThere are two approaches you could go with depending on what&#39;s available to you.\r\n\r\n1. If possible with your JSON files, you could use the [`withDelimiter`][1] method to use a custom delimeter aside from the default newline. However this is pretty brittle and requires your files to be formatted very specifically.\r\n\r\n2. You could switch from TextIO to [FileIO][2], and read each file into a single string to send to `ParseJsons`. This is slightly more work but far less brittle, and is what I would recommend.\r\n\r\n\r\n  [1]: https://beam.apache.org/releases/javadoc/2.33.0/org/apache/beam/sdk/io/TextIO.Read.html#withDelimiter-byte:A-\r\n  [2]: https://beam.apache.org/releases/javadoc/2.33.0/org/apache/beam/sdk/io/FileIO.html","title":"How to parse regular (not newline delimited) json with Apache Beam and Jackson?","body":"<p>The problem is that you are using <code>TextIO.read()</code> to read from the json files. TextIO reads each line of a text file into a separate element, so a multi-line JSON object gets split into multiple elements. That means your parse function attempts to parse JSON strings such as <code>};</code>. That also explains why it succeeds if you format your object entirely on one line.</p>\n<p>There are two approaches you could go with depending on what's available to you.</p>\n<ol>\n<li><p>If possible with your JSON files, you could use the <a href=\"https://beam.apache.org/releases/javadoc/2.33.0/org/apache/beam/sdk/io/TextIO.Read.html#withDelimiter-byte:A-\" rel=\"nofollow noreferrer\"><code>withDelimiter</code></a> method to use a custom delimeter aside from the default newline. However this is pretty brittle and requires your files to be formatted very specifically.</p>\n</li>\n<li><p>You could switch from TextIO to <a href=\"https://beam.apache.org/releases/javadoc/2.33.0/org/apache/beam/sdk/io/FileIO.html\" rel=\"nofollow noreferrer\">FileIO</a>, and read each file into a single string to send to <code>ParseJsons</code>. This is slightly more work but far less brittle, and is what I would recommend.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":4551020,"reputation":5500,"user_id":3696204,"accept_rate":90,"display_name":"rocksNwaves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":728,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69804636,"answer_count":2,"score":-1,"last_activity_date":1635818865,"creation_date":1635525118,"question_id":69772174,"body_markdown":"I am trying to learn how to parse JSON data to CSV format with Apache Beam and Jackson. I am starting with a very simple JSON file:\r\n\r\n```\r\n{\r\n    &quot;firstName&quot;: &quot;John&quot;, \r\n    &quot;lastName&quot;: &quot;Smith&quot;, \r\n    &quot;isAlive&quot;: true, \r\n    &quot;age&quot;: 27\r\n}\r\n```\r\n\r\nI have a corresponding POJO structure:\r\n\r\n```\r\nimport java.io.Serializable;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Person implements Serializable {\r\n    \r\n    private String firstName;\r\n    private String lastName;\r\n    private int age;\r\n\r\n    public Person() {}\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n   ... getters &amp; setters ...\r\n\r\n```\r\n\r\n\r\n\r\nHowever, when I try to parse this json, I get a formatting error:\r\n```\r\nCaused by: com.fasterxml.jackson.core.JsonParseException: Unexpected close marker &#39;}&#39;: expected &#39;]&#39; (for root starting at [Source: }; line: 1, column: 0])\r\n at [Source: }; line: 1, column: 2]\r\n```\r\n\r\nWhich I solved by converting the json to this format:\r\n\r\n```\r\n{&quot;firstName&quot;: &quot;John&quot;, &quot;lastName&quot;: &quot;Smith&quot;, &quot;isAlive&quot;: true, &quot;age&quot;: 27}\r\n```\r\n\r\nMy eventual need is to deal with plain old json. Is there a way to do so, and if so, how?\r\n\r\nThe Apache Beam code is this simple pipeline:\r\n\r\n```\r\npublic class DataToModel {\r\n\r\n    public static void main(String[] args) {\r\n        PipelineOptions options = PipelineOptionsFactory.create();\r\n        options.setRunner(DirectRunner.class);\r\n        Pipeline p = Pipeline.create(options);\r\n\r\n        // read data from json\r\n        PCollection&lt;String&gt;  json = p.apply(TextIO.read().from(&quot;src/main/resources/test.json&quot;));\r\n        PCollection&lt;Person&gt; person = json\r\n            .apply(ParseJsons.of(Person.class))\r\n            .setCoder(SerializableCoder.of(Person.class));\r\n\r\n        // parse json\r\n        PCollection&lt;String&gt; names = person.apply(MapElements\r\n            .into(TypeDescriptors.strings())\r\n            .via(Person::getFirstName)\r\n        );\r\n\r\n        // write information to file.\r\n        names.apply(TextIO.write().to(&quot;src/main/resources/test_out&quot;));\r\n\r\n        p.run().waitUntilFinish();\r\n\r\n    }\r\n\r\n```\r\n\r\n","title":"How to parse regular (not newline delimited) json with Apache Beam and Jackson?","body":"<p>I am trying to learn how to parse JSON data to CSV format with Apache Beam and Jackson. I am starting with a very simple JSON file:</p>\n<pre><code>{\n    &quot;firstName&quot;: &quot;John&quot;, \n    &quot;lastName&quot;: &quot;Smith&quot;, \n    &quot;isAlive&quot;: true, \n    &quot;age&quot;: 27\n}\n</code></pre>\n<p>I have a corresponding POJO structure:</p>\n<pre><code>import java.io.Serializable;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Person implements Serializable {\n    \n    private String firstName;\n    private String lastName;\n    private int age;\n\n    public Person() {}\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n   ... getters &amp; setters ...\n\n</code></pre>\n<p>However, when I try to parse this json, I get a formatting error:</p>\n<pre><code>Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected close marker '}': expected ']' (for root starting at [Source: }; line: 1, column: 0])\n at [Source: }; line: 1, column: 2]\n</code></pre>\n<p>Which I solved by converting the json to this format:</p>\n<pre><code>{&quot;firstName&quot;: &quot;John&quot;, &quot;lastName&quot;: &quot;Smith&quot;, &quot;isAlive&quot;: true, &quot;age&quot;: 27}\n</code></pre>\n<p>My eventual need is to deal with plain old json. Is there a way to do so, and if so, how?</p>\n<p>The Apache Beam code is this simple pipeline:</p>\n<pre><code>public class DataToModel {\n\n    public static void main(String[] args) {\n        PipelineOptions options = PipelineOptionsFactory.create();\n        options.setRunner(DirectRunner.class);\n        Pipeline p = Pipeline.create(options);\n\n        // read data from json\n        PCollection&lt;String&gt;  json = p.apply(TextIO.read().from(&quot;src/main/resources/test.json&quot;));\n        PCollection&lt;Person&gt; person = json\n            .apply(ParseJsons.of(Person.class))\n            .setCoder(SerializableCoder.of(Person.class));\n\n        // parse json\n        PCollection&lt;String&gt; names = person.apply(MapElements\n            .into(TypeDescriptors.strings())\n            .via(Person::getFirstName)\n        );\n\n        // write information to file.\n        names.apply(TextIO.write().to(&quot;src/main/resources/test_out&quot;));\n\n        p.run().waitUntilFinish();\n\n    }\n\n</code></pre>\n"},{"tags":["java","input","user-input","hide","helper"],"answers":[{"tags":[],"owner":{"account_id":7304376,"reputation":26,"user_id":5592976,"display_name":"techied"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635817321,"creation_date":1635817321,"answer_id":69804512,"question_id":69804449,"body_markdown":"See [this solution][1]\r\n\r\nNamely:\r\n\r\n```\r\nConsole console = System.console();\r\n\r\nString enteredPassword = new String(console.readPassword(&quot;Please enter your password: &quot;));\r\n        \r\nSystem.out.println(&quot;You entered: &quot; + enteredPassword);\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/12076234/5592976","title":"How to hide and turn my input into asterisk in Java","body":"<p>See <a href=\"https://stackoverflow.com/a/12076234/5592976\">this solution</a></p>\n<p>Namely:</p>\n<pre><code>Console console = System.console();\n\nString enteredPassword = new String(console.readPassword(&quot;Please enter your password: &quot;));\n        \nSystem.out.println(&quot;You entered: &quot; + enteredPassword);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18651820,"reputation":254,"user_id":13595120,"display_name":"Sakhund"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635818389,"creation_date":1635817991,"answer_id":69804565,"question_id":69804449,"body_markdown":"Good luck, with project.  \r\nSo, I say put a check box that changes the value of some boolean variable, say, `flag` and the rest is something like this:\r\n\r\n   \r\n\r\n \r\n\r\n        String user_name;\r\n        String pass;\r\n        boolean flag;\r\n    \r\n        void checkBoxPropertyChanged(Action e) {\r\n            flag =! flag;\r\n            changePasswordField();\r\n        }\r\n\r\n \r\n\r\n        void changePasswordField() { \r\n            String hidden = &quot;&quot;; \r\n            int len = pass.length();\r\n    \r\n            for(int i = 0; i&lt;len; i++) \r\n                hidden += &quot;*&quot;; \r\n            passwordField.setText((flag) ? pass : hidden); \r\n        }\r\n\r\n","title":"How to hide and turn my input into asterisk in Java","body":"<p>Good luck, with project.<br />\nSo, I say put a check box that changes the value of some boolean variable, say, <code>flag</code> and the rest is something like this:</p>\n<pre><code>    String user_name;\n    String pass;\n    boolean flag;\n\n    void checkBoxPropertyChanged(Action e) {\n        flag =! flag;\n        changePasswordField();\n    }\n\n\n\n    void changePasswordField() { \n        String hidden = &quot;&quot;; \n        int len = pass.length();\n\n        for(int i = 0; i&lt;len; i++) \n            hidden += &quot;*&quot;; \n        passwordField.setText((flag) ? pass : hidden); \n    }\n</code></pre>\n"}],"owner":{"account_id":23211235,"reputation":9,"user_id":17304637,"display_name":"Optimus Fried"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":658,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1635819695,"answer_count":2,"score":0,"last_activity_date":1635818389,"creation_date":1635816502,"question_id":69804449,"body_markdown":"I&#39;m an ICT student and I need help. Our professor asked us to create a login system. I&#39;ve already made one, but the problem is that the input is supposed to be hidden. How do I do that?\r\n\r\nFor example,\r\n\r\n    import java.util.Scanner;\r\n    int password;\r\n    Scanner x = new Scanner(System.in);\r\n    password = x.nextInt();\r\n\r\nI need to hide the input, and turn that message into an asterisk &#39;*&#39;. Kinda how Facebook does it.","title":"How to hide and turn my input into asterisk in Java","body":"<p>I'm an ICT student and I need help. Our professor asked us to create a login system. I've already made one, but the problem is that the input is supposed to be hidden. How do I do that?</p>\n<p>For example,</p>\n<pre><code>import java.util.Scanner;\nint password;\nScanner x = new Scanner(System.in);\npassword = x.nextInt();\n</code></pre>\n<p>I need to hide the input, and turn that message into an asterisk '*'. Kinda how Facebook does it.</p>\n"},{"tags":["java","c++","memory-leaks","containers","swig"],"owner":{"account_id":15468835,"reputation":29,"user_id":11159482,"display_name":"FatherJack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635817066,"creation_date":1635817066,"question_id":69804494,"body_markdown":"Im calling a C++ program from Java using SWIG. The SWIG wrapper file defines a stringmatrix structure as follows:\r\n```\r\n%include &quot;std_string.i&quot;\r\n%include &quot;std_vector.i&quot;\r\n%{\r\n#include &lt;vector&gt;\r\n%}\r\nnamespace std\r\n{\r\n%template(stringvector) std::vector&lt;std::string&gt;; \r\n%template(stringmatrix) std::vector&lt; std::vector&lt;std::string&gt; &gt;; \r\n}\r\n```\r\n\r\nIn Java, I set up a stringmatrix object with the following:\r\n\r\n```\r\npublic static stringmatrix BuildMatrix( int n )\r\n    {\r\n        stringmatrix s_data = new stringmatrix( n );\r\n        for ( int i = 0; i &lt; n; i++ )\r\n        {\r\n            stringvector s1 = new stringvector ( 3 );\r\n            s1.set ( 0, &quot;A&quot;);\r\n            s1.set ( 1, &quot;B&quot;);\r\n            s1.set ( 1, &quot;C&quot;);            \r\n            s_data.set ( s, s1 );\r\n        }\r\n        return s_data;\r\n    }\r\n```\r\nAnd a function to release memory:\r\n```\r\npublic static void ReleaseStringMatrix ( stringmatrix s )\r\n{\r\n\t\tfor ( int i = 0; i &lt; s.size(); i++ )\r\n\t\t\ts.get(i).delete();\r\n\t\ts.delete();\r\n}\r\n```\r\n\r\nThen call it using\r\n\r\n```\r\nstringmatrix s_test;\r\ns_test = BuildSecurityMaster( 10000 );\r\nReleaseStringMatrix (s_test);\r\n```\r\n\r\nThis appears to load and free memory fine  except when running Java in a container, where the memory is not freed and native memory grows until the process crashes. This happens even when simply allocating and releasing memory, as shown here.\r\n \r\nHas anybody seen anything similar? Using javac 1.8.0.291, gcc 7.4, swig 3.0.8. If we just work with StringVector types, everything is allocated and released as expected.\r\n","title":"Memory leak with SWIG and Java","body":"<p>Im calling a C++ program from Java using SWIG. The SWIG wrapper file defines a stringmatrix structure as follows:</p>\n<pre><code>%include &quot;std_string.i&quot;\n%include &quot;std_vector.i&quot;\n%{\n#include &lt;vector&gt;\n%}\nnamespace std\n{\n%template(stringvector) std::vector&lt;std::string&gt;; \n%template(stringmatrix) std::vector&lt; std::vector&lt;std::string&gt; &gt;; \n}\n</code></pre>\n<p>In Java, I set up a stringmatrix object with the following:</p>\n<pre><code>public static stringmatrix BuildMatrix( int n )\n    {\n        stringmatrix s_data = new stringmatrix( n );\n        for ( int i = 0; i &lt; n; i++ )\n        {\n            stringvector s1 = new stringvector ( 3 );\n            s1.set ( 0, &quot;A&quot;);\n            s1.set ( 1, &quot;B&quot;);\n            s1.set ( 1, &quot;C&quot;);            \n            s_data.set ( s, s1 );\n        }\n        return s_data;\n    }\n</code></pre>\n<p>And a function to release memory:</p>\n<pre><code>public static void ReleaseStringMatrix ( stringmatrix s )\n{\n        for ( int i = 0; i &lt; s.size(); i++ )\n            s.get(i).delete();\n        s.delete();\n}\n</code></pre>\n<p>Then call it using</p>\n<pre><code>stringmatrix s_test;\ns_test = BuildSecurityMaster( 10000 );\nReleaseStringMatrix (s_test);\n</code></pre>\n<p>This appears to load and free memory fine  except when running Java in a container, where the memory is not freed and native memory grows until the process crashes. This happens even when simply allocating and releasing memory, as shown here.</p>\n<p>Has anybody seen anything similar? Using javac 1.8.0.291, gcc 7.4, swig 3.0.8. If we just work with StringVector types, everything is allocated and released as expected.</p>\n"},{"tags":["java","spring","spring-boot","maven","cmd"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1635814914,"post_id":69804256,"comment_id":123388572,"body_markdown":"what happens when you build the jar and run that? because that is what you should only care for","body":"what happens when you build the jar and run that? because that is what you should only care for"},{"owner":{"account_id":910225,"reputation":1152,"user_id":944251,"accept_rate":80,"display_name":"Michael"},"score":0,"creation_date":1635815850,"post_id":69804256,"comment_id":123388746,"body_markdown":"Nothing. Build is successful, but the VM option is not installed when I start the service through the IDEA. No any exceptions or errors. But if I set the VM option in Edit Configuration of IDEA then it&#39;s applied properly","body":"Nothing. Build is successful, but the VM option is not installed when I start the service through the IDEA. No any exceptions or errors. But if I set the VM option in Edit Configuration of IDEA then it&#39;s applied properly"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1635815994,"post_id":69804256,"comment_id":123388767,"body_markdown":"&quot;but the VM option is not installed when I start the service through the IDEA&quot; - I said build the executable jar. Its not like you will be running in prod from your IDE. you know what the spring executable jar is, right?","body":"&quot;but the VM option is not installed when I start the service through the IDEA&quot; - I said build the executable jar. Its not like you will be running in prod from your IDE. you know what the spring executable jar is, right?"}],"answers":[{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635816322,"creation_date":1635815330,"answer_id":69804370,"question_id":69804256,"body_markdown":"Maven is a build tool, not a runtime environment.\r\n\r\nFor the simplest see [The java Command][java]:\r\n\r\n&gt; `java ... -Dproperty=value ...`\r\n&gt;\r\n&gt; Sets a system property value. The _property_ variable is a string with no spaces that represents the name of the property. The _value_ variable is a string that represents the value of the property. If _value_ is a string with spaces, then enclose it in quotation marks (for example `-Dfoo=&quot;foo bar&quot;`). \r\n\r\nOtherwise the container your application is running in has to have a possibility to configure `java` command line parameters.\r\n\r\n\r\n[java]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html","title":"Set VM option from maven config","body":"<p>Maven is a build tool, not a runtime environment.</p>\n<p>For the simplest see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/java.html\" rel=\"nofollow noreferrer\">The java Command</a>:</p>\n<blockquote>\n<p><code>java ... -Dproperty=value ...</code></p>\n<p>Sets a system property value. The <em>property</em> variable is a string with no spaces that represents the name of the property. The <em>value</em> variable is a string that represents the value of the property. If <em>value</em> is a string with spaces, then enclose it in quotation marks (for example <code>-Dfoo=&quot;foo bar&quot;</code>).</p>\n</blockquote>\n<p>Otherwise the container your application is running in has to have a possibility to configure <code>java</code> command line parameters.</p>\n"}],"owner":{"account_id":910225,"reputation":1152,"user_id":944251,"accept_rate":80,"display_name":"Michael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635816322,"creation_date":1635813987,"question_id":69804256,"body_markdown":"Is there any way to set an argument for the command line from the maven config? Maybe some plugin?\r\n\r\nI need to run my service on spring boot with the following VM option:\r\n\r\n    -Dspring.config.additional-location=classpath:/config/business-config.yml\r\n\r\n\r\nI have tried using `maven-surefire-plugin`:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;argLine&gt;\r\n              -Dspring.config.additional-location=classpath:/config/business-config.yml\r\n            &lt;/argLine&gt;\r\n          &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nand `spring-boot-maven-plugin`:\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n          &lt;configuration&gt;\r\n            &lt;jvmArguments&gt;\r\n              -Dspring.config.additional-location=classpath:/config/business-config.yml\r\n            &lt;/jvmArguments&gt;\r\n          &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nBut that doesn&#39;t work for me. I test by running my maven project locally from **IDEA Intellij** as a Spring Boot application. If I set this option in IDEA configuration then it works properly.\r\n\r\nAny ideas why?","title":"Set VM option from maven config","body":"<p>Is there any way to set an argument for the command line from the maven config? Maybe some plugin?</p>\n<p>I need to run my service on spring boot with the following VM option:</p>\n<pre><code>-Dspring.config.additional-location=classpath:/config/business-config.yml\n</code></pre>\n<p>I have tried using <code>maven-surefire-plugin</code>:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;argLine&gt;\n          -Dspring.config.additional-location=classpath:/config/business-config.yml\n        &lt;/argLine&gt;\n      &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and <code>spring-boot-maven-plugin</code>:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n        &lt;jvmArguments&gt;\n          -Dspring.config.additional-location=classpath:/config/business-config.yml\n        &lt;/jvmArguments&gt;\n      &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>But that doesn't work for me. I test by running my maven project locally from <strong>IDEA Intellij</strong> as a Spring Boot application. If I set this option in IDEA configuration then it works properly.</p>\n<p>Any ideas why?</p>\n"},{"tags":["java","http","tomcat","servlets","cookies"],"comments":[{"owner":{"account_id":5092982,"reputation":898,"user_id":4085383,"accept_rate":100,"display_name":"Amit Garg"},"score":0,"creation_date":1635820176,"post_id":69804254,"comment_id":123389314,"body_markdown":"What do you mean by at the same time, is it working individually? 401 status code \n says you are Unauthorized to access this resource. So May be you have not logged into system and trying the API directly. Try login first and then call the API with necessary information","body":"What do you mean by at the same time, is it working individually? 401 status code   says you are Unauthorized to access this resource. So May be you have not logged into system and trying the API directly. Try login first and then call the API with necessary information"},{"owner":{"account_id":5322273,"reputation":404,"user_id":4245401,"display_name":"itpr"},"score":0,"creation_date":1635828101,"post_id":69804254,"comment_id":123390447,"body_markdown":"Unfortunately this is a different case, the requests worked and were authorized. Everything was fine until we added to make the button click send two requests at the same time, the requests still work if you send them independently of each other.     \nI suspect that since the requests are sent instantly, they can&#39;t keep up with changing auth-headers/cookies/JSESSIONID","body":"Unfortunately this is a different case, the requests worked and were authorized. Everything was fine until we added to make the button click send two requests at the same time, the requests still work if you send them independently of each other.      I suspect that since the requests are sent instantly, they can&#39;t keep up with changing auth-headers/cookies/JSESSIONID"}],"owner":{"account_id":5322273,"reputation":404,"user_id":4245401,"display_name":"itpr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635813968,"creation_date":1635813968,"question_id":69804254,"body_markdown":"When I send requests at the same time I receive 401. What could be wrong?\r\n\r\n    Request URL: http://localhost:5000/api/***\r\n    Request Method: PUT\r\n    Status Code: 401 \r\n    Date: Mon, 01 Nov 2021 23:20:08 GMT\r\n    Cookie: JSESSIONID=D0A23516553FAA68121D9013A986D62C\r\n\r\n    Request URL: http://localhost:5000/api/***\r\n    Request Method: PUT\r\n    Status Code: 401 \r\n    Date: Mon, 01 Nov 2021 23:20:08 GMT\r\n    Cookie: JSESSIONID=D0A23516553FAA68121D9013A986D62C","title":"Two simultaneous requests cause 401 (cookie JSESSIONID?)","body":"<p>When I send requests at the same time I receive 401. What could be wrong?</p>\n<pre><code>Request URL: http://localhost:5000/api/***\nRequest Method: PUT\nStatus Code: 401 \nDate: Mon, 01 Nov 2021 23:20:08 GMT\nCookie: JSESSIONID=D0A23516553FAA68121D9013A986D62C\n\nRequest URL: http://localhost:5000/api/***\nRequest Method: PUT\nStatus Code: 401 \nDate: Mon, 01 Nov 2021 23:20:08 GMT\nCookie: JSESSIONID=D0A23516553FAA68121D9013A986D62C\n</code></pre>\n"},{"tags":["java","maven","jpa","db2","open-liberty"],"comments":[{"owner":{"account_id":1794140,"reputation":273,"user_id":1633933,"display_name":"Will Dazey"},"score":0,"creation_date":1635778707,"post_id":69797754,"comment_id":123377900,"body_markdown":"Where are you declaring the schema &quot;Sankofa&quot;? Can you provide the persistence.xml?","body":"Where are you declaring the schema &quot;Sankofa&quot;? Can you provide the persistence.xml?"},{"owner":{"account_id":22812096,"reputation":15,"user_id":16963231,"display_name":"Dylan VR"},"score":0,"creation_date":1635807495,"post_id":69797754,"comment_id":123387277,"body_markdown":"@WillDazey I&#39;ve added persistence.xml. I don&#39;t think that I have declared it anywhere as of yet. How would I do that along with my other schema&#39;s? Is that done in orm.xml?","body":"@WillDazey I&#39;ve added persistence.xml. I don&#39;t think that I have declared it anywhere as of yet. How would I do that along with my other schema&#39;s? Is that done in orm.xml?"},{"owner":{"account_id":22812096,"reputation":15,"user_id":16963231,"display_name":"Dylan VR"},"score":0,"creation_date":1635813978,"post_id":69797754,"comment_id":123388408,"body_markdown":"I have added the schema = &quot;Sankofa&quot; and other schemas to @Table in respective classes.","body":"I have added the schema = &quot;Sankofa&quot; and other schemas to @Table in respective classes."}],"answers":[{"tags":[],"owner":{"account_id":1794140,"reputation":273,"user_id":1633933,"display_name":"Will Dazey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635780840,"creation_date":1635780485,"answer_id":69799095,"question_id":69797754,"body_markdown":"&gt; How to specify tables from different DB2 schemas using @NamedQuery\r\n\r\nAFAIK, you cannot configure the schema value at the query level. All the named queries defined under the Entity at expected to be executed against the same schema.\r\n\r\n1. The database schema can be set at the persistence-unit level via orm.xml mapping file:\r\n\r\n   orm.xml\r\n\r\n       &lt;entity-mappings ... &gt;\r\n            &lt;persistence-unit-metadata&gt;\r\n                &lt;persistence-unit-defaults&gt;\r\n                    &lt;schema&gt;Sankofa&lt;/schema&gt;\r\n                &lt;/persistence-unit-defaults&gt;\r\n            &lt;/persistence-unit-metadata&gt;   \r\n            . . .\r\n        &lt;/entity-mappings&gt;\r\n\r\n   persistence.xml\r\n\r\n       &lt;persistence ... &gt;\r\n           &lt;persistence-unit name=&quot;foo&quot;&gt;\r\n               &lt;mapping-file&gt;orm.xml&lt;/mapping-file&gt;\r\n           &lt;/persistence-unit&gt;\r\n       &lt;/persistence&gt;\r\n\r\n2. For EclipseLink, you can configure a SessionCustomizer class\r\n\r\n       public class FooSessionCustomizer \r\n            implements org.eclipse.persistence.config.SessionCustomizer {\r\n\r\n            @Override\r\n            public void customize(Session session) throws Exception {\r\n                session.getLogin().setTableQualifier(&quot;Sankofa&quot;);\r\n            }\r\n        }\r\n\r\n   persistence.xml\r\n\r\n       &lt;persistence ... &gt;\r\n           &lt;persistence-unit name=&quot;foo&quot;&gt;\r\n               &lt;properties&gt;\r\n                   &lt;property name=&quot;eclipselink.session.customizer&quot; value=&quot;foo.customizer.FooSessionCustomizer&quot; /&gt;\r\n               &lt;/properties&gt;\r\n           &lt;/persistence-unit&gt;\r\n       &lt;/persistence&gt;\r\n\r\n3. The @Table annotation has a &quot;schema&quot; element to configure the schema at the Entity level\r\n\r\n       @Table(name = &quot;Users&quot;, schema = &quot;Sankofa&quot;)","title":"JPA: How to specify tables from different DB2 schemas using @NamedQuery. Schema.Table cannot be the first declaration of the FROM clause","body":"<blockquote>\n<p>How to specify tables from different DB2 schemas using @NamedQuery</p>\n</blockquote>\n<p>AFAIK, you cannot configure the schema value at the query level. All the named queries defined under the Entity at expected to be executed against the same schema.</p>\n<ol>\n<li><p>The database schema can be set at the persistence-unit level via orm.xml mapping file:</p>\n<p>orm.xml</p>\n<pre><code>&lt;entity-mappings ... &gt;\n     &lt;persistence-unit-metadata&gt;\n         &lt;persistence-unit-defaults&gt;\n             &lt;schema&gt;Sankofa&lt;/schema&gt;\n         &lt;/persistence-unit-defaults&gt;\n     &lt;/persistence-unit-metadata&gt;   \n     . . .\n &lt;/entity-mappings&gt;\n</code></pre>\n<p>persistence.xml</p>\n<pre><code>&lt;persistence ... &gt;\n    &lt;persistence-unit name=&quot;foo&quot;&gt;\n        &lt;mapping-file&gt;orm.xml&lt;/mapping-file&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n</li>\n<li><p>For EclipseLink, you can configure a SessionCustomizer class</p>\n<pre><code>public class FooSessionCustomizer \n     implements org.eclipse.persistence.config.SessionCustomizer {\n\n     @Override\n     public void customize(Session session) throws Exception {\n         session.getLogin().setTableQualifier(&quot;Sankofa&quot;);\n     }\n }\n</code></pre>\n<p>persistence.xml</p>\n<pre><code>&lt;persistence ... &gt;\n    &lt;persistence-unit name=&quot;foo&quot;&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;eclipselink.session.customizer&quot; value=&quot;foo.customizer.FooSessionCustomizer&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n</li>\n<li><p>The @Table annotation has a &quot;schema&quot; element to configure the schema at the Entity level</p>\n<pre><code>@Table(name = &quot;Users&quot;, schema = &quot;Sankofa&quot;)\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":22812096,"reputation":15,"user_id":16963231,"display_name":"Dylan VR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69799095,"answer_count":1,"score":1,"last_activity_date":1635813460,"creation_date":1635773947,"question_id":69797754,"body_markdown":"I encountering a problem when sending a GET request from Postman to test my endpoints. The same NamedQueries worked before with Derby with just the one Schema, so no need to differentiate then. I have now changed to DB2 running in a local Docker instance and am using Maven to run Open-Liberty Framework to create the endpoints. I am receiving the below error. Do I need to create a orm.xml file with entity-mappings, or do something else to resolve this? I would prefer to do this without more xml files if possible.\r\n\r\nPostman:\r\n&gt;Error 500: java.lang.NullPointerException: Cannot invoke &gt;&quot;javax.persistence.EntityManager.createNamedQuery(String, java.lang.Class)&quot; because &quot;this.em&quot; is null\r\n\r\nMaven:\r\n&gt;[INFO] [ERROR   ] CWWJP0015E: An error occurred in the org.eclipse.persistence.jpa.PersistenceProvider persistence provider when it attempted to create the container entity manager factory for the jpa-unit persistence unit. The following error occurred: Exception [EclipseLink-28019] (Eclipse Persistence Services - 2.7.9.v20210604-2c549e2208): org.eclipse.persistence.exceptions.EntityManagerSetupException\r\n\r\n&gt;[INFO] Exception Description: Deployment of PersistenceUnit [jpa-unit] failed. Close all factories for this PersistenceUnit.                                            \r\n&gt;[INFO] Internal Exception: Exception [EclipseLink-0] (Eclipse Persistence Services - 2.7.9.v20210604-2c549e2208): org.eclipse.persistence.exceptions.JPQLException      \r\n[INFO] Exception Description: Problem compiling [SELECT u FROM Sankofa.Users u].                                                                                        \r\n&gt;[INFO] [14, 29] &#39;Sankofa.Users u&#39; cannot be the first declaration of the FROM clause.\r\n\r\nUserDao\r\n```\r\npackage dao;\r\n\r\nimport java.util.List;\r\nimport java.util.concurrent.TimeoutException;\r\n\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.PersistenceContext;\r\n\r\nimport org.hyperledger.fabric.gateway.ContractException;\r\n\r\nimport javax.enterprise.context.RequestScoped;\r\nimport models.*;\r\n\r\n@RequestScoped\r\npublic class UserDao {\r\n    \r\n//DB2 Methods\r\n    @PersistenceContext(name = &quot;jpa-unit&quot;)\r\n    private EntityManager em;\r\n\r\n    public void createUser(Users user){\r\n        em.persist(user);\r\n    }\r\n    \r\n    public Users readUser(int userID){\r\n        return em.find(Users.class, userID);\r\n    }\r\n    //NEED TO DO set return limit to 20\r\n    public List&lt;Users&gt; readAllUsers(){\r\n        return em.createNamedQuery(&quot;Users.findAll&quot;, Users.class).getResultList();\r\n    }\r\n\r\n    public void updateUser(Users user){\r\n        em.merge(user);\r\n    }\r\n\r\n    public void deleteUser(Users userID){\r\n        em.remove(userID);\r\n    }\r\n\r\n    public List&lt;Users&gt; findUser(String email){\r\n        return em.createNamedQuery(&quot;Users.findUser&quot;, Users.class)\r\n            .setParameter(&quot;email&quot;, email)\r\n            .getResultList(); \r\n    }\r\n\r\n    public void createHistory(History hist){\r\n        em.persist(hist);\r\n    }\r\n    //wait this doesnt do anything? \r\n    public Users readHistory(int userID){\r\n        return em.find(Users.class, userID);\r\n    }\r\n\r\n    public List&lt;History&gt; readAllHistory(){\r\n        return em.createNamedQuery(&quot;History.findAll&quot;, History.class).getResultList();\r\n    }\r\n}\r\n```\r\nUsers\r\n```\r\npackage models;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Objects;\r\nimport java.util.Set;\r\n\r\nimport javax.json.Json;\r\nimport javax.json.JsonArrayBuilder;\r\nimport javax.json.JsonObject;\r\nimport javax.json.JsonObjectBuilder;\r\nimport javax.persistence.*;\r\nimport java.time.LocalDate;\r\n\r\n@Entity\r\n@Table(name = &quot;Users&quot;)\r\n@NamedQueries({\r\n\t@NamedQuery(name = &quot;Users.findAll&quot;, query = &quot;SELECT u FROM Users u&quot;),\r\n\t@NamedQuery(name = &quot;Users.findUser&quot;, query = &quot;SELECT usr FROM Users usr WHERE usr.email = :email&quot;)\r\n})\r\npublic class Users {\r\n\r\n    private static JsonObjectBuilder builder = Json.createObjectBuilder();\r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Id\r\n    @Column(name = &quot;userId&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;firstName&quot;)\r\n    private String firstName;\r\n    @Column(name = &quot;lastName&quot;)\r\n    private String lastName;\r\n    @Column(name = &quot;gender&quot;)\r\n    private String gender;\r\n    @Column(name = &quot;address&quot;)\r\n    private String address;\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n    @Column(name = &quot;dateOfBirth&quot;)\r\n    private LocalDate dateOfBirth;\r\n```\r\nPersistence.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.2&quot;\r\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence \r\n                        http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;jpa-unit&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;mapping-file&gt;orm.xml&lt;/mapping-file&gt;\r\n        \r\n        &lt;properties&gt;\r\n            &lt;!-- Connection Specific --&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.DB2Dialect&quot;/&gt;\r\n            \r\n            &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.create-database-schemas&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.schema-generation.scripts.create-target&quot; value=&quot;create.ddl&quot;/&gt;\r\n\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\nServer.xml\r\n```\r\n&lt;server description=&quot;Obdoblock REST Server&quot;&gt;\r\n    &lt;featureManager&gt;\r\n        &lt;feature&gt;jaxrs-2.1&lt;/feature&gt;\r\n        &lt;feature&gt;openapi-3.1&lt;/feature&gt;\r\n        &lt;feature&gt;jpa-2.2&lt;/feature&gt;\r\n        &lt;feature&gt;cdi-2.0&lt;/feature&gt;\r\n    &lt;/featureManager&gt;\r\n  \r\n    &lt;httpEndpoint \r\n        httpPort=&quot;${default.http.port}&quot; \r\n        httpsPort=&quot;${default.https.port}&quot;\r\n        id=&quot;defaultHttpEndpoint&quot; \r\n        host=&quot;*&quot; \r\n    /&gt;\r\n\r\n    &lt;webApplication \r\n        location=&quot;hyperledger-api.war&quot; \r\n        contextRoot=&quot;${app.context.root}&quot;\r\n    /&gt;\r\n\t\r\n\t&lt;!-- DB2 Library Configuration --&gt;\r\n\t&lt;library id=&quot;DB2JCCLib&quot;&gt;\r\n\t\t&lt;file name=&quot;${shared.resource.dir}/jcc-11.5.6.0&quot; /&gt;\r\n\t&lt;/library&gt;\r\n\t\r\n\t\r\n\t&lt;dataSource id=&quot;DefaultDataSource&quot; jndiName=&quot;jdbc/db2&quot;&gt;\r\n\t\t&lt;jdbcDriver libraryRef=&quot;jdbcLib&quot;/&gt;\r\n\t\t&lt;properties.db2.jcc\r\n\t\t\tdatabaseName=&quot;testdb&quot;\r\n\t\t\tserverName=&quot;localhost&quot; \r\n\t\t\tportNumber=&quot;50000&quot;\r\n            user=&quot;****&quot; password=&quot;****&quot;\r\n\t\t/&gt;\r\n\t&lt;/dataSource&gt;\r\n&lt;/server&gt;\r\n```\r\n\r\nVersions:\r\n\r\n - Docker: 20.10.8, build 3967b7d\r\n - DB2: ibm/db2 docker image version 11.5.6\r\n - Maven: 3.8.3\r\n - Java: JDK 14.0.2\r\n\r\nIf needing any more details, I&#39;m happy to provide them. Thanks, Dylan","title":"JPA: How to specify tables from different DB2 schemas using @NamedQuery. Schema.Table cannot be the first declaration of the FROM clause","body":"<p>I encountering a problem when sending a GET request from Postman to test my endpoints. The same NamedQueries worked before with Derby with just the one Schema, so no need to differentiate then. I have now changed to DB2 running in a local Docker instance and am using Maven to run Open-Liberty Framework to create the endpoints. I am receiving the below error. Do I need to create a orm.xml file with entity-mappings, or do something else to resolve this? I would prefer to do this without more xml files if possible.</p>\n<p>Postman:</p>\n<blockquote>\n<p>Error 500: java.lang.NullPointerException: Cannot invoke &gt;&quot;javax.persistence.EntityManager.createNamedQuery(String, java.lang.Class)&quot; because &quot;this.em&quot; is null</p>\n</blockquote>\n<p>Maven:</p>\n<blockquote>\n<p>[INFO] [ERROR   ] CWWJP0015E: An error occurred in the org.eclipse.persistence.jpa.PersistenceProvider persistence provider when it attempted to create the container entity manager factory for the jpa-unit persistence unit. The following error occurred: Exception [EclipseLink-28019] (Eclipse Persistence Services - 2.7.9.v20210604-2c549e2208): org.eclipse.persistence.exceptions.EntityManagerSetupException</p>\n</blockquote>\n<blockquote>\n<p>[INFO] Exception Description: Deployment of PersistenceUnit [jpa-unit] failed. Close all factories for this PersistenceUnit.<br />\n[INFO] Internal Exception: Exception [EclipseLink-0] (Eclipse Persistence Services - 2.7.9.v20210604-2c549e2208): org.eclipse.persistence.exceptions.JPQLException<br />\n[INFO] Exception Description: Problem compiling [SELECT u FROM Sankofa.Users u].<br />\n[INFO] [14, 29] 'Sankofa.Users u' cannot be the first declaration of the FROM clause.</p>\n</blockquote>\n<p>UserDao</p>\n<pre><code>package dao;\n\nimport java.util.List;\nimport java.util.concurrent.TimeoutException;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n\nimport org.hyperledger.fabric.gateway.ContractException;\n\nimport javax.enterprise.context.RequestScoped;\nimport models.*;\n\n@RequestScoped\npublic class UserDao {\n    \n//DB2 Methods\n    @PersistenceContext(name = &quot;jpa-unit&quot;)\n    private EntityManager em;\n\n    public void createUser(Users user){\n        em.persist(user);\n    }\n    \n    public Users readUser(int userID){\n        return em.find(Users.class, userID);\n    }\n    //NEED TO DO set return limit to 20\n    public List&lt;Users&gt; readAllUsers(){\n        return em.createNamedQuery(&quot;Users.findAll&quot;, Users.class).getResultList();\n    }\n\n    public void updateUser(Users user){\n        em.merge(user);\n    }\n\n    public void deleteUser(Users userID){\n        em.remove(userID);\n    }\n\n    public List&lt;Users&gt; findUser(String email){\n        return em.createNamedQuery(&quot;Users.findUser&quot;, Users.class)\n            .setParameter(&quot;email&quot;, email)\n            .getResultList(); \n    }\n\n    public void createHistory(History hist){\n        em.persist(hist);\n    }\n    //wait this doesnt do anything? \n    public Users readHistory(int userID){\n        return em.find(Users.class, userID);\n    }\n\n    public List&lt;History&gt; readAllHistory(){\n        return em.createNamedQuery(&quot;History.findAll&quot;, History.class).getResultList();\n    }\n}\n</code></pre>\n<p>Users</p>\n<pre><code>package models;\n\nimport java.util.HashSet;\nimport java.util.Objects;\nimport java.util.Set;\n\nimport javax.json.Json;\nimport javax.json.JsonArrayBuilder;\nimport javax.json.JsonObject;\nimport javax.json.JsonObjectBuilder;\nimport javax.persistence.*;\nimport java.time.LocalDate;\n\n@Entity\n@Table(name = &quot;Users&quot;)\n@NamedQueries({\n    @NamedQuery(name = &quot;Users.findAll&quot;, query = &quot;SELECT u FROM Users u&quot;),\n    @NamedQuery(name = &quot;Users.findUser&quot;, query = &quot;SELECT usr FROM Users usr WHERE usr.email = :email&quot;)\n})\npublic class Users {\n\n    private static JsonObjectBuilder builder = Json.createObjectBuilder();\n\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Id\n    @Column(name = &quot;userId&quot;)\n    private int id;\n\n    @Column(name = &quot;firstName&quot;)\n    private String firstName;\n    @Column(name = &quot;lastName&quot;)\n    private String lastName;\n    @Column(name = &quot;gender&quot;)\n    private String gender;\n    @Column(name = &quot;address&quot;)\n    private String address;\n    @Column(name = &quot;email&quot;)\n    private String email;\n    @Column(name = &quot;password&quot;)\n    private String password;\n    @Column(name = &quot;dateOfBirth&quot;)\n    private LocalDate dateOfBirth;\n</code></pre>\n<p>Persistence.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.2&quot;\n    xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence \n                        http://xmlns.jcp.org/xml/ns/persistence/persistence_2_2.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;jpa-unit&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;mapping-file&gt;orm.xml&lt;/mapping-file&gt;\n        \n        &lt;properties&gt;\n            &lt;!-- Connection Specific --&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.DB2Dialect&quot;/&gt;\n            \n            &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.schema-generation.create-database-schemas&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.schema-generation.scripts.action&quot; value=&quot;create&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.schema-generation.scripts.create-target&quot; value=&quot;create.ddl&quot;/&gt;\n\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>Server.xml</p>\n<pre><code>&lt;server description=&quot;Obdoblock REST Server&quot;&gt;\n    &lt;featureManager&gt;\n        &lt;feature&gt;jaxrs-2.1&lt;/feature&gt;\n        &lt;feature&gt;openapi-3.1&lt;/feature&gt;\n        &lt;feature&gt;jpa-2.2&lt;/feature&gt;\n        &lt;feature&gt;cdi-2.0&lt;/feature&gt;\n    &lt;/featureManager&gt;\n  \n    &lt;httpEndpoint \n        httpPort=&quot;${default.http.port}&quot; \n        httpsPort=&quot;${default.https.port}&quot;\n        id=&quot;defaultHttpEndpoint&quot; \n        host=&quot;*&quot; \n    /&gt;\n\n    &lt;webApplication \n        location=&quot;hyperledger-api.war&quot; \n        contextRoot=&quot;${app.context.root}&quot;\n    /&gt;\n    \n    &lt;!-- DB2 Library Configuration --&gt;\n    &lt;library id=&quot;DB2JCCLib&quot;&gt;\n        &lt;file name=&quot;${shared.resource.dir}/jcc-11.5.6.0&quot; /&gt;\n    &lt;/library&gt;\n    \n    \n    &lt;dataSource id=&quot;DefaultDataSource&quot; jndiName=&quot;jdbc/db2&quot;&gt;\n        &lt;jdbcDriver libraryRef=&quot;jdbcLib&quot;/&gt;\n        &lt;properties.db2.jcc\n            databaseName=&quot;testdb&quot;\n            serverName=&quot;localhost&quot; \n            portNumber=&quot;50000&quot;\n            user=&quot;****&quot; password=&quot;****&quot;\n        /&gt;\n    &lt;/dataSource&gt;\n&lt;/server&gt;\n</code></pre>\n<p>Versions:</p>\n<ul>\n<li>Docker: 20.10.8, build 3967b7d</li>\n<li>DB2: ibm/db2 docker image version 11.5.6</li>\n<li>Maven: 3.8.3</li>\n<li>Java: JDK 14.0.2</li>\n</ul>\n<p>If needing any more details, I'm happy to provide them. Thanks, Dylan</p>\n"},{"tags":["java","spring","web-applications"],"comments":[{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":1,"creation_date":1427453172,"post_id":11815339,"comment_id":46792526,"body_markdown":"can anyone let me know difference between RequestContextListener and ContextLoaderListener","body":"can anyone let me know difference between RequestContextListener and ContextLoaderListener"}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1344159128,"creation_date":1344159128,"answer_id":11815348,"question_id":11815339,"body_markdown":"It will give you point of hook to put some code that you wish to be executed on web application deploy time","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>It will give you point of hook to put some code that you wish to be executed on web application deploy time</p>\n"},{"tags":[],"owner":{"account_id":1672011,"reputation":1318,"user_id":1538311,"display_name":"evg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344159643,"creation_date":1344159643,"answer_id":11815395,"question_id":11815339,"body_markdown":"Your understanding is correct. I wonder why you don&#39;t see any advantages in ContextLoaderListener. For example, you need to build a session factory (to manage database). This operation can take some time, so it&#39;s better to do it on startup. Of course you can do it with init servlets or something else, but the advantage of Spring&#39;s approach is that you make configuration without writing code.","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>Your understanding is correct. I wonder why you don't see any advantages in ContextLoaderListener. For example, you need to build a session factory (to manage database). This operation can take some time, so it's better to do it on startup. Of course you can do it with init servlets or something else, but the advantage of Spring's approach is that you make configuration without writing code.</p>\n"},{"tags":[],"owner":{"account_id":53073,"reputation":24000,"user_id":158658,"accept_rate":75,"display_name":"sourcedelica"},"down_vote_count":0,"up_vote_count":123,"is_accepted":true,"score":123,"last_activity_date":1635811379,"creation_date":1344178205,"answer_id":11817368,"question_id":11815339,"body_markdown":"Your understanding is correct.  The `ApplicationContext` is where your Spring beans live.  The purpose of the `ContextLoaderListener` is two-fold:\r\n\r\n1. to tie the lifecycle of the `ApplicationContext` to the lifecycle of the `ServletContext` and\r\n\r\n2. to automate the creation of the `ApplicationContext`, so you don&#39;t have to write explicit code to do create it - it&#39;s a convenience function. \r\n\r\nAnother convenient thing about the `ContextLoaderListener` is that it creates a `WebApplicationContext` and provides access to the `ServletContext` via [`ServletContextAware`][1] beans and the `getServletContext` method.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/context/ServletContextAware.html#setServletContext%28javax.servlet.ServletContext%29","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>Your understanding is correct.  The <code>ApplicationContext</code> is where your Spring beans live.  The purpose of the <code>ContextLoaderListener</code> is two-fold:</p>\n<ol>\n<li><p>to tie the lifecycle of the <code>ApplicationContext</code> to the lifecycle of the <code>ServletContext</code> and</p>\n</li>\n<li><p>to automate the creation of the <code>ApplicationContext</code>, so you don't have to write explicit code to do create it - it's a convenience function.</p>\n</li>\n</ol>\n<p>Another convenient thing about the <code>ContextLoaderListener</code> is that it creates a <code>WebApplicationContext</code> and provides access to the <code>ServletContext</code> via <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/web/context/ServletContextAware.html#setServletContext%28javax.servlet.ServletContext%29\" rel=\"noreferrer\"><code>ServletContextAware</code></a> beans and the <code>getServletContext</code> method.</p>\n"},{"tags":[],"owner":{"account_id":175234,"reputation":4172,"user_id":405117,"accept_rate":74,"display_name":"Vikram"},"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1411422500,"creation_date":1394324618,"answer_id":22276881,"question_id":11815339,"body_markdown":"&lt;!-- language-all: lang-xml --&gt;\r\n\r\n`ContextLoaderListener` is *optional*. Just to make a point here: you can boot up a Spring application without ever configuring `ContextLoaderListener`, just a basic minimum `web.xml` with `DispatcherServlet`.\r\n\r\nHere is what it would look like:\r\n\r\n**web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app \r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n        xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; \r\n        xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; \r\n        xsi:schemaLocation=&quot;\r\n            http://java.sun.com/xml/ns/javaee \r\n            http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; \r\n        id=&quot;WebApp_ID&quot; \r\n        version=&quot;2.5&quot;&gt;\r\n      &lt;display-name&gt;Some Minimal Webapp&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;   \r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;    \r\n      &lt;/welcome-file-list&gt;\r\n      \r\n      &lt;servlet&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;\r\n          org.springframework.web.servlet.DispatcherServlet\r\n        &lt;/servlet-class&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n       \r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nCreate a file called `dispatcher-servlet.xml` and store it under `WEB-INF`. Since we mentioned `index.jsp` in welcome list, add this file under `WEB-INF`.\r\n\r\n**dispatcher-servlet.xml**\r\n\r\nIn the `dispatcher-servlet.xml` define your beans:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans \r\n        xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n        xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n        xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans.xsd     \r\n            http://www.springframework.org/schema/context     \r\n            http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n     \r\n        &lt;bean id=&quot;bean1&quot;&gt;\r\n          ...\r\n        &lt;/bean&gt;\r\n        &lt;bean id=&quot;bean2&quot;&gt;\r\n          ...\r\n    \t&lt;/bean&gt;         \r\n\r\n        &lt;context:component-scan base-package=&quot;com.example&quot; /&gt;\r\n        &lt;!-- Import your other configuration files too --&gt;\r\n        &lt;import resource=&quot;other-configs.xml&quot;/&gt;\r\n        &lt;import resource=&quot;some-other-config.xml&quot;/&gt;\r\n    \t\r\n        &lt;!-- View Resolver --&gt;\r\n        &lt;bean \r\n            id=&quot;viewResolver&quot; \r\n            class=&quot;org.springframework.web.servlet.view.UrlBasedViewResolver&quot;&gt;\r\n          &lt;property \r\n              name=&quot;viewClass&quot; \r\n              value=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\r\n          &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt;\r\n          &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"\n\n<p><code>ContextLoaderListener</code> is <em>optional</em>. Just to make a point here: you can boot up a Spring application without ever configuring <code>ContextLoaderListener</code>, just a basic minimum <code>web.xml</code> with <code>DispatcherServlet</code>.</p>\n\n<p>Here is what it would look like:</p>\n\n<p><strong>web.xml</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app \n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n    xmlns=\"http://java.sun.com/xml/ns/javaee\" \n    xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" \n    xsi:schemaLocation=\"\n        http://java.sun.com/xml/ns/javaee \n        http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" \n    id=\"WebApp_ID\" \n    version=\"2.5\"&gt;\n  &lt;display-name&gt;Some Minimal Webapp&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;   \n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;    \n  &lt;/welcome-file-list&gt;\n\n  &lt;servlet&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;\n      org.springframework.web.servlet.DispatcherServlet\n    &lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;dispatcher&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Create a file called <code>dispatcher-servlet.xml</code> and store it under <code>WEB-INF</code>. Since we mentioned <code>index.jsp</code> in welcome list, add this file under <code>WEB-INF</code>.</p>\n\n<p><strong>dispatcher-servlet.xml</strong></p>\n\n<p>In the <code>dispatcher-servlet.xml</code> define your beans:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans \n    xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd     \n        http://www.springframework.org/schema/context     \n        http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n    &lt;bean id=\"bean1\"&gt;\n      ...\n    &lt;/bean&gt;\n    &lt;bean id=\"bean2\"&gt;\n      ...\n    &lt;/bean&gt;         \n\n    &lt;context:component-scan base-package=\"com.example\" /&gt;\n    &lt;!-- Import your other configuration files too --&gt;\n    &lt;import resource=\"other-configs.xml\"/&gt;\n    &lt;import resource=\"some-other-config.xml\"/&gt;\n\n    &lt;!-- View Resolver --&gt;\n    &lt;bean \n        id=\"viewResolver\" \n        class=\"org.springframework.web.servlet.view.UrlBasedViewResolver\"&gt;\n      &lt;property \n          name=\"viewClass\" \n          value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n      &lt;property name=\"prefix\" value=\"/WEB-INF/jsp/\" /&gt;\n      &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4000249,"reputation":1,"user_id":3296460,"display_name":"SathishSakthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401434110,"creation_date":1401434110,"answer_id":23949061,"question_id":11815339,"body_markdown":"If we write web.xml without ContextLoaderListener then we cant give the athuntication using customAuthenticationProvider in spring  security. Because DispatcherServelet is the child context of ContextLoaderListener, customAuthenticationProvider is the part of parentContext that is ContextLoaderListener. So parent Context cannot have the dependencies of child context. And so it is best practice to write spring-context.xml in contextparam instead of write it in the initparam.","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>If we write web.xml without ContextLoaderListener then we cant give the athuntication using customAuthenticationProvider in spring  security. Because DispatcherServelet is the child context of ContextLoaderListener, customAuthenticationProvider is the part of parentContext that is ContextLoaderListener. So parent Context cannot have the dependencies of child context. And so it is best practice to write spring-context.xml in contextparam instead of write it in the initparam.</p>\n"},{"tags":[],"owner":{"account_id":2370815,"reputation":1029,"user_id":2075487,"accept_rate":72,"display_name":"Dileepa"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1429707013,"creation_date":1429707013,"answer_id":29798132,"question_id":11815339,"body_markdown":"The blog, &quot;[Purpose of ContextLoaderListener  Spring MVC][1]&quot; gives a very good explanation.\r\n\r\nAccording to it, Application-Contexts are hierarchial and hence DispatcherSerlvet&#39;s context becomes the child of ContextLoaderListener&#39;s context. Due to which, technology being used in the controller layer (Struts or Spring MVC) can independent of root context created ContextLoaderListener.\r\n\r\n  [1]: https://schoudari.wordpress.com/2012/07/23/purpose-of-contextloaderlistener-spring-mvc/","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>The blog, \"<a href=\"https://schoudari.wordpress.com/2012/07/23/purpose-of-contextloaderlistener-spring-mvc/\" rel=\"noreferrer\">Purpose of ContextLoaderListener  Spring MVC</a>\" gives a very good explanation.</p>\n\n<p>According to it, Application-Contexts are hierarchial and hence DispatcherSerlvet's context becomes the child of ContextLoaderListener's context. Due to which, technology being used in the controller layer (Struts or Spring MVC) can independent of root context created ContextLoaderListener.</p>\n"},{"tags":[],"owner":{"account_id":1406827,"reputation":1134,"user_id":1334305,"accept_rate":29,"display_name":"user666"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433290594,"creation_date":1433290594,"answer_id":30608732,"question_id":11815339,"body_markdown":"I believe its real use comes when you want to have more than one config files or you have **xyz.xml** file instead of applicationcontext.xml for eg\r\n\r\n `&lt;context-param&gt;&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n&lt;param-value&gt;/WEB-INF/training-service.xml,\r\n/WEB-INF/training-data.xml&lt;/param-value&gt;\r\n&lt;/context-param&gt;`\r\n\r\nAnother approach to ContextLoaderListener is using ContextLoaderServlet like below\r\n\r\n   ` &lt;servlet&gt;\r\n&lt;servlet-name&gt;context&lt;/servlet-name&gt;\r\n&lt;servlet-class&gt;org.springframework.web.context.ContextLoaderServlet&lt;/servlet-class&gt;\r\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n&lt;/servlet&gt;`","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>I believe its real use comes when you want to have more than one config files or you have <strong>xyz.xml</strong> file instead of applicationcontext.xml for eg</p>\n\n<p><code>&lt;context-param&gt;&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n&lt;param-value&gt;/WEB-INF/training-service.xml,\n/WEB-INF/training-data.xml&lt;/param-value&gt;\n&lt;/context-param&gt;</code></p>\n\n<p>Another approach to ContextLoaderListener is using ContextLoaderServlet like below</p>\n\n<p><code>&lt;servlet&gt;\n&lt;servlet-name&gt;context&lt;/servlet-name&gt;\n&lt;servlet-class&gt;org.springframework.web.context.ContextLoaderServlet&lt;/servlet-class&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":147167,"reputation":2559,"user_id":358099,"accept_rate":47,"display_name":"bharanitharan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447311714,"creation_date":1447311714,"answer_id":33665912,"question_id":11815339,"body_markdown":"Listener class - Listens on an event (Eg.. Server startup/shutdown)  \r\n\r\nContextLoaderListener - \r\n\r\n1. Listens during server start up/shutdown\r\n2. Takes the Spring configuration files as input and creates the beans as per configuration and make it ready (destroys the bean during shutdown)\r\n3. Configuration files can be provided like this in web.xml\r\n\r\n   \r\n\r\n     \r\n    \r\n     \r\n    \t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;  \r\n    \t&lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;  \r\n    \r\n    \r\n   \r\n\r\n \r\n\r\n","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>Listener class - Listens on an event (Eg.. Server startup/shutdown)  </p>\n\n<p>ContextLoaderListener - </p>\n\n<ol>\n<li>Listens during server start up/shutdown</li>\n<li>Takes the Spring configuration files as input and creates the beans as per configuration and make it ready (destroys the bean during shutdown)</li>\n<li><p>Configuration files can be provided like this in web.xml</p>\n\n<pre><code>&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;  \n&lt;param-value&gt;/WEB-INF/dispatcher-servlet.xml&lt;/param-value&gt;  \n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1004885,"reputation":2420,"user_id":1018906,"display_name":"xli"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1456518341,"creation_date":1456518341,"answer_id":35661080,"question_id":11815339,"body_markdown":"For a simple Spring application, you don&#39;t have to define `ContextLoaderListener` in your `web.xml`; you can just put all your Spring configuration files in `&lt;servlet&gt;`:\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;hello&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;classpath:spring/mvc-core-config.xml, classpath:spring/business-config.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\nFor a more complex Spring application, where you have multiple `DispatcherServlet` defined, you can have the common Spring configuration files that are shared by all the `DispatcherServlet` defined in the `ContextLoaderListener`:\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;classpath:spring/common-config.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;mvc1&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;classpath:spring/mvc1-config.xml&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;mvc2&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;classpath:spring/mvc2-config.xmll&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\nJust keep in mind, `ContextLoaderListener` performs the actual initialization work for the **root** application context.\r\n\r\nI found this article helps a lot:\r\n[Spring MVC  Application Context vs Web Application Context][1]\r\n\r\n\r\n  [1]: http://www.javabeat.net/spring-mvc-application-context/","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>For a simple Spring application, you don't have to define <code>ContextLoaderListener</code> in your <code>web.xml</code>; you can just put all your Spring configuration files in <code>&lt;servlet&gt;</code>:</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;hello&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:spring/mvc-core-config.xml, classpath:spring/business-config.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n\n<p>For a more complex Spring application, where you have multiple <code>DispatcherServlet</code> defined, you can have the common Spring configuration files that are shared by all the <code>DispatcherServlet</code> defined in the <code>ContextLoaderListener</code>:</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;classpath:spring/common-config.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;mvc1&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:spring/mvc1-config.xml&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet&gt;\n    &lt;servlet-name&gt;mvc2&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;classpath:spring/mvc2-config.xmll&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n</code></pre>\n\n<p>Just keep in mind, <code>ContextLoaderListener</code> performs the actual initialization work for the <strong>root</strong> application context.</p>\n\n<p>I found this article helps a lot:\n<a href=\"http://www.javabeat.net/spring-mvc-application-context/\">Spring MVC  Application Context vs Web Application Context</a></p>\n"},{"tags":[],"owner":{"account_id":8483215,"reputation":69,"user_id":6362305,"display_name":"Dungeon_master"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1464195730,"creation_date":1464195353,"answer_id":37443368,"question_id":11815339,"body_markdown":"When you want to put your Servlet file in your custom location or with custom name, rather than the default naming convention `[servletname]-servlet.xml` and path under `Web-INF/` ,then you can use `ContextLoaderListener`.","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>When you want to put your Servlet file in your custom location or with custom name, rather than the default naming convention <code>[servletname]-servlet.xml</code> and path under <code>Web-INF/</code> ,then you can use <code>ContextLoaderListener</code>.</p>\n"},{"tags":[],"owner":{"account_id":4735248,"reputation":2938,"user_id":3829818,"display_name":"Prashant_M"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467292039,"creation_date":1467286908,"answer_id":38122078,"question_id":11815339,"body_markdown":"ContextLoaderListner is a Servlet listener that loads all the different configuration files (service layer configuration, persistence layer configuration etc) into single spring application context.\r\n\r\nThis helps to split spring configurations across multiple XML files.\r\n\r\nOnce the context files are loaded, Spring creates a WebApplicationContext object based on the bean definition and stores it in the ServletContext of your web application.","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>ContextLoaderListner is a Servlet listener that loads all the different configuration files (service layer configuration, persistence layer configuration etc) into single spring application context.</p>\n\n<p>This helps to split spring configurations across multiple XML files.</p>\n\n<p>Once the context files are loaded, Spring creates a WebApplicationContext object based on the bean definition and stores it in the ServletContext of your web application.</p>\n"},{"tags":[],"owner":{"account_id":5100890,"reputation":2796,"user_id":4090550,"display_name":"Anil Agrawal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1470769481,"creation_date":1470768702,"answer_id":38858337,"question_id":11815339,"body_markdown":"Basically you can isolate your root application context and web application context using ContextLoaderListner.\r\n\r\nThe config file mapped with context param will behave as root application context configuration. And config file mapped with dispatcher servlet will behave like web application context.\r\n\r\nIn any web application we may have multiple dispatcher servlets, so multiple web application contexts.\r\n\r\nBut in any web application we may have only one root application context that is shared with all web application contexts.\r\n\r\nWe should define our common services, entities, aspects etc in root application context. And controllers, interceptors etc are in relevant web application context.\r\n\r\nA sample web.xml is\r\n\r\n    &lt;!-- language: xml --&gt;\r\n    &lt;web-app&gt;\r\n\r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextClass&lt;/param-name&gt;\r\n     \t\t&lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&lt;/param-value&gt;\r\n     \t&lt;/context-param&gt;\r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;example.config.AppConfig&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;restEntryPoint&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextClass&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;example.config.RestConfig&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\t\t\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;restEntryPoint&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;webEntryPoint&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextClass&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;example.config.WebConfig&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\t\t\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\t\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;webEntryPoint&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n\r\n    &lt;/web-app&gt; \r\n\r\nHere config class example.config.AppConfig can be used to configure services, entities, aspects etc in root application context that will be shared with all other web application contexts (for example here we have two web application context config classes RestConfig and WebConfig)\r\n\r\nPS: Here ContextLoaderListener is completely optional. If we will not mention ContextLoaderListener in web.xml here, AppConfig will not work. In that case we need to configure all our services and entities in WebConfig and Rest Config.","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>Basically you can isolate your root application context and web application context using ContextLoaderListner.</p>\n\n<p>The config file mapped with context param will behave as root application context configuration. And config file mapped with dispatcher servlet will behave like web application context.</p>\n\n<p>In any web application we may have multiple dispatcher servlets, so multiple web application contexts.</p>\n\n<p>But in any web application we may have only one root application context that is shared with all web application contexts.</p>\n\n<p>We should define our common services, entities, aspects etc in root application context. And controllers, interceptors etc are in relevant web application context.</p>\n\n<p>A sample web.xml is</p>\n\n<pre><code>&lt;!-- language: xml --&gt;\n&lt;web-app&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextClass&lt;/param-name&gt;\n        &lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;example.config.AppConfig&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;restEntryPoint&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextClass&lt;/param-name&gt;\n            &lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;example.config.RestConfig&lt;/param-value&gt;\n        &lt;/init-param&gt;       \n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;restEntryPoint&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;webEntryPoint&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextClass&lt;/param-name&gt;\n            &lt;param-value&gt;org.springframework.web.context.support.AnnotationConfigWebApplicationContext&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;example.config.WebConfig&lt;/param-value&gt;\n        &lt;/init-param&gt;       \n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;  \n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;webEntryPoint&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt; \n</code></pre>\n\n<p>Here config class example.config.AppConfig can be used to configure services, entities, aspects etc in root application context that will be shared with all other web application contexts (for example here we have two web application context config classes RestConfig and WebConfig)</p>\n\n<p>PS: Here ContextLoaderListener is completely optional. If we will not mention ContextLoaderListener in web.xml here, AppConfig will not work. In that case we need to configure all our services and entities in WebConfig and Rest Config.</p>\n"},{"tags":[],"owner":{"account_id":5565784,"reputation":425,"user_id":4413164,"accept_rate":0,"display_name":"Salahin Rocky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1470840609,"creation_date":1470840609,"answer_id":38876788,"question_id":11815339,"body_markdown":"In the context of spring framework purpose of **ContextLoaderListener** is to load the other beans in your application such as the middle-tier and data-tier components that drive the back end of the application.","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>In the context of spring framework purpose of <strong>ContextLoaderListener</strong> is to load the other beans in your application such as the middle-tier and data-tier components that drive the back end of the application.</p>\n"},{"tags":[],"owner":{"account_id":1262889,"reputation":81,"user_id":1220773,"display_name":"Manjeet Rulhania"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508612757,"creation_date":1508612757,"answer_id":46866986,"question_id":11815339,"body_markdown":"[![enter image description here][1]][1]This Bootstrap listener is to start up and shut down Spring&#39;s **root** WebApplicationContext. As a web application can have multiple dispatcher servlet and each having its own application context containing controllers, view resolver, handler mappings etc But you might want to have service beans, DAO beans in root application context and want to use in all child application context(application context created by dispatcher servlets).\r\n\r\n2nd use of this listener is when you want to use spring security.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hiv9t.gif","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p><a href=\"https://i.stack.imgur.com/hiv9t.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hiv9t.gif\" alt=\"enter image description here\"></a>This Bootstrap listener is to start up and shut down Spring's <strong>root</strong> WebApplicationContext. As a web application can have multiple dispatcher servlet and each having its own application context containing controllers, view resolver, handler mappings etc But you might want to have service beans, DAO beans in root application context and want to use in all child application context(application context created by dispatcher servlets).</p>\n\n<p>2nd use of this listener is when you want to use spring security.</p>\n"},{"tags":[],"owner":{"account_id":5720116,"reputation":191,"user_id":4518807,"display_name":"siddharth nawani"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1572153738,"creation_date":1572153738,"answer_id":58576834,"question_id":11815339,"body_markdown":"Root and child contexts\r\nBefore reading further, please understand that \r\n\r\nSpring can have multiple contexts at a time. One of them will be root context, and all other contexts will be child contexts.\r\n\r\nAll child contexts can access the beans defined in root context; but opposite is not true. Root context cannot access child contexts beans.\r\n\r\n\r\nApplicationContext :\r\n\r\napplicationContext.xml is the root context configuration for every web application.\r\nSpring loads applicationContext.xml file and creates the ApplicationContext for the whole application.\r\nThere will be only one application context per web application.\r\nIf you are not explicitly declaring the context configuration file name in web.xml using the contextConfigLocation param, Spring will search for the applicationContext.xml under WEB-INF folder and throw FileNotFoundException if it could not find this file.\r\n\r\nContextLoaderListener\r\nPerforms the actual initialization work for the root application context.\r\nReads a contextConfigLocation context-param and passes its value to the context instance, parsing it into potentially multiple file paths which can be separated by any number of commas and spaces, e.g. WEB-INF/applicationContext1.xml, WEB-INF/applicationContext2.xml.\r\nContextLoaderListener is optional. Just to make a point here: you can boot up a Spring application without ever configuring ContextLoaderListener, just a basic minimum web.xml with DispatcherServlet.\r\n\r\nDispatcherServlet \r\nDispatcherServlet is essentially a Servlet (it extends HttpServlet) whose primary purpose is to handle incoming web requests matching the configured URL pattern. It take an incoming URI and find the right combination of controller and view. So it is the front controller.\r\n\r\nWhen you define a DispatcherServlet in spring configuration, you provide an XML file with entries of controller classes, views mappings etc. using contextConfigLocation attribute.\r\n\r\nWebApplicationContext\r\nApart from ApplicationContext, there can be multiple WebApplicationContext in a single web application.\r\nIn simple words, each DispatcherServlet associated with single WebApplicationContext.\r\nxxx-servlet.xml file is specific to the DispatcherServlet and a web application can have more than one DispatcherServlet configured to handle the requests.\r\nIn such scenarios, each DispatcherServlet would have a separate xxx-servlet.xml configured. But, applicationContext.xml will be common for all the servlet configuration files.\r\nSpring will by default load file named xxx-servlet.xml from your webapps WEB-INF folder where xxx is the servlet name in web.xml.\r\nIf you want to change the name of that file name or change the location, add initi-param with contextConfigLocation as param name.\r\n\r\n\r\nComparison and relation between them :\r\n\r\nContextLoaderListener vs DispatcherServlet\r\n\r\nContextLoaderListener creates root application context.\r\nDispatcherServlet entries create one child application context per servlet entry.\r\nChild contexts can access beans defined in root context.\r\nBeans in root context cannot access beans in child contexts (directly).\r\nAll contexts are added to ServletContext.\r\nYou can access root context using WebApplicationContextUtils class.\r\n\r\n\r\nAfter reading the Spring documentation, following is the understanding:\r\n\r\na) Application-Contexts are hierarchial and so are WebApplicationContexts. Refer documentation here.\r\n\r\nb) ContextLoaderListener creates a root web-application-context for the web-application and puts it in the ServletContext. This context can be used to load and unload the spring-managed beans ir-respective of what technology is being used in the controller layer(Struts or Spring MVC).\r\n\r\nc) DispatcherServlet creates its own WebApplicationContext and the handlers/controllers/view-resolvers are managed by this context.\r\n\r\nd) When ContextLoaderListener is used in tandem with DispatcherServlet, a root web-application-context is created first as said earlier and a child-context is also created by DispatcherSerlvet and is attached to the root application-context. Refer documentation here.\r\n\r\n\r\n\r\n\r\nWhen we are working with Spring MVC and are also using Spring in the services layer, we provide two application-contexts. The first one is configured using ContextLoaderListener and the other with DispatcherServlet\r\n\r\nGenerally, you will define all MVC related beans (controller and views etc) in DispatcherServlet context, and all cross-cutting beans such as security, transaction, services etc. at root context by ContextLoaderListener.\r\n\r\nRefer this for more details : \r\nhttps://siddharthnawani.blogspot.com/2019/10/contextloaderlistener-vs.html","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>Root and child contexts\nBefore reading further, please understand that </p>\n\n<p>Spring can have multiple contexts at a time. One of them will be root context, and all other contexts will be child contexts.</p>\n\n<p>All child contexts can access the beans defined in root context; but opposite is not true. Root context cannot access child contexts beans.</p>\n\n<p>ApplicationContext :</p>\n\n<p>applicationContext.xml is the root context configuration for every web application.\nSpring loads applicationContext.xml file and creates the ApplicationContext for the whole application.\nThere will be only one application context per web application.\nIf you are not explicitly declaring the context configuration file name in web.xml using the contextConfigLocation param, Spring will search for the applicationContext.xml under WEB-INF folder and throw FileNotFoundException if it could not find this file.</p>\n\n<p>ContextLoaderListener\nPerforms the actual initialization work for the root application context.\nReads a contextConfigLocation context-param and passes its value to the context instance, parsing it into potentially multiple file paths which can be separated by any number of commas and spaces, e.g. WEB-INF/applicationContext1.xml, WEB-INF/applicationContext2.xml.\nContextLoaderListener is optional. Just to make a point here: you can boot up a Spring application without ever configuring ContextLoaderListener, just a basic minimum web.xml with DispatcherServlet.</p>\n\n<p>DispatcherServlet \nDispatcherServlet is essentially a Servlet (it extends HttpServlet) whose primary purpose is to handle incoming web requests matching the configured URL pattern. It take an incoming URI and find the right combination of controller and view. So it is the front controller.</p>\n\n<p>When you define a DispatcherServlet in spring configuration, you provide an XML file with entries of controller classes, views mappings etc. using contextConfigLocation attribute.</p>\n\n<p>WebApplicationContext\nApart from ApplicationContext, there can be multiple WebApplicationContext in a single web application.\nIn simple words, each DispatcherServlet associated with single WebApplicationContext.\nxxx-servlet.xml file is specific to the DispatcherServlet and a web application can have more than one DispatcherServlet configured to handle the requests.\nIn such scenarios, each DispatcherServlet would have a separate xxx-servlet.xml configured. But, applicationContext.xml will be common for all the servlet configuration files.\nSpring will by default load file named xxx-servlet.xml from your webapps WEB-INF folder where xxx is the servlet name in web.xml.\nIf you want to change the name of that file name or change the location, add initi-param with contextConfigLocation as param name.</p>\n\n<p>Comparison and relation between them :</p>\n\n<p>ContextLoaderListener vs DispatcherServlet</p>\n\n<p>ContextLoaderListener creates root application context.\nDispatcherServlet entries create one child application context per servlet entry.\nChild contexts can access beans defined in root context.\nBeans in root context cannot access beans in child contexts (directly).\nAll contexts are added to ServletContext.\nYou can access root context using WebApplicationContextUtils class.</p>\n\n<p>After reading the Spring documentation, following is the understanding:</p>\n\n<p>a) Application-Contexts are hierarchial and so are WebApplicationContexts. Refer documentation here.</p>\n\n<p>b) ContextLoaderListener creates a root web-application-context for the web-application and puts it in the ServletContext. This context can be used to load and unload the spring-managed beans ir-respective of what technology is being used in the controller layer(Struts or Spring MVC).</p>\n\n<p>c) DispatcherServlet creates its own WebApplicationContext and the handlers/controllers/view-resolvers are managed by this context.</p>\n\n<p>d) When ContextLoaderListener is used in tandem with DispatcherServlet, a root web-application-context is created first as said earlier and a child-context is also created by DispatcherSerlvet and is attached to the root application-context. Refer documentation here.</p>\n\n<p>When we are working with Spring MVC and are also using Spring in the services layer, we provide two application-contexts. The first one is configured using ContextLoaderListener and the other with DispatcherServlet</p>\n\n<p>Generally, you will define all MVC related beans (controller and views etc) in DispatcherServlet context, and all cross-cutting beans such as security, transaction, services etc. at root context by ContextLoaderListener.</p>\n\n<p>Refer this for more details : \n<a href=\"https://siddharthnawani.blogspot.com/2019/10/contextloaderlistener-vs.html\" rel=\"noreferrer\">https://siddharthnawani.blogspot.com/2019/10/contextloaderlistener-vs.html</a></p>\n"}],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153862,"favorite_count":0,"down_vote_count":0,"up_vote_count":180,"accepted_answer_id":11817368,"answer_count":15,"score":180,"last_activity_date":1635811379,"creation_date":1344159053,"question_id":11815339,"body_markdown":"I am learning *Spring Framework* which is being used in my project. I found the  ***ContextLoaderListener*** entry in my *web.xml* file. But could not figure out how exactly it helps a developer?\r\n\r\nIn the official documentation of [*ContextLoaderListener*](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/ContextLoaderListener.html) it says  it is to start *WebApplicationContext*. Regarding [*WebApplicationContext*](http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/WebApplicationContext.html) JavaDocs say:\r\n\r\n&gt; Interface to provide configuration for a web application.\r\n\r\n&lt;br&gt;\r\nBut I am not able to understand what I am achieving with *ContextLoaderListener* which internally initializes the *WebApplicationContext* ?\r\n\r\n**As per my understanding**, *ContextLoaderListener*  reads the Spring configuration file (with value given against contextConfigLocation in *web.xml*), parses it and loads the *singleton bean* defined in that config file. Similarly when we want to load *prototype bean*, we will use same webapplication context to load it. So we initialize the webapplication  with *ContextLoaderListener* so that we read/parse/validate the config file in advance and whenever we wan to inject dependency we can straightaway do it without any delay. Is this understanding correct?","title":"Role/Purpose of ContextLoaderListener in Spring?","body":"<p>I am learning <em>Spring Framework</em> which is being used in my project. I found the  <strong><em>ContextLoaderListener</em></strong> entry in my <em>web.xml</em> file. But could not figure out how exactly it helps a developer?</p>\n\n<p>In the official documentation of <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/ContextLoaderListener.html\"><em>ContextLoaderListener</em></a> it says  it is to start <em>WebApplicationContext</em>. Regarding <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/context/WebApplicationContext.html\"><em>WebApplicationContext</em></a> JavaDocs say:</p>\n\n<blockquote>\n  <p>Interface to provide configuration for a web application.</p>\n</blockquote>\n\n<p><br>\nBut I am not able to understand what I am achieving with <em>ContextLoaderListener</em> which internally initializes the <em>WebApplicationContext</em> ?</p>\n\n<p><strong>As per my understanding</strong>, <em>ContextLoaderListener</em>  reads the Spring configuration file (with value given against contextConfigLocation in <em>web.xml</em>), parses it and loads the <em>singleton bean</em> defined in that config file. Similarly when we want to load <em>prototype bean</em>, we will use same webapplication context to load it. So we initialize the webapplication  with <em>ContextLoaderListener</em> so that we read/parse/validate the config file in advance and whenever we wan to inject dependency we can straightaway do it without any delay. Is this understanding correct?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1750515,"reputation":6073,"user_id":1599699,"accept_rate":80,"display_name":"Andrew"},"score":0,"creation_date":1509556354,"post_id":765751,"comment_id":81067873,"body_markdown":"It drives the code.","body":"It drives the code."}],"answers":[{"tags":[],"owner":{"account_id":29046,"reputation":66704,"user_id":78182,"accept_rate":94,"display_name":"Stefan Kendall"},"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1240162072,"creation_date":1240162072,"answer_id":765758,"question_id":765751,"body_markdown":"A &quot;Driver class&quot; is often just the class that contains a main. In a real project, you may often have numerous &quot;Driver classes&quot; for testing and whatnot, or you can build a main into any of your objects and select the runnable class through your IDE, or by simply specifying &quot;java classname.&quot;","title":"What is a &quot;driver class&quot;?","body":"<p>A \"Driver class\" is often just the class that contains a main. In a real project, you may often have numerous \"Driver classes\" for testing and whatnot, or you can build a main into any of your objects and select the runnable class through your IDE, or by simply specifying \"java classname.\"</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1240162077,"creation_date":1240162077,"answer_id":765759,"question_id":765751,"body_markdown":"Without context, it&#39;s hard to tell. Is it talking about a JDBC driver, perhaps? If so, the driver class is responsible for implementing the [java.sql.Driver][1] interface for a particular database, so that clients can write code in a db-agnostic way. The JDBC infrastructure works out which driver to use based on the connection string.\r\n\r\nIf the book wasn&#39;t talking about JDBC though, we&#39;ll need more context.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/sql/Driver.html","title":"What is a &quot;driver class&quot;?","body":"<p>Without context, it's hard to tell. Is it talking about a JDBC driver, perhaps? If so, the driver class is responsible for implementing the <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/Driver.html\" rel=\"noreferrer\">java.sql.Driver</a> interface for a particular database, so that clients can write code in a db-agnostic way. The JDBC infrastructure works out which driver to use based on the connection string.</p>\n\n<p>If the book wasn't talking about JDBC though, we'll need more context.</p>\n"},{"tags":[],"owner":{"account_id":615558,"reputation":31,"user_id":347387,"display_name":"java newbie"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1274469633,"creation_date":1274469633,"answer_id":2884918,"question_id":765751,"body_markdown":"&quot;driver class&quot; could refer to a procedural programming style involving:\r\n(1) &quot;container classes&quot; and (2) &quot;driver classes&quot;\r\n\r\nSay that you are creating your own object as a container for data.\r\nThen you might want to create two types of classes:  &quot;containers&quot; and &quot;drivers&quot;\r\n\r\nThe &quot;container class&quot; might contain:\r\n- instance variables to hold the relevant data\r\n- getters and setters \r\n- methods to support moving data in/out of class (parsing, translation)\r\n- limited computations\r\n\r\nThe &quot;driver class&quot; might contain:\r\n- main method that drives the execution of the overall task (aka entry point for execution)\r\n- calls to static methods, as with procedural programming\r\n- instances of container class objects to hold different data (may be organized in other data structures, e.g. arrays; manipulated to solve overall task)\r\n","title":"What is a &quot;driver class&quot;?","body":"<p>\"driver class\" could refer to a procedural programming style involving:\n(1) \"container classes\" and (2) \"driver classes\"</p>\n\n<p>Say that you are creating your own object as a container for data.\nThen you might want to create two types of classes:  \"containers\" and \"drivers\"</p>\n\n<p>The \"container class\" might contain:\n- instance variables to hold the relevant data\n- getters and setters \n- methods to support moving data in/out of class (parsing, translation)\n- limited computations</p>\n\n<p>The \"driver class\" might contain:\n- main method that drives the execution of the overall task (aka entry point for execution)\n- calls to static methods, as with procedural programming\n- instances of container class objects to hold different data (may be organized in other data structures, e.g. arrays; manipulated to solve overall task)</p>\n"},{"tags":[],"owner":{"account_id":656183,"reputation":111,"user_id":457435,"display_name":"NellyRed"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1355237358,"creation_date":1285340447,"answer_id":3788335,"question_id":765751,"body_markdown":"According to my Java book:\r\n\r\n&gt; A driver class is a class that is in charge of running other classes. Just as the computer term &quot;Software Driver&quot; refers to a piece of software that runs or drives something else.\r\n\r\n","title":"What is a &quot;driver class&quot;?","body":"<p>According to my Java book:</p>\n\n<blockquote>\n  <p>A driver class is a class that is in charge of running other classes. Just as the computer term \"Software Driver\" refers to a piece of software that runs or drives something else.</p>\n</blockquote>\n"}],"owner":{"account_id":32661,"reputation":49780,"user_id":90777,"accept_rate":86,"display_name":"lfaraone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106099,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":765758,"answer_count":4,"score":24,"last_activity_date":1635811334,"creation_date":1240161862,"question_id":765751,"body_markdown":"I was reading through a Java textbook, and it mentions something called a &quot;driver class&quot;. What is it, and how is it different from a normal class?","title":"What is a &quot;driver class&quot;?","body":"<p>I was reading through a Java textbook, and it mentions something called a \"driver class\". What is it, and how is it different from a normal class?</p>\n"},{"tags":["java","generics","wildcard","extends"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635811208,"creation_date":1635811208,"answer_id":69804005,"question_id":69803973,"body_markdown":"&gt; Logicallystatic double sumOfList(List&lt;? extends Double&gt; list) will make the function become read-only mode\r\n\r\nSee, that&#39;s the problem with programming. It&#39;s too complicated - so we provide oversimplified explanations.\r\n\r\nYou&#39;ve been the victim of this. `List&lt;? extends Double&gt;` is __not__ a &#39;read only list&#39;.\r\n\r\nBut I can see how someone who was trying to be helpful told you that it was.\r\n\r\nSee, the point of `List&lt;? extends Something&gt;` is that it lets you provide a `List&lt;Something&gt;`, or a `List&lt;SomeChildOfSomething&gt;`. _IF_ it is then possible to invoke `.add(instanceOfSomething)` on such a thing, that&#39;s problem.\r\n\r\nImagine this method:\r\n\r\n```\r\nvoid foo(List&lt;? extends Number&gt; list) {\r\n   list.add(5); // an integer\r\n}\r\n\r\nList&lt;Double&gt; listOfDoubles = new ArrayList&lt;Double&gt;();\r\nfoo(listOfDoubles);\r\nlistOfDoubles.get(0); // oh dear. Now what?\r\n```\r\n\r\nSee the problem? A solution is to ensure that __all methods that would fail unless they know the precise type__ are disallowed. `add` is such a method. So is `addAll` and `set` for obvious reasons. You can&#39;t invoke those unless you know the list is either of the exact type of the expression you&#39;re passing to those methods, or a supertype of it (which is why you _can_ invoke `.add` on a `List&lt;? super Double&gt;` just fine).\r\n\r\nBut the methods that modify the list which do _not_ cause such issues - basically everything that doesn&#39;t take a (collection of) elements of type T, such as `.clear()`, `.remove()`, `removeIf`, etc?\r\n\r\nThose are just fine.\r\n\r\nTL;DR: `List&lt;? extends AThingie&gt;` is not &#39;a read only list&#39;. That&#39;s completely wrong. It is an understandable but oversimplified explanation though. Don&#39;t be too harsh on who told you this.\r\n","title":"Logicallydouble sumOfList(List&lt;? extends Double&gt; list) will make the function become read-only mode , why list.remove() can be compiled successfully","body":"<blockquote>\n<p>Logicallystatic double sumOfList(List&lt;? extends Double&gt; list) will make the function become read-only mode</p>\n</blockquote>\n<p>See, that's the problem with programming. It's too complicated - so we provide oversimplified explanations.</p>\n<p>You've been the victim of this. <code>List&lt;? extends Double&gt;</code> is <strong>not</strong> a 'read only list'.</p>\n<p>But I can see how someone who was trying to be helpful told you that it was.</p>\n<p>See, the point of <code>List&lt;? extends Something&gt;</code> is that it lets you provide a <code>List&lt;Something&gt;</code>, or a <code>List&lt;SomeChildOfSomething&gt;</code>. <em>IF</em> it is then possible to invoke <code>.add(instanceOfSomething)</code> on such a thing, that's problem.</p>\n<p>Imagine this method:</p>\n<pre><code>void foo(List&lt;? extends Number&gt; list) {\n   list.add(5); // an integer\n}\n\nList&lt;Double&gt; listOfDoubles = new ArrayList&lt;Double&gt;();\nfoo(listOfDoubles);\nlistOfDoubles.get(0); // oh dear. Now what?\n</code></pre>\n<p>See the problem? A solution is to ensure that <strong>all methods that would fail unless they know the precise type</strong> are disallowed. <code>add</code> is such a method. So is <code>addAll</code> and <code>set</code> for obvious reasons. You can't invoke those unless you know the list is either of the exact type of the expression you're passing to those methods, or a supertype of it (which is why you <em>can</em> invoke <code>.add</code> on a <code>List&lt;? super Double&gt;</code> just fine).</p>\n<p>But the methods that modify the list which do <em>not</em> cause such issues - basically everything that doesn't take a (collection of) elements of type T, such as <code>.clear()</code>, <code>.remove()</code>, <code>removeIf</code>, etc?</p>\n<p>Those are just fine.</p>\n<p>TL;DR: <code>List&lt;? extends AThingie&gt;</code> is not 'a read only list'. That's completely wrong. It is an understandable but oversimplified explanation though. Don't be too harsh on who told you this.</p>\n"}],"owner":{"account_id":23155259,"reputation":3,"user_id":17256609,"display_name":"Rafael_Kuai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69804005,"answer_count":1,"score":-2,"last_activity_date":1635811208,"creation_date":1635810899,"question_id":69803973,"body_markdown":"Logically````static double sumOfList(List&lt;? extends Double&gt; list)```` will make the function become read-only mode then why ````list.remove()```` can be compiled successfully\r\n\r\n```\r\npublic class Extend_char {\r\n    public static void main(String[] args) {\r\n        {\r\n        List&lt;Double&gt; list = new ArrayList&lt;&gt;();        \r\n        list.add(1.2);        \r\n        list.add(2.2);        \r\n        list.add(3.2);        \r\n        System.out.println(sumOfList(list));                \r\n        System.out.println(list);    \r\n}\r\n    static double sumOfList(List&lt;? extends Double&gt; list) {\r\n        double sum = 0;        \r\n            for (int i=0; i&lt;list.size(); i++) {\r\n            double n = list.get(i);            \r\n            sum = sum + n;        \r\n            }\r\n            //list.add(new Double(5.5));  Cannot compile and call normally                    \r\n            list.remove(2.2);   //Can compile and call normally        \r\n            return sum;    \r\n    }\r\n}","title":"Logicallydouble sumOfList(List&lt;? extends Double&gt; list) will make the function become read-only mode , why list.remove() can be compiled successfully","body":"<p>Logically<code>static double sumOfList(List&lt;? extends Double&gt; list)</code> will make the function become read-only mode then why <code>list.remove()</code> can be compiled successfully</p>\n<pre><code>public class Extend_char {\n    public static void main(String[] args) {\n        {\n        List&lt;Double&gt; list = new ArrayList&lt;&gt;();        \n        list.add(1.2);        \n        list.add(2.2);        \n        list.add(3.2);        \n        System.out.println(sumOfList(list));                \n        System.out.println(list);    \n}\n    static double sumOfList(List&lt;? extends Double&gt; list) {\n        double sum = 0;        \n            for (int i=0; i&lt;list.size(); i++) {\n            double n = list.get(i);            \n            sum = sum + n;        \n            }\n            //list.add(new Double(5.5));  Cannot compile and call normally                    \n            list.remove(2.2);   //Can compile and call normally        \n            return sum;    \n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635848021,"post_id":69801605,"comment_id":123396110,"body_markdown":"What does `post.getPostedBy()` return?","body":"What does <code>post.getPostedBy()</code> return?"},{"owner":{"account_id":22295621,"reputation":1,"user_id":16521691,"display_name":"Krishna Jindal"},"score":0,"creation_date":1635848637,"post_id":69801605,"comment_id":123396358,"body_markdown":"It returns : Can&#39;t pass null for argument &#39;pathString&#39; in child().","body":"It returns : Can&#39;t pass null for argument &#39;pathString&#39; in child()."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635849694,"post_id":69801605,"comment_id":123396759,"body_markdown":"So it sounds like that `post` is null, right?","body":"So it sounds like that <code>post</code> is null, right?"},{"owner":{"account_id":22295621,"reputation":1,"user_id":16521691,"display_name":"Krishna Jindal"},"score":0,"creation_date":1635850511,"post_id":69801605,"comment_id":123397099,"body_markdown":"Yes. And I think this is because because all the posts are inside &quot;ImagePosts&quot; or &quot;TextPosts&quot; and not directly under &quot;Posts&quot; root node. Therefore, post.getPostedBy() returns null, maybe!","body":"Yes. And I think this is because because all the posts are inside &quot;ImagePosts&quot; or &quot;TextPosts&quot; and not directly under &quot;Posts&quot; root node. Therefore, post.getPostedBy() returns null, maybe!"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1635854654,"post_id":69801605,"comment_id":123398659,"body_markdown":"Yes, that&#39;s the reason. Try to check my answer from the other [post](https://stackoverflow.com/questions/69805908/firebase-query-to-fetch-data-from-two-nodes-together/69809023#69809023). Does it work for you?","body":"Yes, that&#39;s the reason. Try to check my answer from the other <a href=\"https://stackoverflow.com/questions/69805908/firebase-query-to-fetch-data-from-two-nodes-together/69809023#69809023\">post</a>. Does it work for you?"}],"owner":{"account_id":22295621,"reputation":1,"user_id":16521691,"display_name":"Krishna Jindal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635810835,"creation_date":1635793452,"question_id":69801605,"body_markdown":"I have a root node named &quot;Posts&quot; in Firebase Realtime Database. Inside that, I have two nodes called &quot;ImagePosts&quot; and &quot;TextPosts&quot;. And inside &quot;ImagePosts&quot; (and &quot;TextPosts&quot;), I have postIds of various posts. And inside a postID, I have all the details of that particular post. I want to get to these Post details. But if I use: Post post = mPosts.get(position) in my BindViewHolder inside PostAdapter, it gives me a Null Pointer Exception whenever I try to access any post detail using post object (Post is the name of the model).\r\n\r\n[Please click here to see database structure][1]\r\n\r\nFor example, in the following code, I want to match post.getPostedBy() to userID (stored in a separate root node named &quot;Users&quot;), but it gives error: &quot;Can&#39;t pass null for argument &#39;pathString&#39; in child()&quot; at line &quot;.child(post.getPostedBy)&quot;.\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        Post post = mPosts.get(position);\r\n\r\n        FirebaseDatabase.getInstance().getReference()\r\n                .child(&quot;Users&quot;)\r\n                .child(post.getPostedBy())\r\n                .addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        User user = snapshot.getValue(User.class);\r\n                        Picasso.get().load(user.getprofilepic())\r\n                                .placeholder(R.drawable.placeholder_user)\r\n                                .into(holder.binding.profileImage);\r\n                        Picasso.get().load(user.getprofilepic())\r\n                                .placeholder(R.drawable.placeholder_user)\r\n                                .into(holder.binding.profileImg);\r\n\r\n                        holder.binding.userName.setText(user.getName());\r\n                        holder.binding.profession.setText(user.getProfession());\r\n                        holder.binding.postText.setText(Html.fromHtml(&quot;&lt;b&gt;&quot;+user.getUsername() +&quot;&lt;/b&gt;&quot; + &quot;  &quot; + post.getPostDescription()));\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0f3wW.png","title":"How to get position of all child nodes inside a parent node which is itself inside a root node?","body":"<p>I have a root node named &quot;Posts&quot; in Firebase Realtime Database. Inside that, I have two nodes called &quot;ImagePosts&quot; and &quot;TextPosts&quot;. And inside &quot;ImagePosts&quot; (and &quot;TextPosts&quot;), I have postIds of various posts. And inside a postID, I have all the details of that particular post. I want to get to these Post details. But if I use: Post post = mPosts.get(position) in my BindViewHolder inside PostAdapter, it gives me a Null Pointer Exception whenever I try to access any post detail using post object (Post is the name of the model).</p>\n<p><a href=\"https://i.stack.imgur.com/0f3wW.png\" rel=\"nofollow noreferrer\">Please click here to see database structure</a></p>\n<p>For example, in the following code, I want to match post.getPostedBy() to userID (stored in a separate root node named &quot;Users&quot;), but it gives error: &quot;Can't pass null for argument 'pathString' in child()&quot; at line &quot;.child(post.getPostedBy)&quot;.</p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n    Post post = mPosts.get(position);\n\n    FirebaseDatabase.getInstance().getReference()\n            .child(&quot;Users&quot;)\n            .child(post.getPostedBy())\n            .addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\n                    User user = snapshot.getValue(User.class);\n                    Picasso.get().load(user.getprofilepic())\n                            .placeholder(R.drawable.placeholder_user)\n                            .into(holder.binding.profileImage);\n                    Picasso.get().load(user.getprofilepic())\n                            .placeholder(R.drawable.placeholder_user)\n                            .into(holder.binding.profileImg);\n\n                    holder.binding.userName.setText(user.getName());\n                    holder.binding.profession.setText(user.getProfession());\n                    holder.binding.postText.setText(Html.fromHtml(&quot;&lt;b&gt;&quot;+user.getUsername() +&quot;&lt;/b&gt;&quot; + &quot;  &quot; + post.getPostDescription()));\n\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError error) {\n\n                }\n            });\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635810722,"creation_date":1635810722,"answer_id":69803953,"question_id":69802242,"body_markdown":"A `DataSnapshot` is a snapshot of all the data at a certain location, or matching a certain query. If you download thousands of nodes to check whether one of then exists, you&#39;re definitely wasting bandwidth.\r\n\r\nDid you consider only loading the data for `child(user1)` to begin with? \r\n\r\nSay that you have this now:\r\n```\r\nmyReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        if (dataSnapshot.hasChild(user1)) {\r\n            ...\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        Log.w(TAG, &quot;Firebase:onCancelled&quot;, databaseError.toException());\r\n    }\r\n};\r\n```\r\n\r\nYou could get the same result by only loading the `user1` child node with:\r\n\r\n```\r\nmyReference.child(user1).addListenerForSingleValueEvent(new ValueEventListener() {\r\n          // &#128070; only load the one node we care about\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        if (dataSnapshot.exists()) { // &#128072; check if the snapshot exists\r\n            ...\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        Log.w(TAG, &quot;Firebase:onCancelled&quot;, databaseError.toException());\r\n    }\r\n};\r\n```","title":"Firebase Reatime Database datasnapshot.hasChild","body":"<p>A <code>DataSnapshot</code> is a snapshot of all the data at a certain location, or matching a certain query. If you download thousands of nodes to check whether one of then exists, you're definitely wasting bandwidth.</p>\n<p>Did you consider only loading the data for <code>child(user1)</code> to begin with?</p>\n<p>Say that you have this now:</p>\n<pre><code>myReference.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        if (dataSnapshot.hasChild(user1)) {\n            ...\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        Log.w(TAG, &quot;Firebase:onCancelled&quot;, databaseError.toException());\n    }\n};\n</code></pre>\n<p>You could get the same result by only loading the <code>user1</code> child node with:</p>\n<pre><code>myReference.child(user1).addListenerForSingleValueEvent(new ValueEventListener() {\n          //  only load the one node we care about\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        if (dataSnapshot.exists()) { //  check if the snapshot exists\n            ...\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        Log.w(TAG, &quot;Firebase:onCancelled&quot;, databaseError.toException());\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":14058986,"reputation":47,"user_id":10155542,"display_name":"Mukesh Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1635810722,"creation_date":1635797095,"question_id":69802242,"body_markdown":"In Firebase Realtime Database there have thousands of child nodes (users). If I use `snapshot.hasChild(user1)`\r\nis it an efficient way (I mean lightweight operation), or is there have another way?\r\n\r\nI&#39;m worried is the function download all the child nodes.\r\n","title":"Firebase Reatime Database datasnapshot.hasChild","body":"<p>In Firebase Realtime Database there have thousands of child nodes (users). If I use <code>snapshot.hasChild(user1)</code>\nis it an efficient way (I mean lightweight operation), or is there have another way?</p>\n<p>I'm worried is the function download all the child nodes.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1635810770,"post_id":69801426,"comment_id":123387871,"body_markdown":"Are you asking specifically about the [`ForkJoinPool.commonPool()`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool())? Don&#39;t know much about it myself, but this website has some things to say about it: https://dzone.com/articles/be-aware-of-forkjoinpoolcommonpool","body":"Are you asking specifically about the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()\" rel=\"nofollow noreferrer\"><code>ForkJoinPool.commonPool()</code></a>? Don&#39;t know much about it myself, but this website has some things to say about it: <a href=\"https://dzone.com/articles/be-aware-of-forkjoinpoolcommonpool\" rel=\"nofollow noreferrer\">dzone.com/articles/be-aware-of-forkjoinpoolcommonpool</a>"},{"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"score":0,"creation_date":1635825186,"post_id":69801426,"comment_id":123390061,"body_markdown":"Thanks for the dzone article! I have seen in the past, but did not occur to me  today!","body":"Thanks for the dzone article! I have seen in the past, but did not occur to me  today!"}],"answers":[{"tags":[],"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635810577,"creation_date":1635810577,"answer_id":69803938,"question_id":69801426,"body_markdown":"According to the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinTask.html), it depends:\r\n\r\n&gt; (3) Unless the ForkJoinPool.ManagedBlocker API is used, or the number of possibly blocked tasks is known to be less than the pool&#39;s ForkJoinPool.getParallelism() level, the pool cannot guarantee that enough threads will be available to ensure progress or good performance.\r\n\r\nThe parallelism is coupled to the amount of available CPU cores. So given enough CPU cores and not to many blocking I/O tasks, you could use the [commonPool](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()). It does not mean you should though. For one thing, `ForkJoinPool` is explicitly not designed for long running (blocking) tasks. For another thing, you probably want to do something with long running (blocking) tasks during shutdown.","title":"ForkJoin vs other thread pools in Java?","body":"<p>According to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinTask.html\" rel=\"nofollow noreferrer\">documentation</a>, it depends:</p>\n<blockquote>\n<p>(3) Unless the ForkJoinPool.ManagedBlocker API is used, or the number of possibly blocked tasks is known to be less than the pool's ForkJoinPool.getParallelism() level, the pool cannot guarantee that enough threads will be available to ensure progress or good performance.</p>\n</blockquote>\n<p>The parallelism is coupled to the amount of available CPU cores. So given enough CPU cores and not to many blocking I/O tasks, you could use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()\" rel=\"nofollow noreferrer\">commonPool</a>. It does not mean you should though. For one thing, <code>ForkJoinPool</code> is explicitly not designed for long running (blocking) tasks. For another thing, you probably want to do something with long running (blocking) tasks during shutdown.</p>\n"}],"owner":{"account_id":4434379,"reputation":1538,"user_id":3610608,"accept_rate":67,"display_name":"Hristo Stoyanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635810577,"creation_date":1635792450,"question_id":69801426,"body_markdown":"Java ForkJoin pools has been compared to the other &quot;classic&quot; thread pool implementation in Java many times. The question I have is slightly different though:\r\n\r\nCan I use a single, shared  ForkJoin pool for an application that have BOTH types of thread usage - long running, socket-handling, transactional threads, AND short running tasks (CompletableFuture)? Or do I have to go through the pain of maintaining 2 separate pools for each type of need?\r\n... In other words, is there a significant (performance?) penalty, if ForkJoin is used in place where other Java thread pool implementations suffice?","title":"ForkJoin vs other thread pools in Java?","body":"<p>Java ForkJoin pools has been compared to the other &quot;classic&quot; thread pool implementation in Java many times. The question I have is slightly different though:</p>\n<p>Can I use a single, shared  ForkJoin pool for an application that have BOTH types of thread usage - long running, socket-handling, transactional threads, AND short running tasks (CompletableFuture)? Or do I have to go through the pain of maintaining 2 separate pools for each type of need?\n... In other words, is there a significant (performance?) penalty, if ForkJoin is used in place where other Java thread pool implementations suffice?</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":97618,"reputation":168076,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"score":0,"creation_date":1635714084,"post_id":69788221,"comment_id":123362792,"body_markdown":"What you&#39;re doing is called [Pure DI](https://blog.ploeh.dk/2014/06/10/pure-di/), which basically means you build up object graphs by hand (i.e. without a DI Container) inside your [Composition Root](https://freecontent.manning.com/dependency-injection-in-net-2nd-edition-understanding-the-composition-root/). There&#39;s nothing wrong with practicing Pure DI.","body":"What you&#39;re doing is called <a href=\"https://blog.ploeh.dk/2014/06/10/pure-di/\" rel=\"nofollow noreferrer\">Pure DI</a>, which basically means you build up object graphs by hand (i.e. without a DI Container) inside your <a href=\"https://freecontent.manning.com/dependency-injection-in-net-2nd-edition-understanding-the-composition-root/\" rel=\"nofollow noreferrer\">Composition Root</a>. There&#39;s nothing wrong with practicing Pure DI."},{"owner":{"account_id":23198177,"reputation":11,"user_id":17293479,"display_name":"macaroni-chan"},"score":0,"creation_date":1635807509,"post_id":69788221,"comment_id":123387283,"body_markdown":"Thank you so much!","body":"Thank you so much!"}],"answers":[{"tags":[],"owner":{"account_id":17589164,"reputation":4047,"user_id":12761369,"display_name":"k-wasilewski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635697358,"creation_date":1635697358,"answer_id":69788441,"question_id":69788221,"body_markdown":"Spring does not support dependency injection into static fields, so either make your `ConvertTime` a non-static field or inject it to a non-static field and then assign it to this static one.","title":"Manual dependency injection in Java(without spring boot)","body":"<p>Spring does not support dependency injection into static fields, so either make your <code>ConvertTime</code> a non-static field or inject it to a non-static field and then assign it to this static one.</p>\n"},{"tags":[],"owner":{"account_id":15915815,"reputation":736,"user_id":11484412,"display_name":"Konrad Neitzel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635697601,"creation_date":1635697601,"answer_id":69788475,"question_id":69788221,"body_markdown":"When you look at https://en.wikipedia.org/wiki/Dependency_injection and compare it to your solution, then you see, that you implemented most parts (service, client and interface) as it was described there.\r\n\r\nBut one part is missing: When talking about Dependency Injection, you normaly also have an injector that ist responsible to provide the implementation.\r\n\r\nSo you could have your implementation of an injector which is responsible to create the instances and inject required elements. (So it might be enough to move that part out of the main method into your Injector and then you simply call the Injector to get your instance of TalkinClockApplication.)","title":"Manual dependency injection in Java(without spring boot)","body":"<p>When you look at <a href=\"https://en.wikipedia.org/wiki/Dependency_injection\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Dependency_injection</a> and compare it to your solution, then you see, that you implemented most parts (service, client and interface) as it was described there.</p>\n<p>But one part is missing: When talking about Dependency Injection, you normaly also have an injector that ist responsible to provide the implementation.</p>\n<p>So you could have your implementation of an injector which is responsible to create the instances and inject required elements. (So it might be enough to move that part out of the main method into your Injector and then you simply call the Injector to get your instance of TalkinClockApplication.)</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635810543,"creation_date":1635706563,"answer_id":69789669,"question_id":69788221,"body_markdown":"Here in your code : `TalkingClockApplication aa = new TalkingClockApplication(new TalkingClock());` you are already doing `DI` as you are passing your dependency throught a `constructor`. And also you are using `polymorphism` that helps you pass any type that implements `ConvertTime`\r\n\r\nOf course you can do `DI` without `spring` but what `spring` provides to you is the ability to automatically change the implementation you need, because you know that you cannot instantiate an `interface`, here `TalkingClock`","title":"Manual dependency injection in Java(without spring boot)","body":"<p>Here in your code : <code>TalkingClockApplication aa = new TalkingClockApplication(new TalkingClock());</code> you are already doing <code>DI</code> as you are passing your dependency throught a <code>constructor</code>. And also you are using <code>polymorphism</code> that helps you pass any type that implements <code>ConvertTime</code></p>\n<p>Of course you can do <code>DI</code> without <code>spring</code> but what <code>spring</code> provides to you is the ability to automatically change the implementation you need, because you know that you cannot instantiate an <code>interface</code>, here <code>TalkingClock</code></p>\n"}],"owner":{"account_id":23198177,"reputation":11,"user_id":17293479,"display_name":"macaroni-chan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1635810543,"creation_date":1635695819,"question_id":69788221,"body_markdown":"I created some classes and an interface like below.\r\nIs this regarded as DI? Or It&#39;s not because I did\r\n`new TalkingClockApplication(new TalkingClock());`?\r\nIf it&#39;s not, I&#39;d like to know how to make it as DI.(without spring boot)\r\n\r\nWhen I comment out `new TalkingClockApplication(new TalkingClock());` and run TalkingClockApplication, it says &quot;com.XXX.TalkingClockApplication.convertTime&quot; is null.\r\n\r\n```\r\n\r\npublic interface ConvertTime {\r\n    String convertTime(int hours, int minutes);\r\n}\r\n```\r\nand\r\n```\r\n\r\npublic class TalkingClock implements ConvertTime {\r\n\r\n    @Override\r\n\tpublic String convertTime(int hours, int minutes) {\r\n        // do something\r\n        return value;\r\n    }\r\n}\r\n```\r\nand\r\n```\r\npublic class TalkingClockApplication {\r\n\t\r\n\tpublic ConvertTime convertTime;\r\n\t    \r\n    public TalkingClockApplication(ConvertTime convertTime) {\r\n\t     this.convertTime = convertTime;\r\n\t}\r\n\t\r\n    public static void main( String[] args ) throws Exception {\r\n    \tString friendlyText = &quot;&quot;;\r\n    \tTalkingClockApplication aa = new TalkingClockApplication(new TalkingClock());\r\n        int hours = Integer.parseInt(strings[0]);\r\n        int minutes = Integer.parseInt(strings[1]);\r\n    \tfriendlyText = aa.convertTime.convertTime(hours, minutes);\r\n    \tSystem.out.println( friendlyText );\r\n    }\r\n}\r\n```","title":"Manual dependency injection in Java(without spring boot)","body":"<p>I created some classes and an interface like below.\nIs this regarded as DI? Or It's not because I did\n<code>new TalkingClockApplication(new TalkingClock());</code>?\nIf it's not, I'd like to know how to make it as DI.(without spring boot)</p>\n<p>When I comment out <code>new TalkingClockApplication(new TalkingClock());</code> and run TalkingClockApplication, it says &quot;com.XXX.TalkingClockApplication.convertTime&quot; is null.</p>\n<pre><code>\npublic interface ConvertTime {\n    String convertTime(int hours, int minutes);\n}\n</code></pre>\n<p>and</p>\n<pre><code>\npublic class TalkingClock implements ConvertTime {\n\n    @Override\n    public String convertTime(int hours, int minutes) {\n        // do something\n        return value;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class TalkingClockApplication {\n    \n    public ConvertTime convertTime;\n        \n    public TalkingClockApplication(ConvertTime convertTime) {\n         this.convertTime = convertTime;\n    }\n    \n    public static void main( String[] args ) throws Exception {\n        String friendlyText = &quot;&quot;;\n        TalkingClockApplication aa = new TalkingClockApplication(new TalkingClock());\n        int hours = Integer.parseInt(strings[0]);\n        int minutes = Integer.parseInt(strings[1]);\n        friendlyText = aa.convertTime.convertTime(hours, minutes);\n        System.out.println( friendlyText );\n    }\n}\n</code></pre>\n"},{"tags":["java","android","function"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1635624209,"post_id":69781556,"comment_id":123347471,"body_markdown":"The looks right to me. What are you trying to accomplish. Like, what is the expected result and what is the issue? Your logic is all over the place. Please clean it up so that we may have a better understanding of what you are trying to do. Because right now. The method takes in String nfirst, then you parse it as an int for abn1. Only to overwrite the value of abn1 in your if/else statement to 15 or 20.","body":"The looks right to me. What are you trying to accomplish. Like, what is the expected result and what is the issue? Your logic is all over the place. Please clean it up so that we may have a better understanding of what you are trying to do. Because right now. The method takes in String nfirst, then you parse it as an int for abn1. Only to overwrite the value of abn1 in your if/else statement to 15 or 20."},{"owner":{"account_id":11246931,"reputation":11,"user_id":8249364,"display_name":"hitakb"},"score":0,"creation_date":1635799107,"post_id":69781556,"comment_id":123385125,"body_markdown":"@JonR85 `SharedPreferences` not working in above class or i am new in java so having probem","body":"@JonR85 <code>SharedPreferences</code> not working in above class or i am new in java so having probem"},{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1635799577,"post_id":69781556,"comment_id":123385281,"body_markdown":"What&#39;s the error message?","body":"What&#39;s the error message?"},{"owner":{"account_id":11246931,"reputation":11,"user_id":8249364,"display_name":"hitakb"},"score":0,"creation_date":1635801762,"post_id":69781556,"comment_id":123385916,"body_markdown":"Thanks @JonR85 ! error is **Cannot resolve method &#39;getSharedPreferences&#39; in Dataall** and **Cannot resolve symbol &#39;MODE_PRIVATE&#39;**","body":"Thanks @JonR85 ! error is <b>Cannot resolve method &#39;getSharedPreferences&#39; in Dataall</b> and <b>Cannot resolve symbol &#39;MODE_PRIVATE&#39;</b>"}],"answers":[{"tags":[],"owner":{"account_id":11912964,"reputation":283,"user_id":8717620,"display_name":"Kerry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635801560,"creation_date":1635801560,"answer_id":69802901,"question_id":69781556,"body_markdown":"There is a good deal here that I want to unpack. Part of this will be explaining what I think you want. You have a class that is doing some calculation that requires you get a preference stored in SharedPreferences. The problem being that most what you call function classes do not have access to Android&#39;s context (granted you only need application context for this). So you have many options but here are two.\r\n\r\n1.) The quick and dirty - Either pass in context from as far back as you can (Activity or Fragment) into this method and use that to get the shared preferences like such.\r\n\r\n    public class Dataall {\r\n    public static String calc(String nfirst, String nsecond, Context context) {\r\n        int abn1;\r\n        int abn2;\r\n        int abn3;\r\n\r\n\t\tabn1= Integer.parseInt(nfirst);\r\n\t\tabn2 = Integer.parseInt(nsecond);\r\n\t\tSharedPreferences prefrs = PreferenceManager.getDefaultSharedPreferences(context);\r\n\t\tString langu = prefrs.getString(&quot;callss&quot;, &quot;&quot;);\r\n\t\tif(langu.equals(&quot;first&quot;)){\r\n\t\t\tabn1 = 15;\r\n       }else { \r\n\t\tabn1 = 20;\r\n\t\t}\r\n\t\tabn3 = abn1 +a bn2;\r\n\t\tString res = String.valueOf(res);\r\n\t\treturn res;\r\n    }\r\n2. Extract the shared preferences away through DI or Service Location or (worst option just listing it as a possibility because it technically works) making it a singleton with a wrapped interface. Granted you will need to make a custom application class to get the context \r\n\r\n    //Option 1 pass in to make it mockable\r\n    \r\n    public class Dataall {\r\n    public static String calc(String nfirst, String nsecond, ISettingsProvider settings) {\r\n\t\tint abn1;\r\n        int abn2;\r\n        int abn3;\r\n    \r\n        abn1= Integer.parseInt(nfirst);\r\n        abn2 = Integer.parseInt(nsecond);\r\n\t\t\r\n        String langu = settings.getString(&quot;callss&quot;);\r\n        if(&quot;first&quot;.equals(langu)){\r\n            abn1 = 15;\r\n        }else {\r\n           abn1 = 20;\r\n        }\r\n        abn3 = abn1 +a bn2;\r\n        String res = String.valueOf(res);\r\n        return res;\r\n\t\t}\r\n\t}\r\n\r\n//Option 2 **ASSUMING** getFirstInstance has been called somewhere that has context \r\n\r\n    public class Dataall {\r\n    \tpublic static String calc(String nfirst, String nsecond) {\r\n    \t\tint abn1;\r\n            int abn2;\r\n            int abn3;\r\n        \r\n            abn1= Integer.parseInt(nfirst);\r\n            abn2 = Integer.parseInt(nsecond);\r\n    \t\t\r\n    \t\tISettingsProvider settings = SettingsProvider.getInstance();\r\n            String langu = settings.getString(&quot;callss&quot;);\r\n            if(&quot;first&quot;.equals(langu)){\r\n                abn1 = 15;\r\n            }else{\r\n               abn1 = 20;\r\n            }\r\n            abn3 = abn1 +a bn2;\r\n            String res = String.valueOf(res);\r\n            return res;\r\n        }\r\n    }\r\n\r\n\tpublic final class SettingsProvider implements ISettingsProvider {\r\n\tpublic static bool hasBeenInitialized = false\r\n\tprivate static ISettingsProvider instance \r\n\tprivate SharedPreferences prefs = null\r\n\tpublic static ISettingsProvider getFirstInstance(Context: context){\r\n\t\tprefs = PreferenceManager.getDefaultSharedPreferences(context);\r\n\t\tinstance = SettingsProvider();\r\n\t\thasBeenInitialized = true;\r\n\t}\r\n\t\r\n\tpublic static ISettingsProvider getInstance(){\r\n\t\tif(instance == null || hasBeenInitialized){\r\n\t\t\tthrow new IllegalStateException(&quot;Singleton not initialized&quot;);\r\n\t\t}\r\n\t\treturn instance;\r\n\t}\r\n\r\n\tprivate SettingsProvider(){}\r\n\t\r\n\t//Overrides\r\n\t@Override\r\n\tpublic String getString(String key, String defaultValue){\r\n\t\treturn if (defaultValue != null) prefs.getString(key, defaultValue) else prefs.getString(key, &quot;&quot;);\r\n\t}\r\n\t\r\n\t\r\n\t}\r\n\r\n\tpublic interface ISettingsProvider{\r\n\t//put all your get|put methods here\r\n\r\n\tpublic String getString(String key);\r\n\t}","title":"Get or use Value of sharedpreferences in function class","body":"<p>There is a good deal here that I want to unpack. Part of this will be explaining what I think you want. You have a class that is doing some calculation that requires you get a preference stored in SharedPreferences. The problem being that most what you call function classes do not have access to Android's context (granted you only need application context for this). So you have many options but here are two.</p>\n<p>1.) The quick and dirty - Either pass in context from as far back as you can (Activity or Fragment) into this method and use that to get the shared preferences like such.</p>\n<pre><code>public class Dataall {\npublic static String calc(String nfirst, String nsecond, Context context) {\n    int abn1;\n    int abn2;\n    int abn3;\n\n    abn1= Integer.parseInt(nfirst);\n    abn2 = Integer.parseInt(nsecond);\n    SharedPreferences prefrs = PreferenceManager.getDefaultSharedPreferences(context);\n    String langu = prefrs.getString(&quot;callss&quot;, &quot;&quot;);\n    if(langu.equals(&quot;first&quot;)){\n        abn1 = 15;\n   }else { \n    abn1 = 20;\n    }\n    abn3 = abn1 +a bn2;\n    String res = String.valueOf(res);\n    return res;\n}\n</code></pre>\n<ol start=\"2\">\n<li><p>Extract the shared preferences away through DI or Service Location or (worst option just listing it as a possibility because it technically works) making it a singleton with a wrapped interface. Granted you will need to make a custom application class to get the context</p>\n<p>//Option 1 pass in to make it mockable</p>\n<p>public class Dataall {\npublic static String calc(String nfirst, String nsecond, ISettingsProvider settings) {\nint abn1;\nint abn2;\nint abn3;</p>\n<pre><code> abn1= Integer.parseInt(nfirst);\n abn2 = Integer.parseInt(nsecond);\n\n String langu = settings.getString(&quot;callss&quot;);\n if(&quot;first&quot;.equals(langu)){\n     abn1 = 15;\n }else {\n    abn1 = 20;\n }\n abn3 = abn1 +a bn2;\n String res = String.valueOf(res);\n return res;\n }\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>//Option 2 <strong>ASSUMING</strong> getFirstInstance has been called somewhere that has context</p>\n<pre><code>public class Dataall {\n    public static String calc(String nfirst, String nsecond) {\n        int abn1;\n        int abn2;\n        int abn3;\n    \n        abn1= Integer.parseInt(nfirst);\n        abn2 = Integer.parseInt(nsecond);\n        \n        ISettingsProvider settings = SettingsProvider.getInstance();\n        String langu = settings.getString(&quot;callss&quot;);\n        if(&quot;first&quot;.equals(langu)){\n            abn1 = 15;\n        }else{\n           abn1 = 20;\n        }\n        abn3 = abn1 +a bn2;\n        String res = String.valueOf(res);\n        return res;\n    }\n}\n\npublic final class SettingsProvider implements ISettingsProvider {\npublic static bool hasBeenInitialized = false\nprivate static ISettingsProvider instance \nprivate SharedPreferences prefs = null\npublic static ISettingsProvider getFirstInstance(Context: context){\n    prefs = PreferenceManager.getDefaultSharedPreferences(context);\n    instance = SettingsProvider();\n    hasBeenInitialized = true;\n}\n\npublic static ISettingsProvider getInstance(){\n    if(instance == null || hasBeenInitialized){\n        throw new IllegalStateException(&quot;Singleton not initialized&quot;);\n    }\n    return instance;\n}\n\nprivate SettingsProvider(){}\n\n//Overrides\n@Override\npublic String getString(String key, String defaultValue){\n    return if (defaultValue != null) prefs.getString(key, defaultValue) else prefs.getString(key, &quot;&quot;);\n}\n\n\n}\n\npublic interface ISettingsProvider{\n//put all your get|put methods here\n\npublic String getString(String key);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635802260,"creation_date":1635802260,"answer_id":69802999,"question_id":69781556,"body_markdown":"Change this line:\r\nFrom:\r\n\r\n    SharedPreferences prefrs = getSharedPreferences(&quot;MY_PRE_NAME&quot;, \r\n    MODE_PRIVATE);\r\nTo:\r\n\r\n    SharedPreferences prefrs = getSharedPreferences(&quot;MY_PRE_NAME&quot;, \r\n    Context.MODE_PRIVATE);\r\n\r\nAnswer taken from here: https://stackoverflow.com/questions/23351904/getting-cannot-resolve-method-error-when-trying-to-implement-getsharedpreferen\r\n\r\n","title":"Get or use Value of sharedpreferences in function class","body":"<p>Change this line:\nFrom:</p>\n<pre><code>SharedPreferences prefrs = getSharedPreferences(&quot;MY_PRE_NAME&quot;, \nMODE_PRIVATE);\n</code></pre>\n<p>To:</p>\n<pre><code>SharedPreferences prefrs = getSharedPreferences(&quot;MY_PRE_NAME&quot;, \nContext.MODE_PRIVATE);\n</code></pre>\n<p>Answer taken from here: <a href=\"https://stackoverflow.com/questions/23351904/getting-cannot-resolve-method-error-when-trying-to-implement-getsharedpreferen\">Getting &quot;cannot resolve method&quot; error when trying to implement getSharedPreferences in Android Studio</a></p>\n"}],"owner":{"account_id":11246931,"reputation":11,"user_id":8249364,"display_name":"hitakb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635810092,"creation_date":1635622763,"question_id":69781556,"body_markdown":"I am using SharedPreferences.Editor in an Activity.\r\n\t\tHow to use getSharedPreferences value in this function ?\r\n\t\tI am new in java android.\r\n\r\n```\r\npublic class Dataall {\r\n    public static String calc(String nfirst, String nsecond) {\r\n        int abn1;\r\n        int abn2;\r\n\t\tint abn3;\r\n\r\n\tabn1= Integer.parseInt(nfirst);\r\n\tabn2 = Integer.parseInt(nsecond);\r\n    // SharedPreferences show error but its work in another Activity\r\n    SharedPreferences prefrs = getSharedPreferences(&quot;MY_PRE_NAME&quot;, \r\n    MODE_PRIVATE);\r\n    String langu = prefrs.getString(&quot;callss&quot;, &quot;&quot;);\r\n    if(langu.equals(&quot;first&quot;)){\r\n        abn1 = 15;\r\n    }else{\r\n        abn1 = 20;\r\n    }\r\n\tabn3 = abn1+abn2;\r\n    String res = String.valueOf(res);\r\n\treturn res;\r\n\t\r\n\t}\r\n```\r\n\r\n**Edited-**\r\nI am not able to use SharedPreferences in above Static function.","title":"Get or use Value of sharedpreferences in function class","body":"<p>I am using SharedPreferences.Editor in an Activity.\nHow to use getSharedPreferences value in this function ?\nI am new in java android.</p>\n<pre><code>public class Dataall {\n    public static String calc(String nfirst, String nsecond) {\n        int abn1;\n        int abn2;\n        int abn3;\n\n    abn1= Integer.parseInt(nfirst);\n    abn2 = Integer.parseInt(nsecond);\n    // SharedPreferences show error but its work in another Activity\n    SharedPreferences prefrs = getSharedPreferences(&quot;MY_PRE_NAME&quot;, \n    MODE_PRIVATE);\n    String langu = prefrs.getString(&quot;callss&quot;, &quot;&quot;);\n    if(langu.equals(&quot;first&quot;)){\n        abn1 = 15;\n    }else{\n        abn1 = 20;\n    }\n    abn3 = abn1+abn2;\n    String res = String.valueOf(res);\n    return res;\n    \n    }\n</code></pre>\n<p><strong>Edited-</strong>\nI am not able to use SharedPreferences in above Static function.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":16037289,"reputation":1854,"user_id":13949270,"display_name":"BeeFriedman"},"score":0,"creation_date":1635809682,"post_id":69795264,"comment_id":123387681,"body_markdown":"please add your code that caused the error.","body":"please add your code that caused the error."},{"owner":{"account_id":23204319,"reputation":1,"user_id":17298743,"display_name":"Iwan"},"score":0,"creation_date":1635823286,"post_id":69795264,"comment_id":123389815,"body_markdown":"the code is in here =&gt; https://pastebin.com/CtQ6Arj1","body":"the code is in here =&gt; <a href=\"https://pastebin.com/CtQ6Arj1\" rel=\"nofollow noreferrer\">pastebin.com/CtQ6Arj1</a>"}],"owner":{"account_id":23204319,"reputation":1,"user_id":17298743,"display_name":"Iwan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635809418,"creation_date":1635760735,"question_id":69795264,"body_markdown":"`No signature of method: build_8holhrjpptrvtx84vjg1strvw.android() is applicable for argument types: (build_8holhrjpptrvtx84vjg1strvw$_run_closure1) values: [build_8holhrjpptrvtx84vjg1strvw$_run_closure1@48f15b44]`","title":"No signature of method: build_8holhrjpptrvtx84vjg1strvw.android() (Android Studio)","body":"<p><code>No signature of method: build_8holhrjpptrvtx84vjg1strvw.android() is applicable for argument types: (build_8holhrjpptrvtx84vjg1strvw$_run_closure1) values: [build_8holhrjpptrvtx84vjg1strvw$_run_closure1@48f15b44]</code></p>\n"},{"tags":["java","user-interface","javafx-2"],"answers":[{"tags":[],"owner":{"account_id":3554748,"reputation":906,"user_id":2968763,"display_name":"Stefan Gro&#223;mann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1444839817,"creation_date":1444839817,"answer_id":33130688,"question_id":33130129,"body_markdown":"I think what you are looking for is an HBox where you can add the Textfield and the Button. Hope the following code snipped helps:\r\n\r\n    public class BackupUI extends Application{\r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            final HBox hBox = new HBox();\r\n            hBox.setSpacing(5);\r\n    \r\n            final TextField locationTextField = new TextField(&quot;F:\\\\Backup.sql&quot;);\r\n            Button saveButton = new Button(&quot;Save&quot;);\r\n    \r\n            saveButton.setOnAction(event -&gt; save(locationTextField.getText()));\r\n    \r\n            hBox.getChildren().add(locationTextField);\r\n            hBox.getChildren().add(saveButton);\r\n            primaryStage.setScene(new Scene(hBox));\r\n    \r\n            primaryStage.show();\r\n        }\r\n    \r\n        private void save(String fileName) {\r\n            System.out.println(String.format(&quot;Backup %s!&quot;, fileName));\r\n        }\r\n    }","title":"Add button to textfield javafx","body":"<p>I think what you are looking for is an HBox where you can add the Textfield and the Button. Hope the following code snipped helps:</p>\n\n<pre><code>public class BackupUI extends Application{\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        final HBox hBox = new HBox();\n        hBox.setSpacing(5);\n\n        final TextField locationTextField = new TextField(\"F:\\\\Backup.sql\");\n        Button saveButton = new Button(\"Save\");\n\n        saveButton.setOnAction(event -&gt; save(locationTextField.getText()));\n\n        hBox.getChildren().add(locationTextField);\n        hBox.getChildren().add(saveButton);\n        primaryStage.setScene(new Scene(hBox));\n\n        primaryStage.show();\n    }\n\n    private void save(String fileName) {\n        System.out.println(String.format(\"Backup %s!\", fileName));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6991849,"reputation":71,"user_id":5360847,"accept_rate":80,"display_name":"Ian C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5160,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":33130688,"answer_count":1,"score":0,"last_activity_date":1635808522,"creation_date":1444838276,"question_id":33130129,"body_markdown":"Simple question I hope. I am looking to add a button to a textfield in java. The textfield will be used to store a file location where a file will be saved / backed up.\r\n\r\nGoogle hasn&#39;t been to helpful. Looking for something like this:\r\n\r\n     +---------------------------------+\r\n     |  F:\\Backup.sql            | ... |\r\n     +---------------------------------+\r\n\r\nAssume there is a method to does this.\r\n","title":"Add button to textfield javafx","body":"<p>Simple question I hope. I am looking to add a button to a textfield in java. The textfield will be used to store a file location where a file will be saved / backed up.</p>\n\n<p>Google hasn't been to helpful. Looking for something like this:</p>\n\n<pre><code> +---------------------------------+\n |  F:\\Backup.sql            | ... |\n +---------------------------------+\n</code></pre>\n\n<p>Assume there is a method to does this.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1635774978,"post_id":69797904,"comment_id":123376455,"body_markdown":"This depends on the actual implementation, which may change from one java version to an other. (Also, you did not overwrite `equals` for `MyString`.)","body":"This depends on the actual implementation, which may change from one java version to an other. (Also, you did not overwrite <code>equals</code> for <code>MyString</code>.)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":5,"creation_date":1635775056,"post_id":69797904,"comment_id":123376492,"body_markdown":"You did not override `equals`. Therefore `new MyString(&quot;key1&quot;).equals(new MyString(&quot;key1&quot;))` will evaluate to `false`, where it should evaluate to `true`.","body":"You did not override <code>equals</code>. Therefore <code>new MyString(&quot;key1&quot;).equals(new MyString(&quot;key1&quot;))</code> will evaluate to <code>false</code>, where it should evaluate to <code>true</code>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1635775413,"post_id":69797904,"comment_id":123376643,"body_markdown":"The bucket contains a reference to a [`HashMap.Node`](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/HashMap.java#L279) which in turn has a reference `next` to the following `HashMap.Node` thereby forming a simple linked list.","body":"The bucket contains a reference to a <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/HashMap.java#L279\" rel=\"nofollow noreferrer\"><code>HashMap.Node</code></a> which in turn has a reference <code>next</code> to the following <code>HashMap.Node</code> thereby forming a simple linked list."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635808416,"creation_date":1635776904,"answer_id":69798374,"question_id":69797904,"body_markdown":"&gt; Does a java hashmap bucket really contain a list?\r\n\r\nIt depends.\r\n\r\nFor older implementations (Java 7 and earlier), yes it really does contain list.  (It is a singly linked list of an internal `Node` type.)\r\n\r\nFor newer implementations (Java 8 and later), it can contain either a list or a binary tree, depending on how many entries hash to the particular bucket.  If the number is small, a singly linked list is used.  If the number is larger than a hard-coded threshold (8 in Java  8), then the `HashMap` converts the list to a balanced binary tree ... so that bucket searches are `O(logN)` instead of `O(N)`.  This mitigates the effects of a hash code function that generates a lot of collisions (or one where this can be made to occur by choosing keys in a particular way.)\r\n\r\nIf you want to learn more about how `HashMap` works, read the source code.  (It is well commented, and the comments explain the rationale as well as the nitty-gritty how does it work stuff.  It is worse the time ... if you are interested in this kind of thing.)\r\n\r\n-------------------------\r\n\r\n&gt; However, none of the existing Java core Map implementations allow a Map to handle multiple values for a single key.\r\n\r\nThat is something else entirely.  That is about multiple values for a key rather than multiple keys in a bucket.\r\n\r\nThe article is correct.  And this doesn&#39;t contradict my &quot;a bucket contains a list or tree&quot; statement.\r\n\r\nPut simply, a `HashMap` bucket can contain multiple key / value pairs, where the *keys* are all different.\r\n\r\nThe only point on which I would fault the quoted text is that it *seems* to imply that it is *implementations* of `Map` that have the one value per key restriction.  In reality, it is the `Map` API itself that imposes this restriction ... unless you use (say) a `List` as the map&#39;s value type.","title":"Does a java hashmap bucket really contain a list?","body":"<blockquote>\n<p>Does a java hashmap bucket really contain a list?</p>\n</blockquote>\n<p>It depends.</p>\n<p>For older implementations (Java 7 and earlier), yes it really does contain list.  (It is a singly linked list of an internal <code>Node</code> type.)</p>\n<p>For newer implementations (Java 8 and later), it can contain either a list or a binary tree, depending on how many entries hash to the particular bucket.  If the number is small, a singly linked list is used.  If the number is larger than a hard-coded threshold (8 in Java  8), then the <code>HashMap</code> converts the list to a balanced binary tree ... so that bucket searches are <code>O(logN)</code> instead of <code>O(N)</code>.  This mitigates the effects of a hash code function that generates a lot of collisions (or one where this can be made to occur by choosing keys in a particular way.)</p>\n<p>If you want to learn more about how <code>HashMap</code> works, read the source code.  (It is well commented, and the comments explain the rationale as well as the nitty-gritty how does it work stuff.  It is worse the time ... if you are interested in this kind of thing.)</p>\n<hr />\n<blockquote>\n<p>However, none of the existing Java core Map implementations allow a Map to handle multiple values for a single key.</p>\n</blockquote>\n<p>That is something else entirely.  That is about multiple values for a key rather than multiple keys in a bucket.</p>\n<p>The article is correct.  And this doesn't contradict my &quot;a bucket contains a list or tree&quot; statement.</p>\n<p>Put simply, a <code>HashMap</code> bucket can contain multiple key / value pairs, where the <em>keys</em> are all different.</p>\n<p>The only point on which I would fault the quoted text is that it <em>seems</em> to imply that it is <em>implementations</em> of <code>Map</code> that have the one value per key restriction.  In reality, it is the <code>Map</code> API itself that imposes this restriction ... unless you use (say) a <code>List</code> as the map's value type.</p>\n"}],"owner":{"account_id":1015592,"reputation":892,"user_id":1027209,"accept_rate":38,"display_name":"Chris Milburn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69798374,"answer_count":1,"score":0,"last_activity_date":1635808416,"creation_date":1635774749,"question_id":69797904,"body_markdown":"Ive always been certain that a &#39;bucket&#39; in a java hash map contains either a linked list or a Tree of some kind, indeed you can read in many places on the web how the bucket holds this list then iterates over the entries using the equals function to find entries that are stored in the same bucket (ie have the same key), bearing this in mind, can someone explain why the following, trivial code doesnt work as expected :-\r\n\r\n    private class MyString {\r\n        String internalString;\r\n            MyString(String string) {\r\n                internalString = string;\r\n            }\r\n            @Override\r\n            public int hashCode() {\r\n                return internalString.length();  // rubbish hashcode but perfectly legal\r\n            }\r\n        }\r\n    ...\r\n    Map&lt;MyString, String&gt; map = new HashMap&lt;&gt;();\r\n            map.put(new MyString(&quot;key1&quot;), &quot;val1&quot;);\r\n            map.put(new MyString(&quot;key2&quot;), &quot;val2&quot;); \r\n    \r\n            String retVal = map.get(new MyString(&quot;key1&quot;));\r\n    \r\n            System.out.println(&quot;Val returned = &quot;+retVal);\r\n\r\nIn this example I would have expected the two map entries to be in the list in the (same) bucket and for retVal to equal &quot;val1&quot;, however it equals null? \r\nA quick debug shows why, the bucket does not contain a list at all just a single entry.....\r\n\r\nI thought i was going mad until I read this on the baeldung website (https://www.baeldung.com/java-map-duplicate-keys) \r\n**...However, none of the existing Java core Map implementations allow a Map to handle multiple values for a single key.**\r\n\r\nWhat is going on, does a bucket in a hash map contain a list or not ?\r\n\r\n","title":"Does a java hashmap bucket really contain a list?","body":"<p>Ive always been certain that a 'bucket' in a java hash map contains either a linked list or a Tree of some kind, indeed you can read in many places on the web how the bucket holds this list then iterates over the entries using the equals function to find entries that are stored in the same bucket (ie have the same key), bearing this in mind, can someone explain why the following, trivial code doesnt work as expected :-</p>\n<pre><code>private class MyString {\n    String internalString;\n        MyString(String string) {\n            internalString = string;\n        }\n        @Override\n        public int hashCode() {\n            return internalString.length();  // rubbish hashcode but perfectly legal\n        }\n    }\n...\nMap&lt;MyString, String&gt; map = new HashMap&lt;&gt;();\n        map.put(new MyString(&quot;key1&quot;), &quot;val1&quot;);\n        map.put(new MyString(&quot;key2&quot;), &quot;val2&quot;); \n\n        String retVal = map.get(new MyString(&quot;key1&quot;));\n\n        System.out.println(&quot;Val returned = &quot;+retVal);\n</code></pre>\n<p>In this example I would have expected the two map entries to be in the list in the (same) bucket and for retVal to equal &quot;val1&quot;, however it equals null?\nA quick debug shows why, the bucket does not contain a list at all just a single entry.....</p>\n<p>I thought i was going mad until I read this on the baeldung website (<a href=\"https://www.baeldung.com/java-map-duplicate-keys\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-map-duplicate-keys</a>)\n<strong>...However, none of the existing Java core Map implementations allow a Map to handle multiple values for a single key.</strong></p>\n<p>What is going on, does a bucket in a hash map contain a list or not ?</p>\n"},{"tags":["java","jna"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1635602597,"post_id":69778863,"comment_id":123345151,"body_markdown":"I would say that if the alignment is off that indicates a bug in the code and therefore an error would expose that bug which you could then fix. Let&#39;s say you find a way to check the alignment before calling the function. Then what would the code do? Would it inform the user that there is a problem in the code? What is the difference between that and a code error? Why not just catch the error and display a message to the user?","body":"I would say that if the alignment is off that indicates a bug in the code and therefore an error would expose that bug which you could then fix. Let&#39;s say you find a way to check the alignment before calling the function. Then what would the code do? Would it inform the user that there is a problem in the code? What is the difference between that and a code error? Why not just catch the error and display a message to the user?"},{"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"score":0,"creation_date":1635780707,"post_id":69778863,"comment_id":123378740,"body_markdown":"I&#39;m doing that currently, I asked the question because in some cases there is no error, but the code does not behave correctly (such as the example I chose here)","body":"I&#39;m doing that currently, I asked the question because in some cases there is no error, but the code does not behave correctly (such as the example I chose here)"}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635621292,"creation_date":1635620972,"answer_id":69781343,"question_id":69778863,"body_markdown":"No, there is no automated mechanism, and in fact incorrectly mapping types is probably the most common error made when implementing JNA mappings, and that&#39;s usually the very first thing I check when code misbehaves.\r\n\r\nIf JNA can&#39;t find a matching function with the same number of arguments, you&#39;ll get an error:\r\n&gt; java.lang.UnsatisfiedLinkError: Error looking up function &#39;Foo&#39;: The specified procedure could not be found.\r\n\r\nIf the method name matches the native function, and the number of arguments matches, JNA will not give any obvious indication of an improper mapping, however if you write robust unit tests and attempt to obtain sane/expected output from the native function, this will help catch most errors (although &quot;catch&quot; means &quot;displays odd symptoms.&quot;)\r\n\r\nYou still may miss platform-dependent errors such as 32- vs. 64-bit `long` or pointer types.\r\n\r\nThere are still cases where it is technically impossible to know the correct mapping for a compiled library where the byte width of some types depends on compile-time switches, such as for the `off_t` type.  There is no foolproof way of determining this at run time.\r\n","title":"Is it possible to use JNA to get the signature of a function","body":"<p>No, there is no automated mechanism, and in fact incorrectly mapping types is probably the most common error made when implementing JNA mappings, and that's usually the very first thing I check when code misbehaves.</p>\n<p>If JNA can't find a matching function with the same number of arguments, you'll get an error:</p>\n<blockquote>\n<p>java.lang.UnsatisfiedLinkError: Error looking up function 'Foo': The specified procedure could not be found.</p>\n</blockquote>\n<p>If the method name matches the native function, and the number of arguments matches, JNA will not give any obvious indication of an improper mapping, however if you write robust unit tests and attempt to obtain sane/expected output from the native function, this will help catch most errors (although &quot;catch&quot; means &quot;displays odd symptoms.&quot;)</p>\n<p>You still may miss platform-dependent errors such as 32- vs. 64-bit <code>long</code> or pointer types.</p>\n<p>There are still cases where it is technically impossible to know the correct mapping for a compiled library where the byte width of some types depends on compile-time switches, such as for the <code>off_t</code> type.  There is no foolproof way of determining this at run time.</p>\n"}],"owner":{"account_id":8204014,"reputation":513,"user_id":6174386,"display_name":"Herv&#233; Girod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69781343,"answer_count":1,"score":2,"last_activity_date":1635808066,"creation_date":1635590732,"question_id":69778863,"body_markdown":"Is it possible to use JNA to check that the signature of the Java interface is consistent with the signature of the associated C funtions?\r\n\r\nFor example suppose that I have the following C interface for my C code:\r\n```c\r\n__declspec(dllexport) void receive(bool boolValue, int intValue);\r\n```\r\nAnd the associated Java interface:\r\n```java\r\npublic interface MyLibrary extends Library {\r\n  public void receive(int intValue, bool boolValue);\r\n}\r\n```\r\nIf I load the library, I will have no problem, but of course I will have an error if calling the `receive` method of the interface because the signature of the method is not aligned with the signature of the corresponding function.\r\n\r\nIs there any way to know that the alignment is off before calling the method? I though about using:\r\n\r\n```java\r\nFunction function = NativeLibrary.getFunction(&quot;receive&quot;);\r\n```\r\n\r\nBut after that it seems that I have no way to know anything about the signature of the function.","title":"Is it possible to use JNA to get the signature of a function","body":"<p>Is it possible to use JNA to check that the signature of the Java interface is consistent with the signature of the associated C funtions?</p>\n<p>For example suppose that I have the following C interface for my C code:</p>\n<pre class=\"lang-c prettyprint-override\"><code>__declspec(dllexport) void receive(bool boolValue, int intValue);\n</code></pre>\n<p>And the associated Java interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyLibrary extends Library {\n  public void receive(int intValue, bool boolValue);\n}\n</code></pre>\n<p>If I load the library, I will have no problem, but of course I will have an error if calling the <code>receive</code> method of the interface because the signature of the method is not aligned with the signature of the corresponding function.</p>\n<p>Is there any way to know that the alignment is off before calling the method? I though about using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Function function = NativeLibrary.getFunction(&quot;receive&quot;);\n</code></pre>\n<p>But after that it seems that I have no way to know anything about the signature of the function.</p>\n"},{"tags":["javascript","java","html","jsp","xss"],"comments":[{"owner":{"account_id":61252,"reputation":407488,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":2,"creation_date":1635806695,"post_id":69803524,"comment_id":123387117,"body_markdown":"If you&#39;re using a parameter as a URL, the problem isn&#39;t with *encoding* the URL, it&#39;s with the fact that it&#39;s an externally-supplied URL in the first place. Instead of it being a raw URL, it can be some kind of keyword that on your own server you translate to a URL and supply that value to the JSP page.","body":"If you&#39;re using a parameter as a URL, the problem isn&#39;t with <i>encoding</i> the URL, it&#39;s with the fact that it&#39;s an externally-supplied URL in the first place. Instead of it being a raw URL, it can be some kind of keyword that on your own server you translate to a URL and supply that value to the JSP page."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635807953,"creation_date":1635807953,"answer_id":69803694,"question_id":69803524,"body_markdown":"As @Pointy said, the problem is more fundamental here. Accepting untrusted input and rendering that as a link verbatim (or as text), __is a security issue__, even if you escape the heck out of it. For example, if you allow `login?msg=Password+incorrect` and that&#39;s how you deal with relaying messages - you have a problem. I can make a site with: `&lt;a href=&quot;https://sutterlin.com/login?msg=Give+rzwitserloot+some+cash+to+unlock+admin+privileges&quot;&gt;Click for cute kittens!&lt;/a&gt;` and you see why this is a problem.\r\n\r\nThe real solution is to not accept potentially tainted information, __period__ (nevermind escaping!), if that information ends up being rendered without the surrounding context that it is tainted. For example, take twitter. The username and the tweet are potentially tainted. This is no big deal because users of twitter get clued in due to the very design of the website that you&#39;re _looking_ at what some rando wrote. If someone tweets &#39;If you transfer 5 bucks to Jack Dorsey&#39;s account at 12345678, he&#39;ll give you a twitter blue logo!&#39;, there&#39;s a reasonable expectation that it&#39;s on the users of the site to not be morons and trust it.\r\n\r\nYour website&#39;s &quot;click here to go to the previous page&quot; is not like that.  You can&#39;t reasonably expect the users of your site to hang over that button, check their browser&#39;s status bar, and figure it out.\r\n\r\nHence, the entire principle is wrong. You simply can&#39;t do it this way, period.\r\n\r\nYour alternatives are threefold:\r\n\r\n1. Instead of letting the &#39;previous link&#39; property be a URL param, it needs to be in the session. Websites work with sessions, generally. You can store whatever you want in them, serverside (the HTTP handler code either manually takes e.g. the cookie and uses that to look up on-server info for that user by doing a lookup, or runs on a framework that just provides an HttpSession-style object, which works in that exact fashion).\r\n\r\n2. If you really want to bend over backwards, you can include it as a signed blob. This is creative but I really wouldn&#39;t go there.\r\n\r\n3. A quick hack: What if you just include `&lt;a href=&quot;javascript:history.back()&quot;&gt;Click to go back&lt;/a&gt;` as a static link in your web page?\r\n","title":"XSS vulnerability despite encoding","body":"<p>As @Pointy said, the problem is more fundamental here. Accepting untrusted input and rendering that as a link verbatim (or as text), <strong>is a security issue</strong>, even if you escape the heck out of it. For example, if you allow <code>login?msg=Password+incorrect</code> and that's how you deal with relaying messages - you have a problem. I can make a site with: <code>&lt;a href=&quot;https://sutterlin.com/login?msg=Give+rzwitserloot+some+cash+to+unlock+admin+privileges&quot;&gt;Click for cute kittens!&lt;/a&gt;</code> and you see why this is a problem.</p>\n<p>The real solution is to not accept potentially tainted information, <strong>period</strong> (nevermind escaping!), if that information ends up being rendered without the surrounding context that it is tainted. For example, take twitter. The username and the tweet are potentially tainted. This is no big deal because users of twitter get clued in due to the very design of the website that you're <em>looking</em> at what some rando wrote. If someone tweets 'If you transfer 5 bucks to Jack Dorsey's account at 12345678, he'll give you a twitter blue logo!', there's a reasonable expectation that it's on the users of the site to not be morons and trust it.</p>\n<p>Your website's &quot;click here to go to the previous page&quot; is not like that.  You can't reasonably expect the users of your site to hang over that button, check their browser's status bar, and figure it out.</p>\n<p>Hence, the entire principle is wrong. You simply can't do it this way, period.</p>\n<p>Your alternatives are threefold:</p>\n<ol>\n<li><p>Instead of letting the 'previous link' property be a URL param, it needs to be in the session. Websites work with sessions, generally. You can store whatever you want in them, serverside (the HTTP handler code either manually takes e.g. the cookie and uses that to look up on-server info for that user by doing a lookup, or runs on a framework that just provides an HttpSession-style object, which works in that exact fashion).</p>\n</li>\n<li><p>If you really want to bend over backwards, you can include it as a signed blob. This is creative but I really wouldn't go there.</p>\n</li>\n<li><p>A quick hack: What if you just include <code>&lt;a href=&quot;javascript:history.back()&quot;&gt;Click to go back&lt;/a&gt;</code> as a static link in your web page?</p>\n</li>\n</ol>\n"}],"owner":{"account_id":20989198,"reputation":43,"user_id":15422363,"display_name":"S&#233;bastien Sutterlin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69803694,"answer_count":1,"score":0,"last_activity_date":1635807953,"creation_date":1635806505,"question_id":69803524,"body_markdown":"I had a security audit on a website on which I&#39;ve been working. The audit has shown that one of my parameter, called backurl, wasn&#39;t protected enough in my jsp file. This url is put inside the href of a button, button that allows the user to get back to the previous page.\r\n\r\nSo what I did was to protect it using the owasp library, with the function &quot;forHTMLAttribute&quot;. It gives something like this:\r\n```\r\n&lt;a class=&quot;float_left button&quot; href=&quot;${e:forHtmlAttribute(param.backUrl)}&quot;&gt;Retour&lt;/a&gt;\r\n```\r\nHowever, a second audit showed that by replacing the value of the parameter by:\r\n```\r\njavascript:eval(document%5b%27location%27%5d%5b%27hash%27%5d.substring(1))#alert(1234)\r\n```\r\nThe javascript code would be executed and the alert would show, **when clicking on the button only.**\r\n\r\nThey said that something that I could do was to hardcode the hostname value in front of the url, but I don&#39;t really get how this would help solve the problem. I feel like no matter what I do, solving a XSS vulnerability will just create a new one.\r\n\r\nCould someone help me on this? To understand what&#39;s happening and where to look at least. \r\n\r\nThanks a lot. ","title":"XSS vulnerability despite encoding","body":"<p>I had a security audit on a website on which I've been working. The audit has shown that one of my parameter, called backurl, wasn't protected enough in my jsp file. This url is put inside the href of a button, button that allows the user to get back to the previous page.</p>\n<p>So what I did was to protect it using the owasp library, with the function &quot;forHTMLAttribute&quot;. It gives something like this:</p>\n<pre><code>&lt;a class=&quot;float_left button&quot; href=&quot;${e:forHtmlAttribute(param.backUrl)}&quot;&gt;Retour&lt;/a&gt;\n</code></pre>\n<p>However, a second audit showed that by replacing the value of the parameter by:</p>\n<pre><code>javascript:eval(document%5b%27location%27%5d%5b%27hash%27%5d.substring(1))#alert(1234)\n</code></pre>\n<p>The javascript code would be executed and the alert would show, <strong>when clicking on the button only.</strong></p>\n<p>They said that something that I could do was to hardcode the hostname value in front of the url, but I don't really get how this would help solve the problem. I feel like no matter what I do, solving a XSS vulnerability will just create a new one.</p>\n<p>Could someone help me on this? To understand what's happening and where to look at least.</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","javascript","node.js","byte","arrays"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1434095601,"post_id":30797862,"comment_id":49644765,"body_markdown":"See typed arrays? http://stackoverflow.com/a/12332802/461499","body":"See typed arrays? <a href=\"http://stackoverflow.com/a/12332802/461499\">stackoverflow.com/a/12332802/461499</a>"}],"answers":[{"tags":[],"owner":{"account_id":6189507,"reputation":8423,"user_id":4822566,"display_name":"Alex Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434097096,"creation_date":1434097096,"answer_id":30798456,"question_id":30797862,"body_markdown":"You&#39;re looking for [```Buffer```][1]. It allows reading/writing of variously sized binary values and random access.\r\n\r\n\r\n  [1]: https://nodejs.org/api/buffer.html","title":"Java byteArray equivalent in JavaScript","body":"<p>You're looking for <a href=\"https://nodejs.org/api/buffer.html\" rel=\"nofollow\"><code>Buffer</code></a>. It allows reading/writing of variously sized binary values and random access.</p>\n"},{"tags":[],"owner":{"account_id":3044810,"reputation":6874,"user_id":2580784,"display_name":"zlumer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1434097165,"creation_date":1434097165,"answer_id":30798479,"question_id":30797862,"body_markdown":"If I correctly understand your question, you can use [`Buffer`](https://nodejs.org/api/buffer.html) to get file contents, then read the bytes from it into your array.\r\n\r\nJava `byte` type is a signed 8-bit integer, the equivalent in Node.js Buffer is `buf.readInt8()`.\r\n\r\nSo you can read the required amount of `byte`s from `Buffer` into your array using `buf.readInt8()`\r\n\r\nOr just convert it into `Int8Array`:\r\n\r\n    new Int8Array(new Buffer([100, 200, 255, 1, 32]));","title":"Java byteArray equivalent in JavaScript","body":"<p>If I correctly understand your question, you can use <a href=\"https://nodejs.org/api/buffer.html\" rel=\"nofollow\"><code>Buffer</code></a> to get file contents, then read the bytes from it into your array.</p>\n\n<p>Java <code>byte</code> type is a signed 8-bit integer, the equivalent in Node.js Buffer is <code>buf.readInt8()</code>.</p>\n\n<p>So you can read the required amount of <code>byte</code>s from <code>Buffer</code> into your array using <code>buf.readInt8()</code></p>\n\n<p>Or just convert it into <code>Int8Array</code>:</p>\n\n<pre><code>new Int8Array(new Buffer([100, 200, 255, 1, 32]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5676036,"reputation":3884,"user_id":4489164,"accept_rate":38,"display_name":"Dickens A S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434103590,"creation_date":1434103590,"answer_id":30800452,"question_id":30797862,"body_markdown":"I would recommend you to change the logic of identifying a JPEG file using magic numbers from the first 4 bytes, your -40 logic could be insufficient.\r\n\r\n    FFD8FFE0 should be the first 4 bytes of a jpeg file\r\n\r\nTherefore following Node.js program could be helpful\r\n\r\n    var fs = require(&#39;fs&#39;);\r\n    fs.open(&quot;c:\\\\aa1.jpg&quot;, &#39;r&#39;, function(err, doc){\r\n\t    var check = &quot;FFD8FFE0&quot;;\r\n\t    var headerLength = ( check.length / 2 );\r\n\t\r\n\t    var byteBuffer = new Buffer(headerLength);\r\n\t    for(var i=0;i&lt;headerLength;i++)\r\n\t\t  byteBuffer[i] = 0x00;\r\n\t\r\n\t    var head = &quot;&quot;;\r\n\t\r\n\t    fs.read(doc, byteBuffer, 0, headerLength, 0, function(err, num) {\r\n\t\t  for(var i=0;i&lt;headerLength;i++)\r\n\t\t\thead += byteBuffer[i].toString(16);\r\n\t\t\r\n\t\t  if(head.toLowerCase() == check.toLowerCase())\r\n\t\t\tconsole.log(&#39;It is a JPEG file&#39;);\r\n\t\t  else\r\n\t\t\tconsole.log(&#39;It is not a JPEG file&#39;);\r\n        });\r\n    });\r\n\r\ncheck for err and doc null check is not included in this program\r\n\r\nRefer https://stackoverflow.com/questions/4550296/how-to-identify-contents-of-a-byte-is-a-jpeg\r\n\r\n","title":"Java byteArray equivalent in JavaScript","body":"<p>I would recommend you to change the logic of identifying a JPEG file using magic numbers from the first 4 bytes, your -40 logic could be insufficient.</p>\n\n<pre><code>FFD8FFE0 should be the first 4 bytes of a jpeg file\n</code></pre>\n\n<p>Therefore following Node.js program could be helpful</p>\n\n<pre><code>var fs = require('fs');\nfs.open(\"c:\\\\aa1.jpg\", 'r', function(err, doc){\n    var check = \"FFD8FFE0\";\n    var headerLength = ( check.length / 2 );\n\n    var byteBuffer = new Buffer(headerLength);\n    for(var i=0;i&lt;headerLength;i++)\n      byteBuffer[i] = 0x00;\n\n    var head = \"\";\n\n    fs.read(doc, byteBuffer, 0, headerLength, 0, function(err, num) {\n      for(var i=0;i&lt;headerLength;i++)\n        head += byteBuffer[i].toString(16);\n\n      if(head.toLowerCase() == check.toLowerCase())\n        console.log('It is a JPEG file');\n      else\n        console.log('It is not a JPEG file');\n    });\n});\n</code></pre>\n\n<p>check for err and doc null check is not included in this program</p>\n\n<p>Refer <a href=\"https://stackoverflow.com/questions/4550296/how-to-identify-contents-of-a-byte-is-a-jpeg\">How to identify contents of a byte[] is a jpeg?</a></p>\n"},{"tags":[],"owner":{"account_id":1448254,"reputation":32220,"user_id":1366033,"accept_rate":87,"display_name":"KyleMit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635806720,"creation_date":1635806720,"answer_id":69803556,"question_id":30797862,"body_markdown":"You can also use [`TypeArray.from()`][3] method on all [Typed Arrays][1] to convert between normal arrays:\r\n\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    const values = [-1, 94, 43, 34]\r\n\r\n    const byteArr = Int8Array.from(values)\r\n    const original = Array.from(byteArr)\r\n\r\n    console.log({ byteArr, original })\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n**Bonus**: This works in node *and also* the browser\r\n\r\n[1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Typed_arrays\r\n[2]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from\r\n[3]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/from","title":"Java byteArray equivalent in JavaScript","body":"<p>You can also use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/from\" rel=\"nofollow noreferrer\"><code>TypeArray.from()</code></a> method on all <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Typed_arrays\" rel=\"nofollow noreferrer\">Typed Arrays</a> to convert between normal arrays:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const values = [-1, 94, 43, 34]\n\nconst byteArr = Int8Array.from(values)\nconst original = Array.from(byteArr)\n\nconsole.log({ byteArr, original })</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Bonus</strong>: This works in node <em>and also</em> the browser</p>\n"}],"owner":{"account_id":1267865,"reputation":337,"user_id":1224765,"accept_rate":36,"display_name":"Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13034,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":30798479,"answer_count":4,"score":7,"last_activity_date":1635806720,"creation_date":1434095064,"question_id":30797862,"body_markdown":"I am trying to determine what encoding scheme will give me the numbers -1 or -40 (the starting numbers for the file) for a jpeg file type.\r\n\r\nA rest api I&#39;m working on is expecting a byte array that looks like [-1, 94, 43, 34, etc]. In node.js I can have the byte array as hex, or any other encoding type, but I seem not able to get -1 or -40 for the starting value whichever encoding scheme I try.\r\n\r\nIn the documentation I saw an example in Java which uses the &quot;toByteArray()&quot; function, which seems to get the starting values (-1 or -40). Can anyone help me?","title":"Java byteArray equivalent in JavaScript","body":"<p>I am trying to determine what encoding scheme will give me the numbers -1 or -40 (the starting numbers for the file) for a jpeg file type.</p>\n\n<p>A rest api I'm working on is expecting a byte array that looks like [-1, 94, 43, 34, etc]. In node.js I can have the byte array as hex, or any other encoding type, but I seem not able to get -1 or -40 for the starting value whichever encoding scheme I try.</p>\n\n<p>In the documentation I saw an example in Java which uses the \"toByteArray()\" function, which seems to get the starting values (-1 or -40). Can anyone help me?</p>\n"},{"tags":["java","android","android-intent","android-intentservice"],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635806366,"creation_date":1635806366,"answer_id":69803509,"question_id":69744330,"body_markdown":"When you declare a `Service` with a permission in the manifest, this tells Android that any code that wants to **use** your `Service` must hold the specified permission. The error you are getting indicates that some code is trying to **use** the `Service` and that code **does not** hold the permission `android.permission.BIND_JOB_SERVICE`.\r\n\r\nThe permission `android.permission.BIND_JOB_SERVICE` is used by the `JobScheduler` so I&#39;m thinking that you are trying to use this `Service` directly and not via the `JobScheduler`.","title":"Not allowed to start service Intent without permission android.permission.BIND_JOB_SERVICE","body":"<p>When you declare a <code>Service</code> with a permission in the manifest, this tells Android that any code that wants to <strong>use</strong> your <code>Service</code> must hold the specified permission. The error you are getting indicates that some code is trying to <strong>use</strong> the <code>Service</code> and that code <strong>does not</strong> hold the permission <code>android.permission.BIND_JOB_SERVICE</code>.</p>\n<p>The permission <code>android.permission.BIND_JOB_SERVICE</code> is used by the <code>JobScheduler</code> so I'm thinking that you are trying to use this <code>Service</code> directly and not via the <code>JobScheduler</code>.</p>\n"}],"owner":{"account_id":20021684,"reputation":11,"user_id":14676490,"display_name":"Johnny Hughes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":992,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635806366,"creation_date":1635362286,"question_id":69744330,"body_markdown":"I&#39;m currently developing a plugin for ATAK in which I need to launch a handful of services that have been imported from other modules I&#39;ve created. When I try to start the services however, I receive the error as stated in the title. I&#39;m a bit confused as the services I&#39;ve created do include the BIND_JOB_SERVICE permission in both the module itself and plugin AndroidManifests as follows\r\n\r\n            &lt;service\r\n            android:name=&quot;mqtt.MqttBrokerService&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;mqtt.MqttBrokerService&quot;&gt;&lt;/action&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n\r\nThese code blocks are within the application section of the AndroidManifest so that isn&#39;t the issue. I&#39;m pretty dumbfounded and not sure why this happening and also why it even requires this permission since it isn&#39;t a job service. The cherry on top is I created a sample app that has the exact same Manifest as my plugin and the sample app launches the services just fine. The only difference is in my plugin, I don&#39;t launch the services from the main activity as follows\r\n\r\n        Intent startMqtt = new Intent(&quot;mqtt.MqttBrokerService&quot;);\r\n        startMqtt.setPackage(&quot;com.atakmap.android&quot;);\r\n        getMapView().getContext().startForegroundService(startMqtt);\r\n\r\n","title":"Not allowed to start service Intent without permission android.permission.BIND_JOB_SERVICE","body":"<p>I'm currently developing a plugin for ATAK in which I need to launch a handful of services that have been imported from other modules I've created. When I try to start the services however, I receive the error as stated in the title. I'm a bit confused as the services I've created do include the BIND_JOB_SERVICE permission in both the module itself and plugin AndroidManifests as follows</p>\n<pre><code>        &lt;service\n        android:name=&quot;mqtt.MqttBrokerService&quot;\n        android:exported=&quot;true&quot;\n        android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;mqtt.MqttBrokerService&quot;&gt;&lt;/action&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n</code></pre>\n<p>These code blocks are within the application section of the AndroidManifest so that isn't the issue. I'm pretty dumbfounded and not sure why this happening and also why it even requires this permission since it isn't a job service. The cherry on top is I created a sample app that has the exact same Manifest as my plugin and the sample app launches the services just fine. The only difference is in my plugin, I don't launch the services from the main activity as follows</p>\n<pre><code>    Intent startMqtt = new Intent(&quot;mqtt.MqttBrokerService&quot;);\n    startMqtt.setPackage(&quot;com.atakmap.android&quot;);\n    getMapView().getContext().startForegroundService(startMqtt);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":2,"creation_date":1635803146,"post_id":69803094,"comment_id":123386266,"body_markdown":"Assuming the types are unrelated, you just enumerated your two choices: multiple overloads, or type hiding with `Object`.  There is no magic here.","body":"Assuming the types are unrelated, you just enumerated your two choices: multiple overloads, or type hiding with <code>Object</code>.  There is no magic here."},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1635804424,"post_id":69803094,"comment_id":123386570,"body_markdown":"@TimRoberts A bit more creativity finds more and nicer options. See my answer.","body":"@TimRoberts A bit more creativity finds more and nicer options. See my answer."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635803953,"creation_date":1635803953,"answer_id":69803220,"question_id":69803094,"body_markdown":"You are talking about quantities that can be specified/implements via different means, so you could create such a class.\r\n\r\nThis provides:\r\n- a type/class/category for a too versatile notion\r\n- avoiding many and maybe incomplete overloads at several use points\r\n\r\nSo:\r\n\r\n    public void setBorder(Border border) { ... }\r\n    public void setBorders(Border... borders) { ... }\r\n\r\n    public class Border {\r\n        public Border(Color color) { ... }\r\n        public Border(String colorName) { ... }\r\n        public Border(Image image) { ... }\r\n        public Border(Path imageFile) { ... }\r\n    }\r\n\r\n    public class Border {\r\n        ...\r\n        public static Border fromColor(Color color) { ... }\r\n        public static Border fromName(String colorName) { ... }\r\n        public static Border fromImage(Image image) { ... }\r\n        public static Border fromPath(Path imageFile) { ... }\r\n    }\r\n\r\nThe second version is an extra step with factory methods. This allows to not return a Border, but a specialized child of a Border.\r\n\r\nAnd of course you could create your own implementation of a border:\r\n\r\n    class CssBorder extends Border { ... }\r\n\r\nSo you need not specify all variations at once, in one place.","title":"How to make a method with parameters of several types in Java?","body":"<p>You are talking about quantities that can be specified/implements via different means, so you could create such a class.</p>\n<p>This provides:</p>\n<ul>\n<li>a type/class/category for a too versatile notion</li>\n<li>avoiding many and maybe incomplete overloads at several use points</li>\n</ul>\n<p>So:</p>\n<pre><code>public void setBorder(Border border) { ... }\npublic void setBorders(Border... borders) { ... }\n\npublic class Border {\n    public Border(Color color) { ... }\n    public Border(String colorName) { ... }\n    public Border(Image image) { ... }\n    public Border(Path imageFile) { ... }\n}\n\npublic class Border {\n    ...\n    public static Border fromColor(Color color) { ... }\n    public static Border fromName(String colorName) { ... }\n    public static Border fromImage(Image image) { ... }\n    public static Border fromPath(Path imageFile) { ... }\n}\n</code></pre>\n<p>The second version is an extra step with factory methods. This allows to not return a Border, but a specialized child of a Border.</p>\n<p>And of course you could create your own implementation of a border:</p>\n<pre><code>class CssBorder extends Border { ... }\n</code></pre>\n<p>So you need not specify all variations at once, in one place.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1635804229,"creation_date":1635804229,"answer_id":69803254,"question_id":69803094,"body_markdown":"The direct answer to your question is very very simple: Nope. No can do, impossible.\r\n\r\nJava simply doesn&#39;t have what you want; there is no option to write intersection types and no option to let java provide for you a combinatory explosion of your various desired options here.\r\n\r\nSo we need to get creative; there are many many options that fulfill the general idea of what you want whilst not actually being what you specifically asked for.\r\n\r\n## Overloads\r\n\r\nYou have 4 different types you want to accept (`File`, `Image`, `String`, and `Color`), for each of 4 parameters. That&#39;s `4*4*4*4` = 256 methods required. You can write them all (oooof!), or you can use a code gen tool to generate them for you. Presumably you wouldn&#39;t want to regenerate it every time you change something, so code gen integrated into the build process: Annotation Processors.\r\n\r\nIt&#39;s... possible. But complicated, and I really don&#39;t think you&#39;d want this. There&#39;s a limit to the # of methods in a single class file, and the java community as a whole just doesn&#39;t do it this way. As a consequence, the tools provided in the ecosystem don&#39;t expect it and therefore won&#39;t act &#39;nice&#39; with this. Trivial case in point: If you really were to make 256 overloads here, any attempt to auto-complete on this one method is going to show all 256 methods in the dropdown and probably have a significant slowdown effect on your IDE, as the authors of the code completion code weren&#39;t thinking of this scenario.\r\n\r\nThus, I recommend strongly against this plan.\r\n\r\n## Sealed types and wrappers\r\n\r\nJava16 brings sealed types directly, but even without java16 you can effectively have them by using access control of constructors.\r\n\r\nMake a type called, I dunno, `Border`, perhaps. This type has no public constructor; it only has 4 static methods that create a Border:\r\n\r\n```\r\npublic class Border {\r\n  private Border(...) {}\r\n\r\n  public static Border ofColor(Color color) { ... }\r\n  public static Border ofImage(Color color) { ... }\r\n  ...\r\n}\r\n```\r\n\r\nYou then write 1 `setBorders` method that takes 4 `Border` parameters, and that is all. One would call it as follows:\r\n\r\n```\r\nfoo.setBorders(Border.ofColor(BLACK), Border.ofImage(leftImage), ...);\r\n```\r\n\r\nGiven that there are only 4 `ofX` methods and those are the only way to create Border objects, this is the only way you can invoke this method.\r\n\r\nThere is a slight issue with wordiness; `Border.ofColor(Color.BLACK)` is a little superfluous and doesn&#39;t add much more visual info than the much shorter `Color.BLACK`. That is unfortunate. One could statically import the `ofX` methods, resulting in just `ofColor(Color.BLACK)` which is a bit better, perhaps.\r\n\r\n## Builders\r\n\r\nEven with the &#39;fix&#39; of using sealed types/wrappers, one needs to remember that the ordering of the borders. Was it like CSS and ordered top, right, bot, left? Or was it something else? Yes, IDEs will help, but still.  A builder solves both problems. You still need 17 methods, but that&#39;s better than 256.\r\n\r\nExample:\r\n\r\n```\r\npublic SetBordersBuilder setBorders() {\r\n  return new SetBordersBuilder();\r\n}\r\n\r\npublic static class SetBordersBuilder {\r\n  private SetBordersBuilder() {}\r\n\r\n  public left(Image borderImage) { ... }\r\n  public left(String borderColorName) { .... }\r\n  // same for top, right, and bottom.\r\n\r\n  public void go() {\r\n    // actually sets the borders.\r\n  }\r\n}\r\n```\r\n\r\nTo use this, one would go:\r\n\r\n```\r\nfoo.setBorders()\r\n  .left(Color.BLACK)\r\n  .top(someImage)\r\n  .. etcetera\r\n  .go();\r\n```\r\n\r\n## runtime check only\r\n\r\nWrite one method, give them 4 parameters of type `Object`, and go on an `instanceof` bonanza. This is cruddy API: It lacks discoverability. Perusing just the signatures (for example, by reading an auto-complete dialog) I have no idea. It&#39;s a bit of a mystifying method call: I pass in 4 borders, and a border can be... any object? Weird. It&#39;s hard to know without diving into the docs what kinds of objects I can pass and what that might mean (how would I know that passing a String works and means the string is interpreted as the name of a border color?), and if I misunderstand and pass a type that the setBorders method doesn&#39;t understand I won&#39;t know it until I run that code and I get the exception. Much nicer if I get a red wavy underline as a type, and guidance as I call this thing. Hence, not recommended.\r\n\r\n\r\nMy advice? The builder solution, hands down.","title":"How to make a method with parameters of several types in Java?","body":"<p>The direct answer to your question is very very simple: Nope. No can do, impossible.</p>\n<p>Java simply doesn't have what you want; there is no option to write intersection types and no option to let java provide for you a combinatory explosion of your various desired options here.</p>\n<p>So we need to get creative; there are many many options that fulfill the general idea of what you want whilst not actually being what you specifically asked for.</p>\n<h2>Overloads</h2>\n<p>You have 4 different types you want to accept (<code>File</code>, <code>Image</code>, <code>String</code>, and <code>Color</code>), for each of 4 parameters. That's <code>4*4*4*4</code> = 256 methods required. You can write them all (oooof!), or you can use a code gen tool to generate them for you. Presumably you wouldn't want to regenerate it every time you change something, so code gen integrated into the build process: Annotation Processors.</p>\n<p>It's... possible. But complicated, and I really don't think you'd want this. There's a limit to the # of methods in a single class file, and the java community as a whole just doesn't do it this way. As a consequence, the tools provided in the ecosystem don't expect it and therefore won't act 'nice' with this. Trivial case in point: If you really were to make 256 overloads here, any attempt to auto-complete on this one method is going to show all 256 methods in the dropdown and probably have a significant slowdown effect on your IDE, as the authors of the code completion code weren't thinking of this scenario.</p>\n<p>Thus, I recommend strongly against this plan.</p>\n<h2>Sealed types and wrappers</h2>\n<p>Java16 brings sealed types directly, but even without java16 you can effectively have them by using access control of constructors.</p>\n<p>Make a type called, I dunno, <code>Border</code>, perhaps. This type has no public constructor; it only has 4 static methods that create a Border:</p>\n<pre><code>public class Border {\n  private Border(...) {}\n\n  public static Border ofColor(Color color) { ... }\n  public static Border ofImage(Color color) { ... }\n  ...\n}\n</code></pre>\n<p>You then write 1 <code>setBorders</code> method that takes 4 <code>Border</code> parameters, and that is all. One would call it as follows:</p>\n<pre><code>foo.setBorders(Border.ofColor(BLACK), Border.ofImage(leftImage), ...);\n</code></pre>\n<p>Given that there are only 4 <code>ofX</code> methods and those are the only way to create Border objects, this is the only way you can invoke this method.</p>\n<p>There is a slight issue with wordiness; <code>Border.ofColor(Color.BLACK)</code> is a little superfluous and doesn't add much more visual info than the much shorter <code>Color.BLACK</code>. That is unfortunate. One could statically import the <code>ofX</code> methods, resulting in just <code>ofColor(Color.BLACK)</code> which is a bit better, perhaps.</p>\n<h2>Builders</h2>\n<p>Even with the 'fix' of using sealed types/wrappers, one needs to remember that the ordering of the borders. Was it like CSS and ordered top, right, bot, left? Or was it something else? Yes, IDEs will help, but still.  A builder solves both problems. You still need 17 methods, but that's better than 256.</p>\n<p>Example:</p>\n<pre><code>public SetBordersBuilder setBorders() {\n  return new SetBordersBuilder();\n}\n\npublic static class SetBordersBuilder {\n  private SetBordersBuilder() {}\n\n  public left(Image borderImage) { ... }\n  public left(String borderColorName) { .... }\n  // same for top, right, and bottom.\n\n  public void go() {\n    // actually sets the borders.\n  }\n}\n</code></pre>\n<p>To use this, one would go:</p>\n<pre><code>foo.setBorders()\n  .left(Color.BLACK)\n  .top(someImage)\n  .. etcetera\n  .go();\n</code></pre>\n<h2>runtime check only</h2>\n<p>Write one method, give them 4 parameters of type <code>Object</code>, and go on an <code>instanceof</code> bonanza. This is cruddy API: It lacks discoverability. Perusing just the signatures (for example, by reading an auto-complete dialog) I have no idea. It's a bit of a mystifying method call: I pass in 4 borders, and a border can be... any object? Weird. It's hard to know without diving into the docs what kinds of objects I can pass and what that might mean (how would I know that passing a String works and means the string is interpreted as the name of a border color?), and if I misunderstand and pass a type that the setBorders method doesn't understand I won't know it until I run that code and I get the exception. Much nicer if I get a red wavy underline as a type, and guidance as I call this thing. Hence, not recommended.</p>\n<p>My advice? The builder solution, hands down.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635804571,"creation_date":1635804571,"answer_id":69803302,"question_id":69803094,"body_markdown":"```java\r\npublic class Main implements Context {\r\n\r\n    // YOU NEED ONLY ONE METHOD (NO NEED TO OVERLOAD MULTIPLE ONES)\r\n    public void setBorders(BorderBuilder borderBuilder) {\r\n        borderBuilder.setBorder(this);\r\n    }\r\n\r\n}\r\n\r\ninterface BorderBuilder {\r\n    void setBorder(Context context);\r\n}\r\n\r\npublic class FourColorBorderBuilder implements BorderBuilder {\r\n    \r\n    private Color top;\r\n    private Color right;\r\n    private Color bottom;\r\n    private Color left;\r\n    \r\n    @Override\r\n    public void setBorder(Context context) {\r\n        // impl\r\n    }\r\n    \r\n    public FourColorBorderBuilder withTopColor(Color top) {\r\n        this.top = top;\r\n        return this;\r\n    }\r\n    \r\n    public FourColorBorderBuilder withRightColor(Color right) {\r\n        this.right = right;\r\n        return this;\r\n    }\r\n\r\n    public FourColorBorderBuilder withBottomColor(Color bottom) {\r\n        this.bottom = bottom;\r\n        return this;\r\n    }\r\n\r\n    public FourColorBorderBuilder withLeftColor(Color left) {\r\n        this.left = left;\r\n        return this;\r\n    }      \r\n    \r\n}\r\n\r\npublic class StringAndThreeColorBorderBuilder implements BorderBuilder {\r\n    \r\n    private String topName;\r\n    private Color right;\r\n    private Color bottom;\r\n    private Color left;\r\n    \r\n    @Override\r\n    public void setBorder(Context context) {\r\n        // impl\r\n    }\r\n    \r\n    public StringAndThreeColorBorderBuilder withTopNameColor(String topName) {\r\n        this.topName = topName;\r\n        return this;\r\n    }\r\n    \r\n    public StringAndThreeColorBorderBuilder withRightColor(Color right) {\r\n        this.right = right;\r\n        return this;\r\n    }\r\n\r\n    public StringAndThreeColorBorderBuilder withBottomColor(Color bottom) {\r\n        this.bottom = bottom;\r\n        return this;\r\n    }\r\n\r\n    public StringAndThreeColorBorderBuilder withLeftColor(Color left) {\r\n        this.left = left;\r\n        return this;\r\n    }      \r\n    \r\n}\r\n```","title":"How to make a method with parameters of several types in Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Main implements Context {\n\n    // YOU NEED ONLY ONE METHOD (NO NEED TO OVERLOAD MULTIPLE ONES)\n    public void setBorders(BorderBuilder borderBuilder) {\n        borderBuilder.setBorder(this);\n    }\n\n}\n\ninterface BorderBuilder {\n    void setBorder(Context context);\n}\n\npublic class FourColorBorderBuilder implements BorderBuilder {\n    \n    private Color top;\n    private Color right;\n    private Color bottom;\n    private Color left;\n    \n    @Override\n    public void setBorder(Context context) {\n        // impl\n    }\n    \n    public FourColorBorderBuilder withTopColor(Color top) {\n        this.top = top;\n        return this;\n    }\n    \n    public FourColorBorderBuilder withRightColor(Color right) {\n        this.right = right;\n        return this;\n    }\n\n    public FourColorBorderBuilder withBottomColor(Color bottom) {\n        this.bottom = bottom;\n        return this;\n    }\n\n    public FourColorBorderBuilder withLeftColor(Color left) {\n        this.left = left;\n        return this;\n    }      \n    \n}\n\npublic class StringAndThreeColorBorderBuilder implements BorderBuilder {\n    \n    private String topName;\n    private Color right;\n    private Color bottom;\n    private Color left;\n    \n    @Override\n    public void setBorder(Context context) {\n        // impl\n    }\n    \n    public StringAndThreeColorBorderBuilder withTopNameColor(String topName) {\n        this.topName = topName;\n        return this;\n    }\n    \n    public StringAndThreeColorBorderBuilder withRightColor(Color right) {\n        this.right = right;\n        return this;\n    }\n\n    public StringAndThreeColorBorderBuilder withBottomColor(Color bottom) {\n        this.bottom = bottom;\n        return this;\n    }\n\n    public StringAndThreeColorBorderBuilder withLeftColor(Color left) {\n        this.left = left;\n        return this;\n    }      \n    \n}\n</code></pre>\n"}],"owner":{"account_id":18225952,"reputation":33,"user_id":13265747,"display_name":"Anya Kolomenskaya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1635804640,"creation_date":1635802976,"question_id":69803094,"body_markdown":"For example, there is a method with overloading:\r\n```java\r\npublic void setBorder(Color color) { ... }\r\npublic void setBorder(String colorName) { ... }\r\npublic void setBorder(Image image) { ... }\r\npublic void setBorder(File imageFile) { ... }\r\n```\r\nBut if I want to overload a little different method, there would be too many similar methods:\r\n```java\r\npublic void setBorders(Color colorTop, Color colorRight, Color colorBottom, Color colorLeft) { ... }\r\npublic void setBorders(String colorTopName, Color colorRight, Color colorBottom, Color colorLeft) { ... }\r\npublic void setBorders(Image imageTop, Color colorRight, Color colorBottom, Color colorLeft) { ... }\r\n/* ... */\r\npublic void setBorders(File imageTopFile, File imageRightFile, File imageBottomFile, Image imageLeft) { ... }\r\npublic void setBorders(File imageTopFile, File imageRightFile, File imageBottomFile, File imageLeftFile) { ... }\r\n```\r\nOn the other hand, I don&#39;t want to use `Object something` with `something instanceof` here. So how to make for each parameter here several correct data types?","title":"How to make a method with parameters of several types in Java?","body":"<p>For example, there is a method with overloading:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setBorder(Color color) { ... }\npublic void setBorder(String colorName) { ... }\npublic void setBorder(Image image) { ... }\npublic void setBorder(File imageFile) { ... }\n</code></pre>\n<p>But if I want to overload a little different method, there would be too many similar methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setBorders(Color colorTop, Color colorRight, Color colorBottom, Color colorLeft) { ... }\npublic void setBorders(String colorTopName, Color colorRight, Color colorBottom, Color colorLeft) { ... }\npublic void setBorders(Image imageTop, Color colorRight, Color colorBottom, Color colorLeft) { ... }\n/* ... */\npublic void setBorders(File imageTopFile, File imageRightFile, File imageBottomFile, Image imageLeft) { ... }\npublic void setBorders(File imageTopFile, File imageRightFile, File imageBottomFile, File imageLeftFile) { ... }\n</code></pre>\n<p>On the other hand, I don't want to use <code>Object something</code> with <code>something instanceof</code> here. So how to make for each parameter here several correct data types?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8222753,"reputation":754,"user_id":6185975,"display_name":"Lenin"},"score":0,"creation_date":1635803412,"post_id":69803024,"comment_id":123386337,"body_markdown":"I don&#39;t know if it is the best approach but you could try using a try/catch block in Operations class. One only add method receiving two LiteralNode, you get the value and perform the addition or whatever inside a try catch. If they can be added you have a result, if not, you enter in the catch block and return whatever you want","body":"I don&#39;t know if it is the best approach but you could try using a try/catch block in Operations class. One only add method receiving two LiteralNode, you get the value and perform the addition or whatever inside a try catch. If they can be added you have a result, if not, you enter in the catch block and return whatever you want"}],"answers":[{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635804614,"creation_date":1635804614,"answer_id":69803308,"question_id":69803024,"body_markdown":"The problem with your code is that it has no proper basis. But it&#39;s luckily solvable. You can declare and implement all operations as methods for this `abstract class`, (it could easily be an interface as well) including\r\n\r\n- `add`\r\n- `subtract`\r\n- etc.\r\n\r\nFor example `add` would be a method that gets two `Node` parameters and returns a `Node` parameter. Inside the method you could check for the operands, like\r\n\r\n```\r\npublic Node add(Node a, Node b) {\r\n    if ((a.getClass().getSimpleName().equals(&quot;SomeClassName&quot;)) &amp;&amp; (b.getClass().getSimpleName.equals(&quot;SomeClassName2&quot;))) {\r\n         //implement the actual operation\r\n    }\r\n    //...\r\n}\r\n```\r\n\r\nSince you repeat these criteria in different methods, it would also make sense to make an abstraction for the criterias so the logical operands would be simplified. `Node` is not necessarily an `abstract` class, but even if it is, I would implement the operations at its level and only override it in subclasses if there is some benefit to it. This will reduce some of the mess you perceive.","title":"Handling different data types in a node-based interpreter","body":"<p>The problem with your code is that it has no proper basis. But it's luckily solvable. You can declare and implement all operations as methods for this <code>abstract class</code>, (it could easily be an interface as well) including</p>\n<ul>\n<li><code>add</code></li>\n<li><code>subtract</code></li>\n<li>etc.</li>\n</ul>\n<p>For example <code>add</code> would be a method that gets two <code>Node</code> parameters and returns a <code>Node</code> parameter. Inside the method you could check for the operands, like</p>\n<pre><code>public Node add(Node a, Node b) {\n    if ((a.getClass().getSimpleName().equals(&quot;SomeClassName&quot;)) &amp;&amp; (b.getClass().getSimpleName.equals(&quot;SomeClassName2&quot;))) {\n         //implement the actual operation\n    }\n    //...\n}\n</code></pre>\n<p>Since you repeat these criteria in different methods, it would also make sense to make an abstraction for the criterias so the logical operands would be simplified. <code>Node</code> is not necessarily an <code>abstract</code> class, but even if it is, I would implement the operations at its level and only override it in subclasses if there is some benefit to it. This will reduce some of the mess you perceive.</p>\n"}],"owner":{"account_id":23199669,"reputation":11,"user_id":17294707,"display_name":"GC Wang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635804614,"creation_date":1635802438,"question_id":69803024,"body_markdown":"I am making a simple node-base interpreter in java. The interpreter supports binary operations between Integer, Double, String, and some other object types. Some examples include addition between integer and double and concatenating two strings. \r\n\r\nHere is the basic structure of the nodes:\r\n```\r\npublic abstract class Node {\r\n  public LiteralNode execute ();\r\n}\r\n```\r\n```\r\npublic abstract class LiteralNode extends Node {\r\n  public Object getValue();\r\n}\r\n```\r\n```\r\npublic class IntegerNode extends LiteralNode {\r\n  private Integer value;\r\n  \r\n  public IntegerNode(Integer val) {\r\n    value = val;\r\n  }\r\n\r\n  public Integer getValue() { return value; }\r\n\r\n  public LiteralNode execute() { return this; }  \r\n  ...\r\n}\r\n```\r\n`DoubleNode` and `StringNode` etc. follow the same structure as `IntegerNode`, except with different value types.\r\n\r\nAn example operation node:\r\n```\r\npublic class AdditionNode extends Node {\r\n  public Node left, right;\r\n\r\n  public LiteralNode execute() {\r\n    LiteralNode lresult = left.execute();\r\n    LiteralNode rresult = right.execute();\r\n    \r\n    // This does not work. Need some kind of casting\r\n    return Operations.add(lresult, rresult);\r\n  }\r\n}\r\n```\r\n```\r\npublic final class Operations {\r\n  public static LiteralNode add(IntegerNode e1, IntegerNode e2) {\r\n    return new LiteralNode(e1.getValue() + e2.getValue());\r\n  }\r\n  public static LiteralNode add(StringNode e1, IntegerNode e2) {\r\n    // Give some error\r\n    return null;\r\n  }\r\n  ... Double+Integer, etc.\r\n\r\n  // No other appropriate overloaded method is found. Use the most general one.\r\n  public static LiteralNode add(LiteralNode e1, LiteralNode e2) {\r\n    // Error: Unknown operands\r\n    return null;\r\n  }\r\n}\r\n```\r\nOther operation nodes do similar things.\r\n\r\nNow, the part I&#39;m stuck on is dealing with the type of values held in `lresult` and `rresult`. I want to do, for example, if both are `IntegerNode` then add and return new `LiteralNode`, or if one is `StringNode` and another is `DoubleNode`, give an error.\r\n\r\n If I simply call the overloaded method on the two results, I get error and null since the two results are stored as `LiteralNode` instead of a specific sub-class. Yet I can&#39;t know their type beforehand so I have to either check `instanceof` or have some kind of label attribute. The problem is that I have several custom classes that could also be an operand, so checking every combination and then cast would make the code super messy.\r\n\r\nI tried using generics, but ended up with the same problem due to type erasure. I also tried to use the visitor pattern to process the nodes instead of using the overloaded method, but I couldn&#39;t figure out a way to make it work, since the two nodes need to be processed together. \r\n\r\nHow should I deal with this issue?\r\n\r\nPlease tell me if you need more details. Any help would be greatly appreciated. Thank you!","title":"Handling different data types in a node-based interpreter","body":"<p>I am making a simple node-base interpreter in java. The interpreter supports binary operations between Integer, Double, String, and some other object types. Some examples include addition between integer and double and concatenating two strings.</p>\n<p>Here is the basic structure of the nodes:</p>\n<pre><code>public abstract class Node {\n  public LiteralNode execute ();\n}\n</code></pre>\n<pre><code>public abstract class LiteralNode extends Node {\n  public Object getValue();\n}\n</code></pre>\n<pre><code>public class IntegerNode extends LiteralNode {\n  private Integer value;\n  \n  public IntegerNode(Integer val) {\n    value = val;\n  }\n\n  public Integer getValue() { return value; }\n\n  public LiteralNode execute() { return this; }  \n  ...\n}\n</code></pre>\n<p><code>DoubleNode</code> and <code>StringNode</code> etc. follow the same structure as <code>IntegerNode</code>, except with different value types.</p>\n<p>An example operation node:</p>\n<pre><code>public class AdditionNode extends Node {\n  public Node left, right;\n\n  public LiteralNode execute() {\n    LiteralNode lresult = left.execute();\n    LiteralNode rresult = right.execute();\n    \n    // This does not work. Need some kind of casting\n    return Operations.add(lresult, rresult);\n  }\n}\n</code></pre>\n<pre><code>public final class Operations {\n  public static LiteralNode add(IntegerNode e1, IntegerNode e2) {\n    return new LiteralNode(e1.getValue() + e2.getValue());\n  }\n  public static LiteralNode add(StringNode e1, IntegerNode e2) {\n    // Give some error\n    return null;\n  }\n  ... Double+Integer, etc.\n\n  // No other appropriate overloaded method is found. Use the most general one.\n  public static LiteralNode add(LiteralNode e1, LiteralNode e2) {\n    // Error: Unknown operands\n    return null;\n  }\n}\n</code></pre>\n<p>Other operation nodes do similar things.</p>\n<p>Now, the part I'm stuck on is dealing with the type of values held in <code>lresult</code> and <code>rresult</code>. I want to do, for example, if both are <code>IntegerNode</code> then add and return new <code>LiteralNode</code>, or if one is <code>StringNode</code> and another is <code>DoubleNode</code>, give an error.</p>\n<p>If I simply call the overloaded method on the two results, I get error and null since the two results are stored as <code>LiteralNode</code> instead of a specific sub-class. Yet I can't know their type beforehand so I have to either check <code>instanceof</code> or have some kind of label attribute. The problem is that I have several custom classes that could also be an operand, so checking every combination and then cast would make the code super messy.</p>\n<p>I tried using generics, but ended up with the same problem due to type erasure. I also tried to use the visitor pattern to process the nodes instead of using the overloaded method, but I couldn't figure out a way to make it work, since the two nodes need to be processed together.</p>\n<p>How should I deal with this issue?</p>\n<p>Please tell me if you need more details. Any help would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","spring-boot","http","resttemplate","http-content-length"],"answers":[{"tags":[],"owner":{"account_id":4352234,"reputation":3771,"user_id":3552141,"accept_rate":55,"display_name":"jhyot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635804589,"creation_date":1635804589,"answer_id":69803304,"question_id":69801599,"body_markdown":"Depending how easy it is to trigger the error, you can use a tool like `curl` to call the URL (just for testing, outside your application). If you still see the failure, then it is definitely not because of the client, because those well-known third-party tools are well tested and do not have such bugs.","title":"Premature end of Content-Length delimited message body - Resttemplate","body":"<p>Depending how easy it is to trigger the error, you can use a tool like <code>curl</code> to call the URL (just for testing, outside your application). If you still see the failure, then it is definitely not because of the client, because those well-known third-party tools are well tested and do not have such bugs.</p>\n"}],"owner":{"account_id":10694195,"reputation":338,"user_id":7871999,"display_name":"Ananya Antony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635804589,"creation_date":1635793392,"question_id":69801599,"body_markdown":"I am downloading a large file from a third party URL using Spring RestTemplate . Im using the below method to download the file so as not to load the entirety into memory.\r\n\r\n```RestTemplate restTemplate // = ...;\r\n\r\n// Optional Accept header\r\nRequestCallback requestCallback = request -&gt; request.getHeaders()\r\n        .setAccept(Arrays.asList(MediaType.APPLICATION_OCTET_STREAM, MediaType.ALL));\r\n\r\n// Streams the response instead of loading it all in memory\r\nResponseExtractor&lt;Void&gt; responseExtractor = response -&gt; {\r\n    // Here I write the response to a file but do what you like\r\n    Path path = Paths.get(&quot;some/path&quot;);\r\n    Files.copy(response.getBody(), path);\r\n    return null;\r\n};\r\nrestTemplate.execute(URI.create(&quot;www.something.com&quot;), HttpMethod.GET, requestCallback, responseExtractor\r\n```\r\n\r\n\r\n\r\n\r\nThis works fine, however we intermittently get a **Premature end of Content-Length delimited message body**\r\n\r\nI read from another stack overflow post that this is a server side issue. How can I make sure it&#39;s a server side issue? How can I know if it&#39;s a memory issue on the third party side or incorrect content length in the response header and such? I need to make sure before I approach the third party for a resolution.","title":"Premature end of Content-Length delimited message body - Resttemplate","body":"<p>I am downloading a large file from a third party URL using Spring RestTemplate . Im using the below method to download the file so as not to load the entirety into memory.</p>\n<pre><code>\n// Optional Accept header\nRequestCallback requestCallback = request -&gt; request.getHeaders()\n        .setAccept(Arrays.asList(MediaType.APPLICATION_OCTET_STREAM, MediaType.ALL));\n\n// Streams the response instead of loading it all in memory\nResponseExtractor&lt;Void&gt; responseExtractor = response -&gt; {\n    // Here I write the response to a file but do what you like\n    Path path = Paths.get(&quot;some/path&quot;);\n    Files.copy(response.getBody(), path);\n    return null;\n};\nrestTemplate.execute(URI.create(&quot;www.something.com&quot;), HttpMethod.GET, requestCallback, responseExtractor\n</code></pre>\n<p>This works fine, however we intermittently get a <strong>Premature end of Content-Length delimited message body</strong></p>\n<p>I read from another stack overflow post that this is a server side issue. How can I make sure it's a server side issue? How can I know if it's a memory issue on the third party side or incorrect content length in the response header and such? I need to make sure before I approach the third party for a resolution.</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin"],"comments":[{"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"score":2,"creation_date":1635792983,"post_id":69801468,"comment_id":123383150,"body_markdown":"Are you using the correct annotation `org.junit.jupiter.api.Test` ?","body":"Are you using the correct annotation <code>org.junit.jupiter.api.Test</code> ?"},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1635794255,"post_id":69801468,"comment_id":123383600,"body_markdown":"(it will show up as one of the `import` statements at the top of the file with the test)","body":"(it will show up as one of the <code>import</code> statements at the top of the file with the test)"},{"owner":{"account_id":2436754,"reputation":53,"user_id":2126471,"display_name":"Michael"},"score":0,"creation_date":1635794298,"post_id":69801468,"comment_id":123383615,"body_markdown":"in addition see here https://junit.org/junit5/docs/current/user-guide/#writing-tests","body":"in addition see here <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/#writing-tests</a>"},{"owner":{"account_id":3408395,"reputation":11432,"user_id":2858934,"display_name":"Thomas"},"score":0,"creation_date":1635794486,"post_id":69801468,"comment_id":123383692,"body_markdown":"Can you show the whole test class including imports?","body":"Can you show the whole test class including imports?"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1635794504,"post_id":69801468,"comment_id":123383696,"body_markdown":"What&#39;s the name of the class? Surefire has a naming convention for test classes, see https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#includes","body":"What&#39;s the name of the class? Surefire has a naming convention for test classes, see <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#includes\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/&hellip;</a>"},{"owner":{"account_id":1259633,"reputation":1751,"user_id":1218317,"accept_rate":87,"display_name":"ritratt"},"score":1,"creation_date":1635794889,"post_id":69801468,"comment_id":123383821,"body_markdown":"@amseager No, I wasn&#39;t. that fixed the problem. Please feel free to post that as the answer or I can do it for you. Thanks!","body":"@amseager No, I wasn&#39;t. that fixed the problem. Please feel free to post that as the answer or I can do it for you. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1635804521,"creation_date":1635804521,"answer_id":69803295,"question_id":69801468,"body_markdown":"If you&#39;re using JUnit 5 (Jupiter), you need to import `org.junit.jupiter.api.Test` instead of `org.junit.Test` (the latter is for JUnit 4).","title":"Maven not running JUnit test","body":"<p>If you're using JUnit 5 (Jupiter), you need to import <code>org.junit.jupiter.api.Test</code> instead of <code>org.junit.Test</code> (the latter is for JUnit 4).</p>\n"}],"owner":{"account_id":1259633,"reputation":1751,"user_id":1218317,"accept_rate":87,"display_name":"ritratt"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2133,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69803295,"answer_count":1,"score":3,"last_activity_date":1635804521,"creation_date":1635792662,"question_id":69801468,"body_markdown":"My `pom.xml`\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n  &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n  &lt;version&gt;5.8.1&lt;/version&gt;\r\n  &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n...\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nBut when I do `mvn clean test`\r\n\r\n```\r\n-------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n```\r\n\r\nNote that IntelliJ does recognize the test\r\n[![enter image description here][1]][1]\r\n(Although when I click the `test` folder and select `Run All Tests`, it says `No tests found`)\r\n\r\nWhy is Maven not running my unit tests and how do I fix it?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/19yOx.png","title":"Maven not running JUnit test","body":"<p>My <code>pom.xml</code></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n  &lt;version&gt;5.8.1&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n...\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0-M5&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>But when I do <code>mvn clean test</code></p>\n<pre><code>-------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n<p>Note that IntelliJ does recognize the test\n<a href=\"https://i.stack.imgur.com/19yOx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/19yOx.png\" alt=\"enter image description here\" /></a>\n(Although when I click the <code>test</code> folder and select <code>Run All Tests</code>, it says <code>No tests found</code>)</p>\n<p>Why is Maven not running my unit tests and how do I fix it?</p>\n"},{"tags":["java","failover","apache-pulsar"],"answers":[{"tags":[],"owner":{"account_id":97656,"reputation":755,"user_id":8420334,"display_name":"Matteo Merli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634333110,"creation_date":1634333110,"answer_id":69590776,"question_id":69500151,"body_markdown":"In order to unsubscribe, you generally need to first disconnect all the other consumers. \r\n\r\nIf there are other consumers connected, they will just reconnect and re-create the subscription.","title":"Unsubscribe Apache pulsar shared subscription type","body":"<p>In order to unsubscribe, you generally need to first disconnect all the other consumers.</p>\n<p>If there are other consumers connected, they will just reconnect and re-create the subscription.</p>\n"}],"owner":{"account_id":10447772,"reputation":13,"user_id":7702330,"display_name":"jithin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635804519,"creation_date":1633716931,"question_id":69500151,"body_markdown":"I am trying to run Apache pulsar client with multiple consumers on a subscription in Shared mode. This multiple consumers are running in multiple threads. \r\nBut on trying to unsubscribe the consumer getting error message as\r\n&quot;Unconnected or shared consumer attempting to unsubscribe&quot;.\r\n\r\ncant we unsubscribe shared subscription. How to do that ?","title":"Unsubscribe Apache pulsar shared subscription type","body":"<p>I am trying to run Apache pulsar client with multiple consumers on a subscription in Shared mode. This multiple consumers are running in multiple threads.\nBut on trying to unsubscribe the consumer getting error message as\n&quot;Unconnected or shared consumer attempting to unsubscribe&quot;.</p>\n<p>cant we unsubscribe shared subscription. How to do that ?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":84127,"reputation":51105,"user_id":235354,"display_name":"jspcal"},"score":0,"creation_date":1635786015,"post_id":69800134,"comment_id":123380718,"body_markdown":"hi, perhaps make the fields public, so Jackson knows they should be serialized, or add a getter method  like `String getCode()`","body":"hi, perhaps make the fields public, so Jackson knows they should be serialized, or add a getter method  like <code>String getCode()</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1635786440,"post_id":69800134,"comment_id":123380883,"body_markdown":"Take care of java naming conventions. Property names should start with lower character.","body":"Take care of java naming conventions. Property names should start with lower character."}],"answers":[{"tags":[],"owner":{"account_id":12933462,"reputation":1,"user_id":9351680,"display_name":"user9351680"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1635788256,"creation_date":1635786251,"answer_id":69800244,"question_id":69800134,"body_markdown":"After parsing your string contains variable Code like &quot;Code &quot; with whitespace. You should fix replace logic or use annotation.\r\n\r\n    @JsonProperty(&quot;Code &quot;)\r\n    private String Code;\r\n\r\n  ","title":"Exception in thread main com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException while converting string to Java object using Jackson library","body":"<p>After parsing your string contains variable Code like &quot;Code &quot; with whitespace. You should fix replace logic or use annotation.</p>\n<pre><code>@JsonProperty(&quot;Code &quot;)\nprivate String Code;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635803485,"creation_date":1635791735,"answer_id":69801278,"question_id":69800134,"body_markdown":"Your replace is creating all the issues. `String sample = content.replaceAll(&quot;\\\\\\\\&quot;, &quot; &quot;);` is adding an additional whitespace to every JSON key. Please use the following code instead:\r\n```java\r\npublic class QuestionParser {\r\n    public static void main(String[] args) throws IOException {\r\n        \r\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;Sample.txt&quot;));\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        String line = null;\r\n        String ls = System.getProperty(&quot;line.separator&quot;);\r\n        while ((line = reader.readLine()) != null) {\r\n            stringBuilder.append(line);\r\n            stringBuilder.append(ls);\r\n        }\r\n        \r\n        stringBuilder.deleteCharAt(stringBuilder.length() - 1);\r\n        reader.close();\r\n        \r\n        String content = stringBuilder.toString();\r\n        System.out.println(content);\r\n        String sample = content.replaceAll(&quot;\\\\\\\\&quot;, &quot;&quot;);\r\n        \r\n        ObjectMapper mapper = new ObjectMapper();\r\n        \r\n        Question question = mapper.readValue(sample, Question.class);\r\n        System.out.println(question);    \r\n    }\r\n}\r\n```\r\n\r\nMind the changed line: `String sample = content.replaceAll(&quot;\\\\\\\\&quot;, &quot;&quot;);`.\r\n\r\nAdditionally, as @Jens already mentioned, follow Java conventions and follow camelcase for Java property name. Having said this, please also change your `Question` to:\r\n```java\r\npublic class Question {\r\n    private String code;\r\n    private String questionCode;\r\n    private String description;\r\n    private String type;\r\n    private String lastUpdated;\r\n\r\n    //getters &amp; setters\r\n}\r\n```\r\n\r\nFinally, you also need to adjust your JSON as follows:\r\n```json\r\n{\\&quot;code\\&quot;:\\&quot;60\\&quot;,\r\n\\&quot;questionCode\\&quot;:\\&quot;7000\\&quot;,\r\n\\&quot;description\\&quot;:\\&quot;What is your favorite movie?\\&quot;,\r\n\\&quot;type\\&quot;:\\&quot;R\\&quot;,\r\n\\&quot;lastUpdated\\&quot;:\\&quot;2015-05-21\\&quot;\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\n**UPDATE**\r\n\r\nAssuming you can&#39;t change the JSON file you are trying to read you would need to use `@JsonProperty` annotation in your `Question` class to &quot;glue&quot; the properties together. In this case, JSON would still look as you added in the question:\r\n```json\r\n{\\&quot;Code\\&quot;:\\&quot;60\\&quot;,\r\n\\&quot;QuestionCode\\&quot;:\\&quot;7000\\&quot;,\r\n\\&quot;Description\\&quot;:\\&quot;What is your favorite movie?\\&quot;,\r\n\\&quot;Type\\&quot;:\\&quot;R\\&quot;,\r\n\\&quot;LastUpdated\\&quot;:\\&quot;2015-05-21\\&quot;\r\n}\r\n```\r\n\r\nBut your `Question` class would have a bunch of `@JsonProperty` annotations (you can read more about it at https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonProperty.html):\r\n```java\r\npublic class Question {\r\n    @JsonProperty(&quot;Code&quot;)\r\n    private String code;\r\n\r\n    @JsonProperty(&quot;QuestionCode&quot;)\r\n    private String questionCode;\r\n\r\n    @JsonProperty(&quot;Description&quot;)\r\n    private String description;\r\n\r\n    @JsonProperty(&quot;Type&quot;)\r\n    private String type;\r\n\r\n    @JsonProperty(&quot;LastUpdated&quot;)\r\n    private String lastUpdated;\r\n\r\n    //getters &amp; setters\r\n}\r\n```","title":"Exception in thread main com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException while converting string to Java object using Jackson library","body":"<p>Your replace is creating all the issues. <code>String sample = content.replaceAll(&quot;\\\\\\\\&quot;, &quot; &quot;);</code> is adding an additional whitespace to every JSON key. Please use the following code instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class QuestionParser {\n    public static void main(String[] args) throws IOException {\n        \n        BufferedReader reader = new BufferedReader(new FileReader(&quot;Sample.txt&quot;));\n        StringBuilder stringBuilder = new StringBuilder();\n        String line = null;\n        String ls = System.getProperty(&quot;line.separator&quot;);\n        while ((line = reader.readLine()) != null) {\n            stringBuilder.append(line);\n            stringBuilder.append(ls);\n        }\n        \n        stringBuilder.deleteCharAt(stringBuilder.length() - 1);\n        reader.close();\n        \n        String content = stringBuilder.toString();\n        System.out.println(content);\n        String sample = content.replaceAll(&quot;\\\\\\\\&quot;, &quot;&quot;);\n        \n        ObjectMapper mapper = new ObjectMapper();\n        \n        Question question = mapper.readValue(sample, Question.class);\n        System.out.println(question);    \n    }\n}\n</code></pre>\n<p>Mind the changed line: <code>String sample = content.replaceAll(&quot;\\\\\\\\&quot;, &quot;&quot;);</code>.</p>\n<p>Additionally, as @Jens already mentioned, follow Java conventions and follow camelcase for Java property name. Having said this, please also change your <code>Question</code> to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Question {\n    private String code;\n    private String questionCode;\n    private String description;\n    private String type;\n    private String lastUpdated;\n\n    //getters &amp; setters\n}\n</code></pre>\n<p>Finally, you also need to adjust your JSON as follows:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\\&quot;code\\&quot;:\\&quot;60\\&quot;,\n\\&quot;questionCode\\&quot;:\\&quot;7000\\&quot;,\n\\&quot;description\\&quot;:\\&quot;What is your favorite movie?\\&quot;,\n\\&quot;type\\&quot;:\\&quot;R\\&quot;,\n\\&quot;lastUpdated\\&quot;:\\&quot;2015-05-21\\&quot;\n}\n</code></pre>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>Assuming you can't change the JSON file you are trying to read you would need to use <code>@JsonProperty</code> annotation in your <code>Question</code> class to &quot;glue&quot; the properties together. In this case, JSON would still look as you added in the question:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\\&quot;Code\\&quot;:\\&quot;60\\&quot;,\n\\&quot;QuestionCode\\&quot;:\\&quot;7000\\&quot;,\n\\&quot;Description\\&quot;:\\&quot;What is your favorite movie?\\&quot;,\n\\&quot;Type\\&quot;:\\&quot;R\\&quot;,\n\\&quot;LastUpdated\\&quot;:\\&quot;2015-05-21\\&quot;\n}\n</code></pre>\n<p>But your <code>Question</code> class would have a bunch of <code>@JsonProperty</code> annotations (you can read more about it at <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-annotations/javadoc/2.8/com/fasterxml/jackson/annotation/JsonProperty.html</a>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Question {\n    @JsonProperty(&quot;Code&quot;)\n    private String code;\n\n    @JsonProperty(&quot;QuestionCode&quot;)\n    private String questionCode;\n\n    @JsonProperty(&quot;Description&quot;)\n    private String description;\n\n    @JsonProperty(&quot;Type&quot;)\n    private String type;\n\n    @JsonProperty(&quot;LastUpdated&quot;)\n    private String lastUpdated;\n\n    //getters &amp; setters\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635793403,"creation_date":1635792885,"answer_id":69801504,"question_id":69800134,"body_markdown":"You&#39;re defining and reading the file incorrectly. JSON is not line-delimited, so don&#39;t read it as lines\r\n\r\nJSON should look like this, for example, no backslashes... \r\n\r\n (file extension should ideally be `.json` as well, but doesn&#39;t matter except for your text editor)\r\n\r\n```\r\n{\r\n  &quot;Code&quot;: &quot;60&quot;,\r\n  &quot;QuestionCode&quot;:&quot;7000&quot;\r\n}\r\n```\r\n\r\nAlso, the Java field names should be annotated or exactly match the JSON fields; Java fields should be lower-case. You could also remove the quotes in the JSON values if you wanted to use integers or other datatypes than strings\r\n\r\n```\r\npublic class Question {\r\n\r\n public Question() { }\r\n\r\n @JsonProperty(&quot;Code&quot;)\r\n private String code;\r\n\r\n // getters and setters\r\n}\r\n```\r\nThen you can open that using the ObjectMapper directly\r\n\r\n    ObjectMapper om = new ObjectMapper();\r\n    // File should be in `src/main/resources` folder of a Java project\r\n    InputStream is = QuestionParser.class.getResourceAsStream(&quot;/questions.json&quot;);\r\n    Question q = om.readValue(is, Question.class);","title":"Exception in thread main com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException while converting string to Java object using Jackson library","body":"<p>You're defining and reading the file incorrectly. JSON is not line-delimited, so don't read it as lines</p>\n<p>JSON should look like this, for example, no backslashes...</p>\n<p>(file extension should ideally be <code>.json</code> as well, but doesn't matter except for your text editor)</p>\n<pre><code>{\n  &quot;Code&quot;: &quot;60&quot;,\n  &quot;QuestionCode&quot;:&quot;7000&quot;\n}\n</code></pre>\n<p>Also, the Java field names should be annotated or exactly match the JSON fields; Java fields should be lower-case. You could also remove the quotes in the JSON values if you wanted to use integers or other datatypes than strings</p>\n<pre><code>public class Question {\n\n public Question() { }\n\n @JsonProperty(&quot;Code&quot;)\n private String code;\n\n // getters and setters\n}\n</code></pre>\n<p>Then you can open that using the ObjectMapper directly</p>\n<pre><code>ObjectMapper om = new ObjectMapper();\n// File should be in `src/main/resources` folder of a Java project\nInputStream is = QuestionParser.class.getResourceAsStream(&quot;/questions.json&quot;);\nQuestion q = om.readValue(is, Question.class);\n</code></pre>\n"}],"owner":{"account_id":23207791,"reputation":13,"user_id":17301739,"display_name":"Codeblocks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":869,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69801278,"answer_count":3,"score":0,"last_activity_date":1635803485,"creation_date":1635785675,"question_id":69800134,"body_markdown":"I am trying to read a string from a text file and want to map it to a bean class but I am getting an unusual exception from jackson library.\r\n\r\nI have a made a POJO named Question.java that has all the values that I have to read from the text file.\r\n\r\n\r\n    \tprivate String Code;\r\n    \tprivate String QuestionCode;\r\n    \tprivate String Description;\r\n    \tprivate String Type;\r\n    \tprivate String LastUpdated;\r\n\r\n\r\nI have main class where I read the string from the text file and try to map it to Question class\r\n\r\n\r\n    public class QuestionParser {\r\n    \t\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\t\r\n    \t\tBufferedReader reader = new BufferedReader(new FileReader(&quot;Sample.txt&quot;));\r\n    \t\tStringBuilder stringBuilder = new StringBuilder();\r\n    \t\tString line = null;\r\n    \t\tString ls = System.getProperty(&quot;line.separator&quot;);\r\n    \t\twhile ((line = reader.readLine()) != null) {\r\n    \t\t\tstringBuilder.append(line);\r\n    \t\t\tstringBuilder.append(ls);\r\n    \t\t}\r\n    \t\t\r\n    \t\tstringBuilder.deleteCharAt(stringBuilder.length() - 1);\r\n    \t\treader.close();\r\n    \t\t\r\n    \t\tString content = stringBuilder.toString();\r\n    \t\tSystem.out.println(content);\r\n    \t\tString sample = content.replaceAll(&quot;\\\\\\\\&quot;, &quot; &quot;);\r\n    \t\t\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\t\r\n    \t\tQuestion question = mapper.readValue(sample, Question.class);\r\n    \t\tSystem.out.println(question);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n\r\n    }\r\n\r\n\r\nThe Sample.txt looks like \r\n\r\n    {\\&quot;Code\\&quot;:\\&quot;60\\&quot;,\r\n    \\&quot;QuestionCode\\&quot;:\\&quot;7000\\&quot;,\r\n    \\&quot;Description\\&quot;:\\&quot;What is your favorite movie?\\&quot;,\r\n    \\&quot;Type\\&quot;:\\&quot;R\\&quot;,\r\n    \\&quot;LastUpdated\\&quot;:\\&quot;2015-05-21\\&quot;\r\n    }\r\n\r\n\r\nAfter all this when I run the code it gives me below exception\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;Code &quot; (class Question), not marked as ignorable (5 known properties: &quot;type&quot;, &quot;questionCode&quot;, &quot;description&quot;, &quot;code&quot;, &quot;lastUpdated&quot;])\r\n    \r\n      at [Source: (String)&quot;{ &quot;Code &quot;: &quot;60 &quot;,\r\n    \r\n      &quot;QuestionCode &quot;: &quot;7000 &quot;,\r\n    \r\n      &quot;Description &quot;: &quot;What is your favorite movie? &quot;,\r\n    \r\n      &quot;Type &quot;: &quot;R &quot;,\r\n    \r\n      &quot;LastUpdated &quot;: &quot;2015-05-21 &quot;\r\n    \r\n     }\r\n    \r\n     &quot;; line: 1, column: 13] (through reference chain: Question[&quot;Code &quot;])\r\n    \r\n     \tat com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)\r\n    \r\n     \tat com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1127)\r\n    \r\n     \tat com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:1984)\r\n    \r\n     \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1701)\r\n    \r\n     \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1679)\r\n    \r\n     \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:319)\r\n    \r\n     \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:176)\r\n    \r\n     \tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n    \r\n     \tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4620)\r\n    \r\n     \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3575)\r\n    \r\n     \tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3543)\r\n    \r\n     \tat QuestionParser.main(QuestionParser.java:33)","title":"Exception in thread main com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException while converting string to Java object using Jackson library","body":"<p>I am trying to read a string from a text file and want to map it to a bean class but I am getting an unusual exception from jackson library.</p>\n<p>I have a made a POJO named Question.java that has all the values that I have to read from the text file.</p>\n<pre><code>    private String Code;\n    private String QuestionCode;\n    private String Description;\n    private String Type;\n    private String LastUpdated;\n</code></pre>\n<p>I have main class where I read the string from the text file and try to map it to Question class</p>\n<pre><code>public class QuestionParser {\n    \n    public static void main(String[] args) throws IOException {\n        \n        BufferedReader reader = new BufferedReader(new FileReader(&quot;Sample.txt&quot;));\n        StringBuilder stringBuilder = new StringBuilder();\n        String line = null;\n        String ls = System.getProperty(&quot;line.separator&quot;);\n        while ((line = reader.readLine()) != null) {\n            stringBuilder.append(line);\n            stringBuilder.append(ls);\n        }\n        \n        stringBuilder.deleteCharAt(stringBuilder.length() - 1);\n        reader.close();\n        \n        String content = stringBuilder.toString();\n        System.out.println(content);\n        String sample = content.replaceAll(&quot;\\\\\\\\&quot;, &quot; &quot;);\n        \n        ObjectMapper mapper = new ObjectMapper();\n        \n        Question question = mapper.readValue(sample, Question.class);\n        System.out.println(question);\n        \n        \n    }\n\n}\n</code></pre>\n<p>The Sample.txt looks like</p>\n<pre><code>{\\&quot;Code\\&quot;:\\&quot;60\\&quot;,\n\\&quot;QuestionCode\\&quot;:\\&quot;7000\\&quot;,\n\\&quot;Description\\&quot;:\\&quot;What is your favorite movie?\\&quot;,\n\\&quot;Type\\&quot;:\\&quot;R\\&quot;,\n\\&quot;LastUpdated\\&quot;:\\&quot;2015-05-21\\&quot;\n}\n</code></pre>\n<p>After all this when I run the code it gives me below exception</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;Code &quot; (class Question), not marked as ignorable (5 known properties: &quot;type&quot;, &quot;questionCode&quot;, &quot;description&quot;, &quot;code&quot;, &quot;lastUpdated&quot;])\n\n  at [Source: (String)&quot;{ &quot;Code &quot;: &quot;60 &quot;,\n\n  &quot;QuestionCode &quot;: &quot;7000 &quot;,\n\n  &quot;Description &quot;: &quot;What is your favorite movie? &quot;,\n\n  &quot;Type &quot;: &quot;R &quot;,\n\n  &quot;LastUpdated &quot;: &quot;2015-05-21 &quot;\n\n }\n\n &quot;; line: 1, column: 13] (through reference chain: Question[&quot;Code &quot;])\n\n    at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)\n\n    at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1127)\n\n    at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:1984)\n\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1701)\n\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1679)\n\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:319)\n\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:176)\n\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\n\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4620)\n\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3575)\n\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3543)\n\n    at QuestionParser.main(QuestionParser.java:33)\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1635802103,"post_id":69802957,"comment_id":123386010,"body_markdown":"I recommend reading a tutorial on exceptions, e.g. [this one by Oracle](https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html).","body":"I recommend reading a tutorial on exceptions, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/index.html\" rel=\"nofollow noreferrer\">this one by Oracle</a>."}],"answers":[{"tags":[],"owner":{"account_id":23210097,"reputation":1,"user_id":17303718,"display_name":"ProgrammingRat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635802549,"creation_date":1635802549,"answer_id":69803039,"question_id":69802957,"body_markdown":"The main problem is you are using int which stands for integer = only full numbers such as 1, 5, 7. If you want to use decimals you need float/double.","title":"everytime my input is numbers with commas like 3,14 or 15.05 it throws an exception but does not write back the statement written in the first else","body":"<p>The main problem is you are using int which stands for integer = only full numbers such as 1, 5, 7. If you want to use decimals you need float/double.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635803329,"creation_date":1635803329,"answer_id":69803132,"question_id":69802957,"body_markdown":"If a non-integer is expected in the input, related variables need to be declared as `double` and accordingly they are read using `keyboard.nextDouble()`.  \r\nAfter that you may validate if these numbers are integer, and print a message.\r\n\r\nUpdated code of `main` method may look as follows:\r\n```java\r\npublic static void main(String[] args) {\r\n    Scanner keyboard = new Scanner(System.in);\r\n    \r\n    System.out.print(&quot;Bitte geben Sie drei Zahlen ! &quot;);\r\n\r\n    double zahl1 = keyboard.nextDouble();\r\n    double zahl2 = keyboard.nextDouble();\r\n    double zahl3 = keyboard.nextDouble();\r\n    \r\n    if (zahl1 % 1 == 0 &amp;&amp; zahl2 % 1 == 0 &amp;&amp; zahl3 % 1 == 0) {\r\n        int[] zahlen = {(int) zahl1, (int) zahl2, (int) zahl3};\r\n        int min = getMin(zahlen);\r\n        System.out.println(&quot;Minimum ist : &quot;+ min);\r\n    } else {\r\n        System.out.println(&quot;Die angegebene Zahl ist ung&#252;ltig !!&quot;);\r\n        // this statement does not show up when I enter a non whole number\r\n    } // end if-else\r\n} // end main\r\n```","title":"everytime my input is numbers with commas like 3,14 or 15.05 it throws an exception but does not write back the statement written in the first else","body":"<p>If a non-integer is expected in the input, related variables need to be declared as <code>double</code> and accordingly they are read using <code>keyboard.nextDouble()</code>.<br />\nAfter that you may validate if these numbers are integer, and print a message.</p>\n<p>Updated code of <code>main</code> method may look as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner keyboard = new Scanner(System.in);\n    \n    System.out.print(&quot;Bitte geben Sie drei Zahlen ! &quot;);\n\n    double zahl1 = keyboard.nextDouble();\n    double zahl2 = keyboard.nextDouble();\n    double zahl3 = keyboard.nextDouble();\n    \n    if (zahl1 % 1 == 0 &amp;&amp; zahl2 % 1 == 0 &amp;&amp; zahl3 % 1 == 0) {\n        int[] zahlen = {(int) zahl1, (int) zahl2, (int) zahl3};\n        int min = getMin(zahlen);\n        System.out.println(&quot;Minimum ist : &quot;+ min);\n    } else {\n        System.out.println(&quot;Die angegebene Zahl ist ungltig !!&quot;);\n        // this statement does not show up when I enter a non whole number\n    } // end if-else\n} // end main\n</code></pre>\n"}],"owner":{"account_id":23198715,"reputation":11,"user_id":17293912,"display_name":"kololo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1635803329,"creation_date":1635801968,"question_id":69802957,"body_markdown":"As said, my code does not accept non-whole numbers, which is the point of the program, but it throws exception instead of getting to the `else` statement\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Minimum {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner keyboard = new Scanner(System.in);\r\n\t\t\r\n\t\tint zahl1;\r\n\t\tint zahl2;\r\n\t\tint zahl3;\r\n\t\t\r\n\t\tSystem.out.print(&quot;Bitte geben Sie drei Zahlen ! &quot;);\r\n\t\tzahl1 = keyboard.nextInt();\r\n\t\tzahl2 = keyboard.nextInt();\r\n\t\tzahl3 = keyboard.nextInt();\r\n\t\t\r\n\t    int[] zahlen = new int[] { zahl1, zahl2, zahl3 };\r\n\t    \r\n\t\tif (zahl1 % 1 == 0 &amp;&amp; zahl2 % 1 == 0 &amp;&amp; zahl3 % 1 == 0) {\t\r\n\t\t\tint min = getMin(zahlen);\r\n\t\t    System.out.println(&quot;Minimum ist : &quot;+ min);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Die angegebene Zahl ist ung&#252;ltig !!&quot;);\r\n            // this statement does not show up when I enter a non whole number\r\n\t\t} // end if-else\r\n    } // end main\r\n\r\n\r\n\tprivate static int getMin(int[] zahlen) {\t\t\r\n\t\t\t\r\n\t\tint minimum = zahlen[0]; \r\n\t    for (int i = 0; i &lt; zahlen.length; i++) { \r\n\t\t    int zahl = zahlen[i];\r\n\t\t    \r\n\t\t    if (zahl &lt; minimum) { \r\n\t\t        minimum = zahlen[i]; \r\n\t\t\t} // end if\r\n\t    } // end for\r\n\t\t    \r\n\t\treturn minimum;\t\t    \r\n\t} // end getMin\r\n}\r\n```\r\n","title":"everytime my input is numbers with commas like 3,14 or 15.05 it throws an exception but does not write back the statement written in the first else","body":"<p>As said, my code does not accept non-whole numbers, which is the point of the program, but it throws exception instead of getting to the <code>else</code> statement</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Minimum {\n\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        \n        int zahl1;\n        int zahl2;\n        int zahl3;\n        \n        System.out.print(&quot;Bitte geben Sie drei Zahlen ! &quot;);\n        zahl1 = keyboard.nextInt();\n        zahl2 = keyboard.nextInt();\n        zahl3 = keyboard.nextInt();\n        \n        int[] zahlen = new int[] { zahl1, zahl2, zahl3 };\n        \n        if (zahl1 % 1 == 0 &amp;&amp; zahl2 % 1 == 0 &amp;&amp; zahl3 % 1 == 0) {   \n            int min = getMin(zahlen);\n            System.out.println(&quot;Minimum ist : &quot;+ min);\n        } else {\n            System.out.println(&quot;Die angegebene Zahl ist ungltig !!&quot;);\n            // this statement does not show up when I enter a non whole number\n        } // end if-else\n    } // end main\n\n\n    private static int getMin(int[] zahlen) {       \n            \n        int minimum = zahlen[0]; \n        for (int i = 0; i &lt; zahlen.length; i++) { \n            int zahl = zahlen[i];\n            \n            if (zahl &lt; minimum) { \n                minimum = zahlen[i]; \n            } // end if\n        } // end for\n            \n        return minimum;         \n    } // end getMin\n}\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":2978820,"reputation":1757,"user_id":2529284,"display_name":"GiorgosDev"},"score":0,"creation_date":1635754849,"post_id":69794230,"comment_id":123369410,"body_markdown":"please share your MenuItem class","body":"please share your MenuItem class"},{"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"score":0,"creation_date":1635755438,"post_id":69794230,"comment_id":123369550,"body_markdown":"Does your RestaurantMenuItem override equals method for ArrayList to compare?","body":"Does your RestaurantMenuItem override equals method for ArrayList to compare?"},{"owner":{"account_id":22860528,"reputation":133,"user_id":17004692,"display_name":"Vladislav"},"score":0,"creation_date":1635803088,"post_id":69794230,"comment_id":123386253,"body_markdown":"Hello Digsb,   I have shared my class RestaurantMenuItem. \n@GiorgosDev , no it does not override equals method. Could you give me an example, please.","body":"Hello Digsb,   I have shared my class RestaurantMenuItem.  @GiorgosDev , no it does not override equals method. Could you give me an example, please."}],"answers":[{"tags":[],"owner":{"account_id":3704862,"reputation":91,"user_id":3083690,"display_name":"Chintan Adhia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635755724,"creation_date":1635755724,"answer_id":69794399,"question_id":69794230,"body_markdown":"ArrayList internally uses &#39;equals&#39; method in &#39;contains&#39; method to identify if the object is inside the ArrayList. So in this case, you need to override &#39;equals&#39; with the logic you need (may be, in your case, comparing value in Menu Item). That should resolve this issue.","title":"Compare two ArrayList elements using method contains","body":"<p>ArrayList internally uses 'equals' method in 'contains' method to identify if the object is inside the ArrayList. So in this case, you need to override 'equals' with the logic you need (may be, in your case, comparing value in Menu Item). That should resolve this issue.</p>\n"}],"owner":{"account_id":22860528,"reputation":133,"user_id":17004692,"display_name":"Vladislav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69794399,"answer_count":1,"score":-2,"last_activity_date":1635802987,"creation_date":1635754636,"question_id":69794230,"body_markdown":"I am very new to Java\r\n\r\nMy claas is:\r\n\r\n    //Source code recreated from a .class file by IntelliJ IDEA\r\n    //(powered by FernFlower decompiler)\r\n    \r\n    package linkedlearning.Mycucumbercourse;\r\n    import java.util.ArrayList;\r\n    \r\n    public class RestaurantMenu {\r\n    public ArrayList&lt;RestaurantMenuItem&gt; MenuItems = new ArrayList&lt;RestaurantMenuItem&gt;();\r\n    \r\n     public RestaurantMenu() {\r\n     }\r\n    \r\n     public boolean addMenuItem(RestaurantMenuItem newMenuItem) {\r\n         if (DoesItemExist(newMenuItem)) {\r\n             throw new IllegalArgumentException(&quot;Duplicate Item&quot;);\r\n         }\r\n             return MenuItems.add(newMenuItem);\r\n     }\r\n    \r\n     public boolean DoesItemExist(RestaurantMenuItem newMenuItem) {\r\n         boolean Exists = false;\r\n        if (MenuItems.contains(newMenuItem)) {\r\n             Exists = true;\r\n         }\r\n         return Exists;\r\n     }\r\n    }\r\n 1. I populate array Menu Items of type of Restaurant Menu Item (class - see on the top) with an element which value =&quot;Chicken sandwich&quot;.\r\n    2. I pass to the method Does Item Exist (see above) an element of type of Restaurant Menu Item which value is also &quot;Chicken sandwich&quot;. \r\n    I would expect method **contains** to return value true.  However, the statement \r\n        **if (Menu Items.contains(new Menu Item))** is evaluated as NOT true and the flow is going to the/ statement **return Exists;** meaning returned value is false.  /\r\n    As far as I can see both Menu Items and new Menu Item contain &quot;Chicken Sandwich&quot; - see the screenshots of the debug below. \r\n\r\nsee the debug results for MenuItems:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  see the debug results for newMenuItem:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n  The debug for Exists:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nK5D4.png\r\n  [2]: https://i.stack.imgur.com/GJfoF.png\r\n  [3]: https://i.stack.imgur.com/4h9Mx.png\r\n\r\n  My question would be why method contains does not return value True.\r\n Thank you in advance.\r\n\r\nHello, the class is:\r\n\r\n    package linkedlearning.Mycucumbercourse;\r\n    public class RestaurantMenuItem {\r\n    private String ItemName;\r\n    private String Descripotion;\r\n    private int Price;\r\n    \tpublic RestaurantMenuItem(String itemName, String descripotion, int price) {\r\n    \t\tsuper();\r\n    \t\tItemName = itemName;\r\n    \t\tDescripotion = descripotion;\r\n    \t\tPrice = price;\r\n    \t}\r\n    \r\n    \tpublic String getDescripotion() {\r\n    \t\treturn Descripotion;\r\n    \t}\r\n    \tpublic void setDescripotion(String descripotion) {\r\n    \t\tDescripotion = descripotion;\r\n    \t}\r\n    \tpublic int getPrice() {\r\n    \t\treturn Price;\r\n    \t}\r\n    \tpublic void setPrice(int price) {\r\n    \t\tPrice = price;\r\n    \t}\r\n    \tpublic String getItemName() {\r\n    \t\treturn ItemName;\r\n    }","title":"Compare two ArrayList elements using method contains","body":"<p>I am very new to Java</p>\n<p>My claas is:</p>\n<pre><code>//Source code recreated from a .class file by IntelliJ IDEA\n//(powered by FernFlower decompiler)\n\npackage linkedlearning.Mycucumbercourse;\nimport java.util.ArrayList;\n\npublic class RestaurantMenu {\npublic ArrayList&lt;RestaurantMenuItem&gt; MenuItems = new ArrayList&lt;RestaurantMenuItem&gt;();\n\n public RestaurantMenu() {\n }\n\n public boolean addMenuItem(RestaurantMenuItem newMenuItem) {\n     if (DoesItemExist(newMenuItem)) {\n         throw new IllegalArgumentException(&quot;Duplicate Item&quot;);\n     }\n         return MenuItems.add(newMenuItem);\n }\n\n public boolean DoesItemExist(RestaurantMenuItem newMenuItem) {\n     boolean Exists = false;\n    if (MenuItems.contains(newMenuItem)) {\n         Exists = true;\n     }\n     return Exists;\n }\n}\n</code></pre>\n<ol>\n<li>I populate array Menu Items of type of Restaurant Menu Item (class - see on the top) with an element which value =&quot;Chicken sandwich&quot;.\n2. I pass to the method Does Item Exist (see above) an element of type of Restaurant Menu Item which value is also &quot;Chicken sandwich&quot;.\nI would expect method <strong>contains</strong> to return value true.  However, the statement\n<strong>if (Menu Items.contains(new Menu Item))</strong> is evaluated as NOT true and the flow is going to the/ statement <strong>return Exists;</strong> meaning returned value is false.  /\nAs far as I can see both Menu Items and new Menu Item contain &quot;Chicken Sandwich&quot; - see the screenshots of the debug below.</li>\n</ol>\n<p>see the debug results for MenuItems:</p>\n<p><a href=\"https://i.stack.imgur.com/nK5D4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nK5D4.png\" alt=\"enter image description here\" /></a></p>\n<p>see the debug results for newMenuItem:</p>\n<p><a href=\"https://i.stack.imgur.com/GJfoF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GJfoF.png\" alt=\"enter image description here\" /></a></p>\n<p>The debug for Exists:</p>\n<p><a href=\"https://i.stack.imgur.com/4h9Mx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4h9Mx.png\" alt=\"enter image description here\" /></a></p>\n<p>My question would be why method contains does not return value True.\nThank you in advance.</p>\n<p>Hello, the class is:</p>\n<pre><code>package linkedlearning.Mycucumbercourse;\npublic class RestaurantMenuItem {\nprivate String ItemName;\nprivate String Descripotion;\nprivate int Price;\n    public RestaurantMenuItem(String itemName, String descripotion, int price) {\n        super();\n        ItemName = itemName;\n        Descripotion = descripotion;\n        Price = price;\n    }\n\n    public String getDescripotion() {\n        return Descripotion;\n    }\n    public void setDescripotion(String descripotion) {\n        Descripotion = descripotion;\n    }\n    public int getPrice() {\n        return Price;\n    }\n    public void setPrice(int price) {\n        Price = price;\n    }\n    public String getItemName() {\n        return ItemName;\n}\n</code></pre>\n"},{"tags":["java","android","position","android-dialogfragment","dialogfragment"],"answers":[{"tags":[],"owner":{"account_id":17629258,"reputation":367,"user_id":12793676,"display_name":"vadiole"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635802926,"creation_date":1635802926,"answer_id":69803086,"question_id":69802874,"body_markdown":"Use PopupWindow. I think this is exactly what you are looking for:\r\nhttps://developer.android.com/reference/android/widget/PopupWindow\r\n\r\nYou can set the exact position for the popup to appear using [this method][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/PopupWindow#showAtLocation(android.view.View,%20int,%20int,%20int)","title":"Reaction button like facebook in Android","body":"<p>Use PopupWindow. I think this is exactly what you are looking for:\n<a href=\"https://developer.android.com/reference/android/widget/PopupWindow\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/widget/PopupWindow</a></p>\n<p>You can set the exact position for the popup to appear using <a href=\"https://developer.android.com/reference/android/widget/PopupWindow#showAtLocation(android.view.View,%20int,%20int,%20int)\" rel=\"nofollow noreferrer\">this method</a></p>\n"}],"owner":{"account_id":19846404,"reputation":95,"user_id":17280945,"display_name":"Ansol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69803086,"answer_count":1,"score":2,"last_activity_date":1635802926,"creation_date":1635801394,"question_id":69802874,"body_markdown":"I wanna make a reaction button like Facebook, so something like this\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNow i manage to make something similar with a DialogFragment but I am having some trouble with the position of my dialog,  this code sometimes works but some other time the dialog is placed in the wrong place. Can someone give me some advice or suggest me a better way to do this?\r\n\r\n***My Dialog Class***\r\n```\r\n\r\npublic class ReactionsFragment extends DialogFragment {\r\n\r\n    public static final String TAG = &quot;ReactionsFragment&quot;;\r\n    private  View paretnView;\r\n\r\n\r\n    public ReactionsFragment(View view, String reviewId,Reactionable reactedContent) {\r\n        this.paretnView = view;\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view =  inflater.inflate(R.layout.fragment_reactions, container, false);\r\n        initComponent(view);\r\n        setDialogPosition();\r\n        return view;\r\n    }\r\n\r\n\r\n   \r\n    public void initComponent(View rootView) {...}\r\n\r\n\r\n    public void setDialogPosition() {\r\n        if (paretnView == null) {\r\n            return; // Leave the dialog in default position\r\n        }\r\n        int[] location = new int[2];\r\n        paretnView.getLocationOnScreen(location);\r\n        int sourceX = location[0];\r\n        int sourceY = location[1];\r\n        Window window = getDialog().getWindow();\r\n        window.setGravity(Gravity.TOP|Gravity.LEFT);\r\n        WindowManager.LayoutParams params = window.getAttributes();\r\n        params.x = sourceX - dpToPx(0);\r\n        params.y = sourceY - dpToPx(110);\r\n        window.setAttributes(params);\r\n    }\r\n\r\n\r\n    public int dpToPx(float valueInDp) {\r\n        DisplayMetrics metrics = getActivity().getResources().getDisplayMetrics();\r\n        return (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, valueInDp, metrics);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gohbs.jpg","title":"Reaction button like facebook in Android","body":"<p>I wanna make a reaction button like Facebook, so something like this</p>\n<p><a href=\"https://i.stack.imgur.com/gohbs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gohbs.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Now i manage to make something similar with a DialogFragment but I am having some trouble with the position of my dialog,  this code sometimes works but some other time the dialog is placed in the wrong place. Can someone give me some advice or suggest me a better way to do this?</p>\n<p><em><strong>My Dialog Class</strong></em></p>\n<pre><code>\npublic class ReactionsFragment extends DialogFragment {\n\n    public static final String TAG = &quot;ReactionsFragment&quot;;\n    private  View paretnView;\n\n\n    public ReactionsFragment(View view, String reviewId,Reactionable reactedContent) {\n        this.paretnView = view;\n    }\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view =  inflater.inflate(R.layout.fragment_reactions, container, false);\n        initComponent(view);\n        setDialogPosition();\n        return view;\n    }\n\n\n   \n    public void initComponent(View rootView) {...}\n\n\n    public void setDialogPosition() {\n        if (paretnView == null) {\n            return; // Leave the dialog in default position\n        }\n        int[] location = new int[2];\n        paretnView.getLocationOnScreen(location);\n        int sourceX = location[0];\n        int sourceY = location[1];\n        Window window = getDialog().getWindow();\n        window.setGravity(Gravity.TOP|Gravity.LEFT);\n        WindowManager.LayoutParams params = window.getAttributes();\n        params.x = sourceX - dpToPx(0);\n        params.y = sourceY - dpToPx(110);\n        window.setAttributes(params);\n    }\n\n\n    public int dpToPx(float valueInDp) {\n        DisplayMetrics metrics = getActivity().getResources().getDisplayMetrics();\n        return (int) TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, valueInDp, metrics);\n    }\n\n\n}\n\n</code></pre>\n"},{"tags":["java","key-value","treemap"],"comments":[{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":0,"creation_date":1635802415,"post_id":69803007,"comment_id":123386091,"body_markdown":"post the full stacktrace","body":"post the full stacktrace"},{"owner":{"account_id":200481,"reputation":5195,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"score":0,"creation_date":1635802482,"post_id":69803007,"comment_id":123386114,"body_markdown":"You have typed Rebate with a big R. Is it possible that you try to assign to a class, instead of a variable ?","body":"You have typed Rebate with a big R. Is it possible that you try to assign to a class, instead of a variable ?"},{"owner":{"account_id":14880762,"reputation":105,"user_id":10745500,"display_name":"brooklynveezy"},"score":0,"creation_date":1635802724,"post_id":69803007,"comment_id":123386160,"body_markdown":"Done. I also fixed the variable name to lowercase.","body":"Done. I also fixed the variable name to lowercase."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1635802785,"post_id":69803007,"comment_id":123386177,"body_markdown":"The error is pretty self-explanatory `floorEntry` returns an `Entry` object, not a single value, and you can&#39;t directly assign it to `rebate` of type `BigDecimal`.  Create a new variable and extract the `BigDecimal` from it.","body":"The error is pretty self-explanatory <code>floorEntry</code> returns an <code>Entry</code> object, not a single value, and you can&#39;t directly assign it to <code>rebate</code> of type <code>BigDecimal</code>.  Create a new variable and extract the <code>BigDecimal</code> from it."}],"answers":[{"tags":[],"owner":{"account_id":462194,"reputation":5746,"user_id":864369,"accept_rate":100,"display_name":"Dan W"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635802784,"creation_date":1635802784,"answer_id":69803065,"question_id":69803007,"body_markdown":"As indicated in the [Javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html#floorEntry-K-), `TreeMap.floorEntry` returns a `Map.Entry&lt;K, V&gt;`. You should change your setup to be:\r\n```\r\nMap.Entry&lt;Double, BigDecimal&gt; entry = myMap.floorEntry(variable);\r\n```","title":"Having trouble with floorentry in Java","body":"<p>As indicated in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/TreeMap.html#floorEntry-K-\" rel=\"nofollow noreferrer\">Javadoc</a>, <code>TreeMap.floorEntry</code> returns a <code>Map.Entry&lt;K, V&gt;</code>. You should change your setup to be:</p>\n<pre><code>Map.Entry&lt;Double, BigDecimal&gt; entry = myMap.floorEntry(variable);\n</code></pre>\n"}],"owner":{"account_id":14880762,"reputation":105,"user_id":10745500,"display_name":"brooklynveezy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69803065,"answer_count":1,"score":-1,"last_activity_date":1635802784,"creation_date":1635802336,"question_id":69803007,"body_markdown":"I built the following TreeMap : \r\n\r\n```\r\n      TreeMap&lt;Double, BigDecimal&gt; myMap = new TreeMap&lt;&gt;();\r\n      myMap.put(0.00, new BigDecimal(18000));\r\n      myMap.put(62.00, new BigDecimal(25000));\r\n      myMap.put(100.00, new BigDecimal(30000));\r\n      myMap.put(150.00, new BigDecimal(55000));\r\n      myMap.put(200.00, new BigDecimal(55000));\r\n      myMap.put(200.00, new BigDecimal(55000));\r\n      myMap.put(301.00, new BigDecimal(70000));\r\n```\r\n\r\nWhen I run : \r\n\r\n```\r\nvariable = 100;\r\nrebate = myMap.get(variable);\r\n```\r\nI get correct results (30000). But when I run : \r\n```\r\nvariable = 75;\r\nrebate = myMap.get(variable);\r\n```\r\nMy entire program breaks. When I try running :\r\n\r\n```\r\nrebate = myMap.floorEntry(variable);\r\n```\r\nMy IntelliJ throws me this error: \r\n\r\n```\r\nRequired type:\r\nBigDecimal\r\n\r\n\r\nProvided:\r\nEntry\r\n&lt;java.lang.Double,\r\njava.math.BigDecimal&gt;\r\n\r\nstacktrace:\r\n\t&lt;pre&gt;java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step org.kie.kogito.quarkus.common.deployment.KogitoAssetsProcessor#generateModel threw an exception: java.lang.IllegalStateException: src/main/java/com/zappyride/software/business/P94/LambdaConsequence9423558E6DAA4D0C76452B4B4DFC5AA3.java (115:5948) : Type mismatch: cannot convert from Map.Entry&amp;lt;Double,BigDecimal&amp;gt; to BigDecimal\r\nsrc/main/java/com/zappyride/software/business/P94/LambdaConsequence9423558E6DAA4D0C76452B4B4DFC5AA3.java (115:5948) : Type mismatch: cannot convert from Map.Entry&amp;lt;Double,BigDecimal&amp;gt; to BigDecimal\r\n\tat org.kie.kogito.quarkus.common.deployment.InMemoryCompiler.compile(InMemoryCompiler.java:100)\r\n\tat org.kie.kogito.quarkus.common.deployment.KogitoQuarkusResourceUtils.compileGeneratedSources(KogitoQuarkusResourceUtils.java:140)\r\n\tat org.kie.kogito.quarkus.common.deployment.KogitoAssetsProcessor.compileAndIndexJavaSources(KogitoAssetsProcessor.java:126)\r\n\tat org.kie.kogito.quarkus.common.deployment.KogitoAssetsProcessor.generateModel(KogitoAssetsProcessor.java:95)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:920)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2415)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1452)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n\r\n```\r\n\r\nHow do I fix this? Essentially I need to be able to pass Java a key, and pull the corresponding value of the next lowest key if it is not a perfect match. \r\n\r\nThank you in advanced! ","title":"Having trouble with floorentry in Java","body":"<p>I built the following TreeMap :</p>\n<pre><code>      TreeMap&lt;Double, BigDecimal&gt; myMap = new TreeMap&lt;&gt;();\n      myMap.put(0.00, new BigDecimal(18000));\n      myMap.put(62.00, new BigDecimal(25000));\n      myMap.put(100.00, new BigDecimal(30000));\n      myMap.put(150.00, new BigDecimal(55000));\n      myMap.put(200.00, new BigDecimal(55000));\n      myMap.put(200.00, new BigDecimal(55000));\n      myMap.put(301.00, new BigDecimal(70000));\n</code></pre>\n<p>When I run :</p>\n<pre><code>variable = 100;\nrebate = myMap.get(variable);\n</code></pre>\n<p>I get correct results (30000). But when I run :</p>\n<pre><code>variable = 75;\nrebate = myMap.get(variable);\n</code></pre>\n<p>My entire program breaks. When I try running :</p>\n<pre><code>rebate = myMap.floorEntry(variable);\n</code></pre>\n<p>My IntelliJ throws me this error:</p>\n<pre><code>Required type:\nBigDecimal\n\n\nProvided:\nEntry\n&lt;java.lang.Double,\njava.math.BigDecimal&gt;\n\nstacktrace:\n    &lt;pre&gt;java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n    [error]: Build step org.kie.kogito.quarkus.common.deployment.KogitoAssetsProcessor#generateModel threw an exception: java.lang.IllegalStateException: src/main/java/com/zappyride/software/business/P94/LambdaConsequence9423558E6DAA4D0C76452B4B4DFC5AA3.java (115:5948) : Type mismatch: cannot convert from Map.Entry&amp;lt;Double,BigDecimal&amp;gt; to BigDecimal\nsrc/main/java/com/zappyride/software/business/P94/LambdaConsequence9423558E6DAA4D0C76452B4B4DFC5AA3.java (115:5948) : Type mismatch: cannot convert from Map.Entry&amp;lt;Double,BigDecimal&amp;gt; to BigDecimal\n    at org.kie.kogito.quarkus.common.deployment.InMemoryCompiler.compile(InMemoryCompiler.java:100)\n    at org.kie.kogito.quarkus.common.deployment.KogitoQuarkusResourceUtils.compileGeneratedSources(KogitoQuarkusResourceUtils.java:140)\n    at org.kie.kogito.quarkus.common.deployment.KogitoAssetsProcessor.compileAndIndexJavaSources(KogitoAssetsProcessor.java:126)\n    at org.kie.kogito.quarkus.common.deployment.KogitoAssetsProcessor.generateModel(KogitoAssetsProcessor.java:95)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:920)\n    at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2415)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1452)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n\n</code></pre>\n<p>How do I fix this? Essentially I need to be able to pass Java a key, and pull the corresponding value of the next lowest key if it is not a perfect match.</p>\n<p>Thank you in advanced!</p>\n"},{"tags":["java","ldap","unboundid-ldap-sdk"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635802846,"post_id":69803045,"comment_id":123386187,"body_markdown":"How are you building and running your project?","body":"How are you building and running your project?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635802909,"post_id":69803045,"comment_id":123386203,"body_markdown":"It sounds as thouigh you are using Eclipse and have this problem: https://stackoverflow.com/questions/22381202/a-jni-error-has-occurred-please-check-your-installation-and-try-again-in-eclips","body":"It sounds as thouigh you are using Eclipse and have this problem: <a href=\"https://stackoverflow.com/questions/22381202/a-jni-error-has-occurred-please-check-your-installation-and-try-again-in-eclips\" title=\"a jni error has occurred please check your installation and try again in eclips\">stackoverflow.com/questions/22381202/&hellip;</a>"},{"owner":{"account_id":19374174,"reputation":1,"user_id":14166840,"display_name":"deathstr0ke"},"score":0,"creation_date":1635803710,"post_id":69803045,"comment_id":123386416,"body_markdown":"So I am creating a .jar file and running it on the server which has my kerberos credentials and access to the ldap server.  Let me peek into the link :)","body":"So I am creating a .jar file and running it on the server which has my kerberos credentials and access to the ldap server.  Let me peek into the link :)"},{"owner":{"account_id":19374174,"reputation":1,"user_id":14166840,"display_name":"deathstr0ke"},"score":0,"creation_date":1635804178,"post_id":69803045,"comment_id":123386528,"body_markdown":"i suspect that the link is onto something :)   looks like the server never got updated ?\n\nserver&gt; java version &quot;1.8.0_281&quot;    /     desktop&gt; java version &quot;17&quot; 2021-09-14 LTS","body":"i suspect that the link is onto something :)   looks like the server never got updated ?  server&gt; java version &quot;1.8.0_281&quot;    /     desktop&gt; java version &quot;17&quot; 2021-09-14 LTS"},{"owner":{"account_id":19374174,"reputation":1,"user_id":14166840,"display_name":"deathstr0ke"},"score":0,"creation_date":1635820397,"post_id":69803045,"comment_id":123389354,"body_markdown":"going to update the java software on the server to see if that resolves it.  thanks for the reply :)","body":"going to update the java software on the server to see if that resolves it.  thanks for the reply :)"}],"owner":{"account_id":19374174,"reputation":1,"user_id":14166840,"display_name":"deathstr0ke"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635802632,"creation_date":1635802632,"question_id":69803045,"body_markdown":"I am struggling to make a connection to a LDAP server using java.  I&#39;ve tried JNDI and failed, I read that unboundid sdk is probably the way to go.. but still having some issues :(\r\n\r\n\r\n**End Goal:** I want to be able to connect to the LDAP server using Kerberos authentication.  Once I can establish the connection, I can start looking at the code to execute a search :)\r\n\r\n- I do not want to have to hard code in credentials or use a service account for authenticating.  \r\n \r\n \r\nNow I believe I am on the right track, but I&#39;ll be honest.. after searching for over two weeks and reading multiple forums.. I&#39;m beginning to lose faith in my ability to establish a connection.\r\n\r\n\r\nBelow is the error I am currently encountering.. \r\n\r\n\r\n    Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/unboundid/ldap/sd\r\n    k/LDAPException\r\n            at java.lang.Class.getDeclaredMethods0(Native Method)\r\n            at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\r\n            at java.lang.Class.privateGetMethodRecursive(Unknown Source)\r\n            at java.lang.Class.getMethod0(Unknown Source)\r\n            at java.lang.Class.getMethod(Unknown Source)\r\n            at sun.launcher.LauncherHelper.validateMainClass(Unknown Source)\r\n            at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: com.unboundid.ldap.sdk.LDAPExceptio\r\n    n\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            ... 7 more\r\n\r\n\r\n\r\nI&#39;ve added the unboundid-ldapsdk.jar to Project Structures &gt; Libraries\r\n \r\nI confirmed that unboundid-ldapsdk shows under under Project Structures &gt; Module &gt; Dependencies.\r\n\r\n.\r\n\r\nbelow is my code:\r\n\r\n    import com.unboundid.ldap.sdk.*;\r\n    \r\n    public class LdapConnectionCreation {\r\n        public static void main(String[] args) {\r\n    \r\n    \r\n            GSSAPIBindRequestProperties gssapiProperties = new GSSAPIBindRequestProperties(&quot;username&quot;, (byte[]) null);\r\n            gssapiProperties.setKDCAddress(&quot;server.domain.ca&quot;);\r\n            gssapiProperties.setRealm(&quot;domain.ca&quot;);\r\n    \r\n            LDAPConnection connection = null;\r\n            try {\r\n                connection = new LDAPConnection(&quot;server.domain.ca&quot;, 3268);\r\n            }\r\n            catch (LDAPException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            GSSAPIBindRequest bindRequest = null;\r\n            try {\r\n                bindRequest = new GSSAPIBindRequest(gssapiProperties);\r\n            }\r\n            catch (LDAPException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            BindResult bindResult;\r\n            System.out.println(&quot;testing bind&quot;);\r\n    \r\n    \r\n            try {\r\n                bindResult = connection.bind(bindRequest);\r\n                System.out.println(&quot;bind successful&quot;);\r\n            }\r\n            catch (LDAPException e) {\r\n                System.out.println(&quot;bind failed&quot;);\r\n                bindResult = new BindResult(e.toLDAPResult());\r\n                ResultCode resultCode = e.getResultCode();\r\n                String errorMessageFromServer = e.getDiagnosticMessage();\r\n                System.out.println(resultCode);\r\n                System.out.println(errorMessageFromServer);\r\n                System.out.println(&quot;---------trace---------&quot;);\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n*NOTE: I have the proper username and server names in the code, just not included in the code above :)\r\n\r\n\r\nI am also fairly new to java programming, so any help and tips would be greatly appreciated!","title":"Java connection to LDAP server","body":"<p>I am struggling to make a connection to a LDAP server using java.  I've tried JNDI and failed, I read that unboundid sdk is probably the way to go.. but still having some issues :(</p>\n<p><strong>End Goal:</strong> I want to be able to connect to the LDAP server using Kerberos authentication.  Once I can establish the connection, I can start looking at the code to execute a search :)</p>\n<ul>\n<li>I do not want to have to hard code in credentials or use a service account for authenticating.</li>\n</ul>\n<p>Now I believe I am on the right track, but I'll be honest.. after searching for over two weeks and reading multiple forums.. I'm beginning to lose faith in my ability to establish a connection.</p>\n<p>Below is the error I am currently encountering..</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/unboundid/ldap/sd\nk/LDAPException\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\n        at java.lang.Class.privateGetMethodRecursive(Unknown Source)\n        at java.lang.Class.getMethod0(Unknown Source)\n        at java.lang.Class.getMethod(Unknown Source)\n        at sun.launcher.LauncherHelper.validateMainClass(Unknown Source)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: com.unboundid.ldap.sdk.LDAPExceptio\nn\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 7 more\n</code></pre>\n<p>I've added the unboundid-ldapsdk.jar to Project Structures &gt; Libraries</p>\n<p>I confirmed that unboundid-ldapsdk shows under under Project Structures &gt; Module &gt; Dependencies.</p>\n<p>.</p>\n<p>below is my code:</p>\n<pre><code>import com.unboundid.ldap.sdk.*;\n\npublic class LdapConnectionCreation {\n    public static void main(String[] args) {\n\n\n        GSSAPIBindRequestProperties gssapiProperties = new GSSAPIBindRequestProperties(&quot;username&quot;, (byte[]) null);\n        gssapiProperties.setKDCAddress(&quot;server.domain.ca&quot;);\n        gssapiProperties.setRealm(&quot;domain.ca&quot;);\n\n        LDAPConnection connection = null;\n        try {\n            connection = new LDAPConnection(&quot;server.domain.ca&quot;, 3268);\n        }\n        catch (LDAPException e) {\n            e.printStackTrace();\n        }\n\n        GSSAPIBindRequest bindRequest = null;\n        try {\n            bindRequest = new GSSAPIBindRequest(gssapiProperties);\n        }\n        catch (LDAPException e) {\n            e.printStackTrace();\n        }\n\n        BindResult bindResult;\n        System.out.println(&quot;testing bind&quot;);\n\n\n        try {\n            bindResult = connection.bind(bindRequest);\n            System.out.println(&quot;bind successful&quot;);\n        }\n        catch (LDAPException e) {\n            System.out.println(&quot;bind failed&quot;);\n            bindResult = new BindResult(e.toLDAPResult());\n            ResultCode resultCode = e.getResultCode();\n            String errorMessageFromServer = e.getDiagnosticMessage();\n            System.out.println(resultCode);\n            System.out.println(errorMessageFromServer);\n            System.out.println(&quot;---------trace---------&quot;);\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n<p>*NOTE: I have the proper username and server names in the code, just not included in the code above :)</p>\n<p>I am also fairly new to java programming, so any help and tips would be greatly appreciated!</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":29346,"reputation":4188,"user_id":79230,"accept_rate":88,"display_name":"Averroes"},"score":5,"creation_date":1361192796,"post_id":14937025,"comment_id":20961815,"body_markdown":"Hmmm.. strange approach here. Chess should not be random moving pieces in the board. There are a lot of chess game libraries. Why do you not try to use one of them in your game?","body":"Hmmm.. strange approach here. Chess should not be random moving pieces in the board. There are a lot of chess game libraries. Why do you not try to use one of them in your game?"},{"owner":{"account_id":2118309,"reputation":639,"user_id":1882121,"accept_rate":75,"display_name":"Govind Balaji"},"score":0,"creation_date":1361192968,"post_id":14937025,"comment_id":20961908,"body_markdown":"Yes as Averroes said, You must make the computer think as if a human will do.","body":"Yes as Averroes said, You must make the computer think as if a human will do."},{"owner":{"account_id":1407438,"reputation":11298,"user_id":1334761,"accept_rate":62,"display_name":"Jjang"},"score":0,"creation_date":1361193409,"post_id":14937025,"comment_id":20962144,"body_markdown":"I need random actions in order to simulate &quot;computer&quot; playing against a player, but I dont need a sophisticated algorithm. just something that moves pieces.","body":"I need random actions in order to simulate &quot;computer&quot; playing against a player, but I dont need a sophisticated algorithm. just something that moves pieces."}],"answers":[{"tags":[],"owner":{"account_id":317314,"reputation":887,"user_id":633935,"accept_rate":67,"display_name":"Raman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1361193814,"creation_date":1361192864,"answer_id":14937106,"question_id":14937025,"body_markdown":"Java provides at least two options to generate random values:\r\n\r\nhttp://docs.oracle.com/javase/6/docs/api/java/util/Random.html\r\nhttp://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#random()\r\n\r\n\r\nE.g. to get random int values bounded by 4:\r\n\r\n    int x = new Random().nextInt(4);\r\n    int y = (int) (Math.random() * 4);\r\n    \r\n    System.out.println(x + &quot; &quot; + y);\r\n\r\n    &gt;&gt; 2 3","title":"Random actions in Java","body":"<p>Java provides at least two options to generate random values:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Random.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/Random.html</a>\n<a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#random()\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html#random()</a></p>\n\n<p>E.g. to get random int values bounded by 4:</p>\n\n<pre><code>int x = new Random().nextInt(4);\nint y = (int) (Math.random() * 4);\n\nSystem.out.println(x + \" \" + y);\n\n&gt;&gt; 2 3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50723,"reputation":3791,"user_id":151344,"accept_rate":60,"display_name":"Alderath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1361193818,"creation_date":1361193818,"answer_id":14937379,"question_id":14937025,"body_markdown":"If you really would like to create a computer player who just moves about randomly, I think it would be better to do it it like this:\r\n\r\n 1. Randomly select one of the existing chess pieces on the board\r\n 2. Compute all legal destinations to which that chess piece could move\r\n 3. If there are no legal destinations, choose a new piece amongst the previously not selected pieces\r\n 4. Randomly select one of the computed legal destinations\r\n\r\n\r\n\r\nHowever, letting a computer player move about randomly is rather silly. A computer player would need to have some form of logic to compare which out of two moves is better. Implementing such logic is probably rather complex, and you&#39;re probably better off using a chess library as someone suggested in the comments.","title":"Random actions in Java","body":"<p>If you really would like to create a computer player who just moves about randomly, I think it would be better to do it it like this:</p>\n\n<ol>\n<li>Randomly select one of the existing chess pieces on the board</li>\n<li>Compute all legal destinations to which that chess piece could move</li>\n<li>If there are no legal destinations, choose a new piece amongst the previously not selected pieces</li>\n<li>Randomly select one of the computed legal destinations</li>\n</ol>\n\n<p>However, letting a computer player move about randomly is rather silly. A computer player would need to have some form of logic to compare which out of two moves is better. Implementing such logic is probably rather complex, and you're probably better off using a chess library as someone suggested in the comments.</p>\n"},{"tags":[],"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361194023,"creation_date":1361194023,"answer_id":14937432,"question_id":14937025,"body_markdown":"You don&#39;t need 4 ints. You only need 1.\r\n\r\nA way of doing this:\r\n\r\n1. Iterate the pieces on the board.\r\n2. For each piece, determine its available moves and stick all the available moves in a list.\r\n3. Pick one move from the list at random (or at non-random, if you feel so-inclined).","title":"Random actions in Java","body":"<p>You don't need 4 ints. You only need 1.</p>\n\n<p>A way of doing this:</p>\n\n<ol>\n<li>Iterate the pieces on the board.</li>\n<li>For each piece, determine its available moves and stick all the available moves in a list.</li>\n<li>Pick one move from the list at random (or at non-random, if you feel so-inclined).</li>\n</ol>\n"}],"owner":{"account_id":1407438,"reputation":11298,"user_id":1334761,"accept_rate":62,"display_name":"Jjang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1716,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":14937106,"answer_count":3,"score":-3,"last_activity_date":1635802523,"creation_date":1361192545,"question_id":14937025,"body_markdown":"I&#39;m writing my first own chess game in Java.\r\n\r\nMy code already works for two players, manually playing from the keyboard, and I would like to expand it to a player against the computer game.\r\n\r\nMy problem is that I&#39;ve never dealt with random actions.\r\nThe method which is moving a piece on the board, needs to receive 4 inputs:\r\ntwo integers for the piece location, and two integers for the destination on the board.\r\n\r\nChoosing the wrong inputs is OK since the movePiece method already checks if the integers are not out of the board&#39;s bounds, that they really reach a piece of the current player&#39;s color, that there&#39;s a piece in the coordination and its not empty, etc.\r\n\r\nBut how do I get these 4 integerss randomly? And how do I make them as closest as possible to &quot;real&quot; inputs (so I don&#39;t spend a lot of time disqualifying bad inputs)?","title":"Random actions in Java","body":"<p>I'm writing my first own chess game in Java.</p>\n<p>My code already works for two players, manually playing from the keyboard, and I would like to expand it to a player against the computer game.</p>\n<p>My problem is that I've never dealt with random actions.\nThe method which is moving a piece on the board, needs to receive 4 inputs:\ntwo integers for the piece location, and two integers for the destination on the board.</p>\n<p>Choosing the wrong inputs is OK since the movePiece method already checks if the integers are not out of the board's bounds, that they really reach a piece of the current player's color, that there's a piece in the coordination and its not empty, etc.</p>\n<p>But how do I get these 4 integerss randomly? And how do I make them as closest as possible to &quot;real&quot; inputs (so I don't spend a lot of time disqualifying bad inputs)?</p>\n"},{"tags":["java","tree","nodes"],"comments":[{"owner":{"account_id":9847667,"reputation":29054,"user_id":7294647,"accept_rate":67,"display_name":"Jacob G."},"score":1,"creation_date":1491681086,"post_id":43299671,"comment_id":73664843,"body_markdown":"To verify your answer, simply draw out trees of increasing height on a piece of paper starting from `K = 1`; this way, you&#39;ll be able to verify your formula quickly.","body":"To verify your answer, simply draw out trees of increasing height on a piece of paper starting from <code>K = 1</code>; this way, you&#39;ll be able to verify your formula quickly."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1491682431,"post_id":43299671,"comment_id":73665359,"body_markdown":"Did you mean `2^(k+1) - 1`?","body":"Did you mean <code>2^(k+1) - 1</code>?"},{"owner":{"account_id":8127067,"reputation":105,"user_id":6121648,"display_name":"MD9"},"score":0,"creation_date":1491682617,"post_id":43299671,"comment_id":73665416,"body_markdown":"^ Yes I did I changed it","body":"^ Yes I did I changed it"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1491682650,"post_id":43299671,"comment_id":73665427,"body_markdown":"Answer depends on how many branches a node can handle. [Trees](https://en.wikipedia.org/wiki/Tree_(data_structure)) don&#39;t have to be [binary](https://en.wikipedia.org/wiki/Binary_tree), i.e. nodes with 2 branches. They can have more.","body":"Answer depends on how many branches a node can handle. <a href=\"https://en.wikipedia.org/wiki/Tree_(data_structure)\" rel=\"nofollow noreferrer\">Trees</a> don&#39;t have to be <a href=\"https://en.wikipedia.org/wiki/Binary_tree\" rel=\"nofollow noreferrer\">binary</a>, i.e. nodes with 2 branches. They can have more."},{"owner":{"account_id":8127067,"reputation":105,"user_id":6121648,"display_name":"MD9"},"score":0,"creation_date":1491682954,"post_id":43299671,"comment_id":73665515,"body_markdown":"@Andreas I think in this instance a node can handle two branches. Could you explain further what you mean?","body":"@Andreas I think in this instance a node can handle two branches. Could you explain further what you mean?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1491683390,"post_id":43299671,"comment_id":73665646,"body_markdown":"Typically, trees are binary, where a node has a single value, and you follow left branch or right branch, depending on search value relative to the node value. However, a node could have multiple branch values, e.g. a node could have values `4, 9, 13`, with 4 branches leaving the node. The number of branches may not even be constant in a single tree. This is common if nodes are stored on disk, where you might want a node to fill a disk sector, to reduce the number of node lookups (disk reads) to navigate the tree. Most RDBMS indexes are built that way.","body":"Typically, trees are binary, where a node has a single value, and you follow left branch or right branch, depending on search value relative to the node value. However, a node could have multiple branch values, e.g. a node could have values <code>4, 9, 13</code>, with 4 branches leaving the node. The number of branches may not even be constant in a single tree. This is common if nodes are stored on disk, where you might want a node to fill a disk sector, to reduce the number of node lookups (disk reads) to navigate the tree. Most RDBMS indexes are built that way."}],"answers":[{"tags":[],"owner":{"account_id":9771273,"reputation":323,"user_id":7243054,"display_name":"Sergio Izquierdo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1491683134,"creation_date":1491681175,"answer_id":43299706,"question_id":43299671,"body_markdown":"I imagine you are talking about a binary tree, so the answer is easy. 2^k-1, so in your case 2^8-1 = 255.\r\n\r\nTake a tree of height k, if you add a new level you can duplicate the number of nodes by adding two nodes in each leaf. If you take the tree of height 1, it has 1 node, 2^1-1; height 2, 2^2-1=3","title":"Maximum number of nodes that can be in a tree of height K?","body":"<p>I imagine you are talking about a binary tree, so the answer is easy. 2^k-1, so in your case 2^8-1 = 255.</p>\n\n<p>Take a tree of height k, if you add a new level you can duplicate the number of nodes by adding two nodes in each leaf. If you take the tree of height 1, it has 1 node, 2^1-1; height 2, 2^2-1=3</p>\n"},{"tags":[],"owner":{"account_id":23209965,"reputation":1,"user_id":17303604,"display_name":"Mayur Borse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635802317,"creation_date":1635801699,"answer_id":69802920,"question_id":43299671,"body_markdown":"Yes you are correct. The max number  of nodes in a tree with height h (start as height of leaf node is 0) \r\n= (2^(h+1)) -1\r\n= (2^(8+1)) - 1 = (2^9) -1 =511\r\n\r\nThe height of a node in a binary tree is the largest number of edges in a path from a leaf node to a target node. \r\n\r\nThen for a tree with height 1, the maximum number of nodes is 3( one root node and 2 children=1+2). Same result from (2^(h+1)) -1 = (2^2)-1=3\r\n\r\nThen for a tree with height 2, the maximum number of nodes is 7( one root node and 2 children and then 2 children of each =1+2+4). Same result from (2^(h+1)) -1 = (2^3)-1=7\r\n\r\nThen for a tree with height 3, the maximum number of nodes is 15( one root node and 2 children and there 2 children for each again 2 children for each = 1+2+4+8). Same result from (2^(h+1)) -1 = (2^4)-1=15\r\n\r\n\r\nThis is my first answer on stackoverflow, Upvote to cheers &#127867;. \r\n\r\nYou can also check this geeksforgeeks link for more understanding\r\n\r\nhttps://www.geeksforgeeks.org/relationship-number-nodes-height-binary-tree/","title":"Maximum number of nodes that can be in a tree of height K?","body":"<p>Yes you are correct. The max number  of nodes in a tree with height h (start as height of leaf node is 0)\n= (2^(h+1)) -1\n= (2^(8+1)) - 1 = (2^9) -1 =511</p>\n<p>The height of a node in a binary tree is the largest number of edges in a path from a leaf node to a target node.</p>\n<p>Then for a tree with height 1, the maximum number of nodes is 3( one root node and 2 children=1+2). Same result from (2^(h+1)) -1 = (2^2)-1=3</p>\n<p>Then for a tree with height 2, the maximum number of nodes is 7( one root node and 2 children and then 2 children of each =1+2+4). Same result from (2^(h+1)) -1 = (2^3)-1=7</p>\n<p>Then for a tree with height 3, the maximum number of nodes is 15( one root node and 2 children and there 2 children for each again 2 children for each = 1+2+4+8). Same result from (2^(h+1)) -1 = (2^4)-1=15</p>\n<p>This is my first answer on stackoverflow, Upvote to cheers .</p>\n<p>You can also check this geeksforgeeks link for more understanding</p>\n<p><a href=\"https://www.geeksforgeeks.org/relationship-number-nodes-height-binary-tree/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/relationship-number-nodes-height-binary-tree/</a></p>\n"}],"owner":{"account_id":8127067,"reputation":105,"user_id":6121648,"display_name":"MD9"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43299706,"answer_count":2,"score":1,"last_activity_date":1635802317,"creation_date":1491680933,"question_id":43299671,"body_markdown":"So, I&#39;m looking at the maximum number of nodes that can be in a tree of height 8.\r\n\r\nI believe the correct formula for this is 2^(k+1) - 1. Therefore 2^8+1 - 1 = 511.\r\nI am confused because I see a lot of different answers and material online.\r\n\r\nCan anyone confirm If I&#39;m correct/incorrect and shed some light\r\nThanks in advance","title":"Maximum number of nodes that can be in a tree of height K?","body":"<p>So, I'm looking at the maximum number of nodes that can be in a tree of height 8.</p>\n\n<p>I believe the correct formula for this is 2^(k+1) - 1. Therefore 2^8+1 - 1 = 511.\nI am confused because I see a lot of different answers and material online.</p>\n\n<p>Can anyone confirm If I'm correct/incorrect and shed some light\nThanks in advance</p>\n"},{"tags":["java","date","formatting"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1635834092,"post_id":69802951,"comment_id":123391442,"body_markdown":"Since you can use java.time, the modern Java date and time API, dont also mix in the outdated and troublesome classes `Date` and `SimpleDateFormat` from Java 1.0 and 1.1. They will only add needless complication and unnecessary conversions. I recommend you throw them out of your code immediately.","body":"Since you can use java.time, the modern Java date and time API, dont also mix in the outdated and troublesome classes <code>Date</code> and <code>SimpleDateFormat</code> from Java 1.0 and 1.1. They will only add needless complication and unnecessary conversions. I recommend you throw them out of your code immediately."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1635834365,"post_id":69802951,"comment_id":123391503,"body_markdown":"Is there any point in having the user enter the current date? You are already getting it from `LocalDate.now()`.","body":"Is there any point in having the user enter the current date? You are already getting it from <code>LocalDate.now()</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1635834603,"post_id":69802951,"comment_id":123391568,"body_markdown":"For output in `mm-dd-yyyy` format define a formatter `DateTimeFormatter.ofPattern(&quot;MM-dd-uuuu&quot;)` and pass it to `LocalDate.format()`.","body":"For output in <code>mm-dd-yyyy</code> format define a formatter <code>DateTimeFormatter.ofPattern(&quot;MM-dd-uuuu&quot;)</code> and pass it to <code>LocalDate.format()</code>."}],"owner":{"account_id":23006749,"reputation":21,"user_id":17129910,"display_name":"oofalladeez343"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635803176,"answer_count":0,"score":0,"last_activity_date":1635801927,"creation_date":1635801927,"question_id":69802951,"body_markdown":"Thank you for looking at this. I am making a movie rental software. Where you can put in the information, then you can say how long you want to rent it. Well after you say how long the user needs to insert the current date. I am trying to get it where the user can input the current date in the format mm/dd/yyyy. I am also trying to get it where the output is in mm-dd-yyyy. How do I do this? Below is what I have so far. I currently have the format where it is (Name of Month) dd, yyyy. And the output is yyyy-mm-dd.\r\nI have used a few answers to different questions from here and it still did not help.\r\n\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.DateTimeFormatterBuilder;\r\n    import java.util.Locale;\r\n    import java.time.format.FormatStyle;\r\n    import java.time.*;\r\n    import java.time.chrono.IsoChronology;\r\n    import java.text.SimpleDateFormat;\r\n    \r\n    public class MovieRental\r\n    {\r\n        private static final Locale defaultFormattingLocale = Locale.getDefault\r\n        (Locale.Category.FORMAT);\r\n        private static String defaultDateFormat = DateTimeFormatterBuilder.getLocalizedDateTimePattern\r\n        (FormatStyle.LONG, null, \r\n                IsoChronology.INSTANCE, defaultFormattingLocale);\r\n        private static final DateTimeFormatter dateFormatter \r\n        = DateTimeFormatter.ofPattern(defaultDateFormat, defaultFormattingLocale);\r\n        public static void main(String[ ] args)\r\n        {\r\n            String format = DateTimeFormatterBuilder.getLocalizedDateTimePattern\r\n            (FormatStyle.FULL, null, IsoChronology.INSTANCE, Locale.US);\r\n            LocalDate today = LocalDate.now();\r\n            Date date = new Date();\r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;h:mm a&quot;);\r\n            Scanner in = new Scanner(System.in);\r\n            double rentalPrice = 1.25;\r\n            double federalSalestax = 0.04;\r\n            System.out.println(&quot;Hello, and thank you for using us to rent your movie.&quot;);\r\n            System.out.println(&quot;Please enter your first and last name: &quot;);\r\n            String firstName = in.next();\r\n            String lastName = in.nextLine();\r\n            char firstIn = firstName.charAt(0);\r\n            System.out.println(&quot;What movie would you like to rent?&quot;);\r\n            String movieTitle = in.nextLine();\r\n            //I used &quot;Halo: The Fall of Reach&quot; as an example. It is a real moviebased on Halo.\r\n            System.out.println(&quot;How many days are you wanting to keep \\&quot;&quot; + movieTitle + &quot;\\&quot;? &quot;);\r\n            String rentalLength = in.nextLine();\r\n            LocalDate dueDate\r\n            = (LocalDate.now().plusDays(Integer.parseInt(rentalLength)));\r\n            \r\n        \r\n            System.out.println(&quot;Enter date in &quot; + defaultDateFormat + &quot; format: &quot; );\r\n            //This says Month dd, 2021. I need to change it to mm/dd/yyyy.\r\n            String dateString = in.nextLine();\r\n            try {\r\n            LocalDate inputDate = LocalDate.parse(dateString, dateFormatter);\r\n            System.out.println(&quot;Date entered was &quot; + inputDate);\r\n            } catch (Exception dtpe) {\r\n            System.out.println(&quot;Invalid date: &quot; + dateString);\r\n            }\r\n            System.out.println(&quot;Please enter your card number: &quot;);\r\n            String cardNumber = in.nextLine();\r\n            String censoredCard = cardNumber.substring(10);\r\n            System.out.println(&quot;Please enter your PIN number: &quot;);\r\n            String pinNumber = in.nextLine();\r\n            double totalPrice = (rentalPrice * Integer.parseInt(rentalLength));\r\n            double taxedPrice = ((totalPrice * federalSalestax) + totalPrice);\r\n            \r\n            System.out.println(&quot;Account Charged: #####-###-&quot; + censoredCard);\r\n            System.out.println(&quot;Price: $&quot; + totalPrice);\r\n            System.out.println(&quot;Due Date: &quot; + dueDate);\r\n            System.out.println(&quot;Due Time: &quot; + sdf.format(date));\r\n            System.out.println(&quot;Thank you for your purchase.\\nEnjoy your rental!&quot;);\r\n        }\r\n    }\r\nBelow is an example of the output\r\n\r\n    Hello, and thank you for using us to rent your movie.\r\n    Please enter your first and last name: \r\n    Nate Dillard\r\n    What movie would you like to rent?\r\n    Halo: The Fall of Reach\r\n    How many days are you wanting to keep &quot;Halo: The Fall of Reach&quot;? \r\n    4\r\n    Enter date in MMMM d, y format: \r\n    November 1, 2021\r\n    Date entered was 2021-11-01\r\n    Please enter your card number: \r\n    87430-736-3439\r\n    Please enter your PIN number: \r\n    1764\r\n    Account Charged: #####-###-3439\r\n    Price: $5.0\r\n    Due Date: 2021-11-05\r\n    Due Time: 4:20 PM\r\n    Thank you for your purchase.\r\n    Enjoy your rental!\r\nThis is an unfinished project where the bottom portion(after I get this figured out with your help) will be formatted as an e-receipt.","title":"How can I get a date to be put into input? Then how can I get it to make a due date based on an undetermined rental period inputed by the user?","body":"<p>Thank you for looking at this. I am making a movie rental software. Where you can put in the information, then you can say how long you want to rent it. Well after you say how long the user needs to insert the current date. I am trying to get it where the user can input the current date in the format mm/dd/yyyy. I am also trying to get it where the output is in mm-dd-yyyy. How do I do this? Below is what I have so far. I currently have the format where it is (Name of Month) dd, yyyy. And the output is yyyy-mm-dd.\nI have used a few answers to different questions from here and it still did not help.</p>\n<pre><code>import java.util.*;\nimport java.text.*;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.util.Locale;\nimport java.time.format.FormatStyle;\nimport java.time.*;\nimport java.time.chrono.IsoChronology;\nimport java.text.SimpleDateFormat;\n\npublic class MovieRental\n{\n    private static final Locale defaultFormattingLocale = Locale.getDefault\n    (Locale.Category.FORMAT);\n    private static String defaultDateFormat = DateTimeFormatterBuilder.getLocalizedDateTimePattern\n    (FormatStyle.LONG, null, \n            IsoChronology.INSTANCE, defaultFormattingLocale);\n    private static final DateTimeFormatter dateFormatter \n    = DateTimeFormatter.ofPattern(defaultDateFormat, defaultFormattingLocale);\n    public static void main(String[ ] args)\n    {\n        String format = DateTimeFormatterBuilder.getLocalizedDateTimePattern\n        (FormatStyle.FULL, null, IsoChronology.INSTANCE, Locale.US);\n        LocalDate today = LocalDate.now();\n        Date date = new Date();\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;h:mm a&quot;);\n        Scanner in = new Scanner(System.in);\n        double rentalPrice = 1.25;\n        double federalSalestax = 0.04;\n        System.out.println(&quot;Hello, and thank you for using us to rent your movie.&quot;);\n        System.out.println(&quot;Please enter your first and last name: &quot;);\n        String firstName = in.next();\n        String lastName = in.nextLine();\n        char firstIn = firstName.charAt(0);\n        System.out.println(&quot;What movie would you like to rent?&quot;);\n        String movieTitle = in.nextLine();\n        //I used &quot;Halo: The Fall of Reach&quot; as an example. It is a real moviebased on Halo.\n        System.out.println(&quot;How many days are you wanting to keep \\&quot;&quot; + movieTitle + &quot;\\&quot;? &quot;);\n        String rentalLength = in.nextLine();\n        LocalDate dueDate\n        = (LocalDate.now().plusDays(Integer.parseInt(rentalLength)));\n        \n    \n        System.out.println(&quot;Enter date in &quot; + defaultDateFormat + &quot; format: &quot; );\n        //This says Month dd, 2021. I need to change it to mm/dd/yyyy.\n        String dateString = in.nextLine();\n        try {\n        LocalDate inputDate = LocalDate.parse(dateString, dateFormatter);\n        System.out.println(&quot;Date entered was &quot; + inputDate);\n        } catch (Exception dtpe) {\n        System.out.println(&quot;Invalid date: &quot; + dateString);\n        }\n        System.out.println(&quot;Please enter your card number: &quot;);\n        String cardNumber = in.nextLine();\n        String censoredCard = cardNumber.substring(10);\n        System.out.println(&quot;Please enter your PIN number: &quot;);\n        String pinNumber = in.nextLine();\n        double totalPrice = (rentalPrice * Integer.parseInt(rentalLength));\n        double taxedPrice = ((totalPrice * federalSalestax) + totalPrice);\n        \n        System.out.println(&quot;Account Charged: #####-###-&quot; + censoredCard);\n        System.out.println(&quot;Price: $&quot; + totalPrice);\n        System.out.println(&quot;Due Date: &quot; + dueDate);\n        System.out.println(&quot;Due Time: &quot; + sdf.format(date));\n        System.out.println(&quot;Thank you for your purchase.\\nEnjoy your rental!&quot;);\n    }\n}\n</code></pre>\n<p>Below is an example of the output</p>\n<pre><code>Hello, and thank you for using us to rent your movie.\nPlease enter your first and last name: \nNate Dillard\nWhat movie would you like to rent?\nHalo: The Fall of Reach\nHow many days are you wanting to keep &quot;Halo: The Fall of Reach&quot;? \n4\nEnter date in MMMM d, y format: \nNovember 1, 2021\nDate entered was 2021-11-01\nPlease enter your card number: \n87430-736-3439\nPlease enter your PIN number: \n1764\nAccount Charged: #####-###-3439\nPrice: $5.0\nDue Date: 2021-11-05\nDue Time: 4:20 PM\nThank you for your purchase.\nEnjoy your rental!\n</code></pre>\n<p>This is an unfinished project where the bottom portion(after I get this figured out with your help) will be formatted as an e-receipt.</p>\n"},{"tags":["java","biginteger","modulo","euclidean-algorithm"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1635797607,"post_id":69802076,"comment_id":123384653,"body_markdown":"There is no way to do &quot;noninteger&quot; division with BigInteger, and certainly no noninteger division is present in your code. The error occurs in the line `BigInteger[] vals = gcd(q, p.remainder(q));` because `q` eventually becomes 0. By checking the [gcd identities](https://en.wikipedia.org/wiki/Greatest_common_divisor#Properties) you can verify that gcd(0, a) = abs(a). Your code computes the gcd(0, a) as 0, which is wrong.","body":"There is no way to do &quot;noninteger&quot; division with BigInteger, and certainly no noninteger division is present in your code. The error occurs in the line <code>BigInteger[] vals = gcd(q, p.remainder(q));</code> because <code>q</code> eventually becomes 0. By checking the <a href=\"https://en.wikipedia.org/wiki/Greatest_common_divisor#Properties\" rel=\"nofollow noreferrer\">gcd identities</a> you can verify that gcd(0, a) = abs(a). Your code computes the gcd(0, a) as 0, which is wrong."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1635798104,"post_id":69802076,"comment_id":123384804,"body_markdown":"`q` must have been zero, as `remainder` and `divide` may complain. That might happen for an older p and q with `p.remainder(q)` being zero.","body":"<code>q</code> must have been zero, as <code>remainder</code> and <code>divide</code> may complain. That might happen for an older p and q with <code>p.remainder(q)</code> being zero."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1635803409,"post_id":69802076,"comment_id":123386334,"body_markdown":"`p.divide(q)` what makes you certain that `q` is never 0?","body":"<code>p.divide(q)</code> what makes you certain that <code>q</code> is never 0?"}],"answers":[{"tags":[],"owner":{"account_id":1425811,"reputation":10732,"user_id":1349366,"display_name":"Aivean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635801544,"creation_date":1635798975,"answer_id":69802525,"question_id":69802076,"body_markdown":"Here is the working variant, produced by Github Copilot (verified by me):\r\n\r\n    // Returns a triple {d, a, b} such that d = a*p + b*q\r\n    static BigInteger[] extendedEuclidean(BigInteger p, BigInteger q) {\r\n        BigInteger[] val = new BigInteger[3];\r\n\r\n        if (q.equals(BigInteger.ZERO)) {\r\n            val[0] = p;\r\n            val[1] = BigInteger.ONE;\r\n            val[2] = BigInteger.ZERO;\r\n        } else {\r\n            BigInteger[] val2 = extendedEuclidean(q, p.mod(q));\r\n            val[0] = val2[0];\r\n            val[1] = val2[2];\r\n            val[2] = val2[1].subtract(p.divide(q).multiply(val2[2]));\r\n        }\r\n\r\n        return val;\r\n    }\r\n\r\n\r\nNote: when `p=0` it returns `q` and vice versa.\r\n\r\nThe difference from your code, is that it checks that `q != 0` (which is bound to become 0 at some point), instead of `p != 0`.\r\n\r\n\r\nTests:\r\n```\r\ninput: 9, 13\r\nd = 1, a = 3, b = -2\r\n\r\ninput: 2, 15\r\nd = 1, a = -7, b = 1\r\n\r\ninput: 9, 12\r\nd = 3, a = -1, b = 1\r\n\r\ninput: 0, 10\r\nd = 10, a = 0, b = 1\r\n\r\ninput: 0, 0\r\nd = 0, a = 1, b = 0\r\n\r\ninput: 1, 1\r\nd = 1, a = 0, b = 1\r\n\r\ninput: 3, 0\r\nd = 3, a = 1, b = 0\r\n```","title":"BigInteger Extended Euclidean Algorithm recursion error","body":"<p>Here is the working variant, produced by Github Copilot (verified by me):</p>\n<pre><code>// Returns a triple {d, a, b} such that d = a*p + b*q\nstatic BigInteger[] extendedEuclidean(BigInteger p, BigInteger q) {\n    BigInteger[] val = new BigInteger[3];\n\n    if (q.equals(BigInteger.ZERO)) {\n        val[0] = p;\n        val[1] = BigInteger.ONE;\n        val[2] = BigInteger.ZERO;\n    } else {\n        BigInteger[] val2 = extendedEuclidean(q, p.mod(q));\n        val[0] = val2[0];\n        val[1] = val2[2];\n        val[2] = val2[1].subtract(p.divide(q).multiply(val2[2]));\n    }\n\n    return val;\n}\n</code></pre>\n<p>Note: when <code>p=0</code> it returns <code>q</code> and vice versa.</p>\n<p>The difference from your code, is that it checks that <code>q != 0</code> (which is bound to become 0 at some point), instead of <code>p != 0</code>.</p>\n<p>Tests:</p>\n<pre><code>input: 9, 13\nd = 1, a = 3, b = -2\n\ninput: 2, 15\nd = 1, a = -7, b = 1\n\ninput: 9, 12\nd = 3, a = -1, b = 1\n\ninput: 0, 10\nd = 10, a = 0, b = 1\n\ninput: 0, 0\nd = 0, a = 1, b = 0\n\ninput: 1, 1\nd = 1, a = 0, b = 1\n\ninput: 3, 0\nd = 3, a = 1, b = 0\n</code></pre>\n"}],"owner":{"account_id":19631908,"reputation":39,"user_id":14370029,"display_name":""},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69802525,"answer_count":1,"score":1,"last_activity_date":1635801544,"creation_date":1635796062,"question_id":69802076,"body_markdown":"I am trying to make an extended euclidean algorithm with the BigInteger.\r\nbut I am keeping getting the error that \r\n\r\nException in thread &quot;main&quot; java.lang.ArithmeticException: BigInteger divide by zero\r\n\r\nI searched on google and it says that I might get an error because of the noninteger division\r\n\r\nHow should I solve this problem? \r\n\t\r\n\tpublic static void main(String[] args) throws Exception{\r\n\r\n\t\tBigInteger ex1 = new BigInteger(&quot;9&quot;);\r\n\t\tBigInteger ex2 = new BigInteger(&quot;13&quot;);\r\n\t\t//if(eA.gcd(eB).equals(BigInteger.ONE))\r\n\t//\t{\r\n\t\t\tBigInteger[] val = gcd(ex1,ex2);\r\n\t\t\t\r\n\t\t\tSystem.out.println(val[1]);\r\n\t\t\tSystem.out.println(val[2]);\r\n\t//\t}\r\n\t}\r\n\r\n       // Returns a triple {d, a, b} such that d = a*p + b*q\r\n\r\n\t   static BigInteger[] gcd(BigInteger p, BigInteger q) {\r\n\t\t      if (p.equals(BigInteger.ZERO))\r\n\t\t         return new BigInteger[] { p, BigInteger.valueOf(1), BigInteger.valueOf(0) };\r\n\r\n\t\t      BigInteger[] vals = gcd(q, p.remainder(q));\r\n\t\t      BigInteger d = vals[0];\r\n\t\t      BigInteger a = vals[2];\r\n\t\t      BigInteger b = vals[1].subtract((p.divide(q)).multiply(vals[2]));\r\n\t\t      return new BigInteger[] { d, a, b };\r\n\t\t   }\r\n    }\r\n","title":"BigInteger Extended Euclidean Algorithm recursion error","body":"<p>I am trying to make an extended euclidean algorithm with the BigInteger.\nbut I am keeping getting the error that</p>\n<p>Exception in thread &quot;main&quot; java.lang.ArithmeticException: BigInteger divide by zero</p>\n<p>I searched on google and it says that I might get an error because of the noninteger division</p>\n<p>How should I solve this problem?</p>\n<pre><code>public static void main(String[] args) throws Exception{\n\n    BigInteger ex1 = new BigInteger(&quot;9&quot;);\n    BigInteger ex2 = new BigInteger(&quot;13&quot;);\n    //if(eA.gcd(eB).equals(BigInteger.ONE))\n//  {\n        BigInteger[] val = gcd(ex1,ex2);\n        \n        System.out.println(val[1]);\n        System.out.println(val[2]);\n//  }\n}\n\n   // Returns a triple {d, a, b} such that d = a*p + b*q\n\n   static BigInteger[] gcd(BigInteger p, BigInteger q) {\n          if (p.equals(BigInteger.ZERO))\n             return new BigInteger[] { p, BigInteger.valueOf(1), BigInteger.valueOf(0) };\n\n          BigInteger[] vals = gcd(q, p.remainder(q));\n          BigInteger d = vals[0];\n          BigInteger a = vals[2];\n          BigInteger b = vals[1].subtract((p.divide(q)).multiply(vals[2]));\n          return new BigInteger[] { d, a, b };\n       }\n}\n</code></pre>\n"},{"tags":["java","plugins","minecraft","bukkit"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635801290,"creation_date":1635798483,"answer_id":69802467,"question_id":69802393,"body_markdown":"You can execute command as player :\r\n\r\n```java\r\nevent.getPlayer().performCommand(&quot;mycommand&quot;);\r\n```\r\nBut, it will not if the player don&#39;t have enough permission.\r\n\r\nTo run command as console, use this :\r\n```java\r\nBukkit.dispatchCommand(Bukkit.getConsoleSender(), &quot;mycommand&quot;);\r\n```\r\n\r\nAlso, you don&#39;t need the `/` at the beginning of command because it&#39;s only to say that it&#39;s a command and it can change between players.\r\n\r\nWarn: you should run those code in sync. If you are async (specially from `AsyncEvent`), you should use this code :\r\n\r\n```java\r\nBukkit.getScheduler().runTask(plugin, () -&gt; {\r\n   // my code\r\n   player.performCommand(&quot;kill&quot;);\r\n});\r\n```","title":"I have a minecraft plugin that detects swear words. How do I execute commands when the player curses?","body":"<p>You can execute command as player :</p>\n<pre class=\"lang-java prettyprint-override\"><code>event.getPlayer().performCommand(&quot;mycommand&quot;);\n</code></pre>\n<p>But, it will not if the player don't have enough permission.</p>\n<p>To run command as console, use this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bukkit.dispatchCommand(Bukkit.getConsoleSender(), &quot;mycommand&quot;);\n</code></pre>\n<p>Also, you don't need the <code>/</code> at the beginning of command because it's only to say that it's a command and it can change between players.</p>\n<p>Warn: you should run those code in sync. If you are async (specially from <code>AsyncEvent</code>), you should use this code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bukkit.getScheduler().runTask(plugin, () -&gt; {\n   // my code\n   player.performCommand(&quot;kill&quot;);\n});\n</code></pre>\n"}],"owner":{"account_id":22086906,"reputation":5,"user_id":16345614,"display_name":"BeamCRASH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69802467,"answer_count":1,"score":0,"last_activity_date":1635801290,"creation_date":1635798054,"question_id":69802393,"body_markdown":"Sa as the title says, I have a plugin that detects swear words. What it does now is that it sends a message to the player. But I also want it to execute a command that is already in the game or from another plugin. I&#39;m not sure how to do this. How is that done?\r\nHere is my current code:\r\n\r\n```\r\npackage\r\n\r\n\r\n\r\nimport com.beam.sweardetector.SwearDetector;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.AsyncPlayerChatEvent;\r\nimport org.bukkit.event.player.PlayerJoinEvent;\r\n\r\n\r\npublic class EventsClass implements Listener {\r\n    SwearDetector plugin = SwearDetector.getPlugin(SwearDetector.class);\r\n   @EventHandler\r\n    public void onPlayerJoinEvent(PlayerJoinEvent event) {\r\n       Player player = event.getPlayer();\r\n       player.sendMessage(ChatColor.GOLD + &quot;This server is running AntiSwear v1.0 by BeamCRASH&quot;);\r\n   }\r\n\r\n   @EventHandler\r\n    public void chatevent (AsyncPlayerChatEvent event) {\r\n       for(String s: event.getMessage().split(&quot; &quot;)) {\r\n           if(plugin.getConfig().getStringList(&quot;swears&quot;).contains(s)) {\r\n               event.setCancelled(true);\r\n               event.getPlayer().sendMessage(ChatColor.DARK_RED + &quot;&#167;lSwearing is not allowed on this server!&quot;);\r\n           }\r\n       }\r\n   }\r\n}\r\n```\r\nAny help will be appreciated.\r\nThank you!","title":"I have a minecraft plugin that detects swear words. How do I execute commands when the player curses?","body":"<p>Sa as the title says, I have a plugin that detects swear words. What it does now is that it sends a message to the player. But I also want it to execute a command that is already in the game or from another plugin. I'm not sure how to do this. How is that done?\nHere is my current code:</p>\n<pre><code>package\n\n\n\nimport com.beam.sweardetector.SwearDetector;\nimport org.bukkit.ChatColor;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.AsyncPlayerChatEvent;\nimport org.bukkit.event.player.PlayerJoinEvent;\n\n\npublic class EventsClass implements Listener {\n    SwearDetector plugin = SwearDetector.getPlugin(SwearDetector.class);\n   @EventHandler\n    public void onPlayerJoinEvent(PlayerJoinEvent event) {\n       Player player = event.getPlayer();\n       player.sendMessage(ChatColor.GOLD + &quot;This server is running AntiSwear v1.0 by BeamCRASH&quot;);\n   }\n\n   @EventHandler\n    public void chatevent (AsyncPlayerChatEvent event) {\n       for(String s: event.getMessage().split(&quot; &quot;)) {\n           if(plugin.getConfig().getStringList(&quot;swears&quot;).contains(s)) {\n               event.setCancelled(true);\n               event.getPlayer().sendMessage(ChatColor.DARK_RED + &quot;lSwearing is not allowed on this server!&quot;);\n           }\n       }\n   }\n}\n</code></pre>\n<p>Any help will be appreciated.\nThank you!</p>\n"},{"tags":["java","multithreading","swing","java-threads","swingx"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1635775729,"post_id":69797450,"comment_id":123376748,"body_markdown":"Did you read [Swing&#39;s Threading Policy](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/package-summary.html#threading)? In real life code you wouldnt use a new thread at all, but [Swings Timer class](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Timer.html) which will invoke your action listener in the event dispatch thread already.","body":"Did you read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/package-summary.html#threading\" rel=\"nofollow noreferrer\">Swing&#39;s Threading Policy</a>? In real life code you wouldnt use a new thread at all, but <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/Timer.html\" rel=\"nofollow noreferrer\">Swings Timer class</a> which will invoke your action listener in the event dispatch thread already."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1635775955,"post_id":69797450,"comment_id":123376849,"body_markdown":"Swing components should NOT be updated in a a separate Thread. Instead components should be updated on the `Event Dispatch Thread (EDT)`. Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information. A simple solution is to use a `SwingWorker` as discussed in the tutorial and &quot;publish&quot; the results to the text pane.","body":"Swing components should NOT be updated in a a separate Thread. Instead components should be updated on the <code>Event Dispatch Thread (EDT)</code>. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information. A simple solution is to use a <code>SwingWorker</code> as discussed in the tutorial and &quot;publish&quot; the results to the text pane."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635800938,"creation_date":1635800938,"answer_id":69802818,"question_id":69797450,"body_markdown":"All code for Java&#39;s Swing classes must be executed on the Event Dispatch Thread (EDT).  Swing provides some special classes for helping you do this.\r\n\r\nTo execute code off the EDT, use a SwingWorker class.  SwingWorker will execute a task in the background (not using the EDT) and then return a result properly synchronized that executes on the EDT.  https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingWorker.html\r\n\r\nIts application is pretty simple.  Define your own class that extends SwingWorker.\r\n\r\n    class PrimeNumbersTask extends SwingWorker&lt;List&lt;Integer&gt;, Integer&gt; {\r\n      // ...\r\n\r\nIf you need to update a component, it&#39;s good to pass in the component so that you can refer to it later.  \r\n\r\n    class PrimeNumbersTask extends SwingWorker&lt;List&lt;Integer&gt;, Integer&gt; {\r\n      private JTextArea textArea;\r\n      public PrimeNumbersTask( JTextArea textArea ) {\r\n        this.textArea = textArea;\r\n      }\r\n      // ...\r\n\r\nDo your work in the method `doInBackground()` by overriding it.  Don&#39;t touch the Swing classes in this method.  Use the `publish()` method to send smaller chunks of data to the EDT if you want to provide progressive results instead of waiting for the whole task to complete.\r\n\r\n     @Override\r\n     public List&lt;Integer&gt; doInBackground() {\r\n         while (!done &amp;&amp; ! isCancelled()) {\r\n                 // do stuff\r\n                 publish(number);\r\n                 setProgress(100 * numbers.size() / numbersToFind);\r\n             }\r\n         }\r\n         return numbers;\r\n     }\r\n\r\nFinally override the method `process()` to update your Swing classes.\r\n\r\n     @Override\r\n     protected void process(List&lt;Integer&gt; chunks) {\r\n         for (int number : chunks) {\r\n             textArea.append(number + &quot;\\n&quot;);\r\n         }\r\n     }\r\n\r\nFrom the EDT, you can call `execute()` to start your background task.\r\n\r\n     JTextArea textArea = new JTextArea();\r\n     // manipulate and set up GUI...\r\n     PrimeNumbersTask task = new PrimeNumbersTask(textArea);\r\n     task.execute();\r\n\r\nThere&#39;s a lot more docs on SwingWorker if you Google for it, that&#39;s the basics of how to use it.\r\n","title":"How do I set a JTextPane out of another Thread?","body":"<p>All code for Java's Swing classes must be executed on the Event Dispatch Thread (EDT).  Swing provides some special classes for helping you do this.</p>\n<p>To execute code off the EDT, use a SwingWorker class.  SwingWorker will execute a task in the background (not using the EDT) and then return a result properly synchronized that executes on the EDT.  <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingWorker.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/SwingWorker.html</a></p>\n<p>Its application is pretty simple.  Define your own class that extends SwingWorker.</p>\n<pre><code>class PrimeNumbersTask extends SwingWorker&lt;List&lt;Integer&gt;, Integer&gt; {\n  // ...\n</code></pre>\n<p>If you need to update a component, it's good to pass in the component so that you can refer to it later.</p>\n<pre><code>class PrimeNumbersTask extends SwingWorker&lt;List&lt;Integer&gt;, Integer&gt; {\n  private JTextArea textArea;\n  public PrimeNumbersTask( JTextArea textArea ) {\n    this.textArea = textArea;\n  }\n  // ...\n</code></pre>\n<p>Do your work in the method <code>doInBackground()</code> by overriding it.  Don't touch the Swing classes in this method.  Use the <code>publish()</code> method to send smaller chunks of data to the EDT if you want to provide progressive results instead of waiting for the whole task to complete.</p>\n<pre><code> @Override\n public List&lt;Integer&gt; doInBackground() {\n     while (!done &amp;&amp; ! isCancelled()) {\n             // do stuff\n             publish(number);\n             setProgress(100 * numbers.size() / numbersToFind);\n         }\n     }\n     return numbers;\n }\n</code></pre>\n<p>Finally override the method <code>process()</code> to update your Swing classes.</p>\n<pre><code> @Override\n protected void process(List&lt;Integer&gt; chunks) {\n     for (int number : chunks) {\n         textArea.append(number + &quot;\\n&quot;);\n     }\n }\n</code></pre>\n<p>From the EDT, you can call <code>execute()</code> to start your background task.</p>\n<pre><code> JTextArea textArea = new JTextArea();\n // manipulate and set up GUI...\n PrimeNumbersTask task = new PrimeNumbersTask(textArea);\n task.execute();\n</code></pre>\n<p>There's a lot more docs on SwingWorker if you Google for it, that's the basics of how to use it.</p>\n"}],"owner":{"account_id":23205682,"reputation":1,"user_id":17299931,"display_name":"David "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635800938,"creation_date":1635772454,"question_id":69797450,"body_markdown":"I am learning about multithreading right now.\r\n\r\nI have a &quot;main&quot; class in which I build a JFrame with a Textfield and a Start and a Stop Button in it.\r\n\r\nI also have another class/Thread from which I want to print the current time into my Textfield when I click the Start Button of my Frame. Everything works but the text doesn&#39;t change in my Textfield as I start the Thread even though Eclipse says my code is alright.\r\n\r\nWhat am I doing wrong?\r\n\r\nClass 1:\r\n```\r\npublic class Uhr extends JFrame {\r\n\r\n\tprivate JPanel contentPane;\r\n\tpublic JTextPane tpZeit;\r\n\tThread t;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tUhr frame = new Uhr();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the frame.\r\n\t */\r\n\tpublic Uhr() {\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 450, 300);\r\n\t\tcontentPane = new JPanel();\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\tsetContentPane(contentPane);\r\n\t\tcontentPane.setLayout(null);\r\n\r\n\t\ttpZeit = new JTextPane();\r\n\t\ttpZeit.setText(&quot;test&quot;);\r\n\t\ttpZeit.setBounds(43, 50, 212, 43);\r\n\t\tcontentPane.add(tpZeit);\r\n\r\n\t\tJButton btnstart = new JButton(&quot;GO&quot;);\r\n\t\tbtnstart.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\ttpZeit.setText(&quot;started&quot;);\r\n\t\t\t\tif (t == null) {\r\n\t\t\t\t\t t = new Thread(new Uhrsteuerung());\r\n\t\t\t\t}\r\n\t\t\t\tif(!t.isAlive()) {\r\n\t\t\t\t\t t = new Thread(new Uhrsteuerung());\r\n\t\t\t\t\t t.start();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\t\t});\r\n\t\tbtnstart.setBounds(10, 227, 89, 23);\r\n\t\tcontentPane.add(btnstart);\r\n\r\n\t\tJButton btnstop = new JButton(&quot;Stop&quot;);\r\n\t\tbtnstop.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\r\n\t\t\t\tt.interrupt();\r\n\t\t\t}\r\n\t\t});\r\n\t\tbtnstop.setBounds(248, 227, 89, 23);\r\n\t\tcontentPane.add(btnstop);\r\n\t}\r\n}\r\n```\r\n\r\nClass with additional Thread:\r\n\r\n```\r\npublic class Uhrsteuerung extends Uhr implements Runnable {\r\n\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n\tString time;\r\n\tboolean x ;\r\n\r\n\t@Override\r\n\tpublic synchronized void run() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tx = true;\r\n\t\twhile (x) {\r\n\t\t\ttry {\r\n\t\t\t\ttime = sdf.format(System.currentTimeMillis());\r\n\t\t\t\tSystem.out.println(time);\r\n\t\t\t\ttpZeit.setText(time);\r\n\t\t\t\trepaint();\r\n\t\t\t\tThread.sleep(1000);\r\n\r\n\t\t\t} catch (InterruptedException ex) {\r\n\t\t\t\tx = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How do I set a JTextPane out of another Thread?","body":"<p>I am learning about multithreading right now.</p>\n<p>I have a &quot;main&quot; class in which I build a JFrame with a Textfield and a Start and a Stop Button in it.</p>\n<p>I also have another class/Thread from which I want to print the current time into my Textfield when I click the Start Button of my Frame. Everything works but the text doesn't change in my Textfield as I start the Thread even though Eclipse says my code is alright.</p>\n<p>What am I doing wrong?</p>\n<p>Class 1:</p>\n<pre><code>public class Uhr extends JFrame {\n\n    private JPanel contentPane;\n    public JTextPane tpZeit;\n    Thread t;\n    \n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Uhr frame = new Uhr();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public Uhr() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n        contentPane = new JPanel();\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        setContentPane(contentPane);\n        contentPane.setLayout(null);\n\n        tpZeit = new JTextPane();\n        tpZeit.setText(&quot;test&quot;);\n        tpZeit.setBounds(43, 50, 212, 43);\n        contentPane.add(tpZeit);\n\n        JButton btnstart = new JButton(&quot;GO&quot;);\n        btnstart.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n                tpZeit.setText(&quot;started&quot;);\n                if (t == null) {\n                     t = new Thread(new Uhrsteuerung());\n                }\n                if(!t.isAlive()) {\n                     t = new Thread(new Uhrsteuerung());\n                     t.start();\n                }\n\n                }\n        });\n        btnstart.setBounds(10, 227, 89, 23);\n        contentPane.add(btnstart);\n\n        JButton btnstop = new JButton(&quot;Stop&quot;);\n        btnstop.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                \n                t.interrupt();\n            }\n        });\n        btnstop.setBounds(248, 227, 89, 23);\n        contentPane.add(btnstop);\n    }\n}\n</code></pre>\n<p>Class with additional Thread:</p>\n<pre><code>public class Uhrsteuerung extends Uhr implements Runnable {\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n    String time;\n    boolean x ;\n\n    @Override\n    public synchronized void run() {\n        // TODO Auto-generated method stub\n        x = true;\n        while (x) {\n            try {\n                time = sdf.format(System.currentTimeMillis());\n                System.out.println(time);\n                tpZeit.setText(time);\n                repaint();\n                Thread.sleep(1000);\n\n            } catch (InterruptedException ex) {\n                x = false;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","qr-code","digital-signature","base45"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1634669005,"post_id":69635855,"comment_id":123086135,"body_markdown":"maybe https://ec.europa.eu/health/sites/default/files/ehealth/docs/covid-certificate_json_specification_en.pdf and https://ec.europa.eu/health/sites/health/files/ehealth/docs/digital-green-certificates_v5_en.pdf could help you (see `Trust framework and detailed technical specifications` under https://ec.europa.eu/health/ehealth/covid-19_en)","body":"maybe <a href=\"https://ec.europa.eu/health/sites/default/files/ehealth/docs/covid-certificate_json_specification_en.pdf\" rel=\"nofollow noreferrer\">ec.europa.eu/health/sites/default/files/ehealth/docs/&hellip;</a> and <a href=\"https://ec.europa.eu/health/sites/health/files/ehealth/docs/digital-green-certificates_v5_en.pdf\" rel=\"nofollow noreferrer\">ec.europa.eu/health/sites/health/files/ehealth/docs/&hellip;</a> could help you (see <code>Trust framework and detailed technical specifications</code> under <a href=\"https://ec.europa.eu/health/ehealth/covid-19_en\" rel=\"nofollow noreferrer\">ec.europa.eu/health/ehealth/covid-19_en</a>)"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1634669376,"post_id":69635855,"comment_id":123086286,"body_markdown":"If you prefer source code, you might want to look at [these reference implementations](https://github.com/eu-digital-green-certificates).","body":"If you prefer source code, you might want to look at <a href=\"https://github.com/eu-digital-green-certificates\" rel=\"nofollow noreferrer\">these reference implementations</a>."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":2,"creation_date":1634671374,"post_id":69635855,"comment_id":123086990,"body_markdown":"especially https://github.com/eu-digital-green-certificates/dgca-wallet-app-android/blob/main/app/src/main/java/dgca/wallet/app/android/certificate/DefaultGreenCertificateFetcher.kt","body":"especially <a href=\"https://github.com/eu-digital-green-certificates/dgca-wallet-app-android/blob/main/app/src/main/java/dgca/wallet/app/android/certificate/DefaultGreenCertificateFetcher.kt\" rel=\"nofollow noreferrer\">github.com/eu-digital-green-certificates/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635800920,"creation_date":1635800920,"answer_id":69802813,"question_id":69635855,"body_markdown":"Thanks to **Gaetano Piazzolla** who recently wrote an article on how to verify Green-Pass QR Code Signature. \r\nHere is the article link: \r\n[Green-Pass QR Code Signature Verification][1]\r\n\r\nHe also wrote another article on how to Decode the EU Green-Pass QRCode. \r\nHere is the link of the article: [Decode the EU Green-Pass QRCode][2] \r\n\r\n\r\n  [1]: https://gae-piaz.medium.com/green-pass-qr-code-signature-verification-java-f742079cc88\r\n  [2]: https://gae-piaz.medium.com/decode-the-eu-green-pass-qrcode-using-java-b5654e55b0fc\r\n\r\nNote: you don&#39;t need to upvote, I&#39;m just adding this as an answer so that everybody can benefit from these great articles. ","title":"How to verify EU COVID Vaccine QRCode Signature in Java?","body":"<p>Thanks to <strong>Gaetano Piazzolla</strong> who recently wrote an article on how to verify Green-Pass QR Code Signature.\nHere is the article link:\n<a href=\"https://gae-piaz.medium.com/green-pass-qr-code-signature-verification-java-f742079cc88\" rel=\"nofollow noreferrer\">Green-Pass QR Code Signature Verification</a></p>\n<p>He also wrote another article on how to Decode the EU Green-Pass QRCode.\nHere is the link of the article: <a href=\"https://gae-piaz.medium.com/decode-the-eu-green-pass-qrcode-using-java-b5654e55b0fc\" rel=\"nofollow noreferrer\">Decode the EU Green-Pass QRCode</a></p>\n<p>Note: you don't need to upvote, I'm just adding this as an answer so that everybody can benefit from these great articles.</p>\n"}],"owner":{"account_id":12431448,"reputation":956,"user_id":9053712,"display_name":"MA1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69802813,"answer_count":1,"score":3,"last_activity_date":1635800920,"creation_date":1634667297,"question_id":69635855,"body_markdown":"Is there anyway to verify the signature of the EU Covid Vaccine QR Code and make sure the QR Code was issued by an authorized entity?\r\n\r\n\r\n","title":"How to verify EU COVID Vaccine QRCode Signature in Java?","body":"<p>Is there anyway to verify the signature of the EU Covid Vaccine QR Code and make sure the QR Code was issued by an authorized entity?</p>\n"},{"tags":["java","android","kotlin","gps","location"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1635397700,"post_id":69748480,"comment_id":123288037,"body_markdown":"Did you actually request updates anywhere?  I don&#39;t see it in your code.  All you got was a representation of the sensor.","body":"Did you actually request updates anywhere?  I don&#39;t see it in your code.  All you got was a representation of the sensor."},{"owner":{"account_id":16333643,"reputation":811,"user_id":12423932,"display_name":"Enrico Cortinovis"},"score":0,"creation_date":1635399281,"post_id":69748480,"comment_id":123288325,"body_markdown":"@GabeSechan Shouldnt it be enough to implement SensorEventListener and to override the onSensorChanged method? It was working in a normal activity (when the screen was on, etc.).","body":"@GabeSechan Shouldnt it be enough to implement SensorEventListener and to override the onSensorChanged method? It was working in a normal activity (when the screen was on, etc.)."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1635427952,"post_id":69748480,"comment_id":123299834,"body_markdown":"No, just defining functions isn&#39;t enough.  You need to ask for the OS to start sending your data.  The call is sensorManager.registerListener(listener, sensor, frequency).  Also remember to unregister when done.","body":"No, just defining functions isn&#39;t enough.  You need to ask for the OS to start sending your data.  The call is sensorManager.registerListener(listener, sensor, frequency).  Also remember to unregister when done."}],"answers":[{"tags":[],"owner":{"account_id":9069128,"reputation":1018,"user_id":6752997,"display_name":"Jakub Licznerski"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1635799145,"creation_date":1635799145,"answer_id":69802549,"question_id":69748480,"body_markdown":"Try ensuring that you are creating an actual foreground service (with a notification and a notification channel). You also requested an appropriate permission `&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;` and  registered a listener for your sensor like so: \r\n```kotlin\r\nmSensorManager.registerListener(\r\n    this, // if called in your ForegroundService\r\n    mAccelerometer,\r\n    SensorManager.SENSOR_DELAY_NORMAL\r\n)\r\n```\r\nand unregistered it:\r\n```kotlin\r\noverride fun onDestroy() {\r\n    mSensorManager.unregisterListener(this)\r\n}\r\n```\r\nfinally, you are starting the service from an activity or a receiver of some sort with `startService` and call `startForeground(id, notification)` in service&#39;s `onStartCommand`.\r\n","title":"Use onSensorChanged() updates inside a foreground service","body":"<p>Try ensuring that you are creating an actual foreground service (with a notification and a notification channel). You also requested an appropriate permission <code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;</code> and  registered a listener for your sensor like so:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>mSensorManager.registerListener(\n    this, // if called in your ForegroundService\n    mAccelerometer,\n    SensorManager.SENSOR_DELAY_NORMAL\n)\n</code></pre>\n<p>and unregistered it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun onDestroy() {\n    mSensorManager.unregisterListener(this)\n}\n</code></pre>\n<p>finally, you are starting the service from an activity or a receiver of some sort with <code>startService</code> and call <code>startForeground(id, notification)</code> in service's <code>onStartCommand</code>.</p>\n"}],"owner":{"account_id":16333643,"reputation":811,"user_id":12423932,"display_name":"Enrico Cortinovis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1635800434,"creation_date":1635396876,"question_id":69748480,"body_markdown":"I&#39;m trying to create a foreground service that can keep track of the linear acceleration of the phone, using the Accelerometer sensor. I have a `ForegroundService` class that implements `Service()` and `SensorEventListener`. I have two global variables that I initialize like this:\r\n\r\n```kotlin\r\nmSensorManager = getSystemService(SENSOR_SERVICE) as SensorManager\r\nmAccelerometer = mSensorManager!!.getDefaultSensor(Sensor.TYPE_LINEAR_ACCELERATION)\r\n```\r\n\r\nI then register the listener, then override `onSensorChanged()`, where I should log some values, but nothing is displayed (which means the function does not run at all). Why could this be? Thank you.\r\n\r\n**Edit**: Having done more testing since I&#39;ve posted the answer, I&#39;ve noticed that the problem is that Android does not update the values on the Sensors (at least the Linear Acceleration one) when the screen is off. The service clearly keeps running, since other tasks (like the location) do get updates, but the Linear Acceleration sensor stops. Once the screen is turned on again it starts to get updates like it should. How to fix this?","title":"Use onSensorChanged() updates inside a foreground service","body":"<p>I'm trying to create a foreground service that can keep track of the linear acceleration of the phone, using the Accelerometer sensor. I have a <code>ForegroundService</code> class that implements <code>Service()</code> and <code>SensorEventListener</code>. I have two global variables that I initialize like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>mSensorManager = getSystemService(SENSOR_SERVICE) as SensorManager\nmAccelerometer = mSensorManager!!.getDefaultSensor(Sensor.TYPE_LINEAR_ACCELERATION)\n</code></pre>\n<p>I then register the listener, then override <code>onSensorChanged()</code>, where I should log some values, but nothing is displayed (which means the function does not run at all). Why could this be? Thank you.</p>\n<p><strong>Edit</strong>: Having done more testing since I've posted the answer, I've noticed that the problem is that Android does not update the values on the Sensors (at least the Linear Acceleration one) when the screen is off. The service clearly keeps running, since other tasks (like the location) do get updates, but the Linear Acceleration sensor stops. Once the screen is turned on again it starts to get updates like it should. How to fix this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8102,"page":1890,"page_size":100}
