{"items":[{"tags":["java","string"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1452240600,"post_id":15340207,"comment_id":57089613,"body_markdown":"Possible duplicate of [After a string literal, all the + will be treated as string concatenation operator why?](http://stackoverflow.com/questions/34589340/after-a-string-literal-all-the-will-be-treated-as-string-concatenation-operat)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/34589340/after-a-string-literal-all-the-will-be-treated-as-string-concatenation-operat\">After a string literal, all the + will be treated as string concatenation operator why?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2314635,"reputation":2022,"user_id":2031946,"display_name":"uba"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1678609399,"creation_date":1363009988,"answer_id":15340361,"question_id":15340207,"body_markdown":"`+` can represent addition or concatenation. \r\n\r\n- If both operands are numeric it is addition. \r\n- If at least one operand is String it is concatenation.\r\n\r\nAlso addition and concatenation is left associative, so `a+b+c` is same as `(a+b)+c` (the `b` is associated with left `+`). \r\n\r\nTaking the first case\r\n\r\n    20+30+&quot;abc&quot;+(10+10)  &lt;--- here both operands are integers with the + operator, which is addition\r\n    -----       -------\r\n      50 +&quot;abc&quot;+  20     &lt;--- + operator on integer and string results in concatenation\r\n      ---------\r\n      &quot;50abc&quot;  +  20     &lt;--- + operator on integer and string results in concatenation\r\n        ------------\r\n          &quot;50abc20&quot;     \r\n\r\nIn the second case:\r\n\r\n    20+30+&quot;abc&quot;+10+10   &lt;--- here both operands are integers with the + operator, which is addition\r\n    -----\r\n      50 +&quot;abc&quot;+10+10   &lt;--- + operator on integer and string results in concatenation\r\n      ---------\r\n       &quot;50abc&quot;  +10+10  &lt;--- + operator on integer and string results in concatenation\r\n        ----------\r\n        &quot;50abc10&quot;  +10  &lt;--- + operator on integer and string results in concatenation\r\n         ------------\r\n          &quot;50abc1010&quot;   ","title":"Java String Concatenation with + operator","body":"<p><code>+</code> can represent addition or concatenation.</p>\n<ul>\n<li>If both operands are numeric it is addition.</li>\n<li>If at least one operand is String it is concatenation.</li>\n</ul>\n<p>Also addition and concatenation is left associative, so <code>a+b+c</code> is same as <code>(a+b)+c</code> (the <code>b</code> is associated with left <code>+</code>).</p>\n<p>Taking the first case</p>\n<pre><code>20+30+&quot;abc&quot;+(10+10)  &lt;--- here both operands are integers with the + operator, which is addition\n-----       -------\n  50 +&quot;abc&quot;+  20     &lt;--- + operator on integer and string results in concatenation\n  ---------\n  &quot;50abc&quot;  +  20     &lt;--- + operator on integer and string results in concatenation\n    ------------\n      &quot;50abc20&quot;     \n</code></pre>\n<p>In the second case:</p>\n<pre><code>20+30+&quot;abc&quot;+10+10   &lt;--- here both operands are integers with the + operator, which is addition\n-----\n  50 +&quot;abc&quot;+10+10   &lt;--- + operator on integer and string results in concatenation\n  ---------\n   &quot;50abc&quot;  +10+10  &lt;--- + operator on integer and string results in concatenation\n    ----------\n    &quot;50abc10&quot;  +10  &lt;--- + operator on integer and string results in concatenation\n     ------------\n      &quot;50abc1010&quot;   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1676171,"reputation":1696,"user_id":1541697,"display_name":"MFarmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363010352,"creation_date":1363010352,"answer_id":15340467,"question_id":15340207,"body_markdown":"Adding to the concept of associativity, you could ensure that two integers are never added together by using parentheses to always pair a string with an integer so the desired concatenation operation will take place rather than an addition.\r\n\r\n    String s4 = ((20 + (30 + &quot;abc&quot;)) + 10)+10;\r\n\r\nwould produce:\r\n\r\n    2030abc1010","title":"Java String Concatenation with + operator","body":"<p>Adding to the concept of associativity, you could ensure that two integers are never added together by using parentheses to always pair a string with an integer so the desired concatenation operation will take place rather than an addition.</p>\n\n<pre><code>String s4 = ((20 + (30 + \"abc\")) + 10)+10;\n</code></pre>\n\n<p>would produce:</p>\n\n<pre><code>2030abc1010\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1634144,"reputation":45,"user_id":1508093,"accept_rate":50,"display_name":"Jonathan Schober Jr."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363011888,"creation_date":1363010525,"answer_id":15340541,"question_id":15340207,"body_markdown":"You will need to start with an empty string.\r\n\r\nSo, this might work:\r\n\r\n    String s2 = &quot;&quot;+20+30+&quot;abc&quot;+10+10; \r\n\r\nOr this:\r\n\r\n    String s2 =&quot;&quot;;\r\n    s2 = 20+30+&quot;abc&quot;+10+10;\r\n    System.out.println(s2);","title":"Java String Concatenation with + operator","body":"<p>You will need to start with an empty string.</p>\n\n<p>So, this might work:</p>\n\n<pre><code>String s2 = \"\"+20+30+\"abc\"+10+10; \n</code></pre>\n\n<p>Or this:</p>\n\n<pre><code>String s2 =\"\";\ns2 = 20+30+\"abc\"+10+10;\nSystem.out.println(s2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1169780,"reputation":408,"user_id":1147207,"display_name":"Mark Yao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363080035,"creation_date":1363080035,"answer_id":15357343,"question_id":15340207,"body_markdown":"You need to know some rules:  \r\n1, Java operator priority,most of the left-to-right  \r\n2, Brackets priority than **+** sign priority.  \r\n3, The result is sum,if both sides of  **+** sign are integer,  else is concatenation.","title":"Java String Concatenation with + operator","body":"<p>You need to know some rules:<br>\n1, Java operator priority,most of the left-to-right<br>\n2, Brackets priority than <strong>+</strong> sign priority.<br>\n3, The result is sum,if both sides of  <strong>+</strong> sign are integer,  else is concatenation.</p>\n"},{"tags":[],"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363080873,"creation_date":1363080873,"answer_id":15357620,"question_id":15340207,"body_markdown":"Also, to add to this topic, as the wrong part of the answer of Jonathan Schober tipped me off on a thing to keep in mind:\r\n\r\n**`a+=something` is not equal to `a=a+&lt;something&gt;`** : the `+=` evaluates the right side first, and only then adds it to the left side. So it has to be rewritten, it is equivalent to:\r\n\r\n    a=a+(something); //notice the parentheses!\r\n\r\nShowing the difference\r\n\r\n    public class StringTest {\r\n      public static void main(String... args){\r\n        String a = &quot;&quot;;\r\n        a+=10+10+10;\r\n    \r\n        String b = &quot;&quot;+10+10+10;\r\n    \r\n        System.out.println(&quot;First string, with += : &quot; + a);\r\n        System.out.println(&quot;Second string, with simple =\\&quot;\\&quot; &quot; + b);\r\n    \r\n      }\r\n    }\r\n  ","title":"Java String Concatenation with + operator","body":"<p>Also, to add to this topic, as the wrong part of the answer of Jonathan Schober tipped me off on a thing to keep in mind:</p>\n\n<p><strong><code>a+=something</code> is not equal to <code>a=a+&lt;something&gt;</code></strong> : the <code>+=</code> evaluates the right side first, and only then adds it to the left side. So it has to be rewritten, it is equivalent to:</p>\n\n<pre><code>a=a+(something); //notice the parentheses!\n</code></pre>\n\n<p>Showing the difference</p>\n\n<pre><code>public class StringTest {\n  public static void main(String... args){\n    String a = \"\";\n    a+=10+10+10;\n\n    String b = \"\"+10+10+10;\n\n    System.out.println(\"First string, with += : \" + a);\n    System.out.println(\"Second string, with simple =\\\"\\\" \" + b);\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2183122,"reputation":95,"user_id":1932154,"display_name":"shekhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3359,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":15340361,"answer_count":5,"score":8,"last_activity_date":1678609399,"creation_date":1363009564,"question_id":15340207,"body_markdown":"I got confused with the String concatenation.\r\n                         \r\n                \r\n    String s1 = 20 + 30 + &quot;abc&quot; + (10 + 10);\r\n    String s2 = 20 + 30 + &quot;abc&quot; + 10 + 10;\r\n    System.out.println(s1);\r\n    System.out.println(s2);\r\n\r\nThe output is:\r\n\r\n&gt; 50abc20  \r\n50abc1010\r\n\r\nI wonder why *20 + 30* are added together in both cases, but *10 + 10* require parenthese in order to be added (s1) instead of concatenated to the String (s2). Please explain how the String operator `+` works here.\r\n     ","title":"Java String Concatenation with + operator","body":"<p>I got confused with the String concatenation.</p>\n\n<pre><code>String s1 = 20 + 30 + \"abc\" + (10 + 10);\nString s2 = 20 + 30 + \"abc\" + 10 + 10;\nSystem.out.println(s1);\nSystem.out.println(s2);\n</code></pre>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>50abc20<br>\n  50abc1010</p>\n</blockquote>\n\n<p>I wonder why <em>20 + 30</em> are added together in both cases, but <em>10 + 10</em> require parenthese in order to be added (s1) instead of concatenated to the String (s2). Please explain how the String operator <code>+</code> works here.</p>\n"},{"tags":["java","amazon-web-services","jvm","cpu","cpu-usage"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1443335289,"creation_date":1443334869,"answer_id":32805172,"question_id":32805076,"body_markdown":"&gt; Based on their specifications, can I [estimate] the runtime of B after knowing the runtime on A?\r\n\r\nThe answer is No.  Or at least, not with any accuracy or confidence.  The performance of an application often depends on complex interactions between the algorithm&#39;s memory access patterns, memory caches and virtual memory hardware.  These are impossible to predict if you treat the application as a black box, and they can be difficult to model even if you understand what it is doing.  GC can also have the same kind of unpredictable behavior.\r\n\r\n&gt; Can I [estimate] the runtime of machine with i cores after knowing the result on the same machine with j cores?\r\n\r\nThe answer is No.  Application performance as you increase the number of cores is highly dependent on the way that you have designed and implemented your application.  In the best case you could linear speedup ... up to the limit of the platform&#39;s memory system.  In the worst case, you could get no speedup at all.\r\n\r\n--------------------\r\n\r\nThe only practical solution is to make a guesstimate ... then try out the various alternative platforms and see how your application performs on them.","title":"JVM performance based on CPU type","body":"<blockquote>\n  <p>Based on their specifications, can I [estimate] the runtime of B after knowing the runtime on A?</p>\n</blockquote>\n\n<p>The answer is No.  Or at least, not with any accuracy or confidence.  The performance of an application often depends on complex interactions between the algorithm's memory access patterns, memory caches and virtual memory hardware.  These are impossible to predict if you treat the application as a black box, and they can be difficult to model even if you understand what it is doing.  GC can also have the same kind of unpredictable behavior.</p>\n\n<blockquote>\n  <p>Can I [estimate] the runtime of machine with i cores after knowing the result on the same machine with j cores?</p>\n</blockquote>\n\n<p>The answer is No.  Application performance as you increase the number of cores is highly dependent on the way that you have designed and implemented your application.  In the best case you could linear speedup ... up to the limit of the platform's memory system.  In the worst case, you could get no speedup at all.</p>\n\n<hr>\n\n<p>The only practical solution is to make a guesstimate ... then try out the various alternative platforms and see how your application performs on them.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443432872,"creation_date":1443432872,"answer_id":32819775,"question_id":32805076,"body_markdown":"&gt; I don&#39;t know if there is a straightforward answer to this. I have the specifications of different CPU types. For example, two instances,A and B. I want to run some simple java console application in A and B. Based on their specifications, can I assume the runtime of B after knowing the runtime on A?\r\n\r\nYou can guesitmate it by looking at the relative performance using a benchmark like PassMark.  However, you can see occasions where a system which is supposed to be faster is in fact slower.  This is only a very rough estimation.\r\n\r\n&gt; Second questions is about the core numbers. So, can I assume the runtime of machine with i cores after knowing the result on the same machine with j cores?\r\n\r\nIt is hihgly unlikely that say you have double the number of cores, you will get double the amount of performance.\r\n\r\n- Your application may not scale by number of cores as your bottleneck might be another resources e.g. the network, or disk, or your program has too much sequential coding.\r\n- When you have more cores, the speed of those cores tends to be slower on a sustained basis because the sockets can only produce so much heat.\r\n\r\n&gt; Is there some approximations on this? The instances I am talking are Amazon EMR instances.\r\n\r\nIf you are talking about virtual machines instead of real machines, it is even harder to estimate.  You might find that two virtual machines with the same spec don&#39;t perform the same. e.g. since your application might be running on different machines at different times, you may find it&#39;s performance varies even though the machine should have much the same spec.\r\n","title":"JVM performance based on CPU type","body":"<blockquote>\n  <p>I don't know if there is a straightforward answer to this. I have the specifications of different CPU types. For example, two instances,A and B. I want to run some simple java console application in A and B. Based on their specifications, can I assume the runtime of B after knowing the runtime on A?</p>\n</blockquote>\n\n<p>You can guesitmate it by looking at the relative performance using a benchmark like PassMark.  However, you can see occasions where a system which is supposed to be faster is in fact slower.  This is only a very rough estimation.</p>\n\n<blockquote>\n  <p>Second questions is about the core numbers. So, can I assume the runtime of machine with i cores after knowing the result on the same machine with j cores?</p>\n</blockquote>\n\n<p>It is hihgly unlikely that say you have double the number of cores, you will get double the amount of performance.</p>\n\n<ul>\n<li>Your application may not scale by number of cores as your bottleneck might be another resources e.g. the network, or disk, or your program has too much sequential coding.</li>\n<li>When you have more cores, the speed of those cores tends to be slower on a sustained basis because the sockets can only produce so much heat.</li>\n</ul>\n\n<blockquote>\n  <p>Is there some approximations on this? The instances I am talking are Amazon EMR instances.</p>\n</blockquote>\n\n<p>If you are talking about virtual machines instead of real machines, it is even harder to estimate.  You might find that two virtual machines with the same spec don't perform the same. e.g. since your application might be running on different machines at different times, you may find it's performance varies even though the machine should have much the same spec.</p>\n"}],"owner":{"account_id":968621,"reputation":1295,"user_id":991607,"accept_rate":74,"display_name":"Jeyhun Karimov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32805172,"answer_count":2,"score":0,"last_activity_date":1678609102,"creation_date":1443333692,"question_id":32805076,"body_markdown":"I don&#39;t know if there is a straightforward answer to this. I have the specifications of different CPU types. For example, two instances,A and B. \r\nI want to run some simple java console application in A and B. Based on their specifications, can I assume the runtime of B after knowing the runtime on A?\r\n\r\nSecond questions is about the core numbers. So, can I assume the runtime of machine with i cores after knowing the result on the same machine with j cores?\r\n\r\nIs there some approximations on this? The instances I am talking are Amazon EMR instances.\r\n\r\nThank you.","title":"JVM performance based on CPU type","body":"<p>I don't know if there is a straightforward answer to this. I have the specifications of different CPU types. For example, two instances,A and B. \nI want to run some simple java console application in A and B. Based on their specifications, can I assume the runtime of B after knowing the runtime on A?</p>\n\n<p>Second questions is about the core numbers. So, can I assume the runtime of machine with i cores after knowing the result on the same machine with j cores?</p>\n\n<p>Is there some approximations on this? The instances I am talking are Amazon EMR instances.</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","amazon-web-services","amazon-emr"],"comments":[{"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"score":0,"creation_date":1393956841,"post_id":22178415,"comment_id":33665032,"body_markdown":"listClusters() is the replacement you seek","body":"listClusters() is the replacement you seek"},{"owner":{"account_id":286219,"reputation":1098,"user_id":1180153,"accept_rate":78,"display_name":"mcsilvio"},"score":0,"creation_date":1393957244,"post_id":22178415,"comment_id":33665269,"body_markdown":"@JudgeMental Thank you. I&#39;m going to experiment with that now.","body":"@JudgeMental Thank you. I&#39;m going to experiment with that now."},{"owner":{"account_id":286219,"reputation":1098,"user_id":1180153,"accept_rate":78,"display_name":"mcsilvio"},"score":0,"creation_date":1393958163,"post_id":22178415,"comment_id":33665880,"body_markdown":"@JudgeMental This appears to not be so helpful, sadly. :( listClusters() allows me to get the cluster ID (in an inelegant way), but I don&#39;t see how I can terminate the cluster using a cluster&#39;s ID (crazy I know). Any ideas how to terminate the cluster using this info?","body":"@JudgeMental This appears to not be so helpful, sadly. :( listClusters() allows me to get the cluster ID (in an inelegant way), but I don&#39;t see how I can terminate the cluster using a cluster&#39;s ID (crazy I know). Any ideas how to terminate the cluster using this info?"},{"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"score":0,"creation_date":1393959284,"post_id":22178415,"comment_id":33666528,"body_markdown":"How do you want to find the cluster, if not by ID?  I think you are misunderstanding how the client works.  It (the client) is not stateful; the particular instance of the client that you used to start a cluster does not maintain any association with that cluster.","body":"How do you want to find the cluster, if not by ID?  I think you are misunderstanding how the client works.  It (the client) is not stateful; the particular instance of the client that you used to start a cluster does not maintain any association with that cluster."},{"owner":{"account_id":286219,"reputation":1098,"user_id":1180153,"accept_rate":78,"display_name":"mcsilvio"},"score":0,"creation_date":1394046360,"post_id":22178415,"comment_id":33713850,"body_markdown":"Because even if I had the cluster, I see no method for terminating a cluster, only a JobFlow. Please correct me if I&#39;m wrong.","body":"Because even if I had the cluster, I see no method for terminating a cluster, only a JobFlow. Please correct me if I&#39;m wrong."},{"owner":{"account_id":286219,"reputation":1098,"user_id":1180153,"accept_rate":78,"display_name":"mcsilvio"},"score":0,"creation_date":1394047439,"post_id":22178415,"comment_id":33714501,"body_markdown":"Ah! Thank you for that. Will keep experimenting. With that in mind, I should mark the answer given as correct, as it is.","body":"Ah! Thank you for that. Will keep experimenting. With that in mind, I should mark the answer given as correct, as it is."}],"answers":[{"tags":[],"owner":{"account_id":308584,"reputation":5209,"user_id":620554,"accept_rate":40,"display_name":"Judge Mental"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1393959401,"creation_date":1393959401,"answer_id":22180511,"question_id":22178415,"body_markdown":"    emrClient.terminateJobFlows(\r\n        new TerminateJobFlowsRequest().withJobFlowIds( strId )\r\n    );","title":"How do I terminate a specific JobFlow in Amazon EMR?","body":"<pre><code>emrClient.terminateJobFlows(\n    new TerminateJobFlowsRequest().withJobFlowIds( strId )\n);\n</code></pre>\n"}],"owner":{"account_id":286219,"reputation":1098,"user_id":1180153,"accept_rate":78,"display_name":"mcsilvio"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22180511,"answer_count":1,"score":1,"last_activity_date":1678609090,"creation_date":1393952960,"question_id":22178415,"body_markdown":"I have one job flow, and it&#39;s &quot;KeepAlive&quot; value is set to true. When I run it, it naturally starts an EMR cluster. \r\n\r\nMy goal is to terminate this cluster entirely. I assume this is done using a TerminateJobFlowRequest, which requires some JobFlowIDs to work.\r\n\r\nThis is problematic for two reasons:\r\n\r\n1) [These](http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/elasticmapreduce/AmazonElasticMapReduce.html) docs say the &quot;describeJobFlows&quot; method is deprecated and suggests no alternative.\r\n\r\n2) Describing all job flows gives me all the recent job flows on my account. I&#39;d prefer to receive only the info for the job flows attached to the current AmazonEMRClient.\r\n\r\nDoes anyone have any ideas on how to find my specific JobFlow and terminate it? Please and thank you.","title":"How do I terminate a specific JobFlow in Amazon EMR?","body":"<p>I have one job flow, and it's \"KeepAlive\" value is set to true. When I run it, it naturally starts an EMR cluster. </p>\n\n<p>My goal is to terminate this cluster entirely. I assume this is done using a TerminateJobFlowRequest, which requires some JobFlowIDs to work.</p>\n\n<p>This is problematic for two reasons:</p>\n\n<p>1) <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/elasticmapreduce/AmazonElasticMapReduce.html\" rel=\"nofollow\">These</a> docs say the \"describeJobFlows\" method is deprecated and suggests no alternative.</p>\n\n<p>2) Describing all job flows gives me all the recent job flows on my account. I'd prefer to receive only the info for the job flows attached to the current AmazonEMRClient.</p>\n\n<p>Does anyone have any ideas on how to find my specific JobFlow and terminate it? Please and thank you.</p>\n"},{"tags":["java","amazon-web-services","amazon-emr"],"answers":[{"tags":[],"owner":{"account_id":1562593,"reputation":1758,"user_id":1452132,"display_name":"user1452132"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419099012,"creation_date":1419099012,"answer_id":27582946,"question_id":27515732,"body_markdown":"You can look at &#39;controller&#39; log file to see where the jar file is copied to - and the hadoop streaming jar command run.  \r\n\r\nThe custom jar gets copied to some folder under /mnt/var/hadoop (specific to the step).  The only way this jar file would conflict with another jar is - if the it is under hadoop/lib - and part of classpath of &#39;hadoop jar&#39;.  \r\n\r\nOne solution is to use script-runner step to run the jar file instead of &#39;custom jar&#39;. Here you may override classpath - set any relevant environment vars.\r\n\r\nhttp://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/emr-hadoop-script.html\r\n\r\nThis script may even run your customer jar using &#39;hadoop jar&#39; command - in essence almost equivalent to running the custom jar directly.","title":"When running a custom Jar in Amazon EMR where is my jar run from?","body":"<p>You can look at 'controller' log file to see where the jar file is copied to - and the hadoop streaming jar command run.  </p>\n\n<p>The custom jar gets copied to some folder under /mnt/var/hadoop (specific to the step).  The only way this jar file would conflict with another jar is - if the it is under hadoop/lib - and part of classpath of 'hadoop jar'.  </p>\n\n<p>One solution is to use script-runner step to run the jar file instead of 'custom jar'. Here you may override classpath - set any relevant environment vars.</p>\n\n<p><a href=\"http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/emr-hadoop-script.html\" rel=\"nofollow\">http://docs.aws.amazon.com/ElasticMapReduce/latest/DeveloperGuide/emr-hadoop-script.html</a></p>\n\n<p>This script may even run your customer jar using 'hadoop jar' command - in essence almost equivalent to running the custom jar directly.</p>\n"}],"owner":{"account_id":32552,"reputation":5819,"user_id":90416,"accept_rate":44,"display_name":"NSA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1704,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678609088,"creation_date":1418771933,"question_id":27515732,"body_markdown":"All,\r\n\r\nI am packaging my custom jar with all its dependencies, one of these conflicts with another jar on the EMR instance, so I want to add a step to set my classpath to the directory containing my custom jar, but to do that I need to know where that jar will reside on the various nodes and if there are any env vars that I can use to make these changes, if someone knows of a better way to resolve the root problem other than building against the same version of the jars on the EMR as that is not possible that would also be welcome input. \r\n\r\nThank you,\r\n","title":"When running a custom Jar in Amazon EMR where is my jar run from?","body":"<p>All,</p>\n\n<p>I am packaging my custom jar with all its dependencies, one of these conflicts with another jar on the EMR instance, so I want to add a step to set my classpath to the directory containing my custom jar, but to do that I need to know where that jar will reside on the various nodes and if there are any env vars that I can use to make these changes, if someone knows of a better way to resolve the root problem other than building against the same version of the jars on the EMR as that is not possible that would also be welcome input. </p>\n\n<p>Thank you,</p>\n"},{"tags":["java","amazon-web-services","api","web-services"],"answers":[{"tags":[],"owner":{"account_id":300633,"reputation":15049,"user_id":607874,"accept_rate":100,"display_name":"Jose Rui Santos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1301767926,"creation_date":1301767926,"answer_id":5524965,"question_id":5387759,"body_markdown":"I am afraid to be a bit late, but here we go.\r\n\r\nAfter this piece of code:\r\n\r\n    ItemLookupRequest itemLookup = new ItemLookupRequest();\r\n    itemLookup.setIdType(&quot;ASIN&quot;);\r\n    itemLookup.getItemId().add(&quot;B0036WT3EI&quot;);\r\n\r\nadd the following line:\r\n\r\n    itemLookup.setResponseGroup(new String[] { &quot;Images&quot;, &quot;ItemAttributes&quot; });\r\n\r\nYou need to say that you want the `ItemLookupRequest` request to return a response with both Images and ItemAttributes (from where you extract the ListPrice).\r\n\r\nI didn&#39;t test in Java, but should work fine.","title":"Devoloping amazon WS-client using the product API in java","body":"<p>I am afraid to be a bit late, but here we go.</p>\n\n<p>After this piece of code:</p>\n\n<pre><code>ItemLookupRequest itemLookup = new ItemLookupRequest();\nitemLookup.setIdType(\"ASIN\");\nitemLookup.getItemId().add(\"B0036WT3EI\");\n</code></pre>\n\n<p>add the following line:</p>\n\n<pre><code>itemLookup.setResponseGroup(new String[] { \"Images\", \"ItemAttributes\" });\n</code></pre>\n\n<p>You need to say that you want the <code>ItemLookupRequest</code> request to return a response with both Images and ItemAttributes (from where you extract the ListPrice).</p>\n\n<p>I didn't test in Java, but should work fine.</p>\n"}],"owner":{"account_id":340581,"reputation":21,"user_id":670681,"display_name":"user670681"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1385,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678609020,"creation_date":1300776707,"question_id":5387759,"body_markdown":"I am developing an Amazon webservice client in java. I have developed all the stubs needed as specified in their site. I could access the title and asin using ItemLookup response. I need to access the price information and image of products. Can someone help me to sort the issue.The code and its response is given below\r\n\r\n\r\n   \r\n\r\n    public class iteml {\r\n       public void itemdetails()\r\n       {\r\n        System.out.println(&quot;sample test&quot;);\r\n        AWSECommerceService service = new AWSECommerceService();\r\n        service.setHandlerResolver(new awshandlerresolver(&quot;secret key&quot;));  // important\r\n        AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n\r\n    ItemLookupRequest itemLookup = new ItemLookupRequest();\r\n    itemLookup.setIdType(&quot;ASIN&quot;);\r\n    itemLookup.getItemId().add(&quot;B0036WT3EI&quot;);\r\n\r\n    ItemLookup lookup = new ItemLookup();\r\n    lookup.setAWSAccessKeyId(&quot;APi key&quot;); // important\r\n    lookup.getRequest().add(itemLookup);\r\n\r\n    ItemLookupResponse response = port.itemLookup(lookup);\r\n\r\n    String r = response.toString();\r\n    System.out.println(&quot;response: &quot; + r);\r\n\r\n\r\n          for (Items itemList:response.getItems())\r\n\r\n            for (Item item : itemList.getItem())\r\n            {\r\n               final String asin= item.getASIN();\r\n                System.out.println(asin);\r\n                System.out.println(&quot;Title: &quot; +\r\n                item.getItemAttributes().getTitle());\r\n               // Image I=item.getSmallImage();\r\n                 // final Image I1 = I;\r\n               // String url=I1.getURL();\r\n               // System.out.println(url);\r\n                \r\n                String pr=item.getItemAttributes().getListPrice().getFormattedPrice();\r\n               // System.out.println(p);\r\n                System.out.println(pr);\r\n    }\r\n    }\r\n  \r\n\r\n    public static void main(String args[])\r\n        {\r\n          iteml l=new iteml();\r\n          l.itemdetails();\r\n        }\r\n      }\r\n\r\n  \r\n\r\n&gt; **output is** B0036WT3EI  //asin id\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; java.lang.NullPointerException Title:\r\n&gt; Samsung LN19C350 19-Inch 720p 60 Hz\r\n&gt; LCD HDTV (Black)\r\n&gt;         at plugin.iteml.itemdetails(iteml.java:65)\r\n&gt;         at plugin.iteml.main(iteml.java:73) Java\r\n&gt; Result: 1\r\n\r\n\r\n\r\n","title":"Devoloping amazon WS-client using the product API in java","body":"<p>I am developing an Amazon webservice client in java. I have developed all the stubs needed as specified in their site. I could access the title and asin using ItemLookup response. I need to access the price information and image of products. Can someone help me to sort the issue.The code and its response is given below</p>\n\n<pre><code>public class iteml {\n   public void itemdetails()\n   {\n    System.out.println(\"sample test\");\n    AWSECommerceService service = new AWSECommerceService();\n    service.setHandlerResolver(new awshandlerresolver(\"secret key\"));  // important\n    AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n\nItemLookupRequest itemLookup = new ItemLookupRequest();\nitemLookup.setIdType(\"ASIN\");\nitemLookup.getItemId().add(\"B0036WT3EI\");\n\nItemLookup lookup = new ItemLookup();\nlookup.setAWSAccessKeyId(\"APi key\"); // important\nlookup.getRequest().add(itemLookup);\n\nItemLookupResponse response = port.itemLookup(lookup);\n\nString r = response.toString();\nSystem.out.println(\"response: \" + r);\n\n\n      for (Items itemList:response.getItems())\n\n        for (Item item : itemList.getItem())\n        {\n           final String asin= item.getASIN();\n            System.out.println(asin);\n            System.out.println(\"Title: \" +\n            item.getItemAttributes().getTitle());\n           // Image I=item.getSmallImage();\n             // final Image I1 = I;\n           // String url=I1.getURL();\n           // System.out.println(url);\n\n            String pr=item.getItemAttributes().getListPrice().getFormattedPrice();\n           // System.out.println(p);\n            System.out.println(pr);\n}\n}\n\n\npublic static void main(String args[])\n    {\n      iteml l=new iteml();\n      l.itemdetails();\n    }\n  }\n</code></pre>\n\n<blockquote>\n  <p><strong>output is</strong> B0036WT3EI  //asin id\n  Exception in thread \"main\"\n  java.lang.NullPointerException Title:\n  Samsung LN19C350 19-Inch 720p 60 Hz\n  LCD HDTV (Black)\n          at plugin.iteml.itemdetails(iteml.java:65)\n          at plugin.iteml.main(iteml.java:73) Java\n  Result: 1</p>\n</blockquote>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":2770660,"reputation":4602,"user_id":2385324,"accept_rate":87,"display_name":"Diego Martinoia"},"score":1,"creation_date":1454946314,"post_id":35273498,"comment_id":58258751,"body_markdown":"is it normal that you have a colon on the boolean (:p_deleted) but not on the string (:p_prefix) ?","body":"is it normal that you have a colon on the boolean (:p_deleted) but not on the string (:p_prefix) ?"},{"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"score":0,"creation_date":1454946626,"post_id":35273498,"comment_id":58258981,"body_markdown":"No. it isn&#39;t normal, thanks! But it doesn&#39;t wotk with &#39;:&#39;","body":"No. it isn&#39;t normal, thanks! But it doesn&#39;t wotk with &#39;:&#39;"},{"owner":{"account_id":2770660,"reputation":4602,"user_id":2385324,"accept_rate":87,"display_name":"Diego Martinoia"},"score":0,"creation_date":1454946855,"post_id":35273498,"comment_id":58259144,"body_markdown":"from your error it seems that you cant test for &quot;contains&quot; in the key in the filterexpression. I&#39;m no expert on that, but I think you can only test key for equality, not subproperties?","body":"from your error it seems that you cant test for &quot;contains&quot; in the key in the filterexpression. I&#39;m no expert on that, but I think you can only test key for equality, not subproperties?"},{"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"score":0,"creation_date":1454947053,"post_id":35273498,"comment_id":58259284,"body_markdown":"Scan - can read nested queries. (subproperties.)  http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Condition.html","body":"Scan - can read nested queries. (subproperties.)  <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Condition.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/amazondynamodb/latest/APIReference/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455107006,"creation_date":1455107006,"answer_id":35315218,"question_id":35273498,"body_markdown":"     ValueMap values = new ValueMap().withString( &quot;:p_status&quot;, &quot;READY&quot; ).withString( &quot;:p_prefix&quot;, prefix );\r\n    \r\n    NameMap names = new NameMap().with( &quot;#status_name&quot;, &quot;status&quot; ).with( &quot;#path_name&quot;, CDynamoDbCommon.RANGE_KEY_NAME );\r\n\r\n\r\n    scanSpec = new ScanSpec()\r\n        .withFilterExpression( UAwsBasic.DATABASE_JSON_DEFINITION_NAME + &quot;.#status_name = :p_status AND contains( #path_name , :p_prefix)&quot; )\r\n        .withNameMap( names ).withValueMap( values )\r\n        .withMaxResultSize( 10 ).withExclusiveStartKey( CDynamoDbCommon.PRIMARY_KEY_NAME, primaryLast, CDynamoDbCommon.RANGE_KEY_NAME, hashLast );\r\n    ","title":"DynamoDB. How to scan list with contains","body":"<pre><code> ValueMap values = new ValueMap().withString( \":p_status\", \"READY\" ).withString( \":p_prefix\", prefix );\n\nNameMap names = new NameMap().with( \"#status_name\", \"status\" ).with( \"#path_name\", CDynamoDbCommon.RANGE_KEY_NAME );\n\n\nscanSpec = new ScanSpec()\n    .withFilterExpression( UAwsBasic.DATABASE_JSON_DEFINITION_NAME + \".#status_name = :p_status AND contains( #path_name , :p_prefix)\" )\n    .withNameMap( names ).withValueMap( values )\n    .withMaxResultSize( 10 ).withExclusiveStartKey( CDynamoDbCommon.PRIMARY_KEY_NAME, primaryLast, CDynamoDbCommon.RANGE_KEY_NAME, hashLast );\n</code></pre>\n"}],"owner":{"account_id":2635104,"reputation":1293,"user_id":2280027,"accept_rate":39,"display_name":"yazabara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678608928,"creation_date":1454946154,"question_id":35273498,"body_markdown":"    ValueMap attributes = new ValueMap()\r\n    .withBoolean( &quot;:p_deleted&quot;, true )\r\n    .withString( &quot;:p_prefix&quot;, prefix );\r\n    ScanSpec scanSpec = new ScanSpec()\r\n    .withFilterExpression( UAwsBasic.DATABASE_JSON_DEFINITION_NAME + &quot;.deleted = :p_deleted and &quot; + dynamoDbCommon.RANGE_KEY_NAME + &quot; contains :p_prefix&quot; ).withValueMap( attributes );\r\n                \r\n    ItemCollection&lt; ScanOutcome &gt; items1 = dynamoDbCommon.scanList(getTableName(), scanSpec );\r\n\r\nHow to get items list?\r\n\r\nI need get not deleted items with prefix.\r\n\r\nI have an error:\r\n\r\n  \r\n\r\n    Caused by: com.amazonaws.AmazonServiceException: Invalid FilterExpression: Syntax error; token: &quot;contains&quot;, near: &quot;path contains :p_prefix&quot;\r\n\r\nI&#39;ve tried write the simmilar scan-request:\r\n\r\n    ScanSpec scanSpec = new ScanSpec().withScanFilters( new ScanFilter[] { typeFilter, deletedFilter } ).withConditionalOperator( ConditionalOperator.AND );\r\n\r\nBut it doesn&#39;t work.","title":"DynamoDB. How to scan list with contains","body":"<pre><code>ValueMap attributes = new ValueMap()\n.withBoolean( \":p_deleted\", true )\n.withString( \":p_prefix\", prefix );\nScanSpec scanSpec = new ScanSpec()\n.withFilterExpression( UAwsBasic.DATABASE_JSON_DEFINITION_NAME + \".deleted = :p_deleted and \" + dynamoDbCommon.RANGE_KEY_NAME + \" contains :p_prefix\" ).withValueMap( attributes );\n\nItemCollection&lt; ScanOutcome &gt; items1 = dynamoDbCommon.scanList(getTableName(), scanSpec );\n</code></pre>\n\n<p>How to get items list?</p>\n\n<p>I need get not deleted items with prefix.</p>\n\n<p>I have an error:</p>\n\n<pre><code>Caused by: com.amazonaws.AmazonServiceException: Invalid FilterExpression: Syntax error; token: \"contains\", near: \"path contains :p_prefix\"\n</code></pre>\n\n<p>I've tried write the simmilar scan-request:</p>\n\n<pre><code>ScanSpec scanSpec = new ScanSpec().withScanFilters( new ScanFilter[] { typeFilter, deletedFilter } ).withConditionalOperator( ConditionalOperator.AND );\n</code></pre>\n\n<p>But it doesn't work.</p>\n"},{"tags":["java","amazon-web-services","sorting","amazon-dynamodb"],"comments":[{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":1,"creation_date":1421999799,"post_id":28081885,"comment_id":44585236,"body_markdown":"What makes you think that `com.amazonaws.services.codedeploy.model.SortOrder` would be used for DynamoDB? The AWS SDK is essentially split up per service.","body":"What makes you think that <code>com.amazonaws.services.codedeploy.model.SortOrder</code> would be used for DynamoDB? The AWS SDK is essentially split up per service."},{"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"score":0,"creation_date":1422435300,"post_id":28081885,"comment_id":44744361,"body_markdown":"@MikeKobit In `SortOrder` class it contains `Ascending(&quot;ascending&quot;),\n    Descending(&quot;descending&quot;);`. Can you tell me how to sort `countryCode` column data in ascending / descending order in java.","body":"@MikeKobit In <code>SortOrder</code> class it contains <code>Ascending(&quot;ascending&quot;),     Descending(&quot;descending&quot;);</code>. Can you tell me how to sort <code>countryCode</code> column data in ascending / descending order in java."},{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":0,"creation_date":1422466595,"post_id":28081885,"comment_id":44763825,"body_markdown":"`SortOrder` is specific to [AWS CodyDeploy](http://aws.amazon.com/codedeploy/). You need to use the `Scan` operation to read the entire table and pull the results into memory where you will have to sort it, as I said in my answer. Another option would be to use [DynamoDB Online Indexing announced yesterday](https://aws.amazon.com/blogs/aws/amazon-dynamodb-update-online-indexing-reserved-capacity-improvements/) to create an index on the table, and then you can use the `Query` operation to fetch the ordered results and you can paginate through without having to read the entire table first.","body":"<code>SortOrder</code> is specific to <a href=\"http://aws.amazon.com/codedeploy/\" rel=\"nofollow noreferrer\">AWS CodyDeploy</a>. You need to use the <code>Scan</code> operation to read the entire table and pull the results into memory where you will have to sort it, as I said in my answer. Another option would be to use <a href=\"https://aws.amazon.com/blogs/aws/amazon-dynamodb-update-online-indexing-reserved-capacity-improvements/\" rel=\"nofollow noreferrer\">DynamoDB Online Indexing announced yesterday</a> to create an index on the table, and then you can use the <code>Query</code> operation to fetch the ordered results and you can paginate through without having to read the entire table first."},{"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"score":0,"creation_date":1423026672,"post_id":28081885,"comment_id":44977672,"body_markdown":"@MikeKobit Can you post a code.","body":"@MikeKobit Can you post a code."}],"answers":[{"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421999973,"creation_date":1421999973,"answer_id":28105405,"question_id":28081885,"body_markdown":"You cannot sort the `countryCode` since there is not an [index][1] on it. You will have to use a [`Scan`][2] to fetch all the rows and sort the data in your application.\r\n\r\nSide note: `countryCode` is not a column in DynamoDB - it is an attribute. See the [DynamoDB DataModel][3] for more information.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/SecondaryIndexes.html\r\n  [2]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html\r\n  [3]: http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DataModel.html","title":"How to sort the data in Amazon dynamodb using java","body":"<p>You cannot sort the <code>countryCode</code> since there is not an <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/SecondaryIndexes.html\" rel=\"nofollow\">index</a> on it. You will have to use a <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/ScanJavaDocumentAPI.html\" rel=\"nofollow\"><code>Scan</code></a> to fetch all the rows and sort the data in your application.</p>\n\n<p>Side note: <code>countryCode</code> is not a column in DynamoDB - it is an attribute. See the <a href=\"http://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DataModel.html\" rel=\"nofollow\">DynamoDB DataModel</a> for more information.</p>\n"}],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1969,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678608882,"creation_date":1421904832,"question_id":28081885,"body_markdown":"How to sort the `countryCode` column data in ascending order or descending order in amazon dynamodb using java\r\n\r\nHow to use `SortOrder enum` in code.\r\n\r\n`SortOrder` enum is available in package`com.amazonaws.services.codedeploy.model.SortOrder`.\r\n\r\n    import java.io.Serializable;\r\n    \r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAutoGeneratedKey;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\r\n    \r\n    @DynamoDBTable(tableName = &quot;cd_country&quot;)\r\n    public class Country implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 5698425418072128936L;\r\n    \r\n        @DynamoDBAutoGeneratedKey\r\n        @DynamoDBHashKey\r\n        private String countryId;\r\n    \r\n        private String countryCode;\r\n    \r\n        private String countryName;\r\n    \r\n        private Long isActive;\r\n    \r\n        public String getCountryId() {\r\n            return countryId;\r\n        }\r\n    \r\n        public void setCountryId(String countryId) {\r\n            this.countryId = countryId;\r\n        }\r\n    \r\n        public String getCountryCode() {\r\n            return countryCode;\r\n        }\r\n    \r\n        public void setCountryCode(String countryCode) {\r\n            this.countryCode = countryCode;\r\n        }\r\n    \r\n        public String getCountryName() {\r\n            return countryName;\r\n        }\r\n    \r\n        public void setCountryName(String countryName) {\r\n            this.countryName = countryName;\r\n        }\r\n    \r\n        public Long getIsActive() {\r\n            return isActive;\r\n        }\r\n    \r\n        public void setIsActive(Long isActive) {\r\n            this.isActive = isActive;\r\n        }\r\n    \r\n    }","title":"How to sort the data in Amazon dynamodb using java","body":"<p>How to sort the <code>countryCode</code> column data in ascending order or descending order in amazon dynamodb using java</p>\n\n<p>How to use <code>SortOrder enum</code> in code.</p>\n\n<p><code>SortOrder</code> enum is available in package<code>com.amazonaws.services.codedeploy.model.SortOrder</code>.</p>\n\n<pre><code>import java.io.Serializable;\n\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAutoGeneratedKey;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\n\n@DynamoDBTable(tableName = \"cd_country\")\npublic class Country implements Serializable {\n\n    private static final long serialVersionUID = 5698425418072128936L;\n\n    @DynamoDBAutoGeneratedKey\n    @DynamoDBHashKey\n    private String countryId;\n\n    private String countryCode;\n\n    private String countryName;\n\n    private Long isActive;\n\n    public String getCountryId() {\n        return countryId;\n    }\n\n    public void setCountryId(String countryId) {\n        this.countryId = countryId;\n    }\n\n    public String getCountryCode() {\n        return countryCode;\n    }\n\n    public void setCountryCode(String countryCode) {\n        this.countryCode = countryCode;\n    }\n\n    public String getCountryName() {\n        return countryName;\n    }\n\n    public void setCountryName(String countryName) {\n        this.countryName = countryName;\n    }\n\n    public Long getIsActive() {\n        return isActive;\n    }\n\n    public void setIsActive(Long isActive) {\n        this.isActive = isActive;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":1942356,"reputation":194,"user_id":1748253,"accept_rate":50,"display_name":"user1748253"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1365437740,"creation_date":1355260878,"answer_id":13828698,"question_id":11611819,"body_markdown":"In comparison of `AttributeValue`, the value type is validated before comparing the value. If you check `.equals(obj)` of `AttributeValue`, that may give you a better explanation. ","title":"DynamoDB between query on String attribute","body":"<p>In comparison of <code>AttributeValue</code>, the value type is validated before comparing the value. If you check <code>.equals(obj)</code> of <code>AttributeValue</code>, that may give you a better explanation. </p>\n"}],"owner":{"account_id":191954,"reputation":2273,"user_id":432836,"accept_rate":82,"display_name":"vacuum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13828698,"answer_count":1,"score":0,"last_activity_date":1678608880,"creation_date":1343043673,"question_id":11611819,"body_markdown":"Working with [Query][1]  API from DynamoDB. \r\nEntities table has hash-and-range primary key. Range column is of String type.\r\nWhile doing BETWEEN query on range key I got strange results:\r\n\r\n![query][2]\r\n[bigger][3]\r\n\r\nAnd documentation is not very clear:\r\n\r\n*BETWEEN : Greater than, or equal to, the first value and less than, or equal to, the second value.\r\nFor BETWEEN, AttributeValueList must contain two AttributeValue elements of the same type, either String or Number (not a set). A target attribute matches if the target value is greater than, or equal to, the first element and less than, or equal to, the second element. If an item contains an AttributeValue of a different type than the one specified in the request, the value does not match. For example, {&quot;S&quot;:&quot;6&quot;} does not compare to {&quot;N&quot;:&quot;6&quot;}. Also, {&quot;N&quot;:&quot;6&quot;} does not compare to {&quot;NS&quot;:[&quot;6&quot;, &quot;2&quot;, &quot;1&quot;]}.*\r\n\r\nCan anybody explain this results?\r\n\r\n\r\n  [1]: http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/API_Query.html\r\n  [2]: http://i.stack.imgur.com/zjLoz.png\r\n  [3]: http://i.stack.imgur.com/C1bSC.png","title":"DynamoDB between query on String attribute","body":"<p>Working with <a href=\"http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/API_Query.html\" rel=\"nofollow noreferrer\">Query</a>  API from DynamoDB. \nEntities table has hash-and-range primary key. Range column is of String type.\nWhile doing BETWEEN query on range key I got strange results:</p>\n\n<p><img src=\"https://i.stack.imgur.com/zjLoz.png\" alt=\"query\">\n<a href=\"https://i.stack.imgur.com/C1bSC.png\" rel=\"nofollow noreferrer\">bigger</a></p>\n\n<p>And documentation is not very clear:</p>\n\n<p><em>BETWEEN : Greater than, or equal to, the first value and less than, or equal to, the second value.\nFor BETWEEN, AttributeValueList must contain two AttributeValue elements of the same type, either String or Number (not a set). A target attribute matches if the target value is greater than, or equal to, the first element and less than, or equal to, the second element. If an item contains an AttributeValue of a different type than the one specified in the request, the value does not match. For example, {\"S\":\"6\"} does not compare to {\"N\":\"6\"}. Also, {\"N\":\"6\"} does not compare to {\"NS\":[\"6\", \"2\", \"1\"]}.</em></p>\n\n<p>Can anybody explain this results?</p>\n"},{"tags":["java","android","amazon-web-services","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":1906774,"reputation":3759,"user_id":1721492,"display_name":"Yosuke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1454618039,"creation_date":1454618039,"answer_id":35211074,"question_id":35189292,"body_markdown":"The DynamoDB Object Mapper for Android currently does not support complex data type mapping for the array and map. You need to manually map a dictionary to a custom object for yourself.","title":"DynamoDB Storing/ Mapping Complex Objects in Maps","body":"<p>The DynamoDB Object Mapper for Android currently does not support complex data type mapping for the array and map. You need to manually map a dictionary to a custom object for yourself.</p>\n"}],"owner":{"account_id":187286,"reputation":1679,"user_id":425234,"display_name":"Alex Bailey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1671,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35211074,"answer_count":1,"score":0,"last_activity_date":1678608878,"creation_date":1454539753,"question_id":35189292,"body_markdown":"We are trying to get started with dynamo db and I&#39;m breaking my head over a mapping problem.\r\n\r\nI have a model Match and matchPlayer.\r\n\r\nMatch has a map property which contains matchPlayer objects.\r\n\r\nI can&#39;t get dynamodb to correctly map this property.\r\nI tried the json Marshaller but that just results into an error\r\n\r\nExpected S in value {M: {player2={M:(More json)\r\n\r\nAre there any good examples or tutorials for mapping/ marshalling a map with complex objects to work with dynamodb? I found tutorials for working with simple complex objects but not with a map of objects.\r\n\r\nI&#39;m glad for any help!\r\n\r\n    @DynamoDBTable(tableName=&quot;Matches&quot;)\r\n    public class Match {\r\n    \r\n        private String matchId;\r\n        private Boolean active;\r\n        private int currentRound;\r\n        private Boolean finished;\r\n    \r\n        private Map&lt;String, MatchPlayers&gt; players;\r\n    \r\n        @DynamoDBHashKey(attributeName = &quot;matchId&quot;)\r\n        public String getMatchId() {\r\n            return matchId;\r\n        }\r\n    \r\n        public void setMatchId(String matchId) {\r\n            this.matchId = matchId;\r\n        }\r\n        @DynamoDBIndexRangeKey(attributeName = &quot;active&quot;)\r\n        public Boolean getActive() {\r\n            return active;\r\n        }\r\n    \r\n        public void setActive(Boolean active) {\r\n            this.active = active;\r\n        }\r\n    \r\n    \r\n        @DynamoDBIndexRangeKey(attributeName = &quot;currentRound&quot;)\r\n        public int getCurrentRound() {\r\n            return currentRound;\r\n        }\r\n    \r\n        public void setCurrentRound(int currentRound) {\r\n            this.currentRound = currentRound;\r\n        }\r\n    \r\n        @DynamoDBIndexRangeKey(attributeName = &quot;finished&quot;)\r\n        public Boolean getFinished() {\r\n            return finished;\r\n        }\r\n    \r\n        public void setFinished(Boolean finished) {\r\n            this.finished = finished;\r\n        }\r\n    \r\n        @DynamoDBMarshalling(marshallerClass = MatchPlayersMarshaller.class)\r\n        @DynamoDBIndexRangeKey(attributeName = &quot;players&quot;)\r\n        public Map&lt;String, MatchPlayers&gt; getPlayers() {\r\n            return players;\r\n        }\r\n    \r\n        public void setPlayers(Map&lt;String, MatchPlayers&gt; players) {\r\n            this.players = players;\r\n        }\r\n    }","title":"DynamoDB Storing/ Mapping Complex Objects in Maps","body":"<p>We are trying to get started with dynamo db and I'm breaking my head over a mapping problem.</p>\n\n<p>I have a model Match and matchPlayer.</p>\n\n<p>Match has a map property which contains matchPlayer objects.</p>\n\n<p>I can't get dynamodb to correctly map this property.\nI tried the json Marshaller but that just results into an error</p>\n\n<p>Expected S in value {M: {player2={M:(More json)</p>\n\n<p>Are there any good examples or tutorials for mapping/ marshalling a map with complex objects to work with dynamodb? I found tutorials for working with simple complex objects but not with a map of objects.</p>\n\n<p>I'm glad for any help!</p>\n\n<pre><code>@DynamoDBTable(tableName=\"Matches\")\npublic class Match {\n\n    private String matchId;\n    private Boolean active;\n    private int currentRound;\n    private Boolean finished;\n\n    private Map&lt;String, MatchPlayers&gt; players;\n\n    @DynamoDBHashKey(attributeName = \"matchId\")\n    public String getMatchId() {\n        return matchId;\n    }\n\n    public void setMatchId(String matchId) {\n        this.matchId = matchId;\n    }\n    @DynamoDBIndexRangeKey(attributeName = \"active\")\n    public Boolean getActive() {\n        return active;\n    }\n\n    public void setActive(Boolean active) {\n        this.active = active;\n    }\n\n\n    @DynamoDBIndexRangeKey(attributeName = \"currentRound\")\n    public int getCurrentRound() {\n        return currentRound;\n    }\n\n    public void setCurrentRound(int currentRound) {\n        this.currentRound = currentRound;\n    }\n\n    @DynamoDBIndexRangeKey(attributeName = \"finished\")\n    public Boolean getFinished() {\n        return finished;\n    }\n\n    public void setFinished(Boolean finished) {\n        this.finished = finished;\n    }\n\n    @DynamoDBMarshalling(marshallerClass = MatchPlayersMarshaller.class)\n    @DynamoDBIndexRangeKey(attributeName = \"players\")\n    public Map&lt;String, MatchPlayers&gt; getPlayers() {\n        return players;\n    }\n\n    public void setPlayers(Map&lt;String, MatchPlayers&gt; players) {\n        this.players = players;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":147778,"reputation":9734,"user_id":359134,"accept_rate":82,"display_name":"Chen Harel"},"score":0,"creation_date":1418549664,"post_id":27455709,"comment_id":43371351,"body_markdown":"please show definition of Account","body":"please show definition of Account"},{"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"score":0,"creation_date":1418613773,"post_id":27455709,"comment_id":43387836,"body_markdown":"@ChenHarel added the definition of Account.","body":"@ChenHarel added the definition of Account."}],"answers":[{"tags":[],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1418623737,"creation_date":1418623737,"answer_id":27478286,"question_id":27455709,"body_markdown":"`documentTypeId` is primarykey for `cd_documentTypes` table, this primarykey is used in `cd_accounts` table as a foreignkey. \r\n\r\nIf the table having foreignkey relation we must mention the `@DynamoDBRangeKey` annotation above documentTypeId attribute in Account class. Problem is solved after declared the `@DynamoDBRangeKey` on top of the attribute `documentTypeId`.\r\n\r\n    @DynamoDBRangeKey\r\n        private String documentTypeId;\r\n\r\n\r\nIf we want to save or update or delete records in amazon dynamodb using java we must mention the\r\nannotation `@DynamoDBHashKey` on top of the primarykey column.\r\n\r\n    @DynamoDBAutoGeneratedKey\r\n\t@DynamoDBHashKey\r\n\tprivate String accountId;\r\n\r\nBelow is the image shown for foreignkey relation exists in `cd_accounts` table.\r\n\r\n**Note:**`Range key attribute` field is displayed if the table is mapping to another table primarykey in amaozong dynamodb.\r\n![ForeignKey relation][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/lZvBX.png","title":"How to delete record using primarykey in dynamodb","body":"<p><code>documentTypeId</code> is primarykey for <code>cd_documentTypes</code> table, this primarykey is used in <code>cd_accounts</code> table as a foreignkey. </p>\n\n<p>If the table having foreignkey relation we must mention the <code>@DynamoDBRangeKey</code> annotation above documentTypeId attribute in Account class. Problem is solved after declared the <code>@DynamoDBRangeKey</code> on top of the attribute <code>documentTypeId</code>.</p>\n\n<pre><code>@DynamoDBRangeKey\n    private String documentTypeId;\n</code></pre>\n\n<p>If we want to save or update or delete records in amazon dynamodb using java we must mention the\nannotation <code>@DynamoDBHashKey</code> on top of the primarykey column.</p>\n\n<pre><code>@DynamoDBAutoGeneratedKey\n@DynamoDBHashKey\nprivate String accountId;\n</code></pre>\n\n<p>Below is the image shown for foreignkey relation exists in <code>cd_accounts</code> table.</p>\n\n<p><strong>Note:</strong><code>Range key attribute</code> field is displayed if the table is mapping to another table primarykey in amaozong dynamodb.\n<img src=\"https://i.stack.imgur.com/lZvBX.png\" alt=\"ForeignKey relation\"></p>\n"}],"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27478286,"answer_count":1,"score":0,"last_activity_date":1678608874,"creation_date":1418446677,"question_id":27455709,"body_markdown":"I get the record using primarykey id in amazon dynamodb using java. \r\n\r\n**AccountController.java**\r\n\r\n    package com.dynamodb.controller;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    \r\n    import com.account.json.AccountJson;\r\n    import com.account.service.AccountService;\r\n    \r\n    @Controller\r\n    public class AccountController extends AbstractServiceController {\r\n\r\n\t@Autowired\r\n\tprivate AccountService accountService;\r\n\t\r\n\t@RequestMapping(value = &quot;/deleteAccountByAccountId&quot;, method = RequestMethod.POST)\r\n\tpublic @ResponseBody String deleteAccountByAccountId(@RequestBody AccountJson accountJson) {\r\n\t\ttry {\r\n\t\t\tBoolean bool = accountService.deleteAccountByAccountId(accountJson.getAccountId());\r\n\t\t\tif (bool) {\r\n\t\t\t\treturn &quot;Record deleted Successfully&quot;;\r\n\t\t\t} else {\r\n\t\t\t\treturn &quot;Record not deleted&quot;;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn e.getMessage();\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n**AccountService.java**\r\n\r\n    package com.account.service;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.account.dao.AccountRepository;\r\n    \r\n    @Service\r\n    public class AccountService {\r\n\r\n\t@Autowired\r\n\tprivate AccountRepository accountRepository;\r\n\r\n\tpublic Boolean deleteAccountByAccountId(String accountId) {\r\n\t\treturn accountRepository.deleteAccountByAccountId(accountId);\r\n\t}\r\n\r\n    }\r\n\r\n**AccountRepository.java**\r\n\r\n    package com.account.dao;\r\n\r\n    import java.util.List;\r\n    \r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBScanExpression;\r\n    import com.amazonaws.services.dynamodbv2.model.AttributeValue;\r\n    import com.amazonaws.services.dynamodbv2.model.ComparisonOperator;\r\n    import com.amazonaws.services.dynamodbv2.model.Condition;\r\n    import com.account.datastore.Account;\r\n    \r\n    @Repository\r\n    public class AccountRepository extends BaseRepository {\r\n\r\n\tpublic Account getAccountByAccountId(String accountId) {\r\n\t\tAccount account = null;\r\n\t\ttry {\r\n\t\t\tDynamoDBMapper mapper = getDynameDbMapper();\r\n\t\t\tDynamoDBScanExpression scanExpression = new DynamoDBScanExpression();\r\n\t\t\tscanExpression.addFilterCondition(&quot;accountId&quot;, new Condition().withComparisonOperator(ComparisonOperator.EQ).withAttributeValueList(new AttributeValue().withS(accountId)));\r\n\t\t\tList&lt;Account&gt; accounts = mapper.scan(Account.class, scanExpression);\r\n\t\t\tif (accounts != null &amp;&amp; accounts.size() &gt; 0) {\r\n\t\t\t\taccount = accounts.get(0);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn account;\r\n\t}\r\n\r\n\tpublic Boolean deleteAccountByAccountId(String accountId) {\r\n\t\ttry {\r\n\t\t\tAccount account = getAccountByAccountId(accountId);\r\n\t\t\tif (account != null) {\r\n\t\t\t\tDynamoDBMapper mapper = getDynameDbMapper();\r\n\t\t\t\tmapper.delete(account);\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n    }\r\n\r\n**Account.java**\r\n\r\n    package com.account.datastore;\r\n\r\n    import java.io.Serializable;\r\n    \r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAutoGeneratedKey;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\r\n    import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\r\n    \r\n    @DynamoDBTable(tableName = &quot;cd_accounts&quot;)\r\n    public class Account implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 244669855912873613L;\r\n\t\r\n\t@DynamoDBAutoGeneratedKey\r\n\t@DynamoDBHashKey\r\n\tprivate String accountId;\r\n\tprivate String documentTypeId;\r\n\tprivate String accountName;\r\n\tprivate Long isActive;\r\n\tprivate Long isBill;\r\n\r\n\tpublic String getAccountId() {\r\n\t\treturn accountId;\r\n\t}\r\n\r\n\tpublic void setAccountId(String accountId) {\r\n\t\tthis.accountId = accountId;\r\n\t}\r\n\r\n\tpublic String getDocumentTypeId() {\r\n\t\treturn documentTypeId;\r\n\t}\r\n\r\n\tpublic void setDocumentTypeId(String documentTypeId) {\r\n\t\tthis.documentTypeId = documentTypeId;\r\n\t}\r\n\r\n\tpublic String getAccountName() {\r\n\t\treturn accountName;\r\n\t}\r\n\r\n\tpublic void setAccountName(String accountName) {\r\n\t\tthis.accountName = accountName;\r\n\t}\r\n\r\n\tpublic Long getIsActive() {\r\n\t\treturn isActive;\r\n\t}\r\n\r\n\tpublic void setIsActive(Long isActive) {\r\n\t\tthis.isActive = isActive;\r\n\t}\r\n\r\n\tpublic Long getIsBill() {\r\n\t\treturn isBill;\r\n\t}\r\n\r\n\tpublic void setIsBill(Long isBill) {\r\n\t\tthis.isBill = isBill;\r\n\t}\r\n\r\n    }\r\n\r\nError is occurred while deleting the record. How to delete the record in amazon dynamodb using java.\r\n\r\n    com.amazonaws.AmazonServiceException: The provided key element does not match the schema (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: ValidationException; Request ID: NR1SVIM98PVPFNHUOL49EI4JPFVV4KQNSO5AEMVJF66Q9ASUAAJG)\r\n    10:02:18,739 ERROR [AccountRepository] deleteAccountByAccountId Error:The provided key element does not match the schema (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: ValidationException; Request ID: NR1SVIM98PVPFNHUOL49EI4JPFVV4KQNSO5AEMVJF66Q9ASUAAJG)\r\n    10:02:18,739 DEBUG [AccountController] --------------deleteAccountByAccountId----------------END------------------\r\n    \tat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1077)\r\n    \tat com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:725)\r\n    \tat com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:460)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:295)\r\n    \tat com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.invoke(AmazonDynamoDBClient.java:3106)\r\n    \tat com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.deleteItem(AmazonDynamoDBClient.java:967)\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.delete(DynamoDBMapper.java:1364)\r\n    \tat com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.delete(DynamoDBMapper.java:1272)\r\n    \tat com.account.dao.AccountRepository.deleteAccountByAccountId(AccountRepository.java:110)\r\n    \tat com.account.service.AccountService.deleteAccountByAccountId(AccountService.java:40)\r\n    \tat com.account.controller.AccountController.deleteAccountByAccountId(AccountController.java:62)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:781)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:721)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:943)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:877)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n","title":"How to delete record using primarykey in dynamodb","body":"<p>I get the record using primarykey id in amazon dynamodb using java. </p>\n\n<p><strong>AccountController.java</strong></p>\n\n<pre><code>package com.dynamodb.controller;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport com.account.json.AccountJson;\nimport com.account.service.AccountService;\n\n@Controller\npublic class AccountController extends AbstractServiceController {\n\n@Autowired\nprivate AccountService accountService;\n\n@RequestMapping(value = \"/deleteAccountByAccountId\", method = RequestMethod.POST)\npublic @ResponseBody String deleteAccountByAccountId(@RequestBody AccountJson accountJson) {\n    try {\n        Boolean bool = accountService.deleteAccountByAccountId(accountJson.getAccountId());\n        if (bool) {\n            return \"Record deleted Successfully\";\n        } else {\n            return \"Record not deleted\";\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        return e.getMessage();\n    }\n}\n}\n</code></pre>\n\n<p><strong>AccountService.java</strong></p>\n\n<pre><code>package com.account.service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.account.dao.AccountRepository;\n\n@Service\npublic class AccountService {\n\n@Autowired\nprivate AccountRepository accountRepository;\n\npublic Boolean deleteAccountByAccountId(String accountId) {\n    return accountRepository.deleteAccountByAccountId(accountId);\n}\n\n}\n</code></pre>\n\n<p><strong>AccountRepository.java</strong></p>\n\n<pre><code>package com.account.dao;\n\nimport java.util.List;\n\nimport org.springframework.stereotype.Repository;\n\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBScanExpression;\nimport com.amazonaws.services.dynamodbv2.model.AttributeValue;\nimport com.amazonaws.services.dynamodbv2.model.ComparisonOperator;\nimport com.amazonaws.services.dynamodbv2.model.Condition;\nimport com.account.datastore.Account;\n\n@Repository\npublic class AccountRepository extends BaseRepository {\n\npublic Account getAccountByAccountId(String accountId) {\n    Account account = null;\n    try {\n        DynamoDBMapper mapper = getDynameDbMapper();\n        DynamoDBScanExpression scanExpression = new DynamoDBScanExpression();\n        scanExpression.addFilterCondition(\"accountId\", new Condition().withComparisonOperator(ComparisonOperator.EQ).withAttributeValueList(new AttributeValue().withS(accountId)));\n        List&lt;Account&gt; accounts = mapper.scan(Account.class, scanExpression);\n        if (accounts != null &amp;&amp; accounts.size() &gt; 0) {\n            account = accounts.get(0);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return account;\n}\n\npublic Boolean deleteAccountByAccountId(String accountId) {\n    try {\n        Account account = getAccountByAccountId(accountId);\n        if (account != null) {\n            DynamoDBMapper mapper = getDynameDbMapper();\n            mapper.delete(account);\n        } else {\n            return false;\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        return false;\n    }\n    return true;\n}\n\n}\n</code></pre>\n\n<p><strong>Account.java</strong></p>\n\n<pre><code>package com.account.datastore;\n\nimport java.io.Serializable;\n\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAutoGeneratedKey;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;\nimport com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;\n\n@DynamoDBTable(tableName = \"cd_accounts\")\npublic class Account implements Serializable {\n\nprivate static final long serialVersionUID = 244669855912873613L;\n\n@DynamoDBAutoGeneratedKey\n@DynamoDBHashKey\nprivate String accountId;\nprivate String documentTypeId;\nprivate String accountName;\nprivate Long isActive;\nprivate Long isBill;\n\npublic String getAccountId() {\n    return accountId;\n}\n\npublic void setAccountId(String accountId) {\n    this.accountId = accountId;\n}\n\npublic String getDocumentTypeId() {\n    return documentTypeId;\n}\n\npublic void setDocumentTypeId(String documentTypeId) {\n    this.documentTypeId = documentTypeId;\n}\n\npublic String getAccountName() {\n    return accountName;\n}\n\npublic void setAccountName(String accountName) {\n    this.accountName = accountName;\n}\n\npublic Long getIsActive() {\n    return isActive;\n}\n\npublic void setIsActive(Long isActive) {\n    this.isActive = isActive;\n}\n\npublic Long getIsBill() {\n    return isBill;\n}\n\npublic void setIsBill(Long isBill) {\n    this.isBill = isBill;\n}\n\n}\n</code></pre>\n\n<p>Error is occurred while deleting the record. How to delete the record in amazon dynamodb using java.</p>\n\n<pre><code>com.amazonaws.AmazonServiceException: The provided key element does not match the schema (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: ValidationException; Request ID: NR1SVIM98PVPFNHUOL49EI4JPFVV4KQNSO5AEMVJF66Q9ASUAAJG)\n10:02:18,739 ERROR [AccountRepository] deleteAccountByAccountId Error:The provided key element does not match the schema (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: ValidationException; Request ID: NR1SVIM98PVPFNHUOL49EI4JPFVV4KQNSO5AEMVJF66Q9ASUAAJG)\n10:02:18,739 DEBUG [AccountController] --------------deleteAccountByAccountId----------------END------------------\n    at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(AmazonHttpClient.java:1077)\n    at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:725)\n    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:460)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:295)\n    at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.invoke(AmazonDynamoDBClient.java:3106)\n    at com.amazonaws.services.dynamodbv2.AmazonDynamoDBClient.deleteItem(AmazonDynamoDBClient.java:967)\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.delete(DynamoDBMapper.java:1364)\n    at com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper.delete(DynamoDBMapper.java:1272)\n    at com.account.dao.AccountRepository.deleteAccountByAccountId(AccountRepository.java:110)\n    at com.account.service.AccountService.deleteAccountByAccountId(AccountService.java:40)\n    at com.account.controller.AccountController.deleteAccountByAccountId(AccountController.java:62)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:781)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:721)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:943)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:877)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:647)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:310)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","nosql"],"answers":[{"tags":[],"owner":{"account_id":414294,"reputation":6451,"user_id":788433,"display_name":"JaredHatfield"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438042120,"creation_date":1438042120,"answer_id":31665405,"question_id":31657197,"body_markdown":"Yes, you can ask DynamoDB to perform [filtering of queries][1] before it returns results.  However, you will still incur the &#39;cost&#39; of reading these items even though they are not returned to your client.  This is still a good practice as it will eliminate unnecessary transfer of items over the network.\r\n\r\nTo do this you will call additional methods on your DynamoDBQueryExpression object, specifically [withFilterExpression][2] and [addExpressionAttributeNamesEntry][3] / [addExpressionAttributeValuesEntry][4] to complete the expression.\r\n\r\nWithout the specific example of what type of conditions you want to apply it is hard to give an example, but depending on how simple your condition you want to apply is you could contain it in just the withFilterExpression method.\r\n\r\n    DynamoDBQueryExpression&lt;MusicData&gt; queryExpression = new DynamoDBQueryExpression&lt;MusicData&gt;().withHashKeyValues(hashKey).withFilterExpression(&quot;foo &gt; 10&quot;);\r\n\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#FilteringResults\r\n  [2]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBQueryExpression.html#withFilterExpression(java.lang.String)\r\n  [3]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBQueryExpression.html#addExpressionAttributeNamesEntry(java.lang.String,%20java.lang.String)\r\n  [4]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBQueryExpression.html#addExpressionAttributeValuesEntry(java.lang.String,%20com.amazonaws.services.dynamodbv2.model.AttributeValue)","title":"Query in DynamoDB using Java API","body":"<p>Yes, you can ask DynamoDB to perform <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/QueryAndScan.html#FilteringResults\" rel=\"nofollow\">filtering of queries</a> before it returns results.  However, you will still incur the 'cost' of reading these items even though they are not returned to your client.  This is still a good practice as it will eliminate unnecessary transfer of items over the network.</p>\n\n<p>To do this you will call additional methods on your DynamoDBQueryExpression object, specifically <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBQueryExpression.html#withFilterExpression(java.lang.String)\" rel=\"nofollow\">withFilterExpression</a> and <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBQueryExpression.html#addExpressionAttributeNamesEntry(java.lang.String,%20java.lang.String)\" rel=\"nofollow\">addExpressionAttributeNamesEntry</a> / <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBQueryExpression.html#addExpressionAttributeValuesEntry(java.lang.String,%20com.amazonaws.services.dynamodbv2.model.AttributeValue)\" rel=\"nofollow\">addExpressionAttributeValuesEntry</a> to complete the expression.</p>\n\n<p>Without the specific example of what type of conditions you want to apply it is hard to give an example, but depending on how simple your condition you want to apply is you could contain it in just the withFilterExpression method.</p>\n\n<pre><code>DynamoDBQueryExpression&lt;MusicData&gt; queryExpression = new DynamoDBQueryExpression&lt;MusicData&gt;().withHashKeyValues(hashKey).withFilterExpression(\"foo &gt; 10\");\n</code></pre>\n"}],"owner":{"account_id":3042165,"reputation":523,"user_id":2578889,"accept_rate":12,"display_name":"dushyantashu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678608872,"creation_date":1438011081,"question_id":31657197,"body_markdown":"I need to implement a Query operation on DynamoDB. Right now I&#39;m doing it by giving the HashKey and then filtering out the results according to my conditions on non-key attributes. \r\n\r\nThis is what I&#39;m doing : \r\n\r\n    MusicData hashKey = new MusicData();\r\n    hashKey.setID(singer); \r\n    \r\n    DynamoDBQueryExpression&lt;MusicData&gt; queryExpression = new DynamoDBQueryExpression&lt;MusicData&gt;().withHashKeyValues(hashKey);\r\n    \r\n    List&lt;MusicData&gt; queryResult = mapper.query(MusicData.class, queryExpression);\r\n              \r\n    for (MusicData musicData : queryResult) {\r\n        if( my condtions ) {\r\n            do something;   \r\n        }\r\n    }\r\n\r\nWhat I&#39;m trying to do is to be able to do something like this : \r\n\r\n    MusicData hashKey = new MusicData();\r\n    hashKey.setID(singer); \r\n    hashKey.setAlbum(sampleAlbum);\r\n    hashKey.setSinger(duration);\r\n    \r\n    DynamoDBQueryExpression&lt;MusicData&gt; queryExpression = new DynamoDBQueryExpression&lt;MusicData&gt;().withHashKeyValues(hashKey);\r\n    \r\n    List&lt;MusicData&gt; queryResult = mapper.query(MusicData.class, queryExpression);\r\n              \r\n    for (MusicData musicData : queryResult) {\r\n        if( my condtions ) {\r\n            do something;   \r\n        }\r\n    }\r\n\r\nAnd get results already filtered out. Is there a way to do this in DynamoDB?","title":"Query in DynamoDB using Java API","body":"<p>I need to implement a Query operation on DynamoDB. Right now I'm doing it by giving the HashKey and then filtering out the results according to my conditions on non-key attributes. </p>\n\n<p>This is what I'm doing : </p>\n\n<pre><code>MusicData hashKey = new MusicData();\nhashKey.setID(singer); \n\nDynamoDBQueryExpression&lt;MusicData&gt; queryExpression = new DynamoDBQueryExpression&lt;MusicData&gt;().withHashKeyValues(hashKey);\n\nList&lt;MusicData&gt; queryResult = mapper.query(MusicData.class, queryExpression);\n\nfor (MusicData musicData : queryResult) {\n    if( my condtions ) {\n        do something;   \n    }\n}\n</code></pre>\n\n<p>What I'm trying to do is to be able to do something like this : </p>\n\n<pre><code>MusicData hashKey = new MusicData();\nhashKey.setID(singer); \nhashKey.setAlbum(sampleAlbum);\nhashKey.setSinger(duration);\n\nDynamoDBQueryExpression&lt;MusicData&gt; queryExpression = new DynamoDBQueryExpression&lt;MusicData&gt;().withHashKeyValues(hashKey);\n\nList&lt;MusicData&gt; queryResult = mapper.query(MusicData.class, queryExpression);\n\nfor (MusicData musicData : queryResult) {\n    if( my condtions ) {\n        do something;   \n    }\n}\n</code></pre>\n\n<p>And get results already filtered out. Is there a way to do this in DynamoDB?</p>\n"},{"tags":["java","amazon-web-services"],"answers":[{"tags":[],"owner":{"account_id":2530698,"reputation":4240,"user_id":2199059,"accept_rate":34,"display_name":"Vivek Sadh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483527158,"creation_date":1483527158,"answer_id":41462055,"question_id":41461345,"body_markdown":"I got the reason from the Amazon documentation. Its because Amazon updates the list once in a day and it takes some time to show up there.","title":"Unable to see Archives on Amazon","body":"<p>I got the reason from the Amazon documentation. Its because Amazon updates the list once in a day and it takes some time to show up there.</p>\n"}],"owner":{"account_id":2530698,"reputation":4240,"user_id":2199059,"accept_rate":34,"display_name":"Vivek Sadh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678608827,"creation_date":1483525055,"question_id":41461345,"body_markdown":"    BasicAWSCredentials awsCreds = new BasicAWSCredentials(&quot;...&quot;, &quot;...&quot;);\r\n    \r\n        client = new AmazonGlacierClient(awsCreds);\r\n    \r\n        client.setEndpoint(&quot;https://glacier.us-east-1.amazonaws.com/&quot;);\r\n    \r\n        try {\r\n            ArchiveTransferManager atm = new ArchiveTransferManager(client, awsCreds);\r\n    \r\n            UploadResult result = atm.upload(vaultName, &quot;my archive2&quot; + (new Date()), new File(archiveToUpload));\r\n            System.out.println(&quot;Archive ID: &quot; + result.getArchiveId());\r\n    \r\n        } catch (Exception e)\r\n        {\r\n            System.err.println(e);\r\n        }\r\n\r\n\r\nI got the archive ID generated in response but not able to see file that I uploaded at  https://console.aws.amazon.com/glacier/home?region=us-east-1#/vaults","title":"Unable to see Archives on Amazon","body":"<pre><code>BasicAWSCredentials awsCreds = new BasicAWSCredentials(\"...\", \"...\");\n\n    client = new AmazonGlacierClient(awsCreds);\n\n    client.setEndpoint(\"https://glacier.us-east-1.amazonaws.com/\");\n\n    try {\n        ArchiveTransferManager atm = new ArchiveTransferManager(client, awsCreds);\n\n        UploadResult result = atm.upload(vaultName, \"my archive2\" + (new Date()), new File(archiveToUpload));\n        System.out.println(\"Archive ID: \" + result.getArchiveId());\n\n    } catch (Exception e)\n    {\n        System.err.println(e);\n    }\n</code></pre>\n\n<p>I got the archive ID generated in response but not able to see file that I uploaded at  <a href=\"https://console.aws.amazon.com/glacier/home?region=us-east-1#/vaults\" rel=\"nofollow noreferrer\">https://console.aws.amazon.com/glacier/home?region=us-east-1#/vaults</a></p>\n"},{"tags":["java","amazon-web-services","deployment","playframework","war"],"comments":[{"owner":{"account_id":28851,"reputation":29373,"user_id":77409,"accept_rate":100,"display_name":"James Ward"},"score":0,"creation_date":1359701742,"post_id":14637670,"comment_id":20454798,"body_markdown":"What does &quot;I would prefer a .war since I want traffic from all sources to be able to run the app, not just on port 9000.&quot; mean?  War files and ports are unrelated.","body":"What does &quot;I would prefer a .war since I want traffic from all sources to be able to run the app, not just on port 9000.&quot; mean?  War files and ports are unrelated."},{"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"score":0,"creation_date":1359757749,"post_id":14637670,"comment_id":20481237,"body_markdown":"@JamesWard Sorry, I meant that I wanted anyone coming to the website to be able to access the app, and not just on port 9000. But that&#39;s not a problem, I&#39;ve discovered that running the app via `stage` or `start` will take care of that, so that should be good to go. Now I just want to know how to deply / run on amazon.","body":"@JamesWard Sorry, I meant that I wanted anyone coming to the website to be able to access the app, and not just on port 9000. But that&#39;s not a problem, I&#39;ve discovered that running the app via <code>stage</code> or <code>start</code> will take care of that, so that should be good to go. Now I just want to know how to deply / run on amazon."}],"answers":[{"tags":[],"owner":{"account_id":36812,"reputation":3352,"user_id":105085,"accept_rate":67,"display_name":"palako"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359713324,"creation_date":1359713324,"answer_id":14643885,"question_id":14637670,"body_markdown":"You&#39;ve got quite few concepts mixed there.\r\n\r\nThe Port the app listens to is 9000 by default but you can change it in application.conf to whatever you want, or even have different ports configured for dev/test/production,... This has nothing to do with war or no war deployment.\r\n\r\nTraffic from all sources to be able to run the app, if you mean where the traffic comes from, that&#39;s the source port, not the port where your server runs. The only thing I can make sense of there is that you might be thinking about people behind firewalls or proxy&#39;s that can typically only access ports 80 or 8080. But as said before, you can listen at whatever port you want. \r\n\r\nYou might also be referring to port 9000 being firewalled by default in AWS, but again this is something you can set up.\r\n\r\nIn any case, the answer to the original question is yes, you can create a war and instead of installing Play you can install Tomcat/Jboss/... and deploy it there, but is not related to any of your concerns, so probably just go with Play standalone and save yourself a bunch of problems.","title":"How to deploy a Play framework project to Amazon?","body":"<p>You've got quite few concepts mixed there.</p>\n\n<p>The Port the app listens to is 9000 by default but you can change it in application.conf to whatever you want, or even have different ports configured for dev/test/production,... This has nothing to do with war or no war deployment.</p>\n\n<p>Traffic from all sources to be able to run the app, if you mean where the traffic comes from, that's the source port, not the port where your server runs. The only thing I can make sense of there is that you might be thinking about people behind firewalls or proxy's that can typically only access ports 80 or 8080. But as said before, you can listen at whatever port you want. </p>\n\n<p>You might also be referring to port 9000 being firewalled by default in AWS, but again this is something you can set up.</p>\n\n<p>In any case, the answer to the original question is yes, you can create a war and instead of installing Play you can install Tomcat/Jboss/... and deploy it there, but is not related to any of your concerns, so probably just go with Play standalone and save yourself a bunch of problems.</p>\n"},{"tags":[],"owner":{"account_id":921631,"reputation":1105,"user_id":953241,"display_name":"nylund"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1379403965,"creation_date":1359797212,"answer_id":14660455,"question_id":14637670,"body_markdown":"Read this for play 1.x, http://www.playframework.org/documentation/1.2.5/production\r\nand this for 2.x, http://www.playframework.org/documentation/2.0.4/Production\r\n\r\nFor easier deployment over SSH you may want to look at, https://github.com/nylund/play-deploy/blob/master/documentation/manual/home.textile (disclaimer I wrote the plugin).\r\n","title":"How to deploy a Play framework project to Amazon?","body":"<p>Read this for play 1.x, <a href=\"http://www.playframework.org/documentation/1.2.5/production\" rel=\"nofollow\">http://www.playframework.org/documentation/1.2.5/production</a>\nand this for 2.x, <a href=\"http://www.playframework.org/documentation/2.0.4/Production\" rel=\"nofollow\">http://www.playframework.org/documentation/2.0.4/Production</a></p>\n\n<p>For easier deployment over SSH you may want to look at, <a href=\"https://github.com/nylund/play-deploy/blob/master/documentation/manual/home.textile\" rel=\"nofollow\">https://github.com/nylund/play-deploy/blob/master/documentation/manual/home.textile</a> (disclaimer I wrote the plugin).</p>\n"}],"owner":{"account_id":20530,"reputation":263492,"user_id":49153,"accept_rate":91,"display_name":"Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14660455,"answer_count":2,"score":2,"last_activity_date":1678608808,"creation_date":1359678208,"question_id":14637670,"body_markdown":"Is it possible to create a .war of a project running on Play, so that it can be easily deployed on Amazon? Or is it necessary to install play on the server itself where the app will be run? \r\n\r\n\r\nI would prefer a .war since I want traffic from all sources to be able to run the app, not just on port 9000.","title":"How to deploy a Play framework project to Amazon?","body":"<p>Is it possible to create a .war of a project running on Play, so that it can be easily deployed on Amazon? Or is it necessary to install play on the server itself where the app will be run? </p>\n\n<p>I would prefer a .war since I want traffic from all sources to be able to run the app, not just on port 9000.</p>\n"},{"tags":["java","amazon-web-services","glassfish"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1487003401,"creation_date":1487002631,"answer_id":42208689,"question_id":42208594,"body_markdown":"I assume you are running Glassfish behind a load balancer on AWS, and SSL termination is happening at the load balancer. \r\n\r\nYou need to configure Glassfish to check the `x-forwarded-proto` header to determine if the client is connecting via HTTP or HTTPS. You can do this via the scheme-mapping parameter in your `domain.xml` file:\r\n\r\n    &lt;http default-virtual-server=&quot;server&quot;\r\n          max-connections=&quot;100&quot;\r\n          scheme-mapping=&quot;X-Forwarded-Proto&quot;&gt;\r\n\r\nAlternatively, you can run this command on the server to set the `scheme-mapping` value:\r\n\r\n    asadmin set server.network-config.protocols.protocol.http-listener-1.http.scheme-mapping=X-Forwarded-Proto","title":"How to redirect all HTTP request to HTTPS on glassfish","body":"<p>I assume you are running Glassfish behind a load balancer on AWS, and SSL termination is happening at the load balancer. </p>\n\n<p>You need to configure Glassfish to check the <code>x-forwarded-proto</code> header to determine if the client is connecting via HTTP or HTTPS. You can do this via the scheme-mapping parameter in your <code>domain.xml</code> file:</p>\n\n<pre><code>&lt;http default-virtual-server=\"server\"\n      max-connections=\"100\"\n      scheme-mapping=\"X-Forwarded-Proto\"&gt;\n</code></pre>\n\n<p>Alternatively, you can run this command on the server to set the <code>scheme-mapping</code> value:</p>\n\n<pre><code>asadmin set server.network-config.protocols.protocol.http-listener-1.http.scheme-mapping=X-Forwarded-Proto\n</code></pre>\n"}],"owner":{"account_id":8443493,"reputation":184,"user_id":6335099,"accept_rate":100,"display_name":"Marcel Caferati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2541,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42208689,"answer_count":1,"score":0,"last_activity_date":1678608793,"creation_date":1487002364,"question_id":42208594,"body_markdown":"I have tried putting the following on my web.conf\r\n\r\n    &lt;security-constraint&gt;\r\n        &lt;web-resource-collection&gt;\r\n            &lt;web-resource-name&gt;SecureResource&lt;/web-resource-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/web-resource-collection&gt;\r\n        &lt;user-data-constraint&gt;\r\n            &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n        &lt;/user-data-constraint&gt;\r\n    &lt;/security-constraint&gt;\r\n\r\nBut when I publish I get a &quot;Too many redirects&quot; on chrome.","title":"How to redirect all HTTP request to HTTPS on glassfish","body":"<p>I have tried putting the following on my web.conf</p>\n\n<pre><code>&lt;security-constraint&gt;\n    &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;SecureResource&lt;/web-resource-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;user-data-constraint&gt;\n        &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n    &lt;/user-data-constraint&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n\n<p>But when I publish I get a \"Too many redirects\" on chrome.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","nosql"],"answers":[{"tags":[],"owner":{"account_id":327638,"reputation":6874,"user_id":650133,"accept_rate":75,"display_name":"yadutaf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353422701,"creation_date":1353422701,"answer_id":13475665,"question_id":13464560,"body_markdown":"I don&#39;t know Java SDK at all but, from a design point of view, may I suggest you a &quot;DynamoDBier&quot; approach ?\n\n### Table ``Post_MyApp``\n\n - article_id as ``hash_key``\n - title\n - ...\n\n### Table ``Comments_MyApp``\n\n - article_id as ``hash_key``\n - datetime as ``range_key``\n - text\n - ...\n\nThis allows you to get all comments for an article in a single ``Query`` and even to paginate using ``limit`` and ``ExclusiveStartKey``\n\nBy the way, I found excellent examples In DynamoDb documentation&#39;s appendix: http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/SampleTablesAndData.html","title":"One-to-many in DynamoDB with Java Object Persistence Model","body":"<p>I don't know Java SDK at all but, from a design point of view, may I suggest you a &quot;DynamoDBier&quot; approach ?</p>\n<h3>Table <code>Post_MyApp</code></h3>\n<ul>\n<li>article_id as <code>hash_key</code></li>\n<li>title</li>\n<li>...</li>\n</ul>\n<h3>Table <code>Comments_MyApp</code></h3>\n<ul>\n<li>article_id as <code>hash_key</code></li>\n<li>datetime as <code>range_key</code></li>\n<li>text</li>\n<li>...</li>\n</ul>\n<p>This allows you to get all comments for an article in a single <code>Query</code> and even to paginate using <code>limit</code> and <code>ExclusiveStartKey</code></p>\n<p>By the way, I found excellent examples In DynamoDb documentation's appendix: <a href=\"http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/SampleTablesAndData.html\" rel=\"nofollow noreferrer\">http://docs.amazonwebservices.com/amazondynamodb/latest/developerguide/SampleTablesAndData.html</a></p>\n"},{"tags":[],"owner":{"account_id":3542352,"reputation":4032,"user_id":2959100,"display_name":"Sony Kadavan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1392126781,"creation_date":1392126781,"answer_id":21703782,"question_id":13464560,"body_markdown":"One post to many comments. You just need the following tables:\r\n1. Post table: post-id (Hash Key), \r\n2. Comment table: post-id (Hash Key), comment-id (Range Key)\r\n\r\nTo get all the comment for a post, you query the comment table by just giving the HashKey (post-id).\r\n\r\nOn Java side, you will have 2 classes (Post, Comments) mapped with the Dynamo DB Mapper.\r\n\r\nDynamoDBMapper (AWS SDK for Java - 1.7.1) : http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodb/datamodeling/DynamoDBMapper.html\r\n\r\n","title":"One-to-many in DynamoDB with Java Object Persistence Model","body":"<p>One post to many comments. You just need the following tables:\n1. Post table: post-id (Hash Key), \n2. Comment table: post-id (Hash Key), comment-id (Range Key)</p>\n\n<p>To get all the comment for a post, you query the comment table by just giving the HashKey (post-id).</p>\n\n<p>On Java side, you will have 2 classes (Post, Comments) mapped with the Dynamo DB Mapper.</p>\n\n<p>DynamoDBMapper (AWS SDK for Java - 1.7.1) : <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodb/datamodeling/DynamoDBMapper.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodb/datamodeling/DynamoDBMapper.html</a></p>\n"}],"owner":{"account_id":974596,"reputation":33,"user_id":996288,"display_name":"Deivid Martins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2939,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1678608657,"creation_date":1353369551,"question_id":13464560,"body_markdown":"Is possible to create a relationship between two tables using DynamoDB Java Persistence Model?\r\n\r\nI have the follow relationship of One Post to Many Comments\r\n\r\n    @DynamoDBTable(tableName=&quot;Post_MyApp&quot;)\r\n    public class Post {\r\n\t\r\n\tprivate String id;\r\n\tprivate String title;\r\n\tprivate Set &lt;Comment&gt; comments;\r\n    //... Getters and setters and dynamo annotations\r\n    }\r\n\r\nI have a separated table of comments, that Comment is another dynamo table/entity.\r\nMy idea is create a table of post_comments like in SQL with all the comments of a post. This is the right way to do this with Dynamo or there is another way to do it better?","title":"One-to-many in DynamoDB with Java Object Persistence Model","body":"<p>Is possible to create a relationship between two tables using DynamoDB Java Persistence Model?</p>\n\n<p>I have the follow relationship of One Post to Many Comments</p>\n\n<pre><code>@DynamoDBTable(tableName=\"Post_MyApp\")\npublic class Post {\n\nprivate String id;\nprivate String title;\nprivate Set &lt;Comment&gt; comments;\n//... Getters and setters and dynamo annotations\n}\n</code></pre>\n\n<p>I have a separated table of comments, that Comment is another dynamo table/entity.\nMy idea is create a table of post_comments like in SQL with all the comments of a post. This is the right way to do this with Dynamo or there is another way to do it better?</p>\n"},{"tags":["java","android","amazon-web-services","nosql","mapper"],"answers":[{"tags":[],"owner":{"account_id":1985087,"reputation":441,"user_id":1780554,"display_name":"Yair Harel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455513484,"creation_date":1455485422,"answer_id":35398209,"question_id":35397698,"body_markdown":"Looks like this exception comes from here :\r\nhttps://github.com/Widen/aws-sdk-for-java/blob/master/src/main/java/com/amazonaws/services/dynamodb/datamodeling/DynamoDBMapper.java (line 291)\r\n\r\nIt means there is no default constructor to the class, is it possible that you defined non default constructor to phrase ? try to add \r\n\r\n    public Phrase(){}\r\n\r\nHope it helped.\r\n ","title":"DynamoDB NoSQL and Failed to instantiate new instance of class","body":"<p>Looks like this exception comes from here :\n<a href=\"https://github.com/Widen/aws-sdk-for-java/blob/master/src/main/java/com/amazonaws/services/dynamodb/datamodeling/DynamoDBMapper.java\" rel=\"nofollow\">https://github.com/Widen/aws-sdk-for-java/blob/master/src/main/java/com/amazonaws/services/dynamodb/datamodeling/DynamoDBMapper.java</a> (line 291)</p>\n\n<p>It means there is no default constructor to the class, is it possible that you defined non default constructor to phrase ? try to add </p>\n\n<pre><code>public Phrase(){}\n</code></pre>\n\n<p>Hope it helped.</p>\n"},{"tags":[],"owner":{"account_id":5057262,"reputation":41,"user_id":4060115,"display_name":"Prabhendu Pandey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461369793,"creation_date":1461369793,"answer_id":36805033,"question_id":35397698,"body_markdown":"I ran into the same issue.\r\nDynamoDBMapper creates a new instance of the class when try to access the table for the sake of marshalling.\r\ntry writing a constructor for your class.\r\nworked for me","title":"DynamoDB NoSQL and Failed to instantiate new instance of class","body":"<p>I ran into the same issue.\nDynamoDBMapper creates a new instance of the class when try to access the table for the sake of marshalling.\ntry writing a constructor for your class.\nworked for me</p>\n"},{"tags":[],"owner":{"account_id":9475630,"reputation":1,"user_id":7045079,"display_name":"Kohei Moroi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476921671,"creation_date":1476921671,"answer_id":40143402,"question_id":35397698,"body_markdown":"Each table class must be subclass in the parent class that manipulate each table class.","title":"DynamoDB NoSQL and Failed to instantiate new instance of class","body":"<p>Each table class must be subclass in the parent class that manipulate each table class.</p>\n"}],"owner":{"account_id":7255687,"reputation":146,"user_id":5534428,"accept_rate":0,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5533,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1678608655,"creation_date":1455482245,"question_id":35397698,"body_markdown":"Need some help with  AmazonDynamoDB (NoSQL) but I believe its a general error AmazonDynamoDB not related.\r\n\r\nHere is a class below to work with DB, talbe name=table and has 2 columns PhraseID(integer, key column) and phrase (string). \r\n\r\n     @DynamoDBTable(tableName = &quot;table&quot;)\r\n       public class Phrase {\r\n        private Integer PhraseID;\r\n        private String phrase;\r\n       \r\n        @DynamoDBHashKey(attributeName = &quot;phraseID&quot;)\r\n        public Integer getID()\r\n        { return PhraseID;  }\r\n\r\n        public void setID(Integer PhraseID) {\r\n            this.PhraseID = PhraseID;}\r\n\r\n        @DynamoDBAttribute(attributeName = &quot;phrase&quot;)\r\n        public String getPhrase()\r\n        { return phrase;     }\r\n\r\n        public void setPhrase(String phrase)\r\n        {  this.phrase = phrase;     }\r\n\r\n    }\r\n\r\nI have no problems writing/updating this table with mapper.save (phrase) via phrase.setID and etc  but not with reading/loading. I call this readDB by: new  readDB().execute(&quot;&quot;);\r\n \r\n    private class readDB extends AsyncTask&lt;String, Void, String&gt; {\r\n        @Override\r\n        protected String doInBackground(String... params)\r\n        {\r\n\r\n            AmazonDynamoDBClient ddbClient = new          AmazonDynamoDBClient(credentialsProvider); //sdk-ddb\r\n            DynamoDBMapper mapper = new DynamoDBMapper(ddbClient);\r\n            Phrase phrase = new Phrase();\r\n            int a=1;\r\n            mapper.load(Phrase.class, a);  //want to load a phrase from db with phraseID=1\r\n            return &quot;Executed&quot;;\r\n        }\r\n    }\r\n\r\nSo Im getting the error: &quot;com.amazonaws.services.dynamodb.datamodeling.DynamoDBMappingException: **Failed to instantiate new instance of class**&quot; and one more below **&quot;Main activity Phrase has no zero argument constructor&quot;**\r\n\r\nGoogling this error gives me an answer  that I &quot;need to create a default constructor to solve this exception&quot; but I dont really understand what exactly I need to do / change in my code.\r\nThank you!!","title":"DynamoDB NoSQL and Failed to instantiate new instance of class","body":"<p>Need some help with  AmazonDynamoDB (NoSQL) but I believe its a general error AmazonDynamoDB not related.</p>\n\n<p>Here is a class below to work with DB, talbe name=table and has 2 columns PhraseID(integer, key column) and phrase (string). </p>\n\n<pre><code> @DynamoDBTable(tableName = \"table\")\n   public class Phrase {\n    private Integer PhraseID;\n    private String phrase;\n\n    @DynamoDBHashKey(attributeName = \"phraseID\")\n    public Integer getID()\n    { return PhraseID;  }\n\n    public void setID(Integer PhraseID) {\n        this.PhraseID = PhraseID;}\n\n    @DynamoDBAttribute(attributeName = \"phrase\")\n    public String getPhrase()\n    { return phrase;     }\n\n    public void setPhrase(String phrase)\n    {  this.phrase = phrase;     }\n\n}\n</code></pre>\n\n<p>I have no problems writing/updating this table with mapper.save (phrase) via phrase.setID and etc  but not with reading/loading. I call this readDB by: new  readDB().execute(\"\");</p>\n\n<pre><code>private class readDB extends AsyncTask&lt;String, Void, String&gt; {\n    @Override\n    protected String doInBackground(String... params)\n    {\n\n        AmazonDynamoDBClient ddbClient = new          AmazonDynamoDBClient(credentialsProvider); //sdk-ddb\n        DynamoDBMapper mapper = new DynamoDBMapper(ddbClient);\n        Phrase phrase = new Phrase();\n        int a=1;\n        mapper.load(Phrase.class, a);  //want to load a phrase from db with phraseID=1\n        return \"Executed\";\n    }\n}\n</code></pre>\n\n<p>So Im getting the error: \"com.amazonaws.services.dynamodb.datamodeling.DynamoDBMappingException: <strong>Failed to instantiate new instance of class</strong>\" and one more below <strong>\"Main activity Phrase has no zero argument constructor\"</strong></p>\n\n<p>Googling this error gives me an answer  that I \"need to create a default constructor to solve this exception\" but I dont really understand what exactly I need to do / change in my code.\nThank you!!</p>\n"},{"tags":["javascript","java","amazon-web-services","google-drive-api"],"comments":[{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1401721582,"post_id":23446147,"comment_id":36982599,"body_markdown":"&quot;Doesn&#39;t work&quot; is not helpful.  Please describe what exactly doesn&#39;t work, what error messages you saw or what lead you to conclude it&#39;s not working, and what steps you tried to debug the issue yourself.","body":"&quot;Doesn&#39;t work&quot; is not helpful.  Please describe what exactly doesn&#39;t work, what error messages you saw or what lead you to conclude it&#39;s not working, and what steps you tried to debug the issue yourself."}],"answers":[{"tags":[],"owner":{"account_id":2183786,"reputation":147,"user_id":1932683,"display_name":"mblomdahl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1399135642,"creation_date":1399135642,"answer_id":23447224,"question_id":23446147,"body_markdown":"## Configuring Email Notification Intervals ##\r\n\r\nThe email notifications are configured as Google Apps Scripts triggers invoking the `priceEmail` function. They&#39;re randomly assigned when you initialize the spreadsheet (refer to the ``Start_Tracking`` implementation).\r\n\r\nTo configure email notifications manually  e.g. adding a second daily email &#160;open the ``Copy of Amazon Price Tracker by ctrlq.org`` script associated with the spreadsheet (via the spreadsheet *Tools &gt; Script editor...* menu command). Then proceed to opening the triggers dialog (*Resources &gt; Current project&#39;s triggers* menu command) and add a new time-driven trigger for the `priceEmail` hook.\r\n\r\n\r\n## Script Errors ##\r\n\r\nBy default, the `priceEmail` function handles all errors silently. There&#39;s not much clue to what would cause the script to *not work 100% of the time*. If you&#39;d like to be notified of the errors, either remove the exception handling in the current implementation or update the `priceEmail` body.\r\n\r\nI&#39;d advice making the following modifications (again via the spreadsheet *Tools &gt; Script editor...* menu command):\r\n\r\n    function priceEmail() {\r\n  \r\n      var sheet, data, page, table=&quot;&quot;;\r\n  \r\n      sheet = SpreadsheetApp.getActiveSheet();\r\n      data  = sheet.getRange(2, 2, 21, 2).getValues();  // Note that the script will only look at the first 20 rows.\r\n      \r\n      try {\r\n        for (i in data) {      \r\n          if (data[i][0] !== &quot;&quot;) {\r\n            page = UrlFetchApp.fetch(\r\n              &quot;http://ctrlq.org/aws/lookup/&quot;, {\r\n                &quot;method&quot;: &quot;post&quot;, &quot;payload&quot;: {&quot;url&quot;:data[i][0]}\r\n              }).getContentText();\r\n            \r\n            table = table + tableRow(page);                \r\n          }     \r\n        }\r\n      } catch (e) {\r\n        Logger.log(e.toString());\r\n        // Following line inserted to include any error messages in your daily email(s).\r\n        table += &quot;&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Error:&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;&quot; + e + &quot; (url: \\&quot;&quot; + data[i][0] + &quot;\\&quot;)&lt;/td&gt;&lt;/tr&gt;&quot;;  \r\n      }\r\n      // ...\r\n","title":"Google Drive script doesn&#39;t work,","body":"<h2>Configuring Email Notification Intervals</h2>\n\n<p>The email notifications are configured as Google Apps Scripts triggers invoking the <code>priceEmail</code> function. They're randomly assigned when you initialize the spreadsheet (refer to the <code>Start_Tracking</code> implementation).</p>\n\n<p>To configure email notifications manually  e.g. adding a second daily email open the <code>Copy of Amazon Price Tracker by ctrlq.org</code> script associated with the spreadsheet (via the spreadsheet <em>Tools > Script editor...</em> menu command). Then proceed to opening the triggers dialog (<em>Resources > Current project's triggers</em> menu command) and add a new time-driven trigger for the <code>priceEmail</code> hook.</p>\n\n<h2>Script Errors</h2>\n\n<p>By default, the <code>priceEmail</code> function handles all errors silently. There's not much clue to what would cause the script to <em>not work 100% of the time</em>. If you'd like to be notified of the errors, either remove the exception handling in the current implementation or update the <code>priceEmail</code> body.</p>\n\n<p>I'd advice making the following modifications (again via the spreadsheet <em>Tools > Script editor...</em> menu command):</p>\n\n<pre><code>function priceEmail() {\n\n  var sheet, data, page, table=\"\";\n\n  sheet = SpreadsheetApp.getActiveSheet();\n  data  = sheet.getRange(2, 2, 21, 2).getValues();  // Note that the script will only look at the first 20 rows.\n\n  try {\n    for (i in data) {      \n      if (data[i][0] !== \"\") {\n        page = UrlFetchApp.fetch(\n          \"http://ctrlq.org/aws/lookup/\", {\n            \"method\": \"post\", \"payload\": {\"url\":data[i][0]}\n          }).getContentText();\n\n        table = table + tableRow(page);                \n      }     \n    }\n  } catch (e) {\n    Logger.log(e.toString());\n    // Following line inserted to include any error messages in your daily email(s).\n    table += \"&lt;tr&gt;&lt;td&gt;&lt;strong&gt;Error:&lt;/strong&gt;&lt;/td&gt;&lt;td&gt;\" + e + \" (url: \\\"\" + data[i][0] + \"\\\")&lt;/td&gt;&lt;/tr&gt;\";  \n  }\n  // ...\n</code></pre>\n"}],"owner":{"account_id":4350375,"reputation":331,"user_id":3550932,"display_name":"Ron.B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23447224,"answer_count":1,"score":1,"last_activity_date":1678608650,"creation_date":1399129750,"question_id":23446147,"body_markdown":"I found online google drive script that sends an email with the changes on the prices of Amazon products that I insert.\r\n[This is the file][1]\r\n\r\n\r\n  [1]: https://docs.google.com/spreadsheet/ccc?key=0Aofk8L6brI_edFc1cGpBQkhtRE1UYV9Dc0Y5akI4dEE&amp;newcopy=true\r\n\r\nI couldn&#39;t make it work for 100%.. It work sometimes only for some of the products, and I cant find the reason.\r\nPlease help me to understand what is wrong.\r\n\r\nAlso, I wanted to know if I could modify the script so it will send me an alert twice a day and not only once, as it is now.\r\n","title":"Google Drive script doesn&#39;t work,","body":"<p>I found online google drive script that sends an email with the changes on the prices of Amazon products that I insert.\n<a href=\"https://docs.google.com/spreadsheet/ccc?key=0Aofk8L6brI_edFc1cGpBQkhtRE1UYV9Dc0Y5akI4dEE&amp;newcopy=true\" rel=\"nofollow\">This is the file</a></p>\n\n<p>I couldn't make it work for 100%.. It work sometimes only for some of the products, and I cant find the reason.\nPlease help me to understand what is wrong.</p>\n\n<p>Also, I wanted to know if I could modify the script so it will send me an alert twice a day and not only once, as it is now.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","elasticsearch","amazon-elasticsearch"],"comments":[{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":1,"creation_date":1494956938,"post_id":44008267,"comment_id":75044696,"body_markdown":"can you call elasticsearch endpoint from local `curl -XGET 55.66.223.158:9200` from you local or not?","body":"can you call elasticsearch endpoint from local <code>curl -XGET 55.66.223.158:9200</code> from you local or not?"},{"owner":{"account_id":10604878,"reputation":555,"user_id":7810667,"accept_rate":33,"display_name":"Damien Gallagher"},"score":0,"creation_date":1494957440,"post_id":44008267,"comment_id":75045010,"body_markdown":"I can curl to port 80 but not port 9200 or port 9300","body":"I can curl to port 80 but not port 9200 or port 9300"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":1,"creation_date":1494957575,"post_id":44008267,"comment_id":75045090,"body_markdown":"Does port 80 return elasticsearch info or simply http response? I mean what is the response of `curl -XGET 55.66.223.158:80`. I just wanted to make sure that elasticsearch on your remote machine runs on port 9200, and AWS has firewall open for that port.","body":"Does port 80 return elasticsearch info or simply http response? I mean what is the response of <code>curl -XGET 55.66.223.158:80</code>. I just wanted to make sure that elasticsearch on your remote machine runs on port 9200, and AWS has firewall open for that port."},{"owner":{"account_id":10604878,"reputation":555,"user_id":7810667,"accept_rate":33,"display_name":"Damien Gallagher"},"score":0,"creation_date":1494958386,"post_id":44008267,"comment_id":75045555,"body_markdown":"This is the response of curl on port 80 - {\n  &quot;name&quot; : &quot;Mimir&quot;,\n  &quot;cluster_name&quot; : &quot;&lt;my cluster name&gt;&quot;,\n  &quot;version&quot; : {\n    &quot;number&quot; : &quot;2.3.2&quot;,\n    &quot;build_hash&quot; : &quot;72aa8010df1a4fc849da359c9c58acba6c4d9518&quot;,\n    &quot;build_timestamp&quot; : &quot;2016-11-14T15:59:50Z&quot;,\n    &quot;build_snapshot&quot; : false,\n    &quot;lucene_version&quot; : &quot;5.5.0&quot;\n  },\n  &quot;tagline&quot; : &quot;You Know, for Search&quot;\n}","body":"This is the response of curl on port 80 - {   &quot;name&quot; : &quot;Mimir&quot;,   &quot;cluster_name&quot; : &quot;&lt;my cluster name&gt;&quot;,   &quot;version&quot; : {     &quot;number&quot; : &quot;2.3.2&quot;,     &quot;build_hash&quot; : &quot;72aa8010df1a4fc849da359c9c58acba6c4d9518&quot;,     &quot;build_timestamp&quot; : &quot;2016-11-14T15:59:50Z&quot;,     &quot;build_snapshot&quot; : false,     &quot;lucene_version&quot; : &quot;5.5.0&quot;   },   &quot;tagline&quot; : &quot;You Know, for Search&quot; }"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":1,"creation_date":1494959089,"post_id":44008267,"comment_id":75046000,"body_markdown":"so its running on port 80, but you are connecting to 9200. change your config, `elasticsearch.port=80`. should work","body":"so its running on port 80, but you are connecting to 9200. change your config, <code>elasticsearch.port=80</code>. should work"},{"owner":{"account_id":10604878,"reputation":555,"user_id":7810667,"accept_rate":33,"display_name":"Damien Gallagher"},"score":0,"creation_date":1494959347,"post_id":44008267,"comment_id":75046145,"body_markdown":"that gives me this error - java.io.StreamCorruptedException: invalid internal transport message format, got (48,54,54,50)","body":"that gives me this error - java.io.StreamCorruptedException: invalid internal transport message format, got (48,54,54,50)"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1494961488,"post_id":44008267,"comment_id":75047354,"body_markdown":"There are few reasons why `StreamCorruptedException` happens. Can you check your java running on elasticsearch server and your local machine are same? - https://discuss.elastic.co/t/java-io-streamcorruptedexception-invalid-internal-transport-message-format-got-3-41-4d-52/25247/3","body":"There are few reasons why <code>StreamCorruptedException</code> happens. Can you check your java running on elasticsearch server and your local machine are same? - <a href=\"https://discuss.elastic.co/t/java-io-streamcorruptedexception-invalid-internal-transport-message-format-got-3-41-4d-52/25247/3\" rel=\"nofollow noreferrer\">discuss.elastic.co/t/&hellip;</a>"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1494961717,"post_id":44008267,"comment_id":75047472,"body_markdown":"The other reason would be port `80` is be equivalent to `9200` which is default port for http communication for elasticsearch. But there used to be port `9300` for TCP connection from api like Java. I am not what sure what port Amazon runs for tcp transportation. Please check AWS elasticsearch config for that - http://elasticsearch-users.115913.n3.nabble.com/Failing-starting-due-to-transport-layer-exception-td4033399.html","body":"The other reason would be port <code>80</code> is be equivalent to <code>9200</code> which is default port for http communication for elasticsearch. But there used to be port <code>9300</code> for TCP connection from api like Java. I am not what sure what port Amazon runs for tcp transportation. Please check AWS elasticsearch config for that - <a href=\"http://elasticsearch-users.115913.n3.nabble.com/Failing-starting-due-to-transport-layer-exception-td4033399.html\" rel=\"nofollow noreferrer\">elasticsearch-users.115913.n3.nabble.com/&hellip;</a>"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1494961869,"post_id":44008267,"comment_id":75047559,"body_markdown":"Nevermind it would be port 80 for TCP communication as well, as this [answer mentions](http://stackoverflow.com/a/33558330/432903). so check java versions are similar in server and client, BUT also make sure your clustername is right","body":"Nevermind it would be port 80 for TCP communication as well, as this <a href=\"http://stackoverflow.com/a/33558330/432903\">answer mentions</a>. so check java versions are similar in server and client, BUT also make sure your clustername is right"}],"answers":[{"tags":[],"owner":{"account_id":1484336,"reputation":2037,"user_id":1392894,"accept_rate":61,"display_name":"Brian Ecker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494965036,"creation_date":1494965036,"answer_id":44010622,"question_id":44008267,"body_markdown":"AWS Elasticsearch doesn&#39;t support TCP connections, only HTTP connections. This explains why your CURL commands work, but your java connection doesn&#39;t work. \r\n\r\n    TCP transport\r\n    The service supports HTTP on port 80, but does not support TCP transport.\r\n\r\nhttp://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/aes-supported-resources.html\r\n\r\nhttps://forums.aws.amazon.com/thread.jspa?messageID=683536","title":"Spring Boot Elastic Search And Not Able to Connect","body":"<p>AWS Elasticsearch doesn't support TCP connections, only HTTP connections. This explains why your CURL commands work, but your java connection doesn't work. </p>\n\n<pre><code>TCP transport\nThe service supports HTTP on port 80, but does not support TCP transport.\n</code></pre>\n\n<p><a href=\"http://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/aes-supported-resources.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/aes-supported-resources.html</a></p>\n\n<p><a href=\"https://forums.aws.amazon.com/thread.jspa?messageID=683536\" rel=\"nofollow noreferrer\">https://forums.aws.amazon.com/thread.jspa?messageID=683536</a></p>\n"},{"tags":[],"owner":{"account_id":1936670,"reputation":2894,"user_id":1743971,"display_name":"Yeshodhan Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494970039,"creation_date":1494970039,"answer_id":44011868,"question_id":44008267,"body_markdown":"AWS Elasticsearch only works on port 80 using Rest API. The default transport API from elasticsearch does not work with Hosted AWS elasticsearch.\r\n\r\nI had to customize the [Jest client][1] to add additional hooks to sign every request.\r\n\r\nYou may want to refer to [this][2] post on Stack Overflow for more details on how to sign the HTTP request.\r\n\r\n\r\n  [1]: https://github.com/searchbox-io/Jest/tree/master/jest\r\n  [2]: https://stackoverflow.com/questions/33760144/signing-aws-http-requests-with-apache-httpcomponents-client/43550224#43550224","title":"Spring Boot Elastic Search And Not Able to Connect","body":"<p>AWS Elasticsearch only works on port 80 using Rest API. The default transport API from elasticsearch does not work with Hosted AWS elasticsearch.</p>\n\n<p>I had to customize the <a href=\"https://github.com/searchbox-io/Jest/tree/master/jest\" rel=\"nofollow noreferrer\">Jest client</a> to add additional hooks to sign every request.</p>\n\n<p>You may want to refer to <a href=\"https://stackoverflow.com/questions/33760144/signing-aws-http-requests-with-apache-httpcomponents-client/43550224#43550224\">this</a> post on Stack Overflow for more details on how to sign the HTTP request.</p>\n"},{"tags":[],"owner":{"account_id":2701929,"reputation":209,"user_id":2332478,"display_name":"Aniruddh Rathore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624526126,"creation_date":1570603129,"answer_id":58298359,"question_id":44008267,"body_markdown":"Use HOST: ip address of hosted AWS elasticsearch or path of hosted AWS es and PORT : 80\r\n\r\nEx:\r\n\r\n10.100.1.1 or xyz.abc.com","title":"Spring Boot Elastic Search And Not Able to Connect","body":"<p>Use HOST: ip address of hosted AWS elasticsearch or path of hosted AWS es and PORT : 80</p>\n<p>Ex:</p>\n<p>10.100.1.1 or xyz.abc.com</p>\n"}],"owner":{"account_id":10604878,"reputation":555,"user_id":7810667,"accept_rate":33,"display_name":"Damien Gallagher"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2015,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1678608634,"creation_date":1494956738,"question_id":44008267,"body_markdown":"I was following this tutorial on  the Mkyong site\r\nhttps://www.mkyong.com/spring-boot/spring-boot-spring-data-elasticsearch-example/\r\n\r\nIt uses the spring-boot-starter-data-elasticsearch library to connect to elasticSearch\r\n\r\nI was using the following details to try and connect to an elastic search instance on Amazon`\r\n\r\n    elasticsearch.host=&lt;search address in amazon elastic search console&gt;\r\n    elasticsearch.port=9200\r\n    elasticsearch.clustername=&lt;accountId:clusterName&gt;`\r\n\r\n\r\nHowever I keep getting the following errors\r\n\r\n   \r\n\r\n     2017-05-16 18:37:24.308  INFO 7108 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean &#39;elasticsearchTemplate&#39; with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=esConfig; factoryMethodName=elasticsearchTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/mkyong/EsConfig.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration; factoryMethodName=elasticsearchTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchDataAutoConfiguration.class]]\r\n    2017-05-16 18:37:24.859  INFO 7108 --- [           main] org.elasticsearch.plugins                : [Rawhide Kid] modules [], plugins [], sites []\r\n    2017-05-16 18:37:46.911  INFO 7108 --- [           main] org.elasticsearch.client.transport       : [Rawhide Kid] failed to connect to node [{#transport#-1}{55.66.223.158}{55.66.223.158:9200}], removed from nodes list\r\n    \r\n    org.elasticsearch.transport.ConnectTransportException: [][55.66.223.158:9200] connect_timeout[30s]\r\n    \tat org.elasticsearch.transport.netty.NettyTransport.connectToChannelsLight(NettyTransport.java:967) ~[elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.transport.netty.NettyTransport.connectToNode(NettyTransport.java:933) ~[elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.transport.netty.NettyTransport.connectToNodeLight(NettyTransport.java:906) ~[elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.transport.TransportService.connectToNodeLight(TransportService.java:267) ~[elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.client.transport.TransportClientNodesService$SimpleNodeSampler.doSample(TransportClientNodesService.java:390) ~[elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.client.transport.TransportClientNodesService$NodeSampler.sample(TransportClientNodesService.java:336) [elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.client.transport.TransportClientNodesService.addTransportAddresses(TransportClientNodesService.java:187) [elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat org.elasticsearch.client.transport.TransportClient.addTransportAddress(TransportClient.java:243) [elasticsearch-2.4.4.jar:2.4.4]\r\n    \tat com.mkyong.EsConfig.client(EsConfig.java:45) [classes/:na]\r\n    \tat com.mkyong.EsConfig$$EnhancerBySpringCGLIB$$7e0ccfee.CGLIB$client$0(&lt;generated&gt;) [classes/:na]\r\n    \tat com.mkyong.EsConfig$$EnhancerBySpringCGLIB$$7e0ccfee$$FastClassBySpringCGLIB$$83a2b819.invoke(&lt;generated&gt;) [classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) [spring-context-4.3.6.RELEASE.jar:4.3.6.RELEASE]\r\n    \tat com.mkyong.EsConfig$$EnhancerBySpringCGLIB$$7e0ccfee.client(&lt;generated&gt;) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_65]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_65]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_65]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_65]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instant\r\n\r\nAny ideas what I need to do to connect to an elastic search instance on Amazon?\r\n\r\nThanks\r\nDamien","title":"Spring Boot Elastic Search And Not Able to Connect","body":"<p>I was following this tutorial on  the Mkyong site\n<a href=\"https://www.mkyong.com/spring-boot/spring-boot-spring-data-elasticsearch-example/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/spring-boot/spring-boot-spring-data-elasticsearch-example/</a></p>\n\n<p>It uses the spring-boot-starter-data-elasticsearch library to connect to elasticSearch</p>\n\n<p>I was using the following details to try and connect to an elastic search instance on Amazon`</p>\n\n<pre><code>elasticsearch.host=&lt;search address in amazon elastic search console&gt;\nelasticsearch.port=9200\nelasticsearch.clustername=&lt;accountId:clusterName&gt;`\n</code></pre>\n\n<p>However I keep getting the following errors</p>\n\n<pre><code> 2017-05-16 18:37:24.308  INFO 7108 --- [           main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'elasticsearchTemplate' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=esConfig; factoryMethodName=elasticsearchTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/mkyong/EsConfig.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.boot.autoconfigure.data.elasticsearch.ElasticsearchDataAutoConfiguration; factoryMethodName=elasticsearchTemplate; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/boot/autoconfigure/data/elasticsearch/ElasticsearchDataAutoConfiguration.class]]\n2017-05-16 18:37:24.859  INFO 7108 --- [           main] org.elasticsearch.plugins                : [Rawhide Kid] modules [], plugins [], sites []\n2017-05-16 18:37:46.911  INFO 7108 --- [           main] org.elasticsearch.client.transport       : [Rawhide Kid] failed to connect to node [{#transport#-1}{55.66.223.158}{55.66.223.158:9200}], removed from nodes list\n\norg.elasticsearch.transport.ConnectTransportException: [][55.66.223.158:9200] connect_timeout[30s]\n    at org.elasticsearch.transport.netty.NettyTransport.connectToChannelsLight(NettyTransport.java:967) ~[elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.transport.netty.NettyTransport.connectToNode(NettyTransport.java:933) ~[elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.transport.netty.NettyTransport.connectToNodeLight(NettyTransport.java:906) ~[elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.transport.TransportService.connectToNodeLight(TransportService.java:267) ~[elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.client.transport.TransportClientNodesService$SimpleNodeSampler.doSample(TransportClientNodesService.java:390) ~[elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.client.transport.TransportClientNodesService$NodeSampler.sample(TransportClientNodesService.java:336) [elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.client.transport.TransportClientNodesService.addTransportAddresses(TransportClientNodesService.java:187) [elasticsearch-2.4.4.jar:2.4.4]\n    at org.elasticsearch.client.transport.TransportClient.addTransportAddress(TransportClient.java:243) [elasticsearch-2.4.4.jar:2.4.4]\n    at com.mkyong.EsConfig.client(EsConfig.java:45) [classes/:na]\n    at com.mkyong.EsConfig$$EnhancerBySpringCGLIB$$7e0ccfee.CGLIB$client$0(&lt;generated&gt;) [classes/:na]\n    at com.mkyong.EsConfig$$EnhancerBySpringCGLIB$$7e0ccfee$$FastClassBySpringCGLIB$$83a2b819.invoke(&lt;generated&gt;) [classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) [spring-core-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) [spring-context-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at com.mkyong.EsConfig$$EnhancerBySpringCGLIB$$7e0ccfee.client(&lt;generated&gt;) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_65]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_65]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_65]\n    at java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_65]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instant\n</code></pre>\n\n<p>Any ideas what I need to do to connect to an elastic search instance on Amazon?</p>\n\n<p>Thanks\nDamien</p>\n"},{"tags":["java","amazon-web-services","eclipse","api"],"answers":[{"tags":[],"owner":{"account_id":2565537,"reputation":21,"user_id":2225722,"display_name":"Harry H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365213946,"creation_date":1365213946,"answer_id":15846236,"question_id":15730351,"body_markdown":"The line in my code:\r\n\r\n    Signature.calculateRFC2104HMAC(data, key);\r\n\r\nis missing a print statement to display the results. Changing it to\r\n\r\n    System.out.println(Signature.calculateRFC2104HMAC(data, key));\r\n\r\ngives me the result I was expecting.","title":"How do I sign a REST request for Amazon API using Java and Eclipse?","body":"<p>The line in my code:</p>\n\n<pre><code>Signature.calculateRFC2104HMAC(data, key);\n</code></pre>\n\n<p>is missing a print statement to display the results. Changing it to</p>\n\n<pre><code>System.out.println(Signature.calculateRFC2104HMAC(data, key));\n</code></pre>\n\n<p>gives me the result I was expecting.</p>\n"}],"owner":{"account_id":2565537,"reputation":21,"user_id":2225722,"display_name":"Harry H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1962,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678608621,"creation_date":1364739574,"question_id":15730351,"body_markdown":"Here is my dilemma. I&#39;m familiar with reading Java code, but no good at writing it. I have several examples from Amazon documentation, but I&#39;m doing something wrong. I&#39;m using Eclipse. I have the AWS Java SDK, Apache Commons Codec &amp; Logging, and Base64. I have all the code in the proper classpaths inside my project.\r\n\r\nI understand how to form the request (the order of elements, timestamp, etc.), but I don&#39;t know how to send this info to the java code to create the signed request. So I&#39;ll start with the code I am using from the documentation.\r\n\r\nCode for Signature:\r\n\r\n    import java.security.SignatureException;\r\n    import javax.crypto.Mac;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    \t/**\r\n    \t* This class defines common routines for generating\r\n    \t* authentication signatures for AWS requests.\r\n    \t*/\r\n    \tpublic class Signature {\r\n    \t\tprivate static final String HMAC_SHA1_ALGORITHM = &quot;HmacSHA1&quot;;\r\n    \t/**\r\n    \t* Computes RFC 2104-compliant HMAC signature.\r\n    \t* * @param data\r\n    \t* The data to be signed.\r\n    \t* @param key\r\n    \t* The signing key.\r\n    \t* @return\r\n    \t* The Base64-encoded RFC 2104-compliant HMAC signature.\r\n    \t* @throws\r\n    \t* java.security.SignatureException when signature generation fails\r\n    \t*/\r\n    \t\tpublic static String calculateRFC2104HMAC(String data, String key)\r\n    \t\t\t\tthrows java.security.SignatureException\r\n    \t\t{\r\n    \t\t\tString result;\r\n    \t\t\ttry {\r\n    \r\n    \t\t\t\t// get an hmac_sha1 key from the raw key bytes\r\n    \t\t\t\tSecretKeySpec signingKey = new SecretKeySpec(key.getBytes(), HMAC_SHA1_ALGORITHM);\r\n    \r\n    \t\t\t\t// get an hmac_sha1 Mac instance and initialize with the signing key\r\n    \t\t\t\tMac mac = Mac.getInstance(HMAC_SHA1_ALGORITHM);\r\n    \t\t\t\tmac.init(signingKey);\r\n    \r\n    \t\t\t\t// compute the hmac on input data bytes\r\n    \t\t\t\tbyte[] rawHmac = mac.doFinal(data.getBytes());\r\n    \r\n    \t\t\t\t// base64-encode the hmac\r\n    \t\t\t\tresult = Encoding.EncodeBase64(rawHmac);\r\n    \r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\tthrow new SignatureException(&quot;Failed to generate HMAC : &quot; + e.getMessage());\r\n    \t\t\t}\r\n    \t\t\treturn result;\r\n    \t\t}\r\n    }\r\n\r\nCode for Encoding:\r\n\r\n    /**\r\n    * This class defines common routines for encoding * data in AWS requests.\r\n    */\r\n    public class Encoding {\r\n    \t/**\r\n    \t* Performs base64-encoding of input bytes.\r\n    \t*\r\n    \t* @param rawData * Array of bytes to be encoded.\r\n    \t* @return * The base64 encoded string representation of rawData.\r\n    \t*/\r\n    \tpublic static String EncodeBase64(byte[] rawData) {\r\n    \t\treturn Base64.encodeBytes(rawData);\r\n    \t}\r\n    }\r\n\r\nCode I came up with to sign request:\r\n\r\n    import java.security.SignatureException;\r\n    \r\n    public class SignatureTest {\r\n    \t/**\r\n    \t * @param args\r\n    \t * @throws SignatureException\r\n    \t */\r\n    \tpublic static void main( String[] args ) throws SignatureException {\r\n    \t\t// data is the URL parameters and time stamp to be encoded\r\n    \t\tString data = &quot;&lt;data-to-encode&gt;&quot;;\r\n    \t\t// key is the secret key\r\n    \t\tString key = &quot;&lt;my-secret-key&gt;&quot;;\r\n    \t\tSignature.calculateRFC2104HMAC(data, key);\r\n    \t}\r\n    }\r\n\r\nAt first, I was getting errors related to classpath, so I added those to my project. Now when I run the code, I get no errors and no response, I just return to a command prompt. I know this is probably a simple solution. I&#39;ve spent a week trying to figure this out and have had no success finding any answers. Can someone point me in the right direction?\r\n\r\nNote: I didn&#39;t include the Base64 code here because of the size, but I do have that in my project.","title":"How do I sign a REST request for Amazon API using Java and Eclipse?","body":"<p>Here is my dilemma. I'm familiar with reading Java code, but no good at writing it. I have several examples from Amazon documentation, but I'm doing something wrong. I'm using Eclipse. I have the AWS Java SDK, Apache Commons Codec &amp; Logging, and Base64. I have all the code in the proper classpaths inside my project.</p>\n\n<p>I understand how to form the request (the order of elements, timestamp, etc.), but I don't know how to send this info to the java code to create the signed request. So I'll start with the code I am using from the documentation.</p>\n\n<p>Code for Signature:</p>\n\n<pre><code>import java.security.SignatureException;\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\n\n    /**\n    * This class defines common routines for generating\n    * authentication signatures for AWS requests.\n    */\n    public class Signature {\n        private static final String HMAC_SHA1_ALGORITHM = \"HmacSHA1\";\n    /**\n    * Computes RFC 2104-compliant HMAC signature.\n    * * @param data\n    * The data to be signed.\n    * @param key\n    * The signing key.\n    * @return\n    * The Base64-encoded RFC 2104-compliant HMAC signature.\n    * @throws\n    * java.security.SignatureException when signature generation fails\n    */\n        public static String calculateRFC2104HMAC(String data, String key)\n                throws java.security.SignatureException\n        {\n            String result;\n            try {\n\n                // get an hmac_sha1 key from the raw key bytes\n                SecretKeySpec signingKey = new SecretKeySpec(key.getBytes(), HMAC_SHA1_ALGORITHM);\n\n                // get an hmac_sha1 Mac instance and initialize with the signing key\n                Mac mac = Mac.getInstance(HMAC_SHA1_ALGORITHM);\n                mac.init(signingKey);\n\n                // compute the hmac on input data bytes\n                byte[] rawHmac = mac.doFinal(data.getBytes());\n\n                // base64-encode the hmac\n                result = Encoding.EncodeBase64(rawHmac);\n\n            } catch (Exception e) {\n                throw new SignatureException(\"Failed to generate HMAC : \" + e.getMessage());\n            }\n            return result;\n        }\n}\n</code></pre>\n\n<p>Code for Encoding:</p>\n\n<pre><code>/**\n* This class defines common routines for encoding * data in AWS requests.\n*/\npublic class Encoding {\n    /**\n    * Performs base64-encoding of input bytes.\n    *\n    * @param rawData * Array of bytes to be encoded.\n    * @return * The base64 encoded string representation of rawData.\n    */\n    public static String EncodeBase64(byte[] rawData) {\n        return Base64.encodeBytes(rawData);\n    }\n}\n</code></pre>\n\n<p>Code I came up with to sign request:</p>\n\n<pre><code>import java.security.SignatureException;\n\npublic class SignatureTest {\n    /**\n     * @param args\n     * @throws SignatureException\n     */\n    public static void main( String[] args ) throws SignatureException {\n        // data is the URL parameters and time stamp to be encoded\n        String data = \"&lt;data-to-encode&gt;\";\n        // key is the secret key\n        String key = \"&lt;my-secret-key&gt;\";\n        Signature.calculateRFC2104HMAC(data, key);\n    }\n}\n</code></pre>\n\n<p>At first, I was getting errors related to classpath, so I added those to my project. Now when I run the code, I get no errors and no response, I just return to a command prompt. I know this is probably a simple solution. I've spent a week trying to figure this out and have had no success finding any answers. Can someone point me in the right direction?</p>\n\n<p>Note: I didn't include the Base64 code here because of the size, but I do have that in my project.</p>\n"},{"tags":["java","linux","amazon-web-services","amazon-ec2"],"answers":[{"tags":[],"owner":{"account_id":6629173,"reputation":1,"user_id":5118349,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436947040,"creation_date":1436947040,"answer_id":31424626,"question_id":31423465,"body_markdown":"Please refer to this guide. The second Tutorial should help you.\r\n\r\n[Installing Sun Java on Newer versions of Ubuntu (10.04 an above)][1]\r\n\r\n\r\n  [1]: https://askubuntu.com/a/21133\r\n","title":"Removing Open JDK","body":"<p>Please refer to this guide. The second Tutorial should help you.</p>\n\n<p><a href=\"https://askubuntu.com/a/21133\">Installing Sun Java on Newer versions of Ubuntu (10.04 an above)</a></p>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":563,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678608525,"creation_date":1436943441,"question_id":31423465,"body_markdown":"I am somewhat new to amazon aws and I just created a Linux instance. Now I am interested in Java 7, but I found the system is having OpenJDK installed.\n\n![enter image description here][1]\n\nHow can I remove this OpenJDK &quot;completely&quot; so I can install Oracle Java?\n\n  [1]: http://i.stack.imgur.com/SBooA.png","title":"Removing Open JDK","body":"<p>I am somewhat new to amazon aws and I just created a Linux instance. Now I am interested in Java 7, but I found the system is having OpenJDK installed.</p>\n<p><img src=\"https://i.stack.imgur.com/SBooA.png\" alt=\"enter image description here\" /></p>\n<p>How can I remove this OpenJDK &quot;completely&quot; so I can install Oracle Java?</p>\n"},{"tags":["java","amazon-web-services","workflow","amazon-swf"],"answers":[{"tags":[],"owner":{"account_id":1833470,"reputation":6598,"user_id":1664318,"display_name":"Maxim Fateev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1418068534,"creation_date":1418068534,"answer_id":27365801,"question_id":27357797,"body_markdown":"The exception means that the WorkflowWorker (decider) receives a decision task for a workflow it is not configured to run. My guess is that you have two WorkflowWorkers one for the parent and one for the child workflow that share the same task list name. And as the task list name is the same any of them can get tasks from the other. So the solution is either register both workflows with a single WorkflowWorker or use different task lists for each worker. Note that workflow version should be bumped if task list name is changed as workflow type properties are immutable once registered. ","title":"Amazon Simple Workflow and child workflow","body":"<p>The exception means that the WorkflowWorker (decider) receives a decision task for a workflow it is not configured to run. My guess is that you have two WorkflowWorkers one for the parent and one for the child workflow that share the same task list name. And as the task list name is the same any of them can get tasks from the other. So the solution is either register both workflows with a single WorkflowWorker or use different task lists for each worker. Note that workflow version should be bumped if task list name is changed as workflow type properties are immutable once registered. </p>\n"}],"owner":{"account_id":4664936,"reputation":3,"user_id":3778220,"display_name":"user3778220"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27365801,"answer_count":1,"score":0,"last_activity_date":1678608515,"creation_date":1418040916,"question_id":27357797,"body_markdown":"I am trying to run a childworkflow from a workflow in amazon simple workflow service using java flow framework for AWS. Below is the main workflow implementation code:\r\n\r\n    package SWF.ChildWorkFlow;\r\n    \r\n    import org.springframework.core.annotation.Order;\r\n    \r\n    import com.amazonaws.services.simpleworkflow.flow.core.Promise;\r\n    \r\n    public class OrderWorkflowImpl implements OrderWorkflow {\r\n    \r\n        private OrderActivitiesClient client = new OrderActivitiesClientImpl();\r\n    \r\n        ProcessPaymentWorkflowClientFactory factory = new ProcessPaymentWorkflowClientFactoryImpl();\r\n    \r\n        @Override\r\n        public void getCustomerOrder() {\r\n            Promise&lt;String&gt; a = client.getOrder();\r\n    \r\n    \r\n            ProcessPaymentWorkflowClient childWorkflowClient = factory.getClient(&quot;ChildWorkflow&quot;);\r\n            childWorkflowClient.paymentProcessor(a);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nActivities from main workflows are running but activities from childorkflow(paymentProcessor) is running after it throws some error.\r\n\r\nbelow is the error message-\r\n\r\n    Dec 08, 2014 3:11:21 PM com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler createDecider\r\n    SEVERE: Received decision task for workflow type not configured with a worker: workflowType={Name: OrderWorkflow.getCustomerOrder,Version: 1.1}, taskToken=AAAAKgAAAAIAAAAAAAAAAjtd06ct8IXpzt5gbkfiKHXQbZci9kmJuSq1rKtpPVW+l+7hhLESuQDt5e3oVobCfbjEhfrRae26bnGLV3Kz2zsOUDBxpMGlFGReCBKeUc9BNGzKyOj4uiX5bPMdvez6zn8/Xfy69KTARDWvy15EsoP/4fp/9z3t4XJkzuk/Ks857gvtfNEZ1RfnlBqaqv2i9hpVBgHQXeoly0soewELhUxdOWHhYOxsGnGnM/MsEPFaXwKgzqwddXfuco7Pho0qle2xViYudOs7wcEECfi2Tgw=, workflowExecution={WorkflowId: workflow,RunId: 22fW/b5Qf+8M5AYj7S2PHY9N74LQGlouoWwszAFXH8VFI=}\r\n    Dec 08, 2014 3:11:21 PM com.amazonaws.services.simpleworkflow.flow.worker.DecisionTaskPoller pollAndProcessSingleTask\r\n    WARNING: DecisionTask failure: taskId= 9, workflowExecution={WorkflowId: workflow,RunId: 22fW/b5Qf+8M5AYj7S2PHY9N74LQGlouoWwszAFXH8VFI=}\r\n    java.lang.IllegalArgumentException: No implementation was found for {Name: OrderWorkflow.getCustomerOrder,Version: 1.1}\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.createDecider(AsyncDecisionTaskHandler.java:111)\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.handleDecisionTask(AsyncDecisionTaskHandler.java:49)\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.DecisionTaskPoller.pollAndProcessSingleTask(DecisionTaskPoller.java:201)\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.GenericWorker$PollServiceTask.run(GenericWorker.java:94)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    \r\n    Dec 08, 2014 3:11:21 PM com.amazonaws.services.simpleworkflow.flow.worker.GenericWorker uncaughtException\r\n    SEVERE: Failure in thread SWF Decider HelloWorldListParallel 1\r\n    java.lang.IllegalArgumentException: No implementation was found for {Name: OrderWorkflow.getCustomerOrder,Version: 1.1}\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.createDecider(AsyncDecisionTaskHandler.java:111)\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.handleDecisionTask(AsyncDecisionTaskHandler.java:49)\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.DecisionTaskPoller.pollAndProcessSingleTask(DecisionTaskPoller.java:201)\r\n    \tat com.amazonaws.services.simpleworkflow.flow.worker.GenericWorker$PollServiceTask.run(GenericWorker.java:94)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\n\r\nCould anyone please help me out in the problem. And I am also not able to find out any proper documentation on childworkflows in AWS SWF service on internet. Thanks in advance.","title":"Amazon Simple Workflow and child workflow","body":"<p>I am trying to run a childworkflow from a workflow in amazon simple workflow service using java flow framework for AWS. Below is the main workflow implementation code:</p>\n\n<pre><code>package SWF.ChildWorkFlow;\n\nimport org.springframework.core.annotation.Order;\n\nimport com.amazonaws.services.simpleworkflow.flow.core.Promise;\n\npublic class OrderWorkflowImpl implements OrderWorkflow {\n\n    private OrderActivitiesClient client = new OrderActivitiesClientImpl();\n\n    ProcessPaymentWorkflowClientFactory factory = new ProcessPaymentWorkflowClientFactoryImpl();\n\n    @Override\n    public void getCustomerOrder() {\n        Promise&lt;String&gt; a = client.getOrder();\n\n\n        ProcessPaymentWorkflowClient childWorkflowClient = factory.getClient(\"ChildWorkflow\");\n        childWorkflowClient.paymentProcessor(a);\n\n    }\n\n}\n</code></pre>\n\n<p>Activities from main workflows are running but activities from childorkflow(paymentProcessor) is running after it throws some error.</p>\n\n<p>below is the error message-</p>\n\n<pre><code>Dec 08, 2014 3:11:21 PM com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler createDecider\nSEVERE: Received decision task for workflow type not configured with a worker: workflowType={Name: OrderWorkflow.getCustomerOrder,Version: 1.1}, taskToken=AAAAKgAAAAIAAAAAAAAAAjtd06ct8IXpzt5gbkfiKHXQbZci9kmJuSq1rKtpPVW+l+7hhLESuQDt5e3oVobCfbjEhfrRae26bnGLV3Kz2zsOUDBxpMGlFGReCBKeUc9BNGzKyOj4uiX5bPMdvez6zn8/Xfy69KTARDWvy15EsoP/4fp/9z3t4XJkzuk/Ks857gvtfNEZ1RfnlBqaqv2i9hpVBgHQXeoly0soewELhUxdOWHhYOxsGnGnM/MsEPFaXwKgzqwddXfuco7Pho0qle2xViYudOs7wcEECfi2Tgw=, workflowExecution={WorkflowId: workflow,RunId: 22fW/b5Qf+8M5AYj7S2PHY9N74LQGlouoWwszAFXH8VFI=}\nDec 08, 2014 3:11:21 PM com.amazonaws.services.simpleworkflow.flow.worker.DecisionTaskPoller pollAndProcessSingleTask\nWARNING: DecisionTask failure: taskId= 9, workflowExecution={WorkflowId: workflow,RunId: 22fW/b5Qf+8M5AYj7S2PHY9N74LQGlouoWwszAFXH8VFI=}\njava.lang.IllegalArgumentException: No implementation was found for {Name: OrderWorkflow.getCustomerOrder,Version: 1.1}\n    at com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.createDecider(AsyncDecisionTaskHandler.java:111)\n    at com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.handleDecisionTask(AsyncDecisionTaskHandler.java:49)\n    at com.amazonaws.services.simpleworkflow.flow.worker.DecisionTaskPoller.pollAndProcessSingleTask(DecisionTaskPoller.java:201)\n    at com.amazonaws.services.simpleworkflow.flow.worker.GenericWorker$PollServiceTask.run(GenericWorker.java:94)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n\nDec 08, 2014 3:11:21 PM com.amazonaws.services.simpleworkflow.flow.worker.GenericWorker uncaughtException\nSEVERE: Failure in thread SWF Decider HelloWorldListParallel 1\njava.lang.IllegalArgumentException: No implementation was found for {Name: OrderWorkflow.getCustomerOrder,Version: 1.1}\n    at com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.createDecider(AsyncDecisionTaskHandler.java:111)\n    at com.amazonaws.services.simpleworkflow.flow.worker.AsyncDecisionTaskHandler.handleDecisionTask(AsyncDecisionTaskHandler.java:49)\n    at com.amazonaws.services.simpleworkflow.flow.worker.DecisionTaskPoller.pollAndProcessSingleTask(DecisionTaskPoller.java:201)\n    at com.amazonaws.services.simpleworkflow.flow.worker.GenericWorker$PollServiceTask.run(GenericWorker.java:94)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>Could anyone please help me out in the problem. And I am also not able to find out any proper documentation on childworkflows in AWS SWF service on internet. Thanks in advance.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","maven","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":946466,"reputation":21,"user_id":5011384,"display_name":"Kiran Phadatare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485799378,"creation_date":1485799378,"answer_id":41942513,"question_id":41942212,"body_markdown":"Hi you can always use multiple config file option such that one will be \r\nlocal-app.properties and live-app.properties\r\n\r\nand when you start your application you pass along the file that you want to use as configuration using the parameter\r\n\r\n    --spring.config.location=local-app.properties\r\nor\r\n\r\n    --spring.config.location=live-app.properties\r\n\r\nyour local file will contain properties for proxy and live wont contain it (thus setting it to null, i hope null works or you can add null checks).\r\n\r\nfor more details look at this question : [Spring boot multiple config files][1] it dosent answer your question but answer by ***ganesh jadhav*** clearly shows an example.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25855795/spring-boot-and-multiple-external-configuration-files","title":"how setup AmazonS3Client to work with proxy in DEV profile but without proxy when in PROD profile","body":"<p>Hi you can always use multiple config file option such that one will be \nlocal-app.properties and live-app.properties</p>\n\n<p>and when you start your application you pass along the file that you want to use as configuration using the parameter</p>\n\n<pre><code>--spring.config.location=local-app.properties\n</code></pre>\n\n<p>or</p>\n\n<pre><code>--spring.config.location=live-app.properties\n</code></pre>\n\n<p>your local file will contain properties for proxy and live wont contain it (thus setting it to null, i hope null works or you can add null checks).</p>\n\n<p>for more details look at this question : <a href=\"https://stackoverflow.com/questions/25855795/spring-boot-and-multiple-external-configuration-files\">Spring boot multiple config files</a> it dosent answer your question but answer by <strong><em>ganesh jadhav</em></strong> clearly shows an example.</p>\n"}],"owner":{"account_id":9746622,"reputation":487,"user_id":7226384,"accept_rate":33,"display_name":"DemeCarvO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3008,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678608479,"creation_date":1485798370,"question_id":41942212,"body_markdown":"According to http://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html there are 5 ways to work with AWS Credentials. All 5, as far as I can see, offer someway to settup AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY. Nevertheless, I use proxy configuration when I am developing but I don&#39;t need it when it is running in AWS. I am manually commenting the code where I set up the proxy details while deploying to AWS. I couldn&#39;t find better solution but I am sure I am not doing the best way. My straigh question is: how can I turn it more flexible? I mean, using my local proxy configuration but taking it out when deploying the code? Certainly, there is some option using maven profile or other way.\r\n\r\nBasically, the point is: I am using &quot;new AmazonS3Client(credentials, config)&quot; while developing but &quot;new AmazonS3Client(credentials)&quot; when building and deploying to AWS.\r\n\r\n\r\n    @Component\r\n    public class MyClass {\r\n\r\n\t@Value(&quot;${bucketName}&quot;)\r\n\tprivate String bucketName;\r\n\t\r\n\t@Value(&quot;${accessKey}&quot;)\r\n\tprivate String accessKey;\r\n\t\r\n\t@Value(&quot;${secretKey}&quot;)\r\n\tprivate String secretKey;\r\n\r\n//...\r\n\r\n\t\t\tAWSCredentials credentials = null;\r\n\t\t\tcredentials = new BasicAWSCredentials(accessKey, secretKey); \r\n\r\nWhen I am developing:\r\n\r\n    ClientConfiguration config = new ClientConfiguration();\r\n    String proxyHost = &quot;my.local.proxy.ip&quot;;\r\n    String proxyPort = &quot;8080&quot;;\r\n    String proxyUser = &quot;my-local-network-user&quot;; \r\n    String proxyPassword = &quot;pwpwd&quot;;\r\n    config.setProxyHost(proxyHost);\r\n    config.setProxyPort(Integer.valueOf(proxyPort));\r\n    config.setProxyUsername(proxyUser);\r\n    config.setProxyPassword(proxyPassword);\r\n    AmazonS3 s3client = new AmazonS3Client(credentials, config);\r\n\r\nwhen deployed to AWS\r\n\r\n    AmazonS3 s3client = new AmazonS3Client(credentials);\r\n\r\napplication.properties (file commonly used by Spring Boot)\r\n\r\n    accessKey=A..W\r\n    secretKey=b1234..rewq\r\n\r\n\r\n*** Edited in February 1st 2017\r\n\r\nI am using this work around but I am sure there is better way to accomplish it\r\n\r\n    @Value(&quot;${proxyHost}&quot;)\r\n    private String proxyHost;\r\n    \r\n    @Value(&quot;${proxyPort}&quot;)\r\n    private Integer proxyPort;\r\n    \r\n    @Value(&quot;${proxyUser}&quot;)\r\n    private String proxyUser;\r\n    \r\n    @Value(&quot;${proxyPassword}&quot;)\r\n    private String proxyPassword;\r\n\r\n    //...\r\n\r\n\t\tcredentials = new BasicAWSCredentials(accessKey, secretKey);\r\n\r\n\t\tif (proxyHost != null &amp;&amp; proxyHost.length() &gt; 0 &amp;&amp; proxyPort != null &amp;&amp; proxyUser != null\r\n\t\t\t\t&amp;&amp; proxyUser.length() &gt; 0 &amp;&amp; proxyPassword != null &amp;&amp; proxyPassword.length() &gt; 0) {\r\n\t\t\tconfig = new ClientConfiguration();\r\n\t\t\tconfig.setProxyHost(proxyHost);\r\n\t\t\tconfig.setProxyPort(proxyPort);\r\n\t\t\tconfig.setProxyUsername(proxyUser);\r\n\t\t\tconfig.setProxyPassword(proxyPassword);\r\n\t\t\ts3client = new AmazonS3Client(credentials, config);\r\n\t\t} else {\r\n\t\t\ts3client = new AmazonS3Client(credentials);\r\n\t\t}\r\n\r\n","title":"how setup AmazonS3Client to work with proxy in DEV profile but without proxy when in PROD profile","body":"<p>According to <a href=\"http://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html</a> there are 5 ways to work with AWS Credentials. All 5, as far as I can see, offer someway to settup AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY. Nevertheless, I use proxy configuration when I am developing but I don't need it when it is running in AWS. I am manually commenting the code where I set up the proxy details while deploying to AWS. I couldn't find better solution but I am sure I am not doing the best way. My straigh question is: how can I turn it more flexible? I mean, using my local proxy configuration but taking it out when deploying the code? Certainly, there is some option using maven profile or other way.</p>\n\n<p>Basically, the point is: I am using \"new AmazonS3Client(credentials, config)\" while developing but \"new AmazonS3Client(credentials)\" when building and deploying to AWS.</p>\n\n<pre><code>@Component\npublic class MyClass {\n\n@Value(\"${bucketName}\")\nprivate String bucketName;\n\n@Value(\"${accessKey}\")\nprivate String accessKey;\n\n@Value(\"${secretKey}\")\nprivate String secretKey;\n</code></pre>\n\n<p>//...</p>\n\n<pre><code>        AWSCredentials credentials = null;\n        credentials = new BasicAWSCredentials(accessKey, secretKey); \n</code></pre>\n\n<p>When I am developing:</p>\n\n<pre><code>ClientConfiguration config = new ClientConfiguration();\nString proxyHost = \"my.local.proxy.ip\";\nString proxyPort = \"8080\";\nString proxyUser = \"my-local-network-user\"; \nString proxyPassword = \"pwpwd\";\nconfig.setProxyHost(proxyHost);\nconfig.setProxyPort(Integer.valueOf(proxyPort));\nconfig.setProxyUsername(proxyUser);\nconfig.setProxyPassword(proxyPassword);\nAmazonS3 s3client = new AmazonS3Client(credentials, config);\n</code></pre>\n\n<p>when deployed to AWS</p>\n\n<pre><code>AmazonS3 s3client = new AmazonS3Client(credentials);\n</code></pre>\n\n<p>application.properties (file commonly used by Spring Boot)</p>\n\n<pre><code>accessKey=A..W\nsecretKey=b1234..rewq\n</code></pre>\n\n<p>*** Edited in February 1st 2017</p>\n\n<p>I am using this work around but I am sure there is better way to accomplish it</p>\n\n<pre><code>@Value(\"${proxyHost}\")\nprivate String proxyHost;\n\n@Value(\"${proxyPort}\")\nprivate Integer proxyPort;\n\n@Value(\"${proxyUser}\")\nprivate String proxyUser;\n\n@Value(\"${proxyPassword}\")\nprivate String proxyPassword;\n\n//...\n\n    credentials = new BasicAWSCredentials(accessKey, secretKey);\n\n    if (proxyHost != null &amp;&amp; proxyHost.length() &gt; 0 &amp;&amp; proxyPort != null &amp;&amp; proxyUser != null\n            &amp;&amp; proxyUser.length() &gt; 0 &amp;&amp; proxyPassword != null &amp;&amp; proxyPassword.length() &gt; 0) {\n        config = new ClientConfiguration();\n        config.setProxyHost(proxyHost);\n        config.setProxyPort(proxyPort);\n        config.setProxyUsername(proxyUser);\n        config.setProxyPassword(proxyPassword);\n        s3client = new AmazonS3Client(credentials, config);\n    } else {\n        s3client = new AmazonS3Client(credentials);\n    }\n</code></pre>\n"},{"tags":["java","android","amazon-web-services","intellij-idea"],"comments":[{"owner":{"account_id":20374,"reputation":867,"user_id":48651,"accept_rate":65,"display_name":"Lee Winder"},"score":1,"creation_date":1410967412,"post_id":25465754,"comment_id":40527223,"body_markdown":"I&#39;ve encountered the same problem with v2.1 detailed here - http://stackoverflow.com/questions/25894513/building-the-android-aws-2-1-0-sdk\n\nBut, for v1.x, can&#39;t you just use Maven with the packaged pom.xml file?","body":"I&#39;ve encountered the same problem with v2.1 detailed here - <a href=\"http://stackoverflow.com/questions/25894513/building-the-android-aws-2-1-0-sdk\" title=\"building the android aws 2 1 0 sdk\">stackoverflow.com/questions/25894513/&hellip;</a>  But, for v1.x, can&#39;t you just use Maven with the packaged pom.xml file?"}],"answers":[{"tags":[],"owner":{"account_id":1662191,"reputation":670,"user_id":1530254,"accept_rate":73,"display_name":"Phillip Godzin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1417663066,"creation_date":1417663066,"answer_id":27285652,"question_id":25465754,"body_markdown":"It looks like the issue was how I was adding it in Intellij - it should have been added as a project dependency rather than module.","title":"AWS Android sdk 1.7.1.1 not compiling - issues with AmazonHttpClient and HttpClientFactory","body":"<p>It looks like the issue was how I was adding it in Intellij - it should have been added as a project dependency rather than module.</p>\n"}],"owner":{"account_id":1662191,"reputation":670,"user_id":1530254,"accept_rate":73,"display_name":"Phillip Godzin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27285652,"answer_count":1,"score":0,"last_activity_date":1678608473,"creation_date":1408823135,"question_id":25465754,"body_markdown":"I downloaded the latest version, 1.7.1.1, added it as a module in Intellij, and added it as a dependency in my project. Building it against Android API 17. When building, the AmazonHttpClient and HttpClientFactory classes give a few compile errors. \r\n\r\nFor example, in AmazonHTTPClient.java,\r\n\r\n    SSLSocketFactory sf = new SSLSocketFactory(\r\n                SSLContext.getDefault(),\r\n                SSLSocketFactory.BROWSER_COMPATIBLE_HOSTNAME_VERIFIER);\r\n\r\nis not an applicable constructor.\r\n\r\nAlso, httpClient.setRedirectStrategy cannot be resolved, and the Scheme constructors have their parameters in the wrong order. \r\n\r\nIs this an Amazon issue or is something wrong on my end?\r\n","title":"AWS Android sdk 1.7.1.1 not compiling - issues with AmazonHttpClient and HttpClientFactory","body":"<p>I downloaded the latest version, 1.7.1.1, added it as a module in Intellij, and added it as a dependency in my project. Building it against Android API 17. When building, the AmazonHttpClient and HttpClientFactory classes give a few compile errors. </p>\n\n<p>For example, in AmazonHTTPClient.java,</p>\n\n<pre><code>SSLSocketFactory sf = new SSLSocketFactory(\n            SSLContext.getDefault(),\n            SSLSocketFactory.BROWSER_COMPATIBLE_HOSTNAME_VERIFIER);\n</code></pre>\n\n<p>is not an applicable constructor.</p>\n\n<p>Also, httpClient.setRedirectStrategy cannot be resolved, and the Scheme constructors have their parameters in the wrong order. </p>\n\n<p>Is this an Amazon issue or is something wrong on my end?</p>\n"},{"tags":["java","amazon-web-services","amazon-cognito"],"answers":[{"tags":[],"owner":{"account_id":260606,"reputation":1599,"user_id":544261,"accept_rate":80,"display_name":"David Kierans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485186180,"creation_date":1485186180,"answer_id":41810170,"question_id":41715038,"body_markdown":"When you created your user pool double check you have all the expected federated providers supported.  If you use developer authenticated make sure you add that &#39;login....&#39; domain as well.\r\nGrab your/a token and look at it in jwt.io for clues as well.","title":"Authenticate with Cognito Federated Identities","body":"<p>When you created your user pool double check you have all the expected federated providers supported.  If you use developer authenticated make sure you add that 'login....' domain as well.\nGrab your/a token and look at it in jwt.io for clues as well.</p>\n"},{"tags":[],"owner":{"account_id":3594383,"reputation":10797,"user_id":2999566,"display_name":"Mike Patrick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510110150,"creation_date":1507995681,"answer_id":46746314,"question_id":41715038,"body_markdown":"There are three pieces of data that need to match in this scenario:\r\n\r\n - Provider as configured in AWS. \r\n - Provider as put into the `Logins` map.\r\n - `iss` value (issuer) in the id token.\r\n\r\nWhen I have seen this error, it has been because the value in the Logins map does not match the provider as configured in AWS.\r\n\r\nFor example, an unexpected port number or [trailing slash][1] can cause these not to match.\r\n\r\nBeyond this, there are a couple of settings in AWS that need to line up.\r\n\r\n**Provider as configured in AWS**\r\n\r\nWith a Cognito User Pool, Amazon configures this name for you, so it&#39;s non-configurable on the backend.  The format of the `providerName` in your Java code looks good, but first I&#39;d triple check the `xxxxxxx` part for a typo.\r\n\r\n**App Client settings**\r\n\r\nThen, make sure your App Client has Cognito enabled in your User Pool settings:\r\n\r\n[![Cognito enabled for App Client][2]][2]\r\n\r\n**Federated Identities settings**\r\n\r\nNext, in your federated identities settings, verify that the user pool id and client id appear in the Cognito tab under &quot;Authentication providers&quot;, and that they match your user pool and App Client.\r\n\r\n[![Federated Identities settings][3]][3]\r\n\r\n**JWT issuer**\r\n\r\nFinally, I would expect the error to be `&quot;Invalid login token. Issuer doesn&#39;t match providerName&quot;` if there was a problem with the `iss` value in the JWT.  However, decoding the id token you get back and inspecting the contents (as suggested in another answer) is also good advice.\r\n\r\nIf all these pieces appear to be in place, and the error persists, please leave a comment.  Happy Hacking!\r\n\r\n  [1]: https://stackoverflow.com/questions/44451605/token-is-not-from-a-supported-provider-of-this-identity-pool-amazon-mobile-hub-a\r\n  [2]: https://i.stack.imgur.com/xnWkg.png\r\n  [3]: https://i.stack.imgur.com/R7cpZ.png","title":"Authenticate with Cognito Federated Identities","body":"<p>There are three pieces of data that need to match in this scenario:</p>\n\n<ul>\n<li>Provider as configured in AWS. </li>\n<li>Provider as put into the <code>Logins</code> map.</li>\n<li><code>iss</code> value (issuer) in the id token.</li>\n</ul>\n\n<p>When I have seen this error, it has been because the value in the Logins map does not match the provider as configured in AWS.</p>\n\n<p>For example, an unexpected port number or <a href=\"https://stackoverflow.com/questions/44451605/token-is-not-from-a-supported-provider-of-this-identity-pool-amazon-mobile-hub-a\">trailing slash</a> can cause these not to match.</p>\n\n<p>Beyond this, there are a couple of settings in AWS that need to line up.</p>\n\n<p><strong>Provider as configured in AWS</strong></p>\n\n<p>With a Cognito User Pool, Amazon configures this name for you, so it's non-configurable on the backend.  The format of the <code>providerName</code> in your Java code looks good, but first I'd triple check the <code>xxxxxxx</code> part for a typo.</p>\n\n<p><strong>App Client settings</strong></p>\n\n<p>Then, make sure your App Client has Cognito enabled in your User Pool settings:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xnWkg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xnWkg.png\" alt=\"Cognito enabled for App Client\"></a></p>\n\n<p><strong>Federated Identities settings</strong></p>\n\n<p>Next, in your federated identities settings, verify that the user pool id and client id appear in the Cognito tab under \"Authentication providers\", and that they match your user pool and App Client.</p>\n\n<p><a href=\"https://i.stack.imgur.com/R7cpZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R7cpZ.png\" alt=\"Federated Identities settings\"></a></p>\n\n<p><strong>JWT issuer</strong></p>\n\n<p>Finally, I would expect the error to be <code>\"Invalid login token. Issuer doesn't match providerName\"</code> if there was a problem with the <code>iss</code> value in the JWT.  However, decoding the id token you get back and inspecting the contents (as suggested in another answer) is also good advice.</p>\n\n<p>If all these pieces appear to be in place, and the error persists, please leave a comment.  Happy Hacking!</p>\n"}],"owner":{"account_id":7447732,"reputation":71,"user_id":5663409,"display_name":"Kamil Czyznielewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678608411,"creation_date":1484729979,"question_id":41715038,"body_markdown":"I am having a hard time trying to figure out how to use Amazon Cognito in my web app (Java based). I want to have some kind of authentication hub (Amazon Cognito) to authenticate user with multiple Auth Providers - that&#39;s why I want to use Amazon Cognito! :) \r\n\r\nFirstly, I set up User Pool (I have my UserPoolId: eu-central-1_xxxxxxxxxx) and created there one user. Next I created Identity Pool with IdentityPoolId (eu-central-1:yyyyyyyyyy). Then I authenticate with AWS JavaScript SDK to UserPool to get idToken and it working quite fine! I receive idToken from Cognito UserPool. Then I am sending this idToken to my backend app (Java based) and there I want to validate this idToken with IdentityPool. I added new Authentication Provider - Cognito with UserPoolId and newly created id of an App that I added in UserPool. I tried to follow with this tutorial:\r\nhttps://aws.amazon.com/blogs/mobile/use-amazon-cognito-in-your-website-for-simple-aws-authentication/ \r\nBut everytime I make\r\n\r\n    GetID\r\n\r\nrequest I recevied Exception with\r\n\r\n    com.amazonaws.services.cognitoidentity.model.NotAuthorizedException: Token is not from a supported provider of this identity pool.\r\n\r\n\r\nMy Java code is below:\r\n\r\n    final AmazonCognitoIdentityClient identityClient = new AmazonCognitoIdentityClient(\r\n    \t\t\t\tnew BasicAWSCredentials(&quot;accessKey&quot;, &quot;secretKey&quot;));\r\n    identityClient.setRegion(Region.getRegion(Regions.EU_CENTRAL_1));\r\n     \r\n    GetIdRequest idRequest = new GetIdRequest();\r\n    idRequest.setAccountId(&quot;accountId&quot;);\r\n    idRequest.setIdentityPoolId(identityPoolId);\r\n     \r\n    final String providerName = &quot;cognito-idp.eu-central-1.amazonaws.com/eu-central-1_xxxxxxxx&quot;;\r\n     \r\n    Map providerTokens = new HashMap();\r\n    providerTokens.put(providerName, idToken);\r\n    idRequest.setLogins(providerTokens);\r\n     \r\n    GetIdResult idResp = identityClient.getId(idRequest);\r\n\r\n\r\nDoes anyone could help me with this task? Maybe I am doing something wrong?\r\n\r\nThanks,\r\nKamil :)","title":"Authenticate with Cognito Federated Identities","body":"<p>I am having a hard time trying to figure out how to use Amazon Cognito in my web app (Java based). I want to have some kind of authentication hub (Amazon Cognito) to authenticate user with multiple Auth Providers - that's why I want to use Amazon Cognito! :) </p>\n\n<p>Firstly, I set up User Pool (I have my UserPoolId: eu-central-1_xxxxxxxxxx) and created there one user. Next I created Identity Pool with IdentityPoolId (eu-central-1:yyyyyyyyyy). Then I authenticate with AWS JavaScript SDK to UserPool to get idToken and it working quite fine! I receive idToken from Cognito UserPool. Then I am sending this idToken to my backend app (Java based) and there I want to validate this idToken with IdentityPool. I added new Authentication Provider - Cognito with UserPoolId and newly created id of an App that I added in UserPool. I tried to follow with this tutorial:\n<a href=\"https://aws.amazon.com/blogs/mobile/use-amazon-cognito-in-your-website-for-simple-aws-authentication/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/mobile/use-amazon-cognito-in-your-website-for-simple-aws-authentication/</a> \nBut everytime I make</p>\n\n<pre><code>GetID\n</code></pre>\n\n<p>request I recevied Exception with</p>\n\n<pre><code>com.amazonaws.services.cognitoidentity.model.NotAuthorizedException: Token is not from a supported provider of this identity pool.\n</code></pre>\n\n<p>My Java code is below:</p>\n\n<pre><code>final AmazonCognitoIdentityClient identityClient = new AmazonCognitoIdentityClient(\n                new BasicAWSCredentials(\"accessKey\", \"secretKey\"));\nidentityClient.setRegion(Region.getRegion(Regions.EU_CENTRAL_1));\n\nGetIdRequest idRequest = new GetIdRequest();\nidRequest.setAccountId(\"accountId\");\nidRequest.setIdentityPoolId(identityPoolId);\n\nfinal String providerName = \"cognito-idp.eu-central-1.amazonaws.com/eu-central-1_xxxxxxxx\";\n\nMap providerTokens = new HashMap();\nproviderTokens.put(providerName, idToken);\nidRequest.setLogins(providerTokens);\n\nGetIdResult idResp = identityClient.getId(idRequest);\n</code></pre>\n\n<p>Does anyone could help me with this task? Maybe I am doing something wrong?</p>\n\n<p>Thanks,\nKamil :)</p>\n"},{"tags":["java","amazon-web-services","rest"],"comments":[{"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"score":0,"creation_date":1394037967,"post_id":22203038,"comment_id":33708267,"body_markdown":"How did you calculate the signature ? Signature=mb6Stjz4I5GHV51bxVyACS4T%2FwGjplkVymW8eLDoh4Q%3D","body":"How did you calculate the signature ? Signature=mb6Stjz4I5GHV51bxVyACS4T%2FwGjplkVymW8eLDoh4Q%3D"}],"answers":[{"tags":[],"owner":{"account_id":1986559,"reputation":9239,"user_id":1781611,"accept_rate":55,"display_name":"Jay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1394039957,"creation_date":1394039957,"answer_id":22204675,"question_id":22203038,"body_markdown":"It works for me. Could be something wrong in your signature. AssociateTag is your &#39;Associates ID&#39; that you get after sign up for affiliate not any tracking ID. And I sign for Amazon.co.uk Associates.\r\n\r\n\r\nhttp://ecs.amazonaws.com/onca/xml?AWSAccessKeyId=AKIAIAAPUKLVP6OGAT4Q&amp;AssociateTag=jay048-21&amp;ItemId=0545010225&amp;Operation=ItemLookup&amp;ResponseGroup=Small&amp;Service=AWSECommerceService&amp;Timestamp=2014-03-05T17%3A14%3A31Z&amp;Version=2009-03-31&amp;Signature=Vfto8GdjP875KGwYrpe1QyfDkpUr3HDkQAyAcyyI4n0%3D\r\n\r\n\r\n\r\n\t\t\t&lt;ItemLookupResponse xmlns=&quot;http://webservices.amazon.com/AWSECommerceService/2011-08-01&quot;&gt;\r\n\t\t\t&lt;OperationRequest&gt;\r\n\t\t\t&lt;HTTPHeaders&gt;\r\n\t\t\t&lt;Header Name=&quot;UserAgent&quot; Value=&quot;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.146 Safari/537.36&quot;/&gt;\r\n\t\t\t&lt;/HTTPHeaders&gt;\r\n\t\t\t&lt;RequestId&gt;5f5e44b1-8005-4b27-846a-9959775bdf24&lt;/RequestId&gt;\r\n\t\t\t&lt;Arguments&gt;\r\n\t\t\t&lt;Argument Name=&quot;Operation&quot; Value=&quot;ItemLookup&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;Service&quot; Value=&quot;AWSECommerceService&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;Signature&quot; Value=&quot;Vfto8GdjP875KGwYrpe1QyfDkpUr3HDkQAyAcyyI4n0=&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;AssociateTag&quot; Value=&quot;jay048-21&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;Version&quot; Value=&quot;2009-03-31&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;ItemId&quot; Value=&quot;0545010225&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;AWSAccessKeyId&quot; Value=&quot;AKIAIAAPUKLVP6OGAT4Q&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;Timestamp&quot; Value=&quot;2014-03-05T17:14:31Z&quot;/&gt;\r\n\t\t\t&lt;Argument Name=&quot;ResponseGroup&quot; Value=&quot;Small&quot;/&gt;\r\n\t\t\t&lt;/Arguments&gt;\r\n\t\t\t&lt;RequestProcessingTime&gt;0.0143640000000000&lt;/RequestProcessingTime&gt;\r\n\t\t\t&lt;/OperationRequest&gt;\r\n\t\t\t&lt;Items&gt;\r\n\t\t\t&lt;Request&gt;\r\n\t\t\t&lt;IsValid&gt;True&lt;/IsValid&gt;\r\n\t\t\t&lt;ItemLookupRequest&gt;\r\n\t\t\t&lt;IdType&gt;ASIN&lt;/IdType&gt;\r\n\t\t\t&lt;ItemId&gt;0545010225&lt;/ItemId&gt;\r\n\t\t\t&lt;ResponseGroup&gt;Small&lt;/ResponseGroup&gt;\r\n\t\t\t&lt;VariationPage&gt;All&lt;/VariationPage&gt;\r\n\t\t\t&lt;/ItemLookupRequest&gt;\r\n\t\t\t&lt;/Request&gt;\r\n\t\t\t&lt;Item&gt;\r\n\t\t\t&lt;ASIN&gt;0545010225&lt;/ASIN&gt;\r\n\t\t\t&lt;DetailPageURL&gt;\r\n\t\t\thttp://www.amazon.com/Harry-Potter-Deathly-Hallows-Book/dp/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/DetailPageURL&gt;\r\n\t\t\t&lt;ItemLinks&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;Technical Details&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/Harry-Potter-Deathly-Hallows-Book/dp/tech-data/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;Add To Baby Registry&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D0545010225%26SubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;Add To Wedding Registry&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D0545010225%26SubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;Add To Wishlist&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D0545010225%26SubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;Tell A Friend&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/gp/pdp/taf/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;All Customer Reviews&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/review/product/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;ItemLink&gt;\r\n\t\t\t&lt;Description&gt;All Offers&lt;/Description&gt;\r\n\t\t\t&lt;URL&gt;\r\n\t\t\thttp://www.amazon.com/gp/offer-listing/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\r\n\t\t\t&lt;/URL&gt;\r\n\t\t\t&lt;/ItemLink&gt;\r\n\t\t\t&lt;/ItemLinks&gt;\r\n\t\t\t&lt;ItemAttributes&gt;\r\n\t\t\t&lt;Author&gt;J. K. Rowling&lt;/Author&gt;\r\n\t\t\t&lt;Creator Role=&quot;Illustrator&quot;&gt;Mary GrandPr&#233;&lt;/Creator&gt;\r\n\t\t\t&lt;Manufacturer&gt;Arthur A. Levine Books&lt;/Manufacturer&gt;\r\n\t\t\t&lt;ProductGroup&gt;Book&lt;/ProductGroup&gt;\r\n\t\t\t&lt;Title&gt;Harry Potter and the Deathly Hallows (Book 7)&lt;/Title&gt;\r\n\t\t\t&lt;/ItemAttributes&gt;\r\n\t\t\t&lt;/Item&gt;\r\n\t\t\t&lt;/Items&gt;\r\n\t\t\t&lt;/ItemLookupResponse&gt;","title":"Error trying to consume Amazon Product Affiliate API","body":"<p>It works for me. Could be something wrong in your signature. AssociateTag is your 'Associates ID' that you get after sign up for affiliate not any tracking ID. And I sign for Amazon.co.uk Associates.</p>\n\n<p><a href=\"http://ecs.amazonaws.com/onca/xml?AWSAccessKeyId=AKIAIAAPUKLVP6OGAT4Q&amp;AssociateTag=jay048-21&amp;ItemId=0545010225&amp;Operation=ItemLookup&amp;ResponseGroup=Small&amp;Service=AWSECommerceService&amp;Timestamp=2014-03-05T17%3A14%3A31Z&amp;Version=2009-03-31&amp;Signature=Vfto8GdjP875KGwYrpe1QyfDkpUr3HDkQAyAcyyI4n0%3D\" rel=\"nofollow\">http://ecs.amazonaws.com/onca/xml?AWSAccessKeyId=AKIAIAAPUKLVP6OGAT4Q&amp;AssociateTag=jay048-21&amp;ItemId=0545010225&amp;Operation=ItemLookup&amp;ResponseGroup=Small&amp;Service=AWSECommerceService&amp;Timestamp=2014-03-05T17%3A14%3A31Z&amp;Version=2009-03-31&amp;Signature=Vfto8GdjP875KGwYrpe1QyfDkpUr3HDkQAyAcyyI4n0%3D</a></p>\n\n<pre><code>        &lt;ItemLookupResponse xmlns=\"http://webservices.amazon.com/AWSECommerceService/2011-08-01\"&gt;\n        &lt;OperationRequest&gt;\n        &lt;HTTPHeaders&gt;\n        &lt;Header Name=\"UserAgent\" Value=\"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/33.0.1750.146 Safari/537.36\"/&gt;\n        &lt;/HTTPHeaders&gt;\n        &lt;RequestId&gt;5f5e44b1-8005-4b27-846a-9959775bdf24&lt;/RequestId&gt;\n        &lt;Arguments&gt;\n        &lt;Argument Name=\"Operation\" Value=\"ItemLookup\"/&gt;\n        &lt;Argument Name=\"Service\" Value=\"AWSECommerceService\"/&gt;\n        &lt;Argument Name=\"Signature\" Value=\"Vfto8GdjP875KGwYrpe1QyfDkpUr3HDkQAyAcyyI4n0=\"/&gt;\n        &lt;Argument Name=\"AssociateTag\" Value=\"jay048-21\"/&gt;\n        &lt;Argument Name=\"Version\" Value=\"2009-03-31\"/&gt;\n        &lt;Argument Name=\"ItemId\" Value=\"0545010225\"/&gt;\n        &lt;Argument Name=\"AWSAccessKeyId\" Value=\"AKIAIAAPUKLVP6OGAT4Q\"/&gt;\n        &lt;Argument Name=\"Timestamp\" Value=\"2014-03-05T17:14:31Z\"/&gt;\n        &lt;Argument Name=\"ResponseGroup\" Value=\"Small\"/&gt;\n        &lt;/Arguments&gt;\n        &lt;RequestProcessingTime&gt;0.0143640000000000&lt;/RequestProcessingTime&gt;\n        &lt;/OperationRequest&gt;\n        &lt;Items&gt;\n        &lt;Request&gt;\n        &lt;IsValid&gt;True&lt;/IsValid&gt;\n        &lt;ItemLookupRequest&gt;\n        &lt;IdType&gt;ASIN&lt;/IdType&gt;\n        &lt;ItemId&gt;0545010225&lt;/ItemId&gt;\n        &lt;ResponseGroup&gt;Small&lt;/ResponseGroup&gt;\n        &lt;VariationPage&gt;All&lt;/VariationPage&gt;\n        &lt;/ItemLookupRequest&gt;\n        &lt;/Request&gt;\n        &lt;Item&gt;\n        &lt;ASIN&gt;0545010225&lt;/ASIN&gt;\n        &lt;DetailPageURL&gt;\n        http://www.amazon.com/Harry-Potter-Deathly-Hallows-Book/dp/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D0545010225\n        &lt;/DetailPageURL&gt;\n        &lt;ItemLinks&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;Technical Details&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/Harry-Potter-Deathly-Hallows-Book/dp/tech-data/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;Add To Baby Registry&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/gp/registry/baby/add-item.html%3Fasin.0%3D0545010225%26SubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;Add To Wedding Registry&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/gp/registry/wedding/add-item.html%3Fasin.0%3D0545010225%26SubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;Add To Wishlist&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/gp/registry/wishlist/add-item.html%3Fasin.0%3D0545010225%26SubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;Tell A Friend&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/gp/pdp/taf/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;All Customer Reviews&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/review/product/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;ItemLink&gt;\n        &lt;Description&gt;All Offers&lt;/Description&gt;\n        &lt;URL&gt;\n        http://www.amazon.com/gp/offer-listing/0545010225%3FSubscriptionId%3DAKIAIAAPUKLVP6OGAT4Q%26tag%3Djay048-21%26linkCode%3Dxm2%26camp%3D2025%26creative%3D386001%26creativeASIN%3D0545010225\n        &lt;/URL&gt;\n        &lt;/ItemLink&gt;\n        &lt;/ItemLinks&gt;\n        &lt;ItemAttributes&gt;\n        &lt;Author&gt;J. K. Rowling&lt;/Author&gt;\n        &lt;Creator Role=\"Illustrator\"&gt;Mary GrandPr&lt;/Creator&gt;\n        &lt;Manufacturer&gt;Arthur A. Levine Books&lt;/Manufacturer&gt;\n        &lt;ProductGroup&gt;Book&lt;/ProductGroup&gt;\n        &lt;Title&gt;Harry Potter and the Deathly Hallows (Book 7)&lt;/Title&gt;\n        &lt;/ItemAttributes&gt;\n        &lt;/Item&gt;\n        &lt;/Items&gt;\n        &lt;/ItemLookupResponse&gt;\n</code></pre>\n"}],"owner":{"account_id":4124941,"reputation":315,"user_id":3384340,"accept_rate":70,"display_name":"Ethan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22204675,"answer_count":1,"score":1,"last_activity_date":1678608387,"creation_date":1394035836,"question_id":22203038,"body_markdown":"I&#39;m trying to consume amazon product affiliate API and it has been a really confusing experience. \r\n\r\nI&#39;ve signed up for AWS so I have my `ACCESS_KEY_ID` and `SECRET_ACCESS_KEY` additionally I&#39;ve signed up on `https://affiliate-program.amazon.com/` and have gotten my `Tracking ID`\r\n\r\nNow when trying to make a request with this URL\r\n\r\n    http://ecs.amazonaws.com/onca/xml?\r\n    AWSAccessKeyId=AKIAI4E9BPWYGSC7VNZQ\r\n    &amp;ItemId=0545010225\r\n    &amp;Operation=ItemLookup\r\n    &amp;ResponseGroup=Small\r\n    &amp;Service=AWSECommerceService\r\n    &amp;Timestamp=2014-03-05T15%3A55%3A46Z\r\n    &amp;Version=2009-03-31\r\n    &amp;Signature=mb6Stjz4I5GHV51bxVyACS4T%2FwGjplkVymW8eLDoh4Q%3D\r\n    &amp;AssociateTag=sample026-20\r\n\r\nI get an error \r\n\r\n    &lt;Error&gt;\r\n        &lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;\r\n        &lt;Message&gt;The request signature we calculated does not match the signature you provided. \r\n         Check your AWS Secret Access Key and signing method. \r\n         Consult the service documentation for details.&lt;/Message&gt;\r\n    &lt;/Error&gt;\r\n\r\nI&#39;ve supplied all the parameters required but not sure why the information isn&#39;t matching.\r\nIf I remove the `AssociateTag` parameter from the URL then I get this error:\r\n\r\n    &lt;Error&gt;\r\n       &lt;Code&gt;AWS.MissingParameters&lt;/Code&gt;\r\n       &lt;Message&gt;Your request is missing required parameters. Required parameters include AssociateTag.&lt;/Message&gt;\r\n    &lt;/Error&gt;\r\n\r\nIs `AssociateTag` something different than the `Tracking ID` that I received after signing up on [amazon link][1]\r\n\r\nI&#39;m trying to get the sample code form `http://aws.amazon.com/code/Product-Advertising-API/2478` to execute. Unless there is a better option out there....\r\n\r\n\r\n  [1]: https://affiliate-program.amazon.com","title":"Error trying to consume Amazon Product Affiliate API","body":"<p>I'm trying to consume amazon product affiliate API and it has been a really confusing experience. </p>\n\n<p>I've signed up for AWS so I have my <code>ACCESS_KEY_ID</code> and <code>SECRET_ACCESS_KEY</code> additionally I've signed up on <code>https://affiliate-program.amazon.com/</code> and have gotten my <code>Tracking ID</code></p>\n\n<p>Now when trying to make a request with this URL</p>\n\n<pre><code>http://ecs.amazonaws.com/onca/xml?\nAWSAccessKeyId=AKIAI4E9BPWYGSC7VNZQ\n&amp;ItemId=0545010225\n&amp;Operation=ItemLookup\n&amp;ResponseGroup=Small\n&amp;Service=AWSECommerceService\n&amp;Timestamp=2014-03-05T15%3A55%3A46Z\n&amp;Version=2009-03-31\n&amp;Signature=mb6Stjz4I5GHV51bxVyACS4T%2FwGjplkVymW8eLDoh4Q%3D\n&amp;AssociateTag=sample026-20\n</code></pre>\n\n<p>I get an error </p>\n\n<pre><code>&lt;Error&gt;\n    &lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;\n    &lt;Message&gt;The request signature we calculated does not match the signature you provided. \n     Check your AWS Secret Access Key and signing method. \n     Consult the service documentation for details.&lt;/Message&gt;\n&lt;/Error&gt;\n</code></pre>\n\n<p>I've supplied all the parameters required but not sure why the information isn't matching.\nIf I remove the <code>AssociateTag</code> parameter from the URL then I get this error:</p>\n\n<pre><code>&lt;Error&gt;\n   &lt;Code&gt;AWS.MissingParameters&lt;/Code&gt;\n   &lt;Message&gt;Your request is missing required parameters. Required parameters include AssociateTag.&lt;/Message&gt;\n&lt;/Error&gt;\n</code></pre>\n\n<p>Is <code>AssociateTag</code> something different than the <code>Tracking ID</code> that I received after signing up on <a href=\"https://affiliate-program.amazon.com\" rel=\"nofollow\">amazon link</a></p>\n\n<p>I'm trying to get the sample code form <code>http://aws.amazon.com/code/Product-Advertising-API/2478</code> to execute. Unless there is a better option out there....</p>\n"},{"tags":["java","amazon-web-services","logging","slf4j"],"answers":[{"tags":[],"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1454495894,"creation_date":1454495894,"answer_id":35174706,"question_id":35135675,"body_markdown":"I solved the problem setting the path that matches the structure that the logs are stored in tomcat Amazon.\r\n\r\nI made the following change in my filter configuration file.\r\n\r\n    &lt;File&gt;/var/log/tomcat8/nomedoarquivo.log&lt;/File&gt;\r\n\r\n[http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.logging.html][1]\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.logging.html","title":"AWS logging separate log files using SLF4J","body":"<p>I solved the problem setting the path that matches the structure that the logs are stored in tomcat Amazon.</p>\n\n<p>I made the following change in my filter configuration file.</p>\n\n<pre><code>&lt;File&gt;/var/log/tomcat8/nomedoarquivo.log&lt;/File&gt;\n</code></pre>\n\n<p><a href=\"http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.logging.html\" rel=\"nofollow\">http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.logging.html</a></p>\n"}],"owner":{"account_id":5820826,"reputation":1244,"user_id":4588977,"accept_rate":100,"display_name":"Luan Kevin Ferreira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35174706,"answer_count":1,"score":1,"last_activity_date":1678608366,"creation_date":1454344862,"question_id":35135675,"body_markdown":"Has anyone implemented using log **SLF4J** to enable the application separate the files by tenant on Amazon environment?\r\n\r\nI made this implementation in my application, running on *tomcat* in localhost site, the log files are generated normally, but when I deploy on Amazon and then I download the logs, files are not generated, the outputs end up going to the `catalina.out`.","title":"AWS logging separate log files using SLF4J","body":"<p>Has anyone implemented using log <strong>SLF4J</strong> to enable the application separate the files by tenant on Amazon environment?</p>\n\n<p>I made this implementation in my application, running on <em>tomcat</em> in localhost site, the log files are generated normally, but when I deploy on Amazon and then I download the logs, files are not generated, the outputs end up going to the <code>catalina.out</code>.</p>\n"},{"tags":["java","scala","sbt","apple-m1"],"comments":[{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":0,"creation_date":1678539906,"post_id":75704110,"comment_id":133554289,"body_markdown":"can you check that you&#39;re running jdk compiled for arm64? One way you can do it via `sbt console` and when console is launched, execute `System.getProperty(&quot;os.arch&quot;)` and it should print `aarch64`","body":"can you check that you&#39;re running jdk compiled for arm64? One way you can do it via <code>sbt console</code> and when console is launched, execute <code>System.getProperty(&quot;os.arch&quot;)</code> and it should print <code>aarch64</code>"},{"owner":{"account_id":2843926,"reputation":399,"user_id":2442868,"display_name":"Gesar"},"score":0,"creation_date":1678608220,"post_id":75704110,"comment_id":133563808,"body_markdown":"It does print `aarch64` yep.","body":"It does print <code>aarch64</code> yep."},{"owner":{"account_id":2843926,"reputation":399,"user_id":2442868,"display_name":"Gesar"},"score":0,"creation_date":1678608273,"post_id":75704110,"comment_id":133563814,"body_markdown":"I&#39;ve narrowed down the issue and if I run SBT forked, then it can&#39;t compile in parallel (presumably can&#39;t test in parallel too but I&#39;ve yet to check).\n\nIf I run SBT in non-forked mode then it can compile in parallel","body":"I&#39;ve narrowed down the issue and if I run SBT forked, then it can&#39;t compile in parallel (presumably can&#39;t test in parallel too but I&#39;ve yet to check).  If I run SBT in non-forked mode then it can compile in parallel"}],"owner":{"account_id":2843926,"reputation":399,"user_id":2442868,"display_name":"Gesar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678608299,"creation_date":1678528667,"question_id":75704110,"body_markdown":"It dramatically slows my build time down.\r\n\r\nEvery module is compiled in sequence rather than in parallel when SBT is in &quot;fork&quot; mode.\r\n\r\nOn my old mac, non-M architecture, it compiled as many unrelated modules concurrently as possible. No SBT settings have changed.\r\n\r\nI&#39;ve tried a variety of java distros.\r\n\r\nCurrent setup is:\r\n\r\n* SBT 1.8.2 installed with SDKMan\r\n* Eclipse Adoptium Java 17.0.4.1 installed with SDKMan\r\n\r\nAnyone got any hints on how to get parallelisation back? What settings I&#39;m missing?","title":"SBT on Mac M2 architecture not compiling modules in parallel in fork mode","body":"<p>It dramatically slows my build time down.</p>\n<p>Every module is compiled in sequence rather than in parallel when SBT is in &quot;fork&quot; mode.</p>\n<p>On my old mac, non-M architecture, it compiled as many unrelated modules concurrently as possible. No SBT settings have changed.</p>\n<p>I've tried a variety of java distros.</p>\n<p>Current setup is:</p>\n<ul>\n<li>SBT 1.8.2 installed with SDKMan</li>\n<li>Eclipse Adoptium Java 17.0.4.1 installed with SDKMan</li>\n</ul>\n<p>Anyone got any hints on how to get parallelisation back? What settings I'm missing?</p>\n"},{"tags":["java","amazon-web-services"],"answers":[{"tags":[],"owner":{"account_id":249119,"reputation":13921,"user_id":524946,"display_name":"jpkroehling"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343661048,"creation_date":1343661048,"answer_id":11724267,"question_id":11673834,"body_markdown":"Given your setup, the best solution is to use Amazon&#39;s SNS. This is equivalent to a JMS Topic, so, your app can subscribe to events published by other parties (probably the same app running in another instance) on the topic. Then, each consumer of the topic would broadcast the chat message to the users connected to said server. \r\n\r\nhttp://aws.amazon.com/sns/","title":"Amazon Elastic Beanstalk Broadcast","body":"<p>Given your setup, the best solution is to use Amazon's SNS. This is equivalent to a JMS Topic, so, your app can subscribe to events published by other parties (probably the same app running in another instance) on the topic. Then, each consumer of the topic would broadcast the chat message to the users connected to said server. </p>\n\n<p><a href=\"http://aws.amazon.com/sns/\" rel=\"nofollow\">http://aws.amazon.com/sns/</a></p>\n"}],"owner":{"account_id":989385,"reputation":611,"user_id":1007099,"accept_rate":31,"display_name":"Rookee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678607956,"creation_date":1343320177,"question_id":11673834,"body_markdown":"I would like to develop a simple chat, but for that I need to inform all clients that a user wrote a message. Simple with one server instance, but how it works with 2+...\r\n\r\nIs there a way to inform all registered instances in my beanstalk or how can I resolve this problem. \r\n\r\nThanks for help!\r\n\r\nRegards,\r\n\r\nRookee","title":"Amazon Elastic Beanstalk Broadcast","body":"<p>I would like to develop a simple chat, but for that I need to inform all clients that a user wrote a message. Simple with one server instance, but how it works with 2+...</p>\n\n<p>Is there a way to inform all registered instances in my beanstalk or how can I resolve this problem. </p>\n\n<p>Thanks for help!</p>\n\n<p>Regards,</p>\n\n<p>Rookee</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot"],"comments":[{"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"score":0,"creation_date":1521461526,"post_id":49361317,"comment_id":85725350,"body_markdown":"you can use it as long as it is within free tier limit. If you happen to use any other service, then they will charge. It depends on what services you are using","body":"you can use it as long as it is within free tier limit. If you happen to use any other service, then they will charge. It depends on what services you are using"}],"answers":[{"tags":[],"owner":{"account_id":2573819,"reputation":15175,"user_id":2231972,"display_name":"Roman-Stop RU aggression in UA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1521457566,"creation_date":1521457566,"answer_id":49361472,"question_id":49361317,"body_markdown":"It is possible to do so, but free tier for EC2 instances that you need to run spring boot application (and mongo/postgres that you install manually on that instance) does expire after 12 months.","title":"Spring Boot project using only AWS free tier","body":"<p>It is possible to do so, but free tier for EC2 instances that you need to run spring boot application (and mongo/postgres that you install manually on that instance) does expire after 12 months.</p>\n"},{"tags":[],"owner":{"account_id":3708341,"reputation":4302,"user_id":3086289,"accept_rate":100,"display_name":"Sangam Belose"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521464608,"creation_date":1521464608,"answer_id":49363692,"question_id":49361317,"body_markdown":"Yes, You can deploy your project on AWS infrastructure in free tier with above requirement. \r\n\r\n - For hosting the application you can use **EC2** \r\n - For relational db you can use **RDS** service with **postgres**.\r\n - AWS URLs are very big and complex. So to access your application from AWS infrastructure, You need to use Route 53 service to map it some nice domain name.\r\n\r\nNote: If you want to do it for development purpose only, then you can skip the route 53 part.","title":"Spring Boot project using only AWS free tier","body":"<p>Yes, You can deploy your project on AWS infrastructure in free tier with above requirement. </p>\n\n<ul>\n<li>For hosting the application you can use <strong>EC2</strong> </li>\n<li>For relational db you can use <strong>RDS</strong> service with <strong>postgres</strong>.</li>\n<li>AWS URLs are very big and complex. So to access your application from AWS infrastructure, You need to use Route 53 service to map it some nice domain name.</li>\n</ul>\n\n<p>Note: If you want to do it for development purpose only, then you can skip the route 53 part.</p>\n"}],"owner":{"account_id":6379814,"reputation":3935,"user_id":4949653,"display_name":"torina"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1528,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49361472,"answer_count":2,"score":3,"last_activity_date":1678607923,"creation_date":1521457109,"question_id":49361317,"body_markdown":"AWS has a list of free tier (non-expiring offers) [here][1]. I wonder if it is enough to deploy a small(less than 1 Gb in total) Spring Boot(+ mongo/postgres) hobby project using ONLY these features. \r\n\r\n\r\n  [1]: https://aws.amazon.com/free/","title":"Spring Boot project using only AWS free tier","body":"<p>AWS has a list of free tier (non-expiring offers) <a href=\"https://aws.amazon.com/free/\" rel=\"nofollow noreferrer\">here</a>. I wonder if it is enough to deploy a small(less than 1 Gb in total) Spring Boot(+ mongo/postgres) hobby project using ONLY these features. </p>\n"},{"tags":["java","string","integer","numbers","concatenation"],"comments":[{"owner":{"account_id":2445796,"reputation":618,"user_id":2133224,"display_name":"j.karlsson"},"score":1,"creation_date":1678608350,"post_id":75711747,"comment_id":133563820,"body_markdown":"This has been answered here: https://stackoverflow.com/questions/29313253/precedence-in-strings-in-java#29313288\nand here: https://stackoverflow.com/questions/15340207/java-string-concatenation-with-operator","body":"This has been answered here: <a href=\"https://stackoverflow.com/questions/29313253/precedence-in-strings-in-java#29313288\" title=\"precedence in strings in java%2329313288\">stackoverflow.com/questions/29313253/&hellip;</a> and here: <a href=\"https://stackoverflow.com/questions/15340207/java-string-concatenation-with-operator\" title=\"java string concatenation with operator\">stackoverflow.com/questions/15340207/&hellip;</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1678608896,"post_id":75711747,"comment_id":133563883,"body_markdown":"See the official specification [JLS 15.18. Additive Operators](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.18) and [15.7. Evaluation Order](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.7)","body":"See the official specification <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.18\" rel=\"nofollow noreferrer\">JLS 15.18. Additive Operators</a> and <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">15.7. Evaluation Order</a>"}],"owner":{"account_id":19187137,"reputation":1,"user_id":14017691,"display_name":"Vishal Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678609150,"answer_count":0,"score":0,"last_activity_date":1678607823,"creation_date":1678607628,"question_id":75711747,"body_markdown":"    public static void main(String[] args) {\r\n            int a = 10;\r\n            int b = 20;\r\n    \r\n            System.out.println(&quot;result &quot; + a + b); //OUTPUT: result 1020\r\n            System.out.println(a + b);             //OUTPUT: 30\r\n            System.out.println(a + b + &quot;result &quot;); //OUTPUT: 30result\r\n            System.out.println(a + b + &quot;result &quot; + a + b);  //OUTPUT: 30result 1020\r\n        }\r\n    \r\n\r\nDOUBT:\r\nWhen we do &quot;result &quot; + a + b we are getting concatenation of all, i.e output = result 1020\r\n    \r\nBut when we do a + b + &quot;result &quot;, we are getting addition and then concatenation,i.e output = 30result, as per the above logic shouldn&#39;t output be output = 1020result...........?\r\n\r\nCan someone please explain to me all 4 print statements of what is happening as some cases concatenation is taking precedence over addition and vice versa in other cases...can someone please give clarity on what exactly is happening in all 4 print cases mentioned in the above code?`","title":"when is addition taking place and when is concatenation taking place in the case of the below 4 cases?","body":"<pre><code>public static void main(String[] args) {\n        int a = 10;\n        int b = 20;\n\n        System.out.println(&quot;result &quot; + a + b); //OUTPUT: result 1020\n        System.out.println(a + b);             //OUTPUT: 30\n        System.out.println(a + b + &quot;result &quot;); //OUTPUT: 30result\n        System.out.println(a + b + &quot;result &quot; + a + b);  //OUTPUT: 30result 1020\n    }\n</code></pre>\n<p>DOUBT:\nWhen we do &quot;result &quot; + a + b we are getting concatenation of all, i.e output = result 1020</p>\n<p>But when we do a + b + &quot;result &quot;, we are getting addition and then concatenation,i.e output = 30result, as per the above logic shouldn't output be output = 1020result...........?</p>\n<p>Can someone please explain to me all 4 print statements of what is happening as some cases concatenation is taking precedence over addition and vice versa in other cases...can someone please give clarity on what exactly is happening in all 4 print cases mentioned in the above code?`</p>\n"},{"tags":["java","amazon-web-services","api","amazon-ec2","amazon-ami"],"comments":[{"owner":{"account_id":2413214,"reputation":53,"user_id":2107854,"accept_rate":40,"display_name":"Andriy "},"score":0,"creation_date":1455827245,"post_id":32157262,"comment_id":58676204,"body_markdown":"No, only option is to get platform for windows machines, but it&#39;s not helpful at all","body":"No, only option is to get platform for windows machines, but it&#39;s not helpful at all"}],"answers":[{"tags":[],"owner":{"account_id":58377,"reputation":247880,"user_id":174777,"display_name":"John Rotenstein"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440294304,"creation_date":1440294304,"answer_id":32162415,"question_id":32157262,"body_markdown":"There is no Amazon EC2 API call to see &quot;inside&quot; the Amazon EC2 instance. However, you can **obtain information about the AMI used to launch the instance**.\r\n\r\nHere&#39;s an example, using the [AWS Command-Line Interface (CLI)][1], which makes similar API calls to Java.\r\n\r\n    $ aws ec2 describe-instances --query &#39;Reservations[*].Instances[*].ImageId&#39; --filter Name=instance-id,Values=i-xxxxxxxx --output text\r\n    ami-d9fe9be3\r\n    \r\n    $ aws ec2 describe-images --image-ids ami-d9fe9be3\r\n    {\r\n        &quot;Images&quot;: [\r\n            {\r\n                &quot;VirtualizationType&quot;: &quot;hvm&quot;, \r\n                &quot;Name&quot;: &quot;amzn-ami-hvm-2014.03.2.x86_64-ebs&quot;, \r\n                &quot;Hypervisor&quot;: &quot;xen&quot;, \r\n                &quot;ImageOwnerAlias&quot;: &quot;amazon&quot;, \r\n                &quot;SriovNetSupport&quot;: &quot;simple&quot;, \r\n                &quot;ImageId&quot;: &quot;ami-d9fe9be3&quot;, \r\n                &quot;State&quot;: &quot;available&quot;, \r\n                &quot;BlockDeviceMappings&quot;: [\r\n                    {\r\n                        &quot;DeviceName&quot;: &quot;/dev/xvda&quot;, \r\n                        &quot;Ebs&quot;: {\r\n                            &quot;DeleteOnTermination&quot;: true, \r\n                            &quot;SnapshotId&quot;: &quot;snap-c90a03fd&quot;, \r\n                            &quot;VolumeSize&quot;: 8, \r\n                            &quot;VolumeType&quot;: &quot;standard&quot;, \r\n                            &quot;Encrypted&quot;: false\r\n                        }\r\n                    }\r\n                ], \r\n                &quot;Architecture&quot;: &quot;x86_64&quot;, \r\n                &quot;ImageLocation&quot;: &quot;amazon/amzn-ami-hvm-2014.03.2.x86_64-ebs&quot;, \r\n                &quot;RootDeviceType&quot;: &quot;ebs&quot;, \r\n                &quot;OwnerId&quot;: &quot;137112412989&quot;, \r\n                &quot;RootDeviceName&quot;: &quot;/dev/xvda&quot;, \r\n                &quot;CreationDate&quot;: &quot;2014-06-11T19:46:45.000Z&quot;, \r\n                &quot;Public&quot;: true, \r\n                &quot;ImageType&quot;: &quot;machine&quot;, \r\n                &quot;Description&quot;: &quot;Amazon Linux AMI x86_64 HVM EBS&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nInformation can be extracted from the `Description` field. However, please note that **Windows AMIs are deprecated each month** as updates are made available by Microsoft. This means that old Windows instances might not have information accessible about their AMIs.\r\n\r\n  [1]: http://aws.amazon.com/cli/\r\n","title":"How can I get OS info from Amazon instance?","body":"<p>There is no Amazon EC2 API call to see \"inside\" the Amazon EC2 instance. However, you can <strong>obtain information about the AMI used to launch the instance</strong>.</p>\n\n<p>Here's an example, using the <a href=\"http://aws.amazon.com/cli/\" rel=\"nofollow\">AWS Command-Line Interface (CLI)</a>, which makes similar API calls to Java.</p>\n\n<pre><code>$ aws ec2 describe-instances --query 'Reservations[*].Instances[*].ImageId' --filter Name=instance-id,Values=i-xxxxxxxx --output text\nami-d9fe9be3\n\n$ aws ec2 describe-images --image-ids ami-d9fe9be3\n{\n    \"Images\": [\n        {\n            \"VirtualizationType\": \"hvm\", \n            \"Name\": \"amzn-ami-hvm-2014.03.2.x86_64-ebs\", \n            \"Hypervisor\": \"xen\", \n            \"ImageOwnerAlias\": \"amazon\", \n            \"SriovNetSupport\": \"simple\", \n            \"ImageId\": \"ami-d9fe9be3\", \n            \"State\": \"available\", \n            \"BlockDeviceMappings\": [\n                {\n                    \"DeviceName\": \"/dev/xvda\", \n                    \"Ebs\": {\n                        \"DeleteOnTermination\": true, \n                        \"SnapshotId\": \"snap-c90a03fd\", \n                        \"VolumeSize\": 8, \n                        \"VolumeType\": \"standard\", \n                        \"Encrypted\": false\n                    }\n                }\n            ], \n            \"Architecture\": \"x86_64\", \n            \"ImageLocation\": \"amazon/amzn-ami-hvm-2014.03.2.x86_64-ebs\", \n            \"RootDeviceType\": \"ebs\", \n            \"OwnerId\": \"137112412989\", \n            \"RootDeviceName\": \"/dev/xvda\", \n            \"CreationDate\": \"2014-06-11T19:46:45.000Z\", \n            \"Public\": true, \n            \"ImageType\": \"machine\", \n            \"Description\": \"Amazon Linux AMI x86_64 HVM EBS\"\n        }\n    ]\n}\n</code></pre>\n\n<p>Information can be extracted from the <code>Description</code> field. However, please note that <strong>Windows AMIs are deprecated each month</strong> as updates are made available by Microsoft. This means that old Windows instances might not have information accessible about their AMIs.</p>\n"}],"owner":{"account_id":2413214,"reputation":53,"user_id":2107854,"accept_rate":40,"display_name":"Andriy "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2081,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678607779,"creation_date":1440253981,"question_id":32157262,"body_markdown":"is it any way to get OS from Amazon Instance using Java API?\r\nthere are methods platform - but it returns only &quot;Windows&quot; or null, even if I get Windows how I can figure out what kind of Os family it is - like Windows, windows + sql standard, windows + websql, windows + sql enterprice\r\nThe same about linux - I didn&#39;t find a way to get info - is it ubuntu or redhat","title":"How can I get OS info from Amazon instance?","body":"<p>is it any way to get OS from Amazon Instance using Java API?\nthere are methods platform - but it returns only \"Windows\" or null, even if I get Windows how I can figure out what kind of Os family it is - like Windows, windows + sql standard, windows + websql, windows + sql enterprice\nThe same about linux - I didn't find a way to get info - is it ubuntu or redhat</p>\n"},{"tags":["java","postgresql","amazon-web-services"],"comments":[{"owner":{"account_id":415426,"reputation":19183,"user_id":790224,"display_name":"datasage"},"score":0,"creation_date":1397157011,"post_id":22996284,"comment_id":35122689,"body_markdown":"To connect to postgreSQL on RDS you would just use the normal postgreSQL java driver. The SDK provides methods to control RDS instances.","body":"To connect to postgreSQL on RDS you would just use the normal postgreSQL java driver. The SDK provides methods to control RDS instances."}],"answers":[{"tags":[],"owner":{"account_id":171331,"reputation":310904,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1397177871,"creation_date":1397177871,"answer_id":23001716,"question_id":22996284,"body_markdown":"Java APIs for RDS are part of the broader [AWS Java SDK](http://aws.amazon.com/sdkforjava/). The APIs exposed there can be used to start, modify, and destroy RDS instances.\r\n\r\nData connectivity is via PgJDBC. The AWS SDK for RDS doesn&#39;t know or care about actually accessing the data, just managing the instances.\r\n\r\nSo there&#39;s no single API like you describe, though you could probably write one as an extension/wrapper for an ORM like Hibernate, using the AWS SDK to provide automatic provisioning of servers when persistence units are created.","title":"Amazon RDS: is there java API for PostgreSQL?","body":"<p>Java APIs for RDS are part of the broader <a href=\"http://aws.amazon.com/sdkforjava/\" rel=\"nofollow\">AWS Java SDK</a>. The APIs exposed there can be used to start, modify, and destroy RDS instances.</p>\n\n<p>Data connectivity is via PgJDBC. The AWS SDK for RDS doesn't know or care about actually accessing the data, just managing the instances.</p>\n\n<p>So there's no single API like you describe, though you could probably write one as an extension/wrapper for an ORM like Hibernate, using the AWS SDK to provide automatic provisioning of servers when persistence units are created.</p>\n"}],"owner":{"account_id":2819926,"reputation":351,"user_id":2423894,"accept_rate":67,"display_name":"tmn4jq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23001716,"answer_count":1,"score":0,"last_activity_date":1678607640,"creation_date":1397154969,"question_id":22996284,"body_markdown":"I&#39;m new to Amazon RDS and stuck in a vast amout of information about it. So, my brain is rejecting new information now, that&#39;s why I decided to ask this question =)\r\n\r\nThe question is: is there java API for PostgreSQL in Amazon RDS? I mean something like that:\r\n\r\n    AmazonPosgtreSQL aps = new AmazonPostreSQL(...);\r\n    aps.connect(...);\r\n    aps.persist(...);\r\n    aps.get(...);\r\n\r\nThere AmazonPostgreSQL is some class provided by SDK.\r\n\r\nI have read some manuals, including user guide about Amazon RDS, and as far as I understand, there is no such API. We just create a DB Instance in cloud and Amazon just provides us with a link to it, am I right?","title":"Amazon RDS: is there java API for PostgreSQL?","body":"<p>I'm new to Amazon RDS and stuck in a vast amout of information about it. So, my brain is rejecting new information now, that's why I decided to ask this question =)</p>\n\n<p>The question is: is there java API for PostgreSQL in Amazon RDS? I mean something like that:</p>\n\n<pre><code>AmazonPosgtreSQL aps = new AmazonPostreSQL(...);\naps.connect(...);\naps.persist(...);\naps.get(...);\n</code></pre>\n\n<p>There AmazonPostgreSQL is some class provided by SDK.</p>\n\n<p>I have read some manuals, including user guide about Amazon RDS, and as far as I understand, there is no such API. We just create a DB Instance in cloud and Amazon just provides us with a link to it, am I right?</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","cloud"],"answers":[{"tags":[],"owner":{"account_id":9083772,"reputation":275,"user_id":6795820,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478608339,"creation_date":1478608339,"answer_id":40487073,"question_id":40483116,"body_markdown":"In the management console, under particular Load Balancer and Instances section just delete ec22 from the list.\r\n\r\nOnce you completed all tests - add this instance back behind your LB.\r\n\r\nIs it what you meant?","title":"Redirect traffic to particular instance from load balancer","body":"<p>In the management console, under particular Load Balancer and Instances section just delete ec22 from the list.</p>\n\n<p>Once you completed all tests - add this instance back behind your LB.</p>\n\n<p>Is it what you meant?</p>\n"},{"tags":[],"owner":{"account_id":9021984,"reputation":371,"user_id":6748044,"display_name":"Anton Zorin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478796614,"creation_date":1478796614,"answer_id":40532958,"question_id":40483116,"body_markdown":"Access your instance with direct internal hostname via VPN or from another instance with elastic IP configured.\r\nFor example: ip-172-31-7-112.ec2.internal","title":"Redirect traffic to particular instance from load balancer","body":"<p>Access your instance with direct internal hostname via VPN or from another instance with elastic IP configured.\nFor example: ip-172-31-7-112.ec2.internal</p>\n"}],"owner":{"account_id":6905090,"reputation":485,"user_id":5303291,"accept_rate":8,"display_name":"Harry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678607436,"creation_date":1478596882,"question_id":40483116,"body_markdown":"I am using the [Amazon EC2][1] elastic load balancer for my application. For testing purposes, I need to hit a particular application instance. Is there a way to hit the specified instance from the EC2 load balancer?\r\n\r\nFor example, for my load balancer http://myloadbalancer.com I have two instances attached, ec21 and ec22. If I need to hit ec22, is there a way to achieve this?\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Amazon_Elastic_Compute_Cloud\r\n","title":"Redirect traffic to particular instance from load balancer","body":"<p>I am using the <a href=\"http://en.wikipedia.org/wiki/Amazon_Elastic_Compute_Cloud\" rel=\"nofollow noreferrer\">Amazon EC2</a> elastic load balancer for my application. For testing purposes, I need to hit a particular application instance. Is there a way to hit the specified instance from the EC2 load balancer?</p>\n\n<p>For example, for my load balancer <a href=\"http://myloadbalancer.com\" rel=\"nofollow noreferrer\">http://myloadbalancer.com</a> I have two instances attached, ec21 and ec22. If I need to hit ec22, is there a way to achieve this?</p>\n"},{"tags":["java","amazon-web-services","extract","amazon-kinesis"],"answers":[{"tags":[],"owner":{"account_id":1778937,"reputation":3589,"user_id":1622134,"display_name":"az3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439537748,"creation_date":1439537748,"answer_id":32004689,"question_id":31985581,"body_markdown":"First of all, Amazon Kinesis API endpoints are on public IP addresses, so you don&#39;t need to have EC2 instances within AWS environment to access Kinesis.\r\n\r\nTo read data from Kinesis, you can use Amazon&#39;s own Kinesis Client Library (KCL). \r\nhttps://github.com/awslabs/amazon-kinesis-client\r\n\r\nOn AwsLabs GitHub, there are also sample applications written in Java.\r\nhttps://github.com/awslabs/amazon-kinesis-connectors/tree/master/src/main/samples\r\n\r\nAbout your architecture; if you want to process raw data and create meaningful extracts, I recommend you do some ETL tasks (aka: post processing) and write your results to another place (ie. RDBMS). On the view layer (your web app) you can display the resulting output in any format you like by reading from your database.","title":"get data from amazon kinesis into java web application","body":"<p>First of all, Amazon Kinesis API endpoints are on public IP addresses, so you don't need to have EC2 instances within AWS environment to access Kinesis.</p>\n\n<p>To read data from Kinesis, you can use Amazon's own Kinesis Client Library (KCL). \n<a href=\"https://github.com/awslabs/amazon-kinesis-client\" rel=\"nofollow\">https://github.com/awslabs/amazon-kinesis-client</a></p>\n\n<p>On AwsLabs GitHub, there are also sample applications written in Java.\n<a href=\"https://github.com/awslabs/amazon-kinesis-connectors/tree/master/src/main/samples\" rel=\"nofollow\">https://github.com/awslabs/amazon-kinesis-connectors/tree/master/src/main/samples</a></p>\n\n<p>About your architecture; if you want to process raw data and create meaningful extracts, I recommend you do some ETL tasks (aka: post processing) and write your results to another place (ie. RDBMS). On the view layer (your web app) you can display the resulting output in any format you like by reading from your database.</p>\n"}],"owner":{"account_id":5952299,"reputation":9,"user_id":4679935,"accept_rate":100,"display_name":"Kajal Bhanushali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":800,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":32004689,"answer_count":1,"score":0,"last_activity_date":1678607309,"creation_date":1439461467,"question_id":31985581,"body_markdown":"I am new to amazon kinesis so might be this question is very basic question.\r\nBut i need help on this,\r\nI am having one use case where i need to pull the data from amazon kinesis into my web application which has been created in JAva, i need to obtain the connection between the kinesis and java so that i can take the data from amazon kinesis and do some of the analytics on the data and if the data is modified then i need to put the data back to amazon kinesis from java application.\r\nhere my java application is not on the amazon clould, it is on my private cloud. so how do i do the above task.\r\n\r\nKindly help me.","title":"get data from amazon kinesis into java web application","body":"<p>I am new to amazon kinesis so might be this question is very basic question.\nBut i need help on this,\nI am having one use case where i need to pull the data from amazon kinesis into my web application which has been created in JAva, i need to obtain the connection between the kinesis and java so that i can take the data from amazon kinesis and do some of the analytics on the data and if the data is modified then i need to put the data back to amazon kinesis from java application.\nhere my java application is not on the amazon clould, it is on my private cloud. so how do i do the above task.</p>\n\n<p>Kindly help me.</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","sdk","instance"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355306108,"creation_date":1355305475,"answer_id":13836920,"question_id":13836784,"body_markdown":"You should not try to make the heap size much larger than the main memory size. AFAIK EC2 don&#39;t offer machines with more than 160 GB of main memory (I could be wrong) http://aws.amazon.com/ec2/instance-types/\r\n\r\nIf you are talking about this instance\r\n\r\n    M1 Small Instance  default++\r\n    \r\n    1.7 GiB memory\r\n     1 EC2 Compute Unit (1 virtual core with 1 EC2 Compute Unit)\r\n     160 GB instance storage\r\n     32-bit or 64-bit platform\r\n     I/O Performance: Moderate\r\n     EBS-Optimized Available: No\r\n     API name: m1.small\r\n\r\nThis reads as, you can use a heap of about 1.2 to 1.5 GB and 160 GB of local disk space.\r\n\r\nAFAIK, You can access storage as regular files.\r\n\r\nBTW: Java can take increasing long time to perform a Full GC on large heap sizes.  The worst time can be 1 second per 1-4 GB depending on your system.  You could expect that a system with a 160 GB heap can see 40 second stop-the-world GCs.\r\n\r\nFor this reason, off heap options are often explored such as using a database, BigMemory or use direct memory/memory mapped files.\r\n\r\n\r\n","title":"Creating EC2 Instance with more than 30gb - In Java","body":"<p>You should not try to make the heap size much larger than the main memory size. AFAIK EC2 don't offer machines with more than 160 GB of main memory (I could be wrong) <a href=\"http://aws.amazon.com/ec2/instance-types/\" rel=\"nofollow\">http://aws.amazon.com/ec2/instance-types/</a></p>\n\n<p>If you are talking about this instance</p>\n\n<pre><code>M1 Small Instance  default++\n\n1.7 GiB memory\n 1 EC2 Compute Unit (1 virtual core with 1 EC2 Compute Unit)\n 160 GB instance storage\n 32-bit or 64-bit platform\n I/O Performance: Moderate\n EBS-Optimized Available: No\n API name: m1.small\n</code></pre>\n\n<p>This reads as, you can use a heap of about 1.2 to 1.5 GB and 160 GB of local disk space.</p>\n\n<p>AFAIK, You can access storage as regular files.</p>\n\n<p>BTW: Java can take increasing long time to perform a Full GC on large heap sizes.  The worst time can be 1 second per 1-4 GB depending on your system.  You could expect that a system with a 160 GB heap can see 40 second stop-the-world GCs.</p>\n\n<p>For this reason, off heap options are often explored such as using a database, BigMemory or use direct memory/memory mapped files.</p>\n"}],"owner":{"account_id":2137981,"reputation":39,"user_id":1897278,"accept_rate":0,"display_name":"gilad a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678607278,"creation_date":1355305076,"question_id":13836784,"body_markdown":"When I build an EC2 instance m1.small (for example), by deafult I get 30gb instead of 160gb.\r\n\r\nI&#39;ve seen in google that I need to add ephemeral storage / instance stored storage..\r\nTo my question:\r\nIs there a way to add the ephemeral storage using the java sdk?\r\nIf I create an instance (using the sdk) with a standard volume of 160gb, I get charged as if I was creating a regular instance and attached a new volume to it?\r\n\r\nAnd more generally, so when they write that an instance has 160gb, \r\nthat means I only have 30gb and another 140gb that I should only use for temporary files which i dont mind to lose?\r\n\r\nThanks in advance.","title":"Creating EC2 Instance with more than 30gb - In Java","body":"<p>When I build an EC2 instance m1.small (for example), by deafult I get 30gb instead of 160gb.</p>\n\n<p>I've seen in google that I need to add ephemeral storage / instance stored storage..\nTo my question:\nIs there a way to add the ephemeral storage using the java sdk?\nIf I create an instance (using the sdk) with a standard volume of 160gb, I get charged as if I was creating a regular instance and attached a new volume to it?</p>\n\n<p>And more generally, so when they write that an instance has 160gb, \nthat means I only have 30gb and another 140gb that I should only use for temporary files which i dont mind to lose?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","mongodb","amazon-web-services","amazon-ec2"],"comments":[{"owner":{"account_id":238952,"reputation":2166,"user_id":508214,"accept_rate":73,"display_name":"titogeo"},"score":0,"creation_date":1383666939,"post_id":19785918,"comment_id":29422937,"body_markdown":"Check the AWS security groups, is application and mongo in same system? is 27017 open for read/write?","body":"Check the AWS security groups, is application and mongo in same system? is 27017 open for read/write?"}],"answers":[{"tags":[],"owner":{"account_id":963492,"reputation":10559,"user_id":987339,"display_name":"user987339"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1383645314,"creation_date":1383645314,"answer_id":19786087,"question_id":19785918,"body_markdown":"This is a network issue. Maybe there is some firewall? \r\nCheck if you can `telnet` to this ip and port. Or check if you can `ping` it.","title":"Java mongodb connecion to remote server","body":"<p>This is a network issue. Maybe there is some firewall? \nCheck if you can <code>telnet</code> to this ip and port. Or check if you can <code>ping</code> it.</p>\n"}],"owner":{"account_id":1902804,"reputation":23,"user_id":1718302,"display_name":"user1718302"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":983,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19786087,"answer_count":1,"score":2,"last_activity_date":1678607234,"creation_date":1383644808,"question_id":19785918,"body_markdown":"I have amazon ec2 windows instance running, and i have associated elastic ip to it. I have installed mongoDB on this instance. When i try to connect to this remote mongodb database using java it gives me following error:\r\n\r\n&gt; com.mongodb.DBTCPConnector initDirectConnection WARNING: Exception\r\n&gt; executing isMaster command on /54.200.155.174:27017\r\n&gt; java.io.IOException: couldn&#39;t connect to [/54.200.155.174:27017]\r\n&gt; bc:java.net.SocketTimeoutException: connect timed out.\r\n\r\n\r\nMongodb version used is 2.0.7 and this is my connection code:\r\n\r\n    try\r\n    \t{\r\n    \t\tMongo mongo=new Mongo(&quot;54.200.155.174&quot;,27017);\r\n    \t\tDB db=mongo.getDB(&quot;mydb&quot;);\r\n    \t\tDBCollection coll=db.getCollection(&quot;users&quot;);\r\n    \t\tDBCursor cursor=coll.find();\r\n    \t\tDBObject db1;\r\n    \t\r\n    \t\twhile(cursor.hasNext())\r\n    \t\t{\r\n    \t\t\tdb1=cursor.next();\r\n    \t\t\tObject o=db1.get(&quot;email_id&quot;);\r\n    \t\t\tSystem.out.println(&quot;email:&quot;+o.toString());\r\n    \t\t}\r\n    \t}\r\n    \tcatch(Exception e)\r\n    \t{\r\n    \t\te.printStackTrace();\r\n    \t}","title":"Java mongodb connecion to remote server","body":"<p>I have amazon ec2 windows instance running, and i have associated elastic ip to it. I have installed mongoDB on this instance. When i try to connect to this remote mongodb database using java it gives me following error:</p>\n\n<blockquote>\n  <p>com.mongodb.DBTCPConnector initDirectConnection WARNING: Exception\n  executing isMaster command on /54.200.155.174:27017\n  java.io.IOException: couldn't connect to [/54.200.155.174:27017]\n  bc:java.net.SocketTimeoutException: connect timed out.</p>\n</blockquote>\n\n<p>Mongodb version used is 2.0.7 and this is my connection code:</p>\n\n<pre><code>try\n    {\n        Mongo mongo=new Mongo(\"54.200.155.174\",27017);\n        DB db=mongo.getDB(\"mydb\");\n        DBCollection coll=db.getCollection(\"users\");\n        DBCursor cursor=coll.find();\n        DBObject db1;\n\n        while(cursor.hasNext())\n        {\n            db1=cursor.next();\n            Object o=db1.get(\"email_id\");\n            System.out.println(\"email:\"+o.toString());\n        }\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-ec2"],"answers":[{"tags":[],"owner":{"account_id":4258861,"reputation":1877,"user_id":3619084,"accept_rate":81,"display_name":"Smokey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1402460398,"creation_date":1402460398,"answer_id":24154592,"question_id":24132945,"body_markdown":"I added this &#39;&amp;Version=2014-05-01&#39; and everything worked fine.\r\n\r\nThis parameter is used to specify the version of the service we are trying to use. This is the latest version of EC2.\r\n\r\nWhen I don&#39;t mention a specific version, aws looks for this version (2005-10-05) of service &amp; may be, it does not exist.","title":"Error: No Such Version of Amazon EC2","body":"<p>I added this '&amp;Version=2014-05-01' and everything worked fine.</p>\n\n<p>This parameter is used to specify the version of the service we are trying to use. This is the latest version of EC2.</p>\n\n<p>When I don't mention a specific version, aws looks for this version (2005-10-05) of service &amp; may be, it does not exist.</p>\n"}],"owner":{"account_id":4258861,"reputation":1877,"user_id":3619084,"accept_rate":81,"display_name":"Smokey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":24154592,"answer_count":1,"score":0,"last_activity_date":1678607018,"creation_date":1402374963,"question_id":24132945,"body_markdown":"I&#39;m trying to Add an Ingress rule to one of my security groups.\r\nAll I&#39;m trying to do is add my Ip-address `192.88.137.28` to my EC2 security group `sg-fakegrpid`.\r\n\r\n    User Type: IAM\r\n    region: eu-west-1\r\n\r\nSo, should I make the endpoint as `ec2.eu-west-1.amazonaws.com/` instead of `ec2.amazonaws.com/`?\r\n\r\nThis is a signed request &amp; encoded as well.\r\n\r\n    https://ec2.amazonaws.com/?AWSAccessKeyId=THISISFAKEAWSDRACULA\r\n    &amp;Action=AuthorizeSecurityGroupIngress\r\n    &amp;GroupId=sg-fakegrpid\r\n    &amp;IpPermissions.1.FromPort=3389\r\n    &amp;IpPermissions.1.IpProtocol=tcp\r\n    &amp;IpPermissions.1.IpRanges.1.CidrIp=192.88.137.28%2F32\r\n    &amp;IpPermissions.1.ToPort=3389\r\n    &amp;SignatureMethod=HmacSHA256\r\n    &amp;SignatureVersion=2\r\n    &amp;Timestamp=2014-06-09T10%3A57%3A31Z\r\n    &amp;Signature=hIKzcwPDdYKw4HsxozCFzzzzl8LxzsdC6XlX83DV4NU=\r\n\r\nI use the Java SDK to create the signature. Here&#39;s the link to it.\r\n\r\n    http://docs.aws.amazon.com/general/latest/gr/signature-version-2.html\r\n\r\nWhen I run the above given url in the browser, I get the following response.\r\n\r\n&gt; The requested version (2005-10-05) of service AmazonEC2 does not exist\r\n\r\nThen I visited this page `http://associates-amazon.s3.amazonaws.com/signed-requests/helper/index.html`\r\n\r\nI generated a signed url from there. But signature is different from the above url&#39;s signature.\r\n\r\n    http://ec2.amazonaws.com/onca/xml?AWSAccessKeyId=THISISFAKEAWSDRACULA\r\n    &amp;Action=AuthorizeSecurityGroupIngress\r\n    &amp;GroupId=sg-fakegrpid\r\n    &amp;IpPermissions.1.FromPort=3389\r\n    &amp;IpPermissions.1.IpProtocol=tcp\r\n    &amp;IpPermissions.1.IpRanges.1.CidrIp=192.88.137.28%2F32\r\n    &amp;IpPermissions.1.ToPort=3389\r\n    &amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2\r\n    &amp;Timestamp=2014-06-09T11%3A22%3A14.000Z\r\n    &amp;Signature=hr%2FwZBMi3duJpOgud6Hzx2MIhd8QUuqzockqyysRQCY%3D\r\n\r\nBut I get the same error as before.\r\n\r\nThis is the string to sign:\r\n\r\n    GET\r\n    ec2.amazonaws.com\r\n    AWSAccessKeyId=THISISFAKEAWSDRACULA\r\n    &amp;Action=AuthorizeSecurityGroupIngress\r\n    &amp;GroupId=sg-fakegrpid\r\n    &amp;IpPermissions.1.FromPort=3389\r\n    &amp;IpPermissions.1.IpProtocol=tcp\r\n    &amp;IpPermissions.1.IpRanges.1.CidrIp=192.88.137.28%2F32\r\n    &amp;IpPermissions.1.ToPort=3389\r\n    &amp;SignatureMethod=HmacSHA256\r\n    &amp;SignatureVersion=2\r\n    &amp;Timestamp=2014-06-09T11%3A22%3A14.000Z","title":"Error: No Such Version of Amazon EC2","body":"<p>I'm trying to Add an Ingress rule to one of my security groups.\nAll I'm trying to do is add my Ip-address <code>192.88.137.28</code> to my EC2 security group <code>sg-fakegrpid</code>.</p>\n\n<pre><code>User Type: IAM\nregion: eu-west-1\n</code></pre>\n\n<p>So, should I make the endpoint as <code>ec2.eu-west-1.amazonaws.com/</code> instead of <code>ec2.amazonaws.com/</code>?</p>\n\n<p>This is a signed request &amp; encoded as well.</p>\n\n<pre><code>https://ec2.amazonaws.com/?AWSAccessKeyId=THISISFAKEAWSDRACULA\n&amp;Action=AuthorizeSecurityGroupIngress\n&amp;GroupId=sg-fakegrpid\n&amp;IpPermissions.1.FromPort=3389\n&amp;IpPermissions.1.IpProtocol=tcp\n&amp;IpPermissions.1.IpRanges.1.CidrIp=192.88.137.28%2F32\n&amp;IpPermissions.1.ToPort=3389\n&amp;SignatureMethod=HmacSHA256\n&amp;SignatureVersion=2\n&amp;Timestamp=2014-06-09T10%3A57%3A31Z\n&amp;Signature=hIKzcwPDdYKw4HsxozCFzzzzl8LxzsdC6XlX83DV4NU=\n</code></pre>\n\n<p>I use the Java SDK to create the signature. Here's the link to it.</p>\n\n<pre><code>http://docs.aws.amazon.com/general/latest/gr/signature-version-2.html\n</code></pre>\n\n<p>When I run the above given url in the browser, I get the following response.</p>\n\n<blockquote>\n  <p>The requested version (2005-10-05) of service AmazonEC2 does not exist</p>\n</blockquote>\n\n<p>Then I visited this page <code>http://associates-amazon.s3.amazonaws.com/signed-requests/helper/index.html</code></p>\n\n<p>I generated a signed url from there. But signature is different from the above url's signature.</p>\n\n<pre><code>http://ec2.amazonaws.com/onca/xml?AWSAccessKeyId=THISISFAKEAWSDRACULA\n&amp;Action=AuthorizeSecurityGroupIngress\n&amp;GroupId=sg-fakegrpid\n&amp;IpPermissions.1.FromPort=3389\n&amp;IpPermissions.1.IpProtocol=tcp\n&amp;IpPermissions.1.IpRanges.1.CidrIp=192.88.137.28%2F32\n&amp;IpPermissions.1.ToPort=3389\n&amp;SignatureMethod=HmacSHA256&amp;SignatureVersion=2\n&amp;Timestamp=2014-06-09T11%3A22%3A14.000Z\n&amp;Signature=hr%2FwZBMi3duJpOgud6Hzx2MIhd8QUuqzockqyysRQCY%3D\n</code></pre>\n\n<p>But I get the same error as before.</p>\n\n<p>This is the string to sign:</p>\n\n<pre><code>GET\nec2.amazonaws.com\nAWSAccessKeyId=THISISFAKEAWSDRACULA\n&amp;Action=AuthorizeSecurityGroupIngress\n&amp;GroupId=sg-fakegrpid\n&amp;IpPermissions.1.FromPort=3389\n&amp;IpPermissions.1.IpProtocol=tcp\n&amp;IpPermissions.1.IpRanges.1.CidrIp=192.88.137.28%2F32\n&amp;IpPermissions.1.ToPort=3389\n&amp;SignatureMethod=HmacSHA256\n&amp;SignatureVersion=2\n&amp;Timestamp=2014-06-09T11%3A22%3A14.000Z\n</code></pre>\n"},{"tags":["java","mysql","amazon-web-services","tomcat","amazon-ec2"],"comments":[{"owner":{"account_id":106567,"reputation":6967,"user_id":283844,"accept_rate":88,"display_name":"Nick"},"score":1,"creation_date":1309609173,"post_id":6556925,"comment_id":7727250,"body_markdown":"Have opened up the appropriate ports on your EC2 instance?","body":"Have opened up the appropriate ports on your EC2 instance?"},{"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"score":0,"creation_date":1309609271,"post_id":6556925,"comment_id":7727262,"body_markdown":"good question.  Yes, i&#39;ve opened 8080.","body":"good question.  Yes, i&#39;ve opened 8080."},{"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"score":0,"creation_date":1309609336,"post_id":6556925,"comment_id":7727270,"body_markdown":"... and i can get an instance of the servlet connector.  I just can&#39;t do anything with it.","body":"... and i can get an instance of the servlet connector.  I just can&#39;t do anything with it."},{"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"score":1,"creation_date":1309613157,"post_id":6556925,"comment_id":7727704,"body_markdown":"It&#39;s a long shot, but something like this? http://forum.springsource.org/showthread.php?81441-Mysql-Tomcat-java.sql.SQLException","body":"It&#39;s a long shot, but something like this? <a href=\"http://forum.springsource.org/showthread.php?81441-Mysql-Tomcat-java.sql.SQLException\" rel=\"nofollow noreferrer\">forum.springsource.org/&hellip;</a>"},{"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"score":0,"creation_date":1309615962,"post_id":6556925,"comment_id":7728041,"body_markdown":"Thanks for looking @Enno but, no this is not the problem.  It also works fine with a non-EC2 server that i have in my office that is of similar setup.  It seems like a configuration issue but i can&#39;t pin-point it.","body":"Thanks for looking @Enno but, no this is not the problem.  It also works fine with a non-EC2 server that i have in my office that is of similar setup.  It seems like a configuration issue but i can&#39;t pin-point it."},{"owner":{"account_id":269420,"reputation":6750,"user_id":558751,"accept_rate":80,"display_name":"Amol Katdare"},"score":0,"creation_date":1309621946,"post_id":6556925,"comment_id":7728709,"body_markdown":"Can you connect to mysql on command line using the same userid? Also, you have specified a password in context.xml but the log says &quot;using password:no&quot; are you expecting to login using a password or without?","body":"Can you connect to mysql on command line using the same userid? Also, you have specified a password in context.xml but the log says &quot;using password:no&quot; are you expecting to login using a password or without?"},{"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"score":0,"creation_date":1309690806,"post_id":6556925,"comment_id":7735113,"body_markdown":"I can connect fine over the cli with the user name and password. I am expecting the client to log in with the provided username and password but as you said it seems it does not.  The error also shows the internal dns name for EC2 not the one i provided in the servlet.  This is why I think this error is coming form the internal connection from Tomcat -&gt; Mysql and not from my Client -&gt; Tomcat.  Lastly the client doesn&#39;t connect to the DB at all it&#39;s all tomcat.","body":"I can connect fine over the cli with the user name and password. I am expecting the client to log in with the provided username and password but as you said it seems it does not.  The error also shows the internal dns name for EC2 not the one i provided in the servlet.  This is why I think this error is coming form the internal connection from Tomcat -&gt; Mysql and not from my Client -&gt; Tomcat.  Lastly the client doesn&#39;t connect to the DB at all it&#39;s all tomcat."}],"answers":[{"tags":[],"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1309867565,"creation_date":1309867565,"answer_id":6582377,"question_id":6556925,"body_markdown":"I found the issue.  My persistance.xml had the following code...\r\n\r\n     &lt;properties&gt;\r\n          &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;&quot;/&gt;\r\n          &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;&quot;/&gt;\r\n        &lt;/properties&gt;\r\n\r\nNot sure how that got in there!  The settings in the persistance.xml must override the settings in my Spring context file.","title":"ec2+tomcat+mysql Access Denied!","body":"<p>I found the issue.  My persistance.xml had the following code...</p>\n\n<pre><code> &lt;properties&gt;\n      &lt;property name=\"hibernate.connection.username\" value=\"\"/&gt;\n      &lt;property name=\"hibernate.connection.driver_class\" value=\"\"/&gt;\n      &lt;property name=\"hibernate.connection.password\" value=\"\"/&gt;\n      &lt;property name=\"hibernate.connection.url\" value=\"\"/&gt;\n    &lt;/properties&gt;\n</code></pre>\n\n<p>Not sure how that got in there!  The settings in the persistance.xml must override the settings in my Spring context file.</p>\n"}],"owner":{"account_id":422503,"reputation":12328,"user_id":801325,"accept_rate":83,"display_name":"Michael J. Lee"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":6582377,"answer_count":1,"score":0,"last_activity_date":1678606883,"creation_date":1309608956,"question_id":6556925,"body_markdown":"I&#39;m running tomcat6 and mysql5 on a single ec2 instance and i cannot cannot from the outside world.\r\n\r\n\r\nMy context.xml on tomcat in ec2...\r\n\r\n\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource&quot;&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://ec2-xx-xx-xxx-178.compute1.amazonaws.com:3306/data_dbo&quot; /&gt;\r\n        &lt;property name=&quot;user&quot; value=&quot;a_user&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;a_password&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nClient context.xml\r\n\r\n   \r\n\r\n     &lt;bean id=&quot;myService&quot; class=&quot;org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean&quot;&gt;\r\n            &lt;property name=&quot;serviceUrl&quot; value=&quot;http://ec2-xx-xx-xxx-xxx.compute-1.amazonaws.com:8080/MyService-services/remoting/thingServiceExporter&quot;/&gt;\r\n            &lt;property name=&quot;serviceInterface&quot; value=&quot;com.things.services.MyService&quot;/&gt;\r\n        &lt;/bean&gt;\r\n\r\nError on clinet...\r\n\r\n    Caused by: java.sql.SQLException: Access denied for user &#39;&#39;@&#39;domU-xx-xx-xx-xx-xx-DB.compute-1.internal&#39; (using password: NO)\r\n\r\n\r\nI&#39;ve setup privileges for my user but it doesn&#39;t seem to be using the user i setup in my tomcat datasource.  I say this because of the error on the client (Access denied for user &#39;&#39;@) no user, no password.  **Do i need to setup something between tomcat and mysql on ec2** because it seems to be using the internal dns to access MySql?\r\n\r\n**Let me know if i can provide any other information!**","title":"ec2+tomcat+mysql Access Denied!","body":"<p>I'm running tomcat6 and mysql5 on a single ec2 instance and i cannot cannot from the outside world.</p>\n\n<p>My context.xml on tomcat in ec2...</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"com.mysql.jdbc.jdbc2.optional.MysqlConnectionPoolDataSource\"&gt;\n    &lt;property name=\"url\" value=\"jdbc:mysql://ec2-xx-xx-xxx-178.compute1.amazonaws.com:3306/data_dbo\" /&gt;\n    &lt;property name=\"user\" value=\"a_user\" /&gt;\n    &lt;property name=\"password\" value=\"a_password\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Client context.xml</p>\n\n<pre><code> &lt;bean id=\"myService\" class=\"org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean\"&gt;\n        &lt;property name=\"serviceUrl\" value=\"http://ec2-xx-xx-xxx-xxx.compute-1.amazonaws.com:8080/MyService-services/remoting/thingServiceExporter\"/&gt;\n        &lt;property name=\"serviceInterface\" value=\"com.things.services.MyService\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>Error on clinet...</p>\n\n<pre><code>Caused by: java.sql.SQLException: Access denied for user ''@'domU-xx-xx-xx-xx-xx-DB.compute-1.internal' (using password: NO)\n</code></pre>\n\n<p>I've setup privileges for my user but it doesn't seem to be using the user i setup in my tomcat datasource.  I say this because of the error on the client (Access denied for user ''@) no user, no password.  <strong>Do i need to setup something between tomcat and mysql on ec2</strong> because it seems to be using the internal dns to access MySql?</p>\n\n<p><strong>Let me know if i can provide any other information!</strong></p>\n"},{"tags":["java","amazon-web-services","class","amazon-s3"],"comments":[{"owner":{"account_id":1349209,"reputation":63,"user_id":1289334,"accept_rate":100,"display_name":"John V"},"score":0,"creation_date":1333556989,"post_id":10003110,"comment_id":12805514,"body_markdown":"Which one is better or any of them even better/correct?","body":"Which one is better or any of them even better/correct?"},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1333557086,"post_id":10003110,"comment_id":12805562,"body_markdown":"You&#39;re creating a Matcher object, but instead of actually using it, you are converting it to a String.  That&#39;s never going to be correct.","body":"You&#39;re creating a Matcher object, but instead of actually using it, you are converting it to a String.  That&#39;s never going to be correct."},{"owner":{"account_id":1349209,"reputation":63,"user_id":1289334,"accept_rate":100,"display_name":"John V"},"score":0,"creation_date":1333557207,"post_id":10003110,"comment_id":12805620,"body_markdown":"I see. Do you have any suggestions as to how I should approach this differently? I need to make a pattern that would go before &quot;reports&quot;.","body":"I see. Do you have any suggestions as to how I should approach this differently? I need to make a pattern that would go before &quot;reports&quot;."},{"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1333563592,"post_id":10003110,"comment_id":12808100,"body_markdown":"Well I definitely don&#39;t see any methods in the Amazon S3 API that take a Matcher object, do you?  I think you&#39;re going to have to get a bigger list than you want, and then trim down the results via pattern matching in your app.","body":"Well I definitely don&#39;t see any methods in the Amazon S3 API that take a Matcher object, do you?  I think you&#39;re going to have to get a bigger list than you want, and then trim down the results via pattern matching in your app."}],"answers":[{"tags":[],"owner":{"account_id":134574,"reputation":2522,"user_id":336802,"display_name":"Christian Garbin"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1333499164,"creation_date":1333499164,"answer_id":10003345,"question_id":10003110,"body_markdown":"Don&#39;t know much about AWS, but the `m + &quot;reports&quot;` piece of the code is invoking `m.toString` and concatenating it with the literal &quot;reports&quot;. The toString of a Matcher object is usually not that useful. \r\n\r\nFrom this piece of code:\r\n\r\n    Pattern p = Pattern.compile(&quot;[a-zA-Z][0-9]&quot;);\r\n    Matcher m = p.matcher(&quot;test&quot;);\r\n    System.out.println( m +  &quot;reports&quot; );\r\n\r\nI get this on OS X:\r\n\r\n     java.util.regex.Matcher[pattern=[a-zA-Z][0-9] region=0,4 lastmatch=]reports\r\n\r\nProbably not what you want to pass on to `ObjectListing`.\r\n\r\nYou need to replace the `m + ` with something that makes more sense for your code.\r\n\r\n","title":"Pattern And Matcher: How to -- concatenate a pattern and a string for file search","body":"<p>Don't know much about AWS, but the <code>m + \"reports\"</code> piece of the code is invoking <code>m.toString</code> and concatenating it with the literal \"reports\". The toString of a Matcher object is usually not that useful. </p>\n\n<p>From this piece of code:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"[a-zA-Z][0-9]\");\nMatcher m = p.matcher(\"test\");\nSystem.out.println( m +  \"reports\" );\n</code></pre>\n\n<p>I get this on OS X:</p>\n\n<pre><code> java.util.regex.Matcher[pattern=[a-zA-Z][0-9] region=0,4 lastmatch=]reports\n</code></pre>\n\n<p>Probably not what you want to pass on to <code>ObjectListing</code>.</p>\n\n<p>You need to replace the <code>m +</code> with something that makes more sense for your code.</p>\n"}],"owner":{"account_id":1349209,"reputation":63,"user_id":1289334,"accept_rate":100,"display_name":"John V"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2976,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10003345,"answer_count":1,"score":0,"last_activity_date":1678606792,"creation_date":1333497163,"question_id":10003110,"body_markdown":"So I&#39;m using the AWS SDK in Java and I&#39;ve created a class to download the buckets/objects that are in the S3 Server.\r\n\r\nWhat I need to now is to create something like a wildcard or a pattern to append with say a string named (&quot;reports&quot;). The only thing I&#39;ve come up with is to create a pattern-matcher variable like so: \r\n\r\n     Pattern p = Pattern.compile(&quot;[a-zA-Z][0-9]&quot;);\r\n        Matcher m = p.matcher(prePattern);\r\n\r\n        ObjectListing s3ObjectList = s3client.listObjects(new ListObjectsRequest()\r\n                                                   .withBucketName(bucketName)\r\n                                                   .withPrefix(m  + &quot;reports&quot;));+\r\n\r\nCan anyone please tell me if there&#39;s a better solution with what I&#39;m trying to do or if I even did it properly?\r\n\r\nThanks!\r\n\r\n\r\n----\r\nNew code:\r\n\r\n          String bucketName = &quot;blabla&quot;;\r\n          String prePattern = &quot;^[a-z0-9_-]{1,30}$&quot;;\r\n          String prefixPat = &quot; -- Insert Pattern Here -- &quot;;\r\n          ArrayList&lt;String&gt; objPrefix = new ArrayList();\r\n\r\n        Pattern p = Pattern.compile(prePattern);\r\n        Matcher m = p.matcher(prefixPat);\r\n        \r\n        for(int i=0; i&lt;= objPrefix.size(); i++)\r\n       {\r\n            objPrefix.add(m + &quot;reports&quot;);\r\n            ObjectListing s3ObjectList = s3client.listObjects(new ListObjectsRequest()\r\n                                                   .withBucketName(bucketName)\r\n                                                   .withPrefix(objPrefix.get(i)));\r\n\r\n       }   \r\n\r\nThoughts you guys? Would really appreciate it. Thanks!\r\n      \r\n","title":"Pattern And Matcher: How to -- concatenate a pattern and a string for file search","body":"<p>So I'm using the AWS SDK in Java and I've created a class to download the buckets/objects that are in the S3 Server.</p>\n\n<p>What I need to now is to create something like a wildcard or a pattern to append with say a string named (\"reports\"). The only thing I've come up with is to create a pattern-matcher variable like so: </p>\n\n<pre><code> Pattern p = Pattern.compile(\"[a-zA-Z][0-9]\");\n    Matcher m = p.matcher(prePattern);\n\n    ObjectListing s3ObjectList = s3client.listObjects(new ListObjectsRequest()\n                                               .withBucketName(bucketName)\n                                               .withPrefix(m  + \"reports\"));+\n</code></pre>\n\n<p>Can anyone please tell me if there's a better solution with what I'm trying to do or if I even did it properly?</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p>New code:</p>\n\n<pre><code>      String bucketName = \"blabla\";\n      String prePattern = \"^[a-z0-9_-]{1,30}$\";\n      String prefixPat = \" -- Insert Pattern Here -- \";\n      ArrayList&lt;String&gt; objPrefix = new ArrayList();\n\n    Pattern p = Pattern.compile(prePattern);\n    Matcher m = p.matcher(prefixPat);\n\n    for(int i=0; i&lt;= objPrefix.size(); i++)\n   {\n        objPrefix.add(m + \"reports\");\n        ObjectListing s3ObjectList = s3client.listObjects(new ListObjectsRequest()\n                                               .withBucketName(bucketName)\n                                               .withPrefix(objPrefix.get(i)));\n\n   }   \n</code></pre>\n\n<p>Thoughts you guys? Would really appreciate it. Thanks!</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","jar"],"answers":[{"tags":[],"owner":{"display_name":"user1431390"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1339948298,"creation_date":1339948298,"answer_id":11072688,"question_id":11072590,"body_markdown":"you cannot use 2 versions of same Lib in the same class loader; but you can use different class loader to load th different versions. For example, you can use a sub classloader to loader httpclient-4.0.1, and shield 4.1.0 in the super class loader.","title":"Use 2 versions of same Lib","body":"<p>you cannot use 2 versions of same Lib in the same class loader; but you can use different class loader to load th different versions. For example, you can use a sub classloader to loader httpclient-4.0.1, and shield 4.1.0 in the super class loader.</p>\n"}],"owner":{"account_id":1175776,"reputation":324,"user_id":1151865,"accept_rate":75,"display_name":"Saeger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":11072688,"answer_count":1,"score":0,"last_activity_date":1678606771,"creation_date":1339947672,"question_id":11072590,"body_markdown":"Is it possible to use the same lib with different versions ?\r\n\r\nThe thing is:\r\n\r\ni have the httpclient-4.0.1 into my application in the WEB-INF/lib directory.\r\n\r\nI made an API for the Amazon S3 service, which use the httpclient-4.1.1. But i don&#39;t want to update my application library to use the newer version, because i don&#39;t have enough time to test and garantee that the application will run properly.\r\nSo, is there a way, that my API i`ve made (actually a jar) to use the httpclient-4.1.1 without need to upgrade the library of my application (4.0.1)?","title":"Use 2 versions of same Lib","body":"<p>Is it possible to use the same lib with different versions ?</p>\n\n<p>The thing is:</p>\n\n<p>i have the httpclient-4.0.1 into my application in the WEB-INF/lib directory.</p>\n\n<p>I made an API for the Amazon S3 service, which use the httpclient-4.1.1. But i don't want to update my application library to use the newer version, because i don't have enough time to test and garantee that the application will run properly.\nSo, is there a way, that my API i`ve made (actually a jar) to use the httpclient-4.1.1 without need to upgrade the library of my application (4.0.1)?</p>\n"},{"tags":["java","android","amazon-web-services","amazon-s3","uploading"],"comments":[{"owner":{"account_id":3340846,"reputation":2516,"user_id":2807172,"accept_rate":70,"display_name":"Raju Sharma"},"score":0,"creation_date":1504682280,"post_id":46069036,"comment_id":79098579,"body_markdown":"You need to define access for folder in Amazon s3 bucket, so can be restricted","body":"You need to define access for folder in Amazon s3 bucket, so can be restricted"},{"owner":{"account_id":1845098,"reputation":171667,"user_id":1695906,"display_name":"Michael - sqlbot"},"score":0,"creation_date":1504700353,"post_id":46069036,"comment_id":79110917,"body_markdown":"@RajuSharma, that statement is not correct.  **S3 buckets and objects are secure and inaccessible by default**.  If an object can be unexpectedly be downloaded anonymously, then a mistake has been made by the user, either during the upload or on the bucket policy or ACLs. Your comment implies that &quot;folders&quot; are somehow needed for security.","body":"@RajuSharma, that statement is not correct.  <b>S3 buckets and objects are secure and inaccessible by default</b>.  If an object can be unexpectedly be downloaded anonymously, then a mistake has been made by the user, either during the upload or on the bucket policy or ACLs. Your comment implies that &quot;folders&quot; are somehow needed for security."}],"answers":[{"tags":[],"owner":{"account_id":8312671,"reputation":1135,"user_id":6247159,"accept_rate":88,"display_name":"Vardaan Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504682283,"creation_date":1504682283,"answer_id":46069084,"question_id":46069036,"body_markdown":"For managing access to your file, you will need to follow the instructions here: http://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html\r\n\r\nIt is covered in more detail here: http://docs.aws.amazon.com/AmazonS3/latest/dev/intro-managing-access-s3-resources.html","title":"AmazonS3 multipart uploading","body":"<p>For managing access to your file, you will need to follow the instructions here: <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/AmazonS3/latest/dev/s3-access-control.html</a></p>\n\n<p>It is covered in more detail here: <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/intro-managing-access-s3-resources.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/AmazonS3/latest/dev/intro-managing-access-s3-resources.html</a></p>\n"},{"tags":[],"owner":{"account_id":7541011,"reputation":186,"user_id":5725589,"display_name":"Kumar Panchal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1504686053,"creation_date":1504686053,"answer_id":46070180,"question_id":46069036,"body_markdown":"Yes you can create folder by using below method.\r\n   \r\n\r\n         AmazonS3 amazons3Client = new AmazonS3Client(new ProfileCredentialsProvider());\r\n         public void createFolder(String bucketName, String folderName)\r\n        \t{\r\n        \t\ttry\r\n        \t\t{\r\n        \t\t\t\r\n        \t\t\t\t    ObjectMetadata objectMetaData = new ObjectMetadata();\r\n        \t\t\t\t\tobjectMetaData.setContentLength(0);\r\n        \t\t\t\t\tInputStream emptyContent = new ByteArrayInputStream(new byte[0]);\r\n        \t\t\t\t\tamazons3Client.putObject(new PutObjectRequest(bucketName, folderName + &quot;/&quot;, emptyContent, objectMetaData));\r\n        \t\t}\r\n        \t\tcatch (Exception exception)\r\n        \t\t{\r\n        \t\t\tLOGGER.error(&quot;Exception In Create Folder&quot;, exception);\r\n        \t\t}\r\n        \r\n        \t}\r\n\r\nAccess rights you can use policy and it will apply on specific to your bucket,Please go through below link\r\nYou can allow specific IP to access.\r\nhttp://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html\r\n\r\n","title":"AmazonS3 multipart uploading","body":"<p>Yes you can create folder by using below method.</p>\n\n<pre><code>     AmazonS3 amazons3Client = new AmazonS3Client(new ProfileCredentialsProvider());\n     public void createFolder(String bucketName, String folderName)\n        {\n            try\n            {\n\n                        ObjectMetadata objectMetaData = new ObjectMetadata();\n                        objectMetaData.setContentLength(0);\n                        InputStream emptyContent = new ByteArrayInputStream(new byte[0]);\n                        amazons3Client.putObject(new PutObjectRequest(bucketName, folderName + \"/\", emptyContent, objectMetaData));\n            }\n            catch (Exception exception)\n            {\n                LOGGER.error(\"Exception In Create Folder\", exception);\n            }\n\n        }\n</code></pre>\n\n<p>Access rights you can use policy and it will apply on specific to your bucket,Please go through below link\nYou can allow specific IP to access.\n<a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html</a></p>\n"}],"owner":{"account_id":7815530,"reputation":23,"user_id":5910362,"display_name":"rajat raikar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46070180,"answer_count":2,"score":2,"last_activity_date":1678606755,"creation_date":1504682135,"question_id":46069036,"body_markdown":"I have used multi part uploading for uploading image to Amazon S3 as mentioned in [documentation](http://docs.aws.amazon.com/AmazonS3/latest/dev/llJavaUploadFile.html).\r\n\r\nBut then the files uploaded can be access directly without access key or anything. Tested using the remote URL which is got from response for a particular file. \r\nIs there any way to restrict access to uploaded file?\r\nAlso is there a way to change the upload URL here, If I want to add a folder and the the file?","title":"AmazonS3 multipart uploading","body":"<p>I have used multi part uploading for uploading image to Amazon S3 as mentioned in <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/llJavaUploadFile.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<p>But then the files uploaded can be access directly without access key or anything. Tested using the remote URL which is got from response for a particular file. \nIs there any way to restrict access to uploaded file?\nAlso is there a way to change the upload URL here, If I want to add a folder and the the file?</p>\n"},{"tags":["java","amazon-web-services","image-processing"],"comments":[{"owner":{"account_id":211025,"reputation":10266,"user_id":462963,"display_name":"Werner Kvalem Vester&#229;s"},"score":1,"creation_date":1357472324,"post_id":14181554,"comment_id":19654560,"body_markdown":"My suggestion is that you start working on task number 1, and then you come back when you have a real question.","body":"My suggestion is that you start working on task number 1, and then you come back when you have a real question."}],"answers":[{"tags":[],"owner":{"display_name":"user846969"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378238440,"creation_date":1378238440,"answer_id":18600525,"question_id":14181554,"body_markdown":"Please read the documentation for java.net.HttpURLConnection to see how to download a file using Java.\r\n\r\nThen read &lt;http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html&gt; which explains how to download and upload to Amazon S3. Here is an example of S3 in action from Java:\r\n\r\n    //---------------------------------------------------------------------     \r\n    // Amazon S3\r\n    //---------------------------------------------------------------------     \r\n    class S3 extends AmazonS3Client\r\n     {final String bucket;\r\n      S3(String u, String p, String Bucket)\r\n       {super(new BasicAWSCredentials(u, p));\r\n        bucket = Bucket;\r\n       }\r\n      boolean put(String k, String v)      \r\n       {try \r\n         {final ByteArrayInputStream b = new ByteArrayInputStream(v.toString().getBytes());\r\n          putObject(bucket, k, b, new ObjectMetadata());\r\n          setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be here to allow change to reduced redundancy\r\n          changeObjectStorageClass(bucket, k, StorageClass.ReducedRedundancy);\r\n          setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be repeated because it is now a new object again\r\n          return true; \r\n         }\r\n        catch(Exception e) {log(&quot;Cannot put &quot;+bucket+&quot;/&quot;+k+&quot; to S3 because &quot;+e);}\r\n        return false; \r\n       }\r\n      String get(String k) \r\n       {try \r\n         {final S3Object f = getObject(bucket, k);\r\n          final BufferedInputStream i = new BufferedInputStream(f.getObjectContent());  \r\n          final StringBuilder s = new StringBuilder(); \r\n          final byte[]b = new byte[1024];\r\n          for(int n = i.read(b); n != -1; n = i.read(b)) {s.append(new String(b, 0, n));}\r\n          return s.toString(); \r\n         }\r\n        catch(Exception e) {log(&quot;Cannot get &quot;+bucket+&quot;/&quot;+k+&quot; from S3 because &quot;+e);}\r\n        return null; \r\n       }\r\n      String[]list(String d) \r\n       {try \r\n         {final ObjectListing l = listObjects(bucket, d);\r\n          final List&lt;S3ObjectSummary&gt; L = l.getObjectSummaries(); \r\n          final int n = L.size();\r\n          final String[]s = new String[n];  \r\n          for(int i = 0; i &lt; n; ++i)\r\n           {final S3ObjectSummary k = L.get(i);\r\n            s[i] = k.getKey();\r\n           } \r\n          return s; \r\n         }\r\n        catch(Exception e) {log(&quot;Cannot list &quot;+bucket+&quot;/&quot;+d+&quot; on S3 because &quot;+e);}\r\n        return new String[]{}; \r\n       }\r\n     }\r\n   }\r\n\r\n\r\nOnce you have the image on Amazon S3, you can make the file publically visible and thus displayable in any web browser.\r\n\r\n","title":"amazon AWS - download images from web and manipulate them","body":"<p>Please read the documentation for java.net.HttpURLConnection to see how to download a file using Java.</p>\n\n<p>Then read <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html\" rel=\"nofollow\">http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/index.html</a> which explains how to download and upload to Amazon S3. Here is an example of S3 in action from Java:</p>\n\n<pre><code>//---------------------------------------------------------------------     \n// Amazon S3\n//---------------------------------------------------------------------     \nclass S3 extends AmazonS3Client\n {final String bucket;\n  S3(String u, String p, String Bucket)\n   {super(new BasicAWSCredentials(u, p));\n    bucket = Bucket;\n   }\n  boolean put(String k, String v)      \n   {try \n     {final ByteArrayInputStream b = new ByteArrayInputStream(v.toString().getBytes());\n      putObject(bucket, k, b, new ObjectMetadata());\n      setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be here to allow change to reduced redundancy\n      changeObjectStorageClass(bucket, k, StorageClass.ReducedRedundancy);\n      setObjectAcl(bucket, k, CannedAccessControlList.PublicRead);  // Has to be repeated because it is now a new object again\n      return true; \n     }\n    catch(Exception e) {log(\"Cannot put \"+bucket+\"/\"+k+\" to S3 because \"+e);}\n    return false; \n   }\n  String get(String k) \n   {try \n     {final S3Object f = getObject(bucket, k);\n      final BufferedInputStream i = new BufferedInputStream(f.getObjectContent());  \n      final StringBuilder s = new StringBuilder(); \n      final byte[]b = new byte[1024];\n      for(int n = i.read(b); n != -1; n = i.read(b)) {s.append(new String(b, 0, n));}\n      return s.toString(); \n     }\n    catch(Exception e) {log(\"Cannot get \"+bucket+\"/\"+k+\" from S3 because \"+e);}\n    return null; \n   }\n  String[]list(String d) \n   {try \n     {final ObjectListing l = listObjects(bucket, d);\n      final List&lt;S3ObjectSummary&gt; L = l.getObjectSummaries(); \n      final int n = L.size();\n      final String[]s = new String[n];  \n      for(int i = 0; i &lt; n; ++i)\n       {final S3ObjectSummary k = L.get(i);\n        s[i] = k.getKey();\n       } \n      return s; \n     }\n    catch(Exception e) {log(\"Cannot list \"+bucket+\"/\"+d+\" on S3 because \"+e);}\n    return new String[]{}; \n   }\n }\n</code></pre>\n\n<p>}</p>\n\n<p>Once you have the image on Amazon S3, you can make the file publically visible and thus displayable in any web browser.</p>\n"}],"owner":{"account_id":2210759,"reputation":349,"user_id":1952686,"accept_rate":12,"display_name":"user1952686"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":613,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1678606752,"creation_date":1357470900,"question_id":14181554,"body_markdown":"I want to build a little project.\r\n\r\nHo do i do this:\r\n\r\n1) automatically download RGB image from a known internet address to amazon AWS.\r\n\r\n2) convert the image to grayscale (eventually will do more advanced image processing).\r\n\r\n3) store the grayscale image in amazon AWS.\r\n\r\n4) be able to view / download the grayscale image in a web browser.\r\n\r\n\r\nprogramming languages i know is matlab, and basic java (OOP university course).\r\n\r\nis there any step by step guide?\r\n\r\nwhere should i start?","title":"amazon AWS - download images from web and manipulate them","body":"<p>I want to build a little project.</p>\n\n<p>Ho do i do this:</p>\n\n<p>1) automatically download RGB image from a known internet address to amazon AWS.</p>\n\n<p>2) convert the image to grayscale (eventually will do more advanced image processing).</p>\n\n<p>3) store the grayscale image in amazon AWS.</p>\n\n<p>4) be able to view / download the grayscale image in a web browser.</p>\n\n<p>programming languages i know is matlab, and basic java (OOP university course).</p>\n\n<p>is there any step by step guide?</p>\n\n<p>where should i start?</p>\n"},{"tags":["java","amazon-web-services","glassfish-3","jets3t"],"answers":[{"tags":[],"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1330063357,"creation_date":1330063357,"answer_id":9426164,"question_id":9426106,"body_markdown":"GlassFish v3 has a well defined Class Loader hierarchy which identifies the common class loader as the proper way to deal with shared libraries. So to make a long story short, putting you libraries and other framework JARs in domains/domain1/lib is all you need to do.\r\n\r\nGood luck!\r\n","title":"Amazon JetS3t API and Glassfish Server","body":"<p>GlassFish v3 has a well defined Class Loader hierarchy which identifies the common class loader as the proper way to deal with shared libraries. So to make a long story short, putting you libraries and other framework JARs in domains/domain1/lib is all you need to do.</p>\n\n<p>Good luck!</p>\n"}],"owner":{"account_id":1260439,"reputation":99,"user_id":1218873,"accept_rate":100,"display_name":"Harsha Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9426164,"answer_count":1,"score":0,"last_activity_date":1678606728,"creation_date":1330062948,"question_id":9426106,"body_markdown":"Where do I put the Amazon JetS3t and the related jar files in Glassfish 3? \r\n\r\nI have a sample Restful Web application which currently uses a Arraylist to maintain objects at back-end, I would like them to be stored as text files on Amazon S3. So I am using jets@t API for that.\r\n\r\nWhen I deploy the application onto Glassfish, it throes an error like this\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.jets3t.service.security.ProviderCredentials\r\n    \tat \r\n    \r\n    org.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1519) \tat org.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1369) \t... 45 more\r\n","title":"Amazon JetS3t API and Glassfish Server","body":"<p>Where do I put the Amazon JetS3t and the related jar files in Glassfish 3?</p>\n<p>I have a sample Restful Web application which currently uses a Arraylist to maintain objects at back-end, I would like them to be stored as text files on Amazon S3. So I am using jets@t API for that.</p>\n<p>When I deploy the application onto Glassfish, it throes an error like this</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.jets3t.service.security.ProviderCredentials\n    at \n\norg.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1519)   at org.glassfish.web.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1369)    ... 45 more\n</code></pre>\n"},{"tags":["java","amazon-web-services","maven","amazon-s3","glassfish"],"answers":[{"tags":[],"owner":{"account_id":245231,"reputation":306,"user_id":518612,"display_name":"Ji&#237; itina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394910271,"creation_date":1394910271,"answer_id":22428378,"question_id":19053457,"body_markdown":"The error states that you&#39;re missing commons logging dependency, add it into your maven file: \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThat should help.","title":"How to use Amazon Java SDK with Maven on Glassfish?","body":"<p>The error states that you're missing commons logging dependency, add it into your maven file: </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>That should help.</p>\n"}],"owner":{"account_id":380513,"reputation":1213,"user_id":734586,"accept_rate":69,"display_name":"coffee_machine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678606707,"creation_date":1380292590,"question_id":19053457,"body_markdown":"So in my POM I have\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd when I first create my client:\r\n\r\n    AmazonS3 s3 = new AmazonS3Client(Config.AWS_CREDENTIALS);\r\n\r\nI get an exception\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\r\n      at com.amazonaws.services.s3.AmazonS3Client.&lt;clinit&gt;(AmazonS3Client.java:193)\r\n      at (my code)\r\n      at (glassfish trace)\r\n      at java.lang.Thread.run(Thread.java:680)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\r\n      at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\r\n      at java.security.AccessController.doPrivileged(Native Method)\r\n      at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\r\n      at sun.misc.Launcher$ExtClassLoader.findClass(Launcher.java:229)\r\n      at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\r\n      at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\r\n      ... 48 more\r\n\r\nAny idea? Thanks","title":"How to use Amazon Java SDK with Maven on Glassfish?","body":"<p>So in my POM I have</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n  &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n  &lt;version&gt;1.5.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And when I first create my client:</p>\n\n<pre><code>AmazonS3 s3 = new AmazonS3Client(Config.AWS_CREDENTIALS);\n</code></pre>\n\n<p>I get an exception</p>\n\n<pre><code>java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\n  at com.amazonaws.services.s3.AmazonS3Client.&lt;clinit&gt;(AmazonS3Client.java:193)\n  at (my code)\n  at (glassfish trace)\n  at java.lang.Thread.run(Thread.java:680)\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\n  at java.net.URLClassLoader$1.run(URLClassLoader.java:202)\n  at java.security.AccessController.doPrivileged(Native Method)\n  at java.net.URLClassLoader.findClass(URLClassLoader.java:190)\n  at sun.misc.Launcher$ExtClassLoader.findClass(Launcher.java:229)\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:306)\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:247)\n  ... 48 more\n</code></pre>\n\n<p>Any idea? Thanks</p>\n"},{"tags":["java","amazon-web-services","apache","ssl"],"answers":[{"tags":[],"owner":{"account_id":5934605,"reputation":137,"user_id":4668045,"display_name":"VNN456"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553548768,"creation_date":1553548768,"answer_id":55346554,"question_id":46689593,"body_markdown":"I had a similar issue with AWS + Java7 + HTTPClient4.3; upgrading Apache HTTPClient to v4.5.7 fixed it. See if this version fixes your problem.","title":"Simple POST request to API Gateway from jdk1.6.0_45 using Apache Http Client 4.5.3","body":"<p>I had a similar issue with AWS + Java7 + HTTPClient4.3; upgrading Apache HTTPClient to v4.5.7 fixed it. See if this version fixes your problem.</p>\n"}],"owner":{"account_id":981530,"reputation":1652,"user_id":1001120,"accept_rate":59,"display_name":"IgorOK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678606690,"creation_date":1507728820,"question_id":46689593,"body_markdown":"H,\r\n\r\n I am trying to send POST request to API Gateway from jdk1.6.0_45 using Apache Http Client 4.5.3\r\n\r\n    public class App {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl&quot;);\r\n\r\n        HttpClient connection = HttpClientBuilder.create().build();\r\n        String url = &quot;https://76mpviml3c.execute-api.us-east-1.amazonaws.com/agstage/&quot;;\r\n        HttpPost request = new HttpPost(url);\r\n\r\n        connection.execute(request);\r\n    }\r\n\r\n}\r\n\r\nAnd I get javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure.\r\n\r\n**Could you please help me to understand what I am duing wrong ?**\r\n\r\n*By the way: AmazonS3Client (aws-java-sdk-s3 rev=&quot;1.11.109&quot;) works well on jdk1.6.0_45*\r\n \r\nLog:\r\n\r\ntrigger seeding of SecureRandom\r\ndone seeding SecureRandom\r\nAllow unsafe renegotiation: false\r\nAllow legacy hello messages: true\r\nIs initial handshake: true\r\nIs secure renegotiation: false\r\n%% No cached client session\r\n*** ClientHello, TLSv1\r\nRandomCookie:  GMT: 1490949205 bytes = { 187, 178, 36, 198, 107, 55, 182, 178, 107, 167, 74, 180, 59, 166, 13, 66, 247, 17, 201, 9, 36, 195, 234, 237, 68, 23, 124, 177 }\r\nSession ID:  {}\r\nCipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\nCompression Methods:  { 0 }\r\n***\r\nmain, WRITE: TLSv1 Handshake, length = 75\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\r\n\tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:136)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1822)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1004)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1188)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1215)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1199)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:396)\r\n\tat org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:355)\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:359)\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat App.main(App.java:18)\r\nmain, READ: TLSv1 Alert, length = 2\r\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\r\nmain, called closeSocket()\r\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure","title":"Simple POST request to API Gateway from jdk1.6.0_45 using Apache Http Client 4.5.3","body":"<p>H,</p>\n\n<p>I am trying to send POST request to API Gateway from jdk1.6.0_45 using Apache Http Client 4.5.3</p>\n\n<pre><code>public class App {\n\npublic static void main(String[] args) throws IOException {\n    System.setProperty(\"javax.net.debug\", \"ssl\");\n\n    HttpClient connection = HttpClientBuilder.create().build();\n    String url = \"https://76mpviml3c.execute-api.us-east-1.amazonaws.com/agstage/\";\n    HttpPost request = new HttpPost(url);\n\n    connection.execute(request);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And I get javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure.</p>\n\n<p><strong>Could you please help me to understand what I am duing wrong ?</strong></p>\n\n<p><em>By the way: AmazonS3Client (aws-java-sdk-s3 rev=\"1.11.109\") works well on jdk1.6.0_45</em></p>\n\n<p>Log:</p>\n\n<p>trigger seeding of SecureRandom\ndone seeding SecureRandom\nAllow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\n%% No cached client session\n*** ClientHello, TLSv1\nRandomCookie:  GMT: 1490949205 bytes = { 187, 178, 36, 198, 107, 55, 182, 178, 107, 167, 74, 180, 59, 166, 13, 66, 247, 17, 201, 9, 36, 195, 234, 237, 68, 23, 124, 177 }\nSession ID:  {}\nCipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\nCompression Methods:  { 0 }</p>\n\n<hr>\n\n<p>main, WRITE: TLSv1 Handshake, length = 75\nException in thread \"main\" javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\n    at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:136)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1822)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1004)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1188)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1215)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1199)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:396)\n    at org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:355)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:359)\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:381)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:237)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:185)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:111)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at App.main(App.java:18)\nmain, READ: TLSv1 Alert, length = 2\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\nmain, called closeSocket()\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure</p>\n"},{"tags":["java","amazon-web-services","hadoop","mapreduce","amazon-emr"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1317056448,"post_id":7558030,"comment_id":9161919,"body_markdown":"You can specify how much memory each JVM should use but you have to run each task in its own process to do this.","body":"You can specify how much memory each JVM should use but you have to run each task in its own process to do this."}],"answers":[{"tags":[],"owner":{"account_id":304573,"reputation":32977,"user_id":614157,"accept_rate":56,"display_name":"Praveen Sripati"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1317058846,"creation_date":1317057493,"answer_id":7558716,"question_id":7558030,"body_markdown":"Check the [mapred.child.java.opts](http://hadoop.apache.org/mapreduce/docs/r0.21.0/mapred-default.html) property. It&#39;s defaulted to -Xmx200m, which means 200MB of heap for each of the map/reduce task.\r\n\r\nLooks like [EC2 small](http://aws.amazon.com/ec2/instance-types/) has 1.7 GB memory. Here is the memory with the default settings by the Hadoop processes on the TaskTracker node. Thanks to [&quot;Hadoop : The Definitive Guide&quot;](http://shop.oreilly.com/product/0636920010388.do)\r\n\r\nDatanode 1,000 MB  \r\nTasktracker 1,000 MB  \r\nTasktracker child map task 400 MB (2 * 200 MB)  \r\nTasktracker child map task 400 MB (2 * 200 MB)  \r\n\r\nTotal&#39;s to 2,800MB.\r\n\r\nOn top of this, there is the OS memory. Either pickup a nicer configuration or change the default settings. FYI, here is the [recommendation](http://www.cloudera.com/blog/2010/03/clouderas-support-team-shares-some-basic-hardware-recommendations/) on the H/W configuration for the different nodes.","title":"How to tell hadoop how much memory to allocate to a single mapper job?","body":"<p>Check the <a href=\"http://hadoop.apache.org/mapreduce/docs/r0.21.0/mapred-default.html\" rel=\"nofollow\">mapred.child.java.opts</a> property. It's defaulted to -Xmx200m, which means 200MB of heap for each of the map/reduce task.</p>\n\n<p>Looks like <a href=\"http://aws.amazon.com/ec2/instance-types/\" rel=\"nofollow\">EC2 small</a> has 1.7 GB memory. Here is the memory with the default settings by the Hadoop processes on the TaskTracker node. Thanks to <a href=\"http://shop.oreilly.com/product/0636920010388.do\" rel=\"nofollow\">\"Hadoop : The Definitive Guide\"</a></p>\n\n<p>Datanode 1,000 MB<br>\nTasktracker 1,000 MB<br>\nTasktracker child map task 400 MB (2 * 200 MB)<br>\nTasktracker child map task 400 MB (2 * 200 MB)  </p>\n\n<p>Total's to 2,800MB.</p>\n\n<p>On top of this, there is the OS memory. Either pickup a nicer configuration or change the default settings. FYI, here is the <a href=\"http://www.cloudera.com/blog/2010/03/clouderas-support-team-shares-some-basic-hardware-recommendations/\" rel=\"nofollow\">recommendation</a> on the H/W configuration for the different nodes.</p>\n"}],"owner":{"account_id":451349,"reputation":24587,"user_id":847200,"accept_rate":69,"display_name":"Arsen Zahray"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678606635,"creation_date":1317053685,"question_id":7558030,"body_markdown":"I&#39;ve created a Elastic MapReduce job, and I&#39;m trying to optimize its performance.\r\n\r\nAt this moment I&#39;m trying to increase the number of mappers per instance. I am doing this via mapred.tasktracker.map.tasks.maximum=X\r\n\r\n    elastic-mapreduce --create --alive --num-instance 3 \\\r\n     --bootstrap-action s3://elasticmapreduce/bootstrap-actions/configure-hadoop \\\r\n     --args -s,mapred.tasktracker.map.tasks.maximum=5\r\n\r\nEach time I try to set X over 2 per small instance, the initialization fails, from which I conclude, that hadoop allocated 800m of memory per map task. To me that seems too excessive. I&#39;d like it to be 400m tops.\r\n\r\nHow do I tell hadoop to use less memory for each map task?","title":"How to tell hadoop how much memory to allocate to a single mapper job?","body":"<p>I've created a Elastic MapReduce job, and I'm trying to optimize its performance.</p>\n\n<p>At this moment I'm trying to increase the number of mappers per instance. I am doing this via mapred.tasktracker.map.tasks.maximum=X</p>\n\n<pre><code>elastic-mapreduce --create --alive --num-instance 3 \\\n --bootstrap-action s3://elasticmapreduce/bootstrap-actions/configure-hadoop \\\n --args -s,mapred.tasktracker.map.tasks.maximum=5\n</code></pre>\n\n<p>Each time I try to set X over 2 per small instance, the initialization fails, from which I conclude, that hadoop allocated 800m of memory per map task. To me that seems too excessive. I'd like it to be 400m tops.</p>\n\n<p>How do I tell hadoop to use less memory for each map task?</p>\n"},{"tags":["java","obfuscation"],"comments":[{"owner":{"account_id":10986311,"reputation":165,"user_id":8071915,"display_name":"Col-E"},"score":0,"creation_date":1658516878,"post_id":73037590,"comment_id":129079687,"body_markdown":"Have you tried emailing their support team? I&#39;m sure they&#39;ve had customers with Spring Boot. They&#39;ll probably have some prior experience that would be helpful to lean on.","body":"Have you tried emailing their support team? I&#39;m sure they&#39;ve had customers with Spring Boot. They&#39;ll probably have some prior experience that would be helpful to lean on."},{"owner":{"account_id":10986311,"reputation":165,"user_id":8071915,"display_name":"Col-E"},"score":0,"creation_date":1658538793,"post_id":73037590,"comment_id":129083735,"body_markdown":"Actually, Spring boot is specifically addressed in their FAQ: https://www.zelix.com/klassmaster/FAQ.html#Q5 - seems like its just a matter of configuring it properly","body":"Actually, Spring boot is specifically addressed in their FAQ: <a href=\"https://www.zelix.com/klassmaster/FAQ.html#Q5\" rel=\"nofollow noreferrer\">zelix.com/klassmaster/FAQ.html#Q5</a> - seems like its just a matter of configuring it properly"}],"owner":{"account_id":25561773,"reputation":1,"user_id":19428578,"display_name":"Danrley Brasil dos Santos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678606458,"creation_date":1658236355,"question_id":73037590,"body_markdown":"I&#39;m having trouble obfuscating a Spring Boot application using Zelix KlassMaster.\r\nI tested it with a standard maven application and it worked.\r\nI tried with ProGuard, but it doesn&#39;t have a tool to obfuscate strings. And it seems that with Spring Boot Zelix behaves badly!\r\n\r\nI need help! Does anyone have any example ZKM scripts?","title":"How to obfuscate Spring Boot application with Zelix KlassMaster?","body":"<p>I'm having trouble obfuscating a Spring Boot application using Zelix KlassMaster.\nI tested it with a standard maven application and it worked.\nI tried with ProGuard, but it doesn't have a tool to obfuscate strings. And it seems that with Spring Boot Zelix behaves badly!</p>\n<p>I need help! Does anyone have any example ZKM scripts?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1678597779,"post_id":75711102,"comment_id":133562912,"body_markdown":"[How do I compare strings in Java](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"<a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1678597990,"post_id":75711102,"comment_id":133562932,"body_markdown":"`input = new Scanner(System.in).nextLine();` Create a `Scanner` object once only, before the `while` loop.","body":"<code>input = new Scanner(System.in).nextLine();</code> Create a <code>Scanner</code> object once only, before the <code>while</code> loop."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1678614337,"post_id":75711102,"comment_id":133564629,"body_markdown":"Does this answer your question? [How do I compare strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare strings in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678604090,"creation_date":1678604090,"answer_id":75711520,"question_id":75711102,"body_markdown":"Do this:\r\n\r\n    public static void readInputSpeed(String prompt) {\r\n        Scanner sc = new Scanner(System.in); // create scanner outside loop\r\n        int speed = 0; // need a variable to hold speed\r\n        String input = &quot;&quot;;\r\n        while (!input.equalsIgnoreCase(&quot;quit&quot;)) { // comparing strings case insensitively\r\n            System.out.print(prompt);\r\n            input = sc.nextLine();\r\n            \r\n            if (input.equalsIgnoreCase(&quot;more&quot;)) // comparing strings case insensitively\r\n                speed += 5;\r\n            else if (input.equalsIgnoreCase(less&quot;))\r\n                speed -= 5;\r\n            System.out.println(speed + &quot; MPH&quot;);\r\n        }\r\n    }\r\n","title":"Want to have speed increase with each type of the keyword chosen. But add speed not repeat speed","body":"<p>Do this:</p>\n<pre><code>public static void readInputSpeed(String prompt) {\n    Scanner sc = new Scanner(System.in); // create scanner outside loop\n    int speed = 0; // need a variable to hold speed\n    String input = &quot;&quot;;\n    while (!input.equalsIgnoreCase(&quot;quit&quot;)) { // comparing strings case insensitively\n        System.out.print(prompt);\n        input = sc.nextLine();\n        \n        if (input.equalsIgnoreCase(&quot;more&quot;)) // comparing strings case insensitively\n            speed += 5;\n        else if (input.equalsIgnoreCase(less&quot;))\n            speed -= 5;\n        System.out.println(speed + &quot; MPH&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16886288,"reputation":1,"user_id":12211018,"display_name":"Kierzoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678605694,"creation_date":1678605694,"answer_id":75711613,"question_id":75711102,"body_markdown":"I believe your problem is the way you&#39;re comparing strings. The reason why it doesn&#39;t keep storing increments of 5 into your &#39;i&#39; variable is because when you use the &#39;==&#39; operator in java, you&#39;re telling the program to check to see if two strings are the same **object**, but that&#39;s not what you want. You want to use the &#39;str.equals()&#39; method when you want to see if two strings share the exact same characters. Since your if statement checks to see if these strings are equal and it&#39;s not passing because of your conditions not being setup properly, it&#39;s not able to increment the value of &#39;i&#39;. Also, I&#39;m not sure if you need the for loop or array since I can&#39;t see the rest of your code, but here&#39;s some sort of way I would go about coding it. Hope this helps. \r\n```\r\npackage readInputSpeed;\r\nimport java.util.Scanner;\r\n\r\npublic class rInputSpeed {\r\n\tpublic static void main(String args[]) {\r\n        int inputSpeed = new Scanner(System.in).nextInt();\r\n        readInputSpeed(inputSpeed);\r\n\t}\r\n\t\r\n\tpublic static void readInputSpeed(int prompt) {\r\n        String input = &quot;&quot;;\r\n        int i = prompt;\r\n        while (!(input.equals(&quot;quit&quot;))) {\r\n        \tSystem.out.println(prompt);\r\n        \tinput = new Scanner(System.in).nextLine();\r\n        \tif (input.equals(&quot;more&quot;))\r\n                i += 5;\r\n            else if (input.equals(&quot;less&quot;))\r\n                i -= 5;\r\n        \tSystem.out.println(i + &quot; MPH&quot;);\r\n        }\r\n\t}\r\n}\r\n\r\n```","title":"Want to have speed increase with each type of the keyword chosen. But add speed not repeat speed","body":"<p>I believe your problem is the way you're comparing strings. The reason why it doesn't keep storing increments of 5 into your 'i' variable is because when you use the '==' operator in java, you're telling the program to check to see if two strings are the same <strong>object</strong>, but that's not what you want. You want to use the 'str.equals()' method when you want to see if two strings share the exact same characters. Since your if statement checks to see if these strings are equal and it's not passing because of your conditions not being setup properly, it's not able to increment the value of 'i'. Also, I'm not sure if you need the for loop or array since I can't see the rest of your code, but here's some sort of way I would go about coding it. Hope this helps.</p>\n<pre><code>package readInputSpeed;\nimport java.util.Scanner;\n\npublic class rInputSpeed {\n    public static void main(String args[]) {\n        int inputSpeed = new Scanner(System.in).nextInt();\n        readInputSpeed(inputSpeed);\n    }\n    \n    public static void readInputSpeed(int prompt) {\n        String input = &quot;&quot;;\n        int i = prompt;\n        while (!(input.equals(&quot;quit&quot;))) {\n            System.out.println(prompt);\n            input = new Scanner(System.in).nextLine();\n            if (input.equals(&quot;more&quot;))\n                i += 5;\n            else if (input.equals(&quot;less&quot;))\n                i -= 5;\n            System.out.println(i + &quot; MPH&quot;);\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":27068204,"reputation":1,"user_id":20619231,"display_name":"Stewl3"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678605694,"creation_date":1678596647,"question_id":75711102,"body_markdown":"Here I have the code to receive input to the speed. However I am wanting to make it so when type &quot;more&quot; it will give 5 MPH and the next time I type move it will be 10 MPH, so adding 5 to the previous output. \r\n\r\n```\r\npublic static void readInputSpeed(String prompt) {\r\n        System.out.print(prompt);\r\n        String inputSpeed = new Scanner(System.in).nextLine();\r\n        Car.speed(inputSpeed);\r\n\r\n    }\r\n``` \r\n\r\nWhat I am looking for is \r\n\r\nUser types &quot;more&quot;\r\nOutput: 5\r\nUser types &quot;more&quot;\r\nOutput: moves from 5 to 10 (so the code stores the previous value and then add 5 to the previous value that it was from the last iteration)\r\n\r\nI have tried to insert the block of code into a while loop and that works to get multiple inputs. As for input I am trying to implement, I have tried to use the while loop with a fori loop. I have also tried to use arrays to try to maybe store the input into the array and reference back to that same spot in the array.\r\n\r\n\r\nHere is the code for the array and loops I used:\r\n\r\n```\r\npublic static void readInputSpeed(String prompt) {\r\n        String input = &quot;&quot;;\r\n        int[] array = new int[1];\r\n        array[0] = 0;\r\n        while (input != &quot;quit&quot;) {\r\n            System.out.print(prompt);\r\n            input = new Scanner(System.in).nextLine();\r\n                for (int i = 0; i &lt; 1; i++) {\r\n                    array[i] = i;\r\n                    if (input == &quot;more&quot;)\r\n                        i += 5;\r\n                    else if (input == &quot;less&quot;)\r\n                        i -= 5;\r\n                    System.out.println(i + &quot; MPH&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\n","title":"Want to have speed increase with each type of the keyword chosen. But add speed not repeat speed","body":"<p>Here I have the code to receive input to the speed. However I am wanting to make it so when type &quot;more&quot; it will give 5 MPH and the next time I type move it will be 10 MPH, so adding 5 to the previous output.</p>\n<pre><code>public static void readInputSpeed(String prompt) {\n        System.out.print(prompt);\n        String inputSpeed = new Scanner(System.in).nextLine();\n        Car.speed(inputSpeed);\n\n    }\n</code></pre>\n<p>What I am looking for is</p>\n<p>User types &quot;more&quot;\nOutput: 5\nUser types &quot;more&quot;\nOutput: moves from 5 to 10 (so the code stores the previous value and then add 5 to the previous value that it was from the last iteration)</p>\n<p>I have tried to insert the block of code into a while loop and that works to get multiple inputs. As for input I am trying to implement, I have tried to use the while loop with a fori loop. I have also tried to use arrays to try to maybe store the input into the array and reference back to that same spot in the array.</p>\n<p>Here is the code for the array and loops I used:</p>\n<pre><code>public static void readInputSpeed(String prompt) {\n        String input = &quot;&quot;;\n        int[] array = new int[1];\n        array[0] = 0;\n        while (input != &quot;quit&quot;) {\n            System.out.print(prompt);\n            input = new Scanner(System.in).nextLine();\n                for (int i = 0; i &lt; 1; i++) {\n                    array[i] = i;\n                    if (input == &quot;more&quot;)\n                        i += 5;\n                    else if (input == &quot;less&quot;)\n                        i -= 5;\n                    System.out.println(i + &quot; MPH&quot;);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-cloud-gateway"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1670251669,"post_id":74689784,"comment_id":131826765,"body_markdown":"Clients must connect directly to the Kafka brokers. Any gateway/proxy/load balancer doesn&#39;t really work in context of Kafka protocol","body":"Clients must connect directly to the Kafka brokers. Any gateway/proxy/load balancer doesn&#39;t really work in context of Kafka protocol"}],"answers":[{"tags":[],"owner":{"account_id":9072930,"reputation":91,"user_id":6755424,"display_name":"Mostafa Hosseinzadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678605626,"creation_date":1678605626,"answer_id":75711608,"question_id":74689784,"body_markdown":"You can use [this][1] tutorial\r\n  \r\n\r\n    @SpringBootApplication\r\n    @EnableWebSocketMessageBroker\r\n    public class MicroserviceWebApplication extends AbstractWebSocketMessageBrokerConfigurer {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;true&quot;);\r\n    \t\tSpringApplication.run(MicroserviceWebApplication.class, args);\r\n    \t}\r\n       @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry config) {\r\n            config.enableSimpleBroker(&quot;/topic&quot;);\r\n            config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    \r\n            registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\r\n        }\r\n    }\r\n  [1]: https://dzone.com/articles/developing-async-microservices-architecture-using\r\n","title":"Spring Cloud Gateway with Kafka Broadcaster","body":"<p>You can use <a href=\"https://dzone.com/articles/developing-async-microservices-architecture-using\" rel=\"nofollow noreferrer\">this</a> tutorial</p>\n<pre><code>@SpringBootApplication\n@EnableWebSocketMessageBroker\npublic class MicroserviceWebApplication extends AbstractWebSocketMessageBrokerConfigurer {\n    public static void main(String[] args) {\n        System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;true&quot;);\n        SpringApplication.run(MicroserviceWebApplication.class, args);\n    }\n   @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n\n        registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14237543,"reputation":295,"user_id":10284940,"display_name":"Ismail Dogan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75711608,"answer_count":1,"score":1,"last_activity_date":1678605626,"creation_date":1670250680,"question_id":74689784,"body_markdown":"I am working on a project and working on spring-cloud-gateway and kafka broadcaster.  The project  uses spring-cloud-gateway, so that means that there is no any controller. The requests are being forwarded to another microservice by using spring-cloud-gateway.\r\n\r\nMy problem is that I need to send a message to a kafka topic. I know that there are some examples about amazon sqs and sns with spring-cloud-gateway. Is there any example for using of kafka and spring-cloud-gateway? ","title":"Spring Cloud Gateway with Kafka Broadcaster","body":"<p>I am working on a project and working on spring-cloud-gateway and kafka broadcaster.  The project  uses spring-cloud-gateway, so that means that there is no any controller. The requests are being forwarded to another microservice by using spring-cloud-gateway.</p>\n<p>My problem is that I need to send a message to a kafka topic. I know that there are some examples about amazon sqs and sns with spring-cloud-gateway. Is there any example for using of kafka and spring-cloud-gateway?</p>\n"},{"tags":["java","file","intellij-idea","text","src"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678629508,"post_id":75711601,"comment_id":133566707,"body_markdown":"(1) move `Recipe.txt` into `C:\\Users\\Kevin\\IdeaProjects\\Restaurant` directory (2) this is only for IDEA test.","body":"(1) move <code>Recipe.txt</code> into <code>C:\\Users\\Kevin\\IdeaProjects\\Restaurant</code> directory (2) this is only for IDEA test."},{"owner":{"account_id":26932630,"reputation":1,"user_id":20504782,"display_name":"Jay Money"},"score":0,"creation_date":1678643132,"post_id":75711601,"comment_id":133569169,"body_markdown":"They are already in the same directory; not sure what you mean by step 2 though.","body":"They are already in the same directory; not sure what you mean by step 2 though."}],"owner":{"account_id":26932630,"reputation":1,"user_id":20504782,"display_name":"Jay Money"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678605503,"creation_date":1678605503,"question_id":75711601,"body_markdown":"So let say I have a package called food in src folder inside my restaurant project. Then I created a file call recipe which contains some food names that is also inside the same food package. Then when I call to the file&#39;s name which is &quot;recipe.txt&quot;, I get the error that can&#39;t find the file. So I have create a project call restaurant and inside it I have created a package called food and inside the package food, I have created a file called recipe.txt and tried to open it and read it by it does not let me.\r\n\r\nI have tried all the different way I could, so first I tried to open and read it by direct path of the file which works-&gt;\r\n    String directPath = &quot;C:\\\\Users\\\\Kevin\\\\IdeaProjects\\\\Restaurant\\\\src\\\\Food\\\\Recipe.txt&quot;;\r\n            try {\r\n                Files.lines(Paths.get(directPath))\r\n                        .forEach(System.out::println);\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Error file: &quot; + e.getMessage());\r\n            }\r\nHowever, whenever I want to make it work where I can just use the name of the file because I have other problems where I open it from another class and direct path don&#39;t seem to work. So back to the original question where I want to use file name to open and read the file.\r\n    //String directPath = &quot;C:\\\\Users\\\\Kevin\\\\IdeaProjects\\\\Restaurant\\\\src\\\\Food\\\\Recipe.txt&quot;;\r\n        try {\r\n            Files.lines(Paths.get(&quot;recipe.txt&quot;))\r\n                    .forEach(System.out::println);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error file: &quot; + e.getMessage());\r\n        }\r\nSo I have confirmed that the file is in the correct directory since it is in the package called food and the Main class where I try to open and read the file is also in the package called food. I have also checked if I can access of edit a file by using the &quot;file.exists&quot;,&quot;file.canRead&quot;,&quot;file.canWrite&quot;,and &quot;file.canExecute&quot;. So I am quite sure that my file is not locked based on these tests? None other program is also using the file since I just created it to test. So I have no idea why I can not open the File just by using the File name since the file is accessible and is in the correct package. Thank you guys so much since this problem has been eating at me for so long.","title":"How to get certain files in Intellij IDEA just by name and not direct path","body":"<p>So let say I have a package called food in src folder inside my restaurant project. Then I created a file call recipe which contains some food names that is also inside the same food package. Then when I call to the file's name which is &quot;recipe.txt&quot;, I get the error that can't find the file. So I have create a project call restaurant and inside it I have created a package called food and inside the package food, I have created a file called recipe.txt and tried to open it and read it by it does not let me.</p>\n<p>I have tried all the different way I could, so first I tried to open and read it by direct path of the file which works-&gt;\nString directPath = &quot;C:\\Users\\Kevin\\IdeaProjects\\Restaurant\\src\\Food\\Recipe.txt&quot;;\ntry {\nFiles.lines(Paths.get(directPath))\n.forEach(System.out::println);\n} catch (Exception e) {\nSystem.out.println(&quot;Error file: &quot; + e.getMessage());\n}\nHowever, whenever I want to make it work where I can just use the name of the file because I have other problems where I open it from another class and direct path don't seem to work. So back to the original question where I want to use file name to open and read the file.\n//String directPath = &quot;C:\\Users\\Kevin\\IdeaProjects\\Restaurant\\src\\Food\\Recipe.txt&quot;;\ntry {\nFiles.lines(Paths.get(&quot;recipe.txt&quot;))\n.forEach(System.out::println);\n} catch (Exception e) {\nSystem.out.println(&quot;Error file: &quot; + e.getMessage());\n}\nSo I have confirmed that the file is in the correct directory since it is in the package called food and the Main class where I try to open and read the file is also in the package called food. I have also checked if I can access of edit a file by using the &quot;file.exists&quot;,&quot;file.canRead&quot;,&quot;file.canWrite&quot;,and &quot;file.canExecute&quot;. So I am quite sure that my file is not locked based on these tests? None other program is also using the file since I just created it to test. So I have no idea why I can not open the File just by using the File name since the file is accessible and is in the correct package. Thank you guys so much since this problem has been eating at me for so long.</p>\n"},{"tags":["java","multithreading","javafx","java-threads"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678589286,"post_id":75710764,"comment_id":133562354,"body_markdown":"Short answer is no - or at least not the way you might be thinking - the longer as is, you could use a Runnable which could have your other threads run, much like a queue of tasks, just as an example","body":"Short answer is no - or at least not the way you might be thinking - the longer as is, you could use a Runnable which could have your other threads run, much like a queue of tasks, just as an example"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1678589495,"post_id":75710764,"comment_id":133562370,"body_markdown":"This just isnt how GUI frameworks work (at least, any Ive worked with, including JavaFX). They are *event driven*. Just register an event handler with the button and it will be invoked when the button is pressed. The UI thread is already implemented for you, running (transparently; you never even need to be aware of it) a loop for you which waits for user events to happe","body":"This just isnt how GUI frameworks work (at least, any Ive worked with, including JavaFX). They are <i>event driven</i>. Just register an event handler with the button and it will be invoked when the button is pressed. The UI thread is already implemented for you, running (transparently; you never even need to be aware of it) a loop for you which waits for user events to happe"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678604736,"creation_date":1678603985,"answer_id":75711507,"question_id":75710764,"body_markdown":"I believe you&#39;ve got a slight conceptual misunderstanding. Don&#39;t think about how to call a method from one thread and have it execute on a different thread. Instead, think about how to pass objects between threads. You want to give your &quot;worker thread&quot; a message to send. So, you need to figure out how to give that message _object_ to said thread.\r\n\r\nEssentially, you need to provide a &quot;synchronization point&quot; where you can pass data (or even actions, e.g., as `Runnable`s&lt;sup&gt;**1**&lt;/sup&gt;) between threads. There are quite a few ways you can do this. And how exactly you decide to do this depends on how exactly this &quot;worker thread&quot; of yours is supposed to work. Regardless, I recommend doing some research into Java concurrency. Take a look at:\r\n\r\n* Concurrency tutorials (e.g., [this one][4] or [this one][5], among many others, including full books).\r\n\r\n* The `synchronized` keyword and the corresponding `wait`, `notify`, and `notifyAll` methods (all declared in `Object`).\r\n\r\n* The [`java.util.concurrent`][1], [`java.util.concurrent.atomic`][2], and [`java.util.concurrent.locks`][3] packages.\r\n\r\n* [Concurrency in JavaFX][6] and the [`javafx.concurrent`][7] package (both JavaFX-specific; you included the [tag:javafx] tag).\r\n\r\n\r\nConcurrency is hard, and it&#39;s going to take some work to become proficient with it.\r\n\r\nThat said, if your &quot;worker thread&quot; is meant to send multiple messages as the user enters them, then probably one of the easiest solutions is to use a [`BlockingQueue`][8]. Here&#39;s an example (in JavaFX, given the [tag:javafx] tag):\r\n\r\n\r\n```lang-java\r\nimport java.util.Objects;\r\nimport java.util.concurrent.ArrayBlockingQueue;\r\nimport java.util.concurrent.BlockingQueue;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Insets;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.scene.layout.Priority;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n  private ExecutorService executor;\r\n\r\n  @Override\r\n  public void start(Stage primaryStage) {\r\n    executor = Executors.newSingleThreadExecutor();\r\n\r\n    BlockingQueue&lt;String&gt; messageQueue = new ArrayBlockingQueue&lt;&gt;(10);\r\n    executor.execute(new Messenger(messageQueue));\r\n\r\n    TextField inputField = new TextField();\r\n\r\n    Button sendBtn = new Button(&quot;Send&quot;);\r\n    sendBtn.setDefaultButton(true);\r\n    sendBtn.setOnAction(e -&gt; {\r\n      e.consume();\r\n\r\n      String message = inputField.getText();\r\n      if (message != null &amp;&amp; !message.isEmpty()) {\r\n        System.out.printf(\r\n            &quot;[%s] Enqueueing message: &#39;%s&#39;%n&quot;,\r\n            Thread.currentThread().getName(),\r\n            message  \r\n        );\r\n        messageQueue.add(message);\r\n        inputField.clear();\r\n      }\r\n    });\r\n\r\n    HBox root = new HBox(10, inputField, sendBtn);\r\n    root.setPadding(new Insets(10));\r\n    HBox.setHgrow(inputField, Priority.ALWAYS);\r\n\r\n    primaryStage.setScene(new Scene(root, 600, -1));\r\n    primaryStage.setTitle(&quot;JavaFX Demo&quot;);\r\n    primaryStage.show();\r\n  }\r\n\r\n  @Override\r\n  public void stop() {\r\n    executor.shutdownNow();\r\n  }\r\n\r\n  private static class Messenger implements Runnable {\r\n\r\n    private final BlockingQueue&lt;String&gt; queue;\r\n\r\n    Messenger(BlockingQueue&lt;String&gt; queue) {\r\n      this.queue = Objects.requireNonNull(queue, &quot;queue&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n      try {\r\n        searchForConnections();\r\n        while (!Thread.interrupted()) {\r\n          String message = queue.take();\r\n          sendMessage(message);\r\n        }\r\n      } catch (InterruptedException ignore) {\r\n        // If the thread is interrupted, we simply want to stop\r\n      }\r\n    }\r\n\r\n    private void searchForConnections() {}\r\n\r\n    private void sendMessage(String message) {\r\n      System.out.printf(\r\n          &quot;[%s] Sending message: &#39;%s&#39;%n&quot;,\r\n          Thread.currentThread().getName(),\r\n          message\r\n      );\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nNote how this actually works. We aren&#39;t calling a method from one thread, but having it execute on another. We have the background thread (your &quot;worker thread&quot;) blocked on the `BlockingQueue` waiting for messages to send. When the _JavaFX Application Thread_ (the UI thread) places a `String` in the queue, the background thread takes it and calls `sendMessage` with the `String`.\r\n\r\nAlso, in case there&#39;s some confusion here, note how we do not create nor manage the UI thread. That is handled by the UI framework, and the thread is already running in essentially a loop that processes user-generated events and syncs the rendered UI with the state of the scene graph.\r\n\r\nIf you run the above example, type `Hello, World!` into the text field, and then trigger the &lt;kbd&gt;Send&lt;/kbd&gt; button, you should see something like:\r\n\r\n```lang-none\r\n[JavaFX Application Thread] Enqueueing message: &#39;Hello, World!&#39;\r\n[pool-2-thread-1] Sending message: &#39;Hello, World!&#39;\r\n```\r\n\r\nPrinted to the console.\r\n\r\n\r\n---\r\n\r\n&lt;sup&gt;**1.** One of the main `ExecutorService` implementations, `ThreadPoolExecutor`, works on this principle. It maintains a `BlockingQueue&lt;Runnable&gt;` and a pool of threads. These threads essentially loop trying to take a `Runnable` from the queue and then calling its `run()` method. The queue is populated by calling e.g., `execute` and `submit` on the `ExecutorService`. And that&#39;s one way you can give a &quot;task&quot; to another thread. It&#39;s also how the above example executes `Messenger` on a background thread.&lt;/sup&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/package-summary.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/atomic/package-summary.html\r\n  [3]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/locks/package-summary.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/concurrency/\r\n  [5]: https://jenkov.com/tutorials/java-concurrency/index.html\r\n  [6]: https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm#JFXIP546\r\n  [7]: https://openjfx.io/javadoc/19/javafx.graphics/javafx/concurrent/package-summary.html\r\n  [8]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/BlockingQueue.html","title":"How to call a method on one running thread but execute it on another running thread?","body":"<p>I believe you've got a slight conceptual misunderstanding. Don't think about how to call a method from one thread and have it execute on a different thread. Instead, think about how to pass objects between threads. You want to give your &quot;worker thread&quot; a message to send. So, you need to figure out how to give that message <em>object</em> to said thread.</p>\n<p>Essentially, you need to provide a &quot;synchronization point&quot; where you can pass data (or even actions, e.g., as <code>Runnable</code>s<sup><strong>1</strong></sup>) between threads. There are quite a few ways you can do this. And how exactly you decide to do this depends on how exactly this &quot;worker thread&quot; of yours is supposed to work. Regardless, I recommend doing some research into Java concurrency. Take a look at:</p>\n<ul>\n<li><p>Concurrency tutorials (e.g., <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/\" rel=\"nofollow noreferrer\">this one</a> or <a href=\"https://jenkov.com/tutorials/java-concurrency/index.html\" rel=\"nofollow noreferrer\">this one</a>, among many others, including full books).</p>\n</li>\n<li><p>The <code>synchronized</code> keyword and the corresponding <code>wait</code>, <code>notify</code>, and <code>notifyAll</code> methods (all declared in <code>Object</code>).</p>\n</li>\n<li><p>The <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.atomic</code></a>, and <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/locks/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.concurrent.locks</code></a> packages.</p>\n</li>\n<li><p><a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm#JFXIP546\" rel=\"nofollow noreferrer\">Concurrency in JavaFX</a> and the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/concurrent/package-summary.html\" rel=\"nofollow noreferrer\"><code>javafx.concurrent</code></a> package (both JavaFX-specific; you included the <a href=\"/questions/tagged/javafx\" class=\"post-tag\" title=\"show questions tagged &#39;javafx&#39;\" aria-label=\"show questions tagged &#39;javafx&#39;\" rel=\"tag\" aria-labelledby=\"tag-javafx-tooltip-container\">javafx</a> tag).</p>\n</li>\n</ul>\n<p>Concurrency is hard, and it's going to take some work to become proficient with it.</p>\n<p>That said, if your &quot;worker thread&quot; is meant to send multiple messages as the user enters them, then probably one of the easiest solutions is to use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/BlockingQueue.html\" rel=\"nofollow noreferrer\"><code>BlockingQueue</code></a>. Here's an example (in JavaFX, given the <a href=\"/questions/tagged/javafx\" class=\"post-tag\" title=\"show questions tagged &#39;javafx&#39;\" aria-label=\"show questions tagged &#39;javafx&#39;\" rel=\"tag\" aria-labelledby=\"tag-javafx-tooltip-container\">javafx</a> tag):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\nimport java.util.concurrent.ArrayBlockingQueue;\nimport java.util.concurrent.BlockingQueue;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Priority;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n  private ExecutorService executor;\n\n  @Override\n  public void start(Stage primaryStage) {\n    executor = Executors.newSingleThreadExecutor();\n\n    BlockingQueue&lt;String&gt; messageQueue = new ArrayBlockingQueue&lt;&gt;(10);\n    executor.execute(new Messenger(messageQueue));\n\n    TextField inputField = new TextField();\n\n    Button sendBtn = new Button(&quot;Send&quot;);\n    sendBtn.setDefaultButton(true);\n    sendBtn.setOnAction(e -&gt; {\n      e.consume();\n\n      String message = inputField.getText();\n      if (message != null &amp;&amp; !message.isEmpty()) {\n        System.out.printf(\n            &quot;[%s] Enqueueing message: '%s'%n&quot;,\n            Thread.currentThread().getName(),\n            message  \n        );\n        messageQueue.add(message);\n        inputField.clear();\n      }\n    });\n\n    HBox root = new HBox(10, inputField, sendBtn);\n    root.setPadding(new Insets(10));\n    HBox.setHgrow(inputField, Priority.ALWAYS);\n\n    primaryStage.setScene(new Scene(root, 600, -1));\n    primaryStage.setTitle(&quot;JavaFX Demo&quot;);\n    primaryStage.show();\n  }\n\n  @Override\n  public void stop() {\n    executor.shutdownNow();\n  }\n\n  private static class Messenger implements Runnable {\n\n    private final BlockingQueue&lt;String&gt; queue;\n\n    Messenger(BlockingQueue&lt;String&gt; queue) {\n      this.queue = Objects.requireNonNull(queue, &quot;queue&quot;);\n    }\n\n    @Override\n    public void run() {\n      try {\n        searchForConnections();\n        while (!Thread.interrupted()) {\n          String message = queue.take();\n          sendMessage(message);\n        }\n      } catch (InterruptedException ignore) {\n        // If the thread is interrupted, we simply want to stop\n      }\n    }\n\n    private void searchForConnections() {}\n\n    private void sendMessage(String message) {\n      System.out.printf(\n          &quot;[%s] Sending message: '%s'%n&quot;,\n          Thread.currentThread().getName(),\n          message\n      );\n    }\n  }\n}\n</code></pre>\n<p>Note how this actually works. We aren't calling a method from one thread, but having it execute on another. We have the background thread (your &quot;worker thread&quot;) blocked on the <code>BlockingQueue</code> waiting for messages to send. When the <em>JavaFX Application Thread</em> (the UI thread) places a <code>String</code> in the queue, the background thread takes it and calls <code>sendMessage</code> with the <code>String</code>.</p>\n<p>Also, in case there's some confusion here, note how we do not create nor manage the UI thread. That is handled by the UI framework, and the thread is already running in essentially a loop that processes user-generated events and syncs the rendered UI with the state of the scene graph.</p>\n<p>If you run the above example, type <code>Hello, World!</code> into the text field, and then trigger the <kbd>Send</kbd> button, you should see something like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[JavaFX Application Thread] Enqueueing message: 'Hello, World!'\n[pool-2-thread-1] Sending message: 'Hello, World!'\n</code></pre>\n<p>Printed to the console.</p>\n<hr />\n<p><sup><strong>1.</strong> One of the main <code>ExecutorService</code> implementations, <code>ThreadPoolExecutor</code>, works on this principle. It maintains a <code>BlockingQueue&lt;Runnable&gt;</code> and a pool of threads. These threads essentially loop trying to take a <code>Runnable</code> from the queue and then calling its <code>run()</code> method. The queue is populated by calling e.g., <code>execute</code> and <code>submit</code> on the <code>ExecutorService</code>. And that's one way you can give a &quot;task&quot; to another thread. It's also how the above example executes <code>Messenger</code> on a background thread.</sup></p>\n"}],"owner":{"account_id":27744528,"reputation":19,"user_id":21180299,"display_name":"User"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75711507,"answer_count":1,"score":-1,"last_activity_date":1678604736,"creation_date":1678588211,"question_id":75710764,"body_markdown":"I am new to java threads. I have an client application that is running on 2 threads: `WorkerThread` and `JavaFxGuiThread`. My question is: can i call a method on `GuiThread` (on press of a button) but execute it on `WorkerThread`? Note that that at the time when i call method and execute it both threads are already doing other stuff.\r\nHere is the sample of my code:\r\n\r\n```\r\nclass WorkerThread implements Runnable {\r\n    @Override\r\n    public void run() {\r\n        searchForConnections(); // &lt;-- should run at the start of a thread\r\n        \r\n        // should wait for onButtonPressed() and only then execute\r\n        // sendMessage() on WorkerThread, not on GuiThread\r\n    }\r\n    private String searchForConnections() {\r\n        // constantly searches for connections\r\n        return connection;\r\n    }\r\n    private void sendMessage() {\r\n        //sends message\r\n        System.out.println(&quot;message sent!&quot;);\r\n    }\r\n}\r\nclass GuiThread implements Runnable {\r\n    @Override\r\n    public void run() {\r\n        runGui(); // &lt;-- should run at the start of a thread\r\n        \r\n        // waits until user press the button\r\n        // and only then:\r\n        onButtonPressed();\r\n    }\r\n    private void onButtonPressed() {\r\n        // should somehow run sendMessage() inside\r\n        // WorkerThread run() method\r\n        // ( which should run sendMessage() on WorkerThread not GuiThread )\r\n    }\r\n}\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        new Thread(new WorkerThread()).start();  // starts GuiThread run() method\r\n        new Thread(new GuiThread()).start();     // starts WorkerThread run() method\r\n    }\r\n}\r\n```\r\n\r\nI want to avoid calling `sendMessage()` on `GuiThread`.\r\n\r\n\r\nSimilar answers here only show how to run methods AT THE START of a thread while i believe that my situation is different because threads are already running.","title":"How to call a method on one running thread but execute it on another running thread?","body":"<p>I am new to java threads. I have an client application that is running on 2 threads: <code>WorkerThread</code> and <code>JavaFxGuiThread</code>. My question is: can i call a method on <code>GuiThread</code> (on press of a button) but execute it on <code>WorkerThread</code>? Note that that at the time when i call method and execute it both threads are already doing other stuff.\nHere is the sample of my code:</p>\n<pre><code>class WorkerThread implements Runnable {\n    @Override\n    public void run() {\n        searchForConnections(); // &lt;-- should run at the start of a thread\n        \n        // should wait for onButtonPressed() and only then execute\n        // sendMessage() on WorkerThread, not on GuiThread\n    }\n    private String searchForConnections() {\n        // constantly searches for connections\n        return connection;\n    }\n    private void sendMessage() {\n        //sends message\n        System.out.println(&quot;message sent!&quot;);\n    }\n}\nclass GuiThread implements Runnable {\n    @Override\n    public void run() {\n        runGui(); // &lt;-- should run at the start of a thread\n        \n        // waits until user press the button\n        // and only then:\n        onButtonPressed();\n    }\n    private void onButtonPressed() {\n        // should somehow run sendMessage() inside\n        // WorkerThread run() method\n        // ( which should run sendMessage() on WorkerThread not GuiThread )\n    }\n}\npublic class Main {\n    public static void main(String[] args) {\n        new Thread(new WorkerThread()).start();  // starts GuiThread run() method\n        new Thread(new GuiThread()).start();     // starts WorkerThread run() method\n    }\n}\n</code></pre>\n<p>I want to avoid calling <code>sendMessage()</code> on <code>GuiThread</code>.</p>\n<p>Similar answers here only show how to run methods AT THE START of a thread while i believe that my situation is different because threads are already running.</p>\n"},{"tags":["java","android","unit-testing","mocking","android-bluetooth"],"comments":[{"owner":{"account_id":2406407,"reputation":3654,"user_id":2102748,"accept_rate":100,"display_name":"milosmns"},"score":0,"creation_date":1527808061,"post_id":43770321,"comment_id":88278122,"body_markdown":"To avoid using Robolectric (i.e. you want JUnit only), you have to mock the Parcel properly, no faking will work. I do have a simple implementation of how that might work, but it&#39;s limited to the Parcelable problem only (nothing to do with Bluetooth). Here it is: https://gist.github.com/milosmns/7f6448a3602595948449d3bfaff9b005","body":"To avoid using Robolectric (i.e. you want JUnit only), you have to mock the Parcel properly, no faking will work. I do have a simple implementation of how that might work, but it&#39;s limited to the Parcelable problem only (nothing to do with Bluetooth). Here it is: <a href=\"https://gist.github.com/milosmns/7f6448a3602595948449d3bfaff9b005\" rel=\"nofollow noreferrer\">gist.github.com/milosmns/7f6448a3602595948449d3bfaff9b005</a>"}],"answers":[{"tags":[],"owner":{"account_id":3967622,"reputation":918,"user_id":3273067,"accept_rate":33,"display_name":"Marcin D"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1511382977,"creation_date":1511382977,"answer_id":47443487,"question_id":43770321,"body_markdown":"In order to connect to a BLE device, an app needs to obtain a BluetoothDevice object. This can be done using one of\r\nthree methods:\r\n\r\n- By scanning: a BluetoothDevice object is returned for each scanned advertising packet in a callback\r\nparameter ScanResult.\r\n\r\n- By obtaining a list of bonded devices using BluetoothAdapter#getBondedDevices().\r\n\r\n- By creating a device object using BluetoothAdapter#getRemoteDevice(String address).\r\n\r\nWhen a BluetoothDevice object is obtained using the last method (or by creating a new object with new\r\nBluetoothDevice(address)), a connection attempt to it will work only if:\r\n\r\n - The device has a PUBLIC address or is bonded, or\r\n - The device has been scanned at least once before connection attempt\r\n   since Bluetooth adapter have been started\r\n\r\nSource: https://devzone.nordicsemi.com/blogs/1046/what-to-keep-in-mind-when-developing-your-ble-andr/","title":"Android unit test: mock BluetoothDevice and write to parcel","body":"<p>In order to connect to a BLE device, an app needs to obtain a BluetoothDevice object. This can be done using one of\nthree methods:</p>\n\n<ul>\n<li><p>By scanning: a BluetoothDevice object is returned for each scanned advertising packet in a callback\nparameter ScanResult.</p></li>\n<li><p>By obtaining a list of bonded devices using BluetoothAdapter#getBondedDevices().</p></li>\n<li><p>By creating a device object using BluetoothAdapter#getRemoteDevice(String address).</p></li>\n</ul>\n\n<p>When a BluetoothDevice object is obtained using the last method (or by creating a new object with new\nBluetoothDevice(address)), a connection attempt to it will work only if:</p>\n\n<ul>\n<li>The device has a PUBLIC address or is bonded, or</li>\n<li>The device has been scanned at least once before connection attempt\nsince Bluetooth adapter have been started</li>\n</ul>\n\n<p>Source: <a href=\"https://devzone.nordicsemi.com/blogs/1046/what-to-keep-in-mind-when-developing-your-ble-andr/\" rel=\"nofollow noreferrer\">https://devzone.nordicsemi.com/blogs/1046/what-to-keep-in-mind-when-developing-your-ble-andr/</a></p>\n"},{"tags":[],"owner":{"account_id":15041750,"reputation":114,"user_id":10856090,"display_name":"Nicolas "},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1612946734,"creation_date":1612946734,"answer_id":66133528,"question_id":43770321,"body_markdown":"Late answer... but if anybody need that. \r\nRobolectric has now a class **ShadowBluetoothDevice**\r\n\r\nUsable this way : `ShadowBluetoothDevice.newInstance(&quot;00:11:22:33:AA:BB&quot;)`\r\n\r\nCheers","title":"Android unit test: mock BluetoothDevice and write to parcel","body":"<p>Late answer... but if anybody need that.\nRobolectric has now a class <strong>ShadowBluetoothDevice</strong></p>\n<p>Usable this way : <code>ShadowBluetoothDevice.newInstance(&quot;00:11:22:33:AA:BB&quot;)</code></p>\n<p>Cheers</p>\n"},{"tags":[],"owner":{"account_id":2758183,"reputation":528,"user_id":2375663,"display_name":"Jonny Right"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678604135,"creation_date":1678604135,"answer_id":75711521,"question_id":43770321,"body_markdown":"Since ShadowBluetoothDevice.newInstance() is deprecated, it is also possible to create a mock instance via bluetooth adapter:\r\n\r\n    \r\n\r\n    val bluetoothManager = context.getSystemService(Context.BLUETOOTH_SERVICE) as? BluetoothManager\r\n            val bluetoothAdapter = bluetoothManager?.adapter\r\n    val mockedBluetoothDevice = bluetoothAdapter?.getRemoteDevice(&quot;00:11:22:33:FF:EE&quot;)","title":"Android unit test: mock BluetoothDevice and write to parcel","body":"<p>Since ShadowBluetoothDevice.newInstance() is deprecated, it is also possible to create a mock instance via bluetooth adapter:</p>\n<pre><code>val bluetoothManager = context.getSystemService(Context.BLUETOOTH_SERVICE) as? BluetoothManager\n        val bluetoothAdapter = bluetoothManager?.adapter\nval mockedBluetoothDevice = bluetoothAdapter?.getRemoteDevice(&quot;00:11:22:33:FF:EE&quot;)\n</code></pre>\n"}],"owner":{"account_id":6700420,"reputation":43,"user_id":7947022,"display_name":"Bentleylust"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4910,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1678604135,"creation_date":1493846959,"question_id":43770321,"body_markdown":"I would like to ask about unit testing a class that has `BluetoothDevice` variable. \r\n\r\nMy object is a simple object that contains some primitive variable and a BluetoothDevice variable. My object is also parcelable.\r\n\r\nEventually my code works totally fine on the mobile device but I have strange error when I run my unit tests.\r\n\r\nI mocked the BluetoothDevice in the test class as shown below:\r\n\r\n\r\n    @RunWith(RobolectricTestRunner.class)\r\n    @Config(manifest=Config.NONE)\r\n    public class BluetoothDeviceTest {\r\n\r\n        @Mock\r\n        BluetoothDevice device1;\r\n\r\n        @Before\r\n        public void initMocks(){\r\n            MockitoAnnotations.initMocks(this);\r\n\r\n            when(device1.getAddress()).thenReturn(&quot;01:02:03:04:05:06&quot;);\r\n            when(device1.getName()).thenReturn(&quot;device767b1&quot;);\r\n            when(device1.getBondState()).thenReturn(BOND_NONE);\r\n        }\r\n    }\r\n\r\nIn my object among other primitives I use:\r\n\r\n- I use `out.writeParcelable(mBluetoothDevice,0);` inside `@Override public void writeToParcel(Parcel out, int flags)` method.   \r\n\r\n- I use `mBluetoothDevice = in.readParcelable(BluetoothDevice.class.getClassLoader());` inside `protected MyObject(Parcel in)` constructor.\r\n\r\nThe unit test that tests parcelling of my object instance fails with an exception\r\n```java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String```\r\n\r\nOnce again please note that when my code runs totally fine and parcelling works good in the mobile app I work on. Only unit test is acting strange.\r\n\r\nI suspect this is because my mocked `BluetoothDevice` variable is shorter in the parcel than a normal real instance and the order of the data fields in the parcel gets messed up. \r\n\r\nHas anybody unit tested with a mocked `BluetoothDevice` and can give me some hint ? Thank you","title":"Android unit test: mock BluetoothDevice and write to parcel","body":"<p>I would like to ask about unit testing a class that has <code>BluetoothDevice</code> variable. </p>\n\n<p>My object is a simple object that contains some primitive variable and a BluetoothDevice variable. My object is also parcelable.</p>\n\n<p>Eventually my code works totally fine on the mobile device but I have strange error when I run my unit tests.</p>\n\n<p>I mocked the BluetoothDevice in the test class as shown below:</p>\n\n<pre><code>@RunWith(RobolectricTestRunner.class)\n@Config(manifest=Config.NONE)\npublic class BluetoothDeviceTest {\n\n    @Mock\n    BluetoothDevice device1;\n\n    @Before\n    public void initMocks(){\n        MockitoAnnotations.initMocks(this);\n\n        when(device1.getAddress()).thenReturn(\"01:02:03:04:05:06\");\n        when(device1.getName()).thenReturn(\"device767b1\");\n        when(device1.getBondState()).thenReturn(BOND_NONE);\n    }\n}\n</code></pre>\n\n<p>In my object among other primitives I use:</p>\n\n<ul>\n<li><p>I use <code>out.writeParcelable(mBluetoothDevice,0);</code> inside <code>@Override public void writeToParcel(Parcel out, int flags)</code> method.   </p></li>\n<li><p>I use <code>mBluetoothDevice = in.readParcelable(BluetoothDevice.class.getClassLoader());</code> inside <code>protected MyObject(Parcel in)</code> constructor.</p></li>\n</ul>\n\n<p>The unit test that tests parcelling of my object instance fails with an exception\n<code>java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String</code></p>\n\n<p>Once again please note that when my code runs totally fine and parcelling works good in the mobile app I work on. Only unit test is acting strange.</p>\n\n<p>I suspect this is because my mocked <code>BluetoothDevice</code> variable is shorter in the parcel than a normal real instance and the order of the data fields in the parcel gets messed up. </p>\n\n<p>Has anybody unit tested with a mocked <code>BluetoothDevice</code> and can give me some hint ? Thank you</p>\n"},{"tags":["javascript","java","node.js","camunda","camunda-modeler"],"answers":[{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678604073,"creation_date":1678604073,"answer_id":75711516,"question_id":75683422,"body_markdown":"Could it be that your yaml uses incorrect spacing? The property is camunda.bpm.authorization.enabled. \r\nIn the yaml the authorization seems to be on the same level as camunda.bpm. Try to indent it 2 spaces.","title":"Problems with authorization Camunda","body":"<p>Could it be that your yaml uses incorrect spacing? The property is camunda.bpm.authorization.enabled.\nIn the yaml the authorization seems to be on the same level as camunda.bpm. Try to indent it 2 spaces.</p>\n"}],"owner":{"account_id":27752345,"reputation":9,"user_id":21186554,"display_name":"Nikita Afanasiev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678604073,"creation_date":1678358198,"question_id":75683422,"body_markdown":"The problem is that I am trying to add myself a rights check for users as all new users have admin access\r\n\r\nEverything is set up via Docker. Build Camunda: \r\n```\r\nFROM camunda/camunda-bpm-platform:run-7.17.0\r\n\r\nCOPY production.yml /camunda/configuration/production.yml\r\n```\r\n.yml setup file: \r\n\r\n```\r\ncamunda.bpm:\r\n  webapp:\r\n    csrf:\r\n      enable-same-site-cookie: true\r\n      same-site-cookie-option: STRICT\r\n    header-security:\r\n      hsts-disabled: false\r\n      content-security-policy-value: base-uri &#39;self&#39;;\r\n        default-src &#39;self&#39; &#39;unsafe-inline&#39; &#39;unsafe-eval&#39;;\r\n        img-src &#39;self&#39; data:;\r\n        block-all-mixed-content;\r\n        form-action &#39;self&#39;;\r\n        frame-ancestors &#39;none&#39;;\r\n        object-src &#39;none&#39;;\r\n        sandbox\r\n        allow-forms\r\n        allow-scripts\r\n        allow-same-origin\r\n        allow-popups\r\nauthorization:\r\n    enabled: true\r\n    user-id-claim: sub\r\n    administratorGroupName: camunda-admin\r\n    authorizationCheckRevokes: never\r\n  generic-properties:\r\n    properties:\r\n      enable-password-policy: true\r\n   admin-auth:\r\n     enabled: true\r\n     administrator-user-name: admin\r\n     administrator-group-name: admins\r\n\r\n```\r\nThe project is being built, but authorization still does not work, judging by the documentation, then all these settings are the maximum that needs to be done to make it work. Who set up authorization, please tell me what is wrong\r\n","title":"Problems with authorization Camunda","body":"<p>The problem is that I am trying to add myself a rights check for users as all new users have admin access</p>\n<p>Everything is set up via Docker. Build Camunda:</p>\n<pre><code>FROM camunda/camunda-bpm-platform:run-7.17.0\n\nCOPY production.yml /camunda/configuration/production.yml\n</code></pre>\n<p>.yml setup file:</p>\n<pre><code>camunda.bpm:\n  webapp:\n    csrf:\n      enable-same-site-cookie: true\n      same-site-cookie-option: STRICT\n    header-security:\n      hsts-disabled: false\n      content-security-policy-value: base-uri 'self';\n        default-src 'self' 'unsafe-inline' 'unsafe-eval';\n        img-src 'self' data:;\n        block-all-mixed-content;\n        form-action 'self';\n        frame-ancestors 'none';\n        object-src 'none';\n        sandbox\n        allow-forms\n        allow-scripts\n        allow-same-origin\n        allow-popups\nauthorization:\n    enabled: true\n    user-id-claim: sub\n    administratorGroupName: camunda-admin\n    authorizationCheckRevokes: never\n  generic-properties:\n    properties:\n      enable-password-policy: true\n   admin-auth:\n     enabled: true\n     administrator-user-name: admin\n     administrator-group-name: admins\n\n</code></pre>\n<p>The project is being built, but authorization still does not work, judging by the documentation, then all these settings are the maximum that needs to be done to make it work. Who set up authorization, please tell me what is wrong</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":26130464,"reputation":11,"user_id":19821256,"display_name":"Dheeraj"},"score":1,"creation_date":1678572896,"post_id":75709755,"comment_id":133560753,"body_markdown":"This is solved here:\nhttps://stackoverflow.com/questions/21547462/how-to-multiply-2-dimensional-arrays-matrix-multiplication","body":"This is solved here: <a href=\"https://stackoverflow.com/questions/21547462/how-to-multiply-2-dimensional-arrays-matrix-multiplication\" title=\"how to multiply 2 dimensional arrays matrix multiplication\">stackoverflow.com/questions/21547462/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1678576467,"post_id":75709755,"comment_id":133561240,"body_markdown":"Please repeat for me, how does one multiply two matrices? I would have expected three nested loops, not just two?","body":"Please repeat for me, how does one multiply two matrices? I would have expected three nested loops, not just two?"}],"answers":[{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678578090,"creation_date":1678578090,"answer_id":75710261,"question_id":75709755,"body_markdown":"You are missing an inner loop :\r\n\r\n      public double[][] producto(double[][] m1, double[][] m2){\r\n        final int nbRow1 = m1.length;\r\n        final int nbColumn1 = m1[0].length;\r\n        final int nbRow2 = m2.length;\r\n        final int nbColumn2 = m2[0].length;\r\n    \r\n        if (nbColumn1 != nbRow2) {\r\n          throw new IllegalArgumentException(&quot;Invalid input&quot;);\r\n        }\r\n    \r\n        double[][] r=new double[nbRow1][nbColumn2];\r\n        for(int row=0;row&lt;nbRow1;row++){\r\n          for(int col=0; col&lt;nbColumn2;col++){\r\n            r[row][col] = 0;\r\n            for (int i = 0; i &lt; nbColumn1; i++) {\r\n              r[row][col]+=m1[row][i]*m2[i][col];\r\n            }\r\n          }\r\n        }\r\n        return r;\r\n      }\r\n\r\n","title":"Translating the algorithm of multiplying 2 arrays into Java","body":"<p>You are missing an inner loop :</p>\n<pre><code>  public double[][] producto(double[][] m1, double[][] m2){\n    final int nbRow1 = m1.length;\n    final int nbColumn1 = m1[0].length;\n    final int nbRow2 = m2.length;\n    final int nbColumn2 = m2[0].length;\n\n    if (nbColumn1 != nbRow2) {\n      throw new IllegalArgumentException(&quot;Invalid input&quot;);\n    }\n\n    double[][] r=new double[nbRow1][nbColumn2];\n    for(int row=0;row&lt;nbRow1;row++){\n      for(int col=0; col&lt;nbColumn2;col++){\n        r[row][col] = 0;\n        for (int i = 0; i &lt; nbColumn1; i++) {\n          r[row][col]+=m1[row][i]*m2[i][col];\n        }\n      }\n    }\n    return r;\n  }\n</code></pre>\n"}],"owner":{"account_id":27991778,"reputation":35,"user_id":21377483,"display_name":"CDAMXI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1678615996,"accepted_answer_id":75710261,"answer_count":1,"score":1,"last_activity_date":1678603200,"creation_date":1678571436,"question_id":75709755,"body_markdown":"I&#39;m trying to multiply 2 arrays in Java. I know how to multiply 2 arrays with each other, but I&#39;m struggling to translate that into Java using 2D arrays (It&#39;s my first time using 2D arrays).\r\n\r\nI&#39;ve tried creating a new column variable for the first array, another one for the second one, and another one for the result, but it&#39;s not working.\r\n\r\nThis is what I&#39;ve written so far\r\n\r\n```\r\npublic double[][] producto(double[][] m1, double[][] m2){\r\n        double[][] r=new double[m1.length][m1[0].length];\r\n        for(int fila=0, col1 = 0, col=0;fila&lt;m1.length &amp;&amp; col1&lt;m1[fila].length;fila++,col1++,col++){\r\n            for(int col2=0; col2&lt;m1[fila].length;col2++){\r\n                r[fila][col]+=m1[fila][col1]*m2[fila][col2];\r\n            }\r\n        }\r\n        return r;\r\n    }\r\n```\r\n\r\nWhen I use `{{1,1,1},{1,1,1},{1,1,1}}` and `{{2,2,2},{2,2,2},{2,2,2}}` as inputs I get tze actual output `{{6,0,0},{0,6,0},{0,0,6}}` while I would expect it to be `{{6,6,6},{6,6,6},{6,6,6}}`.","title":"Translating the algorithm of multiplying 2 arrays into Java","body":"<p>I'm trying to multiply 2 arrays in Java. I know how to multiply 2 arrays with each other, but I'm struggling to translate that into Java using 2D arrays (It's my first time using 2D arrays).</p>\n<p>I've tried creating a new column variable for the first array, another one for the second one, and another one for the result, but it's not working.</p>\n<p>This is what I've written so far</p>\n<pre><code>public double[][] producto(double[][] m1, double[][] m2){\n        double[][] r=new double[m1.length][m1[0].length];\n        for(int fila=0, col1 = 0, col=0;fila&lt;m1.length &amp;&amp; col1&lt;m1[fila].length;fila++,col1++,col++){\n            for(int col2=0; col2&lt;m1[fila].length;col2++){\n                r[fila][col]+=m1[fila][col1]*m2[fila][col2];\n            }\n        }\n        return r;\n    }\n</code></pre>\n<p>When I use <code>{{1,1,1},{1,1,1},{1,1,1}}</code> and <code>{{2,2,2},{2,2,2},{2,2,2}}</code> as inputs I get tze actual output <code>{{6,0,0},{0,6,0},{0,0,6}}</code> while I would expect it to be <code>{{6,6,6},{6,6,6},{6,6,6}}</code>.</p>\n"},{"tags":["javascript","java","servlets"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678606316,"post_id":75711281,"comment_id":133563631,"body_markdown":"Basically this is not a servlet or Java question.  The problem is purely in the HTML &amp; Javascript documents.  It is not relevant how they are being served to the browser.","body":"Basically this is not a servlet or Java question.  The problem is purely in the HTML &amp; Javascript documents.  It is not relevant how they are being served to the browser."},{"owner":{"account_id":4533970,"reputation":458,"user_id":3683684,"display_name":"sanjeev"},"score":0,"creation_date":1692988784,"post_id":75711281,"comment_id":135705304,"body_markdown":"With script tag you can either provide a source file to load the code from or can have the code mentioned within the script tags, cannot mix both.","body":"With script tag you can either provide a source file to load the code from or can have the code mentioned within the script tags, cannot mix both."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678602770,"creation_date":1678602770,"answer_id":75711436,"question_id":75711281,"body_markdown":"Your script tag has a src attrib and contents. This will cause undesired behaviour. See this [question][1].\r\n\r\n\r\nThe fix is to change this\r\n\r\n    out.println(&quot;&lt;script type=&#39;text/javascript&#39; src=&#39;app.js&#39;&gt;&quot;);\r\n\r\ninto this:\r\n\r\n    out.println(&quot;&lt;script type=&#39;text/javascript&#39; src=&#39;app.js&#39;&gt;&lt;/script&gt;&quot;);\r\n    out.println(&quot;&lt;script type=&#39;text/javascript&#39;&gt;&quot;);\r\n\r\n  [1]: https://stackoverflow.com/questions/6528325/what-does-a-script-tag-with-src-and-content-mean","title":"java servlet doesn&#39;t work with JavaScript properly","body":"<p>Your script tag has a src attrib and contents. This will cause undesired behaviour. See this <a href=\"https://stackoverflow.com/questions/6528325/what-does-a-script-tag-with-src-and-content-mean\">question</a>.</p>\n<p>The fix is to change this</p>\n<pre><code>out.println(&quot;&lt;script type='text/javascript' src='app.js'&gt;&quot;);\n</code></pre>\n<p>into this:</p>\n<pre><code>out.println(&quot;&lt;script type='text/javascript' src='app.js'&gt;&lt;/script&gt;&quot;);\nout.println(&quot;&lt;script type='text/javascript'&gt;&quot;);\n</code></pre>\n"}],"owner":{"account_id":22854500,"reputation":5,"user_id":16999552,"display_name":"Wonjun Jo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1678602770,"creation_date":1678600301,"question_id":75711281,"body_markdown":"\r\n\r\n        out.println(&quot;&lt;script type=&#39;text/javascript&#39; src=&#39;app.js&#39;&gt;&quot;);\r\n        out.println(&quot;Calendar.$calendar = document.querySelector(&#39;.calendar&#39;)&quot;);\r\n        out.println(&quot;Calendar.$date = document.querySelector(&#39;.cur-date&#39;)&quot;);\r\n        out.println(&quot;Calendar.init()&quot;);\r\n        out.println(&quot;&lt;/script&gt;&quot;);\r\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n\r\nI&#39;m trying to make the code for Full year calendar that can add to-do list on any date you choose. but it seems to doesn&#39;t work.\r\n\r\nwhen I run this code. It&#39;s showing me this error.\r\nUncaught TypeError: Cannot set properties of undefined (setting &#39;innerHTML&#39;)\r\n\r\nhow do I fix this problem?","title":"java servlet doesn&#39;t work with JavaScript properly","body":"<pre><code>    out.println(&quot;&lt;script type='text/javascript' src='app.js'&gt;&quot;);\n    out.println(&quot;Calendar.$calendar = document.querySelector('.calendar')&quot;);\n    out.println(&quot;Calendar.$date = document.querySelector('.cur-date')&quot;);\n    out.println(&quot;Calendar.init()&quot;);\n    out.println(&quot;&lt;/script&gt;&quot;);\n    out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n</code></pre>\n<p>I'm trying to make the code for Full year calendar that can add to-do list on any date you choose. but it seems to doesn't work.</p>\n<p>when I run this code. It's showing me this error.\nUncaught TypeError: Cannot set properties of undefined (setting 'innerHTML')</p>\n<p>how do I fix this problem?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1300445967,"creation_date":1300445967,"answer_id":5350975,"question_id":5350950,"body_markdown":"This is because a reference variable doesn&#39;t actually hold the object. It&#39;s a way to reach the object. The way JVM manages this is something of our least concern. You can think of it as an address to the location of the object in the heap. But it need not be as straight forward as an address.","title":"reference type size in java","body":"<p>This is because a reference variable doesn't actually hold the object. It's a way to reach the object. The way JVM manages this is something of our least concern. You can think of it as an address to the location of the object in the heap. But it need not be as straight forward as an address.</p>\n"},{"tags":[],"owner":{"account_id":10732,"reputation":54820,"user_id":20400,"accept_rate":72,"display_name":"Omar Kooheji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300446292,"creation_date":1300446292,"answer_id":5351031,"question_id":5350950,"body_markdown":"8 Bytes is the size of a Long variable in Java and allows for 1.01457092 &#215; 10^19 references to be referenced, that should be enough for most applications, and bigger than most hard drives can address considering that each of those reference points needs to also hold data...\r\n\r\n**Edit:**\r\nHaving read one of the other answers I wanted to clarify that the reference is just a pointer to the data and doesn&#39;t contain the data, the Java architects decided to use 64 bit values to denote references because it gives you a huge address space.","title":"reference type size in java","body":"<p>8 Bytes is the size of a Long variable in Java and allows for 1.01457092  10^19 references to be referenced, that should be enough for most applications, and bigger than most hard drives can address considering that each of those reference points needs to also hold data...</p>\n\n<p><strong>Edit:</strong>\nHaving read one of the other answers I wanted to clarify that the reference is just a pointer to the data and doesn't contain the data, the Java architects decided to use 64 bit values to denote references because it gives you a huge address space.</p>\n"},{"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300446566,"creation_date":1300446566,"answer_id":5351084,"question_id":5350950,"body_markdown":"Values of type reference can be thought of as pointers to objects. the 8 byte should adress this in the heap.\r\n\r\nRead about [The Structure of the Java Virtual Machine][1]\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jvms/second_edition/html/Overview.doc.html#31069","title":"reference type size in java","body":"<p>Values of type reference can be thought of as pointers to objects. the 8 byte should adress this in the heap.</p>\n\n<p>Read about <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/Overview.doc.html#31069\" rel=\"nofollow\">The Structure of the Java Virtual Machine</a></p>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Palo Ebermann"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1374754079,"creation_date":1300475868,"answer_id":5356799,"question_id":5350950,"body_markdown":"Actually, it is nowhere specified how much bytes a reference variable shall have, and in fact, it is not everywhere the same.\r\n\r\nCommon virtual machines for 32-bit systems (i.e. systems with 32 bit adresses in the memory bus) usually use 32-bit (= 4 bytes, same as `int` and `float`) as the size for object references, while virtual machines for 64-bit systems often use the native address size 64 bits (= 8 bytes) for these.  (Note that most 64 bit systems can run 32-bit programs, too, so often even there you&#39;ll be using a 32 bit VM.)\r\n\r\nIt is simply a matter of simplifying the implementation, if you can use an actual memory address for your references instead of something else.\r\n\r\nAs this increases the size of memory used (and often we don&#39;t actually need to access *that* much memory), [from Java 7 on][1] the 64-bit HotSpot VM will be able to use 32-bit references under certain conditions, i.e. when the heap is smaller than 32 GB (8&#183;2&lt;sup&gt;32&lt;/sup&gt; bytes). To convert them to a actual memory address, they are multiplied by 8 (as objects will be aligned on 8-byte-boundaries) and then added to the base address (if this is not zero). (For heaps smaller than 4 GB, we don&#39;t need the multiplication step.)\r\n\r\nOther VMs might use similar tricks.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/vm/performance-enhancements-7.html#compressedOop","title":"reference type size in java","body":"<p>Actually, it is nowhere specified how much bytes a reference variable shall have, and in fact, it is not everywhere the same.</p>\n\n<p>Common virtual machines for 32-bit systems (i.e. systems with 32 bit adresses in the memory bus) usually use 32-bit (= 4 bytes, same as <code>int</code> and <code>float</code>) as the size for object references, while virtual machines for 64-bit systems often use the native address size 64 bits (= 8 bytes) for these.  (Note that most 64 bit systems can run 32-bit programs, too, so often even there you'll be using a 32 bit VM.)</p>\n\n<p>It is simply a matter of simplifying the implementation, if you can use an actual memory address for your references instead of something else.</p>\n\n<p>As this increases the size of memory used (and often we don't actually need to access <em>that</em> much memory), <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/vm/performance-enhancements-7.html#compressedOop\" rel=\"noreferrer\">from Java 7 on</a> the 64-bit HotSpot VM will be able to use 32-bit references under certain conditions, i.e. when the heap is smaller than 32 GB (82<sup>32</sup> bytes). To convert them to a actual memory address, they are multiplied by 8 (as objects will be aligned on 8-byte-boundaries) and then added to the base address (if this is not zero). (For heaps smaller than 4 GB, we don't need the multiplication step.)</p>\n\n<p>Other VMs might use similar tricks.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368876779,"creation_date":1368876779,"answer_id":16623803,"question_id":5350950,"body_markdown":"Let me give an example to help you understand better\r\n\r\n\t\tString myName = new String(&quot;John&quot;);\r\n\t\tString yourName = new String(&quot;John&quot;);\r\n\t\tif (myName == yourName) \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Refereces point to Same objects on heap&quot;);\r\n\t\t} else \r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Refereces point to different objects on heap&quot;);\r\n\t\t}\r\n\r\nand output is **Refereces point to different objects on heap**.\r\n\r\nHere **myName** and **yourName** are two references which point to objects of type String(**memory allocated on Heap**). Note memory for reference variables is allocated on **stack** and not on the Heap. Both the reference variables merely have the address(or similar unique abstraction) of the String object which resides on the Heap. The size of address will be constant for a particular architecture of OS. In case of 32 bits it will be 4 bytes where as for 64 bits it will be 8 bytes.\r\n\r\n So size of objects pointed be the reverence variable may change but the size of references remain the same as they simply carry address which remains constant for any particular architecture. ","title":"reference type size in java","body":"<p>Let me give an example to help you understand better</p>\n\n<pre><code>    String myName = new String(\"John\");\n    String yourName = new String(\"John\");\n    if (myName == yourName) \n    {\n        System.out.println(\"Refereces point to Same objects on heap\");\n    } else \n    {\n        System.out.println(\"Refereces point to different objects on heap\");\n    }\n</code></pre>\n\n<p>and output is <strong>Refereces point to different objects on heap</strong>.</p>\n\n<p>Here <strong>myName</strong> and <strong>yourName</strong> are two references which point to objects of type String(<strong>memory allocated on Heap</strong>). Note memory for reference variables is allocated on <strong>stack</strong> and not on the Heap. Both the reference variables merely have the address(or similar unique abstraction) of the String object which resides on the Heap. The size of address will be constant for a particular architecture of OS. In case of 32 bits it will be 4 bytes where as for 64 bits it will be 8 bytes.</p>\n\n<p>So size of objects pointed be the reverence variable may change but the size of references remain the same as they simply carry address which remains constant for any particular architecture. </p>\n"},{"tags":[],"owner":{"account_id":27881238,"reputation":11,"user_id":21289603,"display_name":"dys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678602674,"creation_date":1678602674,"answer_id":75711431,"question_id":5350950,"body_markdown":"because 64bit is enough for most hardware address space. and the reference can be seen as a pointer.","title":"reference type size in java","body":"<p>because 64bit is enough for most hardware address space. and the reference can be seen as a pointer.</p>\n"}],"owner":{"account_id":337558,"reputation":81,"user_id":665897,"display_name":"manoj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8319,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1678602674,"creation_date":1300445756,"question_id":5350950,"body_markdown":"Why does a reference type in java take 8 bytes? Why not less or more than 8 bytes?","title":"reference type size in java","body":"<p>Why does a reference type in java take 8 bytes? Why not less or more than 8 bytes?</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1533727278,"post_id":51745277,"comment_id":90450435,"body_markdown":"Use the criteria API or QueryDSL predicates to create dynamic queries.","body":"Use the criteria API or QueryDSL predicates to create dynamic queries."},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1533731054,"post_id":51745277,"comment_id":90453001,"body_markdown":"If your JPA provider throws an NPE then you should raise a bug on your JPA provider. The JPQL ought to cater for null input parameters.","body":"If your JPA provider throws an NPE then you should raise a bug on your JPA provider. The JPQL ought to cater for null input parameters."}],"answers":[{"tags":[],"owner":{"account_id":11343192,"reputation":642,"user_id":8316534,"display_name":"Vitalii Muzalevskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533727390,"creation_date":1533727390,"answer_id":51745466,"question_id":51745277,"body_markdown":"As for me the best solution for such cases is Criteria API, if you not familiar with it you can find some information here:\r\n\r\nhttps://www.objectdb.com/java/jpa/query/criteria","title":"JPA &#39;where in&#39; to be considered only if List passed as parameter has elements","body":"<p>As for me the best solution for such cases is Criteria API, if you not familiar with it you can find some information here:</p>\n\n<p><a href=\"https://www.objectdb.com/java/jpa/query/criteria\" rel=\"nofollow noreferrer\">https://www.objectdb.com/java/jpa/query/criteria</a></p>\n"},{"tags":[],"owner":{"account_id":1351838,"reputation":9009,"user_id":1291238,"accept_rate":81,"display_name":"Random42"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1533730798,"creation_date":1533730798,"answer_id":51746592,"question_id":51745277,"body_markdown":"After lots of trial and error I found an acceptable working solution with SpEL; thought some might find it useful:\r\n\r\n    @Query(&quot;select a from Alert a where a.date &gt;= :startDate &quot; \r\n            &quot;and (:#{#countryIds == null} = true or (a.countryId in (:countryIds))) &quot; +\r\n            &quot;and (:#{#siteTypeIds == null} = true or (a.siteTypeId in (:siteTypeIds))) &quot;)\r\n    List&lt;Alert&gt; findBy(@Param(&quot;startDate&quot;) Date startDate, \r\n                       @Param(&quot;countryIds&quot;) Set&lt;Long&gt; countryIds,\r\n                       @Param(&quot;siteTypeIds&quot;) Set&lt;Long&gt; siteTypeIds);\r\n\r\nThe Sets sent as parameters have to be `null` instead of empty sets. \r\nIt yields an acceptable SQL: \r\n\r\n    select alert0_.alertId              as alertId1_0_, [...]\r\n    from alert alert0_\r\n    where alert0_.date &gt;= &#39;2018-01-01&#39; and\r\n          (0 = 1 or alert0_.countryId in (1, 123)) and\r\n          (1 = 1 or alert0_.siteTypeId in (null));","title":"JPA &#39;where in&#39; to be considered only if List passed as parameter has elements","body":"<p>After lots of trial and error I found an acceptable working solution with SpEL; thought some might find it useful:</p>\n\n<pre><code>@Query(\"select a from Alert a where a.date &gt;= :startDate \" \n        \"and (:#{#countryIds == null} = true or (a.countryId in (:countryIds))) \" +\n        \"and (:#{#siteTypeIds == null} = true or (a.siteTypeId in (:siteTypeIds))) \")\nList&lt;Alert&gt; findBy(@Param(\"startDate\") Date startDate, \n                   @Param(\"countryIds\") Set&lt;Long&gt; countryIds,\n                   @Param(\"siteTypeIds\") Set&lt;Long&gt; siteTypeIds);\n</code></pre>\n\n<p>The Sets sent as parameters have to be <code>null</code> instead of empty sets. \nIt yields an acceptable SQL: </p>\n\n<pre><code>select alert0_.alertId              as alertId1_0_, [...]\nfrom alert alert0_\nwhere alert0_.date &gt;= '2018-01-01' and\n      (0 = 1 or alert0_.countryId in (1, 123)) and\n      (1 = 1 or alert0_.siteTypeId in (null));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3121388,"reputation":161,"user_id":2641088,"accept_rate":79,"display_name":"Michal Jotiak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549543108,"creation_date":1549540583,"answer_id":54572829,"question_id":51745277,"body_markdown":"I had the same problem so im writing extended solution with using also embedded parameter \r\n\r\n    @Query(&quot;from PartPrice where &quot;\r\n    \t\t\t+ &quot;customer in :#{#customers} and &quot;\r\n    \t\t\t+ &quot;( (:#{#suppliers == null || #suppliers.size() == 0} = true and supplier is null) or (:#{#suppliers != null &amp;&amp; #suppliers.size() &gt; 0} = true and supplier in :#{#supplier}) ) and &quot;\r\n    \t\t\t+ &quot; productIdentifier.manufacturerId = :#{#productIdentifier.manufacturerId} and productIdentifier.productNumber = :#{#productIdentifier.productNumber} and &quot;\r\n    \t\t\t+ &quot; ( (:#{#isAbsPrice} = true and abs_price is not null) or (:#{#isAbsPrice} = false and abs_price is null) ) &quot;\r\n    \t\t\t+ &quot; and (validUntil is null or validUntil &gt;= :#{#fromDate}) and (:#{#untilDate == null} = true or validFrom &lt;= :#{#untilDate}) &quot;)\r\n\r\nwhere suppliers is nullable, empty or contains values and productIdentifier is embedded id containing productNumber and manufacturerId passing as \r\n\r\n    @Param(&quot;productIdentifier&quot;) ProductIdentifier productIdentifier\r\n\r\nAlso interval is valid from fromDate to null (forever) or untilDate.","title":"JPA &#39;where in&#39; to be considered only if List passed as parameter has elements","body":"<p>I had the same problem so im writing extended solution with using also embedded parameter </p>\n\n<pre><code>@Query(\"from PartPrice where \"\n            + \"customer in :#{#customers} and \"\n            + \"( (:#{#suppliers == null || #suppliers.size() == 0} = true and supplier is null) or (:#{#suppliers != null &amp;&amp; #suppliers.size() &gt; 0} = true and supplier in :#{#supplier}) ) and \"\n            + \" productIdentifier.manufacturerId = :#{#productIdentifier.manufacturerId} and productIdentifier.productNumber = :#{#productIdentifier.productNumber} and \"\n            + \" ( (:#{#isAbsPrice} = true and abs_price is not null) or (:#{#isAbsPrice} = false and abs_price is null) ) \"\n            + \" and (validUntil is null or validUntil &gt;= :#{#fromDate}) and (:#{#untilDate == null} = true or validFrom &lt;= :#{#untilDate}) \")\n</code></pre>\n\n<p>where suppliers is nullable, empty or contains values and productIdentifier is embedded id containing productNumber and manufacturerId passing as </p>\n\n<pre><code>@Param(\"productIdentifier\") ProductIdentifier productIdentifier\n</code></pre>\n\n<p>Also interval is valid from fromDate to null (forever) or untilDate.</p>\n"},{"tags":[],"owner":{"account_id":27996499,"reputation":1,"user_id":21381613,"display_name":"ilmar ferreira marques"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678602373,"creation_date":1678602251,"answer_id":75711396,"question_id":51745277,"body_markdown":"After some try and errors I got this working for those who`d like to handle the empty lists when using IN JPA clause. If there is at least one element it filters normally otherwise it will bring the entire resultset if the collection is empty:\r\n\r\n\t@Query(&quot;SELECT h FROM Holiday h WHERE (:#{#ids.empty? T(java.util.Arrays).asList(null) : #ids} is null or h.id in :#{#ids.empty? T(java.util.Arrays).asList(null) : #ids} )&quot;)\r\n\tOptional&lt;List&lt;Holiday&gt;&gt; listAllIn(@Param(&quot;ids&quot;) Collection&lt;Long&gt; ids);\r\n\r\nGot this working on Eclipselink 2.7.11.v20220804-52dea2a3c0 + spring-data-jpa 2.7.7","title":"JPA &#39;where in&#39; to be considered only if List passed as parameter has elements","body":"<p>After some try and errors I got this working for those who`d like to handle the empty lists when using IN JPA clause. If there is at least one element it filters normally otherwise it will bring the entire resultset if the collection is empty:</p>\n<pre><code>@Query(&quot;SELECT h FROM Holiday h WHERE (:#{#ids.empty? T(java.util.Arrays).asList(null) : #ids} is null or h.id in :#{#ids.empty? T(java.util.Arrays).asList(null) : #ids} )&quot;)\nOptional&lt;List&lt;Holiday&gt;&gt; listAllIn(@Param(&quot;ids&quot;) Collection&lt;Long&gt; ids);\n</code></pre>\n<p>Got this working on Eclipselink 2.7.11.v20220804-52dea2a3c0 + spring-data-jpa 2.7.7</p>\n"}],"owner":{"account_id":1351838,"reputation":9009,"user_id":1291238,"accept_rate":81,"display_name":"Random42"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4559,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51746592,"answer_count":4,"score":5,"last_activity_date":1678602373,"creation_date":1533726809,"question_id":51745277,"body_markdown":"I have one query that should filter based on various parameters; one of those parameters is a list. If there are entries in the list, there should be a filtering based on the entries; but if the list is empty/null, there shouldn&#39;t be any filtering on that field.\r\n\r\n\r\nWhat I&#39;ve thought is something like this: \r\n\r\n    @Query(&quot;select a from Alert a where a.date &gt;= :startDate &quot; +\r\n                &quot;and (((:countryIds) is null) or a.countryId in (:countryIds)) &quot; +\r\n                &quot;and (((:typeIds) is null) or a.siteTypeId in (:typeIds)) &quot;)\r\n    List&lt;Alert&gt; findBy(@Param(&quot;startDate&quot;) Date startDate,\r\n                       @Param(&quot;countryIds&quot;) Set&lt;Long&gt; countryIds,\r\n                       @Param(&quot;typeIds&quot;) Set&lt;Long&gt; typeIds);\r\n\r\nSending null List it throws NPE; sending an empty list it generates the following SQL, which is invalid \r\n                                                \r\n    where alert0_.date &gt;= &#39;2018-01-01&#39; and                                                       \r\n     ((1, 123) is null or alert0_.countryId in (1, 123))\r\n\r\nI&#39;ve also tried in JPQL to have `and (((:countryIds) is empty) or a.countryId in (:countryIds))` but it also doesn&#39;t work when trying to compile the JPQL (at application startup): `Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: ??? is not mapped\r\n\tat org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:171)`\r\nOr using SpEL: \r\n`&quot;and (:#{countryIds.size() &gt; 0} or (a.countryId in (:countryIds))) &quot;`\r\nbut again, it doesn&#39;t compile the JPQL.\r\n\r\nThe only solution I&#39;ve thought is to dynamically generate the JPQL which is ugly or to populate all existing values for `countryIds` and `siteTypeIds` which is inefficient. \r\n\r\nJPA implementation is Hibernate and database is MySQL.\r\n\r\n\r\n","title":"JPA &#39;where in&#39; to be considered only if List passed as parameter has elements","body":"<p>I have one query that should filter based on various parameters; one of those parameters is a list. If there are entries in the list, there should be a filtering based on the entries; but if the list is empty/null, there shouldn't be any filtering on that field.</p>\n\n<p>What I've thought is something like this: </p>\n\n<pre><code>@Query(\"select a from Alert a where a.date &gt;= :startDate \" +\n            \"and (((:countryIds) is null) or a.countryId in (:countryIds)) \" +\n            \"and (((:typeIds) is null) or a.siteTypeId in (:typeIds)) \")\nList&lt;Alert&gt; findBy(@Param(\"startDate\") Date startDate,\n                   @Param(\"countryIds\") Set&lt;Long&gt; countryIds,\n                   @Param(\"typeIds\") Set&lt;Long&gt; typeIds);\n</code></pre>\n\n<p>Sending null List it throws NPE; sending an empty list it generates the following SQL, which is invalid </p>\n\n<pre><code>where alert0_.date &gt;= '2018-01-01' and                                                       \n ((1, 123) is null or alert0_.countryId in (1, 123))\n</code></pre>\n\n<p>I've also tried in JPQL to have <code>and (((:countryIds) is empty) or a.countryId in (:countryIds))</code> but it also doesn't work when trying to compile the JPQL (at application startup): <code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: ??? is not mapped\n    at org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:171)</code>\nOr using SpEL: \n<code>\"and (:#{countryIds.size() &gt; 0} or (a.countryId in (:countryIds))) \"</code>\nbut again, it doesn't compile the JPQL.</p>\n\n<p>The only solution I've thought is to dynamically generate the JPQL which is ugly or to populate all existing values for <code>countryIds</code> and <code>siteTypeIds</code> which is inefficient. </p>\n\n<p>JPA implementation is Hibernate and database is MySQL.</p>\n"},{"tags":["java","json","equals","assert","jsonassert"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1678576937,"post_id":75707726,"comment_id":133561296,"body_markdown":"I would expect these would have to be represented as pure numbers without enclosing &quot;&quot;.","body":"I would expect these would have to be represented as pure numbers without enclosing &quot;&quot;."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678601212,"creation_date":1678600049,"answer_id":75711267,"question_id":75707726,"body_markdown":"The balance field in the Java class should be defined as an int (or float), not a String.\r\n\r\nIf applicable, it should be defined as a number in any JsonSchema, swagger or open-api definition.\r\n\r\nThe expected can be defined as either of the following and the `JSONAssert.assertEquals` will work without a custom comparator - see [Introduction to JSONassert][1] section 3.4 Logical Camparison:\r\n\r\n    {\r\n    &quot;id&quot; : &quot;1234567&quot;\r\n    &quot;balance&quot; : 123\r\n    }\r\n\r\nor \r\n\r\n    {  \r\n    &quot;id&quot; : &quot;1234567&quot;\r\n    &quot;balance&quot; : 123.00\r\n    }\r\n\r\nIf you do not have control of the field types then a  comparator for the balance field would look like this:\r\n\r\n    public int compare(String firstBalance, String secondBalance) {\r\n           return\r\n    Float.compare(Float.parseFloat(firstBalance), Float.parseFloat(secondBalance));\r\n        }\r\n\r\n\r\n  [1]: https://www.baeldung.com/jsonassert","title":"How JSONAssert will treat int 5 and double 5.0 same","body":"<p>The balance field in the Java class should be defined as an int (or float), not a String.</p>\n<p>If applicable, it should be defined as a number in any JsonSchema, swagger or open-api definition.</p>\n<p>The expected can be defined as either of the following and the <code>JSONAssert.assertEquals</code> will work without a custom comparator - see <a href=\"https://www.baeldung.com/jsonassert\" rel=\"nofollow noreferrer\">Introduction to JSONassert</a> section 3.4 Logical Camparison:</p>\n<pre><code>{\n&quot;id&quot; : &quot;1234567&quot;\n&quot;balance&quot; : 123\n}\n</code></pre>\n<p>or</p>\n<pre><code>{  \n&quot;id&quot; : &quot;1234567&quot;\n&quot;balance&quot; : 123.00\n}\n</code></pre>\n<p>If you do not have control of the field types then a  comparator for the balance field would look like this:</p>\n<pre><code>public int compare(String firstBalance, String secondBalance) {\n       return\nFloat.compare(Float.parseFloat(firstBalance), Float.parseFloat(secondBalance));\n    }\n</code></pre>\n"}],"owner":{"account_id":9461442,"reputation":1,"user_id":7035058,"display_name":"vaibhav23123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678601212,"creation_date":1678557373,"question_id":75707726,"body_markdown":"I have two JSON objects represented as Java `String`s\r\nExpected:\r\n```json\r\n{\r\n&quot;id&quot; : &quot;1234567&quot;\r\n&quot;balance&quot; : &quot;123&quot;\r\n}\r\n```\r\nI converted this into JSON object and trying to validate this with output JSON\r\nActual:\r\n```json\r\n{\r\n&quot;id&quot; : &quot;1234567&quot;\r\n&quot;balance&quot; : &quot;123.00&quot;\r\n}\r\n```\r\n\r\nI am using `JSONAssert.assertequal(&quot;incorrect json&quot;,actual,expected,false);`\r\n\r\nThis is failing with expected `123` and got `123.00`.\r\n\r\nwhat to do so that it will treat both the values same.in a nutshell how do I use custom comaparator ,please note that I dont want to exclude/suppress this attribute from my validation","title":"How JSONAssert will treat int 5 and double 5.0 same","body":"<p>I have two JSON objects represented as Java <code>String</code>s\nExpected:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;id&quot; : &quot;1234567&quot;\n&quot;balance&quot; : &quot;123&quot;\n}\n</code></pre>\n<p>I converted this into JSON object and trying to validate this with output JSON\nActual:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;id&quot; : &quot;1234567&quot;\n&quot;balance&quot; : &quot;123.00&quot;\n}\n</code></pre>\n<p>I am using <code>JSONAssert.assertequal(&quot;incorrect json&quot;,actual,expected,false);</code></p>\n<p>This is failing with expected <code>123</code> and got <code>123.00</code>.</p>\n<p>what to do so that it will treat both the values same.in a nutshell how do I use custom comaparator ,please note that I dont want to exclude/suppress this attribute from my validation</p>\n"},{"tags":["python","java","android","django"],"comments":[{"owner":{"account_id":24401476,"reputation":1704,"user_id":18400908,"display_name":" "},"score":2,"creation_date":1678600957,"post_id":75711317,"comment_id":133563146,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1678601222,"post_id":75711317,"comment_id":133563162,"body_markdown":"I added a link at the top of your question. Hopefully it answers your question.","body":"I added a link at the top of your question. Hopefully it answers your question."}],"answers":[{"tags":[],"owner":{"account_id":25381110,"reputation":1,"user_id":19193499,"display_name":"Felicia Ann Kelley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678601011,"creation_date":1678601011,"answer_id":75711331,"question_id":75711317,"body_markdown":"Try setting it to IO I never heard of a socket that is.net it could be wrong but as far as I understand this I&#39;ll so just put java.io","title":"Iam trying to connect my android application and my django server for sending data from androiod application to django server but an error is occured","body":"<p>Try setting it to IO I never heard of a socket that is.net it could be wrong but as far as I understand this I'll so just put java.io</p>\n"}],"owner":{"account_id":27996388,"reputation":1,"user_id":21381519,"display_name":"JITHIN KRISHNAN P G"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1678601202,"answer_count":1,"score":-3,"last_activity_date":1678601139,"creation_date":1678600816,"question_id":75711317,"body_markdown":"```\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err: com.android.volley.NoConnectionError: java.net.SocketException: socket failed: EPERM (Operation not permitted)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.NetworkUtility.shouldRetryException(NetworkUtility.java:173)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:145)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:132)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:111)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:90)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err: Caused by: java.net.SocketException: socket failed: EPERM (Operation not permitted)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at java.net.Socket.createImpl(Socket.java:517)\r\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at java.net.Socket.getImpl(Socket.java:577)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at java.net.Socket.setSoTimeout(Socket.java:1203)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:143)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:131)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getOutputStream(HttpURLConnectionImpl.java:262)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.createOutputStream(HurlStack.java:319)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.addBody(HurlStack.java:301)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.addBodyIfExists(HurlStack.java:285)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.setConnectionParametersForRequest(HurlStack.java:257)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.executeRequest(HurlStack.java:89)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:104)\r\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err: \t... 3 more\r\n```\r\n\r\nConnection between android app and django n\r\nserver","title":"Iam trying to connect my android application and my django server for sending data from androiod application to django server but an error is occured","body":"<pre><code>2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err: com.android.volley.NoConnectionError: java.net.SocketException: socket failed: EPERM (Operation not permitted)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.NetworkUtility.shouldRetryException(NetworkUtility.java:173)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:145)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:132)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.NetworkDispatcher.processRequest(NetworkDispatcher.java:111)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.NetworkDispatcher.run(NetworkDispatcher.java:90)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err: Caused by: java.net.SocketException: socket failed: EPERM (Operation not permitted)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at java.net.Socket.createImpl(Socket.java:517)\n2023-03-12 11:22:06.372 26197-26197/com.example.demo_app_java W/System.err:     at java.net.Socket.getImpl(Socket.java:577)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at java.net.Socket.setSoTimeout(Socket.java:1203)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:143)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.connect(HttpURLConnectionImpl.java:131)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getOutputStream(HttpURLConnectionImpl.java:262)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.createOutputStream(HurlStack.java:319)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.addBody(HurlStack.java:301)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.addBodyIfExists(HurlStack.java:285)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.setConnectionParametersForRequest(HurlStack.java:257)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.HurlStack.executeRequest(HurlStack.java:89)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     at com.android.volley.toolbox.BasicNetwork.performRequest(BasicNetwork.java:104)\n2023-03-12 11:22:06.373 26197-26197/com.example.demo_app_java W/System.err:     ... 3 more\n</code></pre>\n<p>Connection between android app and django n\nserver</p>\n"},{"tags":["java","ios","cryptography","rsa","sha256"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1678600572,"creation_date":1389268422,"answer_id":21019504,"question_id":21018355,"body_markdown":"## Definition of SHA256withRSA ####\r\n\r\n\r\n`&quot;SHA256withRSA&quot;` implements the PKCS#1 v1.5 padding and modular exponentiation with the formal name [RSASSA-PKCS1-v1_5](https://www.rfc-editor.org/rfc/rfc8017#section-8.2) after calculating the hash over the data using SHA256. \r\n\r\n## Signature generation ##\r\n\r\nThe general strategy for signature generation is:\r\n\r\n 1. **hashing the message;**\r\n 2. **padding the hash for signature generation;**\r\n 3. conversion of the previous result to a number using OS2IP;\r\n 4. **modular exponentiation using the **private** exponent and the modulus;**\r\n 5. conversion of the previous result to an octet string using I2OSP.\r\n\r\n## Signature verification ##\r\n\r\nThe strategy for signature verification consists of two parts.\r\n\r\nPart 1:\r\n\r\n 1. **hashing;**\r\n 2. **padding the hash using the same method used for signature generation;**\r\n\r\nThe result of part 1 is the locally generated padded hash (called EM&#39;).\r\n\r\nPart 2:\r\n\r\n 1. conversion of the signature to a number using OS2IP;\r\n 2. **modular exponentiation using the **public** exponent and the modulus;**\r\n 3. conversion of the previous result to an octet string using I2OSP.\r\n\r\nThe result of part 2 is the original padded hash (called EM).\r\n\r\nFinally the original and local padded hashes (EM and EM&#39;) are compared; the signature verifies if the comparison succeeds. \r\n\r\n## Notes ###\r\n\r\n - The PSS scheme in PKCS#1 v2.0 onward has been designed to provide a non-deterministic scheme with a better security proof for the padding. For new protocols it is advisable to use the PSS scheme instead, although the PKCS#1 v1.5 scheme is still considered secure.\r\n\r\n - The modular exponentiation during signature generation may not use the private exponent; it quite often uses the Chinese Remainder Theorem if the CRT parameters are present for a ~4x speedup.\r\n\r\n - OS2IP converts an octet string (or byte array) to an integer by interpreting it as a statically sized unsigned big endian value, I2OSP performs the reverse operation. If the runtime can directly perform big integer calculations on the binary representation then the conversion is implicit (i.e. doesn&#39;t need to be performed at all).\r\n\r\n - The PKCS#1 v1.5 padding used for encryption and signature generation is different, so using encryption may result in erroneous signatures.\r\n\r\n - An alternative verification method is to extract the hash from the padding and perform a compare of the hash values.\r\n\r\n---\r\n\r\n## PKCS#1 v1.5 for iOS ##\r\n\r\nWith regards to the padding in iOS, please check [this answer](https://stackoverflow.com/a/5066573/589259) by Thomas Pornin. Basically you should create the SHA-256 hash, prefix a static block of data (defined in the PKCS#1 specifications) then use `SecKeyRawSign` using `kSecPaddingPKCS1`.\r\n\r\nFor your convenience, the PKCS#1 defined block of data that needs to be prefixed in hex notation for SHA-256 (it can be bit hard to find in the standard documents, it&#39;s in the notes of [section 9.2](https://www.rfc-editor.org/rfc/rfc3447#section-9.2)):\r\n\r\n    30 31 30 0D 06 09 60 86 48 01 65 03 04 02 01 05 00 04 20\r\n","title":"SHA256withRSA what does it do and in what order?","body":"<h2>Definition of SHA256withRSA</h2>\n<p><code>&quot;SHA256withRSA&quot;</code> implements the PKCS#1 v1.5 padding and modular exponentiation with the formal name <a href=\"https://www.rfc-editor.org/rfc/rfc8017#section-8.2\" rel=\"nofollow noreferrer\">RSASSA-PKCS1-v1_5</a> after calculating the hash over the data using SHA256.</p>\n<h2>Signature generation</h2>\n<p>The general strategy for signature generation is:</p>\n<ol>\n<li><strong>hashing the message;</strong></li>\n<li><strong>padding the hash for signature generation;</strong></li>\n<li>conversion of the previous result to a number using OS2IP;</li>\n<li><strong>modular exponentiation using the <strong>private</strong> exponent and the modulus;</strong></li>\n<li>conversion of the previous result to an octet string using I2OSP.</li>\n</ol>\n<h2>Signature verification</h2>\n<p>The strategy for signature verification consists of two parts.</p>\n<p>Part 1:</p>\n<ol>\n<li><strong>hashing;</strong></li>\n<li><strong>padding the hash using the same method used for signature generation;</strong></li>\n</ol>\n<p>The result of part 1 is the locally generated padded hash (called EM').</p>\n<p>Part 2:</p>\n<ol>\n<li>conversion of the signature to a number using OS2IP;</li>\n<li><strong>modular exponentiation using the <strong>public</strong> exponent and the modulus;</strong></li>\n<li>conversion of the previous result to an octet string using I2OSP.</li>\n</ol>\n<p>The result of part 2 is the original padded hash (called EM).</p>\n<p>Finally the original and local padded hashes (EM and EM') are compared; the signature verifies if the comparison succeeds.</p>\n<h2>Notes</h2>\n<ul>\n<li><p>The PSS scheme in PKCS#1 v2.0 onward has been designed to provide a non-deterministic scheme with a better security proof for the padding. For new protocols it is advisable to use the PSS scheme instead, although the PKCS#1 v1.5 scheme is still considered secure.</p>\n</li>\n<li><p>The modular exponentiation during signature generation may not use the private exponent; it quite often uses the Chinese Remainder Theorem if the CRT parameters are present for a ~4x speedup.</p>\n</li>\n<li><p>OS2IP converts an octet string (or byte array) to an integer by interpreting it as a statically sized unsigned big endian value, I2OSP performs the reverse operation. If the runtime can directly perform big integer calculations on the binary representation then the conversion is implicit (i.e. doesn't need to be performed at all).</p>\n</li>\n<li><p>The PKCS#1 v1.5 padding used for encryption and signature generation is different, so using encryption may result in erroneous signatures.</p>\n</li>\n<li><p>An alternative verification method is to extract the hash from the padding and perform a compare of the hash values.</p>\n</li>\n</ul>\n<hr />\n<h2>PKCS#1 v1.5 for iOS</h2>\n<p>With regards to the padding in iOS, please check <a href=\"https://stackoverflow.com/a/5066573/589259\">this answer</a> by Thomas Pornin. Basically you should create the SHA-256 hash, prefix a static block of data (defined in the PKCS#1 specifications) then use <code>SecKeyRawSign</code> using <code>kSecPaddingPKCS1</code>.</p>\n<p>For your convenience, the PKCS#1 defined block of data that needs to be prefixed in hex notation for SHA-256 (it can be bit hard to find in the standard documents, it's in the notes of <a href=\"https://www.rfc-editor.org/rfc/rfc3447#section-9.2\" rel=\"nofollow noreferrer\">section 9.2</a>):</p>\n<pre><code>30 31 30 0D 06 09 60 86 48 01 65 03 04 02 01 05 00 04 20\n</code></pre>\n"}],"owner":{"account_id":2817717,"reputation":2207,"user_id":2422321,"accept_rate":74,"display_name":"Whyser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43844,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":21019504,"answer_count":1,"score":31,"last_activity_date":1678600572,"creation_date":1389265336,"question_id":21018355,"body_markdown":"I&#39;m a total newbie when it comes to cryptography and such things. I don&#39;t (and dont want to) know the details of the SHA256 and RSA. I &quot;know&quot; what they do, not how they do it, and for now that&#39;s enough.\r\n\r\nI&#39;m wondering what the &quot;SHA256withRSA&quot;-algorithm (if you can call it that) actually do and in what order. For example, does it hash the data with SHA256 and then encrypts it using RSA or is it vice-versa, or something else?\r\n\r\nThe reason I&#39;m asking is because I wanna do the java equivalent of: \r\n\r\n    Signature.getInstance(&quot;SHA256withRSA&quot;)\r\n    signature.initSign(privateKey); //privateKey == a key extracted from a .p12 file\r\n\r\nin Objective-C on iOS. And I couldn&#39;t seem to find any stuff that does exactly this, therefore I&#39;m asking, can I just hash the data (SHA256) and then encrypt it (RSA) (or vice-versa) and get the same behavior?\r\n\r\nWhat is the suggested solution for doing this kind of thing? \r\n\r\nThank you!\r\n\r\nEDIT:\r\nI failed to mention that I sign the data using a private key that is obtained by doing:\r\n\r\n    KeyStore keystore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    keystore.load(new FileInputStream(new File(filename)), password.toCharArray());\r\n    PrivateKey privateKey = (PrivateKey)keystore.getKey(alias, password.toCharArray());\r\n\r\nWhere filename is for example: &quot;/somewhere/mykey.p12&quot;.","title":"SHA256withRSA what does it do and in what order?","body":"<p>I'm a total newbie when it comes to cryptography and such things. I don't (and dont want to) know the details of the SHA256 and RSA. I \"know\" what they do, not how they do it, and for now that's enough.</p>\n\n<p>I'm wondering what the \"SHA256withRSA\"-algorithm (if you can call it that) actually do and in what order. For example, does it hash the data with SHA256 and then encrypts it using RSA or is it vice-versa, or something else?</p>\n\n<p>The reason I'm asking is because I wanna do the java equivalent of: </p>\n\n<pre><code>Signature.getInstance(\"SHA256withRSA\")\nsignature.initSign(privateKey); //privateKey == a key extracted from a .p12 file\n</code></pre>\n\n<p>in Objective-C on iOS. And I couldn't seem to find any stuff that does exactly this, therefore I'm asking, can I just hash the data (SHA256) and then encrypt it (RSA) (or vice-versa) and get the same behavior?</p>\n\n<p>What is the suggested solution for doing this kind of thing? </p>\n\n<p>Thank you!</p>\n\n<p>EDIT:\nI failed to mention that I sign the data using a private key that is obtained by doing:</p>\n\n<pre><code>KeyStore keystore = KeyStore.getInstance(\"PKCS12\");\nkeystore.load(new FileInputStream(new File(filename)), password.toCharArray());\nPrivateKey privateKey = (PrivateKey)keystore.getKey(alias, password.toCharArray());\n</code></pre>\n\n<p>Where filename is for example: \"/somewhere/mykey.p12\".</p>\n"},{"tags":["java","jar","zip","war"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1319496435,"post_id":7882745,"comment_id":9620153,"body_markdown":"What will you do with the files inside the war file?","body":"What will you do with the files inside the war file?"}],"answers":[{"tags":[],"owner":{"account_id":45534,"reputation":465,"user_id":134258,"accept_rate":80,"display_name":"Affable Geek"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1319495867,"creation_date":1319495867,"answer_id":7882787,"question_id":7882745,"body_markdown":"Like you said, a jar *is* a zip file  (not a special type, but just a plain old zip), so either library could be made to work.  The reasoning is that the average person, seeing a *.zip extension, tends to unzip it.  Since the app server wants it unzipped, a simple rename keeps people from unzipping it simply out of habit. Likewise,  *.war file also should remain uncompressed.\r\n\r\njava.util.jar basically just adds additional functionality to java.util.zip with very little extra overhead. Let the java.util.jar be a helper in posting, etc... and use it.","title":"How to extract .war files in java? ZIP vs JAR","body":"<p>Like you said, a jar <em>is</em> a zip file  (not a special type, but just a plain old zip), so either library could be made to work.  The reasoning is that the average person, seeing a *.zip extension, tends to unzip it.  Since the app server wants it unzipped, a simple rename keeps people from unzipping it simply out of habit. Likewise,  *.war file also should remain uncompressed.</p>\n\n<p>java.util.jar basically just adds additional functionality to java.util.zip with very little extra overhead. Let the java.util.jar be a helper in posting, etc... and use it.</p>\n"},{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"down_vote_count":3,"up_vote_count":29,"is_accepted":true,"score":26,"last_activity_date":1319495935,"creation_date":1319495935,"answer_id":7882800,"question_id":7882745,"body_markdown":"If you look at the [JarFile](http://download.oracle.com/javase/6/docs/api/java/util/jar/JarFile.html) API you&#39;ll see that it&#39;s a subclass of the [ZipFile](http://download.oracle.com/javase/6/docs/api/java/util/zip/ZipFile.html) class.\r\n\r\nThe jar-specific classes mostly just add jar-specific functionality, like direct support for manifest file attributes and so on.\r\n\r\nIt&#39;s OOP &quot;in action&quot;; since jar files are zip files, the jar classes can use zip functionality and provide additional utility.","title":"How to extract .war files in java? ZIP vs JAR","body":"<p>If you look at the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/jar/JarFile.html\" rel=\"noreferrer\">JarFile</a> API you'll see that it's a subclass of the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/zip/ZipFile.html\" rel=\"noreferrer\">ZipFile</a> class.</p>\n\n<p>The jar-specific classes mostly just add jar-specific functionality, like direct support for manifest file attributes and so on.</p>\n\n<p>It's OOP \"in action\"; since jar files are zip files, the jar classes can use zip functionality and provide additional utility.</p>\n"},{"tags":[],"owner":{"account_id":120436,"reputation":2639,"user_id":312884,"display_name":"r0ast3d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319495966,"creation_date":1319495966,"answer_id":7882806,"question_id":7882745,"body_markdown":"Jar class/package is for specific Jar file mechanisms where there is a manifest that is used by the Jar files in some cases.\r\n\r\nThe Zip file class/package handles any compressed files that include Jar files, which is a type of compressed file. \r\n\r\nThe Jar classes thus extend the Zip package classes.","title":"How to extract .war files in java? ZIP vs JAR","body":"<p>Jar class/package is for specific Jar file mechanisms where there is a manifest that is used by the Jar files in some cases.</p>\n\n<p>The Zip file class/package handles any compressed files that include Jar files, which is a type of compressed file. </p>\n\n<p>The Jar classes thus extend the Zip package classes.</p>\n"},{"tags":[],"owner":{"account_id":1248460,"reputation":9978,"user_id":1209409,"accept_rate":14,"display_name":"iltaf khalid"},"down_vote_count":2,"up_vote_count":148,"is_accepted":false,"score":146,"last_activity_date":1472666606,"creation_date":1359478492,"answer_id":14588016,"question_id":7882745,"body_markdown":"WAR file is just a JAR file, to extract it, just issue following jar command  \r\n\r\n    jar -xvf yourWARfileName.war\r\n\r\n\r\nIf the jar command is not found, which sometimes happens in the Windows command prompt, then specify full path i.e. in my case it is,\r\n\r\n     c:\\java\\jdk-1.7.0\\bin\\jar -xvf my-file.war","title":"How to extract .war files in java? ZIP vs JAR","body":"<p>WAR file is just a JAR file, to extract it, just issue following jar command  </p>\n\n<pre><code>jar -xvf yourWARfileName.war\n</code></pre>\n\n<p>If the jar command is not found, which sometimes happens in the Windows command prompt, then specify full path i.e. in my case it is,</p>\n\n<pre><code> c:\\java\\jdk-1.7.0\\bin\\jar -xvf my-file.war\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3320757,"reputation":367,"user_id":2792000,"display_name":"Mehdi"},"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1454680087,"creation_date":1385563882,"answer_id":20245579,"question_id":7882745,"body_markdown":"Just rename the `.war` into `.jar` and unzip it using `Winrar` (or any other archive manager).","title":"How to extract .war files in java? ZIP vs JAR","body":"<p>Just rename the <code>.war</code> into <code>.jar</code> and unzip it using <code>Winrar</code> (or any other archive manager).</p>\n"},{"tags":[],"owner":{"account_id":4722771,"reputation":557,"user_id":3820234,"display_name":"Karan"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1454678340,"creation_date":1422941798,"answer_id":28292052,"question_id":7882745,"body_markdown":"If you using Linux or Ubuntu than you can directly extract data from `.war` file.\r\n\r\nA `war` file is just a `jar` file, to extract it, just issue following command using the `jar` program:\r\n\r\n    jar -xvf yourWARfileName.war","title":"How to extract .war files in java? ZIP vs JAR","body":"<p>If you using Linux or Ubuntu than you can directly extract data from <code>.war</code> file.</p>\n\n<p>A <code>war</code> file is just a <code>jar</code> file, to extract it, just issue following command using the <code>jar</code> program:</p>\n\n<pre><code>jar -xvf yourWARfileName.war\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9333655,"reputation":615,"user_id":6928576,"accept_rate":84,"display_name":"M. Dhaouadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542531476,"creation_date":1542531476,"answer_id":53359261,"question_id":7882745,"body_markdown":"You can use a turn-around and just deploy the application into tomcat server: just copy/paste under the webapps folder.\r\nOnce tomcat is started, it will create a folder with the app name and you can access the contents directly","title":"How to extract .war files in java? ZIP vs JAR","body":"<p>You can use a turn-around and just deploy the application into tomcat server: just copy/paste under the webapps folder.\nOnce tomcat is started, it will create a folder with the app name and you can access the contents directly</p>\n"},{"tags":[],"owner":{"account_id":6144936,"reputation":810,"user_id":4791162,"display_name":"Olivier Royo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583337062,"creation_date":1583337062,"answer_id":60529860,"question_id":7882745,"body_markdown":"For mac users: in terminal command :\r\n\r\n    unzip yourWARfileName.war","title":"How to extract .war files in java? ZIP vs JAR","body":"<p>For mac users: in terminal command :</p>\n\n<pre><code>unzip yourWARfileName.war\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7003676,"reputation":507,"user_id":5368856,"display_name":"Kasthuri Shravankumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678599719,"creation_date":1674804282,"answer_id":75255123,"question_id":7882745,"body_markdown":"This is the way to unarchive war\r\n\r\n    mkdir mywarfile\r\n    cp -r mywarfile.war mywarfile/\r\n    cd mywarfile/\r\n    jar -xvf mywarfile.war\r\n    ls\r\n    rm -rf mywarfile.war\r\n\r\nTo cut multiple lines in vi editor, you can use the following steps:\r\n\r\n\r\na8350801-7572-4a74-8559-5743fd2a3e86\r\n","title":"How to extract .war files in java? ZIP vs JAR","body":"<p>This is the way to unarchive war</p>\n<pre><code>mkdir mywarfile\ncp -r mywarfile.war mywarfile/\ncd mywarfile/\njar -xvf mywarfile.war\nls\nrm -rf mywarfile.war\n</code></pre>\n<p>To cut multiple lines in vi editor, you can use the following steps:</p>\n<p>a8350801-7572-4a74-8559-5743fd2a3e86</p>\n"}],"owner":{"account_id":944837,"reputation":2993,"user_id":972276,"accept_rate":72,"display_name":"user972276"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326763,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"accepted_answer_id":7882800,"answer_count":9,"score":68,"last_activity_date":1678599719,"creation_date":1319495618,"question_id":7882745,"body_markdown":"I have a web program where I want the user to be able to import a `.war` file and I can extract certain files out of the `.war` file.  I have found two class libraries:  `java.util.zip.*` and `java.util.jar.*`. From what I understand, a WAR file is a special JAR file which is a special ZIP file.  So would it be better to use `java.util.jar`?  If ZIP and JAR files are pretty much the same why is there a need for two different libraries?","title":"How to extract .war files in java? ZIP vs JAR","body":"<p>I have a web program where I want the user to be able to import a <code>.war</code> file and I can extract certain files out of the <code>.war</code> file.  I have found two class libraries:  <code>java.util.zip.*</code> and <code>java.util.jar.*</code>. From what I understand, a WAR file is a special JAR file which is a special ZIP file.  So would it be better to use <code>java.util.jar</code>?  If ZIP and JAR files are pretty much the same why is there a need for two different libraries?</p>\n"},{"tags":["java","wear-os"],"answers":[{"tags":[],"owner":{"account_id":27995136,"reputation":1,"user_id":21380557,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678599702,"creation_date":1678599702,"answer_id":75711253,"question_id":75710297,"body_markdown":"Confirming this code works on WearOS 3.5.  After a bit more digging I found my app permissions were not set correctly.  As soon as I allowed Receive Complication Data, Sensors, and Physical Activity permissions everything works fine.","title":"WearOS 3.5 onSensorChanged not called for Step Counter and Heart Rate","body":"<p>Confirming this code works on WearOS 3.5.  After a bit more digging I found my app permissions were not set correctly.  As soon as I allowed Receive Complication Data, Sensors, and Physical Activity permissions everything works fine.</p>\n"}],"owner":{"account_id":27995136,"reputation":1,"user_id":21380557,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678599702,"creation_date":1678578923,"question_id":75710297,"body_markdown":"Google Pixel 7 running WearOS 3.5.  The SensorEventListener isn&#39;t behaving as expected.  I&#39;ve registered listeners for the step counter, heart rate, and accelerometer.  Only the accelerometer triggers onSensorChanged.\r\n\r\nThe prototype I&#39;m building is attempting to sample heart rate and steps then send them to an API.\r\n\r\nSomeone put me out of my misery please and steer me in the right direction.  Is there something obvious I am missing?  Anyone else have a WearOS 3.5 device handy and feel like having a quick hack to confirm if this works or not?\r\n\r\n```\r\nprivate class WatchFaceEngine extends CanvasWatchFaceService.Engine implements SensorEventListener {\r\n\r\n@Override\r\npublic void onCreate(SurfaceHolder holder) {\r\n\r\n    ...\r\n    \r\n    mStepSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\r\n    mHeartRateSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_HEART_RATE);\r\n    mAccelerationSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\r\n    \r\n    mSensorManager.registerListener(this, mAccelerationSensor, SensorManager.SENSOR_DELAY_NORMAL);\r\n    mSensorManager.registerListener(this, mStepSensor, SensorManager.SENSOR_DELAY_NORMAL);\r\n    mSensorManager.registerListener(this, mHeartRateSensor, SensorManager.SENSOR_DELAY_FASTEST);\r\n    \r\n    ...\r\n\r\n}\r\n\r\n@Override\r\npublic void onSensorChanged(SensorEvent event) {\r\n    if (event.sensor.getType() == Sensor.TYPE_STEP_COUNTER) {\r\n        mStepCount = (int) event.values[0];\r\n    } else if (event.sensor.getType() == Sensor.TYPE_HEART_RATE) {\r\n        float mHeartRateFloat = event.values[0];\r\n        mPulseCount = Math.round(mHeartRateFloat);\r\n    }\r\n}\r\n\r\n...\r\n```\r\n**AndroidManifest.xml permissions**\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BODY_SENSORS&quot; /&gt;\r\n\r\n","title":"WearOS 3.5 onSensorChanged not called for Step Counter and Heart Rate","body":"<p>Google Pixel 7 running WearOS 3.5.  The SensorEventListener isn't behaving as expected.  I've registered listeners for the step counter, heart rate, and accelerometer.  Only the accelerometer triggers onSensorChanged.</p>\n<p>The prototype I'm building is attempting to sample heart rate and steps then send them to an API.</p>\n<p>Someone put me out of my misery please and steer me in the right direction.  Is there something obvious I am missing?  Anyone else have a WearOS 3.5 device handy and feel like having a quick hack to confirm if this works or not?</p>\n<pre><code>private class WatchFaceEngine extends CanvasWatchFaceService.Engine implements SensorEventListener {\n\n@Override\npublic void onCreate(SurfaceHolder holder) {\n\n    ...\n    \n    mStepSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_STEP_COUNTER);\n    mHeartRateSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_HEART_RATE);\n    mAccelerationSensor = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n    \n    mSensorManager.registerListener(this, mAccelerationSensor, SensorManager.SENSOR_DELAY_NORMAL);\n    mSensorManager.registerListener(this, mStepSensor, SensorManager.SENSOR_DELAY_NORMAL);\n    mSensorManager.registerListener(this, mHeartRateSensor, SensorManager.SENSOR_DELAY_FASTEST);\n    \n    ...\n\n}\n\n@Override\npublic void onSensorChanged(SensorEvent event) {\n    if (event.sensor.getType() == Sensor.TYPE_STEP_COUNTER) {\n        mStepCount = (int) event.values[0];\n    } else if (event.sensor.getType() == Sensor.TYPE_HEART_RATE) {\n        float mHeartRateFloat = event.values[0];\n        mPulseCount = Math.round(mHeartRateFloat);\n    }\n}\n\n...\n</code></pre>\n<p><strong>AndroidManifest.xml permissions</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACTIVITY_RECOGNITION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.BODY_SENSORS&quot; /&gt;\n</code></pre>\n"},{"tags":["java","android","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":7263621,"reputation":11,"user_id":5539279,"display_name":"Debashish Dey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534749685,"creation_date":1534749685,"answer_id":51925802,"question_id":47081195,"body_markdown":"Creating AmazonS3Client using the below code solved my problem,\r\n\r\n\r\n        final CountDownLatch countDownLatch = new CountDownLatch(1);\r\n\r\n        ClientConfiguration configuration = new ClientConfiguration();\r\n        configuration.setMaxErrorRetry(3);\r\n        configuration.setConnectionTimeout(501000);\r\n        configuration.setSocketTimeout(501000);\r\n        configuration.setProtocol(Protocol.HTTP);\r\n\r\n        sS3Client = new AmazonS3Client(AWSMobileClient.getInstance().getCredentialsProvider(), configuration);\r\n\r\n        if (sS3Client == null) {\r\n            sS3Client.setRegion(Region.getRegion(Regions.US_EAST_1));\r\n            sS3Client.setS3ClientOptions(S3ClientOptions.builder().setAccelerateModeEnabled(true).build());\r\n\r\n            // wrap the call in a thread since we make a network call.\r\n            new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    sS3Client.setBucketAccelerateConfiguration(AppConstants.BUCKET_NAME,\r\n                            new BucketAccelerateConfiguration(BucketAccelerateStatus.Enabled));\r\n                    countDownLatch.countDown();\r\n                }\r\n            }).start();\r\n\r\n            try {\r\n                countDownLatch.await();\r\n            } catch (InterruptedException ie) {\r\n                ie.printStackTrace();\r\n            }\r\n        }\r\n\r\nYou can refer to this link https://github.com/aws/aws-sdk-android/issues/473","title":"Unable to resolve host error while using accelerate mode in s3","body":"<p>Creating AmazonS3Client using the below code solved my problem,</p>\n\n<pre><code>    final CountDownLatch countDownLatch = new CountDownLatch(1);\n\n    ClientConfiguration configuration = new ClientConfiguration();\n    configuration.setMaxErrorRetry(3);\n    configuration.setConnectionTimeout(501000);\n    configuration.setSocketTimeout(501000);\n    configuration.setProtocol(Protocol.HTTP);\n\n    sS3Client = new AmazonS3Client(AWSMobileClient.getInstance().getCredentialsProvider(), configuration);\n\n    if (sS3Client == null) {\n        sS3Client.setRegion(Region.getRegion(Regions.US_EAST_1));\n        sS3Client.setS3ClientOptions(S3ClientOptions.builder().setAccelerateModeEnabled(true).build());\n\n        // wrap the call in a thread since we make a network call.\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                sS3Client.setBucketAccelerateConfiguration(AppConstants.BUCKET_NAME,\n                        new BucketAccelerateConfiguration(BucketAccelerateStatus.Enabled));\n                countDownLatch.countDown();\n            }\n        }).start();\n\n        try {\n            countDownLatch.await();\n        } catch (InterruptedException ie) {\n            ie.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>You can refer to this link <a href=\"https://github.com/aws/aws-sdk-android/issues/473\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-android/issues/473</a></p>\n"}],"owner":{"account_id":8129518,"reputation":11,"user_id":6123246,"display_name":"Muhammad Naseer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678598813,"creation_date":1509643400,"question_id":47081195,"body_markdown":"I am new to amazon aws sdk for java. I have v2.6 of aws sdk for java. My problem is when i enable accelerate mode using\r\n*`s3Client.setS3ClientOptions(S3ClientOptions.builder().setAccelerateModeEnabled(true).build());`* \r\nI get exception &quot;Unable to resolve host &quot;s3-accelerate.amazonaws.com&quot;: No address associated with hostname&quot; on uploading file. It worked fine in previous version of sdk. I dont know how to fix this issue. can anybody help me.","title":"Unable to resolve host error while using accelerate mode in s3","body":"<p>I am new to amazon aws sdk for java. I have v2.6 of aws sdk for java. My problem is when i enable accelerate mode using\n<em><code>s3Client.setS3ClientOptions(S3ClientOptions.builder().setAccelerateModeEnabled(true).build());</code></em> \nI get exception \"Unable to resolve host \"s3-accelerate.amazonaws.com\": No address associated with hostname\" on uploading file. It worked fine in previous version of sdk. I dont know how to fix this issue. can anybody help me.</p>\n"},{"tags":["java","amazon-web-services","rest","amazon-s3"],"comments":[{"owner":{"account_id":492994,"reputation":3705,"user_id":1271412,"accept_rate":78,"display_name":"petertc"},"score":0,"creation_date":1394603967,"post_id":22342741,"comment_id":33957803,"body_markdown":"why you add fileOwnerId to stringToSign?","body":"why you add fileOwnerId to stringToSign?"},{"owner":{"account_id":3606240,"reputation":199,"user_id":3008357,"display_name":"Arbind"},"score":0,"creation_date":1394604379,"post_id":22342741,"comment_id":33958001,"body_markdown":"Thanks for your reply @okwap . I have added that because thats the way i have saved files on s3. like bucketname/username/file.txt","body":"Thanks for your reply @okwap . I have added that because thats the way i have saved files on s3. like bucketname/username/file.txt"}],"answers":[{"tags":[],"owner":{"account_id":3606240,"reputation":199,"user_id":3008357,"display_name":"Arbind"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1394773302,"creation_date":1394773302,"answer_id":22396537,"question_id":22342741,"body_markdown":"Finally, i integrated the aws sdk to delete the object from amazon s3 bucket and it works like lightning. But unable to get help doing it with rest API. So now i have used rest API for uploading and downloading and the sdk for deleting an object.","title":"Delete amazon s3 object by versionId using rest API","body":"<p>Finally, i integrated the aws sdk to delete the object from amazon s3 bucket and it works like lightning. But unable to get help doing it with rest API. So now i have used rest API for uploading and downloading and the sdk for deleting an object.</p>\n"}],"owner":{"account_id":3606240,"reputation":199,"user_id":3008357,"display_name":"Arbind"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":945,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678598794,"creation_date":1394602126,"question_id":22342741,"body_markdown":"I am trying to delete amazon s3 object using rest API but not getting any success. I have created the URL(signed url) at server side using java and then made XHR request to that URL at client side(i.e. from browser).\r\n\r\nJava code that i have used to sign the url:\r\n\r\n        public static String getSignedURL(String fileName, int fileOwnerId, String versionId){\r\n        Date expiration = new Date();\r\n        long milliSeconds = expiration.getTime();\r\n        milliSeconds += 1000 * 60 * 10; // Add 10 minutes.\r\n        long seconds = (milliSeconds)/1000L;\r\n        String URL = null;\r\n\r\n        try {\r\n            String encodedFileName = URLEncoder.encode(fileName, &quot;UTF-8&quot;).replaceAll(&quot;\\\\+&quot;, &quot;%20&quot;);\r\n            String canonicalizedResource = &quot;/&quot;+AWS_BUCKET_NAME+&quot;/&quot; + fileOwnerId + &quot;/&quot; + encodedFileName;\r\n            String stringToSign = &quot;DELETE\\n\\n\\n&quot; + seconds + &quot;\\n&quot; + canonicalizedResource +&quot;?versionId=&quot;+versionId;\r\n            byte[] keyBytes = AWS_SECRET_API_KEY.getBytes();\r\n            SecretKeySpec signingKey = new SecretKeySpec(keyBytes, &quot;HmacSHA1&quot;);\r\n\r\n            Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;);\r\n            mac.init(signingKey);\r\n\r\n            byte[] digest = mac.doFinal(stringToSign.getBytes());\r\n            byte[] base64bytes = Base64.encodeBase64(digest);\r\n            String signedString = new String(base64bytes, &quot;UTF-8&quot;);\r\n\r\n            String signature = URLEncoder.encode(signedString, &quot;UTF-8&quot;);\r\n\r\n            URL = &quot;https://&quot;+AWS_BUCKET_NAME+&quot;.s3.amazonaws.com/&quot; + fileOwnerId +\r\n                    &quot;/&quot; + encodedFileName +&quot;?versionId=&quot;+versionId +&quot;&amp;Expires=&quot; + seconds+&quot;&amp;AWSAccessKeyId=&quot; +\r\n                    AWS_ACCESS_KEY + &quot;&amp;Signature=&quot; + signature;\r\n        } catch (UnsupportedEncodingException ex) {\r\n            Logger.getLogger(Utilities.class.getName()).log(Level.SEVERE, null, ex);\r\n        } catch (NoSuchAlgorithmException nsae) {\r\n\r\n        } catch (InvalidKeyException ike) {\r\n\r\n        }\r\n        \r\n        System.out.println(&quot;URL IS :&quot;+URL);\r\n        return URL;\r\n    }\r\n\r\nAnd at client side:\r\n\r\n        var xhr = new XMLHttpRequest();\r\n                    \r\n        xhr.addEventListener(&quot;load&quot;, deleteComplete, false);\r\n\r\n        xhr.open(&#39;DELETE&#39;, URL_GENERATED_FROM_SERVER, true); \r\n                    \r\n        xhr.setRequestHeader (&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n\r\n        xhr.send();\r\n\r\nUsing this code for downloading an object from amazon s3 bucket works fine by replacing &#39;DELETE&#39; request with &#39;GET&#39;. But delete is not working. I have searched a lot but there is very less help available for rest API.","title":"Delete amazon s3 object by versionId using rest API","body":"<p>I am trying to delete amazon s3 object using rest API but not getting any success. I have created the URL(signed url) at server side using java and then made XHR request to that URL at client side(i.e. from browser).</p>\n\n<p>Java code that i have used to sign the url:</p>\n\n<pre><code>    public static String getSignedURL(String fileName, int fileOwnerId, String versionId){\n    Date expiration = new Date();\n    long milliSeconds = expiration.getTime();\n    milliSeconds += 1000 * 60 * 10; // Add 10 minutes.\n    long seconds = (milliSeconds)/1000L;\n    String URL = null;\n\n    try {\n        String encodedFileName = URLEncoder.encode(fileName, \"UTF-8\").replaceAll(\"\\\\+\", \"%20\");\n        String canonicalizedResource = \"/\"+AWS_BUCKET_NAME+\"/\" + fileOwnerId + \"/\" + encodedFileName;\n        String stringToSign = \"DELETE\\n\\n\\n\" + seconds + \"\\n\" + canonicalizedResource +\"?versionId=\"+versionId;\n        byte[] keyBytes = AWS_SECRET_API_KEY.getBytes();\n        SecretKeySpec signingKey = new SecretKeySpec(keyBytes, \"HmacSHA1\");\n\n        Mac mac = Mac.getInstance(\"HmacSHA1\");\n        mac.init(signingKey);\n\n        byte[] digest = mac.doFinal(stringToSign.getBytes());\n        byte[] base64bytes = Base64.encodeBase64(digest);\n        String signedString = new String(base64bytes, \"UTF-8\");\n\n        String signature = URLEncoder.encode(signedString, \"UTF-8\");\n\n        URL = \"https://\"+AWS_BUCKET_NAME+\".s3.amazonaws.com/\" + fileOwnerId +\n                \"/\" + encodedFileName +\"?versionId=\"+versionId +\"&amp;Expires=\" + seconds+\"&amp;AWSAccessKeyId=\" +\n                AWS_ACCESS_KEY + \"&amp;Signature=\" + signature;\n    } catch (UnsupportedEncodingException ex) {\n        Logger.getLogger(Utilities.class.getName()).log(Level.SEVERE, null, ex);\n    } catch (NoSuchAlgorithmException nsae) {\n\n    } catch (InvalidKeyException ike) {\n\n    }\n\n    System.out.println(\"URL IS :\"+URL);\n    return URL;\n}\n</code></pre>\n\n<p>And at client side:</p>\n\n<pre><code>    var xhr = new XMLHttpRequest();\n\n    xhr.addEventListener(\"load\", deleteComplete, false);\n\n    xhr.open('DELETE', URL_GENERATED_FROM_SERVER, true); \n\n    xhr.setRequestHeader (\"Access-Control-Allow-Origin\", \"*\");\n\n    xhr.send();\n</code></pre>\n\n<p>Using this code for downloading an object from amazon s3 bucket works fine by replacing 'DELETE' request with 'GET'. But delete is not working. I have searched a lot but there is very less help available for rest API.</p>\n"},{"tags":["java","android","visualizer"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1678558550,"post_id":75707745,"comment_id":133558174,"body_markdown":"Cool idea! Just a side note but Android has been Kotlin-first since 2019, if it&#39;s a new app I&#39;d recommend writing it in Kotlin: https://developer.android.com/kotlin/first","body":"Cool idea! Just a side note but Android has been Kotlin-first since 2019, if it&#39;s a new app I&#39;d recommend writing it in Kotlin: <a href=\"https://developer.android.com/kotlin/first\" rel=\"nofollow noreferrer\">developer.android.com/kotlin/first</a>"}],"owner":{"account_id":27990743,"reputation":1,"user_id":21376668,"display_name":"Antonio D&#39;Alessandro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678597790,"creation_date":1678557569,"question_id":75707745,"body_markdown":"I&#39;m new to android and I&#39;m working on an app as a project. This app should make the flashlight turn on/off at the same rythm of the output music of the smartphone. I thought about using the android class Visualizer (https://developer.android.com/reference/android/media/audiofx/Visualizer\r\nas reference) but I honestly have no idea on how to implement this class given the fairly little docoumentation attached.\r\nI&#39;m not even sure it&#39;s even doable :(\r\n\r\nI would have tried something but I didn&#39;t even know where i could start from. I did a flashing light code activated by a Toggle though:\r\n\r\n\r\n```\r\npackage com.example.myapplication;\r\nimport android.annotation.TargetApi;\r\n\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.hardware.camera2.CameraAccessException;\r\nimport android.hardware.camera2.CameraManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.widget.ToggleButton;\r\nimport android.support.v7.app.AppCompatActivity;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private StroboRunner stroboRunner;\r\n    private Thread t;\r\n    public Context mContext;\r\n    private CameraManager mCameraManager;\r\n    private String cameraId;\r\n    public ToggleButton toggle;\r\n    private boolean stopFlicker = false;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {        // quando apriamo l&#39;app\r\n        super.onCreate(savedInstanceState);     // apri le impostazioni precedeti\r\n        setContentView(R.layout.activity_main);     // apri il codice XML\r\n        toggle = (ToggleButton) findViewById(R.id.toggle);\r\n        mContext = this;\r\n        checkForResources();\r\n\r\n    }\r\n\r\n    private void setToggleButtonBehaviour() {\r\n\r\n        //Using toggle button with background image\r\n        toggle.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\r\n            if (isChecked) {\r\n                stroboRunner = new StroboRunner();\r\n                t = new Thread(stroboRunner);\r\n                t.start();\r\n                // The toggle is enabled\r\n                if (t != null) {\r\n                    stopFlicker = false;\r\n                    t = null;\r\n                }\r\n\r\n\r\n            } else {\r\n                // The toggle is disabled\r\n\r\n                stopFlicker = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    private class StroboRunner implements Runnable {\r\n\r\n        public void run() {\r\n            try {\r\n                while (!stopFlicker) {\r\n                    setFlashOn(true);\r\n                    Thread.sleep(125 / 2);\r\n                    setFlashOn(false);\r\n                    Thread.sleep(125 / 2);\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                e.getStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private void checkForResources() {\r\n        PackageManager pm = mContext.getPackageManager();\r\n\r\n        /*Checking availability of required camera hardware*/\r\n        if (!pm.hasSystemFeature(PackageManager.FEATURE_CAMERA_ANY)) {\r\n\r\n        } else {\r\n//            initialiseResources();\r\n            initialiseResourcesCamera2();\r\n            setToggleButtonBehaviour();\r\n\r\n        }\r\n\r\n    }\r\n\r\n    @TargetApi(Build.VERSION_CODES.M)\r\n    private void initialiseResourcesCamera2() {\r\n\r\n        mCameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\r\n\r\n        try {\r\n            cameraId = mCameraManager.getCameraIdList()[0];\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n//        checkForCameraPermission();\r\n    }\r\n\r\n\r\n    private void setFlashOn(Boolean enable) {\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            try {\r\n                mCameraManager.setTorchMode(cameraId, enable);\r\n            } catch (CameraAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Android Flashlight blinking at rythm of the (output) music","body":"<p>I'm new to android and I'm working on an app as a project. This app should make the flashlight turn on/off at the same rythm of the output music of the smartphone. I thought about using the android class Visualizer (<a href=\"https://developer.android.com/reference/android/media/audiofx/Visualizer\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/media/audiofx/Visualizer</a>\nas reference) but I honestly have no idea on how to implement this class given the fairly little docoumentation attached.\nI'm not even sure it's even doable :(</p>\n<p>I would have tried something but I didn't even know where i could start from. I did a flashing light code activated by a Toggle though:</p>\n<pre><code>package com.example.myapplication;\nimport android.annotation.TargetApi;\n\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.hardware.camera2.CameraAccessException;\nimport android.hardware.camera2.CameraManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.widget.ToggleButton;\nimport android.support.v7.app.AppCompatActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private StroboRunner stroboRunner;\n    private Thread t;\n    public Context mContext;\n    private CameraManager mCameraManager;\n    private String cameraId;\n    public ToggleButton toggle;\n    private boolean stopFlicker = false;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {        // quando apriamo l'app\n        super.onCreate(savedInstanceState);     // apri le impostazioni precedeti\n        setContentView(R.layout.activity_main);     // apri il codice XML\n        toggle = (ToggleButton) findViewById(R.id.toggle);\n        mContext = this;\n        checkForResources();\n\n    }\n\n    private void setToggleButtonBehaviour() {\n\n        //Using toggle button with background image\n        toggle.setOnCheckedChangeListener((buttonView, isChecked) -&gt; {\n            if (isChecked) {\n                stroboRunner = new StroboRunner();\n                t = new Thread(stroboRunner);\n                t.start();\n                // The toggle is enabled\n                if (t != null) {\n                    stopFlicker = false;\n                    t = null;\n                }\n\n\n            } else {\n                // The toggle is disabled\n\n                stopFlicker = true;\n            }\n        });\n    }\n\n    private class StroboRunner implements Runnable {\n\n        public void run() {\n            try {\n                while (!stopFlicker) {\n                    setFlashOn(true);\n                    Thread.sleep(125 / 2);\n                    setFlashOn(false);\n                    Thread.sleep(125 / 2);\n                }\n\n            } catch (Exception e) {\n                e.getStackTrace();\n            }\n        }\n    }\n\n\n    private void checkForResources() {\n        PackageManager pm = mContext.getPackageManager();\n\n        /*Checking availability of required camera hardware*/\n        if (!pm.hasSystemFeature(PackageManager.FEATURE_CAMERA_ANY)) {\n\n        } else {\n//            initialiseResources();\n            initialiseResourcesCamera2();\n            setToggleButtonBehaviour();\n\n        }\n\n    }\n\n    @TargetApi(Build.VERSION_CODES.M)\n    private void initialiseResourcesCamera2() {\n\n        mCameraManager = (CameraManager) getSystemService(Context.CAMERA_SERVICE);\n\n        try {\n            cameraId = mCameraManager.getCameraIdList()[0];\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n\n//        checkForCameraPermission();\n    }\n\n\n    private void setFlashOn(Boolean enable) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            try {\n                mCameraManager.setTorchMode(cameraId, enable);\n            } catch (CameraAccessException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","rest","jackson"],"owner":{"account_id":2463701,"reputation":784,"user_id":2147260,"accept_rate":22,"display_name":"Nabeel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678597305,"creation_date":1678534197,"question_id":75704606,"body_markdown":"In my Spring Boot application, I am typing to expose a rest end point that accepts a `Message` object as parameter. Depending on the type `Message` can have different implementation i.e. MMS or SMS etc.\r\n\r\nI am using Message class with `JsonTypeInfo` and `JsonSubTypes` for sub classes\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;type&quot;, defaultImpl = GenericMessage.class, visible = true)\r\n    @JsonSubTypes({@JsonSubTypes.Type(value = MMS.class, name = &quot;MMS&quot;),\r\n            @JsonSubTypes.Type(value = Message.class, name = &quot;SMS&quot;)})\r\n    public class Message {\r\n        \r\n        @NotNull\r\n        @JsonProperty(&quot;type&quot;)\r\n        public String type;\r\n        protected String markdownText;\r\n    \r\n        public Message(){\r\n            this.type = MessageType.SMS;\r\n        }\r\n        public Message(String type){\r\n            this.type = type;\r\n        }\r\n        public String getType() {\r\n            return this.type;\r\n        }\r\n    \r\n        public String getMarkdownText() {\r\n            return this.markdownText;\r\n        }\r\n        public void setMarkdownText(String markdownText) {\r\n            this.markdownText = markdownText;\r\n        }\r\n        \r\n    }\r\n\r\n    public class MMS extends  Message{\r\n    \r\n    \r\n        private String mediaURL;\r\n        public MMS(){\r\n            super(MessageType.MMS);\r\n        }\r\n    \r\n        public String getMediaURL() {\r\n            return mediaURL;\r\n        }\r\n        public void setMediaURL(String mediaURL) {\r\n            this.mediaURL = mediaURL;\r\n        }\r\n    }\r\n\r\n    public class GenericMessage extends Message{\r\n    \r\n        private JsonNode jsonNode;\r\n        public GenericMessage(@JsonProperty(&quot;type&quot;) String type) {\r\n            super(type);\r\n        }\r\n        public JsonNode getJsonNode() {\r\n            return jsonNode;\r\n        }\r\n        public void setJsonNode(JsonNode jsonNode) {\r\n            this.jsonNode = jsonNode;\r\n        }\r\n    \r\n    }\r\n\r\n    public interface MessageType {\r\n        String SMS = &quot;SMS&quot;;\r\n        String MMS = &quot;MMS&quot;;\r\n    }\r\n\r\nMy requirement is Jackson must de-serialize into the appropriate subclass if the user gives the `SMS` or `MMS` type, and it must convert all other types to `GenericMessage` \r\n\r\nAs illustrated below, Jackson adds an additional &quot;type&quot; field with the same value in the de-serialized JSON for know types and for unknown types the Jackson is adding extra `type` property with different values(class name, input type) in de-serialized JSON.\r\n\r\nTest1 : `{&quot;type&quot; : &quot;SMS&quot;,&quot;markdownText&quot;: &quot;hi&quot;}`\r\n\r\nDe-serialized JSON : `{ &quot;type&quot;: &quot;SMS&quot;,&quot;markdownText&quot;: &quot;hi&quot;,&quot;type&quot;: &quot;SMS&quot;}`\r\n\r\n \r\nTest2  : `{&quot;type&quot; : &quot;AUDIO&quot;,&quot;markdownText&quot;: &quot;hi&quot;}`\r\n\r\nDe-serialized JSON : `{ &quot;type&quot;: &quot;GenericMessage&quot;, &quot;type&quot;: &quot;AUDIO&quot;, &quot;markdownText&quot;: &quot;hi&quot;, &quot;jsonNode&quot;: null\r\n}`\r\n\r\nI&#39;m trying to find a way to achieve the following results: \r\n\r\nTest1 : `{&quot;type&quot; : &quot;SMS&quot;,&quot;markdownText&quot;: &quot;hi&quot;}`\r\n\r\nDesired JSON : `{ &quot;type&quot;: &quot;SMS&quot;,&quot;markdownText&quot;: &quot;hi&quot;}`\r\n\r\nTest 2 : `{&quot;type&quot; : &quot;AUDIO&quot;,&quot;markdownText&quot;: &quot;hi&quot;}`\r\n\r\nDesired JSON (Ideal) : `{ &quot;type&quot;: &quot;AUDIO&quot;, &quot;markdownText&quot;: &quot;hi&quot;, &quot;jsonNode&quot;: null\r\n}`\r\n\r\n or\r\n\r\nDesired JSON (Accepted) : `{ &quot;type&quot;: &quot;AUDIO&quot; ,&quot;type&quot;: &quot;AUDIO&quot;, &quot;markdownText&quot;: &quot;hi&quot;, &quot;jsonNode&quot;: null\r\n}`\r\n\r\n\r\n\r\n","title":"Jackson deserialization into subtypes with default implementation","body":"<p>In my Spring Boot application, I am typing to expose a rest end point that accepts a <code>Message</code> object as parameter. Depending on the type <code>Message</code> can have different implementation i.e. MMS or SMS etc.</p>\n<p>I am using Message class with <code>JsonTypeInfo</code> and <code>JsonSubTypes</code> for sub classes</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;type&quot;, defaultImpl = GenericMessage.class, visible = true)\n@JsonSubTypes({@JsonSubTypes.Type(value = MMS.class, name = &quot;MMS&quot;),\n        @JsonSubTypes.Type(value = Message.class, name = &quot;SMS&quot;)})\npublic class Message {\n    \n    @NotNull\n    @JsonProperty(&quot;type&quot;)\n    public String type;\n    protected String markdownText;\n\n    public Message(){\n        this.type = MessageType.SMS;\n    }\n    public Message(String type){\n        this.type = type;\n    }\n    public String getType() {\n        return this.type;\n    }\n\n    public String getMarkdownText() {\n        return this.markdownText;\n    }\n    public void setMarkdownText(String markdownText) {\n        this.markdownText = markdownText;\n    }\n    \n}\n\npublic class MMS extends  Message{\n\n\n    private String mediaURL;\n    public MMS(){\n        super(MessageType.MMS);\n    }\n\n    public String getMediaURL() {\n        return mediaURL;\n    }\n    public void setMediaURL(String mediaURL) {\n        this.mediaURL = mediaURL;\n    }\n}\n\npublic class GenericMessage extends Message{\n\n    private JsonNode jsonNode;\n    public GenericMessage(@JsonProperty(&quot;type&quot;) String type) {\n        super(type);\n    }\n    public JsonNode getJsonNode() {\n        return jsonNode;\n    }\n    public void setJsonNode(JsonNode jsonNode) {\n        this.jsonNode = jsonNode;\n    }\n\n}\n\npublic interface MessageType {\n    String SMS = &quot;SMS&quot;;\n    String MMS = &quot;MMS&quot;;\n}\n</code></pre>\n<p>My requirement is Jackson must de-serialize into the appropriate subclass if the user gives the <code>SMS</code> or <code>MMS</code> type, and it must convert all other types to <code>GenericMessage</code></p>\n<p>As illustrated below, Jackson adds an additional &quot;type&quot; field with the same value in the de-serialized JSON for know types and for unknown types the Jackson is adding extra <code>type</code> property with different values(class name, input type) in de-serialized JSON.</p>\n<p>Test1 : <code>{&quot;type&quot; : &quot;SMS&quot;,&quot;markdownText&quot;: &quot;hi&quot;}</code></p>\n<p>De-serialized JSON : <code>{ &quot;type&quot;: &quot;SMS&quot;,&quot;markdownText&quot;: &quot;hi&quot;,&quot;type&quot;: &quot;SMS&quot;}</code></p>\n<p>Test2  : <code>{&quot;type&quot; : &quot;AUDIO&quot;,&quot;markdownText&quot;: &quot;hi&quot;}</code></p>\n<p>De-serialized JSON : <code>{ &quot;type&quot;: &quot;GenericMessage&quot;, &quot;type&quot;: &quot;AUDIO&quot;, &quot;markdownText&quot;: &quot;hi&quot;, &quot;jsonNode&quot;: null }</code></p>\n<p>I'm trying to find a way to achieve the following results:</p>\n<p>Test1 : <code>{&quot;type&quot; : &quot;SMS&quot;,&quot;markdownText&quot;: &quot;hi&quot;}</code></p>\n<p>Desired JSON : <code>{ &quot;type&quot;: &quot;SMS&quot;,&quot;markdownText&quot;: &quot;hi&quot;}</code></p>\n<p>Test 2 : <code>{&quot;type&quot; : &quot;AUDIO&quot;,&quot;markdownText&quot;: &quot;hi&quot;}</code></p>\n<p>Desired JSON (Ideal) : <code>{ &quot;type&quot;: &quot;AUDIO&quot;, &quot;markdownText&quot;: &quot;hi&quot;, &quot;jsonNode&quot;: null }</code></p>\n<p>or</p>\n<p>Desired JSON (Accepted) : <code>{ &quot;type&quot;: &quot;AUDIO&quot; ,&quot;type&quot;: &quot;AUDIO&quot;, &quot;markdownText&quot;: &quot;hi&quot;, &quot;jsonNode&quot;: null }</code></p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678605234,"post_id":75710550,"comment_id":133563506,"body_markdown":"Intellij supports several modes of project types.\n1. Maven (pom.xml)\n2. Gradle (build.gradle)\nFor the above two, after Intellij opens the project directory, it can automatically configure the relevant JDK and Classpath ( xxxx.jar ), Source Code directory, compiled output directory, etc. according to pom.xml and build.gradle\n\n3. IntelliJ project\nYou need to manually set the JDK environment, Source Code directory, compiled output directory, etc., as well as the required Classpath (xxxx.jar),","body":"Intellij supports several modes of project types. 1. Maven (pom.xml) 2. Gradle (build.gradle) For the above two, after Intellij opens the project directory, it can automatically configure the relevant JDK and Classpath ( xxxx.jar ), Source Code directory, compiled output directory, etc. according to pom.xml and build.gradle  3. IntelliJ project You need to manually set the JDK environment, Source Code directory, compiled output directory, etc., as well as the required Classpath (xxxx.jar),"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678605238,"post_id":75710550,"comment_id":133563508,"body_markdown":"Finally, you need to configure Configuration, whether to use Current File or specify a specific Java file as the Java program to be executed","body":"Finally, you need to configure Configuration, whether to use Current File or specify a specific Java file as the Java program to be executed"}],"answers":[{"tags":[],"owner":{"account_id":27649603,"reputation":26,"user_id":21104814,"display_name":"Pavel Maslov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678595538,"creation_date":1678595020,"answer_id":75711034,"question_id":75710550,"body_markdown":"Check in Project Settings (in IDEA) if JDK is set.\r\nIt is the first reason why project can&#39;t be built (when JDK is not set)\r\n\r\nThen IDEA automatically launches project building, but if it doesn&#39;t you should do it manually.\r\nDepends on building manager you use: maven or gradle you need to run the appropriate command in IDEA CLI or found the tab (often on left side of GUI) and launch procedure by clicking at &quot;refresh&quot; button.\r\n\r\nAfter project is built icons of packages, classes, resources will be changed and IDEA provide you some extra editor lightnings and marks and oppotunity to start or debug Spring project (in your case).\r\n\r\nShortly, main reason why you can&#39;t start your cloned project is that you don&#39;t clone the rules for building with it (I guess), so IDEA doesn&#39;t see what to do and does nothing and you don&#39;t get dependensies that are nessesary for successful start of project.\r\n\r\nTo deeply understand try:\r\n 1. check JDK (as I mentioned above)\r\n 2. make sure that build file is present in root (pom.xml or gradle.build)\r\n 3. manually launch the build\r\nAfter that you should get desirable result.\r\n\r\nFor details of work you can read information for your manager (maven, gradle)","title":"How to get spring boot Initializr project working in Intellij","body":"<p>Check in Project Settings (in IDEA) if JDK is set.\nIt is the first reason why project can't be built (when JDK is not set)</p>\n<p>Then IDEA automatically launches project building, but if it doesn't you should do it manually.\nDepends on building manager you use: maven or gradle you need to run the appropriate command in IDEA CLI or found the tab (often on left side of GUI) and launch procedure by clicking at &quot;refresh&quot; button.</p>\n<p>After project is built icons of packages, classes, resources will be changed and IDEA provide you some extra editor lightnings and marks and oppotunity to start or debug Spring project (in your case).</p>\n<p>Shortly, main reason why you can't start your cloned project is that you don't clone the rules for building with it (I guess), so IDEA doesn't see what to do and does nothing and you don't get dependensies that are nessesary for successful start of project.</p>\n<p>To deeply understand try:</p>\n<ol>\n<li>check JDK (as I mentioned above)</li>\n<li>make sure that build file is present in root (pom.xml or gradle.build)</li>\n<li>manually launch the build\nAfter that you should get desirable result.</li>\n</ol>\n<p>For details of work you can read information for your manager (maven, gradle)</p>\n"}],"owner":{"account_id":17654983,"reputation":115,"user_id":12814777,"display_name":"dataman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678595538,"creation_date":1678583753,"question_id":75710550,"body_markdown":"When I unzip a maven zip from the initializr site and open in Intellij, a green arrow appears in the gutter to the left of the main method of the application java file, so I can start running the project.\r\n\r\nWhat exactly causes that arrow to appear automatically? \r\n\r\nI ask because I cloned one of my projects and that green arrow does not appear like it does from the source of the clone, so I need to determine what configuration setting is wrong or missing.  That file does not have a C next to it until I mark the src directory as a sources root, and after that, the annotations are in red since I guess the classpath isn&#39;t configured, and I want to know how these settings got automatically picked up by a vanilla file extracted from the initializr site","title":"How to get spring boot Initializr project working in Intellij","body":"<p>When I unzip a maven zip from the initializr site and open in Intellij, a green arrow appears in the gutter to the left of the main method of the application java file, so I can start running the project.</p>\n<p>What exactly causes that arrow to appear automatically?</p>\n<p>I ask because I cloned one of my projects and that green arrow does not appear like it does from the source of the clone, so I need to determine what configuration setting is wrong or missing.  That file does not have a C next to it until I mark the src directory as a sources root, and after that, the annotations are in red since I guess the classpath isn't configured, and I want to know how these settings got automatically picked up by a vanilla file extracted from the initializr site</p>\n"},{"tags":["java","api","amazon-advertising-api"],"comments":[{"owner":{"account_id":1992413,"reputation":369,"user_id":1786147,"display_name":"Mr.Java"},"score":0,"creation_date":1465976092,"post_id":4753216,"comment_id":63120042,"body_markdown":"and 5 years later again the documentation does not match the solution that needs to be implemented so you can make SOAP calls to the api, i had to read all the stack overflow questions and try millions different code combinations so i can make the solution to work\n\nMaybe for the REST calls this is little bit easy","body":"and 5 years later again the documentation does not match the solution that needs to be implemented so you can make SOAP calls to the api, i had to read all the stack overflow questions and try millions different code combinations so i can make the solution to work  Maybe for the REST calls this is little bit easy"}],"answers":[{"tags":[],"owner":{"account_id":144735,"reputation":9875,"user_id":354009,"accept_rate":92,"display_name":"Igor Popov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311934315,"creation_date":1311934315,"answer_id":6871584,"question_id":4753216,"body_markdown":"To generate the Product Advertising API Client Side Library stubs\r\n-----------------------------------------------------------------\r\n\r\n**1. Go to the directory where you want to generate the stubs and create a &quot;build&quot; directory and a &quot;src&quot; directory.** All of the generated source code will go under the &quot;src&quot; folder.\r\n\r\n**2. Create a custom binding to disable &quot;Wrapper Style&quot; code generation.**\r\n\r\n    &lt;jaxws:bindings\r\n\twsdlLocation=&quot;http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl&quot;\r\n\txmlns:jaxws=&quot;http://java.sun.com/xml/ns/jaxws&quot;&gt;\r\n\t&lt;jaxws:enableWrapperStyle&gt;false&lt;/jaxws:enableWrapperStyle&gt;\r\n&lt;/jaxws:bindings&gt;\r\n\r\nThis step is necessary because the IDE does not support wrapper style generated code.\r\n\r\n**3. Run the command:**\r\n\r\n`wsimport -d ./build -s ./src  -p com.ECS.client.jax http://ecs.amazonaws.com/AWSECommerceService/AWSECommerceService.wsdl -b jaxws-custom.xml .`\r\n\r\nYou can find the generated stubs in the path, com.ECS.client.jax .\r\n\r\n***[Extract from the docs (page 10 from the pdf file)][1]***\r\n\r\n\r\n  [1]: http://s3.amazonaws.com/awsdocs/Associates/2010-11-01/prod-adv-api-gsg-2010-11-01.pdf","title":"Amazon Product Advertising API does not Match Documentation (Java)?","body":"<h2>To generate the Product Advertising API Client Side Library stubs</h2>\n\n<p><strong>1. Go to the directory where you want to generate the stubs and create a \"build\" directory and a \"src\" directory.</strong> All of the generated source code will go under the \"src\" folder.</p>\n\n<p><strong>2. Create a custom binding to disable \"Wrapper Style\" code generation.</strong></p>\n\n<pre><code>&lt;jaxws:bindings\nwsdlLocation=\"http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl\"\nxmlns:jaxws=\"http://java.sun.com/xml/ns/jaxws\"&gt;\n&lt;jaxws:enableWrapperStyle&gt;false&lt;/jaxws:enableWrapperStyle&gt;\n</code></pre>\n\n<p></p>\n\n<p>This step is necessary because the IDE does not support wrapper style generated code.</p>\n\n<p><strong>3. Run the command:</strong></p>\n\n<p><code>wsimport -d ./build -s ./src  -p com.ECS.client.jax <a href=\"http://ecs.amazonaws.com/AWSECommerceService/AWSECommerceService.wsdl\" rel=\"nofollow\">http://ecs.amazonaws.com/AWSECommerceService/AWSECommerceService.wsdl</a> -b jaxws-custom.xml .</code></p>\n\n<p>You can find the generated stubs in the path, com.ECS.client.jax .</p>\n\n<p><em><strong><a href=\"http://s3.amazonaws.com/awsdocs/Associates/2010-11-01/prod-adv-api-gsg-2010-11-01.pdf\" rel=\"nofollow\">Extract from the docs (page 10 from the pdf file)</a></em></strong></p>\n"}],"owner":{"account_id":698022,"reputation":31,"user_id":583679,"display_name":"Scott"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1000,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678594913,"creation_date":1295561356,"question_id":4753216,"body_markdown":"I&#39;m using the tutorial for Amazon Product Advertising API ([here][1]) for Java.  I&#39;ve generated the client code via the WSDL they provide.  When going through the code for an ItemLookup, I get to a section where I reference AWSECommerceServicePortType.itemLookup() by passing in an ItemLookup object, I get a compile error.  It seems that .itemLookup() is actually looking for quite a number of params - in other words, the method signature does not match the tutorial.  What am I missing? \r\n\r\n  [1]: http://docs.amazonwebservices.com/AWSECommerceService/latest/GSG/index.html?YourDevelopmentEnvironment.html","title":"Amazon Product Advertising API does not Match Documentation (Java)?","body":"<p>I'm using the tutorial for Amazon Product Advertising API (<a href=\"http://docs.amazonwebservices.com/AWSECommerceService/latest/GSG/index.html?YourDevelopmentEnvironment.html\" rel=\"nofollow noreferrer\">here</a>) for Java.  I've generated the client code via the WSDL they provide.  When going through the code for an ItemLookup, I get to a section where I reference AWSECommerceServicePortType.itemLookup() by passing in an ItemLookup object, I get a compile error.  It seems that .itemLookup() is actually looking for quite a number of params - in other words, the method signature does not match the tutorial.  What am I missing?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","redirect"],"answers":[{"tags":[],"owner":{"account_id":4353759,"reputation":543,"user_id":3666206,"accept_rate":40,"display_name":"BAMF4bacon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532618686,"creation_date":1532618686,"answer_id":51542457,"question_id":51542446,"body_markdown":"Using the static function below solves the problem.\r\n\r\n    import org.apache.http.*;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.impl.client.HttpClientBuilder;\r\n    import org.apache.http.message.BasicHeader;\r\n    import org.apache.http.protocol.HttpContext;\r\n\r\n    import java.io.*;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n\r\n\r\n    import static org.apache.commons.io.FileUtils.copyURLToFile;\r\n\r\n    /**  To intercept AMS redirects to S3, which requires removing authorization header since redirect is signed\r\n     *\r\n     *   Counteracts the error message\r\n     *   &lt;Error&gt;&lt;Code&gt;InvalidArgument&lt;/Code&gt;&lt;Message&gt;Only one auth mechanism allowed; only the X-Amz-Algorithm query parameter, Signature query string parameter or the Authorization header should be specified&lt;/Message&gt;\r\n     **/\r\n    public class AMSDownloadInterceptor implements HttpResponseInterceptor {\r\n\r\n        String filePath;\r\n        int count;\r\n\r\n        public AMSDownloadInterceptor(String filenameAndPath) {\r\n            filePath = filenameAndPath;\r\n            count = 0;\r\n        }\r\n\r\n        /**\r\n         *      * This function call has done, HttpURLConnection.setFollowRedirects(false);\r\n         *      * you may need to HttpURLConnection.setFollowRedirects(true);\r\n         * @param httpResponse\r\n         * @param httpContext\r\n         * @throws HttpException\r\n         * @throws IOException\r\n         */\r\n        @Override\r\n        public void process(HttpResponse httpResponse, HttpContext httpContext) throws HttpException, IOException {\r\n\r\n            //do nothing on the subsequent redirectURL call\r\n            if (count == 0) {\r\n                //TODO is this too hack-a-licious to not be robust?\r\n                String redirectUrl = httpContext.getAttribute(&quot;http.response&quot;).toString().split(&quot;,&quot;)[5].substring(11);\r\n                System.err.println(&quot;\\t\\t\\tDownloading to\\t&quot;+filePath+&quot;\\tfrom\\t&quot; +redirectUrl);\r\n                copyURLToFile(new URL(redirectUrl), new File(filePath));\r\n                HttpURLConnection.setFollowRedirects(false);\r\n            }\r\n            count++;\r\n        }\r\n\r\n        /**\r\n         * Fetch a file requiring authentication to a temporary redirect (307)\r\n         * Response modified to return status 200, but is not perfect\r\n         *\r\n\r\n         *\r\n         * @param amazonS3URL\r\n         * @param filenameAndPath\r\n         * @param accessToken       authentication token\r\n         * @param AMS_API_SCOPE     currently &quot;1903489005170091&quot;\r\n         * @return  modified HttpResponse, overriding the failed second http call to malformed redirect URL\r\n         */\r\n        public static HttpResponse downloadViaRedirect(String amazonS3URL, String filenameAndPath, String accessToken, String AMS_API_SCOPE) throws IOException {\r\n\r\n            HttpResponse result = null;\r\n            AMSDownloadInterceptor downloader = new AMSDownloadInterceptor(filenameAndPath);\r\n            HttpClient clientFileInterceptor = HttpClientBuilder.create().addInterceptorFirst(downloader).build();\r\n            HttpGet get = new HttpGet(amazonS3URL);\r\n            get.setHeader(new BasicHeader(HttpHeaders.AUTHORIZATION, &quot;Bearer &quot; + accessToken));\r\n            get.setHeader(new BasicHeader(&quot;Amazon-Advertising-API-Scope&quot;, AMS_API_SCOPE));\r\n\r\n            //HttpURLConnection.setFollowRedirects(false);\r\n            HttpResponse hr = clientFileInterceptor.execute(get);\r\n            HttpURLConnection.setFollowRedirects(true);\r\n\r\n            hr.setStatusCode(200);\r\n            hr.setReasonPhrase(&quot;URL redirect downloaded &quot;+amazonS3URL);\r\n            hr.setEntity(new HttpEntity() {\r\n                String result = &quot;{\\&quot;statusDetails\\&quot;:\\&quot;File successfully downloaded.\\&quot;,\\&quot;status\\&quot;:\\&quot;SUCCESS\\&quot;}&quot;;\r\n                @Override\r\n                public boolean isRepeatable() {\r\n                    return true;\r\n                }\r\n\r\n                @Override\r\n                public boolean isChunked() {\r\n                    return false;\r\n                }\r\n\r\n                @Override\r\n                public long getContentLength() {\r\n                    return result.length();\r\n                }\r\n\r\n                @Override\r\n                public Header getContentType() {\r\n                    return null;\r\n                }\r\n\r\n                @Override\r\n                public Header getContentEncoding() {\r\n                    return null;\r\n                }\r\n\r\n                @Override\r\n                public InputStream getContent() throws IOException, UnsupportedOperationException {\r\n                    return new ByteArrayInputStream(result.getBytes(&quot;UTF-8&quot;));\r\n                }\r\n\r\n                @Override\r\n                public void writeTo(OutputStream outputStream) throws IOException {\r\n\r\n                }\r\n\r\n                @Override\r\n                public boolean isStreaming() {\r\n                    return false;\r\n                }\r\n\r\n                @Override\r\n                public void consumeContent() throws IOException {\r\n\r\n                }\r\n            });\r\n\r\n            return result;\r\n        }\r\n    }","title":"How to fix &quot;Only one auth mechanism allowed; only the X-Amz-Algorithm query parameter...&quot;","body":"<p>Using the static function below solves the problem.</p>\n\n<pre><code>import org.apache.http.*;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.message.BasicHeader;\nimport org.apache.http.protocol.HttpContext;\n\nimport java.io.*;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\n\nimport static org.apache.commons.io.FileUtils.copyURLToFile;\n\n/**  To intercept AMS redirects to S3, which requires removing authorization header since redirect is signed\n *\n *   Counteracts the error message\n *   &lt;Error&gt;&lt;Code&gt;InvalidArgument&lt;/Code&gt;&lt;Message&gt;Only one auth mechanism allowed; only the X-Amz-Algorithm query parameter, Signature query string parameter or the Authorization header should be specified&lt;/Message&gt;\n **/\npublic class AMSDownloadInterceptor implements HttpResponseInterceptor {\n\n    String filePath;\n    int count;\n\n    public AMSDownloadInterceptor(String filenameAndPath) {\n        filePath = filenameAndPath;\n        count = 0;\n    }\n\n    /**\n     *      * This function call has done, HttpURLConnection.setFollowRedirects(false);\n     *      * you may need to HttpURLConnection.setFollowRedirects(true);\n     * @param httpResponse\n     * @param httpContext\n     * @throws HttpException\n     * @throws IOException\n     */\n    @Override\n    public void process(HttpResponse httpResponse, HttpContext httpContext) throws HttpException, IOException {\n\n        //do nothing on the subsequent redirectURL call\n        if (count == 0) {\n            //TODO is this too hack-a-licious to not be robust?\n            String redirectUrl = httpContext.getAttribute(\"http.response\").toString().split(\",\")[5].substring(11);\n            System.err.println(\"\\t\\t\\tDownloading to\\t\"+filePath+\"\\tfrom\\t\" +redirectUrl);\n            copyURLToFile(new URL(redirectUrl), new File(filePath));\n            HttpURLConnection.setFollowRedirects(false);\n        }\n        count++;\n    }\n\n    /**\n     * Fetch a file requiring authentication to a temporary redirect (307)\n     * Response modified to return status 200, but is not perfect\n     *\n\n     *\n     * @param amazonS3URL\n     * @param filenameAndPath\n     * @param accessToken       authentication token\n     * @param AMS_API_SCOPE     currently \"1903489005170091\"\n     * @return  modified HttpResponse, overriding the failed second http call to malformed redirect URL\n     */\n    public static HttpResponse downloadViaRedirect(String amazonS3URL, String filenameAndPath, String accessToken, String AMS_API_SCOPE) throws IOException {\n\n        HttpResponse result = null;\n        AMSDownloadInterceptor downloader = new AMSDownloadInterceptor(filenameAndPath);\n        HttpClient clientFileInterceptor = HttpClientBuilder.create().addInterceptorFirst(downloader).build();\n        HttpGet get = new HttpGet(amazonS3URL);\n        get.setHeader(new BasicHeader(HttpHeaders.AUTHORIZATION, \"Bearer \" + accessToken));\n        get.setHeader(new BasicHeader(\"Amazon-Advertising-API-Scope\", AMS_API_SCOPE));\n\n        //HttpURLConnection.setFollowRedirects(false);\n        HttpResponse hr = clientFileInterceptor.execute(get);\n        HttpURLConnection.setFollowRedirects(true);\n\n        hr.setStatusCode(200);\n        hr.setReasonPhrase(\"URL redirect downloaded \"+amazonS3URL);\n        hr.setEntity(new HttpEntity() {\n            String result = \"{\\\"statusDetails\\\":\\\"File successfully downloaded.\\\",\\\"status\\\":\\\"SUCCESS\\\"}\";\n            @Override\n            public boolean isRepeatable() {\n                return true;\n            }\n\n            @Override\n            public boolean isChunked() {\n                return false;\n            }\n\n            @Override\n            public long getContentLength() {\n                return result.length();\n            }\n\n            @Override\n            public Header getContentType() {\n                return null;\n            }\n\n            @Override\n            public Header getContentEncoding() {\n                return null;\n            }\n\n            @Override\n            public InputStream getContent() throws IOException, UnsupportedOperationException {\n                return new ByteArrayInputStream(result.getBytes(\"UTF-8\"));\n            }\n\n            @Override\n            public void writeTo(OutputStream outputStream) throws IOException {\n\n            }\n\n            @Override\n            public boolean isStreaming() {\n                return false;\n            }\n\n            @Override\n            public void consumeContent() throws IOException {\n\n            }\n        });\n\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171872,"reputation":53,"user_id":399562,"display_name":"Mario Garc&#237;a"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1567870921,"creation_date":1567870921,"answer_id":57835212,"question_id":51542446,"body_markdown":"Here&#39;s how I did this in Java.\r\n\r\n```\r\n\t// Set up the initial GET request with the required Amazon authorization headers\r\n\tHttpGet httpGet1 = new HttpGet(downloadUrl);\r\n\thttpGet1.setHeaders(authHeaders);\r\n\r\n\t// We need to tell HttpClient NOT to follow redirects because we need to handle this ourselves\r\n\tHttpParams params = new BasicHttpParams();\r\n\tparams.setParameter(ClientPNames.HANDLE_REDIRECTS, false);\r\n\thttpGet1.setParams(params);\r\n\r\n\tString location = null; // this will hold the location where you can download the file\r\n\t\r\n\ttry (CloseableHttpResponse response = httpClient.execute(httpGet1)) {\r\n\t\t\r\n\t\t// Check if we have a redirect\r\n\t\tif (response.getStatusLine().getStatusCode() == 307) {\r\n\t\t\t// The Location header has the download URL we need\r\n\t\t\tHeader hdr = response.getFirstHeader(&quot;Location&quot;);\r\n\t\t\t\r\n\t\t\t// This is the URL we are looking for \r\n\t\t\tlocation = hdr.getValue();\r\n\t\t}\r\n\t}\r\n\t\r\n\t// Now that we have the S3 download location we can build a GET request to fetch the contents\r\n\t// Do NOT include auth headers because the query string contains the auth parameters\r\n\t// This is a very short lived auth grant so we need to send the request within 30 secs\r\n\t\r\n\tHttpGet httpGet2 = new HttpGet(location);\r\n\t\r\n\ttry (CloseableHttpResponse response = httpClient.execute(httpGet2)) {\r\n\t\r\n\t\tHttpEntity entity = response.getEntity();\r\n\t\r\n\t\t// Handle the stream. In this case it will be gzipped\r\n\t\tGZIPInputStream gis = new GZIPInputStream(entity.getContent());\r\n\t\t\r\n\t\t// Do what you need to do with the data\r\n\t\t\r\n\t\t// ...\r\n\t}\r\n```\r\n","title":"How to fix &quot;Only one auth mechanism allowed; only the X-Amz-Algorithm query parameter...&quot;","body":"<p>Here's how I did this in Java.</p>\n\n<pre><code>    // Set up the initial GET request with the required Amazon authorization headers\n    HttpGet httpGet1 = new HttpGet(downloadUrl);\n    httpGet1.setHeaders(authHeaders);\n\n    // We need to tell HttpClient NOT to follow redirects because we need to handle this ourselves\n    HttpParams params = new BasicHttpParams();\n    params.setParameter(ClientPNames.HANDLE_REDIRECTS, false);\n    httpGet1.setParams(params);\n\n    String location = null; // this will hold the location where you can download the file\n\n    try (CloseableHttpResponse response = httpClient.execute(httpGet1)) {\n\n        // Check if we have a redirect\n        if (response.getStatusLine().getStatusCode() == 307) {\n            // The Location header has the download URL we need\n            Header hdr = response.getFirstHeader(\"Location\");\n\n            // This is the URL we are looking for \n            location = hdr.getValue();\n        }\n    }\n\n    // Now that we have the S3 download location we can build a GET request to fetch the contents\n    // Do NOT include auth headers because the query string contains the auth parameters\n    // This is a very short lived auth grant so we need to send the request within 30 secs\n\n    HttpGet httpGet2 = new HttpGet(location);\n\n    try (CloseableHttpResponse response = httpClient.execute(httpGet2)) {\n\n        HttpEntity entity = response.getEntity();\n\n        // Handle the stream. In this case it will be gzipped\n        GZIPInputStream gis = new GZIPInputStream(entity.getContent());\n\n        // Do what you need to do with the data\n\n        // ...\n    }\n</code></pre>\n"}],"owner":{"account_id":4353759,"reputation":543,"user_id":3666206,"accept_rate":40,"display_name":"BAMF4bacon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6561,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1678594423,"creation_date":1532618649,"question_id":51542446,"body_markdown":"Amazon API&#39;s often give you a URL to resource, which gives a redirect URL with 30s life as redirect.  However, usually the headers from the original request are carried over resulting in this error.  The redirect is processed with  authentication from signed redirect url, and the authentication header.\r\n\r\n","title":"How to fix &quot;Only one auth mechanism allowed; only the X-Amz-Algorithm query parameter...&quot;","body":"<p>Amazon API's often give you a URL to resource, which gives a redirect URL with 30s life as redirect.  However, usually the headers from the original request are carried over resulting in this error.  The redirect is processed with  authentication from signed redirect url, and the authentication header.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","download"],"comments":[{"owner":{"account_id":1337217,"reputation":41040,"user_id":1332690,"accept_rate":91,"display_name":"Charles Menguy"},"score":0,"creation_date":1359226654,"post_id":14539475,"comment_id":20280048,"body_markdown":"What is your question, does the above code not work?","body":"What is your question, does the above code not work?"},{"owner":{"account_id":1273101,"reputation":964,"user_id":1228945,"accept_rate":89,"display_name":"derigible"},"score":0,"creation_date":1359240605,"post_id":14539475,"comment_id":20283690,"body_markdown":"No, it doesn&#39;t. My question is whether or not I am missing something. I am very new to the SDK so I don&#39;t know if there is something more I need. The call to `tx.downloadDirectory(&quot;&lt;bucket&gt;&quot;, null, file);` does not return and it never moves to the while loop. The SDK does not talk about whether this is a blocking call, so I have no idea if I am doing it right since I am not getting any sort of feedback from the call. It does create a directory from the directory in my bucket, but then it stops.","body":"No, it doesn&#39;t. My question is whether or not I am missing something. I am very new to the SDK so I don&#39;t know if there is something more I need. The call to <code>tx.downloadDirectory(&quot;&lt;bucket&gt;&quot;, null, file);</code> does not return and it never moves to the while loop. The SDK does not talk about whether this is a blocking call, so I have no idea if I am doing it right since I am not getting any sort of feedback from the call. It does create a directory from the directory in my bucket, but then it stops."}],"answers":[{"tags":[],"owner":{"display_name":"user846969"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1465867152,"creation_date":1378240661,"answer_id":18601046,"question_id":14539475,"body_markdown":"Please use the list() method to get a list of your files, then use the get() method to get each file.\r\n\r\n    class S3 extends AmazonS3Client {\r\n        \r\n        final String bucket;\r\n    \r\n    \r\n        S3(String u, String p, String Bucket) {\r\n            super(new BasicAWSCredentials(u, p));\r\n            bucket = Bucket;\r\n        }\r\n    \r\n    \r\n        String get(String k) {\r\n            try {\r\n                final S3Object f = getObject(bucket, k);\r\n                final BufferedInputStream i = new BufferedInputStream(f.getObjectContent());\r\n                final StringBuilder s = new StringBuilder();\r\n                final byte[] b = new byte[1024];\r\n                for (int n = i.read(b); n != -1; n = i.read(b)) {\r\n                    s.append(new String(b, 0, n));\r\n                }\r\n                return s.toString();\r\n            } catch (Exception e) {\r\n                log(&quot;Cannot get &quot; + bucket + &quot;/&quot; + k + &quot; from S3 because &quot; + e);\r\n            }\r\n            return null;\r\n        }\r\n    \r\n    \r\n        String[] list(String d) {\r\n            try {\r\n                final ObjectListing l = listObjects(bucket, d);\r\n                final List&lt;S3ObjectSummary&gt; L = l.getObjectSummaries();\r\n                final int n = L.size();\r\n                final String[] s = new String[n];\r\n                for (int i = 0; i &lt; n; ++i) {\r\n                    final S3ObjectSummary k = L.get(i);\r\n                    s[i] = k.getKey();\r\n                }\r\n                return s;\r\n            } catch (Exception e) {\r\n                log(&quot;Cannot list &quot; + bucket + &quot;/&quot; + d + &quot; on S3 because &quot; + e);\r\n            }\r\n            return new String[]{};\r\n        }\r\n    }\r\n\r\n","title":"Download a Large Number of Files Using the Java SDK for Amazon S3 Bucket","body":"<p>Please use the list() method to get a list of your files, then use the get() method to get each file.</p>\n\n<pre><code>class S3 extends AmazonS3Client {\n\n    final String bucket;\n\n\n    S3(String u, String p, String Bucket) {\n        super(new BasicAWSCredentials(u, p));\n        bucket = Bucket;\n    }\n\n\n    String get(String k) {\n        try {\n            final S3Object f = getObject(bucket, k);\n            final BufferedInputStream i = new BufferedInputStream(f.getObjectContent());\n            final StringBuilder s = new StringBuilder();\n            final byte[] b = new byte[1024];\n            for (int n = i.read(b); n != -1; n = i.read(b)) {\n                s.append(new String(b, 0, n));\n            }\n            return s.toString();\n        } catch (Exception e) {\n            log(\"Cannot get \" + bucket + \"/\" + k + \" from S3 because \" + e);\n        }\n        return null;\n    }\n\n\n    String[] list(String d) {\n        try {\n            final ObjectListing l = listObjects(bucket, d);\n            final List&lt;S3ObjectSummary&gt; L = l.getObjectSummaries();\n            final int n = L.size();\n            final String[] s = new String[n];\n            for (int i = 0; i &lt; n; ++i) {\n                final S3ObjectSummary k = L.get(i);\n                s[i] = k.getKey();\n            }\n            return s;\n        } catch (Exception e) {\n            log(\"Cannot list \" + bucket + \"/\" + d + \" on S3 because \" + e);\n        }\n        return new String[]{};\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":288244,"reputation":69,"user_id":588539,"display_name":"shivarajan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429493483,"creation_date":1429493483,"answer_id":29737960,"question_id":14539475,"body_markdown":"TransferManager internally uses countdownlatch which makes me believe is does concurrent download (which seems the right way to do it). It makes sense to use it than get one file after other sequentially?","title":"Download a Large Number of Files Using the Java SDK for Amazon S3 Bucket","body":"<p>TransferManager internally uses countdownlatch which makes me believe is does concurrent download (which seems the right way to do it). It makes sense to use it than get one file after other sequentially?</p>\n"}],"owner":{"account_id":1273101,"reputation":964,"user_id":1228945,"accept_rate":89,"display_name":"derigible"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9014,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1678594394,"creation_date":1359220906,"question_id":14539475,"body_markdown":"I have a large number of files that need to be downloaded from an S3 bucket. My problem is similar to [this article][1] except I am trying to run it in Java. \r\n\r\n    public static void main(String args[]) {\r\n            AWSCredentials myCredentials = new BasicAWSCredentials(&quot;key&quot;,&quot;secret&quot;);\r\n            TransferManager tx = new TransferManager(myCredentials);\r\n            File file = &lt;thefile&gt;\r\n            try{\r\n            MultipleFileDownload myDownload = tx.downloadDirectory(&quot;&lt;bucket&gt;&quot;, null, file);\r\n            System.out.println(&quot;Transfer: &quot; + myDownload.getDescription());\r\n            System.out.println(&quot;  - State: &quot; + myDownload.getState());\r\n            System.out.println(&quot;  - Progress: &quot; + myDownload.getProgress().getBytesTransfered());\r\n\r\n            while (myDownload.isDone() == false) {\r\n               System.out.println(&quot;Transfer: &quot; + myDownload.getDescription());\r\n               System.out.println(&quot;  - State: &quot; + myDownload.getState());\r\n                System.out.println(&quot;  - Progress: &quot; + myDownload.getProgress().getBytesTransfered());\r\n                try {\r\n                    // Do work while we wait for our upload to complete...\r\n                    Thread.sleep(500);\r\n                } catch (InterruptedException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n             }\r\n             } catch(Exception e){\r\n              e.printStackTrace();\r\n             }\r\n\r\n          }\r\n\r\nThis was adapted from the TransferManager class example for multiple upload. There are well over a 100,000 objects in this bucket. Any help would be great.\r\n\r\n  [1]: https://stackoverflow.com/questions/1051275/downloading-a-large-number-of-files-from-s3","title":"Download a Large Number of Files Using the Java SDK for Amazon S3 Bucket","body":"<p>I have a large number of files that need to be downloaded from an S3 bucket. My problem is similar to <a href=\"https://stackoverflow.com/questions/1051275/downloading-a-large-number-of-files-from-s3\">this article</a> except I am trying to run it in Java. </p>\n\n<pre><code>public static void main(String args[]) {\n        AWSCredentials myCredentials = new BasicAWSCredentials(\"key\",\"secret\");\n        TransferManager tx = new TransferManager(myCredentials);\n        File file = &lt;thefile&gt;\n        try{\n        MultipleFileDownload myDownload = tx.downloadDirectory(\"&lt;bucket&gt;\", null, file);\n        System.out.println(\"Transfer: \" + myDownload.getDescription());\n        System.out.println(\"  - State: \" + myDownload.getState());\n        System.out.println(\"  - Progress: \" + myDownload.getProgress().getBytesTransfered());\n\n        while (myDownload.isDone() == false) {\n           System.out.println(\"Transfer: \" + myDownload.getDescription());\n           System.out.println(\"  - State: \" + myDownload.getState());\n            System.out.println(\"  - Progress: \" + myDownload.getProgress().getBytesTransfered());\n            try {\n                // Do work while we wait for our upload to complete...\n                Thread.sleep(500);\n            } catch (InterruptedException ex) {\n                ex.printStackTrace();\n            }\n         }\n         } catch(Exception e){\n          e.printStackTrace();\n         }\n\n      }\n</code></pre>\n\n<p>This was adapted from the TransferManager class example for multiple upload. There are well over a 100,000 objects in this bucket. Any help would be great.</p>\n"},{"tags":["java","ios","google-chrome","selenium-webdriver","upload"],"answers":[{"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678594290,"creation_date":1678594290,"answer_id":75711005,"question_id":75709736,"body_markdown":"    You can try a Robot class.\r\n    \r\n    Robot rbt=new Robot();\r\n    \r\n    r.keyPress(KeyEvent.VK_ENTER);\r\n          //releasing enter\r\n          r.keyRelease(KeyEvent.VK_ENTER);\r\n          //pressing ctrl+v\r\n          r.keyPress(KeyEvent.VK_CONTROL);\r\n          r.keyPress(KeyEvent.VK_V);\r\n          ","title":"Uploading a file to Chrome using Selenium (or any other way) on mac iOS","body":"<pre><code>You can try a Robot class.\n\nRobot rbt=new Robot();\n\nr.keyPress(KeyEvent.VK_ENTER);\n      //releasing enter\n      r.keyRelease(KeyEvent.VK_ENTER);\n      //pressing ctrl+v\n      r.keyPress(KeyEvent.VK_CONTROL);\n      r.keyPress(KeyEvent.VK_V);\n      \n</code></pre>\n"}],"owner":{"account_id":27994799,"reputation":1,"user_id":21380295,"display_name":"Ofer Haze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678594290,"creation_date":1678571149,"question_id":75709736,"body_markdown":"I&#39;m using Selenium, Chrome and mac iOS\r\n\r\nI thought uploading a file from my machine to browser (facebook site) would be trivial, but appereantely it&#39;s not\r\n\r\nIs there a way (using Selenium or any other framework) to upload one file from my machine to browser (facebook website)\r\n\r\nI tried sendkeys(),  AWT Robot class, I also tried drag and drop using Selenium, but nothing works for me.\r\n\r\nAny ideas or thoughts ? ? \r\n\r\nThank you\r\n\r\n","title":"Uploading a file to Chrome using Selenium (or any other way) on mac iOS","body":"<p>I'm using Selenium, Chrome and mac iOS</p>\n<p>I thought uploading a file from my machine to browser (facebook site) would be trivial, but appereantely it's not</p>\n<p>Is there a way (using Selenium or any other framework) to upload one file from my machine to browser (facebook website)</p>\n<p>I tried sendkeys(),  AWT Robot class, I also tried drag and drop using Selenium, but nothing works for me.</p>\n<p>Any ideas or thoughts ? ?</p>\n<p>Thank you</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","mule"],"answers":[{"tags":[],"owner":{"account_id":8526426,"reputation":170,"user_id":6391748,"display_name":"Abhay Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507284976,"creation_date":1507284976,"answer_id":46603468,"question_id":46602932,"body_markdown":"You can use the Get object operation, and configure the connector where Bucket Name is &#39;`testBucket1`&#39;, and Key is &#39;`CFF/&lt;fileName&gt;.&lt;extension&gt;`&#39;.\r\n\r\nHope this helps.","title":"MuleSoft - Amazon S3 get objcet from bucket&#39;s specific folder not the Root","body":"<p>You can use the Get object operation, and configure the connector where Bucket Name is '<code>testBucket1</code>', and Key is '<code>CFF/&lt;fileName&gt;.&lt;extension&gt;</code>'.</p>\n\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":7444327,"reputation":199,"user_id":5661061,"accept_rate":56,"display_name":"MarkyMark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678594212,"creation_date":1507283172,"question_id":46602932,"body_markdown":"Hi i have a bucket called `&#39;testBucket1&#39;` and folder in the bucket called `&#39;CFF&#39;`, how to get object from `testBucket1/CFF` not from the root folder `testBucket1`? I was reading the amazon documentation but did not find anything about this","title":"MuleSoft - Amazon S3 get objcet from bucket&#39;s specific folder not the Root","body":"<p>Hi i have a bucket called <code>'testBucket1'</code> and folder in the bucket called <code>'CFF'</code>, how to get object from <code>testBucket1/CFF</code> not from the root folder <code>testBucket1</code>? I was reading the amazon documentation but did not find anything about this</p>\n"},{"tags":["java","amazon-web-services","jsp","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":401338,"reputation":1859,"user_id":1454719,"display_name":"Pozzo Apps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404387779,"creation_date":1404387779,"answer_id":24552799,"question_id":24549685,"body_markdown":"From [PutObjectRequest][1] doc\r\n\r\n&gt; metadata - The object metadata. At minimum this specifies the content\r\n&gt; length for the stream of data being uploaded.\r\n\r\nI had never used an input stream from an URL, but looks like you are missing the &quot;length for the stream&quot;.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html#PutObjectRequest(java.lang.String,%20java.lang.String,%20java.io.InputStream,%20com.amazonaws.services.s3.model.ObjectMetadata)","title":"Uploading S3 using AWS SDK Java","body":"<p>From <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html#PutObjectRequest%28java.lang.String,%20java.lang.String,%20java.io.InputStream,%20com.amazonaws.services.s3.model.ObjectMetadata%29\" rel=\"nofollow\">PutObjectRequest</a> doc</p>\n\n<blockquote>\n  <p>metadata - The object metadata. At minimum this specifies the content\n  length for the stream of data being uploaded.</p>\n</blockquote>\n\n<p>I had never used an input stream from an URL, but looks like you are missing the \"length for the stream\".</p>\n"},{"tags":[],"owner":{"account_id":324511,"reputation":4310,"user_id":645112,"display_name":"Wade Matveyenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1404774149,"creation_date":1404774149,"answer_id":24621302,"question_id":24549685,"body_markdown":"Since you are uploading from a file, you could use [this][1] constructor for the PutObjectRequest:\r\n\r\n     File theFile = new File(filePath);\r\n     PutObjectRequest putObjectRequest = new PutObjectRequest(amazonFileUploadLocationOriginal, keyName, theFile);\r\n     putObjectRequest.withMetadata(objectMetadata);\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html#PutObjectRequest(java.lang.String,%20java.lang.String,%20java.io.File)","title":"Uploading S3 using AWS SDK Java","body":"<p>Since you are uploading from a file, you could use <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/PutObjectRequest.html#PutObjectRequest%28java.lang.String,%20java.lang.String,%20java.io.File%29\" rel=\"nofollow\">this</a> constructor for the PutObjectRequest:</p>\n\n<pre><code> File theFile = new File(filePath);\n PutObjectRequest putObjectRequest = new PutObjectRequest(amazonFileUploadLocationOriginal, keyName, theFile);\n putObjectRequest.withMetadata(objectMetadata);\n</code></pre>\n"}],"owner":{"account_id":2987564,"reputation":743,"user_id":2535956,"accept_rate":43,"display_name":"rav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1678594167,"creation_date":1404379014,"question_id":24549685,"body_markdown":"my current setup is like this\r\n\r\n      AmazonS3 s3Client = new AmazonS3Client();\r\n    \r\n      InputStream stream = new URL(filePath).openStream();\r\n    \r\n      ObjectMetadata objectMetadata = new ObjectMetadata();\r\n      PutObjectRequest putObjectRequest = new PutObjectRequest(amazonFileUploadLocationOriginal, keyName, stream, objectMetadata);\r\n    \r\n      PutObjectResult result = s3Client.putObject(putObjectRequest);\r\n\r\n\r\nAnd I&#39;m always getting this error\r\n\r\n    java.lang.IllegalStateException: Content has been consumed\r\n\r\nAnd I know it is caused by calling\r\n\r\n     HttpEntity.getContent()\r\n\r\nmultiple times\r\n\r\nBut I can&#39;t seem to debug/find where it is being called multiple times","title":"Uploading S3 using AWS SDK Java","body":"<p>my current setup is like this</p>\n\n<pre><code>  AmazonS3 s3Client = new AmazonS3Client();\n\n  InputStream stream = new URL(filePath).openStream();\n\n  ObjectMetadata objectMetadata = new ObjectMetadata();\n  PutObjectRequest putObjectRequest = new PutObjectRequest(amazonFileUploadLocationOriginal, keyName, stream, objectMetadata);\n\n  PutObjectResult result = s3Client.putObject(putObjectRequest);\n</code></pre>\n\n<p>And I'm always getting this error</p>\n\n<pre><code>java.lang.IllegalStateException: Content has been consumed\n</code></pre>\n\n<p>And I know it is caused by calling</p>\n\n<pre><code> HttpEntity.getContent()\n</code></pre>\n\n<p>multiple times</p>\n\n<p>But I can't seem to debug/find where it is being called multiple times</p>\n"},{"tags":["java","android","amazon-web-services","amazon-s3","image-upload"],"comments":[{"owner":{"account_id":3007337,"reputation":703,"user_id":2551580,"display_name":"cigno5.5"},"score":0,"creation_date":1424167594,"post_id":28559100,"comment_id":45430269,"body_markdown":"The problem is clearly that you cannot write into that position. Have you checked bucket permission and policy?","body":"The problem is clearly that you cannot write into that position. Have you checked bucket permission and policy?"},{"owner":{"account_id":3005582,"reputation":145,"user_id":2550183,"accept_rate":20,"display_name":"RDD"},"score":0,"creation_date":1424168778,"post_id":28559100,"comment_id":45431085,"body_markdown":"@cigno5.5 this is my first attempt. please guide me in the correct way. i have access_key, secret_key, bucket, accessmode. what else i need to use. if these enough, how can i use them further?","body":"@cigno5.5 this is my first attempt. please guide me in the correct way. i have access_key, secret_key, bucket, accessmode. what else i need to use. if these enough, how can i use them further?"},{"owner":{"account_id":3007337,"reputation":703,"user_id":2551580,"display_name":"cigno5.5"},"score":0,"creation_date":1424169469,"post_id":28559100,"comment_id":45431467,"body_markdown":"have you already accessed to http://aws.amazon.com/console/ ? In there you can setup everything about services from aws. \nThere are many ways to configure permissions but you should try as first step directly on the console","body":"have you already accessed to <a href=\"http://aws.amazon.com/console/\" rel=\"nofollow noreferrer\">aws.amazon.com/console</a> ? In there you can setup everything about services from aws.  There are many ways to configure permissions but you should try as first step directly on the console"}],"answers":[{"tags":[],"owner":{"account_id":3005582,"reputation":145,"user_id":2550183,"accept_rate":20,"display_name":"RDD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424179875,"creation_date":1424179875,"answer_id":28562729,"question_id":28559100,"body_markdown":"Found the way.\r\n\r\n    AWSCredentials credentials = new BasicAWSCredentials(MY_ACCESS_KEY_ID,MY_SECRET_KEY);\r\n    TransferManager manager = new TransferManager(credentials);\r\n    Upload upload = manager.upload(pictureBucket,&quot;images/&quot;+fileName,new File(fileURI));\r\n\r\nThis will do..","title":"What is the right way to upload image to amazon s3 in android?","body":"<p>Found the way.</p>\n\n<pre><code>AWSCredentials credentials = new BasicAWSCredentials(MY_ACCESS_KEY_ID,MY_SECRET_KEY);\nTransferManager manager = new TransferManager(credentials);\nUpload upload = manager.upload(pictureBucket,\"images/\"+fileName,new File(fileURI));\n</code></pre>\n\n<p>This will do..</p>\n"}],"owner":{"account_id":3005582,"reputation":145,"user_id":2550183,"accept_rate":20,"display_name":"RDD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3950,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678594114,"creation_date":1424166791,"question_id":28559100,"body_markdown":"I used Following way to upload image to amazon s3. But i couldn&#39;t get succeed in this.\r\n\r\n    public UploadAmazon() {\r\n        s3Client = new AmazonS3Client(new BasicAWSCredentials(MY_ACCESS_KEY_ID,MY_SECRET_KEY));\r\n        s3Client.createBucket(pictureBucket);\r\n        s3Client.setBucketAcl(pictureBucket, CannedAccessControlList.valueOf(&quot;private&quot;));\r\n        uploadFile();\r\n    }\r\n\r\n    public void uploadFile() {\r\n        PutObjectRequest por = new PutObjectRequest(pictureBucket,&quot;images/&quot;+fileName,new File(fileURI));\r\n        PutObjectResult result = s3Client.putObject(por);\r\n    }\r\n\r\nWhen trying like this i&#39;m getting following error\r\n\r\n    E/AndroidRuntime(31827): FATAL EXCEPTION: AsyncTask #1\r\n    E/AndroidRuntime(31827): Process: com.xxx.yyy.zzz, PID: 31827\r\n    E/AndroidRuntime(31827): java.lang.RuntimeException: An error occured while executing doInBackground()\r\n    E/AndroidRuntime(31827): \tat android.os.AsyncTask$3.done(AsyncTask.java:300)\r\n    E/AndroidRuntime(31827): \tat java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)\r\n    E/AndroidRuntime(31827): \tat java.util.concurrent.FutureTask.setException(FutureTask.java:222)\r\n    E/AndroidRuntime(31827): \tat java.util.concurrent.FutureTask.run(FutureTask.java:242)\r\n    E/AndroidRuntime(31827): \tat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)\r\n    E/AndroidRuntime(31827): \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\r\n    E/AndroidRuntime(31827): \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n    E/AndroidRuntime(31827): \tat java.lang.Thread.run(Thread.java:841)\r\n    E/AndroidRuntime(31827): Caused by: com.amazonaws.services.s3.model.AmazonS3Exception: Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied; Request ID: 123456789), S3 Extended Request ID: XXXXXXXXXXXXXX\r\n    E/AndroidRuntime(31827): \tat com.amazonaws.http.AmazonHttpClient.handleErrorResponse(Unknown Source)\r\n    E/AndroidRuntime(31827): \tat com.amazonaws.http.AmazonHttpClient.executeHelper(Unknown Source)\r\n    E/AndroidRuntime(31827): \tat com.amazonaws.http.AmazonHttpClient.execute(Unknown Source)\r\n    E/AndroidRuntime(31827): \tat com.amazonaws.services.s3.AmazonS3Client.invoke(Unknown Source)\r\n    E/AndroidRuntime(31827): \tat com.amazonaws.services.s3.AmazonS3Client.createBucket(Unknown Source)\r\n    E/AndroidRuntime(31827): \tat com.amazonaws.services.s3.AmazonS3Client.createBucket(Unknown Source)\r\n    E/AndroidRuntime(31827): \tat com.xxx.yyy.zzz.ftp.UploadAmazon.&lt;init&gt;(UploadAmazon.java:37)\r\n    E/AndroidRuntime(31827): \tat com.xxx.yyy.zzz.NewMessageFragment$Uploading.doInBackground(NewMessageFragment.java:859)\r\n    E/AndroidRuntime(31827): \tat com.xxx.yyy.zzz.NewMessageFragment$Uploading.doInBackground(NewMessageFragment.java:855)\r\n    E/AndroidRuntime(31827): \tat android.os.AsyncTask$2.call(AsyncTask.java:288)\r\n    E/AndroidRuntime(31827): \tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n    E/AndroidRuntime(31827): \t... 4 more\r\n\r\ni refered [here][1], but no success. Help Predicted. Thanks in advance\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24139352/aws-s3-java-sdk-access-denied","title":"What is the right way to upload image to amazon s3 in android?","body":"<p>I used Following way to upload image to amazon s3. But i couldn't get succeed in this.</p>\n\n<pre><code>public UploadAmazon() {\n    s3Client = new AmazonS3Client(new BasicAWSCredentials(MY_ACCESS_KEY_ID,MY_SECRET_KEY));\n    s3Client.createBucket(pictureBucket);\n    s3Client.setBucketAcl(pictureBucket, CannedAccessControlList.valueOf(\"private\"));\n    uploadFile();\n}\n\npublic void uploadFile() {\n    PutObjectRequest por = new PutObjectRequest(pictureBucket,\"images/\"+fileName,new File(fileURI));\n    PutObjectResult result = s3Client.putObject(por);\n}\n</code></pre>\n\n<p>When trying like this i'm getting following error</p>\n\n<pre><code>E/AndroidRuntime(31827): FATAL EXCEPTION: AsyncTask #1\nE/AndroidRuntime(31827): Process: com.xxx.yyy.zzz, PID: 31827\nE/AndroidRuntime(31827): java.lang.RuntimeException: An error occured while executing doInBackground()\nE/AndroidRuntime(31827):    at android.os.AsyncTask$3.done(AsyncTask.java:300)\nE/AndroidRuntime(31827):    at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)\nE/AndroidRuntime(31827):    at java.util.concurrent.FutureTask.setException(FutureTask.java:222)\nE/AndroidRuntime(31827):    at java.util.concurrent.FutureTask.run(FutureTask.java:242)\nE/AndroidRuntime(31827):    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:231)\nE/AndroidRuntime(31827):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\nE/AndroidRuntime(31827):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\nE/AndroidRuntime(31827):    at java.lang.Thread.run(Thread.java:841)\nE/AndroidRuntime(31827): Caused by: com.amazonaws.services.s3.model.AmazonS3Exception: Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied; Request ID: 123456789), S3 Extended Request ID: XXXXXXXXXXXXXX\nE/AndroidRuntime(31827):    at com.amazonaws.http.AmazonHttpClient.handleErrorResponse(Unknown Source)\nE/AndroidRuntime(31827):    at com.amazonaws.http.AmazonHttpClient.executeHelper(Unknown Source)\nE/AndroidRuntime(31827):    at com.amazonaws.http.AmazonHttpClient.execute(Unknown Source)\nE/AndroidRuntime(31827):    at com.amazonaws.services.s3.AmazonS3Client.invoke(Unknown Source)\nE/AndroidRuntime(31827):    at com.amazonaws.services.s3.AmazonS3Client.createBucket(Unknown Source)\nE/AndroidRuntime(31827):    at com.amazonaws.services.s3.AmazonS3Client.createBucket(Unknown Source)\nE/AndroidRuntime(31827):    at com.xxx.yyy.zzz.ftp.UploadAmazon.&lt;init&gt;(UploadAmazon.java:37)\nE/AndroidRuntime(31827):    at com.xxx.yyy.zzz.NewMessageFragment$Uploading.doInBackground(NewMessageFragment.java:859)\nE/AndroidRuntime(31827):    at com.xxx.yyy.zzz.NewMessageFragment$Uploading.doInBackground(NewMessageFragment.java:855)\nE/AndroidRuntime(31827):    at android.os.AsyncTask$2.call(AsyncTask.java:288)\nE/AndroidRuntime(31827):    at java.util.concurrent.FutureTask.run(FutureTask.java:237)\nE/AndroidRuntime(31827):    ... 4 more\n</code></pre>\n\n<p>i refered <a href=\"https://stackoverflow.com/questions/24139352/aws-s3-java-sdk-access-denied\">here</a>, but no success. Help Predicted. Thanks in advance</p>\n"},{"tags":["java","amazon-web-services","android-studio","amazon-s3","imdb"],"comments":[{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1508171159,"post_id":46774813,"comment_id":80495357,"body_markdown":"make sure you don&#39;t have runtime permission issue for storage. don&#39;t know then plz google","body":"make sure you don&#39;t have runtime permission issue for storage. don&#39;t know then plz google"}],"answers":[{"tags":[],"owner":{"account_id":2004545,"reputation":4301,"user_id":1794802,"display_name":"strongjz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508196596,"creation_date":1508196596,"answer_id":46780423,"question_id":46774813,"body_markdown":"&gt;Files are located under documents/v1/*\r\n\r\nIn your example the Key is just `title.basics.tsv.gz` \r\n\r\n\r\nIn their code example [here](http://www.imdb.com/offsite/?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=3189683002&amp;pf_rd_r=1Q6HV58SA86NGGT9PNAF&amp;pf_rd_s=center-1&amp;pf_rd_t=60601&amp;pf_rd_i=interfaces&amp;page-action=offsite-com&amp;token=BCYvnuVb2ORucx2WkXMNoaohuut3pGpZqPvtO90A7eaeNfbrg-NabaUeL2nd7cXcFAbfS_pzcvRk%0D%0AEcT8OmTcZJQ6hqy9YcLkyMnGlhdVzzqArXgqNbukuINjRH6UbvizKxREWcR_qeHkblrlBCz--STk%0D%0A5BQhiN4bEinDVw_r-3mPGaOcxLnM8GrFw6Y6XPtBcp5VZc5Wi0XCUyzL_XUpEYgB_Apa_AU3JSNK%0D%0AWUPEKi8dc3EQueNQLm78kvZ-Cm8PFdo6qovJgJz6KS5EUMYynRJGXw%0D%0A&amp;ref_=fea_mn_lk7) \r\n\r\n \r\n\r\n    private static String bucketName = &quot;imdb-datasets&quot;; \r\n    private static String key        = &quot;documents/v1/current/name.basics.tsv.gz&quot;;      \r\n    \r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        ProfileCredentialsProvider credentialsProvider =\r\n                new ProfileCredentialsProvider(&quot;*** FULL PATH TO AWS CREDENTIALS FILE ***&quot;,\r\n                                               &quot;*** CREDENTIALS PROFILE NAME ***&quot;);\r\n\r\n        AmazonS3 s3Client = new AmazonS3Client(credentialsProvider);\r\n\r\n        try {\r\n            // Note: It&#39;s necessary to set RequesterPays to true\r\n            GetObjectRequest getObjectRequest = new GetObjectRequest(bucketName, key)\r\n                                                    .withRequesterPays(true);\r\n\r\n\r\nhttp://www.imdb.com/interfaces/\r\n\r\n**I don&#39;t know what the app is for or does but a reminder about their License** \r\n&gt;You can hold local copies of this data, and it is subject to our terms and conditions. Please refer to the [Non-Commercial Licensing](http://www.imdb.com/help/show_leaf?usedatasoftware&amp;pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=3189683002&amp;pf_rd_r=1Q6HV58SA86NGGT9PNAF&amp;pf_rd_s=center-1&amp;pf_rd_t=60601&amp;pf_rd_i=interfaces&amp;ref_=fea_mn_lk1) and [copyright/license](http://www.imdb.com/Copyright?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=3189683002&amp;pf_rd_r=1Q6HV58SA86NGGT9PNAF&amp;pf_rd_s=center-1&amp;pf_rd_t=60601&amp;pf_rd_i=interfaces&amp;ref_=fea_mn_lk2) and verify compliance.\r\n","title":"Access denied error imdb s3 bucket","body":"<blockquote>\n  <p>Files are located under documents/v1/*</p>\n</blockquote>\n\n<p>In your example the Key is just <code>title.basics.tsv.gz</code> </p>\n\n<p>In their code example <a href=\"http://www.imdb.com/offsite/?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=3189683002&amp;pf_rd_r=1Q6HV58SA86NGGT9PNAF&amp;pf_rd_s=center-1&amp;pf_rd_t=60601&amp;pf_rd_i=interfaces&amp;page-action=offsite-com&amp;token=BCYvnuVb2ORucx2WkXMNoaohuut3pGpZqPvtO90A7eaeNfbrg-NabaUeL2nd7cXcFAbfS_pzcvRk%0D%0AEcT8OmTcZJQ6hqy9YcLkyMnGlhdVzzqArXgqNbukuINjRH6UbvizKxREWcR_qeHkblrlBCz--STk%0D%0A5BQhiN4bEinDVw_r-3mPGaOcxLnM8GrFw6Y6XPtBcp5VZc5Wi0XCUyzL_XUpEYgB_Apa_AU3JSNK%0D%0AWUPEKi8dc3EQueNQLm78kvZ-Cm8PFdo6qovJgJz6KS5EUMYynRJGXw%0D%0A&amp;ref_=fea_mn_lk7\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<pre><code>private static String bucketName = \"imdb-datasets\"; \nprivate static String key        = \"documents/v1/current/name.basics.tsv.gz\";      \n\npublic static void main(String[] args) throws IOException, InterruptedException {\n    ProfileCredentialsProvider credentialsProvider =\n            new ProfileCredentialsProvider(\"*** FULL PATH TO AWS CREDENTIALS FILE ***\",\n                                           \"*** CREDENTIALS PROFILE NAME ***\");\n\n    AmazonS3 s3Client = new AmazonS3Client(credentialsProvider);\n\n    try {\n        // Note: It's necessary to set RequesterPays to true\n        GetObjectRequest getObjectRequest = new GetObjectRequest(bucketName, key)\n                                                .withRequesterPays(true);\n</code></pre>\n\n<p><a href=\"http://www.imdb.com/interfaces/\" rel=\"nofollow noreferrer\">http://www.imdb.com/interfaces/</a></p>\n\n<p><strong>I don't know what the app is for or does but a reminder about their License</strong> </p>\n\n<blockquote>\n  <p>You can hold local copies of this data, and it is subject to our terms and conditions. Please refer to the <a href=\"http://www.imdb.com/help/show_leaf?usedatasoftware&amp;pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=3189683002&amp;pf_rd_r=1Q6HV58SA86NGGT9PNAF&amp;pf_rd_s=center-1&amp;pf_rd_t=60601&amp;pf_rd_i=interfaces&amp;ref_=fea_mn_lk1\" rel=\"nofollow noreferrer\">Non-Commercial Licensing</a> and <a href=\"http://www.imdb.com/Copyright?pf_rd_m=A2FGELUUNOQJNL&amp;pf_rd_p=3189683002&amp;pf_rd_r=1Q6HV58SA86NGGT9PNAF&amp;pf_rd_s=center-1&amp;pf_rd_t=60601&amp;pf_rd_i=interfaces&amp;ref_=fea_mn_lk2\" rel=\"nofollow noreferrer\">copyright/license</a> and verify compliance.</p>\n</blockquote>\n"}],"owner":{"account_id":12007525,"reputation":95,"user_id":8785400,"display_name":"Vlad J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678594035,"creation_date":1508170868,"question_id":46774813,"body_markdown":"I&#39;m working on an app which will use the amazon aws s3 imdb bucket called &quot;imdb-datasets&quot; to display various movie info. Before trying this i tested the code with my own bucket and managed to upload and download a testfile from my android device to my bucket and vice versa. But upon trying the same method with the imdb-datasets bucket i started getting an acess denied error 403. After doing some research i found out that the possible issue would be that i have to specify in the code that it is a requester-pays bucket. I tried to implement the requester pays bit (the commented out code) but it crashes my application. I have no idea how to implement it in my app as i didn&#39;t manage to find any guide or solution. Any ideas how to do that?   \r\n\r\nEdit: I have also given permissions for the app to be able to access storage, both through manifest and manually in the app through the android device settings. Role policies with the iam user and the imdb bucket are also assigned.\r\n\r\n    import android.os.Environment;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n\r\n    import com.amazonaws.auth.CognitoCachingCredentialsProvider;\r\n    import com.amazonaws.mobileconnectors.s3.transferutility.TransferListener;\r\n    import com.amazonaws.mobileconnectors.s3.transferutility.TransferObserver;\r\n    import com.amazonaws.mobileconnectors.s3.transferutility.TransferState;\r\n    import com.amazonaws.mobileconnectors.s3.transferutility.TransferUtility;\r\n    import com.amazonaws.regions.Region;\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3Client;\r\n\r\n\r\n    import java.io.File;\r\n\r\n\r\n\r\n    public class movieChooseActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_movie_choose);\r\n\r\n        }\r\n\r\n    public void getFile(View v) {\r\n\r\n\r\n        File sdcard = Environment.getExternalStorageDirectory();\r\n        String key = &quot;documents/v1/current/title.basics.tsv.gz&quot;;\r\n        File file = new File(key, &quot;title.basics.tsv.gz&quot;);\r\n\r\n\r\n        // Initialize the Amazon Cognito credentials provider\r\n        CognitoCachingCredentialsProvider credentialsProvider = new \r\n        CognitoCachingCredentialsProvider(\r\n                getApplicationContext(),\r\n                &quot;eu-west-2:4c829519-0596-4fdb-ad04-6b8912e44164&quot;, // Identity \r\n                                                                  //pool ID\r\n                Regions.EU_WEST_2 // Region\r\n        );\r\n\r\n\r\n        AmazonS3 s3 = new AmazonS3Client(credentialsProvider);\r\n        s3.setRegion(Region.getRegion(Regions.US_EAST_1));\r\n\r\n        //include the appropriate request-payer parameter\r\n        //s3.getObject(new GetObjectRequest(&quot;imdb-datasets&quot;, \r\n          key).withRequesterPays(true));\r\n         \r\n\r\n\r\n                TransferUtility transferUtility = new TransferUtility(s3, \r\n                getApplicationContext());\r\n\r\n        TransferObserver transferObserver =  transferUtility.download(&quot;imdb-\r\n        datasets&quot;,&quot;title.basics.tsv.gz&quot;,file);\r\n\r\n        transferObserver.setTransferListener(new TransferListener() {\r\n            @Override\r\n            public void onStateChanged(int i, TransferState state) {\r\n                Log.e(&quot;statechange&quot;,state + &quot; &quot;);\r\n                if(state == state.COMPLETED) {\r\n                    Toast.makeText(movieChooseActivity.this, &quot;File transfered&quot;, \r\n                    Toast.LENGTH_LONG).show();\r\n                }\r\n                if(state == state.FAILED) {\r\n                    Toast.makeText(movieChooseActivity.this, &quot;Failed&quot;, \r\n                    Toast.LENGTH_LONG).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onProgressChanged(int i, long l, long l1) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onError(int i, Exception e) {\r\n                Log.e(&quot;whattowatchapp&quot;,&quot;Error:&quot;+ e.getMessage());\r\n            }\r\n        });\r\n     }\r\n\r\n    }\r\n","title":"Access denied error imdb s3 bucket","body":"<p>I'm working on an app which will use the amazon aws s3 imdb bucket called \"imdb-datasets\" to display various movie info. Before trying this i tested the code with my own bucket and managed to upload and download a testfile from my android device to my bucket and vice versa. But upon trying the same method with the imdb-datasets bucket i started getting an acess denied error 403. After doing some research i found out that the possible issue would be that i have to specify in the code that it is a requester-pays bucket. I tried to implement the requester pays bit (the commented out code) but it crashes my application. I have no idea how to implement it in my app as i didn't manage to find any guide or solution. Any ideas how to do that?   </p>\n\n<p>Edit: I have also given permissions for the app to be able to access storage, both through manifest and manually in the app through the android device settings. Role policies with the iam user and the imdb bucket are also assigned.</p>\n\n<pre><code>import android.os.Environment;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport com.amazonaws.auth.CognitoCachingCredentialsProvider;\nimport com.amazonaws.mobileconnectors.s3.transferutility.TransferListener;\nimport com.amazonaws.mobileconnectors.s3.transferutility.TransferObserver;\nimport com.amazonaws.mobileconnectors.s3.transferutility.TransferState;\nimport com.amazonaws.mobileconnectors.s3.transferutility.TransferUtility;\nimport com.amazonaws.regions.Region;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3Client;\n\n\nimport java.io.File;\n\n\n\npublic class movieChooseActivity extends AppCompatActivity {\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_movie_choose);\n\n    }\n\npublic void getFile(View v) {\n\n\n    File sdcard = Environment.getExternalStorageDirectory();\n    String key = \"documents/v1/current/title.basics.tsv.gz\";\n    File file = new File(key, \"title.basics.tsv.gz\");\n\n\n    // Initialize the Amazon Cognito credentials provider\n    CognitoCachingCredentialsProvider credentialsProvider = new \n    CognitoCachingCredentialsProvider(\n            getApplicationContext(),\n            \"eu-west-2:4c829519-0596-4fdb-ad04-6b8912e44164\", // Identity \n                                                              //pool ID\n            Regions.EU_WEST_2 // Region\n    );\n\n\n    AmazonS3 s3 = new AmazonS3Client(credentialsProvider);\n    s3.setRegion(Region.getRegion(Regions.US_EAST_1));\n\n    //include the appropriate request-payer parameter\n    //s3.getObject(new GetObjectRequest(\"imdb-datasets\", \n      key).withRequesterPays(true));\n\n\n\n            TransferUtility transferUtility = new TransferUtility(s3, \n            getApplicationContext());\n\n    TransferObserver transferObserver =  transferUtility.download(\"imdb-\n    datasets\",\"title.basics.tsv.gz\",file);\n\n    transferObserver.setTransferListener(new TransferListener() {\n        @Override\n        public void onStateChanged(int i, TransferState state) {\n            Log.e(\"statechange\",state + \" \");\n            if(state == state.COMPLETED) {\n                Toast.makeText(movieChooseActivity.this, \"File transfered\", \n                Toast.LENGTH_LONG).show();\n            }\n            if(state == state.FAILED) {\n                Toast.makeText(movieChooseActivity.this, \"Failed\", \n                Toast.LENGTH_LONG).show();\n            }\n        }\n\n        @Override\n        public void onProgressChanged(int i, long l, long l1) {\n\n        }\n\n        @Override\n        public void onError(int i, Exception e) {\n            Log.e(\"whattowatchapp\",\"Error:\"+ e.getMessage());\n        }\n    });\n }\n\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","upload"],"answers":[{"tags":[],"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1451954731,"creation_date":1451954731,"answer_id":34602520,"question_id":34599840,"body_markdown":"From the looks of it GeneratePresignedUrlRequest is for existing objects in S3.\r\n\r\n&gt; public GeneratePresignedUrlRequest(String bucketName,  String key)  \r\n\r\n&gt;Creates a new request for generating a pre-signed URL that can be used as part of an HTTP GET request to access the Amazon S3 object stored under the specified key in the specified bucket.  \r\n&gt;Parameters:  \r\n&gt;bucketName - The name of the bucket containing the desired Amazon S3 object.  \r\n&gt;key - The key under which the desired Amazon S3 object is stored.  \r\n\r\n\r\nYou can use one of the `putObject` methods in AmazonS3Client class.\r\n\r\n\r\n&gt;  PutObjectResult\tputObject(PutObjectRequest putObjectRequest)  \r\nUploads a new object to the specified Amazon S3 bucket.\r\n\r\n&gt;  PutObjectResult\tputObject(String bucketName, String key, File file)  \r\nUploads the specified file to Amazon S3 under the specified bucket and key name.  \r\n\r\n&gt; PutObjectResult\tputObject(String bucketName, String key, InputStream input, ObjectMetadata metadata)  \r\nUploads the specified input stream and object metadata to Amazon S3 under the specified bucket and key name.  \r\n\r\nOnce you put the object into S3, you can then use the key to instantiate a GeneratePresignedUrlRequest object and get the URL.","title":"Amazon S3 GeneratePresignedUrlRequest - new file","body":"<p>From the looks of it GeneratePresignedUrlRequest is for existing objects in S3.</p>\n\n<blockquote>\n  <p>public GeneratePresignedUrlRequest(String bucketName,  String key)  </p>\n  \n  <p>Creates a new request for generating a pre-signed URL that can be used as part of an HTTP GET request to access the Amazon S3 object stored under the specified key in the specified bucket.<br>\n  Parameters:<br>\n  bucketName - The name of the bucket containing the desired Amazon S3 object.<br>\n  key - The key under which the desired Amazon S3 object is stored.  </p>\n</blockquote>\n\n<p>You can use one of the <code>putObject</code> methods in AmazonS3Client class.</p>\n\n<blockquote>\n  <p>PutObjectResult  putObject(PutObjectRequest putObjectRequest)<br>\n  Uploads a new object to the specified Amazon S3 bucket.</p>\n  \n  <p>PutObjectResult  putObject(String bucketName, String key, File file)<br>\n  Uploads the specified file to Amazon S3 under the specified bucket and key name.  </p>\n  \n  <p>PutObjectResult   putObject(String bucketName, String key, InputStream input, ObjectMetadata metadata)<br>\n  Uploads the specified input stream and object metadata to Amazon S3 under the specified bucket and key name.  </p>\n</blockquote>\n\n<p>Once you put the object into S3, you can then use the key to instantiate a GeneratePresignedUrlRequest object and get the URL.</p>\n"},{"tags":[],"owner":{"account_id":221274,"reputation":1942,"user_id":2390296,"display_name":"koolhead17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463149829,"creation_date":1463149829,"answer_id":37212680,"question_id":34599840,"body_markdown":"Alternatively you can use [minio-java][1] client library, its Open Source and compatible with AWS S3 API.\r\n\r\nYou can check [PresignedPutObject.java][2] example for the same. \r\n&lt;pre&gt;\r\nimport io.minio.MinioClient;\r\nimport io.minio.errors.MinioException;\r\n\r\nimport java.io.IOException;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.InvalidKeyException;\r\n\r\nimport org.xmlpull.v1.XmlPullParserException;\r\n\r\n\r\npublic class PresignedPutObject {\r\n  public static void main(String[] args)\r\n    throws NoSuchAlgorithmException, IOException, InvalidKeyException, XmlPullParserException, MinioException {\r\n    // Note: YOUR-ACCESSKEYID, YOUR-SECRETACCESSKEY and my-bucketname are\r\n    // dummy values, please replace them with original values.\r\n    // Set s3 endpoint, region is calculated automatically\r\n    MinioClient s3Client = new MinioClient(&quot;https://s3.amazonaws.com&quot;, &quot;YOUR-ACCESSKEYID&quot;, &quot;YOUR-SECRETACCESSKEY&quot;);\r\n\r\n    String url = s3Client.presignedPutObject(&quot;my-bucketname&quot;, &quot;my-objectname&quot;, 60 * 60 * 24);\r\n    System.out.println(url);\r\n  }\r\n}\r\n&lt;/pre&gt;\r\n \r\nHope it helps.\r\n\r\nDisclaimer: I work for [Minio][3]\r\n\r\n\r\n  [1]: https://github.com/minio/minio-java\r\n  [2]: https://github.com/minio/minio-java/blob/master/examples/PresignedPutObject.java\r\n  [3]: https://www.minio.io","title":"Amazon S3 GeneratePresignedUrlRequest - new file","body":"<p>Alternatively you can use <a href=\"https://github.com/minio/minio-java\" rel=\"nofollow\">minio-java</a> client library, its Open Source and compatible with AWS S3 API.</p>\n\n<p>You can check <a href=\"https://github.com/minio/minio-java/blob/master/examples/PresignedPutObject.java\" rel=\"nofollow\">PresignedPutObject.java</a> example for the same. </p>\n\n<pre>\nimport io.minio.MinioClient;\nimport io.minio.errors.MinioException;\n\nimport java.io.IOException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.InvalidKeyException;\n\nimport org.xmlpull.v1.XmlPullParserException;\n\n\npublic class PresignedPutObject {\n  public static void main(String[] args)\n    throws NoSuchAlgorithmException, IOException, InvalidKeyException, XmlPullParserException, MinioException {\n    // Note: YOUR-ACCESSKEYID, YOUR-SECRETACCESSKEY and my-bucketname are\n    // dummy values, please replace them with original values.\n    // Set s3 endpoint, region is calculated automatically\n    MinioClient s3Client = new MinioClient(\"https://s3.amazonaws.com\", \"YOUR-ACCESSKEYID\", \"YOUR-SECRETACCESSKEY\");\n\n    String url = s3Client.presignedPutObject(\"my-bucketname\", \"my-objectname\", 60 * 60 * 24);\n    System.out.println(url);\n  }\n}\n</pre>\n\n<p>Hope it helps.</p>\n\n<p>Disclaimer: I work for <a href=\"https://www.minio.io\" rel=\"nofollow\">Minio</a></p>\n"}],"owner":{"account_id":1212387,"reputation":6854,"user_id":1180686,"accept_rate":82,"display_name":"Jerome Ansia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34602520,"answer_count":2,"score":0,"last_activity_date":1678593991,"creation_date":1451941583,"question_id":34599840,"body_markdown":"I would like to upload a new file to Amazon s3 to my test-bucket.\r\n\r\nHere is the java code:\r\n\r\n        AmazonS3 s3Client = new AmazonS3Client(new ProfileCredentialsProvider());\r\n        java.util.Date expiration = new java.util.Date();\r\n        long msec = expiration.getTime();\r\n        msec += 1000 * 60 * 60; // Add 1 hour.\r\n        expiration.setTime(msec);\r\n        GeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(&quot;test-bucket&quot;, filename);\r\n        generatePresignedUrlRequest.setMethod(HttpMethod.GET);\r\n        generatePresignedUrlRequest.setExpiration(expiration);\r\n        URL s = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\r\n\r\nHowever i keep getting:\r\n\r\n&quot;The specified key does not exist.&quot; for the filename var.\r\n\r\nHow do I make this code works with a new file?","title":"Amazon S3 GeneratePresignedUrlRequest - new file","body":"<p>I would like to upload a new file to Amazon s3 to my test-bucket.</p>\n\n<p>Here is the java code:</p>\n\n<pre><code>    AmazonS3 s3Client = new AmazonS3Client(new ProfileCredentialsProvider());\n    java.util.Date expiration = new java.util.Date();\n    long msec = expiration.getTime();\n    msec += 1000 * 60 * 60; // Add 1 hour.\n    expiration.setTime(msec);\n    GeneratePresignedUrlRequest generatePresignedUrlRequest = new GeneratePresignedUrlRequest(\"test-bucket\", filename);\n    generatePresignedUrlRequest.setMethod(HttpMethod.GET);\n    generatePresignedUrlRequest.setExpiration(expiration);\n    URL s = s3Client.generatePresignedUrl(generatePresignedUrlRequest);\n</code></pre>\n\n<p>However i keep getting:</p>\n\n<p>\"The specified key does not exist.\" for the filename var.</p>\n\n<p>How do I make this code works with a new file?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":6830,"reputation":4131,"user_id":11612,"accept_rate":92,"display_name":"Damien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1506088588,"creation_date":1506088588,"answer_id":46366514,"question_id":46348295,"body_markdown":"Going with the solution as described above as unable to come up with an alternative solution","title":"Amazon Java S3 SDK - UploadDirectory","body":"<p>Going with the solution as described above as unable to come up with an alternative solution</p>\n"},{"tags":[],"owner":{"account_id":1801980,"reputation":1068,"user_id":1640065,"accept_rate":64,"display_name":"Manan Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552984900,"creation_date":1552910527,"answer_id":55220907,"question_id":46348295,"body_markdown":"You can use an alternative method of [TransferManager][1] class: \r\n\r\n\r\n`uploadDirectory(String bucketName, String virtualDirectoryKeyPrefix, File directory, boolean includeSubdirectories, ObjectMetadataProvider metadataProvider, ObjectTaggingProvider taggingProvider, ObjectCannedAclProvider cannedAclProvider)`\r\n\r\n\r\n    ObjectCannedAclProvider cannedAclProvider = new ObjectCannedAclProvider() {\r\n            public CannedAccessControlList provideObjectCannedAcl(File file) {\r\n                    return CannedAccessControlList.PublicRead;\r\n            }\r\n    }\r\n    \r\n    MultipleFileUpload multiUpload = transferManager.uploadDirectory(bucketName, keyPrefix, \r\n                  directory, includeSubdirectories, null, null, cannedAclProvider);\r\n\r\n\r\nThe require gradle dependency is : `compile(&quot;com.amazonaws:aws-java-sdk:1.11.519&quot;)` \r\n\r\nNote: Similar question is asked by someone in the AWS sdk-java thread.\r\nhttps://github.com/aws/aws-sdk-java/issues/1938\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html","title":"Amazon Java S3 SDK - UploadDirectory","body":"<p>You can use an alternative method of <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html\" rel=\"nofollow noreferrer\">TransferManager</a> class: </p>\n\n<p><code>uploadDirectory(String bucketName, String virtualDirectoryKeyPrefix, File directory, boolean includeSubdirectories, ObjectMetadataProvider metadataProvider, ObjectTaggingProvider taggingProvider, ObjectCannedAclProvider cannedAclProvider)</code></p>\n\n<pre><code>ObjectCannedAclProvider cannedAclProvider = new ObjectCannedAclProvider() {\n        public CannedAccessControlList provideObjectCannedAcl(File file) {\n                return CannedAccessControlList.PublicRead;\n        }\n}\n\nMultipleFileUpload multiUpload = transferManager.uploadDirectory(bucketName, keyPrefix, \n              directory, includeSubdirectories, null, null, cannedAclProvider);\n</code></pre>\n\n<p>The require gradle dependency is : <code>compile(\"com.amazonaws:aws-java-sdk:1.11.519\")</code> </p>\n\n<p>Note: Similar question is asked by someone in the AWS sdk-java thread.\n<a href=\"https://github.com/aws/aws-sdk-java/issues/1938\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-sdk-java/issues/1938</a></p>\n"}],"owner":{"account_id":6830,"reputation":4131,"user_id":11612,"accept_rate":92,"display_name":"Damien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46366514,"answer_count":2,"score":2,"last_activity_date":1678593916,"creation_date":1506009123,"question_id":46348295,"body_markdown":"I am using the Java Amazon S3 SDK to upload files\r\nI was wondering - when using the transferManager to upload a directory - is there a better way to set the Acl to be public-read\r\n\r\nHere is my code\r\n\r\n    public boolean uploadDirectoryToAmazon(String directory, String bucketName, String s3DirectoryKey) {\r\n\t\tboolean result = false;\r\n\r\n        try {\r\n            LOGGER.info(&quot;Uploading a directory to S3&quot;);\r\n\r\n    \t\tBasicAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretAccessKey); \r\n    \t\tAWSStaticCredentialsProvider awsStaticCredentialsProvider = new AWSStaticCredentialsProvider(credentials);\r\n\r\n            AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n            \t\t.withCredentials(awsStaticCredentialsProvider)\r\n            \t\t.withRegion(amazonS3Region)\r\n            \t\t.build();\r\n\r\n            //PutObjectResult putObjectResult = s3Client.putObject(putObjectRequest);\r\n            //http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html\r\n            TransferManager transferManager = TransferManagerBuilder.\r\n            \t\tstandard().\r\n            \t\twithS3Client(s3Client)\r\n            \t\t.build();\r\n\r\n                      \r\n\t\t\t            ObjectMetadataProvider objectTaggingProvider = new ObjectMetadataProvider() {\r\n                public void provideObjectMetadata(File file, ObjectMetadata metadata) {\r\n                \tif (BooleanUtils.isTrue(isPublic)) {\r\n\t\t\t\t\t\tmetadata.setHeader(Headers.S3_CANNED_ACL, CannedAccessControlList.PublicRead);\r\n\t\t            }\r\n                }\r\n            };\r\n                      \r\n            File dirToUpload = new File(directory);\r\n            MultipleFileUpload uploadDirectoryResult = transferManager.uploadDirectory(bucketName, s3DirectoryKey, dirToUpload, false, objectMetadataProvider);\r\n \r\n            //Call method to log the progress\r\n            logProgress(uploadDirectoryResult);            \r\n\r\n            result = true;  \r\n            transferManager.shutdownNow();\r\n         } catch (AmazonServiceException ase) {\r\n            LOGGER.error(&quot;Caught an AmazonServiceException, which means your request made it to Amazon S3, but was rejected with an error response for some reason.&quot;);\r\n            LOGGER.error(&quot;Error Message:    &quot; + ase.getMessage());\r\n            LOGGER.error(&quot;HTTP Status Code: &quot; + ase.getStatusCode());\r\n            LOGGER.error(&quot;AWS Error Code:   &quot; + ase.getErrorCode());\r\n            LOGGER.error(&quot;Error Type:       &quot; + ase.getErrorType());\r\n            LOGGER.error(&quot;Request ID:       &quot; + ase.getRequestId());\r\n        } catch (AmazonClientException ace) {\r\n            LOGGER.error(&quot;Caught an AmazonClientException, which means the client encountered an internal error while trying to communicate with S3, such as not being able to access the network.&quot;);\r\n            LOGGER.error(&quot;Error Message: &quot; + ace.getMessage());\r\n        }\r\n\t\treturn result;\r\n\t}\r\n\r\nOther file upload options have easy methods to specify the ACL - just wondering if there is an easier way for the uploadDirectory command\r\n\r\nThanks\r\nDamien","title":"Amazon Java S3 SDK - UploadDirectory","body":"<p>I am using the Java Amazon S3 SDK to upload files\nI was wondering - when using the transferManager to upload a directory - is there a better way to set the Acl to be public-read</p>\n\n<p>Here is my code</p>\n\n<pre><code>public boolean uploadDirectoryToAmazon(String directory, String bucketName, String s3DirectoryKey) {\n    boolean result = false;\n\n    try {\n        LOGGER.info(\"Uploading a directory to S3\");\n\n        BasicAWSCredentials credentials = new BasicAWSCredentials(accessKey, secretAccessKey); \n        AWSStaticCredentialsProvider awsStaticCredentialsProvider = new AWSStaticCredentialsProvider(credentials);\n\n        AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n                .withCredentials(awsStaticCredentialsProvider)\n                .withRegion(amazonS3Region)\n                .build();\n\n        //PutObjectResult putObjectResult = s3Client.putObject(putObjectRequest);\n        //http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html\n        TransferManager transferManager = TransferManagerBuilder.\n                standard().\n                withS3Client(s3Client)\n                .build();\n\n\n                    ObjectMetadataProvider objectTaggingProvider = new ObjectMetadataProvider() {\n            public void provideObjectMetadata(File file, ObjectMetadata metadata) {\n                if (BooleanUtils.isTrue(isPublic)) {\n                    metadata.setHeader(Headers.S3_CANNED_ACL, CannedAccessControlList.PublicRead);\n                }\n            }\n        };\n\n        File dirToUpload = new File(directory);\n        MultipleFileUpload uploadDirectoryResult = transferManager.uploadDirectory(bucketName, s3DirectoryKey, dirToUpload, false, objectMetadataProvider);\n\n        //Call method to log the progress\n        logProgress(uploadDirectoryResult);            \n\n        result = true;  \n        transferManager.shutdownNow();\n     } catch (AmazonServiceException ase) {\n        LOGGER.error(\"Caught an AmazonServiceException, which means your request made it to Amazon S3, but was rejected with an error response for some reason.\");\n        LOGGER.error(\"Error Message:    \" + ase.getMessage());\n        LOGGER.error(\"HTTP Status Code: \" + ase.getStatusCode());\n        LOGGER.error(\"AWS Error Code:   \" + ase.getErrorCode());\n        LOGGER.error(\"Error Type:       \" + ase.getErrorType());\n        LOGGER.error(\"Request ID:       \" + ase.getRequestId());\n    } catch (AmazonClientException ace) {\n        LOGGER.error(\"Caught an AmazonClientException, which means the client encountered an internal error while trying to communicate with S3, such as not being able to access the network.\");\n        LOGGER.error(\"Error Message: \" + ace.getMessage());\n    }\n    return result;\n}\n</code></pre>\n\n<p>Other file upload options have easy methods to specify the ACL - just wondering if there is an easier way for the uploadDirectory command</p>\n\n<p>Thanks\nDamien</p>\n"},{"tags":["java","amazon-mws"],"answers":[{"tags":[],"owner":{"account_id":2399146,"reputation":6802,"user_id":2097290,"display_name":"Hazzit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1380458718,"creation_date":1380458718,"answer_id":19078180,"question_id":18833766,"body_markdown":"The way I read this crash report, AMTU got an unexpected result from the MWS servers:\r\n\r\n    MWS responded with an error: Internal Error\r\n\r\nIt seems the error handling in AMTU is not good enough to gracefully handle a HTTP status 500, and there is not a lot you can do about this. You could put a HTTP proxy in between and catch a HTTP 500 on the line before it gets to the AMTU, replacing it with something that AMTU handles more gracefully (e.g. an empty XML result or a time out). It would be preferrable though that Amazon doesn&#39;t send those errors back, after all, a 500 is an error on *their* side of things.\r\n\r\nI seriously doubt the Java version has anything to do with this, but just in case: You can still download JRE6 even though it is end-of-life:\r\n\r\n[Java 6 downloads][1]\r\n\r\nPlease note that the true name of JRE6 is &quot;Java SE runtime environment&quot; and JDK6 is called &quot;Java SE development kit&quot;. At the time of writing, the most current version is &quot;update 45&quot;. You may need to uninstall Java 7 to make sure the AMTU actually uses the version you want it to. Please also note that since AMTU is a 32bit process, you will need the 32bit JRE even if it is run on a 64bit windows.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-javase6-419409.html","title":"AMTU (Amazon Transport Utility) crashing and service not running","body":"<p>The way I read this crash report, AMTU got an unexpected result from the MWS servers:</p>\n\n<pre><code>MWS responded with an error: Internal Error\n</code></pre>\n\n<p>It seems the error handling in AMTU is not good enough to gracefully handle a HTTP status 500, and there is not a lot you can do about this. You could put a HTTP proxy in between and catch a HTTP 500 on the line before it gets to the AMTU, replacing it with something that AMTU handles more gracefully (e.g. an empty XML result or a time out). It would be preferrable though that Amazon doesn't send those errors back, after all, a 500 is an error on <em>their</em> side of things.</p>\n\n<p>I seriously doubt the Java version has anything to do with this, but just in case: You can still download JRE6 even though it is end-of-life:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-javase6-419409.html\" rel=\"nofollow\">Java 6 downloads</a></p>\n\n<p>Please note that the true name of JRE6 is \"Java SE runtime environment\" and JDK6 is called \"Java SE development kit\". At the time of writing, the most current version is \"update 45\". You may need to uninstall Java 7 to make sure the AMTU actually uses the version you want it to. Please also note that since AMTU is a 32bit process, you will need the 32bit JRE even if it is run on a 64bit windows.</p>\n"}],"owner":{"account_id":1342219,"reputation":243,"user_id":1283691,"accept_rate":59,"display_name":"monsey11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19078180,"answer_count":1,"score":0,"last_activity_date":1678593551,"creation_date":1379351996,"question_id":18833766,"body_markdown":"Having a problem running AMTU on a windows 7 Pro Machine.\r\n\r\nIt runs fine when it opens but it crashes after running a few days.\r\n\r\nHere is the Crash Report.\r\n&gt;2013-09-14 09:48:19,482 [pool-3-thread-3] com.amazon.merchants.services.RetrieverService - Unable to retrieve unacknowledged report information - MWS Request ID unknown\r\n2013-09-14 09:48:19,482 [pool-3-thread-3] com.amazon.merchants.services.RetrieverService - MWS responded with an error: Internal Error\r\ncom.amazonaws.mws.MarketplaceWebServiceException: Internal Error\r\n\tat com.amazonaws.mws.MarketplaceWebServiceClient.processErrors(MarketplaceWebServiceClient.java:2342)\r\n\tat com.amazonaws.mws.MarketplaceWebServiceClient.invoke(MarketplaceWebServiceClient.java:2231)\r\n\tat com.amazonaws.mws.MarketplaceWebServiceClient.invoke(MarketplaceWebServiceClient.java:2011)\r\n\tat com.amazonaws.mws.MarketplaceWebServiceClient.getReportList(MarketplaceWebServiceClient.java:1206)\r\n\tat com.amazon.merchants.services.RetrieverService.processReportCheck(RetrieverService.java:94)\r\n\tat com.amazon.merchants.services.RetrieverService.run(RetrieverService.java:46)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRunAndReset(Unknown Source)\r\n\tat java.util.concurrent.FutureTask.runAndReset(Unknown Source)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(Unknown Source)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(Unknown Source)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nI also cannot start the Windows Service called AMTU. Get the following Error:\r\n&gt;The AMTU service on local computer has started and then stopped\r\n\r\n\r\nI am suspecting its a Java version issue.\r\n\r\nIn the AMTU documentation it says &quot;requires Java version 1.6.0 or later (listed as JDK/JRE - 6)&quot; and links to http://www.oracle.com/technetwork/java/archive-139210.html. The link has many download links, but nothing listed &quot;JDK/JRE - 6&quot;.\r\n\r\n\r\nAMTU documentation: https://d28hcfptedr5ia.cloudfront.net/ug/AMTU_2.2_UserGuide.pdf \r\n\r\nAny Ideas?\r\n\r\nThanks in advance.","title":"AMTU (Amazon Transport Utility) crashing and service not running","body":"<p>Having a problem running AMTU on a windows 7 Pro Machine.</p>\n\n<p>It runs fine when it opens but it crashes after running a few days.</p>\n\n<p>Here is the Crash Report.</p>\n\n<blockquote>\n  <p>2013-09-14 09:48:19,482 [pool-3-thread-3] com.amazon.merchants.services.RetrieverService - Unable to retrieve unacknowledged report information - MWS Request ID unknown\n  2013-09-14 09:48:19,482 [pool-3-thread-3] com.amazon.merchants.services.RetrieverService - MWS responded with an error: Internal Error\n  com.amazonaws.mws.MarketplaceWebServiceException: Internal Error\n      at com.amazonaws.mws.MarketplaceWebServiceClient.processErrors(MarketplaceWebServiceClient.java:2342)\n      at com.amazonaws.mws.MarketplaceWebServiceClient.invoke(MarketplaceWebServiceClient.java:2231)\n      at com.amazonaws.mws.MarketplaceWebServiceClient.invoke(MarketplaceWebServiceClient.java:2011)\n      at com.amazonaws.mws.MarketplaceWebServiceClient.getReportList(MarketplaceWebServiceClient.java:1206)\n      at com.amazon.merchants.services.RetrieverService.processReportCheck(RetrieverService.java:94)\n      at com.amazon.merchants.services.RetrieverService.run(RetrieverService.java:46)\n      at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n      at java.util.concurrent.FutureTask$Sync.innerRunAndReset(Unknown Source)\n      at java.util.concurrent.FutureTask.runAndReset(Unknown Source)\n      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$101(Unknown Source)\n      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.runPeriodic(Unknown Source)\n      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n      at java.lang.Thread.run(Unknown Source)</p>\n</blockquote>\n\n<p>I also cannot start the Windows Service called AMTU. Get the following Error:</p>\n\n<blockquote>\n  <p>The AMTU service on local computer has started and then stopped</p>\n</blockquote>\n\n<p>I am suspecting its a Java version issue.</p>\n\n<p>In the AMTU documentation it says \"requires Java version 1.6.0 or later (listed as JDK/JRE - 6)\" and links to <a href=\"http://www.oracle.com/technetwork/java/archive-139210.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/java/archive-139210.html</a>. The link has many download links, but nothing listed \"JDK/JRE - 6\".</p>\n\n<p>AMTU documentation: <a href=\"https://d28hcfptedr5ia.cloudfront.net/ug/AMTU_2.2_UserGuide.pdf\" rel=\"nofollow\">https://d28hcfptedr5ia.cloudfront.net/ug/AMTU_2.2_UserGuide.pdf</a> </p>\n\n<p>Any Ideas?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","amazon-mws"],"answers":[{"tags":[],"owner":{"account_id":4161291,"reputation":587,"user_id":3411338,"display_name":"iMakeWebsites"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1523476805,"creation_date":1523476805,"answer_id":49783557,"question_id":49770017,"body_markdown":"74259017632 is your requestID.\r\n\r\nYou need to send your reportID.\r\n\r\nSo there are 3 steps:\r\n\r\n 1. GetReportRequestList for _GET_XML_ALL_ORDERS_DATA_BY_ORDER_DATE_\r\n 2. GetReportList for 74259017632 (this will give you the reportid)\r\n 3. GetReport for the reportID\r\n\r\n","title":"InputDataError Amazon MSW Java","body":"<p>74259017632 is your requestID.</p>\n\n<p>You need to send your reportID.</p>\n\n<p>So there are 3 steps:</p>\n\n<ol>\n<li>GetReportRequestList for _GET_XML_ALL_ORDERS_DATA_BY_ORDER_DATE_</li>\n<li>GetReportList for 74259017632 (this will give you the reportid)</li>\n<li>GetReport for the reportID</li>\n</ol>\n"}],"owner":{"account_id":13148635,"reputation":153,"user_id":9497956,"display_name":"Mara M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49783557,"answer_count":1,"score":1,"last_activity_date":1678593540,"creation_date":1523434842,"question_id":49770017,"body_markdown":"I&#39;m trying to download a report with Amazon MWS Java samples. I made the request report and then I made the get report request list. The answer is that it&#39;s _DONE_ but when I&#39;m trying to call the getReport I&#39;m getting this error:\r\nCaught Exception: InputDataError\r\nResponse Status Code: 400\r\nError Code: InputDataError\r\nError Type: Sender\r\nThe keys and IDs are the same as in other requests that work. I&#39;m getting the Report ID from this answer which I receive from get report request list:\r\n\r\n    GetReportRequestListResponse\r\n        GetReportRequestListResult\r\n            HasNext\r\n                false\r\n            ReportRequestInfo\r\n                ReportRequestId\r\n                    74259017632\r\n                ReportType\r\n                    _GET_XML_ALL_ORDERS_DATA_BY_ORDER_DATE_\r\n                StartDate\r\n                    2018-01-31T22:00:00Z\r\n                EndDate\r\n                    2018-02-01T22:00:00Z\r\n                SubmittedDate\r\n                    2018-04-11T08:10:44Z\r\n                CompletedDate\r\n                    2018-04-11T08:10:54Z\r\n                ReportProcessingStatus\r\n                    _DONE_\r\n        ResponseMetadata\r\n            RequestId\r\n                9d7668b4-8568-4522-aefc-1bc72f33e20d\r\nAnd this is how I set my report ID:\r\n\r\n    GetReportRequest request = new GetReportRequest();\r\n    request.setMerchant( merchantId );\r\n    request.setReportId( &quot;74259017632&quot; );","title":"InputDataError Amazon MSW Java","body":"<p>I'm trying to download a report with Amazon MWS Java samples. I made the request report and then I made the get report request list. The answer is that it's <em>DONE</em> but when I'm trying to call the getReport I'm getting this error:\nCaught Exception: InputDataError\nResponse Status Code: 400\nError Code: InputDataError\nError Type: Sender\nThe keys and IDs are the same as in other requests that work. I'm getting the Report ID from this answer which I receive from get report request list:</p>\n\n<pre><code>GetReportRequestListResponse\n    GetReportRequestListResult\n        HasNext\n            false\n        ReportRequestInfo\n            ReportRequestId\n                74259017632\n            ReportType\n                _GET_XML_ALL_ORDERS_DATA_BY_ORDER_DATE_\n            StartDate\n                2018-01-31T22:00:00Z\n            EndDate\n                2018-02-01T22:00:00Z\n            SubmittedDate\n                2018-04-11T08:10:44Z\n            CompletedDate\n                2018-04-11T08:10:54Z\n            ReportProcessingStatus\n                _DONE_\n    ResponseMetadata\n        RequestId\n            9d7668b4-8568-4522-aefc-1bc72f33e20d\n</code></pre>\n\n<p>And this is how I set my report ID:</p>\n\n<pre><code>GetReportRequest request = new GetReportRequest();\nrequest.setMerchant( merchantId );\nrequest.setReportId( \"74259017632\" );\n</code></pre>\n"},{"tags":["java","linux","anaconda"],"answers":[{"tags":[],"owner":{"account_id":11341910,"reputation":3,"user_id":8315680,"display_name":"SunScript"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675005723,"creation_date":1675005723,"answer_id":75276042,"question_id":75153495,"body_markdown":"I solved this issue and I&#39;m posting in case others encounter the same. This seemed to be due to some conflict between openjdk and java-jdk conda packages. I solved it by: \r\n\r\n    conda install --force-reinstall java-jdk","title":"java: symbol lookup error: java: undefined symbol: JLI_StringDup in conda environment","body":"<p>I solved this issue and I'm posting in case others encounter the same. This seemed to be due to some conflict between openjdk and java-jdk conda packages. I solved it by:</p>\n<pre><code>conda install --force-reinstall java-jdk\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19926620,"reputation":11,"user_id":14601171,"display_name":"George Wu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678592922,"creation_date":1678592922,"answer_id":75710958,"question_id":75153495,"body_markdown":"I had the same problem, and I solved it by simply removing java-jdk using:\r\n```\r\nconda remove java-jdk\r\n```","title":"java: symbol lookup error: java: undefined symbol: JLI_StringDup in conda environment","body":"<p>I had the same problem, and I solved it by simply removing java-jdk using:</p>\n<pre><code>conda remove java-jdk\n</code></pre>\n"}],"owner":{"account_id":11341910,"reputation":3,"user_id":8315680,"display_name":"SunScript"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75276042,"answer_count":2,"score":0,"last_activity_date":1678592922,"creation_date":1674000518,"question_id":75153495,"body_markdown":"Running anything with java (even just the java command on its own) yields the error:\r\n\r\n`java: symbol lookup error: java: undefined symbol: JLI_StringDup`\r\n\r\nI am in a conda environment with java-jdk and openjdk installed.\r\nOS is Red Hat Enterprise Linux Server, version 7.9.\r\n\r\n\r\nI believe that this JLI_StringDup might have something to do with libjli, so I tried adding paths to LIBRARY_PATH, LD_LIBRARY_PATH, JAVA_LD_LIBRARY_PATH and even PATH (cause why not) to no avail:\r\n\r\n```\r\nPATH=$PATH:&lt;conda-env&gt;/lib/jvm/lib\r\nLIBRARY_PATH=$LIBRARY_PATH:&lt;conda-env&gt;/lib/jvm/lib\r\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;conda-env&gt;/lib/jvm/lib\r\nJAVA_LD_LIBRARY_PATH=$JAVA_LD_LIBRARY_PATH:&lt;conda-env&gt;/lib/jvm/lib\r\n\r\nPATH=$PATH:&lt;conda-env&gt;/jre/lib\r\nLIBRARY_PATH=$LIBRARY_PATH:&lt;conda-env&gt;/jre/lib\r\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib\r\nJAVA_LD_LIBRARY_PATH=$JAVA_LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib\r\n\r\nPATH=$PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\r\nLIBRARY_PATH=$LIBRARY_PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\r\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\r\nJAVA_LD_LIBRARY_PATH=$JAVA_LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\r\n\r\njava\r\n```\r\n\r\nWhere &lt;conda-env&gt; is the path to my conda environment, and it returns:\r\n\r\n`java: symbol lookup error: java: undefined symbol: JLI_StringDup`\r\n\r\nDoes anyone know how to solve this?","title":"java: symbol lookup error: java: undefined symbol: JLI_StringDup in conda environment","body":"<p>Running anything with java (even just the java command on its own) yields the error:</p>\n<p><code>java: symbol lookup error: java: undefined symbol: JLI_StringDup</code></p>\n<p>I am in a conda environment with java-jdk and openjdk installed.\nOS is Red Hat Enterprise Linux Server, version 7.9.</p>\n<p>I believe that this JLI_StringDup might have something to do with libjli, so I tried adding paths to LIBRARY_PATH, LD_LIBRARY_PATH, JAVA_LD_LIBRARY_PATH and even PATH (cause why not) to no avail:</p>\n<pre><code>PATH=$PATH:&lt;conda-env&gt;/lib/jvm/lib\nLIBRARY_PATH=$LIBRARY_PATH:&lt;conda-env&gt;/lib/jvm/lib\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;conda-env&gt;/lib/jvm/lib\nJAVA_LD_LIBRARY_PATH=$JAVA_LD_LIBRARY_PATH:&lt;conda-env&gt;/lib/jvm/lib\n\nPATH=$PATH:&lt;conda-env&gt;/jre/lib\nLIBRARY_PATH=$LIBRARY_PATH:&lt;conda-env&gt;/jre/lib\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib\nJAVA_LD_LIBRARY_PATH=$JAVA_LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib\n\nPATH=$PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\nLIBRARY_PATH=$LIBRARY_PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\nJAVA_LD_LIBRARY_PATH=$JAVA_LD_LIBRARY_PATH:&lt;conda-env&gt;/jre/lib/amd64/jli\n\njava\n</code></pre>\n<p>Where  is the path to my conda environment, and it returns:</p>\n<p><code>java: symbol lookup error: java: undefined symbol: JLI_StringDup</code></p>\n<p>Does anyone know how to solve this?</p>\n"},{"tags":["java","android","xml","simple-framework","amazon-advertising-api"],"answers":[{"tags":[],"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1313357364,"creation_date":1313357364,"answer_id":7059855,"question_id":7059565,"body_markdown":"N.B, this is just from reading the docs (the only question is if it should be name=&quot;Author&quot; or entry=&quot;Author&quot;):\r\n\r\n    @Element\r\n    public class ItemAttributes {\r\n        @Element(inline=true, type=String.class, name=&quot;Author&quot;)\r\n        public List&lt;String&gt; authors;\r\n    ...\r\n    }","title":"Multiple elements with the same name with SimpleXML and Java","body":"<p>N.B, this is just from reading the docs (the only question is if it should be name=\"Author\" or entry=\"Author\"):</p>\n\n<pre><code>@Element\npublic class ItemAttributes {\n    @Element(inline=true, type=String.class, name=\"Author\")\n    public List&lt;String&gt; authors;\n...\n}\n</code></pre>\n"}],"owner":{"account_id":270246,"reputation":868,"user_id":560089,"accept_rate":100,"display_name":"LouieGeetoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2022,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7059855,"answer_count":1,"score":2,"last_activity_date":1678592772,"creation_date":1313354225,"question_id":7059565,"body_markdown":"I&#39;m trying to use SimpleXML to parse an XML document (an `ItemLookupResponse` for a book from the [Amazon Product Advertising API][1]) which contains the following element:\r\n\r\n    &lt;ItemAttributes&gt;\r\n      &lt;Author&gt;Shane Conder&lt;/Author&gt;\r\n      &lt;Author&gt;Lauren Darcey&lt;/Author&gt;\r\n      &lt;Manufacturer&gt;Pearson Educacion&lt;/Manufacturer&gt;\r\n      &lt;ProductGroup&gt;Book&lt;/ProductGroup&gt;\r\n      &lt;Title&gt;Android Wireless Application Development: Barnes &amp; Noble Special Edition&lt;/Title&gt;\r\n    &lt;/ItemAttributes&gt;\r\n\r\nMy problem is that I don&#39;t know how to deal with the multiple possible `Author` elements.\r\n\r\nHere&#39;s what I have right now for the corresponding POJO (Plain Old Java Object), keeping in mind that it&#39;s not handling the case of multiple `Author`s:\r\n\r\n    @Element\r\n    public class ItemAttributes {\r\n        @Element\r\n        public String Author;\r\n        \r\n        @Element\r\n        public String Manufacturer;\r\n        \r\n        @Element\r\n        public String Title;\r\n    }\r\n\r\n(I don&#39;t care about the `ProductGroup`, so it&#39;s not in the class -- I&#39;m just setting SimpleXML&#39;s `strict` mode to `off` to allow for that.)\r\n\r\nI couldn&#39;t find an example in [the documentation][2] that corresponded with such a case. Using an `ElementList` with `(inline=true)` seemed along the right lines, but I didn&#39;t see how to do it for String (as opposed to a separate Author class, which I have no need for and don&#39;t see how it would even work).\r\n\r\nHere&#39;s a similar question and answer, but for PHP: [php - simpleXML how to access a specific element with the same name as others?][3] I don&#39;t know what the Java equivalent would be to the accepted answer.\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: http://docs.amazonwebservices.com/AWSECommerceService/2011-08-01/DG/\r\n  [2]: http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php\r\n  [3]: https://stackoverflow.com/questions/3652683/php-simplexml-how-to-access-a-specific-element-with-the-same-name-as-others","title":"Multiple elements with the same name with SimpleXML and Java","body":"<p>I'm trying to use SimpleXML to parse an XML document (an <code>ItemLookupResponse</code> for a book from the <a href=\"http://docs.amazonwebservices.com/AWSECommerceService/2011-08-01/DG/\" rel=\"nofollow noreferrer\">Amazon Product Advertising API</a>) which contains the following element:</p>\n\n<pre><code>&lt;ItemAttributes&gt;\n  &lt;Author&gt;Shane Conder&lt;/Author&gt;\n  &lt;Author&gt;Lauren Darcey&lt;/Author&gt;\n  &lt;Manufacturer&gt;Pearson Educacion&lt;/Manufacturer&gt;\n  &lt;ProductGroup&gt;Book&lt;/ProductGroup&gt;\n  &lt;Title&gt;Android Wireless Application Development: Barnes &amp; Noble Special Edition&lt;/Title&gt;\n&lt;/ItemAttributes&gt;\n</code></pre>\n\n<p>My problem is that I don't know how to deal with the multiple possible <code>Author</code> elements.</p>\n\n<p>Here's what I have right now for the corresponding POJO (Plain Old Java Object), keeping in mind that it's not handling the case of multiple <code>Author</code>s:</p>\n\n<pre><code>@Element\npublic class ItemAttributes {\n    @Element\n    public String Author;\n\n    @Element\n    public String Manufacturer;\n\n    @Element\n    public String Title;\n}\n</code></pre>\n\n<p>(I don't care about the <code>ProductGroup</code>, so it's not in the class -- I'm just setting SimpleXML's <code>strict</code> mode to <code>off</code> to allow for that.)</p>\n\n<p>I couldn't find an example in <a href=\"http://simple.sourceforge.net/download/stream/doc/tutorial/tutorial.php\" rel=\"nofollow noreferrer\">the documentation</a> that corresponded with such a case. Using an <code>ElementList</code> with <code>(inline=true)</code> seemed along the right lines, but I didn't see how to do it for String (as opposed to a separate Author class, which I have no need for and don't see how it would even work).</p>\n\n<p>Here's a similar question and answer, but for PHP: <a href=\"https://stackoverflow.com/questions/3652683/php-simplexml-how-to-access-a-specific-element-with-the-same-name-as-others\">php - simpleXML how to access a specific element with the same name as others?</a> I don't know what the Java equivalent would be to the accepted answer.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","animation"],"answers":[{"tags":[],"owner":{"account_id":27995883,"reputation":11,"user_id":21381135,"display_name":"OrlanDroyd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678592747,"creation_date":1678592747,"answer_id":75710951,"question_id":75710341,"body_markdown":"The problem is in the logic of the `back()` function, which by calling `startActivity()` again causes the first activity to enter the `onCreate()` method.\r\nThe solution would be to leave it alone in a `finish()` so that the lifecycle enters the `onRestart()` and `onResume()` method directly.\r\n\r\n      public void back(){\r\n        // perform any necessary tasks before going back\r\n        finish(); // close the current activity\r\n      }","title":"How to make animation only run when open or restart app in adnroid studio","body":"<p>The problem is in the logic of the <code>back()</code> function, which by calling <code>startActivity()</code> again causes the first activity to enter the <code>onCreate()</code> method.\nThe solution would be to leave it alone in a <code>finish()</code> so that the lifecycle enters the <code>onRestart()</code> and <code>onResume()</code> method directly.</p>\n<pre><code>  public void back(){\n    // perform any necessary tasks before going back\n    finish(); // close the current activity\n  }\n</code></pre>\n"}],"owner":{"account_id":24926318,"reputation":29,"user_id":18794019,"display_name":"Noob tv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678592747,"creation_date":1678579969,"question_id":75710341,"body_markdown":"I have a big program for the end of year project, in which in the welcome interface of the application I put in a few animations, bundle it into an animation() function and put it in onCreate. The problem here is that it won&#39;t stop when I move from the 2nd Activity to the first with Intent, it keeps running non-stop even though the Activity lifecycle is onCreate called only once. So the question I want to ask is how can we make animation() only run when the app opens or restarts.\r\n\r\nHere is the simple example of code that i just create to try fix this problem.\r\n\r\nActivity 1\r\n```\r\n    package com.example.stopanimation;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.view.animation.Animation;\r\n    import android.view.animation.AnimationUtils;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    TextView view;\r\n    Button button;\r\n    boolean isFirstTime = true;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        view = findViewById(R.id.text);\r\n        button = findViewById(R.id.button);\r\n\r\n        if (isFirstTime) {\r\n            animation();\r\n            isFirstTime = false;\r\n        }\r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(MainActivity.this, MainActivity2.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    public void animation(){\r\n        Animation animation = AnimationUtils.loadAnimation(this,R.anim.alpha);\r\n        Animation animatio = AnimationUtils.loadAnimation(this,R.anim.alpha);\r\n        view.startAnimation(animation);\r\n        button.startAnimation(animatio);\r\n    }\r\n    }\r\n\r\n```\r\nActivity 2\r\n```\r\n    package com.example.stopanimation;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n\r\n    public class MainActivity2 extends AppCompatActivity {\r\n    Button button;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        button = findViewById(R.id.back);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                back();\r\n            }\r\n        });\r\n    }\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        overridePendingTransition(0, 0);\r\n    }\r\n    public void back(){\r\n        // perform any necessary tasks before going back\r\n        finish(); // close the current activity\r\n        overridePendingTransition(0, 0);\r\n        startActivity(new Intent(MainActivity2.this,MainActivity.class));\r\n    }\r\n\r\n    }\r\n```\r\nI did try write overridePendingTransition(0, 0); on onPaused, onResume but i did&#39;nt seem to \r\n","title":"How to make animation only run when open or restart app in adnroid studio","body":"<p>I have a big program for the end of year project, in which in the welcome interface of the application I put in a few animations, bundle it into an animation() function and put it in onCreate. The problem here is that it won't stop when I move from the 2nd Activity to the first with Intent, it keeps running non-stop even though the Activity lifecycle is onCreate called only once. So the question I want to ask is how can we make animation() only run when the app opens or restarts.</p>\n<p>Here is the simple example of code that i just create to try fix this problem.</p>\n<p>Activity 1</p>\n<pre><code>    package com.example.stopanimation;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.content.Intent;\n    import android.os.Bundle;\n    import android.view.View;\n    import android.view.animation.Animation;\n    import android.view.animation.AnimationUtils;\n    import android.widget.Button;\n    import android.widget.TextView;\n\n    public class MainActivity extends AppCompatActivity {\n    TextView view;\n    Button button;\n    boolean isFirstTime = true;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        view = findViewById(R.id.text);\n        button = findViewById(R.id.button);\n\n        if (isFirstTime) {\n            animation();\n            isFirstTime = false;\n        }\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(MainActivity.this, MainActivity2.class);\n                startActivity(intent);\n            }\n        });\n    }\n\n    public void animation(){\n        Animation animation = AnimationUtils.loadAnimation(this,R.anim.alpha);\n        Animation animatio = AnimationUtils.loadAnimation(this,R.anim.alpha);\n        view.startAnimation(animation);\n        button.startAnimation(animatio);\n    }\n    }\n\n</code></pre>\n<p>Activity 2</p>\n<pre><code>    package com.example.stopanimation;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    import android.content.Intent;\n    import android.os.Bundle;\n    import android.view.View;\n    import android.widget.Button;\n\n    public class MainActivity2 extends AppCompatActivity {\n    Button button;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        button = findViewById(R.id.back);\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                back();\n            }\n        });\n    }\n    @Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        overridePendingTransition(0, 0);\n    }\n    public void back(){\n        // perform any necessary tasks before going back\n        finish(); // close the current activity\n        overridePendingTransition(0, 0);\n        startActivity(new Intent(MainActivity2.this,MainActivity.class));\n    }\n\n    }\n</code></pre>\n<p>I did try write overridePendingTransition(0, 0); on onPaused, onResume but i did'nt seem to</p>\n"},{"tags":["java","xml","amazon-advertising-api"],"answers":[{"tags":[],"owner":{"account_id":1936670,"reputation":2894,"user_id":1743971,"display_name":"Yeshodhan Kulkarni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494970244,"creation_date":1494970244,"answer_id":44011921,"question_id":44006582,"body_markdown":"SignedRequestHelper is a class available in one of the code samples from AWS here:\r\n\r\nhttp://docs.aws.amazon.com/AWSECommerceService/latest/DG/AuthJavaSampleSig2.html\r\n\r\nYou can copy/paste the code in your project to make it run and work.","title":"Amazon Advertising API: Cannot locate SignedRequestHelper class","body":"<p>SignedRequestHelper is a class available in one of the code samples from AWS here:</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AWSECommerceService/latest/DG/AuthJavaSampleSig2.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/AWSECommerceService/latest/DG/AuthJavaSampleSig2.html</a></p>\n\n<p>You can copy/paste the code in your project to make it run and work.</p>\n"}],"owner":{"account_id":10911612,"reputation":1,"user_id":8020837,"display_name":"Max01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678592557,"creation_date":1494951205,"question_id":44006582,"body_markdown":"I have got code from amazon scratchpad and got the package required. The SignedRequestHelper class is not in the package and i am unable to run the program. I am attempting to get the price of the item using the amazon asin number.\r\n\r\n    package com.amazon.advertising.api.sample;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    \r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Node;\r\n    \r\n    /*\r\n     * This class shows how to make a simple authenticated call to the\r\n     * Amazon Product Advertising API.\r\n     *\r\n     * See the README.html that came with this sample for instructions on\r\n     * configuring and running the sample.\r\n     */\r\n    public class lookup {\r\n    \r\n        /*\r\n         * Your AWS Access Key ID, as taken from the AWS Your Account page.\r\n         */\r\n        private static final String AWS_ACCESS_KEY_ID = &quot;XXXXXX&quot;;\r\n    \r\n        /*\r\n         * Your AWS Secret Key corresponding to the above ID, as taken from the AWS\r\n         * Your Account page.\r\n         */\r\n        private static final String AWS_SECRET_KEY = &quot;XXXXXXX&quot;;\r\n    \r\n        /*\r\n         * Use the end-point according to the region you are interested in.\r\n         */\r\n        private static final String ENDPOINT = &quot;webservices.amazon.com&quot;;\r\n        \r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            /*\r\n             * Set up the signed requests helper.\r\n             */\r\n            SignedRequestsHelper helper;\r\n    \r\n            try {\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return;\r\n            }\r\n    \r\n            String requestUrl = null;\r\n    \r\n            Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n    \r\n            params.put(&quot;Service&quot;, &quot;AWSECommerceService&quot;);\r\n            params.put(&quot;Operation&quot;, &quot;ItemLookup&quot;);\r\n            params.put(&quot;AWSAccessKeyId&quot;, &quot;XXXXXX&quot;);\r\n            params.put(&quot;AssociateTag&quot;, &quot;XXXXX&quot;);\r\n            params.put(&quot;ItemId&quot;, &quot;B01H57GXUQ&quot;);\r\n            params.put(&quot;IdType&quot;, &quot;ASIN&quot;);\r\n            params.put(&quot;ResponseGroup&quot;, &quot;Images,ItemAttributes,Offers&quot;);\r\n    \r\n            requestUrl = helper.sign(params);\r\n    \r\n            System.out.println(&quot;Signed URL: \\&quot;&quot; + requestUrl + &quot;\\&quot;&quot;);\r\n        }\r\n    }\r\n\r\nHow would i be able to get the signedrequestshelper method or how would i be able to change the code?\r\n","title":"Amazon Advertising API: Cannot locate SignedRequestHelper class","body":"<p>I have got code from amazon scratchpad and got the package required. The SignedRequestHelper class is not in the package and i am unable to run the program. I am attempting to get the price of the item using the amazon asin number.</p>\n\n<pre><code>package com.amazon.advertising.api.sample;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\n\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Node;\n\n/*\n * This class shows how to make a simple authenticated call to the\n * Amazon Product Advertising API.\n *\n * See the README.html that came with this sample for instructions on\n * configuring and running the sample.\n */\npublic class lookup {\n\n    /*\n     * Your AWS Access Key ID, as taken from the AWS Your Account page.\n     */\n    private static final String AWS_ACCESS_KEY_ID = \"XXXXXX\";\n\n    /*\n     * Your AWS Secret Key corresponding to the above ID, as taken from the AWS\n     * Your Account page.\n     */\n    private static final String AWS_SECRET_KEY = \"XXXXXXX\";\n\n    /*\n     * Use the end-point according to the region you are interested in.\n     */\n    private static final String ENDPOINT = \"webservices.amazon.com\";\n\n\n    public static void main(String[] args) {\n\n        /*\n         * Set up the signed requests helper.\n         */\n        SignedRequestsHelper helper;\n\n        try {\n        } catch (Exception e) {\n            e.printStackTrace();\n            return;\n        }\n\n        String requestUrl = null;\n\n        Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n\n        params.put(\"Service\", \"AWSECommerceService\");\n        params.put(\"Operation\", \"ItemLookup\");\n        params.put(\"AWSAccessKeyId\", \"XXXXXX\");\n        params.put(\"AssociateTag\", \"XXXXX\");\n        params.put(\"ItemId\", \"B01H57GXUQ\");\n        params.put(\"IdType\", \"ASIN\");\n        params.put(\"ResponseGroup\", \"Images,ItemAttributes,Offers\");\n\n        requestUrl = helper.sign(params);\n\n        System.out.println(\"Signed URL: \\\"\" + requestUrl + \"\\\"\");\n    }\n}\n</code></pre>\n\n<p>How would i be able to get the signedrequestshelper method or how would i be able to change the code?</p>\n"},{"tags":["java","api","web-services","amazon-advertising-api"],"answers":[{"tags":[],"owner":{"account_id":20634,"reputation":12774,"user_id":49505,"display_name":"joschi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1309089158,"creation_date":1309089158,"answer_id":6483733,"question_id":6483665,"body_markdown":"Sounds like you wanted to use the [Amazon Product Advertising API][1].\r\n\r\n\r\n  [1]: https://affiliate-program.amazon.com/gp/advertising/api/detail/main.html","title":"Google goggles with Intent OR Amazon API?","body":"<p>Sounds like you wanted to use the <a href=\"https://affiliate-program.amazon.com/gp/advertising/api/detail/main.html\" rel=\"nofollow\">Amazon Product Advertising API</a>.</p>\n"},{"tags":[],"owner":{"account_id":13062,"reputation":21722,"user_id":26039,"accept_rate":82,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1309096437,"creation_date":1309096437,"answer_id":6484382,"question_id":6483665,"body_markdown":"If you&#39;re looking for rather &quot;raw&quot; information about certain books (no image covers, user reviews etc.), you can use [SRU/SRW][1] to search catalogs like [The Library Of Congress][2]. Amazon and Google are definitively more friendly to users, but professional systems would probably prefer authorities from their own field, like LOC. And, FWIW, SRU/W is a standard, and not a commercial service.\r\n\r\nThe use of SRU/SRW (pretty much the same thing, one uses Url, the other Web-service) requires some investment, but if you&#39;d like to execute the same queries over and over again, it would not require thorough learning of the complexities of the query language and the protocol.\r\n\r\nYou can find some reference implementations [here][3].\r\n\r\n\r\n  [1]: http://www.loc.gov/standards/sru/\r\n  [2]: http://catalog.loc.gov/\r\n  [3]: http://www.loc.gov/standards/sru/resources/implementations.html","title":"Google goggles with Intent OR Amazon API?","body":"<p>If you're looking for rather \"raw\" information about certain books (no image covers, user reviews etc.), you can use <a href=\"http://www.loc.gov/standards/sru/\" rel=\"nofollow\">SRU/SRW</a> to search catalogs like <a href=\"http://catalog.loc.gov/\" rel=\"nofollow\">The Library Of Congress</a>. Amazon and Google are definitively more friendly to users, but professional systems would probably prefer authorities from their own field, like LOC. And, FWIW, SRU/W is a standard, and not a commercial service.</p>\n\n<p>The use of SRU/SRW (pretty much the same thing, one uses Url, the other Web-service) requires some investment, but if you'd like to execute the same queries over and over again, it would not require thorough learning of the complexities of the query language and the protocol.</p>\n\n<p>You can find some reference implementations <a href=\"http://www.loc.gov/standards/sru/resources/implementations.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2515966,"reputation":81,"user_id":2187409,"display_name":"TMDQ"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363710516,"creation_date":1363710516,"answer_id":15505094,"question_id":6483665,"body_markdown":"kooaba http://www.kooaba.com has what you need. Image recognition and a database of book covers you can use.","title":"Google goggles with Intent OR Amazon API?","body":"<p>kooaba <a href=\"http://www.kooaba.com\" rel=\"nofollow\">http://www.kooaba.com</a> has what you need. Image recognition and a database of book covers you can use.</p>\n"}],"owner":{"account_id":392377,"reputation":11332,"user_id":753603,"accept_rate":96,"display_name":"TeaCupApp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6483733,"answer_count":3,"score":2,"last_activity_date":1678592500,"creation_date":1309088441,"question_id":6483665,"body_markdown":"I am planning to make an application, In which I need to get information regarding a book. Method which I am having in my mind is to capture an image and let &quot;Google goggles&quot; get information for me. Else I overheard from somewhere that I can use amazon API and send a request with ISBN number to get information for a(any) book.\r\n\r\nI try hard to look at every where with no luck! I am planning to develop in JAVA.\r\n\r\n 1. Where could I find Amazon API(Web service) to do these things?\r\n\r\n\r\n","title":"Google goggles with Intent OR Amazon API?","body":"<p>I am planning to make an application, In which I need to get information regarding a book. Method which I am having in my mind is to capture an image and let \"Google goggles\" get information for me. Else I overheard from somewhere that I can use amazon API and send a request with ISBN number to get information for a(any) book.</p>\n\n<p>I try hard to look at every where with no luck! I am planning to develop in JAVA.</p>\n\n<ol>\n<li>Where could I find Amazon API(Web service) to do these things?</li>\n</ol>\n"},{"tags":["java","rest","jakarta-ee","jaxb","amazon-product-api"],"answers":[{"tags":[],"owner":{"account_id":1520228,"reputation":537,"user_id":3219010,"display_name":"venkat balabhadra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375547667,"creation_date":1375547667,"answer_id":18034994,"question_id":18034781,"body_markdown":"I hope the top level class to covert the response to object should be &quot;ItemSearchResponse&quot;, try creating a class with member variable &quot;Items&quot; which inturn will have another member object array &quot;AmazonItem&quot;","title":"REST xml answer - Jaxb - Amazon product API","body":"<p>I hope the top level class to covert the response to object should be \"ItemSearchResponse\", try creating a class with member variable \"Items\" which inturn will have another member object array \"AmazonItem\"</p>\n"},{"tags":[],"owner":{"account_id":162425,"reputation":148009,"user_id":383861,"display_name":"bdoughan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1375547673,"creation_date":1375547673,"answer_id":18034995,"question_id":18034781,"body_markdown":"It appears that the XML document is namespace qualified.  You can use the package level `@XmlSchema` location annotation to specify the namespace qualification for the entire document.  Package level annotations go on a special call called `package-info` that looks like the following:\r\n\r\n**package-info**\r\n\r\n    @XmlSchema(\r\n        namespace = &quot;http://webservices.amazon.com/AWSECommerceService/2011-08-01&quot;,\r\n        elementFormDefault = XmlNsForm.QUALIFIED)\r\n    package com.your.pkg;\r\n     \r\n    import javax.xml.bind.annotation.XmlNsForm;\r\n    import javax.xml.bind.annotation.XmlSchema;\r\n\r\n**For More Information**\r\n\r\n  - http://blog.bdoughan.com/2010/08/jaxb-namespaces.html","title":"REST xml answer - Jaxb - Amazon product API","body":"<p>It appears that the XML document is namespace qualified.  You can use the package level <code>@XmlSchema</code> location annotation to specify the namespace qualification for the entire document.  Package level annotations go on a special call called <code>package-info</code> that looks like the following:</p>\n\n<p><strong>package-info</strong></p>\n\n<pre><code>@XmlSchema(\n    namespace = \"http://webservices.amazon.com/AWSECommerceService/2011-08-01\",\n    elementFormDefault = XmlNsForm.QUALIFIED)\npackage com.your.pkg;\n\nimport javax.xml.bind.annotation.XmlNsForm;\nimport javax.xml.bind.annotation.XmlSchema;\n</code></pre>\n\n<p><strong>For More Information</strong></p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2010/08/jaxb-namespaces.html\" rel=\"nofollow\">http://blog.bdoughan.com/2010/08/jaxb-namespaces.html</a></li>\n</ul>\n"}],"owner":{"account_id":2826657,"reputation":582,"user_id":2429178,"accept_rate":74,"display_name":"ogdabou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18034995,"answer_count":2,"score":1,"last_activity_date":1678592031,"creation_date":1375546382,"question_id":18034781,"body_markdown":"I&#39;m currently (trying) to work with the amazon product API to search thourgh items.\r\nI have the response in XML, but i have an exception in jaxb, maybe i missed something..\r\n\r\nHere is the XML :\r\n\r\n[XML response from Amazon][1]\r\n\r\n\r\n\r\n\r\nI want to extract items informations, but i&#39;m getting some trouble.\r\n\r\nItem class:\r\n\r\n    @XmlRootElement(name=&quot;ItemSearchResponse&quot;)\r\n    public class AmazonItem\r\n    {\r\n        private String name;\r\n        private String asin;\r\n        private String price;\r\n        \r\n        public AmazonItem()\r\n        {\r\n            \r\n        }\r\n        \r\n        @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\r\n        @XmlElement(name=&quot;Title&quot;)\r\n        public String getName()\r\n        {\r\n            return name;\r\n        }\r\n        public void setName(String name)\r\n        {\r\n            this.name = name;\r\n        }\r\n        \r\n        @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\r\n        @XmlElement(name=&quot;ASIN&quot;)\r\n        public String getAsin()\r\n        {\r\n            return asin;\r\n        }\r\n        public void setAsin(String asin)\r\n        {\r\n            this.asin = asin;\r\n        }\r\n        \r\n        @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\r\n        @XmlElement(name=&quot;FormattedPrice&quot;)\r\n        public String getPrice()\r\n        {\r\n            return price;\r\n        }\r\n        public void setPrice(String price)\r\n        {\r\n            this.price = price;\r\n        }\r\n    }\r\n\r\n\r\nmy builder :\r\n\r\n    public class AmazonItemBuilder\r\n    {\r\n        public AmazonItemBuilder()\r\n        {\r\n            \r\n        }\r\n        \r\n        public List&lt;AmazonItem&gt; build(InputStream response)\r\n        {\r\n            try\r\n            {\r\n                JAXBContext context = JAXBContext.newInstance(AmazonItem.class);\r\n                Unmarshaller unMarshaller = context.createUnmarshaller();\r\n                AmazonItem newItem = (AmazonItem) unMarshaller.unmarshal(response);\r\n                System.out.println(newItem);\r\n            }\r\n            catch (JAXBException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\nthe &quot;response&quot; come from a URL response.openStream();\r\n\r\n\r\nOK i forgot the error -_____-\r\njavax.xml.bind.UnmarshalException: \r\nunexpected element (uri:&quot;http://webservices.amazon.com/AWSECommerceService/2011-08-01&quot;, local:&quot;ItemSearchResponse&quot;). Expected elements are &lt;{}ItemSearchResponse&gt;\r\n\r\n\r\nThank you !\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xlxbb.png","title":"REST xml answer - Jaxb - Amazon product API","body":"<p>I'm currently (trying) to work with the amazon product API to search thourgh items.\nI have the response in XML, but i have an exception in jaxb, maybe i missed something..</p>\n\n<p>Here is the XML :</p>\n\n<p><a href=\"https://i.stack.imgur.com/Xlxbb.png\" rel=\"nofollow\">XML response from Amazon</a></p>\n\n<p>I want to extract items informations, but i'm getting some trouble.</p>\n\n<p>Item class:</p>\n\n<pre><code>@XmlRootElement(name=\"ItemSearchResponse\")\npublic class AmazonItem\n{\n    private String name;\n    private String asin;\n    private String price;\n\n    public AmazonItem()\n    {\n\n    }\n\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlElement(name=\"Title\")\n    public String getName()\n    {\n        return name;\n    }\n    public void setName(String name)\n    {\n        this.name = name;\n    }\n\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlElement(name=\"ASIN\")\n    public String getAsin()\n    {\n        return asin;\n    }\n    public void setAsin(String asin)\n    {\n        this.asin = asin;\n    }\n\n    @XmlJavaTypeAdapter(CollapsedStringAdapter.class)\n    @XmlElement(name=\"FormattedPrice\")\n    public String getPrice()\n    {\n        return price;\n    }\n    public void setPrice(String price)\n    {\n        this.price = price;\n    }\n}\n</code></pre>\n\n<p>my builder :</p>\n\n<pre><code>public class AmazonItemBuilder\n{\n    public AmazonItemBuilder()\n    {\n\n    }\n\n    public List&lt;AmazonItem&gt; build(InputStream response)\n    {\n        try\n        {\n            JAXBContext context = JAXBContext.newInstance(AmazonItem.class);\n            Unmarshaller unMarshaller = context.createUnmarshaller();\n            AmazonItem newItem = (AmazonItem) unMarshaller.unmarshal(response);\n            System.out.println(newItem);\n        }\n        catch (JAXBException e)\n        {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>the \"response\" come from a URL response.openStream();</p>\n\n<p>OK i forgot the error -<strong>_</strong>-\njavax.xml.bind.UnmarshalException: \nunexpected element (uri:\"<a href=\"http://webservices.amazon.com/AWSECommerceService/2011-08-01\" rel=\"nofollow\">http://webservices.amazon.com/AWSECommerceService/2011-08-01</a>\", local:\"ItemSearchResponse\"). Expected elements are &lt;{}ItemSearchResponse></p>\n\n<p>Thank you !</p>\n"},{"tags":["java","hashmap","nlp"],"answers":[{"tags":[],"owner":{"account_id":1281287,"reputation":4633,"user_id":1235336,"accept_rate":100,"display_name":"Alex Stybaev"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1448134632,"creation_date":1333357925,"answer_id":9973653,"question_id":9973596,"body_markdown":"Why can&#39;t you use something like this:\r\n\r\n    class Bigram{\r\n        private String firstItem;\r\n        private String secondItem;\r\n    \r\n        &lt;getters/setters&gt;\r\n    \r\n        @Override\r\n        public int hashCode(){\r\n            ...\r\n        }\r\n    \r\n        @Override \r\n        public boolean equals(){\r\n            ...\r\n        }\r\n    }\r\n\r\ninstead of using the dynamic collection for limited number of items (two).","title":"ArrayList as key in HashMap","body":"<p>Why can't you use something like this:</p>\n\n<pre><code>class Bigram{\n    private String firstItem;\n    private String secondItem;\n\n    &lt;getters/setters&gt;\n\n    @Override\n    public int hashCode(){\n        ...\n    }\n\n    @Override \n    public boolean equals(){\n        ...\n    }\n}\n</code></pre>\n\n<p>instead of using the dynamic collection for limited number of items (two).</p>\n"},{"tags":[],"owner":{"account_id":892161,"reputation":11512,"user_id":930207,"display_name":"mcfinnigan"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1333358707,"creation_date":1333357946,"answer_id":9973662,"question_id":9973596,"body_markdown":"`ArrayList.equals()` is inherited from `java.lang.Object` - therefore `equals()` on ArrayList is independent of the content of the list.\r\n\r\nIf you want to use an ArrayList as a map key, you will need to override `equals()` and `hashcode()` in order to make two arraylists with the same content in the same order return true on a call to `equals()` and return the same hashcode on a call to `hashcode()`.\r\n\r\nIs there any particular reason you *have* to use an ArrayList as opposed to say a simple String as the key?\r\n\r\nedit: Ignore me, as Joachim Sauer pointed out below, I am so wrong it&#39;s not even funny.\r\n","title":"ArrayList as key in HashMap","body":"<p><code>ArrayList.equals()</code> is inherited from <code>java.lang.Object</code> - therefore <code>equals()</code> on ArrayList is independent of the content of the list.</p>\n\n<p>If you want to use an ArrayList as a map key, you will need to override <code>equals()</code> and <code>hashcode()</code> in order to make two arraylists with the same content in the same order return true on a call to <code>equals()</code> and return the same hashcode on a call to <code>hashcode()</code>.</p>\n\n<p>Is there any particular reason you <em>have</em> to use an ArrayList as opposed to say a simple String as the key?</p>\n\n<p>edit: Ignore me, as Joachim Sauer pointed out below, I am so wrong it's not even funny.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1391415002,"creation_date":1333358070,"answer_id":9973694,"question_id":9973596,"body_markdown":"Yes you can have `ArrayList`s as a keys in a hash map, but it is a **very bad idea** since they are **mutable**.\r\n\r\nIf you change the `ArrayList` in any way (or any of its elements), the mapping will basically be lost, since the key won&#39;t have the same `hashCode` as it had when it was inserted.\r\n\r\nThe rule of thumb is to use only immutable data types as keys in a hash map. As suggested by Alex Stybaev, you probably want to create a `Bigram` class like this:\r\n\r\n    final class Bigram {\r\n    \r\n        private final String word1, word2;\r\n    \r\n        public Bigram(String word1, String word2) {\r\n            this.word1 = word1;\r\n            this.word2 = word2;\r\n        }\r\n    \r\n        public String getWord1() {\r\n            return word1;\r\n        }\r\n\r\n        public String getWord2() {\r\n            return word2;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return word1.hashCode() ^ word2.hashCode();\r\n        }\r\n     \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            return (obj instanceof Bigram) &amp;&amp; ((Bigram) obj).word1.equals(word1)\r\n                                           &amp;&amp; ((Bigram) obj).word2.equals(word2);\r\n        }\r\n    }","title":"ArrayList as key in HashMap","body":"<p>Yes you can have <code>ArrayList</code>s as a keys in a hash map, but it is a <strong>very bad idea</strong> since they are <strong>mutable</strong>.</p>\n\n<p>If you change the <code>ArrayList</code> in any way (or any of its elements), the mapping will basically be lost, since the key won't have the same <code>hashCode</code> as it had when it was inserted.</p>\n\n<p>The rule of thumb is to use only immutable data types as keys in a hash map. As suggested by Alex Stybaev, you probably want to create a <code>Bigram</code> class like this:</p>\n\n<pre><code>final class Bigram {\n\n    private final String word1, word2;\n\n    public Bigram(String word1, String word2) {\n        this.word1 = word1;\n        this.word2 = word2;\n    }\n\n    public String getWord1() {\n        return word1;\n    }\n\n    public String getWord2() {\n        return word2;\n    }\n\n    @Override\n    public int hashCode() {\n        return word1.hashCode() ^ word2.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        return (obj instanceof Bigram) &amp;&amp; ((Bigram) obj).word1.equals(word1)\n                                       &amp;&amp; ((Bigram) obj).word2.equals(word2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":539735,"reputation":9276,"user_id":907687,"accept_rate":91,"display_name":"vikiiii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448134728,"creation_date":1333358277,"answer_id":9973749,"question_id":9973596,"body_markdown":"Try this ,this will work.\r\n   \r\n\r\n     public Map&lt;List, Integer&gt; getBigramMap (String word1,String word2){\r\n        Map&lt;List,Integer&gt; hm = new HashMap&lt;List, Integer&gt;();\r\n        List&lt;String&gt; arrList1 = new ArrayList&lt;String&gt;();\r\n        arrList1 = getBigram(word1, word2);     \r\n        if(hm.get(arrList1) !=null){\r\n            hm.put(arrList1, hm.get(arrList1)+1);\r\n        }\r\n        else {\r\n            hm.put(arrList1, 1);\r\n        }\r\n\n        System.out.println(hm.get(arrList1));\r\n        return hm;\r\n    }\r\n\r\n","title":"ArrayList as key in HashMap","body":"<p>Try this ,this will work.</p>\n\n<pre><code> public Map&lt;List, Integer&gt; getBigramMap (String word1,String word2){\n    Map&lt;List,Integer&gt; hm = new HashMap&lt;List, Integer&gt;();\n    List&lt;String&gt; arrList1 = new ArrayList&lt;String&gt;();\n    arrList1 = getBigram(word1, word2);     \n    if(hm.get(arrList1) !=null){\n        hm.put(arrList1, hm.get(arrList1)+1);\n    }\n    else {\n        hm.put(arrList1, 1);\n    }\n\n    System.out.println(hm.get(arrList1));\n    return hm;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1028895,"reputation":8390,"user_id":1037609,"accept_rate":100,"display_name":"Balaswamy Vaddeman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333365584,"creation_date":1333358532,"answer_id":9973829,"question_id":9973596,"body_markdown":"From [the documentation][1]:\r\n\r\n&gt; Note: great care must be exercised if mutable objects are used as map\r\n     keys.  The behavior of a map is not specified if the value of an object is\r\n     changed in a manner that affects `equals` comparisons while the\r\n     object is a key in the map.  A special case of this prohibition is that it\r\n     is not permissible for a map to contain itself as a key.  While it is\r\n     permissible for a map to contain itself as a value, extreme caution is\r\n     advised: the `equals` and `hashCode` methods are no longer\r\n     well defined on such a map.\r\n\r\nYou have to take care when you are using *mutable objects* as keys for the sake of `hashCode` and `equals`.\r\n\r\nThe bottom line is that it is better to use immutable objects as keys.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Map.html","title":"ArrayList as key in HashMap","body":"<p>From <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.html\" rel=\"nofollow\">the documentation</a>:</p>\n\n<blockquote>\n  <p>Note: great care must be exercised if mutable objects are used as map\n       keys.  The behavior of a map is not specified if the value of an object is\n       changed in a manner that affects <code>equals</code> comparisons while the\n       object is a key in the map.  A special case of this prohibition is that it\n       is not permissible for a map to contain itself as a key.  While it is\n       permissible for a map to contain itself as a value, extreme caution is\n       advised: the <code>equals</code> and <code>hashCode</code> methods are no longer\n       well defined on such a map.</p>\n</blockquote>\n\n<p>You have to take care when you are using <em>mutable objects</em> as keys for the sake of <code>hashCode</code> and <code>equals</code>.</p>\n\n<p>The bottom line is that it is better to use immutable objects as keys.</p>\n"},{"tags":[],"owner":{"account_id":267393,"reputation":10719,"user_id":555553,"accept_rate":62,"display_name":"mishadoff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1333358791,"creation_date":1333358791,"answer_id":9973899,"question_id":9973596,"body_markdown":"Sure it possible. I suppose the issue in your `put`. Try obtain key for bigram, increment it, remove entry with this bigram and insert updated value","title":"ArrayList as key in HashMap","body":"<p>Sure it possible. I suppose the issue in your <code>put</code>. Try obtain key for bigram, increment it, remove entry with this bigram and insert updated value</p>\n"},{"tags":[],"owner":{"account_id":2540468,"reputation":443,"user_id":2206374,"accept_rate":20,"display_name":"Musaddique"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1436532931,"creation_date":1436532931,"answer_id":31341352,"question_id":9973596,"body_markdown":"Please check below my code in order to understand if key is ArrayList in Map and how JVM will do it for inputs:\r\nhere i write hashCode and equals method for TesthashCodeEquals class.\r\n\r\n    package com.msq;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    class TesthashCodeEquals {\r\n    \tprivate int a;\r\n    \tprivate int b;\r\n    \r\n    \tpublic TesthashCodeEquals() {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \r\n    \t\r\n    \t\r\n    \tpublic TesthashCodeEquals(int a, int b) {\r\n    \t\tsuper();\r\n    \t\tthis.a = a;\r\n    \t\tthis.b = b;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic int getA() {\r\n    \t\treturn a;\r\n    \t}\r\n    \r\n    \tpublic void setA(int a) {\r\n    \t\tthis.a = a;\r\n    \t}\r\n    \r\n    \tpublic int getB() {\r\n    \t\treturn b;\r\n    \t}\r\n    \r\n    \tpublic void setB(int b) {\r\n    \t\tthis.b = b;\r\n    \t}\r\n    \r\n    \tpublic int hashCode() {\r\n    \r\n    \t\treturn this.a + this.b;\r\n    \t}\r\n    \r\n    \tpublic boolean equals(Object o) {\r\n    \r\n    \t\tif (o instanceof TesthashCodeEquals &amp;&amp; o != null) {\r\n    \r\n    \t\t\tTesthashCodeEquals c = (TesthashCodeEquals) o;\r\n    \r\n    \t\t\treturn ((this.a == c.a) &amp;&amp; (this.b == c.b));\r\n    \r\n    \t\t} else\r\n    \t\t\treturn false;\r\n    \t}\r\n    }\r\n    \r\n    public class HasCodeEquals {\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tMap&lt;List&lt;TesthashCodeEquals&gt;, String&gt; m = new HashMap&lt;&gt;();\r\n    \t\t\r\n    \t\tList&lt;TesthashCodeEquals&gt; list1=new ArrayList&lt;&gt;();\r\n    \t\tlist1.add(new TesthashCodeEquals(1, 2));\r\n    \t\tlist1.add(new TesthashCodeEquals(3, 4));\r\n    \t\t\r\n    \t\tList&lt;TesthashCodeEquals&gt; list2=new ArrayList&lt;&gt;();\r\n    \t\tlist2.add(new TesthashCodeEquals(10, 20));\r\n    \t\tlist2.add(new TesthashCodeEquals(30, 40));\r\n    \t\t\r\n    \t\t\r\n    \t\tList&lt;TesthashCodeEquals&gt; list3=new ArrayList&lt;&gt;();\r\n    \t\tlist3.add(new TesthashCodeEquals(1, 2));\r\n    \t\tlist3.add(new TesthashCodeEquals(3, 4));\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t\tm.put(list1, &quot;List1&quot;);\r\n    \t\tm.put(list2, &quot;List2&quot;);\r\n    \t\tm.put(list3, &quot;List3&quot;);\r\n    \t\t\r\n    \t\tfor(Map.Entry&lt;List&lt;TesthashCodeEquals&gt;,String&gt; entry:m.entrySet()){\r\n    \t\t\tfor(TesthashCodeEquals t:entry.getKey()){\r\n    \t\t\t\tSystem.out.print(&quot;value of a: &quot;+t.getA()+&quot;, value of b: &quot;+t.getB()+&quot;, map value is:&quot;+entry.getValue() );\r\n    \t\t\t\tSystem.out.println();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;######################&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n.\r\n\r\n    output:\r\n    \r\n    value of a: 10, value of b: 20, map value is:List2\r\n    value of a: 30, value of b: 40, map value is:List2\r\n    ######################\r\n    value of a: 1, value of b: 2, map value is:List3\r\n    value of a: 3, value of b: 4, map value is:List3\r\n    ######################\r\n\r\nso this will check the number of objects in List and the values of valriabe in object. if number of objects are same and the values of instance variables is also same then it will consider duplicate key and override the key.\r\n\r\nnow if i change only the value of object on list3 \r\n\r\nlist3.add(new TesthashCodeEquals(2, 2));\r\n\r\nthen it will print:\r\n\r\n    \r\n\r\n   \r\n\r\n     output\r\n        value of a: 2, value of b: 2, map value is:List3\r\n        value of a: 3, value of b: 4, map value is:List3\r\n        ######################\r\n        value of a: 10, value of b: 20, map value is:List2\r\n        value of a: 30, value of b: 40, map value is:List2\r\n        ######################\r\n        value of a: 1, value of b: 2, map value is:List1\r\n        value of a: 3, value of b: 4, map value is:List1\r\n    ######################\r\n\r\nso that It always check the number of objects in List and the value of instance variable of object.\r\n\r\nthanks\r\n\r\n","title":"ArrayList as key in HashMap","body":"<p>Please check below my code in order to understand if key is ArrayList in Map and how JVM will do it for inputs:\nhere i write hashCode and equals method for TesthashCodeEquals class.</p>\n\n<pre><code>package com.msq;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nclass TesthashCodeEquals {\n    private int a;\n    private int b;\n\n    public TesthashCodeEquals() {\n        // TODO Auto-generated constructor stub\n    }\n\n\n\n    public TesthashCodeEquals(int a, int b) {\n        super();\n        this.a = a;\n        this.b = b;\n    }\n\n\n\n    public int getA() {\n        return a;\n    }\n\n    public void setA(int a) {\n        this.a = a;\n    }\n\n    public int getB() {\n        return b;\n    }\n\n    public void setB(int b) {\n        this.b = b;\n    }\n\n    public int hashCode() {\n\n        return this.a + this.b;\n    }\n\n    public boolean equals(Object o) {\n\n        if (o instanceof TesthashCodeEquals &amp;&amp; o != null) {\n\n            TesthashCodeEquals c = (TesthashCodeEquals) o;\n\n            return ((this.a == c.a) &amp;&amp; (this.b == c.b));\n\n        } else\n            return false;\n    }\n}\n\npublic class HasCodeEquals {\n    public static void main(String[] args) {\n\n        Map&lt;List&lt;TesthashCodeEquals&gt;, String&gt; m = new HashMap&lt;&gt;();\n\n        List&lt;TesthashCodeEquals&gt; list1=new ArrayList&lt;&gt;();\n        list1.add(new TesthashCodeEquals(1, 2));\n        list1.add(new TesthashCodeEquals(3, 4));\n\n        List&lt;TesthashCodeEquals&gt; list2=new ArrayList&lt;&gt;();\n        list2.add(new TesthashCodeEquals(10, 20));\n        list2.add(new TesthashCodeEquals(30, 40));\n\n\n        List&lt;TesthashCodeEquals&gt; list3=new ArrayList&lt;&gt;();\n        list3.add(new TesthashCodeEquals(1, 2));\n        list3.add(new TesthashCodeEquals(3, 4));\n\n\n\n        m.put(list1, \"List1\");\n        m.put(list2, \"List2\");\n        m.put(list3, \"List3\");\n\n        for(Map.Entry&lt;List&lt;TesthashCodeEquals&gt;,String&gt; entry:m.entrySet()){\n            for(TesthashCodeEquals t:entry.getKey()){\n                System.out.print(\"value of a: \"+t.getA()+\", value of b: \"+t.getB()+\", map value is:\"+entry.getValue() );\n                System.out.println();\n            }\n            System.out.println(\"######################\");\n        }\n\n    }\n}\n</code></pre>\n\n<p>.</p>\n\n<pre><code>output:\n\nvalue of a: 10, value of b: 20, map value is:List2\nvalue of a: 30, value of b: 40, map value is:List2\n######################\nvalue of a: 1, value of b: 2, map value is:List3\nvalue of a: 3, value of b: 4, map value is:List3\n######################\n</code></pre>\n\n<p>so this will check the number of objects in List and the values of valriabe in object. if number of objects are same and the values of instance variables is also same then it will consider duplicate key and override the key.</p>\n\n<p>now if i change only the value of object on list3 </p>\n\n<p>list3.add(new TesthashCodeEquals(2, 2));</p>\n\n<p>then it will print:</p>\n\n<pre><code> output\n    value of a: 2, value of b: 2, map value is:List3\n    value of a: 3, value of b: 4, map value is:List3\n    ######################\n    value of a: 10, value of b: 20, map value is:List2\n    value of a: 30, value of b: 40, map value is:List2\n    ######################\n    value of a: 1, value of b: 2, map value is:List1\n    value of a: 3, value of b: 4, map value is:List1\n######################\n</code></pre>\n\n<p>so that It always check the number of objects in List and the value of instance variable of object.</p>\n\n<p>thanks</p>\n"},{"tags":[],"owner":{"account_id":3849703,"reputation":435,"user_id":3190174,"accept_rate":75,"display_name":"Javo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464337142,"creation_date":1464334732,"answer_id":37477576,"question_id":9973596,"body_markdown":"I&#39;ve come up with this solution. It is obviously not usable in all cases, for example over stepping the hashcodes int capacity, or list.clone() complications(if the input list gets changed, key stays the same as intended, but when the items of List are mutable, cloned list has the same reference to its items, which would result in changing the key itself).\r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class ListKey&lt;T&gt; {\r\n    \tprivate ArrayList&lt;T&gt; list;\r\n    \r\n    \tpublic ListKey(ArrayList&lt;T&gt; list) {\r\n    \t\tthis.list = (ArrayList&lt;T&gt;) list.clone();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\tfinal int prime = 31;\r\n    \t\tint result = 1;\r\n    \r\n    \t\tfor (int i = 0; i &lt; this.list.size(); i++) {\r\n    \t\t\tT item = this.list.get(i);\r\n    \t\t\tresult = prime * result + ((item == null) ? 0 : item.hashCode());\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\treturn this.list.equals(obj);\r\n    \t}\r\n    }\r\n\r\n    ---------\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tArrayList&lt;Float&gt; createFloatList = createFloatList();\r\n    \t\tArrayList&lt;Float&gt; createFloatList2 = createFloatList();\r\n    \t\t\r\n    \t\tHashtable&lt;ListKey&lt;Float&gt;, String&gt; table = new Hashtable&lt;&gt;();\r\n    \t\ttable.put(new ListKey(createFloatList2), &quot;IT WORKS!&quot;);\r\n    \t\tSystem.out.println(table.get(createFloatList2));\r\n    \t\tcreateFloatList2.add(1f);\r\n    \t\tSystem.out.println(table.get(createFloatList2));\r\n    \t\tcreateFloatList2.remove(3);\r\n    \t\tSystem.out.println(table.get(createFloatList2));\r\n    \t}\r\n    \r\n    \tpublic static ArrayList&lt;Float&gt; createFloatList() {\r\n    \t\tArrayList&lt;Float&gt; floatee = new ArrayList&lt;&gt;();\r\n    \t\tfloatee.add(34.234f);\r\n    \t\tfloatee.add(new Float(33));\r\n    \t\tfloatee.add(null);\r\n    \t\t\r\n    \t\treturn floatee;\r\n    \t}\r\n    \r\n    Output:\r\n    IT WORKS!\r\n    null\r\n    IT WORKS!","title":"ArrayList as key in HashMap","body":"<p>I've come up with this solution. It is obviously not usable in all cases, for example over stepping the hashcodes int capacity, or list.clone() complications(if the input list gets changed, key stays the same as intended, but when the items of List are mutable, cloned list has the same reference to its items, which would result in changing the key itself).</p>\n\n<pre><code>import java.util.ArrayList;\n\npublic class ListKey&lt;T&gt; {\n    private ArrayList&lt;T&gt; list;\n\n    public ListKey(ArrayList&lt;T&gt; list) {\n        this.list = (ArrayList&lt;T&gt;) list.clone();\n    }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n\n        for (int i = 0; i &lt; this.list.size(); i++) {\n            T item = this.list.get(i);\n            result = prime * result + ((item == null) ? 0 : item.hashCode());\n        }\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        return this.list.equals(obj);\n    }\n}\n\n---------\n    public static void main(String[] args) {\n\n        ArrayList&lt;Float&gt; createFloatList = createFloatList();\n        ArrayList&lt;Float&gt; createFloatList2 = createFloatList();\n\n        Hashtable&lt;ListKey&lt;Float&gt;, String&gt; table = new Hashtable&lt;&gt;();\n        table.put(new ListKey(createFloatList2), \"IT WORKS!\");\n        System.out.println(table.get(createFloatList2));\n        createFloatList2.add(1f);\n        System.out.println(table.get(createFloatList2));\n        createFloatList2.remove(3);\n        System.out.println(table.get(createFloatList2));\n    }\n\n    public static ArrayList&lt;Float&gt; createFloatList() {\n        ArrayList&lt;Float&gt; floatee = new ArrayList&lt;&gt;();\n        floatee.add(34.234f);\n        floatee.add(new Float(33));\n        floatee.add(null);\n\n        return floatee;\n    }\n\nOutput:\nIT WORKS!\nnull\nIT WORKS!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587367040,"creation_date":1587367040,"answer_id":61316987,"question_id":9973596,"body_markdown":"Unlike `Array`, `List` can be used as the key of a HashMap, but it is not a good idea, since we should always try to **use an immutable object as the key**. \r\n\r\n`.toString()` method getting the String represtenation is a good key choice in many cases, since `String` is an immuteable object and can prefectly stands for the array or list.","title":"ArrayList as key in HashMap","body":"<p>Unlike <code>Array</code>, <code>List</code> can be used as the key of a HashMap, but it is not a good idea, since we should always try to <strong>use an immutable object as the key</strong>. </p>\n\n<p><code>.toString()</code> method getting the String represtenation is a good key choice in many cases, since <code>String</code> is an immuteable object and can prefectly stands for the array or list.</p>\n"},{"tags":[],"owner":{"account_id":4829160,"reputation":159,"user_id":6994979,"display_name":"Adam D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678591377,"creation_date":1678591377,"answer_id":75710893,"question_id":9973596,"body_markdown":"Yes, you can extend HashMap then you just need to modify `get()` to bring back the value on a match, e.g. \r\n\r\n    class KeyArrayHashMap extends HashMap &lt;ArrayList&lt;String&gt;, ArrayList&lt;String&gt;&gt; { \r\n    \r\n     public ArrayList&lt;String&gt; get(String findKey) { \r\n        ArrayList&lt;String&gt; retVal = null; \r\n        for ( ArrayList&lt;String&gt; key : this.keySet() ) {\r\n            if (key.contains(findKey)) {           \r\n                 System.out.printf( &quot;Found key %s it&#39;s %s.\\n&quot;, findKey, key.toString());\r\n                retVal = key; \r\n                break; \r\n                }\r\n        }\r\n    \r\n    return this.get(retVal);\r\n    }\r\n    }\r\n\r\nThis code gets the keySet and iterates over searching each key ArrayList for a String. Code should run about O(n) (we leave on first match but depends on how many keys you have). ","title":"ArrayList as key in HashMap","body":"<p>Yes, you can extend HashMap then you just need to modify <code>get()</code> to bring back the value on a match, e.g.</p>\n<pre><code>class KeyArrayHashMap extends HashMap &lt;ArrayList&lt;String&gt;, ArrayList&lt;String&gt;&gt; { \n\n public ArrayList&lt;String&gt; get(String findKey) { \n    ArrayList&lt;String&gt; retVal = null; \n    for ( ArrayList&lt;String&gt; key : this.keySet() ) {\n        if (key.contains(findKey)) {           \n             System.out.printf( &quot;Found key %s it's %s.\\n&quot;, findKey, key.toString());\n            retVal = key; \n            break; \n            }\n    }\n\nreturn this.get(retVal);\n}\n}\n</code></pre>\n<p>This code gets the keySet and iterates over searching each key ArrayList for a String. Code should run about O(n) (we leave on first match but depends on how many keys you have).</p>\n"}],"owner":{"account_id":107856,"reputation":6973,"user_id":286579,"accept_rate":53,"display_name":"thetna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59050,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":10,"score":23,"last_activity_date":1678591377,"creation_date":1333357661,"question_id":9973596,"body_markdown":"Would it be possible to add an `ArrayList` as the key of `HashMap`. I would like to keep the frequency count of bigrams. The bigram is the key and the value is its frequency.\r\n\r\nFor each of the bigrams like &quot;he is&quot;, I create an `ArrayList` for it and insert it into the `HashMap`. But I am not getting the correct output.\r\n\r\n\r\n\tpublic HashMap&lt;ArrayList&lt;String&gt;, Integer&gt; getBigramMap(String word1, String word2) {\r\n\t\tHashMap&lt;ArrayList&lt;String&gt;, Integer&gt; hm = new HashMap&lt;ArrayList&lt;String&gt;, Integer&gt;();\r\n\t\tArrayList&lt;String&gt; arrList1 = new ArrayList&lt;String&gt;();\r\n\t\tarrList1 = getBigram(word1, word2);\r\n\t\tif (hm.get(arrList1) != null) {\r\n\t\t\thm.put(arrList1, hm.get(arrList1) + 1);\r\n\t\t} else {\r\n\t\t\thm.put(arrList1, 1);\r\n\t\t}\r\n\t\tSystem.out.println(hm.get(arrList1));\r\n\t\treturn hm;\r\n\t}\r\n\r\n\r\n\tpublic ArrayList&lt;String&gt; getBigram(String word1, String word2) {\r\n\t\tArrayList&lt;String&gt; arrList2 = new ArrayList&lt;String&gt;();\r\n\t\tarrList2.add(word1);\r\n\t\tarrList2.add(word2);\r\n\t\treturn arrList2;\r\n\t}\r\n\t\r\n","title":"ArrayList as key in HashMap","body":"<p>Would it be possible to add an <code>ArrayList</code> as the key of <code>HashMap</code>. I would like to keep the frequency count of bigrams. The bigram is the key and the value is its frequency.</p>\n\n<p>For each of the bigrams like \"he is\", I create an <code>ArrayList</code> for it and insert it into the <code>HashMap</code>. But I am not getting the correct output.</p>\n\n<pre><code>public HashMap&lt;ArrayList&lt;String&gt;, Integer&gt; getBigramMap(String word1, String word2) {\n    HashMap&lt;ArrayList&lt;String&gt;, Integer&gt; hm = new HashMap&lt;ArrayList&lt;String&gt;, Integer&gt;();\n    ArrayList&lt;String&gt; arrList1 = new ArrayList&lt;String&gt;();\n    arrList1 = getBigram(word1, word2);\n    if (hm.get(arrList1) != null) {\n        hm.put(arrList1, hm.get(arrList1) + 1);\n    } else {\n        hm.put(arrList1, 1);\n    }\n    System.out.println(hm.get(arrList1));\n    return hm;\n}\n\n\npublic ArrayList&lt;String&gt; getBigram(String word1, String word2) {\n    ArrayList&lt;String&gt; arrList2 = new ArrayList&lt;String&gt;();\n    arrList2.add(word1);\n    arrList2.add(word2);\n    return arrList2;\n}\n</code></pre>\n"},{"tags":["java","user-interface","intellij-idea","javafx","memory"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1678574641,"post_id":75709820,"comment_id":133560974,"body_markdown":"Definitely not, it&#39;s unusual for it to take up so little memory, but I&#39;m sure it&#39;ll get going once you add more functionality. If you&#39;re constrained by memory, forget java.","body":"Definitely not, it&#39;s unusual for it to take up so little memory, but I&#39;m sure it&#39;ll get going once you add more functionality. If you&#39;re constrained by memory, forget java."},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1678575158,"post_id":75709820,"comment_id":133561056,"body_markdown":"Note: the JVM tends to request more memory from the OS than it needs and is not too aggressive about freeing it because people get nervous when the garbage collector uses up too much CPU. If you want to see what your application really needs, you can experiment with lower values of `-Xmx` command line option. But this is not a very productive direction to explore.","body":"Note: the JVM tends to request more memory from the OS than it needs and is not too aggressive about freeing it because people get nervous when the garbage collector uses up too much CPU. If you want to see what your application really needs, you can experiment with lower values of <code>-Xmx</code> command line option. But this is not a very productive direction to explore."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678579999,"post_id":75709820,"comment_id":133561610,"body_markdown":"Try a [profile](http://stackoverflow.com/q/2064427/230513) to see more details.","body":"Try a <a href=\"http://stackoverflow.com/q/2064427/230513\">profile</a> to see more details."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678580938,"post_id":75709820,"comment_id":133561680,"body_markdown":"When I start gedit, it uses 55 MB.  Just something to consider.","body":"When I start gedit, it uses 55 MB.  Just something to consider."},{"owner":{"account_id":26574954,"reputation":15,"user_id":20200531,"display_name":"Leo"},"score":0,"creation_date":1678590507,"post_id":75709820,"comment_id":133562452,"body_markdown":"@trashgod I&#39;m not too sure what else I should include, but I included a few screenshots regarding heap memory","body":"@trashgod I&#39;m not too sure what else I should include, but I included a few screenshots regarding heap memory"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1678590631,"post_id":75709820,"comment_id":133562466,"body_markdown":"Java VM&#39;s like to reserve some memory for things to come (and basically the GC will initially run when you hit the max heap space. This is also why having virtual memory may be beneficial *even if you have a good amount of RAM*: you may have used memory sitting around doing nothing most of the time. You can alter some of the memory parameters using `-X` arguments for the `java` or `java.exe` VM.","body":"Java VM&#39;s like to reserve some memory for things to come (and basically the GC will initially run when you hit the max heap space. This is also why having virtual memory may be beneficial <i>even if you have a good amount of RAM</i>: you may have used memory sitting around doing nothing most of the time. You can alter some of the memory parameters using <code>-X</code> arguments for the <code>java</code> or <code>java.exe</code> VM."},{"owner":{"account_id":26574954,"reputation":15,"user_id":20200531,"display_name":"Leo"},"score":0,"creation_date":1678591607,"post_id":75709820,"comment_id":133562529,"body_markdown":"@MaartenBodewes I&#39;ve tried -Xmx and it doesn&#39;t really seem to affect how much memory it uses","body":"@MaartenBodewes I&#39;ve tried -Xmx and it doesn&#39;t really seem to affect how much memory it uses"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1678596411,"post_id":75709820,"comment_id":133562847,"body_markdown":"You could use GraalVM to aot compile to native if you wished.  I dont know if this would decrease memory usage as opposed to running in a VM, but I guess it would.  It seems surprising to me that -X memory options were unable to reduce [max memory usage](https://stackoverflow.com/questions/1493913/how-to-set-the-maximum-memory-usage-for-jvm) for you, but Ill trust your findings on your platform.","body":"You could use GraalVM to aot compile to native if you wished.  I dont know if this would decrease memory usage as opposed to running in a VM, but I guess it would.  It seems surprising to me that -X memory options were unable to reduce <a href=\"https://stackoverflow.com/questions/1493913/how-to-set-the-maximum-memory-usage-for-jvm\">max memory usage</a> for you, but Ill trust your findings on your platform."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1678627219,"post_id":75709820,"comment_id":133566358,"body_markdown":"This [example](https://stackoverflow.com/a/45124503/230513) illustrates using the -X options to an artificially small heap. What happens when you request garbage collection?","body":"This <a href=\"https://stackoverflow.com/a/45124503/230513\">example</a> illustrates using the -X options to an artificially small heap. What happens when you request garbage collection?"}],"owner":{"account_id":26574954,"reputation":15,"user_id":20200531,"display_name":"Leo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678590521,"creation_date":1678572222,"question_id":75709820,"body_markdown":"    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class HelloApplication extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            HBox test = new HBox();\r\n            Scene test2 = new Scene(test);\r\n            primaryStage.setScene(test2);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n[![Memory Usage from Task Manager][1]][1]\r\n\r\n\r\nI&#39;m don&#39;t really know if this is the usual amount of memory a blank javafx application uses and I find it quite a lot for a blank application. Tkinter programs seems to be use way less memory even with components inside the application. Is there a way to lower the amount of memory javafx uses in general?\r\n\r\nEdit:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/21KdY.png\r\n  [2]: https://i.stack.imgur.com/nxtVQ.png","title":"Is it normal for a blank javafx application to use 85mb of memory?","body":"<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        HBox test = new HBox();\n        Scene test2 = new Scene(test);\n        primaryStage.setScene(test2);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/21KdY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/21KdY.png\" alt=\"Memory Usage from Task Manager\" /></a></p>\n<p>I'm don't really know if this is the usual amount of memory a blank javafx application uses and I find it quite a lot for a blank application. Tkinter programs seems to be use way less memory even with components inside the application. Is there a way to lower the amount of memory javafx uses in general?</p>\n<p>Edit:\n<a href=\"https://i.stack.imgur.com/nxtVQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nxtVQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4747149,"reputation":2525,"user_id":3838167,"accept_rate":60,"display_name":"Mars"},"score":1,"creation_date":1573783732,"post_id":58869350,"comment_id":104007634,"body_markdown":"Please show us what you expect the output to be","body":"Please show us what you expect the output to be"}],"answers":[{"tags":[],"owner":{"account_id":6654973,"reputation":295,"user_id":5135849,"display_name":"Viswa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573787940,"creation_date":1573787593,"answer_id":58869805,"question_id":58869350,"body_markdown":"Move the passArr loop outside.\r\n    \r\n    public static void main(String[] args) {\r\n        String password = &quot;zebra&quot;;\r\n        char[] passArr = new char[password.length()];\r\n        passArr = password.toCharArray();\r\n\r\n        StringBuilder forcedPass = new StringBuilder();\r\n        char[] alphabet = new char[]{&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;};\r\n        boolean solved = false;\r\n\r\n        while (solved != true) {\r\n            for (int j = 0; j &lt; passArr.length; j++) {\r\n                for (int i = 0; i &lt; alphabet.length; i++) {\r\n                    if (alphabet[i] == passArr[j]) {\r\n                        forcedPass.append(alphabet[i]);\r\n                        System.out.println(forcedPass.toString());\r\n                        solved = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"Java Brute Force Password Cracker","body":"<p>Move the passArr loop outside.</p>\n\n<pre><code>public static void main(String[] args) {\n    String password = \"zebra\";\n    char[] passArr = new char[password.length()];\n    passArr = password.toCharArray();\n\n    StringBuilder forcedPass = new StringBuilder();\n    char[] alphabet = new char[]{'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'};\n    boolean solved = false;\n\n    while (solved != true) {\n        for (int j = 0; j &lt; passArr.length; j++) {\n            for (int i = 0; i &lt; alphabet.length; i++) {\n                if (alphabet[i] == passArr[j]) {\n                    forcedPass.append(alphabet[i]);\n                    System.out.println(forcedPass.toString());\n                    solved = true;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16623452,"reputation":902,"user_id":12013107,"display_name":"Saurabh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678590027,"creation_date":1573787673,"answer_id":58869812,"question_id":58869350,"body_markdown":"Based on your required output, your code should look like this below:\r\n\r\n    public static void main(String[] args) {\r\n        String password = &quot;zebra&quot;;\r\n        char [] passArr = password.toCharArray();\r\n    \r\n        String brutePass = &quot;&quot;;\r\n        char[] alphabet = new char[] { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;,&#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39; };\r\n        boolean solved = false;\r\n       StringBuilder forcedPass = new StringBuilder(brutePass); // Initialize StringBuilder outside.\r\n        while (solved != true) {\r\n             for (int j = 0; j &lt; passArr.length; j++) { //Moved for loop outside.\r\n            for (int i = 0; i &lt; alphabet.length; i++) {\r\n               \r\n                    if (alphabet[i] == passArr[j]) {\r\n                        forcedPass.append(passArr[j]); // Used append instead of insert\r\n                        System.out.println(forcedPass.toString());\r\n                        solved = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHere, I have made two changes, I swapped the position of your inner and outer loop and You have used `insert()` method of `StringBuilder` class, which is incorrect. You have to use the `append()` method of it. To find out more about `StringBuilder` methods,visit [this][1].\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java/lang/java_lang_stringbuilder.htm","title":"Java Brute Force Password Cracker","body":"<p>Based on your required output, your code should look like this below:</p>\n<pre><code>public static void main(String[] args) {\n    String password = &quot;zebra&quot;;\n    char [] passArr = password.toCharArray();\n\n    String brutePass = &quot;&quot;;\n    char[] alphabet = new char[] { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p','q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z' };\n    boolean solved = false;\n   StringBuilder forcedPass = new StringBuilder(brutePass); // Initialize StringBuilder outside.\n    while (solved != true) {\n         for (int j = 0; j &lt; passArr.length; j++) { //Moved for loop outside.\n        for (int i = 0; i &lt; alphabet.length; i++) {\n           \n                if (alphabet[i] == passArr[j]) {\n                    forcedPass.append(passArr[j]); // Used append instead of insert\n                    System.out.println(forcedPass.toString());\n                    solved = true;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here, I have made two changes, I swapped the position of your inner and outer loop and You have used <code>insert()</code> method of <code>StringBuilder</code> class, which is incorrect. You have to use the <code>append()</code> method of it. To find out more about <code>StringBuilder</code> methods,visit <a href=\"https://www.tutorialspoint.com/java/lang/java_lang_stringbuilder.htm\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":12464487,"reputation":11,"user_id":9074988,"display_name":"ALL STAR GAMER"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2954,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":58869812,"answer_count":2,"score":0,"last_activity_date":1678590027,"creation_date":1573783626,"question_id":58869350,"body_markdown":"I am making a brute force password cracker. I am able to use for loops to find which characters match the original password. But the output is not in the correct order. the output is in alphabetical order. How do i fix this?\r\nthe output should be something like&quot;\r\n\r\n    z\r\n    ze\r\n    zeb\r\n    zebr\r\n    zebra\r\n\r\nCode:\r\n\r\n        \tpublic static void main(String[] args) {\r\n\t\tString password = &quot;zebra&quot;;\r\n\t\tchar [] passArr = new char [password.length()];\r\n\t\tpassArr = password.toCharArray();\r\n\t\t\r\n\t\tString brutePass = &quot;&quot;;\r\n\t\tchar[] alphabet = new char[] { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;,&#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;, &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39; };\r\n\t\tboolean solved = false;\r\n\r\n\t\twhile (solved != true) {\r\n\t\t\tfor (int i = 0; i &lt; alphabet.length; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; passArr.length; j++) {\r\n\t\t\t\t\tif (alphabet[i] == passArr[j]) {\r\n\t\t\t\t\t\t//brutePass +=passArr[j];\r\n\t\t\t\t\t\t//System.out.println(brutePass);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t    StringBuilder forcedPass = new StringBuilder(brutePass);\r\n\t\t\t\t\t    forcedPass.insert(passArr[j], alphabet[i]);\r\n\t\t\t\t\t\tSystem.out.println(forcedPass.toString());\r\n\t\t\t\t\t\tsolved = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n","title":"Java Brute Force Password Cracker","body":"<p>I am making a brute force password cracker. I am able to use for loops to find which characters match the original password. But the output is not in the correct order. the output is in alphabetical order. How do i fix this?\nthe output should be something like\"</p>\n\n<pre><code>z\nze\nzeb\nzebr\nzebra\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>        public static void main(String[] args) {\n    String password = \"zebra\";\n    char [] passArr = new char [password.length()];\n    passArr = password.toCharArray();\n\n    String brutePass = \"\";\n    char[] alphabet = new char[] { 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p','q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z' };\n    boolean solved = false;\n\n    while (solved != true) {\n        for (int i = 0; i &lt; alphabet.length; i++) {\n            for (int j = 0; j &lt; passArr.length; j++) {\n                if (alphabet[i] == passArr[j]) {\n                    //brutePass +=passArr[j];\n                    //System.out.println(brutePass);\n\n                    StringBuilder forcedPass = new StringBuilder(brutePass);\n                    forcedPass.insert(passArr[j], alphabet[i]);\n                    System.out.println(forcedPass.toString());\n                    solved = true;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","apache-spark","apache-spark-2.0"],"answers":[{"tags":[],"owner":{"account_id":5695064,"reputation":14883,"user_id":4501804,"display_name":"abaghel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1678589995,"creation_date":1472372883,"answer_id":39189353,"question_id":39188504,"body_markdown":"Your JavaBean class should have a public no-argument constructor, getter and setters and it should implement Serializable interface. Spark SQL works on valid JavaBean class.\r\n\r\n**EDIT** : Adding working sample with inner class\r\n\r\n**OuterInnerDF.java**\r\n\r\n\r\n```\r\npackage com.abaghel.examples;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Encoder;\r\nimport org.apache.spark.sql.Encoders;\r\nimport org.apache.spark.sql.SparkSession;\r\nimport com.abaghel.examples.OuterClass.InnerClass;\r\n\r\npublic class OuterInnerDF {\r\n    public static void main(String[] args) {\r\n        SparkSession spark = SparkSession\r\n            .builder()\r\n            .appName(&quot;OuterInnerDF&quot;)\r\n            .config(&quot;spark.sql.warehouse.dir&quot;, &quot;/file:C:/temp&quot;)\r\n            .master(&quot;local[2]&quot;)\r\n            .getOrCreate();\r\n\r\n        System.out.println(&quot;====&gt; Create DataFrame&quot;);\r\n        //Outer\r\n        OuterClass us = new OuterClass();\r\n        us.setId(111);\t\t\r\n        //Inner\r\n        OuterClass.InnerClass ic = new OuterClass.InnerClass();\r\n        ic.setStreetno(&quot;My Street&quot;);\r\n        //list\r\n        ArrayList&lt;InnerClass&gt; ar = new ArrayList&lt;InnerClass&gt;();\r\n        ar.add(ic);\t\t \r\n        us.setListofInner(ar);\t \r\n        //DF\r\n        Encoder&lt;OuterClass&gt; outerClassEncoder = Encoders.bean(OuterClass.class);\t\t \r\n        Dataset&lt;OuterClass&gt; ds = spark.createDataset(Collections.singletonList(us), outerClassEncoder);\r\n        ds.show();\r\n    }\r\n}\r\n```\r\n\r\n**OuterClass.java**\r\n\r\n```    \r\npackage com.abaghel.examples;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\n\r\npublic class OuterClass implements Serializable {\r\n    int id;\r\n    ArrayList&lt;InnerClass&gt; listofInner;\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int num) {\r\n        this.id = num;\r\n    }\r\n\r\n    public ArrayList&lt;InnerClass&gt; getListofInner() {\r\n        return listofInner;\r\n    }\r\n\r\n    public void setListofInner(ArrayList&lt;InnerClass&gt; list) {\r\n        this.listofInner = list;\r\n    }\r\n\r\n    public static class InnerClass implements Serializable {\r\n        String streetno;\r\n\r\n        public void setStreetno(String streetno) {\r\n            this.streetno = streetno;\r\n        }\r\n\r\n        public String getStreetno() {\r\n            return streetno;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Console Output**\r\n\r\n```\r\n====&gt; Create DataFrame\r\n16/08/28 18:02:55 INFO CodeGenerator: Code generated in 32.516369 ms\r\n+---+-------------+\r\n| id|  listofInner|\r\n+---+-------------+\r\n|111|[[My Street]]|\r\n+---+-------------+\r\n```\r\n\r\n\r\n","title":"How to create encoder for custom Java objects?","body":"<p>Your JavaBean class should have a public no-argument constructor, getter and setters and it should implement Serializable interface. Spark SQL works on valid JavaBean class.</p>\n<p><strong>EDIT</strong> : Adding working sample with inner class</p>\n<p><strong>OuterInnerDF.java</strong></p>\n<pre><code>package com.abaghel.examples;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Encoder;\nimport org.apache.spark.sql.Encoders;\nimport org.apache.spark.sql.SparkSession;\nimport com.abaghel.examples.OuterClass.InnerClass;\n\npublic class OuterInnerDF {\n    public static void main(String[] args) {\n        SparkSession spark = SparkSession\n            .builder()\n            .appName(&quot;OuterInnerDF&quot;)\n            .config(&quot;spark.sql.warehouse.dir&quot;, &quot;/file:C:/temp&quot;)\n            .master(&quot;local[2]&quot;)\n            .getOrCreate();\n\n        System.out.println(&quot;====&gt; Create DataFrame&quot;);\n        //Outer\n        OuterClass us = new OuterClass();\n        us.setId(111);      \n        //Inner\n        OuterClass.InnerClass ic = new OuterClass.InnerClass();\n        ic.setStreetno(&quot;My Street&quot;);\n        //list\n        ArrayList&lt;InnerClass&gt; ar = new ArrayList&lt;InnerClass&gt;();\n        ar.add(ic);      \n        us.setListofInner(ar);   \n        //DF\n        Encoder&lt;OuterClass&gt; outerClassEncoder = Encoders.bean(OuterClass.class);         \n        Dataset&lt;OuterClass&gt; ds = spark.createDataset(Collections.singletonList(us), outerClassEncoder);\n        ds.show();\n    }\n}\n</code></pre>\n<p><strong>OuterClass.java</strong></p>\n<pre><code>package com.abaghel.examples;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\n\npublic class OuterClass implements Serializable {\n    int id;\n    ArrayList&lt;InnerClass&gt; listofInner;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int num) {\n        this.id = num;\n    }\n\n    public ArrayList&lt;InnerClass&gt; getListofInner() {\n        return listofInner;\n    }\n\n    public void setListofInner(ArrayList&lt;InnerClass&gt; list) {\n        this.listofInner = list;\n    }\n\n    public static class InnerClass implements Serializable {\n        String streetno;\n\n        public void setStreetno(String streetno) {\n            this.streetno = streetno;\n        }\n\n        public String getStreetno() {\n            return streetno;\n        }\n    }\n}\n</code></pre>\n<p><strong>Console Output</strong></p>\n<pre><code>====&gt; Create DataFrame\n16/08/28 18:02:55 INFO CodeGenerator: Code generated in 32.516369 ms\n+---+-------------+\n| id|  listofInner|\n+---+-------------+\n|111|[[My Street]]|\n+---+-------------+\n</code></pre>\n"}],"owner":{"account_id":1867196,"reputation":850,"user_id":1690436,"accept_rate":17,"display_name":"Pradeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18454,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":39189353,"answer_count":1,"score":6,"last_activity_date":1678589995,"creation_date":1472364911,"question_id":39188504,"body_markdown":"I am using following class to create bean from Spark Encoders\r\n\r\n    Class OuterClass implements Serializable {\r\n\t\tint id;\r\n\t\tArrayList&lt;InnerClass&gt; listofInner;\r\n\t\t\r\n\t\tpublic int getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setId (int num) {\r\n\t\t\tthis.id = num;\r\n\t\t}\r\n\r\n\t\tpublic ArrayList&lt;InnerClass&gt; getListofInner() {\r\n\t\t\treturn listofInner;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setListofInner(ArrayList&lt;InnerClass&gt; list) {\r\n\t\t\tthis.listofInner = list;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class InnerClass implements Serializable {\r\n\t\tString streetno;\r\n\t\t\r\n\t\tpublic void setStreetno(String streetno) {\r\n\t\t\tthis.streetno= streetno;\r\n\t\t}\r\n\r\n\t\tpublic String getStreetno() {\r\n\t\t\treturn streetno;\r\n\t\t}\r\n    }\r\n\r\n    Encoder&lt;OuterClass&gt; outerClassEncoder = Encoders.bean(OuterClass.class);\r\n    Dataset&lt;OuterClass&gt; ds = spark.createDataset(Collections.singeltonList(outerclassList), outerClassEncoder)\r\n\r\nAnd I am getting the following error\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: Cannot infer type for class OuterClass$InnerClass because it is not bean-compliant\r\n\r\nHow can I implement this type of use case for Spark in Java? This worked fine if I remove the inner class. But I need to have an inner class for my use case.","title":"How to create encoder for custom Java objects?","body":"<p>I am using following class to create bean from Spark Encoders</p>\n<pre><code>Class OuterClass implements Serializable {\n    int id;\n    ArrayList&lt;InnerClass&gt; listofInner;\n    \n    public int getId() {\n        return id;\n    }\n    \n    public void setId (int num) {\n        this.id = num;\n    }\n\n    public ArrayList&lt;InnerClass&gt; getListofInner() {\n        return listofInner;\n    }\n    \n    public void setListofInner(ArrayList&lt;InnerClass&gt; list) {\n        this.listofInner = list;\n    }\n}\n\npublic static class InnerClass implements Serializable {\n    String streetno;\n    \n    public void setStreetno(String streetno) {\n        this.streetno= streetno;\n    }\n\n    public String getStreetno() {\n        return streetno;\n    }\n}\n\nEncoder&lt;OuterClass&gt; outerClassEncoder = Encoders.bean(OuterClass.class);\nDataset&lt;OuterClass&gt; ds = spark.createDataset(Collections.singeltonList(outerclassList), outerClassEncoder)\n</code></pre>\n<p>And I am getting the following error</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: Cannot infer type for class OuterClass$InnerClass because it is not bean-compliant\n</code></pre>\n<p>How can I implement this type of use case for Spark in Java? This worked fine if I remove the inner class. But I need to have an inner class for my use case.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1678572661,"post_id":75709854,"comment_id":133560722,"body_markdown":"`h2` is not `mysql`.","body":"<code>h2</code> is not <code>mysql</code>."}],"answers":[{"tags":[],"owner":{"account_id":17067635,"reputation":517,"user_id":12349305,"display_name":"Ballo Ibrahima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678574475,"creation_date":1678574475,"answer_id":75710021,"question_id":75709854,"body_markdown":"Its normal since you are trying to put a mysql configuration while using h2\r\n\r\n\r\n    A link for h2 [https://www.baeldung.com/spring-boot-h2-database][1]\r\n","title":"Driver org.h2.Driver claims to not accept jdbcUrl how the Driver will accept the url","body":"<p>Its normal since you are trying to put a mysql configuration while using h2</p>\n<pre><code>A link for h2 [https://www.baeldung.com/spring-boot-h2-database][1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27896125,"reputation":138,"user_id":21301377,"display_name":"Anonymus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678589652,"creation_date":1678589652,"answer_id":75710818,"question_id":75709854,"body_markdown":"you have mistake charactor **mysql:**\r\n\r\nspring.datasource.url=jdbc:**mysql**//localhost:3307/exam?serverTimezone=UTC\r\n\r\nChange to :\r\n\r\nspring.datasource.url=jdbc:**mysql:**//localhost:3307/exam?serverTimezone=UTC\r\n\r\n&quot;also make sure your mysql is running with port 3307&quot;","title":"Driver org.h2.Driver claims to not accept jdbcUrl how the Driver will accept the url","body":"<p>you have mistake charactor <strong>mysql:</strong></p>\n<p>spring.datasource.url=jdbc:<strong>mysql</strong>//localhost:3307/exam?serverTimezone=UTC</p>\n<p>Change to :</p>\n<p>spring.datasource.url=jdbc:<strong>mysql:</strong>//localhost:3307/exam?serverTimezone=UTC</p>\n<p>&quot;also make sure your mysql is running with port 3307&quot;</p>\n"}],"owner":{"account_id":27994875,"reputation":13,"user_id":21380352,"display_name":"avishkar dixit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1678589652,"creation_date":1678572607,"question_id":75709854,"body_markdown":"the given below is my pom.xml file and also the application.properties file please reveiw the code and help me out\r\n\r\nmy pom.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.exam&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;examserver&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;examserver&lt;/name&gt;\r\n\t&lt;description&gt;Backend code for exam portal&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\r\n     &lt;!--added--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\nIn these code below I have changed the port and added the `DEBUG` line also rest of the code is same from before\r\n\r\nmy `application.properties` file \r\n```\r\n#added\r\n#logging.level.com.exam=DEBUG\r\nserver.port=8180\r\n##\r\n\r\n#database configuration\r\nspring.datasource.url=jdbc:mysql//localhost:3307/exam?serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=7057@Avi\r\n\r\nspring.datasource.driver-class=com.cj.jdbc.Driver\r\n\r\n#jpa configuration\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\n\r\n```\r\n\r\nPlease give me the solution, so that my project can be able to create the database and I can move further in it ","title":"Driver org.h2.Driver claims to not accept jdbcUrl how the Driver will accept the url","body":"<p>the given below is my pom.xml file and also the application.properties file please reveiw the code and help me out</p>\n<p>my pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.exam&lt;/groupId&gt;\n    &lt;artifactId&gt;examserver&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;examserver&lt;/name&gt;\n    &lt;description&gt;Backend code for exam portal&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n\n     &lt;!--added--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n<p>In these code below I have changed the port and added the <code>DEBUG</code> line also rest of the code is same from before</p>\n<p>my <code>application.properties</code> file</p>\n<pre><code>#added\n#logging.level.com.exam=DEBUG\nserver.port=8180\n##\n\n#database configuration\nspring.datasource.url=jdbc:mysql//localhost:3307/exam?serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=7057@Avi\n\nspring.datasource.driver-class=com.cj.jdbc.Driver\n\n#jpa configuration\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\n\n</code></pre>\n<p>Please give me the solution, so that my project can be able to create the database and I can move further in it</p>\n"},{"tags":["java","android","firebase","firebase-authentication","sms"],"comments":[{"owner":{"account_id":9009128,"reputation":207,"user_id":6714512,"display_name":"Raj Kumar"},"score":0,"creation_date":1679307287,"post_id":75710750,"comment_id":133691853,"body_markdown":"@flutroid Thank you. This link was useful. It seems that the APP NAME will appear in the SMS only when the app is deployed in Play Store.\nCan you help me with the second question?\n`reCaptcha verification pops up each and every time I try to use Firebase Phone Auth in my debug app`","body":"@flutroid Thank you. This link was useful. It seems that the APP NAME will appear in the SMS only when the app is deployed in Play Store. Can you help me with the second question? <code>reCaptcha verification pops up each and every time I try to use Firebase Phone Auth in my debug app</code>"}],"owner":{"account_id":9009128,"reputation":207,"user_id":6714512,"display_name":"Raj Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679313929,"answer_count":0,"score":0,"last_activity_date":1678587970,"creation_date":1678587970,"question_id":75710750,"body_markdown":"I am using Firebase Phone Authentication for Android. I received the OTP SMS with Project ID with App URL instead of the App name and hash code. I am testing the debug version of my app with my phone before publishing it to Google Play Store.\r\n\r\nI am getting OTP SMS from Firebase in the below format.\r\n\r\n```\r\n123456 is your verification code for project-id.firebaseapp.com\r\n```\r\n\r\nBut I need my App name in the SMS along with hash code instead of the App URL.\r\nCan you please help me out?\r\n\r\nAlso, reCaptcha verification pops up each and every time I try to use Firebase Phone Auth in my debug app.","title":"Firebase phone authentication sends SMS with project ID instead of project name","body":"<p>I am using Firebase Phone Authentication for Android. I received the OTP SMS with Project ID with App URL instead of the App name and hash code. I am testing the debug version of my app with my phone before publishing it to Google Play Store.</p>\n<p>I am getting OTP SMS from Firebase in the below format.</p>\n<pre><code>123456 is your verification code for project-id.firebaseapp.com\n</code></pre>\n<p>But I need my App name in the SMS along with hash code instead of the App URL.\nCan you please help me out?</p>\n<p>Also, reCaptcha verification pops up each and every time I try to use Firebase Phone Auth in my debug app.</p>\n"},{"tags":["java","android","kotlin","tcp","vpn"],"owner":{"account_id":26623144,"reputation":1,"user_id":20241601,"display_name":"sadasdfewfaafa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678587275,"creation_date":1678587275,"question_id":75710716,"body_markdown":"0\r\n\r\n\r\nI recently found out a quirky way to connect to a socket using a raw http request sending a &quot;CONNECT&quot; http payload, to bypass my data plan which allows me to only use social media (by setting the host to m.facebook.com, etc). But that only works on one request.\r\n\r\nIs there any way to connect to self-hosted VPN using that payload to go to any url? I&#39;ve seen some apps like Anonytun or HTTP Injector do it\r\n\r\nCurrent code (to fetch google&#39;s 404 page, which works)\r\n\r\n```kotlin\r\nvar s = Socket();\r\ns.connect(InetSocketAddress(&quot;142.250.189.14&quot;, 80), 5 * 1000);\r\nval scanner = Scanner(s.getInputStream());\r\ns.outputStream.write(&quot;CONNECT Payload&quot;.toByteArray());\r\nvar str = StringBuilder();\r\nwhile (scanner.hasNextLine()) {\r\n    try {\r\n        str.append(scanner.nextLine());\r\n    } catch (e: Exception) {\r\n\r\n    }\r\n}\r\nscanner.close();\r\n```","title":"Android Connect to VPN/OpenVPN server using raw HTTP/TCP request to bypass data plan [2]","body":"<p>0</p>\n<p>I recently found out a quirky way to connect to a socket using a raw http request sending a &quot;CONNECT&quot; http payload, to bypass my data plan which allows me to only use social media (by setting the host to m.facebook.com, etc). But that only works on one request.</p>\n<p>Is there any way to connect to self-hosted VPN using that payload to go to any url? I've seen some apps like Anonytun or HTTP Injector do it</p>\n<p>Current code (to fetch google's 404 page, which works)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var s = Socket();\ns.connect(InetSocketAddress(&quot;142.250.189.14&quot;, 80), 5 * 1000);\nval scanner = Scanner(s.getInputStream());\ns.outputStream.write(&quot;CONNECT Payload&quot;.toByteArray());\nvar str = StringBuilder();\nwhile (scanner.hasNextLine()) {\n    try {\n        str.append(scanner.nextLine());\n    } catch (e: Exception) {\n\n    }\n}\nscanner.close();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1678489905,"post_id":75701744,"comment_id":133549101,"body_markdown":"Does this answer your question? [Java current machine name and logged in user?](https://stackoverflow.com/questions/473446/java-current-machine-name-and-logged-in-user)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/473446/java-current-machine-name-and-logged-in-user\">Java current machine name and logged in user?</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678549571,"post_id":75701744,"comment_id":133555879,"body_markdown":"Stay away from com.sun.* classes. They are private implementation details and later versions of Java can change or remove them without warning.  Public classes in the java.* and javax.* packages, on the other hand, almost never have existing parts changed or removed (and in the rare case where that does happen, there is a years-long deprecation process for it, so programmers have plenty of notice).","body":"Stay away from com.sun.* classes. They are private implementation details and later versions of Java can change or remove them without warning.  Public classes in the java.* and javax.* packages, on the other hand, almost never have existing parts changed or removed (and in the rare case where that does happen, there is a years-long deprecation process for it, so programmers have plenty of notice)."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1678584563,"post_id":75701744,"comment_id":133561970,"body_markdown":"@VGR - In general yes.  In this case no.  The `UnixSystem` class was **added** to the official Java SE javadocs in Java 9 ... and it remains there.  It is in the `jdk.security.auth` module.","body":"@VGR - In general yes.  In this case no.  The <code>UnixSystem</code> class was <b>added</b> to the official Java SE javadocs in Java 9 ... and it remains there.  It is in the <code>jdk.security.auth</code> module."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1678589285,"post_id":75701744,"comment_id":133562353,"body_markdown":"@StephenC Ah, [so it is](https://docs.oracle.com/en/java/javase/19/docs/api/jdk.security.auth/com/sun/security/auth/module/UnixSystem.html).  I stand corrected.","body":"@StephenC Ah, <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/jdk.security.auth/com/sun/security/auth/module/UnixSystem.html\" rel=\"nofollow noreferrer\">so it is</a>.  I stand corrected."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678584388,"creation_date":1678526874,"answer_id":75703963,"question_id":75701744,"body_markdown":"Well ... `com.sun.security.auth.module.UnixSystem().getUsername()` *does* give you the Unix / Linux user name for the current user.\r\n\r\n&lt;sup&gt;As a general rule you should avoid the `com.sun.*` classes as they are internal and subject to change (or removal) without notice.  However the `com.sun.security.auth.*` packages are different.  Since Java 9, some  of these classes are in the official Java SE javadocs, and are (by implication) NOT internal.&lt;/sup&gt;\r\n\r\nHowever, you can&#39;t use the UNIX user name to reliably work out what the user&#39;s home directory is, as you are apparently trying to do.  And even if you could, it won&#39;t be in &quot;/Users/...&quot;.  That is a Windows-ism.  On a typical modern UNIX or Linux system, the user&#39;s home directory defaults to &quot;/home/\\&lt;username\\&gt;&quot; or something like that, but it *could* be literally anywhere.\r\n\r\nTo get the current user&#39;s home directory, use `java.lang.System.getProperty(&quot;user.home&quot;)`\r\n\r\n","title":"how do i get the username from new com.sun.security.auth.module.UnixSystem().getUsername()?","body":"<p>Well ... <code>com.sun.security.auth.module.UnixSystem().getUsername()</code> <em>does</em> give you the Unix / Linux user name for the current user.</p>\n<p><sup>As a general rule you should avoid the <code>com.sun.*</code> classes as they are internal and subject to change (or removal) without notice.  However the <code>com.sun.security.auth.*</code> packages are different.  Since Java 9, some  of these classes are in the official Java SE javadocs, and are (by implication) NOT internal.</sup></p>\n<p>However, you can't use the UNIX user name to reliably work out what the user's home directory is, as you are apparently trying to do.  And even if you could, it won't be in &quot;/Users/...&quot;.  That is a Windows-ism.  On a typical modern UNIX or Linux system, the user's home directory defaults to &quot;/home/&lt;username&gt;&quot; or something like that, but it <em>could</em> be literally anywhere.</p>\n<p>To get the current user's home directory, use <code>java.lang.System.getProperty(&quot;user.home&quot;)</code></p>\n"}],"owner":{"account_id":27987186,"reputation":1,"user_id":21373769,"display_name":"william"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678584388,"creation_date":1678489653,"question_id":75701744,"body_markdown":"i need help trying todo this--&gt;\r\n```\r\ntype variableName = new\r\ncom.sun.security.auth.module.UnixSystem().getUsername()\r\npublic class Main {\r\n   \r\n public static String CodeKey=&quot;RAWW&quot;;\r\n    public static String basedir=&quot;/Users/fuzzer/Desktop/random/&quot;;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // FireUP();\r\n\r\n        Encrypt(targetFilePath: &quot;/Users/&quot;)\r\n\r\n```\r\ni dont know how to set the thing after Users/   to the current user using the computer! please help!\r\n\r\ni tryied SOME things, but those didnt work, like naming a variable to the user.","title":"how do i get the username from new com.sun.security.auth.module.UnixSystem().getUsername()?","body":"<p>i need help trying todo this--&gt;</p>\n<pre><code>type variableName = new\ncom.sun.security.auth.module.UnixSystem().getUsername()\npublic class Main {\n   \n public static String CodeKey=&quot;RAWW&quot;;\n    public static String basedir=&quot;/Users/fuzzer/Desktop/random/&quot;;\n\n    public static void main(String[] args) {\n\n        // FireUP();\n\n        Encrypt(targetFilePath: &quot;/Users/&quot;)\n\n</code></pre>\n<p>i dont know how to set the thing after Users/   to the current user using the computer! please help!</p>\n<p>i tryied SOME things, but those didnt work, like naming a variable to the user.</p>\n"},{"tags":["java","arraylist","types","casting"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1678580241,"post_id":75710337,"comment_id":133561632,"body_markdown":"`ArrayList` can hold `Object`s - so, lots of different things simultaneously.  Obviously this isn&#39;t always desirable, but it&#39;s achivable","body":"<code>ArrayList</code> can hold <code>Object</code>s - so, lots of different things simultaneously.  Obviously this isn&#39;t always desirable, but it&#39;s achivable"},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":1,"creation_date":1678583482,"post_id":75710337,"comment_id":133561869,"body_markdown":"Depending on your needs and control of the model you could add a supertype that Books and Collectables both share and use that for your list.","body":"Depending on your needs and control of the model you could add a supertype that Books and Collectables both share and use that for your list."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1678584915,"post_id":75710337,"comment_id":133561994,"body_markdown":"Use the type system to create types that are useful to you. It seems extremely unlikely that making a type for every kind of thing that can be auctioned is going to do anything but make things complicated.","body":"Use the type system to create types that are useful to you. It seems extremely unlikely that making a type for every kind of thing that can be auctioned is going to do anything but make things complicated."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678587377,"post_id":75710337,"comment_id":133562201,"body_markdown":"Id categorise your items, then youd have a List of AuctionItems, each with a category and associate data","body":"Id categorise your items, then youd have a List of AuctionItems, each with a category and associate data"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1678594531,"post_id":75710337,"comment_id":133562712,"body_markdown":"The duplink gives the general solution.  In your case, I would try to come up with a  superclass or interface that is common to all of the objects in the list and use that ... rather than `java.lang.Object`.  But `Object` *will work* ... if there is nothing in common to the elements.","body":"The duplink gives the general solution.  In your case, I would try to come up with a  superclass or interface that is common to all of the objects in the list and use that ... rather than <code>java.lang.Object</code>.  But <code>Object</code> <i>will work</i> ... if there is nothing in common to the elements."}],"owner":{"account_id":18247803,"reputation":23,"user_id":13283510,"display_name":"Oceanman705"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678593898,"answer_count":0,"score":0,"last_activity_date":1678584314,"creation_date":1678579939,"question_id":75710337,"body_markdown":"I am trying to place some auction items into an array list, each item has a different type akin to what kind of item it is. \r\n\r\nBooks are classified as books, Collectables are collectables, etc. \r\n\r\nSince an array list can only hold several of one type of item, how can I place these different types of items into the same array list?\r\n\r\n","title":"Attempting to place auction items into an arraylist","body":"<p>I am trying to place some auction items into an array list, each item has a different type akin to what kind of item it is.</p>\n<p>Books are classified as books, Collectables are collectables, etc.</p>\n<p>Since an array list can only hold several of one type of item, how can I place these different types of items into the same array list?</p>\n"},{"tags":["java","class","processing","keypress","keyrelease"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1678585663,"post_id":75710205,"comment_id":133562057,"body_markdown":"That is _way_ too many `int` properties. All of them are x/y/w/h sets: make _that_ a class so that instead of _sixty eight individual ints_ you at least have only 17 things, but really, wrap those in some sensible classes too, like a `body` and a `ship` and `spots` or something. What you&#39;re showing is... not good.","body":"That is <i>way</i> too many <code>int</code> properties. All of them are x/y/w/h sets: make <i>that</i> a class so that instead of <i>sixty eight individual ints</i> you at least have only 17 things, but really, wrap those in some sensible classes too, like a <code>body</code> and a <code>ship</code> and <code>spots</code> or something. What you&#39;re showing is... not good."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678582620,"creation_date":1678577912,"answer_id":75710249,"question_id":75710205,"body_markdown":"When you use Processing, your `init` and `draw` methods, and all the other code in your sketch is inserted into a new class which is generated by Processing. This class extends `PApplet`.\r\n\r\nYou can see the Javadoc here: https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html\r\n\r\nThat parent class is where methods like `keyPressed` are declared. Processing will call your implementation of those methods, but only on the `PApplet` subclass it has created.\r\n\r\nWhen you move your code to a class which doesn&#39;t extend `PApplet`, those methods are no longer called by the framework.\r\n\r\nYou can keep all your code in your own class while still having the Processing framework call those methods by delegating them to your Alien instance:\r\n```\r\n// these methods are in your sketch, not your Alien class\r\nvoid keyReleased() {\r\n  alien.keyReleased();\r\n}\r\n\r\nvoid keyPressed() {\r\n  alien.keyPressed();\r\n}\r\n```\r\nYou don&#39;t need to change your `Alien` implementation.\r\n\r\n(I&#39;ve renamed your field `Alien` to `alien` -- variable names should not start with capital letters)","title":"My code works on its own, but when I put it into a class, it breaks","body":"<p>When you use Processing, your <code>init</code> and <code>draw</code> methods, and all the other code in your sketch is inserted into a new class which is generated by Processing. This class extends <code>PApplet</code>.</p>\n<p>You can see the Javadoc here: <a href=\"https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html\" rel=\"nofollow noreferrer\">https://processing.github.io/processing-javadocs/core/processing/core/PApplet.html</a></p>\n<p>That parent class is where methods like <code>keyPressed</code> are declared. Processing will call your implementation of those methods, but only on the <code>PApplet</code> subclass it has created.</p>\n<p>When you move your code to a class which doesn't extend <code>PApplet</code>, those methods are no longer called by the framework.</p>\n<p>You can keep all your code in your own class while still having the Processing framework call those methods by delegating them to your Alien instance:</p>\n<pre><code>// these methods are in your sketch, not your Alien class\nvoid keyReleased() {\n  alien.keyReleased();\n}\n\nvoid keyPressed() {\n  alien.keyPressed();\n}\n</code></pre>\n<p>You don't need to change your <code>Alien</code> implementation.</p>\n<p>(I've renamed your field <code>Alien</code> to <code>alien</code> -- variable names should not start with capital letters)</p>\n"}],"owner":{"account_id":27995125,"reputation":1,"user_id":21380551,"display_name":"Rory Baird"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678582668,"creation_date":1678577266,"question_id":75710205,"body_markdown":"I have been making this alien game where you have to control the alien on a screen using &quot;wasd&quot;, but when I put my code into a class, the class does not read `Alien.KeyReleased` in the set up, and I have no idea why\r\n```\r\nAlien Alien;\r\n\r\nvoid setup(){\r\n  \r\n  size (950, 650);\r\n  background(10,10,20);\r\n  Alien = new Alien(90, 150, 200, 200);\r\n}\r\n\r\nvoid draw() {\r\n  noStroke();\r\n  background(10,10,25);\r\n\r\n  Alien.drawAlien();\r\n  Alien.moveAlien();\r\n  Alien.checkForedge();\r\n  Alien.keyReleased();\r\n  Alien.keyPressed();\r\n}\r\n```\r\n```\r\nclass Alien {\r\n  \r\nint alienSpeed = 5;\r\nboolean moveUp;\r\nboolean moveDown;\r\nboolean moveLeft;\r\nboolean moveRight;\r\n\r\nint boundboxXLoc = 325;\r\nint boundboxYLoc = 325;\r\nint boundboxWidth = 90;\r\nint boundboxHeight = 150;\r\n\r\n//body\r\nint BodyXLoc;\r\nint BodyYLoc;\r\nint BodyWidth;\r\nint BodyHeight;\r\n\r\n//spot1 \r\nint spot1XLoc ;\r\nint spot1YLoc ;\r\nint spot1Width;\r\nint spot1Height;\r\n\r\n//spot2 \r\nint spot2XLoc ;\r\nint spot2YLoc ;\r\nint spot2Width;\r\nint spot2Height;\r\n\r\n//spot23\r\nint spot3XLoc ;\r\nint spot3YLoc ;\r\nint spot3Width;\r\nint spot3Height;\r\n\r\n//Generate random colours\r\nint Red = (int) random(200);\r\nint Blue = (int) random(200);\r\nint Green = (int) random(200);\r\nint Opacity = 255;\r\n\r\n//Generate spot1 Loc, mid\r\nint spot1LocX = (int) random(-13,8);\r\n\r\n//Generate spot2Loc, small\r\nint spot2LocX = (int) random(-4,27);\r\n\r\n//Generate spot3 Loc, big\r\nint spot3LocX = (int) random(-2,20);\r\n\r\n//arms \r\nint armsXLoc ;\r\nint armsYLoc ;\r\nint armsWidth;\r\nint armsHeight;\r\n\r\n//head\r\nint HeadXLoc;\r\nint HeadYLoc; \r\nint HeadWidth;\r\nint HeadHeight;\r\n\r\n//mouth\r\nint mouthXLoc;\r\nint mouthYLoc;\r\nint mouthWidth;\r\nint mouthHeight;\r\n\r\n//eyestalk\r\nint eyestalkXLoc;\r\nint eyestalkYLoc;\r\nint eyestalkWidth;\r\nint eyestalkHeight;\r\n\r\n//eyestalk1\r\nint eyestalk1XLoc;\r\nint eyestalk1YLoc;\r\nint eyestalk1Width;\r\nint eyestalk1Height;\r\n\r\n//eyestalk2\r\nint eyestalk2XLoc;\r\nint eyestalk2YLoc;\r\nint eyestalk2Width;\r\nint eyestalk2Height;\r\n\r\n//eyestalk3\r\nint eyestalk3XLoc;\r\nint eyestalk3YLoc;\r\nint eyestalk3Width;\r\nint eyestalk3Height;\r\n\r\n//eyestalk4\r\nint eyestalk4XLoc;\r\nint eyestalk4YLoc;\r\nint eyestalk4Width;\r\nint eyestalk4Height;\r\n\r\n//eyestalk5\r\nint eyestalk5XLoc;\r\nint eyestalk5YLoc;\r\nint eyestalk5Width;\r\nint eyestalk5Height;\r\n\r\n//eyestalk6\r\nint eyestalk6XLoc;\r\nint eyestalk6YLoc;\r\nint eyestalk6Width;\r\nint eyestalk6Height;\r\n\r\n///eyestalk7\r\nint eyestalk7XLoc;\r\nint eyestalk7YLoc;\r\nint eyestalk7Width;\r\nint eyestalk7Height;\r\n\r\n//ship\r\nint shipXLoc;\r\nint shipYLoc;\r\nint shipWidth = 180;\r\nint shipHeight = 75;\r\n\r\n//ship1\r\nint ship1XLoc;\r\nint ship1YLoc;\r\nint ship1Width = 100;\r\nint ship1Height = 30;\r\n  \r\n  \r\n  \r\n  Alien (int bW, int bH, int xL, int yL) {\r\n   \r\n    boundboxWidth = bW;\r\n    boundboxHeight = bH;\r\n    boundboxXLoc = xL;\r\n    boundboxYLoc = yL;\r\n\r\n  } \r\n  \r\n  \r\n  // draw the boundary box\r\n    void drawAlien() {\r\n    fill (100,0,0,0);\r\n    ellipse(boundboxXLoc, boundboxYLoc, boundboxWidth, boundboxHeight);\r\n\r\n // draw the Body\r\n     fill (Red,Green,Blue,Opacity);\r\n     ellipse(BodyXLoc, BodyYLoc, BodyWidth, BodyHeight);\r\n     BodyXLoc = boundboxXLoc;\r\n     BodyYLoc = boundboxYLoc + (boundboxHeight/8);\r\n     BodyWidth = boundboxWidth / (175/75) ;\r\n     BodyHeight = boundboxHeight / (250/100); \r\n     \r\n\r\n // draw the head\r\n    fill (Red,Green,Blue,Opacity);\r\n    ellipse(HeadXLoc, HeadYLoc, HeadWidth, HeadHeight); \r\n    HeadXLoc = boundboxXLoc;\r\n    HeadYLoc = boundboxYLoc - (boundboxHeight/5);\r\n    HeadWidth = boundboxWidth / (175/70);\r\n    HeadHeight = boundboxHeight / (250/56); \r\n  \r\n // draw the right eye stalk\r\n    fill (Red,Green,Blue,Opacity);\r\n    rect(eyestalkXLoc, eyestalkYLoc, eyestalkWidth, eyestalkHeight);\r\n    eyestalkXLoc = boundboxXLoc + (boundboxWidth/17);\r\n    eyestalkYLoc = boundboxYLoc - (boundboxHeight/2)+15;\r\n    eyestalkWidth = boundboxWidth / (175/20) - 1;\r\n    eyestalkHeight = boundboxHeight / (250/50); \r\n \r\n // draw the left eye stalk\r\n    fill (Red,Green,Blue,Opacity);\r\n    rect(eyestalk1XLoc, eyestalk1YLoc, eyestalk1Width, eyestalk1Height);\r\n    eyestalk1XLoc = boundboxXLoc -(boundboxWidth/6);\r\n    eyestalk1YLoc = boundboxYLoc - (boundboxHeight/2)+15;\r\n    eyestalk1Width = boundboxWidth / (175/20) - 1;\r\n    eyestalk1Height = boundboxHeight / (250/50);\r\n \r\n // the white part of the eye, right  \r\n    fill (255,255,255);\r\n    ellipse(eyestalk2XLoc, eyestalk2YLoc, eyestalk2Width, eyestalk2Height);\r\n    eyestalk2XLoc = boundboxXLoc + boundboxWidth / (175/20);\r\n    eyestalk2YLoc = boundboxYLoc - boundboxHeight / (240/75);\r\n    eyestalk2Width = boundboxWidth / (175/10);\r\n    eyestalk2Height = boundboxHeight / (250/30);\r\n \r\n // the white part of the eye, left  \r\n    fill (255,255,255);\r\n    ellipse(eyestalk3XLoc, eyestalk3YLoc, eyestalk3Width, eyestalk3Height);\r\n    eyestalk3XLoc = boundboxXLoc - boundboxWidth / (175/20);\r\n    eyestalk3YLoc = boundboxYLoc - boundboxHeight / (240/75);\r\n    eyestalk3Width = boundboxWidth / (175/10);\r\n    eyestalk3Height = boundboxHeight / (250/30);\r\n    \r\n // the right pupil\r\n    fill (0,0,0);\r\n    ellipse(eyestalk4XLoc, eyestalk4YLoc, eyestalk4Width, eyestalk4Height);\r\n    eyestalk4XLoc = boundboxXLoc + boundboxWidth / (175/20);\r\n    eyestalk4YLoc = boundboxYLoc - boundboxHeight / (240/75);\r\n    eyestalk4Width = boundboxWidth / (175/5);\r\n    eyestalk4Height = boundboxHeight / (250/15);\r\n    \r\n // the left pupil\r\n    fill (0,0,0);\r\n    ellipse(eyestalk5XLoc, eyestalk5YLoc, eyestalk5Width, eyestalk5Height);\r\n    eyestalk5XLoc = boundboxXLoc - boundboxWidth / (175/20);\r\n    eyestalk5YLoc = boundboxYLoc - boundboxHeight / (240/75);\r\n    eyestalk5Width = boundboxWidth / (175/5);\r\n    eyestalk5Height = boundboxHeight / (250/15);\r\n    \r\n // the top part of the eye stalk, right\r\n    fill (Red,Green,Blue,Opacity);\r\n    ellipse(eyestalk6XLoc, eyestalk6YLoc, eyestalk6Width, eyestalk6Height);\r\n    eyestalk6XLoc = boundboxXLoc + boundboxWidth / (175/19);\r\n    eyestalk6YLoc = eyestalkYLoc;\r\n    eyestalk6Width = boundboxWidth / (175/20);\r\n    eyestalk6Height = boundboxHeight / (250/20);\r\n    \r\n // the top part of the eye stalk, left\r\n    fill (Red,Green,Blue,Opacity);\r\n    ellipse(eyestalk7XLoc, eyestalk7YLoc, eyestalk7Width, eyestalk7Height);\r\n    eyestalk7XLoc = boundboxXLoc - boundboxWidth / (175/19);\r\n    eyestalk7YLoc = eyestalkYLoc;\r\n    eyestalk7Width = boundboxWidth / (175/20);\r\n    eyestalk7Height = boundboxHeight / (250/20);\r\n   \r\n // The mouth\r\n   fill (50,50,50);\r\n   ellipse(mouthXLoc, mouthYLoc, mouthWidth, mouthHeight);\r\n   mouthXLoc = boundboxXLoc;\r\n   mouthYLoc = boundboxYLoc - boundboxHeight/6;\r\n   mouthWidth = boundboxWidth / (175/40);\r\n   mouthHeight = boundboxHeight / (250/10);\r\n\r\n // the arms\r\n   fill (Red,Green,Blue,Opacity);\r\n   ellipse(armsXLoc, armsYLoc, armsWidth, armsHeight);\r\n   armsXLoc = BodyXLoc; \r\n   armsYLoc = BodyYLoc-10;\r\n   armsWidth = boundboxWidth ;\r\n   armsHeight = boundboxHeight / (250/15);\r\n   \r\n //spot1\r\n   fill ((Red-40),(Green-40),(Blue-40),Opacity);\r\n   ellipse(spot1XLoc, spot1YLoc, spot1Width, spot1Height);\r\n   spot1XLoc = boundboxXLoc + spot1LocX + (boundboxWidth/20);\r\n   spot1YLoc = boundboxYLoc + (boundboxHeight/50);\r\n   spot1Width = boundboxWidth / (175/30) ;\r\n   spot1Height = boundboxHeight / (250/15); \r\n     \r\n  //spot2\r\n   fill ((Red-40),(Green-40),(Blue-40),Opacity);\r\n   ellipse(spot2XLoc, spot2YLoc, spot2Width, spot2Height);\r\n   spot2XLoc = boundboxXLoc + spot2LocX - (boundboxWidth / 10);\r\n   spot2YLoc = boundboxYLoc  - (boundboxHeight/20);\r\n   spot2Width = boundboxWidth / (175/15) ;\r\n   spot2Height = boundboxHeight / (250/13); \r\n     \r\n  //spot3\r\n   fill ((Red-40),(Green-40),(Blue-40),Opacity);\r\n   ellipse(spot3XLoc, spot3YLoc, spot3Width, spot3Height);\r\n   spot3XLoc = boundboxXLoc + spot3LocX - (boundboxWidth / 10);\r\n   spot3YLoc = boundboxYLoc + (boundboxHeight/10);\r\n   spot3Width = boundboxWidth / (175/50) ;\r\n   spot3Height = boundboxHeight / (250/23); \r\n\r\n // the ship\r\n   fill (100,100,100);\r\n   ellipse(shipXLoc, shipYLoc, shipWidth, shipHeight);\r\n   shipXLoc = BodyXLoc; \r\n   shipYLoc = (BodyYLoc + (boundboxHeight/5));\r\n   shipWidth = boundboxWidth;\r\n   shipHeight = boundboxHeight / (250/75);\r\n\r\n // the bottom of the ship\r\n    fill (150,170,200);\r\n    ellipse(ship1XLoc, ship1YLoc, ship1Width, ship1Height);\r\n    ship1XLoc = BodyXLoc; \r\n    ship1YLoc = (shipYLoc + (shipHeight/3));\r\n    ship1Width = boundboxWidth / (250/100);\r\n    ship1Height = boundboxHeight / (250/30);\r\n \r\n}\r\n  \r\n  void moveAlien() {\r\n  if (moveUp) {\r\n    boundboxYLoc -= alienSpeed;\r\n  }\r\n  if (moveRight) {\r\n    if (moveUp) {\r\n      boundboxXLoc += (int) (alienSpeed * Math.sqrt(2) / 2);\r\n      boundboxYLoc -= (int) (alienSpeed * Math.sqrt(2) / 2);\r\n    } else {\r\n      boundboxXLoc += alienSpeed;\r\n    }\r\n  }\r\n  if (moveDown) {\r\n    boundboxYLoc += alienSpeed;\r\n  }\r\n  if (moveLeft) {\r\n    if (moveDown) {\r\n      boundboxXLoc -= (int) (alienSpeed * Math.sqrt(2) / 2);\r\n      boundboxYLoc += (int) (alienSpeed * Math.sqrt(2) / 2);\r\n    } else {\r\n      boundboxXLoc -= alienSpeed;\r\n    }\r\n }\r\n}\r\n\r\nvoid keyReleased() {\r\n  if (key == &#39;w&#39;) {\r\n    moveUp = false;\r\n  }\r\n  if (key == &#39;a&#39;) {\r\n    moveLeft = false;\r\n  }\r\n  if (key == &#39;s&#39;) {\r\n    moveDown = false;\r\n  }\r\n  if (key == &#39;d&#39;) {\r\n    moveRight = false;\r\n  }\r\n}\r\n\r\n\r\nvoid keyPressed() {\r\n  if (key == &#39;w&#39;) {\r\n    moveUp = true;\r\n  }\r\n  if (key == &#39;s&#39;) {\r\n    moveDown = true;\r\n  }\r\n  if (key == &#39;a&#39;) {\r\n    moveLeft = true;\r\n  }\r\n  if (key == &#39;d&#39;) {\r\n    moveRight = true;\r\n  }\r\n}\r\n\r\nvoid checkForedge() {\r\n  \r\n// right wall\r\n  if(boundboxXLoc &gt;= 990) {\r\n      boundboxXLoc = boundboxXLoc -1050;\r\n\r\n  }  \r\n// left wall\r\n    if(boundboxXLoc &lt;= -50) {\r\n      boundboxXLoc = boundboxXLoc + 1050;\r\n\r\n    }\r\n// bottom wall\r\n  if(boundboxYLoc &lt;= -70) {\r\n      boundboxYLoc = boundboxYLoc + 780;\r\n\r\n  }  \r\n// top wall\r\n    if(boundboxYLoc &gt;= 700) {\r\n      boundboxYLoc = boundboxYLoc - 780; \r\n    \r\n  }\r\n}\r\n  \r\n}//end class\r\n```\r\nI tried moving about the position of `ALien.KeyPressed` and `Alien.KeyReleased` hoping it would help it read it, but thats had no affect","title":"My code works on its own, but when I put it into a class, it breaks","body":"<p>I have been making this alien game where you have to control the alien on a screen using &quot;wasd&quot;, but when I put my code into a class, the class does not read <code>Alien.KeyReleased</code> in the set up, and I have no idea why</p>\n<pre><code>Alien Alien;\n\nvoid setup(){\n  \n  size (950, 650);\n  background(10,10,20);\n  Alien = new Alien(90, 150, 200, 200);\n}\n\nvoid draw() {\n  noStroke();\n  background(10,10,25);\n\n  Alien.drawAlien();\n  Alien.moveAlien();\n  Alien.checkForedge();\n  Alien.keyReleased();\n  Alien.keyPressed();\n}\n</code></pre>\n<pre><code>class Alien {\n  \nint alienSpeed = 5;\nboolean moveUp;\nboolean moveDown;\nboolean moveLeft;\nboolean moveRight;\n\nint boundboxXLoc = 325;\nint boundboxYLoc = 325;\nint boundboxWidth = 90;\nint boundboxHeight = 150;\n\n//body\nint BodyXLoc;\nint BodyYLoc;\nint BodyWidth;\nint BodyHeight;\n\n//spot1 \nint spot1XLoc ;\nint spot1YLoc ;\nint spot1Width;\nint spot1Height;\n\n//spot2 \nint spot2XLoc ;\nint spot2YLoc ;\nint spot2Width;\nint spot2Height;\n\n//spot23\nint spot3XLoc ;\nint spot3YLoc ;\nint spot3Width;\nint spot3Height;\n\n//Generate random colours\nint Red = (int) random(200);\nint Blue = (int) random(200);\nint Green = (int) random(200);\nint Opacity = 255;\n\n//Generate spot1 Loc, mid\nint spot1LocX = (int) random(-13,8);\n\n//Generate spot2Loc, small\nint spot2LocX = (int) random(-4,27);\n\n//Generate spot3 Loc, big\nint spot3LocX = (int) random(-2,20);\n\n//arms \nint armsXLoc ;\nint armsYLoc ;\nint armsWidth;\nint armsHeight;\n\n//head\nint HeadXLoc;\nint HeadYLoc; \nint HeadWidth;\nint HeadHeight;\n\n//mouth\nint mouthXLoc;\nint mouthYLoc;\nint mouthWidth;\nint mouthHeight;\n\n//eyestalk\nint eyestalkXLoc;\nint eyestalkYLoc;\nint eyestalkWidth;\nint eyestalkHeight;\n\n//eyestalk1\nint eyestalk1XLoc;\nint eyestalk1YLoc;\nint eyestalk1Width;\nint eyestalk1Height;\n\n//eyestalk2\nint eyestalk2XLoc;\nint eyestalk2YLoc;\nint eyestalk2Width;\nint eyestalk2Height;\n\n//eyestalk3\nint eyestalk3XLoc;\nint eyestalk3YLoc;\nint eyestalk3Width;\nint eyestalk3Height;\n\n//eyestalk4\nint eyestalk4XLoc;\nint eyestalk4YLoc;\nint eyestalk4Width;\nint eyestalk4Height;\n\n//eyestalk5\nint eyestalk5XLoc;\nint eyestalk5YLoc;\nint eyestalk5Width;\nint eyestalk5Height;\n\n//eyestalk6\nint eyestalk6XLoc;\nint eyestalk6YLoc;\nint eyestalk6Width;\nint eyestalk6Height;\n\n///eyestalk7\nint eyestalk7XLoc;\nint eyestalk7YLoc;\nint eyestalk7Width;\nint eyestalk7Height;\n\n//ship\nint shipXLoc;\nint shipYLoc;\nint shipWidth = 180;\nint shipHeight = 75;\n\n//ship1\nint ship1XLoc;\nint ship1YLoc;\nint ship1Width = 100;\nint ship1Height = 30;\n  \n  \n  \n  Alien (int bW, int bH, int xL, int yL) {\n   \n    boundboxWidth = bW;\n    boundboxHeight = bH;\n    boundboxXLoc = xL;\n    boundboxYLoc = yL;\n\n  } \n  \n  \n  // draw the boundary box\n    void drawAlien() {\n    fill (100,0,0,0);\n    ellipse(boundboxXLoc, boundboxYLoc, boundboxWidth, boundboxHeight);\n\n // draw the Body\n     fill (Red,Green,Blue,Opacity);\n     ellipse(BodyXLoc, BodyYLoc, BodyWidth, BodyHeight);\n     BodyXLoc = boundboxXLoc;\n     BodyYLoc = boundboxYLoc + (boundboxHeight/8);\n     BodyWidth = boundboxWidth / (175/75) ;\n     BodyHeight = boundboxHeight / (250/100); \n     \n\n // draw the head\n    fill (Red,Green,Blue,Opacity);\n    ellipse(HeadXLoc, HeadYLoc, HeadWidth, HeadHeight); \n    HeadXLoc = boundboxXLoc;\n    HeadYLoc = boundboxYLoc - (boundboxHeight/5);\n    HeadWidth = boundboxWidth / (175/70);\n    HeadHeight = boundboxHeight / (250/56); \n  \n // draw the right eye stalk\n    fill (Red,Green,Blue,Opacity);\n    rect(eyestalkXLoc, eyestalkYLoc, eyestalkWidth, eyestalkHeight);\n    eyestalkXLoc = boundboxXLoc + (boundboxWidth/17);\n    eyestalkYLoc = boundboxYLoc - (boundboxHeight/2)+15;\n    eyestalkWidth = boundboxWidth / (175/20) - 1;\n    eyestalkHeight = boundboxHeight / (250/50); \n \n // draw the left eye stalk\n    fill (Red,Green,Blue,Opacity);\n    rect(eyestalk1XLoc, eyestalk1YLoc, eyestalk1Width, eyestalk1Height);\n    eyestalk1XLoc = boundboxXLoc -(boundboxWidth/6);\n    eyestalk1YLoc = boundboxYLoc - (boundboxHeight/2)+15;\n    eyestalk1Width = boundboxWidth / (175/20) - 1;\n    eyestalk1Height = boundboxHeight / (250/50);\n \n // the white part of the eye, right  \n    fill (255,255,255);\n    ellipse(eyestalk2XLoc, eyestalk2YLoc, eyestalk2Width, eyestalk2Height);\n    eyestalk2XLoc = boundboxXLoc + boundboxWidth / (175/20);\n    eyestalk2YLoc = boundboxYLoc - boundboxHeight / (240/75);\n    eyestalk2Width = boundboxWidth / (175/10);\n    eyestalk2Height = boundboxHeight / (250/30);\n \n // the white part of the eye, left  \n    fill (255,255,255);\n    ellipse(eyestalk3XLoc, eyestalk3YLoc, eyestalk3Width, eyestalk3Height);\n    eyestalk3XLoc = boundboxXLoc - boundboxWidth / (175/20);\n    eyestalk3YLoc = boundboxYLoc - boundboxHeight / (240/75);\n    eyestalk3Width = boundboxWidth / (175/10);\n    eyestalk3Height = boundboxHeight / (250/30);\n    \n // the right pupil\n    fill (0,0,0);\n    ellipse(eyestalk4XLoc, eyestalk4YLoc, eyestalk4Width, eyestalk4Height);\n    eyestalk4XLoc = boundboxXLoc + boundboxWidth / (175/20);\n    eyestalk4YLoc = boundboxYLoc - boundboxHeight / (240/75);\n    eyestalk4Width = boundboxWidth / (175/5);\n    eyestalk4Height = boundboxHeight / (250/15);\n    \n // the left pupil\n    fill (0,0,0);\n    ellipse(eyestalk5XLoc, eyestalk5YLoc, eyestalk5Width, eyestalk5Height);\n    eyestalk5XLoc = boundboxXLoc - boundboxWidth / (175/20);\n    eyestalk5YLoc = boundboxYLoc - boundboxHeight / (240/75);\n    eyestalk5Width = boundboxWidth / (175/5);\n    eyestalk5Height = boundboxHeight / (250/15);\n    \n // the top part of the eye stalk, right\n    fill (Red,Green,Blue,Opacity);\n    ellipse(eyestalk6XLoc, eyestalk6YLoc, eyestalk6Width, eyestalk6Height);\n    eyestalk6XLoc = boundboxXLoc + boundboxWidth / (175/19);\n    eyestalk6YLoc = eyestalkYLoc;\n    eyestalk6Width = boundboxWidth / (175/20);\n    eyestalk6Height = boundboxHeight / (250/20);\n    \n // the top part of the eye stalk, left\n    fill (Red,Green,Blue,Opacity);\n    ellipse(eyestalk7XLoc, eyestalk7YLoc, eyestalk7Width, eyestalk7Height);\n    eyestalk7XLoc = boundboxXLoc - boundboxWidth / (175/19);\n    eyestalk7YLoc = eyestalkYLoc;\n    eyestalk7Width = boundboxWidth / (175/20);\n    eyestalk7Height = boundboxHeight / (250/20);\n   \n // The mouth\n   fill (50,50,50);\n   ellipse(mouthXLoc, mouthYLoc, mouthWidth, mouthHeight);\n   mouthXLoc = boundboxXLoc;\n   mouthYLoc = boundboxYLoc - boundboxHeight/6;\n   mouthWidth = boundboxWidth / (175/40);\n   mouthHeight = boundboxHeight / (250/10);\n\n // the arms\n   fill (Red,Green,Blue,Opacity);\n   ellipse(armsXLoc, armsYLoc, armsWidth, armsHeight);\n   armsXLoc = BodyXLoc; \n   armsYLoc = BodyYLoc-10;\n   armsWidth = boundboxWidth ;\n   armsHeight = boundboxHeight / (250/15);\n   \n //spot1\n   fill ((Red-40),(Green-40),(Blue-40),Opacity);\n   ellipse(spot1XLoc, spot1YLoc, spot1Width, spot1Height);\n   spot1XLoc = boundboxXLoc + spot1LocX + (boundboxWidth/20);\n   spot1YLoc = boundboxYLoc + (boundboxHeight/50);\n   spot1Width = boundboxWidth / (175/30) ;\n   spot1Height = boundboxHeight / (250/15); \n     \n  //spot2\n   fill ((Red-40),(Green-40),(Blue-40),Opacity);\n   ellipse(spot2XLoc, spot2YLoc, spot2Width, spot2Height);\n   spot2XLoc = boundboxXLoc + spot2LocX - (boundboxWidth / 10);\n   spot2YLoc = boundboxYLoc  - (boundboxHeight/20);\n   spot2Width = boundboxWidth / (175/15) ;\n   spot2Height = boundboxHeight / (250/13); \n     \n  //spot3\n   fill ((Red-40),(Green-40),(Blue-40),Opacity);\n   ellipse(spot3XLoc, spot3YLoc, spot3Width, spot3Height);\n   spot3XLoc = boundboxXLoc + spot3LocX - (boundboxWidth / 10);\n   spot3YLoc = boundboxYLoc + (boundboxHeight/10);\n   spot3Width = boundboxWidth / (175/50) ;\n   spot3Height = boundboxHeight / (250/23); \n\n // the ship\n   fill (100,100,100);\n   ellipse(shipXLoc, shipYLoc, shipWidth, shipHeight);\n   shipXLoc = BodyXLoc; \n   shipYLoc = (BodyYLoc + (boundboxHeight/5));\n   shipWidth = boundboxWidth;\n   shipHeight = boundboxHeight / (250/75);\n\n // the bottom of the ship\n    fill (150,170,200);\n    ellipse(ship1XLoc, ship1YLoc, ship1Width, ship1Height);\n    ship1XLoc = BodyXLoc; \n    ship1YLoc = (shipYLoc + (shipHeight/3));\n    ship1Width = boundboxWidth / (250/100);\n    ship1Height = boundboxHeight / (250/30);\n \n}\n  \n  void moveAlien() {\n  if (moveUp) {\n    boundboxYLoc -= alienSpeed;\n  }\n  if (moveRight) {\n    if (moveUp) {\n      boundboxXLoc += (int) (alienSpeed * Math.sqrt(2) / 2);\n      boundboxYLoc -= (int) (alienSpeed * Math.sqrt(2) / 2);\n    } else {\n      boundboxXLoc += alienSpeed;\n    }\n  }\n  if (moveDown) {\n    boundboxYLoc += alienSpeed;\n  }\n  if (moveLeft) {\n    if (moveDown) {\n      boundboxXLoc -= (int) (alienSpeed * Math.sqrt(2) / 2);\n      boundboxYLoc += (int) (alienSpeed * Math.sqrt(2) / 2);\n    } else {\n      boundboxXLoc -= alienSpeed;\n    }\n }\n}\n\nvoid keyReleased() {\n  if (key == 'w') {\n    moveUp = false;\n  }\n  if (key == 'a') {\n    moveLeft = false;\n  }\n  if (key == 's') {\n    moveDown = false;\n  }\n  if (key == 'd') {\n    moveRight = false;\n  }\n}\n\n\nvoid keyPressed() {\n  if (key == 'w') {\n    moveUp = true;\n  }\n  if (key == 's') {\n    moveDown = true;\n  }\n  if (key == 'a') {\n    moveLeft = true;\n  }\n  if (key == 'd') {\n    moveRight = true;\n  }\n}\n\nvoid checkForedge() {\n  \n// right wall\n  if(boundboxXLoc &gt;= 990) {\n      boundboxXLoc = boundboxXLoc -1050;\n\n  }  \n// left wall\n    if(boundboxXLoc &lt;= -50) {\n      boundboxXLoc = boundboxXLoc + 1050;\n\n    }\n// bottom wall\n  if(boundboxYLoc &lt;= -70) {\n      boundboxYLoc = boundboxYLoc + 780;\n\n  }  \n// top wall\n    if(boundboxYLoc &gt;= 700) {\n      boundboxYLoc = boundboxYLoc - 780; \n    \n  }\n}\n  \n}//end class\n</code></pre>\n<p>I tried moving about the position of <code>ALien.KeyPressed</code> and <code>Alien.KeyReleased</code> hoping it would help it read it, but thats had no affect</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":13385810,"reputation":862,"user_id":9659759,"display_name":"Jake"},"score":0,"creation_date":1678586925,"post_id":75710480,"comment_id":133562175,"body_markdown":"Providing more details on the crash, including what type of exception is happening, a stack trace, or a way to reproduce the issue is probably going to be helpful.  Do you even know that the two code snippets above are actually causing the issue?  I am not an Android expert, but I think it&#39;s unlikely that most people will be able to divine your issue just based on those two functions and a quick description of the problem.  More context is almost certainly needed.","body":"Providing more details on the crash, including what type of exception is happening, a stack trace, or a way to reproduce the issue is probably going to be helpful.  Do you even know that the two code snippets above are actually causing the issue?  I am not an Android expert, but I think it&#39;s unlikely that most people will be able to divine your issue just based on those two functions and a quick description of the problem.  More context is almost certainly needed."},{"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"score":0,"creation_date":1678659206,"post_id":75710480,"comment_id":133571922,"body_markdown":"@Jake Like I said am not getting any error in my logs but the app is crashing. Am lost too, because there is no error that I can see in the logs its just crashing. I don&#39;t mind providing more code on request because I don&#39;t know which code to provide","body":"@Jake Like I said am not getting any error in my logs but the app is crashing. Am lost too, because there is no error that I can see in the logs its just crashing. I don&#39;t mind providing more code on request because I don&#39;t know which code to provide"}],"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678582342,"creation_date":1678582342,"question_id":75710480,"body_markdown":"so I am building a social app which needs images for posts. The problem is when I open the gallery to select an image it crashes. It doesn&#39;t crash always it only crashes if I take some time, But not t0o much time just an amount I think would be average in terms of an average person going through his gallery looking for the right image. I have no idea where the issue is because I tried finding an error in the logs but its almost like the crash event is outside the app so the logs don&#39;t show it. here is the code to pick the image\r\n\r\n    add_image.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                    Intent intent = new Intent();\r\n                    intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                    intent.setType(&quot;image/*&quot;);\r\n                    startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE);\r\n\r\n            }\r\n        });\r\n\r\nThen here is the code for retrieving and compressing the image in onActivityResult of course\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\r\n        if (requestCode == PICK_IMAGE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\r\n\r\n            imageUri = data.getData();\r\n            imageView.setImageURI(imageUri);\r\n            imageView.setVisibility(View.VISIBLE);\r\n            isImageSelected = true;\r\n\r\n            try {\r\n                Bitmap original = MediaStore.Images.Media.getBitmap(getContentResolver(), imageUri);\r\n                ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n                original.compress(Bitmap.CompressFormat.JPEG, UPLOAD_IMAGE_QUALITY, stream);\r\n                image = stream.toByteArray();\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n\r\n    }","title":"App Crashes after taking long to select image from gallery","body":"<p>so I am building a social app which needs images for posts. The problem is when I open the gallery to select an image it crashes. It doesn't crash always it only crashes if I take some time, But not t0o much time just an amount I think would be average in terms of an average person going through his gallery looking for the right image. I have no idea where the issue is because I tried finding an error in the logs but its almost like the crash event is outside the app so the logs don't show it. here is the code to pick the image</p>\n<pre><code>add_image.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n                Intent intent = new Intent();\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                intent.setType(&quot;image/*&quot;);\n                startActivityForResult(Intent.createChooser(intent, &quot;Select Picture&quot;), PICK_IMAGE);\n\n        }\n    });\n</code></pre>\n<p>Then here is the code for retrieving and compressing the image in onActivityResult of course</p>\n<pre><code>@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n\n    if (requestCode == PICK_IMAGE &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\n\n        imageUri = data.getData();\n        imageView.setImageURI(imageUri);\n        imageView.setVisibility(View.VISIBLE);\n        isImageSelected = true;\n\n        try {\n            Bitmap original = MediaStore.Images.Media.getBitmap(getContentResolver(), imageUri);\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\n            original.compress(Bitmap.CompressFormat.JPEG, UPLOAD_IMAGE_QUALITY, stream);\n            image = stream.toByteArray();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    super.onActivityResult(requestCode, resultCode, data);\n\n\n}\n</code></pre>\n"},{"tags":["java","optimization","casting","memory-management"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":0,"creation_date":1287495416,"post_id":3968913,"comment_id":4243625,"body_markdown":"It is not good practice to maintain two, can you post your actual problem so that we can suggest better design. I didn&#39;t down vote","body":"It is not good practice to maintain two, can you post your actual problem so that we can suggest better design. I didn&#39;t down vote"},{"owner":{"account_id":199923,"reputation":106976,"user_id":445517,"accept_rate":43,"display_name":"CodesInChaos"},"score":0,"creation_date":1287495666,"post_id":3968913,"comment_id":4243672,"body_markdown":"Casting to the superclass should be free. And about how many pointers are we talking here? Is it just a few local variables or thousands?","body":"Casting to the superclass should be free. And about how many pointers are we talking here? Is it just a few local variables or thousands?"},{"owner":{"account_id":101106,"reputation":2210,"user_id":272176,"display_name":"Tom Castle"},"score":2,"creation_date":1287495963,"post_id":3968913,"comment_id":4243742,"body_markdown":"Worth reading the answers to this question on the overhead of casting - http://stackoverflow.com/questions/2170872/does-java-casting-introduce-overhead-why","body":"Worth reading the answers to this question on the overhead of casting - <a href=\"http://stackoverflow.com/questions/2170872/does-java-casting-introduce-overhead-why\" title=\"does java casting introduce overhead why\">stackoverflow.com/questions/2170872/&hellip;</a>"},{"owner":{"account_id":39088,"reputation":67399,"user_id":112671,"accept_rate":79,"display_name":"Robert Munteanu"},"score":0,"creation_date":1287500990,"post_id":3968913,"comment_id":4244755,"body_markdown":"http://stackoverflow.com/questions/2170872/does-java-casting-introduce-overhead-why/2171477#2171477 is what you are looking for.","body":"<a href=\"http://stackoverflow.com/questions/2170872/does-java-casting-introduce-overhead-why/2171477#2171477\" title=\"does java casting introduce overhead why\">stackoverflow.com/questions/2170872/&hellip;</a> is what you are looking for."},{"owner":{"account_id":174188,"reputation":1673,"user_id":403397,"accept_rate":59,"display_name":"GC_"},"score":0,"creation_date":1287960191,"post_id":3968913,"comment_id":4298510,"body_markdown":"I choose P&#233;ter T&#246;r&#246;k, because he wrote, &quot;Optimize only when you know that you need to, and have proven (using a profiler) where the bottleneck is within your code,&quot; which I think is good advice.","body":"I choose P&#233;ter T&#246;r&#246;k, because he wrote, &quot;Optimize only when you know that you need to, and have proven (using a profiler) where the bottleneck is within your code,&quot; which I think is good advice."}],"answers":[{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1287495498,"creation_date":1287495498,"answer_id":3968934,"question_id":3968913,"body_markdown":"Do whatever makes the code clearer, forget about micro-optimizations.","title":"How much processing and memory use does casting take in Java?","body":"<p>Do whatever makes the code clearer, forget about micro-optimizations.</p>\n"},{"tags":[],"owner":{"account_id":44204,"reputation":9823,"user_id":129599,"accept_rate":100,"display_name":"Ophidian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1287495507,"creation_date":1287495507,"answer_id":3968936,"question_id":3968913,"body_markdown":"Just go with whichever solution is easier to read and cleanest to maintain (likely the first solution).  At that low a level of optimization, it&#39;s really not worth it except in edge cases where you really need the extra 0.01% performance improvement.\r\n\r\nFor what it&#39;s worth, you don&#39;t actually need to cast a subclass to a superclass reference (second solution listed), only the other way around.  When casting a superclass to a subclass, it&#39;s generally preferred verify its type with `instanceof` prior to the cast rather than making assumptions.","title":"How much processing and memory use does casting take in Java?","body":"<p>Just go with whichever solution is easier to read and cleanest to maintain (likely the first solution).  At that low a level of optimization, it's really not worth it except in edge cases where you really need the extra 0.01% performance improvement.</p>\n\n<p>For what it's worth, you don't actually need to cast a subclass to a superclass reference (second solution listed), only the other way around.  When casting a superclass to a subclass, it's generally preferred verify its type with <code>instanceof</code> prior to the cast rather than making assumptions.</p>\n"},{"tags":[],"owner":{"account_id":41850,"reputation":132318,"user_id":121747,"accept_rate":89,"display_name":"Jack"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287495832,"creation_date":1287495530,"answer_id":3968942,"question_id":3968913,"body_markdown":"&lt;strike&gt;Casting is not an &quot;operation&quot; that is done at runtime. It&#39;s just needed by the compiler to assure you static type safety.&lt;/strike&gt;\r\n\r\nJust looked at JVM code, the two approaches are basically equivalent, they are implemented as\r\n\r\n    CHECKCAST Main$B\r\n    INVOKEVIRTUAL Main$B.mySubMethod()V\r\n\r\nso a small overhead is present, but it&#39;s the same in both cases (since you gotta do a downcast anyway).","title":"How much processing and memory use does casting take in Java?","body":"<p><strike>Casting is not an \"operation\" that is done at runtime. It's just needed by the compiler to assure you static type safety.</strike></p>\n\n<p>Just looked at JVM code, the two approaches are basically equivalent, they are implemented as</p>\n\n<pre><code>CHECKCAST Main$B\nINVOKEVIRTUAL Main$B.mySubMethod()V\n</code></pre>\n\n<p>so a small overhead is present, but it's the same in both cases (since you gotta do a downcast anyway).</p>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1287653604,"creation_date":1287495534,"answer_id":3968943,"question_id":3968913,"body_markdown":"&lt;strike&gt;It seems from your code snippet that `getSameInstance()` returns a `SubClass`. In this case the simplest solution is\n\n    SubClass objectB = getSameInstance();\n    objectB.functionOne();\n    objectB.functionOther();\n\nNo casts, no worries :-)&lt;/strike&gt;\n\nAs others have rightly noted, the primary concern should be code readability and simplicity, not performance. **Optimize only when you know that you need to, and have proven (using a profiler) where the bottleneck is** within your code. Even in this case, micro-optimization is rarely useful in Java.\n\nAn additional note: calling the same method twice can be problematic if the method is heavy (in which case you are effectively making your code slower, not faster), or has side effects (in which case the behaviour of your program may noticeably change).\n\nAnd btw in this line of your code snippet\n\n    SuperClass objectA = (SuperClass) getSameInstance();\n\nthere is absolutely no need to upcast the returned value to `SuperClass` - a superclass reference can always point to a subclass object. (I guess that such an upcast would be omitted by the compiler anyway, so it makes no difference in the bytecode.)\n\n### Update\n\nYou still haven&#39;t published the declaration of the method I asked for. But from your explanation I presume it should look something like\n\n    public Shape getSomeRandomShape();\n\n**is this correct?**\n\nThis would btw mean that your 2nd original code snippet (with the `getSameInstance()` call) is incorrect - the casts should be the opposite way. You managed to confuse me with it, so you got a confusing answer :-)\n\nAlso in the latest examples, you don&#39;t need to cast the returned value to a `(Shape)`, since it is already a `Shape`. The cast is just cluttering your code. Similarly, the many casts in the 2nd example of your UPDATE 2 are making the code hard to read. I would prefer the first version, with two references (_not_ pointers btw - Java has no pointers).\n\nAnd I care only about code readability here - as others have already noted, **you should really, really not waste your time thinking about the cost of casts**. Just **focus on making your code as simple and readable as possible**. You would most likely never ever going to notice the tiniest bit of difference between the performance of the two code snippets you show above (unless maybe if they are executed in a tight loop millions of times - but then, I guess, the JIT would optimize the casts away anyway). However, you will notice the difference it takes in time to understand one code snippet versus the other, for someone who is new to this code - or someone who has forgotten the details already, which could be you in about 6 months.\n","title":"How much processing and memory use does casting take in Java?","body":"<p><strike>It seems from your code snippet that <code>getSameInstance()</code> returns a <code>SubClass</code>. In this case the simplest solution is</p>\n<pre><code>SubClass objectB = getSameInstance();\nobjectB.functionOne();\nobjectB.functionOther();\n</code></pre>\n<p>No casts, no worries :-)</strike></p>\n<p>As others have rightly noted, the primary concern should be code readability and simplicity, not performance. <strong>Optimize only when you know that you need to, and have proven (using a profiler) where the bottleneck is</strong> within your code. Even in this case, micro-optimization is rarely useful in Java.</p>\n<p>An additional note: calling the same method twice can be problematic if the method is heavy (in which case you are effectively making your code slower, not faster), or has side effects (in which case the behaviour of your program may noticeably change).</p>\n<p>And btw in this line of your code snippet</p>\n<pre><code>SuperClass objectA = (SuperClass) getSameInstance();\n</code></pre>\n<p>there is absolutely no need to upcast the returned value to <code>SuperClass</code> - a superclass reference can always point to a subclass object. (I guess that such an upcast would be omitted by the compiler anyway, so it makes no difference in the bytecode.)</p>\n<h3>Update</h3>\n<p>You still haven't published the declaration of the method I asked for. But from your explanation I presume it should look something like</p>\n<pre><code>public Shape getSomeRandomShape();\n</code></pre>\n<p><strong>is this correct?</strong></p>\n<p>This would btw mean that your 2nd original code snippet (with the <code>getSameInstance()</code> call) is incorrect - the casts should be the opposite way. You managed to confuse me with it, so you got a confusing answer :-)</p>\n<p>Also in the latest examples, you don't need to cast the returned value to a <code>(Shape)</code>, since it is already a <code>Shape</code>. The cast is just cluttering your code. Similarly, the many casts in the 2nd example of your UPDATE 2 are making the code hard to read. I would prefer the first version, with two references (<em>not</em> pointers btw - Java has no pointers).</p>\n<p>And I care only about code readability here - as others have already noted, <strong>you should really, really not waste your time thinking about the cost of casts</strong>. Just <strong>focus on making your code as simple and readable as possible</strong>. You would most likely never ever going to notice the tiniest bit of difference between the performance of the two code snippets you show above (unless maybe if they are executed in a tight loop millions of times - but then, I guess, the JIT would optimize the casts away anyway). However, you will notice the difference it takes in time to understand one code snippet versus the other, for someone who is new to this code - or someone who has forgotten the details already, which could be you in about 6 months.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287495541,"creation_date":1287495541,"answer_id":3968944,"question_id":3968913,"body_markdown":"Readability and code maintenance should be your priority in something like this, not performance, unless you actually hit a bottleneck (extremely unlikely).\r\n\r\nHowever, there is no reason to have two references (pointers). Just reference the subclass. Anything you could do with the superclass reference you can do with the subclass reference, in almost all cases (a parameter to an overloaded method is the only exception I know of).","title":"How much processing and memory use does casting take in Java?","body":"<p>Readability and code maintenance should be your priority in something like this, not performance, unless you actually hit a bottleneck (extremely unlikely).</p>\n\n<p>However, there is no reason to have two references (pointers). Just reference the subclass. Anything you could do with the superclass reference you can do with the subclass reference, in almost all cases (a parameter to an overloaded method is the only exception I know of).</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287520625,"creation_date":1287520625,"answer_id":3972555,"question_id":3968913,"body_markdown":"Lets say you have a 64-bit machine and it saves 8-bytes of resources.  Lets say you have spent 10 minutes think about it.  Was it a good use of your time?\r\n\r\n1 GB adds about $100 to the cost of a server so 8 bytes cost about $0.0000008\r\n\r\n10 minutes of you time is worth about $1 on minimum wage.\r\n\r\nThe resource is reusable, your time is not.  More importantly the time of anyone reading/ supporting your code is likely to be even more expensive and that is why simplicity/clarity is far more important.\r\n\r\n","title":"How much processing and memory use does casting take in Java?","body":"<p>Lets say you have a 64-bit machine and it saves 8-bytes of resources.  Lets say you have spent 10 minutes think about it.  Was it a good use of your time?</p>\n\n<p>1 GB adds about $100 to the cost of a server so 8 bytes cost about $0.0000008</p>\n\n<p>10 minutes of you time is worth about $1 on minimum wage.</p>\n\n<p>The resource is reusable, your time is not.  More importantly the time of anyone reading/ supporting your code is likely to be even more expensive and that is why simplicity/clarity is far more important.</p>\n"}],"owner":{"account_id":174188,"reputation":1673,"user_id":403397,"accept_rate":59,"display_name":"GC_"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3773,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":3968943,"answer_count":6,"score":8,"last_activity_date":1678581953,"creation_date":1287495343,"question_id":3968913,"body_markdown":"I am considering whether it is better to have two pointers, one for each object sub class and super, or whether I should just use casting.\n\nHow much system resources does this use: \n\n    objectName.functionOne();\n    ((SubClass) objectName).functionOther();\n\nIs it better than:\n\n    SuperClass objectA = (SuperClass) getSameInstance();\n    SubClass objectB = getSameInstance();\n    objectA.functionOne();\n    objectB.functionOther();\n\nBasically, my main question is about the resources used with casting, versus making an extra pointer.  It seems like I could save several in line casts, such as: \n\n    ((SubClass) objectName).functionOther();\n\nHowever, is it worth it?\n\nThanks,&lt;br/&gt;\nGrae\n\n\n### UPDATE:\n\nThere were some unclear parts to my question.  Basically, I have a super class that I am using through out a large function.  It works with three subclasses.  Some the super class is working as I would like.  However, I hit a road block in a few places where I have to use a function from one of the three different subclass; a function that is only in one of the subclasses.\n\nI could just have:\n\n    SuperClass instanceRef;\n    SubClass instanceRef2;\n    \n    instanceRef.etc()\n    instanceRef.etc2()\n    instanceRef.etc3()\n    instanceRef2.specialSubClassOnlyCall();\n    instanceRef2.specialSubClassOnlyCall2();\n\nor I could have:\n\n    SuperClass instanceRef;\n    \n    instanceRef.etc()\n    instanceRef.etc2()\n    instanceRef.etc3()\n    ((SpecialSubClass)instanceRef).specialSubClassOnlyCall();\n    ((SpecialSubClass)instanceRef).specialSubClassOnlyCall2();\n\nHowever, I don&#39;t know which is more efficient.\n\n\n### UPDATE 2:\n\nHere is an example to show you what I am talking about:\n\n    class Shape\n    Triangle extends Shape\n    Square extends Shape\n    Circle extends Shape\n    Cube extends Shape\n\nThe Two Pointer Example:   (Downside an extra pointer.)\n\n    Shape pointer1 = (Shape) getSomeRandomShape();\n    Cube pointer2 = null;\n    \n    pointer1.getWidth();\n    pointer1.getHeight();\n    pointer1.generalShapeProp();\n    pointer1.generalShapeProp2();\n    pointer1.generalShapeProp3();\n    \n    if(sure_its_cube)\n    {\n       pointer2 = (Cube) pointer1;\n       pointer2.getZAxis();\n       pointer2.getOtherCubeOnlyThing();\n       pointer2.getOtherCubeOnlyThing2();\n       pointer2.getOtherCubeOnlyThing3();\n       pointer2.getOtherCubeOnlyThing4();\n    }\n\nOr I could do it this way.  (Downside a bunch of casts.)\n\n    Shape pointer1 = (Shape) getSomeRandomShape();\n    \n    pointer1.getWidth();\n    pointer1.getHeight();\n    pointer1.generalShapeProp();\n    pointer1.generalShapeProp2();\n    pointer1.generalShapeProp3();\n    \n    if(sure_its_cube)\n    {\n       ((Cube)pointer1).getZAxis();\n       ((Cube)pointer1).getOtherCubeOnlyThing();\n       ((Cube)pointer1).getOtherCubeOnlyThing2();\n       ((Cube)pointer1).getOtherCubeOnlyThing3();\n       ((Cube)pointer1).getOtherCubeOnlyThing4();\n    }\n\nSo is five casts worse than one extra pointer?   What is it was six casts, or 20?  Is one cast worse than the pointer.\n\nGrae\n\n\n\n\n","title":"How much processing and memory use does casting take in Java?","body":"<p>I am considering whether it is better to have two pointers, one for each object sub class and super, or whether I should just use casting.</p>\n<p>How much system resources does this use:</p>\n<pre><code>objectName.functionOne();\n((SubClass) objectName).functionOther();\n</code></pre>\n<p>Is it better than:</p>\n<pre><code>SuperClass objectA = (SuperClass) getSameInstance();\nSubClass objectB = getSameInstance();\nobjectA.functionOne();\nobjectB.functionOther();\n</code></pre>\n<p>Basically, my main question is about the resources used with casting, versus making an extra pointer.  It seems like I could save several in line casts, such as:</p>\n<pre><code>((SubClass) objectName).functionOther();\n</code></pre>\n<p>However, is it worth it?</p>\n<p>Thanks,<br/>\nGrae</p>\n<h3>UPDATE:</h3>\n<p>There were some unclear parts to my question.  Basically, I have a super class that I am using through out a large function.  It works with three subclasses.  Some the super class is working as I would like.  However, I hit a road block in a few places where I have to use a function from one of the three different subclass; a function that is only in one of the subclasses.</p>\n<p>I could just have:</p>\n<pre><code>SuperClass instanceRef;\nSubClass instanceRef2;\n\ninstanceRef.etc()\ninstanceRef.etc2()\ninstanceRef.etc3()\ninstanceRef2.specialSubClassOnlyCall();\ninstanceRef2.specialSubClassOnlyCall2();\n</code></pre>\n<p>or I could have:</p>\n<pre><code>SuperClass instanceRef;\n\ninstanceRef.etc()\ninstanceRef.etc2()\ninstanceRef.etc3()\n((SpecialSubClass)instanceRef).specialSubClassOnlyCall();\n((SpecialSubClass)instanceRef).specialSubClassOnlyCall2();\n</code></pre>\n<p>However, I don't know which is more efficient.</p>\n<h3>UPDATE 2:</h3>\n<p>Here is an example to show you what I am talking about:</p>\n<pre><code>class Shape\nTriangle extends Shape\nSquare extends Shape\nCircle extends Shape\nCube extends Shape\n</code></pre>\n<p>The Two Pointer Example:   (Downside an extra pointer.)</p>\n<pre><code>Shape pointer1 = (Shape) getSomeRandomShape();\nCube pointer2 = null;\n\npointer1.getWidth();\npointer1.getHeight();\npointer1.generalShapeProp();\npointer1.generalShapeProp2();\npointer1.generalShapeProp3();\n\nif(sure_its_cube)\n{\n   pointer2 = (Cube) pointer1;\n   pointer2.getZAxis();\n   pointer2.getOtherCubeOnlyThing();\n   pointer2.getOtherCubeOnlyThing2();\n   pointer2.getOtherCubeOnlyThing3();\n   pointer2.getOtherCubeOnlyThing4();\n}\n</code></pre>\n<p>Or I could do it this way.  (Downside a bunch of casts.)</p>\n<pre><code>Shape pointer1 = (Shape) getSomeRandomShape();\n\npointer1.getWidth();\npointer1.getHeight();\npointer1.generalShapeProp();\npointer1.generalShapeProp2();\npointer1.generalShapeProp3();\n\nif(sure_its_cube)\n{\n   ((Cube)pointer1).getZAxis();\n   ((Cube)pointer1).getOtherCubeOnlyThing();\n   ((Cube)pointer1).getOtherCubeOnlyThing2();\n   ((Cube)pointer1).getOtherCubeOnlyThing3();\n   ((Cube)pointer1).getOtherCubeOnlyThing4();\n}\n</code></pre>\n<p>So is five casts worse than one extra pointer?   What is it was six casts, or 20?  Is one cast worse than the pointer.</p>\n<p>Grae</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":3623110,"reputation":676,"user_id":3021376,"display_name":"marcellsimon"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1460573127,"creation_date":1390132633,"answer_id":21216424,"question_id":21193380,"body_markdown":"As far as I know, `RequestBody` and `ResponseBody` can be read only once. So you should not read them in an `Interceptor`. \r\nHere&#39;s some [explanation][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10458119/3021376\r\n","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>As far as I know, <code>RequestBody</code> and <code>ResponseBody</code> can be read only once. So you should not read them in an <code>Interceptor</code>. \nHere's some <a href=\"https://stackoverflow.com/a/10458119/3021376\">explanation</a>.</p>\n"},{"tags":[],"owner":{"account_id":289963,"reputation":2107,"user_id":591234,"accept_rate":50,"display_name":"Sashi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390183585,"creation_date":1390183585,"answer_id":21225160,"question_id":21193380,"body_markdown":"Here&#39;s the relevant statement from javadoc for  HandlerInterceptor javadoc. \r\n\r\n\r\n\r\n&gt; Callback after completion of request processing, that is, after rendering the view. Will be called on any outcome of handler execution, thus allows for proper resource cleanup.\r\n\r\n[HandlerIntercepter Javadoc][1]\r\n\r\nYou cannot access the request body (as an InputStream) because the request was already read. If you need access to request parameters, you could do so using the request object by calling - request.getParameter(&quot;parameterName&quot;);\r\n\r\nYou cannot access the response body because the response is already rendered. That means the response is already committed to the outputstream. \r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>Here's the relevant statement from javadoc for  HandlerInterceptor javadoc. </p>\n\n<blockquote>\n  <p>Callback after completion of request processing, that is, after rendering the view. Will be called on any outcome of handler execution, thus allows for proper resource cleanup.</p>\n</blockquote>\n\n<p><a href=\"http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/web/servlet/HandlerInterceptor.html\" rel=\"nofollow\">HandlerIntercepter Javadoc</a></p>\n\n<p>You cannot access the request body (as an InputStream) because the request was already read. If you need access to request parameters, you could do so using the request object by calling - request.getParameter(\"parameterName\");</p>\n\n<p>You cannot access the response body because the response is already rendered. That means the response is already committed to the outputstream. </p>\n"},{"tags":[],"owner":{"account_id":6821772,"reputation":467,"user_id":5248705,"display_name":"Aarya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1464855772,"creation_date":1464855772,"answer_id":37586382,"question_id":21193380,"body_markdown":"You can get the request body from HTTPServlet request inside HandlerInterceptorAdapter methods using the method:\r\n\r\n    request.getInputStream();\r\n\r\nIf you want it to use with scanner you can assign the scanner as follows:\r\n\r\n    Scanner scanner = new Scanner(request.getInputStream(), &quot;UTF-8&quot;);\r\nThen you can use the required data from the scanner using some manipulation or scanner tricks.\r\nOr else you can assign it to a string also using  Apache Commons IO:\r\n\r\n    String requestStr = IOUtils.toString(request.getInputStream());","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>You can get the request body from HTTPServlet request inside HandlerInterceptorAdapter methods using the method:</p>\n\n<pre><code>request.getInputStream();\n</code></pre>\n\n<p>If you want it to use with scanner you can assign the scanner as follows:</p>\n\n<pre><code>Scanner scanner = new Scanner(request.getInputStream(), \"UTF-8\");\n</code></pre>\n\n<p>Then you can use the required data from the scanner using some manipulation or scanner tricks.\nOr else you can assign it to a string also using  Apache Commons IO:</p>\n\n<pre><code>String requestStr = IOUtils.toString(request.getInputStream());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5229397,"reputation":119,"user_id":4180295,"display_name":"TorIsHere"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1482380934,"creation_date":1482380934,"answer_id":41275811,"question_id":21193380,"body_markdown":"This is quite an old thread but for the sake of people who looking for a way to get `RequestBody` and `ResponseBody` from Interceptor. Here is how I got it working.\r\n\r\n`RequestBody`, can simply use IOUtils:\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String requestBody= IOUtils.toString(request.getInputStream(), StandardCharsets.UTF_8);\r\n\r\n`ResponseBody`, I had to used HttpServletResponseCopier:\r\n        \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    ServletLoggingFilter.HttpServletResponseCopier copier = (ServletLoggingFilter.HttpServletResponseCopier) response;\r\n    String responseBody = new String(copier.getCopy());\r\n            ","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>This is quite an old thread but for the sake of people who looking for a way to get <code>RequestBody</code> and <code>ResponseBody</code> from Interceptor. Here is how I got it working.</p>\n\n<p><code>RequestBody</code>, can simply use IOUtils:\n</p>\n\n<pre><code>String requestBody= IOUtils.toString(request.getInputStream(), StandardCharsets.UTF_8);\n</code></pre>\n\n<p><code>ResponseBody</code>, I had to used HttpServletResponseCopier:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>ServletLoggingFilter.HttpServletResponseCopier copier = (ServletLoggingFilter.HttpServletResponseCopier) response;\nString responseBody = new String(copier.getCopy());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":83967,"reputation":7565,"user_id":235026,"accept_rate":100,"display_name":"Mingjiang Shi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513574043,"creation_date":1513574043,"answer_id":47862468,"question_id":21193380,"body_markdown":"You may use ```ResponseBodyAdvice``` available since Spring 4.1, with which you could intercept the response body before the body is written to the client. \r\n\r\nHere is an example: https://sdqali.in/blog/2016/06/08/filtering-responses-in-spring-mvc/","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>You may use <code>ResponseBodyAdvice</code> available since Spring 4.1, with which you could intercept the response body before the body is written to the client. </p>\n\n<p>Here is an example: <a href=\"https://sdqali.in/blog/2016/06/08/filtering-responses-in-spring-mvc/\" rel=\"nofollow noreferrer\">https://sdqali.in/blog/2016/06/08/filtering-responses-in-spring-mvc/</a></p>\n"},{"tags":[],"owner":{"account_id":1664709,"reputation":4045,"user_id":2397613,"accept_rate":86,"display_name":"ton"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1579878776,"creation_date":1536776221,"answer_id":52301252,"question_id":21193380,"body_markdown":"As others said, you can not read request input stream or response output stream more than once, but, you can use Filters to replace the original request and response objects with wrapped ones.\r\nThis way you can implement your wrapper and bufferize the payload, this way you can use it how many times you want.\r\n\r\nHere a repo with the working code:\r\nhttps://github.com/glaudiston/spring-boot-rest-payload-logging\r\n\r\nJust do a `mvn clean install` on it and be happy.\r\n\r\n```sh\r\n$ java -jar target/rest-service-0.0.1-SNAPSHOT.jar                                                                                                                                                                                                                               \r\n                                                                                                                                                                                                                                                                                 \r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.2.2.RELEASE)\r\n\r\n2020-01-24 13:06:07.297  INFO 918 --- [           main] c.e.restservice.RestServiceApplication   : Starting RestServiceApplication v0.0.1-SNAPSHOT on ca275nt with PID 918 (/home/ggs/src/spring-boot-rest-payload-logging/target/rest-service-0.0.1-SNAPSHOT.jar started by ggs\r\nin /home/ggs/src/spring-boot-rest-payload-logging)\r\n2020-01-24 13:06:07.301  INFO 918 --- [           main] c.e.restservice.RestServiceApplication   : No active profile set, falling back to default profiles: default                                                                                                             \r\n2020-01-24 13:06:08.331  INFO 918 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)                                                                                                                                 \r\n2020-01-24 13:06:08.348  INFO 918 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2020-01-24 13:06:08.348  INFO 918 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.29]                                                                                                                              \r\n2020-01-24 13:06:08.410  INFO 918 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext                                                                                                                           \r\n2020-01-24 13:06:08.410  INFO 918 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1044 ms                                                                                                              \r\n2020-01-24 13:06:08.627  INFO 918 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;                                                                                                                       \r\n2020-01-24 13:06:08.787  INFO 918 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;                                                                                                                  \r\n2020-01-24 13:06:08.791  INFO 918 --- [           main] c.e.restservice.RestServiceApplication   : Started RestServiceApplication in 1.928 seconds (JVM running for 2.319)                                                                                                      \r\n2020-01-24 13:06:11.014  INFO 918 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;                                                                                                                    \r\n2020-01-24 13:06:11.014  INFO 918 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;                                                                                                                                     \r\n2020-01-24 13:06:11.022  INFO 918 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms\r\n2020-01-24 13:06:11 [] INFO  RequestFilter:23 - doFilter, parsing request\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:64 - Request Method: POST\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:65 - Request Headers:\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:66 - host:localhost:8080\r\nuser-agent:curl/7.64.0\r\naccept:*/*\r\ncontent-length:32\r\ncontent-type:application/x-www-form-urlencoded\r\n\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:67 - Request body:\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:68 - testdata=123456789&amp;test2=9876543\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:75 - Response Status: 200\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:76 - Response Headers:\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:77 -\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:78 - Response body:\r\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:84 - {&quot;id&quot;:1,&quot;content&quot;:&quot;Hello, World!&quot;}\r\n\r\n$ curl -X POST --data &quot;testdata=123456789&amp;test2=9876543&quot; http://localhost:8080/greeting\r\n{&quot;id&quot;:1,&quot;content&quot;:&quot;Hello, World!&quot;}\r\n```","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>As others said, you can not read request input stream or response output stream more than once, but, you can use Filters to replace the original request and response objects with wrapped ones.\nThis way you can implement your wrapper and bufferize the payload, this way you can use it how many times you want.</p>\n\n<p>Here a repo with the working code:\n<a href=\"https://github.com/glaudiston/spring-boot-rest-payload-logging\" rel=\"noreferrer\">https://github.com/glaudiston/spring-boot-rest-payload-logging</a></p>\n\n<p>Just do a <code>mvn clean install</code> on it and be happy.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ java -jar target/rest-service-0.0.1-SNAPSHOT.jar                                                                                                                                                                                                                               \n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.2.RELEASE)\n\n2020-01-24 13:06:07.297  INFO 918 --- [           main] c.e.restservice.RestServiceApplication   : Starting RestServiceApplication v0.0.1-SNAPSHOT on ca275nt with PID 918 (/home/ggs/src/spring-boot-rest-payload-logging/target/rest-service-0.0.1-SNAPSHOT.jar started by ggs\nin /home/ggs/src/spring-boot-rest-payload-logging)\n2020-01-24 13:06:07.301  INFO 918 --- [           main] c.e.restservice.RestServiceApplication   : No active profile set, falling back to default profiles: default                                                                                                             \n2020-01-24 13:06:08.331  INFO 918 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)                                                                                                                                 \n2020-01-24 13:06:08.348  INFO 918 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2020-01-24 13:06:08.348  INFO 918 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.29]                                                                                                                              \n2020-01-24 13:06:08.410  INFO 918 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext                                                                                                                           \n2020-01-24 13:06:08.410  INFO 918 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 1044 ms                                                                                                              \n2020-01-24 13:06:08.627  INFO 918 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'                                                                                                                       \n2020-01-24 13:06:08.787  INFO 918 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''                                                                                                                  \n2020-01-24 13:06:08.791  INFO 918 --- [           main] c.e.restservice.RestServiceApplication   : Started RestServiceApplication in 1.928 seconds (JVM running for 2.319)                                                                                                      \n2020-01-24 13:06:11.014  INFO 918 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'                                                                                                                    \n2020-01-24 13:06:11.014  INFO 918 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'                                                                                                                                     \n2020-01-24 13:06:11.022  INFO 918 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms\n2020-01-24 13:06:11 [] INFO  RequestFilter:23 - doFilter, parsing request\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:64 - Request Method: POST\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:65 - Request Headers:\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:66 - host:localhost:8080\nuser-agent:curl/7.64.0\naccept:*/*\ncontent-length:32\ncontent-type:application/x-www-form-urlencoded\n\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:67 - Request body:\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:68 - testdata=123456789&amp;test2=9876543\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:75 - Response Status: 200\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:76 - Response Headers:\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:77 -\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:78 - Response body:\n2020-01-24 13:06:11 [] INFO  LogApiInterceptor:84 - {\"id\":1,\"content\":\"Hello, World!\"}\n\n$ curl -X POST --data \"testdata=123456789&amp;test2=9876543\" http://localhost:8080/greeting\n{\"id\":1,\"content\":\"Hello, World!\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1541224379,"creation_date":1541224379,"answer_id":53128795,"question_id":21193380,"body_markdown":"You can extend `RequestBodyAdviceAdapter` and implement the method `afterBodyRead`:\r\n\r\n    @ControllerAdvice\r\n    public MyRequestBodyAdviceAdapter extends RequestBodyAdviceAdapter {\r\n    \r\n    \t@Override\r\n    \tpublic Object afterBodyRead(Object body, HttpInputMessage inputMessage, MethodParameter parameter,\r\n    \t\t\tType targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n    \t\t\r\n    \t\t// write body -your input dto- to logs or database or whatever\r\n    \t\t\r\n    \t\treturn body;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThe RequestBodyAdvice comes in pre setp the request chain before the `HandlerInterceptor`. it is exactly after the http request inputstream is converted to your object.","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>You can extend <code>RequestBodyAdviceAdapter</code> and implement the method <code>afterBodyRead</code>:</p>\n\n<pre><code>@ControllerAdvice\npublic MyRequestBodyAdviceAdapter extends RequestBodyAdviceAdapter {\n\n    @Override\n    public Object afterBodyRead(Object body, HttpInputMessage inputMessage, MethodParameter parameter,\n            Type targetType, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n\n        // write body -your input dto- to logs or database or whatever\n\n        return body;\n    }\n\n}\n</code></pre>\n\n<p>The RequestBodyAdvice comes in pre setp the request chain before the <code>HandlerInterceptor</code>. it is exactly after the http request inputstream is converted to your object.</p>\n"},{"tags":[],"owner":{"account_id":27995365,"reputation":1,"user_id":21380744,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678581923,"creation_date":1678581923,"answer_id":75710451,"question_id":21193380,"body_markdown":"As request body is available as stream in interceptor is becomes unavailable after read. If you need body in interceptor and later in controller you need to cache it in your own wrapper: https://tomsdevblog.com/read-message-body-in-request-interceptor/","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>As request body is available as stream in interceptor is becomes unavailable after read. If you need body in interceptor and later in controller you need to cache it in your own wrapper: <a href=\"https://tomsdevblog.com/read-message-body-in-request-interceptor/\" rel=\"nofollow noreferrer\">https://tomsdevblog.com/read-message-body-in-request-interceptor/</a></p>\n"}],"owner":{"account_id":2410758,"reputation":637,"user_id":2105863,"accept_rate":67,"display_name":"kyberorg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93296,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":21216424,"answer_count":8,"score":23,"last_activity_date":1678581923,"creation_date":1389983911,"question_id":21193380,"body_markdown":"Logic I have to implement is logging all requests with body served to DB.\r\n\r\nSo I decided to use: `afterCompletion` method of `HandlerInterceptor`.\r\nThere are two parameters passed to this method `HttpServletRequest` and `HttpServletResponse` among the others.\r\n\r\nQuestion is: how to get `RequestBody` and `ResponseBody` from supplied objects?\r\n\r\nAs far as I know at Controller we can use `@RequestBody` and `@ResponseBody`. Can I reuse them at `HandlerInterceptor`?","title":"Get RequestBody and ResponseBody at HandlerInterceptor","body":"<p>Logic I have to implement is logging all requests with body served to DB.</p>\n\n<p>So I decided to use: <code>afterCompletion</code> method of <code>HandlerInterceptor</code>.\nThere are two parameters passed to this method <code>HttpServletRequest</code> and <code>HttpServletResponse</code> among the others.</p>\n\n<p>Question is: how to get <code>RequestBody</code> and <code>ResponseBody</code> from supplied objects?</p>\n\n<p>As far as I know at Controller we can use <code>@RequestBody</code> and <code>@ResponseBody</code>. Can I reuse them at <code>HandlerInterceptor</code>?</p>\n"},{"tags":["java","rmi"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1680602601,"post_id":75710421,"comment_id":133922258,"body_markdown":"&quot;... save the registry object in a static field&quot;: that works. What happened when you tried it? Code for that? &quot;My understanding is that as soon as I export an object to the registry, the thread is kept alive and waiting for connections, no matter if the exported object is only locally declared.&quot; Your understanding is incorrect. If the references to the remote object and the Regsitry are purely local, they are liable to GC, which will unexport them.","body":"&quot;... save the registry object in a static field&quot;: that works. What happened when you tried it? Code for that? &quot;My understanding is that as soon as I export an object to the registry, the thread is kept alive and waiting for connections, no matter if the exported object is only locally declared.&quot; Your understanding is incorrect. If the references to the remote object and the Regsitry are purely local, they are liable to GC, which will unexport them."}],"owner":{"account_id":3299361,"reputation":57,"user_id":3881582,"accept_rate":62,"display_name":"Ceriana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678581444,"creation_date":1678581444,"question_id":75710421,"body_markdown":"This is driving me crazy for hours now.\r\n\r\nSo here is my main:\r\n\r\n```java\r\npublic class Main\r\n{\r\n\tpublic static void main(final String[] args)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tSystem.setProperty(&quot;java.rmi.server.hostname&quot;, &quot;127.0.0.1&quot;);\r\n\t\t\tServerInterface server = (ServerInterface) UnicastRemoteObject.exportObject(new Server(), 0);\r\n\r\n\t\t\tRegistry registry = LocateRegistry.createRegistry(Configuration.rmiPort);\r\n\t\t\tregistry.bind(&quot;server&quot;, server);\r\n\t\t\tSystem.out.println(&quot;Ready&quot;);\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThe Server class contains the logic (at the moment just a method to output some text).\r\n\r\nEverytime I compile and run this, the application just closes after &quot;Ready&quot;.\r\n\r\nI found similiar threads on SO with the same issue, so here is what I tried so far:\r\n\r\n - save the registry object in a static field\r\n - using the rmiregistry from outside the program (unmarshalling exception)\r\n - rebind instead of bind\r\n - save the object to be exported in a static field before exporting it\r\n\r\nMy understanding is that as soon as I export an object to the registry, the thread is kept alive and waiting for connections, no matter if the exported object is only locally declared. \r\n\r\nCould this be due to Maven? Because actually I had this code from some YT tutorial and it happened to run on my local machine just fine where I just use ```javac``` and ```java```, but I can&#39;t get it to work on the server, where I run the program with ```mvn clean install exec:java```.","title":"Java RMI just closes and doesn&#39;t wait for clients","body":"<p>This is driving me crazy for hours now.</p>\n<p>So here is my main:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main\n{\n    public static void main(final String[] args)\n    {\n        try\n        {\n            System.setProperty(&quot;java.rmi.server.hostname&quot;, &quot;127.0.0.1&quot;);\n            ServerInterface server = (ServerInterface) UnicastRemoteObject.exportObject(new Server(), 0);\n\n            Registry registry = LocateRegistry.createRegistry(Configuration.rmiPort);\n            registry.bind(&quot;server&quot;, server);\n            System.out.println(&quot;Ready&quot;);\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The Server class contains the logic (at the moment just a method to output some text).</p>\n<p>Everytime I compile and run this, the application just closes after &quot;Ready&quot;.</p>\n<p>I found similiar threads on SO with the same issue, so here is what I tried so far:</p>\n<ul>\n<li>save the registry object in a static field</li>\n<li>using the rmiregistry from outside the program (unmarshalling exception)</li>\n<li>rebind instead of bind</li>\n<li>save the object to be exported in a static field before exporting it</li>\n</ul>\n<p>My understanding is that as soon as I export an object to the registry, the thread is kept alive and waiting for connections, no matter if the exported object is only locally declared.</p>\n<p>Could this be due to Maven? Because actually I had this code from some YT tutorial and it happened to run on my local machine just fine where I just use <code>javac</code> and <code>java</code>, but I can't get it to work on the server, where I run the program with <code>mvn clean install exec:java</code>.</p>\n"},{"tags":["java","spring","rest","spring-boot"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Micha Krzywaski"},"score":0,"creation_date":1562917425,"post_id":57002302,"comment_id":100537795,"body_markdown":"your service is under `com.homzhub.lms.service` package so you have to add this package to component scan too.","body":"your service is under <code>com.homzhub.lms.service</code> package so you have to add this package to component scan too."},{"owner":{"account_id":16303319,"reputation":63,"user_id":11773852,"display_name":"riteshD"},"score":0,"creation_date":1562917832,"post_id":57002302,"comment_id":100538029,"body_markdown":"@michalk Added com.homzhub.lms.service in MainApplication class as ComponentScan but still no mapping. The console output is same as above.","body":"@michalk Added com.homzhub.lms.service in MainApplication class as ComponentScan but still no mapping. The console output is same as above."},{"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"score":0,"creation_date":1678662554,"post_id":57002302,"comment_id":133572387,"body_markdown":"Does this answer your question? [Spring Boot: Cannot access REST Controller on localhost (404)](https://stackoverflow.com/questions/31318107/spring-boot-cannot-access-rest-controller-on-localhost-404)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31318107/spring-boot-cannot-access-rest-controller-on-localhost-404\">Spring Boot: Cannot access REST Controller on localhost (404)</a>"}],"answers":[{"tags":[],"owner":{"account_id":11283042,"reputation":321,"user_id":8274968,"display_name":"Filippo De Angelis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562917736,"creation_date":1562917736,"answer_id":57002442,"question_id":57002302,"body_markdown":"If it isn&#39;t already, you need to define `UserService` as a Component, or more appropriately as a Service. If it already is you have to map it, which is a bit weird considering Spring should do that on its own.","title":"Rest controller not mapping in spring boot","body":"<p>If it isn't already, you need to define <code>UserService</code> as a Component, or more appropriately as a Service. If it already is you have to map it, which is a bit weird considering Spring should do that on its own.</p>\n"},{"tags":[],"owner":{"account_id":4783850,"reputation":6978,"user_id":3864917,"accept_rate":100,"display_name":"Vikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562917784,"creation_date":1562917784,"answer_id":57002454,"question_id":57002302,"body_markdown":"Your are only scanning `com.homzhub.lms.controller` and `UserService` is not under ComponentScan. \r\nYou need to add service package to ComponentScan \r\n\r\n`@ComponentScan(basePackages = {&quot;com.homzhub.lms&quot;})`","title":"Rest controller not mapping in spring boot","body":"<p>Your are only scanning <code>com.homzhub.lms.controller</code> and <code>UserService</code> is not under ComponentScan. \nYou need to add service package to ComponentScan </p>\n\n<p><code>@ComponentScan(basePackages = {\"com.homzhub.lms\"})</code></p>\n"},{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Micha Krzywaski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562917832,"creation_date":1562917832,"answer_id":57002471,"question_id":57002302,"body_markdown":"You service is under `com.homzhub.lms.service` package so you have to add this package to `@ComponentScan` too, so Spring will scan this package too and pick up the classes marked with stereotypes there :\r\n````\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {&quot;com.homzhub.lms.controller, &quot;com.homzhub.lms.service&quot;})\r\npublic class LmsApplication{\r\n    public static void main(String[] args){\r\n        SpringApplication.run(LmsApplication.class, args);\r\n    }\r\n}\r\n````\r\n\r\nHowever I can see that your class annotated with `@SpringBootApplication` is already above all the packages with your components so you could get rid of `@ComponentScan` annotation at all. So it will scan nested packages by default.\r\n\r\nAnd also remember about annotating your service classes with Spring stereotypes annotations for example `@Service` so component scan will be able to pick them up.","title":"Rest controller not mapping in spring boot","body":"<p>You service is under <code>com.homzhub.lms.service</code> package so you have to add this package to <code>@ComponentScan</code> too, so Spring will scan this package too and pick up the classes marked with stereotypes there :</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {\"com.homzhub.lms.controller, \"com.homzhub.lms.service\"})\npublic class LmsApplication{\n    public static void main(String[] args){\n        SpringApplication.run(LmsApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>However I can see that your class annotated with <code>@SpringBootApplication</code> is already above all the packages with your components so you could get rid of <code>@ComponentScan</code> annotation at all. So it will scan nested packages by default.</p>\n\n<p>And also remember about annotating your service classes with Spring stereotypes annotations for example <code>@Service</code> so component scan will be able to pick them up.</p>\n"},{"tags":[],"owner":{"account_id":12534122,"reputation":542,"user_id":9121293,"display_name":"Pranjal Gore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562923570,"creation_date":1562923570,"answer_id":57004088,"question_id":57002302,"body_markdown":"Uncomment `@Autowired` annotation. Put `@Service` annotation on the implementing class instead of the interface and make sure your implementing class is discover-able via `componentScan`. &lt;p&gt;Also, as a side note, Spring will scan all subpackages of your main class (class with `@SpringBootApplication` annotation). So it would be a good idea to have a directory structure like `com.homzhub.lms` as a root and `com.homzhub.lms.controller` for controllers `com.homzhub.lms.service` for service and `com.homzhub.lms.service.impl` if you want to keep implementations in a different package. &lt;/p&gt; If you are following this structure, you won&#39;t need `componentScan`.","title":"Rest controller not mapping in spring boot","body":"<p>Uncomment <code>@Autowired</code> annotation. Put <code>@Service</code> annotation on the implementing class instead of the interface and make sure your implementing class is discover-able via <code>componentScan</code>. <p>Also, as a side note, Spring will scan all subpackages of your main class (class with <code>@SpringBootApplication</code> annotation). So it would be a good idea to have a directory structure like <code>com.homzhub.lms</code> as a root and <code>com.homzhub.lms.controller</code> for controllers <code>com.homzhub.lms.service</code> for service and <code>com.homzhub.lms.service.impl</code> if you want to keep implementations in a different package. </p> If you are following this structure, you won't need <code>componentScan</code>.</p>\n"}],"owner":{"account_id":16303319,"reputation":63,"user_id":11773852,"display_name":"riteshD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2577,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1678580598,"creation_date":1562917275,"question_id":57002302,"body_markdown":" My application runs but nothing about mapping is shown in console. My Application class file is above controller and also added @ComponentScan(basePackages : &quot;com.org.name.controller&quot;) to scan for controllers. Still no mapping shows up in console. I have commented out @Autowired in controller class as i was getting error of :\r\n\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2019-07-12 11:05:16.014 ERROR 14104 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field userService in com.homzhub.lms.controller.UserController required a bean of type &#39;com.homzhub.lms.service.UserService&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.homzhub.lms.service.UserService&#39; in your configuration.\r\n    \r\n     \r\n\r\nMain class:\r\n\r\n    package com.homzhub.lms;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = {&quot;com.homzhub.lms.controller&quot;})\r\n    //@EnableJpaRepositories(&quot;repository&quot;)\r\n    //@EnableAutoConfiguration\r\n    public class LmsApplication{\r\n        public static void main(String[] args){\r\n            SpringApplication.run(LmsApplication.class, args);\r\n        }\r\n    }\r\n\r\n\r\nappointment controller : \r\n\r\n    package com.homzhub.lms.controller;\r\n    \r\n    import java.security.Principal;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import com.homzhub.lms.entity.Appointment;\r\n    import com.homzhub.lms.entity.User;\r\n    import com.homzhub.lms.service.AppointmentService;\r\n    import com.homzhub.lms.service.UserService;\r\n    \r\n    \r\n    \r\n    @Controller\r\n    @RequestMapping(path = &quot;/appointment&quot;)\r\n    public class AppointmentController {\r\n    \r\n       // @Autowired\r\n        private AppointmentService appointmentService;\r\n    \r\n        //@Autowired\r\n        private UserService userService;\r\n    \r\n        @RequestMapping(value = &quot;/create&quot;, method = RequestMethod.GET)\r\n        public void createAppointment(Model model) {\r\n            Appointment appointment = new Appointment();\r\n            model.addAttribute(&quot;appointment&quot;, appointment);\r\n            model.addAttribute(&quot;dateString&quot;, &quot;&quot;);\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/create&quot;, method = RequestMethod.POST)\r\n        public String createAppointmentPost(@ModelAttribute(&quot;appointment&quot;) Appointment appointment, @ModelAttribute(&quot;dateString&quot;) String date, Model model, Principal principal) throws ParseException {\r\n    \r\n            SimpleDateFormat format1 = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm&quot;);\r\n            Date d1 = format1.parse(date);\r\n            appointment.setDate(d1);\r\n    \r\n            User user = userService.findByUsername(principal.getName());\r\n            appointment.setUser(user);\r\n    \r\n            appointmentService.createAppointment(appointment);\r\n    \r\n            return &quot;redirect:/userFront&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\npom.xml file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;!-- \t\t&lt;version&gt;1.5.21.RELEASE&lt;/version&gt;  --&gt;\r\n    \t\t&lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.homzhub&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;lms&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;lms&lt;/name&gt;\r\n    \t&lt;description&gt;Lead Management System&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\t\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nConsole output. After commenting out @Autowired in controller classes the application runs  but no mapping is done :\r\n\r\n    2019-07-12 12:58:04.638  INFO 18828 --- [           main] com.homzhub.lms.LmsApplication           : Starting LmsApplication v0.0.1-SNAPSHOT on rms-Lenovo-ideapad-330-15IKB with PID 18828 (/home/rms/lms/target/lms-0.0.1-SNAPSHOT.jar started by rms in /home/rms/lms)\r\n    2019-07-12 12:58:04.644  INFO 18828 --- [           main] com.homzhub.lms.LmsApplication           : No active profile set, falling back to default profiles: default\r\n    2019-07-12 12:58:05.941  INFO 18828 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\r\n    2019-07-12 12:58:06.161  INFO 18828 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 204ms. Found 13 repository interfaces.\r\n    2019-07-12 12:58:06.849  INFO 18828 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39; of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d931452d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n    2019-07-12 12:58:07.301  INFO 18828 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2019-07-12 12:58:07.350  INFO 18828 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2019-07-12 12:58:07.350  INFO 18828 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.21]\r\n    2019-07-12 12:58:07.484  INFO 18828 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2019-07-12 12:58:07.484  INFO 18828 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2751 ms\r\n    2019-07-12 12:58:07.952  INFO 18828 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2019-07-12 12:58:08.286  INFO 18828 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2019-07-12 12:58:08.388  INFO 18828 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\r\n    \tname: default\r\n    \t...]\r\n    2019-07-12 12:58:08.519  INFO 18828 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.10.Final}\r\n    2019-07-12 12:58:08.521  INFO 18828 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\r\n    2019-07-12 12:58:08.773  INFO 18828 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\r\n    2019-07-12 12:58:09.175  INFO 18828 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\r\n    2019-07-12 12:58:10.967  INFO 18828 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2019-07-12 12:58:12.284  INFO 18828 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;\r\n    2019-07-12 12:58:12.364  WARN 18828 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2019-07-12 12:58:12.923  INFO 18828 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\r\n    2019-07-12 12:58:13.211  INFO 18828 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \r\n    \r\n    Using generated security password: f1e93a8f-d01a-4050-8724-87ff348fab02\r\n    \r\n    2019-07-12 12:58:13.388  INFO 18828 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dcca8d3, org.springframework.security.web.context.SecurityContextPersistenceFilter@6daf2337, org.springframework.security.web.header.HeaderWriterFilter@70e3f36f, org.springframework.security.web.csrf.CsrfFilter@3c7cfcbb, org.springframework.security.web.authentication.logout.LogoutFilter@7d755813, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e25147a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@60e5272, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5631962, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@56303475, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@250b236d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@432034a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52a70627, org.springframework.security.web.session.SessionManagementFilter@23e44287, org.springframework.security.web.access.ExceptionTranslationFilter@1bfe3203, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71870da7]\r\n    2019-07-12 12:58:13.517  INFO 18828 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2019-07-12 12:58:13.520  INFO 18828 --- [           main] com.homzhub.lms.LmsApplication           : Started LmsApplication in 9.518 seconds (JVM running for 10.158)\r\n\r\nUserService class :\r\n\r\n    package com.homzhub.lms.service;\r\n    \r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import org.springframework.stereotype.Service;\r\n    import com.homzhub.lms.entity.User;\r\n    import com.homzhub.lms.security.UserRole;\r\n    //@Service(&quot;userDetailsService&quot;)\r\n    @Service\r\n    public interface UserService{\r\n        User findByUsername(String username);\r\n        User findByEmail(String email);\r\n     //   User findByPhoneNumber(String phoneNumber);\r\n        boolean checkUserExists(String username, String email);\r\n        boolean checkUsernameExists(String username);\r\n        boolean checkEmailExists(String email);\r\n        void save(User user);\r\n        User createUser(User user, Set&lt;UserRole&gt; userRoles);\r\n        User saveUser(User user);\r\n        List&lt;User&gt; findUserList();\r\n        void enableUser(String username);\r\n        void disableUser(String username);\r\n    }\r\n\r\n","title":"Rest controller not mapping in spring boot","body":"<p>My application runs but nothing about mapping is shown in console. My Application class file is above controller and also added @ComponentScan(basePackages : \"com.org.name.controller\") to scan for controllers. Still no mapping shows up in console. I have commented out @Autowired in controller class as i was getting error of :</p>\n\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2019-07-12 11:05:16.014 ERROR 14104 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField userService in com.homzhub.lms.controller.UserController required a bean of type 'com.homzhub.lms.service.UserService' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.homzhub.lms.service.UserService' in your configuration.\n</code></pre>\n\n<p>Main class:</p>\n\n<pre><code>package com.homzhub.lms;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages = {\"com.homzhub.lms.controller\"})\n//@EnableJpaRepositories(\"repository\")\n//@EnableAutoConfiguration\npublic class LmsApplication{\n    public static void main(String[] args){\n        SpringApplication.run(LmsApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>appointment controller : </p>\n\n<pre><code>package com.homzhub.lms.controller;\n\nimport java.security.Principal;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport com.homzhub.lms.entity.Appointment;\nimport com.homzhub.lms.entity.User;\nimport com.homzhub.lms.service.AppointmentService;\nimport com.homzhub.lms.service.UserService;\n\n\n\n@Controller\n@RequestMapping(path = \"/appointment\")\npublic class AppointmentController {\n\n   // @Autowired\n    private AppointmentService appointmentService;\n\n    //@Autowired\n    private UserService userService;\n\n    @RequestMapping(value = \"/create\", method = RequestMethod.GET)\n    public void createAppointment(Model model) {\n        Appointment appointment = new Appointment();\n        model.addAttribute(\"appointment\", appointment);\n        model.addAttribute(\"dateString\", \"\");\n    }\n\n    @RequestMapping(value = \"/create\", method = RequestMethod.POST)\n    public String createAppointmentPost(@ModelAttribute(\"appointment\") Appointment appointment, @ModelAttribute(\"dateString\") String date, Model model, Principal principal) throws ParseException {\n\n        SimpleDateFormat format1 = new SimpleDateFormat(\"yyyy-MM-dd hh:mm\");\n        Date d1 = format1.parse(date);\n        appointment.setDate(d1);\n\n        User user = userService.findByUsername(principal.getName());\n        appointment.setUser(user);\n\n        appointmentService.createAppointment(appointment);\n\n        return \"redirect:/userFront\";\n    }\n}\n</code></pre>\n\n<p>pom.xml file :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n&lt;!--        &lt;version&gt;1.5.21.RELEASE&lt;/version&gt;  --&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.homzhub&lt;/groupId&gt;\n    &lt;artifactId&gt;lms&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;lms&lt;/name&gt;\n    &lt;description&gt;Lead Management System&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;   \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Console output. After commenting out @Autowired in controller classes the application runs  but no mapping is done :</p>\n\n<pre><code>2019-07-12 12:58:04.638  INFO 18828 --- [           main] com.homzhub.lms.LmsApplication           : Starting LmsApplication v0.0.1-SNAPSHOT on rms-Lenovo-ideapad-330-15IKB with PID 18828 (/home/rms/lms/target/lms-0.0.1-SNAPSHOT.jar started by rms in /home/rms/lms)\n2019-07-12 12:58:04.644  INFO 18828 --- [           main] com.homzhub.lms.LmsApplication           : No active profile set, falling back to default profiles: default\n2019-07-12 12:58:05.941  INFO 18828 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFAULT mode.\n2019-07-12 12:58:06.161  INFO 18828 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 204ms. Found 13 repository interfaces.\n2019-07-12 12:58:06.849  INFO 18828 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$d931452d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2019-07-12 12:58:07.301  INFO 18828 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2019-07-12 12:58:07.350  INFO 18828 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2019-07-12 12:58:07.350  INFO 18828 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.21]\n2019-07-12 12:58:07.484  INFO 18828 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2019-07-12 12:58:07.484  INFO 18828 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2751 ms\n2019-07-12 12:58:07.952  INFO 18828 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2019-07-12 12:58:08.286  INFO 18828 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2019-07-12 12:58:08.388  INFO 18828 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [\n    name: default\n    ...]\n2019-07-12 12:58:08.519  INFO 18828 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate Core {5.3.10.Final}\n2019-07-12 12:58:08.521  INFO 18828 --- [           main] org.hibernate.cfg.Environment            : HHH000206: hibernate.properties not found\n2019-07-12 12:58:08.773  INFO 18828 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.0.4.Final}\n2019-07-12 12:58:09.175  INFO 18828 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect\n2019-07-12 12:58:10.967  INFO 18828 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2019-07-12 12:58:12.284  INFO 18828 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'\n2019-07-12 12:58:12.364  WARN 18828 --- [           main] aWebConfiguration$JpaWebMvcConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2019-07-12 12:58:12.923  INFO 18828 --- [           main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index\n2019-07-12 12:58:13.211  INFO 18828 --- [           main] .s.s.UserDetailsServiceAutoConfiguration : \n\nUsing generated security password: f1e93a8f-d01a-4050-8724-87ff348fab02\n\n2019-07-12 12:58:13.388  INFO 18828 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dcca8d3, org.springframework.security.web.context.SecurityContextPersistenceFilter@6daf2337, org.springframework.security.web.header.HeaderWriterFilter@70e3f36f, org.springframework.security.web.csrf.CsrfFilter@3c7cfcbb, org.springframework.security.web.authentication.logout.LogoutFilter@7d755813, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e25147a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@60e5272, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5631962, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@56303475, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@250b236d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@432034a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52a70627, org.springframework.security.web.session.SessionManagementFilter@23e44287, org.springframework.security.web.access.ExceptionTranslationFilter@1bfe3203, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@71870da7]\n2019-07-12 12:58:13.517  INFO 18828 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2019-07-12 12:58:13.520  INFO 18828 --- [           main] com.homzhub.lms.LmsApplication           : Started LmsApplication in 9.518 seconds (JVM running for 10.158)\n</code></pre>\n\n<p>UserService class :</p>\n\n<pre><code>package com.homzhub.lms.service;\n\nimport java.util.List;\nimport java.util.Set;\nimport org.springframework.stereotype.Service;\nimport com.homzhub.lms.entity.User;\nimport com.homzhub.lms.security.UserRole;\n//@Service(\"userDetailsService\")\n@Service\npublic interface UserService{\n    User findByUsername(String username);\n    User findByEmail(String email);\n //   User findByPhoneNumber(String phoneNumber);\n    boolean checkUserExists(String username, String email);\n    boolean checkUsernameExists(String username);\n    boolean checkEmailExists(String email);\n    void save(User user);\n    User createUser(User user, Set&lt;UserRole&gt; userRoles);\n    User saveUser(User user);\n    List&lt;User&gt; findUserList();\n    void enableUser(String username);\n    void disableUser(String username);\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9410,"page":582,"page_size":100}
