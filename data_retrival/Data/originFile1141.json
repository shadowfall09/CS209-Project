{"items":[{"tags":["java","operators"],"comments":[{"owner":{"account_id":2397,"reputation":179869,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1287793251,"post_id":4001813,"comment_id":4286600,"body_markdown":"Where are you seeing this?  I don&#39;t see it in the current API documents.","body":"Where are you seeing this?  I don&#39;t see it in the current API documents."},{"owner":{"account_id":25300,"reputation":13294,"user_id":64967,"accept_rate":75,"display_name":"Dilum Ranatunga"},"score":0,"creation_date":1287793357,"post_id":4001813,"comment_id":4286604,"body_markdown":"Can you post a reference to the doc to which you refer?","body":"Can you post a reference to the doc to which you refer?"},{"owner":{"account_id":193213,"reputation":596,"user_id":434793,"display_name":"Ferid G&#252;rb&#252;z"},"score":0,"creation_date":1287793570,"post_id":4001813,"comment_id":4286619,"body_markdown":"Its almost everywere in the class java.lang.Character, Character.isDefined(),Character.isLetter()...","body":"Its almost everywere in the class java.lang.Character, Character.isDefined(),Character.isLetter()..."}],"answers":[{"tags":[],"owner":{"account_id":198822,"reputation":16528,"user_id":443716,"accept_rate":92,"display_name":"Isaac"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287793297,"creation_date":1287793297,"answer_id":4001823,"question_id":4001813,"body_markdown":"Bitwise operators: http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html","title":"&quot;&lt;&lt;&quot; operator in java","body":"<p>Bitwise operators: <a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html</a></p>\n"},{"tags":[],"owner":{"account_id":6040,"reputation":181950,"user_id":9990,"accept_rate":79,"display_name":"Marcelo Cantos"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1287795841,"creation_date":1287793344,"answer_id":4001824,"question_id":4001813,"body_markdown":"They are bit-shift operators. `&lt;&lt;` shifts the bits &quot;left&quot; (towards the most-significant bit), and vice-versa for `&gt;&gt;`. Shifting left or right by *n* bits is pretty much the same as multiplying or dividing, respectively, by 2&lt;sup&gt;*n*&lt;/sup&gt;.\r\n\r\nSee @axtavt&#39;s comment for an explanation of how these operators are being used in this context.","title":"&quot;&lt;&lt;&quot; operator in java","body":"<p>They are bit-shift operators. <code>&lt;&lt;</code> shifts the bits \"left\" (towards the most-significant bit), and vice-versa for <code>&gt;&gt;</code>. Shifting left or right by <em>n</em> bits is pretty much the same as multiplying or dividing, respectively, by 2<sup><em>n</em></sup>.</p>\n\n<p>See @axtavt's comment for an explanation of how these operators are being used in this context.</p>\n"},{"tags":[],"owner":{"account_id":178990,"reputation":4205,"user_id":411316,"accept_rate":100,"display_name":"Leo Izen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393184039,"creation_date":1287793477,"answer_id":4001832,"question_id":4001813,"body_markdown":"&lt;code&gt;&lt;&lt;&lt;/code&gt; is the left shift operator: It shifts the binary number stored in the computer left. For example, 9 in binary is 1001. &lt;code&gt;9 &lt;&lt; 2&lt;/code&gt; makes 100100 in binary (36), because it shifts it left and adds 0s at the end. &lt;code&gt;1 &lt;&lt; n&lt;/code&gt; is the same thing as &lt;code&gt;Math.pow(2, n)&lt;/code&gt; except it is way faster and better in general, as well as returning &lt;code&gt;int&lt;/code&gt;, not &lt;code&gt;double&lt;/code&gt;.\r\n\r\n&lt;code&gt;&amp;gt;&gt;&lt;/code&gt; is right shift. It shifts it right, and discards empty bits. 13 is 1101 in binary, so &lt;code&gt;13 &gt;&gt; 1&lt;/code&gt; is 110 in binary, or 6 normally.\r\n","title":"&quot;&lt;&lt;&quot; operator in java","body":"<p><code>&lt;&lt;</code> is the left shift operator: It shifts the binary number stored in the computer left. For example, 9 in binary is 1001. <code>9 &lt;&lt; 2</code> makes 100100 in binary (36), because it shifts it left and adds 0s at the end. <code>1 &lt;&lt; n</code> is the same thing as <code>Math.pow(2, n)</code> except it is way faster and better in general, as well as returning <code>int</code>, not <code>double</code>.</p>\n\n<p><code>&gt;></code> is right shift. It shifts it right, and discards empty bits. 13 is 1101 in binary, so <code>13 >> 1</code> is 110 in binary, or 6 normally.</p>\n"},{"tags":[],"owner":{"account_id":105749,"reputation":9443,"user_id":282024,"display_name":"steinar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287793696,"creation_date":1287793696,"answer_id":4001844,"question_id":4001813,"body_markdown":"These are the [bitwise shift][1] operators.\r\n\r\nIf you *left shift* the following byte:\r\n\r\n    00000001\r\n\r\nyou would get:\r\n\r\n    00000010\r\n\r\nI.e. the pattern has &quot;shifted&quot; to the left and zeros fill in on the right. So if you apply the right shift operator `&gt;&gt;` on that result, you&#39;ll get the original byte again.\r\n\r\nYou&#39;ll notice that the decimal values of these numbers are 1 and 2. If you shift left once again you&#39;ll get:\r\n\r\n    00000100 = 4\r\n\r\nSo you see that shifting to the left multiplies the number by two (given that it doesn&#39;t overflow), while right shifting divides by two. This happens very efficiently in most computers. So that&#39;s one example of how you might use these operators in a practical way.\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html","title":"&quot;&lt;&lt;&quot; operator in java","body":"<p>These are the <a href=\"http://download.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow\">bitwise shift</a> operators.</p>\n\n<p>If you <em>left shift</em> the following byte:</p>\n\n<pre><code>00000001\n</code></pre>\n\n<p>you would get:</p>\n\n<pre><code>00000010\n</code></pre>\n\n<p>I.e. the pattern has \"shifted\" to the left and zeros fill in on the right. So if you apply the right shift operator <code>&gt;&gt;</code> on that result, you'll get the original byte again.</p>\n\n<p>You'll notice that the decimal values of these numbers are 1 and 2. If you shift left once again you'll get:</p>\n\n<pre><code>00000100 = 4\n</code></pre>\n\n<p>So you see that shifting to the left multiplies the number by two (given that it doesn't overflow), while right shifting divides by two. This happens very efficiently in most computers. So that's one example of how you might use these operators in a practical way.</p>\n"},{"tags":[],"owner":{"account_id":4317517,"reputation":216,"user_id":3526891,"display_name":"Singh123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659415902,"creation_date":1405507543,"answer_id":24778824,"question_id":4001813,"body_markdown":" It works as a highly optimized multiple comparison. The signed left shift operator &quot;&lt;&lt;&quot; shifts a bit pattern to the left, and the signed right shift operator &quot;&gt;&gt;&quot; shifts a bit pattern to the right. The bit pattern is given by the left-hand operand, and the number of positions to shift by the right-hand operand. The unsigned right shift operator &quot;&gt;&gt;&gt;&quot; shifts a zero into the leftmost position, while the leftmost position after &quot;&gt;&gt;&quot; depends on sign extension.\r\n\r\nfor more detail,You can visit below link .\r\n&lt;http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html&gt;","title":"&quot;&lt;&lt;&quot; operator in java","body":"<p>It works as a highly optimized multiple comparison. The signed left shift operator &quot;&lt;&lt;&quot; shifts a bit pattern to the left, and the signed right shift operator &quot;&gt;&gt;&quot; shifts a bit pattern to the right. The bit pattern is given by the left-hand operand, and the number of positions to shift by the right-hand operand. The unsigned right shift operator &quot;&gt;&gt;&gt;&quot; shifts a zero into the leftmost position, while the leftmost position after &quot;&gt;&gt;&quot; depends on sign extension.</p>\n<p>for more detail,You can visit below link .\n<a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html</a></p>\n"}],"owner":{"account_id":193213,"reputation":596,"user_id":434793,"display_name":"Ferid G&#252;rb&#252;z"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3077,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4001824,"answer_count":5,"score":2,"last_activity_date":1659415902,"creation_date":1287793153,"question_id":4001813,"body_markdown":"Fallowing statement is from Character class of java:\r\n\r\n\r\n    (1 &lt;&lt; Character.PARAGRAPH_SEPARATOR)) &gt;&gt; type\r\n\r\n\r\n`PARAGRAPH_SEPARATOR` is a byte and `type` is an integer.\r\n    \r\n\r\n\r\nThe operators in this sentence, what do they do? how and where I can use those operators?\r\n\r\nHere is the oracles [java.lang.Character][1] doc. Nearly all the methods in the class uses those operators.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html","title":"&quot;&lt;&lt;&quot; operator in java","body":"<p>Fallowing statement is from Character class of java:</p>\n\n<pre><code>(1 &lt;&lt; Character.PARAGRAPH_SEPARATOR)) &gt;&gt; type\n</code></pre>\n\n<p><code>PARAGRAPH_SEPARATOR</code> is a byte and <code>type</code> is an integer.</p>\n\n<p>The operators in this sentence, what do they do? how and where I can use those operators?</p>\n\n<p>Here is the oracles <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/Character.html\" rel=\"nofollow\">java.lang.Character</a> doc. Nearly all the methods in the class uses those operators.</p>\n"},{"tags":["java","hibernate","spring-mvc","file-upload","cloudinary"],"answers":[{"tags":[],"owner":{"account_id":19166175,"reputation":61,"user_id":14000844,"display_name":"Pogitos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659415358,"creation_date":1659415358,"answer_id":73202066,"question_id":73194391,"body_markdown":"The Cloudinary SDKs only accept one file at a time for upload. In your case, you have to call the upload method thrice to obtain three different URLs.\r\n\r\nSample code:\r\n\r\n    public class RoomServiceImpl implements RoomService {\r\n    @Autowired\r\n    private RoomRepository roomRepository;\r\n    @Autowired\r\n    private Cloudinary cloudinary;\r\n\r\n        @Override\r\n        public boolean addRoom(Room room) {\r\n            try {\r\n                room.setRoomUrl1((String) upload(room).get(&quot;secure_url&quot;));\r\n                room.setRoomUrl2((String) upload(room).get(&quot;secure_url&quot;));\r\n                room.setRoomUrl3((String) upload(room).get(&quot;secure_url&quot;));\r\n                room.setRent(false);\r\n                return this.roomRepository.addRoom(room);\r\n            } catch (IOException e) {\r\n                System.err.println(&quot;add image&quot; + e.getMessage());\r\n            }\r\n        return false;\r\n        }\r\n        \r\n        private Map upload(Room room){\r\n            Map r = this.cloudinary.uploader().upload(room.getFile().getBytes(),\r\n                    ObjectUtils.asMap(&quot;resource_type&quot;, &quot;auto&quot;));\r\n            return r;\r\n        }\r\n\r\n    }","title":"How to upload multiple image to cloudinary by Spring?","body":"<p>The Cloudinary SDKs only accept one file at a time for upload. In your case, you have to call the upload method thrice to obtain three different URLs.</p>\n<p>Sample code:</p>\n<pre><code>public class RoomServiceImpl implements RoomService {\n@Autowired\nprivate RoomRepository roomRepository;\n@Autowired\nprivate Cloudinary cloudinary;\n\n    @Override\n    public boolean addRoom(Room room) {\n        try {\n            room.setRoomUrl1((String) upload(room).get(&quot;secure_url&quot;));\n            room.setRoomUrl2((String) upload(room).get(&quot;secure_url&quot;));\n            room.setRoomUrl3((String) upload(room).get(&quot;secure_url&quot;));\n            room.setRent(false);\n            return this.roomRepository.addRoom(room);\n        } catch (IOException e) {\n            System.err.println(&quot;add image&quot; + e.getMessage());\n        }\n    return false;\n    }\n    \n    private Map upload(Room room){\n        Map r = this.cloudinary.uploader().upload(room.getFile().getBytes(),\n                ObjectUtils.asMap(&quot;resource_type&quot;, &quot;auto&quot;));\n        return r;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25444005,"reputation":3,"user_id":19246452,"display_name":"Nguyen Anh Tuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73202066,"answer_count":1,"score":0,"last_activity_date":1659415358,"creation_date":1659360262,"question_id":73194391,"body_markdown":"I&#39;m trying to upload 3 image to Cloudinary and insert their link in SQL Server, but my code still add 1 link because I set same link. So my question is what solution to set each image link for each image file. My code below.\r\n\r\n     &lt;body&gt;\r\n\t&lt;form:form  action=&quot;addR&quot; method=&quot;post&quot;  enctype=&quot;multipart/form-data&quot; modelAttribute=&quot;room&quot;&gt;\r\n\t\t&lt;div&gt;\r\n\t\t\t&lt;form:label path=&quot;roomTypeID&quot;&gt;Room type :&lt;/form:label&gt; &lt;select style=&quot;width:100px; height: 30px;&quot;&gt;\r\n\t\t\t\t&lt;c:forEach items=&quot;${dataRT}&quot; var=&quot;rt&quot;&gt;\r\n\t\t\t\t\t&lt;option value=&quot;${rt.idRoomType}&quot;&gt;${rt.nameRoomType}&lt;/option&gt;\r\n\t\t\t\t&lt;/c:forEach&gt;\r\n\t\t\t&lt;/select&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;roomName&quot;&gt;Room Name: &lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;roomName&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;price&quot;&gt;Price&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;price&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;description&quot;&gt;Description&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;description&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;benefits&quot;&gt;Benefits&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;benefits&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;area&quot;&gt;Area&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;area&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;bed&quot;&gt;Beds&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;bed&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;adults&quot;&gt;Adults&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;adults&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;children&quot;&gt;Children&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input path=&quot;children&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;roomUrl1&quot;&gt;Image 1&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input type=&quot;file&quot; path=&quot;file&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;roomUrl2&quot;&gt;Image 2&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input type=&quot;file&quot;  path=&quot;file&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n         &lt;tr&gt;\r\n            &lt;td&gt;&lt;form:label path=&quot;roomUrl3&quot;&gt;Image 3&lt;/form:label&gt;&lt;/td&gt;\r\n            &lt;td&gt;&lt;form:input type=&quot;file&quot; path=&quot;file&quot;/&gt;&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n     \t\r\n    &lt;/table&gt;\r\n\t\t&lt;div&gt;\r\n\t\t\t&lt;form:button type=&quot;submit&quot;&gt;Add&lt;/form:button&gt;\r\n\t\t&lt;/div&gt;\r\n\t&lt;/form:form&gt;\r\n&lt;/body&gt;\r\n\r\n\r\n\r\n@Table(name = &quot;Room&quot;)\r\n\r\n@Entity(name = &quot;RoomEntity&quot;)\r\n\r\n@NoArgsConstructor\r\n\r\n@Getter\r\n\r\n@Setter\r\n\r\n@AllArgsConstructor\r\n\r\n\r\npublic class Room implements Serializable {\r\n\r\n\t@Id\r\n\r\n\t@GeneratedValue(generator = &quot;my_generator2&quot;)\r\n\r\n\t@GenericGenerator(name = &quot;my_generator2&quot;, strategy = &quot;Finalproject.spring.mvc.MyGenerator.GenerationRID&quot;)\r\n\r\n\t@Column(name = &quot;RoomID&quot;, columnDefinition = &quot;varchar(10)&quot;)\r\n\tprivate String id;\r\n\r\n\t@Column(name = &quot;RoomTypeID&quot;, columnDefinition = &quot;varchar(10)&quot;)\r\n\tprivate String roomTypeID;\r\n\r\n\t@Column(name = &quot;RoomName&quot;, columnDefinition = &quot;nvarchar(50)&quot;, unique = true, nullable = false)\r\n\tprivate String roomName;\r\n\r\n\t@Column(name = &quot;Price&quot;, columnDefinition = &quot;float&quot;)\r\n\tprivate float price;\r\n\r\n\t@Column(name = &quot;Description&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\r\n\tprivate String description;\r\n\r\n\t@Column(name = &quot;Benefits&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\r\n\tprivate String benefits;\r\n\r\n\t@Column(name = &quot;Area&quot;, columnDefinition = &quot;float&quot;)\r\n\tprivate float area;\r\n\r\n\t@Column(name = &quot;Bed&quot;, columnDefinition = &quot;int&quot;)\r\n\tprivate int bed;\r\n\r\n\t@Column(name = &quot;Adults&quot;, columnDefinition = &quot;int&quot;)\r\n\tprivate int adults;\r\n\r\n\t@Column(name = &quot;Children&quot;, columnDefinition = &quot;int&quot;)\r\n\tprivate int children;\r\n\t\r\n\t@Column(name = &quot;RoomUrl&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\r\n\tprivate String roomUrl1;\r\n\t\r\n\t@Column(name = &quot;RoomUr2&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\r\n\tprivate String roomUrl2;\r\n\t\r\n\t@Column(name = &quot;RoomUr3&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\r\n\tprivate String roomUrl3;\r\n\t\r\n\t@Column(name = &quot;IsRent&quot;, columnDefinition = &quot;bit&quot;)\r\n\tprivate boolean isRent;\r\n\r\n\t@ManyToOne()\r\n\t@JoinColumn(name = &quot;RoomTypeID&quot;/* , referencedColumnName = &quot;&quot; */, insertable = false, updatable = false)\r\n\tprivate RoomType roomTypeId;\r\n\t@Transient\r\n\tprivate MultipartFile file;\r\n\r\n}\r\n\r\n    public class RoomServiceImpl implements RoomService {\r\n\t@Autowired\r\n\tprivate RoomRepository roomRepository;\r\n\t@Autowired\r\n\tprivate Cloudinary cloudinary;\r\n\r\n\t@Override\r\n\tpublic boolean addRoom(Room room) {\r\n\t\ttry {\r\n\t\t\tMap r = this.cloudinary.uploader().upload(room.getFile().getBytes(),\r\n\t\t\t\t\tObjectUtils.asMap(&quot;resource_type&quot;, &quot;auto&quot;));\r\n\t\t\troom.setRoomUrl1((String) r.get(&quot;secure_url&quot;));\r\n\t\t\troom.setRoomUrl2((String) r.get(&quot;secure_url&quot;));\r\n\t\t\troom.setRoomUrl3((String) r.get(&quot;secure_url&quot;));\r\n\t\t\troom.setRent(false);\r\n\t\t\treturn this.roomRepository.addRoom(room);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;add image&quot; + e.getMessage());\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n","title":"How to upload multiple image to cloudinary by Spring?","body":"<p>I'm trying to upload 3 image to Cloudinary and insert their link in SQL Server, but my code still add 1 link because I set same link. So my question is what solution to set each image link for each image file. My code below.</p>\n<pre><code> &lt;body&gt;\n&lt;form:form  action=&quot;addR&quot; method=&quot;post&quot;  enctype=&quot;multipart/form-data&quot; modelAttribute=&quot;room&quot;&gt;\n    &lt;div&gt;\n        &lt;form:label path=&quot;roomTypeID&quot;&gt;Room type :&lt;/form:label&gt; &lt;select style=&quot;width:100px; height: 30px;&quot;&gt;\n            &lt;c:forEach items=&quot;${dataRT}&quot; var=&quot;rt&quot;&gt;\n                &lt;option value=&quot;${rt.idRoomType}&quot;&gt;${rt.nameRoomType}&lt;/option&gt;\n            &lt;/c:forEach&gt;\n        &lt;/select&gt;\n    &lt;/div&gt;\n    &lt;table&gt;\n    &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;roomName&quot;&gt;Room Name: &lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;roomName&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;price&quot;&gt;Price&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;price&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;description&quot;&gt;Description&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;description&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;benefits&quot;&gt;Benefits&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;benefits&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;area&quot;&gt;Area&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;area&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;bed&quot;&gt;Beds&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;bed&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;adults&quot;&gt;Adults&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;adults&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;children&quot;&gt;Children&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input path=&quot;children&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;roomUrl1&quot;&gt;Image 1&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input type=&quot;file&quot; path=&quot;file&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;roomUrl2&quot;&gt;Image 2&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input type=&quot;file&quot;  path=&quot;file&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n     &lt;tr&gt;\n        &lt;td&gt;&lt;form:label path=&quot;roomUrl3&quot;&gt;Image 3&lt;/form:label&gt;&lt;/td&gt;\n        &lt;td&gt;&lt;form:input type=&quot;file&quot; path=&quot;file&quot;/&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    \n&lt;/table&gt;\n    &lt;div&gt;\n        &lt;form:button type=&quot;submit&quot;&gt;Add&lt;/form:button&gt;\n    &lt;/div&gt;\n&lt;/form:form&gt;\n</code></pre>\n\n<p>@Table(name = &quot;Room&quot;)</p>\n<p>@Entity(name = &quot;RoomEntity&quot;)</p>\n<p>@NoArgsConstructor</p>\n<p>@Getter</p>\n<p>@Setter</p>\n<p>@AllArgsConstructor</p>\n<p>public class Room implements Serializable {</p>\n<pre><code>@Id\n\n@GeneratedValue(generator = &quot;my_generator2&quot;)\n\n@GenericGenerator(name = &quot;my_generator2&quot;, strategy = &quot;Finalproject.spring.mvc.MyGenerator.GenerationRID&quot;)\n\n@Column(name = &quot;RoomID&quot;, columnDefinition = &quot;varchar(10)&quot;)\nprivate String id;\n\n@Column(name = &quot;RoomTypeID&quot;, columnDefinition = &quot;varchar(10)&quot;)\nprivate String roomTypeID;\n\n@Column(name = &quot;RoomName&quot;, columnDefinition = &quot;nvarchar(50)&quot;, unique = true, nullable = false)\nprivate String roomName;\n\n@Column(name = &quot;Price&quot;, columnDefinition = &quot;float&quot;)\nprivate float price;\n\n@Column(name = &quot;Description&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\nprivate String description;\n\n@Column(name = &quot;Benefits&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\nprivate String benefits;\n\n@Column(name = &quot;Area&quot;, columnDefinition = &quot;float&quot;)\nprivate float area;\n\n@Column(name = &quot;Bed&quot;, columnDefinition = &quot;int&quot;)\nprivate int bed;\n\n@Column(name = &quot;Adults&quot;, columnDefinition = &quot;int&quot;)\nprivate int adults;\n\n@Column(name = &quot;Children&quot;, columnDefinition = &quot;int&quot;)\nprivate int children;\n\n@Column(name = &quot;RoomUrl&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\nprivate String roomUrl1;\n\n@Column(name = &quot;RoomUr2&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\nprivate String roomUrl2;\n\n@Column(name = &quot;RoomUr3&quot;, columnDefinition = &quot;nvarchar(max)&quot;)\nprivate String roomUrl3;\n\n@Column(name = &quot;IsRent&quot;, columnDefinition = &quot;bit&quot;)\nprivate boolean isRent;\n\n@ManyToOne()\n@JoinColumn(name = &quot;RoomTypeID&quot;/* , referencedColumnName = &quot;&quot; */, insertable = false, updatable = false)\nprivate RoomType roomTypeId;\n@Transient\nprivate MultipartFile file;\n</code></pre>\n<p>}</p>\n<pre><code>public class RoomServiceImpl implements RoomService {\n@Autowired\nprivate RoomRepository roomRepository;\n@Autowired\nprivate Cloudinary cloudinary;\n\n@Override\npublic boolean addRoom(Room room) {\n    try {\n        Map r = this.cloudinary.uploader().upload(room.getFile().getBytes(),\n                ObjectUtils.asMap(&quot;resource_type&quot;, &quot;auto&quot;));\n        room.setRoomUrl1((String) r.get(&quot;secure_url&quot;));\n        room.setRoomUrl2((String) r.get(&quot;secure_url&quot;));\n        room.setRoomUrl3((String) r.get(&quot;secure_url&quot;));\n        room.setRent(false);\n        return this.roomRepository.addRoom(room);\n    } catch (IOException e) {\n        System.err.println(&quot;add image&quot; + e.getMessage());\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["javascript","java","ajax","openid-connect","pac4j"],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659415295,"creation_date":1659415295,"question_id":73202063,"body_markdown":"Hi I am using Pac4j to do login logout. It has this class called `OidcLogoutActionBuilder`, where inside it checks specifically if the request is an Ajax request (e.g. from SPA), it will reply with 403. I wonder why is it?\r\n\r\nWould it be just some functional limitation (e.g. client does not do redirect from Ajax response) or is there some security concern?","title":"Pac4j OIDC logout does not allow Ajax call?","body":"<p>Hi I am using Pac4j to do login logout. It has this class called <code>OidcLogoutActionBuilder</code>, where inside it checks specifically if the request is an Ajax request (e.g. from SPA), it will reply with 403. I wonder why is it?</p>\n<p>Would it be just some functional limitation (e.g. client does not do redirect from Ajax response) or is there some security concern?</p>\n"},{"tags":["java","cmd","javac"],"comments":[{"owner":{"display_name":"user12431753"},"score":4,"creation_date":1590680045,"post_id":62068544,"comment_id":109777547,"body_markdown":"Step 4 undoes step 3.","body":"Step 4 undoes step 3."},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":3,"creation_date":1590680222,"post_id":62068544,"comment_id":109777643,"body_markdown":"In step 4, use `cd` command to get to the directory where your java file is located.","body":"In step 4, use <code>cd</code> command to get to the directory where your java file is located."},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1590681092,"post_id":62068544,"comment_id":109778159,"body_markdown":"In Step 4 : Don;t set the PATH again. Simply do a cd &lt;your-java-file-path&gt; and execute step 5","body":"In Step 4 : Don;t set the PATH again. Simply do a cd &lt;your-java-file-path&gt; and execute step 5"},{"owner":{"account_id":2151509,"reputation":2370,"user_id":1907765,"accept_rate":41,"display_name":"Lou"},"score":0,"creation_date":1590684612,"post_id":62068544,"comment_id":109780276,"body_markdown":"Thanks @AlexRudenko and Som, in addition to the accepted answer I&#39;ve succeeded in running the program from CMD due to your comments.","body":"Thanks @AlexRudenko and Som, in addition to the accepted answer I&#39;ve succeeded in running the program from CMD due to your comments."}],"answers":[{"tags":[],"owner":{"account_id":12918035,"reputation":1641,"user_id":9341540,"accept_rate":100,"display_name":"Klaus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1590681185,"creation_date":1590681185,"answer_id":62069012,"question_id":62068544,"body_markdown":"Steps\r\n\r\n 1. Setup the environment variables properly. In the `Path` System variable, you should add the path to bin directory. Something like `C:\\Program Files\\Java\\jdk-11.0.5\\bin` and then, you need to define a new system variable with name `JAVA_HOME` and point it to the java installation directory, not the bin directory. Something like `C:\\Program Files\\Java\\jdk-11.0.5`\r\n 2. You need NOT use the `Set` command, as of now environment variables are set. Open up a new powershell or command prompt and type `java -version`. If this prints the java version, then you are good to go with the next steps.\r\n 3. Go to your directory where your java class resides. Open up a powershell window there, with `shift + right click` and `open Powershell window here` option. Then type `javac HelloWorld.java` \r\n 4. To run programme, `java HelloWorld`\r\n\r\n","title":"Can&#39;t run a java file using javac","body":"<p>Steps</p>\n\n<ol>\n<li>Setup the environment variables properly. In the <code>Path</code> System variable, you should add the path to bin directory. Something like <code>C:\\Program Files\\Java\\jdk-11.0.5\\bin</code> and then, you need to define a new system variable with name <code>JAVA_HOME</code> and point it to the java installation directory, not the bin directory. Something like <code>C:\\Program Files\\Java\\jdk-11.0.5</code></li>\n<li>You need NOT use the <code>Set</code> command, as of now environment variables are set. Open up a new powershell or command prompt and type <code>java -version</code>. If this prints the java version, then you are good to go with the next steps.</li>\n<li>Go to your directory where your java class resides. Open up a powershell window there, with <code>shift + right click</code> and <code>open Powershell window here</code> option. Then type <code>javac HelloWorld.java</code> </li>\n<li>To run programme, <code>java HelloWorld</code></li>\n</ol>\n"}],"owner":{"account_id":2151509,"reputation":2370,"user_id":1907765,"accept_rate":41,"display_name":"Lou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62069012,"answer_count":1,"score":0,"last_activity_date":1659415202,"creation_date":1590679871,"question_id":62068544,"body_markdown":"I&#39;ve got the same problem as the user who posted [this question][1]. I am trying to run a Java file on a Windows machine using Command Prompt, but I&#39;m having no success using any of the information I&#39;ve gleaned from the linked question, nor from [WikiHow][2], nor from [this user on another site][3] with the same problem.\r\n\r\nHere are the steps I&#39;ve taken.\r\n\r\n1. I&#39;ve created a Java file using Notepad, called `HelloWorld.java`, and saved it in a folder called &quot;Java&quot;. The file directory is `C:\\Users\\[myname]\\Google Drive\\Java`. The code in the file is a simple Hello World as below:\r\n\t```\r\n\tclass HelloWorld {\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSystem.out.println(&quot;Hello World!&quot;);\r\n\t\t}\r\n\t}\r\n\t```\r\n\r\n2. I&#39;ve downloaded Java version 8, and the latest version of the Java JDK (14.0.1) from the website. I previously had the JDK 12.x.x installed, so I uninstalled that.\r\n\r\n3. I&#39;ve opened System Properties &gt; Advanced &gt; Environment Variables, gone to the &quot;Path&quot; variable in &quot;System variables&quot;, clicked &quot;Edit&quot; and added a new environment variable, which was the path to the JDK bin: `C:\\Program Files\\Java\\jdk-14.0.1\\bin`. I then clicked &quot;Move Up&quot; until this variable was at the top.\r\n\r\n4. After clicking OK and closing this window, I&#39;ve opened Command Prompt, typed `set path=C:\\Users\\[myname]\\Google Drive\\Java` in order to (I imagine) set the path to where my `HelloWorld.java` file is. I&#39;ve typed in `path` to confirm that this has worked.\r\n\r\n5. I&#39;ve typed in Command Prompt `javac HelloWorld.java`. When I hit Enter, I get the output:\r\n\t```\r\n\t&#39;javac&#39; is not recognized as an internal or external command,\r\n\toperable program or batch file.\r\n\t```\r\n\r\nI&#39;m honestly not sure what steps are left to take. Is there a simple fix to get this file to run?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44844006/cant-compile-java-file-using-javac-on-cmd\r\n  [2]: https://www.wikihow.com/Install-the-Java-Software-Development-Kit#/Image:Install-the-Java-Software-Development-Kit-Step-28-Version-2.jpg\r\n  [3]: https://www.edureka.co/community/4800/unable-resolve-error-recognized-internal-external-command\r\n","title":"Can&#39;t run a java file using javac","body":"<p>I've got the same problem as the user who posted <a href=\"https://stackoverflow.com/questions/44844006/cant-compile-java-file-using-javac-on-cmd\">this question</a>. I am trying to run a Java file on a Windows machine using Command Prompt, but I'm having no success using any of the information I've gleaned from the linked question, nor from <a href=\"https://www.wikihow.com/Install-the-Java-Software-Development-Kit#/Image:Install-the-Java-Software-Development-Kit-Step-28-Version-2.jpg\" rel=\"nofollow noreferrer\">WikiHow</a>, nor from <a href=\"https://www.edureka.co/community/4800/unable-resolve-error-recognized-internal-external-command\" rel=\"nofollow noreferrer\">this user on another site</a> with the same problem.</p>\n<p>Here are the steps I've taken.</p>\n<ol>\n<li><p>I've created a Java file using Notepad, called <code>HelloWorld.java</code>, and saved it in a folder called &quot;Java&quot;. The file directory is <code>C:\\Users\\[myname]\\Google Drive\\Java</code>. The code in the file is a simple Hello World as below:</p>\n<pre><code>class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n</li>\n<li><p>I've downloaded Java version 8, and the latest version of the Java JDK (14.0.1) from the website. I previously had the JDK 12.x.x installed, so I uninstalled that.</p>\n</li>\n<li><p>I've opened System Properties &gt; Advanced &gt; Environment Variables, gone to the &quot;Path&quot; variable in &quot;System variables&quot;, clicked &quot;Edit&quot; and added a new environment variable, which was the path to the JDK bin: <code>C:\\Program Files\\Java\\jdk-14.0.1\\bin</code>. I then clicked &quot;Move Up&quot; until this variable was at the top.</p>\n</li>\n<li><p>After clicking OK and closing this window, I've opened Command Prompt, typed <code>set path=C:\\Users\\[myname]\\Google Drive\\Java</code> in order to (I imagine) set the path to where my <code>HelloWorld.java</code> file is. I've typed in <code>path</code> to confirm that this has worked.</p>\n</li>\n<li><p>I've typed in Command Prompt <code>javac HelloWorld.java</code>. When I hit Enter, I get the output:</p>\n<pre><code>'javac' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n</li>\n</ol>\n<p>I'm honestly not sure what steps are left to take. Is there a simple fix to get this file to run?</p>\n"},{"tags":["java","java-8","javac"],"answers":[{"tags":[],"owner":{"account_id":19153506,"reputation":19,"user_id":13990883,"display_name":"KRIT Sami"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1595625235,"creation_date":1595625235,"answer_id":63081540,"question_id":63081466,"body_markdown":"When you compile a java file as: javac File.java(enter) then .class file is generated which is java byte code, which is the instruction set of the Java virtual machine (JVM) to interpret your code.","title":"Files left in directory after running javac for JDK1.8","body":"<p>When you compile a java file as: javac File.java(enter) then .class file is generated which is java byte code, which is the instruction set of the Java virtual machine (JVM) to interpret your code.</p>\n"},{"tags":[],"owner":{"account_id":19153506,"reputation":19,"user_id":13990883,"display_name":"KRIT Sami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595626923,"creation_date":1595626583,"answer_id":63081783,"question_id":63081466,"body_markdown":"I found this on the chineese version of the web site as it says,You may have placed these files in the usual temporary directories of the development system.\n\r\nThe search for a few symbols in the &quot;readable&quot; line seems to point to the hsperfdata artifact. See this hsperfdata Github parsing project. After exiting, it is possible to safely delete them. Java\r\n\r\nNote: If these are hsperfdata components, the numbers are process identifiers. You may have placed these files in the usual temporary directories of the development system.\r\n\r\n(The initial assumption is that the remaining files may be class file artifacts extracted from deleted JAR files.)","title":"Files left in directory after running javac for JDK1.8","body":"<p>I found this on the chineese version of the web site as it says,You may have placed these files in the usual temporary directories of the development system.</p>\n<p>The search for a few symbols in the &quot;readable&quot; line seems to point to the hsperfdata artifact. See this hsperfdata Github parsing project. After exiting, it is possible to safely delete them. Java</p>\n<p>Note: If these are hsperfdata components, the numbers are process identifiers. You may have placed these files in the usual temporary directories of the development system.</p>\n<p>(The initial assumption is that the remaining files may be class file artifacts extracted from deleted JAR files.)</p>\n"}],"owner":{"account_id":3551626,"reputation":352,"user_id":2966366,"accept_rate":11,"display_name":"Dave Brunkow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659414825,"creation_date":1595624815,"question_id":63081466,"body_markdown":"If I run \r\n\r\n```\r\njavac File.java\r\n```\r\nand run `ls`, what&#39;s left is \r\n```\r\n129161 File.class File.java\r\n```\r\n```\r\nfile 129161\r\n129161: data\r\n```\r\n\r\n```\r\nls -l\r\n32768 Jul 24 20:41 129161\r\n 1493 Jul 24 20:53 File.class\r\n 1018 Jul 23 16:08 File.java\r\n```\r\nThe files obviously a binary, but the first couple of lines include:\r\n```\r\n@J8sun.rt._sync_EmptyNotifications8J0sun.rt._sync_NotificationsJ8sun.rt._sync_ContendedLockAttempts8J0sun.rt._sync_FutileWakeups0J(sun.rt._sync_Parks\r\n                                                               8J0sun.rt._sync_SlowEnter8J0sun.rt._sync_SlowExit8J0sun.rt._sync_SlowNotify8J0sun.rt._sync_SlowNotifyAll8J0sun.rt._sync_FailedS\r\n```\r\n\r\nCan anyone explain or reference documentation of exactly why the strangely number files are created in this directory every time I run javac. \r\n\r\nFor the record, I only see this with versions of oracle JDK 1.8.","title":"Files left in directory after running javac for JDK1.8","body":"<p>If I run</p>\n<pre><code>javac File.java\n</code></pre>\n<p>and run <code>ls</code>, what's left is</p>\n<pre><code>129161 File.class File.java\n</code></pre>\n<pre><code>file 129161\n129161: data\n</code></pre>\n<pre><code>ls -l\n32768 Jul 24 20:41 129161\n 1493 Jul 24 20:53 File.class\n 1018 Jul 23 16:08 File.java\n</code></pre>\n<p>The files obviously a binary, but the first couple of lines include:</p>\n<pre><code>@J8sun.rt._sync_EmptyNotifications8J0sun.rt._sync_NotificationsJ8sun.rt._sync_ContendedLockAttempts8J0sun.rt._sync_FutileWakeups0J(sun.rt._sync_Parks\n                                                               8J0sun.rt._sync_SlowEnter8J0sun.rt._sync_SlowExit8J0sun.rt._sync_SlowNotify8J0sun.rt._sync_SlowNotifyAll8J0sun.rt._sync_FailedS\n</code></pre>\n<p>Can anyone explain or reference documentation of exactly why the strangely number files are created in this directory every time I run javac.</p>\n<p>For the record, I only see this with versions of oracle JDK 1.8.</p>\n"},{"tags":["java","sublimetext3","sublimetext","javac"],"answers":[{"tags":[],"owner":{"account_id":15709966,"reputation":26,"user_id":11335708,"display_name":"Shivelight"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1603408066,"creation_date":1598014290,"answer_id":63523271,"question_id":63522477,"body_markdown":"I see that you are using Manjaro, which is Arch derivative; instead of setting the `JAVA_HOME` variable, you should use `archlinux-java` to set the default JDK version.\r\n`archlinux-java` is part of `java-runtime-common` package.\r\n\r\n---\r\n\r\nWhen something is wrong, Sublime will print your current path variable ([example][1]). Make sure the paths are set correctly.\r\n\r\n  [1]: https://i.stack.imgur.com/mewFX.png\r\n\r\nI tried your build system on my Arch machine, and it is working correctly, I also tried setting the `JAVA_HOME` variable, and it is still working.\r\n\r\nUsing Sublime Text 3 Build 3211","title":"(Sublime Text 3) bash: javac: command not found","body":"<p>I see that you are using Manjaro, which is Arch derivative; instead of setting the <code>JAVA_HOME</code> variable, you should use <code>archlinux-java</code> to set the default JDK version.\n<code>archlinux-java</code> is part of <code>java-runtime-common</code> package.</p>\n<hr />\n<p>When something is wrong, Sublime will print your current path variable (<a href=\"https://i.stack.imgur.com/mewFX.png\" rel=\"nofollow noreferrer\">example</a>). Make sure the paths are set correctly.</p>\n<p>I tried your build system on my Arch machine, and it is working correctly, I also tried setting the <code>JAVA_HOME</code> variable, and it is still working.</p>\n<p>Using Sublime Text 3 Build 3211</p>\n"},{"tags":[],"owner":{"account_id":19344080,"reputation":25,"user_id":14143008,"display_name":"CyberJelly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598018137,"creation_date":1598018137,"answer_id":63524215,"question_id":63522477,"body_markdown":"For future users with the same issue, I solved it by specifying the path variable in my build system by adding:\r\n\r\n    &quot;path&quot;:&quot;your/directory/here&quot;\r\nThe whole thing where I added the line to .bashrc turned out to be completely unnecessary, as this fixed it.","title":"(Sublime Text 3) bash: javac: command not found","body":"<p>For future users with the same issue, I solved it by specifying the path variable in my build system by adding:</p>\n<pre><code>&quot;path&quot;:&quot;your/directory/here&quot;\n</code></pre>\n<p>The whole thing where I added the line to .bashrc turned out to be completely unnecessary, as this fixed it.</p>\n"}],"owner":{"account_id":19344080,"reputation":25,"user_id":14143008,"display_name":"CyberJelly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63523271,"answer_count":2,"score":1,"last_activity_date":1659414490,"creation_date":1598010930,"question_id":63522477,"body_markdown":"I&#39;m trying to get a working build system for Java on Sublime Text 3, but whenever I try to run anything, i just get `bash: javac: command not found.`\r\n\r\nThe strangest thing about this is that I can run the javac command from a terminal, as I have added the line\r\n\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/java-14-openjdk &amp;&amp; export PATH=$JAVA_HOME/bin:$PATH\r\n```\r\n\r\nto the .bashrc file in my home directory.\r\n\r\nSo I have no idea why I can run Java files using javac and java from the terminal, however Sublime Text cannot.\r\n\r\nHere is what I have for my build system:\r\n```\r\n{\r\n   &quot;shell_cmd&quot;: &quot;javac \\&quot;$file_name\\&quot; &amp;&amp; java \\&quot;$file_base_name\\&quot;&quot;,\r\n   &quot;file_regex&quot;: &quot;^(...*?):([0-9]*):?([0-9]*)&quot;,\r\n   &quot;selector&quot;: &quot;source.java&quot;,\r\n}\r\n```\r\n\r\nI am using Manjaro 20.\r\n","title":"(Sublime Text 3) bash: javac: command not found","body":"<p>I'm trying to get a working build system for Java on Sublime Text 3, but whenever I try to run anything, i just get <code>bash: javac: command not found.</code></p>\n<p>The strangest thing about this is that I can run the javac command from a terminal, as I have added the line</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-14-openjdk &amp;&amp; export PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<p>to the .bashrc file in my home directory.</p>\n<p>So I have no idea why I can run Java files using javac and java from the terminal, however Sublime Text cannot.</p>\n<p>Here is what I have for my build system:</p>\n<pre><code>{\n   &quot;shell_cmd&quot;: &quot;javac \\&quot;$file_name\\&quot; &amp;&amp; java \\&quot;$file_base_name\\&quot;&quot;,\n   &quot;file_regex&quot;: &quot;^(...*?):([0-9]*):?([0-9]*)&quot;,\n   &quot;selector&quot;: &quot;source.java&quot;,\n}\n</code></pre>\n<p>I am using Manjaro 20.</p>\n"},{"tags":["java","javac","java-runtime-compiler"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598543188,"creation_date":1598543188,"answer_id":63619683,"question_id":63619568,"body_markdown":"1. Fully qualified class names are of the form: `com.foo.Bar`, where `com.foo` is the package (e.g. the file defining the Bar class starts with the line `package com.foo;`), and Bar is the name (e.g. the file contains the line `public class Bar {`).\r\n2. When running `java` and specifying classpath+classname, you pass a class name. Not a file name. So to run this file you&#39;d write `java -cp /path/to/base com.foo.Bar`.\r\n3. fully qualified names must match directory structure both at runtime (class files) and compile time (java files). So, here you should have say `/Users/Foghunt/projects/myproj/src/com/foo/Bar.java` and after compilation you should have e.g. `/Users/Foghunt/projects/myproj/build/com/foo/Bar.class`\r\n4. The &#39;base dir&#39; is the one that contains the first package directory. So, the base dir for the source file is `/Users/Foghunt/projects/myproj/src` and for the compiled result is `/Users/Foghunt/projects/myproj/build`.\r\n5. The base dir needs to be in the classpath. Classpath entries are file paths. So, to run this thing you&#39;d write `java -cp /Users/Foghunt/projects/myproj/build com.foo.Bar`.\r\n6. `javac` doesn&#39;t mind if you don&#39;t go through the trouble of properly defining things (e.g. running `javac *.java` in `/Users/Foghunt/projects/myproj/src/com/foo` does work), but it gets complicated quickly if you have multiple packages.\r\n7. In general you should be using build systems. If you&#39;ve inherited this project, check for a file named `build.xml` or `pom.xml` or `build.gradle` in the root of the project. If it is there, use a web search engine (`build.xml` -&gt; search for `java ant`, `pom.xml` -&gt; `java maven`, `build.gradle` -&gt; `java gradle`), and use that to build the project, don&#39;t run `javac` yourself.\r\n\r\nThere you go. Armed with that knowledge you can now analyse, build, and run any java project.\r\n","title":"Error caused on runtime of java class file","body":"<ol>\n<li>Fully qualified class names are of the form: <code>com.foo.Bar</code>, where <code>com.foo</code> is the package (e.g. the file defining the Bar class starts with the line <code>package com.foo;</code>), and Bar is the name (e.g. the file contains the line <code>public class Bar {</code>).</li>\n<li>When running <code>java</code> and specifying classpath+classname, you pass a class name. Not a file name. So to run this file you'd write <code>java -cp /path/to/base com.foo.Bar</code>.</li>\n<li>fully qualified names must match directory structure both at runtime (class files) and compile time (java files). So, here you should have say <code>/Users/Foghunt/projects/myproj/src/com/foo/Bar.java</code> and after compilation you should have e.g. <code>/Users/Foghunt/projects/myproj/build/com/foo/Bar.class</code></li>\n<li>The 'base dir' is the one that contains the first package directory. So, the base dir for the source file is <code>/Users/Foghunt/projects/myproj/src</code> and for the compiled result is <code>/Users/Foghunt/projects/myproj/build</code>.</li>\n<li>The base dir needs to be in the classpath. Classpath entries are file paths. So, to run this thing you'd write <code>java -cp /Users/Foghunt/projects/myproj/build com.foo.Bar</code>.</li>\n<li><code>javac</code> doesn't mind if you don't go through the trouble of properly defining things (e.g. running <code>javac *.java</code> in <code>/Users/Foghunt/projects/myproj/src/com/foo</code> does work), but it gets complicated quickly if you have multiple packages.</li>\n<li>In general you should be using build systems. If you've inherited this project, check for a file named <code>build.xml</code> or <code>pom.xml</code> or <code>build.gradle</code> in the root of the project. If it is there, use a web search engine (<code>build.xml</code> -&gt; search for <code>java ant</code>, <code>pom.xml</code> -&gt; <code>java maven</code>, <code>build.gradle</code> -&gt; <code>java gradle</code>), and use that to build the project, don't run <code>javac</code> yourself.</li>\n</ol>\n<p>There you go. Armed with that knowledge you can now analyse, build, and run any java project.</p>\n"}],"owner":{"display_name":"user4896245"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659414363,"creation_date":1598542848,"question_id":63619568,"body_markdown":"How do I compile and run java files if you don&#39;t know the specific package used by the developer... \r\n\r\n\r\nI got a folder of java files written by someone else, and I&#39;m trying to compile and run the java files, I can compile the files by running `javac *.java`, but if I try to run the main class by calling `java MainClass`, I get an error like so: `Error could not find or load main class MainClass, Caused by: java.lang.NoClassDefFoundError: SomePackageName/MainClass (wrong name: MainClass)`\r\n\r\nI have no idea whats the SomePackageName its defined by the developer and I have no control over that.\r\n\r\nso the question is how do I compile and run the java files if all I know is which is the main class?","title":"Error caused on runtime of java class file","body":"<p>How do I compile and run java files if you don't know the specific package used by the developer...</p>\n<p>I got a folder of java files written by someone else, and I'm trying to compile and run the java files, I can compile the files by running <code>javac *.java</code>, but if I try to run the main class by calling <code>java MainClass</code>, I get an error like so: <code>Error could not find or load main class MainClass, Caused by: java.lang.NoClassDefFoundError: SomePackageName/MainClass (wrong name: MainClass)</code></p>\n<p>I have no idea whats the SomePackageName its defined by the developer and I have no control over that.</p>\n<p>so the question is how do I compile and run the java files if all I know is which is the main class?</p>\n"},{"tags":["java","jmap"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1659406038,"post_id":73201268,"comment_id":129281672,"body_markdown":"Just to check the obvious, is the PID correct (How are you getting it), and do you have sufficient privilege to attach that process, do you get prompted to enter credentials, or have you done this already before running the command, for example `% su adminUsername`? Please provide details","body":"Just to check the obvious, is the PID correct (How are you getting it), and do you have sufficient privilege to attach that process, do you get prompted to enter credentials, or have you done this already before running the command, for example <code>% su adminUsername</code>? Please provide details"},{"owner":{"account_id":4311404,"reputation":571,"user_id":3522338,"accept_rate":55,"display_name":"MMMMMCCLXXVII"},"score":0,"creation_date":1659414084,"post_id":73201268,"comment_id":129282844,"body_markdown":"yes sir. I got PID from jps command. And also,the java process is still live when i run sudo jhsdb.","body":"yes sir. I got PID from jps command. And also,the java process is still live when i run sudo jhsdb."},{"owner":{"account_id":4311404,"reputation":571,"user_id":3522338,"accept_rate":55,"display_name":"MMMMMCCLXXVII"},"score":0,"creation_date":1659416317,"post_id":73201268,"comment_id":129283162,"body_markdown":"@sorifiend Speak of privilege, I thought that&#39;s the key problem, since I already use sudo, I hope it works which didn&#39;t.","body":"@sorifiend Speak of privilege, I thought that&#39;s the key problem, since I already use sudo, I hope it works which didn&#39;t."}],"owner":{"account_id":4311404,"reputation":571,"user_id":3522338,"accept_rate":55,"display_name":"MMMMMCCLXXVII"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659414244,"creation_date":1659405824,"question_id":73201268,"body_markdown":"macOS Monterey version is 12.5\r\nand jdk version is 11\r\n\r\nI was going with `sudo jhsdb jmap --heap --pid xxxx` to analyze java process. Then I got the error followed\r\n\r\n    Password:\r\n    Attaching to process ID 47413, please wait...\r\n    ERROR: attach: task_for_pid(47413) failed: &#39;(os/kern) failure&#39; (5)\r\n    Error attaching to process: sun.jvm.hotspot.debugger.DebuggerException: Can&#39;t attach to the process. Could be caused by an incorrect pid or lack of privileges.\r\n    sun.jvm.hotspot.debugger.DebuggerException: sun.jvm.hotspot.debugger.DebuggerException: Can&#39;t attach to the process. Could be caused by an incorrect pid or lack of privileges.\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal$BsdDebuggerLocalWorkerThread.execute(BsdDebuggerLocal.java:169)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal.attach(BsdDebuggerLocal.java:283)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.attachDebugger(HotSpotAgent.java:672)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.setupDebuggerDarwin(HotSpotAgent.java:660)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.setupDebugger(HotSpotAgent.java:342)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:141)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.start(Tool.java:185)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.tools.JMap.main(JMap.java:176)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.runJMAP(SALauncher.java:369)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.main(SALauncher.java:538)\r\n    Caused by: sun.jvm.hotspot.debugger.DebuggerException: Can&#39;t attach to the process. Could be caused by an incorrect pid or lack of privileges.\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal.attach0(Native Method)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal$1AttachTask.doit(BsdDebuggerLocal.java:274)\r\n    \tat jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal$BsdDebuggerLocalWorkerThread.run(BsdDebuggerLocal.java:144)\r\n\r\n**I&#39;v tried use jdk14,18,and didn&#39;t work out for me.**\r\n\r\nso any solution?\r\n\r\n","title":"jhsdb can&#39;t attach the java process in MacOS Monterey","body":"<p>macOS Monterey version is 12.5\nand jdk version is 11</p>\n<p>I was going with <code>sudo jhsdb jmap --heap --pid xxxx</code> to analyze java process. Then I got the error followed</p>\n<pre><code>Password:\nAttaching to process ID 47413, please wait...\nERROR: attach: task_for_pid(47413) failed: '(os/kern) failure' (5)\nError attaching to process: sun.jvm.hotspot.debugger.DebuggerException: Can't attach to the process. Could be caused by an incorrect pid or lack of privileges.\nsun.jvm.hotspot.debugger.DebuggerException: sun.jvm.hotspot.debugger.DebuggerException: Can't attach to the process. Could be caused by an incorrect pid or lack of privileges.\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal$BsdDebuggerLocalWorkerThread.execute(BsdDebuggerLocal.java:169)\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal.attach(BsdDebuggerLocal.java:283)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.attachDebugger(HotSpotAgent.java:672)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.setupDebuggerDarwin(HotSpotAgent.java:660)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.setupDebugger(HotSpotAgent.java:342)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\n    at jdk.hotspot.agent/sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:141)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.start(Tool.java:185)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\n    at jdk.hotspot.agent/sun.jvm.hotspot.tools.JMap.main(JMap.java:176)\n    at jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.runJMAP(SALauncher.java:369)\n    at jdk.hotspot.agent/sun.jvm.hotspot.SALauncher.main(SALauncher.java:538)\nCaused by: sun.jvm.hotspot.debugger.DebuggerException: Can't attach to the process. Could be caused by an incorrect pid or lack of privileges.\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal.attach0(Native Method)\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal$1AttachTask.doit(BsdDebuggerLocal.java:274)\n    at jdk.hotspot.agent/sun.jvm.hotspot.debugger.bsd.BsdDebuggerLocal$BsdDebuggerLocalWorkerThread.run(BsdDebuggerLocal.java:144)\n</code></pre>\n<p><strong>I'v tried use jdk14,18,and didn't work out for me.</strong></p>\n<p>so any solution?</p>\n"},{"tags":["java","java-native-interface","javac","javah"],"comments":[{"owner":{"account_id":19054692,"reputation":3493,"user_id":13912132,"display_name":"JCWasmx86"},"score":0,"creation_date":1602435039,"post_id":64299349,"comment_id":113712967,"body_markdown":"I think it&#39;s a legacy from the NMI (The JNI of JDK 1.0.2) or LLNI (Something similar). The code for generating the LLNI headers is [this]  (http://www.docjar.com/html/api/com/sun/tools/javah/LLNI.java.html) and shows, that a structure is created","body":"I think it&#39;s a legacy from the NMI (The JNI of JDK 1.0.2) or LLNI (Something similar). The code for generating the LLNI headers is [this]  (<a href=\"http://www.docjar.com/html/api/com/sun/tools/javah/LLNI.java.html\" rel=\"nofollow noreferrer\">docjar.com/html/api/com/sun/tools/javah/LLNI.java.html</a>) and shows, that a structure is created"},{"owner":{"account_id":19054692,"reputation":3493,"user_id":13912132,"display_name":"JCWasmx86"},"score":0,"creation_date":1602435229,"post_id":64299349,"comment_id":113713030,"body_markdown":"Look here, https://github.com/JetBrains/jdk8u_langtools/blob/06b2a96e80a08ba77dacf797596f0679bbd7bafd/src/share/classes/com/sun/tools/javah/JavahTask.java#L223 Try running with `-Xllni`. It *should* generate a header with a structure.","body":"Look here, <a href=\"https://github.com/JetBrains/jdk8u_langtools/blob/06b2a96e80a08ba77dacf797596f0679bbd7bafd/src/share/classes/com/sun/tools/javah/JavahTask.java#L223\" rel=\"nofollow noreferrer\">github.com/JetBrains/jdk8u_langtools/blob/&hellip;</a> Try running with <code>-Xllni</code>. It <i>should</i> generate a header with a structure."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1602445605,"post_id":64299349,"comment_id":113716181,"body_markdown":"What are you actually planning to do with it, though? You cannot (directly) use these generated structs to access fields Java objects.","body":"What are you actually planning to do with it, though? You cannot (directly) use these generated structs to access fields Java objects."}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659413662,"creation_date":1659413662,"answer_id":73201913,"question_id":64299349,"body_markdown":"### Question\r\n\r\nWhat steps can be used to generate a JNI header file for the Java class below?\r\n```\r\npublic class Position {\r\n    float x;\r\n    float y;\r\n    public static native long instance();\r\n    public static native float getX(long ptr);\r\n    public static native float getY(long ptr);\r\n    public static native long delete(long ptr);\r\n}\r\n```\r\n\r\n### Steps to follow\r\n\r\n1. Verify using JDK 11  you mentioned trying versions 8 and 11, so I&#39;m showing 11\r\n\t```\r\n\t% javac -version\r\n\tjavac 11.0.14\r\n\t```\r\n1. Run [`javac`](https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9) using `-h` option and &quot;.&quot; to write generated files to current directory\r\n\t```\r\n\t% javac -h . Position.java \r\n\t```\r\n1. Verify contents of generated header file\r\n\t```\r\n\t% cat Position.h\r\n\t/* DO NOT EDIT THIS FILE - it is machine generated */\r\n\t#include &lt;jni.h&gt;\r\n\t/* Header for class Position */\r\n\r\n\t#ifndef _Included_Position\r\n\t#define _Included_Position\r\n\t#ifdef __cplusplus\r\n\textern &quot;C&quot; {\r\n\t#endif\r\n\t/*\r\n\t * Class:     Position\r\n\t * Method:    instance\r\n\t * Signature: ()J\r\n\t */\r\n\tJNIEXPORT jlong JNICALL Java_Position_instance\r\n\t  (JNIEnv *, jclass);\r\n\r\n\t/*\r\n\t * Class:     Position\r\n\t * Method:    getX\r\n\t * Signature: (J)F\r\n\t */\r\n\tJNIEXPORT jfloat JNICALL Java_Position_getX\r\n\t  (JNIEnv *, jclass, jlong);\r\n\r\n\t/*\r\n\t * Class:     Position\r\n\t * Method:    getY\r\n\t * Signature: (J)F\r\n\t */\r\n\tJNIEXPORT jfloat JNICALL Java_Position_getY\r\n\t  (JNIEnv *, jclass, jlong);\r\n\r\n\t/*\r\n\t * Class:     Position\r\n\t * Method:    delete\r\n\t * Signature: (J)J\r\n\t */\r\n\tJNIEXPORT jlong JNICALL Java_Position_delete\r\n\t  (JNIEnv *, jclass, jlong);\r\n\r\n\t#ifdef __cplusplus\r\n\t}\r\n\t#endif\r\n\t#endif\r\n\t```","title":"How to generate struct definition in the JNI header file with the javac or javah commands?","body":"<h3>Question</h3>\n<p>What steps can be used to generate a JNI header file for the Java class below?</p>\n<pre><code>public class Position {\n    float x;\n    float y;\n    public static native long instance();\n    public static native float getX(long ptr);\n    public static native float getY(long ptr);\n    public static native long delete(long ptr);\n}\n</code></pre>\n<h3>Steps to follow</h3>\n<ol>\n<li>Verify using JDK 11  you mentioned trying versions 8 and 11, so I'm showing 11\n<pre><code>% javac -version\njavac 11.0.14\n</code></pre>\n</li>\n<li>Run <a href=\"https://docs.oracle.com/en/java/javase/11/tools/javac.html#GUID-AEEC9F07-CB49-4E96-8BC7-BCC2C7F725C9\" rel=\"nofollow noreferrer\"><code>javac</code></a> using <code>-h</code> option and &quot;.&quot; to write generated files to current directory\n<pre><code>% javac -h . Position.java \n</code></pre>\n</li>\n<li>Verify contents of generated header file\n<pre><code>% cat Position.h\n/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class Position */\n\n#ifndef _Included_Position\n#define _Included_Position\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n/*\n * Class:     Position\n * Method:    instance\n * Signature: ()J\n */\nJNIEXPORT jlong JNICALL Java_Position_instance\n  (JNIEnv *, jclass);\n\n/*\n * Class:     Position\n * Method:    getX\n * Signature: (J)F\n */\nJNIEXPORT jfloat JNICALL Java_Position_getX\n  (JNIEnv *, jclass, jlong);\n\n/*\n * Class:     Position\n * Method:    getY\n * Signature: (J)F\n */\nJNIEXPORT jfloat JNICALL Java_Position_getY\n  (JNIEnv *, jclass, jlong);\n\n/*\n * Class:     Position\n * Method:    delete\n * Signature: (J)J\n */\nJNIEXPORT jlong JNICALL Java_Position_delete\n  (JNIEnv *, jclass, jlong);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":19706500,"reputation":1,"user_id":14428060,"display_name":"Vlad Radu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659413662,"creation_date":1602373414,"question_id":64299349,"body_markdown":"Given a class such as:\r\n\r\n    class Position {\r\n       float   x;\r\n       float   y;\r\n\r\n       public static native long instance();\r\n       public static native float getX(long ptr);\r\n       public static native float getY(long ptr);\r\n       public static native long delete(long ptr);\r\n    }\r\n\r\nwhen generating the native header file, I would like the struct definition corresponding to the fields of the class to be included in the headers. Something like:\r\n\r\n    struct Position {\r\n       float x;\r\n       float y;\r\n    }\r\n\r\nRunning the command \r\n\r\n    javac -classpath bin -d . -h jni src/Position.java\r\n\r\nwith Java 11 or the command\r\n    \r\n    javah src/Position\r\n\r\nwith Java 8 doesn&#39;t generate the struct.\r\n\r\nI found the desired behaviour described in [docs][1] for javah (not sure how valid they are currently) stating `The .h file contains a struct definition whose layout parallels the layout of the corresponding class.`\r\n\r\nI would like to know if it&#39;s possible to achieve what I described above with `javac -h`. If not was it ever possible and if so, what were the reasons for the change? Moreover what alternatives do I have?\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javah.html","title":"How to generate struct definition in the JNI header file with the javac or javah commands?","body":"<p>Given a class such as:</p>\n<pre><code>class Position {\n   float   x;\n   float   y;\n\n   public static native long instance();\n   public static native float getX(long ptr);\n   public static native float getY(long ptr);\n   public static native long delete(long ptr);\n}\n</code></pre>\n<p>when generating the native header file, I would like the struct definition corresponding to the fields of the class to be included in the headers. Something like:</p>\n<pre><code>struct Position {\n   float x;\n   float y;\n}\n</code></pre>\n<p>Running the command</p>\n<pre><code>javac -classpath bin -d . -h jni src/Position.java\n</code></pre>\n<p>with Java 11 or the command</p>\n<pre><code>javah src/Position\n</code></pre>\n<p>with Java 8 doesn't generate the struct.</p>\n<p>I found the desired behaviour described in <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/javah.html\" rel=\"nofollow noreferrer\">docs</a> for javah (not sure how valid they are currently) stating <code>The .h file contains a struct definition whose layout parallels the layout of the corresponding class.</code></p>\n<p>I would like to know if it's possible to achieve what I described above with <code>javac -h</code>. If not was it ever possible and if so, what were the reasons for the change? Moreover what alternatives do I have?</p>\n"},{"tags":["java","javac"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1617035526,"post_id":66857977,"comment_id":118182951,"body_markdown":"Yes, just use https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#%3Cinit%3E(java.io.File)","body":"Yes, just use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Scanner.html#%3Cinit%3E(java.io.File)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":10954410,"reputation":112,"user_id":8049704,"display_name":"cMcNerlin"},"score":0,"creation_date":1617035684,"post_id":66857977,"comment_id":118183027,"body_markdown":"If you&#39;re using this just to test your code, you can just hard-code the input into the program itself rather than taking interactive input for the time being.","body":"If you&#39;re using this just to test your code, you can just hard-code the input into the program itself rather than taking interactive input for the time being."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1617036747,"post_id":66857977,"comment_id":118183533,"body_markdown":"So you want your code to contain: `Scanner s = new Scanner(System.in);` but for `s.nextLine()` you want the value to come from a text file rather than the standard input. Is that correct?","body":"So you want your code to contain: <code>Scanner s = new Scanner(System.in);</code> but for <code>s.nextLine()</code> you want the value to come from a text file rather than the standard input. Is that correct?"},{"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"score":0,"creation_date":1617038691,"post_id":66857977,"comment_id":118184330,"body_markdown":"@k314159 I read it but I could not understand how can I use text file can you please help me in understanding&gt;?","body":"@k314159 I read it but I could not understand how can I use text file can you please help me in understanding&gt;?"},{"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"score":0,"creation_date":1617038766,"post_id":66857977,"comment_id":118184360,"body_markdown":"@cMcNerlin I used to do that But code consists of three classes I can&#39;t really hardcore all that stuff with all different possibilities to be evaluated Like number of inputs sentinel values e.t.c. \nAfter it i&#39;d have to replace everything as well!","body":"@cMcNerlin I used to do that But code consists of three classes I can&#39;t really hardcore all that stuff with all different possibilities to be evaluated Like number of inputs sentinel values e.t.c.  After it i&#39;d have to replace everything as well!"},{"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"score":0,"creation_date":1617038806,"post_id":66857977,"comment_id":118184389,"body_markdown":"@Abra Precisely, Like I dont have to enter it time and again but instead it automatically fetches from text file!","body":"@Abra Precisely, Like I dont have to enter it time and again but instead it automatically fetches from text file!"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1617038815,"post_id":66857977,"comment_id":118184393,"body_markdown":"`Scanner in = new Scanner(new File(&quot;input.txt&quot;));`","body":"<code>Scanner in = new Scanner(new File(&quot;input.txt&quot;));</code>"},{"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"score":0,"creation_date":1617038961,"post_id":66857977,"comment_id":118184466,"body_markdown":"@k314159 Got it, Thanks \nSo as far as I am getting, File is a class whose object&#39;s constructor takes the filename \nDoes that mean .txt file has to be in same folder as .java file?","body":"@k314159 Got it, Thanks  So as far as I am getting, File is a class whose object&#39;s constructor takes the filename  Does that mean .txt file has to be in same folder as .java file?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1617039113,"post_id":66857977,"comment_id":118184538,"body_markdown":"It should be in the directory from which you run your program. Which directory that is, depends on a lot of things. You&#39;ll need to read documentation of your IDE, if you&#39;re using one, or just by trial and error.","body":"It should be in the directory from which you run your program. Which directory that is, depends on a lot of things. You&#39;ll need to read documentation of your IDE, if you&#39;re using one, or just by trial and error."},{"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"score":0,"creation_date":1617090245,"post_id":66857977,"comment_id":118198469,"body_markdown":"Got it, So that means without changing the Scanner class its impossible to provide the input by a .txt file by using some javac command unlike gcc?","body":"Got it, So that means without changing the Scanner class its impossible to provide the input by a .txt file by using some javac command unlike gcc?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1617091540,"post_id":66857977,"comment_id":118199066,"body_markdown":"You can redirect stdin with java just like with any other command. `java MyApp &lt; input.txt`.","body":"You can redirect stdin with java just like with any other command. <code>java MyApp &lt; input.txt</code>."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617091260,"creation_date":1617091260,"answer_id":66866922,"question_id":66857977,"body_markdown":"If you want to be able to run the same code, unchanged, for either getting user input via standard input or via a file, I suggest defining a &quot;system&quot; property as a flag to determine where user input comes from, depending on whether the property is defined or not.\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Paths;\r\nimport java.util.Scanner;\r\n\r\npublic class Testings {\r\n    public static void main(String[] args) throws IOException {\r\n        String redirect = System.getProperty(&quot;REDIRECT&quot;);\r\n        Scanner scanner;\r\n        if (redirect != null) {\r\n            scanner = new Scanner(Paths.get(&quot;&quot;, args));\r\n        }\r\n        else {\r\n            scanner = new Scanner(System.in);\r\n        }\r\n        if (scanner.hasNextLine()) {\r\n            System.out.println(scanner.nextLine());\r\n        }\r\n        if (redirect != null) {\r\n            scanner.close();\r\n        }\r\n    }\r\n}\r\n```\r\nIf you want input from a file, rather than from standard input, use the following command to run the code.\r\n```none\r\njava -DREDIRECT Testings path/to/file.txt\r\n```\r\nIf you want input from the user, via the keyboard then remove `-DREDIRECT`, i.e.\r\n```none\r\njava Testings\r\n```\r\nSince you are not getting input from the file, no need to provide a path.\r\n\r\nNote that if you are using an IDE, then it should provide the ability to define a &quot;system&quot; property as above. Also note that the property name can be *anything*. I simply (and arbitrarily) chose REDIRECT. Remember though, that it is case sensitive.\r\n\r\nAlternatively, you can redirect `System.in`.\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.Scanner;\r\n\r\npublic class Testings {\r\n    private static void redirect(String[] args) throws IOException {\r\n        Path path = Paths.get(&quot;&quot;, args);\r\n        InputStream is = Files.newInputStream(path);\r\n        System.setIn(is);\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String redirect = System.getProperty(&quot;REDIRECT&quot;);\r\n        Scanner scanner;\r\n        if (redirect != null) {\r\n            redirect(args);\r\n        }\r\n        scanner = new Scanner(System.in);\r\n        if (scanner.hasNextLine()) {\r\n            System.out.println(scanner.nextLine());\r\n        }\r\n    }\r\n}\r\n```\r\nRegarding the file that you use for input, the path to the file can be either relative or absolute. If it is relative, then it is relative to the current working directory which is the value returned by the following code:\r\n```java\r\nSystem.getProperty(&quot;user.dir&quot;);\r\n```\r\nAlternatively, you could make the file a [resource][1] which would mean that the path is relative to the CLASSPATH.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html","title":"How to provide the input data for Scanner class from a text file instead of keyboard in java?","body":"<p>If you want to be able to run the same code, unchanged, for either getting user input via standard input or via a file, I suggest defining a &quot;system&quot; property as a flag to determine where user input comes from, depending on whether the property is defined or not.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Paths;\nimport java.util.Scanner;\n\npublic class Testings {\n    public static void main(String[] args) throws IOException {\n        String redirect = System.getProperty(&quot;REDIRECT&quot;);\n        Scanner scanner;\n        if (redirect != null) {\n            scanner = new Scanner(Paths.get(&quot;&quot;, args));\n        }\n        else {\n            scanner = new Scanner(System.in);\n        }\n        if (scanner.hasNextLine()) {\n            System.out.println(scanner.nextLine());\n        }\n        if (redirect != null) {\n            scanner.close();\n        }\n    }\n}\n</code></pre>\n<p>If you want input from a file, rather than from standard input, use the following command to run the code.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -DREDIRECT Testings path/to/file.txt\n</code></pre>\n<p>If you want input from the user, via the keyboard then remove <code>-DREDIRECT</code>, i.e.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java Testings\n</code></pre>\n<p>Since you are not getting input from the file, no need to provide a path.</p>\n<p>Note that if you are using an IDE, then it should provide the ability to define a &quot;system&quot; property as above. Also note that the property name can be <em>anything</em>. I simply (and arbitrarily) chose REDIRECT. Remember though, that it is case sensitive.</p>\n<p>Alternatively, you can redirect <code>System.in</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Scanner;\n\npublic class Testings {\n    private static void redirect(String[] args) throws IOException {\n        Path path = Paths.get(&quot;&quot;, args);\n        InputStream is = Files.newInputStream(path);\n        System.setIn(is);\n    }\n\n    public static void main(String[] args) throws IOException {\n        String redirect = System.getProperty(&quot;REDIRECT&quot;);\n        Scanner scanner;\n        if (redirect != null) {\n            redirect(args);\n        }\n        scanner = new Scanner(System.in);\n        if (scanner.hasNextLine()) {\n            System.out.println(scanner.nextLine());\n        }\n    }\n}\n</code></pre>\n<p>Regarding the file that you use for input, the path to the file can be either relative or absolute. If it is relative, then it is relative to the current working directory which is the value returned by the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.getProperty(&quot;user.dir&quot;);\n</code></pre>\n<p>Alternatively, you could make the file a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/lang/resources.html\" rel=\"nofollow noreferrer\">resource</a> which would mean that the path is relative to the CLASSPATH.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659412113,"creation_date":1659412113,"answer_id":73201782,"question_id":66857977,"body_markdown":"Once you&#39;ve created a new Scanner using `System.in`, you can send data to that program in at least three ways.\r\n\r\n### Example code\r\n\r\nHere&#39;s an example bit of code. It reads three lines of text from `System.in`, then prints all three lines.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class SystemInExample {\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        String one = scanner.nextLine();\r\n        String two = scanner.nextLine();\r\n        String three = scanner.nextLine();\r\n\r\n        System.out.println(&quot;one: &quot; + one);\r\n        System.out.println(&quot;two: &quot; + two);\r\n        System.out.println(&quot;three: &quot; + three);\r\n    }\r\n}\r\n```\r\n\r\n### Providing input in three ways\r\n\r\n1. Here&#39;s a sample run where I typed in three lines of text, then it parroted the lines back out.\r\n\t```\r\n\taaaaaaa\r\n\tbbbbbbb\r\n\tccccccc\r\n\tone: aaaaaaa\r\n\ttwo: bbbbbbb\r\n\tthree: ccccccc\r\n\t```\r\n1. Here&#39;s a variation using a pipe:\r\n\t* use a text file (&quot;input.txt&quot;) which has three lines of text\r\n\t\t```\r\n\t\t% cat input.txt \r\n\t\tone one one\r\n\t\ttwo two two\r\n\t\tthree three three\r\n\t\t```\r\n\t* use `cat` to send the contents of that file to a pipe\r\n\t* the piped output goes to the Java program, which I ran using [&quot;java&quot; to compile+run in one step](https://stackoverflow.com/a/58086598/11374957)  no &quot;javac&quot;\r\n\t\t```\r\n\t\t% cat input.txt | java SystemInExample.java\r\n\t\tone: one one one\r\n\t\ttwo: two two two\r\n\t\tthree: three three three\r\n\t\t```\r\n1. Here&#39;s another variation using a redirect:\r\n\t* use the same text file\r\n\t* run the program (again, JEP 330-style)\r\n\t* use `&lt;` to direct the file contents to `stdin` for the program\r\n\t\t```\r\n\t\t% java SystemInExample.java &lt; input.txt \r\n\t\tone: one one one\r\n\t\ttwo: two two two\r\n\t\tthree: three three three\r\n\t\t```\r\n\r\n----\r\n\r\nThe above variations should work fine on mac/unix/linux. If you&#39;re using Windows, this probably wouldn&#39;t work without modifications.\r\n","title":"How to provide the input data for Scanner class from a text file instead of keyboard in java?","body":"<p>Once you've created a new Scanner using <code>System.in</code>, you can send data to that program in at least three ways.</p>\n<h3>Example code</h3>\n<p>Here's an example bit of code. It reads three lines of text from <code>System.in</code>, then prints all three lines.</p>\n<pre><code>import java.util.Scanner;\n\npublic class SystemInExample {\n    public static void main(String[] args) throws Exception {\n        Scanner scanner = new Scanner(System.in);\n\n        String one = scanner.nextLine();\n        String two = scanner.nextLine();\n        String three = scanner.nextLine();\n\n        System.out.println(&quot;one: &quot; + one);\n        System.out.println(&quot;two: &quot; + two);\n        System.out.println(&quot;three: &quot; + three);\n    }\n}\n</code></pre>\n<h3>Providing input in three ways</h3>\n<ol>\n<li>Here's a sample run where I typed in three lines of text, then it parroted the lines back out.\n<pre><code>aaaaaaa\nbbbbbbb\nccccccc\none: aaaaaaa\ntwo: bbbbbbb\nthree: ccccccc\n</code></pre>\n</li>\n<li>Here's a variation using a pipe:\n<ul>\n<li>use a text file (&quot;input.txt&quot;) which has three lines of text\n<pre><code>% cat input.txt \none one one\ntwo two two\nthree three three\n</code></pre>\n</li>\n<li>use <code>cat</code> to send the contents of that file to a pipe</li>\n<li>the piped output goes to the Java program, which I ran using <a href=\"https://stackoverflow.com/a/58086598/11374957\">&quot;java&quot; to compile+run in one step</a>  no &quot;javac&quot;\n<pre><code>% cat input.txt | java SystemInExample.java\none: one one one\ntwo: two two two\nthree: three three three\n</code></pre>\n</li>\n</ul>\n</li>\n<li>Here's another variation using a redirect:\n<ul>\n<li>use the same text file</li>\n<li>run the program (again, JEP 330-style)</li>\n<li>use <code>&lt;</code> to direct the file contents to <code>stdin</code> for the program\n<pre><code>% java SystemInExample.java &lt; input.txt \none: one one one\ntwo: two two two\nthree: three three three\n</code></pre>\n</li>\n</ul>\n</li>\n</ol>\n<hr />\n<p>The above variations should work fine on mac/unix/linux. If you're using Windows, this probably wouldn't work without modifications.</p>\n"}],"owner":{"account_id":17068728,"reputation":45,"user_id":12756431,"display_name":"huzaifa imran"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66866922,"answer_count":2,"score":1,"last_activity_date":1659412113,"creation_date":1617035345,"question_id":66857977,"body_markdown":"I want to provide the series of inputs of my program from a text file so that I do not have to give input time and again, how can I do this using &quot;javac&quot;?\r\n\r\nI used to do this in C/C++ Programs and it looked like as far as I remember gcc &lt;sample.txt&gt; filname.exe and it was called batch processing as told by my professor.\r\n\r\nIs there any way to do the same with javac or by using some tweak in VS Code so that I do not have to give input from keyboard every time I run the program?\r\n\r\nThank You!","title":"How to provide the input data for Scanner class from a text file instead of keyboard in java?","body":"<p>I want to provide the series of inputs of my program from a text file so that I do not have to give input time and again, how can I do this using &quot;javac&quot;?</p>\n<p>I used to do this in C/C++ Programs and it looked like as far as I remember gcc &lt;sample.txt&gt; filname.exe and it was called batch processing as told by my professor.</p>\n<p>Is there any way to do the same with javac or by using some tweak in VS Code so that I do not have to give input from keyboard every time I run the program?</p>\n<p>Thank You!</p>\n"},{"tags":["java","amazon-web-services","amazon-ec2"],"comments":[{"owner":{"account_id":58377,"reputation":247890,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1659412034,"post_id":73201541,"comment_id":129282558,"body_markdown":"Tags are not available via EC2 Instance Metadata. You would need to get `DescribeInstances()` to obtain instance and tag information. You can probably filter it to only return instances that belong to an Auto Scaling Group -- Auto Scaling adds tags to the instance to identify which Auto Scaling group &#39;owns&#39; the instance.","body":"Tags are not available via EC2 Instance Metadata. You would need to get <code>DescribeInstances()</code> to obtain instance and tag information. You can probably filter it to only return instances that belong to an Auto Scaling Group -- Auto Scaling adds tags to the instance to identify which Auto Scaling group &#39;owns&#39; the instance."},{"owner":{"account_id":81630,"reputation":8522,"user_id":230055,"accept_rate":67,"display_name":"Shawn"},"score":0,"creation_date":1684861011,"post_id":73201541,"comment_id":134578108,"body_markdown":"You can now access tags via EC2 Instance Metadata if you enable the option for it.  See https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html#allow-access-to-tags-in-IMDS and https://aws.amazon.com/about-aws/whats-new/2022/01/instance-tags-amazon-ec2-instance-metadata-service/","body":"You can now access tags via EC2 Instance Metadata if you enable the option for it.  See <a href=\"https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html#allow-access-to-tags-in-IMDS\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AWSEC2/latest/UserGuide/&hellip;</a> and <a href=\"https://aws.amazon.com/about-aws/whats-new/2022/01/instance-tags-amazon-ec2-instance-metadata-service/\" rel=\"nofollow noreferrer\">aws.amazon.com/about-aws/whats-new/2022/01/&hellip;</a>"}],"owner":{"account_id":3590390,"reputation":1,"user_id":19294795,"display_name":"user19294795"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659411953,"creation_date":1659409340,"question_id":73201541,"body_markdown":"Using the AWS Java sdk and EC2MetaData, how can you get the ASG tags for an EC2 instance belonging to the ASG?","title":"How can you ASG tags for an EC2 instance in the ASG using EC2MetaData and AWS java SDK?","body":"<p>Using the AWS Java sdk and EC2MetaData, how can you get the ASG tags for an EC2 instance belonging to the ASG?</p>\n"},{"tags":["java","unicode","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1488563475,"post_id":42584459,"comment_id":72303129,"body_markdown":"What version are you using? The latest is 2.0.4, so please retry with that just to be sure. Does this effect also happen with ordinary fonts like Arial? How did you create the font object?","body":"What version are you using? The latest is 2.0.4, so please retry with that just to be sure. Does this effect also happen with ordinary fonts like Arial? How did you create the font object?"},{"owner":{"account_id":10268397,"reputation":161,"user_id":7577603,"display_name":"Kate Barnett"},"score":0,"creation_date":1488564635,"post_id":42584459,"comment_id":72303668,"body_markdown":"@TilmanHausherr I&#39;m using 2.0.4. I&#39;ve tested with a couple of other standard fonts and the problem still persists. I&#39;ve added the code that creates the currentFont object.","body":"@TilmanHausherr I&#39;m using 2.0.4. I&#39;ve tested with a couple of other standard fonts and the problem still persists. I&#39;ve added the code that creates the currentFont object."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1488568460,"post_id":42584459,"comment_id":72305522,"body_markdown":"I created a simple test and yes it happens with Arial too. I assume that the bug is in hasGlyph, or that the parameter in hasGlyph isn&#39;t what one would think. For you, the best would be to call font.encode() with every character and to catch the IllegalArgumentException, to know whether the character is supported or not. This way you&#39;d know for sure. I&#39;ll create an issue in JIRA at a later time.","body":"I created a simple test and yes it happens with Arial too. I assume that the bug is in hasGlyph, or that the parameter in hasGlyph isn&#39;t what one would think. For you, the best would be to call font.encode() with every character and to catch the IllegalArgumentException, to know whether the character is supported or not. This way you&#39;d know for sure. I&#39;ll create an issue in JIRA at a later time."},{"owner":{"account_id":10268397,"reputation":161,"user_id":7577603,"display_name":"Kate Barnett"},"score":0,"creation_date":1488573464,"post_id":42584459,"comment_id":72308160,"body_markdown":"@TilmanHausherr okay, thank you. I think that&#39;s the best option. I dug further and for some reason the value of the character is in the CMap in PDType0Font, but not in the CMapSubtable in PDCIDFontType2, so getGlyphId returns 0, causing the exception.","body":"@TilmanHausherr okay, thank you. I think that&#39;s the best option. I dug further and for some reason the value of the character is in the CMap in PDType0Font, but not in the CMapSubtable in PDCIDFontType2, so getGlyphId returns 0, causing the exception."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1488575049,"post_id":42584459,"comment_id":72308941,"body_markdown":"I&#39;ve created https://issues.apache.org/jira/browse/PDFBOX-3708 . If you register in JIRA you can follow any developments. If you want, you can answer the question here yourself with your workaround, so that it helps others, I&#39;m a bit busy and have enough points here :-)","body":"I&#39;ve created <a href=\"https://issues.apache.org/jira/browse/PDFBOX-3708\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-3708</a> . If you register in JIRA you can follow any developments. If you want, you can answer the question here yourself with your workaround, so that it helps others, I&#39;m a bit busy and have enough points here :-)"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1488710016,"post_id":42584459,"comment_id":72344139,"body_markdown":"Update: it&#39;s a documentation flaw. The &quot;code&quot; isn&#39;t unicode, it&#39;s an internal PDF code.","body":"Update: it&#39;s a documentation flaw. The &quot;code&quot; isn&#39;t unicode, it&#39;s an internal PDF code."},{"owner":{"account_id":10268397,"reputation":161,"user_id":7577603,"display_name":"Kate Barnett"},"score":0,"creation_date":1488812600,"post_id":42584459,"comment_id":72385631,"body_markdown":"@TilmanHausherr thanks!","body":"@TilmanHausherr thanks!"}],"answers":[{"tags":[],"owner":{"account_id":10268397,"reputation":161,"user_id":7577603,"display_name":"Kate Barnett"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1659410782,"creation_date":1488812515,"answer_id":42628848,"question_id":42584459,"body_markdown":"As explained in the comments above, `hasGlyph()` is not meant to accept unicode characters as a parameter. So if you need to check whether a character can be encoded before writing it, you can do something like this:\r\n    \r\n    private void writeTextWithSymbol (String text) throws IOException {\r\n        StringBuilder nonSymbolBuffer = new StringBuilder();\r\n        for (char character : text.toCharArray()) {\r\n            if (isCharacterEncodeable(character)) {\r\n                nonSymbolBuffer.append(character);\r\n            } else {\r\n                //handle writing line with symbols...\r\n            }\r\n        }\r\n        if (nonSymbolBuffer.length() &gt; 0) {\r\n            content.showText(nonSymbolBuffer.toString());\r\n        }\r\n    }\r\n\r\n    private boolean isCharacterEncodeable (char character) {\r\n        try {\r\n            currentFont.encode(Character.toString(character));\r\n            return true;\r\n        } catch (IllegalArgumentException iae) {\r\n            LOGGER.trace(&quot;Character cannot be encoded&quot;, iae);\r\n            return false;\r\n        }\r\n    }","title":"PDFBox hasGlyph() returns true for unsupported unicode control characters","body":"<p>As explained in the comments above, <code>hasGlyph()</code> is not meant to accept unicode characters as a parameter. So if you need to check whether a character can be encoded before writing it, you can do something like this:</p>\n<pre><code>private void writeTextWithSymbol (String text) throws IOException {\n    StringBuilder nonSymbolBuffer = new StringBuilder();\n    for (char character : text.toCharArray()) {\n        if (isCharacterEncodeable(character)) {\n            nonSymbolBuffer.append(character);\n        } else {\n            //handle writing line with symbols...\n        }\n    }\n    if (nonSymbolBuffer.length() &gt; 0) {\n        content.showText(nonSymbolBuffer.toString());\n    }\n}\n\nprivate boolean isCharacterEncodeable (char character) {\n    try {\n        currentFont.encode(Character.toString(character));\n        return true;\n    } catch (IllegalArgumentException iae) {\n        LOGGER.trace(&quot;Character cannot be encoded&quot;, iae);\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10268397,"reputation":161,"user_id":7577603,"display_name":"Kate Barnett"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2605,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":42628848,"answer_count":1,"score":5,"last_activity_date":1659410782,"creation_date":1488560027,"question_id":42584459,"body_markdown":"I&#39;m using Apache&#39;s PDFBox library to write a PdfDocumentBuilder class. I&#39;m using `currentFont.hasGlyph(character)` to check if a character has a glyph before attempting to write it to the file. The problem is that when the character is a unicode control character like `&#39;\\u001f&#39;`, `hasGlyph()` returns true, causing an exception to be thrown by `encode()` when writing (see PdfDocumentBuilder code and stack trace below for reference). \r\n\r\nI did some research and it appears these unicode control characters are not supported for the font I&#39;m using (Courier Prime).\r\n\r\nSo why does `hasGlyph()` return true for unicode control characters when they are not supported? Of course I could strip the control characters from the line with a simple `replaceAll` before I enter the `writeTextWithSymbol()` method, but if the `hasGlyph()` method isn&#39;t working as I expect it to, I have a bigger problem.\r\n\r\nPdfDocumentBuilder:\r\n\r\n    private final PDType0Font baseFont;\r\n    private PDType0Font currentFont;   \r\n\r\n    public PdfDocumentBuilder () {\r\n        baseFont = PDType0Font.load(doc, this.getClass().getResourceAsStream(&quot;/CourierPrime.ttf&quot;));\r\n        currentFont = baseFont;\r\n    }\r\n\r\n    private void writeTextWithSymbol (String text) throws IOException {\r\n        StringBuilder nonSymbolBuffer = new StringBuilder();\r\n        for (char character : text.toCharArray()) {\r\n            if (currentFont.hasGlyph(character)) {\r\n                nonSymbolBuffer.append(character);\r\n            } else {\r\n                //handling writing line with symbols...\r\n            }\r\n        }\r\n        if (nonSymbolBuffer.length() &gt; 0) {\r\n            content.showText(nonSymbolBuffer.toString());\r\n        }\r\n    }\r\n\r\nStack trace:\r\n\r\n    java.lang.IllegalArgumentException: No glyph for U+001F in font CourierPrime\r\n    at org.apache.pdfbox.pdmodel.font.PDCIDFontType2.encode(PDCIDFontType2.java:400)\r\n    at org.apache.pdfbox.pdmodel.font.PDType0Font.encode(PDType0Font.java:351)\r\n    at org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:316)\r\n    at org.apache.pdfbox.pdmodel.PDPageContentStream.showText(PDPageContentStream.java:414)\r\n    at org.main.export.PdfDocumentBuilder.writeTextWithSymbol(PdfDocumentBuilder.java:193)","title":"PDFBox hasGlyph() returns true for unsupported unicode control characters","body":"<p>I'm using Apache's PDFBox library to write a PdfDocumentBuilder class. I'm using <code>currentFont.hasGlyph(character)</code> to check if a character has a glyph before attempting to write it to the file. The problem is that when the character is a unicode control character like <code>'\\u001f'</code>, <code>hasGlyph()</code> returns true, causing an exception to be thrown by <code>encode()</code> when writing (see PdfDocumentBuilder code and stack trace below for reference). </p>\n\n<p>I did some research and it appears these unicode control characters are not supported for the font I'm using (Courier Prime).</p>\n\n<p>So why does <code>hasGlyph()</code> return true for unicode control characters when they are not supported? Of course I could strip the control characters from the line with a simple <code>replaceAll</code> before I enter the <code>writeTextWithSymbol()</code> method, but if the <code>hasGlyph()</code> method isn't working as I expect it to, I have a bigger problem.</p>\n\n<p>PdfDocumentBuilder:</p>\n\n<pre><code>private final PDType0Font baseFont;\nprivate PDType0Font currentFont;   \n\npublic PdfDocumentBuilder () {\n    baseFont = PDType0Font.load(doc, this.getClass().getResourceAsStream(\"/CourierPrime.ttf\"));\n    currentFont = baseFont;\n}\n\nprivate void writeTextWithSymbol (String text) throws IOException {\n    StringBuilder nonSymbolBuffer = new StringBuilder();\n    for (char character : text.toCharArray()) {\n        if (currentFont.hasGlyph(character)) {\n            nonSymbolBuffer.append(character);\n        } else {\n            //handling writing line with symbols...\n        }\n    }\n    if (nonSymbolBuffer.length() &gt; 0) {\n        content.showText(nonSymbolBuffer.toString());\n    }\n}\n</code></pre>\n\n<p>Stack trace:</p>\n\n<pre><code>java.lang.IllegalArgumentException: No glyph for U+001F in font CourierPrime\nat org.apache.pdfbox.pdmodel.font.PDCIDFontType2.encode(PDCIDFontType2.java:400)\nat org.apache.pdfbox.pdmodel.font.PDType0Font.encode(PDType0Font.java:351)\nat org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:316)\nat org.apache.pdfbox.pdmodel.PDPageContentStream.showText(PDPageContentStream.java:414)\nat org.main.export.PdfDocumentBuilder.writeTextWithSymbol(PdfDocumentBuilder.java:193)\n</code></pre>\n"},{"tags":["java","algorithm","sorting","quicksort"],"answers":[{"tags":[],"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659409532,"creation_date":1659373321,"answer_id":73197186,"question_id":73181774,"body_markdown":"This variation of a post increment | post decrement Hoare partition scheme doesn&#39;t seem to have the issue:\r\n\r\n    void QuickSort(int *a, int lo, int hi)\r\n    {\r\n    int i, j;\r\n    int p, t;\r\n        if(lo &gt;= hi)\r\n            return;\r\n        p = a[lo + (hi-lo)/2];\r\n        i = lo;\r\n        j = hi;\r\n        while (i &lt;= j){\r\n            while (a[i] &lt; p)i++;\r\n            while (a[j] &gt; p)j--;\r\n                if (i &gt; j)\r\n                    break;\r\n                t = a[i];\r\n                a[i] = a[j];\r\n                a[j] = t;\r\n                i++;\r\n                j--;\r\n        }\r\n        QuickSort(a, lo, j);\r\n        QuickSort(a, i, hi);\r\n    }\r\n\r\n - - -\r\n\r\nClassic Hoare partition scheme uses pre-increment | post-increment and may fail with infinite recursion if the last element is used for pivot:\r\n\r\n    void QuickSort(int a[], int lo, int hi)\r\n    {\r\n        if(lo &gt;= hi)\r\n            return;\r\n        int p = a[lo+(hi-lo)/2];\r\n        int i = lo-1;\r\n        int j = hi+1;\r\n        while(1){\r\n            while (a[++i] &lt; p);\r\n            while (a[--j] &gt; p);\r\n            if(i &gt;= j)\r\n                break;\r\n            int t = a[i];\r\n            a[i] = a[j];\r\n            a[j] = t;\r\n        }\r\n        i = j++;\r\n        QuickSort(a, lo, i);\r\n        QuickSort(a, j, hi);\r\n    }\r\n","title":"Why we cannot starting partition from the same side of the pivot in quicksort?","body":"<p>This variation of a post increment | post decrement Hoare partition scheme doesn't seem to have the issue:</p>\n<pre><code>void QuickSort(int *a, int lo, int hi)\n{\nint i, j;\nint p, t;\n    if(lo &gt;= hi)\n        return;\n    p = a[lo + (hi-lo)/2];\n    i = lo;\n    j = hi;\n    while (i &lt;= j){\n        while (a[i] &lt; p)i++;\n        while (a[j] &gt; p)j--;\n            if (i &gt; j)\n                break;\n            t = a[i];\n            a[i] = a[j];\n            a[j] = t;\n            i++;\n            j--;\n    }\n    QuickSort(a, lo, j);\n    QuickSort(a, i, hi);\n}\n</code></pre>\n<hr />\n<p>Classic Hoare partition scheme uses pre-increment | post-increment and may fail with infinite recursion if the last element is used for pivot:</p>\n<pre><code>void QuickSort(int a[], int lo, int hi)\n{\n    if(lo &gt;= hi)\n        return;\n    int p = a[lo+(hi-lo)/2];\n    int i = lo-1;\n    int j = hi+1;\n    while(1){\n        while (a[++i] &lt; p);\n        while (a[--j] &gt; p);\n        if(i &gt;= j)\n            break;\n        int t = a[i];\n        a[i] = a[j];\n        a[j] = t;\n    }\n    i = j++;\n    QuickSort(a, lo, i);\n    QuickSort(a, j, hi);\n}\n</code></pre>\n"}],"owner":{"account_id":6506530,"reputation":1934,"user_id":5035236,"accept_rate":58,"display_name":"hawarden_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659409532,"creation_date":1659256882,"question_id":73181774,"body_markdown":"I&#39;m implementing quick sort using Hoare&#39;s partition method:\r\n\r\n    private static int partition(int[] arr, int startIndex, int endIndex) {\r\n        int pivot = arr[startIndex];\r\n        int i = startIndex;\r\n        int j = endIndex;\r\n        while (i != j) {\r\n            while (i &lt; j &amp;&amp; arr[i] &lt;= pivot) {\r\n                i++;\r\n            }\r\n            while (i &lt; j &amp;&amp; arr[j] &gt; pivot) {\r\n                j--;\r\n            }\r\n            if (i &lt; j) {\r\n                swap(arr, i, j);\r\n            }\r\n        }\r\n        swap(arr, startIndex, i);\r\n        return i;\r\n    }\r\n\r\nI choose the left element as pivot and starting from the left index, but I found this solution does not work. If I start from right it will work.\r\n\r\nI want to know why we cannot start from the left index when the pivot is the leftmost element ?","title":"Why we cannot starting partition from the same side of the pivot in quicksort?","body":"<p>I'm implementing quick sort using Hoare's partition method:</p>\n<pre><code>private static int partition(int[] arr, int startIndex, int endIndex) {\n    int pivot = arr[startIndex];\n    int i = startIndex;\n    int j = endIndex;\n    while (i != j) {\n        while (i &lt; j &amp;&amp; arr[i] &lt;= pivot) {\n            i++;\n        }\n        while (i &lt; j &amp;&amp; arr[j] &gt; pivot) {\n            j--;\n        }\n        if (i &lt; j) {\n            swap(arr, i, j);\n        }\n    }\n    swap(arr, startIndex, i);\n    return i;\n}\n</code></pre>\n<p>I choose the left element as pivot and starting from the left index, but I found this solution does not work. If I start from right it will work.</p>\n<p>I want to know why we cannot start from the left index when the pivot is the leftmost element ?</p>\n"},{"tags":["java","json","groovy","cucumber","export-to-csv"],"owner":{"account_id":24907656,"reputation":11,"user_id":18777533,"display_name":"Disnake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659408693,"creation_date":1659408693,"question_id":73201480,"body_markdown":"I&#39;m new to automation and using Java/groovy for scripting for the first time. I&#39;m trying to interact with the cucumber reports generated after the workflow run. \r\n\r\n    def zipFile = new java.util.zip.ZipFile(new File(&#39;cucumber-report.zip&#39;))\r\n    def zipFileObjects = []\r\n    zipFile.entries().each {\r\n    zipFileObjects = new JsonSlurper().parseText(zipFile.getInputStream(it).text)\r\n    print(zipFileObjects)\r\n\r\nManaged to access the cucumber reports, unzip them, and convert them to objects.\r\nThe test run contains multiple feature runs. How can I store the information into a CSV based on their feature name, run id, and status(passed/failed)? \r\n\r\nAny documents that I can refer to learn more about this?\r\n\r\nThanks in advance.  \r\n\r\n \r\n\r\n","title":"Extracting details from cucumber reports for Github workflow run using Java/Groovy","body":"<p>I'm new to automation and using Java/groovy for scripting for the first time. I'm trying to interact with the cucumber reports generated after the workflow run.</p>\n<pre><code>def zipFile = new java.util.zip.ZipFile(new File('cucumber-report.zip'))\ndef zipFileObjects = []\nzipFile.entries().each {\nzipFileObjects = new JsonSlurper().parseText(zipFile.getInputStream(it).text)\nprint(zipFileObjects)\n</code></pre>\n<p>Managed to access the cucumber reports, unzip them, and convert them to objects.\nThe test run contains multiple feature runs. How can I store the information into a CSV based on their feature name, run id, and status(passed/failed)?</p>\n<p>Any documents that I can refer to learn more about this?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","c#",".net","itext"],"comments":[{"owner":{"account_id":3838048,"reputation":37100,"user_id":3181933,"accept_rate":78,"display_name":"ProgrammingLlama"},"score":1,"creation_date":1659409122,"post_id":73201471,"comment_id":129282139,"body_markdown":"And what is the problem you have with the code you have already?","body":"And what is the problem you have with the code you have already?"},{"owner":{"account_id":24582264,"reputation":31,"user_id":18487208,"display_name":"dmonroy100"},"score":0,"creation_date":1659411009,"post_id":73201471,"comment_id":129282415,"body_markdown":"The problem is that the output is a broken PDF Document. Therefore, I am assuming that this LINQ code that I wrote with C# is not equivalent to the Java code. I hope this makes sense.","body":"The problem is that the output is a broken PDF Document. Therefore, I am assuming that this LINQ code that I wrote with C# is not equivalent to the Java code. I hope this makes sense."},{"owner":{"account_id":3838048,"reputation":37100,"user_id":3181933,"accept_rate":78,"display_name":"ProgrammingLlama"},"score":0,"creation_date":1659411086,"post_id":73201471,"comment_id":129282426,"body_markdown":"My suggestion would be to take the same PDF with both pieces of code, and then compare what the resulting Dictionary/Map contains between Java and C#.","body":"My suggestion would be to take the same PDF with both pieces of code, and then compare what the resulting Dictionary/Map contains between Java and C#."},{"owner":{"account_id":24582264,"reputation":31,"user_id":18487208,"display_name":"dmonroy100"},"score":0,"creation_date":1659412312,"post_id":73201471,"comment_id":129282603,"body_markdown":"I am currently doing that, I just wanted to see if anyone had any experience with translating Java lambda expressions (.stream(), .filter(), collect() methods) to C#","body":"I am currently doing that, I just wanted to see if anyone had any experience with translating Java lambda expressions (.stream(), .filter(), collect() methods) to C#"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1659416399,"post_id":73201471,"comment_id":129283168,"body_markdown":"Essentially the only thing you do to the document here is removing annotations after collecting appearances of stamp and free text annotations. Is your pdf broken in respect to any of these? (The only real difference i see at first glance is the way you remove annotations, and in both variants you manipulate a collection while iterating over it, something that may cause trouble depending on the underlying collection. )","body":"Essentially the only thing you do to the document here is removing annotations after collecting appearances of stamp and free text annotations. Is your pdf broken in respect to any of these? (The only real difference i see at first glance is the way you remove annotations, and in both variants you manipulate a collection while iterating over it, something that may cause trouble depending on the underlying collection. )"}],"owner":{"account_id":24582264,"reputation":31,"user_id":18487208,"display_name":"dmonroy100"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1659408616,"creation_date":1659408616,"question_id":73201471,"body_markdown":"I am currently trying to convert this piece of Java, which contains Lambda Expressions (.stream(), .filter(), collect() methods) code to C# LINQ code:\r\n\r\nJava Code:\r\n\r\n            Map&lt;Rectangle, PdfStream&gt; highlightStreams = page.getAnnotations()\r\n                .stream()\r\n                .filter((a) -&gt; (PdfName.Stamp.equals(a.getSubtype()) || PdfName.FreeText.equals(a.getSubtype())) &amp;&amp; a.getNormalAppearanceObject().isStream())\r\n                .collect(\r\n                        Collectors.toMap(\r\n                                a -&gt; a.getRectangle().toRectangle(),\r\n                                a -&gt; (PdfStream) a.getNormalAppearanceObject()\r\n                        ));\r\n        page.getAnnotations().forEach(page::removeAnnotation);\r\n\r\n\r\nHere is the C# that I have so far. Some of the API classes are from iText7. I would like some help on it if possible please on how this can be translated to C#.\r\n\r\nC# Code:\r\n\r\n                Dictionary&lt;Rectangle, PdfStream&gt; highlightStreams = page.GetAnnotations()\r\n                .Where(\r\n                    (a) =&gt; (PdfName.Stamp.Equals(a.GetSubtype()) || PdfName.FreeText.Equals(a.GetSubtype()))\r\n                           &amp;&amp; a.GetNormalAppearanceObject().IsStream())\r\n                .ToDictionary(a =&gt; a.GetRectangle().ToRectangle(), \r\n                    a =&gt; (PdfStream) a.GetNormalAppearanceObject());\r\n\r\n            foreach (var pdfAnnotation in page.GetAnnotations())\r\n            {\r\n                page.RemoveAnnotation(pdfAnnotation);\r\n            }","title":"Java Lambda Expression to C# Translation","body":"<p>I am currently trying to convert this piece of Java, which contains Lambda Expressions (.stream(), .filter(), collect() methods) code to C# LINQ code:</p>\n<p>Java Code:</p>\n<pre><code>        Map&lt;Rectangle, PdfStream&gt; highlightStreams = page.getAnnotations()\n            .stream()\n            .filter((a) -&gt; (PdfName.Stamp.equals(a.getSubtype()) || PdfName.FreeText.equals(a.getSubtype())) &amp;&amp; a.getNormalAppearanceObject().isStream())\n            .collect(\n                    Collectors.toMap(\n                            a -&gt; a.getRectangle().toRectangle(),\n                            a -&gt; (PdfStream) a.getNormalAppearanceObject()\n                    ));\n    page.getAnnotations().forEach(page::removeAnnotation);\n</code></pre>\n<p>Here is the C# that I have so far. Some of the API classes are from iText7. I would like some help on it if possible please on how this can be translated to C#.</p>\n<p>C# Code:</p>\n<pre><code>            Dictionary&lt;Rectangle, PdfStream&gt; highlightStreams = page.GetAnnotations()\n            .Where(\n                (a) =&gt; (PdfName.Stamp.Equals(a.GetSubtype()) || PdfName.FreeText.Equals(a.GetSubtype()))\n                       &amp;&amp; a.GetNormalAppearanceObject().IsStream())\n            .ToDictionary(a =&gt; a.GetRectangle().ToRectangle(), \n                a =&gt; (PdfStream) a.GetNormalAppearanceObject());\n\n        foreach (var pdfAnnotation in page.GetAnnotations())\n        {\n            page.RemoveAnnotation(pdfAnnotation);\n        }\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1659407598,"post_id":73201292,"comment_id":129281895,"body_markdown":"You want JSON to be in a particular order?   You can&#39;t have it - JSON objects are by definition unordered.  And code that expects a particular order is broken code.","body":"You want JSON to be in a particular order?   You can&#39;t have it - JSON objects are by definition unordered.  And code that expects a particular order is broken code."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1659407807,"post_id":73201292,"comment_id":129281932,"body_markdown":"There are plenty of existing answers saying the same thing. Example: https://stackoverflow.com/questions/28697119/java-json-object-insertion-order-maintenance","body":"There are plenty of existing answers saying the same thing. Example: <a href=\"https://stackoverflow.com/questions/28697119/java-json-object-insertion-order-maintenance\" title=\"java json object insertion order maintenance\">stackoverflow.com/questions/28697119/&hellip;</a>"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1659454615,"post_id":73201292,"comment_id":129296459,"body_markdown":"Does this answer your question? [Java JSON object insertion order maintenance](https://stackoverflow.com/questions/28697119/java-json-object-insertion-order-maintenance)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/28697119/java-json-object-insertion-order-maintenance\">Java JSON object insertion order maintenance</a>"}],"answers":[{"tags":[],"owner":{"account_id":11898165,"reputation":82,"user_id":8706905,"display_name":"SteveHu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659408392,"creation_date":1659408392,"answer_id":73201453,"question_id":73201292,"body_markdown":"What library do you need to serialize Java object to JSON string? If using Jackson, you can use `@JsonPropertyOrder` or `@JsonProperty` with parameter `index`(like `@JsonProperty(index = 1)`) to custom orders of fields.\r\n\r\n\r\nUsing `@JsonPropertyOrder`\r\n```Java\r\n// string array will control the order of fields\r\n@JsonPropertyOrder({&quot;payload&quot;, &quot;header&quot;, &quot;fileID&quot;})\r\npublic class Response {\r\n  private HeaderClass header;\r\n  private PayloadClass payload;\r\n  private String fileID;\r\n}\r\n```\r\nUsing `@JsonProperty`\r\n```Java\r\npublic class Response {\r\n  // index will control the order of field\r\n  @JsonProperty(index = 2)\r\n  private HeaderClass header;\r\n  @JsonProperty(index = 1)\r\n  private PayloadClass payload;\r\n  @JsonProperty(index = 3)\r\n  private String fileID;\r\n}\r\n```\r\n","title":"JSON response how to change object position","body":"<p>What library do you need to serialize Java object to JSON string? If using Jackson, you can use <code>@JsonPropertyOrder</code> or <code>@JsonProperty</code> with parameter <code>index</code>(like <code>@JsonProperty(index = 1)</code>) to custom orders of fields.</p>\n<p>Using <code>@JsonPropertyOrder</code></p>\n<pre><code>// string array will control the order of fields\n@JsonPropertyOrder({&quot;payload&quot;, &quot;header&quot;, &quot;fileID&quot;})\npublic class Response {\n  private HeaderClass header;\n  private PayloadClass payload;\n  private String fileID;\n}\n</code></pre>\n<p>Using <code>@JsonProperty</code></p>\n<pre><code>public class Response {\n  // index will control the order of field\n  @JsonProperty(index = 2)\n  private HeaderClass header;\n  @JsonProperty(index = 1)\n  private PayloadClass payload;\n  @JsonProperty(index = 3)\n  private String fileID;\n}\n</code></pre>\n"}],"owner":{"account_id":414915,"reputation":113,"user_id":789416,"accept_rate":67,"display_name":"John D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1659454615,"accepted_answer_id":73201453,"answer_count":1,"score":-1,"last_activity_date":1659408392,"creation_date":1659406187,"question_id":73201292,"body_markdown":"I am generating below response using java code ( java response Object), I would like to format response , tried changing sequence of object \r\n\r\nExpected output\r\n\r\n    {\r\n    &quot;header&quot;: {\r\n          &quot;specVersion&quot;: &quot;1.0&quot;,\r\n          &quot;correlationId&quot;: &quot;2526a923-6953-4dbc-a000-778f22de339c&quot;,\r\n          &quot;payloadContentType&quot;: &quot;application/json&quot;,\r\n          &quot;id&quot;: &quot;241f6d36-b792-4b61-9526-9d3b6270cc3c&quot;,\r\n          &quot;time&quot;: &quot;2022-08-02 11:01:51.439&quot;,\r\n          &quot;applicationInstanceId&quot;: &quot;v1&quot;\r\n       },\r\n       &quot;payload&quot;: {\r\n          &quot;success&quot;: {\r\n             &quot;code&quot;: 200,\r\n             &quot;message&quot;: &quot;OK&quot;,\r\n                 },\r\n          &quot;failure&quot;: {\r\n             &quot;code&quot;: 0\r\n          },\r\n          &quot;fileUid&quot;: &quot;324343-b792-4b61-9526-9d3b6270cc3c&quot;\r\n       },\r\n       &quot;fileID&quot;: &quot;241f6d36-b792-4b61-9526-9d3b6270cc3c&quot;\r\n    }\r\n\r\n\r\nCurrent output\r\n\r\n\r\n    {\r\n       &quot;payload&quot;: {Sucess and failure block\r\n                    },\r\n       &quot;header&quot;: { header block\r\n       },\r\n       &quot;fileID&quot;: &quot;id&quot;\r\n    }\r\n     ","title":"JSON response how to change object position","body":"<p>I am generating below response using java code ( java response Object), I would like to format response , tried changing sequence of object</p>\n<p>Expected output</p>\n<pre><code>{\n&quot;header&quot;: {\n      &quot;specVersion&quot;: &quot;1.0&quot;,\n      &quot;correlationId&quot;: &quot;2526a923-6953-4dbc-a000-778f22de339c&quot;,\n      &quot;payloadContentType&quot;: &quot;application/json&quot;,\n      &quot;id&quot;: &quot;241f6d36-b792-4b61-9526-9d3b6270cc3c&quot;,\n      &quot;time&quot;: &quot;2022-08-02 11:01:51.439&quot;,\n      &quot;applicationInstanceId&quot;: &quot;v1&quot;\n   },\n   &quot;payload&quot;: {\n      &quot;success&quot;: {\n         &quot;code&quot;: 200,\n         &quot;message&quot;: &quot;OK&quot;,\n             },\n      &quot;failure&quot;: {\n         &quot;code&quot;: 0\n      },\n      &quot;fileUid&quot;: &quot;324343-b792-4b61-9526-9d3b6270cc3c&quot;\n   },\n   &quot;fileID&quot;: &quot;241f6d36-b792-4b61-9526-9d3b6270cc3c&quot;\n}\n</code></pre>\n<p>Current output</p>\n<pre><code>{\n   &quot;payload&quot;: {Sucess and failure block\n                },\n   &quot;header&quot;: { header block\n   },\n   &quot;fileID&quot;: &quot;id&quot;\n}\n \n</code></pre>\n"},{"tags":["java","swing","radio-button"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1659406480,"post_id":73201299,"comment_id":129281744,"body_markdown":"I might consider using a `GridBagLayout` instead","body":"I might consider using a <code>GridBagLayout</code> instead"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1659408473,"post_id":73201299,"comment_id":129282046,"body_markdown":"The issue is that the components you add the the panel using the vertical BoxLayout have different &quot;alignmentX&quot; values which causes the layout issue. The solution (for a BoxLayout) is to make sure you use: `yourComponent.setAlignmentX(Component.CENTER_ALIGNMENT)` for every component you add to the panel. Then they will all be centered. Also, class names should start with an upper case character.","body":"The issue is that the components you add the the panel using the vertical BoxLayout have different &quot;alignmentX&quot; values which causes the layout issue. The solution (for a BoxLayout) is to make sure you use: <code>yourComponent.setAlignmentX(Component.CENTER_ALIGNMENT)</code> for every component you add to the panel. Then they will all be centered. Also, class names should start with an upper case character."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659407136,"creation_date":1659407136,"answer_id":73201370,"question_id":73201299,"body_markdown":"I&#39;d consider using a `GridBagLayout`, for example...\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import javax.swing.ButtonGroup;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JRadioButton;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n            public TestPane() {\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                gbc.insets = new Insets(8, 8, 8, 8);\r\n\r\n                add(makeQuestionPane(&quot;Question One .....................?&quot;, new String[]{&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;}), gbc);\r\n                add(makeQuestionPane(&quot;Question Two .....................?&quot;, new String[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;}), gbc);\r\n            }\r\n\r\n            protected JPanel makeQuestionPane(String question, String[] options) {\r\n                JPanel questionPane = new JPanel(new BorderLayout());\r\n                JLabel label = new JLabel(question, JLabel.CENTER);\r\n                questionPane.add(label, BorderLayout.NORTH);\r\n                ButtonGroup q1BG = new ButtonGroup();\r\n                JPanel optionsPane = new JPanel(new GridBagLayout());\r\n                for (String option : options) {\r\n                    JRadioButton btn = new JRadioButton(option);\r\n                    q1BG.add(btn);\r\n                    optionsPane.add(btn);\r\n                }\r\n                questionPane.add(optionsPane);\r\n\r\n                return questionPane;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nBut remember, you&#39;re not stuck to using a single layout.  For example, the above example uses both a `GridBagLayout` and `BorderLayout` to layout each question pane.\r\n\r\nTake a closer look at [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html)","title":"Radio Button group not centering even with Component.CENTER_ALIGNMENT and no whitespace","body":"<p>I'd consider using a <code>GridBagLayout</code>, for example...</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport javax.swing.ButtonGroup;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = gbc.REMAINDER;\n            gbc.insets = new Insets(8, 8, 8, 8);\n\n            add(makeQuestionPane(&quot;Question One .....................?&quot;, new String[]{&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;}), gbc);\n            add(makeQuestionPane(&quot;Question Two .....................?&quot;, new String[]{&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;}), gbc);\n        }\n\n        protected JPanel makeQuestionPane(String question, String[] options) {\n            JPanel questionPane = new JPanel(new BorderLayout());\n            JLabel label = new JLabel(question, JLabel.CENTER);\n            questionPane.add(label, BorderLayout.NORTH);\n            ButtonGroup q1BG = new ButtonGroup();\n            JPanel optionsPane = new JPanel(new GridBagLayout());\n            for (String option : options) {\n                JRadioButton btn = new JRadioButton(option);\n                q1BG.add(btn);\n                optionsPane.add(btn);\n            }\n            questionPane.add(optionsPane);\n\n            return questionPane;\n        }\n    }\n}\n</code></pre>\n<p>But remember, you're not stuck to using a single layout.  For example, the above example uses both a <code>GridBagLayout</code> and <code>BorderLayout</code> to layout each question pane.</p>\n<p>Take a closer look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a></p>\n"}],"owner":{"account_id":20923752,"reputation":7,"user_id":15371700,"display_name":"Roodra1039"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73201370,"answer_count":1,"score":0,"last_activity_date":1659408224,"creation_date":1659406258,"question_id":73201299,"body_markdown":"I am essentially making a quiz type of GUI with java swing. This is what I am going for:\r\n\r\n[![https://i.stack.imgur.com/tqhHt.png][1]][1]\r\n\r\nBut this is what I&#39;m getting:\r\n\r\n[![https://i.stack.imgur.com/FQBMb.png][2]][2]\r\n\r\nAs you can see in the second image, question one&#39;s radio buttons are not centered and there is no white space. This is happening despite using `Component.CENTER_ALIGNMENT`. I have also used `createVerticalGlue()` to add white space, but it makes no difference.\r\n\r\nThis is my code:\r\n```\r\nimport javax.swing.Box;\r\nimport javax.swing.BoxLayout;\r\nimport javax.swing.ButtonGroup;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JRadioButton;\r\nimport javax.swing.SwingConstants;\r\n\r\nimport java.awt.*;\r\n\r\npublic class quiz extends JFrame{\r\n    public static void main(String args[]){\r\n        window();\r\n        \r\n        \r\n        \r\n    }\r\n\r\n    public static void window(){\r\n        JFrame window = new JFrame(&quot;quiz&quot;);\r\n        JPanel panel0 = new JPanel();\r\n        BoxLayout ogBox = new BoxLayout(panel0, BoxLayout.Y_AXIS);\r\n        panel0.setLayout(ogBox);\r\n    \r\n\r\n        window.getContentPane().setLayout(new BoxLayout(window.getContentPane(), BoxLayout.Y_AXIS));\r\n        JLabel label = new JLabel(&quot;question 1.........................................?&quot;, SwingConstants.CENTER);\r\n        JPanel panel = new JPanel(new BorderLayout());\r\n        panel.add(label, BorderLayout.NORTH);\r\n        JRadioButton o1q1 = new JRadioButton(&quot;5&quot;);\r\n        o1q1.setVerticalTextPosition(JRadioButton.BOTTOM);\r\n        o1q1.setHorizontalTextPosition(JRadioButton.CENTER);\r\n        JRadioButton o2q1 = new JRadioButton(&quot;6&quot;);\r\n        o2q1.setVerticalTextPosition(JRadioButton.BOTTOM);\r\n        o2q1.setHorizontalTextPosition(JRadioButton.CENTER);\r\n        JRadioButton o3q1 = new JRadioButton(&quot;7&quot;);\r\n        o3q1.setVerticalTextPosition(JRadioButton.BOTTOM);\r\n        o3q1.setHorizontalTextPosition(JRadioButton.CENTER);\r\n        JRadioButton o4q1 = new JRadioButton(&quot;8&quot;);\r\n        o4q1.setVerticalTextPosition(JRadioButton.BOTTOM);\r\n        o4q1.setHorizontalTextPosition(JRadioButton.CENTER);\r\n        JRadioButton o5q1 = new JRadioButton(&quot;9&quot;);\r\n        o5q1.setVerticalTextPosition(JRadioButton.BOTTOM);\r\n        o5q1.setHorizontalTextPosition(JRadioButton.CENTER);\r\n        JRadioButton o6q1 = new JRadioButton(&quot;10&quot;);\r\n        o6q1.setVerticalTextPosition(JRadioButton.BOTTOM);\r\n        o6q1.setHorizontalTextPosition(JRadioButton.CENTER);\r\n        ButtonGroup group1 = new ButtonGroup();\r\n        group1.add(o1q1);\r\n        group1.add(o2q1);\r\n        group1.add(o3q1);\r\n        group1.add(o4q1);\r\n        group1.add(o5q1);\r\n        group1.add(o6q1);\r\n        JPanel radio = new JPanel();\r\n        BoxLayout panelBox = new BoxLayout(radio, BoxLayout.X_AXIS);\r\n        radio.setLayout(panelBox);\r\n        radio.add(o1q1);\r\n        radio.add(o2q1);\r\n        radio.add(o3q1);\r\n        radio.add(o4q1);\r\n        radio.add(o5q1);\r\n        radio.add(o6q1);\r\n        radio.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        radio.add(Box.createVerticalGlue());\r\n        JLabel label2 = new JLabel(&quot;question 2.........................................?&quot;, SwingConstants.CENTER);\r\n        JPanel panel2 = new JPanel(new BorderLayout());\r\n        panel2.add(label2, BorderLayout.NORTH);\r\n        JRadioButton o1q2 = new JRadioButton(&quot;2 things&quot;);\r\n        o1q2.setVerticalTextPosition(JRadioButton.BOTTOM);\r\n        o1q2.setHorizontalTextPosition(JRadioButton.CENTER);\r\n        JRadioButton o2q2 = new JRadioButton(&quot;3 things&quot;);\r\n        o2q2.setVerticalTextPosition(JRadioButton.BOTTOM);\r\n        o2q2.setHorizontalTextPosition(JRadioButton.CENTER);\r\n        JRadioButton o3q2 = new JRadioButton(&quot;4 things&quot;);\r\n        o3q2.setVerticalTextPosition(JRadioButton.BOTTOM);\r\n        o3q2.setHorizontalTextPosition(JRadioButton.CENTER);\r\n        JRadioButton o4q2 = new JRadioButton(&quot;5 things&quot;);\r\n        o4q2.setVerticalTextPosition(JRadioButton.BOTTOM);\r\n        o4q2.setHorizontalTextPosition(JRadioButton.CENTER);\r\n        JRadioButton o5q2 = new JRadioButton(&quot;6 things&quot;);\r\n        o5q2.setVerticalTextPosition(JRadioButton.BOTTOM);\r\n        o5q2.setHorizontalTextPosition(JRadioButton.CENTER);\r\n        JRadioButton o6q2 = new JRadioButton(&quot;7 things&quot;);\r\n        o6q2.setVerticalTextPosition(JRadioButton.BOTTOM);\r\n        o6q2.setHorizontalTextPosition(JRadioButton.CENTER);\r\n        ButtonGroup group2 = new ButtonGroup();\r\n        group2.add(o1q2);\r\n        group2.add(o2q2);\r\n        group2.add(o3q2);\r\n        group2.add(o4q2);\r\n        group2.add(o5q2);\r\n        group2.add(o6q2);\r\n        JPanel radio2 = new JPanel();\r\n        BoxLayout panelBox2 = new BoxLayout(radio2, BoxLayout.X_AXIS);\r\n        radio2.setLayout(panelBox2);\r\n        radio2.add(o1q2);\r\n        radio2.add(o2q2);\r\n        radio2.add(o3q2);\r\n        radio2.add(o4q2);\r\n        radio2.add(o5q2);\r\n        radio2.add(o6q2);\r\n        radio2.setAlignmentX(Component.CENTER_ALIGNMENT);\r\n        panel0.add(panel);\r\n        panel0.add(panel2);\r\n        panel.add(radio);\r\n        panel2.add(radio2);\r\n        window.setLayout(new FlowLayout());\r\n        window.add(panel0);\r\n        window.setResizable(false);\r\n        window.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        window.setSize(new Dimension(900, 500));\r\n        panel.setVisible(true);\r\n        window.setVisible(true);\r\n    \r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\nThanks for the help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tqhHt.png\r\n  [2]: https://i.stack.imgur.com/FQBMb.png","title":"Radio Button group not centering even with Component.CENTER_ALIGNMENT and no whitespace","body":"<p>I am essentially making a quiz type of GUI with java swing. This is what I am going for:</p>\n<p><a href=\"https://i.stack.imgur.com/tqhHt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tqhHt.png\" alt=\"https://i.stack.imgur.com/tqhHt.png\" /></a></p>\n<p>But this is what I'm getting:</p>\n<p><a href=\"https://i.stack.imgur.com/FQBMb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FQBMb.png\" alt=\"https://i.stack.imgur.com/FQBMb.png\" /></a></p>\n<p>As you can see in the second image, question one's radio buttons are not centered and there is no white space. This is happening despite using <code>Component.CENTER_ALIGNMENT</code>. I have also used <code>createVerticalGlue()</code> to add white space, but it makes no difference.</p>\n<p>This is my code:</p>\n<pre><code>import javax.swing.Box;\nimport javax.swing.BoxLayout;\nimport javax.swing.ButtonGroup;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JRadioButton;\nimport javax.swing.SwingConstants;\n\nimport java.awt.*;\n\npublic class quiz extends JFrame{\n    public static void main(String args[]){\n        window();\n        \n        \n        \n    }\n\n    public static void window(){\n        JFrame window = new JFrame(&quot;quiz&quot;);\n        JPanel panel0 = new JPanel();\n        BoxLayout ogBox = new BoxLayout(panel0, BoxLayout.Y_AXIS);\n        panel0.setLayout(ogBox);\n    \n\n        window.getContentPane().setLayout(new BoxLayout(window.getContentPane(), BoxLayout.Y_AXIS));\n        JLabel label = new JLabel(&quot;question 1.........................................?&quot;, SwingConstants.CENTER);\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.add(label, BorderLayout.NORTH);\n        JRadioButton o1q1 = new JRadioButton(&quot;5&quot;);\n        o1q1.setVerticalTextPosition(JRadioButton.BOTTOM);\n        o1q1.setHorizontalTextPosition(JRadioButton.CENTER);\n        JRadioButton o2q1 = new JRadioButton(&quot;6&quot;);\n        o2q1.setVerticalTextPosition(JRadioButton.BOTTOM);\n        o2q1.setHorizontalTextPosition(JRadioButton.CENTER);\n        JRadioButton o3q1 = new JRadioButton(&quot;7&quot;);\n        o3q1.setVerticalTextPosition(JRadioButton.BOTTOM);\n        o3q1.setHorizontalTextPosition(JRadioButton.CENTER);\n        JRadioButton o4q1 = new JRadioButton(&quot;8&quot;);\n        o4q1.setVerticalTextPosition(JRadioButton.BOTTOM);\n        o4q1.setHorizontalTextPosition(JRadioButton.CENTER);\n        JRadioButton o5q1 = new JRadioButton(&quot;9&quot;);\n        o5q1.setVerticalTextPosition(JRadioButton.BOTTOM);\n        o5q1.setHorizontalTextPosition(JRadioButton.CENTER);\n        JRadioButton o6q1 = new JRadioButton(&quot;10&quot;);\n        o6q1.setVerticalTextPosition(JRadioButton.BOTTOM);\n        o6q1.setHorizontalTextPosition(JRadioButton.CENTER);\n        ButtonGroup group1 = new ButtonGroup();\n        group1.add(o1q1);\n        group1.add(o2q1);\n        group1.add(o3q1);\n        group1.add(o4q1);\n        group1.add(o5q1);\n        group1.add(o6q1);\n        JPanel radio = new JPanel();\n        BoxLayout panelBox = new BoxLayout(radio, BoxLayout.X_AXIS);\n        radio.setLayout(panelBox);\n        radio.add(o1q1);\n        radio.add(o2q1);\n        radio.add(o3q1);\n        radio.add(o4q1);\n        radio.add(o5q1);\n        radio.add(o6q1);\n        radio.setAlignmentX(Component.CENTER_ALIGNMENT);\n        radio.add(Box.createVerticalGlue());\n        JLabel label2 = new JLabel(&quot;question 2.........................................?&quot;, SwingConstants.CENTER);\n        JPanel panel2 = new JPanel(new BorderLayout());\n        panel2.add(label2, BorderLayout.NORTH);\n        JRadioButton o1q2 = new JRadioButton(&quot;2 things&quot;);\n        o1q2.setVerticalTextPosition(JRadioButton.BOTTOM);\n        o1q2.setHorizontalTextPosition(JRadioButton.CENTER);\n        JRadioButton o2q2 = new JRadioButton(&quot;3 things&quot;);\n        o2q2.setVerticalTextPosition(JRadioButton.BOTTOM);\n        o2q2.setHorizontalTextPosition(JRadioButton.CENTER);\n        JRadioButton o3q2 = new JRadioButton(&quot;4 things&quot;);\n        o3q2.setVerticalTextPosition(JRadioButton.BOTTOM);\n        o3q2.setHorizontalTextPosition(JRadioButton.CENTER);\n        JRadioButton o4q2 = new JRadioButton(&quot;5 things&quot;);\n        o4q2.setVerticalTextPosition(JRadioButton.BOTTOM);\n        o4q2.setHorizontalTextPosition(JRadioButton.CENTER);\n        JRadioButton o5q2 = new JRadioButton(&quot;6 things&quot;);\n        o5q2.setVerticalTextPosition(JRadioButton.BOTTOM);\n        o5q2.setHorizontalTextPosition(JRadioButton.CENTER);\n        JRadioButton o6q2 = new JRadioButton(&quot;7 things&quot;);\n        o6q2.setVerticalTextPosition(JRadioButton.BOTTOM);\n        o6q2.setHorizontalTextPosition(JRadioButton.CENTER);\n        ButtonGroup group2 = new ButtonGroup();\n        group2.add(o1q2);\n        group2.add(o2q2);\n        group2.add(o3q2);\n        group2.add(o4q2);\n        group2.add(o5q2);\n        group2.add(o6q2);\n        JPanel radio2 = new JPanel();\n        BoxLayout panelBox2 = new BoxLayout(radio2, BoxLayout.X_AXIS);\n        radio2.setLayout(panelBox2);\n        radio2.add(o1q2);\n        radio2.add(o2q2);\n        radio2.add(o3q2);\n        radio2.add(o4q2);\n        radio2.add(o5q2);\n        radio2.add(o6q2);\n        radio2.setAlignmentX(Component.CENTER_ALIGNMENT);\n        panel0.add(panel);\n        panel0.add(panel2);\n        panel.add(radio);\n        panel2.add(radio2);\n        window.setLayout(new FlowLayout());\n        window.add(panel0);\n        window.setResizable(false);\n        window.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        window.setSize(new Dimension(900, 500));\n        panel.setVisible(true);\n        window.setVisible(true);\n    \n\n    }\n}\n</code></pre>\n<p>Thanks for the help.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":206292,"reputation":62091,"user_id":455493,"accept_rate":92,"display_name":"Tseng"},"score":0,"creation_date":1286793695,"post_id":3905358,"comment_id":4161976,"body_markdown":"More information too ^^ Do you test it in the Emulator or on a real device? Do you have internet connection enabled? i.e. on a real device make sure the &quot;mobile network&quot; is activated and that you have an internet connection","body":"More information too ^^ Do you test it in the Emulator or on a real device? Do you have internet connection enabled? i.e. on a real device make sure the &quot;mobile network&quot; is activated and that you have an internet connection"},{"owner":{"account_id":216756,"reputation":641,"user_id":472189,"display_name":"Luks89"},"score":0,"creation_date":1286793862,"post_id":3905358,"comment_id":4162003,"body_markdown":"I tested in the Emulator and on a Real Device connected to the internet. Thanks.","body":"I tested in the Emulator and on a Real Device connected to the internet. Thanks."},{"owner":{"display_name":"user793044"},"score":0,"creation_date":1307722142,"post_id":3905358,"comment_id":7374195,"body_markdown":"Did you come right with this issue? I am having the same problem. If you got around this problem, could you also advise me. Regards\nSanjay","body":"Did you come right with this issue? I am having the same problem. If you got around this problem, could you also advise me. Regards Sanjay"},{"owner":{"account_id":121273,"reputation":11927,"user_id":314247,"accept_rate":66,"display_name":"User7723337"},"score":0,"creation_date":1332146831,"post_id":3905358,"comment_id":12428943,"body_markdown":"I am also facing same problem can you please provide solution to this if you found!","body":"I am also facing same problem can you please provide solution to this if you found!"},{"owner":{"display_name":"user1944616"},"score":1,"creation_date":1359524239,"post_id":3905358,"comment_id":20379006,"body_markdown":"got to this link , i got answer from this,  http://stackoverflow.com/questions/14576710/ping-application-in-android/","body":"got to this link , i got answer from this,  <a href=\"http://stackoverflow.com/questions/14576710/ping-application-in-android/\" title=\"ping application in android\">stackoverflow.com/questions/14576710/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":60320,"reputation":2144,"user_id":180242,"display_name":"Luminger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1286794897,"creation_date":1286794897,"answer_id":3905585,"question_id":3905358,"body_markdown":"Maybe ICMP packets are blocked by your (mobile) provider. If this code doesn&#39;t work on the emulator try to sniff via wireshark or any other sniffer and have a look whats up on the wire when you fire the isReachable() method. \r\n\r\nYou may also find some info in your device log.","title":"How to Ping External IP from Java Android","body":"<p>Maybe ICMP packets are blocked by your (mobile) provider. If this code doesn't work on the emulator try to sniff via wireshark or any other sniffer and have a look whats up on the wire when you fire the isReachable() method. </p>\n\n<p>You may also find some info in your device log.</p>\n"},{"tags":[],"owner":{"account_id":50420,"reputation":4519,"user_id":150398,"accept_rate":71,"display_name":"Eugene van der Merwe"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1327796989,"creation_date":1327796989,"answer_id":9049884,"question_id":3905358,"body_markdown":"In my case ping works from device but not from the emulator. I found this documentation:\r\nhttp://developer.android.com/guide/developing/devices/emulator.html#emulatornetworking\r\n\r\nOn the topic of &quot;Local Networking Limitations&quot; it says:\r\n&gt; &quot;Depending on the environment, the emulator may not be able to support\r\n&gt; other protocols (such as ICMP, used for &quot;ping&quot;) might not be\r\n&gt; supported. Currently, the emulator does not support IGMP or\r\n&gt; multicast.&quot;\r\n\r\nFurther information:\r\nhttp://groups.google.com/group/android-developers/browse_thread/thread/8657506be6819297\r\n\r\n&gt; this is a known limitation of the QEMU user-mode network stack.\r\n&gt; Quoting from  the original doc:  Note that ping is not supported\r\n&gt; reliably to the internet as it would require  root privileges. It\r\n&gt; means you can only ping the local router (10.0.2.2).\r\n\r\n  [1]: http://developer.android.com/guide/developing/devices/emulator.html#emulatornetworking","title":"How to Ping External IP from Java Android","body":"<p>In my case ping works from device but not from the emulator. I found this documentation:\n<a href=\"http://developer.android.com/guide/developing/devices/emulator.html#emulatornetworking\" rel=\"noreferrer\">http://developer.android.com/guide/developing/devices/emulator.html#emulatornetworking</a></p>\n\n<p>On the topic of \"Local Networking Limitations\" it says:</p>\n\n<blockquote>\n  <p>\"Depending on the environment, the emulator may not be able to support\n  other protocols (such as ICMP, used for \"ping\") might not be\n  supported. Currently, the emulator does not support IGMP or\n  multicast.\"</p>\n</blockquote>\n\n<p>Further information:\n<a href=\"http://groups.google.com/group/android-developers/browse_thread/thread/8657506be6819297\" rel=\"noreferrer\">http://groups.google.com/group/android-developers/browse_thread/thread/8657506be6819297</a></p>\n\n<blockquote>\n  <p>this is a known limitation of the QEMU user-mode network stack.\n  Quoting from  the original doc:  Note that ping is not supported\n  reliably to the internet as it would require  root privileges. It\n  means you can only ping the local router (10.0.2.2).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":460814,"reputation":409,"user_id":862149,"display_name":"Jim Huang"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1343689364,"creation_date":1342539461,"answer_id":11525981,"question_id":3905358,"body_markdown":"Run the ping utility in Android&#39;s command and parse output (assuming you have root permissions)\r\n\r\nSee the following Java code snippet:\r\n\r\n\texecuteCmd(&quot;ping -c 1 -w 1 google.com&quot;, false);\r\n\r\n\tpublic static String executeCmd(String cmd, boolean sudo){\r\n\t\ttry {\r\n\r\n\t\t\tProcess p;\r\n\t\t\tif(!sudo)\r\n\t\t\t\tp= Runtime.getRuntime().exec(cmd);\r\n\t\t\telse{\r\n\t\t\t\tp= Runtime.getRuntime().exec(new String[]{&quot;su&quot;, &quot;-c&quot;, cmd});\r\n\t\t\t}\r\n\t\t\tBufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n\t\t\tString s;\r\n\t\t\tString res = &quot;&quot;;\r\n\t\t\twhile ((s = stdInput.readLine()) != null) {\r\n\t\t\t\tres += s + &quot;\\n&quot;;\r\n\t\t\t}\r\n\t\t\tp.destroy();\r\n\t\t\treturn res;\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn &quot;&quot;;\r\n\r\n\t}","title":"How to Ping External IP from Java Android","body":"<p>Run the ping utility in Android's command and parse output (assuming you have root permissions)</p>\n\n<p>See the following Java code snippet:</p>\n\n<pre><code>executeCmd(\"ping -c 1 -w 1 google.com\", false);\n\npublic static String executeCmd(String cmd, boolean sudo){\n    try {\n\n        Process p;\n        if(!sudo)\n            p= Runtime.getRuntime().exec(cmd);\n        else{\n            p= Runtime.getRuntime().exec(new String[]{\"su\", \"-c\", cmd});\n        }\n        BufferedReader stdInput = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n        String s;\n        String res = \"\";\n        while ((s = stdInput.readLine()) != null) {\n            res += s + \"\\n\";\n        }\n        p.destroy();\n        return res;\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return \"\";\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":396893,"reputation":1140,"user_id":760713,"accept_rate":60,"display_name":"krishna5688"},"down_vote_count":1,"up_vote_count":62,"is_accepted":false,"score":61,"last_activity_date":1431962173,"creation_date":1368091968,"answer_id":16458623,"question_id":3905358,"body_markdown":"I tried following code, which works for me.\r\n\r\n    private boolean executeCommand(){\r\n    \t\tSystem.out.println(&quot;executeCommand&quot;);\r\n    \t\tRuntime runtime = Runtime.getRuntime();\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tProcess  mIpAddrProcess = runtime.exec(&quot;/system/bin/ping -c 1 8.8.8.8&quot;);\r\n    \t\t\tint mExitValue = mIpAddrProcess.waitFor();\r\n    \t\t\tSystem.out.println(&quot; mExitValue &quot;+mExitValue);\r\n    \t\t\tif(mExitValue==0){\r\n    \t\t\t\treturn true;\r\n    \t\t\t}else{\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (InterruptedException ignore)\r\n    \t\t{\r\n    \t\t\tignore.printStackTrace();\r\n    \t\t\tSystem.out.println(&quot; Exception:&quot;+ignore);\r\n    \t\t} \r\n    \t\tcatch (IOException e) \r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t\tSystem.out.println(&quot; Exception:&quot;+e);\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n","title":"How to Ping External IP from Java Android","body":"<p>I tried following code, which works for me.</p>\n\n<pre><code>private boolean executeCommand(){\n        System.out.println(\"executeCommand\");\n        Runtime runtime = Runtime.getRuntime();\n        try\n        {\n            Process  mIpAddrProcess = runtime.exec(\"/system/bin/ping -c 1 8.8.8.8\");\n            int mExitValue = mIpAddrProcess.waitFor();\n            System.out.println(\" mExitValue \"+mExitValue);\n            if(mExitValue==0){\n                return true;\n            }else{\n                return false;\n            }\n        }\n        catch (InterruptedException ignore)\n        {\n            ignore.printStackTrace();\n            System.out.println(\" Exception:\"+ignore);\n        } \n        catch (IOException e) \n        {\n            e.printStackTrace();\n            System.out.println(\" Exception:\"+e);\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1072639,"reputation":4508,"user_id":1071545,"accept_rate":60,"display_name":"Ahmad Arslan"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1392189228,"creation_date":1392189228,"answer_id":21721083,"question_id":3905358,"body_markdown":"Use this Code: this method works on 4.3+ and also for below versions too.\r\n  \r\n       try {\r\n\t    \r\n\t    \t Process process = null;\r\n\t    \t \r\n\t    \tif(Build.VERSION.SDK_INT &lt;= 16) {\r\n\t    \t\t// shiny APIS \r\n\t    \t\t   process = Runtime.getRuntime().exec(\r\n\t \t                &quot;/system/bin/ping -w 1 -c 1 &quot; + url);\r\n\t    \t\t \r\n\t    \t\t \r\n\t    \t} \r\n\t    \telse \r\n\t    \t{\r\n \r\n \t    \t\t\t   process = new ProcessBuilder()\r\n\t    \t         .command(&quot;/system/bin/ping&quot;, url)\r\n\t    \t         .redirectErrorStream(true)\r\n\t    \t         .start();\r\n\t    \t\t\t \r\n\t    \t\t}\r\n\t    \t\r\n\t   \r\n\t        \r\n\t        BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n\t        \t\tprocess.getInputStream()));\r\n\t       \r\n\t        StringBuffer output = new StringBuffer();\r\n\t        String temp;\r\n\t        \r\n\t        while ( (temp = reader.readLine()) != null)//.read(buffer)) &gt; 0)\r\n\t        {\r\n\t            output.append(temp);\r\n\t            count++;\r\n\t        }\r\n\t        \r\n\t        reader.close();\r\n\r\n\t         \r\n\t        if(count &gt; 0)\r\n\t        \tstr = output.toString();\r\n\t       \r\n\t        process.destroy();\r\n\t     } catch (IOException e) {\r\n\t         e.printStackTrace();\r\n\t    }\r\n\t   \r\n\t    Log.i(&quot;PING Count&quot;, &quot;&quot;+count);\r\n\t    Log.i(&quot;PING String&quot;, str);","title":"How to Ping External IP from Java Android","body":"<p>Use this Code: this method works on 4.3+ and also for below versions too.</p>\n\n<pre><code>   try {\n\n         Process process = null;\n\n        if(Build.VERSION.SDK_INT &lt;= 16) {\n            // shiny APIS \n               process = Runtime.getRuntime().exec(\n                    \"/system/bin/ping -w 1 -c 1 \" + url);\n\n\n        } \n        else \n        {\n\n                   process = new ProcessBuilder()\n                 .command(\"/system/bin/ping\", url)\n                 .redirectErrorStream(true)\n                 .start();\n\n            }\n\n\n\n        BufferedReader reader = new BufferedReader(new InputStreamReader(\n                process.getInputStream()));\n\n        StringBuffer output = new StringBuffer();\n        String temp;\n\n        while ( (temp = reader.readLine()) != null)//.read(buffer)) &gt; 0)\n        {\n            output.append(temp);\n            count++;\n        }\n\n        reader.close();\n\n\n        if(count &gt; 0)\n            str = output.toString();\n\n        process.destroy();\n     } catch (IOException e) {\n         e.printStackTrace();\n    }\n\n    Log.i(\"PING Count\", \"\"+count);\n    Log.i(\"PING String\", str);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5725940,"reputation":639,"user_id":4522920,"accept_rate":61,"display_name":"sorry_I_wont"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453330419,"creation_date":1453330419,"answer_id":34912207,"question_id":3905358,"body_markdown":"This is what I implemented myself, which returns the average latency:\r\n\r\n    \r\n    /*\r\n    Returns the latency to a given server in mili-seconds by issuing a ping command.\r\n    system will issue NUMBER_OF_PACKTETS ICMP Echo Request packet each having size of 56 bytes\r\n    every second, and returns the avg latency of them.\r\n    Returns 0 when there is no connection\r\n     */\r\n    public double getLatency(String ipAddress){\r\n        String pingCommand = &quot;/system/bin/ping -c &quot; + NUMBER_OF_PACKTETS + &quot; &quot; + ipAddress;\r\n        String inputLine = &quot;&quot;;\r\n        double avgRtt = 0;\r\n\r\n        try {\r\n            // execute the command on the environment interface\r\n            Process process = Runtime.getRuntime().exec(pingCommand);\r\n            // gets the input stream to get the output of the executed command\r\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n\r\n            inputLine = bufferedReader.readLine();\r\n            while ((inputLine != null)) {\r\n                if (inputLine.length() &gt; 0 &amp;&amp; inputLine.contains(&quot;avg&quot;)) {  // when we get to the last line of executed ping command\r\n                    break;\r\n                }\r\n                inputLine = bufferedReader.readLine();\r\n            }\r\n        }\r\n        catch (IOException e){\r\n            Log.v(DEBUG_TAG, &quot;getLatency: EXCEPTION&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // Extracting the average round trip time from the inputLine string\r\n        String afterEqual = inputLine.substring(inputLine.indexOf(&quot;=&quot;), inputLine.length()).trim();\r\n        String afterFirstSlash = afterEqual.substring(afterEqual.indexOf(&#39;/&#39;) + 1, afterEqual.length()).trim();\r\n        String strAvgRtt = afterFirstSlash.substring(0, afterFirstSlash.indexOf(&#39;/&#39;));\r\n        avgRtt = Double.valueOf(strAvgRtt);\r\n\r\n        return avgRtt;\r\n    }","title":"How to Ping External IP from Java Android","body":"<p>This is what I implemented myself, which returns the average latency:</p>\n\n<pre><code>/*\nReturns the latency to a given server in mili-seconds by issuing a ping command.\nsystem will issue NUMBER_OF_PACKTETS ICMP Echo Request packet each having size of 56 bytes\nevery second, and returns the avg latency of them.\nReturns 0 when there is no connection\n */\npublic double getLatency(String ipAddress){\n    String pingCommand = \"/system/bin/ping -c \" + NUMBER_OF_PACKTETS + \" \" + ipAddress;\n    String inputLine = \"\";\n    double avgRtt = 0;\n\n    try {\n        // execute the command on the environment interface\n        Process process = Runtime.getRuntime().exec(pingCommand);\n        // gets the input stream to get the output of the executed command\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n\n        inputLine = bufferedReader.readLine();\n        while ((inputLine != null)) {\n            if (inputLine.length() &gt; 0 &amp;&amp; inputLine.contains(\"avg\")) {  // when we get to the last line of executed ping command\n                break;\n            }\n            inputLine = bufferedReader.readLine();\n        }\n    }\n    catch (IOException e){\n        Log.v(DEBUG_TAG, \"getLatency: EXCEPTION\");\n        e.printStackTrace();\n    }\n\n    // Extracting the average round trip time from the inputLine string\n    String afterEqual = inputLine.substring(inputLine.indexOf(\"=\"), inputLine.length()).trim();\n    String afterFirstSlash = afterEqual.substring(afterEqual.indexOf('/') + 1, afterEqual.length()).trim();\n    String strAvgRtt = afterFirstSlash.substring(0, afterFirstSlash.indexOf('/'));\n    avgRtt = Double.valueOf(strAvgRtt);\n\n    return avgRtt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6163116,"reputation":192,"user_id":4804016,"display_name":"Pawan Kumar Baranwal"},"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1461267275,"creation_date":1461267275,"answer_id":36778903,"question_id":3905358,"body_markdown":"Ping for the google server or any other server\r\n\r\n\r\n\r\n    public boolean isConecctedToInternet() {\r\n\r\n        Runtime runtime = Runtime.getRuntime();\r\n        try {\r\n            Process ipProcess = runtime.exec(&quot;/system/bin/ping -c 1 8.8.8.8&quot;);\r\n            int     exitValue = ipProcess.waitFor();\r\n            return (exitValue == 0);\r\n        } catch (IOException e)          { e.printStackTrace(); }\r\n        catch (InterruptedException e) { e.printStackTrace(); }\r\n        return false;\r\n    }","title":"How to Ping External IP from Java Android","body":"<p>Ping for the google server or any other server</p>\n\n<pre><code>public boolean isConecctedToInternet() {\n\n    Runtime runtime = Runtime.getRuntime();\n    try {\n        Process ipProcess = runtime.exec(\"/system/bin/ping -c 1 8.8.8.8\");\n        int     exitValue = ipProcess.waitFor();\n        return (exitValue == 0);\n    } catch (IOException e)          { e.printStackTrace(); }\n    catch (InterruptedException e) { e.printStackTrace(); }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4684573,"reputation":3368,"user_id":3792318,"display_name":"Alexander M."},"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1659192131,"creation_date":1466106018,"answer_id":37868059,"question_id":3905358,"body_markdown":"This is a simple ping I use in one of the projects:\r\n```java\r\npublic static class Ping {\r\n    public String net = &quot;NO_CONNECTION&quot;;\r\n    public String host = &quot;&quot;;\r\n    public String ip = &quot;&quot;;\r\n    public int dns = Integer.MAX_VALUE;\r\n    public int cnt = Integer.MAX_VALUE;\r\n}\r\n\r\npublic static Ping ping(URL url, Context ctx) {\r\n    Ping r = new Ping();\r\n    if (isNetworkConnected(ctx)) {\r\n        r.net = getNetworkType(ctx);\r\n        try {\r\n            String hostAddress;\r\n            long start = System.currentTimeMillis();\r\n            hostAddress = InetAddress.getByName(url.getHost()).getHostAddress();\r\n            long dnsResolved = System.currentTimeMillis();\r\n            Socket socket = new Socket(hostAddress, url.getPort());\r\n            socket.close();\r\n            long probeFinish = System.currentTimeMillis();\r\n            r.dns = (int) (dnsResolved - start);\r\n            r.cnt = (int) (probeFinish - dnsResolved);\r\n            r.host = url.getHost();\r\n            r.ip = hostAddress;\r\n        }\r\n        catch (Exception ex) {\r\n            Timber.e(&quot;Unable to ping&quot;);\r\n        }\r\n    }\r\n    return r;\r\n}\r\n\r\npublic static boolean isNetworkConnected(Context context) {\r\n    ConnectivityManager cm =\r\n            (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\r\n    return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting();\r\n}\r\n\r\n@Nullable\r\npublic static String getNetworkType(Context context) {\r\n    ConnectivityManager cm =\r\n            (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\r\n    if (activeNetwork != null) {\r\n        return activeNetwork.getTypeName();\r\n    }\r\n    return null;\r\n}\r\n```\r\nUsage: `ping(new URL(&quot;https://www.google.com:443/&quot;), this);`\r\n\r\nResult: `{&quot;cnt&quot;:100,&quot;dns&quot;:109,&quot;host&quot;:&quot;www.google.com&quot;,&quot;ip&quot;:&quot;212.188.10.114&quot;,&quot;net&quot;:&quot;WIFI&quot;}`","title":"How to Ping External IP from Java Android","body":"<p>This is a simple ping I use in one of the projects:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class Ping {\n    public String net = &quot;NO_CONNECTION&quot;;\n    public String host = &quot;&quot;;\n    public String ip = &quot;&quot;;\n    public int dns = Integer.MAX_VALUE;\n    public int cnt = Integer.MAX_VALUE;\n}\n\npublic static Ping ping(URL url, Context ctx) {\n    Ping r = new Ping();\n    if (isNetworkConnected(ctx)) {\n        r.net = getNetworkType(ctx);\n        try {\n            String hostAddress;\n            long start = System.currentTimeMillis();\n            hostAddress = InetAddress.getByName(url.getHost()).getHostAddress();\n            long dnsResolved = System.currentTimeMillis();\n            Socket socket = new Socket(hostAddress, url.getPort());\n            socket.close();\n            long probeFinish = System.currentTimeMillis();\n            r.dns = (int) (dnsResolved - start);\n            r.cnt = (int) (probeFinish - dnsResolved);\n            r.host = url.getHost();\n            r.ip = hostAddress;\n        }\n        catch (Exception ex) {\n            Timber.e(&quot;Unable to ping&quot;);\n        }\n    }\n    return r;\n}\n\npublic static boolean isNetworkConnected(Context context) {\n    ConnectivityManager cm =\n            (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n    NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n    return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting();\n}\n\n@Nullable\npublic static String getNetworkType(Context context) {\n    ConnectivityManager cm =\n            (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n    NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n    if (activeNetwork != null) {\n        return activeNetwork.getTypeName();\n    }\n    return null;\n}\n</code></pre>\n<p>Usage: <code>ping(new URL(&quot;https://www.google.com:443/&quot;), this);</code></p>\n<p>Result: <code>{&quot;cnt&quot;:100,&quot;dns&quot;:109,&quot;host&quot;:&quot;www.google.com&quot;,&quot;ip&quot;:&quot;212.188.10.114&quot;,&quot;net&quot;:&quot;WIFI&quot;}</code></p>\n"},{"tags":[],"owner":{"account_id":17221758,"reputation":37,"user_id":12468368,"display_name":"Sunil Tale"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1575534680,"creation_date":1575534680,"answer_id":59191034,"question_id":3905358,"body_markdown":" **Pink ip Address**\r\n\r\n      public static int pingHost(String host, int timeout) throws IOException,\r\n\t\t\tInterruptedException {\r\n\t\tRuntime runtime = Runtime.getRuntime();\r\n\t\ttimeout /= 1000;\r\n\t\tString cmd = &quot;ping -c 1 -W &quot; + timeout + &quot; &quot; + host;\r\n\t\tProcess proc = runtime.exec(cmd);\r\n\t\tLog.d(TAG, cmd);\r\n\t\tproc.waitFor();\r\n\t\tint exit = proc.exitValue();\r\n\t\treturn exit;\r\n\t}\r\n       Ping a host and return an int value of 0 or 1 or 2 0=success, 1=fail,\r\n\t   * 2=error","title":"How to Ping External IP from Java Android","body":"<p><strong>Pink ip Address</strong></p>\n\n<pre><code>  public static int pingHost(String host, int timeout) throws IOException,\n        InterruptedException {\n    Runtime runtime = Runtime.getRuntime();\n    timeout /= 1000;\n    String cmd = \"ping -c 1 -W \" + timeout + \" \" + host;\n    Process proc = runtime.exec(cmd);\n    Log.d(TAG, cmd);\n    proc.waitFor();\n    int exit = proc.exitValue();\n    return exit;\n}\n   Ping a host and return an int value of 0 or 1 or 2 0=success, 1=fail,\n   * 2=error\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17390290,"reputation":9,"user_id":12600943,"display_name":"aditya kanrat"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1577361847,"creation_date":1577361847,"answer_id":59488207,"question_id":3905358,"body_markdown":"To get the boolean value for the hit on the ip \r\n\r\n    public Boolean getInetAddressByName(String name)\r\n        {\r\n            AsyncTask&lt;String, Void, Boolean&gt; task = new AsyncTask&lt;String, Void, Boolean&gt;()\r\n            {\r\n    \r\n                @Override\r\n                protected Boolean doInBackground(String... params) {\r\n                    try\r\n                    {\r\n                        return InetAddress.getByName(params[0]).isReachable(2000);\r\n                    }\r\n                    catch (Exception e)\r\n                    {\r\n                        return null;\r\n                    }\r\n                }\r\n            };\r\n            try {\r\n                return task.execute(name).get();\r\n            }\r\n            catch (InterruptedException e) {\r\n                return null;\r\n            }\r\n            catch (ExecutionException e) {\r\n                return null;\r\n            }\r\n    \r\n        }","title":"How to Ping External IP from Java Android","body":"<p>To get the boolean value for the hit on the ip </p>\n\n<pre><code>public Boolean getInetAddressByName(String name)\n    {\n        AsyncTask&lt;String, Void, Boolean&gt; task = new AsyncTask&lt;String, Void, Boolean&gt;()\n        {\n\n            @Override\n            protected Boolean doInBackground(String... params) {\n                try\n                {\n                    return InetAddress.getByName(params[0]).isReachable(2000);\n                }\n                catch (Exception e)\n                {\n                    return null;\n                }\n            }\n        };\n        try {\n            return task.execute(name).get();\n        }\n        catch (InterruptedException e) {\n            return null;\n        }\n        catch (ExecutionException e) {\n            return null;\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2145125,"reputation":2114,"user_id":1902910,"display_name":"Dustin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583969157,"creation_date":1583969157,"answer_id":60645678,"question_id":3905358,"body_markdown":"I implemented &quot;ping&quot; in pure Android Java and hosted it on gitlab. It does the same thing as the ping executable, but is much easier to configure.  It&#39;s has a couple useful features like being able to bind to a given Network.\r\n\r\nhttps://github.com/dburckh/AndroidPing","title":"How to Ping External IP from Java Android","body":"<p>I implemented \"ping\" in pure Android Java and hosted it on gitlab. It does the same thing as the ping executable, but is much easier to configure.  It's has a couple useful features like being able to bind to a given Network.</p>\n\n<p><a href=\"https://github.com/dburckh/AndroidPing\" rel=\"nofollow noreferrer\">https://github.com/dburckh/AndroidPing</a></p>\n"},{"tags":[],"owner":{"account_id":25312852,"reputation":324,"user_id":19135379,"display_name":"c L&#234; C&#244;ng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659407521,"creation_date":1659350411,"answer_id":73192510,"question_id":3905358,"body_markdown":"Here is simple code to get latency in kotlin: less if, using `ip`:String as input, using regex to split format, using `avg` for latency in `ms`\r\n\r\n        var avg = LATENCY_ERROR\r\n        val process = Runtime.getRuntime().exec(&quot;/system/bin/ping -c 1 $ip&quot;)\r\n        BufferedReader(InputStreamReader(process.inputStream)).forEachLine {\r\n            // it: &quot;PING 194.194.194.194 (194.194.194.194) 56(84) bytes of data.&quot;\r\n            // it: &quot;rtt min/avg/max/mdev = 326.137/326.137/326.137/0.000 ms&quot;\r\n            if (it.contains(&quot;rtt &quot;)) {\r\n                avg = Regex(&quot;\\\\d+\\\\.\\\\d+&quot;).findAll(it).toList()[1].value.toFloat().roundToInt()\r\n            }\r\n        }","title":"How to Ping External IP from Java Android","body":"<p>Here is simple code to get latency in kotlin: less if, using <code>ip</code>:String as input, using regex to split format, using <code>avg</code> for latency in <code>ms</code></p>\n<pre><code>    var avg = LATENCY_ERROR\n    val process = Runtime.getRuntime().exec(&quot;/system/bin/ping -c 1 $ip&quot;)\n    BufferedReader(InputStreamReader(process.inputStream)).forEachLine {\n        // it: &quot;PING 194.194.194.194 (194.194.194.194) 56(84) bytes of data.&quot;\n        // it: &quot;rtt min/avg/max/mdev = 326.137/326.137/326.137/0.000 ms&quot;\n        if (it.contains(&quot;rtt &quot;)) {\n            avg = Regex(&quot;\\\\d+\\\\.\\\\d+&quot;).findAll(it).toList()[1].value.toFloat().roundToInt()\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":216756,"reputation":641,"user_id":472189,"display_name":"Luks89"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157060,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"answer_count":12,"score":64,"last_activity_date":1659407521,"creation_date":1286793026,"question_id":3905358,"body_markdown":"I am developing a Ping application for Android 2.2.\r\n\r\nI try my code and it works, but only in local IPs, that&#39;s my problem I want to do ping to external servers too.\r\n\r\nHere is my code:\r\n\r\n      private OnClickListener milistener = new OnClickListener() {\r\n\t\tpublic void onClick(View v) {\r\n\t\t\tTextView info = (TextView) findViewById(R.id.info);\r\n\t\t\tEditText edit = (EditText) findViewById(R.id.edit);\r\n\t\t\tEditable host = edit.getText();\r\n\t\t\tInetAddress in;\r\n\t\t\tin = null;\r\n\t\t\t// Definimos la ip de la cual haremos el ping\r\n\t\t\ttry {\r\n\t\t\t\tin = InetAddress.getByName(host.toString());\r\n\t\t\t} catch (UnknownHostException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t// Definimos un tiempo en el cual ha de responder\r\n\t\t\ttry {\r\n\t\t\t\tif (in.isReachable(5000)) {\r\n\t\t\t\t\tinfo.setText(&quot;Responde OK&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tinfo.setText(&quot;No responde: Time out&quot;);\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\tinfo.setText(e.toString());\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n&gt; Ping 127.0.0.1 -&gt; OK &lt;br&gt;\r\n&gt; Ping 8.8.8.8 (Google DNS) -&gt; Time Out\r\n\r\nI put the following line at Manifest XML too:\r\n\r\n    \r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n  \r\n\r\nCan anyone suggest me where I&#39;m doing wrong?\r\n","title":"How to Ping External IP from Java Android","body":"<p>I am developing a Ping application for Android 2.2.</p>\n\n<p>I try my code and it works, but only in local IPs, that's my problem I want to do ping to external servers too.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>  private OnClickListener milistener = new OnClickListener() {\n    public void onClick(View v) {\n        TextView info = (TextView) findViewById(R.id.info);\n        EditText edit = (EditText) findViewById(R.id.edit);\n        Editable host = edit.getText();\n        InetAddress in;\n        in = null;\n        // Definimos la ip de la cual haremos el ping\n        try {\n            in = InetAddress.getByName(host.toString());\n        } catch (UnknownHostException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        // Definimos un tiempo en el cual ha de responder\n        try {\n            if (in.isReachable(5000)) {\n                info.setText(\"Responde OK\");\n            } else {\n                info.setText(\"No responde: Time out\");\n            }\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            info.setText(e.toString());\n        }\n    }\n};\n</code></pre>\n\n<blockquote>\n  <p>Ping 127.0.0.1 -> OK <br>\n  Ping 8.8.8.8 (Google DNS) -> Time Out</p>\n</blockquote>\n\n<p>I put the following line at Manifest XML too:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"&gt;&lt;/uses-permission&gt;\n</code></pre>\n\n<p>Can anyone suggest me where I'm doing wrong?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23015633,"reputation":187,"user_id":17186230,"display_name":"gabriel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659406707,"creation_date":1659406707,"answer_id":73201335,"question_id":71422853,"body_markdown":"&gt; This was actually an intentional design decision. The search algorithm\r\n&gt; used by the containers was problematic. It also causes problems when\r\n&gt; you want to develop an executable WAR as you often want a\r\n&gt; javax.servlet.ServletContainerInitializer for the WAR that is not\r\n&gt; executed when you run java -jar.\r\n&gt; \r\n&gt; See the\r\n&gt; org.springframework.boot.context.embedded.ServletContextInitializer\r\n&gt; for an option that works with Spring Beans.\r\n\r\n-- https://github.com/spring-projects/spring-boot/issues/321#issuecomment-34353800\r\n\r\nalso see https://github.com/spring-projects/spring-boot/issues/522\r\n","title":"WebApplicationInitializer don&#39;t work in springboot","body":"<blockquote>\n<p>This was actually an intentional design decision. The search algorithm\nused by the containers was problematic. It also causes problems when\nyou want to develop an executable WAR as you often want a\njavax.servlet.ServletContainerInitializer for the WAR that is not\nexecuted when you run java -jar.</p>\n<p>See the\norg.springframework.boot.context.embedded.ServletContextInitializer\nfor an option that works with Spring Beans.</p>\n</blockquote>\n<p>-- <a href=\"https://github.com/spring-projects/spring-boot/issues/321#issuecomment-34353800\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/321#issuecomment-34353800</a></p>\n<p>also see <a href=\"https://github.com/spring-projects/spring-boot/issues/522\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/522</a></p>\n"}],"owner":{"account_id":16636918,"reputation":1,"user_id":12023380,"display_name":"Ming-xiao cristiano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659406707,"creation_date":1646909270,"question_id":71422853,"body_markdown":"My WebConfig code,it implements the WebApplicationInitializer\r\n```java\r\npublic class WebConfig implements WebApplicationInitializer {\r\n    @Override\r\n    public void onStartup(ServletContext servletContext) throws ServletException {\r\n        System.out.println(&quot;on startup&quot;);\r\n    }\r\n}\r\n```\r\nMy MyApplication code \r\n```\r\n@SpringBootApplication\r\npublic class MyApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\nMy pom.xml\r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\nBut I can&#39;t see the &quot;on startup&quot; in the console. Anyone can help me ?thanks.And I don&#39;t want to say a lot,but the stackoverflow look like to prenvent me to post the question....","title":"WebApplicationInitializer don&#39;t work in springboot","body":"<p>My WebConfig code,it implements the WebApplicationInitializer</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class WebConfig implements WebApplicationInitializer {\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        System.out.println(&quot;on startup&quot;);\n    }\n}\n</code></pre>\n<p>My MyApplication code</p>\n<pre><code>@SpringBootApplication\npublic class MyApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    \n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>But I can't see the &quot;on startup&quot; in the console. Anyone can help me ?thanks.And I don't want to say a lot,but the stackoverflow look like to prenvent me to post the question....</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":5050148,"reputation":662,"user_id":4054975,"display_name":"Onno Rouast"},"score":0,"creation_date":1659436188,"post_id":73201222,"comment_id":129289156,"body_markdown":"so you just want to unique-ify values? `.unique()` does it but it&#39;s slow, e.g. `list.toSet().toList()` is faster.","body":"so you just want to unique-ify values? <code>.unique()</code> does it but it&#39;s slow, e.g. <code>list.toSet().toList()</code> is faster."},{"owner":{"account_id":21636479,"reputation":46,"user_id":15959331,"display_name":"OGtwelve"},"score":0,"creation_date":1659514996,"post_id":73201222,"comment_id":129310480,"body_markdown":"yeah, but my coworker said not to use any already wirtten functions. This toList() thing really helped me out. Thank u so muchhhhhhhhhhhhhhhhhhhhhhhh","body":"yeah, but my coworker said not to use any already wirtten functions. This toList() thing really helped me out. Thank u so muchhhhhhhhhhhhhhhhhhhhhhhh"}],"owner":{"account_id":21636479,"reputation":46,"user_id":15959331,"display_name":"OGtwelve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659406680,"creation_date":1659405229,"question_id":73201222,"body_markdown":"I&#39;m trying use groovy to read and wirte with Excel files(.xlsx), and I have successfully have access with all the data in the Excel file, but my coworker told me that wasn&#39;t in groovy style; &lt;br/&gt;\r\n And I asked him what is the right way, he just typed following answer:\r\n\r\n```\r\nvoid function(){\r\n        try{\r\n            XSSFWorkbook workbook = new XSSFWorkbook(new FileInputStream(&quot;D:\\\\GroovyExcelInsertion\\\\insert.xlsx&quot;))\r\n            // workSheet\r\n            XSSFSheet sheet1 = workbook.getSheetAt(0);\r\n            //\r\n            def lastRowNum = sheet1.getLastRowNum();\r\n            def stringCellValue\r\n            def list =[]\r\n            for (int i = 0; i &lt;= lastRowNum; i++) {\r\n                XSSFRow row = sheet1.getRow(i);\r\n                if (row != null) {\r\n                    short cellNum = row.getLastCellNum();\r\n                    for (int j = 0; j &lt;= cellNum; j++) {\r\n                        XSSFCell cell = row.getCell(j);\r\n                        if (cell != null) {\r\n                            cell.setCellType(STRING);\r\n                            stringCellValue = cell.getStringCellValue();\r\n\r\n                            list.add(stringCellValue)\r\n//                            list.findIndexOf { // This is what he worte for me.\r\n//                                it == stringCellValue\r\n//                            } ==-1\r\n                        }\r\n                    }\r\n                }\r\n                workbook.close();\r\n            }\r\n            println list\r\n            println list.unique()\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nI mean, do I use a (for) to do it, or something else.&lt;br/&gt;\r\n I looked it up and the docs says this findIndexOf function can just return data when they matched and return -1 when not matched.\r\nBut I vaguely remember this can only return Integer no matter what, so pls help me if u can&#128557;\r\nEven with this:\r\n```\r\ndef list = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;,&#39;a&#39;,&#39;b&#39;]\r\nfor(int i = 0; i &lt; list.size(); i++){\r\n    print list.findIndexOf { it == list[i] }\r\n}\r\n\r\n//The answer looks like this :  0123401\r\n```\r\nI really don&#39;t see how can this be sth that can remove duplicates.","title":"How to use Groovy Style to add strings to a list and remove duplicates","body":"<p>I'm trying use groovy to read and wirte with Excel files(.xlsx), and I have successfully have access with all the data in the Excel file, but my coworker told me that wasn't in groovy style; <br/>\nAnd I asked him what is the right way, he just typed following answer:</p>\n<pre><code>void function(){\n        try{\n            XSSFWorkbook workbook = new XSSFWorkbook(new FileInputStream(&quot;D:\\\\GroovyExcelInsertion\\\\insert.xlsx&quot;))\n            // workSheet\n            XSSFSheet sheet1 = workbook.getSheetAt(0);\n            //\n            def lastRowNum = sheet1.getLastRowNum();\n            def stringCellValue\n            def list =[]\n            for (int i = 0; i &lt;= lastRowNum; i++) {\n                XSSFRow row = sheet1.getRow(i);\n                if (row != null) {\n                    short cellNum = row.getLastCellNum();\n                    for (int j = 0; j &lt;= cellNum; j++) {\n                        XSSFCell cell = row.getCell(j);\n                        if (cell != null) {\n                            cell.setCellType(STRING);\n                            stringCellValue = cell.getStringCellValue();\n\n                            list.add(stringCellValue)\n//                            list.findIndexOf { // This is what he worte for me.\n//                                it == stringCellValue\n//                            } ==-1\n                        }\n                    }\n                }\n                workbook.close();\n            }\n            println list\n            println list.unique()\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I mean, do I use a (for) to do it, or something else.<br/>\nI looked it up and the docs says this findIndexOf function can just return data when they matched and return -1 when not matched.\nBut I vaguely remember this can only return Integer no matter what, so pls help me if u can\nEven with this:</p>\n<pre><code>def list = ['a', 'b', 'c', 'd', 'e','a','b']\nfor(int i = 0; i &lt; list.size(); i++){\n    print list.findIndexOf { it == list[i] }\n}\n\n//The answer looks like this :  0123401\n</code></pre>\n<p>I really don't see how can this be sth that can remove duplicates.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1659419838,"post_id":73201152,"comment_id":129283813,"body_markdown":"what is the type of `newSchema`?","body":"what is the type of <code>newSchema</code>?"}],"answers":[{"tags":[],"owner":{"account_id":25668194,"reputation":29,"user_id":19432817,"display_name":"cui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659405827,"creation_date":1659405827,"answer_id":73201269,"question_id":73201152,"body_markdown":"```\r\nval tableRows = newSchema.values.map { it.tableName() }.distinct().associateWith { ArrayList&lt;List&lt;Any&gt;&gt;() }\r\n\r\n```","title":"how to convert this java code `Collectors.toMap()` to kotlin","body":"<pre><code>val tableRows = newSchema.values.map { it.tableName() }.distinct().associateWith { ArrayList&lt;List&lt;Any&gt;&gt;() }\n\n</code></pre>\n"}],"owner":{"account_id":25668194,"reputation":29,"user_id":19432817,"display_name":"cui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1659555317,"accepted_answer_id":73201269,"answer_count":1,"score":-1,"last_activity_date":1659405891,"creation_date":1659404392,"question_id":73201152,"body_markdown":"// this is java code\r\n   \r\n```\r\n Map&lt;String, List&lt;List&lt;Object&gt;&gt;&gt; tableRows = newSchema\r\n                .values()\r\n                .stream()\r\n                .map(Column::tableName)\r\n                .distinct()\r\n                .collect(Collectors.toMap(k -&gt; k, v -&gt; new ArrayList()));\r\n```\r\n\r\n// this is kotlin code\r\n\r\n```\r\nval tableRows = newSchema.values.map { it.tableName() }.distinct()???????????\r\n```\r\n\r\nand i don&#39;t know how to write this...\r\n","title":"how to convert this java code `Collectors.toMap()` to kotlin","body":"<p>// this is java code</p>\n<pre><code> Map&lt;String, List&lt;List&lt;Object&gt;&gt;&gt; tableRows = newSchema\n                .values()\n                .stream()\n                .map(Column::tableName)\n                .distinct()\n                .collect(Collectors.toMap(k -&gt; k, v -&gt; new ArrayList()));\n</code></pre>\n<p>// this is kotlin code</p>\n<pre><code>val tableRows = newSchema.values.map { it.tableName() }.distinct()???????????\n</code></pre>\n<p>and i don't know how to write this...</p>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":5126847,"reputation":356,"user_id":4108566,"accept_rate":50,"display_name":"VMi"},"score":0,"creation_date":1659391595,"post_id":73199975,"comment_id":129279353,"body_markdown":"lockedFile.toFile().setReadable(false) return true if you have access permission to lock this files readability. Can you check what is that returning ? seems like an access Exception or Security Exception due to read-write permission on Windows","body":"lockedFile.toFile().setReadable(false) return true if you have access permission to lock this files readability. Can you check what is that returning ? seems like an access Exception or Security Exception due to read-write permission on Windows"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1659391680,"post_id":73199975,"comment_id":129279367,"body_markdown":"It works for me. I&#39;m not sure what locking the file has to do with anything here.","body":"It works for me. I&#39;m not sure what locking the file has to do with anything here."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1659391704,"post_id":73199975,"comment_id":129279373,"body_markdown":"`lockedFile.toFile().setReadable(false)` returns `false`. This is inside a unit test on Windows 10 for which JUnit 5 is passing me a `@TempDir`.","body":"<code>lockedFile.toFile().setReadable(false)</code> returns <code>false</code>. This is inside a unit test on Windows 10 for which JUnit 5 is passing me a <code>@TempDir</code>."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1659391858,"post_id":73199975,"comment_id":129279404,"body_markdown":"Mr. Polk, https://www.baeldung.com/java-lock-files indicates that `fileChannel.lock()` will create an exclusive lock, and also states that, &quot; an exclusive lock prevents all other operations  including reads  while a write operation completes.&quot; Naturally I was hopeful that preventing reads would make `Files.isReadable()` return `false`, but that does not seem to be the case.","body":"Mr. Polk, <a href=\"https://www.baeldung.com/java-lock-files\" rel=\"nofollow noreferrer\">baeldung.com/java-lock-files</a> indicates that <code>fileChannel.lock()</code> will create an exclusive lock, and also states that, &quot; an exclusive lock prevents all other operations  including reads  while a write operation completes.&quot; Naturally I was hopeful that preventing reads would make <code>Files.isReadable()</code> return <code>false</code>, but that does not seem to be the case."},{"owner":{"account_id":5126847,"reputation":356,"user_id":4108566,"accept_rate":50,"display_name":"VMi"},"score":0,"creation_date":1659392028,"post_id":73199975,"comment_id":129279446,"body_markdown":"https://stackoverflow.com/questions/41935829/can-not-change-permission-of-folder-through-java-code..FYI","body":"<a href=\"https://stackoverflow.com/questions/41935829/can-not-change-permission-of-folder-through-java-code..FYI\" title=\"can not change permission of folder through java code..FYI\">stackoverflow.com/questions/41935829/&hellip;</a>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1659392304,"post_id":73199975,"comment_id":129279483,"body_markdown":"VMi, so it says I cannot change certain permissions of the file from Java. OK. The question remains: how can I get `Files.isReadable()` to return `false`? I don&#39;t even mind mocking if there is a way around it. Hmmm  let me try Mockito static mocking.","body":"VMi, so it says I cannot change certain permissions of the file from Java. OK. The question remains: how can I get <code>Files.isReadable()</code> to return <code>false</code>? I don&#39;t even mind mocking if there is a way around it. Hmmm  let me try Mockito static mocking."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1659393421,"post_id":73199975,"comment_id":129279703,"body_markdown":"Unbelievably I can use static mocking on `Files` to get `Files.isReadable()` to return `false` just for one file. But it involves mocking lots of `Files` methods and makes the test brittle because it depends so much on which other `Files` methods are being called. Any better solutions?","body":"Unbelievably I can use static mocking on <code>Files</code> to get <code>Files.isReadable()</code> to return <code>false</code> just for one file. But it involves mocking lots of <code>Files</code> methods and makes the test brittle because it depends so much on which other <code>Files</code> methods are being called. Any better solutions?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1659394544,"post_id":73199975,"comment_id":129279920,"body_markdown":"This worked for me in Windows 10: `AclFileAttributeView view = Files.getFileAttributeView(path, AclFileAttributeView.class); view.setAcl(Collections.emptyList());`","body":"This worked for me in Windows 10: <code>AclFileAttributeView view = Files.getFileAttributeView(path, AclFileAttributeView.class); view.setAcl(Collections.emptyList());</code>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1659395827,"post_id":73199975,"comment_id":129280129,"body_markdown":"Ooh, VGR, the `getFileAttributeView.setAcl(emptyList()` approach seems to be working! (I can restrict the unit test to Windows, no problem.) I&#39;ll continue testing, but in the meantime, add this as an official answer so I can mark it as accepted!","body":"Ooh, VGR, the <code>getFileAttributeView.setAcl(emptyList()</code> approach seems to be working! (I can restrict the unit test to Windows, no problem.) I&#39;ll continue testing, but in the meantime, add this as an official answer so I can mark it as accepted!"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1659398495,"post_id":73199975,"comment_id":129280548,"body_markdown":"VGR, the wonderful news is that `getFileAttributeView(unreadableFile, AclFileAttributeView.class).setAcl(List.of())` works for files on Windows! Unfortunately `getFileAttributeView(unreadableDirectory, AclFileAttributeView.class).setAcl(List.of())` for directories gives a `StackOverflowError()` be recursively calling `Files.walkFileTree()` for some reason. But this is a great and welcome start; it will have to do for now.","body":"VGR, the wonderful news is that <code>getFileAttributeView(unreadableFile, AclFileAttributeView.class).setAcl(List.of())</code> works for files on Windows! Unfortunately <code>getFileAttributeView(unreadableDirectory, AclFileAttributeView.class).setAcl(List.of())</code> for directories gives a <code>StackOverflowError()</code> be recursively calling <code>Files.walkFileTree()</code> for some reason. But this is a great and welcome start; it will have to do for now."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659394738,"creation_date":1659394738,"answer_id":73200363,"question_id":73199975,"body_markdown":"The solution that &#39;covers the field&#39; so to speak, when it comes to testing anything filesystem related of any sort, is __to write your own filesystem__. Yeah, okay. It&#39;s perhaps a _bit_ of a bazooka to take out a mosquito, but, this principle extends to virtually all things you want to do and test with filesystems.\r\n\r\nFor example, wanna have some code that writes a file out and you want to check that it does, indeed, write the correct data? You could just make that file, but now you do need to worry about some directory to write to during your tests. File system access is also slow and also means you need to worry about cleaning up after the test. It&#39;s also hard to isolate them for parallellizable purposes. All of this stuff is minor annoyance at best, but it starts to feel like death with a thousand cuts.\r\n\r\nAnother major downside of what you&#39;re doing is that file systems by their nature are highly varied between architectures/OSes. You can for example use `AclFileAttributeView view = Files.getFileAttributeView(path, AclFileAttributeView.class); view.setAcl(Collections.emptyList());` which will _probably_ result in `.isReadable` returning false, if you&#39;re on an OS that supports _and_ setting a file on a filesystem that supports the notion of an acl-based access system.\r\n\r\nWhich results in the rather nasty result of you having code that works perfectly every time on your hardware, but your buddy working on a different platform can&#39;t use the code. If you don&#39;t want that, virtual file systems can fix this for you.\r\n\r\n## Write my own.. what?\r\n\r\nOne of the advantages of the &#39;new&#39; file IO stuff (`java.nio.file`, vs. the old `java.io` stuff) is that filesystems are _mostly_ abstracted out.\r\n\r\nThe concept &#39;a file system&#39; is something you get to define. Thus, you can define one that operates entirely in memory - you now no longer need to worry about cleanup, it&#39;ll be as fast as it can be, and it&#39;ll be independent of any other tests if you want them to be. It also makes mocking stuff out (&#39;mocking&#39;, the english word, not &#39;mocking&#39; such as JMock) a lot easier.\r\n\r\nA bit like the time stuff, you do have to always use the right calls (i.e. if you make a habit of invoking `LocalDate.now()` in your source, you need to switch that over to `LocalDate.now(clock)` so that you can set up dummy clocks for stable testing). You can&#39;t just use `Paths.get()` everywhere - the `Path` object &#39;encodes&#39; which filesystem is in use (and you want it to &#39;encode&#39; that your test filesystem is in use).\r\n\r\nInstead of `Paths.get(&quot;/path/stuff&quot;)` you have to call:\r\n\r\n`someFileSystem.getPath(&quot;/path/stuff&quot;)` where `someFileSystem` can be `FileSystems.getDefault()` which then gets you identical behaviour to `Paths.get`, but it needs to be injected, so that under test conditions, you can have that be your test filesystem.\r\n\r\nNow all you need is a fake file system. Unfortunately, the FileSystem API is quite complicated. Making your own is not exactly trivial. Fortunately, you don&#39;t have to shave this particular yak; someone&#39;s (Google&#39;s dev team, to be specific) has already done that for you. Presenting [JimFS](https://github.com/google/jimfs)!\r\n\r\n## Downsides\r\n\r\n* Integrating JimFS is still a bit complicated.\r\n* `Paths.get(&quot;/x/y&quot;)` needs to be put on your linter&#39;s ban list; stamping this out may require quite a bit of rewrites. Especially if you do not using a dependency injection framework. It can be worthwhile to set up a simple singleton that can be asked for the filesystem; in basis it can return `FileSystems.getDefault()` and then all code works identically. You can then expand it and e.g. add a global &#39;override with my dummy file system&#39; option, or use `ThreadLocal` to allow individual threads to each get their own, whatever you need.\r\n* Any usage of the old API (`java.io`), notably including attempts to use `path.toFile()` aren&#39;t going to work. The old API, as far as I know, simply can only interact with the actual filesystem. Thus, you also need to go on a search spree for any usage of old `j.i.File` anywhere in your code base and replace it with `fileSystem.getPath` based code instead.\r\n\r\nIt&#39;s understandable if this feels like a more arduous path vs. your current solution of mocking out the `j.n.f.Files` class. You&#39;d know best, it&#39;s your project. However, I think this covers your 2 main options: Mock all the things, or, use a test file system.\r\n","title":"How to make create a path in Java for which isReadable(path) returns false?","body":"<p>The solution that 'covers the field' so to speak, when it comes to testing anything filesystem related of any sort, is <strong>to write your own filesystem</strong>. Yeah, okay. It's perhaps a <em>bit</em> of a bazooka to take out a mosquito, but, this principle extends to virtually all things you want to do and test with filesystems.</p>\n<p>For example, wanna have some code that writes a file out and you want to check that it does, indeed, write the correct data? You could just make that file, but now you do need to worry about some directory to write to during your tests. File system access is also slow and also means you need to worry about cleaning up after the test. It's also hard to isolate them for parallellizable purposes. All of this stuff is minor annoyance at best, but it starts to feel like death with a thousand cuts.</p>\n<p>Another major downside of what you're doing is that file systems by their nature are highly varied between architectures/OSes. You can for example use <code>AclFileAttributeView view = Files.getFileAttributeView(path, AclFileAttributeView.class); view.setAcl(Collections.emptyList());</code> which will <em>probably</em> result in <code>.isReadable</code> returning false, if you're on an OS that supports <em>and</em> setting a file on a filesystem that supports the notion of an acl-based access system.</p>\n<p>Which results in the rather nasty result of you having code that works perfectly every time on your hardware, but your buddy working on a different platform can't use the code. If you don't want that, virtual file systems can fix this for you.</p>\n<h2>Write my own.. what?</h2>\n<p>One of the advantages of the 'new' file IO stuff (<code>java.nio.file</code>, vs. the old <code>java.io</code> stuff) is that filesystems are <em>mostly</em> abstracted out.</p>\n<p>The concept 'a file system' is something you get to define. Thus, you can define one that operates entirely in memory - you now no longer need to worry about cleanup, it'll be as fast as it can be, and it'll be independent of any other tests if you want them to be. It also makes mocking stuff out ('mocking', the english word, not 'mocking' such as JMock) a lot easier.</p>\n<p>A bit like the time stuff, you do have to always use the right calls (i.e. if you make a habit of invoking <code>LocalDate.now()</code> in your source, you need to switch that over to <code>LocalDate.now(clock)</code> so that you can set up dummy clocks for stable testing). You can't just use <code>Paths.get()</code> everywhere - the <code>Path</code> object 'encodes' which filesystem is in use (and you want it to 'encode' that your test filesystem is in use).</p>\n<p>Instead of <code>Paths.get(&quot;/path/stuff&quot;)</code> you have to call:</p>\n<p><code>someFileSystem.getPath(&quot;/path/stuff&quot;)</code> where <code>someFileSystem</code> can be <code>FileSystems.getDefault()</code> which then gets you identical behaviour to <code>Paths.get</code>, but it needs to be injected, so that under test conditions, you can have that be your test filesystem.</p>\n<p>Now all you need is a fake file system. Unfortunately, the FileSystem API is quite complicated. Making your own is not exactly trivial. Fortunately, you don't have to shave this particular yak; someone's (Google's dev team, to be specific) has already done that for you. Presenting <a href=\"https://github.com/google/jimfs\" rel=\"nofollow noreferrer\">JimFS</a>!</p>\n<h2>Downsides</h2>\n<ul>\n<li>Integrating JimFS is still a bit complicated.</li>\n<li><code>Paths.get(&quot;/x/y&quot;)</code> needs to be put on your linter's ban list; stamping this out may require quite a bit of rewrites. Especially if you do not using a dependency injection framework. It can be worthwhile to set up a simple singleton that can be asked for the filesystem; in basis it can return <code>FileSystems.getDefault()</code> and then all code works identically. You can then expand it and e.g. add a global 'override with my dummy file system' option, or use <code>ThreadLocal</code> to allow individual threads to each get their own, whatever you need.</li>\n<li>Any usage of the old API (<code>java.io</code>), notably including attempts to use <code>path.toFile()</code> aren't going to work. The old API, as far as I know, simply can only interact with the actual filesystem. Thus, you also need to go on a search spree for any usage of old <code>j.i.File</code> anywhere in your code base and replace it with <code>fileSystem.getPath</code> based code instead.</li>\n</ul>\n<p>It's understandable if this feels like a more arduous path vs. your current solution of mocking out the <code>j.n.f.Files</code> class. You'd know best, it's your project. However, I think this covers your 2 main options: Mock all the things, or, use a test file system.</p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659405752,"creation_date":1659405752,"answer_id":73201259,"question_id":73199975,"body_markdown":"This worked for me in Windows 10:\r\n\r\n    AclFileAttributeView view =\r\n        Files.getFileAttributeView(path, AclFileAttributeView.class);\r\n    view.setAcl(Collections.emptyList());\r\n\r\nFor completeness across operating systems, you can guard it with the appropriate checks, and add a similar thing for (most) Unix file systems:\r\n\r\n    FileStore store = Files.getFileStore(path);\r\n    if (store.supportsFileAttributeView(AclFileAttributeView.class)) {\r\n        AclFileAttributeView view =\r\n            Files.getFileAttributeView(path, AclFileAttributeView.class);\r\n        view.setAcl(Collections.emptyList());\r\n    } else if (store.supportsFileAttributeView(PosixFileAttributeView.class)) {\r\n        Files.setPosixFilePermissions(path,\r\n            EnumSet.noneOf(PosixFilePermission.class));\r\n    }\r\n","title":"How to make create a path in Java for which isReadable(path) returns false?","body":"<p>This worked for me in Windows 10:</p>\n<pre><code>AclFileAttributeView view =\n    Files.getFileAttributeView(path, AclFileAttributeView.class);\nview.setAcl(Collections.emptyList());\n</code></pre>\n<p>For completeness across operating systems, you can guard it with the appropriate checks, and add a similar thing for (most) Unix file systems:</p>\n<pre><code>FileStore store = Files.getFileStore(path);\nif (store.supportsFileAttributeView(AclFileAttributeView.class)) {\n    AclFileAttributeView view =\n        Files.getFileAttributeView(path, AclFileAttributeView.class);\n    view.setAcl(Collections.emptyList());\n} else if (store.supportsFileAttributeView(PosixFileAttributeView.class)) {\n    Files.setPosixFilePermissions(path,\n        EnumSet.noneOf(PosixFilePermission.class));\n}\n</code></pre>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73201259,"answer_count":2,"score":1,"last_activity_date":1659405752,"creation_date":1659390768,"question_id":73199975,"body_markdown":"Other questions in this forum ask how to make a file not readable in Java. This question is different. The other questions I have found point out how to lock a file from being read, but [`Files.isReadable(Path)`][1] still returns `true`!\r\n\r\nUsing Java 17 on Windows 10 I have a method that has a contract to do (or not do) certain things if `Files.isReadable()` returns `false` for a certain path. I need to test that method, so I need to artificially create a file or directory (preferably one of each) for which `Files.isReadable()` returns false.\r\n\r\nI have tried creating an exclusive lock on the file:\r\n\r\n```java\r\nPath lockedFile = writeString(directory.resolve(&quot;locked.txt&quot;), &quot;locked&quot;);\r\ntry (final FileChannel channel = FileChannel.open(lockedFile, StandardOpenOption.APPEND);\r\n    FileLock lock = channel.lock()) {\r\n  System.out.println(&quot;is locked file readable? &quot; + isReadable(lockedFile));\r\n}\r\n```\r\n\r\nYet `isReadable()` still returns `true`.\r\n\r\nI have tried using [`File.setReadable()`][2]:\r\n\r\n```java\r\nPath lockedFile = writeString(directory.resolve(&quot;locked.txt&quot;), &quot;locked&quot;);\r\nlockedFile.toFile().setReadable(false);\r\nSystem.out.println(&quot;is locked file readable? &quot; + isReadable(lockedFile));\r\n```\r\n\r\nStill `Files.isReadable()` returns `true`.\r\n\r\n**What can I do to a file to make `isReadable()` return `false`?** (Something Windows-specific would be acceptable, as I could set up my unit test to run only on Windows, but at least I would be able to test the method.)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#isReadable(java.nio.file.Path)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html#setReadable(boolean)","title":"How to make create a path in Java for which isReadable(path) returns false?","body":"<p>Other questions in this forum ask how to make a file not readable in Java. This question is different. The other questions I have found point out how to lock a file from being read, but <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#isReadable(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.isReadable(Path)</code></a> still returns <code>true</code>!</p>\n<p>Using Java 17 on Windows 10 I have a method that has a contract to do (or not do) certain things if <code>Files.isReadable()</code> returns <code>false</code> for a certain path. I need to test that method, so I need to artificially create a file or directory (preferably one of each) for which <code>Files.isReadable()</code> returns false.</p>\n<p>I have tried creating an exclusive lock on the file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path lockedFile = writeString(directory.resolve(&quot;locked.txt&quot;), &quot;locked&quot;);\ntry (final FileChannel channel = FileChannel.open(lockedFile, StandardOpenOption.APPEND);\n    FileLock lock = channel.lock()) {\n  System.out.println(&quot;is locked file readable? &quot; + isReadable(lockedFile));\n}\n</code></pre>\n<p>Yet <code>isReadable()</code> still returns <code>true</code>.</p>\n<p>I have tried using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/File.html#setReadable(boolean)\" rel=\"nofollow noreferrer\"><code>File.setReadable()</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path lockedFile = writeString(directory.resolve(&quot;locked.txt&quot;), &quot;locked&quot;);\nlockedFile.toFile().setReadable(false);\nSystem.out.println(&quot;is locked file readable? &quot; + isReadable(lockedFile));\n</code></pre>\n<p>Still <code>Files.isReadable()</code> returns <code>true</code>.</p>\n<p><strong>What can I do to a file to make <code>isReadable()</code> return <code>false</code>?</strong> (Something Windows-specific would be acceptable, as I could set up my unit test to run only on Windows, but at least I would be able to test the method.)</p>\n"},{"tags":["java","multithreading","logging","junit"],"answers":[{"tags":[],"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659405018,"creation_date":1659405018,"answer_id":73201205,"question_id":73193418,"body_markdown":"Why don&#39;t you test based on the outcome? So do the scheduled pick-ups eventually get to their location? Testing on outcome makes your test a lot less sensitive to future change since it doesn&#39;t rely that much on the implementation.","title":"JUnit test thread&#39;s operations order","body":"<p>Why don't you test based on the outcome? So do the scheduled pick-ups eventually get to their location? Testing on outcome makes your test a lot less sensitive to future change since it doesn't rely that much on the implementation.</p>\n"}],"owner":{"account_id":12527777,"reputation":584,"user_id":9116959,"display_name":"Kfir Ettinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73201205,"answer_count":1,"score":2,"last_activity_date":1659405018,"creation_date":1659355645,"question_id":73193418,"body_markdown":"I Have a *Multi-threaded*, shared-taxi simulator that I implemented.\r\n\r\nIn addition to the threads that produce real-time activities and display the road-map, the projects contains the following threads:\r\n\r\n 1. A `MatchMaker` thread that runs a matching algorithm between taxies and passengers.\r\n 2. Each `Taxi` runs on its own thread, which calculates at any given moment the current position of the taxi and the shortest route to pick up and drop off all the passengers that the `MatchMaker` has matched to it.\r\n\r\nI want to write a `JUnit` test to check the order of operations (*pickup, dropoff and route-changing*) that each taxi is doing. \r\n\r\n\r\nMy naive solution is to make each thread write to a log file after each operation, e.g.  \r\n```&quot;Taxi &lt;taxi-id&gt; picked up &lt;passenger-id&gt;.&quot; ```  \r\nthen reconstruct the order of operations from the log file. And finally, check if it matches my expectations.\r\n\r\nHowever, I&#39;m pretty sure that this approach is inefficient.  \r\nSo, what is the correct/traditional way to test a thread&#39;s operations order?\r\n","title":"JUnit test thread&#39;s operations order","body":"<p>I Have a <em>Multi-threaded</em>, shared-taxi simulator that I implemented.</p>\n<p>In addition to the threads that produce real-time activities and display the road-map, the projects contains the following threads:</p>\n<ol>\n<li>A <code>MatchMaker</code> thread that runs a matching algorithm between taxies and passengers.</li>\n<li>Each <code>Taxi</code> runs on its own thread, which calculates at any given moment the current position of the taxi and the shortest route to pick up and drop off all the passengers that the <code>MatchMaker</code> has matched to it.</li>\n</ol>\n<p>I want to write a <code>JUnit</code> test to check the order of operations (<em>pickup, dropoff and route-changing</em>) that each taxi is doing.</p>\n<p>My naive solution is to make each thread write to a log file after each operation, e.g.<br />\n<code>&quot;Taxi &lt;taxi-id&gt; picked up &lt;passenger-id&gt;.&quot; </code><br />\nthen reconstruct the order of operations from the log file. And finally, check if it matches my expectations.</p>\n<p>However, I'm pretty sure that this approach is inefficient.<br />\nSo, what is the correct/traditional way to test a thread's operations order?</p>\n"},{"tags":["java","x86","program-files"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1626795534,"post_id":68457612,"comment_id":120986085,"body_markdown":"1) No, you don&#39;t have a *duplicate* JRE, you have an different JRE. --- 2) A JDK always includes a JRE embedded as part of the JDK, so there is one. Java 16 doesn&#39;t have a dedicated JRE anymore.","body":"1) No, you don&#39;t have a <i>duplicate</i> JRE, you have an different JRE. --- 2) A JDK always includes a JRE embedded as part of the JDK, so there is one. Java 16 doesn&#39;t have a dedicated JRE anymore."},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":0,"creation_date":1626795536,"post_id":68457612,"comment_id":120986086,"body_markdown":"The `Program Files (x86)` directory is mostly there for historical purposes, and doesn&#39;t require programs within to actually be 32 bit executables. Your `PATH` environment variable likely includes both versions of `Program Files`, so it doesn&#39;t really make a difference.","body":"The <code>Program Files (x86)</code> directory is mostly there for historical purposes, and doesn&#39;t require programs within to actually be 32 bit executables. Your <code>PATH</code> environment variable likely includes both versions of <code>Program Files</code>, so it doesn&#39;t really make a difference."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1626795621,"post_id":68457612,"comment_id":120986123,"body_markdown":"@h0r53 Although you *can* install 64-bit in `Program Files (x86)`, that is besides the point (i.e. irrelevant to the question), because the JRE in the `C:\\Program Files (x86)\\Java\\jre1.8.0_291` folder is actually a 32-bit version of the JRE.","body":"@h0r53 Although you <i>can</i> install 64-bit in <code>Program Files (x86)</code>, that is besides the point (i.e. irrelevant to the question), because the JRE in the <code>C:\\Program Files (x86)\\Java\\jre1.8.0_291</code> folder is actually a 32-bit version of the JRE."},{"owner":{"account_id":14583481,"reputation":37,"user_id":10533111,"display_name":"Roo Tenshi"},"score":0,"creation_date":1626796113,"post_id":68457612,"comment_id":120986313,"body_markdown":"@Andreas, so I don&#39;t have *duplicate* but i have both 64-bit and 32-bit right? and do i need that different build in `Program Files (x86)`?","body":"@Andreas, so I don&#39;t have <i>duplicate</i> but i have both 64-bit and 32-bit right? and do i need that different build in <code>Program Files (x86)</code>?"},{"owner":{"account_id":14583481,"reputation":37,"user_id":10533111,"display_name":"Roo Tenshi"},"score":0,"creation_date":1626796247,"post_id":68457612,"comment_id":120986379,"body_markdown":"@h0r53 , the `PATH` environment variable only includes `C:\\Program Files\\Java\\jdk-16.0.1\\bin` and `JAVA-HOME` is also set to `C:\\Program Files\\Java\\jdk-16.0.1`","body":"@h0r53 , the <code>PATH</code> environment variable only includes <code>C:\\Program Files\\Java\\jdk-16.0.1\\bin</code> and <code>JAVA-HOME</code> is also set to <code>C:\\Program Files\\Java\\jdk-16.0.1</code>"},{"owner":{"account_id":14583481,"reputation":37,"user_id":10533111,"display_name":"Roo Tenshi"},"score":0,"creation_date":1626812040,"post_id":68457612,"comment_id":120991783,"body_markdown":"Can you please check the **updated** question?","body":"Can you please check the <b>updated</b> question?"}],"answers":[{"tags":[],"owner":{"account_id":25952884,"reputation":11,"user_id":19670652,"display_name":"asathsnrgit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659404644,"creation_date":1659404644,"answer_id":73201179,"question_id":68457612,"body_markdown":"&quot;If you want to run Java programs, but not develop them, download the JRE. If you want to develop Java applications, download the Java Development Kit, or JDK. The JDK includes the JRE, so you do not have to download both separately.&quot;\r\n\r\nreference:\r\nJDK 7 and JRE 7 Installation Guide https://docs.oracle.com ","title":"Why my JRE is in C:\\Program Files (x86) although it&#39;s a 64-Bit build?","body":"<p>&quot;If you want to run Java programs, but not develop them, download the JRE. If you want to develop Java applications, download the Java Development Kit, or JDK. The JDK includes the JRE, so you do not have to download both separately.&quot;</p>\n<p>reference:\nJDK 7 and JRE 7 Installation Guide <a href=\"https://docs.oracle.com\" rel=\"nofollow noreferrer\">https://docs.oracle.com</a></p>\n"}],"owner":{"account_id":14583481,"reputation":37,"user_id":10533111,"display_name":"Roo Tenshi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659404644,"creation_date":1626795197,"question_id":68457612,"body_markdown":"I downloaded JRE first. Then downloaded JDK. \r\n\r\nMy JRE is in this directory  \r\n&gt; C:\\Program Files (x86)\\Java\\jre1.8.0_291 \r\n\r\nMy JDK is in this directory  \r\n&gt; C:\\Program Files\\Java\\jdk-16.0.1\r\n\r\nRunning `java -version` command yields the following : \r\n\r\n```\r\nC:\\Program Files (x86)\\Java\\jre1.8.0_291\\bin&gt;java -version\r\njava version &quot;1.8.0_291&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_291-b10)\r\nJava HotSpot(TM) Client VM (build 25.291-b10, mixed mode, sharing)\r\n```\r\n\r\n```\r\nC:\\Program Files\\Java\\jdk-16.0.1\\bin&gt;java -version\r\njava version &quot;16.0.1&quot; 2021-04-20\r\nJava(TM) SE Runtime Environment (build 16.0.1+9-24)\r\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.1+9-24, mixed mode, sharing)\r\n```\r\n\r\ndoes that mean I have a duplicate JRE?  \r\nIf so, why there is no JRE in `C:\\Program Files\\Java\\` ?\r\n","title":"Why my JRE is in C:\\Program Files (x86) although it&#39;s a 64-Bit build?","body":"<p>I downloaded JRE first. Then downloaded JDK.</p>\n<p>My JRE is in this directory</p>\n<blockquote>\n<p>C:\\Program Files (x86)\\Java\\jre1.8.0_291</p>\n</blockquote>\n<p>My JDK is in this directory</p>\n<blockquote>\n<p>C:\\Program Files\\Java\\jdk-16.0.1</p>\n</blockquote>\n<p>Running <code>java -version</code> command yields the following :</p>\n<pre><code>C:\\Program Files (x86)\\Java\\jre1.8.0_291\\bin&gt;java -version\njava version &quot;1.8.0_291&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_291-b10)\nJava HotSpot(TM) Client VM (build 25.291-b10, mixed mode, sharing)\n</code></pre>\n<pre><code>C:\\Program Files\\Java\\jdk-16.0.1\\bin&gt;java -version\njava version &quot;16.0.1&quot; 2021-04-20\nJava(TM) SE Runtime Environment (build 16.0.1+9-24)\nJava HotSpot(TM) 64-Bit Server VM (build 16.0.1+9-24, mixed mode, sharing)\n</code></pre>\n<p>does that mean I have a duplicate JRE?<br />\nIf so, why there is no JRE in <code>C:\\Program Files\\Java\\</code> ?</p>\n"},{"tags":["java","spring","annotations"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1659406178,"post_id":73198268,"comment_id":129281697,"body_markdown":"*&quot;I&#39;m trying to avoid writing a method that just checks the day of the week and exits.&quot;* - 1) Why?  Nothing wrong with doing that.  2) I think you are out of luck.   This would be &quot;rarely used&quot; functionality.  The kind of thing that is not worth the Spring team implementing and maintaining.","body":"<i>&quot;I&#39;m trying to avoid writing a method that just checks the day of the week and exits.&quot;</i> - 1) Why?  Nothing wrong with doing that.  2) I think you are out of luck.   This would be &quot;rarely used&quot; functionality.  The kind of thing that is not worth the Spring team implementing and maintaining."},{"owner":{"account_id":25950812,"reputation":11,"user_id":19668881,"display_name":"SpaghettiCodeConnoisseur"},"score":0,"creation_date":1659445742,"post_id":73198268,"comment_id":129292671,"body_markdown":"I was worried about that. Thank you.","body":"I was worried about that. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":15811413,"reputation":38,"user_id":11408361,"display_name":"Park-se-jin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659404419,"creation_date":1659404419,"answer_id":73201158,"question_id":73198268,"body_markdown":"I don&#39;t think there&#39;s any comment to check the day of the week in the spring.\r\n\r\nYou may need to use the following methods:    \r\n\r\n\tpublic void checkDate() {\r\n\t\t\r\n\t\tLocalDate localDate = LocalDate.now();\r\n\t\t\r\n\t\tDayOfWeek dayOfWeek = localDate.getDayOfWeek();\r\n\t\t\r\n\t\tif(dayOfWeek == DayOfWeek.SATURDAY || dayOfWeek == DayOfWeek.SUNDAY) {\r\n\t\t\t// ...do something\r\n\t\t}\r\n\t\t\r\n\t}","title":"How do I restrict a method so that it will only run on certain days if called?","body":"<p>I don't think there's any comment to check the day of the week in the spring.</p>\n<p>You may need to use the following methods:</p>\n<pre><code>public void checkDate() {\n    \n    LocalDate localDate = LocalDate.now();\n    \n    DayOfWeek dayOfWeek = localDate.getDayOfWeek();\n    \n    if(dayOfWeek == DayOfWeek.SATURDAY || dayOfWeek == DayOfWeek.SUNDAY) {\n        // ...do something\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":25950812,"reputation":11,"user_id":19668881,"display_name":"SpaghettiCodeConnoisseur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73201158,"answer_count":1,"score":0,"last_activity_date":1659404419,"creation_date":1659379765,"question_id":73198268,"body_markdown":"I want to restrict a method to only be executable on weekdays. Is there a spring annotation that would allow for this? Im trying to avoid writing a method that just checks the day of the week and exits. ","title":"How do I restrict a method so that it will only run on certain days if called?","body":"<p>I want to restrict a method to only be executable on weekdays. Is there a spring annotation that would allow for this? Im trying to avoid writing a method that just checks the day of the week and exits.</p>\n"},{"tags":["java","glassfish","corba","orb"],"comments":[{"owner":{"account_id":542040,"reputation":162,"user_id":910777,"display_name":"xski"},"score":0,"creation_date":1665039859,"post_id":73148428,"comment_id":130606722,"body_markdown":"If you&#39;re looking for a standalone ORB, you might try JacORB (https://www.jacorb.org/). I&#39;ve been using it in CORBA projects for... more years than I care to admit.","body":"If you&#39;re looking for a standalone ORB, you might try JacORB (<a href=\"https://www.jacorb.org/\" rel=\"nofollow noreferrer\">jacorb.org</a>). I&#39;ve been using it in CORBA projects for... more years than I care to admit."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659404198,"creation_date":1659198625,"answer_id":73177357,"question_id":73148428,"body_markdown":"&gt; Is CORBA of JBoss OpenJDK ORB same as in JDK?\r\n\r\nThe answer to your question is Yes.  \r\n\r\nThe JBoss OpenJDK ORB is described as a &quot;downstream fork&quot; of the OpenJDK ORB.  The differences are minimal&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nNote that official OpenJDK CORBA didn&#39;t move past CORBA 2.3.1 (which was only a minor editorial revision of 2.3).  There are other CORBA vendors, but I haven&#39;t been able to find any that claim to fully implement later versions of the CORBA specs.\r\n\r\n----------------------\r\n\r\n&lt;sup&gt;1 - If you need to, you can grab the respective source code trees from git and use `diff -r` to compare them.&lt;/sup&gt;\r\n","title":"Is CORBA of JBoss OpenJDK ORB same as in JDK","body":"<blockquote>\n<p>Is CORBA of JBoss OpenJDK ORB same as in JDK?</p>\n</blockquote>\n<p>The answer to your question is Yes.</p>\n<p>The JBoss OpenJDK ORB is described as a &quot;downstream fork&quot; of the OpenJDK ORB.  The differences are minimal<sup>1</sup>.</p>\n<p>Note that official OpenJDK CORBA didn't move past CORBA 2.3.1 (which was only a minor editorial revision of 2.3).  There are other CORBA vendors, but I haven't been able to find any that claim to fully implement later versions of the CORBA specs.</p>\n<hr />\n<p><sup>1 - If you need to, you can grab the respective source code trees from git and use <code>diff -r</code> to compare them.</sup></p>\n"}],"owner":{"account_id":5963633,"reputation":31,"user_id":4687994,"display_name":"user4687994"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73177357,"answer_count":1,"score":-1,"last_activity_date":1659404198,"creation_date":1658991073,"question_id":73148428,"body_markdown":"We are planning on migrating from JDK7 to JDK17. It seems there are two possible alternative for CORBA:\r\n\r\n    (1) GlassFish-Corba\r\n    (2) JBoss repackaging of the OpenJDK ORB\r\n\r\nJDK7 uses CORBA 2.3.1 .\r\nGlassFish ORB complies with the CORBA 2.3.1 specification.\r\nBut there is no specific CORBA description for JBoss repackaging of the OpenJDK ORB. Is it the same as in the JDK?","title":"Is CORBA of JBoss OpenJDK ORB same as in JDK","body":"<p>We are planning on migrating from JDK7 to JDK17. It seems there are two possible alternative for CORBA:</p>\n<pre><code>(1) GlassFish-Corba\n(2) JBoss repackaging of the OpenJDK ORB\n</code></pre>\n<p>JDK7 uses CORBA 2.3.1 .\nGlassFish ORB complies with the CORBA 2.3.1 specification.\nBut there is no specific CORBA description for JBoss repackaging of the OpenJDK ORB. Is it the same as in the JDK?</p>\n"},{"tags":["java","spring-boot","oauth-2.0","postman","github-oauth"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659389345,"post_id":73199684,"comment_id":129278842,"body_markdown":"how can we know? you have not provided any code","body":"how can we know? you have not provided any code"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659392709,"post_id":73199684,"comment_id":129279556,"body_markdown":"the code provided contains NO security configuration, please provide enough code for us to reproduce the problem","body":"the code provided contains NO security configuration, please provide enough code for us to reproduce the problem"},{"owner":{"account_id":21241428,"reputation":13,"user_id":18439339,"display_name":"google"},"score":0,"creation_date":1659393435,"post_id":73199684,"comment_id":129279707,"body_markdown":"I don&#39;t have security configuration. Is that what I should be adding?","body":"I don&#39;t have security configuration. Is that what I should be adding?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1659393574,"post_id":73199684,"comment_id":129279744,"body_markdown":"how do you think your application knows it should connect to github. You wrote `I&#39;m setting up my Spring application with OAut2 authorization. I have connected my application to the github OAuth app` i dont see any code that does this. Read the spring security documentation before asking on stack overflow.","body":"how do you think your application knows it should connect to github. You wrote <code>I&#39;m setting up my Spring application with OAut2 authorization. I have connected my application to the github OAuth app</code> i dont see any code that does this. Read the spring security documentation before asking on stack overflow."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659402499,"creation_date":1659402499,"answer_id":73201008,"question_id":73199684,"body_markdown":"What you are doing wrong: have no knowledge of OAuth2. You need to understand it before you have a chance to configure correctly spring applications.\r\n\r\nYou are obviously trying to configure a resource-server with Github as authorization-server.\r\n\r\nUnfortunately, Github issues opaque tokens which can be used to query Github resources only. You can&#39;t easily use this tokens for securing your own resource-servers.\r\n\r\nYou might use an OIDC authorization-server capable of user identity federation (like Keycloak) in front of Github and then setup JWT security for spring resource-servers. Tutorials [here][1] (with basic OAuth2 introduction).\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials","title":"Using Github OAuth2 with Application Postman is returning HTML Welcome Page Instead of Response","body":"<p>What you are doing wrong: have no knowledge of OAuth2. You need to understand it before you have a chance to configure correctly spring applications.</p>\n<p>You are obviously trying to configure a resource-server with Github as authorization-server.</p>\n<p>Unfortunately, Github issues opaque tokens which can be used to query Github resources only. You can't easily use this tokens for securing your own resource-servers.</p>\n<p>You might use an OIDC authorization-server capable of user identity federation (like Keycloak) in front of Github and then setup JWT security for spring resource-servers. Tutorials <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">here</a> (with basic OAuth2 introduction).</p>\n"}],"owner":{"account_id":21241428,"reputation":13,"user_id":18439339,"display_name":"google"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659402499,"creation_date":1659388408,"question_id":73199684,"body_markdown":"I&#39;m setting up my Spring application with OAut2 authorization. I have connected my application to the github OAuth app, I have added the dependencies. When I go to use Postman to test my application, I try to set up the OAuth2 under the authorization header to get the token to generate so I can access my account but when I do it gives me this error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAm I supposed to add something to my code to make the token generate now? Or am I setting it up wrong? \r\n\r\nHere is my code: \r\n\r\nUserController.java\r\n  \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {\r\n    @Autowired\r\n    UserService userService;\r\n\r\n    @GetMapping(&quot;&quot;)\r\n    public List&lt;User&gt; list() {\r\n        return userService.listAllUser();\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; get(@PathVariable Integer id) {\r\n        try {\r\n            User user = userService.getUser(id);\r\n            return new ResponseEntity&lt;User&gt;(user, HttpStatus.OK);\r\n        } catch (NoSuchElementException e) {\r\n            return new ResponseEntity&lt;User&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public void add(@RequestBody User user) {\r\n        userService.saveUser(user);\r\n    }\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;?&gt; update(@RequestBody User user, @PathVariable Integer id) {\r\n        try {\r\n            User existUser = userService.getUser(id);\r\n            user.setId(id);\r\n            userService.saveUser(user);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        } catch (NoSuchElementException e) {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void delete(@PathVariable Integer id) {\r\n\r\n        userService.deleteUser(id);\r\n        }\r\n    }\r\n\r\n\r\nUser.java\r\n\r\n\r\n\r\n    @Entity\r\n    @Access(AccessType.FIELD)\r\n    @Table(name = &quot;USER_INFO&quot;)\r\n    public class User {\r\n        @Id\r\n        @Column(name=&quot;USERINFOID&quot;, updatable=false, nullable=false)\r\n        private int id;\r\n\r\n       @Column(name=&quot;USEREMAIL&quot;)\r\n       private String email;\r\n\r\n        @Column(name=&quot;USERROLE&quot;)\r\n        private int role;\r\n\r\n        @Column(name=&quot;USERSUBSCRIBED&quot;)\r\n        private int subscribed;\r\n\r\n        @Column(name=&quot;FNAME&quot;)\r\n        private String Fname;\r\n\r\n        @Column(name=&quot;LNAME&quot;)\r\n        private String Lname;\r\n\r\n    public User() {\r\n        }\r\n\r\n        public User(int id, String email, int role, int subscribed, String Fname, String Lname) {\r\n            this.id = id;\r\n            this.email = email;\r\n            this.role = role;\r\n            this.subscribed = subscribed;\r\n            this.Fname =Fname;\r\n            this.Lname = Lname;\r\n\r\n        }\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        public String getEmail(){\r\n         return email;\r\n        }\r\n\r\n        public int getRole(){\r\n        return role;\r\n        }\r\n\r\n        public int getSubscribed(){\r\n        return subscribed;\r\n        }\r\n\r\n        public String getFname(){\r\n            return Fname;\r\n        }\r\n\r\n        public String getLname(){\r\n            return Lname;\r\n        }\r\n\r\n\r\n    public void setId(int id) {\r\n\r\n    }\r\n}\r\n\r\nUserRepository.java\r\n\r\n     public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n    }\r\n\r\nApplication.java\r\n    public class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Assignment3Application.class, args);\r\n\t   }\r\n\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/r5qOz.png","title":"Using Github OAuth2 with Application Postman is returning HTML Welcome Page Instead of Response","body":"<p>I'm setting up my Spring application with OAut2 authorization. I have connected my application to the github OAuth app, I have added the dependencies. When I go to use Postman to test my application, I try to set up the OAuth2 under the authorization header to get the token to generate so I can access my account but when I do it gives me this error:</p>\n<p><a href=\"https://i.stack.imgur.com/r5qOz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r5qOz.png\" alt=\"enter image description here\" /></a></p>\n<p>Am I supposed to add something to my code to make the token generate now? Or am I setting it up wrong?</p>\n<p>Here is my code:</p>\n<p>UserController.java</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n@Autowired\nUserService userService;\n\n@GetMapping(&quot;&quot;)\npublic List&lt;User&gt; list() {\n    return userService.listAllUser();\n}\n\n@GetMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;User&gt; get(@PathVariable Integer id) {\n    try {\n        User user = userService.getUser(id);\n        return new ResponseEntity&lt;User&gt;(user, HttpStatus.OK);\n    } catch (NoSuchElementException e) {\n        return new ResponseEntity&lt;User&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n\n@PostMapping(&quot;/&quot;)\npublic void add(@RequestBody User user) {\n    userService.saveUser(user);\n}\n@PutMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;?&gt; update(@RequestBody User user, @PathVariable Integer id) {\n    try {\n        User existUser = userService.getUser(id);\n        user.setId(id);\n        userService.saveUser(user);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    } catch (NoSuchElementException e) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n@DeleteMapping(&quot;/{id}&quot;)\npublic void delete(@PathVariable Integer id) {\n\n    userService.deleteUser(id);\n    }\n}\n</code></pre>\n<p>User.java</p>\n<pre><code>@Entity\n@Access(AccessType.FIELD)\n@Table(name = &quot;USER_INFO&quot;)\npublic class User {\n    @Id\n    @Column(name=&quot;USERINFOID&quot;, updatable=false, nullable=false)\n    private int id;\n\n   @Column(name=&quot;USEREMAIL&quot;)\n   private String email;\n\n    @Column(name=&quot;USERROLE&quot;)\n    private int role;\n\n    @Column(name=&quot;USERSUBSCRIBED&quot;)\n    private int subscribed;\n\n    @Column(name=&quot;FNAME&quot;)\n    private String Fname;\n\n    @Column(name=&quot;LNAME&quot;)\n    private String Lname;\n\npublic User() {\n    }\n\n    public User(int id, String email, int role, int subscribed, String Fname, String Lname) {\n        this.id = id;\n        this.email = email;\n        this.role = role;\n        this.subscribed = subscribed;\n        this.Fname =Fname;\n        this.Lname = Lname;\n\n    }\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public int getId() {\n        return id;\n    }\n\n    public String getEmail(){\n     return email;\n    }\n\n    public int getRole(){\n    return role;\n    }\n\n    public int getSubscribed(){\n    return subscribed;\n    }\n\n    public String getFname(){\n        return Fname;\n    }\n\n    public String getLname(){\n        return Lname;\n    }\n\n\npublic void setId(int id) {\n\n}\n</code></pre>\n<p>}</p>\n<p>UserRepository.java</p>\n<pre><code> public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n}\n</code></pre>\n<p>Application.java\npublic class Application {</p>\n<pre><code>public static void main(String[] args) {\n    SpringApplication.run(Assignment3Application.class, args);\n   }\n\n}\n</code></pre>\n"},{"tags":["java","floating-point","zero","negative-zero"],"answers":[{"tags":[],"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1614501046,"creation_date":1353782615,"answer_id":13544352,"question_id":13544342,"body_markdown":"From Wikipedia\r\n\r\n&gt; Signed zero is zero with an associated sign. In ordinary arithmetic,\r\n&gt; `0 = +0 = 0`.  In computing, existes the concept of **existence of\r\n&gt; two zeros** in some numbers representations, usually denoted by  `0`\r\n&gt; and &#39;+0&#39;, representing  **negative zero** and `+0` **positive zero**,\r\n&gt; respectively ([source][1]).\r\n\r\n&gt; This occurs in the sign and magnitude and ones&#39; complement [signed\r\n&gt; number representations][2] for integers, and in most floating point\r\n&gt; number representations. The number 0 is usually encoded as +0, but can\r\n&gt; be represented by either +0 or 0.\r\n&gt; \r\n&gt; According to the `IEEE 754 standard`, negative zero and positive zero\r\n&gt; should **compare as equal** with the usual (numerical) comparison\r\n&gt; operators, like the == operators of C and Java. ([source][3]).\r\n\r\n\r\nWhen you have a **floating-point operation** that produces a result that is a **negative floating-point** number **close to zero**, but that can **not be represented** (by the computer) it produces a &quot;-0.0&quot;. For example -`5.0 / Float.POSITIVE_INFINITY  -&gt;  -0.0`.\r\n\r\nThis distinction between `-0.0` and `+0.0` gives the end-user more information than merely displaying a final result of `0`. Naturally, such a concept is really *only* useful in systems with a finite numerical representation limitation such as those of computers. In mathematics, one can represent any number, regardless of how close it is to zero.\r\n\r\n`0` and `+0` are the result of mathematical operations performed by computers that cause **[underflows][4]**, similar to the `00` or `+00` that result from operations that cause an **[overflow][5]**. For the operations that cause mathematical **indetermination**, the result is **NaN** (*e.g.,* 0/0).\r\n\r\n**What&#39;s the difference between -0.0 and 0.0?**\r\n\r\nIn reality, both represent `0`. Furthermore, (-0.0 == 0.0) returns **true**. Nevertheless: \r\n\r\n1) `1/-0.0` produces **-Infinity** while `1/0.0` produces **Infinity**.\r\n\r\n2) `3 * (+0)` = **+0** and `+0/-3` = **-0**. The **sign rules** applies, when performing multiplications or division over a signed zero. \r\n\r\n\r\nMandatory reading &quot;[What Every Computer Scientist Should Know About Floating-Point Arithmetic][6]&quot;.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Signed_zero\r\n  [2]: http://en.wikipedia.org/wiki/Signed_number_representations\r\n  [3]: http://en.wikipedia.org/wiki/Signed_zero\r\n  [4]: http://en.wikipedia.org/wiki/Arithmetic_underflow\r\n  [5]: http://en.wikipedia.org/wiki/Arithmetic_overflow\r\n  [6]: http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html#924","title":"Why do floating-point numbers have signed zeros?","body":"<p>From Wikipedia</p>\n<blockquote>\n<p>Signed zero is zero with an associated sign. In ordinary arithmetic,\n<code>0 = +0 = 0</code>.  In computing, existes the concept of <strong>existence of\ntwo zeros</strong> in some numbers representations, usually denoted by  <code>0</code>\nand '+0', representing  <strong>negative zero</strong> and <code>+0</code> <strong>positive zero</strong>,\nrespectively (<a href=\"http://en.wikipedia.org/wiki/Signed_zero\" rel=\"nofollow noreferrer\">source</a>).</p>\n</blockquote>\n<blockquote>\n<p>This occurs in the sign and magnitude and ones' complement <a href=\"http://en.wikipedia.org/wiki/Signed_number_representations\" rel=\"nofollow noreferrer\">signed\nnumber representations</a> for integers, and in most floating point\nnumber representations. The number 0 is usually encoded as +0, but can\nbe represented by either +0 or 0.</p>\n<p>According to the <code>IEEE 754 standard</code>, negative zero and positive zero\nshould <strong>compare as equal</strong> with the usual (numerical) comparison\noperators, like the == operators of C and Java. (<a href=\"http://en.wikipedia.org/wiki/Signed_zero\" rel=\"nofollow noreferrer\">source</a>).</p>\n</blockquote>\n<p>When you have a <strong>floating-point operation</strong> that produces a result that is a <strong>negative floating-point</strong> number <strong>close to zero</strong>, but that can <strong>not be represented</strong> (by the computer) it produces a &quot;-0.0&quot;. For example -<code>5.0 / Float.POSITIVE_INFINITY  -&gt;  -0.0</code>.</p>\n<p>This distinction between <code>-0.0</code> and <code>+0.0</code> gives the end-user more information than merely displaying a final result of <code>0</code>. Naturally, such a concept is really <em>only</em> useful in systems with a finite numerical representation limitation such as those of computers. In mathematics, one can represent any number, regardless of how close it is to zero.</p>\n<p><code>0</code> and <code>+0</code> are the result of mathematical operations performed by computers that cause <strong><a href=\"http://en.wikipedia.org/wiki/Arithmetic_underflow\" rel=\"nofollow noreferrer\">underflows</a></strong>, similar to the <code>00</code> or <code>+00</code> that result from operations that cause an <strong><a href=\"http://en.wikipedia.org/wiki/Arithmetic_overflow\" rel=\"nofollow noreferrer\">overflow</a></strong>. For the operations that cause mathematical <strong>indetermination</strong>, the result is <strong>NaN</strong> (<em>e.g.,</em> 0/0).</p>\n<p><strong>What's the difference between -0.0 and 0.0?</strong></p>\n<p>In reality, both represent <code>0</code>. Furthermore, (-0.0 == 0.0) returns <strong>true</strong>. Nevertheless:</p>\n<ol>\n<li><p><code>1/-0.0</code> produces <strong>-Infinity</strong> while <code>1/0.0</code> produces <strong>Infinity</strong>.</p>\n</li>\n<li><p><code>3 * (+0)</code> = <strong>+0</strong> and <code>+0/-3</code> = <strong>-0</strong>. The <strong>sign rules</strong> applies, when performing multiplications or division over a signed zero.</p>\n</li>\n</ol>\n<p>Mandatory reading &quot;<a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html#924\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>&quot;.</p>\n"},{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":1,"up_vote_count":90,"is_accepted":true,"score":89,"last_activity_date":1363541792,"creation_date":1353782800,"answer_id":13544379,"question_id":13544342,"body_markdown":"`-0` is (generally) treated as `0` *******. It can result when a *negative* floating-point number is so close to zero that it can be considered `0` (to be clear, I&#39;m referring to [arithmetic underflow][1], and the results of the following computations are interpreted as being *exactly* `&#177;0`, not just really small numbers). e.g.\r\n\r\n    System.out.println(-1 / Float.POSITIVE_INFINITY);\r\n\r\n&lt;pre&gt;\r\n-0.0\r\n&lt;/pre&gt;\r\n\r\n\r\n\r\nIf we consider the same case with a *positive* number, we will receive our good old `0`:\r\n\r\n    System.out.println(1 / Float.POSITIVE_INFINITY);\r\n\r\n&lt;pre&gt;\r\n0.0\r\n&lt;/pre&gt;\r\n\r\n---\r\n\r\n******* Here&#39;s a case where using `-0.0` results in something different than when using `0.0`:\r\n\r\n    System.out.println(1 / 0.0);\r\n    System.out.println(1 / -0.0);\r\n\r\n&lt;pre&gt;\r\nInfinity\r\n-Infinity\r\n&lt;/pre&gt;\r\n\r\nThis makes sense if we consider the function *`1 / x`*. As *`x`* approaches `0` from the *`+`*-side, we should get *positive* infinity, but as it approaches from the *`-`*-side, we should get *negative* infinity. The graph of the function should make this clear:\r\n\r\n![][2]\r\n\r\n([source][3])\r\n\r\nIn math-terms:\r\n\r\n![enter image description here][4]\r\n\r\n![enter image description here][5]\r\n\r\nThis illustrates one significant difference between `0` and `-0` in the computational sense.\r\n\r\n---\r\n\r\nHere are some relevant resources, some of which have been brought up already. I&#39;ve included them for the sake of completeness:\r\n\r\n- [Wikipedia article on signed zero][6]\r\n- [&quot;What Every Computer Scientist Should Know About Floating-Point Arithmetic&quot;][7] (See Signed Zero section)\r\n- (PDF) [&quot;Much Ado About Nothing&#39;s Sign Bit&quot;][8] - an interesting paper by W. Kahan.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Arithmetic_underflow\r\n  [2]: http://i.stack.imgur.com/NBuX9.png\r\n  [3]: http://www.sagemath.org/calctut/onesided.html\r\n  [4]: http://i.stack.imgur.com/qQYsm.gif\r\n  [5]: http://i.stack.imgur.com/kuvRc.gif\r\n  [6]: http://en.wikipedia.org/wiki/Signed_zero\r\n  [7]: http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\r\n  [8]: http://people.freebsd.org/~das/kahan86branch.pdf","title":"Why do floating-point numbers have signed zeros?","body":"<p><code>-0</code> is (generally) treated as <code>0</code> *******. It can result when a <em>negative</em> floating-point number is so close to zero that it can be considered <code>0</code> (to be clear, I'm referring to <a href=\"http://en.wikipedia.org/wiki/Arithmetic_underflow\" rel=\"noreferrer\">arithmetic underflow</a>, and the results of the following computations are interpreted as being <em>exactly</em> <code>0</code>, not just really small numbers). e.g.</p>\n\n<pre><code>System.out.println(-1 / Float.POSITIVE_INFINITY);\n</code></pre>\n\n<pre>\n-0.0\n</pre>\n\n<p>If we consider the same case with a <em>positive</em> number, we will receive our good old <code>0</code>:</p>\n\n<pre><code>System.out.println(1 / Float.POSITIVE_INFINITY);\n</code></pre>\n\n<pre>\n0.0\n</pre>\n\n<hr>\n\n<p>******* Here's a case where using <code>-0.0</code> results in something different than when using <code>0.0</code>:</p>\n\n<pre><code>System.out.println(1 / 0.0);\nSystem.out.println(1 / -0.0);\n</code></pre>\n\n<pre>\nInfinity\n-Infinity\n</pre>\n\n<p>This makes sense if we consider the function <em><code>1 / x</code></em>. As <em><code>x</code></em> approaches <code>0</code> from the <em><code>+</code></em>-side, we should get <em>positive</em> infinity, but as it approaches from the <em><code>-</code></em>-side, we should get <em>negative</em> infinity. The graph of the function should make this clear:</p>\n\n<p><img src=\"https://i.stack.imgur.com/NBuX9.png\" alt=\"\"></p>\n\n<p>(<a href=\"http://www.sagemath.org/calctut/onesided.html\" rel=\"noreferrer\">source</a>)</p>\n\n<p>In math-terms:</p>\n\n<p><img src=\"https://i.stack.imgur.com/qQYsm.gif\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/kuvRc.gif\" alt=\"enter image description here\"></p>\n\n<p>This illustrates one significant difference between <code>0</code> and <code>-0</code> in the computational sense.</p>\n\n<hr>\n\n<p>Here are some relevant resources, some of which have been brought up already. I've included them for the sake of completeness:</p>\n\n<ul>\n<li><a href=\"http://en.wikipedia.org/wiki/Signed_zero\" rel=\"noreferrer\">Wikipedia article on signed zero</a></li>\n<li><a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"noreferrer\">\"What Every Computer Scientist Should Know About Floating-Point Arithmetic\"</a> (See Signed Zero section)</li>\n<li>(PDF) <a href=\"http://people.freebsd.org/~das/kahan86branch.pdf\" rel=\"noreferrer\">\"Much Ado About Nothing's Sign Bit\"</a> - an interesting paper by W. Kahan.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2009857,"reputation":25959,"user_id":1798593,"display_name":"Patricia Shanahan"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1402953286,"creation_date":1353783068,"answer_id":13544428,"question_id":13544342,"body_markdown":"See the section on &quot;Signed Zero&quot; in [What Every Computer Scientist Should Know About Floating-Point Arithmetic][1]\r\n\r\nZeros in Java float and double do not just represent true zero. They are also used as the result for any calculation whose exact result has too small a magnitude to be represented. There is a big difference, in many contexts, between underflow of a negative number and underflow of a positive number. For example, if `x` is a very small magnitude positive number, `1/x` should be positive infinity and `1/(-x)` should be negative infinity. Signed zero preserves the sign of underflow results.\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html","title":"Why do floating-point numbers have signed zeros?","body":"<p>See the section on \"Signed Zero\" in <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a></p>\n\n<p>Zeros in Java float and double do not just represent true zero. They are also used as the result for any calculation whose exact result has too small a magnitude to be represented. There is a big difference, in many contexts, between underflow of a negative number and underflow of a positive number. For example, if <code>x</code> is a very small magnitude positive number, <code>1/x</code> should be positive infinity and <code>1/(-x)</code> should be negative infinity. Signed zero preserves the sign of underflow results.</p>\n"},{"tags":[],"owner":{"account_id":48015,"reputation":104353,"user_id":142434,"display_name":"Stephen Canon"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1353872443,"creation_date":1353871350,"answer_id":13554556,"question_id":13544342,"body_markdown":"The canonical reference for the usefulness of signed zeros in floating-point is Kahan&#39;s paper &quot;[Branch Cuts for Complex Elementary Functions, or Much Ado About Nothing&#39;s Sign Bit][1]&quot; (and some of his talks on the subject).\r\n\r\nThe short version is that in reasonably common engineering applications, the sign information that is preserved by having signed zero is necessary to get correct solutions from numerical methods.  The sign of zero has little meaning for most *real* operations, but when complex-valued functions are considered, or conformal mappings are used, the sign of zero may suddenly become quite critical.\r\n\r\nIt&#39;s also worth noting that the original (1985) `IEEE-754` committee considered, and rejected, supporting a *projective* mode for floating-point operations, under which there would only be a single unsigned infinity (+/-0 would be semantically identical in such a mode, so even if there were still two encodings, there would only be a single zero as well).\r\n\r\n\r\n  [1]: http://port70.net/~nsz/articles/float/kahan_branch_cuts_complex_elementary_functions_1987.pdf","title":"Why do floating-point numbers have signed zeros?","body":"<p>The canonical reference for the usefulness of signed zeros in floating-point is Kahan's paper \"<a href=\"http://port70.net/~nsz/articles/float/kahan_branch_cuts_complex_elementary_functions_1987.pdf\" rel=\"noreferrer\">Branch Cuts for Complex Elementary Functions, or Much Ado About Nothing's Sign Bit</a>\" (and some of his talks on the subject).</p>\n\n<p>The short version is that in reasonably common engineering applications, the sign information that is preserved by having signed zero is necessary to get correct solutions from numerical methods.  The sign of zero has little meaning for most <em>real</em> operations, but when complex-valued functions are considered, or conformal mappings are used, the sign of zero may suddenly become quite critical.</p>\n\n<p>It's also worth noting that the original (1985) <code>IEEE-754</code> committee considered, and rejected, supporting a <em>projective</em> mode for floating-point operations, under which there would only be a single unsigned infinity (+/-0 would be semantically identical in such a mode, so even if there were still two encodings, there would only be a single zero as well).</p>\n"}],"owner":{"account_id":917727,"reputation":2368,"user_id":950149,"accept_rate":80,"display_name":"Ken Russell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6541,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":13544379,"answer_count":4,"score":79,"last_activity_date":1659401668,"creation_date":1353782527,"question_id":13544342,"body_markdown":"Why do doubles have `-0` as well as `+0`?  What is the background and significance?","title":"Why do floating-point numbers have signed zeros?","body":"<p>Why do doubles have <code>-0</code> as well as <code>+0</code>?  What is the background and significance?</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1378408527,"creation_date":1378408138,"answer_id":18644100,"question_id":18643986,"body_markdown":"If you look at the source code for `LocaleContextHolder`, you will notice it has a `ThreadLocal` variable (it has two actually)\r\n\r\n    private static final ThreadLocal&lt;LocaleContext&gt; localeContextHolder =\r\n\t\t\tnew NamedThreadLocal&lt;LocaleContext&gt;(&quot;Locale context&quot;);\r\n\r\nYou can read about what a `ThreadLocal` is but for our sake, consider it a data structure that maps the ID of the current executing thread to an object of its generic type, `LocaleContext` here.\r\n\r\nA Servlet container has a pool of threads it uses to handle client requests. When a request comes in, it will extract one of these threads and execute your servlet&#39;s `service()` method. With Spring, this results in `DispatcherServlet` executing and your `@Controller`&#39;s handler method being called. This all happens in that original `Thread` the servlet container chose.\r\n\r\nSo when your `@Service` class&#39; method gets called, you&#39;re still in that same thread.\r\n\r\nThe `ThreadLocal` in `LocaleContextHolder` is `set()` at some point early on in request processing, in `FrameworkServlet` (which is the parent type of `DispatcherServlet`) method `initContextHolders()` called by `processRequest()` in each of `doGet()`, `doPost()`, etc. methods. The `Locale` is built from the `HttpServletRequest` with its `getLocale()` method.","title":"Is LocaleContextHolder safe in service layer","body":"<p>If you look at the source code for <code>LocaleContextHolder</code>, you will notice it has a <code>ThreadLocal</code> variable (it has two actually)</p>\n\n<pre><code>private static final ThreadLocal&lt;LocaleContext&gt; localeContextHolder =\n        new NamedThreadLocal&lt;LocaleContext&gt;(\"Locale context\");\n</code></pre>\n\n<p>You can read about what a <code>ThreadLocal</code> is but for our sake, consider it a data structure that maps the ID of the current executing thread to an object of its generic type, <code>LocaleContext</code> here.</p>\n\n<p>A Servlet container has a pool of threads it uses to handle client requests. When a request comes in, it will extract one of these threads and execute your servlet's <code>service()</code> method. With Spring, this results in <code>DispatcherServlet</code> executing and your <code>@Controller</code>'s handler method being called. This all happens in that original <code>Thread</code> the servlet container chose.</p>\n\n<p>So when your <code>@Service</code> class' method gets called, you're still in that same thread.</p>\n\n<p>The <code>ThreadLocal</code> in <code>LocaleContextHolder</code> is <code>set()</code> at some point early on in request processing, in <code>FrameworkServlet</code> (which is the parent type of <code>DispatcherServlet</code>) method <code>initContextHolders()</code> called by <code>processRequest()</code> in each of <code>doGet()</code>, <code>doPost()</code>, etc. methods. The <code>Locale</code> is built from the <code>HttpServletRequest</code> with its <code>getLocale()</code> method.</p>\n"}],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2739,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18644100,"answer_count":1,"score":9,"last_activity_date":1659401510,"creation_date":1378407746,"question_id":18643986,"body_markdown":"According to official doc, LocaleContextHolder is:\r\n\r\n&gt; Simple holder class that associates a LocaleContext instance with the current thread.\r\n\r\nSo it is tied to current `thread`, but is this talking about the `Thread` thread or a thread of current request.\r\n\r\nApologize if it is a dumb question, I am not sure a LocaleContextHolder is tied to a HTTP session or something so that it is safe to use in any service layer class.","title":"Is LocaleContextHolder safe in service layer","body":"<p>According to official doc, LocaleContextHolder is:</p>\n<blockquote>\n<p>Simple holder class that associates a LocaleContext instance with the current thread.</p>\n</blockquote>\n<p>So it is tied to current <code>thread</code>, but is this talking about the <code>Thread</code> thread or a thread of current request.</p>\n<p>Apologize if it is a dumb question, I am not sure a LocaleContextHolder is tied to a HTTP session or something so that it is safe to use in any service layer class.</p>\n"},{"tags":["java","android","ionic-framework","javac"],"comments":[{"owner":{"account_id":22513713,"reputation":179,"user_id":16708274,"display_name":"Keev studio"},"score":0,"creation_date":1660154400,"post_id":72833213,"comment_id":129468206,"body_markdown":"apart of setting properly variables you should\n1. close and open terminal to reflect changes\n2. delete windows cache as this can ben sometimes cached and brings headache when trying to solve this issue","body":"apart of setting properly variables you should 1. close and open terminal to reflect changes 2. delete windows cache as this can ben sometimes cached and brings headache when trying to solve this issue"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659401389,"creation_date":1659398773,"answer_id":73200695,"question_id":72833213,"body_markdown":"### Goal\r\n\r\nYou are describing that you want &quot;java&quot; and &quot;javac&quot; to both resolve to JDK 1.8. From there, you&#39;ll be able to use ionic cordova to do things.\r\n\r\n\r\n### Starting point\r\n\r\nHere are various commands you&#39;ve run, along with their output (I changed format to make it look like actual commands being run, and the output):\r\n\r\n* Java compiler (&quot;javac&quot;) is for JDK 16, and lives at `/usr/bin/javac` (which might be an alias to another location).\r\n\t```\r\n\t% javac -version\r\n\tjavac 16\r\n\r\n\t% which javac\r\n\t/usr/bin/javac\r\n\t```\r\n\r\n* Java runtime  the thing which starts the Java Virtual Machine  is resolving somewhere else\r\naltogether  `/Library/Internet Plug-Ins/...`  and shows up as version 1.8, not 16:\r\n\t```\r\n\t% which java\r\n\t/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java\r\n\r\n\t% java -version\r\n\tjava version &quot;1.8.0_251&quot;\r\n\t```\r\n\r\nA few takeaways..\r\n* You have JDK 16 installed, resolving to `/usr/bin`\r\n* You have something separately installed at &quot;/Library/Internet..&quot;  this is most likely a [JRE (not a JDK)](https://stackoverflow.com/questions/1906445/what-is-the-difference-between-jdk-and-jre), and is version 1.8\r\n\r\n### Fix\r\n\r\nInstall JDK 1.8  this will give you a compiler and runtime that are both version 1.8\r\n\r\n* Follow download steps here: https://www.oracle.com/java/technologies/downloads/#java8 Once installed, you should be able to switch to using JDK 1.8, and confirm versions of both the compiler (javac) and the runtime (java) binaries.\r\n* There are various ways to set JAVA_HOME and manage multiple JDK installs  this is the simplest way to just get past the issue you&#39;re facing: set JAVA_HOME manually. This will be system dependent, but below is an example from my local system.\r\n\t```\r\n\t% export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_341.jdk/Contents/Home \r\n\t```\r\n\r\n* Verify that &quot;java&quot; resolves to your new 1.8 install:\r\n\t```\r\n\t% java -version\r\n\tjava version &quot;1.8.0_341&quot;\r\n\tJava(TM) SE Runtime Environment (build 1.8.0_341-b10)\r\n\tJava HotSpot(TM) 64-Bit Server VM (build 25.341-b10, mixed mode)\r\n\t```\r\n\r\n* Verify that &quot;javac&quot; also resolves to your new 1.8 install:\r\n\t```\r\n\t% javac -version\r\n\tjavac 1.8.0_341\r\n\t```\r\nIf you see anything other than above, something else is going on, and we would need to see more details, including whatever output happened from following the above steps.\r\n\r\n","title":"ionic cordova run android and java version","body":"<h3>Goal</h3>\n<p>You are describing that you want &quot;java&quot; and &quot;javac&quot; to both resolve to JDK 1.8. From there, you'll be able to use ionic cordova to do things.</p>\n<h3>Starting point</h3>\n<p>Here are various commands you've run, along with their output (I changed format to make it look like actual commands being run, and the output):</p>\n<ul>\n<li><p>Java compiler (&quot;javac&quot;) is for JDK 16, and lives at <code>/usr/bin/javac</code> (which might be an alias to another location).</p>\n<pre><code>% javac -version\njavac 16\n\n% which javac\n/usr/bin/javac\n</code></pre>\n</li>\n<li><p>Java runtime  the thing which starts the Java Virtual Machine  is resolving somewhere else\naltogether  <code>/Library/Internet Plug-Ins/...</code>  and shows up as version 1.8, not 16:</p>\n<pre><code>% which java\n/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java\n\n% java -version\njava version &quot;1.8.0_251&quot;\n</code></pre>\n</li>\n</ul>\n<p>A few takeaways..</p>\n<ul>\n<li>You have JDK 16 installed, resolving to <code>/usr/bin</code></li>\n<li>You have something separately installed at &quot;/Library/Internet..&quot;  this is most likely a <a href=\"https://stackoverflow.com/questions/1906445/what-is-the-difference-between-jdk-and-jre\">JRE (not a JDK)</a>, and is version 1.8</li>\n</ul>\n<h3>Fix</h3>\n<p>Install JDK 1.8  this will give you a compiler and runtime that are both version 1.8</p>\n<ul>\n<li><p>Follow download steps here: <a href=\"https://www.oracle.com/java/technologies/downloads/#java8\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#java8</a> Once installed, you should be able to switch to using JDK 1.8, and confirm versions of both the compiler (javac) and the runtime (java) binaries.</p>\n</li>\n<li><p>There are various ways to set JAVA_HOME and manage multiple JDK installs  this is the simplest way to just get past the issue you're facing: set JAVA_HOME manually. This will be system dependent, but below is an example from my local system.</p>\n<pre><code>% export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_341.jdk/Contents/Home \n</code></pre>\n</li>\n<li><p>Verify that &quot;java&quot; resolves to your new 1.8 install:</p>\n<pre><code>% java -version\njava version &quot;1.8.0_341&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_341-b10)\nJava HotSpot(TM) 64-Bit Server VM (build 25.341-b10, mixed mode)\n</code></pre>\n</li>\n<li><p>Verify that &quot;javac&quot; also resolves to your new 1.8 install:</p>\n<pre><code>% javac -version\njavac 1.8.0_341\n</code></pre>\n</li>\n</ul>\n<p>If you see anything other than above, something else is going on, and we would need to see more details, including whatever output happened from following the above steps.</p>\n"}],"owner":{"account_id":11429258,"reputation":125,"user_id":8378507,"display_name":"DisplayName"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1817,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659401389,"creation_date":1656699273,"question_id":72833213,"body_markdown":"so I&#39;m basically trying to run my ionic app on an android device, and the command &quot;ionic cordova run android --device&quot; get as far as telling me an error occurred due to: \r\n\r\n    Requirements check failed for JDK 1.8.x! Detected version: 16.0.0\r\n    Check your ANDROID_SDK_ROOT / JAVA_HOME / PATH environment variables.\r\n\r\nSo, after verifying which java versions I had and successfully changing the version to a 1.8.X, so when I run java -version, it returns:\r\n\r\n    java version &quot;1.8.0_251&quot;\r\n\r\nHowever, running &quot;ionic cordova run android --device&quot; again, it returns the same original error:\r\n\r\n     Requirements check failed for JDK 1.8.x! Detected version: 16.0.0\r\n        Check your ANDROID_SDK_ROOT / JAVA_HOME / PATH environment variables.\r\n\r\nAfter some more research, I realized that the javac version of it, tells me another version, and it needs to be same I believe. So when I run &quot;javac -version&quot;, I get:\r\n\r\n    javac 16\r\n\r\nSo... I couldn&#39;t figure out how to change the javac version to be the same as java, the only thing I figure is that it could be something with PATH, but the topics get a bit confusing as I&#39;m not sure what to do next? \r\n\r\nI have in my .zshrc file the following:\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\r\n\r\nWhich I added to fix the original java version issue, but that didn&#39;t seem to have changed the javac as well.\r\n\r\nSo after running the commands &quot;which java&quot; and &quot;which javac&quot; respectively, I get:\r\n\r\n    /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java\r\n\r\n    /usr/bin/javac\r\n\r\nI assume there&#39;s something funny in here, huh? But this is basically where I&#39;m stuck. I&#39;m not even sure if this is the issue, but it&#39;s one of those things I think I&#39;m just doing something stupid without realising it lol \r\n\r\nAny help is greatly appreciated!","title":"ionic cordova run android and java version","body":"<p>so I'm basically trying to run my ionic app on an android device, and the command &quot;ionic cordova run android --device&quot; get as far as telling me an error occurred due to:</p>\n<pre><code>Requirements check failed for JDK 1.8.x! Detected version: 16.0.0\nCheck your ANDROID_SDK_ROOT / JAVA_HOME / PATH environment variables.\n</code></pre>\n<p>So, after verifying which java versions I had and successfully changing the version to a 1.8.X, so when I run java -version, it returns:</p>\n<pre><code>java version &quot;1.8.0_251&quot;\n</code></pre>\n<p>However, running &quot;ionic cordova run android --device&quot; again, it returns the same original error:</p>\n<pre><code> Requirements check failed for JDK 1.8.x! Detected version: 16.0.0\n    Check your ANDROID_SDK_ROOT / JAVA_HOME / PATH environment variables.\n</code></pre>\n<p>After some more research, I realized that the javac version of it, tells me another version, and it needs to be same I believe. So when I run &quot;javac -version&quot;, I get:</p>\n<pre><code>javac 16\n</code></pre>\n<p>So... I couldn't figure out how to change the javac version to be the same as java, the only thing I figure is that it could be something with PATH, but the topics get a bit confusing as I'm not sure what to do next?</p>\n<p>I have in my .zshrc file the following:</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 1.8`\n</code></pre>\n<p>Which I added to fix the original java version issue, but that didn't seem to have changed the javac as well.</p>\n<p>So after running the commands &quot;which java&quot; and &quot;which javac&quot; respectively, I get:</p>\n<pre><code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home/bin/java\n\n/usr/bin/javac\n</code></pre>\n<p>I assume there's something funny in here, huh? But this is basically where I'm stuck. I'm not even sure if this is the issue, but it's one of those things I think I'm just doing something stupid without realising it lol</p>\n<p>Any help is greatly appreciated!</p>\n"},{"tags":["java","eclipse","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":21277603,"reputation":11,"user_id":15656386,"display_name":"SneakingTom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622035836,"creation_date":1622026601,"answer_id":67703497,"question_id":67644836,"body_markdown":"You probably put the jar files for lwjgl in the module path \r\n\r\ni had the same error before so to fix this error, Make sure to move all 3 jar files into Classpath which is the **lwjgl_util.jar**, **lwjgl.jar**,and **slick-util**!\r\n\r\nTo do this, Right-Click the Java Project where the *MainGameLoop* and *DisplayManager* is, Then Hover your mouse into **build path**, and then click **Configure Build Path**, and go to Libraries, here you will see the 3 jar files. if the jar files are in the Module Path! move it into Classpath, Click Apply and close and then you should be good!\r\n\r\nif the problem is still not fixed! then you probably have Java Runtime Environment(JRE) 1.7 or below! if so you can download JRE 1.8 Here: https://www.oracle.com/java/technologies/javase-jre8-downloads.html \r\n\r\nhope this helps! and also have a nice day.\r\n","title":"Why am I getting this error for my LWJGL program?","body":"<p>You probably put the jar files for lwjgl in the module path</p>\n<p>i had the same error before so to fix this error, Make sure to move all 3 jar files into Classpath which is the <strong>lwjgl_util.jar</strong>, <strong>lwjgl.jar</strong>,and <strong>slick-util</strong>!</p>\n<p>To do this, Right-Click the Java Project where the <em>MainGameLoop</em> and <em>DisplayManager</em> is, Then Hover your mouse into <strong>build path</strong>, and then click <strong>Configure Build Path</strong>, and go to Libraries, here you will see the 3 jar files. if the jar files are in the Module Path! move it into Classpath, Click Apply and close and then you should be good!</p>\n<p>if the problem is still not fixed! then you probably have Java Runtime Environment(JRE) 1.7 or below! if so you can download JRE 1.8 Here: <a href=\"https://www.oracle.com/java/technologies/javase-jre8-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase-jre8-downloads.html</a></p>\n<p>hope this helps! and also have a nice day.</p>\n"}],"owner":{"account_id":21668653,"reputation":1,"user_id":15986614,"display_name":"Powerpasta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659401256,"creation_date":1621640083,"question_id":67644836,"body_markdown":"I am trying to make a window with OpenGL (Using LWJGL 2) with Java. When I tried to run, a ClassNotFoundException error came up from the Eclipse BuiltInClassLoader.\r\n\r\nI have tried looking for the correct jar file but I couldn&#39;t open the jar files to see which packages were inside them. Here is my code:\r\n\r\nDisplayManager.java\r\n\r\n    package renderEngine;\r\n\r\n    import org.lwjgl.LWJGLException;\r\n    import org.lwjgl.opengl.Display;\r\n    import org.lwjgl.opengl.DisplayMode;\r\n    import org.lwjgl.opengl.GL11;\r\n    import org.lwjgl.opengl.PixelFormat;\r\n    import org.lwjgl.opengl.ContextAttribs;\r\n\r\n    public class DisplayManager {\r\n    \r\n       private static final int WIDTH = 1280;\r\n       private static final int HEIGHT = 720;\r\n       private static final int FPS_CAP = 120;\r\n\r\n       public static void createDisplay(){\r\n\r\n          ContextAttribs attribs = new ContextAttribs(3, 2);\r\n          attribs.withForwardCompatible(true);\r\n          attribs.withProfileCore(true);\r\n\r\n          try{\r\n              Display.setDisplayMode(new DisplayMode(WIDTH, \r\n              HEIGHT))\r\n              Display.create(new PixelFormat(), attribs);\r\n          }catch(LWJGLException e){\r\n             e.printStackTrace();\r\n          }\r\n\r\n          GL11.glViewport(0, 0, WIDTH, HEIGHT);\r\n\r\n       }\r\n\r\n       public static void updateDisplay(){\r\n          Display.sync(FPS_CAP);\r\n          Display.update();\r\n\r\n       }\r\n\r\n       public static void closeDisplay(){\r\n\r\n          Display.destroy();\r\n\r\n       }\r\n\r\n    }\r\n\r\nMainGameLoop.java\r\n\r\n    package engineTester;\r\n\r\n    import org.lwjgl.opengl.Display;\r\n\r\n    import renderEngine.DisplayManager;\r\n\r\n    public class MainGameLoop {\r\n\r\n       public static void main(String[] args) {\r\n\r\n          DisplayManager.createDisplay();\r\n\r\n          while(!Display.isCloseRequested()){\r\n\r\n             DisplayManager.updateDisplay();\r\n\r\n          }\r\n\r\n          DisplayManager.closeDisplay();\r\n\r\n       }\r\n\r\n    }\r\n\r\nI expected the output to show a window, this is the real output: \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\r\n&gt; org/lwjgl/LWJGLException \tat\r\n&gt; engineTester.MainGameLoop.main(MainGameLoop.java:11) Caused by:\r\n&gt; java.lang.ClassNotFoundException: org.lwjgl.LWJGLException \tat\r\n&gt; java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n&gt; \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n&gt; \t... 1 more\r\n\r\n ","title":"Why am I getting this error for my LWJGL program?","body":"<p>I am trying to make a window with OpenGL (Using LWJGL 2) with Java. When I tried to run, a ClassNotFoundException error came up from the Eclipse BuiltInClassLoader.</p>\n<p>I have tried looking for the correct jar file but I couldn't open the jar files to see which packages were inside them. Here is my code:</p>\n<p>DisplayManager.java</p>\n<pre><code>package renderEngine;\n\nimport org.lwjgl.LWJGLException;\nimport org.lwjgl.opengl.Display;\nimport org.lwjgl.opengl.DisplayMode;\nimport org.lwjgl.opengl.GL11;\nimport org.lwjgl.opengl.PixelFormat;\nimport org.lwjgl.opengl.ContextAttribs;\n\npublic class DisplayManager {\n\n   private static final int WIDTH = 1280;\n   private static final int HEIGHT = 720;\n   private static final int FPS_CAP = 120;\n\n   public static void createDisplay(){\n\n      ContextAttribs attribs = new ContextAttribs(3, 2);\n      attribs.withForwardCompatible(true);\n      attribs.withProfileCore(true);\n\n      try{\n          Display.setDisplayMode(new DisplayMode(WIDTH, \n          HEIGHT))\n          Display.create(new PixelFormat(), attribs);\n      }catch(LWJGLException e){\n         e.printStackTrace();\n      }\n\n      GL11.glViewport(0, 0, WIDTH, HEIGHT);\n\n   }\n\n   public static void updateDisplay(){\n      Display.sync(FPS_CAP);\n      Display.update();\n\n   }\n\n   public static void closeDisplay(){\n\n      Display.destroy();\n\n   }\n\n}\n</code></pre>\n<p>MainGameLoop.java</p>\n<pre><code>package engineTester;\n\nimport org.lwjgl.opengl.Display;\n\nimport renderEngine.DisplayManager;\n\npublic class MainGameLoop {\n\n   public static void main(String[] args) {\n\n      DisplayManager.createDisplay();\n\n      while(!Display.isCloseRequested()){\n\n         DisplayManager.updateDisplay();\n\n      }\n\n      DisplayManager.closeDisplay();\n\n   }\n\n}\n</code></pre>\n<p>I expected the output to show a window, this is the real output:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\norg/lwjgl/LWJGLException  at\nengineTester.MainGameLoop.main(MainGameLoop.java:11) Caused by:\njava.lang.ClassNotFoundException: org.lwjgl.LWJGLException    at\njava.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\nat\njava.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n... 1 more</p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":966822,"reputation":5615,"user_id":990129,"accept_rate":70,"display_name":"muetzenflo"},"score":0,"creation_date":1658850026,"post_id":73066029,"comment_id":129151882,"body_markdown":"I&#39;m not sure that you can access these settings. From what I found out, they are Samsung-only settings. So it would be up to Samsung to provide an API for get/set them programatically. I don&#39;t think that such an API or SDK exists.","body":"I&#39;m not sure that you can access these settings. From what I found out, they are Samsung-only settings. So it would be up to Samsung to provide an API for get/set them programatically. I don&#39;t think that such an API or SDK exists."},{"owner":{"account_id":4273079,"reputation":219,"user_id":4051597,"accept_rate":80,"display_name":"TuxForLife"},"score":0,"creation_date":1658869151,"post_id":73066029,"comment_id":129158202,"body_markdown":"Thank you, I didn&#39;t think to analyze that they are only Samsung settings","body":"Thank you, I didn&#39;t think to analyze that they are only Samsung settings"},{"owner":{"account_id":4273079,"reputation":219,"user_id":4051597,"accept_rate":80,"display_name":"TuxForLife"},"score":0,"creation_date":1658924972,"post_id":73066029,"comment_id":129172190,"body_markdown":"By the way, I am able to change the fast charging settings programmatically with the Tasker app","body":"By the way, I am able to change the fast charging settings programmatically with the Tasker app"},{"owner":{"account_id":966822,"reputation":5615,"user_id":990129,"accept_rate":70,"display_name":"muetzenflo"},"score":0,"creation_date":1659003979,"post_id":73066029,"comment_id":129194701,"body_markdown":"Maybe the Tasker developer reverse engineered this feature. I would start searching for an official SDK here: https://developer.samsung.com/mobile","body":"Maybe the Tasker developer reverse engineered this feature. I would start searching for an official SDK here: <a href=\"https://developer.samsung.com/mobile\" rel=\"nofollow noreferrer\">developer.samsung.com/mobile</a>"},{"owner":{"account_id":3412277,"reputation":171,"user_id":2861947,"display_name":"nikolayandr"},"score":0,"creation_date":1668803137,"post_id":73066029,"comment_id":131503111,"body_markdown":"Hi, did you try to control fast charging using these properties in Android 13? I see these properties still provide actual result when they are read but it is not possible to write them, an error &quot;You cannot keep your settings in the secure settings&quot; is returned when &#39;...putInt&#39; is called. When the app granted to change system properties(android.permission.WRITE_SETTINGS) it is possible to write to these properties in Android 11 and Android 12","body":"Hi, did you try to control fast charging using these properties in Android 13? I see these properties still provide actual result when they are read but it is not possible to write them, an error &quot;You cannot keep your settings in the secure settings&quot; is returned when &#39;...putInt&#39; is called. When the app granted to change system properties(android.permission.WRITE_SETTINGS) it is possible to write to these properties in Android 11 and Android 12"},{"owner":{"account_id":4273079,"reputation":219,"user_id":4051597,"accept_rate":80,"display_name":"TuxForLife"},"score":0,"creation_date":1668891860,"post_id":73066029,"comment_id":131518066,"body_markdown":"Sorry, I&#39;ve only had the opportunity to test it on Android 12. If you find a solution, I hope you can share it here","body":"Sorry, I&#39;ve only had the opportunity to test it on Android 12. If you find a solution, I hope you can share it here"},{"owner":{"account_id":3412277,"reputation":171,"user_id":2861947,"display_name":"nikolayandr"},"score":0,"creation_date":1669289562,"post_id":73066029,"comment_id":131613530,"body_markdown":"@TuxForLife I have asked on Samsung Develop Forum https://forum.developer.samsung.com/t/are-adaptive-fast-charging-super-fast-charging-wireless-fast-charging-available-for-writing/23335\nWaiting on any info","body":"@TuxForLife I have asked on Samsung Develop Forum <a href=\"https://forum.developer.samsung.com/t/are-adaptive-fast-charging-super-fast-charging-wireless-fast-charging-available-for-writing/23335\" rel=\"nofollow noreferrer\">forum.developer.samsung.com/t/&hellip;</a> Waiting on any info"}],"answers":[{"tags":[],"owner":{"account_id":15990900,"reputation":784,"user_id":11540133,"display_name":"Veniamin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659097021,"creation_date":1659097021,"answer_id":73166607,"question_id":73066029,"body_markdown":"You can read and update these settings in the `Device Care` Samsung system application, so I reverse engineered it.\r\n\r\nHere is how you can read **Fast Charging**, **Super Fast Charging**, and **Fast Wireless Charging** settings in your application:\r\n\r\n```kotlin\r\nval isSuperFastChargingEnabled = Settings.System.getInt(context.contentResolver, &quot;super_fast_charging&quot;, 0) == 1\r\n\r\nval isFastChargingEnabled = Settings.System.getInt(context.contentResolver, &quot;adaptive_fast_charging&quot;, 0) == 1\r\n\r\nval isFastWirelessChargingEnabled = Settings.System.getInt(context.contentResolver, &quot;wireless_fast_charging&quot;, 0) == 1\r\n```\r\n\r\nUnfortunately, to update these settings programmatically, you need the [android.permission.WRITE_SETTINGS][1] permission is only granted to the system applications.\r\n\r\nSo, if you are not developing a system app, the only way to enable these settings is to ask users to enable them manually. To simplify workflow, you can route users directly to the system `Fast Charging Settings` Activity, like so:\r\n\r\n```kotlin\r\nval intent = Intent()\r\nintent.component = ComponentName(\r\n    &quot;com.samsung.android.lool&quot;,\r\n    &quot;com.samsung.android.sm.battery.ui.BatteryAdvancedMenuActivity&quot;\r\n)\r\n\r\n// Activity class name may be updated in future versions, so\r\n// the safest way to handle Activity class name updates is to wrap this\r\n// call in the try/catch and add a custom error handling if the activity wasn&#39;t found.\r\ntry {\r\n    startActivity(intent)\r\n} catch (e: Exception) {\r\n    // Custom error handling\r\n}\r\n```\r\nSince these settings are vendor-specific, checking the vendor id before reading them is recommended.\r\n\r\nI tested it and confirm that it works on the Samsung Galaxy S20 (SM-G980F/DS); Android 12; One UI 4.1.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/Manifest.permission#WRITE_SETTINGS","title":"How can I get and set the &quot;Super Fast Charging&quot; setting programmatically?","body":"<p>You can read and update these settings in the <code>Device Care</code> Samsung system application, so I reverse engineered it.</p>\n<p>Here is how you can read <strong>Fast Charging</strong>, <strong>Super Fast Charging</strong>, and <strong>Fast Wireless Charging</strong> settings in your application:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val isSuperFastChargingEnabled = Settings.System.getInt(context.contentResolver, &quot;super_fast_charging&quot;, 0) == 1\n\nval isFastChargingEnabled = Settings.System.getInt(context.contentResolver, &quot;adaptive_fast_charging&quot;, 0) == 1\n\nval isFastWirelessChargingEnabled = Settings.System.getInt(context.contentResolver, &quot;wireless_fast_charging&quot;, 0) == 1\n</code></pre>\n<p>Unfortunately, to update these settings programmatically, you need the <a href=\"https://developer.android.com/reference/android/Manifest.permission#WRITE_SETTINGS\" rel=\"nofollow noreferrer\">android.permission.WRITE_SETTINGS</a> permission is only granted to the system applications.</p>\n<p>So, if you are not developing a system app, the only way to enable these settings is to ask users to enable them manually. To simplify workflow, you can route users directly to the system <code>Fast Charging Settings</code> Activity, like so:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val intent = Intent()\nintent.component = ComponentName(\n    &quot;com.samsung.android.lool&quot;,\n    &quot;com.samsung.android.sm.battery.ui.BatteryAdvancedMenuActivity&quot;\n)\n\n// Activity class name may be updated in future versions, so\n// the safest way to handle Activity class name updates is to wrap this\n// call in the try/catch and add a custom error handling if the activity wasn't found.\ntry {\n    startActivity(intent)\n} catch (e: Exception) {\n    // Custom error handling\n}\n</code></pre>\n<p>Since these settings are vendor-specific, checking the vendor id before reading them is recommended.</p>\n<p>I tested it and confirm that it works on the Samsung Galaxy S20 (SM-G980F/DS); Android 12; One UI 4.1.</p>\n"}],"owner":{"account_id":4273079,"reputation":219,"user_id":4051597,"accept_rate":80,"display_name":"TuxForLife"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1550,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73166607,"answer_count":1,"score":2,"last_activity_date":1659400860,"creation_date":1658405885,"question_id":73066029,"body_markdown":"Just an example, I can get the Display Timeout setting like this:\r\n\r\n&gt; int timeout = Settings.System.getInt(getContentResolver(), Settings.System.SCREEN_OFF_TIMEOUT);\r\n\r\nI can set the Display Timeout setting like this:\r\n\r\n&gt; Settings.System.putInt(getContentResolver(), Settings.System.SCREEN_OFF_TIMEOUT, 10000);\r\n\r\n**How can I programmatically get and set the Fast Charging and the Super Fast Charging settings?**\r\n\r\n**Edit: Thanks to Veniamin for helping me get the  correct variable names, here&#39;s what worked for me:**\r\n\r\n    try {\r\n\t\tint isSuperFastChargingEnabled = Settings.System.getInt(getContentResolver(), &quot;super_fast_charging&quot;);\r\n\t\tif ( isSuperFastChargingEnabled == 0) {\r\n\t\t    Settings.System.putInt(getContentResolver(), &quot;super_fast_charging&quot;, 1);\r\n\t\t    Settings.System.putInt(getContentResolver(), &quot;adaptive_fast_charging&quot;, 1);\r\n\t\t    Toast.makeText(this, &quot;Fast charge is set to 1&quot;,Toast.LENGTH_LONG).show();\r\n        } else if ( isSuperFastChargingEnabled == 1) {\r\n\t        Settings.System.putInt(getContentResolver(), &quot;super_fast_charging&quot;, 0);\r\n\t\t    Settings.System.putInt(getContentResolver(), &quot;adaptive_fast_charging&quot;, 0);\r\n\t\t    Toast.makeText(this, &quot;Fast charge is set to 0&quot;,Toast.LENGTH_LONG).show();\r\n\t\t}\r\n    } catch (Settings.SettingNotFoundException e) {\r\n\t\t\t\t\tToast.makeText(this,&quot;Failed to get fast charge setting&quot;,Toast.LENGTH_LONG).show();\r\n    }","title":"How can I get and set the &quot;Super Fast Charging&quot; setting programmatically?","body":"<p>Just an example, I can get the Display Timeout setting like this:</p>\n<blockquote>\n<p>int timeout = Settings.System.getInt(getContentResolver(), Settings.System.SCREEN_OFF_TIMEOUT);</p>\n</blockquote>\n<p>I can set the Display Timeout setting like this:</p>\n<blockquote>\n<p>Settings.System.putInt(getContentResolver(), Settings.System.SCREEN_OFF_TIMEOUT, 10000);</p>\n</blockquote>\n<p><strong>How can I programmatically get and set the Fast Charging and the Super Fast Charging settings?</strong></p>\n<p><strong>Edit: Thanks to Veniamin for helping me get the  correct variable names, here's what worked for me:</strong></p>\n<pre><code>try {\n    int isSuperFastChargingEnabled = Settings.System.getInt(getContentResolver(), &quot;super_fast_charging&quot;);\n    if ( isSuperFastChargingEnabled == 0) {\n        Settings.System.putInt(getContentResolver(), &quot;super_fast_charging&quot;, 1);\n        Settings.System.putInt(getContentResolver(), &quot;adaptive_fast_charging&quot;, 1);\n        Toast.makeText(this, &quot;Fast charge is set to 1&quot;,Toast.LENGTH_LONG).show();\n    } else if ( isSuperFastChargingEnabled == 1) {\n        Settings.System.putInt(getContentResolver(), &quot;super_fast_charging&quot;, 0);\n        Settings.System.putInt(getContentResolver(), &quot;adaptive_fast_charging&quot;, 0);\n        Toast.makeText(this, &quot;Fast charge is set to 0&quot;,Toast.LENGTH_LONG).show();\n    }\n} catch (Settings.SettingNotFoundException e) {\n                Toast.makeText(this,&quot;Failed to get fast charge setting&quot;,Toast.LENGTH_LONG).show();\n}\n</code></pre>\n"},{"tags":["java","https","java-9","keytool","tomcat9"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1659141802,"post_id":73172077,"comment_id":129230153,"body_markdown":"Did you include the self-signed CA (Certificate Authority) certificate?","body":"Did you include the self-signed CA (Certificate Authority) certificate?"},{"owner":{"account_id":136322,"reputation":18453,"user_id":339736,"accept_rate":83,"display_name":"Russ Bateman"},"score":0,"creation_date":1659384525,"post_id":73172077,"comment_id":129277634,"body_markdown":"@JimGarrison (Sorry, I was unavoidably gone for 2 days) I added how the certificates were built.","body":"@JimGarrison (Sorry, I was unavoidably gone for 2 days) I added how the certificates were built."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1659396085,"post_id":73172077,"comment_id":129280179,"body_markdown":"It&#39;s been a while since I did any of this, but your process doesn&#39;t look right.  You generated your self-signed certificate OK, but I don&#39;t see where you used it to sign your Tomcat server certificate.  Also, when you connect, doesn&#39;t the host name need to match the CN in the certificate?","body":"It&#39;s been a while since I did any of this, but your process doesn&#39;t look right.  You generated your self-signed certificate OK, but I don&#39;t see where you used it to sign your Tomcat server certificate.  Also, when you connect, doesn&#39;t the host name need to match the CN in the certificate?"}],"owner":{"account_id":136322,"reputation":18453,"user_id":339736,"accept_rate":83,"display_name":"Russ Bateman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1659398027,"answer_count":0,"score":0,"last_activity_date":1659398109,"creation_date":1659140936,"question_id":73172077,"body_markdown":"Tomcat configured for both 8080 and 8443:\r\n\r\n&gt;     &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\r\n&gt;                connectionTimeout=&quot;20000&quot;\r\n&gt;                redirectPort=&quot;8443&quot; /&gt;\r\n&gt;     &lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot;\r\n&gt;             connectionTimeout=&quot;20000&quot;\r\n&gt;             scheme=&quot;https&quot;\r\n&gt;             secure=&quot;true&quot;\r\n&gt;             SSLEnabled=&quot;true&quot;&gt;\r\n&gt;         &lt;SSLHostConfig&gt;\r\n&gt;             &lt;Certificate certificateKeyAlias=&quot;tomcat&quot;\r\n&gt;                     certificateKeystoreFile=&quot;certificates/tomcat.jks&quot;\r\n&gt;                     certificateKeystorePassword=&quot;changeit&quot;\r\n&gt;                     truststoreFile=&quot;certificates/tomcat.jks&quot;\r\n&gt;                     truststorePassword=&quot;changeit&quot; /&gt;\r\n&gt;         &lt;/SSLHostConfig&gt;\r\n&gt;     &lt;/Connector&gt;\r\n\r\nThis code works:\r\n\r\n    HttpRequest request = HttpRequest.newBuilder()\r\n            .uri( new URI( &quot;http://localhost:8080/application/&quot; ) )\r\n            .headers( &quot;Content-Type&quot;, &quot;application/xml&quot; )\r\n            .headers( &quot;Accept&quot;, &quot;application/xml&quot; )\r\n            .POST( HttpRequest.BodyPublishers.ofString( PAYLOAD ) )\r\n            .build();\r\n    HttpResponse&lt; String &gt; response = client.send( request, HttpResponse.BodyHandlers.ofString() );\r\n\r\nwhile the HTTPS code fails with IOException: PKIX path building failed: SunCertPathBuilderException: unable to find valid certification path to requested target:\r\n\r\n    HttpRequest request = HttpRequest.newBuilder()\r\n            .uri( new URI( &quot;https://localhost:8443/application/&quot; ) )\r\n            .headers( &quot;Content-Type&quot;, &quot;application/xml&quot; )\r\n            .headers( &quot;Accept&quot;, &quot;application/xml&quot; )\r\n            .POST( HttpRequest.BodyPublishers.ofString( PAYLOAD ) )\r\n            .build();\r\n    \r\n    HttpResponse&lt; String &gt; response = client.send( request, HttpResponse.BodyHandlers.ofString() );\r\n\r\n...despite running JVM with:\r\n\r\n&gt; -Djavax.net.ssl.keyPassword=changeit \\\r\n&gt; -Djavax.net.ssl.keyStore=/opt/tomcat/certificates/tomcat.jks \\\r\n&gt; -Djavax.net.ssl.keyStorePassword=changeit \\\r\n&gt; -Djavax.net.ssl.trustStore=/opt/tomcat/certificates/trust.jks \\\r\n&gt; -Djavax.net.ssl.trustStorePassword=changeit\r\n\r\nHere&#39;s how I built the certificate artifacts:\r\n\r\n    $ keytool -genkeypair -alias tomcat -keyalg RSA -keypass changeit -storepass changeit -validity 365 -keystore tomcat.jks -dname &quot;cn=windofkeltia.com&quot;\r\n    $ keytool -export -alias tomcat -file tomcat.crt -keystore tomcat.jks-storepass changeit\r\n    $ openssl genrsa -out trust.key 2048\r\n    $ openssl req -new -x509 -days 365 -key trust.key -out trust.crt -subj &quot;/CN=windofkeltia.com/&quot;\r\n    $ keytool -importcert -alias tomcat -file trust.crt -keystore trust.jks -storePass changeit\r\n    # ll\r\n    -rw-r--r--  1 tomcat tomcat  863 Jul 28 11:32 tomcat.crt\r\n    -rw-r--r--  1 tomcat tomcat 2697 Jul 28 11:31 tomcat.jks\r\n    -rw-r--r--  1 tomcat tomcat 1314 Jul 28 15:26 trust.crt\r\n    -rw-r--r--  1 tomcat tomcat 1287 Jul 28 15:26 trust.jks\r\n    -rw-------  1 tomcat tomcat 1679 Jul 28 15:26 trust.key\r\n\r\n\r\n","title":"Using modern Java HTTP client to Tomcat 9; cannot get HTTPS to work though self-signed certs in place","body":"<p>Tomcat configured for both 8080 and 8443:</p>\n<blockquote>\n<pre><code>&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;\n           connectionTimeout=&quot;20000&quot;\n           redirectPort=&quot;8443&quot; /&gt;\n&lt;Connector port=&quot;8443&quot; protocol=&quot;HTTP/1.1&quot;\n        connectionTimeout=&quot;20000&quot;\n        scheme=&quot;https&quot;\n        secure=&quot;true&quot;\n        SSLEnabled=&quot;true&quot;&gt;\n    &lt;SSLHostConfig&gt;\n        &lt;Certificate certificateKeyAlias=&quot;tomcat&quot;\n                certificateKeystoreFile=&quot;certificates/tomcat.jks&quot;\n                certificateKeystorePassword=&quot;changeit&quot;\n                truststoreFile=&quot;certificates/tomcat.jks&quot;\n                truststorePassword=&quot;changeit&quot; /&gt;\n    &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n</blockquote>\n<p>This code works:</p>\n<pre><code>HttpRequest request = HttpRequest.newBuilder()\n        .uri( new URI( &quot;http://localhost:8080/application/&quot; ) )\n        .headers( &quot;Content-Type&quot;, &quot;application/xml&quot; )\n        .headers( &quot;Accept&quot;, &quot;application/xml&quot; )\n        .POST( HttpRequest.BodyPublishers.ofString( PAYLOAD ) )\n        .build();\nHttpResponse&lt; String &gt; response = client.send( request, HttpResponse.BodyHandlers.ofString() );\n</code></pre>\n<p>while the HTTPS code fails with IOException: PKIX path building failed: SunCertPathBuilderException: unable to find valid certification path to requested target:</p>\n<pre><code>HttpRequest request = HttpRequest.newBuilder()\n        .uri( new URI( &quot;https://localhost:8443/application/&quot; ) )\n        .headers( &quot;Content-Type&quot;, &quot;application/xml&quot; )\n        .headers( &quot;Accept&quot;, &quot;application/xml&quot; )\n        .POST( HttpRequest.BodyPublishers.ofString( PAYLOAD ) )\n        .build();\n\nHttpResponse&lt; String &gt; response = client.send( request, HttpResponse.BodyHandlers.ofString() );\n</code></pre>\n<p>...despite running JVM with:</p>\n<blockquote>\n<p>-Djavax.net.ssl.keyPassword=changeit <br />\n-Djavax.net.ssl.keyStore=/opt/tomcat/certificates/tomcat.jks <br />\n-Djavax.net.ssl.keyStorePassword=changeit <br />\n-Djavax.net.ssl.trustStore=/opt/tomcat/certificates/trust.jks <br />\n-Djavax.net.ssl.trustStorePassword=changeit</p>\n</blockquote>\n<p>Here's how I built the certificate artifacts:</p>\n<pre><code>$ keytool -genkeypair -alias tomcat -keyalg RSA -keypass changeit -storepass changeit -validity 365 -keystore tomcat.jks -dname &quot;cn=windofkeltia.com&quot;\n$ keytool -export -alias tomcat -file tomcat.crt -keystore tomcat.jks-storepass changeit\n$ openssl genrsa -out trust.key 2048\n$ openssl req -new -x509 -days 365 -key trust.key -out trust.crt -subj &quot;/CN=windofkeltia.com/&quot;\n$ keytool -importcert -alias tomcat -file trust.crt -keystore trust.jks -storePass changeit\n# ll\n-rw-r--r--  1 tomcat tomcat  863 Jul 28 11:32 tomcat.crt\n-rw-r--r--  1 tomcat tomcat 2697 Jul 28 11:31 tomcat.jks\n-rw-r--r--  1 tomcat tomcat 1314 Jul 28 15:26 trust.crt\n-rw-r--r--  1 tomcat tomcat 1287 Jul 28 15:26 trust.jks\n-rw-------  1 tomcat tomcat 1679 Jul 28 15:26 trust.key\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1657351442,"post_id":72919375,"comment_id":128794142,"body_markdown":"Can you [edit] your question and post a [mcve] (including the FXML files)? Remember that we don&#39;t have your icon images nor your database (if you are using one). Just post code that opens the main stage after closing the login stage.","body":"Can you <a href=\"https://stackoverflow.com/posts/72919375/edit\">edit</a> your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (including the FXML files)? Remember that we don&#39;t have your icon images nor your database (if you are using one). Just post code that opens the main stage after closing the login stage."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1657366941,"post_id":72919375,"comment_id":128796520,"body_markdown":"What happens with `sizeToScene()`?","body":"What happens with <code>sizeToScene()</code>?"},{"owner":{"account_id":18005165,"reputation":11,"user_id":13086124,"display_name":"MorsH"},"score":0,"creation_date":1657426036,"post_id":72919375,"comment_id":128805376,"body_markdown":"@Abra My bad i was trying to explain it well since some of my post were short and not that understandable so they just took it down","body":"@Abra My bad i was trying to explain it well since some of my post were short and not that understandable so they just took it down"},{"owner":{"account_id":18005165,"reputation":11,"user_id":13086124,"display_name":"MorsH"},"score":0,"creation_date":1657426185,"post_id":72919375,"comment_id":128805402,"body_markdown":"@trashgod i tried adding the `sizeToScene( )` on my `start( )` from all lines from it but it doesn&#39;t resize. people keep telling me &quot;just keep the stage and just use `sizeToScene( )`","body":"@trashgod i tried adding the <code>sizeToScene( )</code> on my <code>start( )</code> from all lines from it but it doesn&#39;t resize. people keep telling me &quot;just keep the stage and just use <code>sizeToScene( )</code>"}],"answers":[{"tags":[],"owner":{"account_id":18005165,"reputation":11,"user_id":13086124,"display_name":"MorsH"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659285910,"creation_date":1659276590,"answer_id":73183997,"question_id":72919375,"body_markdown":"Ok so if you have followed this one\r\n&gt;I followed this and created a project (Modular with Maven): https://openjfx.io/openjfx-docs/#IDE-Intellij\r\n\r\nand java will autogenerate some methods for you and one of those are `setRoot( )` that contains the following\r\n\r\n```\r\nstatic void setRoot(String fxml) throws IOException {\r\n        scene.setRoot(loadFXML(fxml));\r\n    }\r\n```\r\n\r\nNow Add the `scene.getWindow().sizeToScene();`\r\n\r\n```\r\nstatic void setRoot(String fxml) throws IOException {\r\n        scene.setRoot(loadFXML(fxml));\r\n        scene.getWindow().sizeToScene();\r\n    }\r\n```\r\n\r\n\r\n@trashgod here you go :)","title":"JavaFX Changing scenes with different sizes","body":"<p>Ok so if you have followed this one</p>\n<blockquote>\n<p>I followed this and created a project (Modular with Maven): <a href=\"https://openjfx.io/openjfx-docs/#IDE-Intellij\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/#IDE-Intellij</a></p>\n</blockquote>\n<p>and java will autogenerate some methods for you and one of those are <code>setRoot( )</code> that contains the following</p>\n<pre><code>static void setRoot(String fxml) throws IOException {\n        scene.setRoot(loadFXML(fxml));\n    }\n</code></pre>\n<p>Now Add the <code>scene.getWindow().sizeToScene();</code></p>\n<pre><code>static void setRoot(String fxml) throws IOException {\n        scene.setRoot(loadFXML(fxml));\n        scene.getWindow().sizeToScene();\n    }\n</code></pre>\n<p>@trashgod here you go :)</p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659394819,"creation_date":1659394819,"answer_id":73200374,"question_id":72919375,"body_markdown":"It&#39;s not clear where your code is going awry.\r\n\r\nStarting from this complete [`SceneSelector`][1], note how each scene&#39;s size is defined in the corresponding `.fxml` file. This is done solely for demonstration: ordinarily, one would allow the scene to adopt the preferred size of its children.\r\n\r\nTo illustrate the effect, I updated the `changeScene()` method as shown below to enlarge (artificially) and center the selected view. Try altering one of the `.fxml` files and leaving the preferred sizes alone to see how it works\r\n\r\n    private void changeScene() throws IOException {\r\n        Region region = FXMLLoader.load();\r\n        \r\n        region.setPrefWidth(640);\r\n        region.setPrefHeight(480);\r\n        stage.sizeToScene();\r\n        stage.centerOnScreen();\r\n        stage.show();\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/69978882/230513","title":"JavaFX Changing scenes with different sizes","body":"<p>It's not clear where your code is going awry.</p>\n<p>Starting from this complete <a href=\"https://stackoverflow.com/a/69978882/230513\"><code>SceneSelector</code></a>, note how each scene's size is defined in the corresponding <code>.fxml</code> file. This is done solely for demonstration: ordinarily, one would allow the scene to adopt the preferred size of its children.</p>\n<p>To illustrate the effect, I updated the <code>changeScene()</code> method as shown below to enlarge (artificially) and center the selected view. Try altering one of the <code>.fxml</code> files and leaving the preferred sizes alone to see how it works</p>\n<pre><code>private void changeScene() throws IOException {\n    Region region = FXMLLoader.load();\n    \n    region.setPrefWidth(640);\n    region.setPrefHeight(480);\n    stage.sizeToScene();\n    stage.centerOnScreen();\n    stage.show();\n}\n</code></pre>\n"}],"owner":{"account_id":18005165,"reputation":11,"user_id":13086124,"display_name":"MorsH"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1659395807,"creation_date":1657347440,"question_id":72919375,"body_markdown":"I tried creating a simple _password manager_, just for my personal project, I have come across a problem where I switch scenes, but it will maintain the primary scene size.\r\n\r\nI followed this and created a project (Modular with Maven): https://openjfx.io/openjfx-docs/#IDE-Intellij\r\n\r\nI have tried putting `.sizeToScene()` on my start() on my `Main`, but it didn&#39;t work. Here is the code for my `Main`:\r\n\r\n```\r\npublic class App extends Application {\r\n    private static Scene scene;\r\n    LoginPageAppData loginPageAppData = new LoginPageAppData();\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        scene = new Scene(loadFXML(&quot;Login&quot;));\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    static void setRoot(String fxml) throws IOException {\r\n        scene.setRoot(loadFXML(fxml));\r\n    }\r\n\r\n    private static Parent loadFXML(String fxml) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(fxml + &quot;.fxml&quot;));\r\n        return fxmlLoader.load();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nHere is my `Primary Controller` (I removed some code so I can show the important parts)\r\n\r\n```\r\npublic class LoginPageController {\r\n    App app = new App();\r\n\r\n    @FXML\r\n    private PasswordField passwordfield;\r\n\r\n@FXML\r\n    private void switchToMain() throws IOException {\r\n        App.setRoot(&quot;MainPage&quot;);\r\n    }\r\n\r\n @FXML\r\n    void passwordpressed(KeyEvent event) throws IOException {\r\n        if (event.getCode().equals(KeyCode.ENTER)) {\r\n            app.loginPageAppData.setUsername(getUsername());\r\n            app.loginPageAppData.setPassword(getPassword());\r\n            if (app.loginPageAppData.verifyUsername() == true &amp;&amp; app.loginPageAppData.verifyPassword() == true) {\r\n                switchToMain();\r\n            } else System.out.println(false);\r\n        }\r\n    }\r\n    \r\n```\r\nHere is with image example if you are confused:\r\n\r\nHere is the primary scene:\r\n![first scene][1]\r\n\r\nSecond scene: it should _not_ look like this:\r\n![wrong][2]\r\n\r\nSecond scene: it should look like this:\r\n![right][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LEsCj.png\r\n  [2]: https://i.stack.imgur.com/uo299.png\r\n  [3]: https://i.stack.imgur.com/zPXCT.png","title":"JavaFX Changing scenes with different sizes","body":"<p>I tried creating a simple <em>password manager</em>, just for my personal project, I have come across a problem where I switch scenes, but it will maintain the primary scene size.</p>\n<p>I followed this and created a project (Modular with Maven): <a href=\"https://openjfx.io/openjfx-docs/#IDE-Intellij\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/#IDE-Intellij</a></p>\n<p>I have tried putting <code>.sizeToScene()</code> on my start() on my <code>Main</code>, but it didn't work. Here is the code for my <code>Main</code>:</p>\n<pre><code>public class App extends Application {\n    private static Scene scene;\n    LoginPageAppData loginPageAppData = new LoginPageAppData();\n    @Override\n    public void start(Stage stage) throws IOException {\n        scene = new Scene(loadFXML(&quot;Login&quot;));\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    static void setRoot(String fxml) throws IOException {\n        scene.setRoot(loadFXML(fxml));\n    }\n\n    private static Parent loadFXML(String fxml) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(App.class.getResource(fxml + &quot;.fxml&quot;));\n        return fxmlLoader.load();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>Here is my <code>Primary Controller</code> (I removed some code so I can show the important parts)</p>\n<pre><code>public class LoginPageController {\n    App app = new App();\n\n    @FXML\n    private PasswordField passwordfield;\n\n@FXML\n    private void switchToMain() throws IOException {\n        App.setRoot(&quot;MainPage&quot;);\n    }\n\n @FXML\n    void passwordpressed(KeyEvent event) throws IOException {\n        if (event.getCode().equals(KeyCode.ENTER)) {\n            app.loginPageAppData.setUsername(getUsername());\n            app.loginPageAppData.setPassword(getPassword());\n            if (app.loginPageAppData.verifyUsername() == true &amp;&amp; app.loginPageAppData.verifyPassword() == true) {\n                switchToMain();\n            } else System.out.println(false);\n        }\n    }\n    \n</code></pre>\n<p>Here is with image example if you are confused:</p>\n<p>Here is the primary scene:\n<img src=\"https://i.stack.imgur.com/LEsCj.png\" alt=\"first scene\" /></p>\n<p>Second scene: it should <em>not</em> look like this:\n<img src=\"https://i.stack.imgur.com/uo299.png\" alt=\"wrong\" /></p>\n<p>Second scene: it should look like this:\n<img src=\"https://i.stack.imgur.com/zPXCT.png\" alt=\"right\" /></p>\n"},{"tags":["java","eclipse","netbeans","console"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1659366725,"post_id":73195751,"comment_id":129271965,"body_markdown":"Looks like NetBeans is running under Linux (Enter = `\\n`) and Eclipse under Windows (Enter = `\\r\\n`). Is that possible?","body":"Looks like NetBeans is running under Linux (Enter = <code>\\n</code>) and Eclipse under Windows (Enter = <code>\\r\\n</code>). Is that possible?"},{"owner":{"account_id":9943155,"reputation":339,"user_id":7359013,"accept_rate":14,"display_name":"Alberto "},"score":0,"creation_date":1659367034,"post_id":73195751,"comment_id":129272090,"body_markdown":"No, both are running in Windows.","body":"No, both are running in Windows."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1659369323,"post_id":73195751,"comment_id":129273034,"body_markdown":"Does [this answer](https://stackoverflow.com/a/62108112/2985643) to the question [How to get carriage return without line feed effect in Eclipse console?](https://stackoverflow.com/q/14792478/2985643) solve your problem?","body":"Does <a href=\"https://stackoverflow.com/a/62108112/2985643\">this answer</a> to the question <a href=\"https://stackoverflow.com/q/14792478/2985643\">How to get carriage return without line feed effect in Eclipse console?</a> solve your problem?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659395172,"creation_date":1659368512,"answer_id":73196284,"question_id":73195751,"body_markdown":"&gt; Why do they work differently?\r\n\r\nWell, they are different products implemented by different people.  So why would you expect them to be the same.\r\n\r\nPresumably, the Eclipse team decided that their IDE&#39;s console emulator should use the OS platform&#39;s line separator (`\\r\\n`), and the Netbeans team thought that the UNIX / Linux way was a better idea.\r\n\r\nWhy?  Ask the implementors!\r\n\r\nWhich is correct?  That&#39;s a matter of opinion.\r\n\r\n---------------------------------\r\n\r\n&gt; Could Eclipse be configured to give the same output as NetBeans? \r\n\r\nI think you might have to customize the Eclipse key bindings in the Console context to do this.   See http://help.eclipse.org/2022-06/index.jsp for details of Eclipse&#39;s key binding preferences.\r\n\r\nThere are some related options in the Console preferences, but I think they determine how control characters output by your application will be handled by the Eclipse console.\r\n\r\n--------------------------------\r\n\r\nBut frankly, I think you should be writing your applications to work with either form of line terminator sequence.  That is what you would need to do if you were writing it to run outside of an IDE; i.e. from a real command shell.\r\n\r\nThere are various ways to get the platform line separator; e.g.\r\n\r\n  - https://stackoverflow.com/questions/36796136\r\n\r\nOr you can write your input code to be &quot;agnostic&quot; ... like `Scanner.readLine()` and `BufferedReader.readLine()` are.","title":"System.in.read() with different results in Eclipse and Netbeans","body":"<blockquote>\n<p>Why do they work differently?</p>\n</blockquote>\n<p>Well, they are different products implemented by different people.  So why would you expect them to be the same.</p>\n<p>Presumably, the Eclipse team decided that their IDE's console emulator should use the OS platform's line separator (<code>\\r\\n</code>), and the Netbeans team thought that the UNIX / Linux way was a better idea.</p>\n<p>Why?  Ask the implementors!</p>\n<p>Which is correct?  That's a matter of opinion.</p>\n<hr />\n<blockquote>\n<p>Could Eclipse be configured to give the same output as NetBeans?</p>\n</blockquote>\n<p>I think you might have to customize the Eclipse key bindings in the Console context to do this.   See <a href=\"http://help.eclipse.org/2022-06/index.jsp\" rel=\"nofollow noreferrer\">http://help.eclipse.org/2022-06/index.jsp</a> for details of Eclipse's key binding preferences.</p>\n<p>There are some related options in the Console preferences, but I think they determine how control characters output by your application will be handled by the Eclipse console.</p>\n<hr />\n<p>But frankly, I think you should be writing your applications to work with either form of line terminator sequence.  That is what you would need to do if you were writing it to run outside of an IDE; i.e. from a real command shell.</p>\n<p>There are various ways to get the platform line separator; e.g.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/36796136\">Difference between System.getProperty(&quot;line.separator&quot;); and &quot;\\n&quot;?</a></li>\n</ul>\n<p>Or you can write your input code to be &quot;agnostic&quot; ... like <code>Scanner.readLine()</code> and <code>BufferedReader.readLine()</code> are.</p>\n"}],"owner":{"account_id":9943155,"reputation":339,"user_id":7359013,"accept_rate":14,"display_name":"Alberto "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73196284,"answer_count":1,"score":0,"last_activity_date":1659395172,"creation_date":1659366180,"question_id":73195751,"body_markdown":"I&#39;m trying the following code in Eclipse and NetBeans:\r\n\r\n    while (true) \r\n        System.out.println(System.in.read());\r\n\r\nThis code prints the code associated with the typed characters and works correctly in the two commented IDEs.\r\n\r\nThey work the same except when you press enter. In NetBeans it returns the value 10 and in Eclipse the values 13 and 10.\r\n\r\nFor example, if I press the key a (ASCII 97) and Enter, the output is as follows:\r\n\r\nNetBeans: 97 10 \r\nEclipse: 97 13 10\r\n\r\nWhy do they work differently? Could Eclipse be configured to give the same output as NetBeans? Thank you very much","title":"System.in.read() with different results in Eclipse and Netbeans","body":"<p>I'm trying the following code in Eclipse and NetBeans:</p>\n<pre><code>while (true) \n    System.out.println(System.in.read());\n</code></pre>\n<p>This code prints the code associated with the typed characters and works correctly in the two commented IDEs.</p>\n<p>They work the same except when you press enter. In NetBeans it returns the value 10 and in Eclipse the values 13 and 10.</p>\n<p>For example, if I press the key a (ASCII 97) and Enter, the output is as follows:</p>\n<p>NetBeans: 97 10\nEclipse: 97 13 10</p>\n<p>Why do they work differently? Could Eclipse be configured to give the same output as NetBeans? Thank you very much</p>\n"},{"tags":["java","sql","resultset"],"answers":[{"tags":[],"owner":{"account_id":8634690,"reputation":91,"user_id":6465315,"display_name":"RainerZufall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1639671179,"creation_date":1639663619,"answer_id":70380381,"question_id":70380167,"body_markdown":"I suppose the MANAGER column is a foreign key on another employee, right?\r\n\r\nIf so, I would select all of the employee&#39;s without a manager first and add each one to a Map&lt;Integer, Employee&gt;. Then, when you iterate over the employee&#39;s with a manager, you can fetch the corresponding manager from this map and add it to the newly created employee instance.\r\n\r\nThis becomes more tricky if you have a hierarchy with more than 2 levels. If you can&#39;t order them by a property (e.g. department), then you have to read all of the employee&#39;s first and add their manager in a second step.\r\n\r\nIf you then need a set of employee&#39;s as a result, you&#39;ll only need to create a new Set of the maps&#39; values.","title":"How to map Employee&#39;s column - manager as Employee instance","body":"<p>I suppose the MANAGER column is a foreign key on another employee, right?</p>\n<p>If so, I would select all of the employee's without a manager first and add each one to a Map&lt;Integer, Employee&gt;. Then, when you iterate over the employee's with a manager, you can fetch the corresponding manager from this map and add it to the newly created employee instance.</p>\n<p>This becomes more tricky if you have a hierarchy with more than 2 levels. If you can't order them by a property (e.g. department), then you have to read all of the employee's first and add their manager in a second step.</p>\n<p>If you then need a set of employee's as a result, you'll only need to create a new Set of the maps' values.</p>\n"}],"owner":{"account_id":23337061,"reputation":133,"user_id":17412555,"display_name":"Richard Walker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70380381,"answer_count":1,"score":1,"last_activity_date":1659394321,"creation_date":1639662710,"question_id":70380167,"body_markdown":"I should perform cursor moving in order to get all Employee instances.\r\nConsider result set to be fully scrollable (back and forward, begin, end, etc.).\r\nIf an Employee has a Manager it should contain it as Employee instance as well.\r\nThis is a table Employee with some columns. \r\n\r\n    ID         INTEGER PRIMARY KEY,\r\n    FIRSTNAME  VARCHAR(10),\r\n    LASTNAME   VARCHAR(10),\r\n    MIDDLENAME VARCHAR(10),\r\n    POSITION   VARCHAR(9),\r\n    MANAGER    INTEGER,\r\n    HIREDATE   DATE,\r\n    SALARY     DOUBLE,\r\n    DEPARTMENT INTEGER,\r\n    CONSTRAINT FK_DEPTNO FOREIGN KEY (DEPARTMENT) REFERENCES DEPARTMENT (ID)\r\n\r\nFor exeample insert in table: \r\n\r\n    INSERT INTO EMPLOYEE VALUES (7654, &#39;JOHN&#39;, &#39;MARTIN&#39;, &#39;MARIA&#39;, &#39;SALESMAN&#39;, 7698, TO_DATE(&#39;28-9-1981&#39;, &#39;DD-MM-YYYY&#39;), 1250, 30);\r\n\r\n \r\n    INSERT INTO EMPLOYEE VALUES (7698, &#39;JOHN&#39;, &#39;BLAKE&#39;, &#39;MARIA&#39;, &#39;MANAGER&#39;, 7839, TO_DATE(&#39;1-5-1981&#39;, &#39;DD-MM-YYYY&#39;), 2850, 30);\r\n\r\nThe manager `ID` first employee is `7698` and in instead of ID need to print all information about manger. In final need to be \r\n\r\n    [Employee{id=7654, fullName=FullName{firstName=JOHN, lastName=MARTIN, middleName=MARIA}, position=SALESMAN, hired=1981-09-28, salary=1250.00000, manager=Employee{id=7698, fullName=FullName{firstName=JOHN, lastName=BLAKE, middleName=MARIA}, position=MANAGER, hired=1981-05-01, salary=2850.00000, manager=null}}\r\n\r\nI create two maps and with `if` add employee to map `employ` and manager to map `manag`\r\n   \r\n\r\n     Map&lt;Integer, Employee&gt; manag = new HashMap&lt;&gt;();\r\n                Map&lt;Integer, Employee&gt; employ = new HashMap&lt;&gt;();\r\n            \r\n            BigInteger id = BigInteger.valueOf(resultSet.getInt(&quot;id&quot;));\r\n                    FullName fullname = new FullName(resultSet.getString(&quot;firstName&quot;), resultSet.getString(&quot;lastName&quot;), resultSet.getString(&quot;middleName&quot;));\r\n                    Position position = Position.valueOf(resultSet.getString(&quot;position&quot;));\r\n                    LocalDate hired = resultSet.getObject(&quot;hiredate&quot;, LocalDate.class);\r\n                    BigDecimal salary = BigDecimal.valueOf(resultSet.getInt(&quot;salary&quot;));\r\n                    Employee manager = null;//String.valueOf(resultSet.getInt(&quot;manager&quot;)) !=null? new Employee(id, fullname, position, hired, salary, null) : null;\r\n    \r\n    \r\n    if(resultSet.getString(&quot;position&quot;).equalsIgnoreCase(&quot;manager&quot;)) {\r\n        Integer key = resultSet.getInt(&quot;id&quot;);\r\n        Employee value = new Employee(id, fullname, position, hired, salary, null);\r\n        manag.put(key, value);\r\n    } else {\r\n        Integer key = resultSet.getInt(&quot;id&quot;);\r\n        Employee value = new Employee(id, fullname, position, hired, salary, null);\r\n        employ.put(key, value);\r\n\r\nbut what do I need to do next to solve the problem?","title":"How to map Employee&#39;s column - manager as Employee instance","body":"<p>I should perform cursor moving in order to get all Employee instances.\nConsider result set to be fully scrollable (back and forward, begin, end, etc.).\nIf an Employee has a Manager it should contain it as Employee instance as well.\nThis is a table Employee with some columns.</p>\n<pre><code>ID         INTEGER PRIMARY KEY,\nFIRSTNAME  VARCHAR(10),\nLASTNAME   VARCHAR(10),\nMIDDLENAME VARCHAR(10),\nPOSITION   VARCHAR(9),\nMANAGER    INTEGER,\nHIREDATE   DATE,\nSALARY     DOUBLE,\nDEPARTMENT INTEGER,\nCONSTRAINT FK_DEPTNO FOREIGN KEY (DEPARTMENT) REFERENCES DEPARTMENT (ID)\n</code></pre>\n<p>For exeample insert in table:</p>\n<pre><code>INSERT INTO EMPLOYEE VALUES (7654, 'JOHN', 'MARTIN', 'MARIA', 'SALESMAN', 7698, TO_DATE('28-9-1981', 'DD-MM-YYYY'), 1250, 30);\n\n\nINSERT INTO EMPLOYEE VALUES (7698, 'JOHN', 'BLAKE', 'MARIA', 'MANAGER', 7839, TO_DATE('1-5-1981', 'DD-MM-YYYY'), 2850, 30);\n</code></pre>\n<p>The manager <code>ID</code> first employee is <code>7698</code> and in instead of ID need to print all information about manger. In final need to be</p>\n<pre><code>[Employee{id=7654, fullName=FullName{firstName=JOHN, lastName=MARTIN, middleName=MARIA}, position=SALESMAN, hired=1981-09-28, salary=1250.00000, manager=Employee{id=7698, fullName=FullName{firstName=JOHN, lastName=BLAKE, middleName=MARIA}, position=MANAGER, hired=1981-05-01, salary=2850.00000, manager=null}}\n</code></pre>\n<p>I create two maps and with <code>if</code> add employee to map <code>employ</code> and manager to map <code>manag</code></p>\n<pre><code> Map&lt;Integer, Employee&gt; manag = new HashMap&lt;&gt;();\n            Map&lt;Integer, Employee&gt; employ = new HashMap&lt;&gt;();\n        \n        BigInteger id = BigInteger.valueOf(resultSet.getInt(&quot;id&quot;));\n                FullName fullname = new FullName(resultSet.getString(&quot;firstName&quot;), resultSet.getString(&quot;lastName&quot;), resultSet.getString(&quot;middleName&quot;));\n                Position position = Position.valueOf(resultSet.getString(&quot;position&quot;));\n                LocalDate hired = resultSet.getObject(&quot;hiredate&quot;, LocalDate.class);\n                BigDecimal salary = BigDecimal.valueOf(resultSet.getInt(&quot;salary&quot;));\n                Employee manager = null;//String.valueOf(resultSet.getInt(&quot;manager&quot;)) !=null? new Employee(id, fullname, position, hired, salary, null) : null;\n\n\nif(resultSet.getString(&quot;position&quot;).equalsIgnoreCase(&quot;manager&quot;)) {\n    Integer key = resultSet.getInt(&quot;id&quot;);\n    Employee value = new Employee(id, fullname, position, hired, salary, null);\n    manag.put(key, value);\n} else {\n    Integer key = resultSet.getInt(&quot;id&quot;);\n    Employee value = new Employee(id, fullname, position, hired, salary, null);\n    employ.put(key, value);\n</code></pre>\n<p>but what do I need to do next to solve the problem?</p>\n"},{"tags":["java","performance","jvm","jit"],"comments":[{"owner":{"account_id":1192700,"reputation":2253,"user_id":1165132,"display_name":"Adrian"},"score":1,"creation_date":1657865333,"post_id":72989618,"comment_id":128915763,"body_markdown":"I don&#39;t think this is a real question, but more an entire research project ;)\nA far as I know in Java code is only compiled once, so the order may be relevant as Java hasn&#39;t any runtime knowledge like &quot;more likely condition&quot;.\nEventually the case is too simple to be discussed like this. There are probably much more parameters, like threading... which has more effect than the order here ;)","body":"I don&#39;t think this is a real question, but more an entire research project ;) A far as I know in Java code is only compiled once, so the order may be relevant as Java hasn&#39;t any runtime knowledge like &quot;more likely condition&quot;. Eventually the case is too simple to be discussed like this. There are probably much more parameters, like threading... which has more effect than the order here ;)"},{"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"score":0,"creation_date":1657865755,"post_id":72989618,"comment_id":128915854,"body_markdown":"@Adrian `in Java code is only compiled once` &lt;- I think that&#39;s right. But that&#39;s why I&#39;m saying `JIT` might be able to optimise it","body":"@Adrian <code>in Java code is only compiled once</code> &lt;- I think that&#39;s right. But that&#39;s why I&#39;m saying <code>JIT</code> might be able to optimise it"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1657875906,"post_id":72989618,"comment_id":128918676,"body_markdown":"Thats wrong. In case of the commonly used Hotspot JVM, the JIT compiler will start its work after the code has been executed by the interpreter a few times, so likelihoods are available. Further, the JVM has multiple compilers with different optimization strategies, so code may get compiled more than once. You should add a test with 0.5 (and perhaps even more steps within), as the slight differences in the results seem to show a trend, i.e. that a higher likelihood of one case yields a higher throughput regardless of which case it is.","body":"Thats wrong. In case of the commonly used Hotspot JVM, the JIT compiler will start its work after the code has been executed by the interpreter a few times, so likelihoods are available. Further, the JVM has multiple compilers with different optimization strategies, so code may get compiled more than once. You should add a test with 0.5 (and perhaps even more steps within), as the slight differences in the results seem to show a trend, i.e. that a higher likelihood of one case yields a higher throughput regardless of which case it is."},{"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"score":0,"creation_date":1657879488,"post_id":72989618,"comment_id":128919827,"body_markdown":"thanks @Holger. I did add tests with 0.5 and it&#39;s true that &quot;higher likelihood of one case yields a higher throughput&quot; (supposedly because of 0.5 yields the worst branch prediction). I didn&#39;t include the result here as I thought the 4 bias here are enough to make my point.","body":"thanks @Holger. I did add tests with 0.5 and it&#39;s true that &quot;higher likelihood of one case yields a higher throughput&quot; (supposedly because of 0.5 yields the worst branch prediction). I didn&#39;t include the result here as I thought the 4 bias here are enough to make my point."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1657887490,"post_id":72989618,"comment_id":128922470,"body_markdown":"Of course, you can implement your specific example branch free, `for(int zeroOrOne: randomZeroOnes) i += (zeroOrOne - 1) | 1;` which does not depend on the actual likelihood (and will be faster in most cases).","body":"Of course, you can implement your specific example branch free, <code>for(int zeroOrOne: randomZeroOnes) i += (zeroOrOne - 1) | 1;</code> which does not depend on the actual likelihood (and will be faster in most cases)."},{"owner":{"account_id":3273747,"reputation":20856,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1659473450,"post_id":72989618,"comment_id":129302399,"body_markdown":"How do you know which condition is more likely to be true? The performance will be faster if the first condition that is checked is met, because then the code will not have to proceed to the next condition. However, the performance difference for a single if-else conditional check will almost certainly be negligible. This isn&#39;t a matter of the compiler being efficient, but a matter of how you write your code based on the workflow the program will follow during normal use. If someone follows the more rare condition, the code will be slower if that condition is checked for second, naturally.","body":"How do you know which condition is more likely to be true? The performance will be faster if the first condition that is checked is met, because then the code will not have to proceed to the next condition. However, the performance difference for a single if-else conditional check will almost certainly be negligible. This isn&#39;t a matter of the compiler being efficient, but a matter of how you write your code based on the workflow the program will follow during normal use. If someone follows the more rare condition, the code will be slower if that condition is checked for second, naturally."}],"answers":[{"tags":[],"owner":{"account_id":224859,"reputation":10267,"user_id":484972,"accept_rate":93,"display_name":"Nico Huysamen"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1657867184,"creation_date":1657867184,"answer_id":72989924,"question_id":72989618,"body_markdown":"On modern processors I don&#39;t think the order of your conditionals really matter that much anymore. As part of the instruction pipeline, processors will do what is called *branch prediction*; where it guesses which condition will be true and pre-loads the instructions into the pipeline.\r\n\r\nThese days, processors guess correctly &gt;90% of the time, so any hand-written conditional tweaking is less important.\r\n\r\nThere are quite a lot of literature on branch prediction:\r\n\r\nhttps://dzone.com/articles/branch-prediction-in-java\r\n\r\nhttps://www.baeldung.com/java-branch-prediction\r\n","title":"Does the order of if else matter for performance? e.g. put the most likely condition in the front is better","body":"<p>On modern processors I don't think the order of your conditionals really matter that much anymore. As part of the instruction pipeline, processors will do what is called <em>branch prediction</em>; where it guesses which condition will be true and pre-loads the instructions into the pipeline.</p>\n<p>These days, processors guess correctly &gt;90% of the time, so any hand-written conditional tweaking is less important.</p>\n<p>There are quite a lot of literature on branch prediction:</p>\n<p><a href=\"https://dzone.com/articles/branch-prediction-in-java\" rel=\"nofollow noreferrer\">https://dzone.com/articles/branch-prediction-in-java</a></p>\n<p><a href=\"https://www.baeldung.com/java-branch-prediction\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-branch-prediction</a></p>\n"}],"owner":{"account_id":16617127,"reputation":638,"user_id":12008421,"display_name":"wayne"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72989924,"answer_count":1,"score":6,"last_activity_date":1659394231,"creation_date":1657864751,"question_id":72989618,"body_markdown":"I&#39;m trying to measure if the order of `if else` affects performance.  \r\n\r\nFor example, if\r\n```java\r\nif (condition == more likely condition) {}\r\nelse /** condition == rare condition **/ {}\r\n```\r\nis faster than\r\n```java\r\nif (condition == rare condition) {}\r\nelse /** condition == more likely condition **/ {}\r\n```\r\nI think maybe JIT should be able to optimise it no matter which order I put it? Couldn&#39;t find any documentation on this though.   \r\n  \r\nI tried to test it out myself with following benchmark. Based on it, I don&#39;t see strong evidence that the order matters. Because if it does, I think the throughput when `bias=0.9` (probability of `if (zeroOrOne == 1)` is true is 0.9) should be higher than when `bias=0.1` (`else` probability is 0.9).  \r\n\r\n```java\r\npublic class BranchBench {\r\n    @Param({ &quot;0.02&quot;, &quot;0.1&quot;, &quot;0.9&quot;, &quot;0.98&quot;, })\r\n    private double bias;\r\n\r\n    @Param(&quot;10000&quot;)\r\n    private int count;\r\n\r\n    private final List&lt;Byte&gt; randomZeroOnes = new ArrayList&lt;&gt;(count);\r\n\r\n    @Setup\r\n    public void setup() {\r\n        Random r = new Random(12345);\r\n\r\n        for (int c = 0; c &lt; count; c++) {\r\n            byte zeroOrOne = (byte) (c &lt; (bias * count) ? 1 : 0);\r\n            randomZeroOnes.add(zeroOrOne);\r\n        }\r\n        Collections.shuffle(randomZeroOnes, r);\r\n    }\r\n\r\n    @Benchmark\r\n    public int static_ID_ifElse() {\r\n        int i = 0;\r\n        for (final Byte zeroOrOne : randomZeroOnes) {\r\n            if (zeroOrOne == 1) {\r\n                i++;\r\n            } else {\r\n                i--;\r\n            }\r\n        }\r\n        return i;\r\n    }\r\n}\r\n```\r\n\r\n```\r\nBenchmark                     (bias)  (count)   Mode  Cnt    Score   Error   Units\r\nBranchBench.static_ID_ifElse    0.02    10000  thrpt   15  137.409 &#177; 1.376  ops/ms\r\nBranchBench.static_ID_ifElse     0.1    10000  thrpt   15  129.277 &#177; 1.552  ops/ms\r\nBranchBench.static_ID_ifElse     0.9    10000  thrpt   15  125.640 &#177; 5.858  ops/ms\r\nBranchBench.static_ID_ifElse    0.98    10000  thrpt   15  137.427 &#177; 2.396  ops/ms\r\n```","title":"Does the order of if else matter for performance? e.g. put the most likely condition in the front is better","body":"<p>I'm trying to measure if the order of <code>if else</code> affects performance.</p>\n<p>For example, if</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (condition == more likely condition) {}\nelse /** condition == rare condition **/ {}\n</code></pre>\n<p>is faster than</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (condition == rare condition) {}\nelse /** condition == more likely condition **/ {}\n</code></pre>\n<p>I think maybe JIT should be able to optimise it no matter which order I put it? Couldn't find any documentation on this though.</p>\n<p>I tried to test it out myself with following benchmark. Based on it, I don't see strong evidence that the order matters. Because if it does, I think the throughput when <code>bias=0.9</code> (probability of <code>if (zeroOrOne == 1)</code> is true is 0.9) should be higher than when <code>bias=0.1</code> (<code>else</code> probability is 0.9).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BranchBench {\n    @Param({ &quot;0.02&quot;, &quot;0.1&quot;, &quot;0.9&quot;, &quot;0.98&quot;, })\n    private double bias;\n\n    @Param(&quot;10000&quot;)\n    private int count;\n\n    private final List&lt;Byte&gt; randomZeroOnes = new ArrayList&lt;&gt;(count);\n\n    @Setup\n    public void setup() {\n        Random r = new Random(12345);\n\n        for (int c = 0; c &lt; count; c++) {\n            byte zeroOrOne = (byte) (c &lt; (bias * count) ? 1 : 0);\n            randomZeroOnes.add(zeroOrOne);\n        }\n        Collections.shuffle(randomZeroOnes, r);\n    }\n\n    @Benchmark\n    public int static_ID_ifElse() {\n        int i = 0;\n        for (final Byte zeroOrOne : randomZeroOnes) {\n            if (zeroOrOne == 1) {\n                i++;\n            } else {\n                i--;\n            }\n        }\n        return i;\n    }\n}\n</code></pre>\n<pre><code>Benchmark                     (bias)  (count)   Mode  Cnt    Score   Error   Units\nBranchBench.static_ID_ifElse    0.02    10000  thrpt   15  137.409  1.376  ops/ms\nBranchBench.static_ID_ifElse     0.1    10000  thrpt   15  129.277  1.552  ops/ms\nBranchBench.static_ID_ifElse     0.9    10000  thrpt   15  125.640  5.858  ops/ms\nBranchBench.static_ID_ifElse    0.98    10000  thrpt   15  137.427  2.396  ops/ms\n</code></pre>\n"},{"tags":["java","list","comparison","nested-lists"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1659356102,"post_id":73193487,"comment_id":129267880,"body_markdown":"And what is your required result/output? Do you just want a boolean value if both objects contain same elements in same order? Because in that case just using the equals method should be enough. PS: Your objects are bot named &quot;object1&quot;","body":"And what is your required result/output? Do you just want a boolean value if both objects contain same elements in same order? Because in that case just using the equals method should be enough. PS: Your objects are bot named &quot;object1&quot;"},{"owner":{"account_id":20094881,"reputation":129,"user_id":14734627,"display_name":"impstuffsforcse"},"score":0,"creation_date":1659356179,"post_id":73193487,"comment_id":129267903,"body_markdown":"I need the count of common elements present between two objects too using count variable","body":"I need the count of common elements present between two objects too using count variable"},{"owner":{"account_id":20094881,"reputation":129,"user_id":14734627,"display_name":"impstuffsforcse"},"score":0,"creation_date":1659356215,"post_id":73193487,"comment_id":129267916,"body_markdown":"Sorry let me edit the question - Its two different objects","body":"Sorry let me edit the question - Its two different objects"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1659356559,"post_id":73193487,"comment_id":129268036,"body_markdown":"So the result for your example should be `2` because the first 2 Lists are equal, or should it be `6` because the first 2 equal lists contain 6 elements?","body":"So the result for your example should be <code>2</code> because the first 2 Lists are equal, or should it be <code>6</code> because the first 2 equal lists contain 6 elements?"},{"owner":{"account_id":20094881,"reputation":129,"user_id":14734627,"display_name":"impstuffsforcse"},"score":0,"creation_date":1659357129,"post_id":73193487,"comment_id":129268227,"body_markdown":"The count should be 8 (only last element is different)","body":"The count should be 8 (only last element is different)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659363492,"post_id":73193487,"comment_id":129270645,"body_markdown":"@impstuffsforcse It is worth to provide this information in the question. Can you please [*add*](https://stackoverflow.com/posts/73193487/edit) the explanation regarding expected output. Even after reading the comments, it&#39;s **not** completely clear if the order matter, what if one list contains more nested lists than the other, how to deal with duplicates (if any) ?","body":"@impstuffsforcse It is worth to provide this information in the question. Can you please <a href=\"https://stackoverflow.com/posts/73193487/edit\"><i>add</i></a> the explanation regarding expected output. Even after reading the comments, it&#39;s <b>not</b> completely clear if the order matter, what if one list contains more nested lists than the other, how to deal with duplicates (if any) ?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659372068,"post_id":73193487,"comment_id":129273856,"body_markdown":"So the order is not important? What if we have `[[&quot;a&quot;,&quot;b&quot;][&quot;c&quot;,&quot;a&quot;]]` and `[[&quot;a&quot;,&quot;a&quot;][&quot;b&quot;,&quot;e&quot;]]`, what would be the result? `3` - `a`+`a`+`b`?","body":"So the order is not important? What if we have <code>[[&quot;a&quot;,&quot;b&quot;][&quot;c&quot;,&quot;a&quot;]]</code> and <code>[[&quot;a&quot;,&quot;a&quot;][&quot;b&quot;,&quot;e&quot;]]</code>, what would be the result? <code>3</code> - <code>a</code>+<code>a</code>+<code>b</code>?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1659387063,"post_id":73193487,"comment_id":129278266,"body_markdown":"What do you mean by saying in the `same order`? Does it imply that two list are guaranteed to have the same size and all the lists nested within them as well? How the following input should be treated `[[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;]]` and `[[&quot;a&quot;,&quot;b&quot;][&quot;a&quot;]]` or such case is not possible? Please clarify the constraints.","body":"What do you mean by saying in the <code>same order</code>? Does it imply that two list are guaranteed to have the same size and all the lists nested within them as well? How the following input should be treated <code>[[&quot;a&quot;,&quot;a&quot;,&quot;a&quot;]]</code> and <code>[[&quot;a&quot;,&quot;b&quot;][&quot;a&quot;]]</code> or such case is not possible? Please clarify the constraints."}],"answers":[{"tags":[],"owner":{"display_name":"user6073886"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659357610,"creation_date":1659357610,"answer_id":73193822,"question_id":73193487,"body_markdown":"To get your required output the simplest way is to use 2 nested loops to iterate over both Lists and Sublists and check each element for equality, using a simple counter variable to keep track of equal elements:\r\n\r\n    int equalElements = 0;\r\n    for (int i = 0; i &lt; object1.size() &amp;&amp; i &lt; object2.size(); i++) {\r\n        final List&lt;String&gt; subList1 = object1.get(i);\r\n        final List&lt;String&gt; subList2 = object2.get(i);\r\n        for(int x = 0; x &lt; subList1.size() &amp;&amp; x &lt; subList2.size(); x++) {\r\n            if (Objects.equals(subList1.get(x), subList2.get(x))) {\r\n                equalElements++;\r\n            }\r\n        }\r\n    }\r\n\t\t\r\n    System.out.println(equalElements);","title":"Find the Count of common elements within the two nested Lists","body":"<p>To get your required output the simplest way is to use 2 nested loops to iterate over both Lists and Sublists and check each element for equality, using a simple counter variable to keep track of equal elements:</p>\n<pre><code>int equalElements = 0;\nfor (int i = 0; i &lt; object1.size() &amp;&amp; i &lt; object2.size(); i++) {\n    final List&lt;String&gt; subList1 = object1.get(i);\n    final List&lt;String&gt; subList2 = object2.get(i);\n    for(int x = 0; x &lt; subList1.size() &amp;&amp; x &lt; subList2.size(); x++) {\n        if (Objects.equals(subList1.get(x), subList2.get(x))) {\n            equalElements++;\n        }\n    }\n}\n    \nSystem.out.println(equalElements);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1659392953,"creation_date":1659373218,"answer_id":73197173,"question_id":73193487,"body_markdown":"You can generate a `Map` representing the number of occurrences of each element in a list for both *lists*.\r\n\r\nAnd then add up the *values* associated with *keys* that are present in both maps of frequencies by choosing the *smallest value* in every pair of *values*.\r\n\r\nIf you&#39;re comfortable with streams, this logic can be implementing like that:\r\n\r\n    public static Map&lt;String, Long&gt; getFrequencies(List&lt;List&lt;String&gt;&gt; list) {\r\n        \r\n        return list.stream()\r\n            .flatMap(List::stream)\r\n            .collect(Collectors.groupingBy(\r\n                Function.identity(),\r\n                Collectors.counting()\r\n            ));\r\n    }\r\n    \r\n    public static long countCommonValues(Map&lt;String, Long&gt; map1, Map&lt;String, Long&gt; map2) {\r\n        \r\n        return map1.entrySet().stream()\r\n            .filter(entry -&gt; map2.containsKey(entry.getKey()))\r\n            .mapToLong(entry -&gt; Math.min(entry.getValue(), map2.get(entry.getKey())))\r\n            .sum();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;List&lt;String&gt;&gt; list1 = List.of(\r\n            List.of(&quot;A&quot;, &quot;B&quot;, &quot;A&quot;),\r\n            List.of(&quot;D&quot;, &quot;E&quot;, &quot;H&quot;),\r\n            List.of(&quot;G&quot;, &quot;H&quot;, &quot;I&quot;));\r\n        \r\n        List&lt;List&lt;String&gt;&gt; list2 = List.of(\r\n            List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;),\r\n            List.of(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;A&quot;),\r\n            List.of(&quot;G&quot;, &quot;H&quot;, &quot;J&quot;, &quot;H&quot;));\r\n    \r\n        System.out.println(countCommonValues(getFrequencies(list1), getFrequencies(list2)));\r\n    }\r\n\r\n*Output:*\r\n```\r\n8   // &quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;D&quot;, &quot;E&quot;, &quot;G&quot;, &quot;H&quot;, &quot;H&quot;\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/tFD)\r\n\r\n___________________________________________\r\n\r\nIn case if order is important and nested lists are not guaranteed to be of the same size, we can flatten both lists and then compare elements at corresponding indices.\r\n\r\n    public static &lt;T&gt; long countCommonValues(List&lt;List&lt;T&gt;&gt; list1, List&lt;List&lt;T&gt;&gt; list2) {\r\n        \r\n        List&lt;T&gt; flattened1 = flatten(list1);\r\n        List&lt;T&gt; flattened2 = flatten(list2);\r\n        \r\n        return IntStream.range(0, Math.min(flattened1.size(), flattened2.size()))\r\n            .filter(i -&gt; flattened1.get(i).equals(flattened2.get(i)))\r\n            .count();\r\n    }\r\n    \r\n    public static &lt;T&gt; List&lt;T&gt; flatten(List&lt;List&lt;T&gt;&gt; list) {\r\n        return list.stream()\r\n            .flatMap(List::stream)\r\n            .toList();\r\n    }","title":"Find the Count of common elements within the two nested Lists","body":"<p>You can generate a <code>Map</code> representing the number of occurrences of each element in a list for both <em>lists</em>.</p>\n<p>And then add up the <em>values</em> associated with <em>keys</em> that are present in both maps of frequencies by choosing the <em>smallest value</em> in every pair of <em>values</em>.</p>\n<p>If you're comfortable with streams, this logic can be implementing like that:</p>\n<pre><code>public static Map&lt;String, Long&gt; getFrequencies(List&lt;List&lt;String&gt;&gt; list) {\n    \n    return list.stream()\n        .flatMap(List::stream)\n        .collect(Collectors.groupingBy(\n            Function.identity(),\n            Collectors.counting()\n        ));\n}\n\npublic static long countCommonValues(Map&lt;String, Long&gt; map1, Map&lt;String, Long&gt; map2) {\n    \n    return map1.entrySet().stream()\n        .filter(entry -&gt; map2.containsKey(entry.getKey()))\n        .mapToLong(entry -&gt; Math.min(entry.getValue(), map2.get(entry.getKey())))\n        .sum();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;List&lt;String&gt;&gt; list1 = List.of(\n        List.of(&quot;A&quot;, &quot;B&quot;, &quot;A&quot;),\n        List.of(&quot;D&quot;, &quot;E&quot;, &quot;H&quot;),\n        List.of(&quot;G&quot;, &quot;H&quot;, &quot;I&quot;));\n    \n    List&lt;List&lt;String&gt;&gt; list2 = List.of(\n        List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;),\n        List.of(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;, &quot;A&quot;),\n        List.of(&quot;G&quot;, &quot;H&quot;, &quot;J&quot;, &quot;H&quot;));\n\n    System.out.println(countCommonValues(getFrequencies(list1), getFrequencies(list2)));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>8   // &quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;D&quot;, &quot;E&quot;, &quot;G&quot;, &quot;H&quot;, &quot;H&quot;\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/tFD\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n<hr />\n<p>In case if order is important and nested lists are not guaranteed to be of the same size, we can flatten both lists and then compare elements at corresponding indices.</p>\n<pre><code>public static &lt;T&gt; long countCommonValues(List&lt;List&lt;T&gt;&gt; list1, List&lt;List&lt;T&gt;&gt; list2) {\n    \n    List&lt;T&gt; flattened1 = flatten(list1);\n    List&lt;T&gt; flattened2 = flatten(list2);\n    \n    return IntStream.range(0, Math.min(flattened1.size(), flattened2.size()))\n        .filter(i -&gt; flattened1.get(i).equals(flattened2.get(i)))\n        .count();\n}\n\npublic static &lt;T&gt; List&lt;T&gt; flatten(List&lt;List&lt;T&gt;&gt; list) {\n    return list.stream()\n        .flatMap(List::stream)\n        .toList();\n}\n</code></pre>\n"}],"owner":{"account_id":20094881,"reputation":129,"user_id":14734627,"display_name":"impstuffsforcse"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73197173,"answer_count":2,"score":0,"last_activity_date":1659392953,"creation_date":1659355981,"question_id":73193487,"body_markdown":"Compare each element present in list of String lists object1 with another object object2 in Java\r\n\r\nI have a list of String lists initialized to object1 as mentioned below:\r\n\r\n    List&lt;List&lt;String&gt;&gt; object1 = Arrays.asList(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;),\r\n                                           Arrays.asList(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;), \r\n                                           Arrays.asList(&quot;G&quot;, &quot;H&quot;, &quot;I&quot;));\r\n\r\nI have a another list of String lists initialized to object2 as mentioned below:\r\n\r\n    List&lt;List&lt;String&gt;&gt; object2 = Arrays.asList(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;),\r\n                                           Arrays.asList(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;), \r\n                                           Arrays.asList(&quot;G&quot;, &quot;H&quot;, &quot;J&quot;));\r\n\r\nHow do I compare each element between two objects one by one in same order\r\n\r\nNeed to initialize a counter variable to track number of common elements present between two objects.\r\n\r\nExpected result : `8` ","title":"Find the Count of common elements within the two nested Lists","body":"<p>Compare each element present in list of String lists object1 with another object object2 in Java</p>\n<p>I have a list of String lists initialized to object1 as mentioned below:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; object1 = Arrays.asList(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;),\n                                       Arrays.asList(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;), \n                                       Arrays.asList(&quot;G&quot;, &quot;H&quot;, &quot;I&quot;));\n</code></pre>\n<p>I have a another list of String lists initialized to object2 as mentioned below:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; object2 = Arrays.asList(Arrays.asList(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;),\n                                       Arrays.asList(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;), \n                                       Arrays.asList(&quot;G&quot;, &quot;H&quot;, &quot;J&quot;));\n</code></pre>\n<p>How do I compare each element between two objects one by one in same order</p>\n<p>Need to initialize a counter variable to track number of common elements present between two objects.</p>\n<p>Expected result : <code>8</code></p>\n"},{"tags":["java","maven","asciidoctor"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1659379694,"post_id":73198176,"comment_id":129276188,"body_markdown":"Yes this is possible...https://github.com/khmarbaise/maven-it-extension/tree/master/itf-documentation (https://github.com/khmarbaise/maven-it-extension/)","body":"Yes this is possible...<a href=\"https://github.com/khmarbaise/maven-it-extension/tree/master/itf-documentation\" rel=\"nofollow noreferrer\">github.com/khmarbaise/maven-it-extension/tree/mas&zwnj;&#8203;ter/&hellip;</a> (<a href=\"https://github.com/khmarbaise/maven-it-extension/\" rel=\"nofollow noreferrer\">github.com/khmarbaise/maven-it-extension</a>)"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659392567,"creation_date":1659380854,"answer_id":73198465,"question_id":73198176,"body_markdown":"You need to aggregate individual articles into single one like:\r\n\r\n```adoc\r\n:toc: macro\r\n:toclevels: 3\r\n:toc-title: Contents\r\n:doctype: book\r\n:chapter-label:\r\n\r\ntoc::[]\r\n\r\n:doctype: book\r\n\r\ninclude::article1.adoc[]\r\n\r\ninclude::article2.adoc[]\r\n\r\n...\r\n\r\n```\r\n\r\nand setup maven plugin to compile that single adoc:\r\n\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n   &lt;sourceDocumentName&gt;single.adoc&lt;/sourceDocumentName&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n----------\r\n\r\nIt seems the Q is more about `asciidoc` rather than `maven`...\r\n\r\nI believe to support document links we need to create anchors with unique names, something like:\r\n\r\n\r\nbuilding-tool.adoc:\r\n```adoc\r\n[#building_tool]\r\n= Building tool\r\n\r\n== Status\r\nAccepted\r\n```\r\n\r\ncloud.adoc:\r\n```adoc\r\n[#cloud]\r\n= Cloud\r\n\r\n== Status\r\nAccepted\r\n```\r\n\r\nadr-log.adoc:\r\n```adoc\r\n| 08/07/2022\r\n| xref:adr/building-tool.adoc#building_tool[Building tool]\r\n| Accepted\r\n\r\n| 08/07/2022\r\n| xref:adr/cloud.adoc#cloud[Cloud]\r\n| Accepted\r\n```","title":"Configure AsciiDoctor Maven plugin to generate a single PDF file","body":"<p>You need to aggregate individual articles into single one like:</p>\n<pre><code>:toc: macro\n:toclevels: 3\n:toc-title: Contents\n:doctype: book\n:chapter-label:\n\ntoc::[]\n\n:doctype: book\n\ninclude::article1.adoc[]\n\ninclude::article2.adoc[]\n\n...\n\n</code></pre>\n<p>and setup maven plugin to compile that single adoc:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n   &lt;sourceDocumentName&gt;single.adoc&lt;/sourceDocumentName&gt;\n&lt;/configuration&gt;\n</code></pre>\n<hr />\n<p>It seems the Q is more about <code>asciidoc</code> rather than <code>maven</code>...</p>\n<p>I believe to support document links we need to create anchors with unique names, something like:</p>\n<p>building-tool.adoc:</p>\n<pre><code>[#building_tool]\n= Building tool\n\n== Status\nAccepted\n</code></pre>\n<p>cloud.adoc:</p>\n<pre><code>[#cloud]\n= Cloud\n\n== Status\nAccepted\n</code></pre>\n<p>adr-log.adoc:</p>\n<pre><code>| 08/07/2022\n| xref:adr/building-tool.adoc#building_tool[Building tool]\n| Accepted\n\n| 08/07/2022\n| xref:adr/cloud.adoc#cloud[Cloud]\n| Accepted\n</code></pre>\n"}],"owner":{"account_id":16063794,"reputation":89,"user_id":14080696,"display_name":"Sout parl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73198465,"answer_count":1,"score":3,"last_activity_date":1659392567,"creation_date":1659379041,"question_id":73198176,"body_markdown":"Is there a way to configure AsciiDoctor Maven plugin to generate one PDF file out of many `.adoc` files? \r\n\r\nCurrently, it simply translates the structure of asciidoc files into the same structure, but using PDFs. I would like to have a single file and when I click on the link it moves me to the target location in the same PDF. Is this even possible using Maven plugin?\r\n\r\nMy current pom.xml:\r\n\r\n    ...\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n        &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.2&lt;/version&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n                &lt;artifactId&gt;asciidoctorj-pdf&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;configuration&gt;\r\n            &lt;sourceDirectory&gt;documentation&lt;/sourceDirectory&gt;\r\n            &lt;outputDirectory&gt;target/pdf-doc&lt;/outputDirectory&gt;\r\n            &lt;backend&gt;pdf&lt;/backend&gt;\r\n            &lt;preserveDirectories&gt;true&lt;/preserveDirectories&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;generate-pdf-doc&lt;/id&gt;\r\n                &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;process-asciidoc&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;backend&gt;pdf&lt;/backend&gt;\r\n                    &lt;attributes&gt;\r\n                        &lt;source-highlighter&gt;rouge&lt;/source-highlighter&gt;\r\n                        &lt;icons&gt;font&lt;/icons&gt;\r\n                        &lt;pagenums/&gt;\r\n                        &lt;toc/&gt;\r\n                        &lt;idprefix/&gt;\r\n                        &lt;idseparator&gt;-&lt;/idseparator&gt;\r\n                    &lt;/attributes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n    ...","title":"Configure AsciiDoctor Maven plugin to generate a single PDF file","body":"<p>Is there a way to configure AsciiDoctor Maven plugin to generate one PDF file out of many <code>.adoc</code> files?</p>\n<p>Currently, it simply translates the structure of asciidoc files into the same structure, but using PDFs. I would like to have a single file and when I click on the link it moves me to the target location in the same PDF. Is this even possible using Maven plugin?</p>\n<p>My current pom.xml:</p>\n<pre><code>...\n&lt;plugin&gt;\n    &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n    &lt;artifactId&gt;asciidoctor-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.2.2&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n            &lt;artifactId&gt;asciidoctorj-pdf&lt;/artifactId&gt;\n            &lt;version&gt;2.1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;configuration&gt;\n        &lt;sourceDirectory&gt;documentation&lt;/sourceDirectory&gt;\n        &lt;outputDirectory&gt;target/pdf-doc&lt;/outputDirectory&gt;\n        &lt;backend&gt;pdf&lt;/backend&gt;\n        &lt;preserveDirectories&gt;true&lt;/preserveDirectories&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-pdf-doc&lt;/id&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;process-asciidoc&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;backend&gt;pdf&lt;/backend&gt;\n                &lt;attributes&gt;\n                    &lt;source-highlighter&gt;rouge&lt;/source-highlighter&gt;\n                    &lt;icons&gt;font&lt;/icons&gt;\n                    &lt;pagenums/&gt;\n                    &lt;toc/&gt;\n                    &lt;idprefix/&gt;\n                    &lt;idseparator&gt;-&lt;/idseparator&gt;\n                &lt;/attributes&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n...\n</code></pre>\n"},{"tags":["java","error-handling","exception","anti-patterns"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":38,"creation_date":1523536142,"post_id":49796533,"comment_id":86607424,"body_markdown":"Why would you return an exception instead of throwing it?","body":"Why would you return an exception instead of throwing it?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":5,"creation_date":1523536209,"post_id":49796533,"comment_id":86607477,"body_markdown":"@Turing85 This is what the whole question is about. :)","body":"@Turing85 This is what the whole question is about. :)"},{"owner":{"account_id":5635179,"reputation":999,"user_id":4460867,"display_name":"Martin Linha"},"score":0,"creation_date":1523536500,"post_id":49796533,"comment_id":86607683,"body_markdown":"@Turing85 ? You mean in `serviceUp()`? In `proceedWhenError()` we do not want to throw the exception.","body":"@Turing85 ? You mean in <code>serviceUp()</code>? In <code>proceedWhenError()</code> we do not want to throw the exception."},{"owner":{"account_id":449991,"reputation":64953,"user_id":845092,"accept_rate":93,"display_name":"Mooing Duck"},"score":0,"creation_date":1523556528,"post_id":49796533,"comment_id":86621078,"body_markdown":"@lexicore: No, the question does not appear to mention throwing an exception as an option.","body":"@lexicore: No, the question does not appear to mention throwing an exception as an option."},{"owner":{"account_id":449991,"reputation":64953,"user_id":845092,"accept_rate":93,"display_name":"Mooing Duck"},"score":0,"creation_date":1523556567,"post_id":49796533,"comment_id":86621094,"body_markdown":"@MartinLinha: Yes. Why in the world is `serviceUp()` returning an exception, rather than throwing?","body":"@MartinLinha: Yes. Why in the world is <code>serviceUp()</code> returning an exception, rather than throwing?"},{"owner":{"account_id":5635179,"reputation":999,"user_id":4460867,"display_name":"Martin Linha"},"score":0,"creation_date":1523557618,"post_id":49796533,"comment_id":86621627,"body_markdown":"@MooingDuck Do you really think the only way to indicate some operation went wrong is by throwing an exception? See the accepted answer.","body":"@MooingDuck Do you really think the only way to indicate some operation went wrong is by throwing an exception? See the accepted answer."},{"owner":{"account_id":2678223,"reputation":744,"user_id":2859462,"display_name":"Corrodias"},"score":2,"creation_date":1523560414,"post_id":49796533,"comment_id":86623112,"body_markdown":"I think the point of asking why it&#39;s returning the exception rather than allowing it to be thrown is that catching it, returning it, and checking for null is the same thing as just allowing it to be thrown (without catching it) and catching it on the level above, when calling the function, except it takes an extra step. In other words, any call to serviceUp() could be replaced by a call to service.connect() and the &quot;if&quot; replaced with a catch.","body":"I think the point of asking why it&#39;s returning the exception rather than allowing it to be thrown is that catching it, returning it, and checking for null is the same thing as just allowing it to be thrown (without catching it) and catching it on the level above, when calling the function, except it takes an extra step. In other words, any call to serviceUp() could be replaced by a call to service.connect() and the &quot;if&quot; replaced with a catch."},{"owner":{"account_id":449991,"reputation":64953,"user_id":845092,"accept_rate":93,"display_name":"Mooing Duck"},"score":0,"creation_date":1523579223,"post_id":49796533,"comment_id":86630120,"body_markdown":"@MartinLinha: No, the vast majority of the time, I think returning a boolean is the right way to indicate if some operation went wrong. In rare cases, sometimes returning a status code, which provides more information.  However, for _exceptional_ cases, which require even more data still, the proper thing to do is create an exception object which holds the required information, and then throw it. Which is what the accepted answer promotes in the second paragraph.","body":"@MartinLinha: No, the vast majority of the time, I think returning a boolean is the right way to indicate if some operation went wrong. In rare cases, sometimes returning a status code, which provides more information.  However, for <i>exceptional</i> cases, which require even more data still, the proper thing to do is create an exception object which holds the required information, and then throw it. Which is what the accepted answer promotes in the second paragraph."},{"owner":{"account_id":1194967,"reputation":4256,"user_id":1166898,"accept_rate":32,"display_name":"CJ Dennis"},"score":0,"creation_date":1523585915,"post_id":49796533,"comment_id":86631598,"body_markdown":"You had a [Smalltalk](https://en.wikipedia.org/wiki/Smalltalk) or a small talk?","body":"You had a <a href=\"https://en.wikipedia.org/wiki/Smalltalk\" rel=\"nofollow noreferrer\">Smalltalk</a> or a small talk?"}],"answers":[{"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523537107,"creation_date":1523536799,"answer_id":49796839,"question_id":49796533,"body_markdown":"returning an Exception is indeed an anti pattern becuase Exceptions should be reserved for errors in the execution, not to describe the condition of the service.\r\n\r\nimagine if there is a bug in the code of `serviceUp()` that causes it to throw `NullPointerException`.  Now imagine the bug is in the service and the same `NullPointerException` is thrown from the `connect()`.  \r\n\r\nSee my point?\r\n\r\nAnother reason is changing requirements.  \r\n\r\nCurrently, the service has two conditions: either up or down.    \r\n**Currently.**\r\n\r\nTommorow, you will have three conditions for the service: up, down. or functioning with warnings. The day after, you will also want the method to return details about the service in json.....\r\n\r\n","title":"Is returning an exception an anti-pattern?","body":"<p>returning an Exception is indeed an anti pattern becuase Exceptions should be reserved for errors in the execution, not to describe the condition of the service.</p>\n\n<p>imagine if there is a bug in the code of <code>serviceUp()</code> that causes it to throw <code>NullPointerException</code>.  Now imagine the bug is in the service and the same <code>NullPointerException</code> is thrown from the <code>connect()</code>.  </p>\n\n<p>See my point?</p>\n\n<p>Another reason is changing requirements.  </p>\n\n<p>Currently, the service has two conditions: either up or down.<br>\n<strong>Currently.</strong></p>\n\n<p>Tommorow, you will have three conditions for the service: up, down. or functioning with warnings. The day after, you will also want the method to return details about the service in json.....</p>\n"},{"tags":[],"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523537595,"creation_date":1523536844,"answer_id":49796851,"question_id":49796533,"body_markdown":"You can&#39;t tell the 2) opinion is false, cause the workflow will run as you want it to run. From a logical point of view it will run as wanted so it&#39;s correct.\r\n\r\nBut it&#39;s a really strange and not recommended way to do it. Firstly because Exception are not designed to do that (which means you are doing an anti-pattern). It&#39;s a specific object designed to be thrown and catch. So it&#39;s strange to, rather used it as designed, choose tor return it and rather catch it use a if on it. Moreover you will (maybe it&#39;s negligible) face a performance issue cause rather than using a simple boolean as a flag, you instantiate a whole object.\r\n\r\nFinally it&#39;s also not recommended cause function should return something if the goal of the function is to obtain something (which is not your case). You should re-designed it to be a function that start a service, then it return nothing cause it won&#39;t be called to obtain something, and it will throw an exception if an error happened. And if you want to know if your service work create a function designed to give you this info like `public boolean isServiceStarted()`.","title":"Is returning an exception an anti-pattern?","body":"<p>You can't tell the 2) opinion is false, cause the workflow will run as you want it to run. From a logical point of view it will run as wanted so it's correct.</p>\n\n<p>But it's a really strange and not recommended way to do it. Firstly because Exception are not designed to do that (which means you are doing an anti-pattern). It's a specific object designed to be thrown and catch. So it's strange to, rather used it as designed, choose tor return it and rather catch it use a if on it. Moreover you will (maybe it's negligible) face a performance issue cause rather than using a simple boolean as a flag, you instantiate a whole object.</p>\n\n<p>Finally it's also not recommended cause function should return something if the goal of the function is to obtain something (which is not your case). You should re-designed it to be a function that start a service, then it return nothing cause it won't be called to obtain something, and it will throw an exception if an error happened. And if you want to know if your service work create a function designed to give you this info like <code>public boolean isServiceStarted()</code>.</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":3,"up_vote_count":35,"is_accepted":false,"score":32,"last_activity_date":1523581619,"creation_date":1523537005,"answer_id":49796884,"question_id":49796533,"body_markdown":"It is an anti-pattern to use exceptions to direct the flow only when the exception is thrown in a non-exceptional situation&lt;sup&gt;*&lt;/sup&gt;. For example, ending a loop by throwing an exception when you reach the end of a collection is an anti-pattern.\r\n\r\nControlling the flow with actual exceptions, on the other hand, is a good application of exceptions. If your method encounters an exceptional situation that it cannot handle, it should throw an exception, thus re-directing the flow in the caller to the exception handler block.\r\n\r\nReturning a &quot;naked&quot; `Exception` object from a method, rather than throwing it, is certainly counter-intuitive. If you need to communicate the results of an operation to the caller, a better approach is to use a status object that wraps all the relevant information, including the exception:\r\n\r\n    public class CallStatus {\r\n        private final Exception serviceException;\r\n        private final boolean isSuccess;\r\n        public static final CallStatus SUCCESS = new CallStatus(null, true);\r\n        private CallStatus(Exception e, boolean s) {\r\n            serviceException = e;\r\n            isSuccess = s;\r\n        }\r\n        public boolean isSuccess() { return isSuccess; }\r\n        public Exception getServiceException() { return serviceException; }\r\n        public static CallStatus error(Exception e) {\r\n            return new CallStatus(e, false);\r\n        }\r\n    }\r\n\r\nNow the caller would receive `CallStatus` from `serviceUp`:\r\n\r\n    CallStatus status = serviceUp();\r\n    if (status.isSuccess()) {\r\n        ... // Do something\r\n    } else {\r\n        ... // Do something else\r\n        Exception ex = status.getException();\r\n    }\r\n\r\nNote that the constructor is private, so `serviceUp` would either return `CallStatus.SUCCESS` or call `CallStatus.error(myException)`.\r\n\r\n&lt;sup&gt;*&lt;/sup&gt; What is exceptional and what is not exceptional depends a great deal on the context. For example, non-numeric data causes an exception in `Scanner`&#39;s `nextInt`, because it considers such data invalid. However, the same exact data does not cause an exception in `hasNextInt` method, because it is perfectly valid.","title":"Is returning an exception an anti-pattern?","body":"<p>It is an anti-pattern to use exceptions to direct the flow only when the exception is thrown in a non-exceptional situation<sup>*</sup>. For example, ending a loop by throwing an exception when you reach the end of a collection is an anti-pattern.</p>\n\n<p>Controlling the flow with actual exceptions, on the other hand, is a good application of exceptions. If your method encounters an exceptional situation that it cannot handle, it should throw an exception, thus re-directing the flow in the caller to the exception handler block.</p>\n\n<p>Returning a \"naked\" <code>Exception</code> object from a method, rather than throwing it, is certainly counter-intuitive. If you need to communicate the results of an operation to the caller, a better approach is to use a status object that wraps all the relevant information, including the exception:</p>\n\n<pre><code>public class CallStatus {\n    private final Exception serviceException;\n    private final boolean isSuccess;\n    public static final CallStatus SUCCESS = new CallStatus(null, true);\n    private CallStatus(Exception e, boolean s) {\n        serviceException = e;\n        isSuccess = s;\n    }\n    public boolean isSuccess() { return isSuccess; }\n    public Exception getServiceException() { return serviceException; }\n    public static CallStatus error(Exception e) {\n        return new CallStatus(e, false);\n    }\n}\n</code></pre>\n\n<p>Now the caller would receive <code>CallStatus</code> from <code>serviceUp</code>:</p>\n\n<pre><code>CallStatus status = serviceUp();\nif (status.isSuccess()) {\n    ... // Do something\n} else {\n    ... // Do something else\n    Exception ex = status.getException();\n}\n</code></pre>\n\n<p>Note that the constructor is private, so <code>serviceUp</code> would either return <code>CallStatus.SUCCESS</code> or call <code>CallStatus.error(myException)</code>.</p>\n\n<p><sup>*</sup> What is exceptional and what is not exceptional depends a great deal on the context. For example, non-numeric data causes an exception in <code>Scanner</code>'s <code>nextInt</code>, because it considers such data invalid. However, the same exact data does not cause an exception in <code>hasNextInt</code> method, because it is perfectly valid.</p>\n"},{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523607178,"creation_date":1523537252,"answer_id":49796995,"question_id":49796533,"body_markdown":"I would return a `ServiceState` which can be, for instance, `RUNNING`, `WAITING`, `CLOSED`. The method would be named `getServiceState`.\r\n\r\n    enum ServiceState { RUNNING, WAITING, CLOSED; }\r\n\r\nI have never seen the methods that return an exception as a result of the execution. For me, when a method returns the value, it means the method finished its work *without issues*. I don&#39;t want to retrieve the result and parse it on containing any error. The result itself means that *no failures happened* - everything went as planned.\r\n\r\nOn the other hand, when the method throws an exception, I need to parse a *special* object to figure out what went wrong. I don&#39;t parse the result, because *there is no result*.\r\n\r\nAn example:\r\n\r\n    public void proceedWhenError() {\r\n       final ServiceState state = getServiceState();\r\n    \r\n       if (state != ServiceState.RUNNING) {\r\n          logger.debug(&quot;The service is not running, but it&#39;s alright.&quot;);\r\n       }\r\n       // do stuff\r\n    }\r\n\r\n    public void doNotProceedWhenError() {\r\n       final ServiceState state = getServiceState();\r\n    \r\n       if (state != ServiceState.RUNNING) {\r\n          throw new IllegalStateException(&quot;The service is not running...&quot;);\r\n       }\r\n       // do stuff\r\n    }\r\n\r\n    private ServiceState getServiceState() {\r\n        try {\r\n            service.connect();\r\n            return ServiceState.RUNNING;\r\n        catch(Exception e) {\r\n            // determine the state by parsing the exception\r\n            // and return it\r\n            return getStateFromException(e);\r\n        }\r\n    }\r\n\r\nIf the exceptions thrown by the service is important and/or processed in another place, it along with the state could be saved into a `ServiceResponse` object:\r\n\r\n    class ServiceResponse {\r\n    \r\n        private final ServiceState state;\r\n        private final Exception exception;\r\n\r\n        public ServiceResponse(ServiceState state, Exception exception) {\r\n            this.state = state;\r\n            this.exception = exception;\r\n        }\r\n    \r\n        public static ServiceResponse of(ServiceState state) {\r\n            return new ServiceResponse(state, null);\r\n        }\r\n\r\n        public static ServiceResponse of(Exception exception) {\r\n            return new ServiceResponse(null, exception);\r\n        }\r\n\r\n        public ServiceState getState() {\r\n            return state;\r\n        }\r\n\r\n        public Exception getException() {\r\n            return exception;\r\n        }\r\n\r\n    }\r\n\r\nNow, with `ServiceResponse`, these methods might look like:\r\n\r\n    public void proceedWhenError() {\r\n       final ServiceResponse response = getServiceResponse();\r\n    \r\n       final ServiceState state = response.getState();\r\n       final Exception exception = response.getException();\r\n\r\n       if (state != ServiceState.RUNNING) {\r\n          logger.debug(&quot;The service is not running, but it&#39;s alright.&quot;, exception);\r\n       }\r\n       // do stuff\r\n    }\r\n\r\n    public void doNotProceedWhenError() {\r\n       final ServiceResponse response = getServiceResponse();\r\n    \r\n       final ServiceState state = response.getState();\r\n       final Exception exception = response.getException();\r\n    \r\n       if (state != ServiceState.RUNNING) {\r\n          throw new IllegalStateException(&quot;The service is not running...&quot;, exception);\r\n       }\r\n       // do stuff\r\n    }\r\n\r\n    private ServiceResponse getServiceResponse() {\r\n        try {\r\n            service.connect();\r\n            return ServiceResponse.of(ServiceState.RUNNING);\r\n        catch(Exception e) {\r\n            // or -&gt; return ServiceResponse.of(e);\r\n            return new ServiceResponse(getStateFromException(e), e);\r\n        }\r\n    }","title":"Is returning an exception an anti-pattern?","body":"<p>I would return a <code>ServiceState</code> which can be, for instance, <code>RUNNING</code>, <code>WAITING</code>, <code>CLOSED</code>. The method would be named <code>getServiceState</code>.</p>\n\n<pre><code>enum ServiceState { RUNNING, WAITING, CLOSED; }\n</code></pre>\n\n<p>I have never seen the methods that return an exception as a result of the execution. For me, when a method returns the value, it means the method finished its work <em>without issues</em>. I don't want to retrieve the result and parse it on containing any error. The result itself means that <em>no failures happened</em> - everything went as planned.</p>\n\n<p>On the other hand, when the method throws an exception, I need to parse a <em>special</em> object to figure out what went wrong. I don't parse the result, because <em>there is no result</em>.</p>\n\n<p>An example:</p>\n\n<pre><code>public void proceedWhenError() {\n   final ServiceState state = getServiceState();\n\n   if (state != ServiceState.RUNNING) {\n      logger.debug(\"The service is not running, but it's alright.\");\n   }\n   // do stuff\n}\n\npublic void doNotProceedWhenError() {\n   final ServiceState state = getServiceState();\n\n   if (state != ServiceState.RUNNING) {\n      throw new IllegalStateException(\"The service is not running...\");\n   }\n   // do stuff\n}\n\nprivate ServiceState getServiceState() {\n    try {\n        service.connect();\n        return ServiceState.RUNNING;\n    catch(Exception e) {\n        // determine the state by parsing the exception\n        // and return it\n        return getStateFromException(e);\n    }\n}\n</code></pre>\n\n<p>If the exceptions thrown by the service is important and/or processed in another place, it along with the state could be saved into a <code>ServiceResponse</code> object:</p>\n\n<pre><code>class ServiceResponse {\n\n    private final ServiceState state;\n    private final Exception exception;\n\n    public ServiceResponse(ServiceState state, Exception exception) {\n        this.state = state;\n        this.exception = exception;\n    }\n\n    public static ServiceResponse of(ServiceState state) {\n        return new ServiceResponse(state, null);\n    }\n\n    public static ServiceResponse of(Exception exception) {\n        return new ServiceResponse(null, exception);\n    }\n\n    public ServiceState getState() {\n        return state;\n    }\n\n    public Exception getException() {\n        return exception;\n    }\n\n}\n</code></pre>\n\n<p>Now, with <code>ServiceResponse</code>, these methods might look like:</p>\n\n<pre><code>public void proceedWhenError() {\n   final ServiceResponse response = getServiceResponse();\n\n   final ServiceState state = response.getState();\n   final Exception exception = response.getException();\n\n   if (state != ServiceState.RUNNING) {\n      logger.debug(\"The service is not running, but it's alright.\", exception);\n   }\n   // do stuff\n}\n\npublic void doNotProceedWhenError() {\n   final ServiceResponse response = getServiceResponse();\n\n   final ServiceState state = response.getState();\n   final Exception exception = response.getException();\n\n   if (state != ServiceState.RUNNING) {\n      throw new IllegalStateException(\"The service is not running...\", exception);\n   }\n   // do stuff\n}\n\nprivate ServiceResponse getServiceResponse() {\n    try {\n        service.connect();\n        return ServiceResponse.of(ServiceState.RUNNING);\n    catch(Exception e) {\n        // or -&gt; return ServiceResponse.of(e);\n        return new ServiceResponse(getStateFromException(e), e);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1523569788,"creation_date":1523537602,"answer_id":49797111,"question_id":49796533,"body_markdown":"Second opinion (&quot;it&#39;s alright&quot;) does not hold. The code is not alright because returning exceptions instead of throwing them is not really idiomatic.\r\n\r\nI also don&#39;t buy the first opinion (&quot;using Exceptions to control the workflow is anti-pattern&quot;). `service.connect()` is throwing an exception and you have to react to this exception - so this *is* effectively flow control. Returning a `boolean` or some other state object and processing this instead of handling an exception - and thinking it&#39;s not control flow based on an exception is naive. Another disadvantage is that if you decide to rethrow an exception (wrapped in `IllegalArgumentException` or whatever), you won&#39;t have the original exception anymore. And this is extremely bad when you try to analyze what actually happened.\r\n\r\nSo I&#39;d do the classic:\r\n\r\n* Throw the exception in `serviceUp`.\r\n* In methods invoking `serviceUp`:\r\n  * `try-catch`, log debug and swallow the exception if you want to proceed on exception.\r\n  * `try-catch` and rethrow the exception wrapped in another exception providing more information on what happened. Alternatively just let the original exception propagate via `throws` if you can&#39;t add anything substantial.\r\n\r\nIt is most important not to lose the original exception.","title":"Is returning an exception an anti-pattern?","body":"<p>Second opinion (\"it's alright\") does not hold. The code is not alright because returning exceptions instead of throwing them is not really idiomatic.</p>\n\n<p>I also don't buy the first opinion (\"using Exceptions to control the workflow is anti-pattern\"). <code>service.connect()</code> is throwing an exception and you have to react to this exception - so this <em>is</em> effectively flow control. Returning a <code>boolean</code> or some other state object and processing this instead of handling an exception - and thinking it's not control flow based on an exception is naive. Another disadvantage is that if you decide to rethrow an exception (wrapped in <code>IllegalArgumentException</code> or whatever), you won't have the original exception anymore. And this is extremely bad when you try to analyze what actually happened.</p>\n\n<p>So I'd do the classic:</p>\n\n<ul>\n<li>Throw the exception in <code>serviceUp</code>.</li>\n<li>In methods invoking <code>serviceUp</code>:\n\n<ul>\n<li><code>try-catch</code>, log debug and swallow the exception if you want to proceed on exception.</li>\n<li><code>try-catch</code> and rethrow the exception wrapped in another exception providing more information on what happened. Alternatively just let the original exception propagate via <code>throws</code> if you can't add anything substantial.</li>\n</ul></li>\n</ul>\n\n<p>It is most important not to lose the original exception.</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523537675,"creation_date":1523537675,"answer_id":49797141,"question_id":49796533,"body_markdown":"The obvious cognitive dissonance is the anti-pattern here. A reader will see you using exceptions for flow control and a developer would immediately try to recode it so it does not.\r\n\r\nMy instinct suggests an approach like:\r\n\r\n    // Use an action name instead of a question here because it IS an action.\r\n    private void bringServiceUp() throws Exception {\r\n\r\n    }\r\n\r\n    // Encapsulate both a success and a failure into the result.\r\n    class Result {\r\n        final boolean success;\r\n        final Exception failure;\r\n\r\n        private Result(boolean success, Exception failure) {\r\n            this.success = success;\r\n            this.failure = failure;\r\n        }\r\n\r\n        Result(boolean success) {\r\n            this(success, null);\r\n        }\r\n\r\n        Result(Exception exception) {\r\n            this(false, exception);\r\n        }\r\n\r\n        public boolean wasSuccessful() {\r\n            return success;\r\n        }\r\n\r\n        public Exception getFailure() {\r\n            return failure;\r\n        }\r\n    }\r\n\r\n    // No more cognitive dissonance.\r\n    private Result tryToBringServiceUp() {\r\n        try {\r\n            bringServiceUp();\r\n        } catch (Exception e) {\r\n            return new Result(e);\r\n        }\r\n        return new Result(true);\r\n    }\r\n\r\n    // Now these two are fine.\r\n    public void proceedWhenError() {\r\n        Result result = tryToBringServiceUp();\r\n        if (result.wasSuccessful()) {\r\n            // do stuff\r\n        } else {\r\n            logger.debug(&quot;Exception happened, but it&#39;s alright.&quot;, result.getFailure());\r\n            // do stuff\r\n        }\r\n    }\r\n\r\n    public void doNotProceedWhenError() throws IllegalStateException {\r\n        Result result = tryToBringServiceUp();\r\n        if (result.wasSuccessful()) {\r\n            // do stuff\r\n        } else {\r\n            // do stuff\r\n            throw new IllegalStateException(&quot;Oh, we cannot proceed. The service is not up.&quot;, result.getFailure());\r\n        }\r\n    }\r\n","title":"Is returning an exception an anti-pattern?","body":"<p>The obvious cognitive dissonance is the anti-pattern here. A reader will see you using exceptions for flow control and a developer would immediately try to recode it so it does not.</p>\n\n<p>My instinct suggests an approach like:</p>\n\n<pre><code>// Use an action name instead of a question here because it IS an action.\nprivate void bringServiceUp() throws Exception {\n\n}\n\n// Encapsulate both a success and a failure into the result.\nclass Result {\n    final boolean success;\n    final Exception failure;\n\n    private Result(boolean success, Exception failure) {\n        this.success = success;\n        this.failure = failure;\n    }\n\n    Result(boolean success) {\n        this(success, null);\n    }\n\n    Result(Exception exception) {\n        this(false, exception);\n    }\n\n    public boolean wasSuccessful() {\n        return success;\n    }\n\n    public Exception getFailure() {\n        return failure;\n    }\n}\n\n// No more cognitive dissonance.\nprivate Result tryToBringServiceUp() {\n    try {\n        bringServiceUp();\n    } catch (Exception e) {\n        return new Result(e);\n    }\n    return new Result(true);\n}\n\n// Now these two are fine.\npublic void proceedWhenError() {\n    Result result = tryToBringServiceUp();\n    if (result.wasSuccessful()) {\n        // do stuff\n    } else {\n        logger.debug(\"Exception happened, but it's alright.\", result.getFailure());\n        // do stuff\n    }\n}\n\npublic void doNotProceedWhenError() throws IllegalStateException {\n    Result result = tryToBringServiceUp();\n    if (result.wasSuccessful()) {\n        // do stuff\n    } else {\n        // do stuff\n        throw new IllegalStateException(\"Oh, we cannot proceed. The service is not up.\", result.getFailure());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523556909,"creation_date":1523556909,"answer_id":49803403,"question_id":49796533,"body_markdown":"If a method&#39;s callers will be expecting that an operation might succeed or fail, and are prepared to handle either case, then the method should indicate, typically via return value, whether the operation failed.  If the callers aren&#39;t prepared to usefully handle failure, then the method in which the failure occurred should throw the exception rather than requiring callers add code to do so.\r\n\r\nThe one wrinkle is that some methods will have some callers that are prepared to gracefully handle failures and others that aren&#39;t.  My preferred approach would be to have such methods accept an optional callback which is invoked in case of failure; if no callback is supplied, the default behavior should be to throw an exception.  Such an approach would save the cost of constructing an exception in cases where a caller is prepared to handle a failure, while minimizing the burden upon callers that aren&#39;t.  The biggest difficulty with such a design is deciding what parameters such a callback should take, since changing such parameters later is apt to be difficult.","title":"Is returning an exception an anti-pattern?","body":"<p>If a method's callers will be expecting that an operation might succeed or fail, and are prepared to handle either case, then the method should indicate, typically via return value, whether the operation failed.  If the callers aren't prepared to usefully handle failure, then the method in which the failure occurred should throw the exception rather than requiring callers add code to do so.</p>\n\n<p>The one wrinkle is that some methods will have some callers that are prepared to gracefully handle failures and others that aren't.  My preferred approach would be to have such methods accept an optional callback which is invoked in case of failure; if no callback is supplied, the default behavior should be to throw an exception.  Such an approach would save the cost of constructing an exception in cases where a caller is prepared to handle a failure, while minimizing the burden upon callers that aren't.  The biggest difficulty with such a design is deciding what parameters such a callback should take, since changing such parameters later is apt to be difficult.</p>\n"},{"tags":[],"owner":{"account_id":6789440,"reputation":8118,"user_id":5227053,"accept_rate":29,"display_name":"AnoE"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1523568384,"creation_date":1523561866,"answer_id":49804604,"question_id":49796533,"body_markdown":"## Both are wrong\r\n\r\n&gt; It is alright, as we need to deal with the object afterwards in the two first methods differently and whether returning Exception object or boolean does not change the workflow at all\r\n\r\nIt is not alright. The concept of exceptions means that they are thrown in, well, exceptional cases. They are meant to be caught at the place they will be handled (or at the least re-thrown after some local cleanup/logging/etc.). They are not meant to be handed around like this (that is, in &quot;domain&quot; code).\r\n\r\nPeople will be confused. Real bugs can easily creep it - for example, what if there is some `Exception` from some other source than networking here; one you did not anticipate, that is really bad (like some out-of-bounds exception that you created by some programming error)?\r\n\r\nAnd fresh programmers will be endlessly confused, and/or copy that anti-pattern to places where it just doesn&#39;t belong.\r\n\r\nFor example, a colleague recently implemented a quite complicated interface (as in machine-to-machine interface, not Java `interface`), and he did a similar exception handling; converting exceptions to silently ignored variations (modulo some log messages). Needless to say, *any* exception that he was not actually expecting broke the whole mess in the worst imaginable way; the opposite of [fail fast][1].\r\n\r\n&gt; It is an anti-pattern to use Exceptions to control the workflow and we should only return boolean from  serviceUp() and never the Exception object itself. The argument is that using Exceptions to control the workflow is an anti-pattern.\r\n\r\nExceptions most certainly control the workflow in the aspect that they often abort it, or redirect to an error message displayed to the user. It is absolutely possible to have some part of the code &quot;disabled&quot; due to an exception; i.e., exception handling is surely allowed somewhere else than just at the top level of control.\r\n\r\nBut returning exceptions is indeed an anti-pattern; nobody expects that, it is weird, it leads to spurious errors (it is easy to ignore the return value) etc. etc.\r\n\r\nSo, in the case of your `serviceUp()`, either make it `void` - it either works 99% of the time, or throws an exception; or make it true `boolean` in that you fully well accept that it will fail somewhere. If you do need to hand the error message around, do it as a `String`, or save it somewhere out of the way, or something, but do not use it as return value, especially not if you intend to `throw` it again later.\r\n\r\n## Easy, standard solution\r\n\r\nThis solution is shorter (less lines, less variables, less `if`), simpler, bog-standard and does exactly what you wanted. Easy to maintain, easy to understand. \r\n\r\n    public void proceedWhenError() {\r\n       try {\r\n          serviceUp();\r\n          // do stuff (only when no exception)\r\n       }\r\n       catch (Exception exception) {\r\n          logger.debug(&quot;Exception happened, but it&#39;s alright.&quot;, exception)\r\n          // do stuff (only when exception)\r\n       }\r\n    }\r\n    \r\n    public void doNotProceedWhenError() {\r\n       try {\r\n          serviceUp();\r\n          // do stuff (only when no exception)\r\n       }\r\n       catch (Exception exception) {\r\n          // do stuff (only when exception)\r\n          throw new IllegalStateException(&quot;Oh, we cannot proceed. The service is not up.&quot;, exception)\r\n       }\r\n    }\r\n    \r\n    private void serviceUp() {\r\n        service.connect();\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Fail-fast","title":"Is returning an exception an anti-pattern?","body":"<h2>Both are wrong</h2>\n\n<blockquote>\n  <p>It is alright, as we need to deal with the object afterwards in the two first methods differently and whether returning Exception object or boolean does not change the workflow at all</p>\n</blockquote>\n\n<p>It is not alright. The concept of exceptions means that they are thrown in, well, exceptional cases. They are meant to be caught at the place they will be handled (or at the least re-thrown after some local cleanup/logging/etc.). They are not meant to be handed around like this (that is, in \"domain\" code).</p>\n\n<p>People will be confused. Real bugs can easily creep it - for example, what if there is some <code>Exception</code> from some other source than networking here; one you did not anticipate, that is really bad (like some out-of-bounds exception that you created by some programming error)?</p>\n\n<p>And fresh programmers will be endlessly confused, and/or copy that anti-pattern to places where it just doesn't belong.</p>\n\n<p>For example, a colleague recently implemented a quite complicated interface (as in machine-to-machine interface, not Java <code>interface</code>), and he did a similar exception handling; converting exceptions to silently ignored variations (modulo some log messages). Needless to say, <em>any</em> exception that he was not actually expecting broke the whole mess in the worst imaginable way; the opposite of <a href=\"https://en.wikipedia.org/wiki/Fail-fast\" rel=\"noreferrer\">fail fast</a>.</p>\n\n<blockquote>\n  <p>It is an anti-pattern to use Exceptions to control the workflow and we should only return boolean from  serviceUp() and never the Exception object itself. The argument is that using Exceptions to control the workflow is an anti-pattern.</p>\n</blockquote>\n\n<p>Exceptions most certainly control the workflow in the aspect that they often abort it, or redirect to an error message displayed to the user. It is absolutely possible to have some part of the code \"disabled\" due to an exception; i.e., exception handling is surely allowed somewhere else than just at the top level of control.</p>\n\n<p>But returning exceptions is indeed an anti-pattern; nobody expects that, it is weird, it leads to spurious errors (it is easy to ignore the return value) etc. etc.</p>\n\n<p>So, in the case of your <code>serviceUp()</code>, either make it <code>void</code> - it either works 99% of the time, or throws an exception; or make it true <code>boolean</code> in that you fully well accept that it will fail somewhere. If you do need to hand the error message around, do it as a <code>String</code>, or save it somewhere out of the way, or something, but do not use it as return value, especially not if you intend to <code>throw</code> it again later.</p>\n\n<h2>Easy, standard solution</h2>\n\n<p>This solution is shorter (less lines, less variables, less <code>if</code>), simpler, bog-standard and does exactly what you wanted. Easy to maintain, easy to understand. </p>\n\n<pre><code>public void proceedWhenError() {\n   try {\n      serviceUp();\n      // do stuff (only when no exception)\n   }\n   catch (Exception exception) {\n      logger.debug(\"Exception happened, but it's alright.\", exception)\n      // do stuff (only when exception)\n   }\n}\n\npublic void doNotProceedWhenError() {\n   try {\n      serviceUp();\n      // do stuff (only when no exception)\n   }\n   catch (Exception exception) {\n      // do stuff (only when exception)\n      throw new IllegalStateException(\"Oh, we cannot proceed. The service is not up.\", exception)\n   }\n}\n\nprivate void serviceUp() {\n    service.connect();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523576229,"creation_date":1523575634,"answer_id":49807245,"question_id":49796533,"body_markdown":"There are three (idiomatic) to handle functions that can fail during runtime.\r\n\r\n### 1. Return boolean\r\n\r\nThe first one is to return `boolean`. This style is widely used in C and C-style APIs, like PHP. This leads - for example in PHP - often to code like this:\r\n\r\n    if (xyz_parse($data) === FALSE)\r\n        $error = xyz_last_error();\r\n\r\nThe downsides to this are obvious, this is why it has fallen out of fashion more and more, especially in OOP languages and languages with exception-handling.\r\n\r\n### 2. Use an intermediary/state/result object\r\n\r\nIf you do not use exceptions, you still have the opportunity in OOP languages to return *objects* that describe the *state*.\r\n\r\nFor example, if you receive input from the user and want to validate the input, you know *beforehand* that you might get garbage and that the result will quite often *not* validate, and you might write code like this:\r\n\r\n    ValidationResult result = parser.validate(data);\r\n    if (result.isValid())\r\n        // business logic\r\n    else\r\n        error = result.getvalidationError();\r\n\r\n### 3. Use exceptions\r\n\r\nJava does this as you have shown with sockets. The reasoning is that creating a connection *should* succeed and only fails in *exceptional* circumstances which need special handling.\r\n\r\n## Applying it\r\n\r\nIn your case, I would just throw the exception directly, and even drop the helper method.Your helper method is badly named. It doesn&#39;t actually *query* whether the service is up (as the name suggests), but instead simply *connects*.\r\n\r\n### Use (checked) exceptions \r\n\r\nLets assume that connecting is what your method *actually* does. In this case, we name it more aptly `connectToService` and make it throw the exception directly:\r\n\r\n    public void connectToService() thows IOException {\r\n        // yada yada some init stuff, whatever\r\n        socket.connect();\r\n    }\r\n\r\n    public void proceedWhenError() {\r\n       try {\r\n            connectToService();\r\n       } else {\r\n          logger.debug(&quot;Exception happened, but it&#39;s alright.&quot;, exception)\r\n          // do stuff\r\n       }\r\n    }\r\n\r\n    public void doNotProceedWhenError() throws IllegalStateException {\r\n        try  {\r\n            connectToService();\r\n            // do stuff\r\n        }\r\n        catch(IOException e) {\r\n          throw new IllegalStateException(&quot;Oh, we cannot proceed. The service is not up.&quot;, exception)\r\n       }\r\n    }\r\n\r\n### Use `boolean`\r\n\r\nOn the other hand, it might be possible that your `serviceUp` (which is *still* badly named and would better be called `isServiceUp`) does actually *query* whether the service is running or not (which might have been started by someone else). In this case, using a boolean would be the proper way\r\n\r\n    public boolean isServiceUp {\r\n        return ...; // query the service however you need\r\n    }\r\n\r\nThis, of course, refers to the first solution of using booleans and isn&#39;t really helpful when you also need to know *why* the service isn&#39;t up.\r\n\r\n### Use intermediary/result/state objects\r\n\r\nSo lets dismiss this limited approach and rework it using an intermediary/result/state object:\r\n\r\n    class ServiceState {\r\n        enum State { CONNECTED, WAITING, CLOSED; }\r\n        \r\n        State state;\r\n        IOException exception;\r\n        String additionalMessage;\r\n\r\n        public ServiceState (State state, IOException ex, String msg) {\r\n             [...] // ommitted for brevity\r\n        }\r\n\r\n       // getters ommitted for brevity\r\n    }\r\n\r\nThe helper function would become `getServiceState`:\r\n\r\n    public ServiceState getServiceState() {\r\n        // query the service state however you need &amp; return\r\n    }\r\n\r\n    public void proceedWhenError() {\r\n       ServiceState state = getServiceState();\r\n\r\n       if (state.getState() == State.CONNECTED) {\r\n          // do stuff\r\n       } else {\r\n          logger.debug(&quot;Exception happened, but it&#39;s alright.&quot;, state.getException())\r\n          // do stuff\r\n       }\r\n     }\r\n\r\n    public void doNotProceedWhenError() {\r\n        ServiceState state = getServiceState();\r\n\r\n       if (state.getState() == State.CONNECTED) {\r\n          // do stuff\r\n       } else {\r\n          // do stuff\r\n          throw new IllegalStateException(&quot;Oh, we cannot proceed. The service is not up.&quot;, exception)\r\n       }\r\n    }\r\n\r\nNote that you are also repeating yourself in `proceedWhenError`, the whole code could be simplified to:\r\n\r\n    public void proceedWhenError() {\r\n       ServiceState state = getServiceState();\r\n\r\n      if (state.getState() != State.CONNECTED) {\r\n          logger.debug(&quot;Exception happened, but it&#39;s alright.&quot;, state.getException())\r\n     \r\n       }\r\n     // do stuff\r\n    }\r\n\r\nThere is a bit of debate when to use the second case, and when to use the third. Some people believe that exceptions should be exceptional and that you should not design with the possibility of exceptions in mind, and will pretty much always use the second option. That is fine. But we have checked exceptions in Java, so I see no reason not to use them. I use checked exceptions \r\n when the basic assumption is that the call should succeed (like using a socket), but failure is possible, and I use the second option when its very unclear whether the call should succeed (like validating data). But there are different opinions on this.\r\n\r\nIt also depends on what your helper method *actually* does. `isServiceUp` implies that it *queries some state*, but doesn&#39;t change it. In that case, returning an state object is obviously the idiomatic way to handle this.\r\n\r\nBut your *implementation* shows that the helper method *connects* to the service. In which case, at least in java, the idiomatic way to handle it would be to throw a (checked) exception - but you could also still justify using a result object.\r\n\r\nSimply returning `boolean` is not advisable, though, since it is too limited. If *all* you need to know *whether* the service is running or not (and aren&#39;t interested in the cause), such a method might *still* be useful, though (and could, behind the scenes, be implemented as helper method that just does `return getServiceState() == State.SUCCESS`).\r\n\r\n\r\n-----\r\n\r\n&gt; It is an anti-pattern to use Exceptions to control the workflow\r\n\r\nSo, lets see, what *is* an exception?\r\n\r\n&gt; **Definition:** An exception is an event, which occurs during the execution of a program, that *disrupts the normal flow* of the program&#39;s instructions.\r\n \r\nSource: https://docs.oracle.com/javase/tutorial/essential/exceptions/definition.html\r\n\r\nThe very definition of an exception is that it is an event that *disprupts* (and thus changes) the workflow of the program. If using it *as defined* is an anti-pattern, then the whole language feature in itself must be considered an anti-pattern. There are people that *do* believe exceptions are bad, and *some* have *some* valid arguments for it, but in general, exceptions are regarded as useful constructs and seen as useful tools to handle exceptional workflows.\r\n\r\n\r\n*Throwing* an exception is certainly not an anti-pattern. *Returning it*, on the other hand, is. Thus yes, your code - as presented - is non-idiomatic.","title":"Is returning an exception an anti-pattern?","body":"<p>There are three (idiomatic) to handle functions that can fail during runtime.</p>\n\n<h3>1. Return boolean</h3>\n\n<p>The first one is to return <code>boolean</code>. This style is widely used in C and C-style APIs, like PHP. This leads - for example in PHP - often to code like this:</p>\n\n<pre><code>if (xyz_parse($data) === FALSE)\n    $error = xyz_last_error();\n</code></pre>\n\n<p>The downsides to this are obvious, this is why it has fallen out of fashion more and more, especially in OOP languages and languages with exception-handling.</p>\n\n<h3>2. Use an intermediary/state/result object</h3>\n\n<p>If you do not use exceptions, you still have the opportunity in OOP languages to return <em>objects</em> that describe the <em>state</em>.</p>\n\n<p>For example, if you receive input from the user and want to validate the input, you know <em>beforehand</em> that you might get garbage and that the result will quite often <em>not</em> validate, and you might write code like this:</p>\n\n<pre><code>ValidationResult result = parser.validate(data);\nif (result.isValid())\n    // business logic\nelse\n    error = result.getvalidationError();\n</code></pre>\n\n<h3>3. Use exceptions</h3>\n\n<p>Java does this as you have shown with sockets. The reasoning is that creating a connection <em>should</em> succeed and only fails in <em>exceptional</em> circumstances which need special handling.</p>\n\n<h2>Applying it</h2>\n\n<p>In your case, I would just throw the exception directly, and even drop the helper method.Your helper method is badly named. It doesn't actually <em>query</em> whether the service is up (as the name suggests), but instead simply <em>connects</em>.</p>\n\n<h3>Use (checked) exceptions</h3>\n\n<p>Lets assume that connecting is what your method <em>actually</em> does. In this case, we name it more aptly <code>connectToService</code> and make it throw the exception directly:</p>\n\n<pre><code>public void connectToService() thows IOException {\n    // yada yada some init stuff, whatever\n    socket.connect();\n}\n\npublic void proceedWhenError() {\n   try {\n        connectToService();\n   } else {\n      logger.debug(\"Exception happened, but it's alright.\", exception)\n      // do stuff\n   }\n}\n\npublic void doNotProceedWhenError() throws IllegalStateException {\n    try  {\n        connectToService();\n        // do stuff\n    }\n    catch(IOException e) {\n      throw new IllegalStateException(\"Oh, we cannot proceed. The service is not up.\", exception)\n   }\n}\n</code></pre>\n\n<h3>Use <code>boolean</code></h3>\n\n<p>On the other hand, it might be possible that your <code>serviceUp</code> (which is <em>still</em> badly named and would better be called <code>isServiceUp</code>) does actually <em>query</em> whether the service is running or not (which might have been started by someone else). In this case, using a boolean would be the proper way</p>\n\n<pre><code>public boolean isServiceUp {\n    return ...; // query the service however you need\n}\n</code></pre>\n\n<p>This, of course, refers to the first solution of using booleans and isn't really helpful when you also need to know <em>why</em> the service isn't up.</p>\n\n<h3>Use intermediary/result/state objects</h3>\n\n<p>So lets dismiss this limited approach and rework it using an intermediary/result/state object:</p>\n\n<pre><code>class ServiceState {\n    enum State { CONNECTED, WAITING, CLOSED; }\n\n    State state;\n    IOException exception;\n    String additionalMessage;\n\n    public ServiceState (State state, IOException ex, String msg) {\n         [...] // ommitted for brevity\n    }\n\n   // getters ommitted for brevity\n}\n</code></pre>\n\n<p>The helper function would become <code>getServiceState</code>:</p>\n\n<pre><code>public ServiceState getServiceState() {\n    // query the service state however you need &amp; return\n}\n\npublic void proceedWhenError() {\n   ServiceState state = getServiceState();\n\n   if (state.getState() == State.CONNECTED) {\n      // do stuff\n   } else {\n      logger.debug(\"Exception happened, but it's alright.\", state.getException())\n      // do stuff\n   }\n }\n\npublic void doNotProceedWhenError() {\n    ServiceState state = getServiceState();\n\n   if (state.getState() == State.CONNECTED) {\n      // do stuff\n   } else {\n      // do stuff\n      throw new IllegalStateException(\"Oh, we cannot proceed. The service is not up.\", exception)\n   }\n}\n</code></pre>\n\n<p>Note that you are also repeating yourself in <code>proceedWhenError</code>, the whole code could be simplified to:</p>\n\n<pre><code>public void proceedWhenError() {\n   ServiceState state = getServiceState();\n\n  if (state.getState() != State.CONNECTED) {\n      logger.debug(\"Exception happened, but it's alright.\", state.getException())\n\n   }\n // do stuff\n}\n</code></pre>\n\n<p>There is a bit of debate when to use the second case, and when to use the third. Some people believe that exceptions should be exceptional and that you should not design with the possibility of exceptions in mind, and will pretty much always use the second option. That is fine. But we have checked exceptions in Java, so I see no reason not to use them. I use checked exceptions \n when the basic assumption is that the call should succeed (like using a socket), but failure is possible, and I use the second option when its very unclear whether the call should succeed (like validating data). But there are different opinions on this.</p>\n\n<p>It also depends on what your helper method <em>actually</em> does. <code>isServiceUp</code> implies that it <em>queries some state</em>, but doesn't change it. In that case, returning an state object is obviously the idiomatic way to handle this.</p>\n\n<p>But your <em>implementation</em> shows that the helper method <em>connects</em> to the service. In which case, at least in java, the idiomatic way to handle it would be to throw a (checked) exception - but you could also still justify using a result object.</p>\n\n<p>Simply returning <code>boolean</code> is not advisable, though, since it is too limited. If <em>all</em> you need to know <em>whether</em> the service is running or not (and aren't interested in the cause), such a method might <em>still</em> be useful, though (and could, behind the scenes, be implemented as helper method that just does <code>return getServiceState() == State.SUCCESS</code>).</p>\n\n<hr>\n\n<blockquote>\n  <p>It is an anti-pattern to use Exceptions to control the workflow</p>\n</blockquote>\n\n<p>So, lets see, what <em>is</em> an exception?</p>\n\n<blockquote>\n  <p><strong>Definition:</strong> An exception is an event, which occurs during the execution of a program, that <em>disrupts the normal flow</em> of the program's instructions.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/definition.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/exceptions/definition.html</a></p>\n\n<p>The very definition of an exception is that it is an event that <em>disprupts</em> (and thus changes) the workflow of the program. If using it <em>as defined</em> is an anti-pattern, then the whole language feature in itself must be considered an anti-pattern. There are people that <em>do</em> believe exceptions are bad, and <em>some</em> have <em>some</em> valid arguments for it, but in general, exceptions are regarded as useful constructs and seen as useful tools to handle exceptional workflows.</p>\n\n<p><em>Throwing</em> an exception is certainly not an anti-pattern. <em>Returning it</em>, on the other hand, is. Thus yes, your code - as presented - is non-idiomatic.</p>\n"},{"tags":[],"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523585474,"creation_date":1523585474,"answer_id":49808290,"question_id":49796533,"body_markdown":"This is an anti-pattern:\r\n\r\n    catch(Exception e) {\r\n       return e;\r\n    }\r\n\r\nThe only reasonable excuse for returning `Throwable` is to provide detailed failure information to a fast path where failure is expected, without paying the price&lt;sup&gt;1&lt;/sup&gt; of exception handling.  As a bonus, it makes it easy to convert to a thrown exception if the caller doesn&#39;t know how to handle this particular situation.\r\n\r\nBut in your scenario, that cost has already been paid.  Catching the exception on behalf of your caller does no one any favors.\r\n\r\n---\r\n\r\n&lt;sup&gt;1&lt;/sup&gt;Pedantically, the direct cost of catching an exception (finding a matching handler, stack unwinding) is pretty low or needed to be done anyway.  Most of the cost of `try`/`catch` compared to a return value is in incidental actions, like building a stack trace.  So whether unthrown exception objects make good storage for efficient error data depends on whether this incidental work is done at time of construction or time of throwing.  Therefore whether returning an exception object is reasonable may differ between different managed platforms.","title":"Is returning an exception an anti-pattern?","body":"<p>This is an anti-pattern:</p>\n\n<pre><code>catch(Exception e) {\n   return e;\n}\n</code></pre>\n\n<p>The only reasonable excuse for returning <code>Throwable</code> is to provide detailed failure information to a fast path where failure is expected, without paying the price<sup>1</sup> of exception handling.  As a bonus, it makes it easy to convert to a thrown exception if the caller doesn't know how to handle this particular situation.</p>\n\n<p>But in your scenario, that cost has already been paid.  Catching the exception on behalf of your caller does no one any favors.</p>\n\n<hr>\n\n<p><sup>1</sup>Pedantically, the direct cost of catching an exception (finding a matching handler, stack unwinding) is pretty low or needed to be done anyway.  Most of the cost of <code>try</code>/<code>catch</code> compared to a return value is in incidental actions, like building a stack trace.  So whether unthrown exception objects make good storage for efficient error data depends on whether this incidental work is done at time of construction or time of throwing.  Therefore whether returning an exception object is reasonable may differ between different managed platforms.</p>\n"},{"tags":[],"owner":{"account_id":13390674,"reputation":63,"user_id":9663116,"display_name":"dev. K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524062508,"creation_date":1524062508,"answer_id":49902633,"question_id":49796533,"body_markdown":"As mentioned in earlier comments &quot;Exception is an event&quot; the exception object that we get is just a detail of the event.\r\nOnce an Exception is caught in &quot;catch&quot; block and not re-thrown , the event is over.\r\nPost that you just have a detail object not an exception, although the object is of class exception/throwable.\r\n\r\nReturning the exception object might be useful because of details held by it but it will add ambiguity/confusion as the calling method is not &quot;handling exception and controlling flow based on exception&quot; . It is merely using details of a returned object to make decisions.\r\n\r\nSo in my opinion a more logical and less confusing way will be to return a boolean/enum based on the exception rather than simply returning exception object. \r\n","title":"Is returning an exception an anti-pattern?","body":"<p>As mentioned in earlier comments \"Exception is an event\" the exception object that we get is just a detail of the event.\nOnce an Exception is caught in \"catch\" block and not re-thrown , the event is over.\nPost that you just have a detail object not an exception, although the object is of class exception/throwable.</p>\n\n<p>Returning the exception object might be useful because of details held by it but it will add ambiguity/confusion as the calling method is not \"handling exception and controlling flow based on exception\" . It is merely using details of a returned object to make decisions.</p>\n\n<p>So in my opinion a more logical and less confusing way will be to return a boolean/enum based on the exception rather than simply returning exception object. </p>\n"},{"tags":[],"owner":{"account_id":1413385,"reputation":386,"user_id":1339551,"display_name":"Oliver Schimmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659392088,"creation_date":1659391785,"answer_id":73200065,"question_id":49796533,"body_markdown":"Not per-se. For example, if you&#39;re working with something like `AggregateException`s from .NET, you have to collect some other exceptions first before you can throw anything. Stuff like that could involve a method that creates (and returns) your exception.\r\n\r\nThe more important question in my opinion is, whether or not you intend to throw this exception eventually.\r\n\r\nIf not, I think it&#39;s bad practice, because this is the one thing the `Exception` base class does. Other than that it just holds some primitive properties. It would be more semantic (and less confusing for the reader) to create a class with a better name that represents those values.","title":"Is returning an exception an anti-pattern?","body":"<p>Not per-se. For example, if you're working with something like <code>AggregateException</code>s from .NET, you have to collect some other exceptions first before you can throw anything. Stuff like that could involve a method that creates (and returns) your exception.</p>\n<p>The more important question in my opinion is, whether or not you intend to throw this exception eventually.</p>\n<p>If not, I think it's bad practice, because this is the one thing the <code>Exception</code> base class does. Other than that it just holds some primitive properties. It would be more semantic (and less confusing for the reader) to create a class with a better name that represents those values.</p>\n"}],"owner":{"account_id":5635179,"reputation":999,"user_id":4460867,"display_name":"Martin Linha"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6967,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":12,"score":23,"last_activity_date":1659392088,"creation_date":1523536013,"question_id":49796533,"body_markdown":"I have two simple methods:\r\n\r\n    public void proceedWhenError() {\r\n       Throwable exception = serviceUp();\r\n    \r\n       if (exception == null) {\r\n          // do stuff\r\n       } else {\r\n          logger.debug(&quot;Exception happened, but it&#39;s alright.&quot;, exception)\r\n          // do stuff\r\n       }\r\n    }\r\n\r\n    public void doNotProceedWhenError() {\r\n       Throwable exception = serviceUp();\r\n    \r\n       if (exception == null) {\r\n          // do stuff\r\n       } else {\r\n          // do stuff\r\n          throw new IllegalStateException(&quot;Oh, we cannot proceed. The service is not up.&quot;, exception)\r\n       }\r\n    }\r\n\r\nThe third method is a private helper method:\r\n\r\n    private Throwable serviceUp() {\r\n        try {\r\n            service.connect();\r\n            return null;\r\n        catch(Exception e) {\r\n           return e;\r\n        }\r\n    }\r\n\r\nWe had a small talk with a colleague of mine about the pattern used here:\r\n\r\n**returning an `Exception` (or `Throwable`) object from the `serviceUp()` method**.\r\n\r\nThe first opinion:\r\n\r\n&gt; It is an anti-pattern to use Exceptions to control the workflow and we should only return boolean from\r\n&gt; `serviceUp()` and never the Exception object itself. The argument is\r\n&gt; that using Exceptions to control the workflow is an anti-pattern.\r\n\r\nThe second opinion:\r\n\r\n&gt; It is alright, as we need to deal with the object afterwards in the\r\n&gt; two first methods differently and whether returning Exception object\r\n&gt; or boolean does not change the workflow at all\r\n\r\nDo you think 1) or 2) is correct and **especially, why?**\r\nNote, that the question is ONLY about the method `serviceUp()` and its return type - `boolean` vs `Exception` object.\r\n\r\n\r\n*Note: I am not questioning whether to use Throwable or Exception objects.*","title":"Is returning an exception an anti-pattern?","body":"<p>I have two simple methods:</p>\n\n<pre><code>public void proceedWhenError() {\n   Throwable exception = serviceUp();\n\n   if (exception == null) {\n      // do stuff\n   } else {\n      logger.debug(\"Exception happened, but it's alright.\", exception)\n      // do stuff\n   }\n}\n\npublic void doNotProceedWhenError() {\n   Throwable exception = serviceUp();\n\n   if (exception == null) {\n      // do stuff\n   } else {\n      // do stuff\n      throw new IllegalStateException(\"Oh, we cannot proceed. The service is not up.\", exception)\n   }\n}\n</code></pre>\n\n<p>The third method is a private helper method:</p>\n\n<pre><code>private Throwable serviceUp() {\n    try {\n        service.connect();\n        return null;\n    catch(Exception e) {\n       return e;\n    }\n}\n</code></pre>\n\n<p>We had a small talk with a colleague of mine about the pattern used here:</p>\n\n<p><strong>returning an <code>Exception</code> (or <code>Throwable</code>) object from the <code>serviceUp()</code> method</strong>.</p>\n\n<p>The first opinion:</p>\n\n<blockquote>\n  <p>It is an anti-pattern to use Exceptions to control the workflow and we should only return boolean from\n  <code>serviceUp()</code> and never the Exception object itself. The argument is\n  that using Exceptions to control the workflow is an anti-pattern.</p>\n</blockquote>\n\n<p>The second opinion:</p>\n\n<blockquote>\n  <p>It is alright, as we need to deal with the object afterwards in the\n  two first methods differently and whether returning Exception object\n  or boolean does not change the workflow at all</p>\n</blockquote>\n\n<p>Do you think 1) or 2) is correct and <strong>especially, why?</strong>\nNote, that the question is ONLY about the method <code>serviceUp()</code> and its return type - <code>boolean</code> vs <code>Exception</code> object.</p>\n\n<p><em>Note: I am not questioning whether to use Throwable or Exception objects.</em></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":5,"creation_date":1659384184,"post_id":73198967,"comment_id":129277513,"body_markdown":"You mean like `x.append(...).append(...)...`?","body":"You mean like <code>x.append(...).append(...)...</code>?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1659384527,"post_id":73198967,"comment_id":129277635,"body_markdown":"The technical term is _method chaining_. Since `StringBuilder#append` returns the same `StringBuilder` instance, you can continuously call `.append()` multiple times without the use of a semicolon between statements.","body":"The technical term is <i>method chaining</i>. Since <code>StringBuilder#append</code> returns the same <code>StringBuilder</code> instance, you can continuously call <code>.append()</code> multiple times without the use of a semicolon between statements."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1659384538,"post_id":73198967,"comment_id":129277637,"body_markdown":"Why not `&quot;\\n.O/&quot;+fields.nextToken()+&quot;/&quot;+fields.nextToken()+&quot;/&quot;+fields.nextToken()+&quot;/Y&quot;`? Compiler will generate StringBuilder code for you.","body":"Why not <code>&quot;\\n.O&#47;&quot;+fields.nextToken()+&quot;&#47;&quot;+fields.nextToken()+&quot;&#47;&quot;+fields&zwnj;&#8203;.nextToken()+&quot;&#47;Y&quot;</code>? Compiler will generate StringBuilder code for you."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1659384598,"post_id":73198967,"comment_id":129277652,"body_markdown":"I&#39;d do `String.format(&quot;\\n.O/%s/%s/%s/Y&quot;, fields.nextToken(), fields.nextToken(), fields.nextToken());`","body":"I&#39;d do <code>String.format(&quot;\\n.O&#47;%s&#47;%s&#47;%s&#47;Y&quot;, fields.nextToken(), fields.nextToken(), fields.nextToken());</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1659393503,"post_id":73198967,"comment_id":129279731,"body_markdown":"Note that @ElliottFrisch&#39;s suggestion wouldn&#39;t be safe in C, where order of evaluation of parameters is unspecified, but is good in Java, because order is guaranteed to be left to right.","body":"Note that @ElliottFrisch&#39;s suggestion wouldn&#39;t be safe in C, where order of evaluation of parameters is unspecified, but is good in Java, because order is guaranteed to be left to right."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1659399537,"post_id":73198967,"comment_id":129280708,"body_markdown":"@Pshemo: not in 9 or higher; now `+` on `String` uses an invokedynamic that was added to the JVM","body":"@Pshemo: not in 9 or higher; now <code>+</code> on <code>String</code> uses an invokedynamic that was added to the JVM"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1659401259,"post_id":73198967,"comment_id":129280946,"body_markdown":"@dave_thompson_085 True (more info: https://openjdk.org/jeps/280). But that is even more reason to use concatenation instead of StringBuilder, since JVM will most likely use just as good or even better code for it (at least for simple cases like one described in question, where we are not building big string in a loop).","body":"@dave_thompson_085 True (more info: <a href=\"https://openjdk.org/jeps/280\" rel=\"nofollow noreferrer\">openjdk.org/jeps/280</a>). But that is even more reason to use concatenation instead of StringBuilder, since JVM will most likely use just as good or even better code for it (at least for simple cases like one described in question, where we are not building big string in a loop)."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659391835,"creation_date":1659391835,"answer_id":73200069,"question_id":73198967,"body_markdown":"It sounds like the specific code you&#39;re looking for is just\r\n\r\n```\r\nStringBuilder x = new StringBuilder();\r\nx.append(&quot;\\n.O/&quot;)\r\n  .append(fields.nextToken())\r\n  .append(&quot;/&quot;)\r\n  .append(fields.nextToken()) // Date\r\n  .append(&quot;/&quot;)\r\n  .append(fields.nextToken())\r\n  .append(&quot;/Y&quot;);\r\n```\r\n\r\nThere are several other -- arguably better -- approaches to writing this code, but you specifically asked for chaining the append statements.","title":"StringBuilder.append alternative","body":"<p>It sounds like the specific code you're looking for is just</p>\n<pre><code>StringBuilder x = new StringBuilder();\nx.append(&quot;\\n.O/&quot;)\n  .append(fields.nextToken())\n  .append(&quot;/&quot;)\n  .append(fields.nextToken()) // Date\n  .append(&quot;/&quot;)\n  .append(fields.nextToken())\n  .append(&quot;/Y&quot;);\n</code></pre>\n<p>There are several other -- arguably better -- approaches to writing this code, but you specifically asked for chaining the append statements.</p>\n"}],"owner":{"account_id":25951244,"reputation":1,"user_id":19669255,"display_name":"HappyGoLucky"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659391835,"creation_date":1659383971,"question_id":73198967,"body_markdown":"Hi can someone suggest to me how I can refactor this code from using x.append and use only appened ( removing the x. every time). Thanks\r\n```\r\nStringBuilder x = new StringBuilder();\r\nx.append(&quot;\\n.O/&quot;);\r\nx.append(fields.nextToken()); \r\nx.append(&quot;/&quot;);\r\nx.append(fields.nextToken()); // Date\r\nx.append(&quot;/&quot;);\r\nx.append(fields.nextToken());\r\nx.append(&quot;/Y&quot;);\r\n```","title":"StringBuilder.append alternative","body":"<p>Hi can someone suggest to me how I can refactor this code from using x.append and use only appened ( removing the x. every time). Thanks</p>\n<pre><code>StringBuilder x = new StringBuilder();\nx.append(&quot;\\n.O/&quot;);\nx.append(fields.nextToken()); \nx.append(&quot;/&quot;);\nx.append(fields.nextToken()); // Date\nx.append(&quot;/&quot;);\nx.append(fields.nextToken());\nx.append(&quot;/Y&quot;);\n</code></pre>\n"},{"tags":["java","macos","maven","intellij-idea"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1659366342,"post_id":73195743,"comment_id":129271828,"body_markdown":"Are you *sure* you are using JDK 18? The method `Path.of(...)` was added in JDK 11. It looks like you are using a version that&#39;s older than JDK 11.","body":"Are you <i>sure</i> you are using JDK 18? The method <code>Path.of(...)</code> was added in JDK 11. It looks like you are using a version that&#39;s older than JDK 11."},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1659366496,"post_id":73195743,"comment_id":129271883,"body_markdown":"Another possibility: do you have a class named `Path` in your own project? If yes, then rename that class. It&#39;s picked up instead of class `java.nio.file.Path` that you intend to use.","body":"Another possibility: do you have a class named <code>Path</code> in your own project? If yes, then rename that class. It&#39;s picked up instead of class <code>java.nio.file.Path</code> that you intend to use."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1659369462,"post_id":73195743,"comment_id":129273082,"body_markdown":"Is that the real path you have located your test data? `src/test/java/area.json` ? If so you should move your test resources to `src/test/resources`...and use getResource(&quot;/area.json&quot;)... etc.","body":"Is that the real path you have located your test data? <code>src&#47;test&#47;java&#47;area.json</code> ? If so you should move your test resources to <code>src&#47;test&#47;resources</code>...and use getResource(&quot;/area.json&quot;)... etc."},{"owner":{"account_id":1025526,"reputation":2173,"user_id":1034912,"accept_rate":64,"display_name":"user1034912"},"score":0,"creation_date":1659389820,"post_id":73195743,"comment_id":129278965,"body_markdown":"@Jesper Yes I&#39;m pretty sure I&#39;m using JDK 18. When I run `java -version` it returns `java version &quot;18.0.2&quot; 2022-07-19\nJava(TM) SE Runtime Environment (build 18.0.2+9-61)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.2+9-61, mixed mode, sharing)`","body":"@Jesper Yes I&#39;m pretty sure I&#39;m using JDK 18. When I run <code>java -version</code> it returns <code>java version &quot;18.0.2&quot; 2022-07-19 Java(TM) SE Runtime Environment (build 18.0.2+9-61) Java HotSpot(TM) 64-Bit Server VM (build 18.0.2+9-61, mixed mode, sharing)</code>"},{"owner":{"account_id":1025526,"reputation":2173,"user_id":1034912,"accept_rate":64,"display_name":"user1034912"},"score":0,"creation_date":1659389897,"post_id":73195743,"comment_id":129278984,"body_markdown":"@Jesper The project works on IntelliJ Windows. It&#39;s just not working on my Mac (M1 Apple Silicone)","body":"@Jesper The project works on IntelliJ Windows. It&#39;s just not working on my Mac (M1 Apple Silicone)"},{"owner":{"account_id":10786292,"reputation":81,"user_id":7935187,"display_name":"Armando Carballo"},"score":1,"creation_date":1659392294,"post_id":73195743,"comment_id":129279481,"body_markdown":"As @Jesper mentions, it&#39;s a &gt;Java 11 method. What you provided in the questions evidently shows a Java 8, not Java 18. You can try running the application in the same terminal that shows Java 18.","body":"As @Jesper mentions, it&#39;s a &gt;Java 11 method. What you provided in the questions evidently shows a Java 8, not Java 18. You can try running the application in the same terminal that shows Java 18."},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1659426788,"post_id":73195743,"comment_id":129285849,"body_markdown":"`openjdk version &quot;1.8.0_332&quot;` =&gt; This is Java 8 and not Java 18. Don&#39;t be confused by the &quot;1.8.0&quot;, this is not the same as 18.0.","body":"<code>openjdk version &quot;1.8.0_332&quot;</code> =&gt; This is Java 8 and not Java 18. Don&#39;t be confused by the &quot;1.8.0&quot;, this is not the same as 18.0."}],"answers":[{"tags":[],"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659366986,"creation_date":1659366986,"answer_id":73195935,"question_id":73195743,"body_markdown":"I am tring the next \r\n\r\n1. Install SDK man https://sdkman.io/\r\n\r\n\r\n2. In the terminal, I installed the next version 8.332.08.1-amzn\r\n\r\n&gt; sdk install java 8.332.08.1-amzn\r\n\r\n\r\n3. Executed the next command when you will finish the step 2.\r\n\r\n&gt; sdk use java 8.332.08.1-amzn\r\n\r\n4. Execut mvn test ","title":"Maven Run gives &#39;Cannot find symbol&#39; error for &#39;Path&#39; when run on MacOS","body":"<p>I am tring the next</p>\n<ol>\n<li><p>Install SDK man <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">https://sdkman.io/</a></p>\n</li>\n<li><p>In the terminal, I installed the next version 8.332.08.1-amzn</p>\n</li>\n</ol>\n<blockquote>\n<p>sdk install java 8.332.08.1-amzn</p>\n</blockquote>\n<ol start=\"3\">\n<li>Executed the next command when you will finish the step 2.</li>\n</ol>\n<blockquote>\n<p>sdk use java 8.332.08.1-amzn</p>\n</blockquote>\n<ol start=\"4\">\n<li>Execut mvn test</li>\n</ol>\n"}],"owner":{"account_id":1025526,"reputation":2173,"user_id":1034912,"accept_rate":64,"display_name":"user1034912"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659391708,"creation_date":1659366162,"question_id":73195743,"body_markdown":"I am having a problem with my Java project. This is a unit test which I click on the IntelliJ Play button to run it. It builds fine, just error when run.\r\n\r\nIt&#39;s saying\r\n\r\n&gt; java: cannot find symbol   symbol:   method\r\n&gt; of(java.lang.String,java.lang.String)   location: interface\r\n&gt; java.nio.file.Path\r\n\r\nParticularly on the code. It highlights **Path**.\r\n\r\n````\r\nString payloadJson = Files.readString(Path.of(System.getProperty(&quot;user.dir&quot;), &quot;src/test/java/area.json&quot;));\r\n````\r\n\r\nI&#39;m not sure if it is related but I have always worked on this code on a PC (IntelliJ). It works there. I recently moved to a Macbook M1 PRO where it now gives the error.\r\n\r\nMy imports are as follow:\r\n\r\n````\r\nimport com.google.gson.Gson;\r\nimport org.junit.jupiter.api.DisplayName;\r\nimport org.junit.jupiter.api.Nested;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport java.io.File;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.*;\r\n````\r\n\r\nI am using Oracle OpenJDK 18. Which I set under Project Structure in IntelliJ. I can confirm this when I run `Java --Version`, it shows:\r\n\r\n````\r\n% java --version\r\nopenjdk version &quot;1.8.0_332&quot;\r\nOpenJDK Runtime Environment Corretto-8.332.08.1 (build 1.8.0_332-b08)\r\nOpenJDK 64-Bit Server VM Corretto-8.332.08.1 (build 25.332-b08, mixed mode)\r\n````\r\n\r\nThis is getting very hopeless!\r\n           ","title":"Maven Run gives &#39;Cannot find symbol&#39; error for &#39;Path&#39; when run on MacOS","body":"<p>I am having a problem with my Java project. This is a unit test which I click on the IntelliJ Play button to run it. It builds fine, just error when run.</p>\n<p>It's saying</p>\n<blockquote>\n<p>java: cannot find symbol   symbol:   method\nof(java.lang.String,java.lang.String)   location: interface\njava.nio.file.Path</p>\n</blockquote>\n<p>Particularly on the code. It highlights <strong>Path</strong>.</p>\n<pre><code>String payloadJson = Files.readString(Path.of(System.getProperty(&quot;user.dir&quot;), &quot;src/test/java/area.json&quot;));\n</code></pre>\n<p>I'm not sure if it is related but I have always worked on this code on a PC (IntelliJ). It works there. I recently moved to a Macbook M1 PRO where it now gives the error.</p>\n<p>My imports are as follow:</p>\n<pre><code>import com.google.gson.Gson;\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Nested;\nimport org.junit.jupiter.api.Test;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.*;\n</code></pre>\n<p>I am using Oracle OpenJDK 18. Which I set under Project Structure in IntelliJ. I can confirm this when I run <code>Java --Version</code>, it shows:</p>\n<pre><code>% java --version\nopenjdk version &quot;1.8.0_332&quot;\nOpenJDK Runtime Environment Corretto-8.332.08.1 (build 1.8.0_332-b08)\nOpenJDK 64-Bit Server VM Corretto-8.332.08.1 (build 25.332-b08, mixed mode)\n</code></pre>\n<p>This is getting very hopeless!</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1659361242,"post_id":73194495,"comment_id":129269779,"body_markdown":"Did you something like `Image ObstacleInstance = obsList.get(i);`?","body":"Did you something like <code>Image ObstacleInstance = obsList.get(i);</code>?"},{"owner":{"account_id":16979575,"reputation":1,"user_id":12281931,"display_name":"IBeFrogs"},"score":0,"creation_date":1659362685,"post_id":73194495,"comment_id":129270346,"body_markdown":"Yes, I just didn&#39;t show it.","body":"Yes, I just didn&#39;t show it."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659362848,"creation_date":1659362848,"answer_id":73194971,"question_id":73194495,"body_markdown":"One remark first: variables and fields should start with a small letter.\r\n \r\nEvery drawn image costs.\r\n\r\nIf the width and height of an object is not fixed (400), use something like:\r\n\r\n    final int visibleX = 0;\r\n    final int visibleY = 0;\r\n    final int visibleSizeX = 1920;\r\n    final int visibleSizeY = 1080;\r\n    \r\n    for (Obstacle obs: obsList) {\r\n        if (obs.ObstacleX &lt; visibleX + visibleSizeX\r\n                &amp;&amp; obs.ObstacleX + obs.ObstacleSizeX &gt; visibleX) { \r\n                &amp;&amp; obs.ObstacleY &lt; visibleY + visibleSizeY\r\n                &amp;&amp; obs.ObstacleY + obs.ObstacleSizeY &gt; visibleY) { \r\n            ObstacleInstance.move();\r\n    \r\n            image(obs.ObstacleImg, \r\n                obs.ObstacleX, \r\n                obs.ObstacleHeightFromTop,\r\n                obs.ObstacleSizeX, \r\n                obs.ObstacleSizeY);\r\n        }\r\n    }\r\n\r\nOverlapped drawing costs too, but is hard to optimize, other than with _regions_, collected areas (rectangles here).\r\n\r\nThen the `image` call seems to be slow.\r\n\r\n- The image must not be drawn pixel by pixel.\r\n- The image must not be loaded from file every time.\r\n- Depending on the graphics implementation there you might hold the image\r\n  in appropriate form (not packed bytes of a JPEG image).\r\n- There exists 2D transformations.\r\n\r\nIt seems you are working with some visualization library.\r\n- Look into _affine transformaions_ like _translate_.\r\n- Implementation: `System.arraycopy` is faster than a for-loop.\r\n\r\nTo check the speed, it would be nice to draw rectangle outlines i.o. images.\r\nAnd `move()` should (hopefully) be substantial, not 0 or 1.\r\n","title":"How could having multiple images influence the speed of the app","body":"<p>One remark first: variables and fields should start with a small letter.</p>\n<p>Every drawn image costs.</p>\n<p>If the width and height of an object is not fixed (400), use something like:</p>\n<pre><code>final int visibleX = 0;\nfinal int visibleY = 0;\nfinal int visibleSizeX = 1920;\nfinal int visibleSizeY = 1080;\n\nfor (Obstacle obs: obsList) {\n    if (obs.ObstacleX &lt; visibleX + visibleSizeX\n            &amp;&amp; obs.ObstacleX + obs.ObstacleSizeX &gt; visibleX) { \n            &amp;&amp; obs.ObstacleY &lt; visibleY + visibleSizeY\n            &amp;&amp; obs.ObstacleY + obs.ObstacleSizeY &gt; visibleY) { \n        ObstacleInstance.move();\n\n        image(obs.ObstacleImg, \n            obs.ObstacleX, \n            obs.ObstacleHeightFromTop,\n            obs.ObstacleSizeX, \n            obs.ObstacleSizeY);\n    }\n}\n</code></pre>\n<p>Overlapped drawing costs too, but is hard to optimize, other than with <em>regions</em>, collected areas (rectangles here).</p>\n<p>Then the <code>image</code> call seems to be slow.</p>\n<ul>\n<li>The image must not be drawn pixel by pixel.</li>\n<li>The image must not be loaded from file every time.</li>\n<li>Depending on the graphics implementation there you might hold the image\nin appropriate form (not packed bytes of a JPEG image).</li>\n<li>There exists 2D transformations.</li>\n</ul>\n<p>It seems you are working with some visualization library.</p>\n<ul>\n<li>Look into <em>affine transformaions</em> like <em>translate</em>.</li>\n<li>Implementation: <code>System.arraycopy</code> is faster than a for-loop.</li>\n</ul>\n<p>To check the speed, it would be nice to draw rectangle outlines i.o. images.\nAnd <code>move()</code> should (hopefully) be substantial, not 0 or 1.</p>\n"}],"owner":{"account_id":16979575,"reputation":1,"user_id":12281931,"display_name":"IBeFrogs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659391630,"creation_date":1659360698,"question_id":73194495,"body_markdown":"**The more images are currently in the sketch the slower image() runs which results in framerate lowering.\r\nWhat could be causing this?**\r\n\r\n\r\n    //for each obstacle\r\n    for (int i=0; i&lt;obsList.size(); i+=1){\r\n    ObstacleInstance = obsList.get(i);\r\n\r\n      //if inside moving zone\r\n      if (obsList.get(i).ObstacleX &lt; 1920 + 400 &amp;&amp; 0 - 400 \r\n         obsList.get(i).ObstacleX) { \r\n    \r\n          ObstacleInstance.move();\r\n    \r\n          //draws image in sketch; has performance issue\r\n          image(ObstacleInstance.ObstacleImg, \r\n            ObstacleInstance.ObstacleX, \r\n            ObstacleInstance.ObstacleHeightFromTop,\r\n            ObstacleInstance.ObstacleSizeX, \r\n            ObstacleInstance.ObstacleSizeY);\r\n        }\r\n      }\r\n    }\r\n\r\nPS: used timer to see the time image() took to run and it increased with more images and decreased after removing them.","title":"How could having multiple images influence the speed of the app","body":"<p><strong>The more images are currently in the sketch the slower image() runs which results in framerate lowering.\nWhat could be causing this?</strong></p>\n<pre><code>//for each obstacle\nfor (int i=0; i&lt;obsList.size(); i+=1){\nObstacleInstance = obsList.get(i);\n\n  //if inside moving zone\n  if (obsList.get(i).ObstacleX &lt; 1920 + 400 &amp;&amp; 0 - 400 \n     obsList.get(i).ObstacleX) { \n\n      ObstacleInstance.move();\n\n      //draws image in sketch; has performance issue\n      image(ObstacleInstance.ObstacleImg, \n        ObstacleInstance.ObstacleX, \n        ObstacleInstance.ObstacleHeightFromTop,\n        ObstacleInstance.ObstacleSizeX, \n        ObstacleInstance.ObstacleSizeY);\n    }\n  }\n}\n</code></pre>\n<p>PS: used timer to see the time image() took to run and it increased with more images and decreased after removing them.</p>\n"},{"tags":["java","angular","angularjs","ssl","weblogic"],"answers":[{"tags":[],"owner":{"account_id":22146536,"reputation":1,"user_id":16395680,"display_name":"Lucas Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645626462,"creation_date":1645625959,"answer_id":71238610,"question_id":71238075,"body_markdown":"This should work:\r\n\r\n~~~\r\n@Injectable()\r\nexport class httpsInterceptor implements HttpInterceptor {\r\n    intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n\r\n    console.log(req.url);\r\n\r\n    const secureReq = req.clone({\r\n      url: req.url.replace(&#39;http://&#39;, &#39;https://&#39;)\r\n    });\r\n\r\n    return next.handle(secureReq);\r\n  }\r\n}\r\n~~~\r\n\r\nyou must create an interceptor and import it in the module inside provider,\r\nproviders: [ \r\n{ provide: HTTP_INTERCEPTORS, useClass: TokenInterceptor, multi: true } ]","title":"How to send request to backend SSL url that converts from HTTP:7000 to HTTPS:7001 after verification running on weblogic using Angular front end app","body":"<p>This should work:</p>\n<pre><code>@Injectable()\nexport class httpsInterceptor implements HttpInterceptor {\n    intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n    console.log(req.url);\n\n    const secureReq = req.clone({\n      url: req.url.replace('http://', 'https://')\n    });\n\n    return next.handle(secureReq);\n  }\n}\n</code></pre>\n<p>you must create an interceptor and import it in the module inside provider,\nproviders: [\n{ provide: HTTP_INTERCEPTORS, useClass: TokenInterceptor, multi: true } ]</p>\n"},{"tags":[],"owner":{"account_id":13943770,"reputation":1,"user_id":10068976,"display_name":"Sufian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659391429,"creation_date":1659391316,"answer_id":73200027,"question_id":71238075,"body_markdown":"Sorry I am a bit late to answer. But the exact answer to my problem was PKI which is mutual authentication configured on weblogic and the way its done is you need to deploy your angular app on weblogic to kick in mutual authentication. There are several videos out their on how to deploy angular app on weblogic if someone looking to learn as well as how to configure mutual authentication on weblogic. Cheers","title":"How to send request to backend SSL url that converts from HTTP:7000 to HTTPS:7001 after verification running on weblogic using Angular front end app","body":"<p>Sorry I am a bit late to answer. But the exact answer to my problem was PKI which is mutual authentication configured on weblogic and the way its done is you need to deploy your angular app on weblogic to kick in mutual authentication. There are several videos out their on how to deploy angular app on weblogic if someone looking to learn as well as how to configure mutual authentication on weblogic. Cheers</p>\n"}],"owner":{"account_id":13943770,"reputation":1,"user_id":10068976,"display_name":"Sufian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73200027,"answer_count":2,"score":0,"last_activity_date":1659391429,"creation_date":1645624072,"question_id":71238075,"body_markdown":"I have a backend application that is running on weblogic server. It is running on http://localhost:7000. This application has to be called with http://localhost:7000 then after verification it checks if the application schema is on https or not. If its not then it asks you to redirect to https://localhost:7001. The HTTPS configuration is enabled on weblogic server\r\n\r\n [WEBLOGIC SSL CONFIGURATION][1]\r\n\r\nSo far everything running on same domain meaning the application is full fledge with java backend and angular js embedded frontend. So everything running on weblogic server.\r\nNow we are in the process of migrating from angular js to angular. Now angular is running on http://localhost:4200. So I have created a proxy for HTTP call\r\n\r\n{\r\n    &quot;/api&quot;: {\r\n      &quot;target&quot;: &quot; http://127.0.01:7000&quot;,\r\n      &quot;secure&quot;: false,\r\n      &quot;logLevel&quot;: &quot;debug&quot;,\r\n      &quot;changeOrigin&quot;: true\r\n    }\r\n  }\r\n\r\nAnd started server like so: \r\nng serve --proxy-config proxy.conf.json -o\r\n\r\nserver started on 4200 and creates proxy on http://127.0.01:7000/api\r\n\r\nI have also created ssl proxy for HTTPS call\r\n{\r\n    &quot;/api&quot;: {\r\n      &quot;target&quot;: &quot;https://127.0.01:7001&quot;,\r\n      &quot;secure&quot;: false,\r\n      &quot;logLevel&quot;: &quot;debug&quot;,\r\n      &quot;changeOrigin&quot;: true\r\n    }\r\n  }\r\n\r\nAlso started server like so on different port\r\nng serve --proxy-config proxy.ssl.conf.json -port 4400\r\n\r\nserver started on 4400 and creates proxy on https://127.0.01:7001/api\r\n\r\nNow I make the first call to backend url http://127.0.01:7000/api/permission\r\nIt calls through as http://localhost:4200/api/permission\r\n\r\nIt goes through filter and does some processing then it checks if call is through http or https if not then asks to redirect to https://localhost:7001/api/permission with some status code.\r\n\r\nSo in angular inside interceptor I check for the status, if status is for redirect, I redirect the url to\r\nhttps://127.0.01:7001/api/permission\r\nusing \r\nwindow.location.href=https://localhost:4400/api/permission\r\ndont be confuse because it calls like https://localhost:4400 and concat with backend url which is /api/permission.\r\nAngular folks must be aware of that.\r\nBut I get a 504 error gateway timeout on chrome dev tools console\r\nOn cmd where I have started the ng server I get this\r\nError occurred while trying to proxy request /api/permission from localhost:4400 to https://127.0.01:7001 (ECONNRESET) (https ://nodejs.org/api/errors.html#errors_common_system_errors)\r\n\r\nI am dead sure its a SSL issue but I just dont know how to fix this.\r\nI have done a lot research on this. I am frustrated, I have spent more than enough time to find a solution for this. I cant basically move pass this till its converted from http to https because rest of the uri calls must be made on https.\r\n\r\nI found a link\r\nhttps://stackoverflow.com/questions/54371487/how-to-send-an-https-request-from-an-angular-front-end-to-a-server-secured-with/54372225#54372225\r\n\r\nI think solution number one made sense\r\n\r\n1.\tAdd the self-signed certificate to the trusted store on the server where the angular app runs. (But in your case u cant do this because u got no access to the gitpages trusted store.\r\n\r\n\r\nBut I cant say for sure.\r\nAny help please. I would really appreciate that. I am pretty much stuck at this point.\r\n\r\nCheers\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LNNoo.png","title":"How to send request to backend SSL url that converts from HTTP:7000 to HTTPS:7001 after verification running on weblogic using Angular front end app","body":"<p>I have a backend application that is running on weblogic server. It is running on http://localhost:7000. This application has to be called with http://localhost:7000 then after verification it checks if the application schema is on https or not. If its not then it asks you to redirect to https://localhost:7001. The HTTPS configuration is enabled on weblogic server</p>\n<p><a href=\"https://i.stack.imgur.com/LNNoo.png\" rel=\"nofollow noreferrer\">WEBLOGIC SSL CONFIGURATION</a></p>\n<p>So far everything running on same domain meaning the application is full fledge with java backend and angular js embedded frontend. So everything running on weblogic server.\nNow we are in the process of migrating from angular js to angular. Now angular is running on http://localhost:4200. So I have created a proxy for HTTP call</p>\n<p>{\n&quot;/api&quot;: {\n&quot;target&quot;: &quot; <a href=\"http://127.0.01:7000%22\" rel=\"nofollow noreferrer\">http://127.0.01:7000&quot;</a>,\n&quot;secure&quot;: false,\n&quot;logLevel&quot;: &quot;debug&quot;,\n&quot;changeOrigin&quot;: true\n}\n}</p>\n<p>And started server like so:\nng serve --proxy-config proxy.conf.json -o</p>\n<p>server started on 4200 and creates proxy on <a href=\"http://127.0.01:7000/api\" rel=\"nofollow noreferrer\">http://127.0.01:7000/api</a></p>\n<p>I have also created ssl proxy for HTTPS call\n{\n&quot;/api&quot;: {\n&quot;target&quot;: &quot;https://127.0.01:7001&quot;,\n&quot;secure&quot;: false,\n&quot;logLevel&quot;: &quot;debug&quot;,\n&quot;changeOrigin&quot;: true\n}\n}</p>\n<p>Also started server like so on different port\nng serve --proxy-config proxy.ssl.conf.json -port 4400</p>\n<p>server started on 4400 and creates proxy on <a href=\"https://127.0.01:7001/api\" rel=\"nofollow noreferrer\">https://127.0.01:7001/api</a></p>\n<p>Now I make the first call to backend url <a href=\"http://127.0.01:7000/api/permission\" rel=\"nofollow noreferrer\">http://127.0.01:7000/api/permission</a>\nIt calls through as http://localhost:4200/api/permission</p>\n<p>It goes through filter and does some processing then it checks if call is through http or https if not then asks to redirect to https://localhost:7001/api/permission with some status code.</p>\n<p>So in angular inside interceptor I check for the status, if status is for redirect, I redirect the url to\n<a href=\"https://127.0.01:7001/api/permission\" rel=\"nofollow noreferrer\">https://127.0.01:7001/api/permission</a>\nusing\nwindow.location.href=https://localhost:4400/api/permission\ndont be confuse because it calls like https://localhost:4400 and concat with backend url which is /api/permission.\nAngular folks must be aware of that.\nBut I get a 504 error gateway timeout on chrome dev tools console\nOn cmd where I have started the ng server I get this\nError occurred while trying to proxy request /api/permission from localhost:4400 to <a href=\"https://127.0.01:7001\" rel=\"nofollow noreferrer\">https://127.0.01:7001</a> (ECONNRESET) (https ://nodejs.org/api/errors.html#errors_common_system_errors)</p>\n<p>I am dead sure its a SSL issue but I just dont know how to fix this.\nI have done a lot research on this. I am frustrated, I have spent more than enough time to find a solution for this. I cant basically move pass this till its converted from http to https because rest of the uri calls must be made on https.</p>\n<p>I found a link\n<a href=\"https://stackoverflow.com/questions/54371487/how-to-send-an-https-request-from-an-angular-front-end-to-a-server-secured-with/54372225#54372225\">How to send an HTTPS request from an Angular front-end to a server secured with a self signed certificate?</a></p>\n<p>I think solution number one made sense</p>\n<ol>\n<li>Add the self-signed certificate to the trusted store on the server where the angular app runs. (But in your case u cant do this because u got no access to the gitpages trusted store.</li>\n</ol>\n<p>But I cant say for sure.\nAny help please. I would really appreciate that. I am pretty much stuck at this point.</p>\n<p>Cheers</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18633510,"reputation":386,"user_id":13580938,"display_name":"dimitar.bogdanov"},"score":1,"creation_date":1659024261,"post_id":73155556,"comment_id":129202468,"body_markdown":"Welcome to StackOverflow! Would you mind sharing some more details, more specifically, what are you using that requires fonts, i.e. where is this class coming from (I&#39;m assuming awt)? This would help us determine whether the instantiation is costly or not. P.S. Really good first question, by the way!","body":"Welcome to StackOverflow! Would you mind sharing some more details, more specifically, what are you using that requires fonts, i.e. where is this class coming from (I&#39;m assuming awt)? This would help us determine whether the instantiation is costly or not. P.S. Really good first question, by the way!"},{"owner":{"account_id":25823770,"reputation":58,"user_id":19562377,"display_name":"Alexander Novikov"},"score":1,"creation_date":1659025654,"post_id":73155556,"comment_id":129203011,"body_markdown":"Hi! I updated my question, I hope it helps :) Yes, it&#39;s all about awt. I&#39;m creating one or several TextLayout objects to fit some pre-defined bounds (target width and height). In this case, I need to split string into several lines using LineBreakMeasurer, and if these lines doesn&#39;t fit targetHeight, I reduce font size and repeat the process.","body":"Hi! I updated my question, I hope it helps :) Yes, it&#39;s all about awt. I&#39;m creating one or several TextLayout objects to fit some pre-defined bounds (target width and height). In this case, I need to split string into several lines using LineBreakMeasurer, and if these lines doesn&#39;t fit targetHeight, I reduce font size and repeat the process."}],"answers":[{"tags":[],"owner":{"account_id":18633510,"reputation":386,"user_id":13580938,"display_name":"dimitar.bogdanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659391247,"creation_date":1659128440,"answer_id":73170953,"question_id":73155556,"body_markdown":"The latest version of the Font.java source I could find is [this one][1] from OpenJDK 8. It defines the following constructor:\r\n\r\n    public Font(String name, int style, int size) {\r\n        this.name = (name != null) ? name : &quot;Default&quot;;\r\n        this.style = (style &amp; ~0x03) == 0 ? style : 0;\r\n        this.size = size;\r\n        this.pointSize = size;\r\n    }\r\n\r\nTo be honest, this doesn&#39;t feel like it&#39;ll be the bane of your existence performance-wise. I would suggest leaving the version that instantiates new fonts, as it reads easier. If performance does show to be a real issue/concern, you can always go with the other option.\r\n\r\nP.S. You should benchmark it, just in case. If the difference is noticeable (I&#39;d put the line at anything &gt;50% faster, but it&#39;s up to you), maybe the second option is worth it.\r\n\r\n  [1]: https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/java/awt/Font.java","title":"Generate new Font every time or use pre-generated collection of Fonts?","body":"<p>The latest version of the Font.java source I could find is <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/share/classes/java/awt/Font.java\" rel=\"nofollow noreferrer\">this one</a> from OpenJDK 8. It defines the following constructor:</p>\n<pre><code>public Font(String name, int style, int size) {\n    this.name = (name != null) ? name : &quot;Default&quot;;\n    this.style = (style &amp; ~0x03) == 0 ? style : 0;\n    this.size = size;\n    this.pointSize = size;\n}\n</code></pre>\n<p>To be honest, this doesn't feel like it'll be the bane of your existence performance-wise. I would suggest leaving the version that instantiates new fonts, as it reads easier. If performance does show to be a real issue/concern, you can always go with the other option.</p>\n<p>P.S. You should benchmark it, just in case. If the difference is noticeable (I'd put the line at anything &gt;50% faster, but it's up to you), maybe the second option is worth it.</p>\n"}],"owner":{"account_id":25823770,"reputation":58,"user_id":19562377,"display_name":"Alexander Novikov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73170953,"answer_count":1,"score":1,"last_activity_date":1659391247,"creation_date":1659022854,"question_id":73155556,"body_markdown":"I have a method which decides what font size to use for drawing a string. I&#39;m using java.awt.Font.\r\n\r\nFont size depends on string length and height, and I use do-while loop to decrease font size until the string fits targetHeight. So in general it looks something like this:\r\n\r\n    private void decideOnFontSize(String text) {\r\n    \tint fontSize = 72;\r\n    \tdo {\r\n    \t\tfont = new Font(&quot;Arial&quot;, Font.PLAIN, fontSize);\r\n    \t\t// Calculating things...\r\n    \t\tfontSize -= 2;\r\n        } while (textHeight &gt;= targetHeight);\r\n    }\r\n\r\nWith this approach I need to instantiate a new Font object every time when I need a smaller font size. Method *decideOnFontSize* is a part of a service in a public API, so it could be called pretty often. At first sight, instantiating new Font looks pretty wasteful in this case.\r\n\r\nAnother approach is to create a pre-defined collection of Fonts and get them as required. So I could create a utility class like this:\r\n\r\n    public class FontsUtil {\r\n    \r\n        private static Map&lt;Integer, Font&gt; fonts = new HashMap&lt;&gt;();\r\n    \r\n        public static final Integer MAX_FONT_SIZE = 72;\r\n        public static final Integer MIN_FONT_SIZE = 10;\r\n    \r\n        static {\r\n    \r\n            String fontName = &quot;Arial&quot;;\r\n    \r\n            for(int fontSize = MAX_FONT_SIZE; fontSize &gt;= MIN_FONT_SIZE; fontSize -= 2) {\r\n                fonts.put(fontSize, new Font(fontName, Font.PLAIN, fontSize));\r\n            }\r\n        }\r\n    \r\n        public static Font getFontBySize(Integer fontSize) {\r\n            return fonts.get(fontSize);\r\n        }\r\n    }\r\n...and then I could get these pre-defined Fonts in do-while loop, so my method will look like this:\r\n\r\n    private void decideOnFontSize(String text) {\r\n    \tint fontSize = FontsUtil.MAX_FONT_SIZE;\r\n    \tdo {\r\n    \t\tfont = FontsUtil.getFontBySize(fontSize);\r\n    \t\t// Calculating things...\r\n    \t\tfontSize -= 2;\r\n        } while (textHeight &gt;= targetHeight);\r\n    }\r\n\r\nTo my mind, the second approach looks better, because (in theory) it consumes less resources. Am I right, or it doesn&#39;t really matter?\r\n\r\n**UPD:** More specifically, I create one or more TextLayout objects using LineBreakMeasurer, because I have two initial params to fit: targetWidth and targetHeight. So my do-while looks like this:\r\n\r\n    List&lt;TextLayout&gt; lines;\r\n    int fontSize = font.getSize();\r\n    int textHeight;\r\n    do {\r\n    \tfont = FontsUtil.getFontBySize(fontSize);\r\n    \tg2d.setFont(font);\r\n    \r\n    \tlines = splitStringIntoPiecesToFitTargetWidth(text, targetWidth, g2d);\r\n    \ttextHeight = getTextHeight(lines);\r\n    \r\n    \tfontSize -= 2;\r\n    } while (textHeight &gt;= targetHeight);\r\n\t\r\n*where _font_ is an instance variable\r\n\r\nAnd method _splitStringIntoPiecesToFitTargetWidth_ looks like this:\r\n\r\n    private List&lt;TextLayout&gt; splitStringIntoPiecesToFitTargetWidth(String string,\r\n    int width, Graphics2D g2d) {\r\n    \tList&lt;TextLayout&gt; lines = new ArrayList&lt;&gt;();\r\n    \r\n    \tAttributedString attributedString = new AttributedString(string);\r\n    \tattributedString.addAttribute(TextAttribute.FONT, font);\r\n    \tLineBreakMeasurer lineBreakMeasurer =\r\n    \t\tnew LineBreakMeasurer(attributedString.getIterator(), g2d.getFontRenderContext());\r\n    \r\n    \twhile (lineBreakMeasurer.getPosition() &lt; string.length()) {\r\n    \t\tlines.add(lineBreakMeasurer.nextLayout(width));\r\n    \t}\r\n    \r\n    \treturn lines;\r\n    }","title":"Generate new Font every time or use pre-generated collection of Fonts?","body":"<p>I have a method which decides what font size to use for drawing a string. I'm using java.awt.Font.</p>\n<p>Font size depends on string length and height, and I use do-while loop to decrease font size until the string fits targetHeight. So in general it looks something like this:</p>\n<pre><code>private void decideOnFontSize(String text) {\n    int fontSize = 72;\n    do {\n        font = new Font(&quot;Arial&quot;, Font.PLAIN, fontSize);\n        // Calculating things...\n        fontSize -= 2;\n    } while (textHeight &gt;= targetHeight);\n}\n</code></pre>\n<p>With this approach I need to instantiate a new Font object every time when I need a smaller font size. Method <em>decideOnFontSize</em> is a part of a service in a public API, so it could be called pretty often. At first sight, instantiating new Font looks pretty wasteful in this case.</p>\n<p>Another approach is to create a pre-defined collection of Fonts and get them as required. So I could create a utility class like this:</p>\n<pre><code>public class FontsUtil {\n\n    private static Map&lt;Integer, Font&gt; fonts = new HashMap&lt;&gt;();\n\n    public static final Integer MAX_FONT_SIZE = 72;\n    public static final Integer MIN_FONT_SIZE = 10;\n\n    static {\n\n        String fontName = &quot;Arial&quot;;\n\n        for(int fontSize = MAX_FONT_SIZE; fontSize &gt;= MIN_FONT_SIZE; fontSize -= 2) {\n            fonts.put(fontSize, new Font(fontName, Font.PLAIN, fontSize));\n        }\n    }\n\n    public static Font getFontBySize(Integer fontSize) {\n        return fonts.get(fontSize);\n    }\n}\n</code></pre>\n<p>...and then I could get these pre-defined Fonts in do-while loop, so my method will look like this:</p>\n<pre><code>private void decideOnFontSize(String text) {\n    int fontSize = FontsUtil.MAX_FONT_SIZE;\n    do {\n        font = FontsUtil.getFontBySize(fontSize);\n        // Calculating things...\n        fontSize -= 2;\n    } while (textHeight &gt;= targetHeight);\n}\n</code></pre>\n<p>To my mind, the second approach looks better, because (in theory) it consumes less resources. Am I right, or it doesn't really matter?</p>\n<p><strong>UPD:</strong> More specifically, I create one or more TextLayout objects using LineBreakMeasurer, because I have two initial params to fit: targetWidth and targetHeight. So my do-while looks like this:</p>\n<pre><code>List&lt;TextLayout&gt; lines;\nint fontSize = font.getSize();\nint textHeight;\ndo {\n    font = FontsUtil.getFontBySize(fontSize);\n    g2d.setFont(font);\n\n    lines = splitStringIntoPiecesToFitTargetWidth(text, targetWidth, g2d);\n    textHeight = getTextHeight(lines);\n\n    fontSize -= 2;\n} while (textHeight &gt;= targetHeight);\n</code></pre>\n<p>*where <em>font</em> is an instance variable</p>\n<p>And method <em>splitStringIntoPiecesToFitTargetWidth</em> looks like this:</p>\n<pre><code>private List&lt;TextLayout&gt; splitStringIntoPiecesToFitTargetWidth(String string,\nint width, Graphics2D g2d) {\n    List&lt;TextLayout&gt; lines = new ArrayList&lt;&gt;();\n\n    AttributedString attributedString = new AttributedString(string);\n    attributedString.addAttribute(TextAttribute.FONT, font);\n    LineBreakMeasurer lineBreakMeasurer =\n        new LineBreakMeasurer(attributedString.getIterator(), g2d.getFontRenderContext());\n\n    while (lineBreakMeasurer.getPosition() &lt; string.length()) {\n        lines.add(lineBreakMeasurer.nextLayout(width));\n    }\n\n    return lines;\n}\n</code></pre>\n"},{"tags":["java","nginx","spring-cloud","nginx-reverse-proxy","spring-cloud-gateway"],"comments":[{"owner":{"account_id":3086196,"reputation":10637,"user_id":4144042,"accept_rate":75,"display_name":"Thanh Nguyen Van"},"score":0,"creation_date":1554105089,"post_id":55450200,"comment_id":97614799,"body_markdown":"what error log on API gateway and nginx error log when you `curl` via reverse proxy ?","body":"what error log on API gateway and nginx error log when you <code>curl</code> via reverse proxy ?"},{"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"score":0,"creation_date":1554106801,"post_id":55450200,"comment_id":97615609,"body_markdown":"No error logs in nginx and gateway, added access logs","body":"No error logs in nginx and gateway, added access logs"},{"owner":{"account_id":1086989,"reputation":744,"user_id":1082476,"display_name":"Radha Mohan Maheshwari"},"score":0,"creation_date":1554109534,"post_id":55450200,"comment_id":97617005,"body_markdown":"can you try adding  proxy_read_timeout 300s; in server block server {\n  proxy_read_timeout 300s;","body":"can you try adding  proxy_read_timeout 300s; in server block server {   proxy_read_timeout 300s;"},{"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"score":0,"creation_date":1554110044,"post_id":55450200,"comment_id":97617273,"body_markdown":"@RadhaMohanMaheshwari Tried, not working","body":"@RadhaMohanMaheshwari Tried, not working"},{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":0,"creation_date":1554385461,"post_id":55450200,"comment_id":97739710,"body_markdown":"can you try replace localhost:8080 in nginx setting with api.example.com:8080 ?","body":"can you try replace localhost:8080 in nginx setting with api.example.com:8080 ?"},{"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"score":0,"creation_date":1578481507,"post_id":55450200,"comment_id":105449992,"body_markdown":"In a production deployment, we are using AWS EKS and we are not fetching this issue on production with same config files","body":"In a production deployment, we are using AWS EKS and we are not fetching this issue on production with same config files"}],"answers":[{"tags":[],"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554712642,"creation_date":1554712642,"answer_id":55569282,"question_id":55450200,"body_markdown":"It seems the request time-outs are not the problem for you. Its the connection timeout. \r\nI think we need to look on the header of \r\n\r\n&gt; Connection\r\n\r\n\r\n\r\nAFAIK, the `Connection` header defines, the connection should be persistent or who has the authority to maintain/close it. If the connection was `keep-alive` , then the connection will be persistent. For the keep-alive connections, the client occasionaly sends a TCP ping to ensure the server is still alive and holding the connection. As per the **[curl][1]** this time by default is every 60 seconds. \r\n\r\nNow the `nginx` has to be configured to accept connections and keep it alive for a while using the **`keepalive_timeout`** directive. If this is not there, then `nginx` will not [keep the connections alive][2]. \r\n\r\nThis should be the reason why nginx says **499**  in the logs. **HTTP499** is a cutom error in nginx which says the client closed the connection. In your case the `curl` closed it. Why `curl`closed it? because nginx did not respond to the TCP ping of 60 seconds as the keep-alive is not enabled.\r\n\r\nAdding the **`keepalive_timeout`** to ~500 or a higher value than the application timeout should solve your problem. \r\n\r\nNow, why it worked with tomcat directly? I think spring enables the alive timeout to be infinite or a very higher value. Normally in tomcat also its 60 seconds. \r\n\r\nI hope this solves your problem. \r\n\r\n\r\n  [1]: https://ec.haxx.se/usingcurl-timeouts.html\r\n  [2]: http://nginx.org/en/docs/http/ngx_http_core_module.html#keepalive_timeout","title":"Gateway timeout with Spring cloud gateway and Nginx as reverse proxy","body":"<p>It seems the request time-outs are not the problem for you. Its the connection timeout. \nI think we need to look on the header of </p>\n\n<blockquote>\n  <p>Connection</p>\n</blockquote>\n\n<p>AFAIK, the <code>Connection</code> header defines, the connection should be persistent or who has the authority to maintain/close it. If the connection was <code>keep-alive</code> , then the connection will be persistent. For the keep-alive connections, the client occasionaly sends a TCP ping to ensure the server is still alive and holding the connection. As per the <strong><a href=\"https://ec.haxx.se/usingcurl-timeouts.html\" rel=\"nofollow noreferrer\">curl</a></strong> this time by default is every 60 seconds. </p>\n\n<p>Now the <code>nginx</code> has to be configured to accept connections and keep it alive for a while using the <strong><code>keepalive_timeout</code></strong> directive. If this is not there, then <code>nginx</code> will not <a href=\"http://nginx.org/en/docs/http/ngx_http_core_module.html#keepalive_timeout\" rel=\"nofollow noreferrer\">keep the connections alive</a>. </p>\n\n<p>This should be the reason why nginx says <strong>499</strong>  in the logs. <strong>HTTP499</strong> is a cutom error in nginx which says the client closed the connection. In your case the <code>curl</code> closed it. Why <code>curl</code>closed it? because nginx did not respond to the TCP ping of 60 seconds as the keep-alive is not enabled.</p>\n\n<p>Adding the <strong><code>keepalive_timeout</code></strong> to ~500 or a higher value than the application timeout should solve your problem. </p>\n\n<p>Now, why it worked with tomcat directly? I think spring enables the alive timeout to be infinite or a very higher value. Normally in tomcat also its 60 seconds. </p>\n\n<p>I hope this solves your problem. </p>\n"},{"tags":[],"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554841539,"creation_date":1554841539,"answer_id":55600802,"question_id":55450200,"body_markdown":"Keepalive may still not be enabled for the upstream due to your configuration missing the proxy_http_version key. \r\n\r\nQuote from: https://www.nginx.com/blog/tuning-nginx/#proxy_http_version\r\n\r\n&gt; To enable keepalive connections to upstream servers you must also include the following directives in the configuration:\r\n\r\n    proxy_http_version 1.1;\r\n    proxy_set_header Connection &quot;&quot;;\r\n\r\nI&#39;d also keep the keepalive_timeout in the config as Kris had suggested.","title":"Gateway timeout with Spring cloud gateway and Nginx as reverse proxy","body":"<p>Keepalive may still not be enabled for the upstream due to your configuration missing the proxy_http_version key. </p>\n\n<p>Quote from: <a href=\"https://www.nginx.com/blog/tuning-nginx/#proxy_http_version\" rel=\"nofollow noreferrer\">https://www.nginx.com/blog/tuning-nginx/#proxy_http_version</a></p>\n\n<blockquote>\n  <p>To enable keepalive connections to upstream servers you must also include the following directives in the configuration:</p>\n</blockquote>\n\n<pre><code>proxy_http_version 1.1;\nproxy_set_header Connection \"\";\n</code></pre>\n\n<p>I'd also keep the keepalive_timeout in the config as Kris had suggested.</p>\n"},{"tags":[],"owner":{"account_id":5534970,"reputation":2079,"user_id":4393627,"display_name":"Srinivasan Sekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554871082,"creation_date":1554871082,"answer_id":55604818,"question_id":55450200,"body_markdown":"Try to put your timeout settings in /etc/nginx/conf.d/timeout.conf (if it is not there create one). Set below settings ,\r\n\r\n\r\n    proxy_connect_timeout 600;\r\n    proxy_send_timeout 600;\r\n    proxy_read_timeout 600;\r\n    send_timeout 600;","title":"Gateway timeout with Spring cloud gateway and Nginx as reverse proxy","body":"<p>Try to put your timeout settings in /etc/nginx/conf.d/timeout.conf (if it is not there create one). Set below settings ,</p>\n\n<pre><code>proxy_connect_timeout 600;\nproxy_send_timeout 600;\nproxy_read_timeout 600;\nsend_timeout 600;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3893980,"reputation":171,"user_id":3223505,"display_name":"Possible"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609367296,"creation_date":1609366627,"answer_id":65514260,"question_id":55450200,"body_markdown":"I guess this is one of the problems that can happen because of many other things. This is a solution that worked for me (I was also getting errors in `/var/log/nginx/error.log`:\r\n\r\n&gt; 2020/12/30 21:47:47 [error] 26765#26765: *13064 upstream timed out\r\n&gt; (110: Connection timed out) while connecting to upstream, client: XXX,\r\n&gt; server: example.com, request: &quot;GET /eshop HTTP/1.0&quot;, upstream:\r\n&gt; &quot;http://[::1]:8080/error_50x.html&quot;, host: &quot;example.com&quot;\r\n\r\n                                                                                          \r\n\r\n\r\nStrangely enough, this was not happening on my laptop, but only on my server. So I checked the IPs and it turns out it&#39;s maybe because of missing ::1 address. When I added it to the *lo* network device, I couldn&#39;t replicate the timeouts.\r\n\r\n    sudo ip a add ::1/128 dev lo\r\n\r\nNext: (this is my understanding, I am not 100 % sure about it:) Also, since the overhead for keeping a connection to a localhost Java service seems to be higher than just dropping that connection and connecting again when another request is made, it&#39;s recommended to use the following settings for proxies (in your nginx&#39;s site .conf):\r\n\r\n    proxy_http_version 1.1;\r\n    proxy_set_header Connection &quot;&quot;;\r\n\r\nSee https://stackoverflow.com/a/10396874/3223505","title":"Gateway timeout with Spring cloud gateway and Nginx as reverse proxy","body":"<p>I guess this is one of the problems that can happen because of many other things. This is a solution that worked for me (I was also getting errors in <code>/var/log/nginx/error.log</code>:</p>\n<blockquote>\n<p>2020/12/30 21:47:47 [error] 26765#26765: *13064 upstream timed out\n(110: Connection timed out) while connecting to upstream, client: XXX,\nserver: example.com, request: &quot;GET /eshop HTTP/1.0&quot;, upstream:\n&quot;http://[::1]:8080/error_50x.html&quot;, host: &quot;example.com&quot;</p>\n</blockquote>\n<p>Strangely enough, this was not happening on my laptop, but only on my server. So I checked the IPs and it turns out it's maybe because of missing ::1 address. When I added it to the <em>lo</em> network device, I couldn't replicate the timeouts.</p>\n<pre><code>sudo ip a add ::1/128 dev lo\n</code></pre>\n<p>Next: (this is my understanding, I am not 100 % sure about it:) Also, since the overhead for keeping a connection to a localhost Java service seems to be higher than just dropping that connection and connecting again when another request is made, it's recommended to use the following settings for proxies (in your nginx's site .conf):</p>\n<pre><code>proxy_http_version 1.1;\nproxy_set_header Connection &quot;&quot;;\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/a/10396874/3223505\">https://stackoverflow.com/a/10396874/3223505</a></p>\n"}],"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11967,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":4,"score":20,"last_activity_date":1659391245,"creation_date":1554104459,"question_id":55450200,"body_markdown":"I created an API gateway for my application and it will act as a front controller for other microservices.\r\nIn my production setup I use Nginx as a reverse proxy for my gateway\r\n\r\nThe API gateway is running on port 8080\r\n\r\nNginx configured as below:\r\n\r\ngateway-api.conf:\r\n\r\n    server {\r\n    \tlisten 80;\r\n    \tserver_name api.example.com;\r\n    \tlocation / {\r\n    \t\tproxy_set_header        X-Real-IP       $remote_addr;\r\n    \t\tproxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;\r\n    \t\tproxy_http_version 1.1;\r\n    \t\tproxy_set_header Connection &quot;&quot;;\r\n    \t\tproxy_pass http://localhost:30010/;\r\n    \t\tkeepalive_timeout 500s;\r\n    \t}\r\n    \tkeepalive_timeout 500s;\r\n    \taccess_log /var/log/nginx/api.log;\t\r\n    \terror_log /var/log/nginx/api_error.log;\r\n    }\r\n\r\nTimeout setting in nginx.conf:\r\n\r\n    proxy_connect_timeout 300;\r\n    proxy_send_timeout 300;\r\n    proxy_read_timeout 300;\r\n    send_timeout 300;\r\n\r\n\r\nSpring cloud gateway gradle file: \r\n \r\n\r\n    compile(&#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;)\r\n     compile(&#39;org.springframework.cloud:spring-cloud-starter-openfeign&#39;)\r\n     compile(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n     compile(&#39;org.springframework.boot:spring-boot-starter-security&#39;)\r\n\r\n    springBootVersion=2.0.3.RELEASE\r\n    springDMPVersion=1.0.4.RELEASE\r\n    springPlatformBomVersion=Cairo-SR2\r\n    springCloudVersion=Finchley.RELEASE\r\n\r\nGateway application:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = {&quot;com.example&quot;})\r\n    @EntityScan(basePackages = {&quot;com.example&quot;})\r\n    @EnableFeignClients(basePackages = &quot;com.example&quot;)\r\n    public class GatewayApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(GatewayApplication.class, args);\r\n        }\r\n    }\r\n\r\nProblem statement:\r\n\r\nIn one of my microservices, one REST API takes more than 3 minutes to complete.\r\nIf I call this API via `nginx(api.example.com)`, it fails **exactly after 1 minute** and gives HTTP status 504.\r\n\r\ncurl:\r\n\r\n    curl --request GET \\\r\n      --url http://api.example.com/hellomicroservice/api/take/moretime\r\n\r\nerror:\r\n\r\n    504 Timeout while reading the response from Server\r\n\r\nThere are no error logs in nginx or the API gateway.\r\n\r\nAccess log from nginx:\r\n\r\n    203.129.213.102 - - [01/Apr/2019:08:14:33 +0000] &quot;GET hellomicroservice/api/take/moretime HTTP/1.1&quot; 499 0 &quot;-&quot; &quot;PostmanRuntime/7.3.0&quot;\r\n\r\nBut when I make a call of the same API directly to the gateway (on gateway port 8080), the request is processed successfully.\r\n\r\ncurl with gateway port:\r\n\r\n    curl --request GET \\\r\n      --url http://api.example.com:8080/hellomicroservice/api/take/moretime\r\n\r\n\r\n----------\r\n\r\n\r\n**Edit:**\r\n\r\nIf I apply the Nginx timeout settings as less than 60 Seconds (e.g. 30 seconds), the request gets timed out in a specified time interval. But if I set the Nginx timeout to be more than 60 seconds, let&#39;s 300 Seconds, the request gets timed out after 60 seconds.","title":"Gateway timeout with Spring cloud gateway and Nginx as reverse proxy","body":"<p>I created an API gateway for my application and it will act as a front controller for other microservices.\nIn my production setup I use Nginx as a reverse proxy for my gateway</p>\n\n<p>The API gateway is running on port 8080</p>\n\n<p>Nginx configured as below:</p>\n\n<p>gateway-api.conf:</p>\n\n<pre><code>server {\n    listen 80;\n    server_name api.example.com;\n    location / {\n        proxy_set_header        X-Real-IP       $remote_addr;\n        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_http_version 1.1;\n        proxy_set_header Connection \"\";\n        proxy_pass http://localhost:30010/;\n        keepalive_timeout 500s;\n    }\n    keepalive_timeout 500s;\n    access_log /var/log/nginx/api.log;  \n    error_log /var/log/nginx/api_error.log;\n}\n</code></pre>\n\n<p>Timeout setting in nginx.conf:</p>\n\n<pre><code>proxy_connect_timeout 300;\nproxy_send_timeout 300;\nproxy_read_timeout 300;\nsend_timeout 300;\n</code></pre>\n\n<p>Spring cloud gateway gradle file: </p>\n\n<pre><code>compile('org.springframework.cloud:spring-cloud-starter-gateway')\n compile('org.springframework.cloud:spring-cloud-starter-openfeign')\n compile(\"org.springframework.boot:spring-boot-starter-actuator\")\n compile('org.springframework.boot:spring-boot-starter-security')\n\nspringBootVersion=2.0.3.RELEASE\nspringDMPVersion=1.0.4.RELEASE\nspringPlatformBomVersion=Cairo-SR2\nspringCloudVersion=Finchley.RELEASE\n</code></pre>\n\n<p>Gateway application:</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {\"com.example\"})\n@EntityScan(basePackages = {\"com.example\"})\n@EnableFeignClients(basePackages = \"com.example\")\npublic class GatewayApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(GatewayApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>Problem statement:</p>\n\n<p>In one of my microservices, one REST API takes more than 3 minutes to complete.\nIf I call this API via <code>nginx(api.example.com)</code>, it fails <strong>exactly after 1 minute</strong> and gives HTTP status 504.</p>\n\n<p>curl:</p>\n\n<pre><code>curl --request GET \\\n  --url http://api.example.com/hellomicroservice/api/take/moretime\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>504 Timeout while reading the response from Server\n</code></pre>\n\n<p>There are no error logs in nginx or the API gateway.</p>\n\n<p>Access log from nginx:</p>\n\n<pre><code>203.129.213.102 - - [01/Apr/2019:08:14:33 +0000] \"GET hellomicroservice/api/take/moretime HTTP/1.1\" 499 0 \"-\" \"PostmanRuntime/7.3.0\"\n</code></pre>\n\n<p>But when I make a call of the same API directly to the gateway (on gateway port 8080), the request is processed successfully.</p>\n\n<p>curl with gateway port:</p>\n\n<pre><code>curl --request GET \\\n  --url http://api.example.com:8080/hellomicroservice/api/take/moretime\n</code></pre>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<p>If I apply the Nginx timeout settings as less than 60 Seconds (e.g. 30 seconds), the request gets timed out in a specified time interval. But if I set the Nginx timeout to be more than 60 seconds, let's 300 Seconds, the request gets timed out after 60 seconds.</p>\n"},{"tags":["java","c++","active-directory","java-native-interface","visual-studio-2022"],"comments":[{"owner":{"account_id":23319990,"reputation":2700,"user_id":17398063,"display_name":"BoP"},"score":2,"creation_date":1659379573,"post_id":73198096,"comment_id":129276157,"body_markdown":"*library machine type &#39;x86&#39; conflicts with target machine type &#39;x64&#39;*  This sounds like you are trying to link a 32-bit (x86) library into a 64-bit program. Just doesn&#39;t work.","body":"<i>library machine type &#39;x86&#39; conflicts with target machine type &#39;x64&#39;</i>  This sounds like you are trying to link a 32-bit (x86) library into a 64-bit program. Just doesn&#39;t work."},{"owner":{"account_id":25950167,"reputation":1,"user_id":19668333,"display_name":"Vimal A"},"score":0,"creation_date":1659412095,"post_id":73198096,"comment_id":129282568,"body_markdown":"Can anyone please share the Activeds.lib and adsiid.lib 64-bit library download link. It will be really helpful to me to solve this problem.","body":"Can anyone please share the Activeds.lib and adsiid.lib 64-bit library download link. It will be really helpful to me to solve this problem."}],"owner":{"account_id":25950167,"reputation":1,"user_id":19668333,"display_name":"Vimal A"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659390504,"creation_date":1659378610,"question_id":73198096,"body_markdown":"I want to make a login authentication to my web application(Java). Username and password are created in windows server 2016 active directory. Using that username and password I have to login to my web app using ADSI(Active Directory Service Interface) API in C++ language to connect to the windows server. To do this I have to create the .dll file from the C++ code in Visual Studio 2022. Here I have to add Activeds.lib, adsiid.lib to make the API work. After generating the .dll file to load this in Java System.load() using JNI Concept.\r\n\r\nThis is the C++ code I used in Visual Studio 2022...\r\n \r\n    #include &lt;iostream&gt;\r\n    #include &lt;jni.h&gt;\r\n    #include&lt;string.h&gt;\r\n    #include &quot;com_library_ldap_JNIHelper.h&quot;\r\n    #include &lt;Iads.h&gt;\r\n    #include &lt;adshlp.h&gt;\r\n    #include &quot;activeds.h&quot;\r\n    #include &lt;windows.h&gt;\r\n    #include &lt;stdlib.h&gt;\r\n    using namespace std;\r\n\r\n    JNIEXPORT jstring JNICALL Java_com_library_ldap_JNIHelper_authenticateUser\r\n    (JNIEnv* env, jclass, jstring uname, jstring pwd) {\r\n\r\n\tconst char* uName = env-&gt;GetStringUTFChars(uname, NULL);\r\n\tstd::string username = std::string(uName);\r\n\r\n\tconst char* pwd1 = env-&gt;GetStringUTFChars(pwd, NULL);\r\n\tstd::string password = std::string(pwd1);\r\n\r\n\tenv-&gt;ReleaseStringUTFChars(uname, uName);\r\n\tenv-&gt;ReleaseStringUTFChars(pwd, pwd1);\r\n\r\n\tIADs* pObject;\r\n\r\n\twchar_t wname[20];\r\n\tmbstowcs(wname, username.c_str(), username.length());\r\n\tLPWSTR szUsername = wname;\r\n\twchar_t wpwd[20];\r\n\tmbstowcs(wpwd, password.c_str(), password.length());\r\n\tLPWSTR szPassword = wpwd;\r\n\r\n\tHRESULT hr;\r\n\r\n\tstring uAdmin = &quot;Admin&quot;;\r\n\tstring uUser = &quot;User&quot;;\r\n\tstring uType;\r\n\tbool res = false;\r\n\tif (uAdmin == &quot;Admin&quot;) {\r\n\t\thr = ADsOpenObject(L&quot;LDAP://test.local/CN=Users,DC=test,DC=local&quot;,\r\n\t\t\tszUsername,\r\n\t\t\tszPassword,\r\n\t\t\tADS_SECURE_AUTHENTICATION,\r\n\t\t\tIID_IADs,\r\n\t\t\t(void**)&amp;pObject);\r\n\t\tif (SUCCEEDED(hr))\r\n\t\t{\r\n\t\t\t// Use the object.\r\n\t\t\tres = true;\r\n\t\t\t// Release the object.\r\n\t\t\tpObject-&gt;Release();\r\n\t\t}\r\n\t\tif (res == true) {\r\n\t\t\tuType = &quot;Admin&quot;;\r\n\t\t\t//return env-&gt;NewStringUTF(uType.c_str());\r\n\t\t}\r\n\t\telse\r\n\t\t\tuType = &quot;NotFound!!!&quot;;\r\n\t}\r\n\telse if (uUser == &quot;User&quot;) {\r\n\t\thr = ADsOpenObject(L&quot;LDAP://test.local     /CN=Vimaluser,OU=Users,OU=Vimal,DC=test,DC=local&quot;,\r\n\t\t\tszUsername,\r\n\t\t\tszPassword,\r\n\t\t\tADS_SECURE_AUTHENTICATION,\r\n\t\t\tIID_IADs,\r\n\t\t\t(void**)&amp;pObject);\r\n\t\tif (SUCCEEDED(hr))\r\n\t\t{\r\n\t\t\t// Use the object.\r\n\t\t\tres = true;\r\n\t\t\t// Release the object.\r\n\t\t\tpObject-&gt;Release();\r\n\t\t}\r\n\t\tif (res == true) {\r\n\t\t\tuType = &quot;User&quot;;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tuType = &quot;NotFound!!!&quot;;\r\n\t\t}\r\n\t}\r\n\treturn env-&gt;NewStringUTF(uType.c_str());\r\n    }   \r\n\r\n\r\nbelow is the error I&#39;m getting...\r\n\r\n```\r\nBuild started...\r\n1&gt;------ Build started: Project: Adsi-JNI, Configuration: Release x64 ------\r\n1&gt;Adsi-JNI.cpp\r\n1&gt;   Creating library C:\\Users\\Vimal\\Desktop\\VS Code\\Adsi-JNI\\x64\\Release\\Adsi-JNI.lib and object C:\\Users\\Vimal\\Desktop\\VS Code\\Adsi-JNI\\x64\\Release\\Adsi-JNI.exp\r\n1&gt;Adsi-JNI.obj : error LNK2019: unresolved external symbol ADsOpenObject referenced in function Java_com_library_ldap_JNIHelper_authenticateUser\r\n1&gt;Adsi-JNI.obj : error LNK2001: unresolved external symbol IID_IADs\r\n1&gt;E:\\Java Program\\Library System\\src\\main\\java\\com\\library\\ldap\\lib\\ActiveDS.lib : warning LNK4272: library machine type &#39;x86&#39; conflicts with target machine type &#39;x64&#39;\r\n1&gt;E:\\Java Program\\Library System\\src\\main\\java\\com\\library\\ldap\\lib\\adsiid.lib : warning LNK4272: library machine type &#39;x86&#39; conflicts with target machine type &#39;x64&#39;\r\n1&gt;C:\\Users\\Vimal\\Desktop\\VS Code\\Adsi-JNI\\x64\\Release\\Adsi-JNI.dll : fatal error LNK1120: 2 unresolved externals\r\n1&gt;Done building project &quot;Adsi-JNI.vcxproj&quot; -- FAILED.\r\n========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\r\n```\r\n\r\nAnd I wrote a code for server connection, but i don&#39;t know whether the code is correct for server connection or not. Please help me to solve this problem and also share what are all the things related to this. Thanks in advance. \r\n","title":"Error while generating .dll files in Visual Studio 2022. Login authentication using ADSI Api in C++","body":"<p>I want to make a login authentication to my web application(Java). Username and password are created in windows server 2016 active directory. Using that username and password I have to login to my web app using ADSI(Active Directory Service Interface) API in C++ language to connect to the windows server. To do this I have to create the .dll file from the C++ code in Visual Studio 2022. Here I have to add Activeds.lib, adsiid.lib to make the API work. After generating the .dll file to load this in Java System.load() using JNI Concept.</p>\n<p>This is the C++ code I used in Visual Studio 2022...</p>\n<pre><code>#include &lt;iostream&gt;\n#include &lt;jni.h&gt;\n#include&lt;string.h&gt;\n#include &quot;com_library_ldap_JNIHelper.h&quot;\n#include &lt;Iads.h&gt;\n#include &lt;adshlp.h&gt;\n#include &quot;activeds.h&quot;\n#include &lt;windows.h&gt;\n#include &lt;stdlib.h&gt;\nusing namespace std;\n\nJNIEXPORT jstring JNICALL Java_com_library_ldap_JNIHelper_authenticateUser\n(JNIEnv* env, jclass, jstring uname, jstring pwd) {\n\nconst char* uName = env-&gt;GetStringUTFChars(uname, NULL);\nstd::string username = std::string(uName);\n\nconst char* pwd1 = env-&gt;GetStringUTFChars(pwd, NULL);\nstd::string password = std::string(pwd1);\n\nenv-&gt;ReleaseStringUTFChars(uname, uName);\nenv-&gt;ReleaseStringUTFChars(pwd, pwd1);\n\nIADs* pObject;\n\nwchar_t wname[20];\nmbstowcs(wname, username.c_str(), username.length());\nLPWSTR szUsername = wname;\nwchar_t wpwd[20];\nmbstowcs(wpwd, password.c_str(), password.length());\nLPWSTR szPassword = wpwd;\n\nHRESULT hr;\n\nstring uAdmin = &quot;Admin&quot;;\nstring uUser = &quot;User&quot;;\nstring uType;\nbool res = false;\nif (uAdmin == &quot;Admin&quot;) {\n    hr = ADsOpenObject(L&quot;LDAP://test.local/CN=Users,DC=test,DC=local&quot;,\n        szUsername,\n        szPassword,\n        ADS_SECURE_AUTHENTICATION,\n        IID_IADs,\n        (void**)&amp;pObject);\n    if (SUCCEEDED(hr))\n    {\n        // Use the object.\n        res = true;\n        // Release the object.\n        pObject-&gt;Release();\n    }\n    if (res == true) {\n        uType = &quot;Admin&quot;;\n        //return env-&gt;NewStringUTF(uType.c_str());\n    }\n    else\n        uType = &quot;NotFound!!!&quot;;\n}\nelse if (uUser == &quot;User&quot;) {\n    hr = ADsOpenObject(L&quot;LDAP://test.local     /CN=Vimaluser,OU=Users,OU=Vimal,DC=test,DC=local&quot;,\n        szUsername,\n        szPassword,\n        ADS_SECURE_AUTHENTICATION,\n        IID_IADs,\n        (void**)&amp;pObject);\n    if (SUCCEEDED(hr))\n    {\n        // Use the object.\n        res = true;\n        // Release the object.\n        pObject-&gt;Release();\n    }\n    if (res == true) {\n        uType = &quot;User&quot;;\n    }\n    else {\n        uType = &quot;NotFound!!!&quot;;\n    }\n}\nreturn env-&gt;NewStringUTF(uType.c_str());\n}   \n</code></pre>\n<p>below is the error I'm getting...</p>\n<pre><code>Build started...\n1&gt;------ Build started: Project: Adsi-JNI, Configuration: Release x64 ------\n1&gt;Adsi-JNI.cpp\n1&gt;   Creating library C:\\Users\\Vimal\\Desktop\\VS Code\\Adsi-JNI\\x64\\Release\\Adsi-JNI.lib and object C:\\Users\\Vimal\\Desktop\\VS Code\\Adsi-JNI\\x64\\Release\\Adsi-JNI.exp\n1&gt;Adsi-JNI.obj : error LNK2019: unresolved external symbol ADsOpenObject referenced in function Java_com_library_ldap_JNIHelper_authenticateUser\n1&gt;Adsi-JNI.obj : error LNK2001: unresolved external symbol IID_IADs\n1&gt;E:\\Java Program\\Library System\\src\\main\\java\\com\\library\\ldap\\lib\\ActiveDS.lib : warning LNK4272: library machine type 'x86' conflicts with target machine type 'x64'\n1&gt;E:\\Java Program\\Library System\\src\\main\\java\\com\\library\\ldap\\lib\\adsiid.lib : warning LNK4272: library machine type 'x86' conflicts with target machine type 'x64'\n1&gt;C:\\Users\\Vimal\\Desktop\\VS Code\\Adsi-JNI\\x64\\Release\\Adsi-JNI.dll : fatal error LNK1120: 2 unresolved externals\n1&gt;Done building project &quot;Adsi-JNI.vcxproj&quot; -- FAILED.\n========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\n</code></pre>\n<p>And I wrote a code for server connection, but i don't know whether the code is correct for server connection or not. Please help me to solve this problem and also share what are all the things related to this. Thanks in advance.</p>\n"},{"tags":["java","android","error-handling"],"comments":[{"owner":{"account_id":20485417,"reputation":4847,"user_id":15032688,"display_name":"Sercan"},"score":1,"creation_date":1659387839,"post_id":73199549,"comment_id":129278457,"body_markdown":"I think you should try sharing the code.","body":"I think you should try sharing the code."},{"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"score":0,"creation_date":1659387847,"post_id":73199549,"comment_id":129278462,"body_markdown":"Could this be useful? https://stackoverflow.com/questions/51387626/unexpected-character-code-61-while-parsing-jsonstring","body":"Could this be useful? <a href=\"https://stackoverflow.com/questions/51387626/unexpected-character-code-61-while-parsing-jsonstring\" title=\"unexpected character code 61 while parsing jsonstring\">stackoverflow.com/questions/51387626/&hellip;</a>"},{"owner":{"account_id":18874376,"reputation":11,"user_id":13768224,"display_name":"Michael Doughty"},"score":0,"creation_date":1659390381,"post_id":73199549,"comment_id":129279096,"body_markdown":"code added now, sorry","body":"code added now, sorry"},{"owner":{"account_id":18874376,"reputation":11,"user_id":13768224,"display_name":"Michael Doughty"},"score":0,"creation_date":1659391540,"post_id":73199549,"comment_id":129279341,"body_markdown":"problem solved, it was in one of the xml files.","body":"problem solved, it was in one of the xml files."},{"owner":{"account_id":1654940,"reputation":798,"user_id":1524756,"display_name":"Stephen Taylor"},"score":0,"creation_date":1659424839,"post_id":73199549,"comment_id":129285202,"body_markdown":"Could you paste the XML file to round out the question to help future searchers? Thanks!","body":"Could you paste the XML file to round out the question to help future searchers? Thanks!"}],"owner":{"account_id":18874376,"reputation":11,"user_id":13768224,"display_name":"Michael Doughty"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1659390126,"creation_date":1659387511,"question_id":73199549,"body_markdown":"I tried to build my app, and this error message was produced.\r\n\r\nUnexpected character &#39;=&#39; (code 61) (expected a name start character)\r\n at [row,col {unknown-source}]: [41,21]\r\n\r\nI have cleaned my code and tried to clean my code and inspected my code and i can&#39;t find anything wrong my code, and help would be gratefully recieved.\r\n\r\nThis is my MainActivity.\r\n\r\n     package com.michaeldoughty.android.football_quiz;\r\n\r\n     import androidx.activity.result.ActivityResult;\r\n     import androidx.activity.result.ActivityResultCallback;\r\n     import androidx.activity.result.ActivityResultLauncher;\r\n     import \r\n     androidx.activity.result.contract.ActivityResultContracts;\r\n     import androidx.appcompat.app.AppCompatActivity;\r\n\r\n     import android.content.Intent;\r\n     import android.os.Bundle;\r\n     import android.util.Log;\r\n     import android.view.Gravity;\r\n     import android.view.View;\r\n     import android.widget.*;\r\n\r\n     import java.text.DecimalFormat;\r\n\r\n\r\n     public class MainActivity extends AppCompatActivity\r\n    {\r\n    // to answer true for the question\r\n    private Button mTrueButton;\r\n\r\n    // to answer false for the question\r\n    private Button mFalseButton;\r\n\r\n    // to get the next question\r\n    private ImageButton mNextButton;\r\n\r\n    // to cheat\r\n    private Button mCheatButton;\r\n\r\n    // to hold the questions\r\n    private TextView mQuestionTextView;\r\n\r\n    // whether the user is a cheater\r\n    private boolean mIsCheater;\r\n\r\n    // a key used for the onSaveInstanceState\r\n    private final String KEY_INDEX = &quot;index&quot;;\r\n\r\n    // An ActivityResultLauncher for the CheatActivity\r\n    ActivityResultLauncher&lt;Intent&gt; cheatActivityResultLauncher = \r\n    registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;()\r\n            {\r\n                @Override\r\n                public void onActivityResult (ActivityResult \r\n     result)\r\n                {\r\n                    //checking if there is a result code from the \r\n     returned intent\r\n                    if (result.getResultCode () == RESULT_OK)\r\n                    {\r\n                        // to check is there is any data in the \r\n     returned intent\r\n                        if (result.getData() == null)\r\n                        {\r\n                            return;\r\n                        }\r\n\r\n                        // setting that the user is a cheater\r\n                        mIsCheater = true;\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\n    // an array of Question objects\r\n    private Question [] mQuestionBank = new Question []\r\n            {\r\n                new Question (R.string.question_euro, true),\r\n                new Question (R.string.question_world_cup, false),\r\n                new Question (R.string.question_premier_league, \r\n     false),\r\n                new Question (R.string.question_england, true),\r\n                new Question (R.string.question_fa_cup, false),\r\n                new Question (R.string.question_league_cup, true)\r\n            };\r\n\r\n     // the index of the current question being displayed\r\n     private int mCurrentIndex = 0;\r\n\r\n     // to hold the percentage of correct answers\r\n     private double percentage = 0;\r\n\r\n     // to hold the amount of correct answers\r\n     private double correct = 0;\r\n\r\n     @Override\r\n     protected void onCreate(Bundle savedInstanceState)\r\n     {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // to check if there is a value of mCurrentIndex in the \r\n     savedInstanceState\r\n        if (savedInstanceState != null)\r\n        {\r\n            mCurrentIndex = savedInstanceState.getInt (KEY_INDEX, \r\n     0);\r\n        }\r\n\r\n        // to create the mQuestionTextView\r\n        mQuestionTextView = (TextView) findViewById \r\n      (R.id.question_text_view);\r\n        mQuestionTextView.setOnClickListener(new \r\n      View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                // update the mCurrrentIndex\r\n                mCurrentIndex++;\r\n\r\n                // enable the mTrueButton and mFalseButton\r\n                mTrueButton.setEnabled (true);\r\n                mFalseButton.setEnabled (true);\r\n\r\n                if (mCurrentIndex &lt; 6)\r\n                {\r\n                    // call the updateQuestion method\r\n                    updateQuestion();\r\n                }\r\n                else\r\n                {\r\n                    displayPercentage ();\r\n                    mCurrentIndex = 0;\r\n                    updateQuestion();\r\n                }\r\n            }\r\n        });\r\n\r\n        // call the updateQuestion method\r\n        updateQuestion ();\r\n\r\n        // to create the mTrueButton\r\n        mTrueButton = (Button) findViewById (R.id.true_button);\r\n        mTrueButton.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                // call the checkAnswer method\r\n                checkAnswer (true);\r\n\r\n                // disable the mTrueButton and mFalseButton\r\n                mTrueButton.setEnabled (false);\r\n                mFalseButton.setEnabled (false);\r\n            }\r\n        });\r\n\r\n        // to create the mFalseButton\r\n        mFalseButton = (Button) findViewById (R.id.false_button);\r\n        mFalseButton.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                // call the checkAnswer method\r\n                checkAnswer (false);\r\n\r\n                // disable the mTrueButton and mFalseButton\r\n                mTrueButton.setEnabled (false);\r\n                mFalseButton.setEnabled (false);\r\n            }\r\n        });\r\n\r\n        // to create the mNextButton\r\n        mNextButton = (ImageButton) findViewById \r\n       (R.id.next_button);\r\n        mNextButton.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                // update the mCurrrentIndex\r\n                mCurrentIndex++;\r\n\r\n                // enable the mTrueButton and mFalseButton\r\n                mTrueButton.setEnabled (true);\r\n                mFalseButton.setEnabled (true);\r\n\r\n                if (mCurrentIndex &lt; 6)\r\n                {\r\n                    // call the updateQuestion method\r\n                    updateQuestion();\r\n                }\r\n                else\r\n                {\r\n                    displayPercentage ();\r\n                    mCurrentIndex = 0;\r\n                    updateQuestion();\r\n                }\r\n            }\r\n        });\r\n\r\n        // to create the mCheatButton\r\n        mCheatButton = (Button) findViewById (R.id.cheat_button);\r\n        mCheatButton.setOnClickListener(new View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                boolean answerIsTrue = mQuestionBank \r\n       [mCurrentIndex].isAnswerTrue ();\r\n                Intent intent = CheatActivity.newIntent \r\n        (MainActivity.this, answerIsTrue);\r\n                cheatActivityResultLauncher.launch (intent);\r\n            }\r\n        });\r\n      }\r\n\r\n        /**\r\n       The onSaveInstanceState method saves savedInstanceState when \r\n      the activity is stopped.\r\n       @param savedInstanceState,  the bundle of the activity.\r\n       */\r\n\r\n      @Override\r\n      public void onSaveInstanceState (Bundle savedInstanceState)\r\n     {\r\n        // call the super&#39;s constructor\r\n        super.onSaveInstanceState (savedInstanceState);\r\n\r\n        // to add the mCurrentIndex to the bundle\r\n        savedInstanceState.putInt (KEY_INDEX, mCurrentIndex);\r\n     }\r\n\r\n     /**\r\n       The updateQuestion method updates the question.\r\n     */\r\n\r\n     public void updateQuestion ()\r\n     {\r\n        // get the next question\r\n        int question = mQuestionBank [mCurrentIndex].getTextResId \r\n     ();\r\n\r\n        // to display the next question\r\n        mQuestionTextView.setText (question);\r\n     }\r\n\r\n     /**\r\n       The checkAnswer method checks the user&#39;s answer, to see if \r\n     its correct or not\r\n       @param userPressedTrue, the user&#39;s answer.\r\n     */\r\n\r\n     public void checkAnswer (boolean userPressedTrue)\r\n     {\r\n        // getting the correct answer\r\n        boolean answerIsTrue = mQuestionBank \r\n     [mCurrentIndex].isAnswerTrue ();\r\n\r\n        // the message in the toast\r\n        int messageResId = 0;\r\n\r\n        // checking the user&#39;s answer and setting the right meassge\r\n        if (userPressedTrue == answerIsTrue)\r\n        {\r\n            messageResId = R.string.correct_toast;\r\n            correct++;\r\n        }\r\n        else\r\n        {\r\n            messageResId = R.string.incorrect_toast;\r\n        }\r\n\r\n        // displaying the meessage in a toast\r\n        Toast toast;\r\n        toast = Toast.makeText(this, messageResId, \r\n      Toast.LENGTH_SHORT);\r\n        toast.setGravity (Gravity.TOP|Gravity.CENTER, 0, 0);\r\n        toast.show ();\r\n     }\r\n\r\n     /**\r\n       The displayPercentage displays the percentage of correct \r\n     answers the user had guessed.\r\n     */\r\n\r\n     public void displayPercentage ()\r\n     {\r\n        // working out the percentage\r\n        percentage = (correct / mQuestionBank.length) * 100;\r\n\r\n        DecimalFormat df = new DecimalFormat(&quot;#.00&quot;);\r\n\r\n        // displaying the percentage as a toast\r\n        Toast.makeText(this, &quot;You have guessed &quot; + \r\n     df.format(percentage) + &quot;%!&quot;, Toast.LENGTH_SHORT).show ();\r\n\r\n        // to set the correct and percentage back to zero\r\n        correct = 0;\r\n        percentage = 0;\r\n     }\r\n    }\r\n\r\n     Here is my CheatActivity\r\n\r\n     // an extra key for the intent which tells the CheatActivity \r\n     what the answer is\r\n     private static final String EXTRA_ANSWER_IS_TRUE = \r\n     &quot;com.michaeldoughty.android.football_quiz_answer_is_true&quot;;\r\n\r\n     // an extra key for the intent which tells the MainActivity if \r\n     the user has cheated\r\n     private static final String EXTRA_ANSWER_IS_SHOWN = \r\n     &quot;com.michaeldoughty.android.football_quiz_answer_shown&quot;;\r\n\r\n     // if the answer is true or not\r\n     private boolean mAnswerIsTrue;\r\n\r\n     // to hold the correct answer\r\n     private TextView mAnswerTextView;\r\n\r\n     // a button to show the correct answer\r\n     private Button mShowAnswerButton;\r\n\r\n     // to create an intent to create a CheatActivity\r\n     public static Intent newIntent (Context packageContext, \r\n     boolean answerIsTrue)\r\n     {\r\n        Intent intent = new Intent (packageContext, \r\n     CheatActivity.class);\r\n        intent.putExtra(EXTRA_ANSWER_IS_TRUE, answerIsTrue);\r\n        return intent;\r\n     }\r\n\r\n     public static boolean wasAnswerShown (Intent result)\r\n     {\r\n        return result.getBooleanExtra (EXTRA_ANSWER_IS_SHOWN, \r\n     false);\r\n     }\r\n\r\n     @Override\r\n     protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_cheat);\r\n\r\n        // to get the mAnswerIsTrue\r\n        mAnswerIsTrue = getIntent ().getBooleanExtra \r\n      (EXTRA_ANSWER_IS_TRUE, false);\r\n\r\n        // to create the mAnswerTextView\r\n        mAnswerTextView = findViewById (R.id.answer_text_view);\r\n\r\n        // to create the mShowAnswerButton\r\n        mShowAnswerButton = findViewById (R.id.show_answer_button);\r\n        mShowAnswerButton.setOnClickListener(new \r\n     View.OnClickListener()\r\n        {\r\n            @Override\r\n            public void onClick(View view)\r\n            {\r\n                if (mAnswerIsTrue)\r\n                {\r\n                    mAnswerTextView.setText (R.string.true_button);\r\n                }\r\n                else\r\n                {\r\n                    mAnswerTextView.setText \r\n       (R.string.false_button);\r\n                }\r\n                setAnswerShownResult (true);\r\n            }\r\n        });\r\n      }\r\n\r\n     /**\r\n       The setAnswerShownResult creates an Intent, to send the \r\n     isAnswerShown to the MainActivity.\r\n       @param isAnswerShown, whether the user has cheated or not.\r\n     */\r\n\r\n      private void setAnswerShownResult (boolean isAnswerShown)\r\n     {\r\n         Intent data = new Intent ();\r\n        data.putExtra (EXTRA_ANSWER_IS_SHOWN, isAnswerShown);\r\n        setResult(RESULT_OK, data);\r\n\r\n      }\r\n     }\r\n\r\n      Here is my Question class\r\n     package com.michaeldoughty.android.football_quiz;\r\n\r\n    public class Question\r\n    {\r\n    // to hold the text res id of the question\r\n    private int mTextResId;\r\n\r\n    // to hold if the answer is true or false\r\n    private boolean mAnswerTrue;\r\n\r\n    /**\r\n       Constructor\r\n    */\r\n\r\n    public Question (int textResId, boolean answerTrue)\r\n    {\r\n        mTextResId = textResId;\r\n        mAnswerTrue = answerTrue;\r\n    }\r\n\r\n    public int getTextResId()\r\n    {\r\n        return mTextResId;\r\n    }\r\n\r\n    public void setTextResId(int textResId)\r\n    {\r\n        mTextResId = textResId;\r\n    }\r\n\r\n    public boolean isAnswerTrue()\r\n    {\r\n        return mAnswerTrue;\r\n    }\r\n\r\n    public void setAnswerTrue(boolean answerTrue)\r\n    {\r\n        mAnswerTrue = answerTrue;\r\n    }\r\n   } \r\n\r\n\r\n\r\n\r\n","title":"I don&#39;t understand this error message, any help would be helpful","body":"<p>I tried to build my app, and this error message was produced.</p>\n<p>Unexpected character '=' (code 61) (expected a name start character)\nat [row,col {unknown-source}]: [41,21]</p>\n<p>I have cleaned my code and tried to clean my code and inspected my code and i can't find anything wrong my code, and help would be gratefully recieved.</p>\n<p>This is my MainActivity.</p>\n<pre><code> package com.michaeldoughty.android.football_quiz;\n\n import androidx.activity.result.ActivityResult;\n import androidx.activity.result.ActivityResultCallback;\n import androidx.activity.result.ActivityResultLauncher;\n import \n androidx.activity.result.contract.ActivityResultContracts;\n import androidx.appcompat.app.AppCompatActivity;\n\n import android.content.Intent;\n import android.os.Bundle;\n import android.util.Log;\n import android.view.Gravity;\n import android.view.View;\n import android.widget.*;\n\n import java.text.DecimalFormat;\n\n\n public class MainActivity extends AppCompatActivity\n{\n// to answer true for the question\nprivate Button mTrueButton;\n\n// to answer false for the question\nprivate Button mFalseButton;\n\n// to get the next question\nprivate ImageButton mNextButton;\n\n// to cheat\nprivate Button mCheatButton;\n\n// to hold the questions\nprivate TextView mQuestionTextView;\n\n// whether the user is a cheater\nprivate boolean mIsCheater;\n\n// a key used for the onSaveInstanceState\nprivate final String KEY_INDEX = &quot;index&quot;;\n\n// An ActivityResultLauncher for the CheatActivity\nActivityResultLauncher&lt;Intent&gt; cheatActivityResultLauncher = \nregisterForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(),\n        new ActivityResultCallback&lt;ActivityResult&gt;()\n        {\n            @Override\n            public void onActivityResult (ActivityResult \n result)\n            {\n                //checking if there is a result code from the \n returned intent\n                if (result.getResultCode () == RESULT_OK)\n                {\n                    // to check is there is any data in the \n returned intent\n                    if (result.getData() == null)\n                    {\n                        return;\n                    }\n\n                    // setting that the user is a cheater\n                    mIsCheater = true;\n                }\n            }\n        });\n\n\n// an array of Question objects\nprivate Question [] mQuestionBank = new Question []\n        {\n            new Question (R.string.question_euro, true),\n            new Question (R.string.question_world_cup, false),\n            new Question (R.string.question_premier_league, \n false),\n            new Question (R.string.question_england, true),\n            new Question (R.string.question_fa_cup, false),\n            new Question (R.string.question_league_cup, true)\n        };\n\n // the index of the current question being displayed\n private int mCurrentIndex = 0;\n\n // to hold the percentage of correct answers\n private double percentage = 0;\n\n // to hold the amount of correct answers\n private double correct = 0;\n\n @Override\n protected void onCreate(Bundle savedInstanceState)\n {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    // to check if there is a value of mCurrentIndex in the \n savedInstanceState\n    if (savedInstanceState != null)\n    {\n        mCurrentIndex = savedInstanceState.getInt (KEY_INDEX, \n 0);\n    }\n\n    // to create the mQuestionTextView\n    mQuestionTextView = (TextView) findViewById \n  (R.id.question_text_view);\n    mQuestionTextView.setOnClickListener(new \n  View.OnClickListener()\n    {\n        @Override\n        public void onClick(View view)\n        {\n            // update the mCurrrentIndex\n            mCurrentIndex++;\n\n            // enable the mTrueButton and mFalseButton\n            mTrueButton.setEnabled (true);\n            mFalseButton.setEnabled (true);\n\n            if (mCurrentIndex &lt; 6)\n            {\n                // call the updateQuestion method\n                updateQuestion();\n            }\n            else\n            {\n                displayPercentage ();\n                mCurrentIndex = 0;\n                updateQuestion();\n            }\n        }\n    });\n\n    // call the updateQuestion method\n    updateQuestion ();\n\n    // to create the mTrueButton\n    mTrueButton = (Button) findViewById (R.id.true_button);\n    mTrueButton.setOnClickListener(new View.OnClickListener()\n    {\n        @Override\n        public void onClick(View view)\n        {\n            // call the checkAnswer method\n            checkAnswer (true);\n\n            // disable the mTrueButton and mFalseButton\n            mTrueButton.setEnabled (false);\n            mFalseButton.setEnabled (false);\n        }\n    });\n\n    // to create the mFalseButton\n    mFalseButton = (Button) findViewById (R.id.false_button);\n    mFalseButton.setOnClickListener(new View.OnClickListener()\n    {\n        @Override\n        public void onClick(View view)\n        {\n            // call the checkAnswer method\n            checkAnswer (false);\n\n            // disable the mTrueButton and mFalseButton\n            mTrueButton.setEnabled (false);\n            mFalseButton.setEnabled (false);\n        }\n    });\n\n    // to create the mNextButton\n    mNextButton = (ImageButton) findViewById \n   (R.id.next_button);\n    mNextButton.setOnClickListener(new View.OnClickListener()\n    {\n        @Override\n        public void onClick(View view)\n        {\n            // update the mCurrrentIndex\n            mCurrentIndex++;\n\n            // enable the mTrueButton and mFalseButton\n            mTrueButton.setEnabled (true);\n            mFalseButton.setEnabled (true);\n\n            if (mCurrentIndex &lt; 6)\n            {\n                // call the updateQuestion method\n                updateQuestion();\n            }\n            else\n            {\n                displayPercentage ();\n                mCurrentIndex = 0;\n                updateQuestion();\n            }\n        }\n    });\n\n    // to create the mCheatButton\n    mCheatButton = (Button) findViewById (R.id.cheat_button);\n    mCheatButton.setOnClickListener(new View.OnClickListener()\n    {\n        @Override\n        public void onClick(View view)\n        {\n            boolean answerIsTrue = mQuestionBank \n   [mCurrentIndex].isAnswerTrue ();\n            Intent intent = CheatActivity.newIntent \n    (MainActivity.this, answerIsTrue);\n            cheatActivityResultLauncher.launch (intent);\n        }\n    });\n  }\n\n    /**\n   The onSaveInstanceState method saves savedInstanceState when \n  the activity is stopped.\n   @param savedInstanceState,  the bundle of the activity.\n   */\n\n  @Override\n  public void onSaveInstanceState (Bundle savedInstanceState)\n {\n    // call the super's constructor\n    super.onSaveInstanceState (savedInstanceState);\n\n    // to add the mCurrentIndex to the bundle\n    savedInstanceState.putInt (KEY_INDEX, mCurrentIndex);\n }\n\n /**\n   The updateQuestion method updates the question.\n */\n\n public void updateQuestion ()\n {\n    // get the next question\n    int question = mQuestionBank [mCurrentIndex].getTextResId \n ();\n\n    // to display the next question\n    mQuestionTextView.setText (question);\n }\n\n /**\n   The checkAnswer method checks the user's answer, to see if \n its correct or not\n   @param userPressedTrue, the user's answer.\n */\n\n public void checkAnswer (boolean userPressedTrue)\n {\n    // getting the correct answer\n    boolean answerIsTrue = mQuestionBank \n [mCurrentIndex].isAnswerTrue ();\n\n    // the message in the toast\n    int messageResId = 0;\n\n    // checking the user's answer and setting the right meassge\n    if (userPressedTrue == answerIsTrue)\n    {\n        messageResId = R.string.correct_toast;\n        correct++;\n    }\n    else\n    {\n        messageResId = R.string.incorrect_toast;\n    }\n\n    // displaying the meessage in a toast\n    Toast toast;\n    toast = Toast.makeText(this, messageResId, \n  Toast.LENGTH_SHORT);\n    toast.setGravity (Gravity.TOP|Gravity.CENTER, 0, 0);\n    toast.show ();\n }\n\n /**\n   The displayPercentage displays the percentage of correct \n answers the user had guessed.\n */\n\n public void displayPercentage ()\n {\n    // working out the percentage\n    percentage = (correct / mQuestionBank.length) * 100;\n\n    DecimalFormat df = new DecimalFormat(&quot;#.00&quot;);\n\n    // displaying the percentage as a toast\n    Toast.makeText(this, &quot;You have guessed &quot; + \n df.format(percentage) + &quot;%!&quot;, Toast.LENGTH_SHORT).show ();\n\n    // to set the correct and percentage back to zero\n    correct = 0;\n    percentage = 0;\n }\n}\n\n Here is my CheatActivity\n\n // an extra key for the intent which tells the CheatActivity \n what the answer is\n private static final String EXTRA_ANSWER_IS_TRUE = \n &quot;com.michaeldoughty.android.football_quiz_answer_is_true&quot;;\n\n // an extra key for the intent which tells the MainActivity if \n the user has cheated\n private static final String EXTRA_ANSWER_IS_SHOWN = \n &quot;com.michaeldoughty.android.football_quiz_answer_shown&quot;;\n\n // if the answer is true or not\n private boolean mAnswerIsTrue;\n\n // to hold the correct answer\n private TextView mAnswerTextView;\n\n // a button to show the correct answer\n private Button mShowAnswerButton;\n\n // to create an intent to create a CheatActivity\n public static Intent newIntent (Context packageContext, \n boolean answerIsTrue)\n {\n    Intent intent = new Intent (packageContext, \n CheatActivity.class);\n    intent.putExtra(EXTRA_ANSWER_IS_TRUE, answerIsTrue);\n    return intent;\n }\n\n public static boolean wasAnswerShown (Intent result)\n {\n    return result.getBooleanExtra (EXTRA_ANSWER_IS_SHOWN, \n false);\n }\n\n @Override\n protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_cheat);\n\n    // to get the mAnswerIsTrue\n    mAnswerIsTrue = getIntent ().getBooleanExtra \n  (EXTRA_ANSWER_IS_TRUE, false);\n\n    // to create the mAnswerTextView\n    mAnswerTextView = findViewById (R.id.answer_text_view);\n\n    // to create the mShowAnswerButton\n    mShowAnswerButton = findViewById (R.id.show_answer_button);\n    mShowAnswerButton.setOnClickListener(new \n View.OnClickListener()\n    {\n        @Override\n        public void onClick(View view)\n        {\n            if (mAnswerIsTrue)\n            {\n                mAnswerTextView.setText (R.string.true_button);\n            }\n            else\n            {\n                mAnswerTextView.setText \n   (R.string.false_button);\n            }\n            setAnswerShownResult (true);\n        }\n    });\n  }\n\n /**\n   The setAnswerShownResult creates an Intent, to send the \n isAnswerShown to the MainActivity.\n   @param isAnswerShown, whether the user has cheated or not.\n */\n\n  private void setAnswerShownResult (boolean isAnswerShown)\n {\n     Intent data = new Intent ();\n    data.putExtra (EXTRA_ANSWER_IS_SHOWN, isAnswerShown);\n    setResult(RESULT_OK, data);\n\n  }\n }\n\n  Here is my Question class\n package com.michaeldoughty.android.football_quiz;\n\npublic class Question\n{\n// to hold the text res id of the question\nprivate int mTextResId;\n\n// to hold if the answer is true or false\nprivate boolean mAnswerTrue;\n\n/**\n   Constructor\n*/\n\npublic Question (int textResId, boolean answerTrue)\n{\n    mTextResId = textResId;\n    mAnswerTrue = answerTrue;\n}\n\npublic int getTextResId()\n{\n    return mTextResId;\n}\n\npublic void setTextResId(int textResId)\n{\n    mTextResId = textResId;\n}\n\npublic boolean isAnswerTrue()\n{\n    return mAnswerTrue;\n}\n\npublic void setAnswerTrue(boolean answerTrue)\n{\n    mAnswerTrue = answerTrue;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1659389598,"post_id":73199796,"comment_id":129278909,"body_markdown":"`nextInt()` and `nextDouble()` are going to ignore blanks. And tokens that aren&#39;t `int` or `double` respectively. You need to elaborate on your actual question.","body":"<code>nextInt()</code> and <code>nextDouble()</code> are going to ignore blanks. And tokens that aren&#39;t <code>int</code> or <code>double</code> respectively. You need to elaborate on your actual question."}],"answers":[{"tags":[],"owner":{"account_id":17026435,"reputation":184,"user_id":12317548,"display_name":"MatthewRBevins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659389892,"creation_date":1659389892,"answer_id":73199873,"question_id":73199796,"body_markdown":"Try using nextLine instead of nextInt/nextDouble:\r\n\r\n        while (true){\r\n            try {\r\n                System.out.print(&quot;Enter the year of manufacture of the motorcycle: &quot;);\r\n                m1.setYear(Integer.parseInt(keyboard.nextLine()));\r\n                if (m1.getYear() &lt;= 0){\r\n                    System.out.println(&quot;Year field cannot be less than or equal to zero, redo the operation.&quot;);\r\n                } else {\r\n                    break;\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Field must contain only integers, redo the operation.&quot;);\r\n            }\r\n        }\r\n        while (true){\r\n            try {\r\n                System.out.print(&quot;Enter the value of the motorcycle: &quot;);\r\n                m1.setValue(Double.parseDouble(keyboard.nextLine()));\r\n                if (m1.getValue() &lt;= 0){\r\n                    System.out.println(&quot;Value field cannot be less than or equal to zero, redo the operation.&quot;);\r\n                } else {\r\n                    break;\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Field must contain only decimal numbers, redo the operation.&quot;);\r\n            }\r\n        }","title":"Problems checking user-grabbed values in while loops (only else block works)","body":"<p>Try using nextLine instead of nextInt/nextDouble:</p>\n<pre><code>    while (true){\n        try {\n            System.out.print(&quot;Enter the year of manufacture of the motorcycle: &quot;);\n            m1.setYear(Integer.parseInt(keyboard.nextLine()));\n            if (m1.getYear() &lt;= 0){\n                System.out.println(&quot;Year field cannot be less than or equal to zero, redo the operation.&quot;);\n            } else {\n                break;\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;Field must contain only integers, redo the operation.&quot;);\n        }\n    }\n    while (true){\n        try {\n            System.out.print(&quot;Enter the value of the motorcycle: &quot;);\n            m1.setValue(Double.parseDouble(keyboard.nextLine()));\n            if (m1.getValue() &lt;= 0){\n                System.out.println(&quot;Value field cannot be less than or equal to zero, redo the operation.&quot;);\n            } else {\n                break;\n            }\n        } catch (Exception e) {\n            System.out.println(&quot;Field must contain only decimal numbers, redo the operation.&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"display_name":"user19526276"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73199873,"answer_count":1,"score":0,"last_activity_date":1659389892,"creation_date":1659389278,"question_id":73199796,"body_markdown":"I have a problem validating the error messages of the two while, when I fill in the right values the loop ends, when I enter incorrect values or leave blank nothing happens. Only what works is the ```else``` in each loop.\r\n\r\n```\r\n         while (true){\r\n            try {\r\n                System.out.print(&quot;Enter the year of manufacture of the motorcycle: &quot;);\r\n                m1.setYear(keyboard.nextInt());\r\n                if (m1.getYear() &lt;= 0){\r\n                    System.out.println(&quot;Year field cannot be less than or equal to zero, redo the operation.&quot;);\r\n                } else {\r\n                    break;\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Field must contain only integers, redo the operation.&quot;);\r\n            }\r\n        }\r\n        while (true){\r\n            try {\r\n                System.out.print(&quot;Enter the value of the motorcycle: &quot;);\r\n                m1.setValue(keyboard.nextDouble());\r\n                if (m1.getValue() &lt;= 0){\r\n                    System.out.println(&quot;Value field cannot be less than or equal to zero, redo the operation.&quot;);\r\n                } else {\r\n                    break;\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Field must contain only decimal numbers, redo the operation.&quot;);\r\n            }\r\n        }\r\n```","title":"Problems checking user-grabbed values in while loops (only else block works)","body":"<p>I have a problem validating the error messages of the two while, when I fill in the right values the loop ends, when I enter incorrect values or leave blank nothing happens. Only what works is the <code>else</code> in each loop.</p>\n<pre><code>         while (true){\n            try {\n                System.out.print(&quot;Enter the year of manufacture of the motorcycle: &quot;);\n                m1.setYear(keyboard.nextInt());\n                if (m1.getYear() &lt;= 0){\n                    System.out.println(&quot;Year field cannot be less than or equal to zero, redo the operation.&quot;);\n                } else {\n                    break;\n                }\n            } catch (Exception e) {\n                System.out.println(&quot;Field must contain only integers, redo the operation.&quot;);\n            }\n        }\n        while (true){\n            try {\n                System.out.print(&quot;Enter the value of the motorcycle: &quot;);\n                m1.setValue(keyboard.nextDouble());\n                if (m1.getValue() &lt;= 0){\n                    System.out.println(&quot;Value field cannot be less than or equal to zero, redo the operation.&quot;);\n                } else {\n                    break;\n                }\n            } catch (Exception e) {\n                System.out.println(&quot;Field must contain only decimal numbers, redo the operation.&quot;);\n            }\n        }\n</code></pre>\n"},{"tags":["java","spring","loops"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1659387243,"post_id":73199478,"comment_id":129278313,"body_markdown":"Save all the items at the same time after your loop.","body":"Save all the items at the same time after your loop."},{"owner":{"account_id":14767494,"reputation":15,"user_id":10665068,"display_name":"yansto"},"score":0,"creation_date":1659387722,"post_id":73199478,"comment_id":129278427,"body_markdown":"First of all, thank you for the quick reply.\nI have also already thought about it. For my specific problem, I would have to create a new list and add all the functions I want to save. I have edited my post again to make this a little clearer.","body":"First of all, thank you for the quick reply. I have also already thought about it. For my specific problem, I would have to create a new list and add all the functions I want to save. I have edited my post again to make this a little clearer."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1659388521,"post_id":73199478,"comment_id":129278620,"body_markdown":"How are you passing an `Optional&lt;Item&gt;` to a method expecting `ListItem`?","body":"How are you passing an <code>Optional&lt;Item&gt;</code> to a method expecting <code>ListItem</code>?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1659388829,"post_id":73199478,"comment_id":129278697,"body_markdown":"Anyway, how big is this list that you can&#39;t afford to iterate it twice? Most of the processing time is probably taken by the validation and save operations. This sounds like premature optimization.","body":"Anyway, how big is this list that you can&#39;t afford to iterate it twice? Most of the processing time is probably taken by the validation and save operations. This sounds like premature optimization."}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659389690,"creation_date":1659389690,"answer_id":73199856,"question_id":73199478,"body_markdown":"*Note: I agree with the comments that suggest this might be a premature optimization. But in the interest of actually answering the question and not assuming the asker hasn&#39;t already considered that, here is my answer.*\r\n\r\nSince you happen to show that you&#39;re doing repository saves, my first thought would be to wrap the entire iterate/validate/execute process in a transaction. Do the writes as you iterate, but if any validation fails, just roll back the transaction (or thrown an exception, which usually implies an automatic rollback).\r\n\r\nIf you had asked the question in a more general context (without revealing that you are dealing with repository writes, or in some repo context where there are no transactions), I&#39;d suggest transforming the items in the `List` into lambdas or `Functions`/`Consumers` (depending on your input/result needs) (or, if you want to get fancy, `Future` instances), which only get invoked after the entire list has been validated. Again, a validation failure of any item causes all the lambdas/Functions/Consumers/Futures/whatever to be discarded and never executed.","title":"Check if List Items are valid in just one Iteration","body":"<p><em>Note: I agree with the comments that suggest this might be a premature optimization. But in the interest of actually answering the question and not assuming the asker hasn't already considered that, here is my answer.</em></p>\n<p>Since you happen to show that you're doing repository saves, my first thought would be to wrap the entire iterate/validate/execute process in a transaction. Do the writes as you iterate, but if any validation fails, just roll back the transaction (or thrown an exception, which usually implies an automatic rollback).</p>\n<p>If you had asked the question in a more general context (without revealing that you are dealing with repository writes, or in some repo context where there are no transactions), I'd suggest transforming the items in the <code>List</code> into lambdas or <code>Functions</code>/<code>Consumers</code> (depending on your input/result needs) (or, if you want to get fancy, <code>Future</code> instances), which only get invoked after the entire list has been validated. Again, a validation failure of any item causes all the lambdas/Functions/Consumers/Futures/whatever to be discarded and never executed.</p>\n"}],"owner":{"account_id":14767494,"reputation":15,"user_id":10665068,"display_name":"yansto"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73199856,"answer_count":1,"score":0,"last_activity_date":1659389690,"creation_date":1659387113,"question_id":73199478,"body_markdown":"I am just wondering if there is a better solution to the following problem.\r\nI want to validate all items in a list first, and then store them with additional values in a database. The problem here is that I iterate through the same list twice. The data should only be saved if all entries are correct. Now I wonder if there is a way to save the second iteration or a similar possibility.\r\n\r\nHere is some rough source code:\r\n```\r\npublic void saveItem(List list){\r\ncheckList(list);\r\n        \r\nfor (ListItem item :List list) {\r\n      Optional &lt;Item&gt; aItem = aRepository.findByName(item.getName);\r\n      saveFunctions(aItem);\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\npublic void checkList(List list){\r\nfor (ListItem item: List list) {\r\n   if (!checkValue){\r\n            throw new Exception(&quot;Value is Wrong&quot;);\r\n}}}\r\n```\r\n```\r\npublic void saveFunctions(ListItem item){\r\n                devicFunctionRepo.save((item.getInventoryNumber(), item.vpnip()));\r\n                devicFunctionRepo.save((item.getInventoryNumber(), item.wanip()));\r\n//more values are here\r\n}\r\n```\r\nAlso, I&#39;m wondering if maybe you should return a boolean with something like checkList so you have the exceptions in the main method. Similar to what I would do with the (!checkValue).\r\nWhat would be a clean way to implement this?\r\n","title":"Check if List Items are valid in just one Iteration","body":"<p>I am just wondering if there is a better solution to the following problem.\nI want to validate all items in a list first, and then store them with additional values in a database. The problem here is that I iterate through the same list twice. The data should only be saved if all entries are correct. Now I wonder if there is a way to save the second iteration or a similar possibility.</p>\n<p>Here is some rough source code:</p>\n<pre><code>public void saveItem(List list){\ncheckList(list);\n        \nfor (ListItem item :List list) {\n      Optional &lt;Item&gt; aItem = aRepository.findByName(item.getName);\n      saveFunctions(aItem);\n}\n</code></pre>\n<p>and</p>\n<pre><code>public void checkList(List list){\nfor (ListItem item: List list) {\n   if (!checkValue){\n            throw new Exception(&quot;Value is Wrong&quot;);\n}}}\n</code></pre>\n<pre><code>public void saveFunctions(ListItem item){\n                devicFunctionRepo.save((item.getInventoryNumber(), item.vpnip()));\n                devicFunctionRepo.save((item.getInventoryNumber(), item.wanip()));\n//more values are here\n}\n</code></pre>\n<p>Also, I'm wondering if maybe you should return a boolean with something like checkList so you have the exceptions in the main method. Similar to what I would do with the (!checkValue).\nWhat would be a clean way to implement this?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":4,"creation_date":1659377946,"post_id":73197970,"comment_id":129275665,"body_markdown":"Do you know how to get the first character of a string? If so, then just use a `map` operation that does that.","body":"Do you know how to get the first character of a string? If so, then just use a <code>map</code> operation that does that."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":2,"creation_date":1659378091,"post_id":73197970,"comment_id":129275709,"body_markdown":"`....map(text -&gt; text.charAt(0)).collect(Collectors.toList());`","body":"<code>....map(text -&gt; text.charAt(0)).collect(Collectors.toList());</code>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1659380725,"post_id":73197970,"comment_id":129276532,"body_markdown":"Your code and your requirement are in conflict.  You said *filters out all elements shorter than two characters,*.  But you&#39;re filtering out strings less that three characters by allowing those greater than two.  Which is it?","body":"Your code and your requirement are in conflict.  You said <i>filters out all elements shorter than two characters,</i>.  But you&#39;re filtering out strings less that three characters by allowing those greater than two.  Which is it?"},{"owner":{"display_name":"user15227357"},"score":1,"creation_date":1659383035,"post_id":73197970,"comment_id":129277168,"body_markdown":"@WJS Sorry for the delayed answer, was away. But in short i wanted to filter out all elements shorter than two characters. The code is wrong i realised it later on. Thanks for pointing it out, i fixed it.","body":"@WJS Sorry for the delayed answer, was away. But in short i wanted to filter out all elements shorter than two characters. The code is wrong i realised it later on. Thanks for pointing it out, i fixed it."}],"answers":[{"tags":[],"owner":{"account_id":19038874,"reputation":66,"user_id":13899433,"display_name":"Meenal Garg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659389186,"creation_date":1659378440,"answer_id":73198062,"question_id":73197970,"body_markdown":"```java\r\nList&lt;Character&gt; chars = \r\n    strings\r\n        .stream()\r\n        .filter(s1 -&gt; s1.length() &gt;= 2)\r\n        .sorted()\r\n        .map(s2 -&gt; s2.charAt(0))\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nYou can use `map()` method to get first character for each string after applying filter and sorting. And String already implements Comparable you don&#39;t need to provide any sorting mechanism, it will be sorted in ascending order by default.","title":"Is there a function in Java Streams where you can get the first char for every value, in a list of strings","body":"<pre class=\"lang-java prettyprint-override\"><code>List&lt;Character&gt; chars = \n    strings\n        .stream()\n        .filter(s1 -&gt; s1.length() &gt;= 2)\n        .sorted()\n        .map(s2 -&gt; s2.charAt(0))\n        .collect(Collectors.toList());\n</code></pre>\n<p>You can use <code>map()</code> method to get first character for each string after applying filter and sorting. And String already implements Comparable you don't need to provide any sorting mechanism, it will be sorted in ascending order by default.</p>\n"},{"tags":[],"owner":{"account_id":1653300,"reputation":968,"user_id":1523450,"display_name":"cdr89"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659378581,"creation_date":1659378581,"answer_id":73198093,"question_id":73197970,"body_markdown":"This should answer your question. I added a null check before the string lenght check, since theoretically, if you have null strings in the input list, you will get a NullPointerException.\r\n\r\n    import java.util.stream.Collectors;\r\n\r\n    public static List&lt;Character&gt; fistCharAlphOrder(List&lt;String&gt; inputList) {\r\n        return inputList\r\n                .stream()\r\n                .filter(s -&gt; s != null &amp;&amp; s.length() &gt;= 2) // null check, considering strings of at least 2 chars\r\n                .sorted() // sorting by default alphabetical order\r\n                .map(s -&gt; s.charAt(0)) // get the first char\r\n                .collect(Collectors.toList()); // collect the result into a List of Character\r\n    }","title":"Is there a function in Java Streams where you can get the first char for every value, in a list of strings","body":"<p>This should answer your question. I added a null check before the string lenght check, since theoretically, if you have null strings in the input list, you will get a NullPointerException.</p>\n<pre><code>import java.util.stream.Collectors;\n\npublic static List&lt;Character&gt; fistCharAlphOrder(List&lt;String&gt; inputList) {\n    return inputList\n            .stream()\n            .filter(s -&gt; s != null &amp;&amp; s.length() &gt;= 2) // null check, considering strings of at least 2 chars\n            .sorted() // sorting by default alphabetical order\n            .map(s -&gt; s.charAt(0)) // get the first char\n            .collect(Collectors.toList()); // collect the result into a List of Character\n}\n</code></pre>\n"}],"owner":{"display_name":"user15227357"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73198062,"answer_count":2,"score":0,"last_activity_date":1659389186,"creation_date":1659377878,"question_id":73197970,"body_markdown":"So at the moment I&#39;m trying to learn about Java Streams for an upcoming test. \r\nOne of the questions says: \r\n\r\n&gt; Write functional code (using the streams API) that starts from a list\r\n&gt; of character strings, filters out all elements shorter than two\r\n&gt; characters, sorts the elements in alphabetical order and returns a\r\n&gt; list of the first character of each remaining character string.\r\n\r\nI think I&#39;m somewhat on the right path, but I can&#39;t get the &quot;returns a list of the first character of each remaining character string.&quot; part to work.\r\n\r\nI&#39;ve gotten this far:\r\n\r\n    .streams.filter(p -&gt; p &gt; 1).sorted(Comparator.comparing(p -&gt; p.toString()))\r\n\r\nEven then I&#39;m not sure if that&#39;s right but I&#39;m trying to learn. So if anyone could push me to the right path I would be thankful.","title":"Is there a function in Java Streams where you can get the first char for every value, in a list of strings","body":"<p>So at the moment I'm trying to learn about Java Streams for an upcoming test.\nOne of the questions says:</p>\n<blockquote>\n<p>Write functional code (using the streams API) that starts from a list\nof character strings, filters out all elements shorter than two\ncharacters, sorts the elements in alphabetical order and returns a\nlist of the first character of each remaining character string.</p>\n</blockquote>\n<p>I think I'm somewhat on the right path, but I can't get the &quot;returns a list of the first character of each remaining character string.&quot; part to work.</p>\n<p>I've gotten this far:</p>\n<pre><code>.streams.filter(p -&gt; p &gt; 1).sorted(Comparator.comparing(p -&gt; p.toString()))\n</code></pre>\n<p>Even then I'm not sure if that's right but I'm trying to learn. So if anyone could push me to the right path I would be thankful.</p>\n"},{"tags":["java","apache-poi","simpledateformat","xssf"],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1382465191,"creation_date":1382465191,"answer_id":19525204,"question_id":19525094,"body_markdown":"You have 2 options:\r\n\r\n - Use Java&#39;s [`SimpleDateFormat` class][1] to format the returned `Date` as a `String` in the format of your choice.  You can have a `SimpleDateFormat` instance for each different format you need.\r\n - Use Apache POI&#39;s [`DataFormatter` class][2] to format the the `Cell` directly.\r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n[2]: http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html","title":"Get String value, when I read from excel with Date type (apache poi)","body":"<p>You have 2 options:</p>\n\n<ul>\n<li>Use Java's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\"><code>SimpleDateFormat</code> class</a> to format the returned <code>Date</code> as a <code>String</code> in the format of your choice.  You can have a <code>SimpleDateFormat</code> instance for each different format you need.</li>\n<li>Use Apache POI's <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html\" rel=\"nofollow\"><code>DataFormatter</code> class</a> to format the the <code>Cell</code> directly.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1382465313,"creation_date":1382465313,"answer_id":19525236,"question_id":19525094,"body_markdown":"You can get the return value for cell#getDateCellValue() and use SimpleDateFormat to covert it to a String instance  \r\n \r\n\r\n     // Create an instance of SimpleDateFormat used for formatting \r\n        // the string representation of date (month/day/year)\r\n        DateFormat df = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        \r\n        // Get the date today using cell.getDateCellValue() \r\n        Date today = cell.getDateCellValue()       \r\n        // Using DateFormat format method we can create a string \r\n        // representation of a date with the defined format.\r\n        String reportDate = df.format(today);\r\n\r\nYou can get the value of Date in String format - 31/10/2013. Hope this helps","title":"Get String value, when I read from excel with Date type (apache poi)","body":"<p>You can get the return value for cell#getDateCellValue() and use SimpleDateFormat to covert it to a String instance  </p>\n\n<pre><code> // Create an instance of SimpleDateFormat used for formatting \n    // the string representation of date (month/day/year)\n    DateFormat df = new SimpleDateFormat(\"dd/MM/yyyy\");\n\n    // Get the date today using cell.getDateCellValue() \n    Date today = cell.getDateCellValue()       \n    // Using DateFormat format method we can create a string \n    // representation of a date with the defined format.\n    String reportDate = df.format(today);\n</code></pre>\n\n<p>You can get the value of Date in String format - 31/10/2013. Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":2232963,"reputation":2856,"user_id":1970125,"display_name":"Mukesh S"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1382466158,"creation_date":1382466158,"answer_id":19525465,"question_id":19525094,"body_markdown":"Here are the answers for you questions:\r\n\r\n**1) Could I read somehow 01-Sep-13 as string: &quot;01-Sep-13&quot;;**\r\n\r\nYes you can. You need to set the Cell type to String before reading it. Something like this:\r\n\r\n    .\r\n    .\r\n    .\r\n    int fcell = row.getFirstCellNum();// first cell number of excel\r\n    int lcell = row.getLastCellNum(); //last cell number of excel\r\n    while (rows.hasNext()) {\r\n    row = (XSSFRow) rows.next();//increment the row iterator\r\n    for (int i = fcell; i &lt; lcell; i++) {\r\n        row.getCell(i).setCellType(org.apache.poi.ss.usermodel.Cell.CELL_TYPE_STRING);\r\n    \t.\r\n    \t.\r\n    \t..//processing\r\n    \t.\r\n    \t.\r\n        }\r\n    }\r\n\r\n**2.)Could I convert Date value to string in case I have different date patterns (ddMMyyyy) and (dd-MMM-yy);**\r\n\r\nSince the first answer is already giving you the String value.\r\nStill to convert a String value to date you can use SimpleDateFormat as @rgettman and @Keerthi suggested\r\n\r\nHope this will help...:)","title":"Get String value, when I read from excel with Date type (apache poi)","body":"<p>Here are the answers for you questions:</p>\n\n<p><strong>1) Could I read somehow 01-Sep-13 as string: \"01-Sep-13\";</strong></p>\n\n<p>Yes you can. You need to set the Cell type to String before reading it. Something like this:</p>\n\n<pre><code>.\n.\n.\nint fcell = row.getFirstCellNum();// first cell number of excel\nint lcell = row.getLastCellNum(); //last cell number of excel\nwhile (rows.hasNext()) {\nrow = (XSSFRow) rows.next();//increment the row iterator\nfor (int i = fcell; i &lt; lcell; i++) {\n    row.getCell(i).setCellType(org.apache.poi.ss.usermodel.Cell.CELL_TYPE_STRING);\n    .\n    .\n    ..//processing\n    .\n    .\n    }\n}\n</code></pre>\n\n<p><strong>2.)Could I convert Date value to string in case I have different date patterns (ddMMyyyy) and (dd-MMM-yy);</strong></p>\n\n<p>Since the first answer is already giving you the String value.\nStill to convert a String value to date you can use SimpleDateFormat as @rgettman and @Keerthi suggested</p>\n\n<p>Hope this will help...:)</p>\n"},{"tags":[],"owner":{"account_id":4831498,"reputation":1,"user_id":3899592,"display_name":"Aki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406900347,"creation_date":1406899840,"answer_id":25081396,"question_id":19525094,"body_markdown":"    DateFormat df = new SimpleDateFormat(&quot;yyyy/MM/dd&quot;);\r\n    java.util.Date d =  row1.getCell(i).getDateCellValue();\r\n    String buy_date = df.format(d);\r\n    System.out.println(&quot;date is :- &quot;+ buy_date);\r\n\r\noutput will be \r\n\r\n    date is :- 2014/08/01\r\n\r\nNow it will give date in `String` format which you can store in your database.\r\n\r\n","title":"Get String value, when I read from excel with Date type (apache poi)","body":"<pre><code>DateFormat df = new SimpleDateFormat(\"yyyy/MM/dd\");\njava.util.Date d =  row1.getCell(i).getDateCellValue();\nString buy_date = df.format(d);\nSystem.out.println(\"date is :- \"+ buy_date);\n</code></pre>\n\n<p>output will be </p>\n\n<pre><code>date is :- 2014/08/01\n</code></pre>\n\n<p>Now it will give date in <code>String</code> format which you can store in your database.</p>\n"},{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406982717,"creation_date":1406982717,"answer_id":25095073,"question_id":19525094,"body_markdown":"Apache POI has the functionality to do this for you, you just need to call it! The class you need to use is [DataFormatter](http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html). You pass this a cell, and it does its best to return you a string containing what Excel would show you for that cell. If you pass it a string cell, you&#39;ll get the string back. If you pass it a numeric cell with formatting rules applied, it will format the number based on them and give you the string back. If you pass it a &quot;date&quot; cell (numeric cell with date formatting rules), it&#39;ll format it as a date and give you the string back\r\n\r\nYou can see it in action with this round-trip bit of code:\r\n\r\n     DataFormat df = workBook.createDataFormat();\r\n     CellStyle dateStyle = wb.createCellStye();\r\n     setDataFormat.setDataFormat(df.getFormat(&quot;dd-mmm-yy&quot;));\r\n\r\n     Cell cell = row.createCell(0);\r\n     cell.setCellStyle(dateStyle);\r\n\r\n     // Set it to be a date\r\n     Calendar c = Calendar.getInstance();\r\n     c.set(2013,9-1,1); // Don&#39;t forget months are 0 based on Calendar\r\n     cell.setCellValue( c.getTime() );\r\n\r\n     // Get it formatted as a string\r\n     DataFormatter formatter = new DataFormatter();\r\n     String cellAsStr = formatter.formatCellValue(cell);\r\n\r\n     // cellAsStr will now be &quot;01-Sep-13&quot;\r\n     // based on the format rules applied to the cell","title":"Get String value, when I read from excel with Date type (apache poi)","body":"<p>Apache POI has the functionality to do this for you, you just need to call it! The class you need to use is <a href=\"http://poi.apache.org/apidocs/org/apache/poi/ss/usermodel/DataFormatter.html\" rel=\"nofollow\">DataFormatter</a>. You pass this a cell, and it does its best to return you a string containing what Excel would show you for that cell. If you pass it a string cell, you'll get the string back. If you pass it a numeric cell with formatting rules applied, it will format the number based on them and give you the string back. If you pass it a \"date\" cell (numeric cell with date formatting rules), it'll format it as a date and give you the string back</p>\n\n<p>You can see it in action with this round-trip bit of code:</p>\n\n<pre><code> DataFormat df = workBook.createDataFormat();\n CellStyle dateStyle = wb.createCellStye();\n setDataFormat.setDataFormat(df.getFormat(\"dd-mmm-yy\"));\n\n Cell cell = row.createCell(0);\n cell.setCellStyle(dateStyle);\n\n // Set it to be a date\n Calendar c = Calendar.getInstance();\n c.set(2013,9-1,1); // Don't forget months are 0 based on Calendar\n cell.setCellValue( c.getTime() );\n\n // Get it formatted as a string\n DataFormatter formatter = new DataFormatter();\n String cellAsStr = formatter.formatCellValue(cell);\n\n // cellAsStr will now be \"01-Sep-13\"\n // based on the format rules applied to the cell\n</code></pre>\n"},{"tags":[],"owner":{"account_id":462734,"reputation":31,"user_id":865209,"display_name":"jayeshecs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427705399,"creation_date":1427705399,"answer_id":29341914,"question_id":19525094,"body_markdown":"***My goal is**: Read all cells in the rows as String values. But as I see, I can&#39;t read 01-Sep-13 as string, it only represents like Date type () with cell.getDateCellValue();*\r\n\r\nYou can use XSSFExcelExtractor or ExcelExtractor to get correctly formatted cell value.\r\n\r\nNote: - \r\n1) XSSFExcelExtractor is for XLSX file\r\n2) ExcelExtractor is for XLS file\r\n\r\n","title":"Get String value, when I read from excel with Date type (apache poi)","body":"<p><strong><em>My goal is</strong>: Read all cells in the rows as String values. But as I see, I can't read 01-Sep-13 as string, it only represents like Date type () with cell.getDateCellValue();</em></p>\n\n<p>You can use XSSFExcelExtractor or ExcelExtractor to get correctly formatted cell value.</p>\n\n<p>Note: - \n1) XSSFExcelExtractor is for XLSX file\n2) ExcelExtractor is for XLS file</p>\n"},{"tags":[],"owner":{"account_id":6590994,"reputation":1,"user_id":5092156,"display_name":"Udaya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436330377,"creation_date":1436330377,"answer_id":31283644,"question_id":19525094,"body_markdown":"It  is so easy to read string values in excel sheet using java. this is the my way..\r\n\r\n    Workbook wb=Workbook.getWorkbook(file);\r\n            Sheet s= wb.getSheet(1);\r\n            int row=s.getRows();\r\n            int col=s.getColumns();\r\n            for(int i=1;i&lt;row;i++){\r\n                for(int j=0;j&lt;col;j++){\r\n                    Cell c=s.getCell(j,i);\r\n                    String MyString=c.getContents().toString();\r\n                    System.out.println(MyString);\r\n                   }\r\n              }","title":"Get String value, when I read from excel with Date type (apache poi)","body":"<p>It  is so easy to read string values in excel sheet using java. this is the my way..</p>\n\n<pre><code>Workbook wb=Workbook.getWorkbook(file);\n        Sheet s= wb.getSheet(1);\n        int row=s.getRows();\n        int col=s.getColumns();\n        for(int i=1;i&lt;row;i++){\n            for(int j=0;j&lt;col;j++){\n                Cell c=s.getCell(j,i);\n                String MyString=c.getContents().toString();\n                System.out.println(MyString);\n               }\n          }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6868120,"reputation":79,"user_id":5279698,"display_name":"Hemus7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659388958,"creation_date":1659388958,"answer_id":73199763,"question_id":19525094,"body_markdown":"This reference gives the best detailed solution for this as per the second option provided by rgettman\r\n\r\nCode snippet copied as below, hope it helps \r\nRef: https://www.baeldung.com/java-apache-poi-cell-string-value\r\n\r\n    Cell cell = // a numeric cell with value of 1.234 and format rule &quot;0.00&quot;\r\n\r\n    DataFormatter formatter = new DataFormatter();\r\n    String strValue = formatter.formatCellValue(cell);\r\n\r\n","title":"Get String value, when I read from excel with Date type (apache poi)","body":"<p>This reference gives the best detailed solution for this as per the second option provided by rgettman</p>\n<p>Code snippet copied as below, hope it helps\nRef: <a href=\"https://www.baeldung.com/java-apache-poi-cell-string-value\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-apache-poi-cell-string-value</a></p>\n<pre><code>Cell cell = // a numeric cell with value of 1.234 and format rule &quot;0.00&quot;\n\nDataFormatter formatter = new DataFormatter();\nString strValue = formatter.formatCellValue(cell);\n</code></pre>\n"}],"owner":{"account_id":3373217,"reputation":487,"user_id":2831975,"accept_rate":80,"display_name":"Sergii Lisnychyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49440,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":19525204,"answer_count":8,"score":10,"last_activity_date":1659388958,"creation_date":1382464803,"question_id":19525094,"body_markdown":"I have an **xlsx file** that I am reading with - **Apache POI Library.**\r\n\r\nFor example, \r\nIn some row, I have such cells values:\r\n\r\n**01-Sep-13        | 15136.00| Matt|......**\r\n----\r\n---\r\n**My goal is:**\r\nRead all cells in the rows as String values.\r\nBut as I see, I can&#39;t read **01-Sep-13** as string,\r\n it only represents like Date type () with cell.getDateCellValue();\r\n\r\n---\r\n\r\n1) Could I read somehow 01-Sep-13 as string: &quot;01-Sep-13&quot;;\r\n2) Could I convert Date value to string in case I have **different date patterns** (ddMMyyyy) and (dd-MMM-yy);\r\n\r\nCode:\r\n\r\nWhen I iterate over rows and cells, Apache POI analyzes each cell type: \r\n\r\n    String normalizeCellType(Cell cell) {\r\n \r\n        switch (cell.getCellType()) {\r\n            case Cell.CELL_TYPE_STRING:\r\n               return cell.getRichStringCellValue().getString());            \r\n            case Cell.CELL_TYPE_NUMERIC:\r\n                if (DateUtil.isCellDateFormatted(cell)) {\r\n\r\n                    Date date = cell.getDateCellValue(); ????????????\r\n                    System.out.println(date);\r\n                 \r\n                } else {\r\n \r\n                    ....\r\n                }\r\n                break;\r\n            case Cell.CELL_TYPE_BOOLEAN:\r\n               return ....\r\n            case Cell.CELL_TYPE_FORMULA:\r\n               return ....\r\n            default:\r\n                System.out.println();\r\n        }\r\n    }\r\n","title":"Get String value, when I read from excel with Date type (apache poi)","body":"<p>I have an <strong>xlsx file</strong> that I am reading with - <strong>Apache POI Library.</strong></p>\n\n<p>For example, \nIn some row, I have such cells values:</p>\n\n<h2><strong>01-Sep-13        | 15136.00| Matt|......</strong></h2>\n\n<hr>\n\n<p><strong>My goal is:</strong>\nRead all cells in the rows as String values.\nBut as I see, I can't read <strong>01-Sep-13</strong> as string,\n it only represents like Date type () with cell.getDateCellValue();</p>\n\n<hr>\n\n<p>1) Could I read somehow 01-Sep-13 as string: \"01-Sep-13\";\n2) Could I convert Date value to string in case I have <strong>different date patterns</strong> (ddMMyyyy) and (dd-MMM-yy);</p>\n\n<p>Code:</p>\n\n<p>When I iterate over rows and cells, Apache POI analyzes each cell type: </p>\n\n<pre><code>String normalizeCellType(Cell cell) {\n\n    switch (cell.getCellType()) {\n        case Cell.CELL_TYPE_STRING:\n           return cell.getRichStringCellValue().getString());            \n        case Cell.CELL_TYPE_NUMERIC:\n            if (DateUtil.isCellDateFormatted(cell)) {\n\n                Date date = cell.getDateCellValue(); ????????????\n                System.out.println(date);\n\n            } else {\n\n                ....\n            }\n            break;\n        case Cell.CELL_TYPE_BOOLEAN:\n           return ....\n        case Cell.CELL_TYPE_FORMULA:\n           return ....\n        default:\n            System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1659389239,"post_id":73199761,"comment_id":129278816,"body_markdown":"You&#39;re probably triggering an `ACTION_MOVE` that&#39;s cancelling it. On the emulator, it&#39;s relatively easy to keep the mouse pointer still on a single point, but on a physical device, your finger is actually covering several points, and even if you don&#39;t move it sideways at all, simply rocking it a bit is enough to trigger an `ACTION_MOVE`. You can put a log print in `onTouch()` to verify. In any case, you&#39;ll probably want to implement some sort of touch slop handling there.","body":"You&#39;re probably triggering an <code>ACTION_MOVE</code> that&#39;s cancelling it. On the emulator, it&#39;s relatively easy to keep the mouse pointer still on a single point, but on a physical device, your finger is actually covering several points, and even if you don&#39;t move it sideways at all, simply rocking it a bit is enough to trigger an <code>ACTION_MOVE</code>. You can put a log print in <code>onTouch()</code> to verify. In any case, you&#39;ll probably want to implement some sort of touch slop handling there."},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":1,"creation_date":1659391411,"post_id":73199761,"comment_id":129279315,"body_markdown":"@MikeM. thanks for this advice! I have now just removed the second if-statement (not sure why I added it) and now it works great!","body":"@MikeM. thanks for this advice! I have now just removed the second if-statement (not sure why I added it) and now it works great!"},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1659395346,"post_id":73199761,"comment_id":129280062,"body_markdown":"Well, now I see why added it. If I remove the second if-statement, the dialog appears if I hold down the button but it also appears if I simply tap on that button.","body":"Well, now I see why added it. If I remove the second if-statement, the dialog appears if I hold down the button but it also appears if I simply tap on that button."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1659396747,"post_id":73199761,"comment_id":129280289,"body_markdown":"You removed it completely? I don&#39;t think you don&#39;t want to do that. If you just remove the `(motionEvent.getAction() == MotionEvent.ACTION_MOVE)`, it&#39;ll still cancel on `ACTION_UP` if it happens before the delay expires, which I think is what you mean to do.","body":"You removed it completely? I don&#39;t think you don&#39;t want to do that. If you just remove the <code>(motionEvent.getAction() == MotionEvent.ACTION_MOVE)</code>, it&#39;ll still cancel on <code>ACTION_UP</code> if it happens before the delay expires, which I think is what you mean to do."},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1659442121,"post_id":73199761,"comment_id":129291190,"body_markdown":"@MikeM. Yes! Now it works exactly the way I wanted it. Thank you for your help!","body":"@MikeM. Yes! Now it works exactly the way I wanted it. Thank you for your help!"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1659450728,"post_id":73199761,"comment_id":129294811,"body_markdown":"No problem! Sorry if that comment was confusing. I just realized I messed up editing it, and it&#39;s a bit jumbled. Anyhoo, yeah, _that&#39;s_ what I thought you meant you were removing, just the `ACTION_MOVE` check. Do note, that will allow the user to move their finger while pressing, but that might be OK for your design. If you do eventually want to handle the `ACTION_MOVE` check  to cancel it, just like a native long-click would   [this dev page](https://developer.android.com/training/gestures/viewgroup#intercept) has an example of how to account for touch slop. Just FYI. Cheers!","body":"No problem! Sorry if that comment was confusing. I just realized I messed up editing it, and it&#39;s a bit jumbled. Anyhoo, yeah, <i>that&#39;s</i> what I thought you meant you were removing, just the <code>ACTION_MOVE</code> check. Do note, that will allow the user to move their finger while pressing, but that might be OK for your design. If you do eventually want to handle the <code>ACTION_MOVE</code> check  to cancel it, just like a native long-click would   <a href=\"https://developer.android.com/training/gestures/viewgroup#intercept\" rel=\"nofollow noreferrer\">this dev page</a> has an example of how to account for touch slop. Just FYI. Cheers!"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1659451987,"post_id":73199761,"comment_id":129295365,"body_markdown":"Hang on, that page is not what I thought; the example doesn&#39;t really demonstrate how to handle it. I&#39;ll see if I can find a better one later on, but in the meantime, you might consider if using a `GestureDetector` would work for your setup; e.g., https://stackoverflow.com/a/7921439. I&#39;m not sure what other interactions you want to handle, but `GestureDetector` does the long-click timing and touch slop calculations automatically, so it&#39;d be much easier to use, unless you need some really specialized event handling.","body":"Hang on, that page is not what I thought; the example doesn&#39;t really demonstrate how to handle it. I&#39;ll see if I can find a better one later on, but in the meantime, you might consider if using a <code>GestureDetector</code> would work for your setup; e.g., <a href=\"https://stackoverflow.com/a/7921439\">stackoverflow.com/a/7921439</a>. I&#39;m not sure what other interactions you want to handle, but <code>GestureDetector</code> does the long-click timing and touch slop calculations automatically, so it&#39;d be much easier to use, unless you need some really specialized event handling."},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":1,"creation_date":1659458228,"post_id":73199761,"comment_id":129297783,"body_markdown":"@MikeM. oh, I didn&#39;t know about `GestureDetector`. This may be a much better solution for my case.  Thanks for this info! Very useful.","body":"@MikeM. oh, I didn&#39;t know about <code>GestureDetector</code>. This may be a much better solution for my case.  Thanks for this info! Very useful."}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659388941,"creation_date":1659388941,"question_id":73199761,"body_markdown":"I want to open a dialog whenever a button is getting held down. \r\n\r\nThis is what I have tried:\r\n\r\n```java\r\n// An alter box for a long pressed action\r\nfinal Handler handler = new Handler();\r\nRunnable mLongPressed = () -&gt; {\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\r\n    builder.setTitle(&quot;Message&quot;);\r\n    builder.setMessage(text);\r\n    builder.show();\r\n};\r\nbtn.setOnTouchListener(new OnSwipeTouchListener(getContext()) {\r\n    // Holding a button to show up a message\r\n    @Override\r\n    public boolean onTouch(View view, MotionEvent motionEvent) {\r\n        if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\r\n            handler.postDelayed(mLongPressed, ViewConfiguration.getLongPressTimeout());\r\n        }\r\n        if ((motionEvent.getAction() == MotionEvent.ACTION_MOVE) || (motionEvent.getAction() == MotionEvent.ACTION_UP)) {\r\n            handler.removeCallbacks(mLongPressed);\r\n        }\r\n        return super.onTouch(view, motionEvent);\r\n    }\r\n```\r\n\r\nThis works fine on my emulator, but not on my actual phone device. Why?","title":"Holding a button down to show a dialog works on emulator but not on my phone device","body":"<p>I want to open a dialog whenever a button is getting held down.</p>\n<p>This is what I have tried:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// An alter box for a long pressed action\nfinal Handler handler = new Handler();\nRunnable mLongPressed = () -&gt; {\n    AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\n    builder.setTitle(&quot;Message&quot;);\n    builder.setMessage(text);\n    builder.show();\n};\nbtn.setOnTouchListener(new OnSwipeTouchListener(getContext()) {\n    // Holding a button to show up a message\n    @Override\n    public boolean onTouch(View view, MotionEvent motionEvent) {\n        if (motionEvent.getAction() == MotionEvent.ACTION_DOWN) {\n            handler.postDelayed(mLongPressed, ViewConfiguration.getLongPressTimeout());\n        }\n        if ((motionEvent.getAction() == MotionEvent.ACTION_MOVE) || (motionEvent.getAction() == MotionEvent.ACTION_UP)) {\n            handler.removeCallbacks(mLongPressed);\n        }\n        return super.onTouch(view, motionEvent);\n    }\n</code></pre>\n<p>This works fine on my emulator, but not on my actual phone device. Why?</p>\n"},{"tags":["java","executable-jar","mirth"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1658711838,"post_id":73103173,"comment_id":129111385,"body_markdown":"Please post the complete error message. Also, how are you trying to run it? Command line?","body":"Please post the complete error message. Also, how are you trying to run it? Command line?"},{"owner":{"account_id":22127681,"reputation":9,"user_id":16379742,"display_name":"user16379742"},"score":0,"creation_date":1658714646,"post_id":73103173,"comment_id":129111803,"body_markdown":"@HovercraftFullOfEels I have posted the error logs. I am uploading the executable jar file in Mirth customs-lib folder and using below command in Script tab inside Mirth to run it \n    \nvar obj = new Packages.packagename.classname.method_name;","body":"@HovercraftFullOfEels I have posted the error logs. I am uploading the executable jar file in Mirth customs-lib folder and using below command in Script tab inside Mirth to run it       var obj = new Packages.packagename.classname.method_name;"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1658715586,"post_id":73103173,"comment_id":129111932,"body_markdown":"It looks like you&#39;re trying to get a file using an absolute path, but I have to wonder if that file is in fact a resource of the jar file, and so not a file and if so, then must be obtained as a resource.","body":"It looks like you&#39;re trying to get a file using an absolute path, but I have to wonder if that file is in fact a resource of the jar file, and so not a file and if so, then must be obtained as a resource."},{"owner":{"account_id":9413537,"reputation":1699,"user_id":10519543,"display_name":"agermano"},"score":0,"creation_date":1658946523,"post_id":73103173,"comment_id":129181143,"body_markdown":"I&#39;m pretty sure you are not giving enough information. What is a `com.alpha.Smb`? It seems you are trying to call a `fileTransfer` method on an instance of that class, and the method does not exist.","body":"I&#39;m pretty sure you are not giving enough information. What is a <code>com.alpha.Smb</code>? It seems you are trying to call a <code>fileTransfer</code> method on an instance of that class, and the method does not exist."}],"answers":[{"tags":[],"owner":{"account_id":8093285,"reputation":169,"user_id":6098574,"display_name":"franklwambo19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659388852,"creation_date":1659388852,"answer_id":73199747,"question_id":73103173,"body_markdown":"Seems the file bearing the fileTransfer function is not coming in with the JAR file or is wrongly referenced in the second/intelliJ compilation. Try using relative references to class paths in the Java code you are compiling. Otherwise try granting full control on the custom-lib folder to the user running the Mirth connect service. ","title":"Cannot find method of executable jar when trying to call in Mirth Connect","body":"<p>Seems the file bearing the fileTransfer function is not coming in with the JAR file or is wrongly referenced in the second/intelliJ compilation. Try using relative references to class paths in the Java code you are compiling. Otherwise try granting full control on the custom-lib folder to the user running the Mirth connect service.</p>\n"}],"owner":{"account_id":22127681,"reputation":9,"user_id":16379742,"display_name":"user16379742"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":437,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659388852,"creation_date":1658711409,"question_id":73103173,"body_markdown":"I am using Mirth connect 3.12 and I am uploading my executable jar in customs-lib folder and restarting the Mirth. When I upload jar files with no dependencies and plugin with simple Print functionality I am able to call the method present in the jar file inside the Mirth Connect and operate via following commands:\r\n \r\n var obj = new Packages.packagename.classname.method_name;\r\n\r\n logger.info(res);\r\n\r\n***But when I use an executable jar file with plugins which is compiled in IntelliJ and upload that jar file in Mirth and run the following command in Mirth Script\r\nvar obj = new Packages.packagename.classname.method_name;***\r\n\r\nI get the following message\r\n\r\n[2022-07-22 03:26:15,176]  ERROR  (com.mirth.connect.server.util.javascript.JavaScriptUtil:522): Error executing Preprocessor script from channel: 15388747-57e4-46f7-bb0e-7da2d2c0ccbd\r\n\r\ncom.mirth.connect.server.MirthJavascriptTransformerException: SOURCE CODE:\r\n\r\n              207: logger.info(&#39;Ended this -&#39; + myCRC);208: 209: try{\r\n\r\n              210: 211: /*212: var xyz = new java.io.File(&#39;\\\\\\\\WVMQTMCEDIAP01&#39;).getAbsolutePath();213: logger.info(&#39;Started -&#39;+xyz);214: if(new java.io.File(xyz).exists()){215:\r\n\r\n              logger.info(&#39;I am xyz available&#39;);216: }LINE NUMBER:\r\n\r\n              212DETAILS:\r\n\r\n              TypeError: Cannot find function fileTransfer in object com.alpha.Smb@797b980d.\r\n\r\n              at 15388747-57e4-46f7-bb0e-7da2d2c0ccbd_Preprocessor:212 (doScript)\r\n\r\n              at 15388747-57e4-46f7-bb0e-7da2d2c0ccbd_Preprocessor:310\r\n\r\n              at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:547)\r\n\r\n              at com.mirth.connect.server.util.javascript.JavaScriptUtil.executePreprocessorScripts(JavaScriptUtil.java:216)\r\n\r\n              at com.mirth.connect.server.transformers.JavaScriptPreprocessor$JavaScriptPreProcessorTask.doCall(JavaScriptPreprocessor.java:103)\r\n\r\n              at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:113)\r\n\r\n              at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\r\n              at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\r\n              at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\r\n              at java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n\r\n","title":"Cannot find method of executable jar when trying to call in Mirth Connect","body":"<p>I am using Mirth connect 3.12 and I am uploading my executable jar in customs-lib folder and restarting the Mirth. When I upload jar files with no dependencies and plugin with simple Print functionality I am able to call the method present in the jar file inside the Mirth Connect and operate via following commands:</p>\n<p>var obj = new Packages.packagename.classname.method_name;</p>\n<p>logger.info(res);</p>\n<p><em><strong>But when I use an executable jar file with plugins which is compiled in IntelliJ and upload that jar file in Mirth and run the following command in Mirth Script\nvar obj = new Packages.packagename.classname.method_name;</strong></em></p>\n<p>I get the following message</p>\n<p>[2022-07-22 03:26:15,176]  ERROR  (com.mirth.connect.server.util.javascript.JavaScriptUtil:522): Error executing Preprocessor script from channel: 15388747-57e4-46f7-bb0e-7da2d2c0ccbd</p>\n<p>com.mirth.connect.server.MirthJavascriptTransformerException: SOURCE CODE:</p>\n<pre><code>          207: logger.info('Ended this -' + myCRC);208: 209: try{\n\n          210: 211: /*212: var xyz = new java.io.File('\\\\\\\\WVMQTMCEDIAP01').getAbsolutePath();213: logger.info('Started -'+xyz);214: if(new java.io.File(xyz).exists()){215:\n\n          logger.info('I am xyz available');216: }LINE NUMBER:\n\n          212DETAILS:\n\n          TypeError: Cannot find function fileTransfer in object com.alpha.Smb@797b980d.\n\n          at 15388747-57e4-46f7-bb0e-7da2d2c0ccbd_Preprocessor:212 (doScript)\n\n          at 15388747-57e4-46f7-bb0e-7da2d2c0ccbd_Preprocessor:310\n\n          at com.mirth.connect.server.util.javascript.JavaScriptUtil.executeScript(JavaScriptUtil.java:547)\n\n          at com.mirth.connect.server.util.javascript.JavaScriptUtil.executePreprocessorScripts(JavaScriptUtil.java:216)\n\n          at com.mirth.connect.server.transformers.JavaScriptPreprocessor$JavaScriptPreProcessorTask.doCall(JavaScriptPreprocessor.java:103)\n\n          at com.mirth.connect.server.util.javascript.JavaScriptTask.call(JavaScriptTask.java:113)\n\n          at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\n          at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n\n          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\n          at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22394573,"reputation":140,"user_id":16606026,"display_name":"user16606026"},"score":0,"creation_date":1659088042,"post_id":73164724,"comment_id":129217265,"body_markdown":"ok, what&#39;s the problem?","body":"ok, what&#39;s the problem?"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1659088084,"post_id":73164724,"comment_id":129217281,"body_markdown":"You never reset your `count` variable inside the loop when you are done with a character, so it just keeps adding up.","body":"You never reset your <code>count</code> variable inside the loop when you are done with a character, so it just keeps adding up."},{"owner":{"account_id":5173031,"reputation":548,"user_id":4141002,"accept_rate":90,"display_name":"PoisonedYouth"},"score":0,"creation_date":1659243642,"post_id":73164724,"comment_id":129245810,"body_markdown":"Please add a more clear description what you want to achieve, what you have already done and what is the exact problem","body":"Please add a more clear description what you want to achieve, what you have already done and what is the exact problem"}],"answers":[{"tags":[],"owner":{"account_id":22394573,"reputation":140,"user_id":16606026,"display_name":"user16606026"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659088139,"creation_date":1659088139,"answer_id":73164760,"question_id":73164724,"body_markdown":"```Java\r\npublic static void main(String args[]) {\r\nString str=&quot;Reshma Raghunath Bangar&quot;;\r\n\r\nfor(int i=0;i&lt;str.length();i++) {\r\n    int count=0; // move count to here so it counts from zero every iteration of outer loop\r\n    for(int j=i;j&lt;str.length();j++) {\r\n        if(str.charAt(i)==str.charAt(j)) {\r\n            count++;    \r\n        }\r\n    }\r\n    System.out.println(&quot;Total number of count of occurance of &quot;+str.charAt(i)+&quot; is &quot;+count);\r\n}\r\n```","title":"I want to find Java program to count the occurrence of each character in a string without using Hashmap or array concept","body":"<pre><code>public static void main(String args[]) {\nString str=&quot;Reshma Raghunath Bangar&quot;;\n\nfor(int i=0;i&lt;str.length();i++) {\n    int count=0; // move count to here so it counts from zero every iteration of outer loop\n    for(int j=i;j&lt;str.length();j++) {\n        if(str.charAt(i)==str.charAt(j)) {\n            count++;    \n        }\n    }\n    System.out.println(&quot;Total number of count of occurance of &quot;+str.charAt(i)+&quot; is &quot;+count);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11931291,"reputation":1,"user_id":8731099,"display_name":"Madushan Thilakarathna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659388818,"creation_date":1659093701,"answer_id":73165918,"question_id":73164724,"body_markdown":"     public class App {\r\n    \r\n        public static void main(String args[]) {\r\n            String str=&quot; Reshma Raghunath Bangar&quot;;\r\n            String completed = &quot;&quot;;\r\n            for(int i=0;i&lt;str.length();i++) {\r\n                int count=0; \r\n                for(int j=i; j&lt;str.length();j++) {\r\n                    if(str.charAt(i)==str.charAt(j)) {\r\n                        count++;   \r\n                    }\r\n                }\r\n                String s = String.valueOf(str.charAt(i));\r\n                if(!completed.contains(s)){\r\n                    completed=completed+str.charAt(i);\r\n                    System.out.println(&quot;Total number of count of occurance of &quot;+str.charAt(i)+&quot; is &quot;+count);\r\n                }         \r\n            }\r\n        }\r\n    }","title":"I want to find Java program to count the occurrence of each character in a string without using Hashmap or array concept","body":"<pre><code> public class App {\n\n    public static void main(String args[]) {\n        String str=&quot; Reshma Raghunath Bangar&quot;;\n        String completed = &quot;&quot;;\n        for(int i=0;i&lt;str.length();i++) {\n            int count=0; \n            for(int j=i; j&lt;str.length();j++) {\n                if(str.charAt(i)==str.charAt(j)) {\n                    count++;   \n                }\n            }\n            String s = String.valueOf(str.charAt(i));\n            if(!completed.contains(s)){\n                completed=completed+str.charAt(i);\n                System.out.println(&quot;Total number of count of occurance of &quot;+str.charAt(i)+&quot; is &quot;+count);\n            }         \n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25924842,"reputation":1,"user_id":19646860,"display_name":"Resh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"answer_count":2,"score":-5,"last_activity_date":1659388818,"creation_date":1659087930,"question_id":73164724,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Synxf.png\r\n\r\n```java\r\npackage com.stringprogramdemo;\r\n\r\npublic class OccuranceOfCharacterIngeneral {\r\n\r\n\tpublic static void main(String args[]) {\r\n\tString str=&quot;Reshma Raghunath Bangar&quot;;\r\n\tint count=0;\r\n\t\r\n\tfor(int i=0;i&lt;str.length();i++) {\r\n\t\r\n\t\tfor(int j=i;j&lt;str.length();j++) {\r\n\t\t\tif(str.charAt(i)==str.charAt(j)) {\r\n\t\t\tcount++;\t\r\n\t\t\t}else {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t//System.out.println(&quot;Total number of count of occurance of &quot;+str.charAt(i)+&quot; is &quot;+count);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Total number of count of occurance of &quot;+str.charAt(i)+&quot; is &quot;+count);\r\n\t}\r\n\t\r\n}\r\n}\r\n```\r\n\r\nOutput:\r\n```none\r\nTotal number of count of occurance of R is 2\r\nTotal number of count of occurance of e is 3\r\nTotal number of count of occurance of s is 4\r\nTotal number of count of occurance of h is 7\r\nTotal number of count of occurance of m is 8\r\nTotal number of count of occurance of a is 13\r\nTotal number of count of occurance of   is 15\r\nTotal number of count of occurance of R is 16\r\nTotal number of count of occurance of a is 20\r\nTotal number of count of occurance of g is 22\r\nTotal number of count of occurance of h is 24\r\nTotal number of count of occurance of u is 25\r\nTotal number of count of occurance of n is 27\r\nTotal number of count of occurance of a is 30\r\nTotal number of count of occurance of t is 31\r\nTotal number of count of occurance of h is 32\r\nTotal number of count of occurance of   is 33\r\nTotal number of count of occurance of B is 34\r\nTotal number of count of occurance of a is 36\r\nTotal number of count of occurance of n is 37\r\nTotal number of count of occurance of g is 38\r\nTotal number of count of occurance of a is 39\r\nTotal number of count of occurance of r is 40\r\n```","title":"I want to find Java program to count the occurrence of each character in a string without using Hashmap or array concept","body":"<p><a href=\"https://i.stack.imgur.com/Synxf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stringprogramdemo;\n\npublic class OccuranceOfCharacterIngeneral {\n\n    public static void main(String args[]) {\n    String str=&quot;Reshma Raghunath Bangar&quot;;\n    int count=0;\n    \n    for(int i=0;i&lt;str.length();i++) {\n    \n        for(int j=i;j&lt;str.length();j++) {\n            if(str.charAt(i)==str.charAt(j)) {\n            count++;    \n            }else {\n                \n            }\n            //System.out.println(&quot;Total number of count of occurance of &quot;+str.charAt(i)+&quot; is &quot;+count);\n        }\n        System.out.println(&quot;Total number of count of occurance of &quot;+str.charAt(i)+&quot; is &quot;+count);\n    }\n    \n}\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Total number of count of occurance of R is 2\nTotal number of count of occurance of e is 3\nTotal number of count of occurance of s is 4\nTotal number of count of occurance of h is 7\nTotal number of count of occurance of m is 8\nTotal number of count of occurance of a is 13\nTotal number of count of occurance of   is 15\nTotal number of count of occurance of R is 16\nTotal number of count of occurance of a is 20\nTotal number of count of occurance of g is 22\nTotal number of count of occurance of h is 24\nTotal number of count of occurance of u is 25\nTotal number of count of occurance of n is 27\nTotal number of count of occurance of a is 30\nTotal number of count of occurance of t is 31\nTotal number of count of occurance of h is 32\nTotal number of count of occurance of   is 33\nTotal number of count of occurance of B is 34\nTotal number of count of occurance of a is 36\nTotal number of count of occurance of n is 37\nTotal number of count of occurance of g is 38\nTotal number of count of occurance of a is 39\nTotal number of count of occurance of r is 40\n</code></pre>\n"},{"tags":["java","android","wear-os","android-wear-2.0","android-wear-3.0"],"comments":[{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":1,"creation_date":1658429694,"post_id":73054453,"comment_id":129055811,"body_markdown":"You&#39;ve linked to this question.","body":"You&#39;ve linked to this question."}],"answers":[{"tags":[],"owner":{"account_id":16944801,"reputation":66,"user_id":12255773,"display_name":"Denis Prilutsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659388714,"creation_date":1659388714,"answer_id":73199725,"question_id":73054453,"body_markdown":"You can try &quot;Lock task mode&quot; described [here][1]. I don&#39;t know if this solution meets your requirements, but for my application it was enough to change the AndroidManifest.xml. For your activity, add the line android:lockTaskMode with the value &quot;always&quot;.\r\nFor example:\r\n\r\n\r\n```\r\n...\r\n     &lt;activity\r\n        android:name=&quot;.MainActivity&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:lockTaskMode=&quot;always&quot;\r\n        android:configChanges=&quot;orientation|keyboardHidden&quot;\r\n        android:theme=&quot;@style/YourTheme&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n...\r\n```\r\n\r\nAdd your style based on the existing one. Here is my added style file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;resources&gt;\r\n    &lt;style name=&quot;YourTheme&quot; parent=&quot;@style/Theme.AppCompat&quot;&gt;\r\n        &lt;item name=&quot;android:windowSwipeToDismiss&quot;&gt;false&lt;/item&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nYou can also provide an exit from your application by intercepting button presses on the device body, or by adding a button on the user interface.\r\n\r\n  [1]: https://developer.android.com/work/dpc/dedicated-devices/lock-task-mode","title":"WearOS 3 Hide swipe top guesture, for Quick Settings Panel and use Navigation Drawer","body":"<p>You can try &quot;Lock task mode&quot; described <a href=\"https://developer.android.com/work/dpc/dedicated-devices/lock-task-mode\" rel=\"nofollow noreferrer\">here</a>. I don't know if this solution meets your requirements, but for my application it was enough to change the AndroidManifest.xml. For your activity, add the line android:lockTaskMode with the value &quot;always&quot;.\nFor example:</p>\n<pre><code>...\n     &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;\n        android:lockTaskMode=&quot;always&quot;\n        android:configChanges=&quot;orientation|keyboardHidden&quot;\n        android:theme=&quot;@style/YourTheme&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n...\n</code></pre>\n<p>Add your style based on the existing one. Here is my added style file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;style name=&quot;YourTheme&quot; parent=&quot;@style/Theme.AppCompat&quot;&gt;\n        &lt;item name=&quot;android:windowSwipeToDismiss&quot;&gt;false&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>You can also provide an exit from your application by intercepting button presses on the device body, or by adding a button on the user interface.</p>\n"}],"owner":{"account_id":7560403,"reputation":107,"user_id":5738227,"display_name":"Red Coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73199725,"answer_count":1,"score":1,"last_activity_date":1659388714,"creation_date":1658331343,"question_id":73054453,"body_markdown":"I find out about this problem for my users with the new Wear OS 3.\r\nI am trying to forbid to OS from detecting the Top swipe gesture for showing the **&quot;*System Quick settings panel*&quot;**. \r\nUntil now in Wear OS 2- devices, it&#39;s not allowed to open this system shortcut settings Panel into a custom app.\r\n\r\n**&quot;*System Quick settings panel*&quot;**:\r\n\r\n[![System Quick settings][1]][1]\r\n\r\nI currently detect swipe from the top gesture (via NavigationDrawer) and show the &#39;logging out&#39; fragment.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n     private void initNavigationDrawer() {\r\n        List&lt;NavigationItem&gt; navigationItems = new ArrayList&lt;&gt;();\r\n        navigationItems.add(new NavigationItem(getString(R.string.logout_button), getDrawable(R.drawable.ic_bsh_play_icon)));\r\n        binding.navigationDrawer.setAdapter(new NavigationAdapter(navigationItems));\r\n        binding.navigationDrawer.getController().peekDrawer();\r\n        binding.navigationDrawer.addOnItemSelectedListener(pos -&gt; {\r\n            if (navigationItems.get(pos).getItemTitle().equals(getString(R.string.logout_button))) {\r\n                mainViewModel.logout();\r\n            }\r\n        });\r\n    }\r\n\r\nNavigationAdapter:\r\n\r\n    public class NavigationAdapter extends WearableNavigationDrawerView.WearableNavigationDrawerAdapter {\r\n\r\n      private final List&lt;NavigationItem&gt; items;\r\n\r\n      NavigationAdapter(List&lt;NavigationItem&gt; items) {\r\n        this.items = items;\r\n      }\r\n\r\n      @Override\r\n      public CharSequence getItemText(int pos) {\r\n        return items.get(pos).getItemTitle();\r\n      }\r\n\r\n      @Override\r\n      public Drawable getItemDrawable(int pos) {\r\n        return items.get(pos).getItemIcon();\r\n      }\r\n\r\n      @Override\r\n      public int getCount() {\r\n        return items.size();\r\n      }\r\n    }\r\n\r\n\r\nThank you in advance!!\r\n\r\nP.C I found one similar question, with some guidelines [here](https://stackoverflow.com/questions/71741160/wear-os-android-disable-or-close-quick-panel)\r\n\r\n  [1]: https://i.stack.imgur.com/lL1Eo.png\r\n  [2]: https://i.stack.imgur.com/zPly7.png","title":"WearOS 3 Hide swipe top guesture, for Quick Settings Panel and use Navigation Drawer","body":"<p>I find out about this problem for my users with the new Wear OS 3.\nI am trying to forbid to OS from detecting the Top swipe gesture for showing the <strong>&quot;<em>System Quick settings panel</em>&quot;</strong>.\nUntil now in Wear OS 2- devices, it's not allowed to open this system shortcut settings Panel into a custom app.</p>\n<p><strong>&quot;<em>System Quick settings panel</em>&quot;</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/lL1Eo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lL1Eo.png\" alt=\"System Quick settings\" /></a></p>\n<p>I currently detect swipe from the top gesture (via NavigationDrawer) and show the 'logging out' fragment.</p>\n<p><a href=\"https://i.stack.imgur.com/zPly7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zPly7.png\" alt=\"enter image description here\" /></a></p>\n<pre><code> private void initNavigationDrawer() {\n    List&lt;NavigationItem&gt; navigationItems = new ArrayList&lt;&gt;();\n    navigationItems.add(new NavigationItem(getString(R.string.logout_button), getDrawable(R.drawable.ic_bsh_play_icon)));\n    binding.navigationDrawer.setAdapter(new NavigationAdapter(navigationItems));\n    binding.navigationDrawer.getController().peekDrawer();\n    binding.navigationDrawer.addOnItemSelectedListener(pos -&gt; {\n        if (navigationItems.get(pos).getItemTitle().equals(getString(R.string.logout_button))) {\n            mainViewModel.logout();\n        }\n    });\n}\n</code></pre>\n<p>NavigationAdapter:</p>\n<pre><code>public class NavigationAdapter extends WearableNavigationDrawerView.WearableNavigationDrawerAdapter {\n\n  private final List&lt;NavigationItem&gt; items;\n\n  NavigationAdapter(List&lt;NavigationItem&gt; items) {\n    this.items = items;\n  }\n\n  @Override\n  public CharSequence getItemText(int pos) {\n    return items.get(pos).getItemTitle();\n  }\n\n  @Override\n  public Drawable getItemDrawable(int pos) {\n    return items.get(pos).getItemIcon();\n  }\n\n  @Override\n  public int getCount() {\n    return items.size();\n  }\n}\n</code></pre>\n<p>Thank you in advance!!</p>\n<p>P.C I found one similar question, with some guidelines <a href=\"https://stackoverflow.com/questions/71741160/wear-os-android-disable-or-close-quick-panel\">here</a></p>\n"},{"tags":["java","netbeans","fonts","scenebuilder"],"comments":[{"owner":{"display_name":"user13581830"},"score":1,"creation_date":1617209640,"post_id":66891857,"comment_id":118242837,"body_markdown":"so I made it work the right way. I changed the font in the SceneBuilder to &quot;SansSerif&quot; and now it displays the text as it should be displayed. But I still get one warning: Loading FXML document with JavaFX API of version 16 by JavaFX runtime of version 11.0.2","body":"so I made it work the right way. I changed the font in the SceneBuilder to &quot;SansSerif&quot; and now it displays the text as it should be displayed. But I still get one warning: Loading FXML document with JavaFX API of version 16 by JavaFX runtime of version 11.0.2"},{"owner":{"display_name":"user13581830"},"score":0,"creation_date":1617217314,"post_id":66891857,"comment_id":118246077,"body_markdown":"okay, so I also fixed it. In my FXML I put: xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; instead of xmlns=&quot;http://javafx.com/javafx/16&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;","body":"okay, so I also fixed it. In my FXML I put: xmlns=&quot;<a href=\"http://javafx.com/javafx\" rel=\"nofollow noreferrer\">javafx.com/javafx</a>&quot; xmlns:fx=&quot;<a href=\"http://javafx.com/fxml/1\" rel=\"nofollow noreferrer\">javafx.com/fxml/1</a>&quot; instead of xmlns=&quot;<a href=\"http://javafx.com/javafx/16\" rel=\"nofollow noreferrer\">javafx.com/javafx/16</a>&quot; xmlns:fx=&quot;<a href=\"http://javafx.com/fxml/1\" rel=\"nofollow noreferrer\">javafx.com/fxml/1</a>&quot;"},{"owner":{"account_id":4648202,"reputation":2180,"user_id":3765772,"accept_rate":77,"display_name":"R.J. Robinson"},"score":0,"creation_date":1651193185,"post_id":66891857,"comment_id":127311824,"body_markdown":"What was the &quot;right way&quot; -- I am running into this issue currently. \nIntel MBP - Latest ( Monterey ) - but Im using Intellij CE","body":"What was the &quot;right way&quot; -- I am running into this issue currently.  Intel MBP - Latest ( Monterey ) - but Im using Intellij CE"}],"answers":[{"tags":[],"owner":{"account_id":18175323,"reputation":96,"user_id":13224194,"display_name":"Alagrom"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1627411560,"creation_date":1627410078,"answer_id":68550011,"question_id":66891857,"body_markdown":"I also had the same issue, but in my case, the problem was with JDK 11. First, I tried to switch to JDK 8 and everything worked fine, but then I found that another version of JDK 11 (AdoptOpenJDK(HotSpot) 11) also fixes it.","title":"When running the program in netBeans the font looks extremely weird","body":"<p>I also had the same issue, but in my case, the problem was with JDK 11. First, I tried to switch to JDK 8 and everything worked fine, but then I found that another version of JDK 11 (AdoptOpenJDK(HotSpot) 11) also fixes it.</p>\n"},{"tags":[],"owner":{"account_id":22576701,"reputation":11,"user_id":16762040,"display_name":"Any 07"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630007385,"creation_date":1630007385,"answer_id":68944573,"question_id":66891857,"body_markdown":"In my case, I was using the JavaFX 11 with the JDK11 and that was giving the weird characters, so I changed it to JavaFX 16 and also started using the JDK16 and that fixed my problem! ","title":"When running the program in netBeans the font looks extremely weird","body":"<p>In my case, I was using the JavaFX 11 with the JDK11 and that was giving the weird characters, so I changed it to JavaFX 16 and also started using the JDK16 and that fixed my problem!</p>\n"},{"tags":[],"owner":{"account_id":20569951,"reputation":9,"user_id":15098505,"display_name":"ccraig17 "},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638828881,"creation_date":1630700435,"answer_id":69050200,"question_id":66891857,"body_markdown":"I have also switched my Module setting back to : 11.0.8 instead of 11.0.12 as shown below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r3pBY.png","title":"When running the program in netBeans the font looks extremely weird","body":"<p>I have also switched my Module setting back to : 11.0.8 instead of 11.0.12 as shown below:</p>\n<p><a href=\"https://i.stack.imgur.com/r3pBY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3pBY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17845134,"reputation":31,"user_id":12962148,"display_name":"Gunrs merli"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640591012,"creation_date":1640591012,"answer_id":70492836,"question_id":66891857,"body_markdown":"In my case that crap came up when I run programm on mac (on pc was all good).\r\n\r\nFor me shortest way to solve this was one record in stylesheet:\r\n\r\n    .root{\r\n    -fx-font-size: 11pt;\r\n    -fx-font-family: &quot;Arial&quot;;\r\n    }","title":"When running the program in netBeans the font looks extremely weird","body":"<p>In my case that crap came up when I run programm on mac (on pc was all good).</p>\n<p>For me shortest way to solve this was one record in stylesheet:</p>\n<pre><code>.root{\n-fx-font-size: 11pt;\n-fx-font-family: &quot;Arial&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8113050,"reputation":31,"user_id":6112461,"display_name":"Sakhawat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643841728,"creation_date":1643841728,"answer_id":70963820,"question_id":66891857,"body_markdown":"I was able to resolve the issue by adjusting the JDK version. Although I did not have JDK 8, JDK 14 worked fine and JDK 17 did not. It will work fine if you change the project structure to a more compatible JDK version with JavaFX.","title":"When running the program in netBeans the font looks extremely weird","body":"<p>I was able to resolve the issue by adjusting the JDK version. Although I did not have JDK 8, JDK 14 worked fine and JDK 17 did not. It will work fine if you change the project structure to a more compatible JDK version with JavaFX.</p>\n"},{"tags":[],"owner":{"account_id":22455957,"reputation":1,"user_id":16658638,"display_name":"ANDU SCHEUSAN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659388531,"creation_date":1659090564,"answer_id":73165278,"question_id":66891857,"body_markdown":"You can install the AdoptOpenJDK from this link https://formulae.brew.sh/cask/adoptopenjdk\r\n(**Note: you need to have Brew installed**).\r\n\r\nThen you go to the project module settings and then go to &#39;Project&#39;.\r\nThere you will see the label &#39;SDK&#39;. Click there and next select &#39;Add JDK&#39;.\r\nIt will redirect you to the JDKs and next select the &#39;AdoptOpenJDk&#39; folder.\r\n","title":"When running the program in netBeans the font looks extremely weird","body":"<p>You can install the AdoptOpenJDK from this link <a href=\"https://formulae.brew.sh/cask/adoptopenjdk\" rel=\"nofollow noreferrer\">https://formulae.brew.sh/cask/adoptopenjdk</a>\n(<strong>Note: you need to have Brew installed</strong>).</p>\n<p>Then you go to the project module settings and then go to 'Project'.\nThere you will see the label 'SDK'. Click there and next select 'Add JDK'.\nIt will redirect you to the JDKs and next select the 'AdoptOpenJDk' folder.</p>\n"}],"owner":{"display_name":"user13581830"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6058,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1659388531,"creation_date":1617208854,"question_id":66891857,"body_markdown":"I set up netBeans and a SceneBuilder on my new MacBook M1 and everything works, except of the font when running the program.\r\n\r\nIt looks like this:\r\n\r\n[![https://i.stack.imgur.com/8Yads.png][1]][1]\r\n\r\nand I have no clue why.\r\nThe Button should say: &quot;Click me&quot; and the Label: &quot;Hello&quot;.\r\n\r\nThe Error message I get is:\r\n\r\n````\r\nM&#228;rz 31, 2021 6:33:04 PM javafx.fxml.FXMLLoader$ValueElement processValue\r\nWARNING: Loading FXML document with JavaFX API of version 16 by JavaFX runtime of version 11.0.2\r\n2021-03-31 18:33:05.466 java[4349:140717] CoreText note: Client requested name &quot;.SFNS-Regular&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].\r\n2021-03-31 18:33:05.466 java[4349:140717] CoreText note: Set a breakpoint on CTFontLogSystemFontNameRequest to debug.\r\n2021-03-31 18:33:05.471 java[4349:140717] CoreText note: Client requested name &quot;.SFNS-Regular&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].\r\n2021-03-31 18:33:05.641 java[4349:140751] CoreText note: Client requested name &quot;.SFNS-Regular&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].\r\n````\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4yCJX.png","title":"When running the program in netBeans the font looks extremely weird","body":"<p>I set up netBeans and a SceneBuilder on my new MacBook M1 and everything works, except of the font when running the program.</p>\n<p>It looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/4yCJX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4yCJX.png\" alt=\"https://i.stack.imgur.com/8Yads.png\" /></a></p>\n<p>and I have no clue why.\nThe Button should say: &quot;Click me&quot; and the Label: &quot;Hello&quot;.</p>\n<p>The Error message I get is:</p>\n<pre><code>Mrz 31, 2021 6:33:04 PM javafx.fxml.FXMLLoader$ValueElement processValue\nWARNING: Loading FXML document with JavaFX API of version 16 by JavaFX runtime of version 11.0.2\n2021-03-31 18:33:05.466 java[4349:140717] CoreText note: Client requested name &quot;.SFNS-Regular&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].\n2021-03-31 18:33:05.466 java[4349:140717] CoreText note: Set a breakpoint on CTFontLogSystemFontNameRequest to debug.\n2021-03-31 18:33:05.471 java[4349:140717] CoreText note: Client requested name &quot;.SFNS-Regular&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].\n2021-03-31 18:33:05.641 java[4349:140751] CoreText note: Client requested name &quot;.SFNS-Regular&quot;, it will get Times-Roman rather than the intended font. All system UI font access should be through proper APIs such as CTFontCreateUIFontForLanguage() or +[NSFont systemFontOfSize:].\n</code></pre>\n"},{"tags":["java","css","spring","pdf","openpdf"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659409057,"post_id":73199611,"comment_id":129282128,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":6012550,"reputation":625,"user_id":4722554,"display_name":"Tawcharowsky"},"score":0,"creation_date":1670578739,"post_id":73199611,"comment_id":131911326,"body_markdown":"Have you managed to solve the issue? \nI&#39;m having the same problem. Now I&#39;m exploring the possibility of providing the OpenPDF&#39;s StyleSheet object to HTMLWorker.","body":"Have you managed to solve the issue?  I&#39;m having the same problem. Now I&#39;m exploring the possibility of providing the OpenPDF&#39;s StyleSheet object to HTMLWorker."}],"owner":{"account_id":15670448,"reputation":11,"user_id":11307136,"display_name":"Jos&#233; Cleyton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659387929,"creation_date":1659387929,"question_id":73199611,"body_markdown":"I&#39;m migrating from Itext to OpenPDF because of license. In Itext we were able to use String to represent HTML and CSS elements, then just make the HTMLWorker.parseToElementList that works perfectly, but in OpenPDF I didn&#39;t find this possibility. I&#39;m trying to insert CSS styles to style my PDF. Does anyone know how to do this?","title":"How to style as css in OpenPdf?","body":"<p>I'm migrating from Itext to OpenPDF because of license. In Itext we were able to use String to represent HTML and CSS elements, then just make the HTMLWorker.parseToElementList that works perfectly, but in OpenPDF I didn't find this possibility. I'm trying to insert CSS styles to style my PDF. Does anyone know how to do this?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1527319097,"post_id":50539549,"comment_id":88092104,"body_markdown":"Both `isDelivered` and `isInTransit` will be null until data changes in your database, yes. You should instead update some UI element or call some other function rather than assign those to fields and expect them to be assigned before Firebase completes any actions. In other words, &quot;returning&quot; is likely happening **after** you observe the value","body":"Both <code>isDelivered</code> and <code>isInTransit</code> will be null until data changes in your database, yes. You should instead update some UI element or call some other function rather than assign those to fields and expect them to be assigned before Firebase completes any actions. In other words, &quot;returning&quot; is likely happening <b>after</b> you observe the value"},{"owner":{"account_id":7177740,"reputation":1822,"user_id":5482999,"accept_rate":80,"display_name":"Guanaco Devs"},"score":0,"creation_date":1527333928,"post_id":50539549,"comment_id":88095649,"body_markdown":"@cricket_007 I disagree, that is the purpose for the `ListenerForSingleValueEvent`, to fetch a value once and not to keep listening for changes. In some other cases I use a `ValueEventListener` when I&#39;m waiting for changes to occur.","body":"@cricket_007 I disagree, that is the purpose for the <code>ListenerForSingleValueEvent</code>, to fetch a value once and not to keep listening for changes. In some other cases I use a <code>ValueEventListener</code> when I&#39;m waiting for changes to occur."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1527341855,"post_id":50539549,"comment_id":88097780,"body_markdown":"I didn&#39;t say anything about waiting for continuous updates. Your listener must do a network operation over the internet. It will not &quot;return&quot; immediately... It&#39;s not clear where you are getting null, though","body":"I didn&#39;t say anything about waiting for continuous updates. Your listener must do a network operation over the internet. It will not &quot;return&quot; immediately... It&#39;s not clear where you are getting null, though"},{"owner":{"account_id":7177740,"reputation":1822,"user_id":5482999,"accept_rate":80,"display_name":"Guanaco Devs"},"score":0,"creation_date":1527342633,"post_id":50539549,"comment_id":88097998,"body_markdown":"The first time I check on that Reference, I expect to get a `null` value, so it will set a value in a different reference, which in turn will trigger a `OnCreate` Function on that will write `read-only` data for every user. The second time I check on that reference I expect to get a `non-null` value, this is supposed to happen when the user reopens the app, not immediately, but here I get a `null` value even though the value is &quot;visible&quot; there. When the app is opened again and check the reference for a third time, it does return a `non-null` value.","body":"The first time I check on that Reference, I expect to get a <code>null</code> value, so it will set a value in a different reference, which in turn will trigger a <code>OnCreate</code> Function on that will write <code>read-only</code> data for every user. The second time I check on that reference I expect to get a <code>non-null</code> value, this is supposed to happen when the user reopens the app, not immediately, but here I get a <code>null</code> value even though the value is &quot;visible&quot; there. When the app is opened again and check the reference for a third time, it does return a <code>non-null</code> value."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1527342963,"post_id":50539549,"comment_id":88098088,"body_markdown":"My question is **where** and **what** are you seeing null? You&#39;ve shown one method with no log statements other than the error... Try logging the values **immediately after** you assign them","body":"My question is <b>where</b> and <b>what</b> are you seeing null? You&#39;ve shown one method with no log statements other than the error... Try logging the values <b>immediately after</b> you assign them"},{"owner":{"account_id":7177740,"reputation":1822,"user_id":5482999,"accept_rate":80,"display_name":"Guanaco Devs"},"score":0,"creation_date":1527345183,"post_id":50539549,"comment_id":88098692,"body_markdown":"I get `null`, in the `dataSnapShot` from the anonymous `ListenerForSingleValueEvent` where I do have a `ifelse` statement. Which is the node that is giving me trouble.","body":"I get <code>null</code>, in the <code>dataSnapShot</code> from the anonymous <code>ListenerForSingleValueEvent</code> where I do have a <code>ifelse</code> statement. Which is the node that is giving me trouble."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1659387514,"creation_date":1527318744,"answer_id":50540281,"question_id":50539549,"body_markdown":"To solve this, please change the following line of code:\r\n\r\n    if (dataSnapshot.getValue() ==`null`)\r\n\r\nto\r\n\r\n    if (dataSnapshot.exists())\r\n\r\nFrom the official documentation regarding [exists()][1] method:\r\n\r\n&gt; Returns true if the snapshot contains a non-null value, otherwise false.\r\n\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/firebase/database/DataSnapshot.html#exists()","title":"Firebase Database Listener returns null value","body":"<p>To solve this, please change the following line of code:</p>\n<pre><code>if (dataSnapshot.getValue() ==`null`)\n</code></pre>\n<p>to</p>\n<pre><code>if (dataSnapshot.exists())\n</code></pre>\n<p>From the official documentation regarding <a href=\"https://developers.google.com/android/reference/com/google/firebase/database/DataSnapshot.html#exists()\" rel=\"nofollow noreferrer\">exists()</a> method:</p>\n<blockquote>\n<p>Returns true if the snapshot contains a non-null value, otherwise false.</p>\n</blockquote>\n"}],"owner":{"account_id":7177740,"reputation":1822,"user_id":5482999,"accept_rate":80,"display_name":"Guanaco Devs"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50540281,"answer_count":1,"score":1,"last_activity_date":1659387514,"creation_date":1527311849,"question_id":50539549,"body_markdown":"I have this database, wher I need to read the value for previous `transitTransactions` under `transaction_status`, if it is`null`, the user populates under the node `transaction_user`, if not`null` just reads the data from the node, to avoid uploading the same data again.\r\nThe nodes under `transaction_status` are created with Firebase Functions triggered by OnCreate under `transaction_user/{uId}/{key}`, and is meant to be read only by any user.\r\n\r\n        private void checkForPreviousTransactions(TransitTransaction transitTransaction) {\r\n            String key = transitTransaction.getKey();\r\n    //        FirebaseDatabase.getInstance().getReference().child(&quot;transaction_users&quot;).child(userId).child(key).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            FirebaseDatabase.getInstance().getReference().child(&quot;transaction_status&quot;).child(key).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                    if (dataSnapshot.getValue() ==null) {\r\n                        HashMap&lt;String, Object&gt; result = new HashMap&lt;&gt;();\r\n                        result.put(&quot;is_delivered&quot;, false);\r\n                        result.put(&quot;is_in_transit&quot;, true);\r\n                        result.put(&quot;is_processed&quot;, false);\r\n                        FirebaseDatabase.getInstance().getReference().child(&quot;transaction_users&quot;).child(userId).child(key).updateChildren(result);\r\n                    } else {\r\n                        isDelivered = (boolean) dataSnapshot.child(&quot;is_delivered&quot;).getValue();\r\n                        isInTransit = (boolean) dataSnapshot.child(&quot;is_in_transit&quot;).getValue();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                    Log.e(TAG, databaseError.getMessage());\r\n                }\r\n            });\r\n        }\r\n\r\n[![enter image description here][1]][1]\r\nMy problem is that the first time a `transaction_user` is created, the function is triggered creating a `transaction_status`; when I close the application and open it again the code will run looking for previous transactions but the value returns `null` recreating everything again, including the function trigger, but the next time I open the application the value is not`null` as I&#39;d expect to be the very first time.\r\n\r\nThis are the rules:\r\n\r\n    {\r\n      &quot;rules&quot;: {\r\n        &quot;transaction_users&quot;: {\r\n          &quot;$uid&quot;: {\r\n            &quot;.read&quot;: &quot;$uid === auth.uid&quot;,\r\n            &quot;.write&quot;: &quot;$uid === auth.uid&quot;\r\n          }\r\n        },\r\n        &quot;transaction_status&quot;: {\r\n          &quot;$transactionId&quot;: {\r\n            &quot;.read&quot;: &quot;auth !=`null`&quot;,\r\n            &quot;.write&quot;: false\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nWhy does it returns`null` the first time, I can see the value in the database but still it returns`null`, this only happens the very next time after being uploaded by the user, second and onwards will return the proper value.\r\n\r\nIs it that the `transaction_status` are created by Functions?\r\n\r\nDoes it has anything to do with the Rules?\r\n\r\nIs something related with the Asynchronous nature of Firebase database?\r\n\r\nHow can I ensure that will read it properly the very first time that I listen for that value?\r\n\r\nIf I try checking on the value created by the user it returns non`null` the first time.\r\n\r\nAdditional Info:\r\nI have:\r\n\r\n    FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n\r\nand:\r\n    \r\n\r\n    FirebaseDatabase.getInstance().getReference().child(&quot;transaction_users&quot;).keepSynced(true);\r\n\r\n\r\n[1]: https://i.stack.imgur.com/v3aHA.png\r\n\r\n","title":"Firebase Database Listener returns null value","body":"<p>I have this database, wher I need to read the value for previous <code>transitTransactions</code> under <code>transaction_status</code>, if it is<code>null</code>, the user populates under the node <code>transaction_user</code>, if not<code>null</code> just reads the data from the node, to avoid uploading the same data again.\nThe nodes under <code>transaction_status</code> are created with Firebase Functions triggered by OnCreate under <code>transaction_user/{uId}/{key}</code>, and is meant to be read only by any user.</p>\n\n<pre><code>    private void checkForPreviousTransactions(TransitTransaction transitTransaction) {\n        String key = transitTransaction.getKey();\n//        FirebaseDatabase.getInstance().getReference().child(\"transaction_users\").child(userId).child(key).addListenerForSingleValueEvent(new ValueEventListener() {\n        FirebaseDatabase.getInstance().getReference().child(\"transaction_status\").child(key).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                if (dataSnapshot.getValue() ==null) {\n                    HashMap&lt;String, Object&gt; result = new HashMap&lt;&gt;();\n                    result.put(\"is_delivered\", false);\n                    result.put(\"is_in_transit\", true);\n                    result.put(\"is_processed\", false);\n                    FirebaseDatabase.getInstance().getReference().child(\"transaction_users\").child(userId).child(key).updateChildren(result);\n                } else {\n                    isDelivered = (boolean) dataSnapshot.child(\"is_delivered\").getValue();\n                    isInTransit = (boolean) dataSnapshot.child(\"is_in_transit\").getValue();\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                Log.e(TAG, databaseError.getMessage());\n            }\n        });\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/v3aHA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v3aHA.png\" alt=\"enter image description here\"></a>\nMy problem is that the first time a <code>transaction_user</code> is created, the function is triggered creating a <code>transaction_status</code>; when I close the application and open it again the code will run looking for previous transactions but the value returns <code>null</code> recreating everything again, including the function trigger, but the next time I open the application the value is not<code>null</code> as I'd expect to be the very first time.</p>\n\n<p>This are the rules:</p>\n\n<pre><code>{\n  \"rules\": {\n    \"transaction_users\": {\n      \"$uid\": {\n        \".read\": \"$uid === auth.uid\",\n        \".write\": \"$uid === auth.uid\"\n      }\n    },\n    \"transaction_status\": {\n      \"$transactionId\": {\n        \".read\": \"auth !=`null`\",\n        \".write\": false\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Why does it returns<code>null</code> the first time, I can see the value in the database but still it returns<code>null</code>, this only happens the very next time after being uploaded by the user, second and onwards will return the proper value.</p>\n\n<p>Is it that the <code>transaction_status</code> are created by Functions?</p>\n\n<p>Does it has anything to do with the Rules?</p>\n\n<p>Is something related with the Asynchronous nature of Firebase database?</p>\n\n<p>How can I ensure that will read it properly the very first time that I listen for that value?</p>\n\n<p>If I try checking on the value created by the user it returns non<code>null</code> the first time.</p>\n\n<p>Additional Info:\nI have:</p>\n\n<pre><code>FirebaseDatabase.getInstance().setPersistenceEnabled(true);\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>FirebaseDatabase.getInstance().getReference().child(\"transaction_users\").keepSynced(true);\n</code></pre>\n"},{"tags":["java","compiler-errors","java-stream","functional-interface"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1659348599,"post_id":73192054,"comment_id":129265576,"body_markdown":"I get a different error when I try this with JDK 17: &quot;method reference not expected here&quot;. Anyway, this probably happens because type inference is not smart enough to look through this expression; it doesn&#39;t make the connection that `filter` takes a `Predicate`, which means that `negate()` should return a `Predicate` and that therefore the target type of `String::isBlank` is a `Predicate`.","body":"I get a different error when I try this with JDK 17: &quot;method reference not expected here&quot;. Anyway, this probably happens because type inference is not smart enough to look through this expression; it doesn&#39;t make the connection that <code>filter</code> takes a <code>Predicate</code>, which means that <code>negate()</code> should return a <code>Predicate</code> and that therefore the target type of <code>String::isBlank</code> is a <code>Predicate</code>."},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1659348629,"post_id":73192054,"comment_id":129265583,"body_markdown":"It works if you add a cast: `filter(((Predicate&lt;String&gt;) String::isBlank).negate());`","body":"It works if you add a cast: <code>filter(((Predicate&lt;String&gt;) String::isBlank).negate());</code>"},{"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"score":0,"creation_date":1659348721,"post_id":73192054,"comment_id":129265613,"body_markdown":"@Jesper Why would it even have to infer? Can `String::isBlank` be anything other than a `Predicate`?","body":"@Jesper Why would it even have to infer? Can <code>String::isBlank</code> be anything other than a <code>Predicate</code>?"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1659348761,"post_id":73192054,"comment_id":129265627,"body_markdown":"Of course it can, the target type can be any interface that defines a method that takes a `String` and returns a `boolean`.","body":"Of course it can, the target type can be any interface that defines a method that takes a <code>String</code> and returns a <code>boolean</code>."},{"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"score":0,"creation_date":1659348945,"post_id":73192054,"comment_id":129265687,"body_markdown":"@Jesper Sounds like a predicate to me!","body":"@Jesper Sounds like a predicate to me!"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1659348996,"post_id":73192054,"comment_id":129265708,"body_markdown":"Yes, but what if I define my own `interface Example { boolean m(String s); }`? The method reference could just as well be an `Example` instead of a `Predicate`. Just from the method reference alone, the target type cannot be uniquely determined. Of course it matches `Predicate`, but it could also match any number of other functional interfaces.","body":"Yes, but what if I define my own <code>interface Example { boolean m(String s); }</code>? The method reference could just as well be an <code>Example</code> instead of a <code>Predicate</code>. Just from the method reference alone, the target type cannot be uniquely determined. Of course it matches <code>Predicate</code>, but it could also match any number of other functional interfaces."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1659349164,"post_id":73192054,"comment_id":129265777,"body_markdown":"basically you are expecting Java to go through all functional interfaces (standard and included libraries) to search one and the only one that has a `negate()` method returning a `Predicate`, and that *accepts*  a method which takes a `String` and returns `boolean`","body":"basically you are expecting Java to go through all functional interfaces (standard and included libraries) to search one and the only one that has a <code>negate()</code> method returning a <code>Predicate</code>, and that <i>accepts</i>  a method which takes a <code>String</code> and returns <code>boolean</code>"},{"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"score":0,"creation_date":1659349700,"post_id":73192054,"comment_id":129265990,"body_markdown":"Well there&#39;s still something fishy going on; `(String::isBlank).toString()` will not compile, whereas `p.toString()` will.","body":"Well there&#39;s still something fishy going on; <code>(String::isBlank).toString()</code> will not compile, whereas <code>p.toString()</code> will."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1659350137,"post_id":73192054,"comment_id":129266135,"body_markdown":"a method reference (`String::isBlank`) is not an instance neither class; it has no members (fields, methods, ... ) so we cannot invoke a method on it - `Predicate p` is a reference to an instance, as such it has members, including the ones inherited from `Object` (unless it is `null`)","body":"a method reference (<code>String::isBlank</code>) is not an instance neither class; it has no members (fields, methods, ... ) so we cannot invoke a method on it - <code>Predicate p</code> is a reference to an instance, as such it has members, including the ones inherited from <code>Object</code> (unless it is <code>null</code>)"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1659352251,"creation_date":1659352251,"answer_id":73192769,"question_id":73192054,"body_markdown":"&gt; What&#39;s the difference between `String::isBlank` and `p`?\r\n\r\n`p` has a type. `String::isBlank` does not.\r\n\r\nFrom the Java Language Specification, [Type of a Method Reference][1],\r\n\r\n&gt; A method reference expression is compatible in an assignment context, invocation context, or casting context with a target type `T` if `T` is a functional interface type (&#167;9.8) and the expression is congruent with the function type of the ground target type derived from `T`.\r\n\r\nIt then proceeds to define what &quot;congruent&quot; and &quot;ground target type&quot; means.  The relevant part to your question is, `String::isBlank` is not in an assignment context, invocation context, or casting context, when you write it like this:\r\n\r\n    (String::isBlank).negate()\r\n\r\nYou might think this counts as an [invocation context][2], but invocation contexts are actually the arguments of method calls, like `someMethod(String::isBlank)`. As the spec says:\r\n\r\n&gt; Invocation contexts allow an argument value in a method or constructor invocation (&#167;8.8.7.1, &#167;15.9, &#167;15.12) to be assigned to a corresponding formal parameter.\r\n\r\nAnyway, *because* `String::isBlank` is not in any of those contexts, the spec doesn&#39;t say anything about its type. In fact, [just a bit up the page][1], it states,\r\n\r\n&gt; It is a compile-time error if a method reference expression occurs in a program in someplace other than an assignment context (&#167;5.2), an invocation context (&#167;5.3), or a casting context (&#167;5.5).\r\n\r\nSo those contexts turn out to be the *only* contexts that method references can occur in!\r\n\r\nI didn&#39;t design the Java Language, so I can&#39;t tell you how the designers thought when they designed this, but I know that this design is rather simple to implement, compared to, say, allowing method references *everywhere*, which would require considering a *lot* more edge cases, and how this would interact with other language features. If method references are just limited to these three contexts, there won&#39;t be as much edge cases to consider, and it&#39;s relatively easy to figure out what types they are, and if you want to use them in a random expression somewhere, this design also allows you to do that just by casting:\r\n\r\n    ((Predicate&lt;String&gt;)String::isBlank).negate()\r\n\r\nIt&#39;s a fairly good compromise, in my opinion.\r\n\r\nIf you are still wondering &quot;why didn&#39;t they implement it like ... instead?&quot; I recommend checking out [Eric Lippert&#39;s answer here][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13.2\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.3\r\n  [3]: https://meta.stackoverflow.com/questions/293815/is-it-subjective-to-ask-about-why-something-wasnt-implemented-in-the-language/293819#293819","title":"Using Predicate method - &quot;The target type of this expression must be a functional interface&quot;","body":"<blockquote>\n<p>What's the difference between <code>String::isBlank</code> and <code>p</code>?</p>\n</blockquote>\n<p><code>p</code> has a type. <code>String::isBlank</code> does not.</p>\n<p>From the Java Language Specification, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13.2\" rel=\"nofollow noreferrer\">Type of a Method Reference</a>,</p>\n<blockquote>\n<p>A method reference expression is compatible in an assignment context, invocation context, or casting context with a target type <code>T</code> if <code>T</code> is a functional interface type (9.8) and the expression is congruent with the function type of the ground target type derived from <code>T</code>.</p>\n</blockquote>\n<p>It then proceeds to define what &quot;congruent&quot; and &quot;ground target type&quot; means.  The relevant part to your question is, <code>String::isBlank</code> is not in an assignment context, invocation context, or casting context, when you write it like this:</p>\n<pre><code>(String::isBlank).negate()\n</code></pre>\n<p>You might think this counts as an <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-5.html#jls-5.3\" rel=\"nofollow noreferrer\">invocation context</a>, but invocation contexts are actually the arguments of method calls, like <code>someMethod(String::isBlank)</code>. As the spec says:</p>\n<blockquote>\n<p>Invocation contexts allow an argument value in a method or constructor invocation (8.8.7.1, 15.9, 15.12) to be assigned to a corresponding formal parameter.</p>\n</blockquote>\n<p>Anyway, <em>because</em> <code>String::isBlank</code> is not in any of those contexts, the spec doesn't say anything about its type. In fact, <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.13.2\" rel=\"nofollow noreferrer\">just a bit up the page</a>, it states,</p>\n<blockquote>\n<p>It is a compile-time error if a method reference expression occurs in a program in someplace other than an assignment context (5.2), an invocation context (5.3), or a casting context (5.5).</p>\n</blockquote>\n<p>So those contexts turn out to be the <em>only</em> contexts that method references can occur in!</p>\n<p>I didn't design the Java Language, so I can't tell you how the designers thought when they designed this, but I know that this design is rather simple to implement, compared to, say, allowing method references <em>everywhere</em>, which would require considering a <em>lot</em> more edge cases, and how this would interact with other language features. If method references are just limited to these three contexts, there won't be as much edge cases to consider, and it's relatively easy to figure out what types they are, and if you want to use them in a random expression somewhere, this design also allows you to do that just by casting:</p>\n<pre><code>((Predicate&lt;String&gt;)String::isBlank).negate()\n</code></pre>\n<p>It's a fairly good compromise, in my opinion.</p>\n<p>If you are still wondering &quot;why didn't they implement it like ... instead?&quot; I recommend checking out <a href=\"https://meta.stackoverflow.com/questions/293815/is-it-subjective-to-ask-about-why-something-wasnt-implemented-in-the-language/293819#293819\">Eric Lippert's answer here</a>.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659359908,"creation_date":1659352345,"answer_id":73192782,"question_id":73192054,"body_markdown":"*Lambda expressions* and *method references* have **no type** by itself. They are so-called *poly expressions*, it means the way they will be interpreted depends on the context in which they appear.\r\n\r\nFor instance, in the statement below, *method references* `String::isBlank` conforms to the `Consumer` interface. It will compile and execute successfully:\r\n\r\n```\r\nList.&lt;String&gt;of().forEach(String::isBlank);\r\n```\r\nAnd in the following statement, the type or reference `String::isBlank` would be inferred as a `Function&lt;String&gt;`:\r\n```\r\nStream.&lt;String&gt;of().map(String::isBlank);\r\n```\r\n\r\nThe compiler gets confused when you&#39;re trying to chain method on something that has no type by itself, it has no information to infer what to which functional interface `String::isBlank` could conform in `(String::isBlank).negate()` just from the fact that the overall expression expected to be a `Predicate`. If you were expecting that method `negate()` would give a clue to the compiler, then this assumption is wrong, it not the way how *method resolution* works in Java. Firstly, the compiler needs to know the type and only then it would be looking a potentially applicable method, among the methods that belong to this type, not the opposite.\r\n\r\nYou need to provide a *context* if you want to use it like that. I.e. *method references* should appear in either of these types of context: *assignment context, invocation context, casting context*.\r\n\r\nHere is an example of how we can use *invocation context*, the following code compile:\r\n```\r\nList.of(&quot;&quot;).stream().filter(m(String::isBlank).negate());\r\n```\r\n\r\n    public static &lt;T&gt; Predicate&lt;T&gt; m(Predicate&lt;T&gt; predicate) {\r\n        return predicate;\r\n    }\r\n\r\nIn this is an example of *casting context* already posted in the comments by *@Jesper*:\r\n\r\n```\r\nfilter(((Predicate&lt;? super String&gt;) (String::isBlank)).negate())\r\n```","title":"Using Predicate method - &quot;The target type of this expression must be a functional interface&quot;","body":"<p><em>Lambda expressions</em> and <em>method references</em> have <strong>no type</strong> by itself. They are so-called <em>poly expressions</em>, it means the way they will be interpreted depends on the context in which they appear.</p>\n<p>For instance, in the statement below, <em>method references</em> <code>String::isBlank</code> conforms to the <code>Consumer</code> interface. It will compile and execute successfully:</p>\n<pre><code>List.&lt;String&gt;of().forEach(String::isBlank);\n</code></pre>\n<p>And in the following statement, the type or reference <code>String::isBlank</code> would be inferred as a <code>Function&lt;String&gt;</code>:</p>\n<pre><code>Stream.&lt;String&gt;of().map(String::isBlank);\n</code></pre>\n<p>The compiler gets confused when you're trying to chain method on something that has no type by itself, it has no information to infer what to which functional interface <code>String::isBlank</code> could conform in <code>(String::isBlank).negate()</code> just from the fact that the overall expression expected to be a <code>Predicate</code>. If you were expecting that method <code>negate()</code> would give a clue to the compiler, then this assumption is wrong, it not the way how <em>method resolution</em> works in Java. Firstly, the compiler needs to know the type and only then it would be looking a potentially applicable method, among the methods that belong to this type, not the opposite.</p>\n<p>You need to provide a <em>context</em> if you want to use it like that. I.e. <em>method references</em> should appear in either of these types of context: <em>assignment context, invocation context, casting context</em>.</p>\n<p>Here is an example of how we can use <em>invocation context</em>, the following code compile:</p>\n<pre><code>List.of(&quot;&quot;).stream().filter(m(String::isBlank).negate());\n</code></pre>\n<pre><code>public static &lt;T&gt; Predicate&lt;T&gt; m(Predicate&lt;T&gt; predicate) {\n    return predicate;\n}\n</code></pre>\n<p>In this is an example of <em>casting context</em> already posted in the comments by <em>@Jesper</em>:</p>\n<pre><code>filter(((Predicate&lt;? super String&gt;) (String::isBlank)).negate())\n</code></pre>\n"}],"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73192769,"answer_count":2,"score":2,"last_activity_date":1659387513,"creation_date":1659348145,"question_id":73192054,"body_markdown":"The third line will not compile, because `The target type of this expression must be a functional interface`:\r\n```\r\nPredicate&lt;String&gt; p = String::isBlank;\r\nList.of(&quot;&quot;).stream().filter(p.negate());\r\nList.of(&quot;&quot;).stream().filter((String::isBlank).negate()); // compile error\r\n```\r\nWhy not? What&#39;s the difference between `String::isBlank` and `p`?","title":"Using Predicate method - &quot;The target type of this expression must be a functional interface&quot;","body":"<p>The third line will not compile, because <code>The target type of this expression must be a functional interface</code>:</p>\n<pre><code>Predicate&lt;String&gt; p = String::isBlank;\nList.of(&quot;&quot;).stream().filter(p.negate());\nList.of(&quot;&quot;).stream().filter((String::isBlank).negate()); // compile error\n</code></pre>\n<p>Why not? What's the difference between <code>String::isBlank</code> and <code>p</code>?</p>\n"},{"tags":["java","maven","jboss","wildfly","jboss-eap-7"],"answers":[{"tags":[],"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659387466,"creation_date":1659387466,"answer_id":73199542,"question_id":73187154,"body_markdown":"By default a `EntityManager` is not injectable. You need to create a producer if you want to inject an `EntityManager`. Something like the following.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class Resources {\r\n    \r\n        @Produces\r\n        @PersistenceContext\r\n        private EntityManager entityManager;\r\n    \r\n    }\r\n\r\nYour other option is to not use `@Inject` and use `@PersistenceContext` instead.","title":"Failed to execute goal deploy","body":"<p>By default a <code>EntityManager</code> is not injectable. You need to create a producer if you want to inject an <code>EntityManager</code>. Something like the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Resources {\n\n    @Produces\n    @PersistenceContext\n    private EntityManager entityManager;\n\n}\n</code></pre>\n<p>Your other option is to not use <code>@Inject</code> and use <code>@PersistenceContext</code> instead.</p>\n"}],"owner":{"account_id":22851545,"reputation":7,"user_id":16997079,"display_name":"HIZAM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659387466,"creation_date":1659304201,"question_id":73187154,"body_markdown":"I&#39;m using JBOSS EAP-7.3.0 Java 9 in IntelliJ the remaining classes which are displayed in the error are created by default. So will just focus on the class `MessageRepository`.\r\n\r\nThe commands `mvn clean` and `mvn install` run successfully but `mvn wildfly:deploy` yields the following error:\r\n```none\r\nFailed to execute goal org.wildfly.plugins:wildfly-maven-plugin:3.0.2.Final:deploy (default-cli) on project message_rest_servicesss: Failed to execute goal deploy: {&quot;WFLYCTL006\r\n    2: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;message_rest_servicesss-1.\r\n    0-SNAPSHOT.war\\&quot;.WeldStartService&quot; =&gt; &quot;Failed to start service\r\n    [ERROR]     Caused by: org.jboss.weld.exceptions.DeploymentException: Exception List with 8 exceptions:\r\n    [ERROR] Exception 0 :\r\n    [ERROR] org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type EntityManager with qualifiers @Default\r\n    [ERROR]   at injection point [BackedAnnotatedField] @Inject private org.example.entity.repository.MessageRepository.entityManager\r\n    [ERROR]   at org.example.entity.repository.MessageRepository.entityManager(MessageRepository.java:0)\r\n    [ERROR]\r\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.Validator.validateInjectionPointForDeploymentProblems(Validator.java:378)\r\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.Validator.validateInjectionPoint(Validator.java:290)\r\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.Validator.validateGeneralBean(Validator.java:143)\r\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.Validator.validateRIBean(Validator.java:164)\r\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.Validator.validateBean(Validator.java:526)\r\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:64)\r\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:62)\r\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:62)\r\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:55)\r\n    [ERROR]         at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    [ERROR]         at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    [ERROR]         at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    [ERROR]         at java.base/java.lang.Thread.run(Thread.java:844)\r\n    [ERROR]         at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.JBossThread.run(JBossThread.java:485)\r\n```\r\n\r\n`MessageRepository`:\r\n\r\n    package org.example.entity.repository;\r\n    \r\n    \r\n    import org.example.entity.Message;\r\n    \r\n    \r\n    import javax.enterprise.context.ApplicationScoped;\r\n    import javax.inject.Inject;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.criteria.CriteriaBuilder;\r\n    import javax.persistence.criteria.CriteriaQuery;\r\n    import java.util.List;\r\n    import java.util.logging.Logger;\r\n    \r\n    @ApplicationScoped\r\n    public class MessageRepository {\r\n    \r\n        @Inject\r\n        private Logger logger;\r\n    \r\n        @Inject\r\n        private EntityManager entityManager;\r\n    \r\n        public Message getById(long id){\r\n            logger.info(&quot;Get message by id: &quot; + id);\r\n            return entityManager.find(Message.class,id);\r\n        }\r\n    \r\n        public List&lt;Message&gt; getAll(){\r\n            CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;Message&gt; criteriaQuery = criteriaBuilder.createQuery(Message.class);\r\n            return entityManager.createQuery(criteriaQuery).getResultList();\r\n        }\r\n    \r\n    }\r\n\r\n`pom.xml`:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;message_rest_servicesss&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;message_rest_servicesss&lt;/name&gt;\r\n    \r\n    \r\n        &lt;properties&gt;\r\n            &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n                &lt;version&gt;8.0.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.24&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.13.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.10.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;9&lt;/source&gt;\r\n                        &lt;target&gt;9&lt;/target&gt;\r\n                        &lt;compilerArguments&gt;\r\n                            &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                        &lt;/compilerArguments&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.2.Final&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;hostname&gt;localhost&lt;/hostname&gt;\r\n                        &lt;port&gt;9990&lt;/port&gt;\r\n                        &lt;username&gt;****&lt;/username&gt;\r\n                        &lt;password&gt;*******&lt;/password&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n       \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;validate&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                                &lt;silent&gt;true&lt;/silent&gt;\r\n                                &lt;artifactItems&gt;\r\n                                    &lt;artifactItem&gt;\r\n                                        &lt;groupId&gt;javax&lt;/groupId&gt;\r\n                                        &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\r\n                                        &lt;version&gt;7.0&lt;/version&gt;\r\n                                        &lt;type&gt;jar&lt;/type&gt;\r\n                                    &lt;/artifactItem&gt;\r\n                                &lt;/artifactItems&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nMy Project structure looks like this:\r\n\r\n![PROJECT_STRUCTURE][1]\r\n\r\nHow can I fix this error?\r\n\r\n  [1]: https://i.stack.imgur.com/rMUQu.jpg","title":"Failed to execute goal deploy","body":"<p>I'm using JBOSS EAP-7.3.0 Java 9 in IntelliJ the remaining classes which are displayed in the error are created by default. So will just focus on the class <code>MessageRepository</code>.</p>\n<p>The commands <code>mvn clean</code> and <code>mvn install</code> run successfully but <code>mvn wildfly:deploy</code> yields the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Failed to execute goal org.wildfly.plugins:wildfly-maven-plugin:3.0.2.Final:deploy (default-cli) on project message_rest_servicesss: Failed to execute goal deploy: {&quot;WFLYCTL006\n    2: Composite operation failed and was rolled back. Steps that failed:&quot; =&gt; {&quot;Operation step-1&quot; =&gt; {&quot;WFLYCTL0080: Failed services&quot; =&gt; {&quot;jboss.deployment.unit.\\&quot;message_rest_servicesss-1.\n    0-SNAPSHOT.war\\&quot;.WeldStartService&quot; =&gt; &quot;Failed to start service\n    [ERROR]     Caused by: org.jboss.weld.exceptions.DeploymentException: Exception List with 8 exceptions:\n    [ERROR] Exception 0 :\n    [ERROR] org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type EntityManager with qualifiers @Default\n    [ERROR]   at injection point [BackedAnnotatedField] @Inject private org.example.entity.repository.MessageRepository.entityManager\n    [ERROR]   at org.example.entity.repository.MessageRepository.entityManager(MessageRepository.java:0)\n    [ERROR]\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.Validator.validateInjectionPointForDeploymentProblems(Validator.java:378)\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.Validator.validateInjectionPoint(Validator.java:290)\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.Validator.validateGeneralBean(Validator.java:143)\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.Validator.validateRIBean(Validator.java:164)\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.Validator.validateBean(Validator.java:526)\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:64)\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.bootstrap.ConcurrentValidator$1.doWork(ConcurrentValidator.java:62)\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:62)\n    [ERROR]         at org.jboss.weld.core@3.1.2.Final-redhat-00001//org.jboss.weld.executor.IterativeWorkerTaskFactory$1.call(IterativeWorkerTaskFactory.java:55)\n    [ERROR]         at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    [ERROR]         at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n    [ERROR]         at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    [ERROR]         at java.base/java.lang.Thread.run(Thread.java:844)\n    [ERROR]         at org.jboss.threads@2.3.3.Final-redhat-00001//org.jboss.threads.JBossThread.run(JBossThread.java:485)\n</code></pre>\n<p><code>MessageRepository</code>:</p>\n<pre><code>package org.example.entity.repository;\n\n\nimport org.example.entity.Message;\n\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.inject.Inject;\nimport javax.persistence.EntityManager;\nimport javax.persistence.criteria.CriteriaBuilder;\nimport javax.persistence.criteria.CriteriaQuery;\nimport java.util.List;\nimport java.util.logging.Logger;\n\n@ApplicationScoped\npublic class MessageRepository {\n\n    @Inject\n    private Logger logger;\n\n    @Inject\n    private EntityManager entityManager;\n\n    public Message getById(long id){\n        logger.info(&quot;Get message by id: &quot; + id);\n        return entityManager.find(Message.class,id);\n    }\n\n    public List&lt;Message&gt; getAll(){\n        CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n        CriteriaQuery&lt;Message&gt; criteriaQuery = criteriaBuilder.createQuery(Message.class);\n        return entityManager.createQuery(criteriaQuery).getResultList();\n    }\n\n}\n</code></pre>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;message_rest_servicesss&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;message_rest_servicesss&lt;/name&gt;\n\n\n    &lt;properties&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;8.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.24&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/junit/junit --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax&lt;/groupId&gt;\n            &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n            &lt;version&gt;7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;9&lt;/source&gt;\n                    &lt;target&gt;9&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2.Final&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;hostname&gt;localhost&lt;/hostname&gt;\n                    &lt;port&gt;9990&lt;/port&gt;\n                    &lt;username&gt;****&lt;/username&gt;\n                    &lt;password&gt;*******&lt;/password&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n   \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;javax&lt;/groupId&gt;\n                                    &lt;artifactId&gt;javaee-endorsed-api&lt;/artifactId&gt;\n                                    &lt;version&gt;7.0&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My Project structure looks like this:</p>\n<p><img src=\"https://i.stack.imgur.com/rMUQu.jpg\" alt=\"PROJECT_STRUCTURE\" /></p>\n<p>How can I fix this error?</p>\n"},{"tags":["java","xslt","stack","saxon"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1659375870,"post_id":73197572,"comment_id":129275061,"body_markdown":"Can you include a link to the API documentation of the Java Stack and show us more context on how you pass in the parameter from Java, which version of Saxon you use, how you declared the prefix `stack`?","body":"Can you include a link to the API documentation of the Java Stack and show us more context on how you pass in the parameter from Java, which version of Saxon you use, how you declared the prefix <code>stack</code>?"},{"owner":{"account_id":12758950,"reputation":1,"user_id":13850082,"display_name":"Manoj Kumar Upadhyay"},"score":0,"creation_date":1659377848,"post_id":73197572,"comment_id":129275633,"body_markdown":"I am using saxonic PE version and imported java collection lib. \n XALAN jar has snyk vunerabilty so we can not use it furthermore .&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;3.0&quot;\n              \n\n                xmlns:stack=&quot;java:java.util.Stack&quot;\n                xmlns:al=&quot;java:java.util.ArrayList&quot;\n                xmlns:df=&quot;java:java.text.DecimalFormat&quot;\n                xmlns:ht=&quot;java:java.util.Hashtable&quot;\n                extension-element-prefixes=&quot;datetime&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                xsi:schemaLocation=&quot;&quot;&gt;","body":"I am using saxonic PE version and imported java collection lib.   XALAN jar has snyk vunerabilty so we can not use it furthermore .&lt;xsl:stylesheet xmlns:xsl=&quot;<a href=\"http://www.w3.org/1999/XSL/Transform\" rel=\"nofollow noreferrer\">w3.org/1999/XSL/Transform</a>&quot; version=&quot;3.0&quot;                                 xmlns:stack=&quot;java:java.util.Stack&quot;                 xmlns:al=&quot;java:java.util.ArrayList&quot;                 xmlns:df=&quot;java:java.text.DecimalFormat&quot;                 xmlns:ht=&quot;java:java.util.Hashtable&quot;                 extension-element-prefixes=&quot;datetime&quot; xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot;                 xsi:schemaLocation=&quot;&quot;&gt;"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":1,"creation_date":1659378146,"post_id":73197572,"comment_id":129275722,"body_markdown":"Consider to edit your question with the details you have tried to put in a comment and also consider to add the Java code setting the parameter and showing us which API you use to set the parameter. Also telling us the exact Saxon version also helps.","body":"Consider to edit your question with the details you have tried to put in a comment and also consider to add the Java code setting the parameter and showing us which API you use to set the parameter. Also telling us the exact Saxon version also helps."},{"owner":{"account_id":12758950,"reputation":1,"user_id":13850082,"display_name":"Manoj Kumar Upadhyay"},"score":0,"creation_date":1659378441,"post_id":73197572,"comment_id":129275813,"body_markdown":"Thanks . Java code does not have anything for stack related and all stack related operation is done in xslt as below  &lt;xsl:variable name=&quot;recordStackToBeGeneratedLocal&quot; select=&quot;stack:new()&quot;/&gt; &lt;xsl:variable name=&quot;dummstack&quot;  select=&quot;stack:push($recordStack, &#39;002&#39;)&quot;/&gt; ..When I pass this reference to xslt-template then I am not able to do any push/peek/pop operation(means recordStackToBeGeneratedLocal kind of immutable even if copied value into local variable it is not allowing push/pop/peek)","body":"Thanks . Java code does not have anything for stack related and all stack related operation is done in xslt as below  &lt;xsl:variable name=&quot;recordStackToBeGeneratedLocal&quot; select=&quot;stack:new()&quot;/&gt; &lt;xsl:variable name=&quot;dummstack&quot;  select=&quot;stack:push($recordStack, &#39;002&#39;)&quot;/&gt; ..When I pass this reference to xslt-template then I am not able to do any push/peek/pop operation(means recordStackToBeGeneratedLocal kind of immutable even if copied value into local variable it is not allowing push/pop/peek)"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":1,"creation_date":1659378760,"post_id":73197572,"comment_id":129275916,"body_markdown":"As said before, consider to edit your question and provide all necessary details in there in a more readable and well-formatted way then stuffing it into comments.","body":"As said before, consider to edit your question and provide all necessary details in there in a more readable and well-formatted way then stuffing it into comments."},{"owner":{"account_id":12758950,"reputation":1,"user_id":13850082,"display_name":"Manoj Kumar Upadhyay"},"score":0,"creation_date":1659379409,"post_id":73197572,"comment_id":129276101,"body_markdown":"Hi Martin, After any push/pop/peek operation the variable is not changing the content of stack. how I can change the value of recordStackToBeGeneratedLocal (push/pop/peek)?","body":"Hi Martin, After any push/pop/peek operation the variable is not changing the content of stack. how I can change the value of recordStackToBeGeneratedLocal (push/pop/peek)?"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659386074,"creation_date":1659386074,"answer_id":73199328,"question_id":73197572,"body_markdown":"The documentation for calling Java methods from Saxon can be found at https://www.saxonica.com/documentation11/index.html#!extensibility/extension-functions-J/reflexive-functions\r\n\r\nUse of extension functions with side-effects (such as `stack:push`) is generally discouraged, though you can get away with it if you are very careful.\r\n\r\nIn particular, invoking such a function within `xsl:variable` is usually a mistake, because Saxon does lazy evaluation of variables, which means the order of evaluation is not as written (and variables that are never referenced will never be evaluated at all). You can get better control over order of evaluation by using the `saxon:do` instruction, but even there you need care: for example don&#39;t use it within a variable or function body.\r\n\r\nFor data structures such as stacks, arrays, maps, and lists, XSLT 3.0 provides all the data types you need and there&#39;s no need to call out to Java for this functionality.","title":"XSLT 2.0/3.0 : how to refer xslt-template variable (stack/map/arraylist) and do push/pop/peek/add/remove operation on template parameter","body":"<p>The documentation for calling Java methods from Saxon can be found at <a href=\"https://www.saxonica.com/documentation11/index.html#!extensibility/extension-functions-J/reflexive-functions\" rel=\"nofollow noreferrer\">https://www.saxonica.com/documentation11/index.html#!extensibility/extension-functions-J/reflexive-functions</a></p>\n<p>Use of extension functions with side-effects (such as <code>stack:push</code>) is generally discouraged, though you can get away with it if you are very careful.</p>\n<p>In particular, invoking such a function within <code>xsl:variable</code> is usually a mistake, because Saxon does lazy evaluation of variables, which means the order of evaluation is not as written (and variables that are never referenced will never be evaluated at all). You can get better control over order of evaluation by using the <code>saxon:do</code> instruction, but even there you need care: for example don't use it within a variable or function body.</p>\n<p>For data structures such as stacks, arrays, maps, and lists, XSLT 3.0 provides all the data types you need and there's no need to call out to Java for this functionality.</p>\n"}],"owner":{"account_id":12758950,"reputation":1,"user_id":13850082,"display_name":"Manoj Kumar Upadhyay"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659386074,"creation_date":1659375576,"question_id":73197572,"body_markdown":"I have the below code  for using xsl-template as below:\r\n\r\n```xml\r\n&lt;xsl:template name=&quot;closingRecords&quot;&gt;\r\n \r\n        &lt;xsl:param name=&quot;recordStackToBeGeneratedLocal&quot; /&gt; &lt;!-- it is java stack contains list of values which i want to procees it--&gt;\r\n\r\n        &lt;xsl:if test=&quot;not(stack:empty($recordStackToBeGeneratedLocal))&quot;&gt;\r\n\r\n\r\n                            &lt;xsl:variable name=&quot;dummstack&quot;  select=&quot;stack:push($recordStackToBeGeneratedLocal, &#39;helpppppp&#39;)&quot;/&gt; --&gt; it does not add \r\n                             pop   recordStackToBeGenerated : &lt;xsl:value-of select=&quot;stack:pop($recordStackToBeGeneratedLocal)&quot;/&gt; --&gt; does not peek the stack .. prints all values\r\n                             pop1   recordStackToBeGenerated : &lt;xsl:value-of select=&quot;stack:peek($recordStackToBeGeneratedLocal)&quot;/&gt; --&gt; does not peek the stack .. prints all values\r\n                               recordStackToBeGenerated : &lt;xsl:value-of select=&quot;(stack:empty($recordStackToBeGeneratedLocal))&quot;/&gt;  --&gt; false\r\n\r\n        &lt;/xsl:if&gt;\r\n\r\n&lt;/xsl:template&gt;\r\n```\r\n\r\n\r\nPlease let me know why the push/pop/peek operation is not doing anything. Let me know if I have to use the template parameter and use a different way.\r\n\r\nAfter any push/pop/peek operation, the variable is not changing the content of the stack. how I can change the value of recordStackToBeGeneratedLocal (push/pop/peek) inside the xslt-template?","title":"XSLT 2.0/3.0 : how to refer xslt-template variable (stack/map/arraylist) and do push/pop/peek/add/remove operation on template parameter","body":"<p>I have the below code  for using xsl-template as below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xsl:template name=&quot;closingRecords&quot;&gt;\n \n        &lt;xsl:param name=&quot;recordStackToBeGeneratedLocal&quot; /&gt; &lt;!-- it is java stack contains list of values which i want to procees it--&gt;\n\n        &lt;xsl:if test=&quot;not(stack:empty($recordStackToBeGeneratedLocal))&quot;&gt;\n\n\n                            &lt;xsl:variable name=&quot;dummstack&quot;  select=&quot;stack:push($recordStackToBeGeneratedLocal, 'helpppppp')&quot;/&gt; --&gt; it does not add \n                             pop   recordStackToBeGenerated : &lt;xsl:value-of select=&quot;stack:pop($recordStackToBeGeneratedLocal)&quot;/&gt; --&gt; does not peek the stack .. prints all values\n                             pop1   recordStackToBeGenerated : &lt;xsl:value-of select=&quot;stack:peek($recordStackToBeGeneratedLocal)&quot;/&gt; --&gt; does not peek the stack .. prints all values\n                               recordStackToBeGenerated : &lt;xsl:value-of select=&quot;(stack:empty($recordStackToBeGeneratedLocal))&quot;/&gt;  --&gt; false\n\n        &lt;/xsl:if&gt;\n\n&lt;/xsl:template&gt;\n</code></pre>\n<p>Please let me know why the push/pop/peek operation is not doing anything. Let me know if I have to use the template parameter and use a different way.</p>\n<p>After any push/pop/peek operation, the variable is not changing the content of the stack. how I can change the value of recordStackToBeGeneratedLocal (push/pop/peek) inside the xslt-template?</p>\n"},{"tags":["java","linked-list","polynomials"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659385969,"creation_date":1659383839,"answer_id":73198937,"question_id":73189270,"body_markdown":"The problem is that when your loop exits, one of the following can still be true:\r\n\r\n* `i &lt; terms.size()`\r\n* `j &lt; j == otherTerms.size()`\r\n\r\nAnd this is the case with your example input. This means that part of one of the terms has not been processed and integrated into the output.\r\n\r\nA second problem is that your multiple `if` statements are not exclusive; after the first  `if` block is executed and `j++` has executed, it might well be that `j` is an invalid index in `otherTerms` when the second `if` is evaluated. This should be avoided by turning the second and third `if` into `else if`.\r\n\r\nHere is a fix for that loop:\r\n\r\n```\r\n    while (i &lt; terms.size() || j &lt; otherTerms.size()) {\r\n        if(i == terms.size() || j &lt; otherTerms.size() &amp;&amp; terms.get(i).getExp() &lt; otherTerms.get(j).getExp()) {\r\n            result += (otherTerms.get(j).toString() + &quot;;&quot;);\r\n            j++;\r\n        }\r\n        else if(j == otherTerms.size() || i &lt; terms.size() &amp;&amp; terms.get(i).getExp() &gt; otherTerms.get(j).getExp()) {\r\n            result += (terms.get(i).toString() + &quot;;&quot;);\r\n            i++;\r\n        } \r\n        else if(terms.get(i).getExp() == otherTerms.get(j).getExp()) {\r\n            Term temp = new Term((terms.get(i).getCoef() + otherTerms.get(j).getCoef()), terms.get(i).getExp());\r\n            result += (temp.toString() + &quot;;&quot;);\r\n            i++;\r\n            j++;\r\n        }\r\n    }\r\n```\r\n\r\n### Better approach\r\n\r\nYour approach is not really OOP. Ideally, the first expression should serve to create one instance of `Polynomial` and the other expression should serve to create another instance of `Polynomial`. Then there should be a method that can add another `Polynomial` instance to the own instance. Finally there should be a `toString` method that returns the instance as a string in the required format. Your driver code would then look like this:\r\n\r\n```\r\n        Polynomial a = new Polynomial(&quot;5x^2;-4x^1;3x^0&quot;);    \r\n        Polynomial b = new Polynomial(&quot;6x^4;-1x^3;3x^2&quot;);\r\n        Polynomial sum = a.addPoly(b);\r\n        System.out.println(sum.toString());\r\n```\r\n\r\n\r\nThis is much more object oriented, and will automatically avoid the code repetition that you currently have.","title":"Add Two Polynomials Java Program","body":"<p>The problem is that when your loop exits, one of the following can still be true:</p>\n<ul>\n<li><code>i &lt; terms.size()</code></li>\n<li><code>j &lt; j == otherTerms.size()</code></li>\n</ul>\n<p>And this is the case with your example input. This means that part of one of the terms has not been processed and integrated into the output.</p>\n<p>A second problem is that your multiple <code>if</code> statements are not exclusive; after the first  <code>if</code> block is executed and <code>j++</code> has executed, it might well be that <code>j</code> is an invalid index in <code>otherTerms</code> when the second <code>if</code> is evaluated. This should be avoided by turning the second and third <code>if</code> into <code>else if</code>.</p>\n<p>Here is a fix for that loop:</p>\n<pre><code>    while (i &lt; terms.size() || j &lt; otherTerms.size()) {\n        if(i == terms.size() || j &lt; otherTerms.size() &amp;&amp; terms.get(i).getExp() &lt; otherTerms.get(j).getExp()) {\n            result += (otherTerms.get(j).toString() + &quot;;&quot;);\n            j++;\n        }\n        else if(j == otherTerms.size() || i &lt; terms.size() &amp;&amp; terms.get(i).getExp() &gt; otherTerms.get(j).getExp()) {\n            result += (terms.get(i).toString() + &quot;;&quot;);\n            i++;\n        } \n        else if(terms.get(i).getExp() == otherTerms.get(j).getExp()) {\n            Term temp = new Term((terms.get(i).getCoef() + otherTerms.get(j).getCoef()), terms.get(i).getExp());\n            result += (temp.toString() + &quot;;&quot;);\n            i++;\n            j++;\n        }\n    }\n</code></pre>\n<h3>Better approach</h3>\n<p>Your approach is not really OOP. Ideally, the first expression should serve to create one instance of <code>Polynomial</code> and the other expression should serve to create another instance of <code>Polynomial</code>. Then there should be a method that can add another <code>Polynomial</code> instance to the own instance. Finally there should be a <code>toString</code> method that returns the instance as a string in the required format. Your driver code would then look like this:</p>\n<pre><code>        Polynomial a = new Polynomial(&quot;5x^2;-4x^1;3x^0&quot;);    \n        Polynomial b = new Polynomial(&quot;6x^4;-1x^3;3x^2&quot;);\n        Polynomial sum = a.addPoly(b);\n        System.out.println(sum.toString());\n</code></pre>\n<p>This is much more object oriented, and will automatically avoid the code repetition that you currently have.</p>\n"}],"owner":{"account_id":23416475,"reputation":3,"user_id":17477358,"display_name":"metsys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":653,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1659385969,"creation_date":1659332887,"question_id":73189270,"body_markdown":"I am working on this simple program that adds two polynomials. However, I am getting wrong results and could not spot the mistake. \r\n\r\n    import java.util.LinkedList;\r\n    \r\n    public class Polynomial {\r\n    \r\n        private LinkedList&lt;Term&gt; terms = new LinkedList&lt;Term&gt;();\r\n    \r\n    \r\n        private class Term {\r\n    \r\n            private int coef;\r\n            private int exp;\r\n    \r\n            public Term(int coef, int exp) {\r\n                this.coef = coef;\r\n                this.exp = exp;\r\n            }\r\n    \r\n            public int getCoef() {\r\n                return coef;\r\n            }\r\n    \r\n            public int getExp() {\r\n                return exp;\r\n            }\r\n    \r\n            public String toString() {\r\n                return (this.coef + &quot;x^&quot; + this.exp);\r\n            }\r\n        }\r\n    \r\n        public String addPoly(String first, String second) {\r\n    \r\n            LinkedList&lt;Term&gt; otherTerms = new LinkedList&lt;Term&gt;();\r\n    \r\n            String result = &quot;&quot;;\r\n    \r\n            String [] termsArray1 = first.split(&quot;;&quot;);\r\n            String [] termsArray2 = second.split(&quot;;&quot;);\r\n    \r\n            for (int i = 0; i &lt; termsArray1.length; i++) {\r\n                String [] temp = termsArray1[i].split(&quot;x\\\\^&quot;);\r\n    \r\n                int currentCoef = Integer.parseInt(temp[0]);\r\n                int currentExp = Integer.parseInt(temp[1]);\r\n    \r\n                Term currentTerm = new Term(currentCoef, currentExp);\r\n                terms.add(currentTerm);\r\n            }\r\n    \r\n            for (int i = 0; i &lt; termsArray2.length; i++) {\r\n                String [] temp = termsArray2[i].split(&quot;x\\\\^&quot;);\r\n    \r\n                int currentCoef = Integer.parseInt(temp[0]);\r\n                int currentExp = Integer.parseInt(temp[1]);\r\n    \r\n                Term currentTerm = new Term(currentCoef, currentExp);\r\n                otherTerms.add(currentTerm);\r\n            }\r\n    \r\n            int i = 0;\r\n            int j = 0;\r\n    \r\n           while (true){\r\n    \r\n               if(i == terms.size() || j == otherTerms.size()) {\r\n                   break;\r\n               }\r\n    \r\n               if(terms.get(i).getExp() &lt; otherTerms.get(j).getExp()) {\r\n                  result += (otherTerms.get(j).toString() + &quot;;&quot;);\r\n    \r\n                   j++;\r\n               }\r\n    \r\n               if(terms.get(i).getExp() &gt; otherTerms.get(j).getExp()) {\r\n                   result += (terms.get(i).toString() + &quot;;&quot;);\r\n    \r\n                   i++;\r\n               }\r\n    \r\n               if(terms.get(i).getExp() == otherTerms.get(j).getExp()) {\r\n                   Term temp = new Term((terms.get(i).getCoef() + otherTerms.get(j).getCoef()), terms.get(i).getExp());\r\n                   result += (temp.toString() + &quot;;&quot;);\r\n                   i++;\r\n                   j++;\r\n               }\r\n           }\r\n    \r\n           result = result.substring(0, result.length()-1);\r\n           return result;\r\n        }\r\n    }\r\n\r\n::Test::\r\n\r\nString s3 = &quot;5x^2;-4x^1;3x^0&quot;;\r\n\r\nString s4 = &quot;6x^4;-1x^3;3x^2&quot;;\r\n\r\nPolynomial p = new Polynomial();\r\n\r\nSystem.out.println(p.addPoly(s4, s3));\r\n\r\nExpected result: 6x^4;-1x^3;7x^2;-4x^1;3x^0\r\n\r\nActual result: 3x^4;7x^2;-1x^1;10x^0\r\n","title":"Add Two Polynomials Java Program","body":"<p>I am working on this simple program that adds two polynomials. However, I am getting wrong results and could not spot the mistake.</p>\n<pre><code>import java.util.LinkedList;\n\npublic class Polynomial {\n\n    private LinkedList&lt;Term&gt; terms = new LinkedList&lt;Term&gt;();\n\n\n    private class Term {\n\n        private int coef;\n        private int exp;\n\n        public Term(int coef, int exp) {\n            this.coef = coef;\n            this.exp = exp;\n        }\n\n        public int getCoef() {\n            return coef;\n        }\n\n        public int getExp() {\n            return exp;\n        }\n\n        public String toString() {\n            return (this.coef + &quot;x^&quot; + this.exp);\n        }\n    }\n\n    public String addPoly(String first, String second) {\n\n        LinkedList&lt;Term&gt; otherTerms = new LinkedList&lt;Term&gt;();\n\n        String result = &quot;&quot;;\n\n        String [] termsArray1 = first.split(&quot;;&quot;);\n        String [] termsArray2 = second.split(&quot;;&quot;);\n\n        for (int i = 0; i &lt; termsArray1.length; i++) {\n            String [] temp = termsArray1[i].split(&quot;x\\\\^&quot;);\n\n            int currentCoef = Integer.parseInt(temp[0]);\n            int currentExp = Integer.parseInt(temp[1]);\n\n            Term currentTerm = new Term(currentCoef, currentExp);\n            terms.add(currentTerm);\n        }\n\n        for (int i = 0; i &lt; termsArray2.length; i++) {\n            String [] temp = termsArray2[i].split(&quot;x\\\\^&quot;);\n\n            int currentCoef = Integer.parseInt(temp[0]);\n            int currentExp = Integer.parseInt(temp[1]);\n\n            Term currentTerm = new Term(currentCoef, currentExp);\n            otherTerms.add(currentTerm);\n        }\n\n        int i = 0;\n        int j = 0;\n\n       while (true){\n\n           if(i == terms.size() || j == otherTerms.size()) {\n               break;\n           }\n\n           if(terms.get(i).getExp() &lt; otherTerms.get(j).getExp()) {\n              result += (otherTerms.get(j).toString() + &quot;;&quot;);\n\n               j++;\n           }\n\n           if(terms.get(i).getExp() &gt; otherTerms.get(j).getExp()) {\n               result += (terms.get(i).toString() + &quot;;&quot;);\n\n               i++;\n           }\n\n           if(terms.get(i).getExp() == otherTerms.get(j).getExp()) {\n               Term temp = new Term((terms.get(i).getCoef() + otherTerms.get(j).getCoef()), terms.get(i).getExp());\n               result += (temp.toString() + &quot;;&quot;);\n               i++;\n               j++;\n           }\n       }\n\n       result = result.substring(0, result.length()-1);\n       return result;\n    }\n}\n</code></pre>\n<p>::Test::</p>\n<p>String s3 = &quot;5x^2;-4x^1;3x^0&quot;;</p>\n<p>String s4 = &quot;6x^4;-1x^3;3x^2&quot;;</p>\n<p>Polynomial p = new Polynomial();</p>\n<p>System.out.println(p.addPoly(s4, s3));</p>\n<p>Expected result: 6x^4;-1x^3;7x^2;-4x^1;3x^0</p>\n<p>Actual result: 3x^4;7x^2;-1x^1;10x^0</p>\n"},{"tags":["java","spring-boot","swagger","springdoc-openapi-ui","contextpath"],"answers":[{"tags":[],"owner":{"account_id":25873184,"reputation":1,"user_id":19603722,"display_name":"Alejandro Virgili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659385812,"creation_date":1659385812,"answer_id":73199288,"question_id":72518942,"body_markdown":"I have been looking the same. This documentation help me:\r\n\r\n&gt; To enable the support of multiple OpenAPI definitions, a bean of type\r\n&gt; GroupedOpenApi needs to be defined.\r\n&gt; \r\n&gt; For the following Group definition(based on package path), the OpenAPI\r\n&gt; description URL will be : /v3/api-docs/stores\r\n\r\n    @Bean\r\n    public GroupedOpenApi storeOpenApi() {\r\n       String paths[] = {&quot;/store/**&quot;};\r\n       return GroupedOpenApi.builder().group(&quot;stores&quot;).pathsToMatch(paths)\r\n             .build();\r\n    }\r\n\r\n&gt; For the following Group definition (based on package name), the\r\n&gt; OpenAPI description URL will be: /v3/api-docs/users\r\n\r\n    @Bean\r\n    public GroupedOpenApi userOpenApi() {\r\n       String packagesToscan[] = {&quot;test.org.springdoc.api.app68.api.user&quot;};\r\n       return GroupedOpenApi.builder().group(&quot;users&quot;).packagesToScan(packagesToscan)\r\n             .build();\r\n    }\r\n\r\n&gt; For the following Group definition(based on path), the OpenAPI\r\n&gt; description URL will be: /v3/api-docs/pets\r\n\r\n    @Bean\r\n    public GroupedOpenApi petOpenApi() {\r\n       String paths[] = {&quot;/pet/**&quot;};\r\n       return GroupedOpenApi.builder().group(&quot;pets&quot;).pathsToMatch(paths)\r\n             .build();\r\n    }\r\n\r\n&gt; For the following Group definition (based on package name and path),\r\n&gt; the OpenAPI description URL will be: /v3/api-docs/groups\r\n\r\n    @Bean\r\n    public GroupedOpenApi groupOpenApi() {\r\n       String paths[] = {&quot;/v1/**&quot;};\r\n       String packagesToscan[] = {&quot;test.org.springdoc.api.app68.api.user&quot;, &quot;test.org.springdoc.api.app68.api.store&quot;};\r\n       return GroupedOpenApi.builder().group(&quot;groups&quot;).pathsToMatch(paths).packagesToScan(packagesToscan)\r\n             .build();\r\n    }\r\n\r\nSource: [SPRINDOC][1]\r\n\r\n\r\n  [1]: https://springdoc.org/","title":"How to have custom context Path for Swagger Url in OpenApi3 Springboot Application","body":"<p>I have been looking the same. This documentation help me:</p>\n<blockquote>\n<p>To enable the support of multiple OpenAPI definitions, a bean of type\nGroupedOpenApi needs to be defined.</p>\n<p>For the following Group definition(based on package path), the OpenAPI\ndescription URL will be : /v3/api-docs/stores</p>\n</blockquote>\n<pre><code>@Bean\npublic GroupedOpenApi storeOpenApi() {\n   String paths[] = {&quot;/store/**&quot;};\n   return GroupedOpenApi.builder().group(&quot;stores&quot;).pathsToMatch(paths)\n         .build();\n}\n</code></pre>\n<blockquote>\n<p>For the following Group definition (based on package name), the\nOpenAPI description URL will be: /v3/api-docs/users</p>\n</blockquote>\n<pre><code>@Bean\npublic GroupedOpenApi userOpenApi() {\n   String packagesToscan[] = {&quot;test.org.springdoc.api.app68.api.user&quot;};\n   return GroupedOpenApi.builder().group(&quot;users&quot;).packagesToScan(packagesToscan)\n         .build();\n}\n</code></pre>\n<blockquote>\n<p>For the following Group definition(based on path), the OpenAPI\ndescription URL will be: /v3/api-docs/pets</p>\n</blockquote>\n<pre><code>@Bean\npublic GroupedOpenApi petOpenApi() {\n   String paths[] = {&quot;/pet/**&quot;};\n   return GroupedOpenApi.builder().group(&quot;pets&quot;).pathsToMatch(paths)\n         .build();\n}\n</code></pre>\n<blockquote>\n<p>For the following Group definition (based on package name and path),\nthe OpenAPI description URL will be: /v3/api-docs/groups</p>\n</blockquote>\n<pre><code>@Bean\npublic GroupedOpenApi groupOpenApi() {\n   String paths[] = {&quot;/v1/**&quot;};\n   String packagesToscan[] = {&quot;test.org.springdoc.api.app68.api.user&quot;, &quot;test.org.springdoc.api.app68.api.store&quot;};\n   return GroupedOpenApi.builder().group(&quot;groups&quot;).pathsToMatch(paths).packagesToScan(packagesToscan)\n         .build();\n}\n</code></pre>\n<p>Source: <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">SPRINDOC</a></p>\n"}],"owner":{"account_id":18560337,"reputation":57,"user_id":13524476,"display_name":"Sachin Pandey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659385812,"creation_date":1654524557,"question_id":72518942,"body_markdown":"I am migrating from springfox to OpenApi3 in my Springboot project as we have a requirement to upgrade to latest springboot with version 2.7.0 \r\n\r\nI need to configure custom contextPath for different environments like below\r\n\r\n\r\ndev - https://qa.swagger.com/dev/api/myApp/swagger-ui/index.html\r\n\r\nqa - https://qa.swagger.com/api/myApp/swagger-ui/index.html\r\n\r\nuat - https://uat.swagger.com/api/myApp/swagger-ui/index.html#/\r\n\r\n// pom.xml\r\n```\r\n&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n// SwaggerConfig class\r\n```\r\n@Configuration\r\n@Profile({ &quot;local&quot;, &quot;dev&quot;, &quot;qat&quot;, &quot;uat&quot; })\r\npublic class SwaggerConfig {\r\n\r\n@Bean\r\n\tpublic OpenAPI openAPI() {\r\n\r\n\t\treturn new OpenAPI().info(info());\r\n\t}\r\n\t\r\n\tprivate Info info() {\r\n\t\t return new Info()\r\n\t\t.title(title)\r\n\t\t.version(version)\r\n\t\t.license(new License().name(licenseName).url(licenseUrl));\r\n\t\t}\r\n}\r\n```\r\n//application.properties\r\n```\r\nspring.application.name=myApp\r\nserver.servlet.context-path=/api/${spring.application.name}\r\n```\r\n\r\n\r\nWith the above configuration, I am able to run swagger using below url and getting all required response from controller apis\r\nhttp://localhost:8082/api/myApp/swagger-ui/index.html#/\r\n\r\nFor configuring the Swagger url for other environments,I tried to create a listener configuration class like below which didn&#39;t work \r\n```\r\n@Component\r\npublic class SwaggerListener implements ApplicationListener&lt;ApplicationPreparedEvent&gt; {\r\n\r\n\tfinal ApplicationPreparedEvent event = null;\r\n\r\n\t@Override\r\n\tpublic void onApplicationEvent(final ApplicationPreparedEvent event) {\r\n\r\n\t\tConfigurableEnvironment environment = event.getApplicationContext().getEnvironment();\r\n\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.put(&quot;springdoc.swagger-ui.path&quot;, swaggerPath(event));\r\n\t\tenvironment.getPropertySources().addFirst(new PropertiesPropertySource(&quot;programmatically&quot;, properties));\r\n\r\n\t}\r\n\r\n\tprivate String swaggerPath(final ApplicationPreparedEvent event) {\r\n\t\tString basePath = null;\r\n\t\tString swagger = &quot;swagger-ui/index.html&quot;;\r\n\t\tConfigurableEnvironment environment = event.getApplicationContext().getEnvironment();\r\n\t\tString[] profilesList = environment.getActiveProfiles();\r\n\t\tList&lt;String&gt; profiles = Arrays.asList(profilesList);\r\n\t\tString contextPath = environment.getProperty(&quot;server.servlet.context-path&quot;);\r\n\t\tif (profiles != null &amp;&amp; (profiles.contains(&quot;local&quot;))) {\r\n\t\t\tbasePath = swagger;\r\n\t\t} else if (profiles != null &amp;&amp; profiles.contains(&quot;dev&quot;)) {\r\n\t\t\tbasePath = &quot;/dev/api/myApp/&quot; + swagger;\r\n\t\t} else if (profiles != null &amp;&amp; (profiles.contains(&quot;qat&quot;) || profiles.contains(&quot;uat&quot;))) {\r\n\t\t\tbasePath = &quot;/api/myApp/&quot;;\r\n\r\n\t\t}\r\n\t\treturn basePath;\r\n\t}\r\n\r\n}\r\n```\r\nAdding above listener to main class\r\n```\r\n@SpringBootApplication(scanBasePackages = { &quot;com.myApp.controller&quot; })\r\n@OpenAPIDefinition\r\npublic class myApi {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication springApplication = new SpringApplication(myApi.class);\r\n\t\tspringApplication.addListeners(new SwaggerListener());\t\t\r\n\t\tspringApplication.run(args);\r\n\r\n\t}\r\n\r\n}\r\n```\r\nThe above listener configuration is not working\r\nCan anyone help me out here and let me know what am I missing here ?\r\n","title":"How to have custom context Path for Swagger Url in OpenApi3 Springboot Application","body":"<p>I am migrating from springfox to OpenApi3 in my Springboot project as we have a requirement to upgrade to latest springboot with version 2.7.0</p>\n<p>I need to configure custom contextPath for different environments like below</p>\n<p>dev - <a href=\"https://qa.swagger.com/dev/api/myApp/swagger-ui/index.html\" rel=\"nofollow noreferrer\">https://qa.swagger.com/dev/api/myApp/swagger-ui/index.html</a></p>\n<p>qa - <a href=\"https://qa.swagger.com/api/myApp/swagger-ui/index.html\" rel=\"nofollow noreferrer\">https://qa.swagger.com/api/myApp/swagger-ui/index.html</a></p>\n<p>uat - <a href=\"https://uat.swagger.com/api/myApp/swagger-ui/index.html#/\" rel=\"nofollow noreferrer\">https://uat.swagger.com/api/myApp/swagger-ui/index.html#/</a></p>\n<p>// pom.xml</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\n            &lt;version&gt;1.6.8&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>// SwaggerConfig class</p>\n<pre><code>@Configuration\n@Profile({ &quot;local&quot;, &quot;dev&quot;, &quot;qat&quot;, &quot;uat&quot; })\npublic class SwaggerConfig {\n\n@Bean\n    public OpenAPI openAPI() {\n\n        return new OpenAPI().info(info());\n    }\n    \n    private Info info() {\n         return new Info()\n        .title(title)\n        .version(version)\n        .license(new License().name(licenseName).url(licenseUrl));\n        }\n}\n</code></pre>\n<p>//application.properties</p>\n<pre><code>spring.application.name=myApp\nserver.servlet.context-path=/api/${spring.application.name}\n</code></pre>\n<p>With the above configuration, I am able to run swagger using below url and getting all required response from controller apis\nhttp://localhost:8082/api/myApp/swagger-ui/index.html#/</p>\n<p>For configuring the Swagger url for other environments,I tried to create a listener configuration class like below which didn't work</p>\n<pre><code>@Component\npublic class SwaggerListener implements ApplicationListener&lt;ApplicationPreparedEvent&gt; {\n\n    final ApplicationPreparedEvent event = null;\n\n    @Override\n    public void onApplicationEvent(final ApplicationPreparedEvent event) {\n\n        ConfigurableEnvironment environment = event.getApplicationContext().getEnvironment();\n\n        Properties properties = new Properties();\n        properties.put(&quot;springdoc.swagger-ui.path&quot;, swaggerPath(event));\n        environment.getPropertySources().addFirst(new PropertiesPropertySource(&quot;programmatically&quot;, properties));\n\n    }\n\n    private String swaggerPath(final ApplicationPreparedEvent event) {\n        String basePath = null;\n        String swagger = &quot;swagger-ui/index.html&quot;;\n        ConfigurableEnvironment environment = event.getApplicationContext().getEnvironment();\n        String[] profilesList = environment.getActiveProfiles();\n        List&lt;String&gt; profiles = Arrays.asList(profilesList);\n        String contextPath = environment.getProperty(&quot;server.servlet.context-path&quot;);\n        if (profiles != null &amp;&amp; (profiles.contains(&quot;local&quot;))) {\n            basePath = swagger;\n        } else if (profiles != null &amp;&amp; profiles.contains(&quot;dev&quot;)) {\n            basePath = &quot;/dev/api/myApp/&quot; + swagger;\n        } else if (profiles != null &amp;&amp; (profiles.contains(&quot;qat&quot;) || profiles.contains(&quot;uat&quot;))) {\n            basePath = &quot;/api/myApp/&quot;;\n\n        }\n        return basePath;\n    }\n\n}\n</code></pre>\n<p>Adding above listener to main class</p>\n<pre><code>@SpringBootApplication(scanBasePackages = { &quot;com.myApp.controller&quot; })\n@OpenAPIDefinition\npublic class myApi {\n\n    public static void main(String[] args) {\n        SpringApplication springApplication = new SpringApplication(myApi.class);\n        springApplication.addListeners(new SwaggerListener());      \n        springApplication.run(args);\n\n    }\n\n}\n</code></pre>\n<p>The above listener configuration is not working\nCan anyone help me out here and let me know what am I missing here ?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1659384039,"post_id":73198954,"comment_id":129277462,"body_markdown":"make a separate module; use the maven-assembly-plugin to create tar.gz/zip file which contains the spring boot jar file and the resulting bash script... To include all deps another time does not make sense because they are already included in the resulting jar file (spring boot file)...","body":"make a separate module; use the maven-assembly-plugin to create tar.gz/zip file which contains the spring boot jar file and the resulting bash script... To include all deps another time does not make sense because they are already included in the resulting jar file (spring boot file)..."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1659385003,"creation_date":1659385003,"answer_id":73199145,"question_id":73198954,"body_markdown":"&gt; ```xml\r\n&gt; &lt;configuration&gt;\r\n&gt;   &lt;mainClass&gt;/a/b/c/mainClass.class&lt;/mainClass&gt;\r\n&gt; &lt;/configuration&gt;\r\n&gt; ```\r\n\r\nthat configuration is wrong, you need to use class name instead of file name, i.e.:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n  &lt;mainClass&gt;a.b.c.mainClass&lt;/mainClass&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n&gt; Does the spring boot maven plugin not handle this kind of scenario?\r\n\r\nActually, `spring-boot-maven-plugin` can do even more: [fully executable applications for Unix systems](https://docs.spring.io/spring-boot/docs/current/reference/html/deployment.html#deployment.installing)","title":"Spring Boot maven plugin - how do I build an executable jar and include a script to run it?","body":"<blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;mainClass&gt;/a/b/c/mainClass.class&lt;/mainClass&gt;\n&lt;/configuration&gt;\n</code></pre>\n</blockquote>\n<p>that configuration is wrong, you need to use class name instead of file name, i.e.:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n  &lt;mainClass&gt;a.b.c.mainClass&lt;/mainClass&gt;\n&lt;/configuration&gt;\n</code></pre>\n<blockquote>\n<p>Does the spring boot maven plugin not handle this kind of scenario?</p>\n</blockquote>\n<p>Actually, <code>spring-boot-maven-plugin</code> can do even more: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/deployment.html#deployment.installing\" rel=\"nofollow noreferrer\">fully executable applications for Unix systems</a></p>\n"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1659385724,"creation_date":1659383907,"question_id":73198954,"body_markdown":"I have a Spring Boot Java application that uses the spring boot starter parent and builds with the spring boot maven plugin. I would like to be able to produce an executable jar file and include a bash script that can be used to run the application. The end result should be a zip file with the jar file and script. The zip should include all dependencies as well.\r\n\r\nI&#39;ve been trying to do this, but have not had any luck with including a script in the end result. Actually, I haven&#39;t been able to get it to produce a zip file. Not sure what I&#39;m doing wrong. Does the spring boot maven plugin not handle this kind of scenario?\r\n\r\nParentage:\r\n\r\n      &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n\r\nPlugin:\r\n\r\n      &lt;build&gt;\r\n    \r\n        &lt;finalName&gt;archive-gitlab-project&lt;/finalName&gt;\r\n    \r\n        &lt;plugins&gt;\r\n    \r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;repackage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;mainClass&gt;a.b.c.MainClass&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\nShould I be using something other than the spring boot maven plugin?\r\n","title":"Spring Boot maven plugin - how do I build an executable jar and include a script to run it?","body":"<p>I have a Spring Boot Java application that uses the spring boot starter parent and builds with the spring boot maven plugin. I would like to be able to produce an executable jar file and include a bash script that can be used to run the application. The end result should be a zip file with the jar file and script. The zip should include all dependencies as well.</p>\n<p>I've been trying to do this, but have not had any luck with including a script in the end result. Actually, I haven't been able to get it to produce a zip file. Not sure what I'm doing wrong. Does the spring boot maven plugin not handle this kind of scenario?</p>\n<p>Parentage:</p>\n<pre><code>  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.1&lt;/version&gt;\n  &lt;/parent&gt;\n</code></pre>\n<p>Plugin:</p>\n<pre><code>  &lt;build&gt;\n\n    &lt;finalName&gt;archive-gitlab-project&lt;/finalName&gt;\n\n    &lt;plugins&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;mainClass&gt;a.b.c.MainClass&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>Should I be using something other than the spring boot maven plugin?</p>\n"},{"tags":["java","azure","azure-iot-hub"],"answers":[{"tags":[],"owner":{"account_id":13006751,"reputation":1016,"user_id":9401038,"display_name":"asergaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601984573,"creation_date":1601984573,"answer_id":64225109,"question_id":64205276,"body_markdown":"If you are referring to this doc - [Tutorial: Implement a device firmware update process](https://learn.microsoft.com/en-us/azure/iot-hub/tutorial-firmware-update) - please understand that this is an **example** on how to monitor the firmware update process remotely through a back-end application connected to your hub.\r\n\r\n- See [Azure IoT Hub Service REST API][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAs most of the OTA process is an exchange of both desired and reported properties of your [device Twin][3] , the REST API definition above should get you started.\r\n\r\nReference:\r\n\r\n- [Digital Twin - Get Digital Twin][4]\r\n- [Digital Twin - Update Digital Twin][5]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/rest/api/iothub/#service\r\n  [2]: https://i.stack.imgur.com/BfMrA.png\r\n  [3]: https://learn.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-device-twins\r\n  [4]: https://learn.microsoft.com/en-us/rest/api/iothub/service/digitaltwin/getdigitaltwin\r\n  [5]: https://learn.microsoft.com/en-us/rest/api/iothub/service/digitaltwin/updatedigitaltwin","title":"Rest apis for firmware update for iot hub devices","body":"<p>If you are referring to this doc - <a href=\"https://learn.microsoft.com/en-us/azure/iot-hub/tutorial-firmware-update\" rel=\"nofollow noreferrer\">Tutorial: Implement a device firmware update process</a> - please understand that this is an <strong>example</strong> on how to monitor the firmware update process remotely through a back-end application connected to your hub.</p>\n<ul>\n<li>See <a href=\"https://learn.microsoft.com/en-us/rest/api/iothub/#service\" rel=\"nofollow noreferrer\">Azure IoT Hub Service REST API</a></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/BfMrA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BfMrA.png\" alt=\"enter image description here\" /></a></p>\n<p>As most of the OTA process is an exchange of both desired and reported properties of your <a href=\"https://learn.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-device-twins\" rel=\"nofollow noreferrer\">device Twin</a> , the REST API definition above should get you started.</p>\n<p>Reference:</p>\n<ul>\n<li><a href=\"https://learn.microsoft.com/en-us/rest/api/iothub/service/digitaltwin/getdigitaltwin\" rel=\"nofollow noreferrer\">Digital Twin - Get Digital Twin</a></li>\n<li><a href=\"https://learn.microsoft.com/en-us/rest/api/iothub/service/digitaltwin/updatedigitaltwin\" rel=\"nofollow noreferrer\">Digital Twin - Update Digital Twin</a></li>\n</ul>\n"}],"owner":{"account_id":19097146,"reputation":31,"user_id":13946165,"display_name":"Rakesh S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1659385493,"creation_date":1601887535,"question_id":64205276,"body_markdown":"Is it possible to do an over the air(OTA) firmware update, using REST APIs, for the devices registered in azure IOT hub? If so, can someone share the API urls and the required headers. In the azure documentation, I was only able to find the CLI method for firmware update. So please do help, if anyone is aware of the REST APIs.","title":"Rest apis for firmware update for iot hub devices","body":"<p>Is it possible to do an over the air(OTA) firmware update, using REST APIs, for the devices registered in azure IOT hub? If so, can someone share the API urls and the required headers. In the azure documentation, I was only able to find the CLI method for firmware update. So please do help, if anyone is aware of the REST APIs.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1368996719,"post_id":16639285,"comment_id":23930124,"body_markdown":"Use a `ProcessBuilder`.","body":"Use a <code>ProcessBuilder</code>."}],"answers":[{"tags":[],"owner":{"account_id":2146511,"reputation":445,"user_id":1904024,"display_name":"xtraclass"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1368996383,"creation_date":1368996251,"answer_id":16639301,"question_id":16639285,"body_markdown":"    &quot;\\&quot;C:\\\\ .......\\&quot;&quot;\r\n\r\nSo you can &quot;escape&quot; the blanks.","title":"Spaces in Java file path to an executable","body":"<pre><code>\"\\\"C:\\\\ .......\\\"\"\n</code></pre>\n\n<p>So you can \"escape\" the blanks.</p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1369002138,"creation_date":1368996308,"answer_id":16639312,"question_id":16639285,"body_markdown":"    Process p = Runtime.getRuntime().exec(&quot;\\&quot;C:\\\\Program Files (x86)\\\\Mozilla firefox\\\\firefox.exe\\&quot;&quot;);\r\n\r\n... or with Java 7 against Windows ...\r\n\r\n    String[] command = new String[] {\r\n        &quot;C:&quot; +\r\n        File.separator + \r\n        &quot;Program Files (x86)&quot; +\r\n        File.separator + \r\n        &quot;Mozilla firefox&quot; + \r\n        File.separator + \r\n        &quot;firefox.exe&quot;    \r\n    };\r\n    Process p = Runtime.getRuntime().exec(command);","title":"Spaces in Java file path to an executable","body":"<pre><code>Process p = Runtime.getRuntime().exec(\"\\\"C:\\\\Program Files (x86)\\\\Mozilla firefox\\\\firefox.exe\\\"\");\n</code></pre>\n\n<p>... or with Java 7 against Windows ...</p>\n\n<pre><code>String[] command = new String[] {\n    \"C:\" +\n    File.separator + \n    \"Program Files (x86)\" +\n    File.separator + \n    \"Mozilla firefox\" + \n    File.separator + \n    \"firefox.exe\"    \n};\nProcess p = Runtime.getRuntime().exec(command);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1368999265,"creation_date":1368998928,"answer_id":16639644,"question_id":16639285,"body_markdown":"The ideal solution for your problem should be like this. \r\n\r\n    String [] cmds = new String [1];\r\n    cmds[0] = &quot;C:\\\\Program Files (x86)\\\\Mozilla firefox\\\\firefox.exe&quot;;\r\n    Process p = Runtime.getRuntime().exec(cmds);\r\n\r\nThis is because `Runtime.getRuntime().exec()` actually doesn&#39;t execute the program as command line interpreter does.  So you need to use a parameter array when you have white spaces in the path. you can provide extra flags/options in this array (ex: open).\r\n\r\nThis is some extra information. As far as I know Windows is perfectly happy with forward slashes (`/`), because Windows API accepts forward and backward slashes (starting from `MS DOS 2.0` i think). for example you can do `dir &quot;c:/Program Files (x86)&quot;` will work fine give you the directory list. Furthermore, without white spaces `Process p = Runtime.getRuntime().exec(&quot;C:/SomeProgram/someprogram.exe&quot;);` works fine . However the recommended way is to get the file separator from the environment. That&#39;s using `File.separator`","title":"Spaces in Java file path to an executable","body":"<p>The ideal solution for your problem should be like this. </p>\n\n<pre><code>String [] cmds = new String [1];\ncmds[0] = \"C:\\\\Program Files (x86)\\\\Mozilla firefox\\\\firefox.exe\";\nProcess p = Runtime.getRuntime().exec(cmds);\n</code></pre>\n\n<p>This is because <code>Runtime.getRuntime().exec()</code> actually doesn't execute the program as command line interpreter does.  So you need to use a parameter array when you have white spaces in the path. you can provide extra flags/options in this array (ex: open).</p>\n\n<p>This is some extra information. As far as I know Windows is perfectly happy with forward slashes (<code>/</code>), because Windows API accepts forward and backward slashes (starting from <code>MS DOS 2.0</code> i think). for example you can do <code>dir \"c:/Program Files (x86)\"</code> will work fine give you the directory list. Furthermore, without white spaces <code>Process p = Runtime.getRuntime().exec(\"C:/SomeProgram/someprogram.exe\");</code> works fine . However the recommended way is to get the file separator from the environment. That's using <code>File.separator</code></p>\n"}],"owner":{"account_id":2789107,"reputation":27,"user_id":2399735,"display_name":"user2399735"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13970,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1659385105,"creation_date":1368996144,"question_id":16639285,"body_markdown":"Ok, I know this is probably a noobish question, but I&#39;m pretty new to Java, and it&#39;ll probably be fairly easy to answer. What I&#39;m trying to do is make a program that will use a file path to open Firefox, but it seems there is a problem with the file path. I did some research and used the double slash to nullify the escape characters, but it still doesn&#39;t work. I think it has to do with the fact that there spaces in some of the directories&#39; names. Here is my code:\r\n\r\n    import java.io.IOException;\r\n\r\n    public class Automation {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\tProcess p = Runtime.getRuntime().exec(&quot;C:\\\\Program Files (x86)\\\\Mozilla Firefox\\\\firefox.exe&quot;);\r\n\t\t}\r\n    }\r\n\r\nI know its pretty simple, but I can&#39;t still figure it out. Any help is appreciated.","title":"Spaces in Java file path to an executable","body":"<p>Ok, I know this is probably a noobish question, but I'm pretty new to Java, and it'll probably be fairly easy to answer. What I'm trying to do is make a program that will use a file path to open Firefox, but it seems there is a problem with the file path. I did some research and used the double slash to nullify the escape characters, but it still doesn't work. I think it has to do with the fact that there spaces in some of the directories' names. Here is my code:</p>\n\n<pre><code>import java.io.IOException;\n\npublic class Automation {\n\npublic static void main(String[] args) throws IOException {\n        Process p = Runtime.getRuntime().exec(\"C:\\\\Program Files (x86)\\\\Mozilla Firefox\\\\firefox.exe\");\n    }\n}\n</code></pre>\n\n<p>I know its pretty simple, but I can't still figure it out. Any help is appreciated.</p>\n"},{"tags":["java","csv","jackson"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":4,"creation_date":1659384999,"post_id":73199095,"comment_id":129277761,"body_markdown":"In a CSV file, the separator is a comma. I suppose there&#39;s no hope of getting people to stop referring to all delimited files as Comma Separated Values files, though.","body":"In a CSV file, the separator is a comma. I suppose there&#39;s no hope of getting people to stop referring to all delimited files as Comma Separated Values files, though."},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":1,"creation_date":1659386155,"post_id":73199095,"comment_id":129278044,"body_markdown":"Not sure about the capabilities of the library, but if there is no support there, I think you will have to do some counting. For the first 100 lines, if there&#39;s a fixed number of any of your candidate separators per row, you have found it. Add some wiggle room if needed.","body":"Not sure about the capabilities of the library, but if there is no support there, I think you will have to do some counting. For the first 100 lines, if there&#39;s a fixed number of any of your candidate separators per row, you have found it. Add some wiggle room if needed."}],"owner":{"account_id":14061460,"reputation":11,"user_id":10157422,"display_name":"mf117"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659384704,"creation_date":1659384704,"question_id":73199095,"body_markdown":"I want to know if there&#39;s a way to validate the column separator for a CSV file, I&#39;m using the `CsvMapper` library and I know that I can set the column separator using the `.withColumnSeparator()`. I have a CSV file and I want to validate that the file is using the right separator, I use as a separator the &#39;|&#39; character but sometimes the file can have a &#39;;&#39; separator or another one, but I want to validate that the separator is the &#39;|&#39; character.\r\n\r\nE.g I have this CSV file with these two lines:\r\n\r\n    A|B|3|e\r\n    w|ew|34|w\r\n\r\nThis is a valid file because has as a separator the &#39;|&#39; char.\r\n\r\nBut sometimes I can received a CSV file like this:\r\n\r\n    A;B;3;e\r\n    w;ew;34;w\r\n\r\nWhich is a file separated by &#39;;&#39; Char and does not a &#39;|&#39;, that&#39;s why I need to validate the column separator\r\n\r\nThanks a lot.","title":"Validate the column separator from a CSV file","body":"<p>I want to know if there's a way to validate the column separator for a CSV file, I'm using the <code>CsvMapper</code> library and I know that I can set the column separator using the <code>.withColumnSeparator()</code>. I have a CSV file and I want to validate that the file is using the right separator, I use as a separator the '|' character but sometimes the file can have a ';' separator or another one, but I want to validate that the separator is the '|' character.</p>\n<p>E.g I have this CSV file with these two lines:</p>\n<pre><code>A|B|3|e\nw|ew|34|w\n</code></pre>\n<p>This is a valid file because has as a separator the '|' char.</p>\n<p>But sometimes I can received a CSV file like this:</p>\n<pre><code>A;B;3;e\nw;ew;34;w\n</code></pre>\n<p>Which is a file separated by ';' Char and does not a '|', that's why I need to validate the column separator</p>\n<p>Thanks a lot.</p>\n"},{"tags":["java","maven","parallel-processing","cucumber","maven-surefire-plugin"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":2,"creation_date":1659365775,"post_id":73195393,"comment_id":129271567,"body_markdown":"`ScenarioScoped` means that the object is recreated for each scenario so no matter if they are running in parallel or not. Can you show some representative code so that we could reproduce it on our own.","body":"<code>ScenarioScoped</code> means that the object is recreated for each scenario so no matter if they are running in parallel or not. Can you show some representative code so that we could reproduce it on our own."},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1659383969,"post_id":73195393,"comment_id":129277445,"body_markdown":"@AlexeyR. I have updated my query as the comment section didnt allow for such long answer :)","body":"@AlexeyR. I have updated my query as the comment section didnt allow for such long answer :)"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659427111,"post_id":73195393,"comment_id":129285946,"body_markdown":"What I can see straight away is that you are using injection wrong. You should either use inject annotation for field or use annotation for constructor. If you inject on a per-field level do not re-assign the same field with constructor. Second - do your tests use any other shared things except of that context? Or probably static references? What unit framework do you use? JUnit4/5? Or TestNg? All that is important because I just checked and it seems that `fork` mode does not work with cucumber-junit4","body":"What I can see straight away is that you are using injection wrong. You should either use inject annotation for field or use annotation for constructor. If you inject on a per-field level do not re-assign the same field with constructor. Second - do your tests use any other shared things except of that context? Or probably static references? What unit framework do you use? JUnit4/5? Or TestNg? All that is important because I just checked and it seems that <code>fork</code> mode does not work with cucumber-junit4"},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1659429417,"post_id":73195393,"comment_id":129286708,"body_markdown":"I am using junit 4.13.2\nIt doesnt? I have added the info to my error messages and it seems to work:\nStarted in thread: 1, in JVM: 30264@COMP\nStarted in thread: 1, in JVM: 2304@COMP\n\nI have tried to not add the variable in the constructor but there&#39;s compilation error &quot;Variable scenarioContext might not have been initialized&quot;\n\nI have also done it as solution 1 - so @Incject in front of constructor but it didnt do the trick :( I am not using any static references.\n\nprivate final Scenario Context scenarioContext;\n@ Inject\npublic myStepsClass(ScenarioContext[...])","body":"I am using junit 4.13.2 It doesnt? I have added the info to my error messages and it seems to work: Started in thread: 1, in JVM: 30264@COMP Started in thread: 1, in JVM: 2304@COMP  I have tried to not add the variable in the constructor but there&#39;s compilation error &quot;Variable scenarioContext might not have been initialized&quot;  I have also done it as solution 1 - so @Incject in front of constructor but it didnt do the trick :( I am not using any static references.  private final Scenario Context scenarioContext; @ Inject public myStepsClass(ScenarioContext[...])"},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1659429492,"post_id":73195393,"comment_id":129286751,"body_markdown":"The only shared context is this ScenarioContext, they use some common classes to just &quot;do the work&quot; behind the steps as per cucumber guidelines. However there are no more contexts","body":"The only shared context is this ScenarioContext, they use some common classes to just &quot;do the work&quot; behind the steps as per cucumber guidelines. However there are no more contexts"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659430210,"post_id":73195393,"comment_id":129287047,"body_markdown":"Do you have your code somewhere? I believe the issue is hidden somewhere out of the shown example.","body":"Do you have your code somewhere? I believe the issue is hidden somewhere out of the shown example."},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1659430504,"post_id":73195393,"comment_id":129287166,"body_markdown":"No, its not openly shared and I believe I cannot share the whole repo :(","body":"No, its not openly shared and I believe I cannot share the whole repo :("},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659431380,"post_id":73195393,"comment_id":129287479,"body_markdown":"alright. when you `still get different results` what it actually means? Did you try to debug? Why are results different? Why are you sure it is the issue of injection.","body":"alright. when you <code>still get different results</code> what it actually means? Did you try to debug? Why are results different? Why are you sure it is the issue of injection."},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1659440813,"post_id":73195393,"comment_id":129290742,"body_markdown":"It means when I run my tests in sequence I have exactly same amount of failed tests each time. However when running them in parallel I get different (higher) number of errors.\n\nI am not sure but it looks so in 90% - the error I get is 403 when I call endpoint getting my access token. I get the same error e.g. in Postman when I try to get my final access token for second time with previoysly obtained tokens from 2fa process. Hence my assumption is - something has used my combination of 2fa tokens and depending on &#39;whats first&#39; in parallel run I get random throw of 403 errors","body":"It means when I run my tests in sequence I have exactly same amount of failed tests each time. However when running them in parallel I get different (higher) number of errors.  I am not sure but it looks so in 90% - the error I get is 403 when I call endpoint getting my access token. I get the same error e.g. in Postman when I try to get my final access token for second time with previoysly obtained tokens from 2fa process. Hence my assumption is - something has used my combination of 2fa tokens and depending on &#39;whats first&#39; in parallel run I get random throw of 403 errors"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1659441204,"post_id":73195393,"comment_id":129290879,"body_markdown":"I would start from logging tokens your threads are trying to use. This is how you will either confirm or deny your theory.","body":"I would start from logging tokens your threads are trying to use. This is how you will either confirm or deny your theory."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1659471574,"post_id":73195393,"comment_id":129301879,"body_markdown":"It may also be possible that requesting a new token invalidates the old ones. I would start by simplifying the problem reproducer to one passing scenario copied a few times. Then add logging about the thread, token generated and token used.","body":"It may also be possible that requesting a new token invalidates the old ones. I would start by simplifying the problem reproducer to one passing scenario copied a few times. Then add logging about the thread, token generated and token used."},{"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"score":0,"creation_date":1659522436,"post_id":73195393,"comment_id":129313301,"body_markdown":"Okay Ill try both solutuions then, thank you for the help outs :)","body":"Okay Ill try both solutuions then, thank you for the help outs :)"}],"owner":{"account_id":22244245,"reputation":25,"user_id":16478196,"display_name":"ICT"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659383899,"creation_date":1659364719,"question_id":73195393,"body_markdown":"I&#39;m using Cucumber for my API tests and save the shared context in ScenarioContext class which is marked with @ScenarioScoped and @Injected per Steps class. Of course some features use steps from cross-classes as well (which causes the bug described below, but I dont want to change that due to DRY).\r\n\r\nTestS run fine when I do them sequentially however they mix up the token Im saving in scenarioContext when I run them parallelly.\r\n\r\nHas anyone faced this issue before? I tried with separate runners and 1 runner however the result was the same. Here&#39;s my pom.xml corresponding config:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Suite.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;forkCount&gt;8C&lt;/forkCount&gt;\r\n                    &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nAbove configuration should give the highest level of separation but my tests still fail at random (which does NOT happen with sequential run).\r\n\r\nI&#39;ve read following documentations and didnt find corresponding answers:\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/process-communication.html\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html\r\n_____________________________________________________\r\n\r\n@Alexey R. - Im adding additional code :)\r\n\r\nSo my ScenarioContext class looks as follows:\r\n\r\n    @ScenarioScoped\r\n    public class ScenarioContext extends Base {\r\n        Map&lt;String, Object&gt; scenarioContext;\r\n    \r\n        public ScenarioContext() throws Exception {\r\n            this.scenarioContext = new HashMap&lt;&gt;();\r\n        }\r\n    \r\n        public void setContext(Context key, Object value) {\r\n            scenarioContext.put(key.toString(), value);\r\n        }\r\n\r\n        public Object getContext(Context key) {\r\n            return scenarioContext.get(key.toString());\r\n        }\r\n    -   some other general shortcut methods\r\n    }\r\n\r\nAnd in my Steps classes aforementioned scenarioContext is called as follows:\r\n\r\n    public class myStepsClass extends Base {\r\n        @Inject\r\n        private ScenarioContext scenarioContext;\r\n    \r\n        public myStepsClass(ScenarioContext scenarioContext) throws Exception {\r\n            this.scenarioContext = scenarioContext;\r\n        }\r\n   \r\n\r\n+[gherkin steps getting/setting values to scenarioContext]\r\n\r\nI have also added a System.out.println(&quot;New scenario Context&quot;) in Scenario Context constructor and it seems to be printed out once per thread however I still get different results when tests are run in parallel :(","title":"ScenarioScoped mixes up token with SureFire parallel execution (Java + Maven)","body":"<p>I'm using Cucumber for my API tests and save the shared context in ScenarioContext class which is marked with @ScenarioScoped and @Injected per Steps class. Of course some features use steps from cross-classes as well (which causes the bug described below, but I dont want to change that due to DRY).</p>\n<p>TestS run fine when I do them sequentially however they mix up the token Im saving in scenarioContext when I run them parallelly.</p>\n<p>Has anyone faced this issue before? I tried with separate runners and 1 runner however the result was the same. Here's my pom.xml corresponding config:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M7&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*Suite.java&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;forkCount&gt;8C&lt;/forkCount&gt;\n                &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Above configuration should give the highest level of separation but my tests still fail at random (which does NOT happen with sequential run).</p>\n<p>I've read following documentations and didnt find corresponding answers:\n<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html</a>\n<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/process-communication.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/process-communication.html</a>\n<a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/fork-options-and-parallel-execution.html</a></p>\n<hr />\n<p>@Alexey R. - Im adding additional code :)</p>\n<p>So my ScenarioContext class looks as follows:</p>\n<pre><code>@ScenarioScoped\npublic class ScenarioContext extends Base {\n    Map&lt;String, Object&gt; scenarioContext;\n\n    public ScenarioContext() throws Exception {\n        this.scenarioContext = new HashMap&lt;&gt;();\n    }\n\n    public void setContext(Context key, Object value) {\n        scenarioContext.put(key.toString(), value);\n    }\n\n    public Object getContext(Context key) {\n        return scenarioContext.get(key.toString());\n    }\n-   some other general shortcut methods\n}\n</code></pre>\n<p>And in my Steps classes aforementioned scenarioContext is called as follows:</p>\n<pre><code>public class myStepsClass extends Base {\n    @Inject\n    private ScenarioContext scenarioContext;\n\n    public myStepsClass(ScenarioContext scenarioContext) throws Exception {\n        this.scenarioContext = scenarioContext;\n    }\n</code></pre>\n<p>+[gherkin steps getting/setting values to scenarioContext]</p>\n<p>I have also added a System.out.println(&quot;New scenario Context&quot;) in Scenario Context constructor and it seems to be printed out once per thread however I still get different results when tests are run in parallel :(</p>\n"},{"tags":["java","android","android-studio","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618782576,"creation_date":1618782576,"answer_id":67153706,"question_id":67153705,"body_markdown":"Adding `apply plugin: &#39;kotlin&#39;` to the `build.gradle` of `app` as suggested here https://stackoverflow.com/a/50262680 helped.","title":"error: cannot access KMappedMarker When calling kotlin class from Java project","body":"<p>Adding <code>apply plugin: 'kotlin'</code> to the <code>build.gradle</code> of <code>app</code> as suggested here <a href=\"https://stackoverflow.com/a/50262680\">https://stackoverflow.com/a/50262680</a> helped.</p>\n"},{"tags":[],"owner":{"account_id":10353128,"reputation":21,"user_id":19669214,"display_name":"MartinsT"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659383627,"creation_date":1659383627,"answer_id":73198907,"question_id":67153705,"body_markdown":"This is probably not the right thread for my answer, but I stumbled on this thread while debugging the same issue on my Java (Java 17 and Gradle 7.4) project with okHttpClient (written in Kotlin). Maybe this helps to some lost soul like me. \r\n\r\nSolution for me was to add `requires kotlin.stdlib;` in `module-info.java` file and `id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.7.0&#39;` in `build.gradle` file","title":"error: cannot access KMappedMarker When calling kotlin class from Java project","body":"<p>This is probably not the right thread for my answer, but I stumbled on this thread while debugging the same issue on my Java (Java 17 and Gradle 7.4) project with okHttpClient (written in Kotlin). Maybe this helps to some lost soul like me.</p>\n<p>Solution for me was to add <code>requires kotlin.stdlib;</code> in <code>module-info.java</code> file and <code>id 'org.jetbrains.kotlin.jvm' version '1.7.0'</code> in <code>build.gradle</code> file</p>\n"}],"owner":{"account_id":2637951,"reputation":4283,"user_id":3014199,"accept_rate":79,"display_name":"peer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1659383627,"creation_date":1618782576,"question_id":67153705,"body_markdown":"I am migrating a Java android app to Kotlin class for class with Android Studio&#39;s `Convert Java file to Kotlin file`. \r\n\r\n\r\nMy android project consists of three modules/projects where the top project has no code of its own:\r\n\r\n```\r\noverall\r\n  app\r\n  model\r\n```\r\n\r\n\r\nI&#39;ve converted a file in `model` to Kotlin and it is recognized by the Java classes in `model`.\r\nBut for classes in `app` there are problems. While the class itself is accepted as e.g. a  method parameter, method references are not possible. E.g. for `foo.ba()` android studio will show a box with the Javadoc but the term in the source file is red underlined and the error is `Cannot access kotlin.jvm.internal.markers.KMappedMarker`.\r\n\r\nTo see if the problem is due to Android Studio, I ran `gradle --warning-mode all sudoqapp:assembleRelease` in the terminal which fails with `error: cannot access KMappedMarker` and `class file for kotlin.jvm.internal.markers.KMappedMarker not found`. So I assume the error is in the build.gradle files which were automatically converted.\r\n\r\n`overall` has \r\n```\r\nplugins {\r\n    id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.5.0-RC&#39;\r\n}\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;\r\n}\r\ncompileKotlin {\r\n    kotlinOptions {\r\n        jvmTarget = &quot;1.8&quot;\r\n    }\r\n}\r\n```\r\n\r\n`app` has no kotlin references at all and\r\n\r\n`model` has\r\n```\r\napply plugin: &#39;kotlin&#39;\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n}\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.5.0-RC&#39;\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n\r\ncompileKotlin {\r\n    kotlinOptions {\r\n        jvmTarget = &quot;1.8&quot;\r\n    }\r\n}\r\n```\r\n\r\n","title":"error: cannot access KMappedMarker When calling kotlin class from Java project","body":"<p>I am migrating a Java android app to Kotlin class for class with Android Studio's <code>Convert Java file to Kotlin file</code>.</p>\n<p>My android project consists of three modules/projects where the top project has no code of its own:</p>\n<pre><code>overall\n  app\n  model\n</code></pre>\n<p>I've converted a file in <code>model</code> to Kotlin and it is recognized by the Java classes in <code>model</code>.\nBut for classes in <code>app</code> there are problems. While the class itself is accepted as e.g. a  method parameter, method references are not possible. E.g. for <code>foo.ba()</code> android studio will show a box with the Javadoc but the term in the source file is red underlined and the error is <code>Cannot access kotlin.jvm.internal.markers.KMappedMarker</code>.</p>\n<p>To see if the problem is due to Android Studio, I ran <code>gradle --warning-mode all sudoqapp:assembleRelease</code> in the terminal which fails with <code>error: cannot access KMappedMarker</code> and <code>class file for kotlin.jvm.internal.markers.KMappedMarker not found</code>. So I assume the error is in the build.gradle files which were automatically converted.</p>\n<p><code>overall</code> has</p>\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.jvm' version '1.5.0-RC'\n}\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;\n}\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n}\n</code></pre>\n<p><code>app</code> has no kotlin references at all and</p>\n<p><code>model</code> has</p>\n<pre><code>apply plugin: 'kotlin'\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n}\nbuildscript {\n    ext.kotlin_version = '1.5.0-RC'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = &quot;1.8&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","division","joptionpane"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1388692751,"post_id":20890768,"comment_id":31353175,"body_markdown":"Try casting peopleI to double when you calculate the pricePP","body":"Try casting peopleI to double when you calculate the pricePP"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":1,"creation_date":1388692894,"post_id":20890768,"comment_id":31353250,"body_markdown":"@MadProgrammer `total` is a `double`","body":"@MadProgrammer <code>total</code> is a <code>double</code>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1388693410,"post_id":20890768,"comment_id":31353529,"body_markdown":"@ZouZou I don&#39;t want to cast the result, just one side of the division...","body":"@ZouZou I don&#39;t want to cast the result, just one side of the division..."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":1,"creation_date":1388693606,"post_id":20890768,"comment_id":31353624,"body_markdown":"@MadProgrammer What&#39;s the point of casting `peopleI` in `pricePP = total / peopleI;` ? It&#39;s already `double/int`, so it won&#39;t perfom integer division. Or maybe I did&#39;nt get what you want to meant.","body":"@MadProgrammer What&#39;s the point of casting <code>peopleI</code> in <code>pricePP = total &#47; peopleI;</code> ? It&#39;s already <code>double&#47;int</code>, so it won&#39;t perfom integer division. Or maybe I did&#39;nt get what you want to meant."}],"answers":[{"tags":[],"owner":{"account_id":3455808,"reputation":10954,"user_id":2894369,"display_name":"alex2410"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1388693074,"creation_date":1388693074,"answer_id":20890886,"question_id":20890768,"body_markdown":"Just use `pricePP` instead of `total` variable here :\r\n\r\n    JOptionPane.showMessageDialog(null, &quot;The total is $&quot; + total\r\n\t\t\t\t\t+ &quot; per person&quot;, &quot;Shopping Calculator&quot;,\r\n\t\t\t\t\tJOptionPane.PLAIN_MESSAGE);\r\n\r\nbecause you output another variable, which isn&#39;t devided.","title":"Simple Divison for Calculator not working","body":"<p>Just use <code>pricePP</code> instead of <code>total</code> variable here :</p>\n\n<pre><code>JOptionPane.showMessageDialog(null, \"The total is $\" + total\n                + \" per person\", \"Shopping Calculator\",\n                JOptionPane.PLAIN_MESSAGE);\n</code></pre>\n\n<p>because you output another variable, which isn't devided.</p>\n"}],"owner":{"account_id":3801317,"reputation":21,"user_id":3154897,"display_name":"Radnor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659383047,"creation_date":1388692609,"question_id":20890768,"body_markdown":"I&#39;m Trying to make a calculator that will figure in tax, tip, and splitting between multiple people, but the last feature isn&#39;t working and I can&#39;t figure out why. I know it will probably be a simple fix but I&#39;m new to Java so I just can&#39;t find it. Note: this is my first actual Java program so please be understanding with my probably obvious mistake.\r\n\r\n    import java.util.Scanner;\r\n    import javax.swing.JOptionPane;\r\n    \r\n    public class TaxFinder { \r\n    \t\r\n    \t static Scanner scan = new Scanner(System.in);\r\n    \tpublic static double priceD, taxD, totalTax, total, priceTipped, pricePP;\r\n    \tpublic static int peopleI;\r\n    \tpublic static String price, tax, people, ifTip, tip, ifSplit;\r\n    \t\r\n    \tpublic static void main(String args[]){\r\n    \t\t\t\t\r\n    \t\tifTip = JOptionPane.showInputDialog(&quot;Was your purchase in a restaurant?&quot;);\r\n    \t\t \r\n    \t\t if (ifTip.equalsIgnoreCase(&quot;yes&quot;)){ \r\n    \t\t\t price = JOptionPane.showInputDialog(&quot;What was the cost of your bill ($)?&quot;);\r\n    \t\t\t priceD = Double.parseDouble(price);\r\n    \t\t\t \r\n    \t\t\t tax = JOptionPane.showInputDialog(&quot;What is your tax rate (decimal)?&quot;); \r\n    \t\t\t taxD = Double.parseDouble(tax);\r\n    \t\t\t \r\n    \t\t\t tip = JOptionPane.showInputDialog(&quot;Do you want to tip 5, 10, 15, or 20% ?&quot;); \r\n    \t\t\t \r\n    \t\t\t if (tip.equals(&quot;5&quot;)){ \r\n    \t\t\t\t priceTipped = priceD * .05;\r\n    \t\t\t }\r\n    \t\t\t \r\n    \t\t\t else if (tip.equals(&quot;10&quot;)){ \r\n    \t\t\t\t priceTipped = priceD * .1;\r\n    \t\t\t\t //System.out.println(&quot;Your price tipped is &quot; + priceTipped);\r\n    \t\t\t }\r\n    \t\t\t \r\n    \t\t\t else if (tip.equals(&quot;15&quot;)){ \r\n    \t\t\t\t priceTipped = priceD * .15;\r\n    \t\t\t }\r\n    \t\t\t \r\n    \t\t\t else if (tip.equals(&quot;20&quot;)){ \r\n    \t\t\t\t priceTipped = priceD * .2;\r\n    \t\t\t }\r\n    \t\t\t \r\n    \t\t\t totalTax = priceD * taxD;\r\n    \t\t\t total = priceD + totalTax + priceTipped;\r\n    \t\t\t \r\n    \t\t } \r\n    \t\t \r\n    \t\t else if (ifTip.equalsIgnoreCase(&quot;no&quot;)){ \r\n    \t\t\t price = JOptionPane.showInputDialog(&quot;How much did your purchase cost ($)?&quot;);\r\n    \t\t\t priceD = Double.parseDouble(price);\r\n    \t\t\t tax = JOptionPane.showInputDialog(&quot;What is your tax rate (decimal)?&quot;);\r\n    \t\t\t taxD = Double.parseDouble(tax);\r\n    \t\t \r\n    \t\t totalTax = priceD * taxD;\r\n    \t\ttotal = priceD + totalTax;\r\n    \t\t }\r\n    \t\t \r\n    \t\tJOptionPane.showMessageDialog(null, &quot;Your total is: $&quot; + total, &quot;Shopping Calculator&quot;, JOptionPane.PLAIN_MESSAGE);\r\n    \t\t\r\n    \t\tifSplit = JOptionPane.showInputDialog(&quot;Are you splitting the cost with other people?&quot;);\r\n    \t\t\r\n    \t\tif (ifSplit.equalsIgnoreCase(&quot;yes&quot;)){ \r\n    \t\t\tpeople = JOptionPane.showInputDialog(&quot;How many people including you?&quot;);\r\n    \t\t\tpeopleI = Integer.parseInt(people);\r\n    \t\t\t\r\n    \t\t\tpricePP = total / peopleI; \r\n    \t\t\tJOptionPane.showMessageDialog(null, &quot;The total is $&quot; + total + &quot; per person&quot;, &quot;Shopping Calculator&quot;, JOptionPane.PLAIN_MESSAGE);\r\n    \t\t\t\r\n    \t\t\tJOptionPane.showMessageDialog(null, &quot;Have a nice day!&quot;, &quot;Shopping Calculator&quot;, JOptionPane.PLAIN_MESSAGE);\r\n    \t\t} \r\n    \t\t\r\n    \t\telse if (ifSplit.equalsIgnoreCase(&quot;no&quot;)){ \r\n    \t\t\tJOptionPane.showMessageDialog(null, &quot;Have a nice day!&quot;, &quot;Shopping Calculator&quot;, JOptionPane.PLAIN_MESSAGE);\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \r\n    \r\n        ","title":"Simple Divison for Calculator not working","body":"<p>I'm Trying to make a calculator that will figure in tax, tip, and splitting between multiple people, but the last feature isn't working and I can't figure out why. I know it will probably be a simple fix but I'm new to Java so I just can't find it. Note: this is my first actual Java program so please be understanding with my probably obvious mistake.</p>\n\n<pre><code>import java.util.Scanner;\nimport javax.swing.JOptionPane;\n\npublic class TaxFinder { \n\n     static Scanner scan = new Scanner(System.in);\n    public static double priceD, taxD, totalTax, total, priceTipped, pricePP;\n    public static int peopleI;\n    public static String price, tax, people, ifTip, tip, ifSplit;\n\n    public static void main(String args[]){\n\n        ifTip = JOptionPane.showInputDialog(\"Was your purchase in a restaurant?\");\n\n         if (ifTip.equalsIgnoreCase(\"yes\")){ \n             price = JOptionPane.showInputDialog(\"What was the cost of your bill ($)?\");\n             priceD = Double.parseDouble(price);\n\n             tax = JOptionPane.showInputDialog(\"What is your tax rate (decimal)?\"); \n             taxD = Double.parseDouble(tax);\n\n             tip = JOptionPane.showInputDialog(\"Do you want to tip 5, 10, 15, or 20% ?\"); \n\n             if (tip.equals(\"5\")){ \n                 priceTipped = priceD * .05;\n             }\n\n             else if (tip.equals(\"10\")){ \n                 priceTipped = priceD * .1;\n                 //System.out.println(\"Your price tipped is \" + priceTipped);\n             }\n\n             else if (tip.equals(\"15\")){ \n                 priceTipped = priceD * .15;\n             }\n\n             else if (tip.equals(\"20\")){ \n                 priceTipped = priceD * .2;\n             }\n\n             totalTax = priceD * taxD;\n             total = priceD + totalTax + priceTipped;\n\n         } \n\n         else if (ifTip.equalsIgnoreCase(\"no\")){ \n             price = JOptionPane.showInputDialog(\"How much did your purchase cost ($)?\");\n             priceD = Double.parseDouble(price);\n             tax = JOptionPane.showInputDialog(\"What is your tax rate (decimal)?\");\n             taxD = Double.parseDouble(tax);\n\n         totalTax = priceD * taxD;\n        total = priceD + totalTax;\n         }\n\n        JOptionPane.showMessageDialog(null, \"Your total is: $\" + total, \"Shopping Calculator\", JOptionPane.PLAIN_MESSAGE);\n\n        ifSplit = JOptionPane.showInputDialog(\"Are you splitting the cost with other people?\");\n\n        if (ifSplit.equalsIgnoreCase(\"yes\")){ \n            people = JOptionPane.showInputDialog(\"How many people including you?\");\n            peopleI = Integer.parseInt(people);\n\n            pricePP = total / peopleI; \n            JOptionPane.showMessageDialog(null, \"The total is $\" + total + \" per person\", \"Shopping Calculator\", JOptionPane.PLAIN_MESSAGE);\n\n            JOptionPane.showMessageDialog(null, \"Have a nice day!\", \"Shopping Calculator\", JOptionPane.PLAIN_MESSAGE);\n        } \n\n        else if (ifSplit.equalsIgnoreCase(\"no\")){ \n            JOptionPane.showMessageDialog(null, \"Have a nice day!\", \"Shopping Calculator\", JOptionPane.PLAIN_MESSAGE);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-config","asymmetric"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1659383719,"post_id":73198817,"comment_id":129277368,"body_markdown":"Any logs or stack traces on server with error?","body":"Any logs or stack traces on server with error?"},{"owner":{"account_id":20985136,"reputation":21,"user_id":15419121,"display_name":"yasin cakmak"},"score":0,"creation_date":1659386914,"post_id":73198817,"comment_id":129278228,"body_markdown":"when sended request to localhost/encrpyt is typing o.s.c.c.s.e.EncryptionController: Encrypted data .         But send request to unix machine any log belongs to controller.","body":"when sended request to localhost/encrpyt is typing o.s.c.c.s.e.EncryptionController: Encrypted data .         But send request to unix machine any log belongs to controller."},{"owner":{"account_id":20985136,"reputation":21,"user_id":15419121,"display_name":"yasin cakmak"},"score":0,"creation_date":1659400997,"post_id":73198817,"comment_id":129280913,"body_markdown":"&quot; If you get the error {&quot;description&quot;:&quot;The encryption algorithm is not strong enough&quot;,&quot;status&quot;:&quot;INVALID&quot;} when performing the POST /encrypt request, this is probably because your encrypt.key is in the wrong file. Make sure it is in the bootstrap.properties.&quot;","body":"&quot; If you get the error {&quot;description&quot;:&quot;The encryption algorithm is not strong enough&quot;,&quot;status&quot;:&quot;INVALID&quot;} when performing the POST /encrypt request, this is probably because your encrypt.key is in the wrong file. Make sure it is in the bootstrap.properties.&quot;"},{"owner":{"account_id":20985136,"reputation":21,"user_id":15419121,"display_name":"yasin cakmak"},"score":0,"creation_date":1659401238,"post_id":73198817,"comment_id":129280941,"body_markdown":"But I am not using symmetric key. I am using asymmetric key and KeyStore, password, alias are located in bootsrap.yml file","body":"But I am not using symmetric key. I am using asymmetric key and KeyStore, password, alias are located in bootsrap.yml file"}],"owner":{"account_id":20985136,"reputation":21,"user_id":15419121,"display_name":"yasin cakmak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659382969,"creation_date":1659382969,"question_id":73198817,"body_markdown":"I got the following response while trying to encrypt using Asymmetric encryption on unix machine\r\n\r\n    {\r\n        &quot;description&quot;: &quot;The encryption algorithm is not strong enough&quot;,\r\n        &quot;status&quot;: &quot;INVALID&quot;\r\n    }\r\n\r\n\r\n  \r\n\r\n**localhost:8012/encrypt**\r\n\r\n\r\n\r\nThis url response ok  but application work on windows operating system.\r\n\r\nresponse\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**10.301.332.31:8012/encrypt**\r\n\r\nThis unix machine and application response as algorithm is not strong enough\r\nreponse is correct\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AQOYV.png\r\n  [2]: https://i.stack.imgur.com/SXieK.png","title":"Spring Cloud Config Asymmetric encryption error on Unix Machine","body":"<p>I got the following response while trying to encrypt using Asymmetric encryption on unix machine</p>\n<pre><code>{\n    &quot;description&quot;: &quot;The encryption algorithm is not strong enough&quot;,\n    &quot;status&quot;: &quot;INVALID&quot;\n}\n</code></pre>\n<p><strong>localhost:8012/encrypt</strong></p>\n<p>This url response ok  but application work on windows operating system.</p>\n<p>response\n<a href=\"https://i.stack.imgur.com/AQOYV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQOYV.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>10.301.332.31:8012/encrypt</strong></p>\n<p>This unix machine and application response as algorithm is not strong enough\nreponse is correct</p>\n<p><a href=\"https://i.stack.imgur.com/SXieK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SXieK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-launcher"],"comments":[{"owner":{"account_id":1536766,"reputation":1619,"user_id":1546986,"display_name":"Marcus"},"score":0,"creation_date":1385897046,"post_id":18522142,"comment_id":30309420,"body_markdown":"This can also be done on Sony&#39;s and Samsung&#39;s launchers, please see this post for how it&#39;s done: http://stackoverflow.com/questions/20216806/how-to-add-a-notification-badge-count-to-application-icon-on-sony-xperia-devices/","body":"This can also be done on Sony&#39;s and Samsung&#39;s launchers, please see this post for how it&#39;s done: <a href=\"http://stackoverflow.com/questions/20216806/how-to-add-a-notification-badge-count-to-application-icon-on-sony-xperia-devices/\" title=\"how to add a notification badge count to application icon on sony xperia devices\">stackoverflow.com/questions/20216806/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1377817004,"creation_date":1377817004,"answer_id":18522249,"question_id":18522142,"body_markdown":"As anyone who has installed those apps knows, those are replacement home screens. A home screen can do whatever the home screen wants:\r\n\r\n- If those home screens want to display badges over icons for well-known apps using their own code (e.g., Gmail), they can do so\r\n\r\n- If those home screens want to expose some API that app developers can use to enable badges for their apps, they can do so\r\n\r\nFor example, Nova Launcher does the former, as people who read [the Play Store listing][1] can tell:\r\n\r\n&gt; Unread count badges for SMS, Missed calls, Gmail, Email, Google Voice and more. Counts show in the dock, desktop, drawer and folders.\r\n\r\nBeyond that, the only way I know of for an app to try to affect its launcher icon is by changing the enabled `LAUNCHER` component, disabling the old one and enabling a different one with a different icon. This is going to be unreliable, though, as not all home screens will necessarily change the icon dynamically, perhaps not doing so until a device reboot.\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=com.teslacoilsw.launcher","title":"How are notification badges implemented in Android launchers? Can I do this in my application?","body":"<p>As anyone who has installed those apps knows, those are replacement home screens. A home screen can do whatever the home screen wants:</p>\n\n<ul>\n<li><p>If those home screens want to display badges over icons for well-known apps using their own code (e.g., Gmail), they can do so</p></li>\n<li><p>If those home screens want to expose some API that app developers can use to enable badges for their apps, they can do so</p></li>\n</ul>\n\n<p>For example, Nova Launcher does the former, as people who read <a href=\"https://play.google.com/store/apps/details?id=com.teslacoilsw.launcher\" rel=\"nofollow\">the Play Store listing</a> can tell:</p>\n\n<blockquote>\n  <p>Unread count badges for SMS, Missed calls, Gmail, Email, Google Voice and more. Counts show in the dock, desktop, drawer and folders.</p>\n</blockquote>\n\n<p>Beyond that, the only way I know of for an app to try to affect its launcher icon is by changing the enabled <code>LAUNCHER</code> component, disabling the old one and enabling a different one with a different icon. This is going to be unreliable, though, as not all home screens will necessarily change the icon dynamically, perhaps not doing so until a device reboot.</p>\n"}],"owner":{"account_id":1976762,"reputation":8486,"user_id":1774391,"accept_rate":99,"display_name":"MainstreamDeveloper00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18522249,"answer_count":1,"score":0,"last_activity_date":1659382707,"creation_date":1377816276,"question_id":18522142,"body_markdown":"As far as I understand, there is no way to dynamically change application icon in Android. There are a lot of posts in SO about it. Nevertheless, on my stock Nexus 4 with vanilla Android, I have Go launcher installed and it can set badges above the app icon. So can Nova Launcher: https://play.google.com/store/apps/details?id=com.teslacoilsw.launcher\r\n&lt;p&gt;I&#39;m interested how can this be achieved in Android? Some hacks? Private Api?\r\n","title":"How are notification badges implemented in Android launchers? Can I do this in my application?","body":"<p>As far as I understand, there is no way to dynamically change application icon in Android. There are a lot of posts in SO about it. Nevertheless, on my stock Nexus 4 with vanilla Android, I have Go launcher installed and it can set badges above the app icon. So can Nova Launcher: <a href=\"https://play.google.com/store/apps/details?id=com.teslacoilsw.launcher\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.teslacoilsw.launcher</a></p>\n<p>I'm interested how can this be achieved in Android? Some hacks? Private Api?\n"},{"tags":["java","ascii","println"],"comments":[{"owner":{"account_id":399622,"reputation":4096,"user_id":765091,"display_name":"slothrop"},"score":0,"creation_date":1659382667,"post_id":73194087,"comment_id":129277048,"body_markdown":"Are you supposed to print out whatever file path the user happens to enter, rather than always print the examples *C:\\Users\\ASCII_Cow\\MooFolder\\MooFile.txt* and *This is not a file path. Moo :)*?","body":"Are you supposed to print out whatever file path the user happens to enter, rather than always print the examples <i>C:\\Users\\ASCII_Cow\\MooFolder\\MooFile.txt</i> and <i>This is not a file path. Moo :)</i>?"},{"owner":{"account_id":25819323,"reputation":80,"user_id":19561083,"display_name":"worrum"},"score":0,"creation_date":1659385107,"post_id":73194087,"comment_id":129277797,"body_markdown":"I should always print a cow, just with different answers\nLike: This is not a file path. Moo :) if incorect or FilePath + cow if correct","body":"I should always print a cow, just with different answers Like: This is not a file path. Moo :) if incorect or FilePath + cow if correct"}],"owner":{"account_id":25819323,"reputation":80,"user_id":19561083,"display_name":"worrum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659382494,"creation_date":1659358881,"question_id":73194087,"body_markdown":"\r\nI am beginner Java programmer, I&#39;m taking JetBrains Academy course and the task is to output a cow in ASCII:\r\n\r\n**The Goal:**\r\n\r\n1) Expand your program so that it requests the file path with the file path substring. In this stage, the cow must repeat everything after users, so when they input a string, your program should print out the same string as the first line;\r\n2) After the reply, print the cow picture as in the example section (16 characters wide). As you remember from the first stage, the lines on the picture should have the same length and are formatted with whitespaces.\r\n\r\n**Example 1:**\r\n```\r\nInput the file path:\r\n&gt; C:\\Users\\ASCII_Cow\\MooFolder\\MooFile.txt\r\nC:\\Users\\ASCII_Cow\\MooFolder\\MooFile.txt\r\n            ^__^\r\n    _______/(oo)\r\n/\\/(       /(__)\r\n   | w----||\r\n   ||     || \r\n```\r\n**Example 2:**\r\n```\r\nInput the file path:\r\n&gt; This is not a file path. Moo :)\r\nThis is not a file path. Moo :)\r\n            ^__^\r\n    _______/(oo)\r\n/\\/(       /(__)\r\n   | w----||\r\n   ||     ||    \r\n```\r\nMy Code:\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n        String filepath = &quot;C:\\\\Users\\\\ASCII_Cow\\\\MooFolder\\\\MooFile.txt&quot;;\r\n        System.out.println(&quot;Input the file path: &quot;);\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        String fileInput = reader.readLine();\r\n        if (fileInput.equals(filepath)) {\r\n            System.out.println(filepath);\r\n            System.out.print(\r\n                    &quot;            ^__^\\n&quot; +\r\n                            &quot;    _______/(oo)\\n&quot; +\r\n                            &quot;/\\\\/(       /(__)\\n&quot; +\r\n                            &quot;   | w----||    \\n&quot; +\r\n                            &quot;   ||     ||    &quot;);\r\n        } else {\r\n            System.out.println(&quot;This is not a file path. Moo :)&quot;);\r\n            System.out.println(\r\n                    &quot;            ^__^\\n&quot; +\r\n                            &quot;    _______/(oo)\\n&quot; +\r\n                            &quot;/\\\\/(       /(__)\\n&quot; +\r\n                            &quot;   | w----||    \\n&quot; +\r\n                            &quot;   ||     ||    &quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nSecond test doesn&#39;t pass:\r\n*Wrong answer in test #2 When the user entered any string, program should output exactly 9 non-empty lines, first one should contain user&#39;s input, other 5 ones should contain ascii cow&#39;s picture...*\r\n\r\n**Test file source code:**\r\n```\r\npublic class MirrorTest extends StageTest {\r\n\r\n  String[] test_data = {\r\n          &quot; &quot;,&quot;test&quot;,&quot;C:\\\\Users\\\\Examples\\\\test.txt&quot;,&quot;/home/username/test.txt&quot;\r\n  };\r\n\r\n  @DynamicTest(data = &quot;test_data&quot;)\r\n  CheckResult testSolution(String input) {\r\n    TestedProgram pr = new TestedProgram();\r\n    String output = pr.start().strip().toLowerCase();\r\n    String[] strings = output.strip().split(&quot;\\n&quot;);\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(strings));\r\n    list.removeAll(Arrays.asList(&quot;&quot;));\r\n    if(list.size()!=1 || !list.get(0).contains(&quot;file path&quot;)){\r\n      throw new WrongAnswer(&quot;When the program just started, output should contain exactly 1 non-empty line &quot; +\r\n              &quot;with \\&quot;file path\\&quot; substring&quot;);\r\n    }\r\n    output = pr.execute(input);\r\n    strings = output.split(&quot;\\n&quot;);\r\n    list = new ArrayList&lt;&gt;(Arrays.asList(strings));\r\n    list.removeAll(Arrays.asList(&quot;&quot;));\r\n    if(list.size()!=6 || !list.get(0).contains(input)){\r\n      throw new WrongAnswer(&quot;When the user entered any string, program should output exactly 9 non-empty&quot; +\r\n              &quot; lines, first one should contain user&#39;s input, other 5 ones should contain ascii cow&#39;s picture&quot;);\r\n    }\r\n    List&lt;String&gt; correctList = new ArrayList&lt;&gt;(Arrays.asList(\r\n            &quot;            ^__^&quot;,\r\n            &quot;    _______/(oo)&quot;,\r\n            &quot;/\\\\/(       /(__)&quot;,\r\n            &quot;   | w----||    &quot;,\r\n            &quot;   ||     ||    &quot;));\r\n    for (int i=1;i&lt;list.size();i++){\r\n      if(!list.get(i).equals(correctList.get(i-1))){\r\n        throw new WrongAnswer(&quot;All the printed lines in ascii cow&#39;s picture should be equal to lines in the &quot; +\r\n                &quot; example. Make sure, that you&#39;ve not ignored whitespaces at the beginning and at the end of each line&quot;);\r\n      }\r\n    }\r\n    if(!pr.isFinished()){\r\n      throw new WrongAnswer(&quot;Program should finish after outputting the picture&quot;);\r\n    }\r\n    return CheckResult.correct();\r\n  }\r\n}\r\n```\r\n\r\n**The issue is I tried various options of printing 9th line - `&quot;\\n&quot;`, `println()`, `println(&quot;&quot;)` and so on.\r\nIf I run the program manually - I have 9 lines, if I check with tests 9th line doesn&#39;t appear, only 8 lines.** \r\n\r\n\r\nConsole output after test:\r\n```\r\nInput the file path: \r\n&gt; test\r\nThis is not a file path. Moo :)\r\n            ^__^\r\n    _______/(oo)\r\n/\\/(       /(__)\r\n   | w----||    \r\n   ||     ||\r\n```","title":"JetBrains Academy ASCII cow draw issue","body":"<p>I am beginner Java programmer, I'm taking JetBrains Academy course and the task is to output a cow in ASCII:</p>\n<p><strong>The Goal:</strong></p>\n<ol>\n<li>Expand your program so that it requests the file path with the file path substring. In this stage, the cow must repeat everything after users, so when they input a string, your program should print out the same string as the first line;</li>\n<li>After the reply, print the cow picture as in the example section (16 characters wide). As you remember from the first stage, the lines on the picture should have the same length and are formatted with whitespaces.</li>\n</ol>\n<p><strong>Example 1:</strong></p>\n<pre><code>Input the file path:\n&gt; C:\\Users\\ASCII_Cow\\MooFolder\\MooFile.txt\nC:\\Users\\ASCII_Cow\\MooFolder\\MooFile.txt\n            ^__^\n    _______/(oo)\n/\\/(       /(__)\n   | w----||\n   ||     || \n</code></pre>\n<p><strong>Example 2:</strong></p>\n<pre><code>Input the file path:\n&gt; This is not a file path. Moo :)\nThis is not a file path. Moo :)\n            ^__^\n    _______/(oo)\n/\\/(       /(__)\n   | w----||\n   ||     ||    \n</code></pre>\n<p>My Code:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n        String filepath = &quot;C:\\\\Users\\\\ASCII_Cow\\\\MooFolder\\\\MooFile.txt&quot;;\n        System.out.println(&quot;Input the file path: &quot;);\n        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n        String fileInput = reader.readLine();\n        if (fileInput.equals(filepath)) {\n            System.out.println(filepath);\n            System.out.print(\n                    &quot;            ^__^\\n&quot; +\n                            &quot;    _______/(oo)\\n&quot; +\n                            &quot;/\\\\/(       /(__)\\n&quot; +\n                            &quot;   | w----||    \\n&quot; +\n                            &quot;   ||     ||    &quot;);\n        } else {\n            System.out.println(&quot;This is not a file path. Moo :)&quot;);\n            System.out.println(\n                    &quot;            ^__^\\n&quot; +\n                            &quot;    _______/(oo)\\n&quot; +\n                            &quot;/\\\\/(       /(__)\\n&quot; +\n                            &quot;   | w----||    \\n&quot; +\n                            &quot;   ||     ||    &quot;);\n        }\n\n    }\n}\n</code></pre>\n<p>Second test doesn't pass:\n<em>Wrong answer in test #2 When the user entered any string, program should output exactly 9 non-empty lines, first one should contain user's input, other 5 ones should contain ascii cow's picture...</em></p>\n<p><strong>Test file source code:</strong></p>\n<pre><code>public class MirrorTest extends StageTest {\n\n  String[] test_data = {\n          &quot; &quot;,&quot;test&quot;,&quot;C:\\\\Users\\\\Examples\\\\test.txt&quot;,&quot;/home/username/test.txt&quot;\n  };\n\n  @DynamicTest(data = &quot;test_data&quot;)\n  CheckResult testSolution(String input) {\n    TestedProgram pr = new TestedProgram();\n    String output = pr.start().strip().toLowerCase();\n    String[] strings = output.strip().split(&quot;\\n&quot;);\n    List&lt;String&gt; list = new ArrayList&lt;&gt;(Arrays.asList(strings));\n    list.removeAll(Arrays.asList(&quot;&quot;));\n    if(list.size()!=1 || !list.get(0).contains(&quot;file path&quot;)){\n      throw new WrongAnswer(&quot;When the program just started, output should contain exactly 1 non-empty line &quot; +\n              &quot;with \\&quot;file path\\&quot; substring&quot;);\n    }\n    output = pr.execute(input);\n    strings = output.split(&quot;\\n&quot;);\n    list = new ArrayList&lt;&gt;(Arrays.asList(strings));\n    list.removeAll(Arrays.asList(&quot;&quot;));\n    if(list.size()!=6 || !list.get(0).contains(input)){\n      throw new WrongAnswer(&quot;When the user entered any string, program should output exactly 9 non-empty&quot; +\n              &quot; lines, first one should contain user's input, other 5 ones should contain ascii cow's picture&quot;);\n    }\n    List&lt;String&gt; correctList = new ArrayList&lt;&gt;(Arrays.asList(\n            &quot;            ^__^&quot;,\n            &quot;    _______/(oo)&quot;,\n            &quot;/\\\\/(       /(__)&quot;,\n            &quot;   | w----||    &quot;,\n            &quot;   ||     ||    &quot;));\n    for (int i=1;i&lt;list.size();i++){\n      if(!list.get(i).equals(correctList.get(i-1))){\n        throw new WrongAnswer(&quot;All the printed lines in ascii cow's picture should be equal to lines in the &quot; +\n                &quot; example. Make sure, that you've not ignored whitespaces at the beginning and at the end of each line&quot;);\n      }\n    }\n    if(!pr.isFinished()){\n      throw new WrongAnswer(&quot;Program should finish after outputting the picture&quot;);\n    }\n    return CheckResult.correct();\n  }\n}\n</code></pre>\n<p><strong>The issue is I tried various options of printing 9th line - <code>&quot;\\n&quot;</code>, <code>println()</code>, <code>println(&quot;&quot;)</code> and so on.\nIf I run the program manually - I have 9 lines, if I check with tests 9th line doesn't appear, only 8 lines.</strong></p>\n<p>Console output after test:</p>\n<pre><code>Input the file path: \n&gt; test\nThis is not a file path. Moo :)\n            ^__^\n    _______/(oo)\n/\\/(       /(__)\n   | w----||    \n   ||     ||\n</code></pre>\n"},{"tags":["java","spring","spring-boot","serialization","hazelcast"],"comments":[{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1659383865,"post_id":73198727,"comment_id":129277415,"body_markdown":"What&#39;s the  stacktrace ? What the output if you add `System.out.println(studentCache)` immediate prior to your `objectMappper.readValue(..` line. Is the `studentDetails` JSON ?","body":"What&#39;s the  stacktrace ? What the output if you add <code>System.out.println(studentCache)</code> immediate prior to your <code>objectMappper.readValue(..</code> line. Is the <code>studentDetails</code> JSON ?"},{"owner":{"account_id":25413555,"reputation":73,"user_id":19220933,"display_name":"Siddharth Bhatia"},"score":0,"creation_date":1659384895,"post_id":73198727,"comment_id":129277732,"body_markdown":"I am getting this error Cannot construct instance of `com.demo.StudentCache` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{&#39;)","body":"I am getting this error Cannot construct instance of <code>com.demo.StudentCache</code> (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{&#39;)"},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":0,"creation_date":1659431251,"post_id":73198727,"comment_id":129287432,"body_markdown":"What does `System.out.println(studentCache)` show ? The full detail will confirm if the issue is with Hazelcast or the object mapper","body":"What does <code>System.out.println(studentCache)</code> show ? The full detail will confirm if the issue is with Hazelcast or the object mapper"}],"owner":{"account_id":25413555,"reputation":73,"user_id":19220933,"display_name":"Siddharth Bhatia"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659382465,"creation_date":1659382465,"question_id":73198727,"body_markdown":"I am trying to store data in hazelcast the data get stored in hazelcast successfully the issue comes when I am trying to retrieve data from hazel cast it gives deserialize exception I debugged the program and saw there is a source paramter added to my hazel output\r\nI have mentioned the code below\r\n **Student.class** \r\n\r\n    @Data\r\n    @FieldDefaults(level = AccessLevel.PRIVATE)\r\n    public class Student {\r\n        String studentId;\r\n        String studentDetails;\r\n    }\r\n\r\nHazelCast class entity\r\nHazelCast.class\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class StudentCache implements Serializable {\r\n        private static final long serialVersionUID = 1L;\r\n        String studentId;\r\n        String studentDetails;\r\n    }\r\n\r\n    public class StudentCacheServiceImpl implements StudentCacheService {\r\n    \r\n        @Autowired\r\n        HazelcastInstance instance;\r\n    \r\n        IMap&lt;String, StudentCache&gt; studentMap;\r\n    \r\n        String students = &quot;STUDENT_MAP&quot;;\r\n    \r\n    \r\n        @Override\r\n        public StudentCache findById(String studentId) {\r\n            StudentCache studentCache = studentMap.get(studentId);\r\n            return studentCache;\r\n        }\r\n    \r\n        @Override\r\n        public void add(StudentCache studenteCache) {\r\n                studentMap.put(studentCache.getStudentId, studentCache, 50, TIMEUNIT.MINUTES);\r\n             \r\n            } \r\n        }\r\n    }\r\n\r\nWhenever I am trying to use finder method I face the issue of deserialization I am able to successfully put data into hazelcast but I am not able to map data to a Dto when I use hazelcast finder method\r\n\r\nThe issue is with this part \r\n\r\n   \r\n\r\n     @Data\r\n            @FieldDefaults(level = AccessLevel.PRIVATE)\r\n            public class StudentHazel {\r\n                String studentId;\r\n                String studentDetails;\r\n            }\r\n    \r\n    StudentCache studentCache=StudentCacheServiceImpl.findById(studentId);\r\n                    StudentHazel studentHazel = objectMapper.readValue(studentCache.getStudentDetails(), StudentHazel.class);\r\n\r\nThe objectMapper part fails to map data to my StudentHazel dto how can I resolve this issue\r\n","title":"Retrieving data from hazelcast causes deserialize issue in springboot","body":"<p>I am trying to store data in hazelcast the data get stored in hazelcast successfully the issue comes when I am trying to retrieve data from hazel cast it gives deserialize exception I debugged the program and saw there is a source paramter added to my hazel output\nI have mentioned the code below\n<strong>Student.class</strong></p>\n<pre><code>@Data\n@FieldDefaults(level = AccessLevel.PRIVATE)\npublic class Student {\n    String studentId;\n    String studentDetails;\n}\n</code></pre>\n<p>HazelCast class entity\nHazelCast.class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class StudentCache implements Serializable {\n    private static final long serialVersionUID = 1L;\n    String studentId;\n    String studentDetails;\n}\n\npublic class StudentCacheServiceImpl implements StudentCacheService {\n\n    @Autowired\n    HazelcastInstance instance;\n\n    IMap&lt;String, StudentCache&gt; studentMap;\n\n    String students = &quot;STUDENT_MAP&quot;;\n\n\n    @Override\n    public StudentCache findById(String studentId) {\n        StudentCache studentCache = studentMap.get(studentId);\n        return studentCache;\n    }\n\n    @Override\n    public void add(StudentCache studenteCache) {\n            studentMap.put(studentCache.getStudentId, studentCache, 50, TIMEUNIT.MINUTES);\n         \n        } \n    }\n}\n</code></pre>\n<p>Whenever I am trying to use finder method I face the issue of deserialization I am able to successfully put data into hazelcast but I am not able to map data to a Dto when I use hazelcast finder method</p>\n<p>The issue is with this part</p>\n<pre><code> @Data\n        @FieldDefaults(level = AccessLevel.PRIVATE)\n        public class StudentHazel {\n            String studentId;\n            String studentDetails;\n        }\n\nStudentCache studentCache=StudentCacheServiceImpl.findById(studentId);\n                StudentHazel studentHazel = objectMapper.readValue(studentCache.getStudentDetails(), StudentHazel.class);\n</code></pre>\n<p>The objectMapper part fails to map data to my StudentHazel dto how can I resolve this issue</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":2,"creation_date":1659371791,"post_id":73196867,"comment_id":129273769,"body_markdown":"This looks like JSON data, why not use a JSON parser readily available in Java?","body":"This looks like JSON data, why not use a JSON parser readily available in Java?"},{"owner":{"account_id":19648297,"reputation":223,"user_id":14382768,"display_name":"xarc"},"score":0,"creation_date":1659372478,"post_id":73196867,"comment_id":129273982,"body_markdown":"Because that is a Dataflow java code and just need extract the number without double or single quotes","body":"Because that is a Dataflow java code and just need extract the number without double or single quotes"}],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659382127,"creation_date":1659374206,"answer_id":73197354,"question_id":73196867,"body_markdown":"If JSON parser is not available then here is a regex solution.\r\n\r\nJava allows limited dynamism in lookbehind. You may use this regex:\r\n\r\n```sh\r\n(?&lt;=\\&quot;eventId\\&quot;:[\\&quot;&#39;]?)\\w+\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\nNote addition of an optional `&quot;` or `&#39;` inside the lookbehind condition.\r\n\r\n\r\n  [1]: https://regex101.com/r/fnN0dR/1\r\n\r\n**Code:**\r\n\r\n```Java\r\nPattern pattern = Pattern.compile(&quot;(?&lt;=\\&quot;eventId\\&quot;:[\\&quot;&#39;]?)\\\\w+&quot;);\r\nMatcher matcher = pattern.matcher(string);\r\nwhile (matcher.find()) {\r\n   System.out.println(&quot;Match: &quot; + matcher.group(0));\r\n}\r\n```","title":"How extract only numbers between double quotes, simple quotes or without them using regex","body":"<p>If JSON parser is not available then here is a regex solution.</p>\n<p>Java allows limited dynamism in lookbehind. You may use this regex:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>(?&lt;=\\&quot;eventId\\&quot;:[\\&quot;']?)\\w+\n</code></pre>\n<p><a href=\"https://regex101.com/r/fnN0dR/1\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p>Note addition of an optional <code>&quot;</code> or <code>'</code> inside the lookbehind condition.</p>\n<p><strong>Code:</strong></p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;(?&lt;=\\&quot;eventId\\&quot;:[\\&quot;']?)\\\\w+&quot;);\nMatcher matcher = pattern.matcher(string);\nwhile (matcher.find()) {\n   System.out.println(&quot;Match: &quot; + matcher.group(0));\n}\n</code></pre>\n"}],"owner":{"account_id":19648297,"reputation":223,"user_id":14382768,"display_name":"xarc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73197354,"answer_count":1,"score":1,"last_activity_date":1659382156,"creation_date":1659371536,"question_id":73196867,"body_markdown":"I have a Java code that processes events in real time, from which it extracts information using regex, recently it fails, after hours of debugging, I find that this value can arrive in the 3 ways that I leave here:\r\n\r\n```\r\n{&quot;eventId&quot;:&quot;25&quot;,&quot;started&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;finished&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;duration&quot;:0,&quot;sessionId&quot;:&quot;xxxx&quot;,&quot;personId&quot;:&quot;1111111&quot;,&quot;status&quot;:&quot;ok&quot;}\r\n{&quot;eventId&quot;:&#39;25&#39;,&quot;started&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;finished&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;duration&quot;:0,&quot;sessionId&quot;:&quot;xxxx&quot;,&quot;personId&quot;:&quot;1111111&quot;,&quot;status&quot;:&quot;ok&quot;}\r\n{&quot;eventId&quot;:25,&quot;started&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;finished&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;duration&quot;:0,&quot;sessionId&quot;:&quot;xxxx&quot;,&quot;personId&quot;:&quot;1111111&quot;,&quot;status&quot;:&quot;ok&quot;}\r\n\r\n```\r\nI have tried without success to modify the current regex that extracts the information, to extracts the `eventId` number `25` in any of the three cases:\r\n\r\n``` \r\n(?&lt;=&quot;eventId&quot;:)&quot;(\\w+)&quot;(?=,)\r\n```\r\n\r\n\r\nIs there any way to achieve this? ... thanks in advance!\r\n\r\nPS: That is a Dataflow java code and just need extract the number without double or single quotes.","title":"How extract only numbers between double quotes, simple quotes or without them using regex","body":"<p>I have a Java code that processes events in real time, from which it extracts information using regex, recently it fails, after hours of debugging, I find that this value can arrive in the 3 ways that I leave here:</p>\n<pre><code>{&quot;eventId&quot;:&quot;25&quot;,&quot;started&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;finished&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;duration&quot;:0,&quot;sessionId&quot;:&quot;xxxx&quot;,&quot;personId&quot;:&quot;1111111&quot;,&quot;status&quot;:&quot;ok&quot;}\n{&quot;eventId&quot;:'25',&quot;started&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;finished&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;duration&quot;:0,&quot;sessionId&quot;:&quot;xxxx&quot;,&quot;personId&quot;:&quot;1111111&quot;,&quot;status&quot;:&quot;ok&quot;}\n{&quot;eventId&quot;:25,&quot;started&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;finished&quot;:&quot;2022-07-29T18:37:38.717Z&quot;,&quot;duration&quot;:0,&quot;sessionId&quot;:&quot;xxxx&quot;,&quot;personId&quot;:&quot;1111111&quot;,&quot;status&quot;:&quot;ok&quot;}\n\n</code></pre>\n<p>I have tried without success to modify the current regex that extracts the information, to extracts the <code>eventId</code> number <code>25</code> in any of the three cases:</p>\n<pre><code>(?&lt;=&quot;eventId&quot;:)&quot;(\\w+)&quot;(?=,)\n</code></pre>\n<p>Is there any way to achieve this? ... thanks in advance!</p>\n<p>PS: That is a Dataflow java code and just need extract the number without double or single quotes.</p>\n"},{"tags":["java","multithreading","concurrency","interlocked"],"answers":[{"tags":[],"owner":{"account_id":18835,"reputation":82183,"user_id":43582,"accept_rate":83,"display_name":"Bombe"},"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1248078595,"creation_date":1248078595,"answer_id":1152325,"question_id":1152298,"body_markdown":"Use [AtomicInteger][1].\r\n\r\n[1]: http://java.sun.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicInteger.html","title":"What&#39;s Java&#39;s equivalent of .Net&#39;s Interlocked class?","body":"<p>Use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/atomic/AtomicInteger.html\" rel=\"noreferrer\">AtomicInteger</a>.</p>\n"},{"tags":[],"owner":{"account_id":47291,"reputation":4113,"user_id":140006,"accept_rate":86,"display_name":"CsTamas"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1659381313,"creation_date":1248078698,"answer_id":1152329,"question_id":1152298,"body_markdown":"Thread safety can be achieved via synchronized functions.\r\nWrap your int (or such data) in a class which provides the required functionalities via synchronized methods, e.g.\r\n\r\n    public class X\r\n    {\r\n      protected int x;\r\n      public synchronized void set( int value )\r\n      {\r\n        x = value;\r\n      }\r\n    }\r\n\r\nYou can also use classes from the [java.util.concurrent.atomic][1] package, e.g. AtomicInteger or AtomicIntegerArray\r\n\r\n\r\nWhy this answer won&#39;t work\r\n-----------------------\r\n\r\nI just wanted to be sure to point out exactly what is wrong with this answer, in case anyone thinks that `synchronized` can be used to solve thread race effects.\r\n\r\n\r\n    | Thread A      | Thread B         | \r\n    |---------------|------------------|\r\n    | read x (x=4)  |                  |\r\n    |               | read x (x=4)     |\r\n    | Calculate 4+1 |                  |\r\n    | EAX  5       |                  |\r\n    |               | Calculate 4+1    |\r\n    |               | EAX  5          |\r\n    | Start sync    |                  |\r\n    | {             | Start sync       |\r\n    | { x  5       |    wait          |\r\n    | {             |    wait          |\r\n    | End sync      |    wait          |\r\n    |               | {                | \r\n    |               | { x  5          |\r\n    |               | {                | \r\n    |               | End sync         |\r\n\r\nThe end result of the operations:\r\n\r\n    x = 4;\r\n    x += 1;\r\n    x += 1;\r\n\r\nis that **x = 5** rather than 6.\r\n\r\nThe same issue exists with the `volatile` keyword. The `volatile` keyword doesn&#39;t save you from thread effects. The volatile keyword only ensures that \r\n\r\n- caches are flushed before a variable is read\r\n- caches are flushed after a value is written\r\n\r\nStrictly speaking, `volatile` ensures that memory operations are not reordered around a volatile variable. Which means you still suffer from the:\r\n\r\n- read from x\r\n- write to x\r\n\r\nproblem.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/atomic/package-summary.html","title":"What&#39;s Java&#39;s equivalent of .Net&#39;s Interlocked class?","body":"<p>Thread safety can be achieved via synchronized functions.\nWrap your int (or such data) in a class which provides the required functionalities via synchronized methods, e.g.</p>\n<pre><code>public class X\n{\n  protected int x;\n  public synchronized void set( int value )\n  {\n    x = value;\n  }\n}\n</code></pre>\n<p>You can also use classes from the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/atomic/package-summary.html\" rel=\"nofollow noreferrer\">java.util.concurrent.atomic</a> package, e.g. AtomicInteger or AtomicIntegerArray</p>\n<h2>Why this answer won't work</h2>\n<p>I just wanted to be sure to point out exactly what is wrong with this answer, in case anyone thinks that <code>synchronized</code> can be used to solve thread race effects.</p>\n<pre><code>| Thread A      | Thread B         | \n|---------------|------------------|\n| read x (x=4)  |                  |\n|               | read x (x=4)     |\n| Calculate 4+1 |                  |\n| EAX  5       |                  |\n|               | Calculate 4+1    |\n|               | EAX  5          |\n| Start sync    |                  |\n| {             | Start sync       |\n| { x  5       |    wait          |\n| {             |    wait          |\n| End sync      |    wait          |\n|               | {                | \n|               | { x  5          |\n|               | {                | \n|               | End sync         |\n</code></pre>\n<p>The end result of the operations:</p>\n<pre><code>x = 4;\nx += 1;\nx += 1;\n</code></pre>\n<p>is that <strong>x = 5</strong> rather than 6.</p>\n<p>The same issue exists with the <code>volatile</code> keyword. The <code>volatile</code> keyword doesn't save you from thread effects. The volatile keyword only ensures that</p>\n<ul>\n<li>caches are flushed before a variable is read</li>\n<li>caches are flushed after a value is written</li>\n</ul>\n<p>Strictly speaking, <code>volatile</code> ensures that memory operations are not reordered around a volatile variable. Which means you still suffer from the:</p>\n<ul>\n<li>read from x</li>\n<li>write to x</li>\n</ul>\n<p>problem.</p>\n"},{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557453686,"creation_date":1557453686,"answer_id":56069754,"question_id":1152298,"body_markdown":"    private final static AtomicInteger at = new AtomicInteger();\r\n \r\n    public void run() {\r\n        at.set(7);\r\n        int i = at.incrementAndGet();\r\n","title":"What&#39;s Java&#39;s equivalent of .Net&#39;s Interlocked class?","body":"<pre><code>private final static AtomicInteger at = new AtomicInteger();\n\npublic void run() {\n    at.set(7);\n    int i = at.incrementAndGet();\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9231,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":1152325,"answer_count":3,"score":16,"last_activity_date":1659381313,"creation_date":1248078305,"question_id":1152298,"body_markdown":"How do I modify an int atomically and thread-safely in Java?\r\n\r\nAtomically increment, test &amp; set, etc...?","title":"What&#39;s Java&#39;s equivalent of .Net&#39;s Interlocked class?","body":"<p>How do I modify an int atomically and thread-safely in Java?</p>\n\n<p>Atomically increment, test &amp; set, etc...?</p>\n"},{"tags":["java","algorithm","collections","treeset"],"comments":[{"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"score":1,"creation_date":1659379423,"post_id":73198184,"comment_id":129276105,"body_markdown":"Who said `next()` was constant time?","body":"Who said <code>next()</code> was constant time?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1659379549,"post_id":73198184,"comment_id":129276142,"body_markdown":"And who says that `iterator()` needs to be `O(1)`? https://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations tells you that `next()` is `O(n)` btw.","body":"And who says that <code>iterator()</code> needs to be <code>O(1)</code>? <a href=\"https://stackoverflow.com/questions/559839/big-o-summary-for-java-collections-framework-implementations\" title=\"big o summary for java collections framework implementations\">stackoverflow.com/questions/559839/&hellip;</a> tells you that <code>next()</code> is <code>O(n)</code> btw."},{"owner":{"account_id":4401323,"reputation":2073,"user_id":3586940,"display_name":"Hisham Hijjawi"},"score":0,"creation_date":1659380424,"post_id":73198184,"comment_id":129276411,"body_markdown":"@GhostCat [This answer](https://stackoverflow.com/questions/40371854/the-time-complexity-of-iterator-in-java) led me to believe that iterator() should be O(1).","body":"@GhostCat <a href=\"https://stackoverflow.com/questions/40371854/the-time-complexity-of-iterator-in-java\">This answer</a> led me to believe that iterator() should be O(1)."}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1659381169,"creation_date":1659381169,"answer_id":73198510,"question_id":73198184,"body_markdown":"`iterator()` returns an object that implements the Iterator interface. This _can_ be accomplished in constant time, of course. \r\n\r\nE. g. the iterator might manage a pointer to the current element. At the beginning this pointer might be `null`, so that the first call of `hasNext()` would have to walk down the tree to the first element, which should have a complexity of O(log n).","title":"Why isn&#39;t TreeSet&#39;s first method implemented in O(1) time?","body":"<p><code>iterator()</code> returns an object that implements the Iterator interface. This <em>can</em> be accomplished in constant time, of course.</p>\n<p>E. g. the iterator might manage a pointer to the current element. At the beginning this pointer might be <code>null</code>, so that the first call of <code>hasNext()</code> would have to walk down the tree to the first element, which should have a complexity of O(log n).</p>\n"}],"owner":{"account_id":4401323,"reputation":2073,"user_id":3586940,"display_name":"Hisham Hijjawi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73198510,"answer_count":1,"score":1,"last_activity_date":1659381169,"creation_date":1659379089,"question_id":73198184,"body_markdown":"My understanding of`TreeSet`&#39;s `first()` method is that it will take `O(log n)` based of the explanation in [this](https://stackoverflow.com/questions/5214670/what-is-the-time-complexity-of-ordered-operations-in-treeset) answer. \r\n\r\nThe explanation in that answer says that for it to be `o(1)` we would need to maintain a pointer to the first element in the `TreeSet` which would add a constant time to every operation. However, doesn&#39;t Java already maintain such a pointer since the `iterator()` method of a collection must be `O(1)`? i.e couldn&#39;t we just instantiate the iterator in `O(1)` and get the first element using `next()` in constant time?  ","title":"Why isn&#39;t TreeSet&#39;s first method implemented in O(1) time?","body":"<p>My understanding of<code>TreeSet</code>'s <code>first()</code> method is that it will take <code>O(log n)</code> based of the explanation in <a href=\"https://stackoverflow.com/questions/5214670/what-is-the-time-complexity-of-ordered-operations-in-treeset\">this</a> answer.</p>\n<p>The explanation in that answer says that for it to be <code>o(1)</code> we would need to maintain a pointer to the first element in the <code>TreeSet</code> which would add a constant time to every operation. However, doesn't Java already maintain such a pointer since the <code>iterator()</code> method of a collection must be <code>O(1)</code>? i.e couldn't we just instantiate the iterator in <code>O(1)</code> and get the first element using <code>next()</code> in constant time?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3185265,"reputation":7712,"user_id":2691058,"accept_rate":85,"display_name":"toastrackengima"},"score":2,"creation_date":1659381038,"post_id":73198473,"comment_id":129276623,"body_markdown":"Do you actually need to check that the pages resolve, or just that the links are in a valid format? Could just use a regex to check the URL format if that&#39;s all you need, which would be a lot faster. If you really need the status code, you could look into the [threads API](https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html) to run more requests at the same time","body":"Do you actually need to check that the pages resolve, or just that the links are in a valid format? Could just use a regex to check the URL format if that&#39;s all you need, which would be a lot faster. If you really need the status code, you could look into the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\">threads API</a> to run more requests at the same time"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1659381180,"post_id":73198473,"comment_id":129276657,"body_markdown":"Use more than one thread?","body":"Use more than one thread?"},{"owner":{"account_id":23398430,"reputation":1,"user_id":17461990,"display_name":"Chris Lalu"},"score":0,"creation_date":1659383200,"post_id":73198473,"comment_id":129277216,"body_markdown":"@Toastrackenigma Yeah i need the status code. Im new to this, is it normal for that to take a long time?","body":"@Toastrackenigma Yeah i need the status code. Im new to this, is it normal for that to take a long time?"},{"owner":{"account_id":3185265,"reputation":7712,"user_id":2691058,"accept_rate":85,"display_name":"toastrackengima"},"score":0,"creation_date":1659384730,"post_id":73198473,"comment_id":129277683,"body_markdown":"Yes, it is normal for that to take a while @ChrisLalu, because essentially it has actually go to the webpage and wait for the server to send back a response -- in much the same way that if you go to a website in your web browser you have to wait for it to load. Additionally, because you&#39;re doing just inline, you have to wait for it to finish before it can move on to the next one. If you used threads, you could start the requests for all your urls at once, and load them all at the same time, which would be significantly faster","body":"Yes, it is normal for that to take a while @ChrisLalu, because essentially it has actually go to the webpage and wait for the server to send back a response -- in much the same way that if you go to a website in your web browser you have to wait for it to load. Additionally, because you&#39;re doing just inline, you have to wait for it to finish before it can move on to the next one. If you used threads, you could start the requests for all your urls at once, and load them all at the same time, which would be significantly faster"},{"owner":{"account_id":23398430,"reputation":1,"user_id":17461990,"display_name":"Chris Lalu"},"score":0,"creation_date":1659387123,"post_id":73198473,"comment_id":129278278,"body_markdown":"@Toastrackenigma okay I appreciate you help!","body":"@Toastrackenigma okay I appreciate you help!"}],"owner":{"account_id":23398430,"reputation":1,"user_id":17461990,"display_name":"Chris Lalu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659381080,"creation_date":1659380896,"question_id":73198473,"body_markdown":"I&#39;m writing a Java program that queries a database, then takes all the URLs from the table and checks if the links work. I&#39;m using the code below for validation.\r\n\r\n```java\r\nstatic boolean urlvalid(String theurl) throws IOException {\r\n    URL url = new URL(theurl);\r\n    HttpURLConnection http = (HttpURLConnection) url.openConnection()\r\n    Int statusCode = http.getResponseCode();\r\n}\r\n```\r\n\r\nThe issue is that this takes very long to run. It can check about 70 links per minute. How can I do this faster?","title":"URL validation takes too long","body":"<p>I'm writing a Java program that queries a database, then takes all the URLs from the table and checks if the links work. I'm using the code below for validation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static boolean urlvalid(String theurl) throws IOException {\n    URL url = new URL(theurl);\n    HttpURLConnection http = (HttpURLConnection) url.openConnection()\n    Int statusCode = http.getResponseCode();\n}\n</code></pre>\n<p>The issue is that this takes very long to run. It can check about 70 links per minute. How can I do this faster?</p>\n"},{"tags":["java","hibernate","postgresql"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1453106804,"post_id":34849164,"comment_id":57440743,"body_markdown":"Why don&#39;t you use a real `boolean` in the database?","body":"Why don&#39;t you use a real <code>boolean</code> in the database?"},{"owner":{"account_id":4969536,"reputation":39,"user_id":3997813,"display_name":"Sairam Saladi"},"score":0,"creation_date":1453107448,"post_id":34849164,"comment_id":57441133,"body_markdown":"Actually we used char(1) for old database which is in mysql. We recreated all the tables in postgresql. Now changing the type would consume a lot of time in checking and debugging the code. The databases are huge.","body":"Actually we used char(1) for old database which is in mysql. We recreated all the tables in postgresql. Now changing the type would consume a lot of time in checking and debugging the code. The databases are huge."}],"answers":[{"tags":[],"owner":{"account_id":5740316,"reputation":43,"user_id":4533223,"display_name":"pabloso18"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659380866,"creation_date":1659380866,"answer_id":73198468,"question_id":34849164,"body_markdown":"I think you can map the column like this\r\n\r\n```\r\n@Type(type = &quot;org.hibernate.type.TrueFalseType&quot;)\r\n@Column(name = &quot;IsValid&quot;, columnDefinition = &quot;CHAR(1)&quot;, length = 1)\r\nprivate Boolean valid;\r\n```","title":"how to map java boolean type to postgresql Char(1) in hibernate?","body":"<p>I think you can map the column like this</p>\n<pre><code>@Type(type = &quot;org.hibernate.type.TrueFalseType&quot;)\n@Column(name = &quot;IsValid&quot;, columnDefinition = &quot;CHAR(1)&quot;, length = 1)\nprivate Boolean valid;\n</code></pre>\n"}],"owner":{"account_id":4969536,"reputation":39,"user_id":3997813,"display_name":"Sairam Saladi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":708,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1659380866,"creation_date":1453101621,"question_id":34849164,"body_markdown":"I cannot use yes_no type in hbm file . Is there a way in which i can create a custom dialect such that it maps boolean to char(1) ?","title":"how to map java boolean type to postgresql Char(1) in hibernate?","body":"<p>I cannot use yes_no type in hbm file . Is there a way in which i can create a custom dialect such that it maps boolean to char(1) ?</p>\n"},{"tags":["java","maven","build","azure-devops","azure-artifacts"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1614427193,"post_id":66395415,"comment_id":117385381,"body_markdown":"You are not allowed (`m 401 Unauthorized -` to access the given repository)... https://myworld.pkgs.visualstudio.com ???","body":"You are not allowed (<code>m 401 Unauthorized -</code> to access the given repository)... <a href=\"https://myworld.pkgs.visualstudio.com\" rel=\"nofollow noreferrer\">myworld.pkgs.visualstudio.com</a> ???"},{"owner":{"account_id":292663,"reputation":613,"user_id":595553,"display_name":"Satyam Pandey"},"score":0,"creation_date":1614481129,"post_id":66395415,"comment_id":117397672,"body_markdown":"ohk what can be done to resolve this","body":"ohk what can be done to resolve this"}],"answers":[{"tags":[],"owner":{"account_id":18482692,"reputation":23461,"user_id":13464420,"display_name":"Kevin Lu-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614650060,"creation_date":1614569065,"answer_id":66416227,"question_id":66395415,"body_markdown":"&gt;....401 Unauthorized\r\n\r\nThe 401 error is an authentication error. \r\n\r\nAdd the [Maven Authenticate task][1] before calling Maven task. The Maven Authenticate task can provide credentials for Azure Artifacts feeds and external Maven repositories in the current user&#39;s settings.xml file.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf your azure artifacts are in the same Collection, you can directly select the corresponding feed in drop down list. \r\n\r\nIf yours is external azure artifacts(e.g. Azure Devops Service), you need to create a service connection(maven) in **Porject Settings -&gt; Service Connections**.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**Update:**\r\n\r\nIf you couldn&#39;t use Maven Authenticate task, you could try the following steps to use the Settings.xml file.\r\n\r\nStep1: Create a Setting.xml file. \r\n\r\nYou could navigate to **Azure Devops Service -&gt; Artifacts -&gt; Connect to feed -&gt; Maven**.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nStep2: In you Azure Devops Server, you could save your settings.xml to the path \r\n\r\n    %USERPROFILE%\\.m2\\settings.xml\r\n\r\nYou could refer to [this doc][5].\r\n\r\nOn the other hand, when you add option to the Maven task.\r\n\r\nFor example:\r\n\r\n    - task: Maven@3\r\n      displayName: &#39;Maven pom.xml&#39;\r\n      inputs:\r\n       ...\r\n        options: &#39;-s filepath/settings.xml&#39;\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/package/maven-authenticate?view=azure-devops\r\n  [2]: https://i.stack.imgur.com/0qWvd.png\r\n  [3]: https://i.stack.imgur.com/g4gEa.png\r\n  [4]: https://i.stack.imgur.com/FkLE0.png\r\n  [5]: https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/package/maven-authenticate?view=azure-devops#where-is-the-settingsxml-file-which-contains-the-authenticated-repositories-located","title":"Azure build pipeline unable to download the dependences from azure artifact,","body":"<blockquote>\n<p>....401 Unauthorized</p>\n</blockquote>\n<p>The 401 error is an authentication error.</p>\n<p>Add the <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/package/maven-authenticate?view=azure-devops\" rel=\"nofollow noreferrer\">Maven Authenticate task</a> before calling Maven task. The Maven Authenticate task can provide credentials for Azure Artifacts feeds and external Maven repositories in the current user's settings.xml file.</p>\n<p><a href=\"https://i.stack.imgur.com/0qWvd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0qWvd.png\" alt=\"enter image description here\" /></a></p>\n<p>If your azure artifacts are in the same Collection, you can directly select the corresponding feed in drop down list.</p>\n<p>If yours is external azure artifacts(e.g. Azure Devops Service), you need to create a service connection(maven) in <strong>Porject Settings -&gt; Service Connections</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/g4gEa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g4gEa.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Update:</strong></p>\n<p>If you couldn't use Maven Authenticate task, you could try the following steps to use the Settings.xml file.</p>\n<p>Step1: Create a Setting.xml file.</p>\n<p>You could navigate to <strong>Azure Devops Service -&gt; Artifacts -&gt; Connect to feed -&gt; Maven</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/FkLE0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FkLE0.png\" alt=\"enter image description here\" /></a></p>\n<p>Step2: In you Azure Devops Server, you could save your settings.xml to the path</p>\n<pre><code>%USERPROFILE%\\.m2\\settings.xml\n</code></pre>\n<p>You could refer to <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/tasks/package/maven-authenticate?view=azure-devops#where-is-the-settingsxml-file-which-contains-the-authenticated-repositories-located\" rel=\"nofollow noreferrer\">this doc</a>.</p>\n<p>On the other hand, when you add option to the Maven task.</p>\n<p>For example:</p>\n<pre><code>- task: Maven@3\n  displayName: 'Maven pom.xml'\n  inputs:\n   ...\n    options: '-s filepath/settings.xml'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1648057,"reputation":9884,"user_id":1519199,"accept_rate":68,"display_name":"Jthorpe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659380270,"creation_date":1659380270,"answer_id":73198366,"question_id":66395415,"body_markdown":"I came across this problem recently in a Pipeline that has been working for quite a while.  In my case adding a NPM Authentication step in my pipeline did the trick: \r\n\r\n```yaml\r\n- task: npmAuthenticate@0\r\n  inputs:\r\n    workingFile: &quot;$(Build.SourcesDirectory)/path/to/my/.npmrc&quot;\r\n```","title":"Azure build pipeline unable to download the dependences from azure artifact,","body":"<p>I came across this problem recently in a Pipeline that has been working for quite a while.  In my case adding a NPM Authentication step in my pipeline did the trick:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>- task: npmAuthenticate@0\n  inputs:\n    workingFile: &quot;$(Build.SourcesDirectory)/path/to/my/.npmrc&quot;\n</code></pre>\n"}],"owner":{"account_id":292663,"reputation":613,"user_id":595553,"display_name":"Satyam Pandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2892,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1659380270,"creation_date":1614397735,"question_id":66395415,"body_markdown":"I m trying to create build pipeline on azure devops server, my build pipeline is able to download dependences from Azure Artifact\r\n\r\n\r\n```2021-03-02T05:45:24.8329106Z [INFO] BUILD FAILURE\r\n2021-03-02T05:45:24.8329366Z [INFO] ------------------------------------------------------------------------\r\n2021-03-02T05:45:24.8329608Z [INFO] Total time:  02:31 min\r\n2021-03-02T05:45:24.8330187Z [INFO] Finished at: 2021-03-02T05:45:24Z\r\n2021-03-02T05:45:24.8330469Z [INFO] ------------------------------------------------------------------------\r\n2021-03-02T05:45:24.8330824Z [ERROR] Failed to execute goal on project myapplication-commons-lib: Could not resolve dependencies for project com.myapplication.mdm.commons:myapplication-commons-lib:jar:1.0.0-SNAPSHOT: Failed to collect dependencies at com.tibco.ebx.core:ebx-lib:jar:5.9.10: Failed to read artifact descriptor for com.tibco.ebx.core:ebx-lib:jar:5.9.10: Could not transfer artifact com.tibco.ebx.core:ebx-lib:pom:5.9.10 from/to myapp-snapshots (https://myapplication.pkgs.visualstudio.com/_packaging/myapp-snapshots/maven/v1): Authentication failed for https://myapplication.pkgs.visualstudio.com/_packaging/myapp-snapshots/maven/v1/com/tibco/ebx/core/ebx-lib/5.9.10/ebx-lib-5.9.10.pom 401 Unauthorized -&gt; [Help 1]\r\n2021-03-02T05:45:24.8331113Z [ERROR] ```\r\n\r\n\r\nYAML Pipeline\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L34oP.png\r\n\r\nYAML from pipeline \r\n\r\n- task: Maven@3\r\n  displayName: &#39;Code Compilation&#39;\r\n  inputs:\r\n    mavenPomFile: &#39;$(System.DefaultWorkingDirectory)/solution/core/build/maven/pom.xml&#39;\r\n    options: &#39;-s $(System.DefaultWorkingDirectory)/solution/core/build/maven/settings.xml&#39;\r\n    goals: package\r\n    mavenAuthenticateFeed: true    \r\n","title":"Azure build pipeline unable to download the dependences from azure artifact,","body":"<p>I m trying to create build pipeline on azure devops server, my build pipeline is able to download dependences from Azure Artifact</p>\n<pre><code>2021-03-02T05:45:24.8329366Z [INFO] ------------------------------------------------------------------------\n2021-03-02T05:45:24.8329608Z [INFO] Total time:  02:31 min\n2021-03-02T05:45:24.8330187Z [INFO] Finished at: 2021-03-02T05:45:24Z\n2021-03-02T05:45:24.8330469Z [INFO] ------------------------------------------------------------------------\n2021-03-02T05:45:24.8330824Z [ERROR] Failed to execute goal on project myapplication-commons-lib: Could not resolve dependencies for project com.myapplication.mdm.commons:myapplication-commons-lib:jar:1.0.0-SNAPSHOT: Failed to collect dependencies at com.tibco.ebx.core:ebx-lib:jar:5.9.10: Failed to read artifact descriptor for com.tibco.ebx.core:ebx-lib:jar:5.9.10: Could not transfer artifact com.tibco.ebx.core:ebx-lib:pom:5.9.10 from/to myapp-snapshots (https://myapplication.pkgs.visualstudio.com/_packaging/myapp-snapshots/maven/v1): Authentication failed for https://myapplication.pkgs.visualstudio.com/_packaging/myapp-snapshots/maven/v1/com/tibco/ebx/core/ebx-lib/5.9.10/ebx-lib-5.9.10.pom 401 Unauthorized -&gt; [Help 1]\n2021-03-02T05:45:24.8331113Z [ERROR] ```\n\n\nYAML Pipeline\n[![enter image description here][1]][1]\n\n\n[![enter image description here][2]][2]\n\n\n  [1]: https://i.stack.imgur.com/L34oP.png\n\nYAML from pipeline \n\n- task: Maven@3\n  displayName: 'Code Compilation'\n  inputs:\n    mavenPomFile: '$(System.DefaultWorkingDirectory)/solution/core/build/maven/pom.xml'\n    options: '-s $(System.DefaultWorkingDirectory)/solution/core/build/maven/settings.xml'\n    goals: package\n    mavenAuthenticateFeed: true    \n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1232037513,"creation_date":1232037513,"answer_id":447507,"question_id":447478,"body_markdown":"The &lt;code&gt;true&amp;#95;false&lt;/code&gt; or &lt;code&gt;yes_no&lt;/code&gt; types will do this for you.","title":"How do I map a CHAR(1) to a boolean using Hibernate for Java?","body":"<p>The <code>true&#95;false</code> or <code>yes_no</code> types will do this for you.</p>\n"},{"tags":[],"owner":{"account_id":15201,"reputation":10627,"user_id":31884,"accept_rate":89,"display_name":"Simon Groenewolt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1232037889,"creation_date":1232037532,"answer_id":447510,"question_id":447478,"body_markdown":"CharBooleanType is probably what you are looking for http://www.hibernate.org/hib_docs/v3/api/org/hibernate/type/class-use/CharBooleanType.html\r\n\r\nedit: dtsazza&#39;s answer is probably more useful if you just want to get going and use characters y/n or t/f. If those don&#39;t match your usage you can implement your own type using CharBooleanType.","title":"How do I map a CHAR(1) to a boolean using Hibernate for Java?","body":"<p>CharBooleanType is probably what you are looking for <a href=\"http://www.hibernate.org/hib_docs/v3/api/org/hibernate/type/class-use/CharBooleanType.html\" rel=\"nofollow noreferrer\">http://www.hibernate.org/hib_docs/v3/api/org/hibernate/type/class-use/CharBooleanType.html</a></p>\n\n<p>edit: dtsazza's answer is probably more useful if you just want to get going and use characters y/n or t/f. If those don't match your usage you can implement your own type using CharBooleanType.</p>\n"},{"tags":[],"owner":{"account_id":5740316,"reputation":43,"user_id":4533223,"display_name":"pabloso18"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659380181,"creation_date":1659380181,"answer_id":73198349,"question_id":447478,"body_markdown":"You can map like this:\r\n\r\n```\r\n@Type(type = &quot;org.hibernate.type.TrueFalseType&quot;)\r\n@Column(name = &quot;IsValid&quot;, columnDefinition = &quot;CHAR(1)&quot;, length = 1)\r\nprivate Boolean valid;\r\n```\r\n","title":"How do I map a CHAR(1) to a boolean using Hibernate for Java?","body":"<p>You can map like this:</p>\n<pre><code>@Type(type = &quot;org.hibernate.type.TrueFalseType&quot;)\n@Column(name = &quot;IsValid&quot;, columnDefinition = &quot;CHAR(1)&quot;, length = 1)\nprivate Boolean valid;\n</code></pre>\n"}],"owner":{"account_id":988,"reputation":85941,"user_id":1310,"accept_rate":98,"display_name":"ScArcher2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10000,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":447507,"answer_count":3,"score":8,"last_activity_date":1659380181,"creation_date":1232037163,"question_id":447478,"body_markdown":"How do I map a CHAR(1) to a boolean using Hibernate for Java?","title":"How do I map a CHAR(1) to a boolean using Hibernate for Java?","body":"<p>How do I map a CHAR(1) to a boolean using Hibernate for Java?</p>\n"},{"tags":["java","rest","jersey","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":2496531,"reputation":2781,"user_id":2172752,"display_name":"MartenCatcher"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1418821799,"creation_date":1384675048,"answer_id":20028529,"question_id":20028451,"body_markdown":"I never work with dropwizard before, only creating simple services using jersey. I decided to see the user&#39;s manual, and immediately found a description of the settings.\r\n\r\n[Dropwizard configuration manual][1]\r\n\r\n  [1]: http://dropwizard.codahale.com/manual/core/#configuration\r\n\r\n&gt; You can override configuration settings by passing special Java system properties when starting your service. Overrides must start with prefix dw., followed by the path to the configuration value being overridden.\r\nFor example, to override the HTTP port to use, you could start your service like this:\r\n\r\n    java -Ddw.http.port=9090 server my-config.json\r\n\r\nIs it suitable for you?","title":"Change Dropwizard default ports","body":"<p>I never work with dropwizard before, only creating simple services using jersey. I decided to see the user's manual, and immediately found a description of the settings.</p>\n\n<p><a href=\"http://dropwizard.codahale.com/manual/core/#configuration\" rel=\"nofollow\">Dropwizard configuration manual</a></p>\n\n<blockquote>\n  <p>You can override configuration settings by passing special Java system properties when starting your service. Overrides must start with prefix dw., followed by the path to the configuration value being overridden.\n  For example, to override the HTTP port to use, you could start your service like this:</p>\n</blockquote>\n\n<pre><code>java -Ddw.http.port=9090 server my-config.json\n</code></pre>\n\n<p>Is it suitable for you?</p>\n"},{"tags":[],"owner":{"account_id":211270,"reputation":10872,"user_id":463324,"accept_rate":77,"display_name":"condit"},"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1462220880,"creation_date":1384692737,"answer_id":20030874,"question_id":20028451,"body_markdown":"You can update the ports in your yaml configuration file:\r\n\r\n    http:\r\n      port: 9000\r\n      adminPort: 9001\r\n\r\nSee http://www.dropwizard.io/0.9.2/docs/manual/configuration.html#http for more information.\r\n\r\n**EDIT**\r\n\r\nIf you&#39;ve migrated to Dropwizard 0.7.x, 0.8.x, 0.9.x you can use the following:\r\n\r\n    server:\r\n      applicationConnectors:\r\n      - type: http \r\n        port: 9000\r\n      adminConnectors:\r\n      - type: http\r\n        port: 9001\r\n\r\n","title":"Change Dropwizard default ports","body":"<p>You can update the ports in your yaml configuration file:</p>\n\n<pre><code>http:\n  port: 9000\n  adminPort: 9001\n</code></pre>\n\n<p>See <a href=\"http://www.dropwizard.io/0.9.2/docs/manual/configuration.html#http\">http://www.dropwizard.io/0.9.2/docs/manual/configuration.html#http</a> for more information.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>If you've migrated to Dropwizard 0.7.x, 0.8.x, 0.9.x you can use the following:</p>\n\n<pre><code>server:\n  applicationConnectors:\n  - type: http \n    port: 9000\n  adminConnectors:\n  - type: http\n    port: 9001\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1408200741,"creation_date":1408197604,"answer_id":25340864,"question_id":20028451,"body_markdown":"From the command line, you can set them this way, in Dropwizard 0.6:\r\n\r\n    java -Ddw.http.port=9090 -Ddw.http.adminPort=9091 -jar yourapp.jar server yourconfig.yml\r\n\r\nIf you use Dropwizard 0.7, the system properties are set this way:\r\n\r\n    java -Ddw.server.applicationConnectors[0].port=9090 -Ddw.server.adminConnectors[0].port=9091 -jar yourapp.jar server yourconfig.yml\r\n\r\nI seems that, if you configure ports through system properties, you also need to set them in the yml (the system property takes precedence, anyway). At least that&#39;s happening to me in Dropwizard 0.7. Example of the YAML port configuration:\r\n\r\n    server:\r\n      applicationConnectors:\r\n      - type: http\r\n        port: 8090\r\n      adminConnectors:\r\n      - type: http\r\n        port: 8091\r\n\r\nIf you don&#39;t put those ports in the YAML, Dropwizard complains:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Unable to override server.applicationConnectors[0].port; node with index not found.\r\n","title":"Change Dropwizard default ports","body":"<p>From the command line, you can set them this way, in Dropwizard 0.6:</p>\n\n<pre><code>java -Ddw.http.port=9090 -Ddw.http.adminPort=9091 -jar yourapp.jar server yourconfig.yml\n</code></pre>\n\n<p>If you use Dropwizard 0.7, the system properties are set this way:</p>\n\n<pre><code>java -Ddw.server.applicationConnectors[0].port=9090 -Ddw.server.adminConnectors[0].port=9091 -jar yourapp.jar server yourconfig.yml\n</code></pre>\n\n<p>I seems that, if you configure ports through system properties, you also need to set them in the yml (the system property takes precedence, anyway). At least that's happening to me in Dropwizard 0.7. Example of the YAML port configuration:</p>\n\n<pre><code>server:\n  applicationConnectors:\n  - type: http\n    port: 8090\n  adminConnectors:\n  - type: http\n    port: 8091\n</code></pre>\n\n<p>If you don't put those ports in the YAML, Dropwizard complains:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: Unable to override server.applicationConnectors[0].port; node with index not found.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":451007,"reputation":2846,"user_id":846644,"accept_rate":69,"display_name":"Natan"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1450187350,"creation_date":1411139908,"answer_id":25937231,"question_id":20028451,"body_markdown":"This is what I&#39;ve done for my test applications (0.7.x, 0.8.x, 0.9.x):\r\n\r\n    public class TestConfiguration extends Configuration {\r\n    \r\n      public TestConfiguration() {\r\n        super();\r\n        // The following is to make sure it runs with a random port. parallel tests clash otherwise\r\n        ((HttpConnectorFactory) ((DefaultServerFactory) getServerFactory()).getApplicationConnectors().get(0)).setPort(0);\r\n        // this is for admin port\r\n        ((HttpConnectorFactory) ((DefaultServerFactory) getServerFactory()).getAdminConnectors().get(0)).setPort(0);   } }\r\n\r\n\r\n0 gives a random port that is available.\r\n\r\nI know it&#39;s not pretty but couldn&#39;t find a better way to do it programmatically. I needed to make sure ports don&#39;t clash between different integration tests, because they run in parallel. Creating a yml file randomly for each test would have been uglier I believe.\r\n\r\nOh and this is how you get the running port later on:\r\n\r\n    @Override\r\n      public void run(TestConfiguration configuration, Environment environment) throws Exception {\r\n        this.environment = environment;\r\n        // do other stuff if you need to\r\n      }\r\n    \r\n      public int getPort() {\r\n        return ((AbstractNetworkConnector) environment.getApplicationContext().getServer().getConnectors()[0]).getLocalPort();\r\n      }","title":"Change Dropwizard default ports","body":"<p>This is what I've done for my test applications (0.7.x, 0.8.x, 0.9.x):</p>\n\n<pre><code>public class TestConfiguration extends Configuration {\n\n  public TestConfiguration() {\n    super();\n    // The following is to make sure it runs with a random port. parallel tests clash otherwise\n    ((HttpConnectorFactory) ((DefaultServerFactory) getServerFactory()).getApplicationConnectors().get(0)).setPort(0);\n    // this is for admin port\n    ((HttpConnectorFactory) ((DefaultServerFactory) getServerFactory()).getAdminConnectors().get(0)).setPort(0);   } }\n</code></pre>\n\n<p>0 gives a random port that is available.</p>\n\n<p>I know it's not pretty but couldn't find a better way to do it programmatically. I needed to make sure ports don't clash between different integration tests, because they run in parallel. Creating a yml file randomly for each test would have been uglier I believe.</p>\n\n<p>Oh and this is how you get the running port later on:</p>\n\n<pre><code>@Override\n  public void run(TestConfiguration configuration, Environment environment) throws Exception {\n    this.environment = environment;\n    // do other stuff if you need to\n  }\n\n  public int getPort() {\n    return ((AbstractNetworkConnector) environment.getApplicationContext().getServer().getConnectors()[0]).getLocalPort();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6456827,"reputation":389,"user_id":5001931,"display_name":"Jay Khatwani"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1440563257,"creation_date":1440563257,"answer_id":32218017,"question_id":20028451,"body_markdown":"For Dropwizard 0.8.0 --\r\n\r\nYour YAML file can be - \r\n\r\n&gt;     server:\r\n&gt;         type: simple\r\n&gt;         connector:\r\n&gt;           type: http\r\n&gt;           port: 80\r\n\r\nIf you want to change the ports from command-line, \r\n\r\n    java -Ddw.server.connector.port=9090 -jar yourapp.jar server yourconfig.yml\r\n\r\nThe command will work only if you have the entry in the YAML file. DW needs a default value which it can override .\r\n\r\n \r\n","title":"Change Dropwizard default ports","body":"<p>For Dropwizard 0.8.0 --</p>\n\n<p>Your YAML file can be - </p>\n\n<blockquote>\n<pre><code>server:\n    type: simple\n    connector:\n      type: http\n      port: 80\n</code></pre>\n</blockquote>\n\n<p>If you want to change the ports from command-line, </p>\n\n<pre><code>java -Ddw.server.connector.port=9090 -jar yourapp.jar server yourconfig.yml\n</code></pre>\n\n<p>The command will work only if you have the entry in the YAML file. DW needs a default value which it can override .</p>\n"},{"tags":[],"owner":{"account_id":2487502,"reputation":783,"user_id":2165675,"accept_rate":7,"display_name":"Prasad Revanaki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476457811,"creation_date":1476457811,"answer_id":40046490,"question_id":20028451,"body_markdown":"For Dropwizard 0.6.2 you can change the port programmatically as below in your service class.\r\n\r\n    import com.yammer.dropwizard.config.Configuration;\r\n    import com.yammer.dropwizard.config.Bootstrap;\r\n    import com.yammer.dropwizard.config.Environment;\r\n    import com.yammer.dropwizard.config.HttpConfiguration;\r\n    import com.yammer.dropwizard.Service;\r\n\r\n    public class BlogService extends Service&lt;Configuration&gt; {\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tnew BlogService().run(new String[] {&quot;server&quot;});\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void initialize(Bootstrap&lt;Configuration&gt; bootsrap) {\r\n\t\tbootsrap.setName(&quot;blog&quot;);\r\n\t}    \r\n\r\n\r\n    public void run(Configuration configuration, Environment environment) throws Exception {\r\n\t\t\t\t\t\t\r\n\t\tHttpConfiguration config = new HttpConfiguration();\r\n\t\tconfig.setPort(8085);\r\n\t\tconfig.setAdminPort(8086);\r\n\t\tconfiguration.setHttpConfiguration(config);\r\n\t}\r\n\r\n    }","title":"Change Dropwizard default ports","body":"<p>For Dropwizard 0.6.2 you can change the port programmatically as below in your service class.</p>\n\n<pre><code>import com.yammer.dropwizard.config.Configuration;\nimport com.yammer.dropwizard.config.Bootstrap;\nimport com.yammer.dropwizard.config.Environment;\nimport com.yammer.dropwizard.config.HttpConfiguration;\nimport com.yammer.dropwizard.Service;\n\npublic class BlogService extends Service&lt;Configuration&gt; {\n\npublic static void main(String[] args) throws Exception {\n    new BlogService().run(new String[] {\"server\"});\n}\n\n@Override\npublic void initialize(Bootstrap&lt;Configuration&gt; bootsrap) {\n    bootsrap.setName(\"blog\");\n}    \n\n\npublic void run(Configuration configuration, Environment environment) throws Exception {\n\n    HttpConfiguration config = new HttpConfiguration();\n    config.setPort(8085);\n    config.setAdminPort(8086);\n    configuration.setHttpConfiguration(config);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3387874,"reputation":113,"user_id":2843460,"display_name":"Vikash Tiwari"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1487338628,"creation_date":1487328641,"answer_id":42296010,"question_id":20028451,"body_markdown":"If you want it to be changed at run-time use\r\n\r\n    -Ddw.server.applicationConnectors[0].port=9090  -Ddw.server.adminConnectors[0].port=9091\r\n\r\nI have used it with version 1.0.5","title":"Change Dropwizard default ports","body":"<p>If you want it to be changed at run-time use</p>\n\n<pre><code>-Ddw.server.applicationConnectors[0].port=9090  -Ddw.server.adminConnectors[0].port=9091\n</code></pre>\n\n<p>I have used it with version 1.0.5</p>\n"},{"tags":[],"owner":{"account_id":3237842,"reputation":4118,"user_id":2731545,"display_name":"Thomas Sundberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520419340,"creation_date":1520419340,"answer_id":49149910,"question_id":20028451,"body_markdown":"I needed to set the ports but I couldn&#39;t set them from the command line. I ended up with this solution:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String applicationPort = &quot;9090&quot;;\r\n        String adminPort = &quot;9091&quot;;\r\n\r\n        System.setProperty(&quot;dw.server.applicationConnectors[0].port&quot;, applicationPort);\r\n        System.setProperty(&quot;dw.server.adminConnectors[0].port&quot;, adminPort);\r\n\r\n        new Main().run(args);\r\n    }\r\n\r\n\r\nThis is done using Dropwizard `1.3.0-rc7`","title":"Change Dropwizard default ports","body":"<p>I needed to set the ports but I couldn't set them from the command line. I ended up with this solution:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    String applicationPort = \"9090\";\n    String adminPort = \"9091\";\n\n    System.setProperty(\"dw.server.applicationConnectors[0].port\", applicationPort);\n    System.setProperty(\"dw.server.adminConnectors[0].port\", adminPort);\n\n    new Main().run(args);\n}\n</code></pre>\n\n<p>This is done using Dropwizard <code>1.3.0-rc7</code></p>\n"},{"tags":[],"owner":{"account_id":14102414,"reputation":5,"user_id":10187457,"display_name":"Mehul Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589141345,"creation_date":1589141345,"answer_id":61718085,"question_id":20028451,"body_markdown":"In your .yml file make these changes\r\n\r\n```\r\nserver:\r\n  registerDefaultExceptionMappers: false\r\n  applicationConnectors:\r\n    - type: http\r\n      port: 5020\r\n  adminConnectors:\r\n    - type: http\r\n      port: 5022","title":"Change Dropwizard default ports","body":"<p>In your .yml file make these changes</p>\n\n<pre><code>server:\n  registerDefaultExceptionMappers: false\n  applicationConnectors:\n    - type: http\n      port: 5020\n  adminConnectors:\n    - type: http\n      port: 5022\n</code></pre>\n"},{"tags":[],"owner":{"account_id":346347,"reputation":950,"user_id":679821,"accept_rate":18,"display_name":"Morteza Naeimabadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636923952,"creation_date":1636923952,"answer_id":69967183,"question_id":20028451,"body_markdown":"In the newer version of dropwizard (e.g. 2.0.25):\r\ncreate a property file config.yml with the following content into your resources directory:\r\n\r\n    server:\r\n       applicationConnectors:\r\n        - type: http\r\n          port: 5020\r\n       adminConnectors:\r\n        - type: http\r\n          port: 5022\r\n\r\nIf using Intellij IDE (ver 2021), remember to add the following to Run Configuration Program argument:\r\n\r\n    server src/main/resources/config.yml\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WNPWN.png","title":"Change Dropwizard default ports","body":"<p>In the newer version of dropwizard (e.g. 2.0.25):\ncreate a property file config.yml with the following content into your resources directory:</p>\n<pre><code>server:\n   applicationConnectors:\n    - type: http\n      port: 5020\n   adminConnectors:\n    - type: http\n      port: 5022\n</code></pre>\n<p>If using Intellij IDE (ver 2021), remember to add the following to Run Configuration Program argument:</p>\n<pre><code>server src/main/resources/config.yml\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WNPWN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WNPWN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":19070401,"reputation":11,"user_id":13924703,"display_name":"lkp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659379817,"creation_date":1659379817,"answer_id":73198277,"question_id":20028451,"body_markdown":"this is where you can all configuration require to solve your problem\r\nhttps://www.dropwizard.io/en/latest/manual/configuration.html \r\n","title":"Change Dropwizard default ports","body":"<p>this is where you can all configuration require to solve your problem\n<a href=\"https://www.dropwizard.io/en/latest/manual/configuration.html\" rel=\"nofollow noreferrer\">https://www.dropwizard.io/en/latest/manual/configuration.html</a></p>\n"}],"owner":{"account_id":2226934,"reputation":2849,"user_id":1965449,"accept_rate":57,"display_name":"user1965449"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39618,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":20030874,"answer_count":11,"score":49,"last_activity_date":1659379817,"creation_date":1384674235,"question_id":20028451,"body_markdown":"I have a Dropwizard based Jersey REST service running on the default ports 8080(service) and 8081(admin), I need to change the default ports to something that is less commonly used, I am not able to find any information to do so , can someone please point me to do so  ?\r\n","title":"Change Dropwizard default ports","body":"<p>I have a Dropwizard based Jersey REST service running on the default ports 8080(service) and 8081(admin), I need to change the default ports to something that is less commonly used, I am not able to find any information to do so , can someone please point me to do so  ?</p>\n"},{"tags":["java","algorithm","multiplication","karatsuba"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656889921,"post_id":72850472,"comment_id":128674926,"body_markdown":"If you need to represent integers bigger than a `long`, use `BigInteger`.","body":"If you need to represent integers bigger than a <code>long</code>, use <code>BigInteger</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1656890049,"post_id":72850472,"comment_id":128674945,"body_markdown":"But if you are doing this for practical reasons ... be aware that `BigInteger` already uses karabatsu, etcetera under the hood.","body":"But if you are doing this for practical reasons ... be aware that <code>BigInteger</code> already uses karabatsu, etcetera under the hood."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1657087864,"post_id":72850472,"comment_id":128722893,"body_markdown":"Have a look at the lengths of &quot;1000&quot;, &quot;10&quot;, &quot;00&quot;, and `Long.toString(Long.parseLong(&quot;00&quot;)`. Check the logic of first checking `n &gt; 1` (instead of `0 &lt; half`?!) and only then looking at `m`.","body":"Have a look at the lengths of &quot;1000&quot;, &quot;10&quot;, &quot;00&quot;, and <code>Long.toString(Long.parseLong(&quot;00&quot;)</code>. Check the logic of first checking <code>n &gt; 1</code> (instead of <code>0 &lt; half</code>?!) and only then looking at <code>m</code>."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1657087883,"post_id":72850472,"comment_id":128722899,"body_markdown":"(While your use of `long` arithmetic is doomed for a product of `two 64 digit [numbers]`, you can implement addition&amp;subtraction for `String`s.)","body":"(While your use of <code>long</code> arithmetic is doomed for a product of <code>two 64 digit [numbers]</code>, you can implement addition&amp;subtraction for <code>String</code>s.)"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659379364,"creation_date":1656892431,"answer_id":72850650,"question_id":72850472,"body_markdown":"Use [`java.math.BigInteger`](https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html). Here&#39;s an example multiplying `Long.MAX_VALUE` with `Long.MAX_VALUE`, also showing the output:\r\n\r\n```\r\nBigInteger maxLong = BigInteger.valueOf(Long.MAX_VALUE);\r\nBigInteger result = maxLong.multiply(maxLong);\r\nSystem.out.println(result);\r\n\r\n85070591730234615847396907784232501249\r\n```","title":"How to deal with an 64 digit input for a Karatsuba algorithm implementation in java","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\"><code>java.math.BigInteger</code></a>. Here's an example multiplying <code>Long.MAX_VALUE</code> with <code>Long.MAX_VALUE</code>, also showing the output:</p>\n<pre><code>BigInteger maxLong = BigInteger.valueOf(Long.MAX_VALUE);\nBigInteger result = maxLong.multiply(maxLong);\nSystem.out.println(result);\n\n85070591730234615847396907784232501249\n</code></pre>\n"}],"owner":{"account_id":24243233,"reputation":1,"user_id":18411878,"display_name":"Beatrice z.jiang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72850650,"answer_count":1,"score":0,"last_activity_date":1659379364,"creation_date":1656889570,"question_id":72850472,"body_markdown":"This is my implementation and what i need for it is to calculate the multiplication of two 64 digit number.  So type Long is not enough (even tho the one with parameter type of long worked just fine). \r\nHowever when running with String, this popped up \r\n\r\n        Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Long.parseLong(Long.java:721)\r\n\tat java.base/java.lang.Long.parseLong(Long.java:836)\r\n\tat IntegerMultipl.karatsuba(IntegerMultipl.java:60)\r\n\tat IntegerMultipl.karatsuba(IntegerMultipl.java:51)\r\n\tat IntegerMultipl.karatsuba(IntegerMultipl.java:54)\r\n\tat IntegerMultipl.main(IntegerMultipl.java:17) \r\n\r\n\r\n\r\n Any help would be appreciated. This is my implementation of it.\r\n``` java\r\n\r\npublic class IntegerMultipl {\r\n    \r\n    // 24 * 19 = 456\r\n    /**\r\n     *  a = 2 b = 4 \r\n     *  c = 1 d = 9 \r\n     * ac = 2 bd = 36\r\n     * (a+b)(c+d) -ac -bd = 6 * 9 - 2 - 36 = 22\r\n     * ac * (10 ^2 ) + bd + (22)* 10 \r\n     * = 200 + 36 +220 \r\n     */\r\n\r\n    public static void main(String[] args) {\r\n        long res = karatsuba(19,22);\r\n        System.out.println(res);\r\n        String result = karatsuba(&quot;19&quot;, &quot;22&quot;);\r\n        System.out.println(result);\r\n        \r\n        \r\n    }\r\n    /** only works when the in put is incide the range of long */\r\n    public static long karatsuba(long x, long y){\r\n        long n = Long.toString(x).length();\r\n        long half = n / 2 ;\r\n        if( x / 10 &gt;= 1 ){\r\n            long a = x / (long)Math.pow(10, half);\r\n            long b = x % (long)Math.pow(10, half);\r\n            long c = y / (long)Math.pow(10, half);\r\n            long d =  y % (long)Math.pow(10, half);\r\n            long fst = karatsuba(a, c);\r\n            long lst = karatsuba(b, d);\r\n            long trick = karatsuba(a+b, c+d) - fst - lst;\r\n            return (long)Math.pow(10, n)* fst + lst + (long)Math.pow(10, half) * trick;\r\n        }\r\n        else{\r\n                return x*y;\r\n        }\r\n\r\n    }\r\n    public static String karatsuba(String x, String y){\r\n        int n = x.length();\r\n        int m = y.length();\r\n        int half = n / 2 ;\r\n        if( n &gt; 1 ){\r\n            String a = x.substring(0, half);\r\n            String b = x.substring(half);\r\n            String c = y.substring(0,half);\r\n            String d =  y.substring(half);\r\n            String fst = karatsuba(a, c);\r\n            String lst = karatsuba(b, d);\r\n            Long firstarg = Long.parseLong(a)+ Long.parseLong(b);\r\n            Long secondarg = Long.parseLong(c)+ Long.parseLong(d);\r\n            String mdl = karatsuba(Long.toString(firstarg), Long.toString(secondarg));\r\n            Long gauss = Long.parseLong(mdl) - Long.parseLong(fst) - Long.parseLong(lst);\r\n            Long res = ((long)Math.pow(10, n)* Long.parseLong(fst) + Long.parseLong(lst) + (long)Math.pow(10, half) * gauss);\r\n            return Long.toString(res);\r\n        }\r\n        if(n ==1 || m ==1){\r\n            long res = Long.parseLong(x) * Long.parseLong(y);\r\n            return Long.toString(res);\r\n        }\r\n        return &quot;Error !&quot;;\r\n\r\n    }\r\n   \r\n}\r\n\r\n```\r\n\r\n\r\n","title":"How to deal with an 64 digit input for a Karatsuba algorithm implementation in java","body":"<p>This is my implementation and what i need for it is to calculate the multiplication of two 64 digit number.  So type Long is not enough (even tho the one with parameter type of long worked just fine).\nHowever when running with String, this popped up</p>\n<pre><code>    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\nat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\nat java.base/java.lang.Long.parseLong(Long.java:721)\nat java.base/java.lang.Long.parseLong(Long.java:836)\nat IntegerMultipl.karatsuba(IntegerMultipl.java:60)\nat IntegerMultipl.karatsuba(IntegerMultipl.java:51)\nat IntegerMultipl.karatsuba(IntegerMultipl.java:54)\nat IntegerMultipl.main(IntegerMultipl.java:17) \n</code></pre>\n<p>Any help would be appreciated. This is my implementation of it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class IntegerMultipl {\n    \n    // 24 * 19 = 456\n    /**\n     *  a = 2 b = 4 \n     *  c = 1 d = 9 \n     * ac = 2 bd = 36\n     * (a+b)(c+d) -ac -bd = 6 * 9 - 2 - 36 = 22\n     * ac * (10 ^2 ) + bd + (22)* 10 \n     * = 200 + 36 +220 \n     */\n\n    public static void main(String[] args) {\n        long res = karatsuba(19,22);\n        System.out.println(res);\n        String result = karatsuba(&quot;19&quot;, &quot;22&quot;);\n        System.out.println(result);\n        \n        \n    }\n    /** only works when the in put is incide the range of long */\n    public static long karatsuba(long x, long y){\n        long n = Long.toString(x).length();\n        long half = n / 2 ;\n        if( x / 10 &gt;= 1 ){\n            long a = x / (long)Math.pow(10, half);\n            long b = x % (long)Math.pow(10, half);\n            long c = y / (long)Math.pow(10, half);\n            long d =  y % (long)Math.pow(10, half);\n            long fst = karatsuba(a, c);\n            long lst = karatsuba(b, d);\n            long trick = karatsuba(a+b, c+d) - fst - lst;\n            return (long)Math.pow(10, n)* fst + lst + (long)Math.pow(10, half) * trick;\n        }\n        else{\n                return x*y;\n        }\n\n    }\n    public static String karatsuba(String x, String y){\n        int n = x.length();\n        int m = y.length();\n        int half = n / 2 ;\n        if( n &gt; 1 ){\n            String a = x.substring(0, half);\n            String b = x.substring(half);\n            String c = y.substring(0,half);\n            String d =  y.substring(half);\n            String fst = karatsuba(a, c);\n            String lst = karatsuba(b, d);\n            Long firstarg = Long.parseLong(a)+ Long.parseLong(b);\n            Long secondarg = Long.parseLong(c)+ Long.parseLong(d);\n            String mdl = karatsuba(Long.toString(firstarg), Long.toString(secondarg));\n            Long gauss = Long.parseLong(mdl) - Long.parseLong(fst) - Long.parseLong(lst);\n            Long res = ((long)Math.pow(10, n)* Long.parseLong(fst) + Long.parseLong(lst) + (long)Math.pow(10, half) * gauss);\n            return Long.toString(res);\n        }\n        if(n ==1 || m ==1){\n            long res = Long.parseLong(x) * Long.parseLong(y);\n            return Long.toString(res);\n        }\n        return &quot;Error !&quot;;\n\n    }\n   \n}\n\n</code></pre>\n"},{"tags":["java","list","dictionary","cart"],"comments":[{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":0,"creation_date":1441359064,"post_id":32394592,"comment_id":52657812,"body_markdown":"You can always map the User with onetomany for CartItems. And the CartItems mapped to manyToOne with Inventory. I would recommend to save the User&#39;s cartItems in database, so that if there is power loss or user logs out, the cart still remains.","body":"You can always map the User with onetomany for CartItems. And the CartItems mapped to manyToOne with Inventory. I would recommend to save the User&#39;s cartItems in database, so that if there is power loss or user logs out, the cart still remains."},{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":1,"creation_date":1441359081,"post_id":32394592,"comment_id":52657826,"body_markdown":"Apart from your question, try to divide your methods into more smaller methods to add readability","body":"Apart from your question, try to divide your methods into more smaller methods to add readability"}],"answers":[{"tags":[],"owner":{"display_name":"user180100"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441359294,"creation_date":1441359294,"answer_id":32394698,"question_id":32394592,"body_markdown":"Some pointers:\r\n\r\n - You should use [proper naming conventions][1] (i.e. variables and methods name starts with a lower case letter)\r\n - `ItemCart` is redundant, you can remove it and use the *keys* of `Quantity`\r\n - a [`Map`][2] provides an [`entrySet`][3] method, using that on `Quantity` will help you list the items in the cart (*keys*) and compute the total price using the item (*key*) price and quantity (*value*)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Map.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--","title":"Calculate the number of items within the a Shopping Cart","body":"<p>Some pointers:</p>\n\n<ul>\n<li>You should use <a href=\"https://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow\">proper naming conventions</a> (i.e. variables and methods name starts with a lower case letter)</li>\n<li><code>ItemCart</code> is redundant, you can remove it and use the <em>keys</em> of <code>Quantity</code></li>\n<li>a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow\"><code>Map</code></a> provides an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--\" rel=\"nofollow\"><code>entrySet</code></a> method, using that on <code>Quantity</code> will help you list the items in the cart (<em>keys</em>) and compute the total price using the item (<em>key</em>) price and quantity (<em>value</em>)</li>\n</ul>\n"}],"owner":{"account_id":5914031,"reputation":325,"user_id":4653364,"accept_rate":48,"display_name":"Shruthi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659379199,"creation_date":1441358920,"question_id":32394592,"body_markdown":"I am quite new to the concepts of Java. I have designed a shopping cart application using core java. But i am not able to get the desired output.\r\nHere is my pojo class item.java \r\n\r\n    package com.shop.data.*;\r\n    public class Item\r\n    {\r\n    \tprivate int Itemid;\r\n    \tprivate String category;\r\n    \tprivate String name;\r\n        private double price;\r\n          private String size;\r\n    \t\r\n    \t/**\r\n    \t * @return the category\r\n    \t */\r\n    \tpublic String getCategory() {\r\n    \t\treturn category;\r\n    \t}\r\n    \tpublic Item(int itemid) {\r\n    \t\tsuper();\r\n    \t\tItemid = itemid;\r\n    \t}\r\n    \t/**\r\n    \t * @param category the category to set\r\n    \t */\r\n    \tpublic void setCategory(String category) {\r\n    \t\tthis.category = category;\r\n    \t}\r\n    \r\n        // -------------------------------------------------------\r\n        //  Create a new item with the given attributes.\r\n        // -------------------------------------------------------\r\n        public Item (String itemcategory ,String itemName, double itemPrice,String itemSize)\r\n        {\r\n            name = itemName;\r\n            price = itemPrice;\r\n          \r\n            size = itemSize;\r\n            category = itemcategory;\r\n        }\r\n        public Item(String itemName, int itemPrice, String size) {\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\n    \t/**\r\n    \t * @return the size\r\n    \t */\r\n    \tpublic String getSize() {\r\n    \t\treturn size;\r\n    \t}\r\n    \t/**\r\n    \t * @param size the size to set\r\n    \t */\r\n    \tpublic void setSize(String size) {\r\n    \t\tthis.size = size;\r\n    \t}\r\n    \t\r\n        // -------------------------------------------------\r\n        //   Returns the unit price of the item\r\n        // -------------------------------------------------\r\n        public double getPrice()\r\n        {\r\n            return price;\r\n        }\r\n        // -------------------------------------------------\r\n        //   Returns the name of the item\r\n        // -------------------------------------------------\r\n        public String getName()\r\n        {\r\n            return name;\r\n        }\r\n    \t/**\r\n    \t * @return the itemid\r\n    \t */\r\n    \tpublic int getItemid() {\r\n    \t\treturn Itemid;\r\n    \t}\r\n    \t/**\r\n    \t * @param itemid the itemid to set\r\n    \t */\r\n    \tpublic void setItemid(int itemid) {\r\n    \t\tItemid = itemid;\r\n    \t}\r\n    \t/**\r\n    \t * @param name the name to set\r\n    \t */\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t/**\r\n    \t * @param price the price to set\r\n    \t */\r\n    \tpublic void setPrice(double price) {\r\n    \t\tthis.price = price;\r\n    \t}\r\n    \tpublic String toString ()\r\n        {\r\n           \r\n            return (name + &quot;\\t&quot; + price +  &quot;\\t&quot;+ size +  &quot;\\t&quot;);\r\n        }\r\n    \r\n    \t\r\n    }\r\n  The main class is ShopCartTest.java\r\n\r\n    package com.shop.test;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Scanner;\r\n    \r\n    import com.shop.data.*;\r\n    \r\n    public class ShoppingCartTest {\r\n    \tprivate static Scanner scan;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// *** declare and instantiate a variable cart to be an empty ArrayList\r\n    \t\tshopping();\r\n    \t}\r\n    \r\n    \tpublic static void shopping() {\r\n    \t\tArrayList&lt;Item&gt; ItemCart = new ArrayList&lt;Item&gt;();\r\n    \t\tMap&lt;Item, Integer&gt; Quantity = new HashMap&lt;Item, Integer&gt;();\r\n    \t\tItem item = null;\r\n    \t\tInventory inventory = null;\r\n    \t\tString category = null;\r\n    \t\tString itemName;\r\n    \t\tString itemSize;\r\n    \t\tdouble itemPrice = 0;\r\n    \t\tdouble totalPrice = 0.0;\r\n    \t\tdouble sum = 0.0;\r\n    \t\tint itemquantity;\r\n    \t\tscan = new Scanner(System.in);\r\n    \t\tString keepShopping = &quot;y&quot;;\r\n    \t\tSystem.out.println(&quot;****Shopping Cart****&quot;);\r\n    \t\tdo {\r\n    \t\t\tSystem.out.println(&quot;Select Category: &quot;);\r\n    \t\t\tcategory = scan.nextLine();\r\n    \t\t\tif (category.equals(&quot;men&quot;) || category.equals(&quot;Men&quot;)) {\r\n    \r\n    \t\t\t\tSystem.out\r\n    \t\t\t\t\t\t.println(&quot;Available Items: \\n1Shirt : 900 \\n2.T-Shirt : 700 \\n3.Jean: 1500.\\n&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Select Item to Add to your Bag: &quot;);\r\n    \t\t\t\titemName = scan.nextLine();\r\n    \t\t\t\tif (itemName.equals(&quot;Shirt&quot;) || (itemName.equals(&quot;shirt&quot;))) {\r\n    \t\t\t\t\titemPrice = 900;\r\n    \t\t\t\t} else if (itemName.equals(&quot;T-Shirt&quot;)\r\n    \t\t\t\t\t\t|| (itemName.equals(&quot;t-shirt&quot;))) {\r\n    \t\t\t\t\titemPrice = 700;\r\n    \t\t\t\t} else\r\n    \t\t\t\t\titemPrice = 1500;\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out\r\n    \t\t\t\t\t\t.println(&quot;Available Items: \\n1.Dress : 250 \\n2.Top : 350 \\n3.Jean: 1500.\\n&quot;);\r\n    \t\t\t\tSystem.out.println(&quot;Select Item to Add to your Bag: &quot;);\r\n    \t\t\t\titemName = scan.nextLine();\r\n    \t\t\t\t// *** create a new item and add it to the cart\r\n    \t\t\t\tif (itemName.equals(&quot;Dress&quot;) || (itemName.equals(&quot;dress&quot;))) {\r\n    \t\t\t\t\titemPrice = 250;\r\n    \t\t\t\t} else if (itemName.equals(&quot;Top&quot;) || (itemName.equals(&quot;top&quot;))) {\r\n    \t\t\t\t\titemPrice = 350;\r\n    \t\t\t\t} else\r\n    \t\t\t\t\titemPrice = 1500;\r\n    \t\t\t}\r\n    \t\t\tSystem.out.print(&quot;Available Sizes \\nS \\tM \\tL: &quot;);\r\n    \t\t\titemSize = scan.nextLine();\r\n    \t\t\tSystem.out.print(&quot;Enter the quantity: &quot;);\r\n    \t\t\titemquantity = scan.nextInt();\r\n    \t\t\titem = new Item(category, itemName, itemPrice, itemSize);\r\n    \t\t\tItemCart.add(item);\r\n    \t\t\tQuantity.put(item, itemquantity); \r\n    \r\n    \t\t\t// *** print the contents of the cart object using println\r\n    \t\t\tfor (int i = 0; i &lt; ItemCart.size(); i++) {\r\n    \t\t\t\tItem itm = ItemCart.get(i);\r\n    \t\t\t\tSystem.out.println(itm);\r\n    \t\t\t}\r\n    \r\n    \t\t\t// Print out the results\r\n    \t\t\tSystem.out.print(&quot;Continue shopping (y/n)? &quot;);\r\n    \t\t\tscan.nextLine();\r\n    \t\t\tkeepShopping = scan.nextLine();\r\n    \t\t} while (keepShopping.equals(&quot;y&quot;));\r\n    \r\n    \t\tfor (int i = 0; i &lt; ItemCart.size(); i++) {\r\n    \t\t\tQuantity.put(item, itemquantity);\r\n    \t\t\tItem itm = ItemCart.get(i);\r\n    \t\t\tSystem.out.println(itm);\r\n    \t\t\ttotalPrice = itemquantity * itm.getPrice();\r\n    \t\t\tfor (int j = 0; i &lt; ItemCart.size(); i++)\r\n    \t\t\t\tsum += totalPrice;\r\n    \r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;The total price is: &quot; + sum);\r\n    \t\tSystem.out.println(&quot;Do you wan to proceed to checkout (y/n): &quot;);\r\n    \t\tif (scan.nextLine().equals(&quot;y&quot;)) {\r\n    \t\t\tSystem.out.println(&quot;Thank you for shopping with us!&quot;);\r\n    \r\n    \t\t} else {\r\n    \t\t\tshopping();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    }\r\nThere are 4 pojo&#39;s Cart, inventory,Item, User. The user must be able to select multiple items of multiple quanties. (*For items a list is been created and for the quantity: map. where item object is the key and quantity is the value*). The user slects category, item, then quatity. Then he can proceed to checkout. So when he decides to checkout. He must be able to see the various items purchased ie (itemName, SIxe ,UnitPrice, unitprice*quantity) and finally the Total Price. \r\nHow do i achieve this? I am kinda lost! \r\n \r\n    \r\n\r\n","title":"Calculate the number of items within the a Shopping Cart","body":"<p>I am quite new to the concepts of Java. I have designed a shopping cart application using core java. But i am not able to get the desired output.\nHere is my pojo class item.java </p>\n\n<pre><code>package com.shop.data.*;\npublic class Item\n{\n    private int Itemid;\n    private String category;\n    private String name;\n    private double price;\n      private String size;\n\n    /**\n     * @return the category\n     */\n    public String getCategory() {\n        return category;\n    }\n    public Item(int itemid) {\n        super();\n        Itemid = itemid;\n    }\n    /**\n     * @param category the category to set\n     */\n    public void setCategory(String category) {\n        this.category = category;\n    }\n\n    // -------------------------------------------------------\n    //  Create a new item with the given attributes.\n    // -------------------------------------------------------\n    public Item (String itemcategory ,String itemName, double itemPrice,String itemSize)\n    {\n        name = itemName;\n        price = itemPrice;\n\n        size = itemSize;\n        category = itemcategory;\n    }\n    public Item(String itemName, int itemPrice, String size) {\n        // TODO Auto-generated constructor stub\n    }\n    /**\n     * @return the size\n     */\n    public String getSize() {\n        return size;\n    }\n    /**\n     * @param size the size to set\n     */\n    public void setSize(String size) {\n        this.size = size;\n    }\n\n    // -------------------------------------------------\n    //   Returns the unit price of the item\n    // -------------------------------------------------\n    public double getPrice()\n    {\n        return price;\n    }\n    // -------------------------------------------------\n    //   Returns the name of the item\n    // -------------------------------------------------\n    public String getName()\n    {\n        return name;\n    }\n    /**\n     * @return the itemid\n     */\n    public int getItemid() {\n        return Itemid;\n    }\n    /**\n     * @param itemid the itemid to set\n     */\n    public void setItemid(int itemid) {\n        Itemid = itemid;\n    }\n    /**\n     * @param name the name to set\n     */\n    public void setName(String name) {\n        this.name = name;\n    }\n    /**\n     * @param price the price to set\n     */\n    public void setPrice(double price) {\n        this.price = price;\n    }\n    public String toString ()\n    {\n\n        return (name + \"\\t\" + price +  \"\\t\"+ size +  \"\\t\");\n    }\n\n\n}\n</code></pre>\n\n<p>The main class is ShopCartTest.java</p>\n\n<pre><code>package com.shop.test;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\n\nimport com.shop.data.*;\n\npublic class ShoppingCartTest {\n    private static Scanner scan;\n\n    public static void main(String[] args) {\n        // *** declare and instantiate a variable cart to be an empty ArrayList\n        shopping();\n    }\n\n    public static void shopping() {\n        ArrayList&lt;Item&gt; ItemCart = new ArrayList&lt;Item&gt;();\n        Map&lt;Item, Integer&gt; Quantity = new HashMap&lt;Item, Integer&gt;();\n        Item item = null;\n        Inventory inventory = null;\n        String category = null;\n        String itemName;\n        String itemSize;\n        double itemPrice = 0;\n        double totalPrice = 0.0;\n        double sum = 0.0;\n        int itemquantity;\n        scan = new Scanner(System.in);\n        String keepShopping = \"y\";\n        System.out.println(\"****Shopping Cart****\");\n        do {\n            System.out.println(\"Select Category: \");\n            category = scan.nextLine();\n            if (category.equals(\"men\") || category.equals(\"Men\")) {\n\n                System.out\n                        .println(\"Available Items: \\n1Shirt : 900 \\n2.T-Shirt : 700 \\n3.Jean: 1500.\\n\");\n                System.out.println(\"Select Item to Add to your Bag: \");\n                itemName = scan.nextLine();\n                if (itemName.equals(\"Shirt\") || (itemName.equals(\"shirt\"))) {\n                    itemPrice = 900;\n                } else if (itemName.equals(\"T-Shirt\")\n                        || (itemName.equals(\"t-shirt\"))) {\n                    itemPrice = 700;\n                } else\n                    itemPrice = 1500;\n            } else {\n                System.out\n                        .println(\"Available Items: \\n1.Dress : 250 \\n2.Top : 350 \\n3.Jean: 1500.\\n\");\n                System.out.println(\"Select Item to Add to your Bag: \");\n                itemName = scan.nextLine();\n                // *** create a new item and add it to the cart\n                if (itemName.equals(\"Dress\") || (itemName.equals(\"dress\"))) {\n                    itemPrice = 250;\n                } else if (itemName.equals(\"Top\") || (itemName.equals(\"top\"))) {\n                    itemPrice = 350;\n                } else\n                    itemPrice = 1500;\n            }\n            System.out.print(\"Available Sizes \\nS \\tM \\tL: \");\n            itemSize = scan.nextLine();\n            System.out.print(\"Enter the quantity: \");\n            itemquantity = scan.nextInt();\n            item = new Item(category, itemName, itemPrice, itemSize);\n            ItemCart.add(item);\n            Quantity.put(item, itemquantity); \n\n            // *** print the contents of the cart object using println\n            for (int i = 0; i &lt; ItemCart.size(); i++) {\n                Item itm = ItemCart.get(i);\n                System.out.println(itm);\n            }\n\n            // Print out the results\n            System.out.print(\"Continue shopping (y/n)? \");\n            scan.nextLine();\n            keepShopping = scan.nextLine();\n        } while (keepShopping.equals(\"y\"));\n\n        for (int i = 0; i &lt; ItemCart.size(); i++) {\n            Quantity.put(item, itemquantity);\n            Item itm = ItemCart.get(i);\n            System.out.println(itm);\n            totalPrice = itemquantity * itm.getPrice();\n            for (int j = 0; i &lt; ItemCart.size(); i++)\n                sum += totalPrice;\n\n        }\n\n        System.out.println(\"The total price is: \" + sum);\n        System.out.println(\"Do you wan to proceed to checkout (y/n): \");\n        if (scan.nextLine().equals(\"y\")) {\n            System.out.println(\"Thank you for shopping with us!\");\n\n        } else {\n            shopping();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>There are 4 pojo's Cart, inventory,Item, User. The user must be able to select multiple items of multiple quanties. (<em>For items a list is been created and for the quantity: map. where item object is the key and quantity is the value</em>). The user slects category, item, then quatity. Then he can proceed to checkout. So when he decides to checkout. He must be able to see the various items purchased ie (itemName, SIxe ,UnitPrice, unitprice*quantity) and finally the Total Price. \nHow do i achieve this? I am kinda lost! </p>\n"},{"tags":["java","maven","junit","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1659380161,"post_id":73198088,"comment_id":129276335,"body_markdown":"Have a look at https://github.com/cucumber/cucumber-java-skeleton. Put features in the resources folder. Otherwise they&#39;re not put on the classpath.","body":"Have a look at <a href=\"https://github.com/cucumber/cucumber-java-skeleton\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-java-skeleton</a>. Put features in the resources folder. Otherwise they&#39;re not put on the classpath."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1659380233,"post_id":73198088,"comment_id":129276352,"body_markdown":"Ah. Sorry, no maven at all. That&#39;s going to be a bit trickier.","body":"Ah. Sorry, no maven at all. That&#39;s going to be a bit trickier."}],"owner":{"account_id":25950621,"reputation":13,"user_id":19668716,"display_name":"Killua11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659378558,"creation_date":1659378558,"question_id":73198088,"body_markdown":"I am performing automation setup using java, cucumber and junit. However, due to restrictions of firewall and proxy in company, not able to create maven project with archtype templates. Hence initially created java project with source folder as src/test/java, placed feature file, stepdefinition and test runner class within this source folder, however, while running test runner class, I am facing &quot;test class not found error for selected project&quot;. \r\nI tried all sort of solutions such as ordering JRE file to bottom, giving entire path of feature file,adding output folder in using run configuration etc however it seems not working.\r\n\r\nHence finally would like to know whether can we run cucumber with only java and junit in the absence of maven.\r\n\r\nKindly help me in resolving this issue.\r\n\r\n","title":"To run cucumber java project without maven","body":"<p>I am performing automation setup using java, cucumber and junit. However, due to restrictions of firewall and proxy in company, not able to create maven project with archtype templates. Hence initially created java project with source folder as src/test/java, placed feature file, stepdefinition and test runner class within this source folder, however, while running test runner class, I am facing &quot;test class not found error for selected project&quot;.\nI tried all sort of solutions such as ordering JRE file to bottom, giving entire path of feature file,adding output folder in using run configuration etc however it seems not working.</p>\n<p>Hence finally would like to know whether can we run cucumber with only java and junit in the absence of maven.</p>\n<p>Kindly help me in resolving this issue.</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":6611981,"reputation":598,"user_id":5108100,"accept_rate":100,"display_name":"NoRelect"},"score":2,"creation_date":1471365277,"post_id":38980041,"comment_id":65312879,"body_markdown":"If you are really learning for the OCPJP, you should know this! If not, please complete the OCAJP first!","body":"If you are really learning for the OCPJP, you should know this! If not, please complete the OCAJP first!"},{"owner":{"account_id":4824596,"reputation":10769,"user_id":3894351,"accept_rate":75,"display_name":"Elltz"},"score":0,"creation_date":1471365388,"post_id":38980041,"comment_id":65312951,"body_markdown":"how come this question is being answered by 10k+ users ??? for reall??, i thought it was only low-rep whores like me, that chase these.. hmmm","body":"how come this question is being answered by 10k+ users ??? for reall??, i thought it was only low-rep whores like me, that chase these.. hmmm"},{"owner":{"account_id":6830018,"reputation":93,"user_id":5254413,"accept_rate":60,"display_name":"Mohammed Salman Shaikh"},"score":0,"creation_date":1471375194,"post_id":38980041,"comment_id":65318524,"body_markdown":"@NoRelect Sorry i meant oca and ocp both.","body":"@NoRelect Sorry i meant oca and ocp both."},{"owner":{"account_id":6830018,"reputation":93,"user_id":5254413,"accept_rate":60,"display_name":"Mohammed Salman Shaikh"},"score":1,"creation_date":1503204900,"post_id":38980041,"comment_id":78514760,"body_markdown":"@GhostCat sorry I was busy. Thanks for the reminder.","body":"@GhostCat sorry I was busy. Thanks for the reminder."}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"Xoc  epe&#250;pa "},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471365697,"creation_date":1471365114,"answer_id":38980074,"question_id":38980041,"body_markdown":"this is not a very good practice\r\n\r\n`Boolean.valueOf(b = true),` and you should avoid doing such, now regarding the question&gt;\r\n\r\n\r\n`if (b = true)` is the same as\r\n\r\n    b = true;\r\n    if (b)\r\n\r\n\r\n\r\ntherefore the condition is always met\r\n\r\nanalog to this.\r\n\r\n    if (b = false)\r\n\r\nwill be never ever executed...\r\n\r\nADditional information:\r\n\r\nthat kind of typos/mistakes are made by normally junior developers...\r\n\r\nsome when in the history of the development, it came a solution for that...\r\n\r\nthe so called JODA-Conditions(called like that as the Master JODA from stars-wars...)\r\n\r\nso, the JODA-Conditions will be safe in this case since you can try to do:\r\n\r\n    if (true = b) {\r\n    \t    // code here\r\n    \t}\r\n\r\nbut this will no compile since the complain:\r\n\r\n&gt; The left-hand side of an assignment must be a variable, \r\n\r\nthe controversy is still open about how good idea is that, is the code more readable like that etc etc..., ","title":"How is if/while condition evaluated when we use assignments instead of comparison?","body":"<p>this is not a very good practice</p>\n\n<p><code>Boolean.valueOf(b = true),</code> and you should avoid doing such, now regarding the question></p>\n\n<p><code>if (b = true)</code> is the same as</p>\n\n<pre><code>b = true;\nif (b)\n</code></pre>\n\n<p>therefore the condition is always met</p>\n\n<p>analog to this.</p>\n\n<pre><code>if (b = false)\n</code></pre>\n\n<p>will be never ever executed...</p>\n\n<p>ADditional information:</p>\n\n<p>that kind of typos/mistakes are made by normally junior developers...</p>\n\n<p>some when in the history of the development, it came a solution for that...</p>\n\n<p>the so called JODA-Conditions(called like that as the Master JODA from stars-wars...)</p>\n\n<p>so, the JODA-Conditions will be safe in this case since you can try to do:</p>\n\n<pre><code>if (true = b) {\n        // code here\n    }\n</code></pre>\n\n<p>but this will no compile since the complain:</p>\n\n<blockquote>\n  <p>The left-hand side of an assignment must be a variable, </p>\n</blockquote>\n\n<p>the controversy is still open about how good idea is that, is the code more readable like that etc etc..., </p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1659378384,"creation_date":1471365195,"answer_id":38980101,"question_id":38980041,"body_markdown":"- `=` is assignment operator,  \r\n- `==` is comparison operator. \r\n\r\nBut assignment operator\r\n\r\n    x = y\r\n\r\nnot only *assigns* value from `y` to variable `x`, but it also ***returns*** that value. \r\n\r\nThanks to that we can write code like \r\n\r\n    x = y = z = 1;\r\n    //equivalent of:\r\n    x = (y = (z = 1));\r\n\r\n(although it is not recommended as it can be confusing, especially for new Java programmers)\r\n\r\nAs you see `1` is first assigned to variable `z`, *then* expression `z = 1` *returns* 1 which can be assigned to variable `y`. Then again assigning 1 to `y` returns 1 which can be assigned to variable `x`.\r\n\r\nBecause of that *returning* mechanism it is possible to write code like `if (b = true)` since `true` will be assigned to `b` and then returned. Since `if(..)` expected boolean for its condition, and found one code compiled fine.\r\n\r\nIn other words `if(b=true){...}` is very similar to `if(true){b=true; ...}`. This means that such `if` will always execute code from `true` branch (since that is what we ware assigning to `b`).\r\n\r\n---\r\n\r\n### BONUS: How to prevent this typo?\r\n\r\n \r\n- omit `==true` and `==false` parts. \r\n   - In case of `if(b==true)` we can write `if(b)` since `(b == true)` will always give same result as already stored in `b`.  \r\n   - In case of `if(b==false)` we can write `if(!b)`. \r\n\r\n- use [Yoda conditions][1] `if(true == b){..}` where value is used before/on left side and variable on right side of `==`.  \r\nEven if by mistake we will write `=` instead of `==` we will end up with `true = b` which will end up as compilation error since we can&#39;t *assign* anything to *value* like `true` (just like we can&#39;t compile `2=3;` which would attempt to assign 3 to 2 which makes no sense). We can only assign values to *variables*.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Yoda_conditions\r\n","title":"How is if/while condition evaluated when we use assignments instead of comparison?","body":"<ul>\n<li><code>=</code> is assignment operator,</li>\n<li><code>==</code> is comparison operator.</li>\n</ul>\n<p>But assignment operator</p>\n<pre><code>x = y\n</code></pre>\n<p>not only <em>assigns</em> value from <code>y</code> to variable <code>x</code>, but it also <em><strong>returns</strong></em> that value.</p>\n<p>Thanks to that we can write code like</p>\n<pre><code>x = y = z = 1;\n//equivalent of:\nx = (y = (z = 1));\n</code></pre>\n<p>(although it is not recommended as it can be confusing, especially for new Java programmers)</p>\n<p>As you see <code>1</code> is first assigned to variable <code>z</code>, <em>then</em> expression <code>z = 1</code> <em>returns</em> 1 which can be assigned to variable <code>y</code>. Then again assigning 1 to <code>y</code> returns 1 which can be assigned to variable <code>x</code>.</p>\n<p>Because of that <em>returning</em> mechanism it is possible to write code like <code>if (b = true)</code> since <code>true</code> will be assigned to <code>b</code> and then returned. Since <code>if(..)</code> expected boolean for its condition, and found one code compiled fine.</p>\n<p>In other words <code>if(b=true){...}</code> is very similar to <code>if(true){b=true; ...}</code>. This means that such <code>if</code> will always execute code from <code>true</code> branch (since that is what we ware assigning to <code>b</code>).</p>\n<hr />\n<h3>BONUS: How to prevent this typo?</h3>\n<ul>\n<li><p>omit <code>==true</code> and <code>==false</code> parts.</p>\n<ul>\n<li>In case of <code>if(b==true)</code> we can write <code>if(b)</code> since <code>(b == true)</code> will always give same result as already stored in <code>b</code>.</li>\n<li>In case of <code>if(b==false)</code> we can write <code>if(!b)</code>.</li>\n</ul>\n</li>\n<li><p>use <a href=\"https://en.wikipedia.org/wiki/Yoda_conditions\" rel=\"nofollow noreferrer\">Yoda conditions</a> <code>if(true == b){..}</code> where value is used before/on left side and variable on right side of <code>==</code>.<br />\nEven if by mistake we will write <code>=</code> instead of <code>==</code> we will end up with <code>true = b</code> which will end up as compilation error since we can't <em>assign</em> anything to <em>value</em> like <code>true</code> (just like we can't compile <code>2=3;</code> which would attempt to assign 3 to 2 which makes no sense). We can only assign values to <em>variables</em>.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471365214,"creation_date":1471365214,"answer_id":38980109,"question_id":38980041,"body_markdown":"`if` expects an expression of type boolean.\r\n\r\nA boolean variable has type ... boolean.\r\n\r\nSo, what might probably happen when you put a boolean variable behind an if?","title":"How is if/while condition evaluated when we use assignments instead of comparison?","body":"<p><code>if</code> expects an expression of type boolean.</p>\n\n<p>A boolean variable has type ... boolean.</p>\n\n<p>So, what might probably happen when you put a boolean variable behind an if?</p>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471365832,"creation_date":1471365520,"answer_id":38980201,"question_id":38980041,"body_markdown":"Let&#39;s start by looking at the structure of an `if` statement:\r\n\r\n    if ( &lt;boolean-expression&gt; ) {\r\n        ...\r\n    }\r\n\r\nThe `&lt;boolean-expression&gt;` can be any expression that evaluates to `boolean`. Most commonly, this is a logical expression, i.e. an expression with comparison operators and/or some logical operators, such as `&amp;&amp;`, `||`, and `!`.\r\n\r\nHowever, the expression could be a call to a method returning a `boolean`, for example:\r\n\r\n    if (list.isEmpty()) {\r\n        ...\r\n    }\r\n\r\nNext, let&#39;s look at an assignment expression. It is an expression with a side effect. The right side gets evaluated and assigned to the left side. The value of the assignment expression is the value of the variable after the assignment.\r\n\r\nIn your case, the assignment is `b = true`, so the value of the expression is `true`. Plugging it into the first part explains why you get the result that you see - `b = true` in\r\n\r\n    if (b = true) {\r\n        ...\r\n    }\r\n\r\nis a valid boolean expression returning `true`, so the code complies and runs correctly. A more common scenario uses an assignment to store the result for future reference, like this:\r\n\r\n    if (b = list.isEmpty()) {\r\n        ...\r\n    }\r\n\r\nThis lets you refer to the result of `list.isEmpty()` outside of the conditional, without invoking the method again.\r\n\r\n**Note:** Although situations exist when an assignment inside a conditional is a valid practice, it is not common, so one should heavily comment its use.","title":"How is if/while condition evaluated when we use assignments instead of comparison?","body":"<p>Let's start by looking at the structure of an <code>if</code> statement:</p>\n\n<pre><code>if ( &lt;boolean-expression&gt; ) {\n    ...\n}\n</code></pre>\n\n<p>The <code>&lt;boolean-expression&gt;</code> can be any expression that evaluates to <code>boolean</code>. Most commonly, this is a logical expression, i.e. an expression with comparison operators and/or some logical operators, such as <code>&amp;&amp;</code>, <code>||</code>, and <code>!</code>.</p>\n\n<p>However, the expression could be a call to a method returning a <code>boolean</code>, for example:</p>\n\n<pre><code>if (list.isEmpty()) {\n    ...\n}\n</code></pre>\n\n<p>Next, let's look at an assignment expression. It is an expression with a side effect. The right side gets evaluated and assigned to the left side. The value of the assignment expression is the value of the variable after the assignment.</p>\n\n<p>In your case, the assignment is <code>b = true</code>, so the value of the expression is <code>true</code>. Plugging it into the first part explains why you get the result that you see - <code>b = true</code> in</p>\n\n<pre><code>if (b = true) {\n    ...\n}\n</code></pre>\n\n<p>is a valid boolean expression returning <code>true</code>, so the code complies and runs correctly. A more common scenario uses an assignment to store the result for future reference, like this:</p>\n\n<pre><code>if (b = list.isEmpty()) {\n    ...\n}\n</code></pre>\n\n<p>This lets you refer to the result of <code>list.isEmpty()</code> outside of the conditional, without invoking the method again.</p>\n\n<p><strong>Note:</strong> Although situations exist when an assignment inside a conditional is a valid practice, it is not common, so one should heavily comment its use.</p>\n"}],"owner":{"account_id":6830018,"reputation":93,"user_id":5254413,"accept_rate":60,"display_name":"Mohammed Salman Shaikh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1508,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":38980101,"answer_count":4,"score":1,"last_activity_date":1659378384,"creation_date":1471364989,"question_id":38980041,"body_markdown":"I discovered this surprising thing while learning OCA/OCP for Java.\r\n\r\nBelow is the first piece of code of which the if(test condition) part\r\nsurprises me.\r\n\r\n    public class BooleanIf {\r\n    public static void main(String[] args) {\r\n        boolean b = false;\r\n        System.out.println(Boolean.valueOf(b = true));\r\n        if (b = true)\r\n            System.out.println(&quot;true&quot;);\r\n        else\r\n            System.out.println(&quot;false&quot;);\r\n    }\r\n\r\nNow the output of this surprisingly is &quot;true&quot;.\r\n\r\nI learnt that there has to be a relational condition that returns true or false like `if (a &gt; b)` or `if (a != b)` likewise. \r\n\r\nI want to know how it is returning true for this case. Does it call Boolean.valueOf()?\r\n\r\n","title":"How is if/while condition evaluated when we use assignments instead of comparison?","body":"<p>I discovered this surprising thing while learning OCA/OCP for Java.</p>\n\n<p>Below is the first piece of code of which the if(test condition) part\nsurprises me.</p>\n\n<pre><code>public class BooleanIf {\npublic static void main(String[] args) {\n    boolean b = false;\n    System.out.println(Boolean.valueOf(b = true));\n    if (b = true)\n        System.out.println(\"true\");\n    else\n        System.out.println(\"false\");\n}\n</code></pre>\n\n<p>Now the output of this surprisingly is \"true\".</p>\n\n<p>I learnt that there has to be a relational condition that returns true or false like <code>if (a &gt; b)</code> or <code>if (a != b)</code> likewise. </p>\n\n<p>I want to know how it is returning true for this case. Does it call Boolean.valueOf()?</p>\n"},{"tags":["java","spring-boot","algorithm","maven","struts"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1659451907,"post_id":73196997,"comment_id":129295323,"body_markdown":"Extract the utility.","body":"Extract the utility."}],"answers":[{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659378305,"creation_date":1659378305,"answer_id":73198039,"question_id":73196997,"body_markdown":"In order to use utility / commons classes in many project you should create separate project for utility. \r\n\r\nUtility project should  not use any dependency or very little in other case you should redesign it.\r\n","title":"How to include a jar without its subjar","body":"<p>In order to use utility / commons classes in many project you should create separate project for utility.</p>\n<p>Utility project should  not use any dependency or very little in other case you should redesign it.</p>\n"}],"owner":{"account_id":13870783,"reputation":351,"user_id":10013975,"display_name":"Mukul Bindal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659378305,"creation_date":1659372302,"question_id":73196997,"body_markdown":"I have a struts project. It has many jars in its `APP-INF/lib` directory and the packaged ear size is huge. I also have another spring boot project and it has one utility class.\r\n\r\nMy target is to use that utility from the struts project.\r\n\r\nThe problem here is, if I include this spring-boot jar in the `pom.xml`, it includes the spring boot jar with all its dependency which are already present in the struts project. This makes the ear more huge. The jars are copied twice in a way. Basically the project becomes like this:\r\n\r\n```\r\nstruts-project\r\n--APP-INF/libs/\r\n----**.jar (many jars)\r\n----spring-boot-project.jar\r\n--------BOOT-CONF/libs/\r\n-------------**.jar (again many jars, most of them already in one level above directory)\r\n\r\n```\r\n\r\nMy end goal is to use the utility, for which I have 2 ways (what I have in mind, more ways possible)\r\n\r\n1. Include the spring boot jar, but find a way to reduce packaged ear size.\r\n\r\n2. Create a rest api in the spirng boot project just to use the jar. But if the service is down anyhow, it will have huge impact on main application - so don&#39;t want to use this way also.\r\n\r\nPlease suggest more ways to achieve my end goal. Or any improvement/suggestion in the above approaches.","title":"How to include a jar without its subjar","body":"<p>I have a struts project. It has many jars in its <code>APP-INF/lib</code> directory and the packaged ear size is huge. I also have another spring boot project and it has one utility class.</p>\n<p>My target is to use that utility from the struts project.</p>\n<p>The problem here is, if I include this spring-boot jar in the <code>pom.xml</code>, it includes the spring boot jar with all its dependency which are already present in the struts project. This makes the ear more huge. The jars are copied twice in a way. Basically the project becomes like this:</p>\n<pre><code>struts-project\n--APP-INF/libs/\n----**.jar (many jars)\n----spring-boot-project.jar\n--------BOOT-CONF/libs/\n-------------**.jar (again many jars, most of them already in one level above directory)\n\n</code></pre>\n<p>My end goal is to use the utility, for which I have 2 ways (what I have in mind, more ways possible)</p>\n<ol>\n<li><p>Include the spring boot jar, but find a way to reduce packaged ear size.</p>\n</li>\n<li><p>Create a rest api in the spirng boot project just to use the jar. But if the service is down anyhow, it will have huge impact on main application - so don't want to use this way also.</p>\n</li>\n</ol>\n<p>Please suggest more ways to achieve my end goal. Or any improvement/suggestion in the above approaches.</p>\n"},{"tags":["java","spring","maven","antivirus","mcafee"],"comments":[{"owner":{"account_id":1653300,"reputation":968,"user_id":1523450,"display_name":"cdr89"},"score":0,"creation_date":1659377227,"post_id":73197847,"comment_id":129275469,"body_markdown":"Have a look at this: https://stackoverflow.com/questions/3363767/how-do-you-virus-scan-a-file-being-uploaded-to-your-java-webapp-as-it-streams","body":"Have a look at this: <a href=\"https://stackoverflow.com/questions/3363767/how-do-you-virus-scan-a-file-being-uploaded-to-your-java-webapp-as-it-streams\" title=\"how do you virus scan a file being uploaded to your java webapp as it streams\">stackoverflow.com/questions/3363767/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659378050,"creation_date":1659378050,"answer_id":73198000,"question_id":73197847,"body_markdown":"Mature A/V software supports [ICAP protocol](https://en.wikipedia.org/wiki/Internet_Content_Adaptation_Protocol), some examples:\r\n- [Configuring McAfee Web Gateway for ICAP Server](https://docs.tibco.com/pub/api-exchange-gateway/2.2.0/doc/html/GUID-AC8BD890-E522-4BA7-BDA3-2CC455F41C3B.html)\r\n- [KAV ICAP mode](https://support.kaspersky.com/ScanEngine/1.0/en-US/179823.htm)\r\n\r\nQuick google search reveals a plenty of ICAP implementations for java (protocol is actually simple), some of them are interesting, for example: [ICAP-avscan](https://github.com/Baekalfen/ICAP-avscan)","title":"How to implement file content virus scanner in a JAVA spring core/struts2 based web application?","body":"<p>Mature A/V software supports <a href=\"https://en.wikipedia.org/wiki/Internet_Content_Adaptation_Protocol\" rel=\"nofollow noreferrer\">ICAP protocol</a>, some examples:</p>\n<ul>\n<li><a href=\"https://docs.tibco.com/pub/api-exchange-gateway/2.2.0/doc/html/GUID-AC8BD890-E522-4BA7-BDA3-2CC455F41C3B.html\" rel=\"nofollow noreferrer\">Configuring McAfee Web Gateway for ICAP Server</a></li>\n<li><a href=\"https://support.kaspersky.com/ScanEngine/1.0/en-US/179823.htm\" rel=\"nofollow noreferrer\">KAV ICAP mode</a></li>\n</ul>\n<p>Quick google search reveals a plenty of ICAP implementations for java (protocol is actually simple), some of them are interesting, for example: <a href=\"https://github.com/Baekalfen/ICAP-avscan\" rel=\"nofollow noreferrer\">ICAP-avscan</a></p>\n"}],"owner":{"account_id":18230420,"reputation":13,"user_id":13269465,"display_name":"Ritesh_RM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":823,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659378050,"creation_date":1659377119,"question_id":73197847,"body_markdown":"I am working on a web application which is accepting some files from external users. Thus, I wish to incorporate one JAVA compatible antivirus in my application which will scan the file content and will generate the outcome whether there is any virus present or not.\r\n\r\nI want to manage this feature from my codebase perspective without installing the antivirus on the server itself. My target is to manage some maven dependencies and use some JAVA API for the virus scan which will keep my application server(JBOSS EAP 7.4.3) lightweight.\r\n\r\nI have already done some research on this and got few information from some blogs over the internet. But I have not found any dependency related to antivirus API in the maven repository.\r\n\r\nCould you please provide some ideas or solutions to solve this problem. Thanks in advance!\r\n\r\nRegards,\r\nRitesh","title":"How to implement file content virus scanner in a JAVA spring core/struts2 based web application?","body":"<p>I am working on a web application which is accepting some files from external users. Thus, I wish to incorporate one JAVA compatible antivirus in my application which will scan the file content and will generate the outcome whether there is any virus present or not.</p>\n<p>I want to manage this feature from my codebase perspective without installing the antivirus on the server itself. My target is to manage some maven dependencies and use some JAVA API for the virus scan which will keep my application server(JBOSS EAP 7.4.3) lightweight.</p>\n<p>I have already done some research on this and got few information from some blogs over the internet. But I have not found any dependency related to antivirus API in the maven repository.</p>\n<p>Could you please provide some ideas or solutions to solve this problem. Thanks in advance!</p>\n<p>Regards,\nRitesh</p>\n"},{"tags":["java","mysql","uniqueidentifier"],"comments":[{"owner":{"account_id":19281,"reputation":30569,"user_id":45066,"accept_rate":76,"display_name":"Yada"},"score":2,"creation_date":1265220670,"post_id":2194206,"comment_id":2143239,"body_markdown":"The easiest unique ID for database is incrementing a number.","body":"The easiest unique ID for database is incrementing a number."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1500539513,"post_id":2194206,"comment_id":77384797,"body_markdown":"Why not use a UUID instead? https://stackoverflow.com/questions/192920/generating-a-globally-unique-identifier-in-java","body":"Why not use a UUID instead? <a href=\"https://stackoverflow.com/questions/192920/generating-a-globally-unique-identifier-in-java\" title=\"generating a globally unique identifier in java\">stackoverflow.com/questions/192920/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":39106,"reputation":4440,"user_id":112713,"display_name":"Sean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265220567,"creation_date":1265220567,"answer_id":2194239,"question_id":2194206,"body_markdown":"    public String getUniqueId(String uniqueString) {\r\n        return uniqueString;\r\n    }\r\n\r\nUnless the ID has any other constraints on it than &quot;be unique&quot;.","title":"Generate unique id from unique string input","body":"<pre><code>public String getUniqueId(String uniqueString) {\n    return uniqueString;\n}\n</code></pre>\n\n<p>Unless the ID has any other constraints on it than \"be unique\".</p>\n"},{"tags":[],"owner":{"account_id":65544,"reputation":26923,"user_id":192801,"accept_rate":90,"display_name":"FrustratedWithFormsDesigner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265220842,"creation_date":1265220842,"answer_id":2194267,"question_id":2194206,"body_markdown":"If your database requires that the column contain unique values, then why not use the string itself? Anything else is just another step to encode/decode it.","title":"Generate unique id from unique string input","body":"<p>If your database requires that the column contain unique values, then why not use the string itself? Anything else is just another step to encode/decode it.</p>\n"},{"tags":[],"owner":{"account_id":54615,"reputation":16252,"user_id":163454,"accept_rate":94,"display_name":"Notinlist"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265222174,"creation_date":1265222174,"answer_id":2194453,"question_id":2194206,"body_markdown":"You have much much more possibilities for a 255 long string than a 64 (or whatever) bit long number. It is impossible. Add an auto_increment field.","title":"Generate unique id from unique string input","body":"<p>You have much much more possibilities for a 255 long string than a 64 (or whatever) bit long number. It is impossible. Add an auto_increment field.</p>\n"},{"tags":[],"owner":{"account_id":4627,"reputation":16143,"user_id":7034,"accept_rate":100,"display_name":"Henning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265222557,"creation_date":1265222557,"answer_id":2194484,"question_id":2194206,"body_markdown":"If you have a limited number of strings that occur frequently, creating a reference table with a numeric (auto-increment) ID, and a FK to that reference table in your main table could be an option.\r\n\r\nIf not, you could run your strings through GZIP or any other compression algorithm if you need to retrieve the original. \r\n\r\nIf you don&#39;t need to retrieve the original, a hash function such as MD5 is what you&#39;re looking for.","title":"Generate unique id from unique string input","body":"<p>If you have a limited number of strings that occur frequently, creating a reference table with a numeric (auto-increment) ID, and a FK to that reference table in your main table could be an option.</p>\n\n<p>If not, you could run your strings through GZIP or any other compression algorithm if you need to retrieve the original. </p>\n\n<p>If you don't need to retrieve the original, a hash function such as MD5 is what you're looking for.</p>\n"},{"tags":[],"owner":{"account_id":70253,"reputation":56,"user_id":203897,"display_name":"Dagon"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1265223007,"creation_date":1265223007,"answer_id":2194535,"question_id":2194206,"body_markdown":"How unique is &quot;unique&quot;?  Using any good hashing function (MD5 is decent for most uses, and easily implemented via java.security.MessageDigest.getInstance(&quot;MD5&quot;) can get you to a 128-bit number that&#39;s very very likely to be unique.  Using a subset of the hash gets you a smaller ID, with a higher chance of collision.  \r\n\r\nUsing an auto_increment field in the DB, if it fits your design, might be easier to implement, will truly guarantee uniqueness, and will use smaller IDs than the 16 bytes of MD5.  You can also then meet your requirement of finding the string by the key, which you can&#39;t do for a hash.\r\n\r\n","title":"Generate unique id from unique string input","body":"<p>How unique is \"unique\"?  Using any good hashing function (MD5 is decent for most uses, and easily implemented via java.security.MessageDigest.getInstance(\"MD5\") can get you to a 128-bit number that's very very likely to be unique.  Using a subset of the hash gets you a smaller ID, with a higher chance of collision.  </p>\n\n<p>Using an auto_increment field in the DB, if it fits your design, might be easier to implement, will truly guarantee uniqueness, and will use smaller IDs than the 16 bytes of MD5.  You can also then meet your requirement of finding the string by the key, which you can't do for a hash.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659378048,"creation_date":1265223220,"answer_id":2194564,"question_id":2194206,"body_markdown":"If you want to be able to go &quot;Backwards&quot; (The indexes are guaranteed unique and can be reversed to the original strings) what you are doing is compression, anything that isn&#39;t compression (checksum) is not reversable.  \r\n\r\nTo do the compression, the simplest way would be to bit-pack and get each character down to the bare minimum number of bits.\r\n\r\nA-Z is 26 chars which is less than 32 (5 bits)\r\n\r\nadd a-z and it&#39;s 6 bits (with somewhere around 12 bit-patterns left over to represent other characters).\r\n\r\nLet&#39;s say that is enough for you.  So you have 6x255 bits which is 1530 bits to store your string. (191 bytes)\r\n\r\nGoing with only caps would reduce that a little (to 159 bytes)\r\n\r\nYou can optimize it more, but then you have to go into a compression algorithm that expects a specific language or patterns in the Strings and optimizes those patterns.\r\n\r\nUnless you can further specify the contents of the strings, you&#39;re just not going to get what you want.  Sorry.  (If you can tell more about the contents of the strings, do so.  One of us may see patterns that will allow much better &quot;Compression&quot;)\r\n\r\nThis lack of ability to do what you want is why hashtables are so cool.  They get a &quot;Mostly Unique&quot; number and then have a second level of resolution to test cases where two strings hashed to the same number. ","title":"Generate unique id from unique string input","body":"<p>If you want to be able to go &quot;Backwards&quot; (The indexes are guaranteed unique and can be reversed to the original strings) what you are doing is compression, anything that isn't compression (checksum) is not reversable.</p>\n<p>To do the compression, the simplest way would be to bit-pack and get each character down to the bare minimum number of bits.</p>\n<p>A-Z is 26 chars which is less than 32 (5 bits)</p>\n<p>add a-z and it's 6 bits (with somewhere around 12 bit-patterns left over to represent other characters).</p>\n<p>Let's say that is enough for you.  So you have 6x255 bits which is 1530 bits to store your string. (191 bytes)</p>\n<p>Going with only caps would reduce that a little (to 159 bytes)</p>\n<p>You can optimize it more, but then you have to go into a compression algorithm that expects a specific language or patterns in the Strings and optimizes those patterns.</p>\n<p>Unless you can further specify the contents of the strings, you're just not going to get what you want.  Sorry.  (If you can tell more about the contents of the strings, do so.  One of us may see patterns that will allow much better &quot;Compression&quot;)</p>\n<p>This lack of ability to do what you want is why hashtables are so cool.  They get a &quot;Mostly Unique&quot; number and then have a second level of resolution to test cases where two strings hashed to the same number.</p>\n"},{"tags":[],"owner":{"account_id":46401,"reputation":42331,"user_id":137067,"accept_rate":81,"display_name":"philfreo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265224165,"creation_date":1265224165,"answer_id":2194682,"question_id":2194206,"body_markdown":"Since you&#39;re using MySQL, take a look at CRC32\r\n\r\nhttp://www.bitbybit.dk/carsten/blog/?p=191","title":"Generate unique id from unique string input","body":"<p>Since you're using MySQL, take a look at CRC32</p>\n\n<p><a href=\"http://www.bitbybit.dk/carsten/blog/?p=191\" rel=\"nofollow noreferrer\">http://www.bitbybit.dk/carsten/blog/?p=191</a></p>\n"},{"tags":[],"owner":{"account_id":273107,"reputation":2687,"user_id":564508,"display_name":"Michael Sander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346342189,"creation_date":1346342189,"answer_id":12200900,"question_id":2194206,"body_markdown":"Choosing the proper key shouldnt be taken easy.\r\n\r\nYou need to consider:\r\n\r\n- Replication:\r\nIs sharing of keys between different servers needed? If so, you most probably need some sort of unique hash or guid.\r\n\r\n- Size of the table/number of inserts:\r\nYou should consider that most rdbms store the data physically on the hard drive by the order of their (clustered) primary key. Now imagine what happens, if you insert a hash value starting with &#39;a&#39; on a table with a reasonable size. Yes, theres index padding, but eventually its full and the single line insert can cause the move of a couple of GB on the harddrive.\r\n\r\n- Need replication AND have big tables?\r\nUse both. Use a primary clustered auto increment (long)integer key and define a unique index on your hash column.\r\n","title":"Generate unique id from unique string input","body":"<p>Choosing the proper key shouldnt be taken easy.</p>\n\n<p>You need to consider:</p>\n\n<ul>\n<li><p>Replication:\nIs sharing of keys between different servers needed? If so, you most probably need some sort of unique hash or guid.</p></li>\n<li><p>Size of the table/number of inserts:\nYou should consider that most rdbms store the data physically on the hard drive by the order of their (clustered) primary key. Now imagine what happens, if you insert a hash value starting with 'a' on a table with a reasonable size. Yes, theres index padding, but eventually its full and the single line insert can cause the move of a couple of GB on the harddrive.</p></li>\n<li><p>Need replication AND have big tables?\nUse both. Use a primary clustered auto increment (long)integer key and define a unique index on your hash column.</p></li>\n</ul>\n"}],"owner":{"account_id":91142,"reputation":2229,"user_id":250444,"accept_rate":57,"display_name":"pkrish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16674,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":2194535,"answer_count":8,"score":2,"last_activity_date":1659378048,"creation_date":1265220281,"question_id":2194206,"body_markdown":"I have a table with a column of unique string values. The max length of the string value is 255 char. I want to generate a unique id with the string value as input. In other words I am looking for a compact representation for a string. The unique id generated can be alpha-numeric. A useful feature to have would be to be able to regenerate the string value from the unique id. \r\n\r\nIs there an efficient function to generate such an unique id. Some ways could be using checksum or hash functions. I want to know if there is a standard way to do this. \r\n\r\nI am using MySql database and java. \r\n\r\nThanks!\r\n\r\n--edit: I am looking for a more compact representation rather than just using the string itself. ","title":"Generate unique id from unique string input","body":"<p>I have a table with a column of unique string values. The max length of the string value is 255 char. I want to generate a unique id with the string value as input. In other words I am looking for a compact representation for a string. The unique id generated can be alpha-numeric. A useful feature to have would be to be able to regenerate the string value from the unique id. </p>\n\n<p>Is there an efficient function to generate such an unique id. Some ways could be using checksum or hash functions. I want to know if there is a standard way to do this. </p>\n\n<p>I am using MySql database and java. </p>\n\n<p>Thanks!</p>\n\n<p>--edit: I am looking for a more compact representation rather than just using the string itself. </p>\n"},{"tags":["java","spring","spring-boot","gradle","build.gradle"],"comments":[{"owner":{"account_id":2067336,"reputation":2848,"user_id":1842599,"display_name":"Andrej Istomin"},"score":1,"creation_date":1659290291,"post_id":73185316,"comment_id":129254463,"body_markdown":"Could you show us what is at DataSourceProperties.java:182?","body":"Could you show us what is at DataSourceProperties.java:182?"},{"owner":{"account_id":12305345,"reputation":450,"user_id":8978587,"display_name":"ShaharT"},"score":0,"creation_date":1659301364,"post_id":73185316,"comment_id":129256619,"body_markdown":"assuming you used https://start.spring.io, what version of spring-boot was chosen ? share your build.gradle","body":"assuming you used <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a>, what version of spring-boot was chosen ? share your build.gradle"},{"owner":{"account_id":25660587,"reputation":41,"user_id":19426378,"display_name":"VichynewSTB"},"score":0,"creation_date":1659377490,"post_id":73185316,"comment_id":129275540,"body_markdown":"@ShaharTI I have attached the build.gradle file in the post","body":"@ShaharTI I have attached the build.gradle file in the post"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1659377647,"post_id":73185316,"comment_id":129275591,"body_markdown":"Seems like DB is not configured on your TEST-profile or tests.\nMake sure you&#39;re using a real one (real/testcontainer/inmemopry) and correct properties.","body":"Seems like DB is not configured on your TEST-profile or tests. Make sure you&#39;re using a real one (real/testcontainer/inmemopry) and correct properties."},{"owner":{"account_id":25660587,"reputation":41,"user_id":19426378,"display_name":"VichynewSTB"},"score":0,"creation_date":1659377997,"post_id":73185316,"comment_id":129275679,"body_markdown":"@LenglBoy If I run with the -x test parameter, the build goes through, just wondering why I can&#39;t run the project I just created, the test class is empty","body":"@LenglBoy If I run with the -x test parameter, the build goes through, just wondering why I can&#39;t run the project I just created, the test class is empty"},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1659378447,"post_id":73185316,"comment_id":129275816,"body_markdown":"@VichynewSTB the gradle param `-x test` is excluding the test. So since you have configured a datasource your app will need a DB. Maybe your Test-Scope does not contain a DB connection to the DB can not be found which is required.\nAdd a application.properties file to test/resources and configure a DB or make spring skip the DB connection to see if that works","body":"@VichynewSTB the gradle param <code>-x test</code> is excluding the test. So since you have configured a datasource your app will need a DB. Maybe your Test-Scope does not contain a DB connection to the DB can not be found which is required. Add a application.properties file to test/resources and configure a DB or make spring skip the DB connection to see if that works"}],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659377665,"creation_date":1659377665,"answer_id":73197928,"question_id":73185316,"body_markdown":"I think you have default test and you dont have  main method that starts application. Maybe you can write some code to provide spring application to boot. Main method is enough for you. contextLoads() method test the application context be up or not. You need configure datasource as well. In your stacktrace I can see that driver is missing.","title":"Gradle build failed for empty project","body":"<p>I think you have default test and you dont have  main method that starts application. Maybe you can write some code to provide spring application to boot. Main method is enough for you. contextLoads() method test the application context be up or not. You need configure datasource as well. In your stacktrace I can see that driver is missing.</p>\n"}],"owner":{"account_id":25660587,"reputation":41,"user_id":19426378,"display_name":"VichynewSTB"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659377798,"creation_date":1659287016,"question_id":73185316,"body_markdown":"I just created a project in spring boot, the project is clean (zero changes) just created and at first I wanted to build it with the command: `./gradlew clean build` , but the build does not go through I get: `BUILD FAILED` (**Task :test FAILED**)  `What went wrong: Execution failed for task &#39;:test&#39;. java.lang.IllegalStateException: Failed to load ApplicationContext` I have no idea why I&#39;m getting an error in an application where I haven&#39;t modified anything yet. What could be the cause of this? How can I build this application?\r\n\r\n    SpringbootServerApplicationTests &gt; contextLoads() FAILED\r\n        java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\r\n            Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\r\n                Caused by: org.springframework.beans.factory.BeanCreationException at ConstructorResolver.java:658\r\n                    Caused by: org.springframework.beans.BeanInstantiationException at SimpleInstantiationStrategy.java:185\r\n                        Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException at DataSourceProperties.java:182\r\n\r\n**gradle.build**\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.7.2&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.12.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    configurations {\r\n    \tcompileOnly {\r\n    \t\textendsFrom annotationProcessor\r\n    \t}\r\n    }\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n    \tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n    \tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nERROR:\r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n    \tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n    \tat app//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)","title":"Gradle build failed for empty project","body":"<p>I just created a project in spring boot, the project is clean (zero changes) just created and at first I wanted to build it with the command: <code>./gradlew clean build</code> , but the build does not go through I get: <code>BUILD FAILED</code> (<strong>Task :test FAILED</strong>)  <code>What went wrong: Execution failed for task ':test'. java.lang.IllegalStateException: Failed to load ApplicationContext</code> I have no idea why I'm getting an error in an application where I haven't modified anything yet. What could be the cause of this? How can I build this application?</p>\n<pre><code>SpringbootServerApplicationTests &gt; contextLoads() FAILED\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\n        Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException at ConstructorResolver.java:800\n            Caused by: org.springframework.beans.factory.BeanCreationException at ConstructorResolver.java:658\n                Caused by: org.springframework.beans.BeanInstantiationException at SimpleInstantiationStrategy.java:185\n                    Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException at DataSourceProperties.java:182\n</code></pre>\n<p><strong>gradle.build</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.2'\n    id 'io.spring.dependency-management' version '1.0.12.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>ERROR:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at app//org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n</code></pre>\n"},{"tags":["java","scala","awt"],"answers":[{"tags":[],"owner":{"account_id":7773711,"reputation":107,"user_id":5882463,"accept_rate":50,"display_name":"J Hubbard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659377706,"creation_date":1659377706,"answer_id":73197938,"question_id":73197598,"body_markdown":"I managed to figure this out. The trick was in the for loop.\r\n\r\nIt needed to be more like this:\r\n\r\n    for (i &lt;- 0 to heroPixels.length - 1)\r\n      {\r\n        val color = heroPixels(i)\r\n        val mask = maskPixels(i)\r\n\r\n        if (mask == whiteInt) {\r\n          heroPixels(i) = color\r\n        } else\r\n          heroPixels(i) = new Color(0,0,0, 1).getRGB\r\n      }\r\n\r\nAnd then using `BufferedImage.TYPE_INT_ARGB` rather than `BufferedImage.TYPE_INT_RGB`","title":"How can I crop an image to the shape of a svg/png mask in scala/java","body":"<p>I managed to figure this out. The trick was in the for loop.</p>\n<p>It needed to be more like this:</p>\n<pre><code>for (i &lt;- 0 to heroPixels.length - 1)\n  {\n    val color = heroPixels(i)\n    val mask = maskPixels(i)\n\n    if (mask == whiteInt) {\n      heroPixels(i) = color\n    } else\n      heroPixels(i) = new Color(0,0,0, 1).getRGB\n  }\n</code></pre>\n<p>And then using <code>BufferedImage.TYPE_INT_ARGB</code> rather than <code>BufferedImage.TYPE_INT_RGB</code></p>\n"}],"owner":{"account_id":7773711,"reputation":107,"user_id":5882463,"accept_rate":50,"display_name":"J Hubbard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659377706,"creation_date":1659375752,"question_id":73197598,"body_markdown":"Say I have a Z shaped white mask and I want to crop an image to this shape. How can I do this in java?\r\n\r\nBoth images are 2560x1440, but the Z shaped mask has transparent bits.\r\n\r\nMy attempt in scala but using Java&#39;s awt library:\r\n\r\n    val imageBuff = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\r\n    val imageB = imageBuff.createGraphics()\r\n    imageB.drawImage(image, 0, 0, null)\r\n    \r\n    val maskBuffered = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\r\n    val maskB = mask01Buffered.createGraphics()\r\n    maskB.drawImage(scaledmask, 0, 0, null)\r\n    \r\n    \r\n    def applyMask(imageBuffered: BufferedImage, maskBuffered: BufferedImage): BufferedImage = {\r\n      val imagePixels = heroBuffered.getRGB(0, 0, width, height, null, 0, width)\r\n      val maskPixels = maskBuffered.getRGB(0, 0, width, height, null, 0, width)\r\n    \r\n     for (i &lt;- 0 to maskPixels.length - 1)\r\n      {\r\n        val color = imagePixels(i)\r\n        val mask = maskPixels(i) \r\n        imagePixels(i) = mask | color\r\n      }\r\n    \r\n      imageBuffered.setRGB(0, 0, width, height, imagePixels, 0, width)\r\n      imageBuffered\r\n    }\r\n    \r\n    val maskApplied = applyMask(imageBuff, maskBuffered)\r\n    \r\n    val scaledForeground: Image = maskApplied.getScaledInstance((width * 1.08).toInt, (height * 1.08).toInt, Image.SCALE_DEFAULT)\r\n    \r\n    val finalImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\r\n    val f = finalImage.createGraphics\r\n    val newX: Int = (0 - width * 0.08).toInt\r\n    val newY: Int = (0 - height * 0.08).toInt\r\n    f.drawImage(scaledForeground, newX, newY, null)\r\n\r\n    ImageIO.write(finalImage, &quot;jpeg&quot;, new FileOutputStream(imagePath.takeWhile(_.toString != &quot;.&quot;) + &quot;-&quot; + keyline.name + &quot;-final-image.jpeg&quot;))\r\n    f.dispose()\r\n\r\nThis creates an image where I get the original image showing through a very small part of the z shape, but I want to strip away anything where the mask is transparent.\r\n\r\nDoes anyone have any other ideas?\r\n\r\nMany thanks, J\r\n","title":"How can I crop an image to the shape of a svg/png mask in scala/java","body":"<p>Say I have a Z shaped white mask and I want to crop an image to this shape. How can I do this in java?</p>\n<p>Both images are 2560x1440, but the Z shaped mask has transparent bits.</p>\n<p>My attempt in scala but using Java's awt library:</p>\n<pre><code>val imageBuff = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\nval imageB = imageBuff.createGraphics()\nimageB.drawImage(image, 0, 0, null)\n\nval maskBuffered = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\nval maskB = mask01Buffered.createGraphics()\nmaskB.drawImage(scaledmask, 0, 0, null)\n\n\ndef applyMask(imageBuffered: BufferedImage, maskBuffered: BufferedImage): BufferedImage = {\n  val imagePixels = heroBuffered.getRGB(0, 0, width, height, null, 0, width)\n  val maskPixels = maskBuffered.getRGB(0, 0, width, height, null, 0, width)\n\n for (i &lt;- 0 to maskPixels.length - 1)\n  {\n    val color = imagePixels(i)\n    val mask = maskPixels(i) \n    imagePixels(i) = mask | color\n  }\n\n  imageBuffered.setRGB(0, 0, width, height, imagePixels, 0, width)\n  imageBuffered\n}\n\nval maskApplied = applyMask(imageBuff, maskBuffered)\n\nval scaledForeground: Image = maskApplied.getScaledInstance((width * 1.08).toInt, (height * 1.08).toInt, Image.SCALE_DEFAULT)\n\nval finalImage = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB)\nval f = finalImage.createGraphics\nval newX: Int = (0 - width * 0.08).toInt\nval newY: Int = (0 - height * 0.08).toInt\nf.drawImage(scaledForeground, newX, newY, null)\n\nImageIO.write(finalImage, &quot;jpeg&quot;, new FileOutputStream(imagePath.takeWhile(_.toString != &quot;.&quot;) + &quot;-&quot; + keyline.name + &quot;-final-image.jpeg&quot;))\nf.dispose()\n</code></pre>\n<p>This creates an image where I get the original image showing through a very small part of the z shape, but I want to strip away anything where the mask is transparent.</p>\n<p>Does anyone have any other ideas?</p>\n<p>Many thanks, J</p>\n"},{"tags":["java","android","opengl-es","screenshot"],"comments":[{"owner":{"account_id":253976,"reputation":10814,"user_id":533037,"accept_rate":60,"display_name":"solidpixel"},"score":0,"creation_date":1658353766,"post_id":73058265,"comment_id":129033962,"body_markdown":"Check it&#39;s not just transparent.","body":"Check it&#39;s not just transparent."},{"owner":{"account_id":14469644,"reputation":970,"user_id":10452046,"display_name":"Hihikomori"},"score":0,"creation_date":1658408985,"post_id":73058265,"comment_id":129048014,"body_markdown":"ByteOrder.nativeOrder() - Retrieves the native byte order of the underlying platform. Could it be the case that for some devices native order is not LITTLE_ENDIAN?","body":"ByteOrder.nativeOrder() - Retrieves the native byte order of the underlying platform. Could it be the case that for some devices native order is not LITTLE_ENDIAN?"},{"owner":{"account_id":25857011,"reputation":1,"user_id":19590093,"display_name":"Bruno Guedes"},"score":0,"creation_date":1658419530,"post_id":73058265,"comment_id":129052451,"body_markdown":"@solidpixel I tried setting the alpha byte for every pixel in the buffer to 255, confirmed it worked normally in the simulator but still got a black screen in the Motorola G20","body":"@solidpixel I tried setting the alpha byte for every pixel in the buffer to 255, confirmed it worked normally in the simulator but still got a black screen in the Motorola G20"},{"owner":{"account_id":25857011,"reputation":1,"user_id":19590093,"display_name":"Bruno Guedes"},"score":0,"creation_date":1658419592,"post_id":73058265,"comment_id":129052469,"body_markdown":"@Hihikomori if that&#39;s the case I would expect the colors to be all mixed up but still something other than just black pixels, no?","body":"@Hihikomori if that&#39;s the case I would expect the colors to be all mixed up but still something other than just black pixels, no?"},{"owner":{"account_id":14469644,"reputation":970,"user_id":10452046,"display_name":"Hihikomori"},"score":0,"creation_date":1658421292,"post_id":73058265,"comment_id":129053079,"body_markdown":"Let say the pixel format is not GLES20.GL_RGBA_8888 by default for Motorola G20.","body":"Let say the pixel format is not GLES20.GL_RGBA_8888 by default for Motorola G20."},{"owner":{"account_id":253976,"reputation":10814,"user_id":533037,"accept_rate":60,"display_name":"solidpixel"},"score":0,"creation_date":1658435022,"post_id":73058265,"comment_id":129057379,"body_markdown":"Is it definitely being called from a thread with an eglContext bound? any error from glGetError?","body":"Is it definitely being called from a thread with an eglContext bound? any error from glGetError?"},{"owner":{"account_id":25857011,"reputation":1,"user_id":19590093,"display_name":"Bruno Guedes"},"score":0,"creation_date":1658495024,"post_id":73058265,"comment_id":129071897,"body_markdown":"@solidpixel I should have mentioned that, no, there&#39;s no error code; running glGetError after the whole process just gets me a result of 0","body":"@solidpixel I should have mentioned that, no, there&#39;s no error code; running glGetError after the whole process just gets me a result of 0"},{"owner":{"account_id":25857011,"reputation":1,"user_id":19590093,"display_name":"Bruno Guedes"},"score":0,"creation_date":1659022837,"post_id":73058265,"comment_id":129201901,"body_markdown":"@Hihikomori not sure if I understand, I tried querying the GLES library for the values of read format and read type and they are coming up  as GL_RGBA and GL_UNSIGNED_BYTE even in the device where the screenshot is coming up black","body":"@Hihikomori not sure if I understand, I tried querying the GLES library for the values of read format and read type and they are coming up  as GL_RGBA and GL_UNSIGNED_BYTE even in the device where the screenshot is coming up black"}],"owner":{"account_id":25857011,"reputation":1,"user_id":19590093,"display_name":"Bruno Guedes"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659377696,"creation_date":1658352079,"question_id":73058265,"body_markdown":"I&#39;m working on a Haxe game that builds to both Android and iOS, and just recently it&#39;s been noticed that a routine that was used to take screenshots of the game and use it to share to social networks has a very weird behavior. In some devices it works perfectly (especially in AVDs) but in some devices the code results in a solid black rectangle.\r\n\r\nIn summary, the code that reads the pixels from the frame buffer and saves them to a buffer that will be written to the new image, which I believe is some really standard fare:\r\n\r\n```\r\n                View rootView = Extension.mainView.getRootView();\r\n\r\n                final int screenshotWidth = (int) (rootView.getWidth() * width);\r\n                final int screenshotHeight = (int) (rootView.getHeight() * height);\r\n                final int screenshotX = (int) (originX * rootView.getWidth());\r\n                final int screenshotY = (int) ((1.0 - originY - height) * rootView.getHeight());\r\n\r\n                // Create a buffer of pixels to have a copy of the screen\r\n                ByteBuffer pixelsBuf = ByteBuffer.allocateDirect(screenshotWidth * screenshotHeight * 4);\r\n                pixelsBuf.order(ByteOrder.LITTLE_ENDIAN);\r\n\r\n                // Access OpenGL context to copy pixels into a buffer\r\n                GLES20.glReadPixels(\r\n                    screenshotX,\r\n                    screenshotY,\r\n                    screenshotWidth,\r\n                    screenshotHeight,\r\n                    GLES20.GL_RGBA, GLES20.GL_UNSIGNED_BYTE, pixelsBuf);\r\n\r\n                // The pixels in the buffer are upside down, inverting only the columns of the image to gain performance\r\n                int i = 0;\r\n                byte[] tmp = new byte[screenshotWidth * 4];\r\n                while (i++ &lt; screenshotHeight / 2) {\r\n                    pixelsBuf.get(tmp);\r\n                    System.arraycopy(pixelsBuf.array(), pixelsBuf.limit() - pixelsBuf.position(), pixelsBuf.array(), pixelsBuf.position() - screenshotWidth * 4, screenshotWidth * 4);\r\n                    System.arraycopy(tmp, 0, pixelsBuf.array(), pixelsBuf.limit() - pixelsBuf.position(), screenshotWidth * 4);\r\n                }\r\n                pixelsBuf.rewind();\r\n```\r\n\r\nI can confirm `pixelsBuf` is being correctly generating the image afterwards because I can insert pixels in it and they show up (over the black square) and is also already all black before going through the hassle of flipping it. What&#39;s really puzzling me is why the buffer is apparently empty in some devices and others not, and in what way we could guarantee that the buffer has the contents of the screen in any device (which I suppose is something that&#39;s implicit that we can make explicit, but I&#39;m out of clues at the moment)\r\n\r\nUPDATES: not sure if this will bump the question somehow, but more investigation was conducted and it&#39;s not very promising.\r\n\r\nUsing glGetIntegerv to query OpenGL properties in the system tells me that, at least in theory, the value for COLOR_READ_FORMAT and COLOR_READ_TYPE are correct. Using the same values that GLES20 return into glReadPixels works in the same devices and gives a black screen in the same devices; so it seems not to be a configuration problem.\r\n\r\nDoing a random sample of the pixel buffer after flipping the pixels also shows that any random pixel in the black image is actually [0,0,0,255]; it is not transparent, it&#39;s actually just reading black.\r\n\r\nInvestigation is proceeding in the direction of finding perhaps another buffer where the screen pixels might be instead of the default glReadPixels is reading from. Otherwise... I&#39;m completely lost.","title":"glReadPixels fills the buffer with black pixels in some Android devices","body":"<p>I'm working on a Haxe game that builds to both Android and iOS, and just recently it's been noticed that a routine that was used to take screenshots of the game and use it to share to social networks has a very weird behavior. In some devices it works perfectly (especially in AVDs) but in some devices the code results in a solid black rectangle.</p>\n<p>In summary, the code that reads the pixels from the frame buffer and saves them to a buffer that will be written to the new image, which I believe is some really standard fare:</p>\n<pre><code>                View rootView = Extension.mainView.getRootView();\n\n                final int screenshotWidth = (int) (rootView.getWidth() * width);\n                final int screenshotHeight = (int) (rootView.getHeight() * height);\n                final int screenshotX = (int) (originX * rootView.getWidth());\n                final int screenshotY = (int) ((1.0 - originY - height) * rootView.getHeight());\n\n                // Create a buffer of pixels to have a copy of the screen\n                ByteBuffer pixelsBuf = ByteBuffer.allocateDirect(screenshotWidth * screenshotHeight * 4);\n                pixelsBuf.order(ByteOrder.LITTLE_ENDIAN);\n\n                // Access OpenGL context to copy pixels into a buffer\n                GLES20.glReadPixels(\n                    screenshotX,\n                    screenshotY,\n                    screenshotWidth,\n                    screenshotHeight,\n                    GLES20.GL_RGBA, GLES20.GL_UNSIGNED_BYTE, pixelsBuf);\n\n                // The pixels in the buffer are upside down, inverting only the columns of the image to gain performance\n                int i = 0;\n                byte[] tmp = new byte[screenshotWidth * 4];\n                while (i++ &lt; screenshotHeight / 2) {\n                    pixelsBuf.get(tmp);\n                    System.arraycopy(pixelsBuf.array(), pixelsBuf.limit() - pixelsBuf.position(), pixelsBuf.array(), pixelsBuf.position() - screenshotWidth * 4, screenshotWidth * 4);\n                    System.arraycopy(tmp, 0, pixelsBuf.array(), pixelsBuf.limit() - pixelsBuf.position(), screenshotWidth * 4);\n                }\n                pixelsBuf.rewind();\n</code></pre>\n<p>I can confirm <code>pixelsBuf</code> is being correctly generating the image afterwards because I can insert pixels in it and they show up (over the black square) and is also already all black before going through the hassle of flipping it. What's really puzzling me is why the buffer is apparently empty in some devices and others not, and in what way we could guarantee that the buffer has the contents of the screen in any device (which I suppose is something that's implicit that we can make explicit, but I'm out of clues at the moment)</p>\n<p>UPDATES: not sure if this will bump the question somehow, but more investigation was conducted and it's not very promising.</p>\n<p>Using glGetIntegerv to query OpenGL properties in the system tells me that, at least in theory, the value for COLOR_READ_FORMAT and COLOR_READ_TYPE are correct. Using the same values that GLES20 return into glReadPixels works in the same devices and gives a black screen in the same devices; so it seems not to be a configuration problem.</p>\n<p>Doing a random sample of the pixel buffer after flipping the pixels also shows that any random pixel in the black image is actually [0,0,0,255]; it is not transparent, it's actually just reading black.</p>\n<p>Investigation is proceeding in the direction of finding perhaps another buffer where the screen pixels might be instead of the default glReadPixels is reading from. Otherwise... I'm completely lost.</p>\n"},{"tags":["java","asynchronous"],"answers":[{"tags":[],"owner":{"account_id":5137145,"reputation":1518,"user_id":4115522,"accept_rate":33,"display_name":"Reenactor Rob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422463182,"creation_date":1422463182,"answer_id":28197611,"question_id":28197335,"body_markdown":"When a NoClassDefFoundError occurs during runtime, it means that you didn&#39;t supply a reference to the dependency either when building the final .war/.ear, or in the environment classpath.\r\n\r\nUse winzip or the jar command to look at the files in your archive and see if the needed .jar file is present.\r\n\r\nIf not, put the JAR-file on the classpath or in the export library list of the project in Eclipse. Project-&gt;Properties-&gt;Java Build Path. Do this and the problem will go away.\r\n\r\nYou should find a ton of google links to help you with this.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError on HttpAsyncClients.custom","body":"<p>When a NoClassDefFoundError occurs during runtime, it means that you didn't supply a reference to the dependency either when building the final .war/.ear, or in the environment classpath.</p>\n\n<p>Use winzip or the jar command to look at the files in your archive and see if the needed .jar file is present.</p>\n\n<p>If not, put the JAR-file on the classpath or in the export library list of the project in Eclipse. Project->Properties->Java Build Path. Do this and the problem will go away.</p>\n\n<p>You should find a ton of google links to help you with this.</p>\n"},{"tags":[],"owner":{"account_id":3985229,"reputation":141,"user_id":3286012,"accept_rate":33,"display_name":"user3286012"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422563916,"creation_date":1422563916,"answer_id":28224148,"question_id":28197335,"body_markdown":"I&#39;ve resolved thing by adding the latest jar of each of the previous jars I&#39;m referencing.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError on HttpAsyncClients.custom","body":"<p>I've resolved thing by adding the latest jar of each of the previous jars I'm referencing.</p>\n"},{"tags":[],"owner":{"account_id":5916580,"reputation":21,"user_id":4655203,"display_name":"Danillo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1426009491,"creation_date":1426009491,"answer_id":28970558,"question_id":28197335,"body_markdown":"I managed to solve this problem in my project adding the Apache HttpCore class &quot;4.3-alpha1.\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt; org.apache.httpcomponents &lt;/ groupId&gt;\r\n    &lt;artifactId&gt; httpcore &lt;/ artifactId&gt;\r\n    &lt;version&gt; 4.3-alpha1 &lt;/ version&gt;\r\n    &lt;/ dependency&gt;\r\n\r\nGood luck.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError on HttpAsyncClients.custom","body":"<p>I managed to solve this problem in my project adding the Apache HttpCore class \"4.3-alpha1.</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt; org.apache.httpcomponents &lt;/ groupId&gt;\n&lt;artifactId&gt; httpcore &lt;/ artifactId&gt;\n&lt;version&gt; 4.3-alpha1 &lt;/ version&gt;\n&lt;/ dependency&gt;\n</code></pre>\n\n<p>Good luck.</p>\n"},{"tags":[],"owner":{"account_id":3623434,"reputation":26,"user_id":6910975,"display_name":"Moin Abbas Qureshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659377374,"creation_date":1659088607,"answer_id":73164854,"question_id":28197335,"body_markdown":"    java.lang.NoClassDefFoundError on HttpAsyncClients.custom\r\n    \r\n    java.lang.NoClassDefFoundError: org/apache/http/impl/nio/clien /CloseableHttpAsyncClient\r\n    \r\n    java.lang.NoClassDefFoundError: org/apache/http/HttpHost \r\n\r\nYou have to import the *http-nio* *core* library.\r\n\r\nGo to the maven website and download **httpcore-nio** jar file.   (https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore-nio) \r\n\r\nNow you have to copy this jar file in \\lib folder. In case of Jira or confluence location is this one (https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore-nio )\r\n\r\nAfter that look for POM file and add dependencies. You can see dependencies code on maven website. Just go to end of &lt;/dependencies&gt; line of code, add following dependencies.\r\n\r\n \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n        &lt;artifactId&gt;httpcore-nio&lt;/artifactId&gt;\r\n        &lt;version&gt;4.4.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  \r\n\r\n\r\nIn case of Jira/Confluence, POM file location are that.\r\n(C:\\Program Files\\Atlassian\\JIRA\\atlassian-jira\\META-INF\\maven\\com.atlassian.jira)\r\n\r\nThere is two folder at this location :  atlassian-jira-webapp and jira-webapp-dist . Both folder contains POM files.\r\n\r\nJust open one POM file in notepad++ and search for end of &lt;/dependencies&gt;.\r\n[![enter image description here][1]][1]\r\n\r\nNow go to second folder POM file and add same dependencies too. \r\nJust look into error and add dependencies.\r\n\r\nRestart service after that.\r\n\r\n  [1]: https://i.stack.imgur.com/35S1l.png\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError on HttpAsyncClients.custom","body":"<pre><code>java.lang.NoClassDefFoundError on HttpAsyncClients.custom\n\njava.lang.NoClassDefFoundError: org/apache/http/impl/nio/clien /CloseableHttpAsyncClient\n\njava.lang.NoClassDefFoundError: org/apache/http/HttpHost \n</code></pre>\n<p>You have to import the <em>http-nio</em> <em>core</em> library.</p>\n<p>Go to the maven website and download <strong>httpcore-nio</strong> jar file.   (<a href=\"https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore-nio\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore-nio</a>)</p>\n<p>Now you have to copy this jar file in \\lib folder. In case of Jira or confluence location is this one (<a href=\"https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore-nio\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.httpcomponents/httpcore-nio</a> )</p>\n<p>After that look for POM file and add dependencies. You can see dependencies code on maven website. Just go to end of  line of code, add following dependencies.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n    &lt;artifactId&gt;httpcore-nio&lt;/artifactId&gt;\n    &lt;version&gt;4.4.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In case of Jira/Confluence, POM file location are that.\n(C:\\Program Files\\Atlassian\\JIRA\\atlassian-jira\\META-INF\\maven\\com.atlassian.jira)</p>\n<p>There is two folder at this location :  atlassian-jira-webapp and jira-webapp-dist . Both folder contains POM files.</p>\n<p>Just open one POM file in notepad++ and search for end of .\n<a href=\"https://i.stack.imgur.com/35S1l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/35S1l.png\" alt=\"enter image description here\" /></a></p>\n<p>Now go to second folder POM file and add same dependencies too.\nJust look into error and add dependencies.</p>\n<p>Restart service after that.</p>\n"}],"owner":{"account_id":3985229,"reputation":141,"user_id":3286012,"accept_rate":33,"display_name":"user3286012"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9427,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1659377374,"creation_date":1422462343,"question_id":28197335,"body_markdown":"Hey Guys Please help me out and I&#39;m new to java.\r\n\r\nI&#39;m trying to run an async HTTP request code that I&#39;ve copied in the net to try. It appears I have all the necessary jar files below and compiled using Eclipse.\r\n\r\nhttpcore-4.2.3\r\nhttpasyncclient-4.1-beta1\r\nhttpclient-4.3-beta1\r\nhttpcore-nio-4.4\r\n\r\nHowever, at run time, I&#39;m getting the following error. The error is pointing to the use of HttpAsyncClients.custom which appears to be in order. I&#39;ve tried even using HttpAsyncClients.createdefault but the same issue persist. Kindly help please. Thanks.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/config/Lookup\r\n    \tat org.apache.http.impl.nio.client.HttpAsyncClients.custom(HttpAsyncClients.java:54)\r\n    \tat AsyncHTTP.main(AsyncHTTP.java:23)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.http.config.Lookup\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:372)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:360)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 2 more\r\n\r\nHere is the code I&#39;m trying to run \r\n\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.config.RequestConfig;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.concurrent.FutureCallback;\r\n    import org.apache.http.impl.nio.client.CloseableHttpAsyncClient;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClients;\r\n    \r\n    /**\r\n     * This example demonstrates a fully asynchronous execution of multiple HTTP exchanges\r\n     * where the result of an individual operation is reported using a callback interface.\r\n     */\r\n    public class AsyncHTTP {\r\n    \r\n        public static void main(final String[] args) throws Exception {\r\n            //RequestConfig requestConfig = RequestConfig.custom()\r\n            //    .setSocketTimeout(3000)\r\n            //    .setConnectTimeout(3000).build();\r\n            CloseableHttpAsyncClient httpclient = HttpAsyncClients.custom()\r\n            \t    .setMaxConnTotal(100)\r\n            \t    .setMaxConnPerRoute(100)\r\n            \t    .build();\r\n            try {\r\n                httpclient.start();\r\n                final HttpGet[] requests = new HttpGet[] {\r\n                        new HttpGet(&quot;http://www.apache.org/&quot;),\r\n                        new HttpGet(&quot;https://www.verisign.com/&quot;),\r\n                        new HttpGet(&quot;http://www.google.com/&quot;)\r\n                };\r\n                final CountDownLatch latch = new CountDownLatch(requests.length);\r\n                for (final HttpGet request: requests) {\r\n                    httpclient.execute(request, new FutureCallback&lt;HttpResponse&gt;() {\r\n    \r\n                        public void completed(final HttpResponse response) {\r\n                            latch.countDown();\r\n                            System.out.println(request.getRequestLine() + &quot;-&gt;&quot; + response.getStatusLine());\r\n                        }\r\n    \r\n                        public void failed(final Exception ex) {\r\n                            latch.countDown();\r\n                            System.out.println(request.getRequestLine() + &quot;-&gt;&quot; + ex);\r\n                        }\r\n    \r\n                        public void cancelled() {\r\n                            latch.countDown();\r\n                            System.out.println(request.getRequestLine() + &quot; cancelled&quot;);\r\n                        }\r\n    \r\n                    });\r\n                }\r\n                latch.await();\r\n                System.out.println(&quot;Shutting down&quot;);\r\n            } finally {\r\n                httpclient.close();\r\n            }\r\n            System.out.println(&quot;Done&quot;);\r\n        }\r\n    \r\n    }","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError on HttpAsyncClients.custom","body":"<p>Hey Guys Please help me out and I'm new to java.</p>\n\n<p>I'm trying to run an async HTTP request code that I've copied in the net to try. It appears I have all the necessary jar files below and compiled using Eclipse.</p>\n\n<p>httpcore-4.2.3\nhttpasyncclient-4.1-beta1\nhttpclient-4.3-beta1\nhttpcore-nio-4.4</p>\n\n<p>However, at run time, I'm getting the following error. The error is pointing to the use of HttpAsyncClients.custom which appears to be in order. I've tried even using HttpAsyncClients.createdefault but the same issue persist. Kindly help please. Thanks.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/http/config/Lookup\n    at org.apache.http.impl.nio.client.HttpAsyncClients.custom(HttpAsyncClients.java:54)\n    at AsyncHTTP.main(AsyncHTTP.java:23)\nCaused by: java.lang.ClassNotFoundException: org.apache.http.config.Lookup\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:372)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:360)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 2 more\n</code></pre>\n\n<p>Here is the code I'm trying to run </p>\n\n<pre><code>import java.util.concurrent.CountDownLatch;\n\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.concurrent.FutureCallback;\nimport org.apache.http.impl.nio.client.CloseableHttpAsyncClient;\nimport org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\nimport org.apache.http.impl.nio.client.HttpAsyncClients;\n\n/**\n * This example demonstrates a fully asynchronous execution of multiple HTTP exchanges\n * where the result of an individual operation is reported using a callback interface.\n */\npublic class AsyncHTTP {\n\n    public static void main(final String[] args) throws Exception {\n        //RequestConfig requestConfig = RequestConfig.custom()\n        //    .setSocketTimeout(3000)\n        //    .setConnectTimeout(3000).build();\n        CloseableHttpAsyncClient httpclient = HttpAsyncClients.custom()\n                .setMaxConnTotal(100)\n                .setMaxConnPerRoute(100)\n                .build();\n        try {\n            httpclient.start();\n            final HttpGet[] requests = new HttpGet[] {\n                    new HttpGet(\"http://www.apache.org/\"),\n                    new HttpGet(\"https://www.verisign.com/\"),\n                    new HttpGet(\"http://www.google.com/\")\n            };\n            final CountDownLatch latch = new CountDownLatch(requests.length);\n            for (final HttpGet request: requests) {\n                httpclient.execute(request, new FutureCallback&lt;HttpResponse&gt;() {\n\n                    public void completed(final HttpResponse response) {\n                        latch.countDown();\n                        System.out.println(request.getRequestLine() + \"-&gt;\" + response.getStatusLine());\n                    }\n\n                    public void failed(final Exception ex) {\n                        latch.countDown();\n                        System.out.println(request.getRequestLine() + \"-&gt;\" + ex);\n                    }\n\n                    public void cancelled() {\n                        latch.countDown();\n                        System.out.println(request.getRequestLine() + \" cancelled\");\n                    }\n\n                });\n            }\n            latch.await();\n            System.out.println(\"Shutting down\");\n        } finally {\n            httpclient.close();\n        }\n        System.out.println(\"Done\");\n    }\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":0,"creation_date":1659344171,"post_id":73190983,"comment_id":129263962,"body_markdown":"Did you read this? https://stackoverflow.com/questions/59746441/alternate-of-package-org-springframework-web-util-log4jwebconfigurer-in-spring-5","body":"Did you read this? <a href=\"https://stackoverflow.com/questions/59746441/alternate-of-package-org-springframework-web-util-log4jwebconfigurer-in-spring-5\" title=\"alternate of package org springframework web util log4jwebconfigurer in spring 5\">stackoverflow.com/questions/59746441/&hellip;</a>"}],"owner":{"account_id":25945787,"reputation":11,"user_id":19664520,"display_name":"Kusuma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1659377209,"creation_date":1659343134,"question_id":73190983,"body_markdown":"I saw some the stackoverflow as log4jconfigurer are deprecated from spring 5 and not able to use more.\r\n\r\nHow to declare my custom class which is extended with `log4jwebconfigurer` having `log4jconfigurer.initloggging()`\r\nAnd `REFRESH_INTERVAL_PARAM`?\r\n\r\n    Log4jConfigurer.initLogging(location);\r\n    String intervalString = servletContext.getInitParameter(REFRESH_INTERVAL_PARAM);","title":"Any alternative package for org.springframework.util.log4jconfigurer in spring 5","body":"<p>I saw some the stackoverflow as log4jconfigurer are deprecated from spring 5 and not able to use more.</p>\n<p>How to declare my custom class which is extended with <code>log4jwebconfigurer</code> having <code>log4jconfigurer.initloggging()</code>\nAnd <code>REFRESH_INTERVAL_PARAM</code>?</p>\n<pre><code>Log4jConfigurer.initLogging(location);\nString intervalString = servletContext.getInitParameter(REFRESH_INTERVAL_PARAM);\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","junit","mockito"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1659368915,"post_id":73196314,"comment_id":129272858,"body_markdown":"`a` needs to be an actual mock. You are creating the object yourself in your code.","body":"<code>a</code> needs to be an actual mock. You are creating the object yourself in your code."},{"owner":{"account_id":13835953,"reputation":154,"user_id":9987468,"display_name":"Faraz Javed"},"score":0,"creation_date":1659369643,"post_id":73196314,"comment_id":129273139,"body_markdown":"Same behavior with mock, question updated.","body":"Same behavior with mock, question updated."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1659370103,"post_id":73196314,"comment_id":129273301,"body_markdown":"Sorry I didn&#39;t understand your question. I think this https://stackoverflow.com/q/14970516/2587435 might be what you&#39;re looking for.","body":"Sorry I didn&#39;t understand your question. I think this <a href=\"https://stackoverflow.com/q/14970516/2587435\">stackoverflow.com/q/14970516/2587435</a> might be what you&#39;re looking for."}],"answers":[{"tags":[],"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659377099,"creation_date":1659377099,"answer_id":73197842,"question_id":73196314,"body_markdown":"    val a = A()\r\n    val aSpy = Mockito.spy(a)\r\n    Mockito.when(aSpy.methodA(ArgumentMatchers.any())).thenThrow(UserException.INVALID_REQUEST())\r\n\r\n\r\nyou need to get a real instance of class A and then wrap it inside a programmable wrapper which is a spy.\r\nThe param matcher of the `when` statement is the 2nd point of failure since &quot;Test&quot; is not the same instance then the &quot;test b&quot; string. So you dont need to verify some parameter so skip it.\r\n\r\nIf you want to verify the used parameter you can use a captor instead of ANY().","title":"how to mock a method call inside another method in same class","body":"<pre><code>val a = A()\nval aSpy = Mockito.spy(a)\nMockito.when(aSpy.methodA(ArgumentMatchers.any())).thenThrow(UserException.INVALID_REQUEST())\n</code></pre>\n<p>you need to get a real instance of class A and then wrap it inside a programmable wrapper which is a spy.\nThe param matcher of the <code>when</code> statement is the 2nd point of failure since &quot;Test&quot; is not the same instance then the &quot;test b&quot; string. So you dont need to verify some parameter so skip it.</p>\n<p>If you want to verify the used parameter you can use a captor instead of ANY().</p>\n"}],"owner":{"account_id":13835953,"reputation":154,"user_id":9987468,"display_name":"Faraz Javed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659377099,"creation_date":1659368629,"question_id":73196314,"body_markdown":"I am trying to test a method `methodB` (as shown in the code below). I want to return directly from `methodA` without going into the actual code of `methodA`.\r\nI have used `when/thenReturn` and `doReturn/when` but didn&#39;t get any success. The test case goes into the real code of `methodA`. Also tried using `spy` with Class `A` instance but didn&#39;t get any success.\r\n\r\nActual Class\r\n```\r\nclass A{\r\n  \r\n  fun methodA(String a): String{\r\n\r\n    // do something\r\n    throw new Exception(&quot;An error occured&quot;);\r\n  }\r\n\r\n  fun methodB(String b): String{\r\n\r\n    try{\r\n      methodA(&quot;test&quot;)\r\n    } catch (e: Exception){\r\n      println(e.message());\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\nTest Class\r\n```\r\nclass ATest{\r\n\r\n    private lateinit var a: A\r\n\r\n    @Before\r\n    fun setUp() {\r\n        a= A() // I am initializing services in real scenario\r\n    }\r\n\r\n    @Test\r\n    fun `when methodB is not valid then throw Exception`(){\r\n\r\n        val aMock = mock(A)\r\n        Mockito.when(aMock.methodA(&quot;test&quot;) )\r\n            .thenThrow(UserException.INVALID_REQUEST())\r\n\r\n\r\n        // When\r\n        val exception: Exception = Assert.assertThrows(\r\n            UserException::class.java\r\n        ) {\r\n            a.methodB(&quot;test b&quot;)\r\n        }\r\n\r\n        val expectedMessage = &quot;INVALID&quot;\r\n        val actualMessage = exception.message\r\n\r\n        // Then\r\n        Assert.assertTrue(actualMessage!!.contains(expectedMessage))\r\n    }\r\n\r\n   \r\n}\r\n```\r\n\r\nCan anyone please help?","title":"how to mock a method call inside another method in same class","body":"<p>I am trying to test a method <code>methodB</code> (as shown in the code below). I want to return directly from <code>methodA</code> without going into the actual code of <code>methodA</code>.\nI have used <code>when/thenReturn</code> and <code>doReturn/when</code> but didn't get any success. The test case goes into the real code of <code>methodA</code>. Also tried using <code>spy</code> with Class <code>A</code> instance but didn't get any success.</p>\n<p>Actual Class</p>\n<pre><code>class A{\n  \n  fun methodA(String a): String{\n\n    // do something\n    throw new Exception(&quot;An error occured&quot;);\n  }\n\n  fun methodB(String b): String{\n\n    try{\n      methodA(&quot;test&quot;)\n    } catch (e: Exception){\n      println(e.message());\n    }\n  }\n\n}\n</code></pre>\n<p>Test Class</p>\n<pre><code>class ATest{\n\n    private lateinit var a: A\n\n    @Before\n    fun setUp() {\n        a= A() // I am initializing services in real scenario\n    }\n\n    @Test\n    fun `when methodB is not valid then throw Exception`(){\n\n        val aMock = mock(A)\n        Mockito.when(aMock.methodA(&quot;test&quot;) )\n            .thenThrow(UserException.INVALID_REQUEST())\n\n\n        // When\n        val exception: Exception = Assert.assertThrows(\n            UserException::class.java\n        ) {\n            a.methodB(&quot;test b&quot;)\n        }\n\n        val expectedMessage = &quot;INVALID&quot;\n        val actualMessage = exception.message\n\n        // Then\n        Assert.assertTrue(actualMessage!!.contains(expectedMessage))\n    }\n\n   \n}\n</code></pre>\n<p>Can anyone please help?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":80984,"reputation":825,"user_id":228649,"display_name":"Corneil du Plessis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659376773,"creation_date":1659376773,"answer_id":73197785,"question_id":73191597,"body_markdown":"Look at creating an EnvironmentPostProcessor to provide for loading multiple files.\r\nYou&#39;ll have control of the order and decide which properties will take precedence.","title":"Spring boot load all properties files in directory","body":"<p>Look at creating an EnvironmentPostProcessor to provide for loading multiple files.\nYou'll have control of the order and decide which properties will take precedence.</p>\n"}],"owner":{"account_id":25552567,"reputation":5,"user_id":19336715,"display_name":"Yassir K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73197785,"answer_count":1,"score":0,"last_activity_date":1659376773,"creation_date":1659345956,"question_id":73191597,"body_markdown":"Before:\r\n\r\nI had a big properties file in which I had all my properties, which I used to load like this:\r\n\r\n    @PropertySource(value = &quot;file:C:\\\\Users\\\\xxx\\\\yyy\\\\conf\\\\context.properties&quot;, name = &quot;cntx.props&quot;)\r\n\r\nand then get my properties like this:\r\n\r\n    AbstractEnvironment ae = (AbstractEnvironment)env;\r\n    PropertySource source = ae.getPropertySources().get(&quot;cntx.props&quot;);\r\n    Properties properties = (Properties)source.getSource();\r\n    \r\n    for(Object key : properties.keySet()) {\r\n    \t...\r\n    }\r\n\r\nand i would call `env.getProperty(&quot;someKey&quot;)` whenever I need to access a value.\r\n\r\n\r\nAfter:\r\n\r\nI had to make it as such instead of loading one big properties files, I would need to make multiple smaller properties files and load them from the same folder.\r\n\r\nFor that I configured a property configuration bean manually in my Config class:\r\n\r\n    @Bean\r\n    public static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() throws NamingException {\r\n        PropertySourcesPlaceholderConfigurer properties = new PropertySourcesPlaceholderConfigurer();\r\n    \r\n        File dir = new File(&quot;C:\\\\Users\\\\xxx\\\\yyy\\\\conf&quot;);\r\n        File[] files = dir.listFiles(new FilenameFilter() {\r\n            public boolean accept(File dir, String name) {\r\n                return name.toLowerCase().endsWith(&quot;.properties&quot;);\r\n            }\r\n        });\r\n    \r\n        FileSystemResource[] resources = new FileSystemResource[files.length];\r\n        for (int i = 0; i &lt; resources.length; i++) {\r\n            resources[i] = new FileSystemResource(files[i].getAbsolutePath());\r\n        }\r\n    \r\n        properties.setLocations(resources);\r\n        properties.setIgnoreUnresolvablePlaceholders(true);\r\n        return properties;\r\n    }\r\n\r\nSo far so good. I then defined a global map variable to fill it with my key value pairs.\r\n\r\n    @Bean\r\n    public void getPropsFromFile() {\r\n        propertiesMap = new HashMap();\r\n        for(Iterator it = ((AbstractEnvironment) env).getPropertySources().iterator(); it.hasNext(); ) {\r\n            org.springframework.core.env.PropertySource propertySource = (org.springframework.core.env.PropertySource) it.next();\r\n            if (propertySource instanceof MapPropertySource) {\r\n                propertiesMap.putAll(((MapPropertySource) propertySource).getSource());\r\n            }\r\n        }\r\n    \r\n        // check what&#39;s in the map\r\n        for (String key : propertiesMap.keySet()) {\r\n            System.out.println(key + &quot; : &quot; + propertiesMap.get(key).toString());\r\n        }\r\n    }\r\n\r\nBut when I check what&#39;s in the map, it&#39;s a bunch of values like this:\r\n\r\n&gt; java.vm.vendor : Oracle Corporation PROCESSOR_ARCHITECTURE : AMD64\r\n&gt; PSModulePath : C:\\Program\r\n&gt; Files\\WindowsPowerShell\\Modules;C:\\windows\\system32\\WindowsPowerShell\\v1.0\\Modules\r\n&gt; user.variant :  MAVEN_HOME : C:\\Program Files\\apache-maven-3.8.5\r\n&gt; user.timezone : Europe/Paris\r\n\r\nI was expecting it too be filled with the properties I defined in my files.\r\n\r\nWhat am I missing? How should I go about this?","title":"Spring boot load all properties files in directory","body":"<p>Before:</p>\n<p>I had a big properties file in which I had all my properties, which I used to load like this:</p>\n<pre><code>@PropertySource(value = &quot;file:C:\\\\Users\\\\xxx\\\\yyy\\\\conf\\\\context.properties&quot;, name = &quot;cntx.props&quot;)\n</code></pre>\n<p>and then get my properties like this:</p>\n<pre><code>AbstractEnvironment ae = (AbstractEnvironment)env;\nPropertySource source = ae.getPropertySources().get(&quot;cntx.props&quot;);\nProperties properties = (Properties)source.getSource();\n\nfor(Object key : properties.keySet()) {\n    ...\n}\n</code></pre>\n<p>and i would call <code>env.getProperty(&quot;someKey&quot;)</code> whenever I need to access a value.</p>\n<p>After:</p>\n<p>I had to make it as such instead of loading one big properties files, I would need to make multiple smaller properties files and load them from the same folder.</p>\n<p>For that I configured a property configuration bean manually in my Config class:</p>\n<pre><code>@Bean\npublic static PropertySourcesPlaceholderConfigurer placeHolderConfigurer() throws NamingException {\n    PropertySourcesPlaceholderConfigurer properties = new PropertySourcesPlaceholderConfigurer();\n\n    File dir = new File(&quot;C:\\\\Users\\\\xxx\\\\yyy\\\\conf&quot;);\n    File[] files = dir.listFiles(new FilenameFilter() {\n        public boolean accept(File dir, String name) {\n            return name.toLowerCase().endsWith(&quot;.properties&quot;);\n        }\n    });\n\n    FileSystemResource[] resources = new FileSystemResource[files.length];\n    for (int i = 0; i &lt; resources.length; i++) {\n        resources[i] = new FileSystemResource(files[i].getAbsolutePath());\n    }\n\n    properties.setLocations(resources);\n    properties.setIgnoreUnresolvablePlaceholders(true);\n    return properties;\n}\n</code></pre>\n<p>So far so good. I then defined a global map variable to fill it with my key value pairs.</p>\n<pre><code>@Bean\npublic void getPropsFromFile() {\n    propertiesMap = new HashMap();\n    for(Iterator it = ((AbstractEnvironment) env).getPropertySources().iterator(); it.hasNext(); ) {\n        org.springframework.core.env.PropertySource propertySource = (org.springframework.core.env.PropertySource) it.next();\n        if (propertySource instanceof MapPropertySource) {\n            propertiesMap.putAll(((MapPropertySource) propertySource).getSource());\n        }\n    }\n\n    // check what's in the map\n    for (String key : propertiesMap.keySet()) {\n        System.out.println(key + &quot; : &quot; + propertiesMap.get(key).toString());\n    }\n}\n</code></pre>\n<p>But when I check what's in the map, it's a bunch of values like this:</p>\n<blockquote>\n<p>java.vm.vendor : Oracle Corporation PROCESSOR_ARCHITECTURE : AMD64\nPSModulePath : C:\\Program\nFiles\\WindowsPowerShell\\Modules;C:\\windows\\system32\\WindowsPowerShell\\v1.0\\Modules\nuser.variant :  MAVEN_HOME : C:\\Program Files\\apache-maven-3.8.5\nuser.timezone : Europe/Paris</p>\n</blockquote>\n<p>I was expecting it too be filled with the properties I defined in my files.</p>\n<p>What am I missing? How should I go about this?</p>\n"},{"tags":["java","algorithm","rotation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659377564,"post_id":73197784,"comment_id":129275570,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":5026356,"reputation":7226,"user_id":4038191,"display_name":"EvilTak"},"score":3,"creation_date":1659378448,"post_id":73197784,"comment_id":129275817,"body_markdown":"If the absolute delta is more than 180 degrees, you can add/subtract (depending on the sign of the delta) 360 degrees to the delta to reduce the absolute delta value and &quot;go the short way&quot;.","body":"If the absolute delta is more than 180 degrees, you can add/subtract (depending on the sign of the delta) 360 degrees to the delta to reduce the absolute delta value and &quot;go the short way&quot;."}],"owner":{"account_id":12254054,"reputation":1,"user_id":13393743,"display_name":"WhoKnows"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1659376761,"creation_date":1659376761,"question_id":73197784,"body_markdown":"My program reads in a pitch and yaw, and then attempts to smoothly interpolate to that pitch and yaw from the current rotation.\r\n\r\nHowever, I&#39;m encountering an issue due to how the interpolation works.\r\n\r\nAssume a simple move-towards interpolation that moves from the current value to the new one by 1 every tick.\r\n\r\nIf given a current pitch of 20, and a new pitch of 330, it will rotate in the positive direction 310 degrees. However, it would be faster to rotate in the negative direction 50 degrees (since 0 = 360)\r\n\r\nWhat&#39;s the best way to make this work with an interpolation algorithm (preferably without rewriting the interpolation)?","title":"How to ensure a simple interpolation algorithm doesn&#39;t go the long way when used with degrees?","body":"<p>My program reads in a pitch and yaw, and then attempts to smoothly interpolate to that pitch and yaw from the current rotation.</p>\n<p>However, I'm encountering an issue due to how the interpolation works.</p>\n<p>Assume a simple move-towards interpolation that moves from the current value to the new one by 1 every tick.</p>\n<p>If given a current pitch of 20, and a new pitch of 330, it will rotate in the positive direction 310 degrees. However, it would be faster to rotate in the negative direction 50 degrees (since 0 = 360)</p>\n<p>What's the best way to make this work with an interpolation algorithm (preferably without rewriting the interpolation)?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","oauth-2.0"],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659376748,"creation_date":1659328279,"answer_id":73188860,"question_id":73187695,"body_markdown":"In OAuth2 world, a REST API is a **resource-server** by definition.\r\n\r\nIn your scenario, Google currently is an **authorization-server**. You could hide it behind a Keycloak instance or something else capable of user identity federation if you need to extend to other identity providers (Github, Facebook, etc.) or want some roles definition, but as Google serve JWT access-tokens, you can use it for you resource-server security (if google IDs are enough for your security rules).\r\n\r\nIn both cases (Google directly or with an OIDC authorization-server in the middle), you can find sample configuration [here][1] (or [there][2] if you prefer to stick to `spring-boot-starter-oauth2-resource-server` but it requires more Java conf as you can see in tutorials).\r\n\r\nI personnaly don&#39;t like to merge client(s), resource-server(s) and authorization-server(s). My clients are generally mobile and web with client-side rendering (Angular), but even for spring clients I&#39;d keep it separate.\r\n\r\nThere is a special case, thought: when a **resource-server** delegates some of its processing to another, then, by definition, it is a **client too**. In that case, it is possible that security requirements and mechanisms are pretty different:\r\n- is your API authenticating in its own name (using client credentials flow)? In that case, you might use `spring-boot-starter-oauth2-client` to negotiate access-token to be used when issuing requests to other service.\r\n- is your API issuing requests in the name of authenticated user and does the other service know about the authorization-server which issued user authentication? In that case, you can forward the token you received\r\n- is the service you are consuming not OAuth2 at all? (just requires basic auth header for instance)\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken","title":"Should we expose REST API as an OAuth 2 resource server?","body":"<p>In OAuth2 world, a REST API is a <strong>resource-server</strong> by definition.</p>\n<p>In your scenario, Google currently is an <strong>authorization-server</strong>. You could hide it behind a Keycloak instance or something else capable of user identity federation if you need to extend to other identity providers (Github, Facebook, etc.) or want some roles definition, but as Google serve JWT access-tokens, you can use it for you resource-server security (if google IDs are enough for your security rules).</p>\n<p>In both cases (Google directly or with an OIDC authorization-server in the middle), you can find sample configuration <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_oauthentication\" rel=\"nofollow noreferrer\">here</a> (or <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">there</a> if you prefer to stick to <code>spring-boot-starter-oauth2-resource-server</code> but it requires more Java conf as you can see in tutorials).</p>\n<p>I personnaly don't like to merge client(s), resource-server(s) and authorization-server(s). My clients are generally mobile and web with client-side rendering (Angular), but even for spring clients I'd keep it separate.</p>\n<p>There is a special case, thought: when a <strong>resource-server</strong> delegates some of its processing to another, then, by definition, it is a <strong>client too</strong>. In that case, it is possible that security requirements and mechanisms are pretty different:</p>\n<ul>\n<li>is your API authenticating in its own name (using client credentials flow)? In that case, you might use <code>spring-boot-starter-oauth2-client</code> to negotiate access-token to be used when issuing requests to other service.</li>\n<li>is your API issuing requests in the name of authenticated user and does the other service know about the authorization-server which issued user authentication? In that case, you can forward the token you received</li>\n<li>is the service you are consuming not OAuth2 at all? (just requires basic auth header for instance)</li>\n</ul>\n"}],"owner":{"account_id":1384758,"reputation":23053,"user_id":1317018,"accept_rate":59,"display_name":"Mahesha999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1659376748,"creation_date":1659310882,"question_id":73187695,"body_markdown":"I have a spring boot application exposing several REST API endpoints. I want to enable google oauth authentication (authorization code grant) on it. I am guessing what is correct way to do this out of following  options:\r\n\r\n1. Have separate application as OAuth 2 client (i.e. with `spring-boot-starter-oauth2-client` dependency and make the existing app a resource server (i.e. with `spring-boot-starter-oauth2-resource-server` dependency)\r\n\r\n   a. [This Udemy&#39;s course](https://www.udemy.com/course/oauth2-in-spring-boot-applications/) keeps two application separate: [resource server](https://github.com/simplyi/ResourceServer), [OAuth 2 client](https://github.com/simplyi/SocialLoginWebClient). Then it seem to need a [proxy REST endpoint](https://github.com/simplyi/PhotoAppWebClient/blob/d98d8eee03533f473c1a3ebad1b0c50460a77cfa/src/main/java/com/appsdeveloperblog/ws/clients/photoappwebclient/controllers/AlbumsController.java#L42) in oauth \r\n 2 client project corresponding to every REST endpoint in resource server. REST end point in OAuth 2 client [retrieves access token](https://github.com/simplyi/PhotoAppWebClient/blob/d98d8eee03533f473c1a3ebad1b0c50460a77cfa/src/main/java/com/appsdeveloperblog/ws/clients/photoappwebclient/PhotoAppWebClientApplication.java#L25) and adds it to every request to corresponding REST endpoint in resource server.\r\n\r\n   b. [This stackoverflow threads](https://stackoverflow.com/questions/58805033/using-spring-boot-2-oauth-client-and-resourceserver-in-the-same-context) talks about making same application both OAuth2 client as well as resource server\r\n\r\n2. Make the existing app OAuth 2 client. (that is include `spring-boot-starter-oauth2-client` dependency) and simply require user to be authenticated to access REST endpoint URLs.\r\n\r\nI have following doubts:\r\n\r\n**Q1.** Should REST API always be exposed as resource server? And if yes, then is approach 2 not-so-recommended way? (as it does not expose existing REST API as resource server but as a part of OAuth client with restricted access to those APIs)?\r\n\r\n**Q2.** If approach 2 is not fine, then which of approaches (1.a) and (1.b) are preferred or when to prefer one above other? (I believe (1.a) is more suitable when we want single OAuth client as a point of access for several different resource servers.) ","title":"Should we expose REST API as an OAuth 2 resource server?","body":"<p>I have a spring boot application exposing several REST API endpoints. I want to enable google oauth authentication (authorization code grant) on it. I am guessing what is correct way to do this out of following  options:</p>\n<ol>\n<li><p>Have separate application as OAuth 2 client (i.e. with <code>spring-boot-starter-oauth2-client</code> dependency and make the existing app a resource server (i.e. with <code>spring-boot-starter-oauth2-resource-server</code> dependency)</p>\n<p>a. <a href=\"https://www.udemy.com/course/oauth2-in-spring-boot-applications/\" rel=\"nofollow noreferrer\">This Udemy's course</a> keeps two application separate: <a href=\"https://github.com/simplyi/ResourceServer\" rel=\"nofollow noreferrer\">resource server</a>, <a href=\"https://github.com/simplyi/SocialLoginWebClient\" rel=\"nofollow noreferrer\">OAuth 2 client</a>. Then it seem to need a <a href=\"https://github.com/simplyi/PhotoAppWebClient/blob/d98d8eee03533f473c1a3ebad1b0c50460a77cfa/src/main/java/com/appsdeveloperblog/ws/clients/photoappwebclient/controllers/AlbumsController.java#L42\" rel=\"nofollow noreferrer\">proxy REST endpoint</a> in oauth\n2 client project corresponding to every REST endpoint in resource server. REST end point in OAuth 2 client <a href=\"https://github.com/simplyi/PhotoAppWebClient/blob/d98d8eee03533f473c1a3ebad1b0c50460a77cfa/src/main/java/com/appsdeveloperblog/ws/clients/photoappwebclient/PhotoAppWebClientApplication.java#L25\" rel=\"nofollow noreferrer\">retrieves access token</a> and adds it to every request to corresponding REST endpoint in resource server.</p>\n<p>b. <a href=\"https://stackoverflow.com/questions/58805033/using-spring-boot-2-oauth-client-and-resourceserver-in-the-same-context\">This stackoverflow threads</a> talks about making same application both OAuth2 client as well as resource server</p>\n</li>\n<li><p>Make the existing app OAuth 2 client. (that is include <code>spring-boot-starter-oauth2-client</code> dependency) and simply require user to be authenticated to access REST endpoint URLs.</p>\n</li>\n</ol>\n<p>I have following doubts:</p>\n<p><strong>Q1.</strong> Should REST API always be exposed as resource server? And if yes, then is approach 2 not-so-recommended way? (as it does not expose existing REST API as resource server but as a part of OAuth client with restricted access to those APIs)?</p>\n<p><strong>Q2.</strong> If approach 2 is not fine, then which of approaches (1.a) and (1.b) are preferred or when to prefer one above other? (I believe (1.a) is more suitable when we want single OAuth client as a point of access for several different resource servers.)</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1659002150,"post_id":73150682,"comment_id":129194028,"body_markdown":"The error message means that you are passing the string `S,M,L,XL,XXL` to `Size.valueOf()`. That doesn&#39;t work because `S,M,L,XL,XXL` is not one of the enum constants. Debug your application to find out why it&#39;s passing the wrong thing to `Size.valueOf()`.","body":"The error message means that you are passing the string <code>S,M,L,XL,XXL</code> to <code>Size.valueOf()</code>. That doesn&#39;t work because <code>S,M,L,XL,XXL</code> is not one of the enum constants. Debug your application to find out why it&#39;s passing the wrong thing to <code>Size.valueOf()</code>."}],"answers":[{"tags":[],"owner":{"account_id":14390824,"reputation":270,"user_id":10395452,"display_name":"Davide Boldrin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1659002463,"creation_date":1659002463,"answer_id":73150896,"question_id":73150682,"body_markdown":"On this record\r\n\r\n    hello world,852760540,34.96,Tommy Bugfinder,[S,M,L,XL,XXL],[Graphic text: &quot;Hello world&quot;]\r\n\r\nyou have a record S,M,L,XL,XXL but on your enum you haven&#39;t declered the value.\r\n\r\nMaybe there are a error on desing.\r\n\r\nplease try to change in:\r\n\r\n    hello world,852760540,34.96,Tommy Bugfinder,[S],[Graphic text: &quot;Hello world&quot;]\r\n\r\nand try a debug test.\r\n\r\n","title":"IllegalArgumentException: No enum constant Java","body":"<p>On this record</p>\n<pre><code>hello world,852760540,34.96,Tommy Bugfinder,[S,M,L,XL,XXL],[Graphic text: &quot;Hello world&quot;]\n</code></pre>\n<p>you have a record S,M,L,XL,XXL but on your enum you haven't declered the value.</p>\n<p>Maybe there are a error on desing.</p>\n<p>please try to change in:</p>\n<pre><code>hello world,852760540,34.96,Tommy Bugfinder,[S],[Graphic text: &quot;Hello world&quot;]\n</code></pre>\n<p>and try a debug test.</p>\n"},{"tags":[],"owner":{"account_id":22351859,"reputation":1,"user_id":16569803,"display_name":"Milodoc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659376511,"creation_date":1659064780,"answer_id":73161268,"question_id":73150682,"body_markdown":"Thanks @Jesper and @Davide :-)\r\nI&#39;ve solved it by creating a list of split elements:\r\n\r\n```java\r\nString[] sizeSplit = elements[1].split(&quot;,&quot;);\r\nSize size = Size.valueOf(sizeSplit[1]);\r\n```\r\n","title":"IllegalArgumentException: No enum constant Java","body":"<p>Thanks @Jesper and @Davide :-)\nI've solved it by creating a list of split elements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] sizeSplit = elements[1].split(&quot;,&quot;);\nSize size = Size.valueOf(sizeSplit[1]);\n</code></pre>\n"}],"owner":{"account_id":22351859,"reputation":1,"user_id":16569803,"display_name":"Milodoc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":977,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1659376511,"creation_date":1659001709,"question_id":73150682,"body_markdown":"I have this code (it&#39;s a java class called TshirtSearcher) that is trying to grab the t-shirt size info from a text file and put it in a enum called Size:\r\n\r\n    for (int i = 1; i &lt; TShirtData.size(); i++) {\r\n            //split each String in the list by [ and , to separate the t-shirt name,product code,price,brand, from sizes,description\r\n            String[] elements = TShirtData.get(i).split(&quot;\\\\[&quot;);\r\n            //separate the t-shirt info by splitting by comma. This will separate the following; name,product code,price,brand into individual items\r\n            String[] tshirtInfo = elements[0].split(&quot;,&quot;);\r\n            String name = tshirtInfo[0];\r\n            long productCode = 0;\r\n            try {\r\n                productCode = Long.parseLong(tshirtInfo[1]);\r\n            } catch (NumberFormatException n) {\r\n                System.out.println(&quot;Error in file. Product code could not be parsed for t-shirt on line &quot; + (i + 1) + &quot;. Terminating. \\nError message: &quot; + n.getMessage());\r\n                System.exit(0);\r\n            }\r\n\r\n            //Read the data from the file as enum\r\n            Size size = Size.valueOf(elements[1].replace(&quot;],&quot;, &quot;&quot;));\r\n\r\nThis is the enum:\r\n\r\n    public enum Size {\r\n\r\n    XS, S, M, L, XL, XXL, XXXL, XXXXL;\r\n\r\n    /**\r\n     * @return a prettified version of the relevant enum constant\r\n     */\r\n    public String toString() {\r\n        return switch (this) {\r\n            case XS -&gt; &quot;Extra Small&quot;;\r\n            case S -&gt; &quot;Small&quot;;\r\n            case M -&gt; &quot;Medium&quot;;\r\n            case L -&gt; &quot;Large&quot;;\r\n            case XL -&gt; &quot;Extra Large&quot;;\r\n            case XXL -&gt; &quot;2x Extra Large&quot;;\r\n            case XXXL -&gt; &quot;3x Extra Large&quot;;\r\n            case XXXXL -&gt; &quot;4x Extra Large&quot;;\r\n        };\r\n    }\r\n\r\nHowever, when I run the code it gives this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No enum constant Size.S,M,L,XL,XXL\r\n    \tat java.base/java.lang.Enum.valueOf(Enum.java:273)\r\n    \tat Size.valueOf(Size.java:6)\r\n    \tat TShirtSearcher.loadTShirts(TShirtSearcher.java:45)\r\n    \tat TShirtSearcher.main(TShirtSearcher.java:121)\r\n\r\nProcess finished with exit code 1\r\n\r\nThe file content is like this (just show the first 3 rows):\r\n\r\nname,product code,price,brand,sizes,description\r\n\r\nhello world,852760540,34.96,Tommy Bugfinder,[S,M,L,XL,XXL],[Graphic text: &quot;Hello world&quot;]\r\n\r\nThe Simpsons,576857394,22.99,Lacoder,[S,M,L],[Graphic text: &quot;Worst. Episode. Ever.&quot;]\r\n________________________________________________________________________________________\r\n\r\nI would like the user to be able to select the size from the dropdown menu.\r\n\r\nThanks!","title":"IllegalArgumentException: No enum constant Java","body":"<p>I have this code (it's a java class called TshirtSearcher) that is trying to grab the t-shirt size info from a text file and put it in a enum called Size:</p>\n<pre><code>for (int i = 1; i &lt; TShirtData.size(); i++) {\n        //split each String in the list by [ and , to separate the t-shirt name,product code,price,brand, from sizes,description\n        String[] elements = TShirtData.get(i).split(&quot;\\\\[&quot;);\n        //separate the t-shirt info by splitting by comma. This will separate the following; name,product code,price,brand into individual items\n        String[] tshirtInfo = elements[0].split(&quot;,&quot;);\n        String name = tshirtInfo[0];\n        long productCode = 0;\n        try {\n            productCode = Long.parseLong(tshirtInfo[1]);\n        } catch (NumberFormatException n) {\n            System.out.println(&quot;Error in file. Product code could not be parsed for t-shirt on line &quot; + (i + 1) + &quot;. Terminating. \\nError message: &quot; + n.getMessage());\n            System.exit(0);\n        }\n\n        //Read the data from the file as enum\n        Size size = Size.valueOf(elements[1].replace(&quot;],&quot;, &quot;&quot;));\n</code></pre>\n<p>This is the enum:</p>\n<pre><code>public enum Size {\n\nXS, S, M, L, XL, XXL, XXXL, XXXXL;\n\n/**\n * @return a prettified version of the relevant enum constant\n */\npublic String toString() {\n    return switch (this) {\n        case XS -&gt; &quot;Extra Small&quot;;\n        case S -&gt; &quot;Small&quot;;\n        case M -&gt; &quot;Medium&quot;;\n        case L -&gt; &quot;Large&quot;;\n        case XL -&gt; &quot;Extra Large&quot;;\n        case XXL -&gt; &quot;2x Extra Large&quot;;\n        case XXXL -&gt; &quot;3x Extra Large&quot;;\n        case XXXXL -&gt; &quot;4x Extra Large&quot;;\n    };\n}\n</code></pre>\n<p>However, when I run the code it gives this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No enum constant Size.S,M,L,XL,XXL\n    at java.base/java.lang.Enum.valueOf(Enum.java:273)\n    at Size.valueOf(Size.java:6)\n    at TShirtSearcher.loadTShirts(TShirtSearcher.java:45)\n    at TShirtSearcher.main(TShirtSearcher.java:121)\n</code></pre>\n<p>Process finished with exit code 1</p>\n<p>The file content is like this (just show the first 3 rows):</p>\n<p>name,product code,price,brand,sizes,description</p>\n<p>hello world,852760540,34.96,Tommy Bugfinder,[S,M,L,XL,XXL],[Graphic text: &quot;Hello world&quot;]</p>\n<p>The Simpsons,576857394,22.99,Lacoder,[S,M,L],[Graphic text: &quot;Worst. Episode. Ever.&quot;]</p>\n<hr />\n<p>I would like the user to be able to select the size from the dropdown menu.</p>\n<p>Thanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8851,"page":1141,"page_size":100}
