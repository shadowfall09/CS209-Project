{"items":[{"tags":["java","antlr4","context-free-grammar"],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637221798,"creation_date":1637220983,"answer_id":70016057,"question_id":70015538,"body_markdown":"ANTLR has a strict separation between parser- and lexer rules. Whenever you use literal tokens in parser rules (like `&#39;-&#39;` and `&#39;.&#39;` in the `number` rule), ANTLR creates lexer rules behind the scenes for you. So the grammar:\r\n\r\n```\r\nnumber\r\n    : &#39;-&#39;? integer (&#39;.&#39; integer)?\r\n    ;\r\n\r\nCharactor \r\n    : [a-zA-Z] | ... | &#39;-&#39; | &#39;.&#39; | ...\r\n    ;\r\n```\r\n\r\nreally looks like this:\r\n\r\n```\r\nnumber\r\n    : T_0? integer (T_1 integer)?\r\n    ;\r\n\r\nT_0 : &#39;-&#39;;\r\n\r\nT_1 : &#39;.&#39;;\r\n\r\nCharactor \r\n    : [a-zA-Z] | ... | &#39;-&#39; | &#39;.&#39; | ...\r\n    ;\r\n```\r\n\r\nAnd since the strict separation, ANTLR creates tokens independently from the parser. This means that for the characters `-` and `.`, it will never happen that these become `Charactor` tokens. They will always become `T_0` and `T_1` tokens. There is no way around this. If you freely want to used any character/token in any rule, look for &quot;scannerless parsing&quot; or &quot;PEG parser&quot; instead of using ANTLR.\r\n\r\n\r\nTo make your current grammar work with as little changes as possible, do something like this:\r\n\r\n```\r\ngrammar Hello;\r\n\r\nr  : element* ;\r\n\r\nelement\r\n    : number Whitespace\r\n    | string Whitespace\r\n    ;\r\n\r\nstring\r\n    : &#39;(&#39; (Charactor | Minus | Dot)* &#39;)&#39;\r\n    ;\r\n\r\nMinus : &#39;-&#39;;\r\nDot : &#39;.&#39;;\r\n\r\nCharactor\r\n    : [a-zA-Z] |&#39;!&#39; | &#39;&quot;&#39;| &#39;#&#39; | &#39;$&#39; | &#39;%&#39; | &#39;&amp;&#39; | &#39;\\&#39;&#39; | &#39;\\\\(&#39; | &#39;\\\\)&#39; | &#39;*&#39; | &#39;+&#39; | &#39;,&#39; | &#39;/&#39; | &#39;:&#39; | &#39;;&#39; | &#39;&lt;&#39; | &#39;=&#39; | &#39;&gt;&#39; | &#39;?&#39; | &#39;@&#39; | &#39;[&#39; | &#39;\\\\&#39; | &#39;]&#39; | &#39;^&#39; | &#39;`&#39; | &#39;{&#39; | &#39;|&#39; | &#39;}&#39; | &#39;~&#39; | &#39;_&#39;\r\n    ;\r\n\r\nnumber\r\n    : Minus? integer (Dot integer)?\r\n    ;\r\n\r\ninteger\r\n    : digit+\r\n    ;\r\n\r\ndigit\r\n    : D0 | D1 | D2 | D3 | D4 | D5 | D6 | D7 | D8 | D9\r\n    ;\r\n\r\n\r\nWhitespace\r\n    : &#39; &#39; | &#39;\\n&#39;\r\n    ;\r\n\r\nD1 : &#39;1&#39;;\r\nD2 : &#39;2&#39;;\r\nD3 : &#39;3&#39;;\r\nD4 : &#39;4&#39;;\r\nD5 : &#39;5&#39;;\r\nD6 : &#39;6&#39;;\r\nD7 : &#39;7&#39;;\r\nD8 : &#39;8&#39;;\r\nD9 : &#39;9&#39;;\r\nD0 : &#39;0&#39;;\r\n```\r\n\r\nBut ideally, you&#39;d use ANTLR more as it is intended to be (clearly defining tokens instead of constructing tokens in parser rules):\r\n\r\n```\r\ngrammar Hello;\r\n\r\nr  : element* EOF;\r\n\r\nelement\r\n    : Number Whitespace\r\n    | string Whitespace\r\n    ;\r\n\r\nstring\r\n    : &#39;(&#39; character* &#39;)&#39;\r\n    ;\r\n\r\ncharacter\r\n    : Character\r\n    | Minus\r\n    | Dot\r\n    ;\r\n\r\nMinus\r\n    : &#39;-&#39;\r\n    ;\r\n\r\nDot\r\n    : &#39;.&#39;\r\n    ;\r\n\r\nCharacter\r\n    : [a-zA-Z] | &#39;!&#39; | &#39;&quot;&#39;| &#39;#&#39; | &#39;$&#39; | &#39;%&#39; | &#39;&amp;&#39; | &#39;\\&#39;&#39; | &#39;\\\\(&#39; | &#39;\\\\)&#39; | &#39;*&#39; | &#39;+&#39; | &#39;,&#39; | &#39;/&#39; | &#39;:&#39; | &#39;;&#39; | &#39;&lt;&#39; | &#39;=&#39; | &#39;&gt;&#39; | &#39;?&#39; | &#39;@&#39; | &#39;[&#39; | &#39;\\\\&#39; | &#39;]&#39; | &#39;^&#39; | &#39;`&#39; | &#39;{&#39; | &#39;|&#39; | &#39;}&#39; | &#39;~&#39; | &#39;_&#39;\r\n    ;\r\n\r\nNumber\r\n    : &#39;-&#39;? Integer (&#39;.&#39; Integer)?\r\n    ;\r\n\r\nInteger\r\n    : Digit+\r\n    ;\r\n\r\nWhitespace\r\n    : [ \\t\\r\\n]\r\n    ;\r\n\r\nfragment Digit\r\n    : [0-9]\r\n    ;\r\n```\r\n\r\nA few tips:\r\n\r\n- do not mix lexer and parser rules: start with parser rules, followed by lexer rules\r\n- do not use literal tokens (like `&#39;.&#39;`) inside parser rules\r\n\r\nIf you do that, it will be more clear when a token will be chosen over another token: the lexer:\r\n\r\n1. matches rules from top to bottom, always choosing the longest possible match, and\r\n2. when 2 (or more) lexer rules match the same amount of characters, the rule defined first &quot;wins&quot;\r\n\r\nThat is why (in my second grammar) the input &quot;-1&quot; will become a single `Number` token, and _not_ a `Minus` token followed by a `Number` token (longest match &quot;wins&quot;).","title":"ANTRL4 grammar cannot cover all cases","body":"<p>ANTLR has a strict separation between parser- and lexer rules. Whenever you use literal tokens in parser rules (like <code>'-'</code> and <code>'.'</code> in the <code>number</code> rule), ANTLR creates lexer rules behind the scenes for you. So the grammar:</p>\n<pre><code>number\n    : '-'? integer ('.' integer)?\n    ;\n\nCharactor \n    : [a-zA-Z] | ... | '-' | '.' | ...\n    ;\n</code></pre>\n<p>really looks like this:</p>\n<pre><code>number\n    : T_0? integer (T_1 integer)?\n    ;\n\nT_0 : '-';\n\nT_1 : '.';\n\nCharactor \n    : [a-zA-Z] | ... | '-' | '.' | ...\n    ;\n</code></pre>\n<p>And since the strict separation, ANTLR creates tokens independently from the parser. This means that for the characters <code>-</code> and <code>.</code>, it will never happen that these become <code>Charactor</code> tokens. They will always become <code>T_0</code> and <code>T_1</code> tokens. There is no way around this. If you freely want to used any character/token in any rule, look for &quot;scannerless parsing&quot; or &quot;PEG parser&quot; instead of using ANTLR.</p>\n<p>To make your current grammar work with as little changes as possible, do something like this:</p>\n<pre><code>grammar Hello;\n\nr  : element* ;\n\nelement\n    : number Whitespace\n    | string Whitespace\n    ;\n\nstring\n    : '(' (Charactor | Minus | Dot)* ')'\n    ;\n\nMinus : '-';\nDot : '.';\n\nCharactor\n    : [a-zA-Z] |'!' | '&quot;'| '#' | '$' | '%' | '&amp;' | '\\'' | '\\\\(' | '\\\\)' | '*' | '+' | ',' | '/' | ':' | ';' | '&lt;' | '=' | '&gt;' | '?' | '@' | '[' | '\\\\' | ']' | '^' | '`' | '{' | '|' | '}' | '~' | '_'\n    ;\n\nnumber\n    : Minus? integer (Dot integer)?\n    ;\n\ninteger\n    : digit+\n    ;\n\ndigit\n    : D0 | D1 | D2 | D3 | D4 | D5 | D6 | D7 | D8 | D9\n    ;\n\n\nWhitespace\n    : ' ' | '\\n'\n    ;\n\nD1 : '1';\nD2 : '2';\nD3 : '3';\nD4 : '4';\nD5 : '5';\nD6 : '6';\nD7 : '7';\nD8 : '8';\nD9 : '9';\nD0 : '0';\n</code></pre>\n<p>But ideally, you'd use ANTLR more as it is intended to be (clearly defining tokens instead of constructing tokens in parser rules):</p>\n<pre><code>grammar Hello;\n\nr  : element* EOF;\n\nelement\n    : Number Whitespace\n    | string Whitespace\n    ;\n\nstring\n    : '(' character* ')'\n    ;\n\ncharacter\n    : Character\n    | Minus\n    | Dot\n    ;\n\nMinus\n    : '-'\n    ;\n\nDot\n    : '.'\n    ;\n\nCharacter\n    : [a-zA-Z] | '!' | '&quot;'| '#' | '$' | '%' | '&amp;' | '\\'' | '\\\\(' | '\\\\)' | '*' | '+' | ',' | '/' | ':' | ';' | '&lt;' | '=' | '&gt;' | '?' | '@' | '[' | '\\\\' | ']' | '^' | '`' | '{' | '|' | '}' | '~' | '_'\n    ;\n\nNumber\n    : '-'? Integer ('.' Integer)?\n    ;\n\nInteger\n    : Digit+\n    ;\n\nWhitespace\n    : [ \\t\\r\\n]\n    ;\n\nfragment Digit\n    : [0-9]\n    ;\n</code></pre>\n<p>A few tips:</p>\n<ul>\n<li>do not mix lexer and parser rules: start with parser rules, followed by lexer rules</li>\n<li>do not use literal tokens (like <code>'.'</code>) inside parser rules</li>\n</ul>\n<p>If you do that, it will be more clear when a token will be chosen over another token: the lexer:</p>\n<ol>\n<li>matches rules from top to bottom, always choosing the longest possible match, and</li>\n<li>when 2 (or more) lexer rules match the same amount of characters, the rule defined first &quot;wins&quot;</li>\n</ol>\n<p>That is why (in my second grammar) the input &quot;-1&quot; will become a single <code>Number</code> token, and <em>not</em> a <code>Minus</code> token followed by a <code>Number</code> token (longest match &quot;wins&quot;).</p>\n"}],"owner":{"account_id":14210994,"reputation":53,"user_id":10266230,"display_name":"Kevin Lu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70016057,"answer_count":1,"score":2,"last_activity_date":1637221798,"creation_date":1637217879,"question_id":70015538,"body_markdown":"    // Define a grammar called Hello\r\n    grammar Hello;\r\n    \r\n    r  : element* ;         \r\n    \r\n    element\r\n        : number Whitespace\r\n        | string Whitespace\r\n        ;\r\n    \r\n    string\r\n        : &#39;(&#39; Charactor* &#39;)&#39;\r\n        ;\r\n    \r\n    Charactor \r\n        : [a-zA-Z] |&#39;!&#39; | &#39;&quot;&#39;| &#39;#&#39; | &#39;$&#39; | &#39;%&#39; | &#39;&amp;&#39; | &#39;\\&#39;&#39; | &#39;\\\\(&#39; | &#39;\\\\)&#39; | &#39;*&#39; | &#39;+&#39; | &#39;,&#39; | &#39;-&#39; | &#39;.&#39; | &#39;/&#39; | &#39;:&#39; | &#39;;&#39; | &#39;&lt;&#39; | &#39;=&#39; | &#39;&gt;&#39; | &#39;?&#39; | &#39;@&#39; | &#39;[&#39; | &#39;\\\\&#39; | &#39;]&#39; | &#39;^&#39; | &#39;`&#39; | &#39;{&#39; | &#39;|&#39; | &#39;}&#39; | &#39;~&#39; | &#39;_&#39;\r\n        ;\r\n    \r\n    number\r\n        : &#39;-&#39;? integer (&#39;.&#39; integer)?\r\n        ;\r\n    \r\n    integer\r\n        : digit+\r\n        ;\r\n    \r\n    digit\r\n        : D0 | D1 | D2 | D3 | D4 | D5 | D6 | D7 | D8 | D9\r\n        ;\r\n    \r\n    \r\n    Whitespace\r\n        : &#39; &#39; | &#39;\\n&#39;\r\n        ;\r\n    \r\n    D1 : &#39;1&#39;;\r\n    D2 : &#39;2&#39;;\r\n    D3 : &#39;3&#39;;\r\n    D4 : &#39;4&#39;;\r\n    D5 : &#39;5&#39;;\r\n    D6 : &#39;6&#39;;\r\n    D7 : &#39;7&#39;;\r\n    D8 : &#39;8&#39;;\r\n    D9 : &#39;9&#39;;\r\n    D0 : &#39;0&#39;;\r\n    \r\n    //WS : [ \\t\\r\\n]+ -&gt; skip ; skip spaces, tabs, newlines\r\n\r\n\r\nI used the above .g4 grammar file to parse the following sequence of characters.\r\n\r\n&gt; ➜  Hello antlr4 Hello.g4 ➜  Hello javac Hello*.java ➜  Hello grun\r\n&gt; Hello r -tree\r\n&gt; 1.1 -1.2 333 -222 (\\(\\(*&amp;^%$#@!~`&lt;&gt;,?&quot;&#39;\\|[[]]{}~) (r (element (number (integer (digit 1)) . (integer (digit 1)))  ) (element (number -\r\n&gt; (integer (digit 1)) . (integer (digit 2)))  ) (element (number\r\n&gt; (integer (digit 3) (digit 3) (digit 3)))  ) (element (number -\r\n&gt; (integer (digit 2) (digit 2) (digit 2)))  ) (element (string ( \\( \\( *\r\n&gt; &amp; ^ % $ # @ ! ~ ` &lt; &gt; , ? &quot; &#39; \\ | [ [ ] ] { } ~ ))  ))\r\n\r\nThis case works well.\r\n\r\nBut when I input the string &quot;1.1 -1.2 333 -222 (-.#$?)&quot;, it doesn&#39;t parse it correctly.\r\n\r\n&gt; ➜  Hello grun Hello r -tree\r\n&gt; 1.1 -1.2 333 -222 (-.#$?) line 1:19 mismatched input &#39;-&#39; expecting {&#39;)&#39;, Charactor} line 1:20 mismatched input &#39;.&#39; expecting {&#39;1&#39;, &#39;2&#39;,\r\n&gt; &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;0&#39;} line 1:21 mismatched input &#39;#&#39;\r\n&gt; expecting {&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;0&#39;} (r\r\n&gt; (element (number (integer (digit 1)) . (integer (digit 1)))  )\r\n&gt; (element (number - (integer (digit 1)) . (integer (digit 2)))  )\r\n&gt; (element (number (integer (digit 3) (digit 3) (digit 3)))  ) (element\r\n&gt; (number - (integer (digit 2) (digit 2) (digit 2)))  ) (element (string\r\n&gt; () &lt;missing Whitespace&gt;) (element (number - integer . (integer # $ ?\r\n&gt; )))  )) ➜  Hello\r\n\r\nThis special sequence of characters is an array that includes numbers or strings.\r\nThe number can come with these ways like 1.1, -1.2, -222, 222\r\nThe string starts with &#39;(&#39;, and ends with &#39;)&#39;, if &#39;(&#39; or &#39;)&#39; appear in it, it could be escaped. It&#39;s noted that the string can include the character &#39;-&#39; or &#39;.&#39;.  So when &#39;-&#39; or &#39;.&#39; appears in the numbers and strings at the same time, it seems Antlr cannot parse it correctly. \r\n\r\nDoes anyone know how to fix this issue?  Thanks!\r\n\r\n\r\n","title":"ANTRL4 grammar cannot cover all cases","body":"<pre><code>// Define a grammar called Hello\ngrammar Hello;\n\nr  : element* ;         \n\nelement\n    : number Whitespace\n    | string Whitespace\n    ;\n\nstring\n    : '(' Charactor* ')'\n    ;\n\nCharactor \n    : [a-zA-Z] |'!' | '&quot;'| '#' | '$' | '%' | '&amp;' | '\\'' | '\\\\(' | '\\\\)' | '*' | '+' | ',' | '-' | '.' | '/' | ':' | ';' | '&lt;' | '=' | '&gt;' | '?' | '@' | '[' | '\\\\' | ']' | '^' | '`' | '{' | '|' | '}' | '~' | '_'\n    ;\n\nnumber\n    : '-'? integer ('.' integer)?\n    ;\n\ninteger\n    : digit+\n    ;\n\ndigit\n    : D0 | D1 | D2 | D3 | D4 | D5 | D6 | D7 | D8 | D9\n    ;\n\n\nWhitespace\n    : ' ' | '\\n'\n    ;\n\nD1 : '1';\nD2 : '2';\nD3 : '3';\nD4 : '4';\nD5 : '5';\nD6 : '6';\nD7 : '7';\nD8 : '8';\nD9 : '9';\nD0 : '0';\n\n//WS : [ \\t\\r\\n]+ -&gt; skip ; skip spaces, tabs, newlines\n</code></pre>\n<p>I used the above .g4 grammar file to parse the following sequence of characters.</p>\n<blockquote>\n<p>➜  Hello antlr4 Hello.g4 ➜  Hello javac Hello*.java ➜  Hello grun\nHello r -tree\n1.1 -1.2 333 -222 (((*&amp;^%$#@!~<code>&lt;&gt;,?&quot;'\\|[[]]{}~) (r (element (number (integer (digit 1)) . (integer (digit 1)))  ) (element (number - (integer (digit 1)) . (integer (digit 2)))  ) (element (number (integer (digit 3) (digit 3) (digit 3)))  ) (element (number - (integer (digit 2) (digit 2) (digit 2)))  ) (element (string ( \\( \\( * &amp; ^ % $ # @ ! ~ </code> &lt; &gt; , ? &quot; ' \\ | [ [ ] ] { } ~ ))  ))</p>\n</blockquote>\n<p>This case works well.</p>\n<p>But when I input the string &quot;1.1 -1.2 333 -222 (-.#$?)&quot;, it doesn't parse it correctly.</p>\n<blockquote>\n<p>➜  Hello grun Hello r -tree\n1.1 -1.2 333 -222 (-.#$?) line 1:19 mismatched input '-' expecting {')', Charactor} line 1:20 mismatched input '.' expecting {'1', '2',\n'3', '4', '5', '6', '7', '8', '9', '0'} line 1:21 mismatched input '#'\nexpecting {'1', '2', '3', '4', '5', '6', '7', '8', '9', '0'} (r\n(element (number (integer (digit 1)) . (integer (digit 1)))  )\n(element (number - (integer (digit 1)) . (integer (digit 2)))  )\n(element (number (integer (digit 3) (digit 3) (digit 3)))  ) (element\n(number - (integer (digit 2) (digit 2) (digit 2)))  ) (element (string\n() ) (element (number - integer . (integer # $ ?\n)))  )) ➜  Hello</p>\n</blockquote>\n<p>This special sequence of characters is an array that includes numbers or strings.\nThe number can come with these ways like 1.1, -1.2, -222, 222\nThe string starts with '(', and ends with ')', if '(' or ')' appear in it, it could be escaped. It's noted that the string can include the character '-' or '.'.  So when '-' or '.' appears in the numbers and strings at the same time, it seems Antlr cannot parse it correctly.</p>\n<p>Does anyone know how to fix this issue?  Thanks!</p>\n"},{"tags":["java","android","appium"],"answers":[{"tags":[],"owner":{"account_id":17779397,"reputation":407,"user_id":12910905,"display_name":"Nithin Mohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637221651,"creation_date":1637221651,"answer_id":70016186,"question_id":69962123,"body_markdown":"Key presses on appium are done by \r\n\r\n`driver.press_keycode(code)`\r\n\r\n\r\n[All  required codes can be found here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/KeyEvent.html\r\n\r\n* 187 - KEYCODE_APP_SWITCH\r\n\r\nTry this, not sure whether it solves","title":"How to move the focus to another app in appium","body":"<p>Key presses on appium are done by</p>\n<p><code>driver.press_keycode(code)</code></p>\n<p><a href=\"https://developer.android.com/reference/android/view/KeyEvent.html\" rel=\"nofollow noreferrer\">All  required codes can be found here</a></p>\n<ul>\n<li>187 - KEYCODE_APP_SWITCH</li>\n</ul>\n<p>Try this, not sure whether it solves</p>\n"}],"owner":{"account_id":23149490,"reputation":1,"user_id":17251750,"display_name":"Ido Aricha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637221651,"creation_date":1636885376,"question_id":69962123,"body_markdown":"I&#39;m writing test automation for an app. The app launches the phone dialer with a specific phone number when clicking a button. I want to return the phone number to my code and return it to the app. \r\n\r\nI&#39;m using appium 1.21 and java.\r\n\r\nI&#39;ve tried to use this code:\r\n\r\n        androidDriver.activateApp(&quot;com.android.phone&quot;);\r\n        System.out.println(androidDriver.findElement(MobileBy.id(&quot;digis&quot;)).getText());\r\n        androidDriver.activateApp(&quot;com.app.test&quot;); //return to the app from dial  \r\n\r\nbut i&#39;m getting an error :\r\n\r\n&gt; Encountered internal error running command: Error: Cannot activate\r\n&gt; &#39;com.android.phone&#39;. Original error: Error executing adbExec. Original\r\n&gt; error: &#39;Command &#39;/Users/idoa/Library/Android/sdk/platform-tools/adb -P\r\n&gt; 5037 -s ce051605bd453d2502 shell monkey -p com.android.phone -c\r\n&gt; android.intent.category.LAUNCHER 1&#39; exited with code 252&#39;; Stderr:\r\n&gt; &#39;args: [-p, com.android.phone, -c, android.intent.category.LAUNCHER,\r\n&gt; 1]\r\n\r\nHow can I do it?\r\n","title":"How to move the focus to another app in appium","body":"<p>I'm writing test automation for an app. The app launches the phone dialer with a specific phone number when clicking a button. I want to return the phone number to my code and return it to the app.</p>\n<p>I'm using appium 1.21 and java.</p>\n<p>I've tried to use this code:</p>\n<pre><code>    androidDriver.activateApp(&quot;com.android.phone&quot;);\n    System.out.println(androidDriver.findElement(MobileBy.id(&quot;digis&quot;)).getText());\n    androidDriver.activateApp(&quot;com.app.test&quot;); //return to the app from dial  \n</code></pre>\n<p>but i'm getting an error :</p>\n<blockquote>\n<p>Encountered internal error running command: Error: Cannot activate\n'com.android.phone'. Original error: Error executing adbExec. Original\nerror: 'Command '/Users/idoa/Library/Android/sdk/platform-tools/adb -P\n5037 -s ce051605bd453d2502 shell monkey -p com.android.phone -c\nandroid.intent.category.LAUNCHER 1' exited with code 252'; Stderr:\n'args: [-p, com.android.phone, -c, android.intent.category.LAUNCHER,\n1]</p>\n</blockquote>\n<p>How can I do it?</p>\n"},{"tags":["java","spring-boot","file","loading","pdfbox"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":1,"creation_date":1588793357,"post_id":61643627,"comment_id":109039725,"body_markdown":"What do you want to do? PDDocument.load expects a pdf file, not a txt file. See javadoc https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#load(java.io.File)","body":"What do you want to do? PDDocument.load expects a pdf file, not a txt file. See javadoc <a href=\"https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#load(java.io.File)\" rel=\"nofollow noreferrer\">pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmo&zwnj;&#8203;del/&hellip;</a>"},{"owner":{"account_id":14989739,"reputation":3527,"user_id":10821284,"display_name":"Compiler v2"},"score":0,"creation_date":1588793495,"post_id":61643627,"comment_id":109039801,"body_markdown":"@TomStroemer Well well, thanks for that. I was under the assumption that it could load text files. Fixing now...","body":"@TomStroemer Well well, thanks for that. I was under the assumption that it could load text files. Fixing now..."},{"owner":{"account_id":14989739,"reputation":3527,"user_id":10821284,"display_name":"Compiler v2"},"score":0,"creation_date":1588793693,"post_id":61643627,"comment_id":109039902,"body_markdown":"@TomStroemer It worked! Thank you! Please add that as an answer to my question and I will give you the rep.","body":"@TomStroemer It worked! Thank you! Please add that as an answer to my question and I will give you the rep."}],"answers":[{"tags":[],"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1588793891,"creation_date":1588793891,"answer_id":61643899,"question_id":61643627,"body_markdown":"PDDocument.load expects a pdf file, not a txt file. \r\n\r\nSee javadoc of PDDocument: https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#load(java.io.File)","title":"PDFBox | Crash on line: PDDocument.load(file)","body":"<p>PDDocument.load expects a pdf file, not a txt file. </p>\n\n<p>See javadoc of PDDocument: <a href=\"https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#load(java.io.File)\" rel=\"nofollow noreferrer\">https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#load(java.io.File)</a></p>\n"},{"tags":[],"owner":{"account_id":4176102,"reputation":558,"user_id":3422574,"display_name":"Tuhin Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637221571,"creation_date":1637221571,"answer_id":70016172,"question_id":61643627,"body_markdown":"In PDFBox 3.0, you have to use `org.apache.pdfbox.Loader.loadPDF(new File(...))`\r\n\r\nFor more information, check https://pdfbox.apache.org/3.0/migration.html","title":"PDFBox | Crash on line: PDDocument.load(file)","body":"<p>In PDFBox 3.0, you have to use <code>org.apache.pdfbox.Loader.loadPDF(new File(...))</code></p>\n<p>For more information, check <a href=\"https://pdfbox.apache.org/3.0/migration.html\" rel=\"nofollow noreferrer\">https://pdfbox.apache.org/3.0/migration.html</a></p>\n"}],"owner":{"account_id":14989739,"reputation":3527,"user_id":10821284,"display_name":"Compiler v2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3082,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61643899,"answer_count":2,"score":1,"last_activity_date":1637221571,"creation_date":1588792934,"question_id":61643627,"body_markdown":"I have the following simplified code:\r\n\r\n```\r\nPDFTextStripper pdfStripper = new PDFTextStripper();\r\nPDDocument doc;\r\nString text = &quot;&quot;;\r\n\r\ntry {\r\n    File textFile = new File(&quot;C:/Users/user/Desktop/PDF-test.txt&quot;);\r\n    doc = PDDocument.load(textFile);\r\n    text = pdfStripper.getText(doc);\r\n} finally {\r\n   ...\r\n}\r\n\r\n...\r\n\r\nPDPageContentStream content = new PDPageContentStream(doc, page);\r\n\r\ncontent.setFont(font, 12);\r\n\r\ncontent.beginText();\r\n// Write to page using a text file\r\ncontent.showText(text);\r\ncontent.endText();\r\ncontent.close();\r\n```\r\n___\r\n**The Problem**\r\n\r\nI get the following error: `java.io.IOException: Error: End-of-File, expected line` on the line: \r\n\r\n`doc = PDDocument.load(textFile);` in the `try` block.\r\n\r\n___\r\n\r\n**What I&#39;ve Tried**\r\n\r\nI&#39;ve tried these solutions but none have worked:\r\n\r\n- https://stackoverflow.com/questions/16888775/org-apache-pdfbox-pdmodel-pddocument-does-not-load-read-the-pdf-document\r\n\r\n- https://stackoverflow.com/questions/23813727/how-to-extract-text-from-a-pdf-file-with-apache-pdfbox\r\n\r\n- https://www.javatpoint.com/pdfbox-reading-text\r\n\r\n- https://issues.apache.org/jira/browse/PDFBOX-4443\r\n\r\n- https://stackoverflow.com/questions/34871270/merge-files-gives-error-end-of-file-expected-line\r\n\r\n- https://stackoverflow.com/questions/50953924/pdfbox-ioexception-end-of-file-expected-line\r\n\r\n___\r\n\r\n**Expected Results**\r\n\r\nI want to load the text file without error and display it as a PDF with PDFBox.","title":"PDFBox | Crash on line: PDDocument.load(file)","body":"<p>I have the following simplified code:</p>\n\n<pre><code>PDFTextStripper pdfStripper = new PDFTextStripper();\nPDDocument doc;\nString text = \"\";\n\ntry {\n    File textFile = new File(\"C:/Users/user/Desktop/PDF-test.txt\");\n    doc = PDDocument.load(textFile);\n    text = pdfStripper.getText(doc);\n} finally {\n   ...\n}\n\n...\n\nPDPageContentStream content = new PDPageContentStream(doc, page);\n\ncontent.setFont(font, 12);\n\ncontent.beginText();\n// Write to page using a text file\ncontent.showText(text);\ncontent.endText();\ncontent.close();\n</code></pre>\n\n<hr>\n\n<p><strong>The Problem</strong></p>\n\n<p>I get the following error: <code>java.io.IOException: Error: End-of-File, expected line</code> on the line: </p>\n\n<p><code>doc = PDDocument.load(textFile);</code> in the <code>try</code> block.</p>\n\n<hr>\n\n<p><strong>What I've Tried</strong></p>\n\n<p>I've tried these solutions but none have worked:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/16888775/org-apache-pdfbox-pdmodel-pddocument-does-not-load-read-the-pdf-document\">org.apache.pdfbox.pdmodel.PDDocument does not load / read the PDF document</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/23813727/how-to-extract-text-from-a-pdf-file-with-apache-pdfbox\">How to extract text from a PDF file with Apache PDFBox</a></p></li>\n<li><p><a href=\"https://www.javatpoint.com/pdfbox-reading-text\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/pdfbox-reading-text</a></p></li>\n<li><p><a href=\"https://issues.apache.org/jira/browse/PDFBOX-4443\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/PDFBOX-4443</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/34871270/merge-files-gives-error-end-of-file-expected-line\">merge files gives error: End-of-File, expected line</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/50953924/pdfbox-ioexception-end-of-file-expected-line\">PDFBox IOException: End of File, expected line</a></p></li>\n</ul>\n\n<hr>\n\n<p><strong>Expected Results</strong></p>\n\n<p>I want to load the text file without error and display it as a PDF with PDFBox.</p>\n"},{"tags":["java","mysql","spring-boot","annotations"],"answers":[{"tags":[],"owner":{"account_id":9423391,"reputation":81,"user_id":7009165,"display_name":"Th&#244;ng Nguyễn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637119041,"creation_date":1637119041,"answer_id":69998539,"question_id":69996978,"body_markdown":"Using `?0`, `?1`, `?{index of parameter}`....\r\nTry this:\r\n```java\r\n@Query(value = &quot;SELECT f.id FROM faces f WHERE ?0&quot;, nativeQuery = true)\r\nList&lt;String&gt; findAllFaces(String query);\r\n```\r\nAnother example:\r\n```java\r\n@Query(value = &quot;SELECT * FROM faces WHERE key1 = ?0 AND key2 = ?1 AND key3 = ?2&quot;, nativeQuery = true)\r\nList&lt;String&gt; findByKey1AndKey2AndKey3(String value1, String value2, String value3);\r\n```","title":"How can I use my parameter in query annotation in Spring Boot?","body":"<p>Using <code>?0</code>, <code>?1</code>, <code>?{index of parameter}</code>....\nTry this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT f.id FROM faces f WHERE ?0&quot;, nativeQuery = true)\nList&lt;String&gt; findAllFaces(String query);\n</code></pre>\n<p>Another example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT * FROM faces WHERE key1 = ?0 AND key2 = ?1 AND key3 = ?2&quot;, nativeQuery = true)\nList&lt;String&gt; findByKey1AndKey2AndKey3(String value1, String value2, String value3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637221394,"creation_date":1637221394,"answer_id":70016141,"question_id":69996978,"body_markdown":"**Solution 1:**\r\n\r\n```java\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\n  @Query(&quot;select u from User u where u.emailAddress = ?1&quot;)\r\n  User findByEmailAddress(String emailAddress);\r\n}\r\n```\r\nsee https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\r\n\r\n\r\n**Solution 2:**\r\n\r\n```java\r\n@Entity\r\n@NamedQuery(name = &quot;User.findByEmailAddress&quot;,\r\n  query = &quot;select u from User u where u.emailAddress = ?1&quot;)\r\npublic class User {\r\n\r\n}\r\n```\r\n\r\nReference document: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries.annotation-based-configuration","title":"How can I use my parameter in query annotation in Spring Boot?","body":"<p><strong>Solution 1:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n  @Query(&quot;select u from User u where u.emailAddress = ?1&quot;)\n  User findByEmailAddress(String emailAddress);\n}\n</code></pre>\n<p>see <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query</a></p>\n<p><strong>Solution 2:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NamedQuery(name = &quot;User.findByEmailAddress&quot;,\n  query = &quot;select u from User u where u.emailAddress = ?1&quot;)\npublic class User {\n\n}\n</code></pre>\n<p>Reference document: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries.annotation-based-configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries.annotation-based-configuration</a></p>\n"}],"owner":{"account_id":23360506,"reputation":1,"user_id":17432823,"display_name":"codycoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637221520,"creation_date":1637103145,"question_id":69996978,"body_markdown":"I created a MySQL query as a string. I want to add it to my `@Query` annotation. I could not get the parameter from my function. I tried `:query` in repository `findAllFaces` function `@Query` but it doesn&#39;t work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NV0sI.jpg","title":"How can I use my parameter in query annotation in Spring Boot?","body":"<p>I created a MySQL query as a string. I want to add it to my <code>@Query</code> annotation. I could not get the parameter from my function. I tried <code>:query</code> in repository <code>findAllFaces</code> function <code>@Query</code> but it doesn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/NV0sI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NV0sI.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ebcdic"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1637175234,"post_id":70009903,"comment_id":123758441,"body_markdown":"Note that the jt400 project has a lot of conversion tables from the as/400 that might be simpler to use.","body":"Note that the jt400 project has a lot of conversion tables from the as/400 that might be simpler to use."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1637189290,"post_id":70009903,"comment_id":123763176,"body_markdown":"You should not convert bytes to and from hex strings just to check their values.  You can just write `if (bytes[0] == 0x0d &amp;&amp; bytes[1] == 0x25)`.","body":"You should not convert bytes to and from hex strings just to check their values.  You can just write <code>if (bytes[0] == 0x0d &amp;&amp; bytes[1] == 0x25)</code>."},{"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"score":0,"creation_date":1637218930,"post_id":70009903,"comment_id":123768553,"body_markdown":"@VGR thanks for pointing that out, I guess I&#39;d been looking at the problem too much. I updated the example.","body":"@VGR thanks for pointing that out, I guess I&#39;d been looking at the problem too much. I updated the example."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637221432,"creation_date":1637221065,"answer_id":70016071,"question_id":70009903,"body_markdown":"The EBCDIC newline character got a separate Unicode _code point_ NEL = U+0085. For instance BufferedReader.readLine will also take that as line separator.\r\n\r\nEBCDIC LF 0X25 is not `\\n` but `\\u0085`.\r\n`\\n` is always `\\u000a`. UTF-16.\r\n\r\nThe unit test should be done on `byte[]` and it should be checked that the code reading lines does not read an extra empty line on bytes 0d 25 in EBCDIC.\r\n\r\nIn regular expression you can use `&quot;\\\\R&quot;` for the miscellaneous line separators:\r\n\r\n    s = s.replaceAll(&quot;\\\\R&quot;, &quot;.&quot;);","title":"EBCDIC (Cp1047) junit 0D25","body":"<p>The EBCDIC newline character got a separate Unicode <em>code point</em> NEL = U+0085. For instance BufferedReader.readLine will also take that as line separator.</p>\n<p>EBCDIC LF 0X25 is not <code>\\n</code> but <code>\\u0085</code>.\n<code>\\n</code> is always <code>\\u000a</code>. UTF-16.</p>\n<p>The unit test should be done on <code>byte[]</code> and it should be checked that the code reading lines does not read an extra empty line on bytes 0d 25 in EBCDIC.</p>\n<p>In regular expression you can use <code>&quot;\\\\R&quot;</code> for the miscellaneous line separators:</p>\n<pre><code>s = s.replaceAll(&quot;\\\\R&quot;, &quot;.&quot;);\n</code></pre>\n"}],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70016071,"answer_count":1,"score":1,"last_activity_date":1637221432,"creation_date":1637174575,"question_id":70009903,"body_markdown":"I&#39;m working with some data encoded in EBCDIC and I&#39;m required to substitute some of the values.\r\n\r\nOne of the values is the hex bytes `0D 25` which have to become `40 40`.\r\n\r\nI understand this to mean that the EBCDIC characters are as follows:\r\n\r\n- 0D: carriage return\r\n- 25: line feed\r\n\r\nThis pair when found in a `String` with this encoding must be replaced with two spaces (hex 40, twice). See also the [wikipedia EDCDIC character table](https://en.wikipedia.org/wiki/EBCDIC).\r\n\r\nI understand `0D` (carriage return) to be equivalent to `\\r` and `25`  (line feed) is (should be?) `\\n` in UTF-16. Therefore:\r\n\r\n    assertThat(minimalExample(&quot;\\r\\n&quot;)).isEqualTo(&quot; &quot;);\r\n\r\nshould pass, given a minimal method defined as follows\r\n    \r\n    String minimalExample(String raw) throws Exception {\r\n        byte[] bytes = raw.getBytes(&quot;Cp1047&quot;);\r\n        if (bytes[0] == 0x0d &amp;&amp; bytes[1] == 0x25) {\r\n            bytes[0] = 0x40;\r\n            bytes[1] = 0x40;\r\n        }\r\n        return new String(bytes, &quot;Cp1047&quot;);\r\n    }\r\n\r\nWhat I end up getting though is\r\n\r\n    Expecting:\r\n     &lt;&quot;\r\n    &quot;&gt;\r\n    to be equal to:\r\n     &lt;&quot; &quot;&gt;\r\n    but was not.\r\n\r\nBecause the second hex value for the given string is `15` (not `25` like I thought it would be).\r\n\r\nIt seems that `25` is represented in UTF-16 as `\\u0085`.\r\n\r\nIs this correct?","title":"EBCDIC (Cp1047) junit 0D25","body":"<p>I'm working with some data encoded in EBCDIC and I'm required to substitute some of the values.</p>\n<p>One of the values is the hex bytes <code>0D 25</code> which have to become <code>40 40</code>.</p>\n<p>I understand this to mean that the EBCDIC characters are as follows:</p>\n<ul>\n<li>0D: carriage return</li>\n<li>25: line feed</li>\n</ul>\n<p>This pair when found in a <code>String</code> with this encoding must be replaced with two spaces (hex 40, twice). See also the <a href=\"https://en.wikipedia.org/wiki/EBCDIC\" rel=\"nofollow noreferrer\">wikipedia EDCDIC character table</a>.</p>\n<p>I understand <code>0D</code> (carriage return) to be equivalent to <code>\\r</code> and <code>25</code>  (line feed) is (should be?) <code>\\n</code> in UTF-16. Therefore:</p>\n<pre><code>assertThat(minimalExample(&quot;\\r\\n&quot;)).isEqualTo(&quot; &quot;);\n</code></pre>\n<p>should pass, given a minimal method defined as follows</p>\n<pre><code>String minimalExample(String raw) throws Exception {\n    byte[] bytes = raw.getBytes(&quot;Cp1047&quot;);\n    if (bytes[0] == 0x0d &amp;&amp; bytes[1] == 0x25) {\n        bytes[0] = 0x40;\n        bytes[1] = 0x40;\n    }\n    return new String(bytes, &quot;Cp1047&quot;);\n}\n</code></pre>\n<p>What I end up getting though is</p>\n<pre><code>Expecting:\n &lt;&quot;\n&quot;&gt;\nto be equal to:\n &lt;&quot; &quot;&gt;\nbut was not.\n</code></pre>\n<p>Because the second hex value for the given string is <code>15</code> (not <code>25</code> like I thought it would be).</p>\n<p>It seems that <code>25</code> is represented in UTF-16 as <code>\\u0085</code>.</p>\n<p>Is this correct?</p>\n"},{"tags":["java","android","4g"],"answers":[{"tags":[],"owner":{"account_id":5858874,"reputation":905,"user_id":4615278,"accept_rate":75,"display_name":"shannontesla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539766140,"creation_date":1539765775,"answer_id":52850677,"question_id":52850101,"body_markdown":"Actually, since Android 5.0 Lollipop you cannot enable nor disable 4G/Phone Data anymore. \r\nAnyway for previous versions and only on rooted devices [this solution ][1] worked.\r\n\r\nTo disable WiFi this code should work:\r\n\r\n    WifiManager wifiManager = (WifiManager)this.context.getSystemService(Context.WIFI_SERVICE);\r\n    wifiManager.setWifiEnabled(status);\r\n\r\nWhere &quot;status&quot;, at the second loc, should be true/false.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/31488730/4615278","title":"How can i turn off 4G/Data programmatically?","body":"<p>Actually, since Android 5.0 Lollipop you cannot enable nor disable 4G/Phone Data anymore. \nAnyway for previous versions and only on rooted devices <a href=\"https://stackoverflow.com/a/31488730/4615278\">this solution </a> worked.</p>\n\n<p>To disable WiFi this code should work:</p>\n\n<pre><code>WifiManager wifiManager = (WifiManager)this.context.getSystemService(Context.WIFI_SERVICE);\nwifiManager.setWifiEnabled(status);\n</code></pre>\n\n<p>Where \"status\", at the second loc, should be true/false.</p>\n"},{"tags":[],"owner":{"account_id":9351018,"reputation":347,"user_id":6940711,"display_name":"Pravin Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539766200,"creation_date":1539766161,"answer_id":52850806,"question_id":52850101,"body_markdown":"You need to root the device,use `TelephonyManager` instead of `ConnectivityManager` and add the permission of `MODIFY_PHONE_STATE`.","title":"How can i turn off 4G/Data programmatically?","body":"<p>You need to root the device,use <code>TelephonyManager</code> instead of <code>ConnectivityManager</code> and add the permission of <code>MODIFY_PHONE_STATE</code>.</p>\n"},{"tags":[],"owner":{"account_id":4426416,"reputation":446,"user_id":3604786,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607964465,"creation_date":1607964465,"answer_id":65292975,"question_id":52850101,"body_markdown":"Following code works for me on Kotlin:\r\n\r\n    fun disable4GNetwork(context: Context) {\r\n    val connectivityManager =\r\n        context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n    val request: NetworkRequest.Builder?\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n        request = NetworkRequest.Builder()\r\n\r\n        request.addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n        connectivityManager.requestNetwork(\r\n            request.build(),\r\n            object : ConnectivityManager.NetworkCallback() {\r\n\r\n                override fun onAvailable(network: Network) {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                        ConnectivityManager.setProcessDefaultNetwork(network)\r\n                    }\r\n                }\r\n            }\r\n        )\r\n    }\r\n}\r\n","title":"How can i turn off 4G/Data programmatically?","body":"<p>Following code works for me on Kotlin:</p>\n<pre><code>fun disable4GNetwork(context: Context) {\nval connectivityManager =\n    context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\nval request: NetworkRequest.Builder?\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n    request = NetworkRequest.Builder()\n\n    request.addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n    connectivityManager.requestNetwork(\n        request.build(),\n        object : ConnectivityManager.NetworkCallback() {\n\n            override fun onAvailable(network: Network) {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                    ConnectivityManager.setProcessDefaultNetwork(network)\n                }\n            }\n        }\n    )\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1418198,"reputation":563,"user_id":1343373,"display_name":"thelastworm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637221403,"creation_date":1637221403,"answer_id":70016143,"question_id":52850101,"body_markdown":"Ok with Sam Solution but not forgot to add permission in your manifest \r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot;/&gt;\r\n```","title":"How can i turn off 4G/Data programmatically?","body":"<p>Ok with Sam Solution but not forgot to add permission in your manifest</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":14561098,"reputation":11,"user_id":10517142,"display_name":"user10517142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1637221403,"creation_date":1539763660,"question_id":52850101,"body_markdown":"How do I programmatically turn off 4G / data in Android 8.0?\r\n\r\nNot Wifi, but 4G/Data.\r\n\r\nRunning the following source will turn the device off.\r\n\r\n    public void onClick(View view){\r\n            ConnectivityManager dataManager;\r\n            dataManager  = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            Method dataMtd = null;\r\n            try {\r\n                dataMtd = ConnectivityManager.class.getDeclaredMethod(&quot;setMobileDataEnabled&quot;, boolean.class);\r\n            } catch (NoSuchMethodException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n            dataMtd.setAccessible(true);\r\n            try {\r\n                dataMtd.invoke(dataManager, true);\r\n            } catch (IllegalArgumentException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (IllegalAccessException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (InvocationTargetException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"How can i turn off 4G/Data programmatically?","body":"<p>How do I programmatically turn off 4G / data in Android 8.0?</p>\n\n<p>Not Wifi, but 4G/Data.</p>\n\n<p>Running the following source will turn the device off.</p>\n\n<pre><code>public void onClick(View view){\n        ConnectivityManager dataManager;\n        dataManager  = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);\n        Method dataMtd = null;\n        try {\n            dataMtd = ConnectivityManager.class.getDeclaredMethod(\"setMobileDataEnabled\", boolean.class);\n        } catch (NoSuchMethodException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        dataMtd.setAccessible(true);\n        try {\n            dataMtd.invoke(dataManager, true);\n        } catch (IllegalArgumentException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (InvocationTargetException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","arraylist","java.util.scanner"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1637205697,"post_id":70014156,"comment_id":123766087,"body_markdown":"Try executing `System.out.println(new File(fileName).getAbsolutePath());` and see what happens.","body":"Try executing <code>System.out.println(new File(fileName).getAbsolutePath());</code> and see what happens."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":7,"creation_date":1637205721,"post_id":70014156,"comment_id":123766094,"body_markdown":"You are creating the Scanner object with a String value. The `getAbsolutePath()` method returns a String, so that is the object that is read by the scanner. Get rid of that statement and just pass the `File` to the `Scanner`.","body":"You are creating the Scanner object with a String value. The <code>getAbsolutePath()</code> method returns a String, so that is the object that is read by the scanner. Get rid of that statement and just pass the <code>File</code> to the <code>Scanner</code>."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1637205730,"post_id":70014156,"comment_id":123766096,"body_markdown":"I think because you call `getAbsolutePath` on the `File` object and that returns a string, not a `File`.  Just use the `File` object.","body":"I think because you call <code>getAbsolutePath</code> on the <code>File</code> object and that returns a string, not a <code>File</code>.  Just use the <code>File</code> object."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1637205792,"post_id":70014156,"comment_id":123766107,"body_markdown":"Note that `Scanner` has a constructor overload that accepts a `String`.  https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#Scanner(java.lang.String)  That&#39;s the constructor that&#39;s being called in your code.","body":"Note that <code>Scanner</code> has a constructor overload that accepts a <code>String</code>.  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#Scanner(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>  That&#39;s the constructor that&#39;s being called in your code."},{"owner":{"account_id":23261480,"reputation":71,"user_id":17443562,"display_name":"Liferafter"},"score":0,"creation_date":1637205892,"post_id":70014156,"comment_id":123766121,"body_markdown":"I wanted to make it so that I could access the file even if it was not in the directory by using that method, and for some reason without it I would just get a filenotfound exception","body":"I wanted to make it so that I could access the file even if it was not in the directory by using that method, and for some reason without it I would just get a filenotfound exception"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1637206001,"post_id":70014156,"comment_id":123766133,"body_markdown":"The File object doesn&#39;t actually open the file.  The Scanner does.","body":"The File object doesn&#39;t actually open the file.  The Scanner does."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1637206034,"post_id":70014156,"comment_id":123766137,"body_markdown":"In the code you posted, it&#39;s not opening the file at all; it&#39;s just returning the absolute path from your file name.","body":"In the code you posted, it&#39;s not opening the file at all; it&#39;s just returning the absolute path from your file name."},{"owner":{"account_id":23261480,"reputation":71,"user_id":17443562,"display_name":"Liferafter"},"score":0,"creation_date":1637206199,"post_id":70014156,"comment_id":123766167,"body_markdown":"I am not too familiar with file io in java, this is actually my first project with it, so I would like to ask how should I fix it?","body":"I am not too familiar with file io in java, this is actually my first project with it, so I would like to ask how should I fix it?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1637206347,"post_id":70014156,"comment_id":123766197,"body_markdown":"I guess you could do this: `new Scanner( new File( new File(fileName).getAbsolutePath() ) )`","body":"I guess you could do this: <code>new Scanner( new File( new File(fileName).getAbsolutePath() ) )</code>"},{"owner":{"account_id":23261480,"reputation":71,"user_id":17443562,"display_name":"Liferafter"},"score":0,"creation_date":1637206522,"post_id":70014156,"comment_id":123766227,"body_markdown":"So File is a object, and these are just methods for that object, omg I was really overthinking this, thank you","body":"So File is a object, and these are just methods for that object, omg I was really overthinking this, thank you"},{"owner":{"account_id":23261480,"reputation":71,"user_id":17443562,"display_name":"Liferafter"},"score":0,"creation_date":1637206741,"post_id":70014156,"comment_id":123766263,"body_markdown":"that didnt really work, whelps I dont know why but it keeps throwing the file not found exception","body":"that didnt really work, whelps I dont know why but it keeps throwing the file not found exception"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1637216143,"post_id":70014156,"comment_id":123767895,"body_markdown":"Refer to [Basic I/O](https://docs.oracle.com/javase/tutorial/essential/io/) lesson in Oracle&#39;s Java tutorials.","body":"Refer to <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/\" rel=\"nofollow noreferrer\">Basic I/O</a> lesson in Oracle&#39;s Java tutorials."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1637221134,"post_id":70014156,"comment_id":123769138,"body_markdown":"(1) When you pass in the `fileName`, are you passing in an absolute path, or a relative path? (2) If it&#39;s a relative path, what&#39;s your Java environment&#39;s working dir? If you&#39;re running this via an IDE, the run configuration should have that as an option somewhere. Make sure that the relative path is relative to that dir.","body":"(1) When you pass in the <code>fileName</code>, are you passing in an absolute path, or a relative path? (2) If it&#39;s a relative path, what&#39;s your Java environment&#39;s working dir? If you&#39;re running this via an IDE, the run configuration should have that as an option somewhere. Make sure that the relative path is relative to that dir."}],"answers":[{"tags":[],"owner":{"account_id":18060880,"reputation":56,"user_id":13128037,"display_name":"Dave Sessional"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637221370,"creation_date":1637221370,"answer_id":70016138,"question_id":70014156,"body_markdown":"When we work with files in java, we have to be very specific about the file we are talking about.\r\n\r\nThere could be more than one files with the same name in your entire file structure, how would java decide which file it needs to consider. We have below two options\r\n\r\n1. Working with absolute path - First option is to provide the absolute path to Java program, so that it can simply create an object using that path.\r\n\r\n2. Working with relative path - When we are working with relative path, java only searches the file in the classpath, which is by default current working directory, that is, your projects root folder.\r\n\r\nIn case you want to use the relative path, make sure it lies in the classpath.\r\n\r\n[![Reference Image][1]][1]\r\n\r\n\r\nOtherwise make sure to provide the absolute path to the program.\r\n\r\nGiving any filename to the program and expecting java to find out the absolute file path is not the right.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RPoVH.jpg\r\n\r\n\r\nNeedless to say that your Scanner Object has to be correct.","title":"Java: Why is my code reading and saving the file path and not the actual contents of the file?","body":"<p>When we work with files in java, we have to be very specific about the file we are talking about.</p>\n<p>There could be more than one files with the same name in your entire file structure, how would java decide which file it needs to consider. We have below two options</p>\n<ol>\n<li><p>Working with absolute path - First option is to provide the absolute path to Java program, so that it can simply create an object using that path.</p>\n</li>\n<li><p>Working with relative path - When we are working with relative path, java only searches the file in the classpath, which is by default current working directory, that is, your projects root folder.</p>\n</li>\n</ol>\n<p>In case you want to use the relative path, make sure it lies in the classpath.</p>\n<p><a href=\"https://i.stack.imgur.com/RPoVH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RPoVH.jpg\" alt=\"Reference Image\" /></a></p>\n<p>Otherwise make sure to provide the absolute path to the program.</p>\n<p>Giving any filename to the program and expecting java to find out the absolute file path is not the right.</p>\n<p>Needless to say that your Scanner Object has to be correct.</p>\n"}],"owner":{"account_id":23261480,"reputation":71,"user_id":17443562,"display_name":"Liferafter"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70016138,"answer_count":1,"score":-1,"last_activity_date":1637221370,"creation_date":1637205554,"question_id":70014156,"body_markdown":"I have been working on this method to open a file and read its contents into an ArrayList. For some reason, it is storing the file path in the ArrayList and not the file contents!\r\n\r\n    text = new MyArrayList&lt;&gt;();\r\n    try (Scanner s = new Scanner(new File(fileName).getAbsolutePath())) {\r\n      while (s.hasNext()) {\r\n        text.add(s.next());\r\n      }\r\n    }\r\nCould you help me figure out where I am making the mistake, thank you!\r\n\r\nP.S. **MyArrayList is my own implementation of the ArrayList, it works as a ArrayList.**","title":"Java: Why is my code reading and saving the file path and not the actual contents of the file?","body":"<p>I have been working on this method to open a file and read its contents into an ArrayList. For some reason, it is storing the file path in the ArrayList and not the file contents!</p>\n<pre><code>text = new MyArrayList&lt;&gt;();\ntry (Scanner s = new Scanner(new File(fileName).getAbsolutePath())) {\n  while (s.hasNext()) {\n    text.add(s.next());\n  }\n}\n</code></pre>\n<p>Could you help me figure out where I am making the mistake, thank you!</p>\n<p>P.S. <strong>MyArrayList is my own implementation of the ArrayList, it works as a ArrayList.</strong></p>\n"},{"tags":["java","google-chrome","selenium","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":1132070,"reputation":3595,"user_id":1117934,"accept_rate":85,"display_name":"DominicEU"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1454324698,"creation_date":1454324698,"answer_id":35128928,"question_id":35128850,"body_markdown":"This should disable images for you.\r\n\r\n        prefs.put(&quot;profile.managed_default_content_settings.images&quot;, 2); \r\n","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>This should disable images for you.</p>\n\n<pre><code>    prefs.put(\"profile.managed_default_content_settings.images\", 2); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5420431,"reputation":269,"user_id":4314222,"accept_rate":89,"display_name":"zvikachu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1454375311,"creation_date":1454375311,"answer_id":35143361,"question_id":35128850,"body_markdown":"I found a small plugin that does a really good job\r\n\r\n\r\n    ChromeOptions op = new ChromeOptions();\r\n\t\top.addExtensions(new File(&quot;C:\\\\whatever\\\\Block-image_v1.0.crx&quot;));\r\n\t\tdriver = new ChromeDriver(op);\r\n\r\nif anyone else is interested, you can grab it [here][1]\r\n\r\n\r\n  [1]: https://github.com/avinashThummala/LM_Scraper/blob/master/Block-image_v1.0.crx","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>I found a small plugin that does a really good job</p>\n\n<pre><code>ChromeOptions op = new ChromeOptions();\n    op.addExtensions(new File(\"C:\\\\whatever\\\\Block-image_v1.0.crx\"));\n    driver = new ChromeDriver(op);\n</code></pre>\n\n<p>if anyone else is interested, you can grab it <a href=\"https://github.com/avinashThummala/LM_Scraper/blob/master/Block-image_v1.0.crx\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8820177,"reputation":100,"user_id":6590316,"display_name":"Sethu_P"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1478900578,"creation_date":1478899543,"answer_id":40556449,"question_id":35128850,"body_markdown":"Check this code, \r\n    \r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n    \t\t\t\t\tSettings.getProperty(&quot;ChromeDriverPath&quot;));\r\n\tDesiredCapabilities capabilities= DesiredCapabilities.chrome();\r\n\r\n\tHashMap&lt;String, Object&gt; images = new HashMap&lt;String, Object&gt;(); \r\n\timages.put(&quot;images&quot;, 2);\r\n\tHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;(); \r\n\tprefs.put(&quot;profile.default_content_setting_values&quot;, images);\r\n\r\n\tChromeOptions options= new ChromeOptions();\r\n\toptions.addArguments(&quot;--test-type --no-sandbox&quot;);\r\n\toptions.addArguments(&quot;--enable-strict-powerful-feature-restrictions&quot;);\r\n\t\r\n\toptions.setExperimentalOption(&quot;prefs&quot;, prefs); \r\n\tcapabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n    driver = new ChromeDriver(capabilities);\r\n\r\n\r\n\r\n\r\n","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>Check this code, </p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\",\n                    Settings.getProperty(\"ChromeDriverPath\"));\nDesiredCapabilities capabilities= DesiredCapabilities.chrome();\n\nHashMap&lt;String, Object&gt; images = new HashMap&lt;String, Object&gt;(); \nimages.put(\"images\", 2);\nHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;(); \nprefs.put(\"profile.default_content_setting_values\", images);\n\nChromeOptions options= new ChromeOptions();\noptions.addArguments(\"--test-type --no-sandbox\");\noptions.addArguments(\"--enable-strict-powerful-feature-restrictions\");\n\noptions.setExperimentalOption(\"prefs\", prefs); \ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\ndriver = new ChromeDriver(capabilities);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14978157,"reputation":559,"user_id":10812986,"display_name":"Ercross"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582099536,"creation_date":1558802359,"answer_id":56306795,"question_id":35128850,"body_markdown":"If you&#39;re running the headless mode, you can try   \r\n```\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;--headless&quot;, &quot;--disable-gpu&quot;, &quot;--blink-settings=imagesEnabled=false&quot;);\r\nWebDriver driver = new ChromeDriver(options);\r\n```\r\n\r\nAlternatively, you can create a new chrome profile. Disable images by accessing `chrome://settings/content` on the new profile. Then add the new profile to your chromeDriver options. More info [here](https://startingwithseleniumwebdriver.blogspot.com/2015/07/working-with-chrome-profile-with.html).","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>If you're running the headless mode, you can try   </p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\", \"--disable-gpu\", \"--blink-settings=imagesEnabled=false\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n\n<p>Alternatively, you can create a new chrome profile. Disable images by accessing <code>chrome://settings/content</code> on the new profile. Then add the new profile to your chromeDriver options. More info <a href=\"https://startingwithseleniumwebdriver.blogspot.com/2015/07/working-with-chrome-profile-with.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3782717,"reputation":927,"user_id":3141682,"accept_rate":75,"display_name":"Adi Ohana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558870220,"creation_date":1558870220,"answer_id":56313097,"question_id":35128850,"body_markdown":"With Selenium 4 alpha 1, you can also use CDP for filtering URL&#39;s:\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n\r\n        ChromeDriver driver = new ChromeDriver(options);\r\n\r\n        driver.getDevTools().createSession();\r\n\r\n        driver.getDevTools().send(new Command&lt;&gt;(&quot;Network.enable&quot;, ImmutableMap.of()));\r\n        driver.getDevTools().send(new Command&lt;&gt;(&quot;Network.setBlockedURLs&quot;, ImmutableMap.of(&quot;urls&quot;, ImmutableList.of(&quot;*://*/*.bmp&quot;,&quot;*://*/*.gif&quot;,&quot;*://*/*.png&quot;))));\r\n\r\n        driver.get(&quot;https://apache.org&quot;);\r\n\r\n        driver.quit();\r\n\r\n\r\nIn the next Alpha version, the interface will be MUCH more user friendly.\r\n\r\nMaven dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-alpha-1&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>With Selenium 4 alpha 1, you can also use CDP for filtering URL's:</p>\n\n<pre><code>    ChromeOptions options = new ChromeOptions();\n\n    ChromeDriver driver = new ChromeDriver(options);\n\n    driver.getDevTools().createSession();\n\n    driver.getDevTools().send(new Command&lt;&gt;(\"Network.enable\", ImmutableMap.of()));\n    driver.getDevTools().send(new Command&lt;&gt;(\"Network.setBlockedURLs\", ImmutableMap.of(\"urls\", ImmutableList.of(\"*://*/*.bmp\",\"*://*/*.gif\",\"*://*/*.png\"))));\n\n    driver.get(\"https://apache.org\");\n\n    driver.quit();\n</code></pre>\n\n<p>In the next Alpha version, the interface will be MUCH more user friendly.</p>\n\n<p>Maven dependency:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0-alpha-1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16217474,"reputation":1,"user_id":11709921,"display_name":"vibi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561660591,"creation_date":1561655018,"answer_id":56795739,"question_id":35128850,"body_markdown":"    public class Test {\r\n    \r\n    \tWebDriver driver;\r\n    \tJavascriptExecutor jse;\r\n    \t\r\n    \tpublic void invokeChromeBrowser()\r\n    \t{\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;E:\\\\Softwares\\\\chromedriver.exe&quot;);\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\tdisableChromeImages(options);\r\n    \t\tdriver = new ChromeDriver(options);\r\n    \t\t\r\n    \t\tdriver.get(&quot;https://www.amazon.com/&quot;);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void disableChromeImages(ChromeOptions options)\r\n    \t{\r\n    \t\tHashMap&lt;String, Object&gt; images = new HashMap&lt;String, Object&gt;();\r\n    \t\timages.put(&quot;images&quot;, 2);\r\n    \t\t\r\n    \t\tHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    \t\tprefs.put(&quot;profile.default_content_setting_values&quot;, images);\r\n    \t\t\r\n    \t\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tTest Obj = new Test();\r\n    \t\tObj.invokeChromeBrowser();\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java Selenium Chrome driver - Disable image loading","body":"<pre><code>public class Test {\n\n    WebDriver driver;\n    JavascriptExecutor jse;\n\n    public void invokeChromeBrowser()\n    {\n        System.setProperty(\"webdriver.chrome.driver\", \"E:\\\\Softwares\\\\chromedriver.exe\");\n        ChromeOptions options = new ChromeOptions();\n        disableChromeImages(options);\n        driver = new ChromeDriver(options);\n\n        driver.get(\"https://www.amazon.com/\");\n\n    }\n\n    public static void disableChromeImages(ChromeOptions options)\n    {\n        HashMap&lt;String, Object&gt; images = new HashMap&lt;String, Object&gt;();\n        images.put(\"images\", 2);\n\n        HashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n        prefs.put(\"profile.default_content_setting_values\", images);\n\n        options.setExperimentalOption(\"prefs\", prefs);\n\n    }\n\n\n    public static void main(String[] args) {\n\n        Test Obj = new Test();\n        Obj.invokeChromeBrowser();\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2005001,"reputation":821,"user_id":1795145,"display_name":"indika"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573045916,"creation_date":1573045916,"answer_id":58730993,"question_id":35128850,"body_markdown":"new ChromeDriver(DesiredCapabilities) is deprecated.\r\n\r\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    prefs.put(&quot;profile.managed_default_content_settings.images&quot;, 2); \r\n    chromeOptions.setExperimentalOption(&quot;prefs&quot;, prefs);","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>new ChromeDriver(DesiredCapabilities) is deprecated.</p>\n\n<pre><code>Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\nprefs.put(\"profile.managed_default_content_settings.images\", 2); \nchromeOptions.setExperimentalOption(\"prefs\", prefs);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20718629,"reputation":685,"user_id":15213503,"display_name":"MeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636966802,"creation_date":1636966802,"answer_id":69971731,"question_id":35128850,"body_markdown":"It worked for me. \r\n\r\n    ChromeOptions options = new ChromeOptions()\r\n    options.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;)","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>It worked for me.</p>\n<pre><code>ChromeOptions options = new ChromeOptions()\noptions.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10951854,"reputation":1,"user_id":16153371,"display_name":"JavaDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637221146,"creation_date":1637221146,"answer_id":70016083,"question_id":35128850,"body_markdown":"Problem solved!\r\nIt was in the old version of the selenium dependency\r\n\r\nSolution:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n     \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n     \r\n    public class Test {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\chromedriver.exe&quot;);\r\n     \r\n            Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\n            prefs.put(&quot;profile.managed_default_content_settings.images&quot;, 2);\r\n     \r\n            ChromeOptions options = new ChromeOptions();\r\n            options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n     \r\n            WebDriver driver = new ChromeDriver(options);\r\n     \r\n            driver.get(&quot;https://yandex.ru/&quot;);\r\n            Thread.sleep(15000);\r\n     \r\n            driver.quit();\r\n        }\r\n    }","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>Problem solved!\nIt was in the old version of the selenium dependency</p>\n<p>Solution:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n \nimport java.util.HashMap;\nimport java.util.Map;\n \npublic class Test {\n    public static void main(String[] args) throws InterruptedException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\chromedriver.exe&quot;);\n \n        Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\n        prefs.put(&quot;profile.managed_default_content_settings.images&quot;, 2);\n \n        ChromeOptions options = new ChromeOptions();\n        options.setExperimentalOption(&quot;prefs&quot;, prefs);\n \n        WebDriver driver = new ChromeDriver(options);\n \n        driver.get(&quot;https://yandex.ru/&quot;);\n        Thread.sleep(15000);\n \n        driver.quit();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5420431,"reputation":269,"user_id":4314222,"accept_rate":89,"display_name":"zvikachu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13059,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35143361,"answer_count":9,"score":3,"last_activity_date":1637221146,"creation_date":1454324447,"question_id":35128850,"body_markdown":"I am trying to run chrome driver without loading any images for obvious reasons.\r\n\r\ni found a piece of code online but i think it&#39;s outdated\r\n\r\n    HashMap&lt;String, Object&gt; images = new HashMap&lt;String, Object&gt;(); \r\n\timages.put(&quot;images&quot;, 2); \r\n\r\n\tHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;(); \r\n\tprefs.put(&quot;profile.default_content_settings&quot;, images); \r\n\r\n\tChromeOptions options =new ChromeOptions(); \r\n\toptions.setExperimentalOption(&quot;prefs&quot;, prefs); \r\n\r\n\tDesiredCapabilities chromeCaps = DesiredCapabilities.chrome(); \r\n\tchromeCaps.setCapability(ChromeOptions.CAPABILITY, options); \r\n\t\t\t\r\n\tdriver = new ChromeDriver(chromeCaps);\r\n\r\n\r\ndoes not work at all..\r\n\r\nany help would be greatly appriciated ","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>I am trying to run chrome driver without loading any images for obvious reasons.</p>\n\n<p>i found a piece of code online but i think it's outdated</p>\n\n<pre><code>HashMap&lt;String, Object&gt; images = new HashMap&lt;String, Object&gt;(); \nimages.put(\"images\", 2); \n\nHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;(); \nprefs.put(\"profile.default_content_settings\", images); \n\nChromeOptions options =new ChromeOptions(); \noptions.setExperimentalOption(\"prefs\", prefs); \n\nDesiredCapabilities chromeCaps = DesiredCapabilities.chrome(); \nchromeCaps.setCapability(ChromeOptions.CAPABILITY, options); \n\ndriver = new ChromeDriver(chromeCaps);\n</code></pre>\n\n<p>does not work at all..</p>\n\n<p>any help would be greatly appriciated </p>\n"},{"tags":["java","javafx","visual-studio-code"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1637145406,"post_id":70000771,"comment_id":123745417,"body_markdown":"Please include text like json formatted as code. Do not take screenshots of code and text.  Even directory structures can be shown as text with a tree command.","body":"Please include text like json formatted as code. Do not take screenshots of code and text.  Even directory structures can be shown as text with a tree command."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1637145471,"post_id":70000771,"comment_id":123745441,"body_markdown":"I don&#39;t know VS code, but you can certainly do this in Idea and other common IDEs.","body":"I don&#39;t know VS code, but you can certainly do this in Idea and other common IDEs."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1637148259,"post_id":70000771,"comment_id":123746464,"body_markdown":"VS code has [maven support](https://code.visualstudio.com/docs/java/java-build), with other IDEs, they can configure the project libraries by synching with the maven project. Perhaps VS code can do the same.","body":"VS code has <a href=\"https://code.visualstudio.com/docs/java/java-build\" rel=\"nofollow noreferrer\">maven support</a>, with other IDEs, they can configure the project libraries by synching with the maven project. Perhaps VS code can do the same."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1637190954,"post_id":70000771,"comment_id":123763536,"body_markdown":"no screenshots of plain text please","body":"no screenshots of plain text please"}],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637221071,"creation_date":1637221071,"answer_id":70016072,"question_id":70000771,"body_markdown":"To the `vmargs` in launch.json, you may put it in **User** Settings:\r\n\r\n    &quot;java.debug.settings.vmArgs&quot;: &quot;--&quot;\r\n\r\nAbout referenced libraries, you may get them by\r\n\r\n     &quot;java.project.referencedLibraries&quot;: [//&quot;all your needed javafx jars]\r\n\r\n in workspace settings and paste it to your new created project, which avoid choosing jars and adding them to referenced Libraries.","title":"Is there anyway to set up a default location to reference libraries from as well as include in launch.json file for Java projects in VS Code","body":"<p>To the <code>vmargs</code> in launch.json, you may put it in <strong>User</strong> Settings:</p>\n<pre><code>&quot;java.debug.settings.vmArgs&quot;: &quot;--&quot;\n</code></pre>\n<p>About referenced libraries, you may get them by</p>\n<pre><code> &quot;java.project.referencedLibraries&quot;: [//&quot;all your needed javafx jars]\n</code></pre>\n<p>in workspace settings and paste it to your new created project, which avoid choosing jars and adding them to referenced Libraries.</p>\n"}],"owner":{"account_id":21555031,"reputation":11,"user_id":15890442,"display_name":"Arnav Jain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1637221071,"creation_date":1637136419,"question_id":70000771,"body_markdown":"I&#39;m a beginner learning Java FX and JDBC, so I frequently create new projects to try stuff out. However every time I create a new java project, I have to add my reference libraries (jar files) again, as well as set up my `launch.json` file to include the necessary vm-args (for Java FX).\r\n\r\nThis is pretty tedious so I was wondering if there was a way to automate these things when I create a new java project.\r\n\r\nreferenced libraries  \r\n![referenced libraries][1]  \r\nlaunch.json file  \r\n![launch.json file][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9FrL3.png\r\n  [2]: https://i.stack.imgur.com/UgRr1.png","title":"Is there anyway to set up a default location to reference libraries from as well as include in launch.json file for Java projects in VS Code","body":"<p>I'm a beginner learning Java FX and JDBC, so I frequently create new projects to try stuff out. However every time I create a new java project, I have to add my reference libraries (jar files) again, as well as set up my <code>launch.json</code> file to include the necessary vm-args (for Java FX).</p>\n<p>This is pretty tedious so I was wondering if there was a way to automate these things when I create a new java project.</p>\n<p>referenced libraries<br />\n<img src=\"https://i.stack.imgur.com/9FrL3.png\" alt=\"referenced libraries\" /><br />\nlaunch.json file<br />\n<img src=\"https://i.stack.imgur.com/UgRr1.png\" alt=\"launch.json file\" /></p>\n"},{"tags":["java","visual-studio-code","vscode-extensions","vscode-debugger"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1636981292,"post_id":69974762,"comment_id":123694793,"body_markdown":"What happens if you run it on the command line? There&#39;s nothing wrong with your java code, and vscode debugger doesn&#39;t randomly break apps. Most likely StdIn/StdOut don&#39;t work like you think they do, or there&#39;s an empty line at the start, so that while loop fails immediately, and champ remains empty as a consequence.","body":"What happens if you run it on the command line? There&#39;s nothing wrong with your java code, and vscode debugger doesn&#39;t randomly break apps. Most likely StdIn/StdOut don&#39;t work like you think they do, or there&#39;s an empty line at the start, so that while loop fails immediately, and champ remains empty as a consequence."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1636981489,"post_id":69974762,"comment_id":123694874,"body_markdown":"It&#39;s hard to tell what might be going wrong here as those `edu.princeton.cs.algs4` classes are definitely not standard and thus we don&#39;t how they are supposed to work (and whether there might be bugs or not).","body":"It&#39;s hard to tell what might be going wrong here as those <code>edu.princeton.cs.algs4</code> classes are definitely not standard and thus we don&#39;t how they are supposed to work (and whether there might be bugs or not)."},{"owner":{"account_id":15924770,"reputation":161,"user_id":11490644,"display_name":"MJK618"},"score":0,"creation_date":1636982258,"post_id":69974762,"comment_id":123695193,"body_markdown":"Yes @Thomas You can [read here](https://algs4.cs.princeton.edu/code/javadoc/edu/princeton/cs/algs4/StdOut.html) about how the package has defined the method","body":"Yes @Thomas You can <a href=\"https://algs4.cs.princeton.edu/code/javadoc/edu/princeton/cs/algs4/StdOut.html\" rel=\"nofollow noreferrer\">read here</a> about how the package has defined the method"},{"owner":{"account_id":22909921,"reputation":1,"user_id":17047361,"display_name":"Aaron Fitch"},"score":0,"creation_date":1636984854,"post_id":69974762,"comment_id":123696275,"body_markdown":"@rzwitserloot When I run it in the command prop the same thing happens.","body":"@rzwitserloot When I run it in the command prop the same thing happens."},{"owner":{"account_id":22909921,"reputation":1,"user_id":17047361,"display_name":"Aaron Fitch"},"score":0,"creation_date":1636987828,"post_id":69974762,"comment_id":123697575,"body_markdown":"@rzwitserloot also, when I run the print inside the while loop it works, plus I have used this method before.","body":"@rzwitserloot also, when I run the print inside the while loop it works, plus I have used this method before."},{"owner":{"account_id":22909921,"reputation":1,"user_id":17047361,"display_name":"Aaron Fitch"},"score":0,"creation_date":1636989116,"post_id":69974762,"comment_id":123698122,"body_markdown":"I found that you need to use ctrl-z in order to stop the program from waiting for input. After this happens, the code works as expected.","body":"I found that you need to use ctrl-z in order to stop the program from waiting for input. After this happens, the code works as expected."}],"owner":{"account_id":22909921,"reputation":1,"user_id":17047361,"display_name":"Aaron Fitch"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637220616,"creation_date":1636981105,"question_id":69974762,"body_markdown":"For some reason, when I try to print my *champ* variable, the vscode debugger just prints a new line:\r\n\r\n```java\r\nimport edu.princeton.cs.algs4.StdIn;\r\nimport edu.princeton.cs.algs4.StdOut;\r\nimport edu.princeton.cs.algs4.StdRandom;\r\n\r\npublic class RandomWord {\r\n  public static void main(String[] args) {\r\n    String champ = &quot;&quot;;\r\n    while (!StdIn.isEmpty()) {\r\n        champ += StdIn.readString();\r\n    };\r\n    StdOut.println(champ);\r\n  }\r\n}\r\n```\r\nI don&#39;t know if this is an issue with the way I initialized my champ variable, or something else.\r\n\r\nYou can find the code for those classes [here](https://algs4.cs.princeton.edu/code/javadoc/edu/princeton/cs/algs4/StdOut.html).","title":"StdOut.println not prints blank line","body":"<p>For some reason, when I try to print my <em>champ</em> variable, the vscode debugger just prints a new line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import edu.princeton.cs.algs4.StdIn;\nimport edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.StdRandom;\n\npublic class RandomWord {\n  public static void main(String[] args) {\n    String champ = &quot;&quot;;\n    while (!StdIn.isEmpty()) {\n        champ += StdIn.readString();\n    };\n    StdOut.println(champ);\n  }\n}\n</code></pre>\n<p>I don't know if this is an issue with the way I initialized my champ variable, or something else.</p>\n<p>You can find the code for those classes <a href=\"https://algs4.cs.princeton.edu/code/javadoc/edu/princeton/cs/algs4/StdOut.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","azul-zulu","pi4j"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":1,"creation_date":1637219686,"post_id":70015806,"comment_id":123768728,"body_markdown":"Did you add it to `module-info.java` ( `requires java.net.http;` )?","body":"Did you add it to <code>module-info.java</code> ( <code>requires java.net.http;</code> )?"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1637219788,"post_id":70015806,"comment_id":123768751,"body_markdown":"No - what is module-info","body":"No - what is module-info"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1637219853,"post_id":70015806,"comment_id":123768769,"body_markdown":"That fixed it. Suggest it as a answer and I will mark it.","body":"That fixed it. Suggest it as a answer and I will mark it."},{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":1,"creation_date":1637219874,"post_id":70015806,"comment_id":123768778,"body_markdown":"Starting with java 9 every project should have (though it&#39;s not mandatory) `module-info.java`, search for it. If you have it in your project, add `requires java.net.http;` into it.","body":"Starting with java 9 every project should have (though it&#39;s not mandatory) <code>module-info.java</code>, search for it. If you have it in your project, add <code>requires java.net.http;</code> into it."}],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637220263,"creation_date":1637219949,"answer_id":70015876,"question_id":70015806,"body_markdown":"Starting with java 9 if project has `module-info.java` that&#39;s the place were all non-default modules should be declared so that they can be used. \r\n\r\nIn your case it&#39;d look as follows: \r\n\r\n```java\r\nmodule ModuleName {\r\n\trequires java.net.http;\r\n}\r\n```\r\n\r\nFor more details you could read:\r\n\r\n - https://www.oracle.com/corporate/features/understanding-java-9-modules.html","title":"java.net.http import - not found","body":"<p>Starting with java 9 if project has <code>module-info.java</code> that's the place were all non-default modules should be declared so that they can be used.</p>\n<p>In your case it'd look as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module ModuleName {\n    requires java.net.http;\n}\n</code></pre>\n<p>For more details you could read:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/corporate/features/understanding-java-9-modules.html</a></li>\n</ul>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637220263,"creation_date":1637219606,"question_id":70015806,"body_markdown":"I am working in Intellij with Java 11. I want to use `import java.net.http.httpclient` in my project but the import statement is not found.\r\n\r\nBackground:\r\n\r\nI am compiling on my Windows 10 Workstation to build for deployment on a Rasp Pi Zero W. The version of Java that I am using (SDK) is Azul Java 11.0.13.\r\n\r\nWhen I type in import java.net.http.httpclient java.net is found but the http is not.\r\n\r\nI have setup Intellij to use Java 11 AFAIK.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHow do I get the import to work?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7VePq.png\r\n  [2]: https://i.stack.imgur.com/DGMmV.png\r\n  [3]: https://i.stack.imgur.com/ESxb9.png","title":"java.net.http import - not found","body":"<p>I am working in Intellij with Java 11. I want to use <code>import java.net.http.httpclient</code> in my project but the import statement is not found.</p>\n<p>Background:</p>\n<p>I am compiling on my Windows 10 Workstation to build for deployment on a Rasp Pi Zero W. The version of Java that I am using (SDK) is Azul Java 11.0.13.</p>\n<p>When I type in import java.net.http.httpclient java.net is found but the http is not.</p>\n<p>I have setup Intellij to use Java 11 AFAIK.</p>\n<p><a href=\"https://i.stack.imgur.com/7VePq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7VePq.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/DGMmV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DGMmV.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ESxb9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ESxb9.png\" alt=\"enter image description here\" /></a></p>\n<p>How do I get the import to work?</p>\n"},{"tags":["java","apache-spark","hadoop","google-cloud-platform"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1635791285,"post_id":69793508,"comment_id":123382565,"body_markdown":"Last I checked, Spark doesn&#39;t use Hadoop3 dependencies, so you should remove these as Spark includes those itself and using other versions will cause such errors","body":"Last I checked, Spark doesn&#39;t use Hadoop3 dependencies, so you should remove these as Spark includes those itself and using other versions will cause such errors"}],"answers":[{"tags":[],"owner":{"account_id":4157048,"reputation":1659,"user_id":3553550,"accept_rate":32,"display_name":"Martin Wunderlich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637220204,"creation_date":1637220204,"answer_id":70015927,"question_id":69793508,"body_markdown":"In my case this error was caused by an older version of hadoop-core (1.2.1 instead of 2.6.5) which was brought in as a transitive Maven dependency. You can also set a breakpoint and check which jar and version exactly your class `org.apache.hadoop.conf.Configuration` comes from. ","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.hadoop.conf.Configuration.getPassword(Ljava/lang/String;)[C","body":"<p>In my case this error was caused by an older version of hadoop-core (1.2.1 instead of 2.6.5) which was brought in as a transitive Maven dependency. You can also set a breakpoint and check which jar and version exactly your class <code>org.apache.hadoop.conf.Configuration</code> comes from.</p>\n"}],"owner":{"account_id":23202931,"reputation":1,"user_id":17297508,"display_name":"Pratik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637220204,"creation_date":1635749794,"question_id":69793508,"body_markdown":"Problem statement :\r\nWhile creating the Dataset&lt;Row&gt; of file located at bucket(GCP) from local spark java code with the following version of jar/lib then getting exception.\r\n\r\nException 1: &quot;Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.hadoop.conf.Configuration.getPassword(Ljava/lang/String;)[C&quot;\r\n\r\nGetting above exception when use the following set of jar/lib.\r\n\r\n```\r\nSpark - org.apache.spark\r\nspark-core_2.11\r\nspark-sql_2.11\r\nHadoop - org.apache.hadoop\r\nhadoop-auth 3.3.1\r\nhadoop-hdfs 3.3.1\r\nhadoop-common 3.3.1\r\nhadoop-mapreduce-client-core 3.3.1\r\nhadoop-mapreduce-client-jobclient 3.3.1\r\nhadoop-nfs 3.3.1\r\nhadoop-client 3.3.1\r\ncom.google.cloud.bigdataoss\r\ngcs-connector-hadoop2-latest\r\n```\r\n\r\nFollowing is the local java source code \r\n\r\n    SparkConf objSparkConf = new SparkConf();\r\n    objSparkConf.setAppName(&quot;Spark&quot;);\r\n    objSparkConf.setMaster(&quot;local[*]&quot;);\r\n    objSparkConf.set(&quot;fs.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem&quot;);\r\n    objSparkConf.set(&quot;fs.AbstractFileSystem.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFS&quot;);\r\n    objSparkConf.set(&quot;google.cloud.auth.service.account.enable&quot;, &quot;true&quot;);\r\n    objSparkConf.set(&quot;google.cloud.auth.service.account.json.keyfile&quot;, &quot;D:\\\\GCP\\\\test-environment-json-keyfile.json&quot;);\r\n    objSparkConf.set(&quot;fs.defaultFS&quot;, &quot;gs://hudi-bucket&quot;);\r\n    JavaSparkContext spContext = new JavaSparkContext(objSparkConf);\r\n    SparkSession sparkSession = SparkSession.builder().appName(&quot;Test_Spark&quot;).getOrCreate();\r\n    String sFileUrl = &quot;gs://test/2/4/CRUNCH_JOB.3d997666-7d58-4ee8-bf42-a30438983ccb.20211025_072502&quot;;\r\n    Dataset&lt;Row&gt; dataSet1 = sparkSession.read().format(&quot;csv&quot;).option(&quot;header&quot;, &quot;true&quot;).load(sFileUrl);\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.hadoop.conf.Configuration.getPassword(Ljava/lang/String;)[C","body":"<p>Problem statement :\nWhile creating the Dataset of file located at bucket(GCP) from local spark java code with the following version of jar/lib then getting exception.</p>\n<p>Exception 1: &quot;Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.hadoop.conf.Configuration.getPassword(Ljava/lang/String;)[C&quot;</p>\n<p>Getting above exception when use the following set of jar/lib.</p>\n<pre><code>Spark - org.apache.spark\nspark-core_2.11\nspark-sql_2.11\nHadoop - org.apache.hadoop\nhadoop-auth 3.3.1\nhadoop-hdfs 3.3.1\nhadoop-common 3.3.1\nhadoop-mapreduce-client-core 3.3.1\nhadoop-mapreduce-client-jobclient 3.3.1\nhadoop-nfs 3.3.1\nhadoop-client 3.3.1\ncom.google.cloud.bigdataoss\ngcs-connector-hadoop2-latest\n</code></pre>\n<p>Following is the local java source code</p>\n<pre><code>SparkConf objSparkConf = new SparkConf();\nobjSparkConf.setAppName(&quot;Spark&quot;);\nobjSparkConf.setMaster(&quot;local[*]&quot;);\nobjSparkConf.set(&quot;fs.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem&quot;);\nobjSparkConf.set(&quot;fs.AbstractFileSystem.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFS&quot;);\nobjSparkConf.set(&quot;google.cloud.auth.service.account.enable&quot;, &quot;true&quot;);\nobjSparkConf.set(&quot;google.cloud.auth.service.account.json.keyfile&quot;, &quot;D:\\\\GCP\\\\test-environment-json-keyfile.json&quot;);\nobjSparkConf.set(&quot;fs.defaultFS&quot;, &quot;gs://hudi-bucket&quot;);\nJavaSparkContext spContext = new JavaSparkContext(objSparkConf);\nSparkSession sparkSession = SparkSession.builder().appName(&quot;Test_Spark&quot;).getOrCreate();\nString sFileUrl = &quot;gs://test/2/4/CRUNCH_JOB.3d997666-7d58-4ee8-bf42-a30438983ccb.20211025_072502&quot;;\nDataset&lt;Row&gt; dataSet1 = sparkSession.read().format(&quot;csv&quot;).option(&quot;header&quot;, &quot;true&quot;).load(sFileUrl);\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":7423634,"reputation":556,"user_id":9795103,"display_name":"Shreyash.K"},"score":0,"creation_date":1637222004,"post_id":70015914,"comment_id":123769405,"body_markdown":"This part of the code seems to be working fine. You may have other bugs in your app.","body":"This part of the code seems to be working fine. You may have other bugs in your app."},{"owner":{"display_name":"user17300427"},"score":0,"creation_date":1637222935,"post_id":70015914,"comment_id":123769716,"body_markdown":"I thought about that too. But I don&#39;t know what bug can possibly cause this","body":"I thought about that too. But I don&#39;t know what bug can possibly cause this"},{"owner":{"account_id":7423634,"reputation":556,"user_id":9795103,"display_name":"Shreyash.K"},"score":0,"creation_date":1637225314,"post_id":70015914,"comment_id":123770548,"body_markdown":"Try cleaning up your activity and keeping only the code necessary. Comment out parts of code to see if the issue goes away.","body":"Try cleaning up your activity and keeping only the code necessary. Comment out parts of code to see if the issue goes away."}],"owner":{"display_name":"user17300427"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637220145,"creation_date":1637220145,"question_id":70015914,"body_markdown":"I&#39;m trying to make a switch button that toggles dark/light mode. I&#39;ve managed to make it work but the only problem is that, after pressing switch button theme changes and activity flickers or activity is restarting/refreshing by it&#39;s self. After pressing switch button basically app just starts glitching out. Here&#39;s my **`Manifest`** code:\r\n\r\n    &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/icon&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@drawable/icon&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n\r\nAnd here&#39;s my **`MainActivity`** code:\r\n\r\n    public class MainActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\r\n    \r\n        Switch dark_light;\r\n        SharedPreferences sharedPreferences = null;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            dark_light = findViewById(R.id.dark_light);\r\n            sharedPreferences = getSharedPreferences(&quot;night&quot;, 0);\r\n            Boolean booleanValue = sharedPreferences.getBoolean(&quot;night_mode&quot;, true);\r\n            if(booleanValue){\r\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n                dark_light.setChecked(true);\r\n            }\r\n            dark_light.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean b) {\r\n                    if(b){\r\n                        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n                        dark_light.setChecked(true);\r\n                        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                        editor.putBoolean(&quot;night_mode&quot;, true);\r\n                        editor.commit();\r\n                    }else{\r\n                        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n                        dark_light.setChecked(false);\r\n                        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                        editor.putBoolean(&quot;night_mode&quot;, false);\r\n                        editor.commit();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }","title":"Activity refreshing/blinking after changing theme in Android Studio using JAVA","body":"<p>I'm trying to make a switch button that toggles dark/light mode. I've managed to make it work but the only problem is that, after pressing switch button theme changes and activity flickers or activity is restarting/refreshing by it's self. After pressing switch button basically app just starts glitching out. Here's my <strong><code>Manifest</code></strong> code:</p>\n<pre><code>&lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@drawable/icon&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@drawable/icon&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n<p>And here's my <strong><code>MainActivity</code></strong> code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\n\n    Switch dark_light;\n    SharedPreferences sharedPreferences = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        dark_light = findViewById(R.id.dark_light);\n        sharedPreferences = getSharedPreferences(&quot;night&quot;, 0);\n        Boolean booleanValue = sharedPreferences.getBoolean(&quot;night_mode&quot;, true);\n        if(booleanValue){\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n            dark_light.setChecked(true);\n        }\n        dark_light.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean b) {\n                if(b){\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n                    dark_light.setChecked(true);\n                    SharedPreferences.Editor editor = sharedPreferences.edit();\n                    editor.putBoolean(&quot;night_mode&quot;, true);\n                    editor.commit();\n                }else{\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n                    dark_light.setChecked(false);\n                    SharedPreferences.Editor editor = sharedPreferences.edit();\n                    editor.putBoolean(&quot;night_mode&quot;, false);\n                    editor.commit();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1637039016,"post_id":69983818,"comment_id":123711819,"body_markdown":"Is it perhaps time to implement a different pattern? How about using objects that implement a common API method using the logic in your `doSomethingN()` methods based on `something`? That way, you avoid the switch altogether, and your `default` clause would be just an `else` block somewhere?","body":"Is it perhaps time to implement a different pattern? How about using objects that implement a common API method using the logic in your <code>doSomethingN()</code> methods based on <code>something</code>? That way, you avoid the switch altogether, and your <code>default</code> clause would be just an <code>else</code> block somewhere?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637056756,"post_id":69983818,"comment_id":123717268,"body_markdown":"Are the fallthroughs intentional?","body":"Are the fallthroughs intentional?"},{"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"score":0,"creation_date":1637219905,"post_id":69983818,"comment_id":123768787,"body_markdown":"@MarkRotteveel my bad...didn&#39;t include the break in the question. Included now. So, no fallthrough happens.","body":"@MarkRotteveel my bad...didn&#39;t include the break in the question. Included now. So, no fallthrough happens."}],"answers":[{"tags":[],"owner":{"account_id":12315202,"reputation":198,"user_id":8985718,"display_name":"Sayed Hussainullah Sadat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637056725,"creation_date":1637042170,"answer_id":69984374,"question_id":69983818,"body_markdown":"Perhaps you should use two functions for implementing the concept.\r\n\r\nLet&#39;s say that we have a function called mainSwitchFunction(int case):\r\n\r\n      public void mainSwitchFunction(int case){\r\n         switch(something){\r\n           case Case1:\r\n           validate();\r\n           doSomething1();\r\n          case Case2:\r\n           validate();\r\n           doSomething2();\r\n          case Case3:\r\n           validate();\r\n           doSomething3();\r\n          case Case4:\r\n           validate();\r\n           doSomething4();\r\n          case Case5:\r\n           validate();\r\n           doSomething5();\r\n          default:\r\n           handleDefault();\r\n        }\r\n      }\r\n\r\nIn normal situations you can use the same function just by calling it.\r\n\r\nHowever, if you want to extend the switch case up to some other cases, you simply define another method let&#39;s say extensionOfSwitch(int case2).\r\n\r\n       public void extensionOfSwitch(int case2){\r\n\r\n        //call the original switch case function\r\n        mainSwitchFunction(case2);\r\n\r\n       //define another switch statement based on ur case condition.\r\n        switch(case2){\r\n          case:...\r\n        }\r\n\r\n        /*\r\n         this way all the cases will be handled.\r\n       */\r\n\r\n      }\r\n\r\n","title":"How to refactor switch-cases so that I can extend those cases and add another case in a different class?","body":"<p>Perhaps you should use two functions for implementing the concept.</p>\n<p>Let's say that we have a function called mainSwitchFunction(int case):</p>\n<pre><code>  public void mainSwitchFunction(int case){\n     switch(something){\n       case Case1:\n       validate();\n       doSomething1();\n      case Case2:\n       validate();\n       doSomething2();\n      case Case3:\n       validate();\n       doSomething3();\n      case Case4:\n       validate();\n       doSomething4();\n      case Case5:\n       validate();\n       doSomething5();\n      default:\n       handleDefault();\n    }\n  }\n</code></pre>\n<p>In normal situations you can use the same function just by calling it.</p>\n<p>However, if you want to extend the switch case up to some other cases, you simply define another method let's say extensionOfSwitch(int case2).</p>\n<pre><code>   public void extensionOfSwitch(int case2){\n\n    //call the original switch case function\n    mainSwitchFunction(case2);\n\n   //define another switch statement based on ur case condition.\n    switch(case2){\n      case:...\n    }\n\n    /*\n     this way all the cases will be handled.\n   */\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11330140,"reputation":177,"user_id":8307920,"display_name":"Grzegorz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637054581,"creation_date":1637054581,"answer_id":69986535,"question_id":69983818,"body_markdown":"in my opinion, it will be better to use map for this.\r\nsomething like this: \r\n```\r\npublic class SwithCaseProblem {\r\n\r\n    Map&lt;Object, MyHandler&gt; handlers = new HashMap&lt;&gt;();\r\n\r\n    MyHandler myHandler = new MyHandler() { // or use lambda\r\n        @Override\r\n        public void doSomething() {\r\n            // default\r\n        };\r\n    };\r\n\r\n    public void perform(Object something) {\r\n        handlers.getOrDefault(something, myHandler).doSomething();\r\n    }\r\n\r\n    public Map&lt;Object, MyHandler&gt; getHandlers() {\r\n        return handlers;\r\n    }\r\n\r\n    public void setHandlers(Map&lt;Object, MyHandler&gt; handlers) {\r\n        this.handlers = handlers;\r\n    }\r\n\r\n    private interface MyHandler { // or instead of own interface, use Runnable, Supplier, Consumer, ... what you need\r\n        public void doSomething();\r\n    }\r\n\r\n}\r\n```\r\nNow you need only add new handler to map to extend the behavior","title":"How to refactor switch-cases so that I can extend those cases and add another case in a different class?","body":"<p>in my opinion, it will be better to use map for this.\nsomething like this:</p>\n<pre><code>public class SwithCaseProblem {\n\n    Map&lt;Object, MyHandler&gt; handlers = new HashMap&lt;&gt;();\n\n    MyHandler myHandler = new MyHandler() { // or use lambda\n        @Override\n        public void doSomething() {\n            // default\n        };\n    };\n\n    public void perform(Object something) {\n        handlers.getOrDefault(something, myHandler).doSomething();\n    }\n\n    public Map&lt;Object, MyHandler&gt; getHandlers() {\n        return handlers;\n    }\n\n    public void setHandlers(Map&lt;Object, MyHandler&gt; handlers) {\n        this.handlers = handlers;\n    }\n\n    private interface MyHandler { // or instead of own interface, use Runnable, Supplier, Consumer, ... what you need\n        public void doSomething();\n    }\n\n}\n</code></pre>\n<p>Now you need only add new handler to map to extend the behavior</p>\n"}],"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69984374,"answer_count":2,"score":1,"last_activity_date":1637219943,"creation_date":1637037492,"question_id":69983818,"body_markdown":"I have this chain of switch-cases\r\n```\r\nswitch(something){\r\n   case Case1:\r\n      validate();\r\n      doSomething1();\r\n      break;\r\n   case Case2:\r\n      validate();\r\n      doSomething2();\r\n      break;\r\n   case Case3:\r\n      validate();\r\n      doSomething3();\r\n      break;\r\n   case Case4:\r\n      validate();\r\n      doSomething4();\r\n      break;\r\n   case Case5:\r\n      validate();\r\n      doSomething5();\r\n      break;\r\n   default:\r\n      handleDefault();\r\n}\r\n```\r\n\r\nNow in a different place I want these exact switch-cases and default code but I need to add one extra case. What would be a nice way to achieve this so that I don&#39;t just have to duplicate all these cases in a different place.","title":"How to refactor switch-cases so that I can extend those cases and add another case in a different class?","body":"<p>I have this chain of switch-cases</p>\n<pre><code>switch(something){\n   case Case1:\n      validate();\n      doSomething1();\n      break;\n   case Case2:\n      validate();\n      doSomething2();\n      break;\n   case Case3:\n      validate();\n      doSomething3();\n      break;\n   case Case4:\n      validate();\n      doSomething4();\n      break;\n   case Case5:\n      validate();\n      doSomething5();\n      break;\n   default:\n      handleDefault();\n}\n</code></pre>\n<p>Now in a different place I want these exact switch-cases and default code but I need to add one extra case. What would be a nice way to achieve this so that I don't just have to duplicate all these cases in a different place.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3047901,"reputation":3720,"user_id":2583086,"accept_rate":76,"display_name":"George Daramouskas"},"score":0,"creation_date":1424962555,"post_id":28745325,"comment_id":45773652,"body_markdown":"Which subclass of `adapter` are you using?","body":"Which subclass of <code>adapter</code> are you using?"},{"owner":{"account_id":5631721,"reputation":35,"user_id":4458478,"accept_rate":60,"display_name":"Valy Dvweb"},"score":0,"creation_date":1424963223,"post_id":28745325,"comment_id":45774143,"body_markdown":"custom adapter of BaseAdapter","body":"custom adapter of BaseAdapter"},{"owner":{"account_id":5631721,"reputation":35,"user_id":4458478,"accept_rate":60,"display_name":"Valy Dvweb"},"score":0,"creation_date":1424963278,"post_id":28745325,"comment_id":45774176,"body_markdown":"myCustomAdapter extends BaseAdapter","body":"myCustomAdapter extends BaseAdapter"}],"answers":[{"tags":[],"owner":{"account_id":3047901,"reputation":3720,"user_id":2583086,"accept_rate":76,"display_name":"George Daramouskas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424965521,"creation_date":1424964013,"answer_id":28746190,"question_id":28745325,"body_markdown":"In order to maintain the position the scroller had before you updated the  data, you have to first get the first item&#39;s position in your adapter by:\r\n\r\n`int position = listView.getFirstVisiblePosition();`\r\n\r\nand then:\r\n\r\n`listView.setSelection(position);`\r\n\r\nto set the scroller to be on the specified position on entering the ListView activity.\r\n\r\n**Edit**: After a quick search I came across [this][1] question. You can find multiple ways to implement what you want and different opinions but the above way is the most simple one from what I can see.\r\n\r\n**Edit 02**: Since you mention that your ListView is updated top-down you can do the following:\r\n\r\n    Parcelable state = listView.onSaveInstanceState();\r\n    listView.setAdapter(adapter);\r\n    listView.onRestoreInstanceState(state);\r\n\r\nThe first line gets the listview&#39;s exact [state][2].\r\nThe second line sets your adapter.\r\nThe third line re-applies the (previously saved) [state][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3014089/maintain-save-restore-scroll-position-when-returning-to-a-listview\r\n  [2]: http://developer.android.com/reference/android/widget/AbsListView.html#onSaveInstanceState()\r\n  [3]: http://developer.android.com/reference/android/widget/AbsListView.html#onRestoreInstanceState(android.os.Parcelable)","title":"Maintain scroll position when prepend ListView","body":"<p>In order to maintain the position the scroller had before you updated the  data, you have to first get the first item's position in your adapter by:</p>\n\n<p><code>int position = listView.getFirstVisiblePosition();</code></p>\n\n<p>and then:</p>\n\n<p><code>listView.setSelection(position);</code></p>\n\n<p>to set the scroller to be on the specified position on entering the ListView activity.</p>\n\n<p><strong>Edit</strong>: After a quick search I came across <a href=\"https://stackoverflow.com/questions/3014089/maintain-save-restore-scroll-position-when-returning-to-a-listview\">this</a> question. You can find multiple ways to implement what you want and different opinions but the above way is the most simple one from what I can see.</p>\n\n<p><strong>Edit 02</strong>: Since you mention that your ListView is updated top-down you can do the following:</p>\n\n<pre><code>Parcelable state = listView.onSaveInstanceState();\nlistView.setAdapter(adapter);\nlistView.onRestoreInstanceState(state);\n</code></pre>\n\n<p>The first line gets the listview's exact <a href=\"http://developer.android.com/reference/android/widget/AbsListView.html#onSaveInstanceState()\" rel=\"nofollow noreferrer\">state</a>.\nThe second line sets your adapter.\nThe third line re-applies the (previously saved) <a href=\"http://developer.android.com/reference/android/widget/AbsListView.html#onRestoreInstanceState(android.os.Parcelable)\" rel=\"nofollow noreferrer\">state</a>.</p>\n"}],"owner":{"account_id":5631721,"reputation":35,"user_id":4458478,"accept_rate":60,"display_name":"Valy Dvweb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637219812,"creation_date":1424961810,"question_id":28745325,"body_markdown":"My problem is the following:\r\n\r\nI have a list of news which is updated every few minutes as follows:\r\n\r\nAlways new messages appear before old ones (Prepend list)\r\n\r\n    // Step 1 -  Prepend array list\r\n    arraylist.add(0, map);\r\n\r\n    // Step 2 - Notify\r\n    adapter.notifyDataSetChanged();\r\n\r\nWhen you call &quot;notifyDataSetChanged&quot; scroll position are kept but .. I want to stay at the current position ... to be somewhat lower.\r\n\r\neg (Facebook &gt; prepend list after X minutes)\r\n\r\nwhen the user runs at the top to see the new results.\r\n\r\nTest Code:\r\n\r\n    public class testActivity extends Activity {\r\n        // Declare Variables\r\n        private JSONArray jr;\r\n\r\n        private ListView listview;\r\n\r\n        private testAdapter adapter;\r\n        private ArrayList&lt;HashMap&lt;String, String&gt;&gt; arraylist;\r\n\r\n        private EditText message;\r\n        private ImageButton post;\r\n\r\n        private static final String TAG = &quot;test.activity&quot;;\r\n        \r\n        /* Create */\r\n\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_test);\r\n\r\n            listview = (ListView) findViewById(R.id.listview);\r\n\r\n            arraylist = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\r\n            adapter = new testAdapter(this, arraylist);\r\n\r\n            listview.setAdapter(adapter);\r\n\r\n            message = (EditText) findViewById(R.id.message);\r\n            post = (ImageButton) findViewById(R.id.post);\r\n\r\n            post.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    postMessage();\r\n                }\r\n            });\r\n\r\n        }\r\n          \r\n        /* Post Message */\r\n\r\n        public void postMessage() {\r\n            new MyRequest(this, &quot;user&quot;, &quot;post&quot;,\r\n                    MyRequest.setParam\r\n                            (\r\n                                    &quot;message&quot;, message.getText().toString().trim()\r\n                            )\r\n            ) {\r\n                @Override\r\n                public void Done(String resp, JSONObject data) {\r\n                    HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\r\n                    try {\r\n\r\n                        map.put(&quot;date&quot;, data.getString(&quot;date&quot;));\r\n                        map.put(&quot;message&quot;, data.getString(&quot;message&quot;));\r\n\r\n                        arraylist.add(0, map);\r\n\r\n                        Parcelable state = listview.onSaveInstanceState();\r\n\r\n                        listview.setAdapter(adapter);\r\n                        listview.onRestoreInstanceState(state);\r\n                    }\r\n                    catch (JSONException e) {\r\n                        Log.e(TAG, &quot;Error JSON Fetch!&quot;);\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nTestAdapter:\r\n\r\n    public class testAdapter extends BaseAdapter {\r\n        Context context;\r\n        LayoutInflater inflater;\r\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; data;\r\n        HashMap&lt;String, String&gt; resultp = new HashMap&lt;String, String&gt;();\r\n\r\n        public testAdapter(Context context,\r\n                           ArrayList&lt;HashMap&lt;String, String&gt;&gt; arraylist) {\r\n            this.context = context;\r\n            data = arraylist;\r\n        }\r\n\r\n        @Override\r\n        public int getCount() {\r\n            return data.size();\r\n        }\r\n\r\n        @Override\r\n        public Object getItem(int position) {\r\n            return data.get(position);\r\n        }\r\n\r\n        @Override\r\n        public long getItemId(int position) {\r\n            return position;\r\n        }\r\n\r\n        public View getView(final int position, View convertView, ViewGroup parent) {\r\n            View itemView = convertView; //trying to reuse a recycled view\r\n\r\n            ViewHolder holder = null;\r\n\r\n            if (itemView == null) //The view is not a recycled one .. we have to inflate\r\n            {\r\n                inflater = (LayoutInflater) context\r\n                        .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n\r\n                itemView = inflater.inflate(R.layout.listview_item, parent, false);\r\n\r\n                holder = new ViewHolder();\r\n\r\n                holder.date = (TextView) itemView.findViewById(R.id.message);\r\n                holder.message = (TextView) itemView.findViewById(R.id.date);\r\n\r\n                itemView.setTag(holder);\r\n            }\r\n            else // View recycled\r\n                holder = (ViewHolder) itemView.getTag();\r\n\r\n            resultp = data.get(position);\r\n\r\n            holder.message.setText(resultp.get(&quot;message&quot;));\r\n            holder.date.setText(resultp.get(&quot;date&quot;));\r\n\r\n            return itemView;\r\n        }\r\n\r\n        /* View Holder */\r\n        static class ViewHolder {\r\n            TextView message;\r\n            TextView date;\r\n        }\r\n    } // End Class","title":"Maintain scroll position when prepend ListView","body":"<p>My problem is the following:</p>\n\n<p>I have a list of news which is updated every few minutes as follows:</p>\n\n<p>Always new messages appear before old ones (Prepend list)</p>\n\n<pre><code>// Step 1 -  Prepend array list\narraylist.add(0, map);\n\n// Step 2 - Notify\nadapter.notifyDataSetChanged();\n</code></pre>\n\n<p>When you call \"notifyDataSetChanged\" scroll position are kept but .. I want to stay at the current position ... to be somewhat lower.</p>\n\n<p>eg (Facebook > prepend list after X minutes)</p>\n\n<p>when the user runs at the top to see the new results.</p>\n\n<p>Test Code:</p>\n\n<pre><code>public class testActivity extends Activity {\n    // Declare Variables\n    private JSONArray jr;\n\n    private ListView listview;\n\n    private testAdapter adapter;\n    private ArrayList&lt;HashMap&lt;String, String&gt;&gt; arraylist;\n\n    private EditText message;\n    private ImageButton post;\n\n    private static final String TAG = \"test.activity\";\n\n    /* Create */\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test);\n\n        listview = (ListView) findViewById(R.id.listview);\n\n        arraylist = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\n        adapter = new testAdapter(this, arraylist);\n\n        listview.setAdapter(adapter);\n\n        message = (EditText) findViewById(R.id.message);\n        post = (ImageButton) findViewById(R.id.post);\n\n        post.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                postMessage();\n            }\n        });\n\n    }\n\n    /* Post Message */\n\n    public void postMessage() {\n        new MyRequest(this, \"user\", \"post\",\n                MyRequest.setParam\n                        (\n                                \"message\", message.getText().toString().trim()\n                        )\n        ) {\n            @Override\n            public void Done(String resp, JSONObject data) {\n                HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n                try {\n\n                    map.put(\"date\", data.getString(\"date\"));\n                    map.put(\"message\", data.getString(\"message\"));\n\n                    arraylist.add(0, map);\n\n                    Parcelable state = listview.onSaveInstanceState();\n\n                    listview.setAdapter(adapter);\n                    listview.onRestoreInstanceState(state);\n                }\n                catch (JSONException e) {\n                    Log.e(TAG, \"Error JSON Fetch!\");\n                }\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>TestAdapter:</p>\n\n<pre><code>public class testAdapter extends BaseAdapter {\n    Context context;\n    LayoutInflater inflater;\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; data;\n    HashMap&lt;String, String&gt; resultp = new HashMap&lt;String, String&gt;();\n\n    public testAdapter(Context context,\n                       ArrayList&lt;HashMap&lt;String, String&gt;&gt; arraylist) {\n        this.context = context;\n        data = arraylist;\n    }\n\n    @Override\n    public int getCount() {\n        return data.size();\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return data.get(position);\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return position;\n    }\n\n    public View getView(final int position, View convertView, ViewGroup parent) {\n        View itemView = convertView; //trying to reuse a recycled view\n\n        ViewHolder holder = null;\n\n        if (itemView == null) //The view is not a recycled one .. we have to inflate\n        {\n            inflater = (LayoutInflater) context\n                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n            itemView = inflater.inflate(R.layout.listview_item, parent, false);\n\n            holder = new ViewHolder();\n\n            holder.date = (TextView) itemView.findViewById(R.id.message);\n            holder.message = (TextView) itemView.findViewById(R.id.date);\n\n            itemView.setTag(holder);\n        }\n        else // View recycled\n            holder = (ViewHolder) itemView.getTag();\n\n        resultp = data.get(position);\n\n        holder.message.setText(resultp.get(\"message\"));\n        holder.date.setText(resultp.get(\"date\"));\n\n        return itemView;\n    }\n\n    /* View Holder */\n    static class ViewHolder {\n        TextView message;\n        TextView date;\n    }\n} // End Class\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637219413,"creation_date":1637173398,"answer_id":70009671,"question_id":70005229,"body_markdown":"I suspect your `ObjectData` is of type `oleObject` or `Objekt-Manager-Shellobjekt`. Those objects are stored in embedded `oleObject*.bin` files. Those files have file systems of their own which need to be read. To do so, first get the `DirectoryEntry` and `DirectoryNode` and then get the [Ole10Native](https://poi.apache.org/apidocs/4.0/org/apache/poi/poifs/filesystem/Ole10Native.html). Having that you can get the file data as `byte[] data = ole10Native.getDataBuffer()`.\r\n\r\nComplete example:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.poifs.filesystem.*;\r\n    \r\n    public class ExcelGetObjectData {\r\n        \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      //String inFilePath = &quot;./ExcelExampleIn.xlsx&quot;; String outFilePath = &quot;./ExcelExampleOut.xlsx&quot;;\r\n      String inFilePath = &quot;./ExcelExampleIn.xls&quot;; String outFilePath = &quot;./ExcelExampleOut.xls&quot;;\r\n      \r\n      try (Workbook workbook = WorkbookFactory.create(new FileInputStream(inFilePath));\r\n           FileOutputStream out = new FileOutputStream(outFilePath ) ) {\r\n    \r\n       Sheet sheet = workbook.getSheetAt(0);\r\n       Drawing&lt;?&gt; drawingPatriarch = sheet.getDrawingPatriarch();\r\n       if (drawingPatriarch != null) {\r\n        for (Shape shape : drawingPatriarch) {\r\n         System.out.println(shape);\r\n         if (shape instanceof ObjectData) {\r\n          ObjectData objectData = (ObjectData) shape;\r\n          System.out.println(objectData.getFileName());\r\n          System.out.println(objectData.getOLE2ClassName());\r\n          System.out.println(objectData.getContentType());\r\n          if(objectData.getOLE2ClassName().equals(&quot;Objekt-Manager-Shellobjekt&quot;)) {\r\n           if (objectData.hasDirectoryEntry()) {\r\n            DirectoryEntry directory = objectData.getDirectory();\r\n            if (directory instanceof DirectoryNode) {\r\n             DirectoryNode directoryNode = (DirectoryNode)directory;\r\n             Ole10Native ole10Native = Ole10Native.createFromEmbeddedOleObject(directoryNode);\r\n             System.out.println(ole10Native.getCommand());\r\n             System.out.println(ole10Native.getFileName());\r\n             System.out.println(ole10Native.getLabel());\r\n             byte[] data = ole10Native.getDataBuffer(); //data now contains the embedded data\r\n             try (FileOutputStream dataOut = new FileOutputStream(&quot;./&quot; + ole10Native.getLabel())) {\r\n              dataOut.write(data);\r\n             }\r\n            }\r\n           }\r\n          } else if(objectData.getOLE2ClassName().equals(&quot;...&quot;)) {\r\n           //...\r\n          }          \r\n         } else if (shape instanceof /*other*/Object) {\r\n          //...\r\n         }\r\n        }        \r\n       }\r\n       \r\n       workbook.write(out);\r\n      }\r\n     }\r\n    }\r\n\r\nUsing [EmbeddedExtractor](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/extractor/EmbeddedExtractor.html) extraction of all embedded objects could be done like so:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.extractor.EmbeddedExtractor;\r\n    import org.apache.poi.ss.extractor.EmbeddedData;\r\n    \r\n    public class ExcelEmbeddedExtractor {\r\n        \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      String inFilePath = &quot;./ExcelExampleIn.xlsx&quot;; String outFilePath = &quot;./ExcelExampleOut.xlsx&quot;;\r\n      //String inFilePath = &quot;./ExcelExampleIn.xls&quot;; String outFilePath = &quot;./ExcelExampleOut.xls&quot;;\r\n      \r\n      try (Workbook workbook = WorkbookFactory.create(new FileInputStream(inFilePath));\r\n           FileOutputStream out = new FileOutputStream(outFilePath ) ) {\r\n    \r\n       Sheet sheet = workbook.getSheetAt(0);\r\n       EmbeddedExtractor extractor = new EmbeddedExtractor();\r\n       for (EmbeddedData embeddedData : extractor.extractAll(sheet)) {\r\n        Shape shape = embeddedData.getShape();\r\n        System.out.println(shape);    \r\n        String filename = embeddedData.getFilename();\r\n        System.out.println(filename);   \r\n        byte[] data = embeddedData.getEmbeddedData(); //data now contains the embedded data\r\n        try (FileOutputStream dataOut = new FileOutputStream(&quot;./&quot; + filename)) {\r\n         dataOut.write(data);\r\n        }    \r\n       }\r\n       \r\n       workbook.write(out);\r\n      }\r\n     }\r\n    }","title":"Using Apache POI to extract excel text type attachment encode issue","body":"<p>I suspect your <code>ObjectData</code> is of type <code>oleObject</code> or <code>Objekt-Manager-Shellobjekt</code>. Those objects are stored in embedded <code>oleObject*.bin</code> files. Those files have file systems of their own which need to be read. To do so, first get the <code>DirectoryEntry</code> and <code>DirectoryNode</code> and then get the <a href=\"https://poi.apache.org/apidocs/4.0/org/apache/poi/poifs/filesystem/Ole10Native.html\" rel=\"nofollow noreferrer\">Ole10Native</a>. Having that you can get the file data as <code>byte[] data = ole10Native.getDataBuffer()</code>.</p>\n<p>Complete example:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.poifs.filesystem.*;\n\npublic class ExcelGetObjectData {\n    \n public static void main(String[] args) throws Exception {\n\n  //String inFilePath = &quot;./ExcelExampleIn.xlsx&quot;; String outFilePath = &quot;./ExcelExampleOut.xlsx&quot;;\n  String inFilePath = &quot;./ExcelExampleIn.xls&quot;; String outFilePath = &quot;./ExcelExampleOut.xls&quot;;\n  \n  try (Workbook workbook = WorkbookFactory.create(new FileInputStream(inFilePath));\n       FileOutputStream out = new FileOutputStream(outFilePath ) ) {\n\n   Sheet sheet = workbook.getSheetAt(0);\n   Drawing&lt;?&gt; drawingPatriarch = sheet.getDrawingPatriarch();\n   if (drawingPatriarch != null) {\n    for (Shape shape : drawingPatriarch) {\n     System.out.println(shape);\n     if (shape instanceof ObjectData) {\n      ObjectData objectData = (ObjectData) shape;\n      System.out.println(objectData.getFileName());\n      System.out.println(objectData.getOLE2ClassName());\n      System.out.println(objectData.getContentType());\n      if(objectData.getOLE2ClassName().equals(&quot;Objekt-Manager-Shellobjekt&quot;)) {\n       if (objectData.hasDirectoryEntry()) {\n        DirectoryEntry directory = objectData.getDirectory();\n        if (directory instanceof DirectoryNode) {\n         DirectoryNode directoryNode = (DirectoryNode)directory;\n         Ole10Native ole10Native = Ole10Native.createFromEmbeddedOleObject(directoryNode);\n         System.out.println(ole10Native.getCommand());\n         System.out.println(ole10Native.getFileName());\n         System.out.println(ole10Native.getLabel());\n         byte[] data = ole10Native.getDataBuffer(); //data now contains the embedded data\n         try (FileOutputStream dataOut = new FileOutputStream(&quot;./&quot; + ole10Native.getLabel())) {\n          dataOut.write(data);\n         }\n        }\n       }\n      } else if(objectData.getOLE2ClassName().equals(&quot;...&quot;)) {\n       //...\n      }          \n     } else if (shape instanceof /*other*/Object) {\n      //...\n     }\n    }        \n   }\n   \n   workbook.write(out);\n  }\n }\n}\n</code></pre>\n<p>Using <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/extractor/EmbeddedExtractor.html\" rel=\"nofollow noreferrer\">EmbeddedExtractor</a> extraction of all embedded objects could be done like so:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.extractor.EmbeddedExtractor;\nimport org.apache.poi.ss.extractor.EmbeddedData;\n\npublic class ExcelEmbeddedExtractor {\n    \n public static void main(String[] args) throws Exception {\n\n  String inFilePath = &quot;./ExcelExampleIn.xlsx&quot;; String outFilePath = &quot;./ExcelExampleOut.xlsx&quot;;\n  //String inFilePath = &quot;./ExcelExampleIn.xls&quot;; String outFilePath = &quot;./ExcelExampleOut.xls&quot;;\n  \n  try (Workbook workbook = WorkbookFactory.create(new FileInputStream(inFilePath));\n       FileOutputStream out = new FileOutputStream(outFilePath ) ) {\n\n   Sheet sheet = workbook.getSheetAt(0);\n   EmbeddedExtractor extractor = new EmbeddedExtractor();\n   for (EmbeddedData embeddedData : extractor.extractAll(sheet)) {\n    Shape shape = embeddedData.getShape();\n    System.out.println(shape);    \n    String filename = embeddedData.getFilename();\n    System.out.println(filename);   \n    byte[] data = embeddedData.getEmbeddedData(); //data now contains the embedded data\n    try (FileOutputStream dataOut = new FileOutputStream(&quot;./&quot; + filename)) {\n     dataOut.write(data);\n    }    \n   }\n   \n   workbook.write(out);\n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":15526108,"reputation":13,"user_id":11200851,"display_name":"516628"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70009671,"answer_count":1,"score":0,"last_activity_date":1637219413,"creation_date":1637155533,"question_id":70005229,"body_markdown":"I am now using Apache POI to extract the attachments from the Excel file, here is part of my code.\r\n\r\n```java\r\n    Sheet sheetAt = workbook.getSheet(sheetName);\r\n    Drawing&lt;?&gt; drawingPatriarch = sheetAt.getDrawingPatriarch();\r\n    if (drawingPatriarch != null) {\r\n\t\tIterator&lt;?&gt; iterator = drawingPatriarch.iterator();\r\n\t\tif (iterator.hasNext()) {\r\n\t\t\tObject next = iterator.next();\r\n\t\t\tif (next instanceof ObjectData) {\r\n\t\t\t    ObjectData o = (ObjectData) next;\r\n\t\t\t\tIOUtil.write(o.getObjectData(), outputPath);\r\n\t\t\t} else if (next instanceof Picture) {\r\n\t\t\t    Picture o = (Picture) next;\r\n\t\t\t\tIOUtil.write(o.getData(), outputPath);\r\n\t\t\t} \r\n\t\t}\r\n    }\r\n```\r\n\r\nWhen the attachment is a binary type, such as exe, png, etc., the file extracted in this way is normal, but if the attachment is a text type, such as txt, pdf, etc., the extracted file can not be opened normally, view the binary content, in addition to the original file has a lot of extra data, how do I parse this data.","title":"Using Apache POI to extract excel text type attachment encode issue","body":"<p>I am now using Apache POI to extract the attachments from the Excel file, here is part of my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Sheet sheetAt = workbook.getSheet(sheetName);\n    Drawing&lt;?&gt; drawingPatriarch = sheetAt.getDrawingPatriarch();\n    if (drawingPatriarch != null) {\n        Iterator&lt;?&gt; iterator = drawingPatriarch.iterator();\n        if (iterator.hasNext()) {\n            Object next = iterator.next();\n            if (next instanceof ObjectData) {\n                ObjectData o = (ObjectData) next;\n                IOUtil.write(o.getObjectData(), outputPath);\n            } else if (next instanceof Picture) {\n                Picture o = (Picture) next;\n                IOUtil.write(o.getData(), outputPath);\n            } \n        }\n    }\n</code></pre>\n<p>When the attachment is a binary type, such as exe, png, etc., the file extracted in this way is normal, but if the attachment is a text type, such as txt, pdf, etc., the extracted file can not be opened normally, view the binary content, in addition to the original file has a lot of extra data, how do I parse this data.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"score":0,"creation_date":1637193903,"post_id":70012770,"comment_id":123764102,"body_markdown":"Is the `event_notification_user` table your Event class ? If not can you please show us?","body":"Is the <code>event_notification_user</code> table your Event class ? If not can you please show us?"},{"owner":{"account_id":23372019,"reputation":1,"user_id":17442712,"display_name":"Stephan G&#228;rtner"},"score":0,"creation_date":1637223239,"post_id":70012770,"comment_id":123769817,"body_markdown":"I got there tables on my postgres event, event_notification_user, notification_user","body":"I got there tables on my postgres event, event_notification_user, notification_user"}],"owner":{"account_id":23372019,"reputation":1,"user_id":17442712,"display_name":"Stephan G&#228;rtner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637219005,"creation_date":1637191105,"question_id":70012770,"body_markdown":"I have two models: Events and NotificationUser. \r\n\r\nAn Event can have many Users and a User can have many Events. I build 2 Models.\r\n\r\nEvent\r\n```\r\npublic class Event {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n    private String name;\r\n    @ElementCollection\r\n    private List&lt;Action&gt; actions;\r\n    private String description;\r\n    @ManyToMany\r\n    private List&lt;NotificationUser&gt; notificationUser;\r\n}\r\n```\r\n\r\nNotificationUser\r\n```\r\npublic class NotificationUser {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n    private String email;\r\n    private String name;\r\n}\r\n```\r\nI can create events and I can create users. I can also delete events but, I cannot delete users. I get the following message:\r\n\r\n```\r\nupdate or delete on table &quot;notification_user&quot; violates foreign key constraint &quot;fkjuklqmawfcf1ein89djo7945t&quot; on table &quot;event_notification_user&quot;\r\n  Detail: Key (id)=(12) is still referenced from table &quot;event_notification_user&quot;\r\n```\r\n\r\nI don&#39;t understand the Annotations to set on the models.\r\n\r\nIs there a simple way to handle the relations? I don&#39;t want to get my repo locked for some simple stuff like deletions. That&#39;s the reason why I use JPARepository.\r\n\r\nThanks for your time.\r\n","title":"JpaRepository ManyToMany Deletion problem","body":"<p>I have two models: Events and NotificationUser.</p>\n<p>An Event can have many Users and a User can have many Events. I build 2 Models.</p>\n<p>Event</p>\n<pre><code>public class Event {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    private String name;\n    @ElementCollection\n    private List&lt;Action&gt; actions;\n    private String description;\n    @ManyToMany\n    private List&lt;NotificationUser&gt; notificationUser;\n}\n</code></pre>\n<p>NotificationUser</p>\n<pre><code>public class NotificationUser {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    private String email;\n    private String name;\n}\n</code></pre>\n<p>I can create events and I can create users. I can also delete events but, I cannot delete users. I get the following message:</p>\n<pre><code>update or delete on table &quot;notification_user&quot; violates foreign key constraint &quot;fkjuklqmawfcf1ein89djo7945t&quot; on table &quot;event_notification_user&quot;\n  Detail: Key (id)=(12) is still referenced from table &quot;event_notification_user&quot;\n</code></pre>\n<p>I don't understand the Annotations to set on the models.</p>\n<p>Is there a simple way to handle the relations? I don't want to get my repo locked for some simple stuff like deletions. That's the reason why I use JPARepository.</p>\n<p>Thanks for your time.</p>\n"},{"tags":["java","computer-science"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637216480,"post_id":70015359,"comment_id":123767972,"body_markdown":"dead code - why have a loop when you force it only to iterate once?  b) return value - what do you think can be returned if the Array is empty?","body":"dead code - why have a loop when you force it only to iterate once?  b) return value - what do you think can be returned if the Array is empty?"},{"owner":{"account_id":22966285,"reputation":41,"user_id":17304734,"display_name":"ArtStyle.Qwerty"},"score":0,"creation_date":1637217068,"post_id":70015359,"comment_id":123768110,"body_markdown":"I use loop because once toString is called, I want to display all info stored in each array element. Is there any other way to make this? If the array is empty, it should return NULL?","body":"I use loop because once toString is called, I want to display all info stored in each array element. Is there any other way to make this? If the array is empty, it should return NULL?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637218954,"post_id":70015359,"comment_id":123768559,"body_markdown":"I have made an answer below","body":"I have made an answer below"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637218716,"creation_date":1637218716,"answer_id":70015664,"question_id":70015359,"body_markdown":"I suggest that you change your code to\r\n\r\n    public String toString()\r\n    {\r\n        \r\n        if(groceries==null)\r\n        {   \r\n            return &quot;No Groceries&quot;;\r\n        }\r\n    \r\n        return Arrays.toString (groceries);\r\n\r\nOr if you really want to loop, then you will ned to appended each item\r\n\r\n    StringBuilder rv = new StringBuilder ();\r\n    else\r\n    {\r\n        for(int n=0; n&lt;groceries.length; n++)\r\n        {   \r\n            String str=groceries[n].toString();\r\n            rv.append (str);\r\n            rv.append (&quot;,&quot;);\r\n        }\r\n    }\r\n    return rv.toString ();\r\n\r\n\r\nThere are other ways as well.    \r\n\r\n","title":"Error Codes: This method must return a result of type String &amp;&amp; dead code in a for loop within the toString method","body":"<p>I suggest that you change your code to</p>\n<pre><code>public String toString()\n{\n    \n    if(groceries==null)\n    {   \n        return &quot;No Groceries&quot;;\n    }\n\n    return Arrays.toString (groceries);\n</code></pre>\n<p>Or if you really want to loop, then you will ned to appended each item</p>\n<pre><code>StringBuilder rv = new StringBuilder ();\nelse\n{\n    for(int n=0; n&lt;groceries.length; n++)\n    {   \n        String str=groceries[n].toString();\n        rv.append (str);\n        rv.append (&quot;,&quot;);\n    }\n}\nreturn rv.toString ();\n</code></pre>\n<p>There are other ways as well.</p>\n"}],"owner":{"account_id":22966285,"reputation":41,"user_id":17304734,"display_name":"ArtStyle.Qwerty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70015664,"answer_count":1,"score":0,"last_activity_date":1637218716,"creation_date":1637216321,"question_id":70015359,"body_markdown":" This is the toString method.    groceries[] is Type Geoceries, length of 6, values have been assigned eariler. There are two mistakes. One is on return a result of type String, which I did, second mistake is n++ is dead code. What should I do if I want to return information of groceries[1], groceries[2],...                                                           \r\n    \r\n\r\n    public String toString()//Error:This method must return a result of type String\r\n\t{\r\n\t\t\r\n\t\tif(groceries==null)\r\n\t\t{\t\r\n\t\t\treturn &quot;No Groceries&quot;;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor(int n=0; n&lt;groceries.length; n++)//n++ is dead code\r\n\t\t\t{\tString str=groceries[n].toString();//this toString is from Groceries Class\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n","title":"Error Codes: This method must return a result of type String &amp;&amp; dead code in a for loop within the toString method","body":"<p>This is the toString method.    groceries[] is Type Geoceries, length of 6, values have been assigned eariler. There are two mistakes. One is on return a result of type String, which I did, second mistake is n++ is dead code. What should I do if I want to return information of groceries[1], groceries[2],...</p>\n<pre><code>public String toString()//Error:This method must return a result of type String\n{\n    \n    if(groceries==null)\n    {   \n        return &quot;No Groceries&quot;;\n    }\n    else\n    {\n        for(int n=0; n&lt;groceries.length; n++)//n++ is dead code\n        {   String str=groceries[n].toString();//this toString is from Groceries Class\n            return str;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":259908,"reputation":4688,"user_id":543136,"display_name":"TofferJ"},"score":0,"creation_date":1637200301,"post_id":70012688,"comment_id":123765241,"body_markdown":"Please double check that you have a button in your activity_main layout file with the attribute android:id=&quot;@+id/button1&quot;","body":"Please double check that you have a button in your activity_main layout file with the attribute android:id=&quot;@+id/button1&quot;"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1637201596,"post_id":70012688,"comment_id":123765460,"body_markdown":"Re duplink.  Look specifically look at section 4.6 of the accepted answer ... issues with `R` on Android.","body":"Re duplink.  Look specifically look at section 4.6 of the accepted answer ... issues with <code>R</code> on Android."}],"answers":[{"tags":[],"owner":{"account_id":23190489,"reputation":178,"user_id":17286933,"display_name":"Meggrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637201034,"creation_date":1637201034,"answer_id":70013713,"question_id":70012688,"body_markdown":"Check the XML file where you places the button. There is a discrepancy of the id in XML and that in your Java file.\r\n\r\nensure this is how the Button attribute looks\r\n``` \r\n&lt;Button\r\nandroid:id=&quot;@+id/button1\r\n\r\n.../&gt;\r\n```","title":"Cannot resolve symbol button error -android studio","body":"<p>Check the XML file where you places the button. There is a discrepancy of the id in XML and that in your Java file.</p>\n<p>ensure this is how the Button attribute looks</p>\n<pre><code>&lt;Button\nandroid:id=&quot;@+id/button1\n\n.../&gt;\n</code></pre>\n"}],"owner":{"account_id":23364054,"reputation":1,"user_id":17435870,"display_name":"Yun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637201554,"answer_count":1,"score":0,"last_activity_date":1637218678,"creation_date":1637190348,"question_id":70012688,"body_markdown":"I got `Cannot resolve symbol button1` error from my code `R.id.button1`.\r\nI imported `android.widget.Button` and declared a variable `button1` properly but I couldn&#39;t fix this error.\r\n\r\nHere&#39;s my code:\r\n```\r\n    import android.content.Intent;\r\n    import android.graphics.Color;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    Button button1;\r\n    Button button2;\r\n    Button button3;\r\n    Button button4;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        button1 = (Button) findViewById(R.id.button1);\r\n        button1.setBackgroundColor(Color.GRAY);\r\n        button1.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n\r\n                Toast.makeText(getApplicationContext(),&quot;Open the website&quot;,Toast.LENGTH_SHORT).show();\r\n                Intent mIntent=new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://m.google.com&quot;));startActivity(mIntent);\r\n            }\r\n                                   });\r\n```","title":"Cannot resolve symbol button error -android studio","body":"<p>I got <code>Cannot resolve symbol button1</code> error from my code <code>R.id.button1</code>.\nI imported <code>android.widget.Button</code> and declared a variable <code>button1</code> properly but I couldn't fix this error.</p>\n<p>Here's my code:</p>\n<pre><code>    import android.content.Intent;\n    import android.graphics.Color;\n    import android.net.Uri;\n    import android.os.Bundle;\n    import android.view.View;\n    import android.widget.Button;\n    import android.widget.Toast;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    public class MainActivity extends AppCompatActivity {\n    Button button1;\n    Button button2;\n    Button button3;\n    Button button4;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        button1 = (Button) findViewById(R.id.button1);\n        button1.setBackgroundColor(Color.GRAY);\n        button1.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View view) {\n\n                Toast.makeText(getApplicationContext(),&quot;Open the website&quot;,Toast.LENGTH_SHORT).show();\n                Intent mIntent=new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://m.google.com&quot;));startActivity(mIntent);\n            }\n                                   });\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637216968,"post_id":70015407,"comment_id":123768091,"body_markdown":"Remove `@ContextConfiguration`, add `@AutoConfigureMockMvc`. Ditch the `@Before` annotated method and add `@Autowired` to the `MockMvc` field. Then re-run the test.","body":"Remove <code>@ContextConfiguration</code>, add <code>@AutoConfigureMockMvc</code>. Ditch the <code>@Before</code> annotated method and add <code>@Autowired</code> to the <code>MockMvc</code> field. Then re-run the test."},{"owner":{"account_id":17426413,"reputation":110,"user_id":12631250,"display_name":"Lee Jeonghyun"},"score":0,"creation_date":1637217283,"post_id":70015407,"comment_id":123768149,"body_markdown":"Removing `@ContextConfiguration` causes `IllegalStateException` so I can&#39;t run the test without it.","body":"Removing <code>@ContextConfiguration</code> causes <code>IllegalStateException</code> so I can&#39;t run the test without it."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637217369,"post_id":70015407,"comment_id":123768164,"body_markdown":"Which is weird as it should automatically detect the `@SpringBootApplication` annotated class (unless you have some weirdish non standard packaging structure). Could you add the exception (the **full exception stacktrace**) to your question as an update.","body":"Which is weird as it should automatically detect the <code>@SpringBootApplication</code> annotated class (unless you have some weirdish non standard packaging structure). Could you add the exception (the <b>full exception stacktrace</b>) to your question as an update."},{"owner":{"account_id":1949371,"reputation":997,"user_id":1753823,"display_name":"Jayesh"},"score":0,"creation_date":1637217447,"post_id":70015407,"comment_id":123768182,"body_markdown":"In your test is this really? `@ContextConfiguration(classes = MyApplication.class)` or `@ContextConfiguration(classes = WebConfig.class)` or is it just an example you posted ?","body":"In your test is this really? <code>@ContextConfiguration(classes = MyApplication.class)</code> or <code>@ContextConfiguration(classes = WebConfig.class)</code> or is it just an example you posted ?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"score":0,"creation_date":1637217858,"post_id":70015407,"comment_id":123768293,"body_markdown":"It is better to use @AutoConfiguraMockMvc and you can autowire it in integration-test","body":"It is better to use @AutoConfiguraMockMvc and you can autowire it in integration-test"}],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan İlleez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637218328,"creation_date":1637218025,"answer_id":70015561,"question_id":70015407,"body_markdown":"    this.mockMvc = MockMvcBuilders.webApplicationSetup(ctx)\r\n                .addFilters(filter).build();\r\n\r\nIf you don&#39;t use @AutoConfiguraMockMvc then you have to add filters to mockMvc builder.\r\n\r\n\r\nhttps://stackoverflow.com/questions/20819130/whats-required-to-make-mockmvc-test-a-filters-init-routine\r\n\r\nAlso there is a configuration problem here.\r\n\r\n\r\n    @Bean\r\n      public FilterRegistrationBean&lt;MyFilter&gt; myFilter(MyFilter myfilter) { // This part is getting invoked\r\n        regBean = new FilterRegistrationBean();\r\n        regBean.setFilter(myFilter);\r\n        regBean.setOrder(0);\r\n        return regBean;\r\n      }\r\n\r\n\r\nYou are putting new Instance of a filter to filter chain but you create singleton filter. You can use above configuration.","title":"Spring filter chain is not applied on unit test MockMvc","body":"<pre><code>this.mockMvc = MockMvcBuilders.webApplicationSetup(ctx)\n            .addFilters(filter).build();\n</code></pre>\n<p>If you don't use @AutoConfiguraMockMvc then you have to add filters to mockMvc builder.</p>\n<p><a href=\"https://stackoverflow.com/questions/20819130/whats-required-to-make-mockmvc-test-a-filters-init-routine\">What&#39;s required to make mockMVC test a filter&#39;s init routine?</a></p>\n<p>Also there is a configuration problem here.</p>\n<pre><code>@Bean\n  public FilterRegistrationBean&lt;MyFilter&gt; myFilter(MyFilter myfilter) { // This part is getting invoked\n    regBean = new FilterRegistrationBean();\n    regBean.setFilter(myFilter);\n    regBean.setOrder(0);\n    return regBean;\n  }\n</code></pre>\n<p>You are putting new Instance of a filter to filter chain but you create singleton filter. You can use above configuration.</p>\n"}],"owner":{"account_id":17426413,"reputation":110,"user_id":12631250,"display_name":"Lee Jeonghyun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70015561,"answer_count":1,"score":1,"last_activity_date":1637218328,"creation_date":1637216829,"question_id":70015407,"body_markdown":"I made a custom filter and registered on WebConfig, but when I call the api, the filter does not get invoked. I looked through the log, and seems like filter chain I described on the config is not applied. However I checked WebConfig is invoked using debugger.\r\n\r\n```java\r\n//MyFilter.java\r\n@Component\r\npublic class MyFilter implements Filter {\r\n  @Override\r\n  doFilter(...) { // This part is NOT getting invoked\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n//WebConfig.java\r\n@Configuration\r\npublic class WebConfig {\r\n  @Bean\r\n  public FilterRegistrationBean&lt;MyFilter&gt; myFilter() { // This part is getting invoked\r\n    regBean = new FilterRegistrationBean();\r\n    regBean.setFilter(new MyFilter());\r\n    regBean.setOrder(0);\r\n    return regBean;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n//MyTest.java\r\n@SpringBootTest\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(classes = MyApplication.class)\r\npublic class MyTest {\r\n  \r\n  private MockMvc mockMvc;\r\n\r\n  @Autowired\r\n  WebApplicationContext ctx;\r\n\r\n  @Before\r\n  public void before() {\r\n    mockMvc = MockMvcBuilders.webApplicationSetup(ctx).build();\r\n  }\r\n\r\n  @Test\r\n  public void doTest() {\r\n    mockMvc.perform(...);\r\n  }\r\n}\r\n```","title":"Spring filter chain is not applied on unit test MockMvc","body":"<p>I made a custom filter and registered on WebConfig, but when I call the api, the filter does not get invoked. I looked through the log, and seems like filter chain I described on the config is not applied. However I checked WebConfig is invoked using debugger.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//MyFilter.java\n@Component\npublic class MyFilter implements Filter {\n  @Override\n  doFilter(...) { // This part is NOT getting invoked\n    ...\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//WebConfig.java\n@Configuration\npublic class WebConfig {\n  @Bean\n  public FilterRegistrationBean&lt;MyFilter&gt; myFilter() { // This part is getting invoked\n    regBean = new FilterRegistrationBean();\n    regBean.setFilter(new MyFilter());\n    regBean.setOrder(0);\n    return regBean;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//MyTest.java\n@SpringBootTest\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = MyApplication.class)\npublic class MyTest {\n  \n  private MockMvc mockMvc;\n\n  @Autowired\n  WebApplicationContext ctx;\n\n  @Before\n  public void before() {\n    mockMvc = MockMvcBuilders.webApplicationSetup(ctx).build();\n  }\n\n  @Test\n  public void doTest() {\n    mockMvc.perform(...);\n  }\n}\n</code></pre>\n"},{"tags":["java","web-services","authentication","soap","webservice-client"],"answers":[{"tags":[],"owner":{"account_id":5658949,"reputation":106,"user_id":4477126,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1421825537,"creation_date":1421825537,"answer_id":28061777,"question_id":23919680,"body_markdown":"WS-Security defines password digest as \r\n\r\n&gt; Base64 ( SHA1 ( nonce + created + password ) )\r\n\r\nnot \r\n\r\n&gt; Base64 ( SHA1 (  password + nonce + created) )\r\n\r\nAnd nonce is supposed to be 128 bits (16 bytes) encoded as Base64. \r\ne.g.\r\n\r\n    java.security.SecureRandom random = java.security.SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\r\n    random.setSeed(System.currentTimeMillis()); \r\n    byte[] nonceBytes = new byte[16]; \r\n    random.nextBytes(nonceBytes); \r\n    String nonce = new String(org.apache.commons.codec.binary.Base64.encodeBase64(nonceBytes), &quot;UTF-8&quot;);","title":"How to create Password Digest for use with Web Service?","body":"<p>WS-Security defines password digest as </p>\n\n<blockquote>\n  <p>Base64 ( SHA1 ( nonce + created + password ) )</p>\n</blockquote>\n\n<p>not </p>\n\n<blockquote>\n  <p>Base64 ( SHA1 (  password + nonce + created) )</p>\n</blockquote>\n\n<p>And nonce is supposed to be 128 bits (16 bytes) encoded as Base64. \ne.g.</p>\n\n<pre><code>java.security.SecureRandom random = java.security.SecureRandom.getInstance(\"SHA1PRNG\");\nrandom.setSeed(System.currentTimeMillis()); \nbyte[] nonceBytes = new byte[16]; \nrandom.nextBytes(nonceBytes); \nString nonce = new String(org.apache.commons.codec.binary.Base64.encodeBase64(nonceBytes), \"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":937533,"reputation":4930,"user_id":966185,"accept_rate":81,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577451338,"creation_date":1577451338,"answer_id":59501119,"question_id":23919680,"body_markdown":"The nonce and the digest of the password should be constructed, as it done in the snippet below. \r\n\r\nPlease, note the order of the elements, and the fact that the non-encoded version of the `nonce` is used for `passwordDigest` construction.\r\n\r\n    import javax.xml.datatype.*;\r\n    import java.security.*;\r\n    import java.time.Instant;\r\n    import java.util.Base64;\r\n    \r\n    import static java.lang.System.currentTimeMillis;\r\n    import static java.nio.charset.StandardCharsets.UTF_8;\r\n    \r\n    class Snippet {\r\n    \r\n        private static final SecureRandom RANDOM;\r\n        private static final int NONCE_SIZE_IN_BYTES = 16;\r\n        private static final String MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1 = &quot;SHA-1&quot;;\r\n        private static final String SECURE_RANDOM_ALGORITHM_SHA_1_PRNG = &quot;SHA1PRNG&quot;;\r\n    \r\n        static {\r\n            try {\r\n                RANDOM = SecureRandom.getInstance(SECURE_RANDOM_ALGORITHM_SHA_1_PRNG);\r\n                RANDOM.setSeed(currentTimeMillis());\r\n            } catch (NoSuchAlgorithmException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws DatatypeConfigurationException {\r\n            final var nonceBytes = generateNonce();\r\n    \r\n            final var password = &quot;password&quot;;\r\n            final var createdDate = DatatypeFactory.newInstance().newXMLGregorianCalendar(Instant.now().toString());\r\n            final var passwordDigestBytes = constructPasswordDigest(nonceBytes, createdDate, password);\r\n    \r\n            final var base64Encoder = Base64.getEncoder();\r\n            final var nonceBase64Encoded = base64Encoder.encodeToString(nonceBytes);\r\n            final var passwordDigestBase64Encoded = base64Encoder.encodeToString(passwordDigestBytes);\r\n            System.out.println(String.format(&quot;nonce: [%s], password digest: [%s]&quot;, nonceBase64Encoded, passwordDigestBase64Encoded));\r\n            System.out.flush();\r\n        }\r\n    \r\n        private static byte[] generateNonce() {\r\n            var nonceBytes = new byte[NONCE_SIZE_IN_BYTES];\r\n            RANDOM.nextBytes(nonceBytes);\r\n            return nonceBytes;\r\n        }\r\n    \r\n        /**\r\n         * @noinspection SameParameterValue\r\n         */\r\n        private static byte[] constructPasswordDigest(byte[] nonceBytes, XMLGregorianCalendar createdDate, String password) {\r\n            try {\r\n                final var sha1MessageDigest = MessageDigest.getInstance(MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1);\r\n                sha1MessageDigest.update(nonceBytes);\r\n                final var createdDateAsString = createdDate.toString();\r\n                sha1MessageDigest.update(createdDateAsString.getBytes(UTF_8));\r\n                sha1MessageDigest.update(password.getBytes(UTF_8));\r\n                return sha1MessageDigest.digest();\r\n            } catch (NoSuchAlgorithmException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nThe output of this snippet is:\r\n&gt; nonce: [KEyJbsmxL1JdsDHo7kWD6Q==], password digest: [+OiJDs2sEycZECHhQdJ8T9Lt2ns=]","title":"How to create Password Digest for use with Web Service?","body":"<p>The nonce and the digest of the password should be constructed, as it done in the snippet below. </p>\n\n<p>Please, note the order of the elements, and the fact that the non-encoded version of the <code>nonce</code> is used for <code>passwordDigest</code> construction.</p>\n\n<pre><code>import javax.xml.datatype.*;\nimport java.security.*;\nimport java.time.Instant;\nimport java.util.Base64;\n\nimport static java.lang.System.currentTimeMillis;\nimport static java.nio.charset.StandardCharsets.UTF_8;\n\nclass Snippet {\n\n    private static final SecureRandom RANDOM;\n    private static final int NONCE_SIZE_IN_BYTES = 16;\n    private static final String MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1 = \"SHA-1\";\n    private static final String SECURE_RANDOM_ALGORITHM_SHA_1_PRNG = \"SHA1PRNG\";\n\n    static {\n        try {\n            RANDOM = SecureRandom.getInstance(SECURE_RANDOM_ALGORITHM_SHA_1_PRNG);\n            RANDOM.setSeed(currentTimeMillis());\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) throws DatatypeConfigurationException {\n        final var nonceBytes = generateNonce();\n\n        final var password = \"password\";\n        final var createdDate = DatatypeFactory.newInstance().newXMLGregorianCalendar(Instant.now().toString());\n        final var passwordDigestBytes = constructPasswordDigest(nonceBytes, createdDate, password);\n\n        final var base64Encoder = Base64.getEncoder();\n        final var nonceBase64Encoded = base64Encoder.encodeToString(nonceBytes);\n        final var passwordDigestBase64Encoded = base64Encoder.encodeToString(passwordDigestBytes);\n        System.out.println(String.format(\"nonce: [%s], password digest: [%s]\", nonceBase64Encoded, passwordDigestBase64Encoded));\n        System.out.flush();\n    }\n\n    private static byte[] generateNonce() {\n        var nonceBytes = new byte[NONCE_SIZE_IN_BYTES];\n        RANDOM.nextBytes(nonceBytes);\n        return nonceBytes;\n    }\n\n    /**\n     * @noinspection SameParameterValue\n     */\n    private static byte[] constructPasswordDigest(byte[] nonceBytes, XMLGregorianCalendar createdDate, String password) {\n        try {\n            final var sha1MessageDigest = MessageDigest.getInstance(MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1);\n            sha1MessageDigest.update(nonceBytes);\n            final var createdDateAsString = createdDate.toString();\n            sha1MessageDigest.update(createdDateAsString.getBytes(UTF_8));\n            sha1MessageDigest.update(password.getBytes(UTF_8));\n            return sha1MessageDigest.digest();\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n\n<p>The output of this snippet is:</p>\n\n<blockquote>\n  <p>nonce: [KEyJbsmxL1JdsDHo7kWD6Q==], password digest: [+OiJDs2sEycZECHhQdJ8T9Lt2ns=]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16313002,"reputation":353,"user_id":12701803,"display_name":"Felipe La Rotta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637218136,"creation_date":1637218136,"answer_id":70015573,"question_id":23919680,"body_markdown":"After days and days of searching, Pavel&#39;s answer was the only one that worked for me. The only changes I made to his code are 1) Returning the date of token creation, among with nonce and password digest. This is critical to avoid the &quot;expired token&quot; response. 2) returning the whole header block 3) converting the code to Java 1.8.\r\n\r\nHere&#39;s the modified Pavel&#39;s code.\r\n\r\n    package test;\r\n\r\n    import javax.xml.datatype.*;\r\n    import java.security.*;\r\n    import java.time.Instant;\r\n    import java.util.Base64;\r\n    import java.util.Base64.Encoder;\r\n\r\n    import static java.lang.System.currentTimeMillis;\r\n    import static java.nio.charset.StandardCharsets.UTF_8;\r\n\r\n    public class Main {\r\n\r\n\tprivate static final SecureRandom RANDOM;\r\n\tprivate static final int NONCE_SIZE_IN_BYTES = 16;\r\n\tprivate static final String MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1 = &quot;SHA-1&quot;;\r\n\tprivate static final String SECURE_RANDOM_ALGORITHM_SHA_1_PRNG = &quot;SHA1PRNG&quot;;\r\n\r\n\tstatic {\r\n\t\ttry {\r\n\t\t\tRANDOM = SecureRandom.getInstance(SECURE_RANDOM_ALGORITHM_SHA_1_PRNG);\r\n\t\t\tRANDOM.setSeed(currentTimeMillis());\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws DatatypeConfigurationException {\r\n\t\t\r\n\t\tString passwordMd5 = &quot;4C2d85FBEE80145B4&quot;;\r\n\r\n\t\tgenerateHeader(passwordMd5);\r\n\r\n\t}\r\n\r\n\tpublic static void generateHeader(String password) throws DatatypeConfigurationException {\r\n\r\n\t\tfinal byte[] nonceBytes = generateNonce();\r\n\r\n\t\tfinal XMLGregorianCalendar createdDate = DatatypeFactory.newInstance()\r\n\t\t\t\t.newXMLGregorianCalendar(Instant.now().toString());\r\n\t\tfinal byte[] passwordDigestBytes = constructPasswordDigest(nonceBytes, createdDate, password);\r\n\r\n\t\tfinal Encoder base64Encoder = Base64.getEncoder();\r\n\t\tfinal String nonceBase64Encoded = base64Encoder.encodeToString(nonceBytes);\r\n\t\tfinal String passwordDigestBase64Encoded = base64Encoder.encodeToString(passwordDigestBytes);\r\n\t\t\r\n\t\t//System.out.println(String.format(&quot;nonce: [%s], password digest: [%s]&quot;, nonceBase64Encoded, passwordDigestBase64Encoded));\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\r\n\t\tsb.append(&quot;&lt;soapenv:Header&gt;\\n&quot;);\r\n\t\tsb.append(&quot;&lt;wsse:Security xmlns:wsse=\\&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\\&quot;&gt;\\n&quot;);\r\n\t\t\r\n\t\tsb.append(&quot;&lt;wsse:UsernameToken&gt;&quot;);\r\n\t\tsb.append(&quot;&lt;wsse:Username&gt;thisIsMyUsername&lt;/wsse:Username&gt;&quot;);\r\n\t\t\r\n\t\tsb.append(&quot;&lt;wsse:Password Type=\\&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest\\&quot;&gt;&quot;+\r\n\t\tpasswordDigestBase64Encoded+&quot;&lt;/wsse:Password&gt;\\n&quot;);\r\n\t\t\r\n\t\tsb.append(&quot;&lt;wsse:Nonce EncodingType=\\&quot;http://docs.oasis-open.org/wss/2004 /01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\\&quot;&gt;&quot; +\r\n\t\tnonceBase64Encoded+&quot;&lt;/wsse:Nonce&gt;\\n&quot;);\r\n\t\t\r\n\t\tsb.append(&quot;&lt;wsu:Created xmlns:wsu=\\&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\\&quot;&gt;&quot; +\r\n\t\tcreatedDate.toString()+&quot;&lt;/wsu:Created&gt;\\n&quot;);\r\n\t\t\r\n\t\tsb.append(&quot;&lt;/wsse:UsernameToken&gt;\\n&quot;);\r\n\t\tsb.append(&quot;&lt;/wsse:Security&gt;\\n&quot;);\r\n\t\tsb.append(&quot;&lt;/soapenv:Header&gt;&quot;);\r\n\r\n\t\t\r\n\t\tSystem.out.println(sb.toString());\r\n\t\t\r\n\t\tSystem.out.flush();\r\n\t\t\r\n\t\tSystem.exit(0);\r\n\t}\r\n\r\n\tprivate static byte[] generateNonce() {\r\n\t\tbyte[] nonceBytes = new byte[NONCE_SIZE_IN_BYTES];\r\n\t\tRANDOM.nextBytes(nonceBytes);\r\n\t\treturn nonceBytes;\r\n\t}\r\n\r\n\tprivate static byte[] constructPasswordDigest(byte[] nonceBytes, XMLGregorianCalendar createdDate,\r\n\t\t\tString password) {\r\n\t\ttry {\r\n\t\t\tfinal MessageDigest sha1MessageDigest = MessageDigest.getInstance(MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1);\r\n\t\t\tsha1MessageDigest.update(nonceBytes);\r\n\t\t\tfinal String createdDateAsString = createdDate.toString();\r\n\t\t\r\n\r\n\t\t\tsha1MessageDigest.update(createdDateAsString.getBytes(UTF_8));\r\n\t\t\tsha1MessageDigest.update(password.getBytes(UTF_8));\r\n\t\t\treturn sha1MessageDigest.digest();\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n","title":"How to create Password Digest for use with Web Service?","body":"<p>After days and days of searching, Pavel's answer was the only one that worked for me. The only changes I made to his code are 1) Returning the date of token creation, among with nonce and password digest. This is critical to avoid the &quot;expired token&quot; response. 2) returning the whole header block 3) converting the code to Java 1.8.</p>\n<p>Here's the modified Pavel's code.</p>\n<pre><code>package test;\n\nimport javax.xml.datatype.*;\nimport java.security.*;\nimport java.time.Instant;\nimport java.util.Base64;\nimport java.util.Base64.Encoder;\n\nimport static java.lang.System.currentTimeMillis;\nimport static java.nio.charset.StandardCharsets.UTF_8;\n\npublic class Main {\n\nprivate static final SecureRandom RANDOM;\nprivate static final int NONCE_SIZE_IN_BYTES = 16;\nprivate static final String MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1 = &quot;SHA-1&quot;;\nprivate static final String SECURE_RANDOM_ALGORITHM_SHA_1_PRNG = &quot;SHA1PRNG&quot;;\n\nstatic {\n    try {\n        RANDOM = SecureRandom.getInstance(SECURE_RANDOM_ALGORITHM_SHA_1_PRNG);\n        RANDOM.setSeed(currentTimeMillis());\n    } catch (NoSuchAlgorithmException e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic static void main(String[] args) throws DatatypeConfigurationException {\n    \n    String passwordMd5 = &quot;4C2d85FBEE80145B4&quot;;\n\n    generateHeader(passwordMd5);\n\n}\n\npublic static void generateHeader(String password) throws DatatypeConfigurationException {\n\n    final byte[] nonceBytes = generateNonce();\n\n    final XMLGregorianCalendar createdDate = DatatypeFactory.newInstance()\n            .newXMLGregorianCalendar(Instant.now().toString());\n    final byte[] passwordDigestBytes = constructPasswordDigest(nonceBytes, createdDate, password);\n\n    final Encoder base64Encoder = Base64.getEncoder();\n    final String nonceBase64Encoded = base64Encoder.encodeToString(nonceBytes);\n    final String passwordDigestBase64Encoded = base64Encoder.encodeToString(passwordDigestBytes);\n    \n    //System.out.println(String.format(&quot;nonce: [%s], password digest: [%s]&quot;, nonceBase64Encoded, passwordDigestBase64Encoded));\n\n    StringBuilder sb = new StringBuilder();\n\n    sb.append(&quot;&lt;soapenv:Header&gt;\\n&quot;);\n    sb.append(&quot;&lt;wsse:Security xmlns:wsse=\\&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\\&quot;&gt;\\n&quot;);\n    \n    sb.append(&quot;&lt;wsse:UsernameToken&gt;&quot;);\n    sb.append(&quot;&lt;wsse:Username&gt;thisIsMyUsername&lt;/wsse:Username&gt;&quot;);\n    \n    sb.append(&quot;&lt;wsse:Password Type=\\&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest\\&quot;&gt;&quot;+\n    passwordDigestBase64Encoded+&quot;&lt;/wsse:Password&gt;\\n&quot;);\n    \n    sb.append(&quot;&lt;wsse:Nonce EncodingType=\\&quot;http://docs.oasis-open.org/wss/2004 /01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\\&quot;&gt;&quot; +\n    nonceBase64Encoded+&quot;&lt;/wsse:Nonce&gt;\\n&quot;);\n    \n    sb.append(&quot;&lt;wsu:Created xmlns:wsu=\\&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\\&quot;&gt;&quot; +\n    createdDate.toString()+&quot;&lt;/wsu:Created&gt;\\n&quot;);\n    \n    sb.append(&quot;&lt;/wsse:UsernameToken&gt;\\n&quot;);\n    sb.append(&quot;&lt;/wsse:Security&gt;\\n&quot;);\n    sb.append(&quot;&lt;/soapenv:Header&gt;&quot;);\n\n    \n    System.out.println(sb.toString());\n    \n    System.out.flush();\n    \n    System.exit(0);\n}\n\nprivate static byte[] generateNonce() {\n    byte[] nonceBytes = new byte[NONCE_SIZE_IN_BYTES];\n    RANDOM.nextBytes(nonceBytes);\n    return nonceBytes;\n}\n\nprivate static byte[] constructPasswordDigest(byte[] nonceBytes, XMLGregorianCalendar createdDate,\n        String password) {\n    try {\n        final MessageDigest sha1MessageDigest = MessageDigest.getInstance(MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1);\n        sha1MessageDigest.update(nonceBytes);\n        final String createdDateAsString = createdDate.toString();\n    \n\n        sha1MessageDigest.update(createdDateAsString.getBytes(UTF_8));\n        sha1MessageDigest.update(password.getBytes(UTF_8));\n        return sha1MessageDigest.digest();\n    } catch (NoSuchAlgorithmException e) {\n        throw new RuntimeException(e);\n    }\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":2807358,"reputation":769,"user_id":2414327,"accept_rate":56,"display_name":"svager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30572,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":28061777,"answer_count":3,"score":8,"last_activity_date":1637218136,"creation_date":1401303293,"question_id":23919680,"body_markdown":"I am trying to create a passwordDigest util which can be used in different environments which are capable of running java byte code.\r\n\r\nFirst of all I create nonce. It is done like so.\r\n\r\n    public static String buildNonce(){\r\n    \t\tStringBuffer nonce=new StringBuffer();\r\n    \t\tString dateTimeString = Long.toString(new Date().getTime());\r\n    \t\tbyte[] nonceByte= dateTimeString.getBytes();\r\n    \t\treturn Base64.encode(nonceByte);\r\n    \t}\r\n\r\nOnce I have nonce, I build password digest.\r\n\r\n\tpublic static String buildPasswordDigest(String userName, String password, String nonce, String dateTime){\r\n\t\tMessageDigest sha1;\r\n\t\tString passwordDigest=null;\r\n\t\ttry {\r\n\t\t\tsha1= MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n\t\t\tbyte[] hash = MessageDigest.getInstance(&quot;SHA-1&quot;).digest(password.getBytes(&quot;UTF-8&quot;));\r\n\t\t\tsha1.update(nonce.getBytes(&quot;UTF-8&quot;));\r\n\t\t\tsha1.update(dateTime.getBytes(&quot;UTF-8&quot;));\r\n\t\t\tpasswordDigest = new String(Base64.encode(sha1.digest(hash)));\r\n\t\t\tsha1.reset();\r\n\t\t} catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn passwordDigest;\r\n\r\nIn order to test that everything works correctly. I have created a test web service using CXF 2.7. I have manually created SOAP Envelope to test authentication. The envelope looks like this.\r\n\r\n     &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; \r\n     \t\t\t    xmlns:ws=&quot;http://ws.mytest.org/&quot; \r\n     \t\t\t    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance/&quot;&gt;\r\n     \t&lt;soapenv:Header&gt;\r\n     \t\t&lt;wsse:Security soapenv:mustUnderstand=&quot;1&quot; \r\n     \t\t  xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; \r\n     \t\t  xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n     \t\t  &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-2&quot;&gt;\r\n     \t\t\t&lt;wsse:Username&gt;TEST_USER&lt;/wsse:Username&gt;\r\n     \t\t\t&lt;wsse:Password \r\n     \t\t\tType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest&quot;&gt;UZsDSW/vANu6fHg4rAHo2OwsF9s=&lt;/wsse:Password\r\n     \t\t\t&lt;wsse:Nonce&gt;MTQwMTMwMDQzNjA3OA==&lt;/wsse:Nonce&gt;\r\n     \t\t\t&lt;wsu:Created&gt;2014-05-28T18:07:16.087Z&lt;/wsu:Created&gt;\r\n     \t\t &lt;/wsse:UsernameToken&gt;\r\n    \t\t&lt;/wsse:Security&gt;\r\n    \t&lt;/soapenv:Header&gt;\r\n    \t&lt;soapenv:Body&gt;\r\n    \t\t&lt;ws:record&gt;\r\n    \t\t\t&lt;val1&gt;1&lt;/val1&gt;\r\n    \t\t\t&lt;val2&gt;Some Text&lt;/val2&gt;\r\n    \t\t&lt;/ws:record&gt;\r\n    \t&lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nWhen I send the envelope using SOAP UI. I get the following authentication error.\r\n\r\n    WARNING: Interceptor for {http://ws.mytest.org/}TestService has thrown exception, unwinding now\r\n    org.apache.cxf.binding.soap.SoapFault: The security token could not be authenticated or authorized\r\n    \tat org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.createSoapFault(WSS4JInInterceptor.java:788)\r\n    \tat org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.handleMessage(WSS4JInInterceptor.java:336)\r\n    \tat org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.handleMessage(WSS4JInInterceptor.java:95)\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:272)\r\n    \tat org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)\r\n    \tat org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:239)\r\n    \tat org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:248)\r\n    \tat org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:222)\r\n    \tat org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:153)\r\n    \tat org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:167)\r\n    \tat org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:286)\r\n    \tat org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:206)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:646)\r\n    \tat org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:262)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:313)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n    Caused by: org.apache.ws.security.WSSecurityException: The security token could not be authenticated or authorized\r\n    \tat org.apache.ws.security.validate.UsernameTokenValidator.verifyDigestPassword(UsernameTokenValidator.java:199)\r\n    \tat org.apache.ws.security.validate.UsernameTokenValidator.validate(UsernameTokenValidator.java:97)\r\n    \tat org.apache.ws.security.processor.UsernameTokenProcessor.handleUsernameToken(UsernameTokenProcessor.java:172)\r\n    \tat org.apache.ws.security.processor.UsernameTokenProcessor.handleToken(UsernameTokenProcessor.java:67)\r\n    \tat org.apache.ws.security.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:396)\r\n    \tat org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.handleMessage(WSS4JInInterceptor.java:279)\r\n    \t... 31 more\r\n\r\nI suspect that I have an issue creating either nonce or password. \r\n\r\nYour help is appreciated.","title":"How to create Password Digest for use with Web Service?","body":"<p>I am trying to create a passwordDigest util which can be used in different environments which are capable of running java byte code.</p>\n\n<p>First of all I create nonce. It is done like so.</p>\n\n<pre><code>public static String buildNonce(){\n        StringBuffer nonce=new StringBuffer();\n        String dateTimeString = Long.toString(new Date().getTime());\n        byte[] nonceByte= dateTimeString.getBytes();\n        return Base64.encode(nonceByte);\n    }\n</code></pre>\n\n<p>Once I have nonce, I build password digest.</p>\n\n<pre><code>public static String buildPasswordDigest(String userName, String password, String nonce, String dateTime){\n    MessageDigest sha1;\n    String passwordDigest=null;\n    try {\n        sha1= MessageDigest.getInstance(\"SHA-1\");\n        byte[] hash = MessageDigest.getInstance(\"SHA-1\").digest(password.getBytes(\"UTF-8\"));\n        sha1.update(nonce.getBytes(\"UTF-8\"));\n        sha1.update(dateTime.getBytes(\"UTF-8\"));\n        passwordDigest = new String(Base64.encode(sha1.digest(hash)));\n        sha1.reset();\n    } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    return passwordDigest;\n</code></pre>\n\n<p>In order to test that everything works correctly. I have created a test web service using CXF 2.7. I have manually created SOAP Envelope to test authentication. The envelope looks like this.</p>\n\n<pre><code> &lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" \n                xmlns:ws=\"http://ws.mytest.org/\" \n                xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance/\"&gt;\n    &lt;soapenv:Header&gt;\n        &lt;wsse:Security soapenv:mustUnderstand=\"1\" \n          xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" \n          xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n          &lt;wsse:UsernameToken wsu:Id=\"UsernameToken-2\"&gt;\n            &lt;wsse:Username&gt;TEST_USER&lt;/wsse:Username&gt;\n            &lt;wsse:Password \n            Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest\"&gt;UZsDSW/vANu6fHg4rAHo2OwsF9s=&lt;/wsse:Password\n            &lt;wsse:Nonce&gt;MTQwMTMwMDQzNjA3OA==&lt;/wsse:Nonce&gt;\n            &lt;wsu:Created&gt;2014-05-28T18:07:16.087Z&lt;/wsu:Created&gt;\n         &lt;/wsse:UsernameToken&gt;\n        &lt;/wsse:Security&gt;\n    &lt;/soapenv:Header&gt;\n    &lt;soapenv:Body&gt;\n        &lt;ws:record&gt;\n            &lt;val1&gt;1&lt;/val1&gt;\n            &lt;val2&gt;Some Text&lt;/val2&gt;\n        &lt;/ws:record&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>When I send the envelope using SOAP UI. I get the following authentication error.</p>\n\n<pre><code>WARNING: Interceptor for {http://ws.mytest.org/}TestService has thrown exception, unwinding now\norg.apache.cxf.binding.soap.SoapFault: The security token could not be authenticated or authorized\n    at org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.createSoapFault(WSS4JInInterceptor.java:788)\n    at org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.handleMessage(WSS4JInInterceptor.java:336)\n    at org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.handleMessage(WSS4JInInterceptor.java:95)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:272)\n    at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)\n    at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:239)\n    at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:248)\n    at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:222)\n    at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:153)\n    at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:167)\n    at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:286)\n    at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:206)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)\n    at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:262)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:313)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: org.apache.ws.security.WSSecurityException: The security token could not be authenticated or authorized\n    at org.apache.ws.security.validate.UsernameTokenValidator.verifyDigestPassword(UsernameTokenValidator.java:199)\n    at org.apache.ws.security.validate.UsernameTokenValidator.validate(UsernameTokenValidator.java:97)\n    at org.apache.ws.security.processor.UsernameTokenProcessor.handleUsernameToken(UsernameTokenProcessor.java:172)\n    at org.apache.ws.security.processor.UsernameTokenProcessor.handleToken(UsernameTokenProcessor.java:67)\n    at org.apache.ws.security.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:396)\n    at org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.handleMessage(WSS4JInInterceptor.java:279)\n    ... 31 more\n</code></pre>\n\n<p>I suspect that I have an issue creating either nonce or password. </p>\n\n<p>Your help is appreciated.</p>\n"},{"tags":["java","spring","cookies","jakarta-ee","cookie-path"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637223107,"post_id":70015471,"comment_id":123769767,"body_markdown":"What do you think `setDomain` on the `Cookie` does?","body":"What do you think <code>setDomain</code> on the <code>Cookie</code> does?"},{"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"score":0,"creation_date":1637223815,"post_id":70015471,"comment_id":123770023,"body_markdown":"@M.Deinum It sets the domain name i.e setDomain(&quot;Kishore.com&quot;) ? If I&#39;m not wrong.\nBut still when we set setPath(&quot;/&quot;) it&#39;ll be like Kishore.com/ only right. which is the root context?","body":"@M.Deinum It sets the domain name i.e setDomain(&quot;Kishore.com&quot;) ? If I&#39;m not wrong. But still when we set setPath(&quot;/&quot;) it&#39;ll be like Kishore.com/ only right. which is the root context?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637225430,"post_id":70015471,"comment_id":123770597,"body_markdown":"Correct (and which should be mainly the same as now). So you either specify multiple cookies or ignore the warning. Or find a different way instead of a cookie (like a header).","body":"Correct (and which should be mainly the same as now). So you either specify multiple cookies or ignore the warning. Or find a different way instead of a cookie (like a header)."}],"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637217298,"creation_date":1637217298,"question_id":70015471,"body_markdown":"I&#39;ve two applications with a common domain name i.e let&#39;s say &lt;b&gt;www.kishore.com/travelSite&lt;/b&gt; and &lt;b&gt;www.kishore.com/researchSite&lt;/b&gt;.&lt;br&gt;\r\nSo, in the *travelSite* I&#39;m creating a cookie as below\r\n\r\n    Cookie cookie = new Cookie(&quot;someName&quot;,&quot;someValue&quot;);\r\n    cookie.setSecure(true);\r\n    cookie.setHttpOnly(true);\r\n    cookie.setPath(&quot;/&quot;); \r\n\r\nHere the reason I&#39;m setting Path to / in **travelSite** is because, I want this cookie to be used in **researchSite**. But the problem is, when I send this code for scanning, it says it&#39;s vulnerable to use context path i.e /.&lt;br&gt; Setting this **/travelSite** could eliminate vulnerable error in scanning but can&#39;t be used the the **researchSite**.&lt;br&gt;&lt;br&gt;\r\nWanted to know if there is a workaround? Can I set domain name i.e kishore.com in the cookie path. If so how? \r\n\r\n","title":"Issue with Cookie Security: Overlay Broad Path","body":"<p>I've two applications with a common domain name i.e let's say <b>www.kishore.com/travelSite</b> and <b>www.kishore.com/researchSite</b>.<br>\nSo, in the <em>travelSite</em> I'm creating a cookie as below</p>\n<pre><code>Cookie cookie = new Cookie(&quot;someName&quot;,&quot;someValue&quot;);\ncookie.setSecure(true);\ncookie.setHttpOnly(true);\ncookie.setPath(&quot;/&quot;); \n</code></pre>\n<p>Here the reason I'm setting Path to / in <strong>travelSite</strong> is because, I want this cookie to be used in <strong>researchSite</strong>. But the problem is, when I send this code for scanning, it says it's vulnerable to use context path i.e /.<br> Setting this <strong>/travelSite</strong> could eliminate vulnerable error in scanning but can't be used the the <strong>researchSite</strong>.<br><br>\nWanted to know if there is a workaround? Can I set domain name i.e kishore.com in the cookie path. If so how?</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637217237,"post_id":70014412,"comment_id":123768144,"body_markdown":"`FROM product WHERE category.categoryId=:categoryId` should work. Notice the additional refernce to `category` (the name of the attribute in `Product`) and an additional `:` to note the name of the parameter. All of this is also covered in a basic HQL query tutorial, so you might want to read -up on that.","body":"<code>FROM product WHERE category.categoryId=:categoryId</code> should work. Notice the additional refernce to <code>category</code> (the name of the attribute in <code>Product</code>) and an additional <code>:</code> to note the name of the parameter. All of this is also covered in a basic HQL query tutorial, so you might want to read -up on that."}],"answers":[{"tags":[],"owner":{"account_id":6495946,"reputation":9,"user_id":5028552,"display_name":"gamgoon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637217247,"creation_date":1637217247,"answer_id":70015463,"question_id":70014412,"body_markdown":"try this\r\n```\r\nFROM product p WHERE p.category.categoryId = :categoryId\r\n```","title":"Hibernate: query by example and many to one to create lists","body":"<p>try this</p>\n<pre><code>FROM product p WHERE p.category.categoryId = :categoryId\n</code></pre>\n"}],"owner":{"account_id":22625163,"reputation":27,"user_id":16803362,"display_name":"Kira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637217247,"creation_date":1637208072,"question_id":70014412,"body_markdown":"Let&#39;s say those are my Entity:\r\n\r\nProduct.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;Products&quot;)\r\n    public class Product{\r\n        private int code; \r\n    \tprivate String name;\r\n        private double price;\r\n        private byte[] image;\r\n        private String image1;\r\n        // For sort.\r\n        private Date createDate;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;categoryId&quot;)\r\n        private Category category;\r\n    }\r\n\r\nCategory.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;Categorys&quot;)\r\n    public class Category {\r\n    \t@Id\r\n        @GeneratedValue\r\n        private int categoryId;\r\n        private String categoryName;\r\n        private String categoryUrl;\r\n        @Column(name = &quot;categoryStatus&quot;, length = 1, nullable = false)\r\n        private boolean categoryStatus;\r\n        @OneToMany(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;categoryId&quot;)\r\n        private List&lt;Product&gt; listProduct;\r\n    }\r\nI want to list all rows Products by category id. but I don&#39;t know how to query by Hibernate\r\nHere&#39;s an example tool that I&#39;m working on but it doesn&#39;t work. \r\nsomeone please help me\r\n\r\n    @Override\r\n    public List&lt;Product&gt; getListByCategory(int categoryId) {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        Query query = session.createQuery(&quot;FROM product WHERE categoryId = categoryId&quot;);\r\n        query.setLong(&quot;categoryId&quot;, categoryId);\r\n        List&lt;Product&gt; list = query.list();\r\n        return list;\r\n    }\r\n\r\n   \r\n","title":"Hibernate: query by example and many to one to create lists","body":"<p>Let's say those are my Entity:</p>\n<p>Product.java</p>\n<pre><code>@Entity\n@Table(name = &quot;Products&quot;)\npublic class Product{\n    private int code; \n    private String name;\n    private double price;\n    private byte[] image;\n    private String image1;\n    // For sort.\n    private Date createDate;\n    @ManyToOne\n    @JoinColumn(name = &quot;categoryId&quot;)\n    private Category category;\n}\n</code></pre>\n<p>Category.java</p>\n<pre><code>@Entity\n@Table(name = &quot;Categorys&quot;)\npublic class Category {\n    @Id\n    @GeneratedValue\n    private int categoryId;\n    private String categoryName;\n    private String categoryUrl;\n    @Column(name = &quot;categoryStatus&quot;, length = 1, nullable = false)\n    private boolean categoryStatus;\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;categoryId&quot;)\n    private List&lt;Product&gt; listProduct;\n}\n</code></pre>\n<p>I want to list all rows Products by category id. but I don't know how to query by Hibernate\nHere's an example tool that I'm working on but it doesn't work.\nsomeone please help me</p>\n<pre><code>@Override\npublic List&lt;Product&gt; getListByCategory(int categoryId) {\n    Session session = sessionFactory.getCurrentSession();\n    Query query = session.createQuery(&quot;FROM product WHERE categoryId = categoryId&quot;);\n    query.setLong(&quot;categoryId&quot;, categoryId);\n    List&lt;Product&gt; list = query.list();\n    return list;\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface","scroll"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1637162674,"post_id":70007086,"comment_id":123752846,"body_markdown":"I usually `.pack()` my JFrame before I display it.  Have you tried that?","body":"I usually <code>.pack()</code> my JFrame before I display it.  Have you tried that?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1637162691,"post_id":70007086,"comment_id":123752859,"body_markdown":"`ta.add(scroll)` &lt; this is incorrect. You&#39;re not supposed to add the `JScrollPane` to the `JTextArea`. The two lines above are also incorrect. Don&#39;t add the `JTextArea` to your frame, as the text area is inside the viewport of the `JScrollPane` (since you supplied it to the scrollpanes constructor). The correct approach would be to add `scroll` to your `JFrame`, e.g. `frame.add(BorderLayout.CENTER, scroll)`.","body":"<code>ta.add(scroll)</code> &lt; this is incorrect. You&#39;re not supposed to add the <code>JScrollPane</code> to the <code>JTextArea</code>. The two lines above are also incorrect. Don&#39;t add the <code>JTextArea</code> to your frame, as the text area is inside the viewport of the <code>JScrollPane</code> (since you supplied it to the scrollpanes constructor). The correct approach would be to add <code>scroll</code> to your <code>JFrame</code>, e.g. <code>frame.add(BorderLayout.CENTER, scroll)</code>."}],"answers":[{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637217077,"creation_date":1637163226,"answer_id":70007276,"question_id":70007086,"body_markdown":"These lines are the issue:\r\n```java\r\nframe.getContentPane().add(BorderLayout.CENTER, ta);\r\nframe.add(ta);\r\nta.add(scroll);\r\n```\r\nDon&#39;t add the `JTextArea` to your frame, as the `JTextArea` is already correctly configured to be inside the viewport of the `JScrollPane` (since you supplied it to the scrollpanes constructor earlier). Also you&#39;re not supposed to add the `JScrollPane` to the `JTextArea`, because you want it the other way around. \r\nThe correct approach would be to remove the mentioned lines and to simply add `scroll` to your `JFrame`, like so:\r\n\r\n```java\r\nframe.add(scroll, BorderLayout.CENTER);\r\n```\r\n\r\nSidenote: \r\n- as mentioned in the comments, consider calling `pack()` on your frame before setting it visible, to size the frame and its components correctly.\r\n\r\n","title":"Scroll for GUI not working the way I want it to","body":"<p>These lines are the issue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>frame.getContentPane().add(BorderLayout.CENTER, ta);\nframe.add(ta);\nta.add(scroll);\n</code></pre>\n<p>Don't add the <code>JTextArea</code> to your frame, as the <code>JTextArea</code> is already correctly configured to be inside the viewport of the <code>JScrollPane</code> (since you supplied it to the scrollpanes constructor earlier). Also you're not supposed to add the <code>JScrollPane</code> to the <code>JTextArea</code>, because you want it the other way around.\nThe correct approach would be to remove the mentioned lines and to simply add <code>scroll</code> to your <code>JFrame</code>, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>frame.add(scroll, BorderLayout.CENTER);\n</code></pre>\n<p>Sidenote:</p>\n<ul>\n<li>as mentioned in the comments, consider calling <code>pack()</code> on your frame before setting it visible, to size the frame and its components correctly.</li>\n</ul>\n"}],"owner":{"account_id":22593680,"reputation":22,"user_id":16776361,"display_name":"Hatsune Miku"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70007276,"answer_count":1,"score":0,"last_activity_date":1637217077,"creation_date":1637162492,"question_id":70007086,"body_markdown":"I am trying to get this textarea on this GUI to have a scroll, but when I try to add it either the text area covers the scroll bar or vice versa. No errors. Code:\r\n```java\r\n        // Text Area at the Center\r\n        JTextArea ta = new JTextArea ( 16, 58 );\r\n        ta.setEditable ( false ); // set textArea non-editable\r\n        JScrollPane scroll = new JScrollPane ( ta );\r\n        scroll.setVerticalScrollBarPolicy ( ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS );\r\n        \r\n        send.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent send) {\r\n            \tString data = tf.getText();\r\n            \tta.append(&quot;You: &quot; + data + &quot;\\n&quot;);\r\n            \ttf.setText(&quot;&quot;);\r\n                System.out.println(data);\r\n            }\r\n        });\r\n        \r\n        //Adding Components to the frame.\r\n        frame.getContentPane().add(BorderLayout.SOUTH, panel);\r\n        frame.getContentPane().add(BorderLayout.CENTER, ta);\r\n        frame.add(ta);\r\n        ta.add(scroll);\r\n        frame.setVisible(true);\r\n```","title":"Scroll for GUI not working the way I want it to","body":"<p>I am trying to get this textarea on this GUI to have a scroll, but when I try to add it either the text area covers the scroll bar or vice versa. No errors. Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        // Text Area at the Center\n        JTextArea ta = new JTextArea ( 16, 58 );\n        ta.setEditable ( false ); // set textArea non-editable\n        JScrollPane scroll = new JScrollPane ( ta );\n        scroll.setVerticalScrollBarPolicy ( ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS );\n        \n        send.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent send) {\n                String data = tf.getText();\n                ta.append(&quot;You: &quot; + data + &quot;\\n&quot;);\n                tf.setText(&quot;&quot;);\n                System.out.println(data);\n            }\n        });\n        \n        //Adding Components to the frame.\n        frame.getContentPane().add(BorderLayout.SOUTH, panel);\n        frame.getContentPane().add(BorderLayout.CENTER, ta);\n        frame.add(ta);\n        ta.add(scroll);\n        frame.setVisible(true);\n</code></pre>\n"},{"tags":["java","encapsulation","getter-setter"],"answers":[{"tags":[],"owner":{"account_id":342531,"reputation":254999,"user_id":673730,"accept_rate":89,"display_name":"Luchian Grigore"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1327392908,"creation_date":1327392908,"answer_id":8983733,"question_id":8983709,"body_markdown":"I can think of several reasons:\r\n\r\n- you want to prevent future public access.\r\n\r\nIf a different programmer sees your code and wants access to a variable, but there are no setters and getters, he might think you just forgot about them, and add them themselves. However, if you declare them as `private`, it&#39;s a statement of intent, saying *I don&#39;t want these variables to be changed or accessed from the outside*.\r\n\r\n- you want to associate setting and getting with other actions\r\n\r\nSay you don&#39;t want `public` accessors. But maybe you want a count of how many times a private variable is changed. It&#39;s easier to use a setter rather than incrementing the count every time you access that variable.\r\n\r\n- you want a central access point\r\n\r\nAgain, you don&#39;t want `public` access, but during debugging, you might want to put a breakpoint in every place a `private` member is changed. So instead of setting breakpoints everywhere in the class, you just set one in the accessor.","title":"Why would you declare getters and setters method private?","body":"<p>I can think of several reasons:</p>\n\n<ul>\n<li>you want to prevent future public access.</li>\n</ul>\n\n<p>If a different programmer sees your code and wants access to a variable, but there are no setters and getters, he might think you just forgot about them, and add them themselves. However, if you declare them as <code>private</code>, it's a statement of intent, saying <em>I don't want these variables to be changed or accessed from the outside</em>.</p>\n\n<ul>\n<li>you want to associate setting and getting with other actions</li>\n</ul>\n\n<p>Say you don't want <code>public</code> accessors. But maybe you want a count of how many times a private variable is changed. It's easier to use a setter rather than incrementing the count every time you access that variable.</p>\n\n<ul>\n<li>you want a central access point</li>\n</ul>\n\n<p>Again, you don't want <code>public</code> access, but during debugging, you might want to put a breakpoint in every place a <code>private</code> member is changed. So instead of setting breakpoints everywhere in the class, you just set one in the accessor.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1637216482,"creation_date":1327393982,"answer_id":8983883,"question_id":8983709,"body_markdown":"&gt; That&#39;s exactly opposite of what we are trying to achieve through getters and setters.\r\n\r\nActually, it is not.  The reason for declaring public getters and setters is to hide the fields.  This is done to avoid unwanted coupling; i.e. clients of an API depending on the implementation details of the API.  (That coupling can be problematic for a number of reasons.  For example, dependencies on the types of the fields, the possibility of unexpected changes to the fields.)\r\n\r\nThe reason for declaring the getters and setters *private* is to make the corresponding part of the object&#39;s abstract state (i.e. the values) private.  That&#39;s *largely independent* of the decision to use getters and setters or not to hide the implementation types, prevent *direct* access, etc.\r\n\r\n\r\nWhile the case for using getters and setters is not as strong for private state, there are still tangible benefits in using private getters and/or setters.  For instance:\r\n\r\n  - The private getter/setter methods provide a place for adding extra behavior or error checking code.\r\n\r\n  - They can provide a place for logging state changes or access to the fields.\r\n\r\n  - They can provide a place for adding your debug code while testing.  (Probably not the best way of debugging.)","title":"Why would you declare getters and setters method private?","body":"<blockquote>\n<p>That's exactly opposite of what we are trying to achieve through getters and setters.</p>\n</blockquote>\n<p>Actually, it is not.  The reason for declaring public getters and setters is to hide the fields.  This is done to avoid unwanted coupling; i.e. clients of an API depending on the implementation details of the API.  (That coupling can be problematic for a number of reasons.  For example, dependencies on the types of the fields, the possibility of unexpected changes to the fields.)</p>\n<p>The reason for declaring the getters and setters <em>private</em> is to make the corresponding part of the object's abstract state (i.e. the values) private.  That's <em>largely independent</em> of the decision to use getters and setters or not to hide the implementation types, prevent <em>direct</em> access, etc.</p>\n<p>While the case for using getters and setters is not as strong for private state, there are still tangible benefits in using private getters and/or setters.  For instance:</p>\n<ul>\n<li><p>The private getter/setter methods provide a place for adding extra behavior or error checking code.</p>\n</li>\n<li><p>They can provide a place for logging state changes or access to the fields.</p>\n</li>\n<li><p>They can provide a place for adding your debug code while testing.  (Probably not the best way of debugging.)</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1194554,"reputation":273,"user_id":1166543,"display_name":"Vandan Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24592,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"closed_date":1462603755,"answer_count":2,"score":25,"last_activity_date":1637216482,"creation_date":1327392759,"question_id":8983709,"body_markdown":"I saw a code where getters and setters methods are declared private. I am trying to figure out the logic behind it, and I am really having hard time to understand why would you declare them as private? That&#39;s exactly opposite of what we are trying to achieve through getters and setters.","title":"Why would you declare getters and setters method private?","body":"<p>I saw a code where getters and setters methods are declared private. I am trying to figure out the logic behind it, and I am really having hard time to understand why would you declare them as private? That's exactly opposite of what we are trying to achieve through getters and setters.</p>\n"},{"tags":["java","spring","amazon-web-services","spring-batch","aws-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637216488,"post_id":70015094,"comment_id":123767974,"body_markdown":"Your `PublishSnsTopic` is wrong. The `@PostConstruct` gets run as soon as the job is instantiated so it runs directly. You shouldn&#39;t do all that stuff in an `@PostConstruct` annotated method, it should be in your `execute` method instead.","body":"Your <code>PublishSnsTopic</code> is wrong. The <code>@PostConstruct</code> gets run as soon as the job is instantiated so it runs directly. You shouldn&#39;t do all that stuff in an <code>@PostConstruct</code> annotated method, it should be in your <code>execute</code> method instead."},{"owner":{"account_id":23373869,"reputation":13,"user_id":17444267,"display_name":"Tomodachi"},"score":0,"creation_date":1637218717,"post_id":70015094,"comment_id":123768497,"body_markdown":"I appreciate your help. Thank you very much. I understand what you are saying. \nI had to use @PostConstruct because Autowired fields are not yet available to be used. I will do a bit more research about it. thank you so much again","body":"I appreciate your help. Thank you very much. I understand what you are saying.  I had to use @PostConstruct because Autowired fields are not yet available to be used. I will do a bit more research about it. thank you so much again"}],"owner":{"account_id":23373869,"reputation":13,"user_id":17444267,"display_name":"Tomodachi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637216419,"creation_date":1637214363,"question_id":70015094,"body_markdown":"First of all, thank you for checking out my post. \r\nI would list the techs that are used, ​what I need to achieve and what is happening.\r\n\r\nServices used:\r\n* Spring Boot in Groovy\r\n* AWS: AWS Batch, S3Bucket, SNS, Parameter Store, CloudFormation\r\n\r\nWhat I need to achieve:\r\n\r\n1. Read two csv files from S3 Bucket(student.csv: id,studentName are columns and score.csv: id,studentId,score)\r\n2. Check who is failed by comparing two files. If student’s score is below 50, he/she is failed.\r\n3. Create a new csv file in S3 Bucket and store it as failedStudents.csv.\r\n4. Send an email via SNS topic the failedStudents.csv that was just created.\r\n\r\nIn the Spring Batch Config class, I am calling the 1,2,3 as step1 and 4 as step2.\r\n\r\n```\r\n@Bean\r\nStep step1() {\r\n    return this.stepBuilderFactory\r\n                .get(&quot;step1&quot;)\r\n                .&lt;BadStudent, BadStudent&gt;chunk(100)\r\n                .reader(new IteratorItemReader&lt;Student&gt;(this.StudentLoader.Students.iterator()) as ItemReader&lt;? extends BadStudent&gt;)\r\n                .processor(this.studentProcessor as ItemProcessor&lt;? super BadStudent, ? extends BadStudent&gt;)\r\n                .writer(this.csvWriter())\r\n                .build()\r\n}\r\n\r\n@Bean\r\nStep step2() {\r\n    return this.stepBuilderFactory\r\n                .get(&quot;step2&quot;)\r\n                .tasklet(new PublishSnsTopic())\r\n                .build()\r\n}\r\n\r\n@Bean\r\nJob job() {\r\n    return this.jobBuilderFactory\r\n                .get(&quot;scoring-students-batch&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .start(this.step1())\r\n                .next(this.step2())\r\n                .build()\r\n}\r\n```\r\n\r\nItemWriter\r\n```\r\n@Component\r\n@EnableContextResourceLoader\r\nclass BadStudentWriter implements ItemWriter&lt;BadStudent&gt; {\r\n\r\n    @Autowired\r\n    ResourceLoader resourceLoader\r\n\r\n    @Resource\r\n    FileProperties fileProperties\r\n\r\n    WritableResource resource\r\n\r\n    PrintStream writer\r\n\r\n    CSVPrinter csvPrinter\r\n\r\n    @PostConstruct\r\n    void setup() {\r\n        this.resource = this.resourceLoader.getResource(&quot;s3://students/failedStudents.csv&quot;) as WritableResource\r\n        this.writer = new PrintStream(this.resource.outputStream)\r\n        this.csvPrinter = new CSVPrinter(this.writer, CSVFormat.DEFAULT.withDelimiter(&#39;|&#39; as char).withHeader(&#39;id&#39;, &#39;studentsName&#39;, &#39;score&#39;))\r\n    }\r\n\r\n    @Override\r\n    void write(List&lt;? extends BadStudent&gt; items) throws Exception {\r\n        this.csvPrinter.with {CSVPrinter csvPrinter -&gt;\r\n            items.each {BadStudent badStudent -&gt;\r\n                csvPrinter.printRecord(\r\n                        badStudent.id,\r\n                        badStudent.studentsName,\r\n                        badStudent.score\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    @AfterStep\r\n    void aferStep() {\r\n        this.csvPrinter.close()\r\n    }\r\n}\r\n```\r\n\r\nPublishSnsTopic\r\n```\r\n@Configuration\r\n@Service\r\nclass PublishSnsTopic implements Tasklet {\r\n\r\n    @Autowired\r\n    ResourceLoader resourceLoader\r\n\r\n    List&lt;BadStudent&gt; badStudents\r\n\r\n    @Autowired\r\n    FileProperties fileProperties\r\n\r\n    @PostConstruct\r\n    void setup() {\r\n\r\n        String badStudentCSVFileName = &quot;s3://students/failedStudents.csv&quot;\r\n        Reader badStudentReader = new InputStreamReader(\r\n                this.resourceLoader.getResource(badStudentCSVFileName).inputStream\r\n        )\r\n\r\n        this.badStudnets = new CsvToBeanBuilder(badStudentReader)\r\n                .withSeparator((char)&#39;|&#39;)\r\n                .withType(BadStudent)\r\n                .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\r\n                .build()\r\n                .parse()\r\n\r\n        String messageBody = &quot;&quot;\r\n        messageBody += this.badStudents.collect {it -&gt; return &quot;${it.id}&quot;}\r\n\r\n        SnsClient snsClient = SnsClient.builder().build()\r\n        if(snsClient) {\r\n            publishTopic(snsClient, messageBody, this.fileProperties.topicArn)\r\n            snsClient.close()\r\n        }\r\n    }\r\n\r\n    void publishTopic(SnsClient snsClient, String message, String arn) {\r\n        try {\r\n            PublishRequest request = PublishRequest.builder()\r\n                                        .message(message)\r\n                                        .topicArn(arn)\r\n                                        .build()\r\n\r\n            PublishResponse result = snsClient.publish(request)\r\n\r\n        } catch (SnsException e) {\r\n          log.error &quot;SOMETHING WENT WRONG&quot;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n        return RepeatStatus.FINISHED\r\n    }\r\n}\r\n```\r\n\r\nThe Issue here is that, while step 1 is executing step2 also gets executed.\r\nAnd it would lead to serious problem as \r\n\r\n\r\n1. As this batch job runs everyday. Let’s say today is Tuesday,  the `failedStudents.csv` is generated and stored fine. However while it is also running step2 instead of waiting for step1 to be done, step2 is send the `failedStudents.csv` that is generated on Monday. So csv is generated as new dataset. But Step2 is sending a day old students list.     \r\n2. For some reason, if `failedStudents.csv` is not stored in the s3 or turned into Glacier bucket, it would failed the batch job. Because in the Step2 it would crash due to FileNotFound Exception while Step1 is still going on and the `failedStudents.csv` is not created yet.\r\n \r\nThis is my first AWS and Spring Batch Project and so far, Step1 is working great perfectly. But I am guessing Step2 has a problem,\r\n\r\nI appreciate reading my long post. \r\nI would be very happy if anyone could answer or help me with this problem.\r\nI have been fixing PublishSnsTopic and `ItemWriter`, but this is where I am stuck for a while, not sure how to figure this out. \r\n\r\nThank you so much again for reading.\r\n","title":"Why does my spring batch takes step2 while step1 is still going on?","body":"<p>First of all, thank you for checking out my post.\nI would list the techs that are used, ​what I need to achieve and what is happening.</p>\n<p>Services used:</p>\n<ul>\n<li>Spring Boot in Groovy</li>\n<li>AWS: AWS Batch, S3Bucket, SNS, Parameter Store, CloudFormation</li>\n</ul>\n<p>What I need to achieve:</p>\n<ol>\n<li>Read two csv files from S3 Bucket(student.csv: id,studentName are columns and score.csv: id,studentId,score)</li>\n<li>Check who is failed by comparing two files. If student’s score is below 50, he/she is failed.</li>\n<li>Create a new csv file in S3 Bucket and store it as failedStudents.csv.</li>\n<li>Send an email via SNS topic the failedStudents.csv that was just created.</li>\n</ol>\n<p>In the Spring Batch Config class, I am calling the 1,2,3 as step1 and 4 as step2.</p>\n<pre><code>@Bean\nStep step1() {\n    return this.stepBuilderFactory\n                .get(&quot;step1&quot;)\n                .&lt;BadStudent, BadStudent&gt;chunk(100)\n                .reader(new IteratorItemReader&lt;Student&gt;(this.StudentLoader.Students.iterator()) as ItemReader&lt;? extends BadStudent&gt;)\n                .processor(this.studentProcessor as ItemProcessor&lt;? super BadStudent, ? extends BadStudent&gt;)\n                .writer(this.csvWriter())\n                .build()\n}\n\n@Bean\nStep step2() {\n    return this.stepBuilderFactory\n                .get(&quot;step2&quot;)\n                .tasklet(new PublishSnsTopic())\n                .build()\n}\n\n@Bean\nJob job() {\n    return this.jobBuilderFactory\n                .get(&quot;scoring-students-batch&quot;)\n                .incrementer(new RunIdIncrementer())\n                .start(this.step1())\n                .next(this.step2())\n                .build()\n}\n</code></pre>\n<p>ItemWriter</p>\n<pre><code>@Component\n@EnableContextResourceLoader\nclass BadStudentWriter implements ItemWriter&lt;BadStudent&gt; {\n\n    @Autowired\n    ResourceLoader resourceLoader\n\n    @Resource\n    FileProperties fileProperties\n\n    WritableResource resource\n\n    PrintStream writer\n\n    CSVPrinter csvPrinter\n\n    @PostConstruct\n    void setup() {\n        this.resource = this.resourceLoader.getResource(&quot;s3://students/failedStudents.csv&quot;) as WritableResource\n        this.writer = new PrintStream(this.resource.outputStream)\n        this.csvPrinter = new CSVPrinter(this.writer, CSVFormat.DEFAULT.withDelimiter('|' as char).withHeader('id', 'studentsName', 'score'))\n    }\n\n    @Override\n    void write(List&lt;? extends BadStudent&gt; items) throws Exception {\n        this.csvPrinter.with {CSVPrinter csvPrinter -&gt;\n            items.each {BadStudent badStudent -&gt;\n                csvPrinter.printRecord(\n                        badStudent.id,\n                        badStudent.studentsName,\n                        badStudent.score\n                )\n            }\n        }\n    }\n\n    @AfterStep\n    void aferStep() {\n        this.csvPrinter.close()\n    }\n}\n</code></pre>\n<p>PublishSnsTopic</p>\n<pre><code>@Configuration\n@Service\nclass PublishSnsTopic implements Tasklet {\n\n    @Autowired\n    ResourceLoader resourceLoader\n\n    List&lt;BadStudent&gt; badStudents\n\n    @Autowired\n    FileProperties fileProperties\n\n    @PostConstruct\n    void setup() {\n\n        String badStudentCSVFileName = &quot;s3://students/failedStudents.csv&quot;\n        Reader badStudentReader = new InputStreamReader(\n                this.resourceLoader.getResource(badStudentCSVFileName).inputStream\n        )\n\n        this.badStudnets = new CsvToBeanBuilder(badStudentReader)\n                .withSeparator((char)'|')\n                .withType(BadStudent)\n                .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\n                .build()\n                .parse()\n\n        String messageBody = &quot;&quot;\n        messageBody += this.badStudents.collect {it -&gt; return &quot;${it.id}&quot;}\n\n        SnsClient snsClient = SnsClient.builder().build()\n        if(snsClient) {\n            publishTopic(snsClient, messageBody, this.fileProperties.topicArn)\n            snsClient.close()\n        }\n    }\n\n    void publishTopic(SnsClient snsClient, String message, String arn) {\n        try {\n            PublishRequest request = PublishRequest.builder()\n                                        .message(message)\n                                        .topicArn(arn)\n                                        .build()\n\n            PublishResponse result = snsClient.publish(request)\n\n        } catch (SnsException e) {\n          log.error &quot;SOMETHING WENT WRONG&quot;\n        }\n    }\n\n    @Override\n    RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n        return RepeatStatus.FINISHED\n    }\n}\n</code></pre>\n<p>The Issue here is that, while step 1 is executing step2 also gets executed.\nAnd it would lead to serious problem as</p>\n<ol>\n<li>As this batch job runs everyday. Let’s say today is Tuesday,  the <code>failedStudents.csv</code> is generated and stored fine. However while it is also running step2 instead of waiting for step1 to be done, step2 is send the <code>failedStudents.csv</code> that is generated on Monday. So csv is generated as new dataset. But Step2 is sending a day old students list.</li>\n<li>For some reason, if <code>failedStudents.csv</code> is not stored in the s3 or turned into Glacier bucket, it would failed the batch job. Because in the Step2 it would crash due to FileNotFound Exception while Step1 is still going on and the <code>failedStudents.csv</code> is not created yet.</li>\n</ol>\n<p>This is my first AWS and Spring Batch Project and so far, Step1 is working great perfectly. But I am guessing Step2 has a problem,</p>\n<p>I appreciate reading my long post.\nI would be very happy if anyone could answer or help me with this problem.\nI have been fixing PublishSnsTopic and <code>ItemWriter</code>, but this is where I am stuck for a while, not sure how to figure this out.</p>\n<p>Thank you so much again for reading.</p>\n"},{"tags":["java","spring","parallel-processing"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1637186059,"post_id":70011900,"comment_id":123762204,"body_markdown":"You can create a custom Spliterator that only splits when `estimateSize() &gt; N`.","body":"You can create a custom Spliterator that only splits when <code>estimateSize() &gt; N</code>."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637216260,"creation_date":1637216260,"answer_id":70015350,"question_id":70011900,"body_markdown":"Creating different streams based on size doesn&#39;t sound all that bad. Create a helper function and it becomes almost transparent:\r\n\r\n```\r\npublic static &lt;T&gt; Stream&lt;T&gt; selectStream(final Collection&lt;T&gt; coll) {\r\n  return coll.size() &gt; 10000\r\n      ? coll.parallelStream()\r\n      : coll.stream();\r\n}\r\n\r\nselectStream(yourCollection).map(x -&gt; x).collect(toList());\r\n```","title":"Parallel stream java avoid overhead","body":"<p>Creating different streams based on size doesn't sound all that bad. Create a helper function and it becomes almost transparent:</p>\n<pre><code>public static &lt;T&gt; Stream&lt;T&gt; selectStream(final Collection&lt;T&gt; coll) {\n  return coll.size() &gt; 10000\n      ? coll.parallelStream()\n      : coll.stream();\n}\n\nselectStream(yourCollection).map(x -&gt; x).collect(toList());\n</code></pre>\n"}],"owner":{"account_id":3776730,"reputation":829,"user_id":3137368,"accept_rate":83,"display_name":"Martijn Jan Jaap de Bruin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637216260,"creation_date":1637185118,"question_id":70011900,"body_markdown":"Suppose I have a list I want to iterate parallel over only when the list is bigger than N. This because it will probably give more overhead to do things parallel so I want to limit it to a certain number. Is there a java parallel stream configuration which enables me to do so?\r\n\r\nOf course I can do an if statement checking the size. But it would be cooler if I can configure it somewhere. ","title":"Parallel stream java avoid overhead","body":"<p>Suppose I have a list I want to iterate parallel over only when the list is bigger than N. This because it will probably give more overhead to do things parallel so I want to limit it to a certain number. Is there a java parallel stream configuration which enables me to do so?</p>\n<p>Of course I can do an if statement checking the size. But it would be cooler if I can configure it somewhere.</p>\n"},{"tags":["java","android","calendar"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1637214637,"post_id":70015100,"comment_id":123767572,"body_markdown":"Do not longer use the outdated Calendar API. Change to the new java.time api.","body":"Do not longer use the outdated Calendar API. Change to the new java.time api."},{"owner":{"account_id":446757,"reputation":123,"user_id":839994,"display_name":"D Blacksmith"},"score":2,"creation_date":1637215026,"post_id":70015100,"comment_id":123767666,"body_markdown":"there are chances oldCal and newCal have different milliseconds","body":"there are chances oldCal and newCal have different milliseconds"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1637215148,"post_id":70015100,"comment_id":123767687,"body_markdown":"Are you **manually** parsing dates using the old Calendar API? It&#39;s 2021, time to [get with the program](https://www.baeldung.com/java-8-date-time-intro). Oh wait, this is android. But surely it&#39;s not stuck on Calendar (or clumsy manual parsing).","body":"Are you <b>manually</b> parsing dates using the old Calendar API? It&#39;s 2021, time to <a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">get with the program</a>. Oh wait, this is android. But surely it&#39;s not stuck on Calendar (or clumsy manual parsing)."},{"owner":{"account_id":11392367,"reputation":17,"user_id":8351904,"display_name":"HatmanStack"},"score":0,"creation_date":1637317141,"post_id":70015100,"comment_id":123799608,"body_markdown":"I think you had it right D Blacksmith with Calendar...Have not used LocalDate before but now...Life is good.","body":"I think you had it right D Blacksmith with Calendar...Have not used LocalDate before but now...Life is good."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637216088,"creation_date":1637216088,"answer_id":70015328,"question_id":70015100,"body_markdown":"# tl;dr\r\n\r\nUse [`java.time.LocalDate`][3] class. \r\n\r\n    LocalDate\r\n    .parse( &quot;2022-01-23&quot; )\r\n    .isAfter(\r\n        LocalDate.of( 2030 , Month.DECEMBER , 31 )\r\n    )\r\n\r\n# Fractional second varies\r\n\r\nTo answer your question directly, as [commented by D Blacksmith][1], you are probably seeing two different values for the fractional second because you call  `java.util.Calendar.getInstance()` twice, two different methods. \r\n\r\nTo look at the bigger picture, you are using *terrible* date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. Never use `Date`, `Calendar`, `SimpleDateFormat`, and such. \r\n\r\n# *java.time* \r\n\r\nI presume you are trying to compare date-only string values in format of YYYY-MM-DD. If so, then your entire need for writing your `checkDates` method is moot. \r\n\r\nThe format of YYYY-MM-DD is actually the standard format defined by [ISO 8601][2] for textual data-exchange of date-time values. The *java.time* classes use the standard ISO 8601 formats by default when parsing/generating such strings.\r\n\r\n    LocalDate x = LocalDate.parse( &quot;2022-01-23&quot; ) ;\r\n    LocalDate y = LocalDate.of( 2030 , Month.DECEMBER , 31 ) ;\r\n\r\nThe [`LocalDate`][3] class implements [`Comparable`][4], so they know how to sort themselves. And the class offers handy comparison methods: [`isBefore`][5], `isEqual`, and [`isAfter`][6]. \r\n\r\n    boolean isXAfterY = x.isAfter( y ) ;\r\n\r\n## Android\r\n\r\nThe *java.time* functionality is built into Android 26 and later. \r\n\r\nFor earlier Android, modern tooling brings over most of the *java.time* functionality via “API desugaring”. If that does not do the job, add the [*ThreeTenABP*](https://github.com/JakeWharton/ThreeTenABP) library to your project.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70015100/java-util-calendar-compareto-not-delivering-consistent-results#comment123767666_70015100\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#isBefore(java.time.chrono.ChronoLocalDate)\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#isAfter(java.time.chrono.ChronoLocalDate)","title":"Java.util.Calendar compareTo not delivering consistent Results","body":"<h1>tl;dr</h1>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a> class.</p>\n<pre><code>LocalDate\n.parse( &quot;2022-01-23&quot; )\n.isAfter(\n    LocalDate.of( 2030 , Month.DECEMBER , 31 )\n)\n</code></pre>\n<h1>Fractional second varies</h1>\n<p>To answer your question directly, as <a href=\"https://stackoverflow.com/questions/70015100/java-util-calendar-compareto-not-delivering-consistent-results#comment123767666_70015100\">commented by D Blacksmith</a>, you are probably seeing two different values for the fractional second because you call  <code>java.util.Calendar.getInstance()</code> twice, two different methods.</p>\n<p>To look at the bigger picture, you are using <em>terrible</em> date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. Never use <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code>, and such.</p>\n<h1><em>java.time</em></h1>\n<p>I presume you are trying to compare date-only string values in format of YYYY-MM-DD. If so, then your entire need for writing your <code>checkDates</code> method is moot.</p>\n<p>The format of YYYY-MM-DD is actually the standard format defined by <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> for textual data-exchange of date-time values. The <em>java.time</em> classes use the standard ISO 8601 formats by default when parsing/generating such strings.</p>\n<pre><code>LocalDate x = LocalDate.parse( &quot;2022-01-23&quot; ) ;\nLocalDate y = LocalDate.of( 2030 , Month.DECEMBER , 31 ) ;\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>, so they know how to sort themselves. And the class offers handy comparison methods: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#isBefore(java.time.chrono.ChronoLocalDate)\" rel=\"nofollow noreferrer\"><code>isBefore</code></a>, <code>isEqual</code>, and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#isAfter(java.time.chrono.ChronoLocalDate)\" rel=\"nofollow noreferrer\"><code>isAfter</code></a>.</p>\n<pre><code>boolean isXAfterY = x.isAfter( y ) ;\n</code></pre>\n<h2>Android</h2>\n<p>The <em>java.time</em> functionality is built into Android 26 and later.</p>\n<p>For earlier Android, modern tooling brings over most of the <em>java.time</em> functionality via “API desugaring”. If that does not do the job, add the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em>ThreeTenABP</em></a> library to your project.</p>\n"}],"owner":{"account_id":11392367,"reputation":17,"user_id":8351904,"display_name":"HatmanStack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70015328,"answer_count":1,"score":0,"last_activity_date":1637216088,"creation_date":1637214413,"question_id":70015100,"body_markdown":"```\r\npublic boolean checkDates(String oldDate, String newDate){\r\n        java.util.Calendar oldCal = java.util.Calendar.getInstance();\r\n        java.util.Calendar newCal = java.util.Calendar.getInstance();\r\n        String[] oD = oldDate.split(&quot;-&quot;);\r\n        String[] nD = newDate.split(&quot;-&quot;);\r\n        oldCal.set(Integer.parseInt(oD[0]), Integer.parseInt(oD[1])-1, Integer.parseInt(oD[2]));\r\n        newCal.set(Integer.parseInt(nD[0]), Integer.parseInt(nD[1])-1, Integer.parseInt(nD[2]));\r\n\r\n        if(newCal.compareTo(oldCal) &gt; 0){\r\n             return true;\r\n        }else {\r\n             return false;\r\n        }\r\n```\r\nThat&#39;s the code I&#39;m implementing with varied results for dates on the same day.  Sometimes compareTo delivers a 1 sometimes a 0.  An example print of the dates being compared:\r\n\r\n```\r\noldCal Fri Nov 17 23:30:48 CST 2021\r\nnewCal Fri Nov 17 23:30:48 CST 2021\r\n```\r\nAll of the times have been the same on both the 1 returns and the 0&#39;s.\r\n\r\n","title":"Java.util.Calendar compareTo not delivering consistent Results","body":"<pre><code>public boolean checkDates(String oldDate, String newDate){\n        java.util.Calendar oldCal = java.util.Calendar.getInstance();\n        java.util.Calendar newCal = java.util.Calendar.getInstance();\n        String[] oD = oldDate.split(&quot;-&quot;);\n        String[] nD = newDate.split(&quot;-&quot;);\n        oldCal.set(Integer.parseInt(oD[0]), Integer.parseInt(oD[1])-1, Integer.parseInt(oD[2]));\n        newCal.set(Integer.parseInt(nD[0]), Integer.parseInt(nD[1])-1, Integer.parseInt(nD[2]));\n\n        if(newCal.compareTo(oldCal) &gt; 0){\n             return true;\n        }else {\n             return false;\n        }\n</code></pre>\n<p>That's the code I'm implementing with varied results for dates on the same day.  Sometimes compareTo delivers a 1 sometimes a 0.  An example print of the dates being compared:</p>\n<pre><code>oldCal Fri Nov 17 23:30:48 CST 2021\nnewCal Fri Nov 17 23:30:48 CST 2021\n</code></pre>\n<p>All of the times have been the same on both the 1 returns and the 0's.</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1637060065,"post_id":69984457,"comment_id":123718676,"body_markdown":"No, I dont think there is any other way. You need any of those settings to connect an external client to your outlook mail server.","body":"No, I dont think there is any other way. You need any of those settings to connect an external client to your outlook mail server."},{"owner":{"account_id":29269,"reputation":1995,"user_id":78972,"display_name":"dovetalk"},"score":0,"creation_date":1637165345,"post_id":69984457,"comment_id":123754232,"body_markdown":"Welcome to Stackoverflow. This question, however, is not really a code related question, but more on how to use Outlook APIs to download messages.","body":"Welcome to Stackoverflow. This question, however, is not really a code related question, but more on how to use Outlook APIs to download messages."},{"owner":{"account_id":13925212,"reputation":41,"user_id":10054723,"display_name":"Midhun David"},"score":0,"creation_date":1637215680,"post_id":69984457,"comment_id":123767790,"body_markdown":"Hi @SMA  I was some what able to connect but getting the above error","body":"Hi @SMA  I was some what able to connect but getting the above error"},{"owner":{"account_id":13925212,"reputation":41,"user_id":10054723,"display_name":"Midhun David"},"score":0,"creation_date":1637216106,"post_id":69984457,"comment_id":123767885,"body_markdown":"HI @dovetalk I was some what able to connect but getting the above error","body":"HI @dovetalk I was some what able to connect but getting the above error"}],"owner":{"account_id":13925212,"reputation":41,"user_id":10054723,"display_name":"Midhun David"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637215920,"creation_date":1637042849,"question_id":69984457,"body_markdown":"Hi I am trying to use java to download attachment&#39;s from the mail which is received on the current date.\r\n\r\nBut while checking for IMAP or POP3 server details to connect it shown as not available. Can any one tell me how to overcome this issue is there any other way to connect?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CQetN.png\r\n\r\n\r\nI was some what able to connect but now i am getting below error  \r\n\r\nOK The Microsoft Exchange IMAP4 service is ready. [KJGHFUFJHGKLJYOYRGFJHGFYFTHGFJYTFYJTFAwADEAQwBBADAAMAA1ADIALgBJAE4ARABQAFIARAAwADEALgBQAFIATwBEAC4ATwBVAFQATABPAE8ASwAuAEMATwBNAA==]\r\nB0 CAPABILITY\r\n\r\nCAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\r\nB0 OK CAPABILITY completed.\r\n\r\nDEBUG IMAP: AUTH: PLAIN\r\n\r\nDEBUG IMAP: AUTH: XOAUTH2\r\n\r\nDEBUG IMAP: protocolConnect login, host=outlook.office365.com, user=name@outlook.com, password= non-null\r\n\r\nDEBUG IMAP: AUTHENTICATE PLAIN command trace suppressed\r\n\r\nDEBUG IMAP: AUTHENTICATE PLAIN command result: B1 NO AUTHENTICATE failed.\r\n\r\nException in thread &quot;main&quot; javax.mail.AuthenticationFailedException: AUTHENTICATE failed.\r\n\r\n**Below is the code I used**\r\n\r\n\r\n  \r\n\r\n  \r\n\r\n    import java.io.BufferedReader;\r\n        import java.io.File;\r\n        import java.io.IOException;\r\n        import java.io.InputStreamReader;\r\n        import java.util.Properties;\r\n        \r\n        import javax.mail.Flags;\r\n        import javax.mail.Folder;\r\n        import javax.mail.Session;\r\n        import javax.mail.Store;\r\n        import javax.mail.Message;\r\n        import javax.mail.MessagingException;\r\n        import javax.mail.Multipart;\r\n        import javax.mail.Part;\r\n        import javax.mail.PasswordAuthentication;\r\n        import javax.mail.internet.MimeBodyPart;\r\n        import javax.mail.search.FlagTerm;\r\n        import com.j256.simplemagic.ContentInfo;\r\n        import com.j256.simplemagic.ContentInfoUtil;\r\n        import com.j256.simplemagic.ContentType;\r\n        import org.apache.commons.codec.binary.Base64;\r\n        public class test2 {\r\n        \r\n        \tpublic static void main(String[]args)throws Exception {\r\n        \t\tProperties props = System.getProperties();\r\n        \t\t//String imapProtocol = System.getgetImapSsl() != null &amp;&amp; server.getImapSsl() == true ? &quot;imaps&quot; : &quot;imap&quot;;\r\n        \t    props.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n        \t    props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n        \t    props.setProperty(&quot;mail.imaps.partialfetch&quot;, &quot;false&quot;);\r\n        \t    props.put(&quot;mail.mime.base64.ignoreerrors&quot;, &quot;true&quot;);\r\n        \t    \r\n        \t    //props.put(&quot;mail.imap.auth&quot;, &quot;true&quot;);\r\n        \t     \r\n        \t    Session mailSession = Session.getDefaultInstance(props\r\n        \t    \t\t, \r\n        \t    \t    new javax.mail.Authenticator(){\r\n        \t    \t        protected PasswordAuthentication getPasswordAuthentication() {\r\n        \t    \t            return new PasswordAuthentication(&quot;NAME@OUTLOOK.com&quot;, &quot;PASSWORD&quot;);// Specify the Username and the PassWord\r\n        \t    \t        }\r\n        \t    \t});\r\n        \t    String test = &quot;Workwork112233!&quot;;\r\n                System.out.println(test);\r\n        \t    mailSession.setDebug(true);\r\n        \t   Store store = mailSession.getStore(&quot;imap&quot;);\r\n        \t    store.connect( &quot;outlook.office365.com&quot;,&quot;NAME@OUTLOOK.com&quot;, &quot;PASSWORD&quot;);\r\n        \t        \r\n        \r\n              \r\n        \r\n        \t    Folder folder = store.getFolder(&quot;INBOX&quot;);\r\n        \t    folder.open(Folder.READ_WRITE);\r\n        \r\n        \t    System.out.println(&quot;Total Message:&quot; + folder.getMessageCount());\r\n        \t    System.out.println(&quot;Unread Message:&quot; + folder.getUnreadMessageCount());\r\n        \r\n        \t    Message[] messages = folder.getMessages();\r\n        \r\n        \t    for (Message mail : messages) {\r\n        \t        if (!mail.isSet(Flags.Flag.SEEN)) {\r\n        \r\n        \t            System.out.println(&quot;***************************************************&quot;);\r\n        \t            System.out.println(&quot;MESSAGE : \\n&quot;);\r\n        \r\n        \t            System.out.println(&quot;Subject: &quot; + mail.getSubject());\r\n        \t            System.out.println(&quot;From: &quot; + mail.getFrom()[0]);\r\n        \t            System.out.println(&quot;To: &quot; + mail.getAllRecipients()[0]);\r\n        \t            System.out.println(&quot;Date: &quot; + mail.getReceivedDate());\r\n        \t            System.out.println(&quot;Size: &quot; + mail.getSize());\r\n        \t            System.out.println(&quot;Flags: &quot; + mail.getFlags());\r\n        \t            System.out.println(&quot;ContentType: &quot; + mail.getContentType());\r\n        \t            System.out.println(&quot;Body: \\n&quot; + getEmailBody(mail));\r\n        \t           // System.out.println(&quot;Has Attachments: &quot; + hasAttachments(mail));\r\n        \r\n        \t        }\r\n        \t    }\r\n        \t\t\r\n        \t      \r\n        \t\t}\r\n        \t\r\n        \r\n        \tpublic static  String getEmailBody(Message email) throws IOException, MessagingException {\r\n        \r\n        \t    String line, emailContentEncoded;\r\n        \t    StringBuffer bufferEmailContentEncoded = new StringBuffer();\r\n        \t    BufferedReader reader = new BufferedReader(new InputStreamReader(email.getInputStream()));\r\n        \t    while ((line = reader.readLine()) != null) {\r\n        \t        bufferEmailContentEncoded.append(line);\r\n        \t    }\r\n        \r\n        \t    System.out.println(&quot;**************************************************&quot;);\r\n        \r\n        \t    System.out.println(bufferEmailContentEncoded);\r\n        \r\n        \t    System.out.println(&quot;**************************************************&quot;);\r\n        \r\n        \t    emailContentEncoded = bufferEmailContentEncoded.toString();\r\n        \r\n        \t    if (email.getContentType().toLowerCase().contains(&quot;multipart/related&quot;)) {\r\n        \r\n        \t        emailContentEncoded = emailContentEncoded.substring(emailContentEncoded.indexOf(&quot;base64&quot;) + 6);\r\n        \t        emailContentEncoded = emailContentEncoded.substring(0, emailContentEncoded.indexOf(&quot;Content-Type&quot;) - 1);\r\n        \r\n        \t        System.out.println(emailContentEncoded);\r\n        \r\n        \t        String emailContentDecoded = new String(new Base64().decode(emailContentEncoded.toString().getBytes()));\r\n        \t        return emailContentDecoded;\r\n        \t    }\r\n        \r\n        \t    return emailContentEncoded;\r\n        \r\n        \t}}\r\n        \t\r\n\r\n","title":"How to download attachments from Outlook mail using java without using server settings?","body":"<p>Hi I am trying to use java to download attachment's from the mail which is received on the current date.</p>\n<p>But while checking for IMAP or POP3 server details to connect it shown as not available. Can any one tell me how to overcome this issue is there any other way to connect?\n<a href=\"https://i.stack.imgur.com/CQetN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CQetN.png\" alt=\"enter image description here\" /></a></p>\n<p>I was some what able to connect but now i am getting below error</p>\n<p>OK The Microsoft Exchange IMAP4 service is ready. [KJGHFUFJHGKLJYOYRGFJHGFYFTHGFJYTFYJTFAwADEAQwBBADAAMAA1ADIALgBJAE4ARABQAFIARAAwADEALgBQAFIATwBEAC4ATwBVAFQATABPAE8ASwAuAEMATwBNAA==]\nB0 CAPABILITY</p>\n<p>CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\nB0 OK CAPABILITY completed.</p>\n<p>DEBUG IMAP: AUTH: PLAIN</p>\n<p>DEBUG IMAP: AUTH: XOAUTH2</p>\n<p>DEBUG IMAP: protocolConnect login, host=outlook.office365.com, user=name@outlook.com, password= non-null</p>\n<p>DEBUG IMAP: AUTHENTICATE PLAIN command trace suppressed</p>\n<p>DEBUG IMAP: AUTHENTICATE PLAIN command result: B1 NO AUTHENTICATE failed.</p>\n<p>Exception in thread &quot;main&quot; javax.mail.AuthenticationFailedException: AUTHENTICATE failed.</p>\n<p><strong>Below is the code I used</strong></p>\n<pre><code>import java.io.BufferedReader;\n    import java.io.File;\n    import java.io.IOException;\n    import java.io.InputStreamReader;\n    import java.util.Properties;\n    \n    import javax.mail.Flags;\n    import javax.mail.Folder;\n    import javax.mail.Session;\n    import javax.mail.Store;\n    import javax.mail.Message;\n    import javax.mail.MessagingException;\n    import javax.mail.Multipart;\n    import javax.mail.Part;\n    import javax.mail.PasswordAuthentication;\n    import javax.mail.internet.MimeBodyPart;\n    import javax.mail.search.FlagTerm;\n    import com.j256.simplemagic.ContentInfo;\n    import com.j256.simplemagic.ContentInfoUtil;\n    import com.j256.simplemagic.ContentType;\n    import org.apache.commons.codec.binary.Base64;\n    public class test2 {\n    \n        public static void main(String[]args)throws Exception {\n            Properties props = System.getProperties();\n            //String imapProtocol = System.getgetImapSsl() != null &amp;&amp; server.getImapSsl() == true ? &quot;imaps&quot; : &quot;imap&quot;;\n            props.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\n            props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n            props.setProperty(&quot;mail.imaps.partialfetch&quot;, &quot;false&quot;);\n            props.put(&quot;mail.mime.base64.ignoreerrors&quot;, &quot;true&quot;);\n            \n            //props.put(&quot;mail.imap.auth&quot;, &quot;true&quot;);\n             \n            Session mailSession = Session.getDefaultInstance(props\n                    , \n                    new javax.mail.Authenticator(){\n                        protected PasswordAuthentication getPasswordAuthentication() {\n                            return new PasswordAuthentication(&quot;NAME@OUTLOOK.com&quot;, &quot;PASSWORD&quot;);// Specify the Username and the PassWord\n                        }\n                });\n            String test = &quot;Workwork112233!&quot;;\n            System.out.println(test);\n            mailSession.setDebug(true);\n           Store store = mailSession.getStore(&quot;imap&quot;);\n            store.connect( &quot;outlook.office365.com&quot;,&quot;NAME@OUTLOOK.com&quot;, &quot;PASSWORD&quot;);\n                \n    \n          \n    \n            Folder folder = store.getFolder(&quot;INBOX&quot;);\n            folder.open(Folder.READ_WRITE);\n    \n            System.out.println(&quot;Total Message:&quot; + folder.getMessageCount());\n            System.out.println(&quot;Unread Message:&quot; + folder.getUnreadMessageCount());\n    \n            Message[] messages = folder.getMessages();\n    \n            for (Message mail : messages) {\n                if (!mail.isSet(Flags.Flag.SEEN)) {\n    \n                    System.out.println(&quot;***************************************************&quot;);\n                    System.out.println(&quot;MESSAGE : \\n&quot;);\n    \n                    System.out.println(&quot;Subject: &quot; + mail.getSubject());\n                    System.out.println(&quot;From: &quot; + mail.getFrom()[0]);\n                    System.out.println(&quot;To: &quot; + mail.getAllRecipients()[0]);\n                    System.out.println(&quot;Date: &quot; + mail.getReceivedDate());\n                    System.out.println(&quot;Size: &quot; + mail.getSize());\n                    System.out.println(&quot;Flags: &quot; + mail.getFlags());\n                    System.out.println(&quot;ContentType: &quot; + mail.getContentType());\n                    System.out.println(&quot;Body: \\n&quot; + getEmailBody(mail));\n                   // System.out.println(&quot;Has Attachments: &quot; + hasAttachments(mail));\n    \n                }\n            }\n            \n              \n            }\n        \n    \n        public static  String getEmailBody(Message email) throws IOException, MessagingException {\n    \n            String line, emailContentEncoded;\n            StringBuffer bufferEmailContentEncoded = new StringBuffer();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(email.getInputStream()));\n            while ((line = reader.readLine()) != null) {\n                bufferEmailContentEncoded.append(line);\n            }\n    \n            System.out.println(&quot;**************************************************&quot;);\n    \n            System.out.println(bufferEmailContentEncoded);\n    \n            System.out.println(&quot;**************************************************&quot;);\n    \n            emailContentEncoded = bufferEmailContentEncoded.toString();\n    \n            if (email.getContentType().toLowerCase().contains(&quot;multipart/related&quot;)) {\n    \n                emailContentEncoded = emailContentEncoded.substring(emailContentEncoded.indexOf(&quot;base64&quot;) + 6);\n                emailContentEncoded = emailContentEncoded.substring(0, emailContentEncoded.indexOf(&quot;Content-Type&quot;) - 1);\n    \n                System.out.println(emailContentEncoded);\n    \n                String emailContentDecoded = new String(new Base64().decode(emailContentEncoded.toString().getBytes()));\n                return emailContentDecoded;\n            }\n    \n            return emailContentEncoded;\n    \n        }}\n        \n</code></pre>\n"},{"tags":["java","hbase","hbase-client"],"answers":[{"tags":[],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637215822,"creation_date":1637215822,"answer_id":70015291,"question_id":69294175,"body_markdown":"we were not setting HBASE_CLIENT_IPC_POOL_SIZE, by default it was 1.\r\n\r\nAfter setting it to 3, we did not see the issue anymore.","title":"Hbase batch get stuck in waitUntilDone AsyncProcess.java","body":"<p>we were not setting HBASE_CLIENT_IPC_POOL_SIZE, by default it was 1.</p>\n<p>After setting it to 3, we did not see the issue anymore.</p>\n"}],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70015291,"answer_count":1,"score":0,"last_activity_date":1637215822,"creation_date":1632372506,"question_id":69294175,"body_markdown":"I am using HBase client Hbase client 1.4.13 (the issue was there in 1.4.10 as well). One host randomly starts misbehaving and does not return data from hbase. I took the thread dump and many threads are stuck in \r\n\r\n```\r\nstackTrace:\r\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\r\nat java.lang.Object.wait(Native Method)\r\nat org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl.waitUntilDone(AsyncProcess.java:1767)\r\n- locked &lt;0x000000043b004280&gt; (a java.util.concurrent.atomic.AtomicLong)\r\nat org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl.waitUntilDone(AsyncProcess.java:1733)\r\nat org.apache.hadoop.hbase.client.HTable.batch(HTable.java:906)\r\nat org.apache.hadoop.hbase.client.HTable.existsAll(HTable.java:1440)\r\nat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302)\r\nat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298)\r\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46)\r\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\nat rx.Observable.unsafeSubscribe(Observable.java:10151)\r\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)\r\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\r\nat rx.Observable.unsafeSubscribe(Observable.java:10151)\r\nat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\r\nat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\nat rx.Observable.unsafeSubscribe(Observable.java:10151)\r\nat rx.internal.operators.OperatorSubscribeOn$1.call(OperatorSubscribeOn.java:94)\r\nat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56)\r\nat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47)\r\nat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69)\r\nat rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\r\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nI check connection stats using netstat, all the hbase connections were in ESTABLISHED state. The source code is available [here][1]. Hbase server is 2.X\r\n\r\n\r\n  [1]: https://github.com/apache/hbase/blob/rel/1.4.13/hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java","title":"Hbase batch get stuck in waitUntilDone AsyncProcess.java","body":"<p>I am using HBase client Hbase client 1.4.13 (the issue was there in 1.4.10 as well). One host randomly starts misbehaving and does not return data from hbase. I took the thread dump and many threads are stuck in</p>\n<pre><code>stackTrace:\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\nat java.lang.Object.wait(Native Method)\nat org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl.waitUntilDone(AsyncProcess.java:1767)\n- locked &lt;0x000000043b004280&gt; (a java.util.concurrent.atomic.AtomicLong)\nat org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl.waitUntilDone(AsyncProcess.java:1733)\nat org.apache.hadoop.hbase.client.HTable.batch(HTable.java:906)\nat org.apache.hadoop.hbase.client.HTable.existsAll(HTable.java:1440)\nat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302)\nat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298)\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46)\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\nat rx.Observable.unsafeSubscribe(Observable.java:10151)\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\nat rx.Observable.unsafeSubscribe(Observable.java:10151)\nat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\nat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\nat rx.Observable.unsafeSubscribe(Observable.java:10151)\nat rx.internal.operators.OperatorSubscribeOn$1.call(OperatorSubscribeOn.java:94)\nat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56)\nat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47)\nat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69)\nat rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>I check connection stats using netstat, all the hbase connections were in ESTABLISHED state. The source code is available <a href=\"https://github.com/apache/hbase/blob/rel/1.4.13/hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java\" rel=\"nofollow noreferrer\">here</a>. Hbase server is 2.X</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1637204915,"post_id":70013996,"comment_id":123765974,"body_markdown":"Please edit the question including the API that you are trying to integrate.","body":"Please edit the question including the API that you are trying to integrate."},{"owner":{"account_id":22496016,"reputation":33,"user_id":16692982,"display_name":"Sang Kim"},"score":0,"creation_date":1637205182,"post_id":70013996,"comment_id":123766013,"body_markdown":"edited with the target api!","body":"edited with the target api!"}],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637215283,"creation_date":1637215283,"answer_id":70015207,"question_id":70013996,"body_markdown":"You cannot use two `@RequestBody`. It can bind to a single object only. The expected way to do that is to create a wrapper DTO containing all the relevant data:\r\n\r\n    public class TransReqDto {\r\n    \r\n      private TransReqDto1 transReqDto1;\r\n      private TransReqDto2 transReqDto2;\r\n    //...\r\n    }\r\n\r\n","title":"Using BodyInserters to pass parameter with webClient","body":"<p>You cannot use two <code>@RequestBody</code>. It can bind to a single object only. The expected way to do that is to create a wrapper DTO containing all the relevant data:</p>\n<pre><code>public class TransReqDto {\n\n  private TransReqDto1 transReqDto1;\n  private TransReqDto2 transReqDto2;\n//...\n}\n</code></pre>\n"}],"owner":{"account_id":22496016,"reputation":33,"user_id":16692982,"display_name":"Sang Kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70015207,"answer_count":1,"score":0,"last_activity_date":1637215283,"creation_date":1637203901,"question_id":70013996,"body_markdown":"There is my code.\r\n\r\n\r\n    public Mono&lt;RespDto&gt; function(TransReqDto1 reqDto1, TransReqDto2 reqDto2, String token) {\r\n\r\n        MultipartBodyBuilder builder = new MultipartBodyBuilder();\r\n        builder.part(&quot;TransReqDto1&quot;, reqDto1);\r\n        builder.part(&quot;TransReqDto2&quot;, reqDto2);\r\n\r\n        MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt; parts = builder.build();\r\n\r\n        LinkedMultiValueMap map = new LinkedMultiValueMap();\r\n        map.add(&quot;TransReqDto1&quot;, reqDto1);\r\n        map.add(&quot;TransReqDto2&quot;, reqDto2);\r\n\r\n        return\r\n                client.post()\r\n                        .uri(&quot;/api&quot;)\r\n                        .body(BodyInserters.fromValue(reqDto1))\r\n                        .headers(h -&gt; h.setBearerAuth(token.split(&quot; &quot;)[1]))\r\n                        .retrieve()\r\n                        .bodyToMono(RespDto.class);\r\n           \r\n    }\r\n\r\nMy probelm is that I need to send both reqDto1 &amp; reqDto2. I&#39;ve successfully sent reqDto1 with the code above but I can&#39;t figure out a way to send two objects.\r\nTried MultipartBodybuild and MultiValueMap but both are returning error from the target API. Please give me some hints!! Thank you\r\n\r\n\r\n\r\nHere is the API I am trying to call!\r\n\r\n    @PostMapping(&quot;&quot;)\r\n    @ApiOperation(value = &quot;test&quot;, notes = &quot;test&quot;)\r\n    public Mono&lt;?&gt; transPost(@Valid @RequestBody TransReqDto1 reqDto1,\r\n                             @Valid @RequestBody TransReqDto2 reqDto2) {\r\n        return testService.function(reqDto1, reqDto2);\r\n    }","title":"Using BodyInserters to pass parameter with webClient","body":"<p>There is my code.</p>\n<pre><code>public Mono&lt;RespDto&gt; function(TransReqDto1 reqDto1, TransReqDto2 reqDto2, String token) {\n\n    MultipartBodyBuilder builder = new MultipartBodyBuilder();\n    builder.part(&quot;TransReqDto1&quot;, reqDto1);\n    builder.part(&quot;TransReqDto2&quot;, reqDto2);\n\n    MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt; parts = builder.build();\n\n    LinkedMultiValueMap map = new LinkedMultiValueMap();\n    map.add(&quot;TransReqDto1&quot;, reqDto1);\n    map.add(&quot;TransReqDto2&quot;, reqDto2);\n\n    return\n            client.post()\n                    .uri(&quot;/api&quot;)\n                    .body(BodyInserters.fromValue(reqDto1))\n                    .headers(h -&gt; h.setBearerAuth(token.split(&quot; &quot;)[1]))\n                    .retrieve()\n                    .bodyToMono(RespDto.class);\n       \n}\n</code></pre>\n<p>My probelm is that I need to send both reqDto1 &amp; reqDto2. I've successfully sent reqDto1 with the code above but I can't figure out a way to send two objects.\nTried MultipartBodybuild and MultiValueMap but both are returning error from the target API. Please give me some hints!! Thank you</p>\n<p>Here is the API I am trying to call!</p>\n<pre><code>@PostMapping(&quot;&quot;)\n@ApiOperation(value = &quot;test&quot;, notes = &quot;test&quot;)\npublic Mono&lt;?&gt; transPost(@Valid @RequestBody TransReqDto1 reqDto1,\n                         @Valid @RequestBody TransReqDto2 reqDto2) {\n    return testService.function(reqDto1, reqDto2);\n}\n</code></pre>\n"},{"tags":["java","macos"],"answers":[{"tags":[],"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637214955,"creation_date":1589696829,"answer_id":61847827,"question_id":61847716,"body_markdown":"Sorry, I just saw what&#39;s wrong...\r\n\r\nThere used to be an `apt` tool in Java, but it&#39;s gone now. Your mistake is using the linux command line. On many linux systems, another tool called `apt` is used for installing software.\r\n\r\nCheck the `npm` documentation on how to install `npm` on your Mac, as there are different ways to do it.\r\n\r\nOnce `npm` is installed, run `sudo npm install -g express-generator` (no `apt` here).\r\n\r\n- **Explanation of the error message**\r\n\r\n    The Java apt-tool was [removed][1] in JDK 8. But as JAVA_HOME/bin is normally not on your PATH on Mac, apple provides simple wrappers for all the commands under JAVA_HOME. There still is such a wrapper for `apt` that tries to run a program with the same name from your Java installation. That&#39;s why you get that error message.\r\n\r\n- **conflict between the pre-installed macOS Java-Version and the Orcalce Java-Version:**\r\n\r\n    Apple [stopped pre-installing Java in macOS 10.7][2] so this should not be an issue.\r\n\r\n- **difference between java_home and JAVA_HOME:**\r\n    \r\n    JAVA_HOME is an environment variable that points to your Java installation. `java_home` is a utility program in macOS that makes it easier to correctly set up your JAVA_HOME by listing installed Java versions and the values to use for JAVA_HOME.\r\n\r\n  [1]: https://openjdk.java.net/jeps/117\r\n  [2]: https://apple.stackexchange.com/questions/102466/does-java-come-pre-installed-on-mac-os-x-10-7-10-8-and-beyond/102548","title":"Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/...&quot;","body":"<p>Sorry, I just saw what's wrong...</p>\n<p>There used to be an <code>apt</code> tool in Java, but it's gone now. Your mistake is using the linux command line. On many linux systems, another tool called <code>apt</code> is used for installing software.</p>\n<p>Check the <code>npm</code> documentation on how to install <code>npm</code> on your Mac, as there are different ways to do it.</p>\n<p>Once <code>npm</code> is installed, run <code>sudo npm install -g express-generator</code> (no <code>apt</code> here).</p>\n<ul>\n<li><p><strong>Explanation of the error message</strong></p>\n<p>The Java apt-tool was <a href=\"https://openjdk.java.net/jeps/117\" rel=\"nofollow noreferrer\">removed</a> in JDK 8. But as JAVA_HOME/bin is normally not on your PATH on Mac, apple provides simple wrappers for all the commands under JAVA_HOME. There still is such a wrapper for <code>apt</code> that tries to run a program with the same name from your Java installation. That's why you get that error message.</p>\n</li>\n<li><p><strong>conflict between the pre-installed macOS Java-Version and the Orcalce Java-Version:</strong></p>\n<p>Apple <a href=\"https://apple.stackexchange.com/questions/102466/does-java-come-pre-installed-on-mac-os-x-10-7-10-8-and-beyond/102548\">stopped pre-installing Java in macOS 10.7</a> so this should not be an issue.</p>\n</li>\n<li><p><strong>difference between java_home and JAVA_HOME:</strong></p>\n<p>JAVA_HOME is an environment variable that points to your Java installation. <code>java_home</code> is a utility program in macOS that makes it easier to correctly set up your JAVA_HOME by listing installed Java versions and the values to use for JAVA_HOME.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":15643053,"reputation":85,"user_id":11720573,"display_name":"Dawienchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61847827,"answer_count":1,"score":0,"last_activity_date":1637214955,"creation_date":1589695915,"question_id":61847716,"body_markdown":"I want to install an NPM express generator:\r\n\r\n`sudo apt npm install -g  express-generator`\r\n\r\nIt throws the following error:\r\n\r\n`Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/openjdk-14.0.1.jdk/Contents/Home/bin/apt&quot; (-1)`\r\n\r\nI installed Java in this path (it&#39;s not in the System/Library/ - maybe thats the issue?):\r\n\r\n&#39;MacintoshSSD/Library/Java/JavaVirtualMachines/openjdk-14.0.1.jdk/Contents/Home&#39;\r\n\r\nMy .bash_profile looks like that:\r\n\r\n`export JAVA_HOME=$(/usr/libexec/java_home)`\r\n\r\nIf I check JAVA_HOME it looks fine:\r\n\r\n`echo $JAVA_HOME\r\n/Library/Java/JavaVirtualMachines/openjdk-14.0.1.jdk/Contents/Home`\r\n\r\n.. and Java version:\r\n\r\n`java --version\r\nopenjdk 14.0.1 2020-04-14\r\nOpenJDK Runtime Environment (build 14.0.1+7)\r\nOpenJDK 64-Bit Server VM (build 14.0.1+7, mixed mode, sharing)`\r\n\r\nAny idea why it still can find an exectuable?\r\n\r\nI an other thread I read about a possible conflict between the pre-installed macOS Java-Version and the Orcalce Java-Version [enter link description here][1] but I couldn`t work it out..\r\n\r\nAnd could you explain to me the difference between java_home and JAVA_HOME?\r\n\r\n  [1]: https://stackoverflow.com/a/18144853/11720573","title":"Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/...&quot;","body":"<p>I want to install an NPM express generator:</p>\n\n<p><code>sudo apt npm install -g  express-generator</code></p>\n\n<p>It throws the following error:</p>\n\n<p><code>Unable to locate an executable at \"/Library/Java/JavaVirtualMachines/openjdk-14.0.1.jdk/Contents/Home/bin/apt\" (-1)</code></p>\n\n<p>I installed Java in this path (it's not in the System/Library/ - maybe thats the issue?):</p>\n\n<p>'MacintoshSSD/Library/Java/JavaVirtualMachines/openjdk-14.0.1.jdk/Contents/Home'</p>\n\n<p>My .bash_profile looks like that:</p>\n\n<p><code>export JAVA_HOME=$(/usr/libexec/java_home)</code></p>\n\n<p>If I check JAVA_HOME it looks fine:</p>\n\n<p><code>echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/openjdk-14.0.1.jdk/Contents/Home</code></p>\n\n<p>.. and Java version:</p>\n\n<p><code>java --version\nopenjdk 14.0.1 2020-04-14\nOpenJDK Runtime Environment (build 14.0.1+7)\nOpenJDK 64-Bit Server VM (build 14.0.1+7, mixed mode, sharing)</code></p>\n\n<p>Any idea why it still can find an exectuable?</p>\n\n<p>I an other thread I read about a possible conflict between the pre-installed macOS Java-Version and the Orcalce Java-Version <a href=\"https://stackoverflow.com/a/18144853/11720573\">enter link description here</a> but I couldn`t work it out..</p>\n\n<p>And could you explain to me the difference between java_home and JAVA_HOME?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1637126494,"post_id":69999253,"comment_id":123739649,"body_markdown":"Didn’t you just ask this question yesterday or the date before? Did you delete it and asked again? Sorry, I don’t know Selenium, so don’t understand the question and cannot answer.","body":"Didn’t you just ask this question yesterday or the date before? Did you delete it and asked again? Sorry, I don’t know Selenium, so don’t understand the question and cannot answer."}],"answers":[{"tags":[],"owner":{"account_id":23339993,"reputation":3,"user_id":17415013,"display_name":"RASHI "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637214834,"creation_date":1637214834,"answer_id":70015151,"question_id":69999253,"body_markdown":"    public void selectRequiredOn(String date) throws InterruptedException\r\n    \t{\r\n    \t\trequiredOnClick.click();\r\n    \t\tThread.sleep(2000);\r\n    \t\t\r\n    \t\tWebElement calendarRange = createWebElement(&quot;//table[@class=&#39;owl-dt-calendar-table owl-dt-calendar-month-table&#39;]//td[not(contains(@class,&#39; owl-dt-calendar-cell-disabled ng-star-inserted&#39;))]//span[contains(text(),&#39;&quot;+date+&quot;&#39;)]&quot;);\r\n    \t\tThread.sleep(2000);\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\tif(calendarRange.isDisplayed())\r\n    \t\t{\t\t\r\n    \t\t\tcalendarRange.click();\r\n    //\t\t\tWebElement dateClick = createWebElement(&quot;//table[@class=&#39;owl-dt-calendar-table owl-dt-calendar-month-table&#39;]//td[not(contains(@class,&#39; owl-dt-calendar-cell-disabled ng-star-inserted&#39;))]//span[contains(text(),&#39;&quot;+date+&quot;&#39;)]&quot;);\r\n    //\t\t    dateClick.click();\r\n    \t\t    Thread.sleep(2000);\r\n    \t\t    calendarSetButtonClick.click();\t\t\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tcurrentDate.click();\r\n    \t\t\tThread.sleep(2000);\r\n    \t\t\tcalendarSetButtonClick.click();\r\n    \t\t}\r\n    \t\t}\r\n    \t\tcatch(NoSuchElementException e)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t}","title":"How can I find the end date of the calendar control in selenium java","body":"<pre><code>public void selectRequiredOn(String date) throws InterruptedException\n    {\n        requiredOnClick.click();\n        Thread.sleep(2000);\n        \n        WebElement calendarRange = createWebElement(&quot;//table[@class='owl-dt-calendar-table owl-dt-calendar-month-table']//td[not(contains(@class,' owl-dt-calendar-cell-disabled ng-star-inserted'))]//span[contains(text(),'&quot;+date+&quot;')]&quot;);\n        Thread.sleep(2000);\n        \n        try\n        {\n        if(calendarRange.isDisplayed())\n        {       \n            calendarRange.click();\n//          WebElement dateClick = createWebElement(&quot;//table[@class='owl-dt-calendar-table owl-dt-calendar-month-table']//td[not(contains(@class,' owl-dt-calendar-cell-disabled ng-star-inserted'))]//span[contains(text(),'&quot;+date+&quot;')]&quot;);\n//          dateClick.click();\n            Thread.sleep(2000);\n            calendarSetButtonClick.click();     \n        }\n        else\n        {\n            currentDate.click();\n            Thread.sleep(2000);\n            calendarSetButtonClick.click();\n        }\n        }\n        catch(NoSuchElementException e)\n        {\n            \n        }\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":23339993,"reputation":3,"user_id":17415013,"display_name":"RASHI "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1637214834,"creation_date":1637126159,"question_id":69999253,"body_markdown":"This calendar has a date range of 11 days from the current date, how can I check if the date that is entered through the script is between this range and select it else if that entered date mentioned in script not in that date range then current date should be clicked. \r\n\r\nThere is a class that can be used to get the current date (class=&quot;owl-dt-calendar-cell-content owl-dt-calendar-cell-today&quot;)[calendar][1]\r\n\r\n    public void selectRequiredOn(String date)\r\n\t{\r\n\t\trequiredOnClick.click();\r\n\t\tcurrentDate.getText();\r\n\t\t\r\n\t\tif(currentDate.equals(date))\r\n\t\t{\r\n\t\t\tcurrentDate.click();\r\n\t\t}\r\n\r\n  [1]: https://i.stack.imgur.com/kcSsA.png","title":"How can I find the end date of the calendar control in selenium java","body":"<p>This calendar has a date range of 11 days from the current date, how can I check if the date that is entered through the script is between this range and select it else if that entered date mentioned in script not in that date range then current date should be clicked.</p>\n<p>There is a class that can be used to get the current date (class=&quot;owl-dt-calendar-cell-content owl-dt-calendar-cell-today&quot;)<a href=\"https://i.stack.imgur.com/kcSsA.png\" rel=\"nofollow noreferrer\">calendar</a></p>\n<pre><code>public void selectRequiredOn(String date)\n{\n    requiredOnClick.click();\n    currentDate.getText();\n    \n    if(currentDate.equals(date))\n    {\n        currentDate.click();\n    }\n</code></pre>\n"},{"tags":["java","algorithm","recursion","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"score":0,"creation_date":1637190406,"post_id":70012646,"comment_id":123763423,"body_markdown":"your conditions are wrong. First check if it&#39;s &gt;= to min and &lt;= to max. If so, print and _recurse_ both left and right. Otherwise check if &gt; max, go left, else go right.","body":"your conditions are wrong. First check if it&#39;s &gt;= to min and &lt;= to max. If so, print and <i>recurse</i> both left and right. Otherwise check if &gt; max, go left, else go right."},{"owner":{"account_id":9055663,"reputation":2527,"user_id":6744133,"display_name":"Oli"},"score":0,"creation_date":1637191556,"post_id":70012646,"comment_id":123763649,"body_markdown":"Apart from the problem pointed out by user1984, the `data = data;` in the `Node` constructor is also incorrect - it should be `this.data = data;`.","body":"Apart from the problem pointed out by user1984, the <code>data = data;</code> in the <code>Node</code> constructor is also incorrect - it should be <code>this.data = data;</code>."}],"answers":[{"tags":[],"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637191278,"creation_date":1637190846,"answer_id":70012740,"question_id":70012646,"body_markdown":"The condition of your current algorithm are wrong. You first check:\r\n```java\r\nif(n.data.compareTo(min) &gt; 0){ // If node data is greater than min recurse through left subtree\r\n            Print(n.left, min, max);\r\n```\r\nWhenever the `node`s data is greater than `min` you recurse through the left subtree. But what if it is greater than `min` and less than `max`? Since this is an `if... else if...` construct the other conditions never hit. So you could potentially miss to print a `node` that is greater than `min` and less than `max`.\r\n\r\nThen the second condition is as follows:\r\n```java\r\n        }else if(n.data.compareTo(min) &gt;=0 &amp;&amp; n.data.compareTo(max) &lt;=0){ // Printing the root if it lies between the given bounderies\r\n            System.out.println(n.data);\r\n```\r\nNow, if the `node` is in the proper interval between `min` and `max`, you are only printing it but don&#39;t recurse left and right. There could be other `node`s that you are missing.\r\n\r\nSo, in general, the conditions are not correctly written. The following code first checks if the `node` is in the `min/max` interval. If so, it traverse left and right and also prints the node. It is an `inorder` traversal, that&#39;s why it first goes left, then prints and then goes right. Then it checks if `node` is less than `min`. In that case it recurses right, and otherwise left.\r\n\r\n\r\n```java\r\npublic void printPart(E min, E max) {\r\n    Print(root, min, max);\r\n}\r\n\r\nprivate void Print(Node&lt;E&gt; n, E min, E max){\r\n\r\n    if(n!=null){\r\n        if(n.data.compareTo(min) &gt;=0 &amp;&amp; n.data.compareTo(max) &lt;=0){ // If node lies in min/max interval: print and recurse both left and right\r\n            Print(n.left, min, max);  // we do an inorder: left, root, right\r\n            System.out.println(n.data);\r\n            Print(n.right, min, max);\r\n        }else if(n.data.compareTo(min) &lt; 0){ // If node less than min, recurse right\r\n            Print(n.right, min, max);\r\n        } else{ // recurse left\r\n            Print(n.left, min, max);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Print BST keys in the given range","body":"<p>The condition of your current algorithm are wrong. You first check:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(n.data.compareTo(min) &gt; 0){ // If node data is greater than min recurse through left subtree\n            Print(n.left, min, max);\n</code></pre>\n<p>Whenever the <code>node</code>s data is greater than <code>min</code> you recurse through the left subtree. But what if it is greater than <code>min</code> and less than <code>max</code>? Since this is an <code>if... else if...</code> construct the other conditions never hit. So you could potentially miss to print a <code>node</code> that is greater than <code>min</code> and less than <code>max</code>.</p>\n<p>Then the second condition is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        }else if(n.data.compareTo(min) &gt;=0 &amp;&amp; n.data.compareTo(max) &lt;=0){ // Printing the root if it lies between the given bounderies\n            System.out.println(n.data);\n</code></pre>\n<p>Now, if the <code>node</code> is in the proper interval between <code>min</code> and <code>max</code>, you are only printing it but don't recurse left and right. There could be other <code>node</code>s that you are missing.</p>\n<p>So, in general, the conditions are not correctly written. The following code first checks if the <code>node</code> is in the <code>min/max</code> interval. If so, it traverse left and right and also prints the node. It is an <code>inorder</code> traversal, that's why it first goes left, then prints and then goes right. Then it checks if <code>node</code> is less than <code>min</code>. In that case it recurses right, and otherwise left.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void printPart(E min, E max) {\n    Print(root, min, max);\n}\n\nprivate void Print(Node&lt;E&gt; n, E min, E max){\n\n    if(n!=null){\n        if(n.data.compareTo(min) &gt;=0 &amp;&amp; n.data.compareTo(max) &lt;=0){ // If node lies in min/max interval: print and recurse both left and right\n            Print(n.left, min, max);  // we do an inorder: left, root, right\n            System.out.println(n.data);\n            Print(n.right, min, max);\n        }else if(n.data.compareTo(min) &lt; 0){ // If node less than min, recurse right\n            Print(n.right, min, max);\n        } else{ // recurse left\n            Print(n.left, min, max);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637214778,"creation_date":1637214778,"answer_id":70015146,"question_id":70012646,"body_markdown":"First get traversal of the entire tree correct:\r\n\r\n```\r\nprivate void Print(Node node) {\r\n  if (node == null) return;\r\n  Print(node.left);\r\n  // Visit the node in BST sorted order here.\r\n  Print(node.right);\r\n}\r\n```\r\n\r\nIn your case the &quot;visit&quot; is to check whether the node&#39;s value lies in the range. \r\n\r\nThere&#39;s not much sense in passing the range through every recursive call. It&#39;s verbose and error prone.  You can make it a class attribute:\r\n```java\r\nclass RangePrinter&lt;E extends Comparable&lt;? super E&gt;&gt; {\r\n  private final E min, max;\r\n\r\n  private RangePrinter(E min, E max) {\r\n    this.min = min; this.max = max;\r\n  }\r\n\r\n  private void print(Node&lt;E&gt; node) {\r\n     if (node == null) return;\r\n     print(node.left);\r\n     if (min.compareTo(node.data) &lt;= 0 &amp;&amp; node.data.compareTo(max) &lt;= 0) \r\n       System.out.println(node.data);\r\n     print(node.right);\r\n  }\r\n\r\n  static &lt;E extends Comparable&lt;? super E&gt;&gt; void Print(Node&lt;E&gt; node, E min, E max) {\r\n    new RangePrinter(min, max).print(node);\r\n  }\r\n}\r\n```\r\n\r\nUse this with `RangerPrinter.Print(root, 3, 42);`.\r\n\r\nNote that this is a naive solution in that you might have a tree with a billion nodes and need to print only 3. This algorithm would visit all billion. A good one would need to visit only a maximum of about 90. But that&#39;s trickier to implement (in Java at least)...\r\n\r\n","title":"Print BST keys in the given range","body":"<p>First get traversal of the entire tree correct:</p>\n<pre><code>private void Print(Node node) {\n  if (node == null) return;\n  Print(node.left);\n  // Visit the node in BST sorted order here.\n  Print(node.right);\n}\n</code></pre>\n<p>In your case the &quot;visit&quot; is to check whether the node's value lies in the range.</p>\n<p>There's not much sense in passing the range through every recursive call. It's verbose and error prone.  You can make it a class attribute:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class RangePrinter&lt;E extends Comparable&lt;? super E&gt;&gt; {\n  private final E min, max;\n\n  private RangePrinter(E min, E max) {\n    this.min = min; this.max = max;\n  }\n\n  private void print(Node&lt;E&gt; node) {\n     if (node == null) return;\n     print(node.left);\n     if (min.compareTo(node.data) &lt;= 0 &amp;&amp; node.data.compareTo(max) &lt;= 0) \n       System.out.println(node.data);\n     print(node.right);\n  }\n\n  static &lt;E extends Comparable&lt;? super E&gt;&gt; void Print(Node&lt;E&gt; node, E min, E max) {\n    new RangePrinter(min, max).print(node);\n  }\n}\n</code></pre>\n<p>Use this with <code>RangerPrinter.Print(root, 3, 42);</code>.</p>\n<p>Note that this is a naive solution in that you might have a tree with a billion nodes and need to print only 3. This algorithm would visit all billion. A good one would need to visit only a maximum of about 90. But that's trickier to implement (in Java at least)...</p>\n"}],"owner":{"account_id":18453936,"reputation":23,"user_id":17419233,"display_name":"Bigggie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70012740,"answer_count":2,"score":0,"last_activity_date":1637214778,"creation_date":1637190052,"question_id":70012646,"body_markdown":"I am wondering what is wrong with my method of printing the BST keys in the given range [min, max].  Given the class\r\n```\r\npublic class BinarySearchTree&lt;E extends Comparable&lt;? super E&gt;&gt; {\r\n   private Node&lt;E&gt; root;\r\n\t\r\n   // Constructors and other methods\r\n\t\r\n   private static class Node&lt;E&gt; {\r\n      private E data;\r\n      private Node&lt;E&gt; left;\r\n      private Node&lt;E&gt; right;\r\n\t\t\r\n      private Node(E data) {\r\n         data = data;\r\n         left = right = null;\r\n      }\r\n   }\r\n}\r\n```\r\nwhat is wrong with this solution:\r\n```\r\npublic void printPart(E min, E max) {\r\n    Print(root, min, max);\r\n}\r\n\r\nprivate void Print(Node&lt;E&gt; n, E min, E max){\r\n\r\n    if(n!=null){\r\n        if(n.data.compareTo(min) &gt; 0){ // If node data is greater than min recurse through left subtree\r\n            Print(n.left, min, max);\r\n        }else if(n.data.compareTo(min) &gt;=0 &amp;&amp; n.data.compareTo(max) &lt;=0){ // Printing the root if it lies between the given bounderies\r\n            System.out.println(n.data);\r\n        } else{ // recurse through right subtree\r\n            Print(n.right, min, max);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Print BST keys in the given range","body":"<p>I am wondering what is wrong with my method of printing the BST keys in the given range [min, max].  Given the class</p>\n<pre><code>public class BinarySearchTree&lt;E extends Comparable&lt;? super E&gt;&gt; {\n   private Node&lt;E&gt; root;\n    \n   // Constructors and other methods\n    \n   private static class Node&lt;E&gt; {\n      private E data;\n      private Node&lt;E&gt; left;\n      private Node&lt;E&gt; right;\n        \n      private Node(E data) {\n         data = data;\n         left = right = null;\n      }\n   }\n}\n</code></pre>\n<p>what is wrong with this solution:</p>\n<pre><code>public void printPart(E min, E max) {\n    Print(root, min, max);\n}\n\nprivate void Print(Node&lt;E&gt; n, E min, E max){\n\n    if(n!=null){\n        if(n.data.compareTo(min) &gt; 0){ // If node data is greater than min recurse through left subtree\n            Print(n.left, min, max);\n        }else if(n.data.compareTo(min) &gt;=0 &amp;&amp; n.data.compareTo(max) &lt;=0){ // Printing the root if it lies between the given bounderies\n            System.out.println(n.data);\n        } else{ // recurse through right subtree\n            Print(n.right, min, max);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security","jwt"],"owner":{"account_id":195074,"reputation":626,"user_id":437767,"accept_rate":62,"display_name":"Venkatesh Goud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637214757,"creation_date":1637169192,"question_id":70008763,"body_markdown":"We have spring mvc application in which we implemented JWT authentication. It is working fine in local environment but getting below error after deploying as a war file in linux server. Facing this issue for few API calls only some APIs are working fine with out any error. \r\n\r\nI have checked policy jars already available\r\n\r\n    /jre/lib/security/policy/unlimited/US_export_policy.jar\r\n    /jre/lib/security/policy/unlimited/local_policy.jar\r\n    /jre/lib/security/policy/limited/US_export_policy.jar\r\n    /jre/lib/security/policy/limited/local_policy.jar\r\n\r\n\r\n    500 Internal Server Error: Root Cause\r\n    \r\n    java.lang.NoClassDefFoundError: Could not initialize class javax.crypto.JceSecurity\r\n    \tjavax.crypto.Mac.getInstance(Mac.java:176)\r\n    \tio.jsonwebtoken.impl.crypto.MacSigner.doGetMacInstance(MacSigner.java:64)\r\n    \tio.jsonwebtoken.impl.crypto.MacSigner.getMacInstance(MacSigner.java:53)\r\n    \tio.jsonwebtoken.impl.crypto.MacSigner.sign(MacSigner.java:47)\r\n    \tio.jsonwebtoken.impl.crypto.MacValidator.isValid(MacValidator.java:33)\r\n    \tio.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.isValid(DefaultJwtSignatureValidator.java:61)\r\n    \tio.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:408)\r\n    \tio.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:541)\r\n    \tio.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:601)\r\n    \tio.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)\r\n    \tcom.gsshop.api.jwt.JWTManager.validateJwtToken(JWTManager.java:66)\r\n\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class javax.crypto.JceSecurity","body":"<p>We have spring mvc application in which we implemented JWT authentication. It is working fine in local environment but getting below error after deploying as a war file in linux server. Facing this issue for few API calls only some APIs are working fine with out any error.</p>\n<p>I have checked policy jars already available</p>\n<pre><code>/jre/lib/security/policy/unlimited/US_export_policy.jar\n/jre/lib/security/policy/unlimited/local_policy.jar\n/jre/lib/security/policy/limited/US_export_policy.jar\n/jre/lib/security/policy/limited/local_policy.jar\n\n\n500 Internal Server Error: Root Cause\n\njava.lang.NoClassDefFoundError: Could not initialize class javax.crypto.JceSecurity\n    javax.crypto.Mac.getInstance(Mac.java:176)\n    io.jsonwebtoken.impl.crypto.MacSigner.doGetMacInstance(MacSigner.java:64)\n    io.jsonwebtoken.impl.crypto.MacSigner.getMacInstance(MacSigner.java:53)\n    io.jsonwebtoken.impl.crypto.MacSigner.sign(MacSigner.java:47)\n    io.jsonwebtoken.impl.crypto.MacValidator.isValid(MacValidator.java:33)\n    io.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.isValid(DefaultJwtSignatureValidator.java:61)\n    io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:408)\n    io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:541)\n    io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:601)\n    io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)\n    com.gsshop.api.jwt.JWTManager.validateJwtToken(JWTManager.java:66)\n</code></pre>\n"},{"tags":["java","swing","jtextarea","miglayout"],"comments":[{"owner":{"account_id":2980833,"reputation":319,"user_id":2530822,"display_name":"TotoliciCristian"},"score":0,"creation_date":1401370132,"post_id":2475787,"comment_id":36863840,"body_markdown":"A simple and fast solution you can find here !\r\n\r\nhttp://stackoverflow.com/a/7833439/2530822","body":"A simple and fast solution you can find here !    <a href=\"http://stackoverflow.com/a/7833439/2530822\">stackoverflow.com/a/7833439/2530822</a>"}],"answers":[{"tags":[],"owner":{"account_id":36408,"reputation":45923,"user_id":103842,"accept_rate":92,"display_name":"Kaleb Pederson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1272559381,"creation_date":1272559381,"answer_id":2739127,"question_id":2475787,"body_markdown":"This is because `JTextArea`&#39;s automatically have their minimum width set anytime they resize.  Details are available on the [MigLayout forum][1].  To roughly summarize, create a panel that contains the `JTextArea` and gives you further control over the resize behavior.  Here&#39;s an excerpt from the above forum post:\r\n\r\n    static class MyPanel extends JPanel implements Scrollable\r\n    {\r\n      MyPanel(LayoutManager layout)\r\n      {\r\n         super(layout);\r\n      }\r\n\r\n      public Dimension getPreferredScrollableViewportSize()\r\n      {\r\n         return getPreferredSize();\r\n      }\r\n\r\n      public int getScrollableBlockIncrement(Rectangle visibleRect, int orientation, int direction)\r\n      {\r\n         return 0;\r\n      }\r\n\r\n      public boolean getScrollableTracksViewportHeight()\r\n      {\r\n         return false;\r\n      }\r\n\r\n      public boolean getScrollableTracksViewportWidth()\r\n      {\r\n         return true;\r\n      }\r\n\r\n      public int getScrollableUnitIncrement(Rectangle visibleRect, int orientation, int direction)\r\n      {\r\n         return 0;\r\n      }\r\n    }\r\n\r\nThen, wherever you would use the JTextArea, use the panel containing the text area:\r\n\r\n    MigLayout thisLayout = new MigLayout(&quot;&quot;, &quot;[][grow]&quot;, &quot;[]20[]&quot;);\r\n    this.setLayout(thisLayout);\r\n    {\r\n        jLabel1 = new JLabel();\r\n        this.add(jLabel1, &quot;cell 0 0&quot;);\r\n        jLabel1.setText(&quot;jLabel1&quot;);\r\n    }\r\n    {\r\n        JPanel textAreaPanel = new MyPanel(new MigLayout(&quot;wrap&quot;, &quot;[grow,fill]&quot;, &quot;[]&quot;));\r\n        jTextArea1 = new JTextArea();\r\n        textAreaPanel.add(jTextArea1);\r\n        this.add(textAreaPanel, &quot;cell 0 1 2 1,grow,wmin 10&quot;);\r\n        jTextArea1.setText(&quot;jTextArea1&quot;);\r\n        jTextArea1.setLineWrap(false);\r\n    } \r\n\r\n\r\n  [1]: http://migcalendar.com/forum/viewtopic.php?f=8&amp;t=1972","title":"MigLayout JTextArea is not shrinking when used with linewrap=true","body":"<p>This is because <code>JTextArea</code>'s automatically have their minimum width set anytime they resize.  Details are available on the <a href=\"http://migcalendar.com/forum/viewtopic.php?f=8&amp;t=1972\" rel=\"noreferrer\">MigLayout forum</a>.  To roughly summarize, create a panel that contains the <code>JTextArea</code> and gives you further control over the resize behavior.  Here's an excerpt from the above forum post:</p>\n\n<pre><code>static class MyPanel extends JPanel implements Scrollable\n{\n  MyPanel(LayoutManager layout)\n  {\n     super(layout);\n  }\n\n  public Dimension getPreferredScrollableViewportSize()\n  {\n     return getPreferredSize();\n  }\n\n  public int getScrollableBlockIncrement(Rectangle visibleRect, int orientation, int direction)\n  {\n     return 0;\n  }\n\n  public boolean getScrollableTracksViewportHeight()\n  {\n     return false;\n  }\n\n  public boolean getScrollableTracksViewportWidth()\n  {\n     return true;\n  }\n\n  public int getScrollableUnitIncrement(Rectangle visibleRect, int orientation, int direction)\n  {\n     return 0;\n  }\n}\n</code></pre>\n\n<p>Then, wherever you would use the JTextArea, use the panel containing the text area:</p>\n\n<pre><code>MigLayout thisLayout = new MigLayout(\"\", \"[][grow]\", \"[]20[]\");\nthis.setLayout(thisLayout);\n{\n    jLabel1 = new JLabel();\n    this.add(jLabel1, \"cell 0 0\");\n    jLabel1.setText(\"jLabel1\");\n}\n{\n    JPanel textAreaPanel = new MyPanel(new MigLayout(\"wrap\", \"[grow,fill]\", \"[]\"));\n    jTextArea1 = new JTextArea();\n    textAreaPanel.add(jTextArea1);\n    this.add(textAreaPanel, \"cell 0 1 2 1,grow,wmin 10\");\n    jTextArea1.setText(\"jTextArea1\");\n    jTextArea1.setLineWrap(false);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":365141,"reputation":1223,"user_id":709910,"accept_rate":100,"display_name":"Datoraki"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1305573365,"creation_date":1305573365,"answer_id":6022219,"question_id":2475787,"body_markdown":"I just discovered that this can simply be resolved by changing the line\r\n\r\n    this.add(jTextArea1, &quot;cell 0 1 2 1,growx&quot;);\r\n\r\nto\r\n\r\n    this.add(jTextArea1, &quot;cell 0 1 2 1,growx, wmin 10&quot;);\r\n\r\nand no extra panels are needed. Setting an explicit minimum size is what does the trick.\r\n\r\nExplanation: see the note under the section on padding in the MiGLayout whitepaper:\r\n\r\nhttp://www.migcalendar.com/miglayout/whitepaper.html\r\n","title":"MigLayout JTextArea is not shrinking when used with linewrap=true","body":"<p>I just discovered that this can simply be resolved by changing the line</p>\n\n<pre><code>this.add(jTextArea1, \"cell 0 1 2 1,growx\");\n</code></pre>\n\n<p>to</p>\n\n<pre><code>this.add(jTextArea1, \"cell 0 1 2 1,growx, wmin 10\");\n</code></pre>\n\n<p>and no extra panels are needed. Setting an explicit minimum size is what does the trick.</p>\n\n<p>Explanation: see the note under the section on padding in the MiGLayout whitepaper:</p>\n\n<p><a href=\"http://www.migcalendar.com/miglayout/whitepaper.html\" rel=\"noreferrer\">http://www.migcalendar.com/miglayout/whitepaper.html</a></p>\n"}],"owner":{"account_id":106602,"reputation":1085,"user_id":283923,"accept_rate":71,"display_name":"Marcel Menz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4647,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":2739127,"answer_count":2,"score":11,"last_activity_date":1637213944,"creation_date":1268986219,"question_id":2475787,"body_markdown":"If I use a `JTextArea` with `MigLayout` like this:\r\n\r\n    MigLayout thisLayout = new MigLayout(&quot;&quot;, &quot;[][grow]&quot;, &quot;[]20[]&quot;);\r\n       this.setLayout(thisLayout);\r\n       {\r\n    jLabel1 = new JLabel();\r\n    this.add(jLabel1, &quot;cell 0 0&quot;);\r\n    jLabel1.setText(&quot;jLabel1&quot;);\r\n      }\r\n      {\r\n     jTextArea1 = new JTextArea();\r\n    this.add(jTextArea1, &quot;cell 0 1 2 1,growx&quot;);\r\n    jTextArea1.setText(&quot;jTextArea1&quot;);\r\n    jTextArea1.setLineWrap(false);\r\n       } \r\n\r\nthen the `JTextArea` grows and shrinks perfectly when resizing the window. When I set the linewrap to true the `JTextArea` is not shrinking when I make the window smaller again.","title":"MigLayout JTextArea is not shrinking when used with linewrap=true","body":"<p>If I use a <code>JTextArea</code> with <code>MigLayout</code> like this:</p>\n<pre><code>MigLayout thisLayout = new MigLayout(&quot;&quot;, &quot;[][grow]&quot;, &quot;[]20[]&quot;);\n   this.setLayout(thisLayout);\n   {\njLabel1 = new JLabel();\nthis.add(jLabel1, &quot;cell 0 0&quot;);\njLabel1.setText(&quot;jLabel1&quot;);\n  }\n  {\n jTextArea1 = new JTextArea();\nthis.add(jTextArea1, &quot;cell 0 1 2 1,growx&quot;);\njTextArea1.setText(&quot;jTextArea1&quot;);\njTextArea1.setLineWrap(false);\n   } \n</code></pre>\n<p>then the <code>JTextArea</code> grows and shrinks perfectly when resizing the window. When I set the linewrap to true the <code>JTextArea</code> is not shrinking when I make the window smaller again.</p>\n"},{"tags":["java","c++","opencv","logical-operators"],"comments":[{"owner":{"account_id":2346717,"reputation":39339,"user_id":2056772,"display_name":"berak"},"score":2,"creation_date":1429989014,"post_id":29869464,"comment_id":47864134,"body_markdown":"there are no real bits in opencv, one element(byte) is the smallest item (for a binary Mat it&#39;s either 0 or 255). so , those functions are equivalent to the c++ version.","body":"there are no real bits in opencv, one element(byte) is the smallest item (for a binary Mat it&#39;s either 0 or 255). so , those functions are equivalent to the c++ version."},{"owner":{"account_id":166915,"reputation":2563,"user_id":391376,"accept_rate":56,"display_name":"Latanius"},"score":0,"creation_date":1430025825,"post_id":29869464,"comment_id":47873012,"body_markdown":"... I see. I think I was imagining the existence of some mythical &quot;behaves like C&#39;s non-bitwise OR, elementwise on arrays&quot; operation and thought that operator overloading in the C++ API was doing just that, while in fact that one is bitwise, too. Thanks for pointing it out (would you like to write it up as a to-be-accepted answer?)","body":"... I see. I think I was imagining the existence of some mythical &quot;behaves like C&#39;s non-bitwise OR, elementwise on arrays&quot; operation and thought that operator overloading in the C++ API was doing just that, while in fact that one is bitwise, too. Thanks for pointing it out (would you like to write it up as a to-be-accepted answer?)"}],"answers":[{"tags":[],"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1429988906,"creation_date":1429988906,"answer_id":29869505,"question_id":29869464,"body_markdown":"This is operator overloading. In java operator overloading is not supported. But if you require something like this you can introduce a method to do this. \r\n\r\nFor example -  \r\n\r\n    Mat a, b;\r\n    Mat c;\r\n    c = Mat.doOperation(a, b);  \r\n\r\nWhere doOperation() is a static method in `Mat` - \r\n\r\n    public static doOperation(Mat a, Mat b){\r\n       //do whatever you want\r\n    }","title":"Logical operations in OpenCV from Java","body":"<p>This is operator overloading. In java operator overloading is not supported. But if you require something like this you can introduce a method to do this. </p>\n\n<p>For example -  </p>\n\n<pre><code>Mat a, b;\nMat c;\nc = Mat.doOperation(a, b);  \n</code></pre>\n\n<p>Where doOperation() is a static method in <code>Mat</code> - </p>\n\n<pre><code>public static doOperation(Mat a, Mat b){\n   //do whatever you want\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1319854,"reputation":839,"user_id":1265892,"display_name":"Marc Stogaitis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637213818,"creation_date":1637213818,"answer_id":70015040,"question_id":29869464,"body_markdown":"    Mat a, b; // Set these to what you need.\r\n    Mat result = new Mat();\r\n    Core.bitwise_and(a, b, result);\r\n\r\nYou can do the same with Core.bitwise_or(...)","title":"Logical operations in OpenCV from Java","body":"<pre><code>Mat a, b; // Set these to what you need.\nMat result = new Mat();\nCore.bitwise_and(a, b, result);\n</code></pre>\n<p>You can do the same with Core.bitwise_or(...)</p>\n"}],"owner":{"account_id":166915,"reputation":2563,"user_id":391376,"accept_rate":56,"display_name":"Latanius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1637213818,"creation_date":1429988684,"question_id":29869464,"body_markdown":"In OpenCV&#39;s C++ API, one can do elementwise boolean operations (and, or, xor, not) using a syntax like this:\r\n\r\n    Mat a, b;\r\n    Mat c = a &amp; b;\r\n\r\nand similarly with the others. I know there is no operator overloading in Java; I&#39;m looking for how the Java API exposes the same functionality that was exposed in C++ in that form. I&#39;ve found the `Core.bitwise_*` functions already, but those are per bit, not per matrix element.","title":"Logical operations in OpenCV from Java","body":"<p>In OpenCV's C++ API, one can do elementwise boolean operations (and, or, xor, not) using a syntax like this:</p>\n\n<pre><code>Mat a, b;\nMat c = a &amp; b;\n</code></pre>\n\n<p>and similarly with the others. I know there is no operator overloading in Java; I'm looking for how the Java API exposes the same functionality that was exposed in C++ in that form. I've found the <code>Core.bitwise_*</code> functions already, but those are per bit, not per matrix element.</p>\n"},{"tags":["java","eclipse","websphere"],"comments":[{"owner":{"account_id":9464449,"reputation":33,"user_id":7037273,"display_name":"Gio"},"score":0,"creation_date":1610620514,"post_id":65715981,"comment_id":116192448,"body_markdown":"EDIT: the start doesn&#39;t work only from eclipse. Using the bat provided byy IBM (startServer.bat), the server starts with no problems.","body":"EDIT: the start doesn&#39;t work only from eclipse. Using the bat provided byy IBM (startServer.bat), the server starts with no problems."}],"answers":[{"tags":[],"owner":{"account_id":6890847,"reputation":2050,"user_id":5294422,"display_name":"F Rowe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610721083,"creation_date":1610721083,"answer_id":65737959,"question_id":65715981,"body_markdown":"One of the easiest ways to run WebSphere Application Server in Eclipse is to install the [WebSphere Application Server Developer Tools for Eclipse][1] and use the server view to create an instance of a WAS server.  You can then stop and start it from Eclipse.\r\n\r\n\r\n  [1]: https://www.ibm.com/support/knowledgecenter/SSHR6W/com.ibm.websphere.wdt.doc/topics/t_install_wdt_eclipse.html","title":"Eclipse IBM Webshpere startup Could not find or load main class VS","body":"<p>One of the easiest ways to run WebSphere Application Server in Eclipse is to install the <a href=\"https://www.ibm.com/support/knowledgecenter/SSHR6W/com.ibm.websphere.wdt.doc/topics/t_install_wdt_eclipse.html\" rel=\"nofollow noreferrer\">WebSphere Application Server Developer Tools for Eclipse</a> and use the server view to create an instance of a WAS server.  You can then stop and start it from Eclipse.</p>\n"}],"owner":{"account_id":9464449,"reputation":33,"user_id":7037273,"display_name":"Gio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637212583,"creation_date":1610614487,"question_id":65715981,"body_markdown":"When starting up my IBM websphere 8.5 server on eclipse (both neon and 2020) I have the error &quot;Could not find or load main class VS&quot; on the server laucher console.\r\nThen the startup does nothing until the timeout.\r\n\r\nWhat can it be?\r\nThanks a lot for the help","title":"Eclipse IBM Webshpere startup Could not find or load main class VS","body":"<p>When starting up my IBM websphere 8.5 server on eclipse (both neon and 2020) I have the error &quot;Could not find or load main class VS&quot; on the server laucher console.\nThen the startup does nothing until the timeout.</p>\n<p>What can it be?\nThanks a lot for the help</p>\n"},{"tags":["java","arrays","json","gzip"],"answers":[{"tags":[],"owner":{"account_id":7917216,"reputation":19,"user_id":5979280,"display_name":"Madhuri"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637212279,"creation_date":1637212279,"answer_id":70014840,"question_id":70002591,"body_markdown":"    ObjectMapper objectMapper = new ObjectMapper();\r\n            byte[] bytesToWrite = objectMapper.writeValueAsBytes(payload);\r\n            ByteArrayOutputStream obj=new ByteArrayOutputStream();\r\n            GzipCompressorOutputStream gzip = new GzipCompressorOutputStream(obj);\r\n            gzip.write(bytesToWrite);\r\n            gzip.flush(); \r\n            gzip.close();\r\n            ObjectMetadata omd = new ObjectMetadata();\r\n            omd.setContentType(&quot;application/x-gzip&quot;);\r\n            omd.setContentLength(obj.toByteArray().length);\r\n           \r\n            s3.putObject(bucketName, keyName,  new ByteArrayInputStream(obj.toByteArray()), omd);","title":"how to compress a json list and upload to s3 using java","body":"<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n        byte[] bytesToWrite = objectMapper.writeValueAsBytes(payload);\n        ByteArrayOutputStream obj=new ByteArrayOutputStream();\n        GzipCompressorOutputStream gzip = new GzipCompressorOutputStream(obj);\n        gzip.write(bytesToWrite);\n        gzip.flush(); \n        gzip.close();\n        ObjectMetadata omd = new ObjectMetadata();\n        omd.setContentType(&quot;application/x-gzip&quot;);\n        omd.setContentLength(obj.toByteArray().length);\n       \n        s3.putObject(bucketName, keyName,  new ByteArrayInputStream(obj.toByteArray()), omd);\n</code></pre>\n"}],"owner":{"account_id":7917216,"reputation":19,"user_id":5979280,"display_name":"Madhuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637212279,"creation_date":1637144482,"question_id":70002591,"body_markdown":"I have a JsonNode array that i am trying to compress and upload to s3. below is my code and it is giving me  below error\r\n\r\nom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.ObjectOutputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\r\n\r\nin the below code , payload is JsonNode[]\r\n```ByteArrayOutputStream obj=new ByteArrayOutputStream();\r\n            GzipCompressorOutputStream gzip = new GzipCompressorOutputStream(obj);\r\n            ObjectOutputStream objectOutputStream = new ObjectOutputStream(gzip);\r\n            for(JsonNode record:payload) {\r\n                objectOutputStream.writeObject(record);\r\n            }\r\n         //   gzip.flush();\r\n        //    gzip.close();\r\n            objectOutputStream.close();\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            //objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            byte[] bytesToWrite = objectMapper.writeValueAsBytes(objectOutputStream);\r\n            ObjectMetadata omd = new ObjectMetadata();\r\n            //omd.setContentType(&quot;application/x-gzip&quot;);\r\n            omd.setContentLength(bytesToWrite.length);\r\n            //   transferManager.upload(bucketName, keyName, new ByteArrayInputStream(bytesToWrite), omd);\r\n            s3.putObject(bucketName, keyName,  new ByteArrayInputStream(bytesToWrite), omd);\r\n```","title":"how to compress a json list and upload to s3 using java","body":"<p>I have a JsonNode array that i am trying to compress and upload to s3. below is my code and it is giving me  below error</p>\n<p>om.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.ObjectOutputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)</p>\n<p>in the below code , payload is JsonNode[]</p>\n<pre><code>            GzipCompressorOutputStream gzip = new GzipCompressorOutputStream(obj);\n            ObjectOutputStream objectOutputStream = new ObjectOutputStream(gzip);\n            for(JsonNode record:payload) {\n                objectOutputStream.writeObject(record);\n            }\n         //   gzip.flush();\n        //    gzip.close();\n            objectOutputStream.close();\n            ObjectMapper objectMapper = new ObjectMapper();\n            //objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n            byte[] bytesToWrite = objectMapper.writeValueAsBytes(objectOutputStream);\n            ObjectMetadata omd = new ObjectMetadata();\n            //omd.setContentType(&quot;application/x-gzip&quot;);\n            omd.setContentLength(bytesToWrite.length);\n            //   transferManager.upload(bucketName, keyName, new ByteArrayInputStream(bytesToWrite), omd);\n            s3.putObject(bucketName, keyName,  new ByteArrayInputStream(bytesToWrite), omd);\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637212270,"creation_date":1637212270,"answer_id":70014839,"question_id":70012594,"body_markdown":"Passing additional query components as parameter in this way is not possible. If a parameter is a String it will be quoted and escaped before being inserted into the value of the `@Query` annotation. This created String is then used to build a `StringQuery`.\r\n\r\nYou will need to create one of the `Query` variants (see https://docs.spring.io/spring-data/elasticsearch/docs/4.3.0/reference/html/#elasticsearch.operations.queries for details), probably a `StringQuery` and pass that to the `ElasticsearchOperations`.","title":"ElasticsearchRepository - Modify the @Query value","body":"<p>Passing additional query components as parameter in this way is not possible. If a parameter is a String it will be quoted and escaped before being inserted into the value of the <code>@Query</code> annotation. This created String is then used to build a <code>StringQuery</code>.</p>\n<p>You will need to create one of the <code>Query</code> variants (see <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.3.0/reference/html/#elasticsearch.operations.queries\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/4.3.0/reference/html/#elasticsearch.operations.queries</a> for details), probably a <code>StringQuery</code> and pass that to the <code>ElasticsearchOperations</code>.</p>\n"}],"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70014839,"answer_count":1,"score":0,"last_activity_date":1637212270,"creation_date":1637189612,"question_id":70012594,"body_markdown":"Currently I&#39;m working with a ElasticsearchRepository and Springboot Data. I can write a simple method with a simple Query annotation:\r\n\r\n    @Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;must\\&quot;:[{\\&quot;match\\&quot;:{\\&quot;_resource\\&quot;:\\&quot;?0\\&quot;}}]}}&quot;)\r\n    List&lt;Activity&gt; findByResource(String resource);\r\n\r\nHowever, the Activity index might have different, multiple fields (varying from line to line in logstash). So, I might need to add multiple match clauses. I was testing adding a second parameter that would contain the rest of the params (if any) like this:\r\n\r\n    @Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;must\\&quot;:[{\\&quot;match\\&quot;:{\\&quot;_resource\\&quot;:\\&quot;?0\\&quot;}}?1]}}&quot;)\r\n    List&lt;Activity&gt; findByResource(String resource, String additionalClauses);\r\n\r\nthe second parameter could look like this:\r\n\r\n    String additional = &quot;,{\\&quot;match\\&quot;:{\\&quot;_method\\&quot;:\\&quot;GET\\&quot;}}\r\n\r\nHowever, I get this exception when calling the endpoint with the service:\r\n\r\n    Elasticsearch exception [type=x_content_parse_exception, reason=[1:60] [bool] failed to parse field [must]]; nested exception is ElasticsearchStatusException[Elasticsearch exception [type=x_content_parse_exception, reason=[1:60] [bool] failed to parse field [must]]]; nested: ElasticsearchException[Elasticsearch exception [type=json_parse_exception, reason=Unexpected character (&#39;\\\\&#39; (code 92)): was expecting double-quote to start field name\\n at [Source: (ByteArrayInputStream); line: 1, column: 62]]];\r\n\r\nI understand that what I was trying to do isn&#39;t not the ideal way to use the @Query annotation (I don&#39;t think it&#39;s even allowed to do what I&#39;m trying), so:\r\n\r\n- Is there a different way to accomplish this?\r\n- Is @Query que only option I have? How could I do it then?\r\n\r\nCheers.","title":"ElasticsearchRepository - Modify the @Query value","body":"<p>Currently I'm working with a ElasticsearchRepository and Springboot Data. I can write a simple method with a simple Query annotation:</p>\n<pre><code>@Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;must\\&quot;:[{\\&quot;match\\&quot;:{\\&quot;_resource\\&quot;:\\&quot;?0\\&quot;}}]}}&quot;)\nList&lt;Activity&gt; findByResource(String resource);\n</code></pre>\n<p>However, the Activity index might have different, multiple fields (varying from line to line in logstash). So, I might need to add multiple match clauses. I was testing adding a second parameter that would contain the rest of the params (if any) like this:</p>\n<pre><code>@Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;must\\&quot;:[{\\&quot;match\\&quot;:{\\&quot;_resource\\&quot;:\\&quot;?0\\&quot;}}?1]}}&quot;)\nList&lt;Activity&gt; findByResource(String resource, String additionalClauses);\n</code></pre>\n<p>the second parameter could look like this:</p>\n<pre><code>String additional = &quot;,{\\&quot;match\\&quot;:{\\&quot;_method\\&quot;:\\&quot;GET\\&quot;}}\n</code></pre>\n<p>However, I get this exception when calling the endpoint with the service:</p>\n<pre><code>Elasticsearch exception [type=x_content_parse_exception, reason=[1:60] [bool] failed to parse field [must]]; nested exception is ElasticsearchStatusException[Elasticsearch exception [type=x_content_parse_exception, reason=[1:60] [bool] failed to parse field [must]]]; nested: ElasticsearchException[Elasticsearch exception [type=json_parse_exception, reason=Unexpected character ('\\\\' (code 92)): was expecting double-quote to start field name\\n at [Source: (ByteArrayInputStream); line: 1, column: 62]]];\n</code></pre>\n<p>I understand that what I was trying to do isn't not the ideal way to use the @Query annotation (I don't think it's even allowed to do what I'm trying), so:</p>\n<ul>\n<li>Is there a different way to accomplish this?</li>\n<li>Is @Query que only option I have? How could I do it then?</li>\n</ul>\n<p>Cheers.</p>\n"},{"tags":["java","c++","arduino","arduino-uno"],"comments":[{"owner":{"account_id":4306041,"reputation":3558,"user_id":3518383,"display_name":"Juraj"},"score":0,"creation_date":1637211981,"post_id":70012194,"comment_id":123767056,"body_markdown":"`Serial.available()` is count of bytes available. it can&#39;t be less than zero","body":"<code>Serial.available()</code> is count of bytes available. it can&#39;t be less than zero"}],"answers":[{"tags":[],"owner":{"account_id":4306041,"reputation":3558,"user_id":3518383,"display_name":"Juraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637212151,"creation_date":1637212151,"answer_id":70014826,"question_id":70012194,"body_markdown":"With `write` the Arduino doesn&#39;t send line ending character for the `scanner.hasNextLine()`. \r\n\r\nUse `Serial.println(&quot;Hello&quot;);`","title":"Java jSerialPort with Arduino: Outputs not printing correctly","body":"<p>With <code>write</code> the Arduino doesn't send line ending character for the <code>scanner.hasNextLine()</code>.</p>\n<p>Use <code>Serial.println(&quot;Hello&quot;);</code></p>\n"}],"owner":{"account_id":22396011,"reputation":35,"user_id":16607273,"display_name":"ninesw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637212151,"creation_date":1637186974,"question_id":70012194,"body_markdown":"my outputs are coming like:\r\n[![Output image][1]][1]\r\nWhen I expect the outputs to be Hello.\r\n\r\nI suspect this to be to do with thread interference, so I changed the ComPortTimouts to SerialPort.TIMEOUT_READ_BLOCKING however I do not get any output doing this.\r\n\r\nHere is my Java code:\r\n\r\n    \r\n    import java.util.Scanner;\r\n\r\n    import com.fazecast.jSerialComm.SerialPort;\r\n    import com.fazecast.jSerialComm.SerialPortDataListener;\r\n    import com.fazecast.jSerialComm.SerialPortEvent;\r\n\r\n    public class Arduino {\r\n    private static final SerialPort port =     SerialPort.getCommPort(&quot;/dev/cu.usbmodem1101&quot;);\r\n    public static void main(String[] args) {\r\n        \r\n        port.setComPortTimeouts(SerialPort.TIMEOUT_READ_BLOCKING, 0, 0);\r\n\r\n        if (port.openPort()) {\r\n            System.out.println(&quot;Port opened&quot;);\r\n        } else {\r\n            System.out.println(&quot;Error opening port: May be in use or doesn&#39;t exist&quot;);\r\n        }\r\n\r\n        port.addDataListener(new SerialPortDataListener() {\r\n            @Override\r\n            public int getListeningEvents() { \r\n                return SerialPort.LISTENING_EVENT_DATA_AVAILABLE; \r\n            }\r\n\r\n            @Override\r\n            public void serialEvent(SerialPortEvent event) {\r\n                if (event.getEventType() == SerialPort.LISTENING_EVENT_DATA_AVAILABLE) {\r\n                    try (Scanner scanner = new Scanner(port.getInputStream())) {\r\n                        while (scanner.hasNextLine()) {\r\n                            System.out.println(scanner.nextLine());\r\n                        }\r\n                    }\r\n\r\n                } \r\n            }\r\n         });\r\n\r\n        port.addDataListener(new SerialPortDataListener() {\r\n\r\n            @Override\r\n            public int getListeningEvents() {\r\n                return SerialPort.LISTENING_EVENT_DATA_WRITTEN;\r\n            }\r\n\r\n            @Override\r\n            public void serialEvent(SerialPortEvent event) {\r\n                if(event.getEventType() == SerialPort.LISTENING_EVENT_DATA_WRITTEN) {\r\n                    System.out.println(&quot;Data written successfully&quot;);\r\n                }\r\n                \r\n            }\r\n            \r\n        });\r\n        \r\n    }\r\n    }\r\n\r\nAnd here is my Arduino code:\r\n\r\n    void setup() {\r\n        Serial.begin(9600);\r\n\r\n    }\r\n\r\n    void loop() {\r\n        while (Serial.available() &lt; 0) {\r\n            return;\r\n      }\r\n\r\n        Serial.write(&quot;Hello&quot;);\r\n        delay(1000);\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PPvDF.png","title":"Java jSerialPort with Arduino: Outputs not printing correctly","body":"<p>my outputs are coming like:\n<a href=\"https://i.stack.imgur.com/PPvDF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PPvDF.png\" alt=\"Output image\" /></a>\nWhen I expect the outputs to be Hello.</p>\n<p>I suspect this to be to do with thread interference, so I changed the ComPortTimouts to SerialPort.TIMEOUT_READ_BLOCKING however I do not get any output doing this.</p>\n<p>Here is my Java code:</p>\n<pre><code>import java.util.Scanner;\n\nimport com.fazecast.jSerialComm.SerialPort;\nimport com.fazecast.jSerialComm.SerialPortDataListener;\nimport com.fazecast.jSerialComm.SerialPortEvent;\n\npublic class Arduino {\nprivate static final SerialPort port =     SerialPort.getCommPort(&quot;/dev/cu.usbmodem1101&quot;);\npublic static void main(String[] args) {\n    \n    port.setComPortTimeouts(SerialPort.TIMEOUT_READ_BLOCKING, 0, 0);\n\n    if (port.openPort()) {\n        System.out.println(&quot;Port opened&quot;);\n    } else {\n        System.out.println(&quot;Error opening port: May be in use or doesn't exist&quot;);\n    }\n\n    port.addDataListener(new SerialPortDataListener() {\n        @Override\n        public int getListeningEvents() { \n            return SerialPort.LISTENING_EVENT_DATA_AVAILABLE; \n        }\n\n        @Override\n        public void serialEvent(SerialPortEvent event) {\n            if (event.getEventType() == SerialPort.LISTENING_EVENT_DATA_AVAILABLE) {\n                try (Scanner scanner = new Scanner(port.getInputStream())) {\n                    while (scanner.hasNextLine()) {\n                        System.out.println(scanner.nextLine());\n                    }\n                }\n\n            } \n        }\n     });\n\n    port.addDataListener(new SerialPortDataListener() {\n\n        @Override\n        public int getListeningEvents() {\n            return SerialPort.LISTENING_EVENT_DATA_WRITTEN;\n        }\n\n        @Override\n        public void serialEvent(SerialPortEvent event) {\n            if(event.getEventType() == SerialPort.LISTENING_EVENT_DATA_WRITTEN) {\n                System.out.println(&quot;Data written successfully&quot;);\n            }\n            \n        }\n        \n    });\n    \n}\n}\n</code></pre>\n<p>And here is my Arduino code:</p>\n<pre><code>void setup() {\n    Serial.begin(9600);\n\n}\n\nvoid loop() {\n    while (Serial.available() &lt; 0) {\n        return;\n  }\n\n    Serial.write(&quot;Hello&quot;);\n    delay(1000);\n}\n</code></pre>\n"},{"tags":["java","windows","windows-services"],"comments":[{"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1248860898,"post_id":1197912,"comment_id":1022192,"body_markdown":"Have you tried (or is it an option) to connect using the remote management options instead of a PID?","body":"Have you tried (or is it an option) to connect using the remote management options instead of a PID?"},{"owner":{"account_id":22643,"reputation":17248,"user_id":56039,"accept_rate":75,"display_name":"Matthew McCullough"},"score":0,"creation_date":1248920841,"post_id":1197912,"comment_id":1027449,"body_markdown":"We may have to resort to that -- setting up a jstatd in the Service executor to expose the java process over a socket -- but the objective was just to do it via PID. I just want to confirm I&#39;m not missing anything here. This seems like a huge hurdle with Windows yet is a non-issue on Mac/BSD/Linux.","body":"We may have to resort to that -- setting up a jstatd in the Service executor to expose the java process over a socket -- but the objective was just to do it via PID. I just want to confirm I&#39;m not missing anything here. This seems like a huge hurdle with Windows yet is a non-issue on Mac/BSD/Linux."},{"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":0,"creation_date":1262865280,"post_id":1197912,"comment_id":1941833,"body_markdown":"Did Devon_C_Miller&#39;s answer resolve this for you? I run jconsole as SYSTEM, but this didn&#39;t didn&#39;t eliminate the problem (see my comment on the Devon_C_Miller&#39;s answer)","body":"Did Devon_C_Miller&#39;s answer resolve this for you? I run jconsole as SYSTEM, but this didn&#39;t didn&#39;t eliminate the problem (see my comment on the Devon_C_Miller&#39;s answer)"}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1248858142,"creation_date":1248858142,"answer_id":1198921,"question_id":1197912,"body_markdown":"You only get those processes that &quot;belong&quot; to you - same user id.\r\n\r\nCan you connect to it with jvisualvm?","title":"Can&#39;t debug Java Windows Services with jhat, jps, jstack","body":"<p>You only get those processes that \"belong\" to you - same user id.</p>\n\n<p>Can you connect to it with jvisualvm?</p>\n"},{"tags":[],"owner":{"account_id":34943,"reputation":16268,"user_id":98811,"display_name":"Devon_C_Miller"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1249053994,"creation_date":1249053994,"answer_id":1213178,"question_id":1197912,"body_markdown":"I&#39;ve  had luck debugging processes run by the SYSTEM user by running this from a command prompt:\r\n\r\n    c:&gt; time/t\r\n    11:18 AM\r\n    c:&gt; at 11:19 /interactive cmd.exe\r\n    Added a new job with job ID = 1\r\n\r\nUse a time 1 minute in the future. When the &quot;at&quot; job runs a windows command prompt will open running as the user SYSTEM. From there you should be able to see the java processes.\r\n\r\nIf the service is running as a local user (check the details from &quot;mmc %windir%\\system32\\SERVICES.MSC&quot; by double clicking on the service and selecting the &quot;Log On&quot; tab) you can do the same thing using &quot;runas&quot;:\r\n\r\n    runas /user:USERNAME cmd.exe","title":"Can&#39;t debug Java Windows Services with jhat, jps, jstack","body":"<p>I've  had luck debugging processes run by the SYSTEM user by running this from a command prompt:</p>\n\n<pre><code>c:&gt; time/t\n11:18 AM\nc:&gt; at 11:19 /interactive cmd.exe\nAdded a new job with job ID = 1\n</code></pre>\n\n<p>Use a time 1 minute in the future. When the \"at\" job runs a windows command prompt will open running as the user SYSTEM. From there you should be able to see the java processes.</p>\n\n<p>If the service is running as a local user (check the details from \"mmc %windir%\\system32\\SERVICES.MSC\" by double clicking on the service and selecting the \"Log On\" tab) you can do the same thing using \"runas\":</p>\n\n<pre><code>runas /user:USERNAME cmd.exe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":56588,"reputation":1257,"user_id":169533,"accept_rate":87,"display_name":"marabol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343913043,"creation_date":1252307613,"answer_id":1387969,"question_id":1197912,"body_markdown":"I&#39;ve only found a suggest to run visuamvm (or other tools) as windows service: [Monitoring Java Processes Running As a Windows Service][1]\r\n\r\nPerhaps someone else knows a better solution.\r\n\r\n  [1]: http://blogs.oracle.com/nbprofiler/entry/monitoring_java_processes_running_as","title":"Can&#39;t debug Java Windows Services with jhat, jps, jstack","body":"<p>I've only found a suggest to run visuamvm (or other tools) as windows service: <a href=\"http://blogs.oracle.com/nbprofiler/entry/monitoring_java_processes_running_as\" rel=\"nofollow noreferrer\">Monitoring Java Processes Running As a Windows Service</a></p>\n\n<p>Perhaps someone else knows a better solution.</p>\n"},{"tags":[],"owner":{"account_id":65994,"reputation":1795,"user_id":193874,"display_name":"Rob Tanzola"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1343573226,"creation_date":1270479054,"answer_id":2578982,"question_id":1197912,"body_markdown":"To get the utilities to run, you can connect to the Console session using &quot;mstsc /admin&quot; using a login account (not sure exact permissions it needs to have, mine was in the Administrators group) and use the Sysinternals psexec tool to run as system. Here is an example of using jstack.exe:\r\n&lt;pre&gt;&lt;code&gt;psexec -s &quot;%JAVA_HOME%\\bin\\jstack.exe&quot; PID &gt;stack.txt&lt;/code&gt;&lt;/pre&gt;Where PID is the process ID of your process. You may also have to substitute the actual path to your JDK depending upon your specific environment.\r\n\r\nAlso, the [TEMP directory must be set correctly][1] or once again the tools will not work.\r\n\r\n\r\n\r\n\r\n  [1]: http://blogs.oracle.com/lmalventosa/entry/jconsole_local_process_list_on","title":"Can&#39;t debug Java Windows Services with jhat, jps, jstack","body":"<p>To get the utilities to run, you can connect to the Console session using \"mstsc /admin\" using a login account (not sure exact permissions it needs to have, mine was in the Administrators group) and use the Sysinternals psexec tool to run as system. Here is an example of using jstack.exe:\n<pre><code>psexec -s \"%JAVA_HOME%\\bin\\jstack.exe\" PID >stack.txt</code></pre>Where PID is the process ID of your process. You may also have to substitute the actual path to your JDK depending upon your specific environment.</p>\n\n<p>Also, the <a href=\"http://blogs.oracle.com/lmalventosa/entry/jconsole_local_process_list_on\" rel=\"nofollow noreferrer\">TEMP directory must be set correctly</a> or once again the tools will not work.</p>\n"},{"tags":[],"owner":{"account_id":528921,"reputation":423,"user_id":1615660,"display_name":"JimB2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637211677,"creation_date":1450329250,"answer_id":34327082,"question_id":1197912,"body_markdown":"This is my batch file to record a thread dump:\r\n\r\n```hs\r\n:: Creates a thread dump for the tomcat6.exe process saved in a timestamped filename and views it!\r\n:: Jim Birch 20111128 rev 2015-10-12\r\n\r\n::Note this required the following files to be placed in the confluence jre/bin folder:\r\n:: \r\n:: attach.dll  - From the Java JDK  (must be the same version)\r\n:: tools.jar   - ditto\r\n:: psexec.exe  - from Windows sysinternals\r\n:: Also, the TEMP directory must be set (stack overflow)\r\nset TEMP=c:\\windows\\temp\r\n\r\n::go to run location\r\nd:\r\ncd \\confluence.application\\jre\\bin\r\n\r\n::build datetime filename\r\nrem datetime from wmi.exe\r\nfor /f &quot;tokens=2 delims==&quot; %%I in (&#39;wmic os get localdatetime /format:list&#39;) do set dt0=%%I\r\nrem  datetime string as YYYY-MM-DD-hhmmss\r\nset dt=%dt0:~0,4%-%dt0:~4,2%-%dt0:~6,2%-%dt0:~8,6%\r\nset ff=td-%dt%.txt\r\necho filename: %ff%\r\n\r\n::tomcat PID   \r\nFOR /F &quot;tokens=2&quot; %%I in (&#39;TASKLIST /NH /FI &quot;IMAGENAME eq tomcat6.exe&quot;&#39; ) DO SET PID=%%I\r\nECHO pid: %PID%\r\n\r\n::combine above with jstack command (won&#39;t work without psexec)\r\npsexec -s &quot;D:\\confluence.application\\jre\\bin\\jstack.exe&quot; -l %PID%  &gt;&gt;  %ff%\r\n\r\n:: view output txt file\r\nstart %ff%\r\n\r\n::pause to review script operation, or use ping to wait a few secs \r\n::ping localhost -n 20 &gt;nul\r\npause\r\n```","title":"Can&#39;t debug Java Windows Services with jhat, jps, jstack","body":"<p>This is my batch file to record a thread dump:</p>\n<pre class=\"lang-hs prettyprint-override\"><code>:: Creates a thread dump for the tomcat6.exe process saved in a timestamped filename and views it!\n:: Jim Birch 20111128 rev 2015-10-12\n\n::Note this required the following files to be placed in the confluence jre/bin folder:\n:: \n:: attach.dll  - From the Java JDK  (must be the same version)\n:: tools.jar   - ditto\n:: psexec.exe  - from Windows sysinternals\n:: Also, the TEMP directory must be set (stack overflow)\nset TEMP=c:\\windows\\temp\n\n::go to run location\nd:\ncd \\confluence.application\\jre\\bin\n\n::build datetime filename\nrem datetime from wmi.exe\nfor /f &quot;tokens=2 delims==&quot; %%I in ('wmic os get localdatetime /format:list') do set dt0=%%I\nrem  datetime string as YYYY-MM-DD-hhmmss\nset dt=%dt0:~0,4%-%dt0:~4,2%-%dt0:~6,2%-%dt0:~8,6%\nset ff=td-%dt%.txt\necho filename: %ff%\n\n::tomcat PID   \nFOR /F &quot;tokens=2&quot; %%I in ('TASKLIST /NH /FI &quot;IMAGENAME eq tomcat6.exe&quot;' ) DO SET PID=%%I\nECHO pid: %PID%\n\n::combine above with jstack command (won't work without psexec)\npsexec -s &quot;D:\\confluence.application\\jre\\bin\\jstack.exe&quot; -l %PID%  &gt;&gt;  %ff%\n\n:: view output txt file\nstart %ff%\n\n::pause to review script operation, or use ping to wait a few secs \n::ping localhost -n 20 &gt;nul\npause\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637211776,"creation_date":1512774156,"answer_id":47723393,"question_id":1197912,"body_markdown":"Here is the solution that finally worked for me for obtaining stacktraces from unprepared java process running under different user in terminal session or as windows service.\r\n\r\n**jstack.cmd**:\r\n```hs\r\n@for /f &quot;usebackq tokens=2&quot; %%I in (`tasklist /NH /FI &quot;imagename eq tomcat.exe&quot; /FI &quot;username eq SYSTEM&quot;`) DO set PID=%%I\r\n@for /f &quot;tokens=2 delims==.&quot; %%G in (&#39;wmic os get localdatetime /value&#39;) do @set datetime=%%G\r\n@set date_time=%datetime:~0,4%_%datetime:~4,2%_%datetime:~6,2%__%datetime:~8,2%_%datetime:~10,2%_%datetime:~12,2%\r\nPsExec.exe /accepteula -h -s -d cmd /c &quot;%JAVA_HOME%\\jstack.exe&quot; -l %PID% ^&gt;&quot;%~dp0jstack_%date_time%.txt&quot;\r\n```\r\n\r\nFirst line [determines][1] the PID by process name and user.\r\n\r\nThen [PsExec][2] with [accepted EULA][3] helps to call [jstack][4] in [elevated mode][5] with [properly escaped][6] redirection of the [output][7] to `jstack*.txt` file in script&#39;s dir with [timestamp included in file name][8].\r\n\r\nYou may need to add PsExec and JDK dirs to [PATH][9] beforehand.\r\n\r\nI&#39;ve tried to force threaddumps by [SendSignal][10] before but it never worked reliably with Windows service processes.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8435952/how-to-get-pid-from-command-line-filtered-by-username-and-imagename\r\n  [2]: https://learn.microsoft.com/en-us/sysinternals/downloads/psexec\r\n  [3]: https://stackoverflow.com/questions/14140826/using-psexec-in-a-windows-service\r\n  [4]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr016.html\r\n  [5]: https://superuser.com/questions/540380/psexec-access-is-denied\r\n  [6]: https://stackoverflow.com/questions/17113343/redirect-output-of-command-in-for-loop-of-batch-script\r\n  [7]: https://stackoverflow.com/questions/796476/displaying-windows-command-prompt-output-and-redirecting-it-to-a-file\r\n  [8]: https://stackoverflow.com/questions/1192476/format-date-and-time-in-a-windows-batch-script/23558738#23558738\r\n  [9]: https://stackoverflow.com/questions/2079635/how-can-i-set-the-path-variable-for-javac-so-i-can-manually-compile-my-java-wor\r\n  [10]: https://stackoverflow.com/questions/813086/can-i-send-a-ctrl-c-sigint-to-an-application-on-windows","title":"Can&#39;t debug Java Windows Services with jhat, jps, jstack","body":"<p>Here is the solution that finally worked for me for obtaining stacktraces from unprepared java process running under different user in terminal session or as windows service.</p>\n<p><strong>jstack.cmd</strong>:</p>\n<pre class=\"lang-hs prettyprint-override\"><code>@for /f &quot;usebackq tokens=2&quot; %%I in (`tasklist /NH /FI &quot;imagename eq tomcat.exe&quot; /FI &quot;username eq SYSTEM&quot;`) DO set PID=%%I\n@for /f &quot;tokens=2 delims==.&quot; %%G in ('wmic os get localdatetime /value') do @set datetime=%%G\n@set date_time=%datetime:~0,4%_%datetime:~4,2%_%datetime:~6,2%__%datetime:~8,2%_%datetime:~10,2%_%datetime:~12,2%\nPsExec.exe /accepteula -h -s -d cmd /c &quot;%JAVA_HOME%\\jstack.exe&quot; -l %PID% ^&gt;&quot;%~dp0jstack_%date_time%.txt&quot;\n</code></pre>\n<p>First line <a href=\"https://stackoverflow.com/questions/8435952/how-to-get-pid-from-command-line-filtered-by-username-and-imagename\">determines</a> the PID by process name and user.</p>\n<p>Then <a href=\"https://learn.microsoft.com/en-us/sysinternals/downloads/psexec\" rel=\"nofollow noreferrer\">PsExec</a> with <a href=\"https://stackoverflow.com/questions/14140826/using-psexec-in-a-windows-service\">accepted EULA</a> helps to call <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr016.html\" rel=\"nofollow noreferrer\">jstack</a> in <a href=\"https://superuser.com/questions/540380/psexec-access-is-denied\">elevated mode</a> with <a href=\"https://stackoverflow.com/questions/17113343/redirect-output-of-command-in-for-loop-of-batch-script\">properly escaped</a> redirection of the <a href=\"https://stackoverflow.com/questions/796476/displaying-windows-command-prompt-output-and-redirecting-it-to-a-file\">output</a> to <code>jstack*.txt</code> file in script's dir with <a href=\"https://stackoverflow.com/questions/1192476/format-date-and-time-in-a-windows-batch-script/23558738#23558738\">timestamp included in file name</a>.</p>\n<p>You may need to add PsExec and JDK dirs to <a href=\"https://stackoverflow.com/questions/2079635/how-can-i-set-the-path-variable-for-javac-so-i-can-manually-compile-my-java-wor\">PATH</a> beforehand.</p>\n<p>I've tried to force threaddumps by <a href=\"https://stackoverflow.com/questions/813086/can-i-send-a-ctrl-c-sigint-to-an-application-on-windows\">SendSignal</a> before but it never worked reliably with Windows service processes.</p>\n"},{"tags":[],"owner":{"account_id":2540298,"reputation":1,"user_id":2206225,"display_name":"Alan ZHU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637212100,"creation_date":1565577722,"answer_id":57455117,"question_id":1197912,"body_markdown":"For GUI based tools like `jconsole`, please enable **JMX support** in `tomcat`, and connect via JMX.\r\n\r\nFor the command line tools, such as `jps`, `jstat`, please run following in an admin console. Note: better add `psexec` path and `%JAVA_HOME%\\bin` into `PATH` env.\r\n```hs\r\npsexec -S cmd.exe\r\n```\r\nAfter we get a new `console`, we can run the `jps`, `jstat` or other tools to `&quot;debug&quot;` the `tomcat` running as windows service using local system account.\r\n\r\n```hs\r\ne:\\sde\\PSTools&gt;jps\r\n7408 Jps\r\n\r\ne:\\sde\\PSTools&gt;psexec -s cmd\r\n\r\nPsExec v2.2 - Execute processes remotely\r\nCopyright (C) 2001-2016 Mark Russinovich\r\nSysinternals - www.sysinternals.com\r\n\r\n\r\nMicrosoft Windows [Version 6.2.9200]\r\n(c) 2012 Microsoft Corporation. All rights reserved.\r\n\r\nC:\\windows\\system32&gt;jps\r\n9792 Jps\r\n8812\r\n\r\nC:\\windows\\system32&gt;jstat -gc 8812\r\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     G\r\nCT\r\n10752.0 10752.0  0.0   10744.3 65536.0  21751.1   175104.0    3730.9   17792.0 17138.5 2176.0 1974.8      1    0.034   0      0.00\r\n0    0.034\r\n```","title":"Can&#39;t debug Java Windows Services with jhat, jps, jstack","body":"<p>For GUI based tools like <code>jconsole</code>, please enable <strong>JMX support</strong> in <code>tomcat</code>, and connect via JMX.</p>\n<p>For the command line tools, such as <code>jps</code>, <code>jstat</code>, please run following in an admin console. Note: better add <code>psexec</code> path and <code>%JAVA_HOME%\\bin</code> into <code>PATH</code> env.</p>\n<pre class=\"lang-hs prettyprint-override\"><code>psexec -S cmd.exe\n</code></pre>\n<p>After we get a new <code>console</code>, we can run the <code>jps</code>, <code>jstat</code> or other tools to <code>&quot;debug&quot;</code> the <code>tomcat</code> running as windows service using local system account.</p>\n<pre class=\"lang-hs prettyprint-override\"><code>e:\\sde\\PSTools&gt;jps\n7408 Jps\n\ne:\\sde\\PSTools&gt;psexec -s cmd\n\nPsExec v2.2 - Execute processes remotely\nCopyright (C) 2001-2016 Mark Russinovich\nSysinternals - www.sysinternals.com\n\n\nMicrosoft Windows [Version 6.2.9200]\n(c) 2012 Microsoft Corporation. All rights reserved.\n\nC:\\windows\\system32&gt;jps\n9792 Jps\n8812\n\nC:\\windows\\system32&gt;jstat -gc 8812\n S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     G\nCT\n10752.0 10752.0  0.0   10744.3 65536.0  21751.1   175104.0    3730.9   17792.0 17138.5 2176.0 1974.8      1    0.034   0      0.00\n0    0.034\n</code></pre>\n"}],"owner":{"account_id":22643,"reputation":17248,"user_id":56039,"accept_rate":75,"display_name":"Matthew McCullough"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11288,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":7,"score":14,"last_activity_date":1637212100,"creation_date":1248838052,"question_id":1197912,"body_markdown":"I frequently showcase the jhat, [jps][1], and jstack tool set to developers on Linux and Mac.  However, a developer recently indicated that these are unusable in Windows if the Java app in question is running as a [Windows Service][2].\r\n\r\nA [Sun-filed bug says something very similar][3], but was closed due to inactivity.\r\n\r\nI have tested this out for myself, and indeed it appears true, though I can hardly believe it.  Here is the setup:\r\n\r\n 1. Tomcat or similar running as a Windows service with the &quot;Log On As&quot; == &quot;Local System&quot;\r\n 2. A user with Admin privileges logged in to the same Windows machine.\r\n 3. Admin opens Windows Task Manager, can see java.exe running\r\n 4. Admin opens console, types &quot;jps&quot;, gets back a list of processes that does not include Tomcat&#39;s java service process.\r\n 5. As a brute force attempt, get the PID of tomcat as a service from Windows Task Manager.  Type jstack &lt; pid &gt;.  Get a reply: &lt; pid &gt; no such process\r\n\r\nThis appears reproducible under Windows XP, Windows 2003 Server, and Windows 7.  Java versions 1.5 and 1.6 yield the same outcome.\r\n\r\nIs there a way from the terminal, even though logged in as Admin, to &quot;sudo up&quot; to get JPS and the other tools to see the java service?\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jps.html\r\n  [2]: http://confluence.sakaiproject.org/display/DOC/Tomcat+as+a+Windows+Service+(2.5)\r\n  [3]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6506455","title":"Can&#39;t debug Java Windows Services with jhat, jps, jstack","body":"<p>I frequently showcase the jhat, <a href=\"http://java.sun.com/j2se/1.5.0/docs/tooldocs/share/jps.html\" rel=\"nofollow noreferrer\">jps</a>, and jstack tool set to developers on Linux and Mac.  However, a developer recently indicated that these are unusable in Windows if the Java app in question is running as a <a href=\"http://confluence.sakaiproject.org/display/DOC/Tomcat+as+a+Windows+Service+(2.5)\" rel=\"nofollow noreferrer\">Windows Service</a>.</p>\n<p>A <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6506455\" rel=\"nofollow noreferrer\">Sun-filed bug says something very similar</a>, but was closed due to inactivity.</p>\n<p>I have tested this out for myself, and indeed it appears true, though I can hardly believe it.  Here is the setup:</p>\n<ol>\n<li>Tomcat or similar running as a Windows service with the &quot;Log On As&quot; == &quot;Local System&quot;</li>\n<li>A user with Admin privileges logged in to the same Windows machine.</li>\n<li>Admin opens Windows Task Manager, can see java.exe running</li>\n<li>Admin opens console, types &quot;jps&quot;, gets back a list of processes that does not include Tomcat's java service process.</li>\n<li>As a brute force attempt, get the PID of tomcat as a service from Windows Task Manager.  Type jstack &lt; pid &gt;.  Get a reply: &lt; pid &gt; no such process</li>\n</ol>\n<p>This appears reproducible under Windows XP, Windows 2003 Server, and Windows 7.  Java versions 1.5 and 1.6 yield the same outcome.</p>\n<p>Is there a way from the terminal, even though logged in as Admin, to &quot;sudo up&quot; to get JPS and the other tools to see the java service?</p>\n"},{"tags":["java","android-studio","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637211859,"creation_date":1637211859,"answer_id":70014795,"question_id":70013905,"body_markdown":"You need t disable **Preferences | Editor | General | Appearance | Show code lens on scrollbar hover** \r\n\r\n![](https://i.stack.imgur.com/5Jwbm.png)","title":"How to disable the floating code editor widget in Android Studio/IDEA?","body":"<p>You need t disable <strong>Preferences | Editor | General | Appearance | Show code lens on scrollbar hover</strong></p>\n<p><img src=\"https://i.stack.imgur.com/5Jwbm.png\" alt=\"\" /></p>\n"}],"owner":{"account_id":14876075,"reputation":35,"user_id":10742101,"display_name":"Jared DC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70014795,"answer_count":1,"score":0,"last_activity_date":1637211859,"creation_date":1637202926,"question_id":70013905,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RDsmJ.png\r\n\r\nLike the picutre with RED frame. \r\nWhen I try the find the String, It often drives me crazy.","title":"How to disable the floating code editor widget in Android Studio/IDEA?","body":"<p><a href=\"https://i.stack.imgur.com/RDsmJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RDsmJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Like the picutre with RED frame.\nWhen I try the find the String, It often drives me crazy.</p>\n"},{"tags":["java","android","android-architecture-components","android-jetpack","android-paging"],"comments":[{"owner":{"account_id":24216,"reputation":23448,"user_id":61479,"accept_rate":81,"display_name":"Ridcully"},"score":0,"creation_date":1544421154,"post_id":53633224,"comment_id":94255099,"body_markdown":"Could you add the code of adapter#submitList() please? Perhaps its just something trivial like not doing a notifyDataChanged. Also you should try debugging to see how far the data goes, since - as you wrote - it is fetched from the server.","body":"Could you add the code of adapter#submitList() please? Perhaps its just something trivial like not doing a notifyDataChanged. Also you should try debugging to see how far the data goes, since - as you wrote - it is fetched from the server."},{"owner":{"account_id":10510169,"reputation":18796,"user_id":7746134,"display_name":"Saurabh Thorat"},"score":0,"creation_date":1544422506,"post_id":53633224,"comment_id":94255518,"body_markdown":"@Ridcully I&#39;m using the predefined `submitList()` method of PagedListAdapter. I didn&#39;t override it.","body":"@Ridcully I&#39;m using the predefined <code>submitList()</code> method of PagedListAdapter. I didn&#39;t override it."},{"owner":{"account_id":7123018,"reputation":1101,"user_id":5446940,"accept_rate":90,"display_name":"ABS"},"score":0,"creation_date":1566422175,"post_id":53633224,"comment_id":101655768,"body_markdown":"Were you able to resolve the issue? Also, will be great if you can share what worked for you.","body":"Were you able to resolve the issue? Also, will be great if you can share what worked for you."},{"owner":{"account_id":10510169,"reputation":18796,"user_id":7746134,"display_name":"Saurabh Thorat"},"score":0,"creation_date":1566448982,"post_id":53633224,"comment_id":101660875,"body_markdown":"@ABS I rewrote this entire code from scratch and it started working. But I couldn&#39;t pinpoint exactly where was the problem.","body":"@ABS I rewrote this entire code from scratch and it started working. But I couldn&#39;t pinpoint exactly where was the problem."}],"answers":[{"tags":[],"owner":{"account_id":13632924,"reputation":115,"user_id":9834623,"display_name":"Edward Codarcea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544709287,"creation_date":1544709287,"answer_id":53763454,"question_id":53633224,"body_markdown":"I also had this problem once and I still can&#39;t figure it out why it does not work for some fragments. The solution I found, aldo being more like a fast sketchy fix is to load the fragment twice. ","title":"Paging library returns empty list initially","body":"<p>I also had this problem once and I still can't figure it out why it does not work for some fragments. The solution I found, aldo being more like a fast sketchy fix is to load the fragment twice. </p>\n"},{"tags":[],"owner":{"account_id":8939680,"reputation":1550,"user_id":6669244,"display_name":"Yassin Ajdi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1544746159,"creation_date":1544743827,"answer_id":53771563,"question_id":53633224,"body_markdown":"Not 100% sure, but I think this is because you are running an asynchronous request. try to change it to run synchronously for `loadInitial()` like so `request.execute()`","title":"Paging library returns empty list initially","body":"<p>Not 100% sure, but I think this is because you are running an asynchronous request. try to change it to run synchronously for <code>loadInitial()</code> like so <code>request.execute()</code></p>\n"},{"tags":[],"owner":{"account_id":7857295,"reputation":165,"user_id":5938671,"display_name":"Alexander L."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561023930,"creation_date":1561023930,"answer_id":56683226,"question_id":53633224,"body_markdown":"Yassin Ajdi is right. `loadinitial()` calls immediately on the same thread where PagedList is created on. As your API is async, the method runs empty for the first time","title":"Paging library returns empty list initially","body":"<p>Yassin Ajdi is right. <code>loadinitial()</code> calls immediately on the same thread where PagedList is created on. As your API is async, the method runs empty for the first time</p>\n"},{"tags":[],"owner":{"account_id":4185081,"reputation":1017,"user_id":3429021,"accept_rate":0,"display_name":"Conti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570556153,"creation_date":1570556153,"answer_id":58291387,"question_id":53633224,"body_markdown":"If, like me, anyone is using an asynchronous RxJava/Kotlin call in `loadInitial`. I finally figured out a solution after many painful hours.\r\n\r\nI tried using a delayed Handler (500ms) in the `Observer` method but it was fickle and didn&#39;t work in every scenario. No matter how much I tried to make it synchronous using `setFetcher` and Rx `observeOn` it wouldn&#39;t consistently work.\r\n\r\nMy solution was to use `.blockingSubscribe` in my Observable. My data fetcher was using a Socket library that had its own concurrency out of my scope, so I couldn&#39;t guarantee that I could make the process wholly synchronous as Paging requires. (A process which needs better documentation IMO). Anyway, here&#39;s my solution, hopefully it helps others with same issue:\r\n\r\n```kotlin\r\n    override fun loadInitial(\r\n            params: LoadInitialParams&lt;Int&gt;,\r\n            callback: LoadInitialCallback&lt;Int, ResultItem&gt;\r\n    ) {\r\n       mySocketClientRxRequest()\r\n                .subscribe ({\r\n                    callback.onResult(it.resultItems 1, 2)\r\n                },{\r\n                    it.printStackTrace()\r\n                })\r\n    }\r\n```\r\n\r\nto\r\n\r\n```kotlin\r\n    override fun loadInitial(\r\n            params: LoadInitialParams&lt;Int&gt;,\r\n            callback: LoadInitialCallback&lt;Int, ResultItem&gt;\r\n    ) {\r\n       mySocketClientRxRequest()\r\n                .blockingSubscribe ({\r\n                    callback.onResult(it.resultItems 1, 2)\r\n                },{\r\n                    it.printStackTrace()\r\n                })\r\n    }\r\n```","title":"Paging library returns empty list initially","body":"<p>If, like me, anyone is using an asynchronous RxJava/Kotlin call in <code>loadInitial</code>. I finally figured out a solution after many painful hours.</p>\n\n<p>I tried using a delayed Handler (500ms) in the <code>Observer</code> method but it was fickle and didn't work in every scenario. No matter how much I tried to make it synchronous using <code>setFetcher</code> and Rx <code>observeOn</code> it wouldn't consistently work.</p>\n\n<p>My solution was to use <code>.blockingSubscribe</code> in my Observable. My data fetcher was using a Socket library that had its own concurrency out of my scope, so I couldn't guarantee that I could make the process wholly synchronous as Paging requires. (A process which needs better documentation IMO). Anyway, here's my solution, hopefully it helps others with same issue:</p>\n\n<pre><code>    override fun loadInitial(\n            params: LoadInitialParams&lt;Int&gt;,\n            callback: LoadInitialCallback&lt;Int, ResultItem&gt;\n    ) {\n       mySocketClientRxRequest()\n                .subscribe ({\n                    callback.onResult(it.resultItems 1, 2)\n                },{\n                    it.printStackTrace()\n                })\n    }\n</code></pre>\n\n<p>to</p>\n\n<pre><code>    override fun loadInitial(\n            params: LoadInitialParams&lt;Int&gt;,\n            callback: LoadInitialCallback&lt;Int, ResultItem&gt;\n    ) {\n       mySocketClientRxRequest()\n                .blockingSubscribe ({\n                    callback.onResult(it.resultItems 1, 2)\n                },{\n                    it.printStackTrace()\n                })\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5139201,"reputation":8756,"user_id":4117097,"display_name":"Anton Malyshev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625752883,"creation_date":1625752883,"answer_id":68303130,"question_id":53633224,"body_markdown":"Just as in the question I was loading the data asynchronously inside loadInitial, but the data did not come to the adapter when callback was called.\r\n\r\nSolved just by updating the library version from\r\n`androidx.paging:paging-runtime-ktx:2.1.2`\r\nto `androidx.paging:paging-runtime-ktx:3.0.0`.\r\n","title":"Paging library returns empty list initially","body":"<p>Just as in the question I was loading the data asynchronously inside loadInitial, but the data did not come to the adapter when callback was called.</p>\n<p>Solved just by updating the library version from\n<code>androidx.paging:paging-runtime-ktx:2.1.2</code>\nto <code>androidx.paging:paging-runtime-ktx:3.0.0</code>.</p>\n"},{"tags":[],"owner":{"account_id":17235477,"reputation":23,"user_id":12479049,"display_name":"Chompions Sawelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637211553,"creation_date":1637129751,"answer_id":69999676,"question_id":53633224,"body_markdown":"I&#39;ve been having this same problem as well for a few days until finally I found the solution. But just to note I used Paging version 3, so this might not answer this question directly, but might help anyone who&#39;s still struggling in blank recyclerView initially \r\n\r\nIn your fragment where you applied `PagingAdapter`, use `loadStateFlow` on the adapter to observe changes in `loadState`. You can place this in `onCreateView` for Fragment  \r\n\r\n    val pagingAdapter = PagingAdapter()\r\n    lifecycleScope.launch {\r\n            pagingAdapter.loadStateFlow.collect { loadState -&gt;\r\n                if (loadState.prepend.endOfPaginationReached) {\r\n                 // Apply this if PagingDataAdapter start binding data in view holder\r\n                    println(&quot;APPLYING ADAPTER&quot;)\r\n                    binding.recyclerView.adapter = pagingAdapter\r\n                    cancel() // Cancel this flow after applying adapter\r\n                }\r\n            }\r\n        }","title":"Paging library returns empty list initially","body":"<p>I've been having this same problem as well for a few days until finally I found the solution. But just to note I used Paging version 3, so this might not answer this question directly, but might help anyone who's still struggling in blank recyclerView initially</p>\n<p>In your fragment where you applied <code>PagingAdapter</code>, use <code>loadStateFlow</code> on the adapter to observe changes in <code>loadState</code>. You can place this in <code>onCreateView</code> for Fragment</p>\n<pre><code>val pagingAdapter = PagingAdapter()\nlifecycleScope.launch {\n        pagingAdapter.loadStateFlow.collect { loadState -&gt;\n            if (loadState.prepend.endOfPaginationReached) {\n             // Apply this if PagingDataAdapter start binding data in view holder\n                println(&quot;APPLYING ADAPTER&quot;)\n                binding.recyclerView.adapter = pagingAdapter\n                cancel() // Cancel this flow after applying adapter\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":10510169,"reputation":18796,"user_id":7746134,"display_name":"Saurabh Thorat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4775,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":6,"score":21,"last_activity_date":1637211553,"creation_date":1544015737,"question_id":53633224,"body_markdown":"I&#39;m using Paging library to paginate a list of items I&#39;m retrieving from my server. Initially, when my fragment is loaded, it returns an empty list. But after changing fragments and going back to that fragment, I can see the list loaded. After debugging I saw that data was actually being fetched, but an empty list was passed to my fragment.\r\n\r\n**ItemDataSource:**\r\n\r\n    @Override\r\n    public void loadInitial(@NonNull LoadInitialParams&lt;Integer&gt; params, @NonNull LoadInitialCallback&lt;Integer, Item&gt; callback) {\r\n        apiService.getItems(OFFSET)\r\n        .enqueue(new Callback&lt;ItemWrapper&gt;() {\r\n            @Override\r\n            public void onResponse(@NonNull Call&lt;ItemWrapper&gt; call,@NonNull Response&lt;ItemWrapper&gt; response) {\r\n                callback.onResult(response.body().getItems(), null, OFFSET + 25);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull Call&lt;ItemWrapper&gt; call,@NonNull Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void loadBefore(@NonNull LoadParams&lt;Integer&gt; params, @NonNull LoadCallback&lt;Integer, Item&gt; callback) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void loadAfter(@NonNull LoadParams&lt;Integer&gt; params, @NonNull LoadCallback&lt;Integer, Item&gt; callback) {\r\n        apiService.getItems(params.key)\r\n                .enqueue(new Callback&lt;ItemWrapper&gt;() {\r\n                    @Override\r\n                    public void onResponse(@NonNull Call&lt;ItemWrapper&gt; call,@NonNull Response&lt;ItemWrapper&gt; response) {\r\n                        Integer key = response.body().getItems().isEmpty() ? null : params.key + 25;\r\n                        callback.onResult(response.body().getItems(), key);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(@NonNull Call&lt;ItemWrapper&gt; call,@NonNull Throwable t) {\r\n                        t.printStackTrace();\r\n                    }\r\n                });\r\n    }\r\n\r\n**ItemDataSourceFactory:**\r\n\r\n    @Override\r\n    public DataSource create() {\r\n        ItemDataSource itemDataSource = new ItemDataSource();\r\n        itemLiveDataSource.postValue(itemDataSource);\r\n        return itemDataSource;\r\n    }\r\n\r\n    public MutableLiveData&lt;ItemDataSource&gt; getItemLiveDataSource() {\r\n        return itemLiveDataSource;\r\n    }\r\n\r\n**ItemViewModel:**\r\n\r\n    private LiveData&lt;ItemDataSource&gt; liveDataSource;\r\n    private LiveData&lt;PagedList&lt;Item&gt;&gt; itemPagedList;\r\n\r\n    private ItemViewModel(Application application) {\r\n        ItemDataSourceFactory factory = new ItemDataSourceFactory();\r\n        liveDataSource = factory.getItemLiveDataSource();\r\n\r\n        PagedList.Config config = (new PagedList.Config.Builder())\r\n                    .setEnablePlaceholders(false)\r\n                    .setPageSize(ItemDataSource.LIMIT).build();\r\n\r\n        itemPagedList = (new LivePagedListBuilder(factory, config)).build();\r\n    }\r\n\r\n    public LiveData&lt;PagedList&lt;Item&gt;&gt; getItems() {\r\n        return itemPagedList;\r\n    }\r\n\r\n**Fragment:**\r\n\r\n    ItemViewModel itemViewModel = ViewModelProviders.of(this).get(ItemViewModel.class);\r\n    itemViewModel.getItems.observe(this, items -&gt; {\r\n        adapter.submitList(items);\r\n    })\r\n\r\n","title":"Paging library returns empty list initially","body":"<p>I'm using Paging library to paginate a list of items I'm retrieving from my server. Initially, when my fragment is loaded, it returns an empty list. But after changing fragments and going back to that fragment, I can see the list loaded. After debugging I saw that data was actually being fetched, but an empty list was passed to my fragment.</p>\n\n<p><strong>ItemDataSource:</strong></p>\n\n<pre><code>@Override\npublic void loadInitial(@NonNull LoadInitialParams&lt;Integer&gt; params, @NonNull LoadInitialCallback&lt;Integer, Item&gt; callback) {\n    apiService.getItems(OFFSET)\n    .enqueue(new Callback&lt;ItemWrapper&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;ItemWrapper&gt; call,@NonNull Response&lt;ItemWrapper&gt; response) {\n            callback.onResult(response.body().getItems(), null, OFFSET + 25);\n        }\n\n        @Override\n        public void onFailure(@NonNull Call&lt;ItemWrapper&gt; call,@NonNull Throwable t) {\n            t.printStackTrace();\n        }\n    });\n}\n\n@Override\npublic void loadBefore(@NonNull LoadParams&lt;Integer&gt; params, @NonNull LoadCallback&lt;Integer, Item&gt; callback) {\n\n}\n\n@Override\npublic void loadAfter(@NonNull LoadParams&lt;Integer&gt; params, @NonNull LoadCallback&lt;Integer, Item&gt; callback) {\n    apiService.getItems(params.key)\n            .enqueue(new Callback&lt;ItemWrapper&gt;() {\n                @Override\n                public void onResponse(@NonNull Call&lt;ItemWrapper&gt; call,@NonNull Response&lt;ItemWrapper&gt; response) {\n                    Integer key = response.body().getItems().isEmpty() ? null : params.key + 25;\n                    callback.onResult(response.body().getItems(), key);\n                }\n\n                @Override\n                public void onFailure(@NonNull Call&lt;ItemWrapper&gt; call,@NonNull Throwable t) {\n                    t.printStackTrace();\n                }\n            });\n}\n</code></pre>\n\n<p><strong>ItemDataSourceFactory:</strong></p>\n\n<pre><code>@Override\npublic DataSource create() {\n    ItemDataSource itemDataSource = new ItemDataSource();\n    itemLiveDataSource.postValue(itemDataSource);\n    return itemDataSource;\n}\n\npublic MutableLiveData&lt;ItemDataSource&gt; getItemLiveDataSource() {\n    return itemLiveDataSource;\n}\n</code></pre>\n\n<p><strong>ItemViewModel:</strong></p>\n\n<pre><code>private LiveData&lt;ItemDataSource&gt; liveDataSource;\nprivate LiveData&lt;PagedList&lt;Item&gt;&gt; itemPagedList;\n\nprivate ItemViewModel(Application application) {\n    ItemDataSourceFactory factory = new ItemDataSourceFactory();\n    liveDataSource = factory.getItemLiveDataSource();\n\n    PagedList.Config config = (new PagedList.Config.Builder())\n                .setEnablePlaceholders(false)\n                .setPageSize(ItemDataSource.LIMIT).build();\n\n    itemPagedList = (new LivePagedListBuilder(factory, config)).build();\n}\n\npublic LiveData&lt;PagedList&lt;Item&gt;&gt; getItems() {\n    return itemPagedList;\n}\n</code></pre>\n\n<p><strong>Fragment:</strong></p>\n\n<pre><code>ItemViewModel itemViewModel = ViewModelProviders.of(this).get(ItemViewModel.class);\nitemViewModel.getItems.observe(this, items -&gt; {\n    adapter.submitList(items);\n})\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","click","getcurrenturl"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1637210098,"post_id":70014429,"comment_id":123766744,"body_markdown":"To be more accurate, change the question title to something like: &quot;How handle 302 redirects on selenium with java?&quot; Or &quot;How get the final url after redirect with selenium and java?&quot;","body":"To be more accurate, change the question title to something like: &quot;How handle 302 redirects on selenium with java?&quot; Or &quot;How get the final url after redirect with selenium and java?&quot;"}],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637211370,"creation_date":1637209895,"answer_id":70014600,"question_id":70014429,"body_markdown":"I entered to your web and inspecting the page I saw that there are two redirects **(status 302)** after the click on the first result on google search:\r\n\r\n[![redirects][1]][1]\r\n\r\nAnd the second redirect has the url that you are looking for in the **header location** because is a redirect (302):\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIf you wait, the browser execute the second redirect and the url is loaded:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n# Solution 1\r\n\r\n&gt; Wait until the second redirect and then, get the url with the classic methods.\r\n\r\nThe web is developed on react, that&#39;s why is rendered with javascript. This complicate a little bit the selenium automation.\r\n\r\nYou need to search an element which presence indicate you that web is ready after the second redirect. I found this:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n    document.querySelector(&#39;[aria-label=&quot;sendo logo&quot;]&#39;);\r\n\r\nTranslate this **querySelector** to [selenium](https://stackoverflow.com/a/26306203/3957754):\r\n\r\n    By.cssSelector(&quot;a[aria-label=&#39;sendo logo&#39;]&quot;);\r\n\r\nAnd [wait](https://stackoverflow.com/a/11738528/3957754) for it:\r\n\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a[aria-label=&#39;sendo logo&#39;]&quot;)));\r\n\r\nIf after this element, you keep getting the same url instead the full url, just try with another html element.\r\n\r\n## Solution 2\r\n\r\n&gt; Try to get the headers of the page using selenium\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GPsGy.png\r\n  [2]: https://i.stack.imgur.com/myV34.png\r\n  [3]: https://i.stack.imgur.com/0M8Zn.png\r\n  [4]: https://i.stack.imgur.com/gW6L6.png","title":"Selenium click and manual click return different current URLs","body":"<p>I entered to your web and inspecting the page I saw that there are two redirects <strong>(status 302)</strong> after the click on the first result on google search:</p>\n<p><a href=\"https://i.stack.imgur.com/GPsGy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GPsGy.png\" alt=\"redirects\" /></a></p>\n<p>And the second redirect has the url that you are looking for in the <strong>header location</strong> because is a redirect (302):</p>\n<p><a href=\"https://i.stack.imgur.com/myV34.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/myV34.png\" alt=\"enter image description here\" /></a></p>\n<p>If you wait, the browser execute the second redirect and the url is loaded:</p>\n<p><a href=\"https://i.stack.imgur.com/0M8Zn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0M8Zn.png\" alt=\"enter image description here\" /></a></p>\n<h1>Solution 1</h1>\n<blockquote>\n<p>Wait until the second redirect and then, get the url with the classic methods.</p>\n</blockquote>\n<p>The web is developed on react, that's why is rendered with javascript. This complicate a little bit the selenium automation.</p>\n<p>You need to search an element which presence indicate you that web is ready after the second redirect. I found this:</p>\n<p><a href=\"https://i.stack.imgur.com/gW6L6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gW6L6.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>document.querySelector('[aria-label=&quot;sendo logo&quot;]');\n</code></pre>\n<p>Translate this <strong>querySelector</strong> to <a href=\"https://stackoverflow.com/a/26306203/3957754\">selenium</a>:</p>\n<pre><code>By.cssSelector(&quot;a[aria-label='sendo logo']&quot;);\n</code></pre>\n<p>And <a href=\"https://stackoverflow.com/a/11738528/3957754\">wait</a> for it:</p>\n<pre><code>wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a[aria-label='sendo logo']&quot;)));\n</code></pre>\n<p>If after this element, you keep getting the same url instead the full url, just try with another html element.</p>\n<h2>Solution 2</h2>\n<blockquote>\n<p>Try to get the headers of the page using selenium</p>\n</blockquote>\n"}],"owner":{"account_id":17569441,"reputation":15,"user_id":12745424,"display_name":"Tien Pham Van"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70014600,"answer_count":1,"score":0,"last_activity_date":1637211370,"creation_date":1637208298,"question_id":70014429,"body_markdown":"I&#39;ve encountered a problem\r\n\r\nI searched this on google https://www.google.com/search?q=sen%20do&amp;uule=w+CAIQICIZSG8gQ2hpIE1pbmggQ2l0eSwgVmlldG5hbQ%3D%3D and manual clicked on the first result (this link is attached with ads),\r\nI got the current url https://www.sendo.vn/?utm_source=google&amp;utm_medium=affiliate&amp;utm_campaign=333629566-13485316726&amp;gclid=EAIaIQobChMI9eKR_YCh9AIVCz5gCh2ang22EAAYASAAEgI80_D_BwE\r\n\r\nDid the same with the above link, used the code below but it only returned https://www.sendo.vn/ (Missing the params)\r\n\r\nHere is the code\r\n```\r\ndriver.get(&quot;${the_above_google_search_url}&quot;)\r\n\r\n// Find first result element\r\nWeb firstResultElement = driver.findElement(By.className(&quot;iUh30&quot;))\r\n\r\nfirstResultElement.click()\r\n\r\nString currentUrl = driver.getCurrentUrl()\r\n\r\n```\r\n\r\nAny solution to get full url path with Selenium like manual click?","title":"Selenium click and manual click return different current URLs","body":"<p>I've encountered a problem</p>\n<p>I searched this on google <a href=\"https://www.google.com/search?q=sen%20do&amp;uule=w+CAIQICIZSG8gQ2hpIE1pbmggQ2l0eSwgVmlldG5hbQ%3D%3D\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=sen%20do&amp;uule=w+CAIQICIZSG8gQ2hpIE1pbmggQ2l0eSwgVmlldG5hbQ%3D%3D</a> and manual clicked on the first result (this link is attached with ads),\nI got the current url <a href=\"https://www.sendo.vn/?utm_source=google&amp;utm_medium=affiliate&amp;utm_campaign=333629566-13485316726&amp;gclid=EAIaIQobChMI9eKR_YCh9AIVCz5gCh2ang22EAAYASAAEgI80_D_BwE\" rel=\"nofollow noreferrer\">https://www.sendo.vn/?utm_source=google&amp;utm_medium=affiliate&amp;utm_campaign=333629566-13485316726&amp;gclid=EAIaIQobChMI9eKR_YCh9AIVCz5gCh2ang22EAAYASAAEgI80_D_BwE</a></p>\n<p>Did the same with the above link, used the code below but it only returned <a href=\"https://www.sendo.vn/\" rel=\"nofollow noreferrer\">https://www.sendo.vn/</a> (Missing the params)</p>\n<p>Here is the code</p>\n<pre><code>driver.get(&quot;${the_above_google_search_url}&quot;)\n\n// Find first result element\nWeb firstResultElement = driver.findElement(By.className(&quot;iUh30&quot;))\n\nfirstResultElement.click()\n\nString currentUrl = driver.getCurrentUrl()\n\n</code></pre>\n<p>Any solution to get full url path with Selenium like manual click?</p>\n"},{"tags":["java","android","audio","trim","opus"],"comments":[{"owner":{"account_id":4532473,"reputation":3004,"user_id":3682535,"accept_rate":92,"display_name":"rupinderjeet"},"score":0,"creation_date":1637732569,"post_id":67693786,"comment_id":123902094,"body_markdown":"Is there any chance you forgot to split by ABI? FFmpeg is at most 8 MB. Is this size unacceptable for your need?","body":"Is there any chance you forgot to split by ABI? FFmpeg is at most 8 MB. Is this size unacceptable for your need?"},{"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"score":0,"creation_date":1637732708,"post_id":67693786,"comment_id":123902117,"body_markdown":"yes, at max 500kb in universal apk is requirement","body":"yes, at max 500kb in universal apk is requirement"},{"owner":{"account_id":4532473,"reputation":3004,"user_id":3682535,"accept_rate":92,"display_name":"rupinderjeet"},"score":0,"creation_date":1637733213,"post_id":67693786,"comment_id":123902200,"body_markdown":"I will try creating a demo in my free time. I think you can compile ffmpeg with only required dependencies. Also, did you try the codec from https://opus-codec.org/downloads/?","body":"I will try creating a demo in my free time. I think you can compile ffmpeg with only required dependencies. Also, did you try the codec from <a href=\"https://opus-codec.org/downloads/\" rel=\"nofollow noreferrer\">opus-codec.org/downloads</a>?"},{"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"score":0,"creation_date":1637738009,"post_id":67693786,"comment_id":123903280,"body_markdown":"I&#39;ve done quite a lot esearch on this and found out that i can trim ogg without transcoding by just selecting the ogg pages in timeframe and append them to the head. I don&#39;t know how to convert opus Granule position  to a timestamp so  I can include or exclude it from trimming  https://github.com/leonfancy/oggus/issues/2","body":"I&#39;ve done quite a lot esearch on this and found out that i can trim ogg without transcoding by just selecting the ogg pages in timeframe and append them to the head. I don&#39;t know how to convert opus Granule position  to a timestamp so  I can include or exclude it from trimming  <a href=\"https://github.com/leonfancy/oggus/issues/2\" rel=\"nofollow noreferrer\">github.com/leonfancy/oggus/issues/2</a>"},{"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"score":0,"creation_date":1637744132,"post_id":67693786,"comment_id":123905274,"body_markdown":"https://stackoverflow.com/questions/70093101/ogg-opus-granule-position-to-timestamp","body":"<a href=\"https://stackoverflow.com/questions/70093101/ogg-opus-granule-position-to-timestamp\" title=\"ogg opus granule position to timestamp\">stackoverflow.com/questions/70093101/&hellip;</a>"}],"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637211145,"creation_date":1621967699,"question_id":67693786,"body_markdown":"Trim or split opus on android without ffmpeg\r\n\r\nThe opus file could be contained in any format supported by ffmpeg export \r\n(Created when building the app,ffmpeg too heavy to include in app)\r\n\r\nI tried genVideoUsingMuxer , MediaExtractor ,MediaMetadataRetriever but it fails with error\r\n\r\n    Unsupported mime &#39;audio/opus&#39;\r\n    java.lang.IllegalStateException: Failed to add the track to the muxerat android.media.MediaMuxer.nativeAddTrack(Native Method)\r\n    at android.media.MediaMuxer.addTrack(MediaMuxer.java:660)\r\n\r\n\r\nAny way i can trim the audio on android with a lightweight solution\r\n\r\n**Reencoding is not needed but its ok if output format is anything playable on android**\r\n\r\n","title":"Trim or split opus on android without ffmpeg","body":"<p>Trim or split opus on android without ffmpeg</p>\n<p>The opus file could be contained in any format supported by ffmpeg export\n(Created when building the app,ffmpeg too heavy to include in app)</p>\n<p>I tried genVideoUsingMuxer , MediaExtractor ,MediaMetadataRetriever but it fails with error</p>\n<pre><code>Unsupported mime 'audio/opus'\njava.lang.IllegalStateException: Failed to add the track to the muxerat android.media.MediaMuxer.nativeAddTrack(Native Method)\nat android.media.MediaMuxer.addTrack(MediaMuxer.java:660)\n</code></pre>\n<p>Any way i can trim the audio on android with a lightweight solution</p>\n<p><strong>Reencoding is not needed but its ok if output format is anything playable on android</strong></p>\n"},{"tags":["java","spring","spring-security","spring-rest"],"answers":[{"tags":[],"owner":{"account_id":9041521,"reputation":225,"user_id":6735604,"display_name":"Billy Korando"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1471916151,"creation_date":1471916151,"answer_id":39091038,"question_id":39090783,"body_markdown":"Create a setter for your RepositoryService in CustomMethodSecurityExpressionRoot \r\n\r\nOverride setApplicationContext in CustomMethodSecurityExpressionHandler  to have the applicationContext you pass in at an accessible level. \r\n\r\nIn createSecurityExpressionRoot using the applicationContext pass in the RepositoryService bean from your context. Code is below. Also note the changes I made to createExpressionHandler() and expressionHandler(). In create ExpressionHandler you are calling the super which just uses a default implementation, not the object you just newed two lines earlier. In expressionHandler() you are creating a new instance of CustomMethodSecurityExpressionHandler() not retrieving the one you are creating in createExpressionHandler(). \r\n\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, proxyTargetClass = false)\r\n        public class CustomMethodSecurityConfiguration extends GlobalMethodSecurityConfiguration {\r\n        @Autowired\r\n        ApplicationContext applicationContext;\r\n        @Override\r\n        protected MethodSecurityExpressionHandler createExpressionHandler() {\r\n            CustomMethodSecurityExpressionHandler handler = new  CustomMethodSecurityExpressionHandler();\r\n            handler.setApplicationContext(applicationContext);\r\n            return handler;\r\n        }\r\n        @Bean\r\n        public MethodSecurityExpressionHandler expressionHandler() {\r\n            return createExpressionHandler();\r\n        }\r\n    }\r\n    \r\n    public class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\r\n    \r\n        private final AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\r\n        private ApplicationContext applicationContext;\r\n        @Override\r\n        protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\r\n                                                                                  MethodInvocation invocation) {\r\n            final CustomMethodSecurityExpressionRoot root = new CustomMethodSecurityExpressionRoot(authentication);\r\n            root.setThis(invocation.getThis());\r\n            root.setPermissionEvaluator(getPermissionEvaluator());\r\n            root.setTrustResolver(this.trustResolver);\r\n            root.setRoleHierarchy(getRoleHierarchy());\r\n            root.setRepositoryService(applicationContext.getBean(RepositoryService.class);\r\n            return root;\r\n        }\r\n        \r\n        @Override\r\n        protected void setApplicationContext(applicationContext){\r\n        \tsuper.setApplicationContext(applicationContext);\r\n        \tthis.applicationContext = applicationContext;\r\n        }\r\n    }\r\n    \r\n    \r\n    public class CustomMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\r\n    \r\n        private Object filterObject;\r\n        private Object returnObject;\r\n        private Object target;\r\n        private RepositoryService repositoryService;\r\n    \r\n        public boolean canViewFolder(String uuid){\r\n            User currentUser = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n             return repositoryService.checkFolderPermissions(currentUser.getUsername(), uuid);\r\n        }\r\n    \r\n        public CustomMethodSecurityExpressionRoot(Authentication a) {\r\n            super(a);\r\n        }\r\n    \r\n        public void setFilterObject(Object filterObject) {\r\n            this.filterObject = filterObject;\r\n        }\r\n    \r\n        public Object getFilterObject() {\r\n            return filterObject;\r\n        }\r\n    \r\n        public void setReturnObject(Object returnObject) {\r\n            this.returnObject = returnObject;\r\n        }\r\n    \r\n        public Object getReturnObject() {\r\n            return returnObject;\r\n        }\r\n    \r\n        void setThis(Object target) {\r\n            this.target = target;\r\n        }\r\n    \r\n        public Object getThis() {\r\n            return target;\r\n        }\r\n        \r\n        public void setRepositoryService(RepositoryService repositoryService){\r\n        \tthis.repositoryService = repositoryService;\r\n        }\r\n    }","title":"Spring 4 - Custom SecurityExpression with Service","body":"<p>Create a setter for your RepositoryService in CustomMethodSecurityExpressionRoot </p>\n\n<p>Override setApplicationContext in CustomMethodSecurityExpressionHandler  to have the applicationContext you pass in at an accessible level. </p>\n\n<p>In createSecurityExpressionRoot using the applicationContext pass in the RepositoryService bean from your context. Code is below. Also note the changes I made to createExpressionHandler() and expressionHandler(). In create ExpressionHandler you are calling the super which just uses a default implementation, not the object you just newed two lines earlier. In expressionHandler() you are creating a new instance of CustomMethodSecurityExpressionHandler() not retrieving the one you are creating in createExpressionHandler(). </p>\n\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, proxyTargetClass = false)\n    public class CustomMethodSecurityConfiguration extends GlobalMethodSecurityConfiguration {\n    @Autowired\n    ApplicationContext applicationContext;\n    @Override\n    protected MethodSecurityExpressionHandler createExpressionHandler() {\n        CustomMethodSecurityExpressionHandler handler = new  CustomMethodSecurityExpressionHandler();\n        handler.setApplicationContext(applicationContext);\n        return handler;\n    }\n    @Bean\n    public MethodSecurityExpressionHandler expressionHandler() {\n        return createExpressionHandler();\n    }\n}\n\npublic class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n\n    private final AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\n    private ApplicationContext applicationContext;\n    @Override\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\n                                                                              MethodInvocation invocation) {\n        final CustomMethodSecurityExpressionRoot root = new CustomMethodSecurityExpressionRoot(authentication);\n        root.setThis(invocation.getThis());\n        root.setPermissionEvaluator(getPermissionEvaluator());\n        root.setTrustResolver(this.trustResolver);\n        root.setRoleHierarchy(getRoleHierarchy());\n        root.setRepositoryService(applicationContext.getBean(RepositoryService.class);\n        return root;\n    }\n\n    @Override\n    protected void setApplicationContext(applicationContext){\n        super.setApplicationContext(applicationContext);\n        this.applicationContext = applicationContext;\n    }\n}\n\n\npublic class CustomMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\n\n    private Object filterObject;\n    private Object returnObject;\n    private Object target;\n    private RepositoryService repositoryService;\n\n    public boolean canViewFolder(String uuid){\n        User currentUser = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n         return repositoryService.checkFolderPermissions(currentUser.getUsername(), uuid);\n    }\n\n    public CustomMethodSecurityExpressionRoot(Authentication a) {\n        super(a);\n    }\n\n    public void setFilterObject(Object filterObject) {\n        this.filterObject = filterObject;\n    }\n\n    public Object getFilterObject() {\n        return filterObject;\n    }\n\n    public void setReturnObject(Object returnObject) {\n        this.returnObject = returnObject;\n    }\n\n    public Object getReturnObject() {\n        return returnObject;\n    }\n\n    void setThis(Object target) {\n        this.target = target;\n    }\n\n    public Object getThis() {\n        return target;\n    }\n\n    public void setRepositoryService(RepositoryService repositoryService){\n        this.repositoryService = repositoryService;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5031377,"reputation":800,"user_id":4041435,"display_name":"Grant Lay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637210618,"creation_date":1637210618,"answer_id":70014675,"question_id":39090783,"body_markdown":"The accepted answer no longer works in the latest versions of Spring/Spring Security.  Trying to make your configuration class ApplicationContextAware will give you access to the ApplicationContext but your CustomMethodSecurityExpressionHAndler will be ignored.    \r\nInstead update your Configuration class to get the BeanFactory by overriding the getBeanFactory method.\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, proxyTargetClass = false)\r\n    public class CustomMethodSecurityConfiguration extends GlobalMethodSecurityConfiguration {\r\n\r\n    private BeanFactory beanFactory\r\n\r\n    @Override\r\n    protected MethodSecurityExpressionHandler createExpressionHandler() {\r\n        CustomMethodSecurityExpressionHandler handler = new  CustomMethodSecurityExpressionHandler();\r\n        handler.setBeanFactory(beanFactory);\r\n        return handler;\r\n    }\r\n\r\n    @Override\r\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n        super.setBeanFactory(beanFactory);\r\n        this.beanFactory = beanFactory;\r\n    }\r\n    }\r\n\r\nThen you can look up the beans you require within your CustomMethodSecurityExpressionHandler\r\n\r\n    public class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\r\n\r\n    private final AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\r\n    private BeanFactory beanFactory;\r\n    @Override\r\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\r\n                                                                              MethodInvocation invocation) {\r\n        final CustomMethodSecurityExpressionRoot root = new CustomMethodSecurityExpressionRoot(authentication);\r\n        root.setThis(invocation.getThis());\r\n        root.setPermissionEvaluator(getPermissionEvaluator());\r\n        root.setTrustResolver(this.trustResolver);\r\n        root.setRoleHierarchy(getRoleHierarchy());\r\n        root.setRepositoryService(beanFactory.getBean(RepositoryService.class);\r\n        return root;\r\n    }\r\n\r\n    public void setBeanFactory(BeanFactory beanFactory) {\r\n        this.beanFactory = beanFactory;\r\n    }\r\n    }\r\n\r\n","title":"Spring 4 - Custom SecurityExpression with Service","body":"<p>The accepted answer no longer works in the latest versions of Spring/Spring Security.  Trying to make your configuration class ApplicationContextAware will give you access to the ApplicationContext but your CustomMethodSecurityExpressionHAndler will be ignored.<br />\nInstead update your Configuration class to get the BeanFactory by overriding the getBeanFactory method.</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, proxyTargetClass = false)\npublic class CustomMethodSecurityConfiguration extends GlobalMethodSecurityConfiguration {\n\nprivate BeanFactory beanFactory\n\n@Override\nprotected MethodSecurityExpressionHandler createExpressionHandler() {\n    CustomMethodSecurityExpressionHandler handler = new  CustomMethodSecurityExpressionHandler();\n    handler.setBeanFactory(beanFactory);\n    return handler;\n}\n\n@Override\npublic void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n    super.setBeanFactory(beanFactory);\n    this.beanFactory = beanFactory;\n}\n}\n</code></pre>\n<p>Then you can look up the beans you require within your CustomMethodSecurityExpressionHandler</p>\n<pre><code>public class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n\nprivate final AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\nprivate BeanFactory beanFactory;\n@Override\nprotected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\n                                                                          MethodInvocation invocation) {\n    final CustomMethodSecurityExpressionRoot root = new CustomMethodSecurityExpressionRoot(authentication);\n    root.setThis(invocation.getThis());\n    root.setPermissionEvaluator(getPermissionEvaluator());\n    root.setTrustResolver(this.trustResolver);\n    root.setRoleHierarchy(getRoleHierarchy());\n    root.setRepositoryService(beanFactory.getBean(RepositoryService.class);\n    return root;\n}\n\npublic void setBeanFactory(BeanFactory beanFactory) {\n    this.beanFactory = beanFactory;\n}\n}\n</code></pre>\n"}],"owner":{"account_id":2457004,"reputation":101,"user_id":2141969,"accept_rate":60,"display_name":"user2141969"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2418,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39091038,"answer_count":2,"score":2,"last_activity_date":1637210618,"creation_date":1471913772,"question_id":39090783,"body_markdown":"In one of my controllers, I have the need to secure a method with more granular means than a role.\r\n\r\nI&#39;ve got a `MethodSecurityExpressionHandler` created, but I can&#39;t figure out how to access one of my `@Services` in it.\r\n\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, proxyTargetClass = false)\r\n        public class CustomMethodSecurityConfiguration extends GlobalMethodSecurityConfiguration {\r\n    \t@Autowired\r\n    \tApplicationContext applicationContext;\r\n        @Override\r\n        protected MethodSecurityExpressionHandler createExpressionHandler() {\r\n            CustomMethodSecurityExpressionHandler handler = new  CustomMethodSecurityExpressionHandler();\r\n            handler.setApplicationContext(applicationContext);\r\n            return super.createExpressionHandler();\r\n        }\r\n        @Bean\r\n        public MethodSecurityExpressionHandler expressionHandler() {\r\n            return new CustomMethodSecurityExpressionHandler();\r\n        }\r\n    }\r\n        \r\n    public class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\r\n    \r\n        private final AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\r\n    \r\n        @Override\r\n        protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\r\n                                                                                  MethodInvocation invocation) {\r\n            final CustomMethodSecurityExpressionRoot root = new CustomMethodSecurityExpressionRoot(authentication);\r\n            root.setThis(invocation.getThis());\r\n            root.setPermissionEvaluator(getPermissionEvaluator());\r\n            root.setTrustResolver(this.trustResolver);\r\n            root.setRoleHierarchy(getRoleHierarchy());\r\n    \r\n            return root;\r\n        }\r\n    }\r\n    \r\n    \r\n    public class CustomMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\r\n    \r\n        private Object filterObject;\r\n        private Object returnObject;\r\n        private Object target;\r\n        \r\n        //**This is what I need to work**\r\n        @Autowired\r\n        private RepositoryService repositoryService;\r\n    \r\n        public boolean canViewFolder(String uuid){\r\n            User currentUser = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n             return repositoryService.checkFolderPermissions(currentUser.getUsername(), uuid);\r\n        }\r\n    \r\n        public CustomMethodSecurityExpressionRoot(Authentication a) {\r\n            super(a);\r\n        }\r\n    \r\n        public void setFilterObject(Object filterObject) {\r\n            this.filterObject = filterObject;\r\n        }\r\n\r\n        public Object getFilterObject() {\r\n            return filterObject;\r\n        }\r\n    \r\n        public void setReturnObject(Object returnObject) {\r\n            this.returnObject = returnObject;\r\n        }\r\n    \r\n        public Object getReturnObject() {\r\n            return returnObject;\r\n        }\r\n    \r\n        void setThis(Object target) {\r\n            this.target = target;\r\n        }\r\n    \r\n        public Object getThis() {\r\n            return target;\r\n        }\r\n    \r\n    }\r\n","title":"Spring 4 - Custom SecurityExpression with Service","body":"<p>In one of my controllers, I have the need to secure a method with more granular means than a role.</p>\n\n<p>I've got a <code>MethodSecurityExpressionHandler</code> created, but I can't figure out how to access one of my <code>@Services</code> in it.</p>\n\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, proxyTargetClass = false)\n    public class CustomMethodSecurityConfiguration extends GlobalMethodSecurityConfiguration {\n    @Autowired\n    ApplicationContext applicationContext;\n    @Override\n    protected MethodSecurityExpressionHandler createExpressionHandler() {\n        CustomMethodSecurityExpressionHandler handler = new  CustomMethodSecurityExpressionHandler();\n        handler.setApplicationContext(applicationContext);\n        return super.createExpressionHandler();\n    }\n    @Bean\n    public MethodSecurityExpressionHandler expressionHandler() {\n        return new CustomMethodSecurityExpressionHandler();\n    }\n}\n\npublic class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n\n    private final AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\n\n    @Override\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\n                                                                              MethodInvocation invocation) {\n        final CustomMethodSecurityExpressionRoot root = new CustomMethodSecurityExpressionRoot(authentication);\n        root.setThis(invocation.getThis());\n        root.setPermissionEvaluator(getPermissionEvaluator());\n        root.setTrustResolver(this.trustResolver);\n        root.setRoleHierarchy(getRoleHierarchy());\n\n        return root;\n    }\n}\n\n\npublic class CustomMethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\n\n    private Object filterObject;\n    private Object returnObject;\n    private Object target;\n\n    //**This is what I need to work**\n    @Autowired\n    private RepositoryService repositoryService;\n\n    public boolean canViewFolder(String uuid){\n        User currentUser = (User) SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n         return repositoryService.checkFolderPermissions(currentUser.getUsername(), uuid);\n    }\n\n    public CustomMethodSecurityExpressionRoot(Authentication a) {\n        super(a);\n    }\n\n    public void setFilterObject(Object filterObject) {\n        this.filterObject = filterObject;\n    }\n\n    public Object getFilterObject() {\n        return filterObject;\n    }\n\n    public void setReturnObject(Object returnObject) {\n        this.returnObject = returnObject;\n    }\n\n    public Object getReturnObject() {\n        return returnObject;\n    }\n\n    void setThis(Object target) {\n        this.target = target;\n    }\n\n    public Object getThis() {\n        return target;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","for-loop","iteration"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1637206645,"post_id":70014167,"comment_id":123766246,"body_markdown":"can you show one example? sample input and expected output?","body":"can you show one example? sample input and expected output?"},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1637207330,"post_id":70014167,"comment_id":123766358,"body_markdown":"edit your post and add the output, not in comments. add both the outputs(current and expecting)","body":"edit your post and add the output, not in comments. add both the outputs(current and expecting)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1637207577,"post_id":70014167,"comment_id":123766396,"body_markdown":"I think you just want a single loop. You can use `i` as an index into both arrays, *if they are guaranteed to be the same length*.","body":"I think you just want a single loop. You can use <code>i</code> as an index into both arrays, <i>if they are guaranteed to be the same length</i>."},{"owner":{"account_id":20989090,"reputation":47,"user_id":15422269,"display_name":"Hi I&#39;m Justin"},"score":0,"creation_date":1637207688,"post_id":70014167,"comment_id":123766410,"body_markdown":"yes they have both the same length","body":"yes they have both the same length"},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1637207898,"post_id":70014167,"comment_id":123766436,"body_markdown":"okay, one more question, what does `low, medium, high` does? all 3 of them assign `0` and you are not modifying them.","body":"okay, one more question, what does <code>low, medium, high</code> does? all 3 of them assign <code>0</code> and you are not modifying them."},{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1637211039,"post_id":70014167,"comment_id":123766898,"body_markdown":"Style note: when you need to loop over two &quot;parallel&quot; arrays (or other collections) you&#39;re almost certainly better off with a single collection of some object that ties together those related pieces of data.","body":"Style note: when you need to loop over two &quot;parallel&quot; arrays (or other collections) you&#39;re almost certainly better off with a single collection of some object that ties together those related pieces of data."},{"owner":{"account_id":20989090,"reputation":47,"user_id":15422269,"display_name":"Hi I&#39;m Justin"},"score":0,"creation_date":1637226291,"post_id":70014167,"comment_id":123770873,"body_markdown":"@chris Can you elaborate what you are saying pls?","body":"@chris Can you elaborate what you are saying pls?"},{"owner":{"account_id":20780824,"reputation":29180,"user_id":15261315,"display_name":"Chris"},"score":0,"creation_date":1637248401,"post_id":70014167,"comment_id":123780314,"body_markdown":"For instance, if you wanted to hold information on 3 names as separate strings for first and last name, rather than have `String[] firstNames; String[] lastNames;` you&#39;d have `Name[] names;` whre each `Name` object holds both pieces of data for a single person.","body":"For instance, if you wanted to hold information on 3 names as separate strings for first and last name, rather than have <code>String[] firstNames; String[] lastNames;</code> you&#39;d have <code>Name[] names;</code> whre each <code>Name</code> object holds both pieces of data for a single person."}],"answers":[{"tags":[],"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637210164,"creation_date":1637209322,"answer_id":70014533,"question_id":70014167,"body_markdown":"Your question index starts with `1`, so should start with `i=1`.&lt;br&gt;\r\nYou don&#39;t need 2 arrays, just one will do. &lt;br&gt;\r\nInstead of 2nd for-loop, while-loop will do better, since it&#39;s only there to get valid input.\r\n````\r\nint low = 0, medium = 0, high = 0;\r\nfor (int i = 1; i &lt; no1SubQuestion.length; i++) {\r\n    System.out.println(no1SubQuestion[i]);\r\n    System.out.printf(&quot;(Enter \\&quot;Y\\&quot; if YES, \\&quot;N\\&quot; if NO only)\\n&gt;&gt; &quot;);\r\n    while(true) {\r\n        try {\r\n            String answer = input.nextLine();\r\n\r\n            if (!answer.equalsIgnoreCase(&quot;y&quot;) &amp; !answer.equalsIgnoreCase(&quot;n&quot;)) {\r\n                throw new InputMismatchException(&quot;invalid input&quot;);\r\n            }\r\n\r\n            boolean isYes = answer.equalsIgnoreCase(&quot;y&quot;);\r\n            //in the answer is no, no need to increment.\r\n            if (!isYes) {\r\n                break;\r\n            }\r\n            //increment the respective risk categories.\r\n            if(i==1)\r\n                low++;\r\n            else if(i==2)\r\n                medium++;\r\n            else \r\n                high++;\r\n            break;\r\n        } catch (InputMismatchException e) {\r\n            System.out.println(&quot;Error!!! (Please enter \\&quot;Y\\&quot; if YES, \\&quot;N\\&quot; if NO only)&quot;);\r\n        }\r\n    }\r\n}\r\nif (high &gt; 0)\r\n    result = &quot;HIGH&quot;;\r\nelse if (medium &gt; 0)\r\n    result = &quot;MEDIUM&quot;;\r\nelse if (low &gt; 0)\r\n    result = &quot;LOW&quot;;\r\nelse\r\n    result = &quot;NO&quot;;\r\nreturn result;\r\n````","title":"How to loop through 2 different arrays in one loop in Java","body":"<p>Your question index starts with <code>1</code>, so should start with <code>i=1</code>.<br>\nYou don't need 2 arrays, just one will do. <br>\nInstead of 2nd for-loop, while-loop will do better, since it's only there to get valid input.</p>\n<pre><code>int low = 0, medium = 0, high = 0;\nfor (int i = 1; i &lt; no1SubQuestion.length; i++) {\n    System.out.println(no1SubQuestion[i]);\n    System.out.printf(&quot;(Enter \\&quot;Y\\&quot; if YES, \\&quot;N\\&quot; if NO only)\\n&gt;&gt; &quot;);\n    while(true) {\n        try {\n            String answer = input.nextLine();\n\n            if (!answer.equalsIgnoreCase(&quot;y&quot;) &amp; !answer.equalsIgnoreCase(&quot;n&quot;)) {\n                throw new InputMismatchException(&quot;invalid input&quot;);\n            }\n\n            boolean isYes = answer.equalsIgnoreCase(&quot;y&quot;);\n            //in the answer is no, no need to increment.\n            if (!isYes) {\n                break;\n            }\n            //increment the respective risk categories.\n            if(i==1)\n                low++;\n            else if(i==2)\n                medium++;\n            else \n                high++;\n            break;\n        } catch (InputMismatchException e) {\n            System.out.println(&quot;Error!!! (Please enter \\&quot;Y\\&quot; if YES, \\&quot;N\\&quot; if NO only)&quot;);\n        }\n    }\n}\nif (high &gt; 0)\n    result = &quot;HIGH&quot;;\nelse if (medium &gt; 0)\n    result = &quot;MEDIUM&quot;;\nelse if (low &gt; 0)\n    result = &quot;LOW&quot;;\nelse\n    result = &quot;NO&quot;;\nreturn result;\n</code></pre>\n"}],"owner":{"account_id":20989090,"reputation":47,"user_id":15422269,"display_name":"Hi I&#39;m Justin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70014533,"answer_count":1,"score":0,"last_activity_date":1637210164,"creation_date":1637205642,"question_id":70014167,"body_markdown":"I&#39;m creating a method in my program that tells whether the if the user is at risk of covid through these question markers that has specific health risk categories (low, medium, high). The expected output should be for example if the users enters &quot;y&quot;(yes) in &quot;a. fever&quot; the answer would fall under the equivalent marker that is low (risk), if enters &quot;n&quot; then just continue to the next and so on then after answering everything the accumulative number of the markers (low, medium high) will determine if that person is at risk or not. (hope this clarifies the overview of the code) \r\n\r\nI&#39;m trying to loop through 2 different 1d arrays with the same length the result should take only 1 element through each of the arrays but I&#39;m having a real difficulty on how to do this. Below is my code \r\n\r\n    \tSystem.out.println(\r\n\t\t\t\t&quot;1.\tAre you experiencing or did you have any of the following in the last 14 following in the last 14 days?&quot;);\r\n\r\n\r\n    \tint low = 0, medium = 0, high = 0;\r\n\r\n    String[] no1SubQuestion = new String[10];\r\n\t\tno1SubQuestion[0] = &quot;&quot;;\r\n\t\tno1SubQuestion[1] = &quot;a. Fever&quot;;\r\n\t\tno1SubQuestion[2] = &quot;b. Cough and/or Colds&quot;;\r\n\t\tno1SubQuestion[3] = &quot;c. Body Pains&quot;;\r\n\t\tno1SubQuestion[4] = &quot;d. Sore Throat&quot;;\r\n\t\tno1SubQuestion[5] = &quot;e. Fatigue or Tiredness&quot;;\r\n\t\tno1SubQuestion[6] = &quot;f. Headache&quot;;\r\n\t\tno1SubQuestion[7] = &quot;g. Diarrhea&quot;;\r\n\t\tno1SubQuestion[8] = &quot;h. Loss of Taste or Smell&quot;;\r\n\t\tno1SubQuestion[9] = &quot;i. Difficulty of Breathing&quot;;\r\n\r\n\t\tint[] no1SubQuestHealthRisk = new int[10];\r\n\t\tno1SubQuestHealthRisk[0] = 0;\r\n\t\tno1SubQuestHealthRisk[1] = low;\r\n\t\tno1SubQuestHealthRisk[2] = medium;\r\n\t\tno1SubQuestHealthRisk[3] = high;\r\n\t\tno1SubQuestHealthRisk[4] = high;\r\n\t\tno1SubQuestHealthRisk[5] = high;\r\n\t\tno1SubQuestHealthRisk[6] = high;\r\n\t\tno1SubQuestHealthRisk[7] = high;\r\n\t\tno1SubQuestHealthRisk[8] = high;\r\n\t\tno1SubQuestHealthRisk[9] = high;\r\n\r\n\t\tfor (int i = 0; i &lt; no1SubQuestion.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; no1SubQuestHealthRisk.length; j++) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tSystem.out.println(no1SubQuestion[i]);\r\n\t\t\t\t\tinput.nextLine();\r\n\t\t\t\t\tSystem.out.printf(&quot;(Enter \\&quot;Y\\&quot; if YES, \\&quot;N\\&quot; if NO only)\\n&gt;&gt; &quot;);\r\n\t\t\t\t\tString answer = input.nextLine();\r\n\r\n\t\t\t\t\tif (!answer.equalsIgnoreCase(&quot;y&quot;) &amp; !answer.equalsIgnoreCase(&quot;n&quot;)) {\r\n\t\t\t\t\t\tthrow new InputMismatchException(&quot;invalid input&quot;);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tboolean isYes = answer.equalsIgnoreCase(&quot;y&quot;);\r\n\r\n\t\t\t\t\tif (!isYes) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tno1SubQuestHealthRisk[j] += 1;\r\n\t\t\t\t} catch (InputMismatchException e) {\r\n\t\t\t\t\tSystem.out.println(&quot;Error!!! (Please enter \\&quot;Y\\&quot; if YES, \\&quot;N\\&quot; if NO only)&quot;);\r\n\t\t\t\t\tinput.nextLine();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n    \t\tif (high &gt; 0) {\r\n\t\t\tresult = &quot;HIGH&quot;;\r\n\t\t} else if (medium &gt; 0 &amp;&amp; high == 0) {\r\n\t\t\tresult = &quot;MEDIUM&quot;;\r\n\t\t} else if ((low == 1 || low == 2) &amp;&amp; (medium == 0 &amp;&amp; high == 0)) {\r\n\t\t\tresult = &quot;LOW&quot;;\r\n\t\t} else {\r\n\t\t\tresult = &quot;NO&quot;;\r\n\t\t}\r\n\t\treturn result;\r\n\r\nThe result should print one element on the no1SubQuestion array then after the user inputs, the answer should be stored to the equivalent int (low, medium, high) inside the no1SubQuestHealthRisk  array\r\n\r\nright now with the given code the output is this\r\n[![enter image description here][1]][1]\r\n\r\nbut im trying to do it like this\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1loaj.png\r\n  [2]: https://i.stack.imgur.com/hpblO.png","title":"How to loop through 2 different arrays in one loop in Java","body":"<p>I'm creating a method in my program that tells whether the if the user is at risk of covid through these question markers that has specific health risk categories (low, medium, high). The expected output should be for example if the users enters &quot;y&quot;(yes) in &quot;a. fever&quot; the answer would fall under the equivalent marker that is low (risk), if enters &quot;n&quot; then just continue to the next and so on then after answering everything the accumulative number of the markers (low, medium high) will determine if that person is at risk or not. (hope this clarifies the overview of the code)</p>\n<p>I'm trying to loop through 2 different 1d arrays with the same length the result should take only 1 element through each of the arrays but I'm having a real difficulty on how to do this. Below is my code</p>\n<pre><code>    System.out.println(\n            &quot;1. Are you experiencing or did you have any of the following in the last 14 following in the last 14 days?&quot;);\n\n\n    int low = 0, medium = 0, high = 0;\n\nString[] no1SubQuestion = new String[10];\n    no1SubQuestion[0] = &quot;&quot;;\n    no1SubQuestion[1] = &quot;a. Fever&quot;;\n    no1SubQuestion[2] = &quot;b. Cough and/or Colds&quot;;\n    no1SubQuestion[3] = &quot;c. Body Pains&quot;;\n    no1SubQuestion[4] = &quot;d. Sore Throat&quot;;\n    no1SubQuestion[5] = &quot;e. Fatigue or Tiredness&quot;;\n    no1SubQuestion[6] = &quot;f. Headache&quot;;\n    no1SubQuestion[7] = &quot;g. Diarrhea&quot;;\n    no1SubQuestion[8] = &quot;h. Loss of Taste or Smell&quot;;\n    no1SubQuestion[9] = &quot;i. Difficulty of Breathing&quot;;\n\n    int[] no1SubQuestHealthRisk = new int[10];\n    no1SubQuestHealthRisk[0] = 0;\n    no1SubQuestHealthRisk[1] = low;\n    no1SubQuestHealthRisk[2] = medium;\n    no1SubQuestHealthRisk[3] = high;\n    no1SubQuestHealthRisk[4] = high;\n    no1SubQuestHealthRisk[5] = high;\n    no1SubQuestHealthRisk[6] = high;\n    no1SubQuestHealthRisk[7] = high;\n    no1SubQuestHealthRisk[8] = high;\n    no1SubQuestHealthRisk[9] = high;\n\n    for (int i = 0; i &lt; no1SubQuestion.length; i++) {\n        for (int j = 0; j &lt; no1SubQuestHealthRisk.length; j++) {\n            try {\n                System.out.println(no1SubQuestion[i]);\n                input.nextLine();\n                System.out.printf(&quot;(Enter \\&quot;Y\\&quot; if YES, \\&quot;N\\&quot; if NO only)\\n&gt;&gt; &quot;);\n                String answer = input.nextLine();\n\n                if (!answer.equalsIgnoreCase(&quot;y&quot;) &amp; !answer.equalsIgnoreCase(&quot;n&quot;)) {\n                    throw new InputMismatchException(&quot;invalid input&quot;);\n                }\n\n                boolean isYes = answer.equalsIgnoreCase(&quot;y&quot;);\n\n                if (!isYes) {\n                    continue;\n                }\n\n                no1SubQuestHealthRisk[j] += 1;\n            } catch (InputMismatchException e) {\n                System.out.println(&quot;Error!!! (Please enter \\&quot;Y\\&quot; if YES, \\&quot;N\\&quot; if NO only)&quot;);\n                input.nextLine();\n            }\n        }\n    }\n\n        if (high &gt; 0) {\n        result = &quot;HIGH&quot;;\n    } else if (medium &gt; 0 &amp;&amp; high == 0) {\n        result = &quot;MEDIUM&quot;;\n    } else if ((low == 1 || low == 2) &amp;&amp; (medium == 0 &amp;&amp; high == 0)) {\n        result = &quot;LOW&quot;;\n    } else {\n        result = &quot;NO&quot;;\n    }\n    return result;\n</code></pre>\n<p>The result should print one element on the no1SubQuestion array then after the user inputs, the answer should be stored to the equivalent int (low, medium, high) inside the no1SubQuestHealthRisk  array</p>\n<p>right now with the given code the output is this\n<a href=\"https://i.stack.imgur.com/1loaj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1loaj.png\" alt=\"enter image description here\" /></a></p>\n<p>but im trying to do it like this\n<a href=\"https://i.stack.imgur.com/hpblO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hpblO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","user-interface","minecraft"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1637144974,"post_id":69999677,"comment_id":123745240,"body_markdown":"Can you show your project structure ?","body":"Can you show your project structure ?"},{"owner":{"account_id":19911640,"reputation":205,"user_id":17408627,"display_name":"Satindar31"},"score":0,"creation_date":1637148765,"post_id":69999677,"comment_id":123746608,"body_markdown":"The assets folder or the code folder @Elikill58","body":"The assets folder or the code folder @Elikill58"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1637151775,"post_id":69999677,"comment_id":123747779,"body_markdown":"both, something like [that](http://prntscr.com/1zwfg9v)","body":"both, something like <a href=\"http://prntscr.com/1zwfg9v\" rel=\"nofollow noreferrer\">that</a>"},{"owner":{"account_id":19911640,"reputation":205,"user_id":17408627,"display_name":"Satindar31"},"score":0,"creation_date":1637161516,"post_id":69999677,"comment_id":123752254,"body_markdown":"is this good? https://i.imgur.com/kAv8ZXe.png @Elikill58","body":"is this good? <a href=\"https://i.imgur.com/kAv8ZXe.png\" rel=\"nofollow noreferrer\">i.imgur.com/kAv8ZXe.png</a> @Elikill58"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1637164375,"post_id":69999677,"comment_id":123753741,"body_markdown":"let me make an answer. Just, can you include this screen in your question ?","body":"let me make an answer. Just, can you include this screen in your question ?"},{"owner":{"account_id":19911640,"reputation":205,"user_id":17408627,"display_name":"Satindar31"},"score":0,"creation_date":1637209874,"post_id":69999677,"comment_id":123766721,"body_markdown":"im assuming your talking about the file structure @Elikill58","body":"im assuming your talking about the file structure @Elikill58"}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637165187,"creation_date":1637165187,"answer_id":70007808,"question_id":69999677,"body_markdown":"You said &quot;the file is not found&quot;. This can be caused by multiple things :\r\n- File not in plugin (**Seems to be your case**)\r\n\r\n*How to fix:*\r\n\r\nYou should check that they are in good package. In your case, they should be on `src/resources`, but you wrote them somewhere else. So, **move it to `src/resources/moon/gui/bg.jpg`**\r\n\r\n\r\n- Not exported in runned jar\r\n\r\n*How to fix:*\r\n\r\nIt depend of what your are using between maven/gradle/something else, and with their config. But by default, all content of `src/resources` is included in jar.\r\n\r\n- Not enough permission to read file\r\n\r\n*How to fix:*\r\n\r\nYou have to check why you don&#39;t have permission, and add &quot;read&quot; perm. On linux for example it&#39;s with [chmod](https://www.howtogeek.com/437958/how-to-use-the-chmod-command-on-linux/) command.","title":"Minecraft cannot put custom background","body":"<p>You said &quot;the file is not found&quot;. This can be caused by multiple things :</p>\n<ul>\n<li>File not in plugin (<strong>Seems to be your case</strong>)</li>\n</ul>\n<p><em>How to fix:</em></p>\n<p>You should check that they are in good package. In your case, they should be on <code>src/resources</code>, but you wrote them somewhere else. So, <strong>move it to <code>src/resources/moon/gui/bg.jpg</code></strong></p>\n<ul>\n<li>Not exported in runned jar</li>\n</ul>\n<p><em>How to fix:</em></p>\n<p>It depend of what your are using between maven/gradle/something else, and with their config. But by default, all content of <code>src/resources</code> is included in jar.</p>\n<ul>\n<li>Not enough permission to read file</li>\n</ul>\n<p><em>How to fix:</em></p>\n<p>You have to check why you don't have permission, and add &quot;read&quot; perm. On linux for example it's with <a href=\"https://www.howtogeek.com/437958/how-to-use-the-chmod-command-on-linux/\" rel=\"nofollow noreferrer\">chmod</a> command.</p>\n"}],"owner":{"account_id":19911640,"reputation":205,"user_id":17408627,"display_name":"Satindar31"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70007808,"answer_count":1,"score":1,"last_activity_date":1637209788,"creation_date":1637129752,"question_id":69999677,"body_markdown":"I am making a custom minecraft client. For it i want to make a custom main menu, i try the code:\r\n```java\r\n@Override\r\n    public void drawScreen(int mouseX, int mouseY, float partialTicks) {\r\n        // draw a image\r\n        mc.getTextureManager().bindTexture(new ResourceLocation(&quot;moon/gui/background.jpg&quot;));\r\n        this.drawModalRectWithCustomSizedTexture(0, 0, 0, 0, this.width, this.height, this.width, this.height);\r\n        super.drawScreen(mouseX,mouseY,partialTicks);\r\n    }\r\n```\r\nAnd then replace **GuiMainMenu**(which is the default Minecraft main menu class) with **CustomMainMenu**(which is my Main Menu Class) I then try to run it, and it results in 2 pink and black boxes which mean the background file which is bg.jpg was not found. This is confirmed by the console output which says java.io file not found. I wanted it to show my background image but it did not.\r\n\r\nA few things I tried:\r\n\r\n - Re-downloading java\r\n - Changing the background image\r\n - changing the background image package from **MOON.gui** to **moon.gui** and **moon** and back to **moon.gui**\r\n - Asking for help in a Minecraft client making [discord server][1].\r\n\r\nThe whole code of my CustomMainMenu class is:\r\n```java\r\npackage me.debug.moon.ui;\r\n\r\nimport net.minecraft.client.gui.*;\r\nimport net.minecraft.client.renderer.GlStateManager;\r\nimport net.minecraft.util.ResourceLocation;\r\n\r\npublic class MainMenu extends GuiScreen {\r\n    // create a override drawScreem\r\n    @Override\r\n    public void drawScreen(int mouseX, int mouseY, float partialTicks) {\r\n        // draw a image\r\n        mc.getTextureManager().bindTexture(new ResourceLocation(&quot;moon/gui/bg.jpg&quot;));\r\n        this.drawModalRectWithCustomSizedTexture(0, 0, 0, 0, this.width, this.height, this.width, this.height);\r\n        super.drawScreen(mouseX,mouseY,partialTicks);\r\n    }\r\n\r\n    // create override super initGui\r\n    @Override\r\n    public void initGui() {\r\n        this.buttonList.add(new GuiButton(1, this.width / 2 - 40, this.height / 2 - 40, 200, 20, &quot;Single-Player&quot;));\r\n        this.buttonList.add(new GuiButton(2, this.width / 2 - 15, this.height / 2 - 15, 200, 20, &quot;Multi-Player&quot;));\r\n        this.buttonList.add(new GuiButton(3, this.width / 2 + 10, this.height / 2 + 10, 200, 20, &quot;Settings&quot;));\r\n        this.buttonList.add(new GuiButton(4, this.width / 2 + 40, this.height / 2 + 40, 20, 20, &quot;Exit&quot;));\r\n        super.initGui();\r\n    }\r\n\r\n    //create super override actionPerformed\r\n    @Override\r\n    protected void actionPerformed(GuiButton button) {\r\n        switch (button.id) {\r\n            case 1:\r\n                this.mc.displayGuiScreen(new GuiSelectWorld(this));\r\n                break;\r\n            case 2:\r\n                this.mc.displayGuiScreen(new GuiMultiplayer(this));\r\n                break;\r\n            case 3:\r\n                this.mc.displayGuiScreen(new GuiOptions(this, this.mc.gameSettings));\r\n                break;\r\n            case 4:\r\n                mc.shutdown();\r\n                break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMy file structure is: [![File Structure][2]][2]\r\n\r\n\r\n  [1]: https://discord.gg/n2CzJUuhX9\r\n  [2]: https://i.stack.imgur.com/YSjiw.png","title":"Minecraft cannot put custom background","body":"<p>I am making a custom minecraft client. For it i want to make a custom main menu, i try the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public void drawScreen(int mouseX, int mouseY, float partialTicks) {\n        // draw a image\n        mc.getTextureManager().bindTexture(new ResourceLocation(&quot;moon/gui/background.jpg&quot;));\n        this.drawModalRectWithCustomSizedTexture(0, 0, 0, 0, this.width, this.height, this.width, this.height);\n        super.drawScreen(mouseX,mouseY,partialTicks);\n    }\n</code></pre>\n<p>And then replace <strong>GuiMainMenu</strong>(which is the default Minecraft main menu class) with <strong>CustomMainMenu</strong>(which is my Main Menu Class) I then try to run it, and it results in 2 pink and black boxes which mean the background file which is bg.jpg was not found. This is confirmed by the console output which says java.io file not found. I wanted it to show my background image but it did not.</p>\n<p>A few things I tried:</p>\n<ul>\n<li>Re-downloading java</li>\n<li>Changing the background image</li>\n<li>changing the background image package from <strong>MOON.gui</strong> to <strong>moon.gui</strong> and <strong>moon</strong> and back to <strong>moon.gui</strong></li>\n<li>Asking for help in a Minecraft client making <a href=\"https://discord.gg/n2CzJUuhX9\" rel=\"nofollow noreferrer\">discord server</a>.</li>\n</ul>\n<p>The whole code of my CustomMainMenu class is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package me.debug.moon.ui;\n\nimport net.minecraft.client.gui.*;\nimport net.minecraft.client.renderer.GlStateManager;\nimport net.minecraft.util.ResourceLocation;\n\npublic class MainMenu extends GuiScreen {\n    // create a override drawScreem\n    @Override\n    public void drawScreen(int mouseX, int mouseY, float partialTicks) {\n        // draw a image\n        mc.getTextureManager().bindTexture(new ResourceLocation(&quot;moon/gui/bg.jpg&quot;));\n        this.drawModalRectWithCustomSizedTexture(0, 0, 0, 0, this.width, this.height, this.width, this.height);\n        super.drawScreen(mouseX,mouseY,partialTicks);\n    }\n\n    // create override super initGui\n    @Override\n    public void initGui() {\n        this.buttonList.add(new GuiButton(1, this.width / 2 - 40, this.height / 2 - 40, 200, 20, &quot;Single-Player&quot;));\n        this.buttonList.add(new GuiButton(2, this.width / 2 - 15, this.height / 2 - 15, 200, 20, &quot;Multi-Player&quot;));\n        this.buttonList.add(new GuiButton(3, this.width / 2 + 10, this.height / 2 + 10, 200, 20, &quot;Settings&quot;));\n        this.buttonList.add(new GuiButton(4, this.width / 2 + 40, this.height / 2 + 40, 20, 20, &quot;Exit&quot;));\n        super.initGui();\n    }\n\n    //create super override actionPerformed\n    @Override\n    protected void actionPerformed(GuiButton button) {\n        switch (button.id) {\n            case 1:\n                this.mc.displayGuiScreen(new GuiSelectWorld(this));\n                break;\n            case 2:\n                this.mc.displayGuiScreen(new GuiMultiplayer(this));\n                break;\n            case 3:\n                this.mc.displayGuiScreen(new GuiOptions(this, this.mc.gameSettings));\n                break;\n            case 4:\n                mc.shutdown();\n                break;\n        }\n    }\n}\n</code></pre>\n<p>My file structure is: <a href=\"https://i.stack.imgur.com/YSjiw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YSjiw.png\" alt=\"File Structure\" /></a></p>\n"},{"tags":["java","google-bigquery","google-cloud-dataflow","apache-beam","google-api-java-client"],"comments":[{"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"score":0,"creation_date":1637175016,"post_id":70003329,"comment_id":123758360,"body_markdown":"Thanks for sharing the detailed stacktrace and code. It might be good to file a Jira against Beam. I am doing a little investigation to understand the error but my immediate instinct is auth could be related (though the error doesn&#39;t look quite like that)","body":"Thanks for sharing the detailed stacktrace and code. It might be good to file a Jira against Beam. I am doing a little investigation to understand the error but my immediate instinct is auth could be related (though the error doesn&#39;t look quite like that)"},{"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"score":0,"creation_date":1637175125,"post_id":70003329,"comment_id":123758396,"body_markdown":"My other guess is conflicts between dependencies, so a version of one library is expecting a newer version of the other, or something like that.","body":"My other guess is conflicts between dependencies, so a version of one library is expecting a newer version of the other, or something like that."},{"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"score":0,"creation_date":1637175266,"post_id":70003329,"comment_id":123758449,"body_markdown":"Can you share the version of Beam and/or the full output of `mvn dependency:tree`? The line of `BigQueryIO$TypedRead.validate` does not match the current code so I want to make sure I am checking the right thing.","body":"Can you share the version of Beam and/or the full output of <code>mvn dependency:tree</code>? The line of <code>BigQueryIO$TypedRead.validate</code> does not match the current code so I want to make sure I am checking the right thing."}],"answers":[{"tags":[],"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637175607,"creation_date":1637175607,"answer_id":70010112,"question_id":70003329,"body_markdown":"The failure is occurring during the validation of the configuration of the BigQueryIO connector, before running the job. The line that fails is \r\n\r\n    DatasetService datasetService = getBigQueryServices().getDatasetService(bqOptions);\r\n\r\nHere, `bqOptions` are determined by the pipeline options you provide, which in this case come in as `args`. However, I would not expect this to cause such a failure.\r\n\r\nMy best guess is that this is a dependency conflict, where the version of the gax, gRPC, and BigQuery storage client libraries are not aligned. To eliminate this from consideration, you can use the GCP Libraries BOM (https://mvnrepository.com/artifact/com.google.cloud/libraries-bom) which Beam also uses to align its GCP dependencies.","title":"java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true while using bigquery client library in dataflow","body":"<p>The failure is occurring during the validation of the configuration of the BigQueryIO connector, before running the job. The line that fails is</p>\n<pre><code>DatasetService datasetService = getBigQueryServices().getDatasetService(bqOptions);\n</code></pre>\n<p>Here, <code>bqOptions</code> are determined by the pipeline options you provide, which in this case come in as <code>args</code>. However, I would not expect this to cause such a failure.</p>\n<p>My best guess is that this is a dependency conflict, where the version of the gax, gRPC, and BigQuery storage client libraries are not aligned. To eliminate this from consideration, you can use the GCP Libraries BOM (<a href=\"https://mvnrepository.com/artifact/com.google.cloud/libraries-bom\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.google.cloud/libraries-bom</a>) which Beam also uses to align its GCP dependencies.</p>\n"}],"owner":{"account_id":17389362,"reputation":79,"user_id":12600146,"display_name":"Shriyut Jha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2227,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70010112,"answer_count":1,"score":2,"last_activity_date":1637209737,"creation_date":1637147483,"question_id":70003329,"body_markdown":"Due to some criteria I need to write some entries to a specific table using bigquery client library  in my dataflow job, I can query a table using bq client library without any issue but when I try to write into the table I get the following error:\r\n```\r\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java (default-cli) on project &lt;project name&gt;: An exception occured while executing the Java class. java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true -&gt; [Help 1]\r\n```\r\n\r\nBelow is the full error\r\n```\r\n[org.##.addg.gcp.##.main()] INFO org.apache.beam.runners.dataflow.DataflowRunner - PipelineOptions.filesToStage was not specified. Defaulting to files from the classpath: will stage 220 files. Enable logging at DEBUG level to see which files will be staged.\r\n[WARNING]\r\njava.lang.RuntimeException: java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true\r\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl.newBigQueryWriteClient (BigQueryServicesImpl.java:1262)\r\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl.access$800 (BigQueryServicesImpl.java:134)\r\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$DatasetServiceImpl.&lt;init&gt; (BigQueryServicesImpl.java:523)\r\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$DatasetServiceImpl.&lt;init&gt; (BigQueryServicesImpl.java:451)\r\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl.getDatasetService (BigQueryServicesImpl.java:168)\r\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$TypedRead.validate (BigQueryIO.java:985)\r\n    at org.apache.beam.sdk.Pipeline$ValidateVisitor.enterCompositeTransform (Pipeline.java:662)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:581)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:585)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.access$500 (TransformHierarchy.java:240)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy.visit (TransformHierarchy.java:214)\r\n    at org.apache.beam.sdk.Pipeline.traverseTopologically (Pipeline.java:469)\r\n    at org.apache.beam.sdk.Pipeline.validate (Pipeline.java:598)\r\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:322)\r\n    at org.##.addg.gcp.##.main (##.java:125)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\r\n    at java.lang.Thread.run (Thread.java:829)\r\nCaused by: java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true\r\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel (InstantiatingGrpcChannelProvider.java:204)\r\n    at com.google.api.gax.rpc.ClientContext.create (ClientContext.java:205)\r\n    at com.google.cloud.bigquery.storage.v1beta2.stub.GrpcBigQueryWriteStub.create (GrpcBigQueryWriteStub.java:138)\r\n    at com.google.cloud.bigquery.storage.v1beta2.stub.BigQueryWriteStubSettings.createStub (BigQueryWriteStubSettings.java:145)\r\n    at com.google.cloud.bigquery.storage.v1beta2.BigQueryWriteClient.&lt;init&gt; (BigQueryWriteClient.java:128)\r\n    at com.google.cloud.bigquery.storage.v1beta2.BigQueryWriteClient.create (BigQueryWriteClient.java:109)\r\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl.newBigQueryWriteClient (BigQueryServicesImpl.java:1257)\r\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl.access$800 (BigQueryServicesImpl.java:134)\r\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$DatasetServiceImpl.&lt;init&gt; (BigQueryServicesImpl.java:523)\r\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$DatasetServiceImpl.&lt;init&gt; (BigQueryServicesImpl.java:451)\r\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl.getDatasetService (BigQueryServicesImpl.java:168)\r\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$TypedRead.validate (BigQueryIO.java:985)\r\n    at org.apache.beam.sdk.Pipeline$ValidateVisitor.enterCompositeTransform (Pipeline.java:662)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:581)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:585)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.access$500 (TransformHierarchy.java:240)\r\n    at org.apache.beam.sdk.runners.TransformHierarchy.visit (TransformHierarchy.java:214)\r\n    at org.apache.beam.sdk.Pipeline.traverseTopologically (Pipeline.java:469)\r\n    at org.apache.beam.sdk.Pipeline.validate (Pipeline.java:598)\r\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:322)\r\n    at org.##.addg.gcp.##.main (##.java:125)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\r\n    at java.lang.Thread.run (Thread.java:829)\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  14.009 s\r\n[INFO] Finished at: 2021-11-17T10:55:59Z\r\n```\r\nThe line 125 of main class just has the piepline.run(options).waitUntilFinish() statement\r\nHere&#39;s the code that I&#39;m running\r\n\r\n```\r\npublic class ## {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tDataflowPipelineOptions options = PipelineOptionsFactory.fromArgs(args).withValidation()\r\n\t\t\t\t.as(DataflowPipelineOptions.class);\r\n\t\tPipeline pipeline = Pipeline.create(options);\r\n\t\t\r\n\t\tPCollection&lt;TableRow&gt; orders = pipeline\r\n\t\t\t\t.apply(BigQueryIO.readTableRows().fromQuery(&quot;query&quot;).usingStandardSql());\r\n\t\t\r\n\t\tPCollection&lt;TableRow&gt; customers = pipeline\r\n\t\t\t\t.apply(BigQueryIO.readTableRows().fromQuery(&quot;query&quot;).usingStandardSql());\r\n\t\t\r\n\t\tPCollection&lt;Long&gt; count = customers.apply(Count.globally());\r\n\t\tPCollectionView&lt;Long&gt; countView = count.apply(View.asSingleton());\r\n\t\t\r\n\t\tPCollection&lt;Void&gt; c = count.apply(ParDo.of(new MakeCountEntryFn(&quot;processed_records&quot;, countView)).withSideInput(&quot;count&quot;, countView));\r\n\t\t\r\n\t\tPCollection&lt;TableRow&gt; result = customers.apply(new Join(orders, &quot;CustomerID&quot;));\r\n\t\t\r\n\t\tBigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\r\n\t\t\r\n\t\tTableId tableId = TableId.of(&quot;jointest&quot;, &quot;abc&quot;);\r\n\t\tWriteChannelConfiguration writeChannelConfiguration =\r\n\t\t        WriteChannelConfiguration.newBuilder(tableId).setFormatOptions(FormatOptions.json()).build();\r\n\t\t\r\n\t\tTableDataWriteChannel writer = bigquery.writer(writeChannelConfiguration);\r\n\t\t\r\n\t\tJSONObject jsonData = new JSONObject();\r\n\t\tjsonData.put(&quot;run_id&quot;, &quot;test&quot;);\r\n\t\tjsonData.put(&quot;job_status&quot;, &quot;running&quot;);\r\n\t\t\r\n\t\tString data = String.valueOf(jsonData);\r\n\t\t try {\r\n\t\t      writer.write(ByteBuffer.wrap(data.getBytes(Charsets.UTF_8)));   \r\n\t\t} finally {\r\n\t\t      writer.close();\r\n\t\t}\r\n\t\t\r\n\t\tpipeline.run(options).waitUntilFinish();\r\n\r\n\t}\r\n\t\r\n\tpublic static void writeToAbcTable(JSONObject jsonObject, String dataset, String table) throws IOException {\r\n\t\t\r\n\t\tBigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\r\n\t\t\r\n\t\tTableId tableId = TableId.of(dataset, table);\r\n\t\tWriteChannelConfiguration writeChannelConfiguration =\r\n\t\t        WriteChannelConfiguration.newBuilder(tableId).setFormatOptions(FormatOptions.json()).build();\r\n\t\t\r\n\t\tTableDataWriteChannel writer = bigquery.writer(writeChannelConfiguration);\r\n\t\t\r\n\t\tJSONObject jsonData = new JSONObject();\r\n\t\tjsonData.put(&quot;run_id&quot;, &quot;test&quot;);\r\n\t\tjsonData.put(&quot;job_status&quot;, &quot;running&quot;);\r\n\t\t\r\n\t\tString data = String.valueOf(jsonObject);\r\n\t\t try {\r\n\t\t      writer.write(ByteBuffer.wrap(data.getBytes(Charsets.UTF_8)));   \r\n\t\t} finally {\r\n\t\t      writer.close();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static class MakeCountEntryFn extends DoFn&lt;Long, Void&gt;{\r\n\t\t\r\n\t\tprivate String countColumn;\r\n\t\tprivate PCollectionView&lt;Long&gt; countView;\r\n\r\n\t\tpublic MakeCountEntryFn(String countColumn, PCollectionView&lt;Long&gt; countView) {\r\n\t\t\tthis.countColumn = countColumn;\r\n\t\t\tthis.countView = countView;\r\n\t\t}\r\n\t\t\r\n\t\t@ProcessElement\r\n\t\tpublic void ProcessElement(ProcessContext c) {\r\n\t\t\tLong i = c.sideInput(countView);\r\n\t\t\tJSONObject obj = new JSONObject();\r\n\t\t\t\r\n\t\t\tobj.put(countColumn, String.valueOf(c.element()));\r\n\t\t\ttry {\r\n\t\t\t\twriteToAbcTable(obj, &quot;test&quot;, &quot;##&quot;);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\t\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n```\r\nI&#39;m not sure what I need to change to get this code to work without that issue, any help would be appreciated. Thanks!","title":"java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true while using bigquery client library in dataflow","body":"<p>Due to some criteria I need to write some entries to a specific table using bigquery client library  in my dataflow job, I can query a table using bq client library without any issue but when I try to write into the table I get the following error:</p>\n<pre><code>[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:java (default-cli) on project &lt;project name&gt;: An exception occured while executing the Java class. java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true -&gt; [Help 1]\n</code></pre>\n<p>Below is the full error</p>\n<pre><code>[org.##.addg.gcp.##.main()] INFO org.apache.beam.runners.dataflow.DataflowRunner - PipelineOptions.filesToStage was not specified. Defaulting to files from the classpath: will stage 220 files. Enable logging at DEBUG level to see which files will be staged.\n[WARNING]\njava.lang.RuntimeException: java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl.newBigQueryWriteClient (BigQueryServicesImpl.java:1262)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl.access$800 (BigQueryServicesImpl.java:134)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$DatasetServiceImpl.&lt;init&gt; (BigQueryServicesImpl.java:523)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$DatasetServiceImpl.&lt;init&gt; (BigQueryServicesImpl.java:451)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl.getDatasetService (BigQueryServicesImpl.java:168)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$TypedRead.validate (BigQueryIO.java:985)\n    at org.apache.beam.sdk.Pipeline$ValidateVisitor.enterCompositeTransform (Pipeline.java:662)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:581)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:585)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.access$500 (TransformHierarchy.java:240)\n    at org.apache.beam.sdk.runners.TransformHierarchy.visit (TransformHierarchy.java:214)\n    at org.apache.beam.sdk.Pipeline.traverseTopologically (Pipeline.java:469)\n    at org.apache.beam.sdk.Pipeline.validate (Pipeline.java:598)\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:322)\n    at org.##.addg.gcp.##.main (##.java:125)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\n    at java.lang.Thread.run (Thread.java:829)\nCaused by: java.lang.IllegalStateException: getTransportChannel() called when needsExecutor() is true\n    at com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel (InstantiatingGrpcChannelProvider.java:204)\n    at com.google.api.gax.rpc.ClientContext.create (ClientContext.java:205)\n    at com.google.cloud.bigquery.storage.v1beta2.stub.GrpcBigQueryWriteStub.create (GrpcBigQueryWriteStub.java:138)\n    at com.google.cloud.bigquery.storage.v1beta2.stub.BigQueryWriteStubSettings.createStub (BigQueryWriteStubSettings.java:145)\n    at com.google.cloud.bigquery.storage.v1beta2.BigQueryWriteClient.&lt;init&gt; (BigQueryWriteClient.java:128)\n    at com.google.cloud.bigquery.storage.v1beta2.BigQueryWriteClient.create (BigQueryWriteClient.java:109)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl.newBigQueryWriteClient (BigQueryServicesImpl.java:1257)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl.access$800 (BigQueryServicesImpl.java:134)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$DatasetServiceImpl.&lt;init&gt; (BigQueryServicesImpl.java:523)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl$DatasetServiceImpl.&lt;init&gt; (BigQueryServicesImpl.java:451)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryServicesImpl.getDatasetService (BigQueryServicesImpl.java:168)\n    at org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO$TypedRead.validate (BigQueryIO.java:985)\n    at org.apache.beam.sdk.Pipeline$ValidateVisitor.enterCompositeTransform (Pipeline.java:662)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:581)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.visit (TransformHierarchy.java:585)\n    at org.apache.beam.sdk.runners.TransformHierarchy$Node.access$500 (TransformHierarchy.java:240)\n    at org.apache.beam.sdk.runners.TransformHierarchy.visit (TransformHierarchy.java:214)\n    at org.apache.beam.sdk.Pipeline.traverseTopologically (Pipeline.java:469)\n    at org.apache.beam.sdk.Pipeline.validate (Pipeline.java:598)\n    at org.apache.beam.sdk.Pipeline.run (Pipeline.java:322)\n    at org.##.addg.gcp.##.main (##.java:125)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:254)\n    at java.lang.Thread.run (Thread.java:829)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  14.009 s\n[INFO] Finished at: 2021-11-17T10:55:59Z\n</code></pre>\n<p>The line 125 of main class just has the piepline.run(options).waitUntilFinish() statement\nHere's the code that I'm running</p>\n<pre><code>public class ## {\n\n    public static void main(String[] args) throws IOException {\n        \n        DataflowPipelineOptions options = PipelineOptionsFactory.fromArgs(args).withValidation()\n                .as(DataflowPipelineOptions.class);\n        Pipeline pipeline = Pipeline.create(options);\n        \n        PCollection&lt;TableRow&gt; orders = pipeline\n                .apply(BigQueryIO.readTableRows().fromQuery(&quot;query&quot;).usingStandardSql());\n        \n        PCollection&lt;TableRow&gt; customers = pipeline\n                .apply(BigQueryIO.readTableRows().fromQuery(&quot;query&quot;).usingStandardSql());\n        \n        PCollection&lt;Long&gt; count = customers.apply(Count.globally());\n        PCollectionView&lt;Long&gt; countView = count.apply(View.asSingleton());\n        \n        PCollection&lt;Void&gt; c = count.apply(ParDo.of(new MakeCountEntryFn(&quot;processed_records&quot;, countView)).withSideInput(&quot;count&quot;, countView));\n        \n        PCollection&lt;TableRow&gt; result = customers.apply(new Join(orders, &quot;CustomerID&quot;));\n        \n        BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\n        \n        TableId tableId = TableId.of(&quot;jointest&quot;, &quot;abc&quot;);\n        WriteChannelConfiguration writeChannelConfiguration =\n                WriteChannelConfiguration.newBuilder(tableId).setFormatOptions(FormatOptions.json()).build();\n        \n        TableDataWriteChannel writer = bigquery.writer(writeChannelConfiguration);\n        \n        JSONObject jsonData = new JSONObject();\n        jsonData.put(&quot;run_id&quot;, &quot;test&quot;);\n        jsonData.put(&quot;job_status&quot;, &quot;running&quot;);\n        \n        String data = String.valueOf(jsonData);\n         try {\n              writer.write(ByteBuffer.wrap(data.getBytes(Charsets.UTF_8)));   \n        } finally {\n              writer.close();\n        }\n        \n        pipeline.run(options).waitUntilFinish();\n\n    }\n    \n    public static void writeToAbcTable(JSONObject jsonObject, String dataset, String table) throws IOException {\n        \n        BigQuery bigquery = BigQueryOptions.getDefaultInstance().getService();\n        \n        TableId tableId = TableId.of(dataset, table);\n        WriteChannelConfiguration writeChannelConfiguration =\n                WriteChannelConfiguration.newBuilder(tableId).setFormatOptions(FormatOptions.json()).build();\n        \n        TableDataWriteChannel writer = bigquery.writer(writeChannelConfiguration);\n        \n        JSONObject jsonData = new JSONObject();\n        jsonData.put(&quot;run_id&quot;, &quot;test&quot;);\n        jsonData.put(&quot;job_status&quot;, &quot;running&quot;);\n        \n        String data = String.valueOf(jsonObject);\n         try {\n              writer.write(ByteBuffer.wrap(data.getBytes(Charsets.UTF_8)));   \n        } finally {\n              writer.close();\n        }\n    }\n    \n    public static class MakeCountEntryFn extends DoFn&lt;Long, Void&gt;{\n        \n        private String countColumn;\n        private PCollectionView&lt;Long&gt; countView;\n\n        public MakeCountEntryFn(String countColumn, PCollectionView&lt;Long&gt; countView) {\n            this.countColumn = countColumn;\n            this.countView = countView;\n        }\n        \n        @ProcessElement\n        public void ProcessElement(ProcessContext c) {\n            Long i = c.sideInput(countView);\n            JSONObject obj = new JSONObject();\n            \n            obj.put(countColumn, String.valueOf(c.element()));\n            try {\n                writeToAbcTable(obj, &quot;test&quot;, &quot;##&quot;);\n            } catch (IOException e) {\n                \n                e.printStackTrace();\n            }\n        }\n    }\n\n}\n\n</code></pre>\n<p>I'm not sure what I need to change to get this code to work without that issue, any help would be appreciated. Thanks!</p>\n"},{"tags":["java","selenium","automation","cucumber","aem"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1637286269,"post_id":69999800,"comment_id":123792176,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":460481,"reputation":5813,"user_id":861594,"display_name":"user861594"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637209681,"creation_date":1637209681,"answer_id":70014579,"question_id":69999800,"body_markdown":"We have been successfully used [qaf-support-aem][1] for same use case. You should try [qaf-support-aem][1] library that provides ready to use components and [utility methods/steps][2]. \r\n\r\nThis library provides two way to create new page:\r\n 1. [create new page][4] using ui  \r\n 2. [create new page][5] using api\r\n\r\nTo edit newly created page or an existing page \r\n```\r\nAEMEditorPage editorPage = new AEMEditorPage();\r\n//uncomment below statement if you are not on requested page \r\n//for example page created through api or opening existing page\r\n//editorPage.launchPage(pagepath);\r\n\r\n```\r\nAEMEditorPage will provide you access to edit menus and editable component placeholder. You can refer [AEMEditorPage][3] for more available functionality.\r\n\r\nLibrary requires following properties:\r\n```\r\nenv.aem.baseurl=&lt;aem instance base url&gt;\r\naem.user=&lt;aem user&gt;\r\n#aem.password=&lt;aem password&gt;\r\nencrypted.aem.password=&lt;base64 encrypted password&gt;\r\n```\r\nFurther more if you are using cucumber and love to use cucumber, you take benefit of [qaf-cucumber][6]\r\n\r\n\r\n  [1]: https://github.com/qmetry/qaf-support-aem\r\n  [2]: https://github.com/qmetry/qaf-support-aem/blob/master/src/com/qmetry/qaf/automation/step/AEMAuthoringSteps.java\r\n  [3]: https://github.com/qmetry/qaf-support-aem/blob/master/src/com/qmetry/qaf/automation/ui/aem/admin/pages/AEMEditorPage.java\r\n  [4]: https://github.com/qmetry/qaf-support-aem/blob/5f5ba417d5510d2ecd323ffc3d90ddd3edf70231/src/com/qmetry/qaf/automation/step/AEMAuthoringSteps.java#L53\r\n  [5]: https://github.com/qmetry/qaf-support-aem/blob/5f5ba417d5510d2ecd323ffc3d90ddd3edf70231/src/com/qmetry/qaf/automation/step/AEMAuthoringSteps.java#L67\r\n  [6]: https://github.com/qmetry/qaf-cucumber#qaf-cucumber","title":"AEM Authoring automation-unable to locate the element","body":"<p>We have been successfully used <a href=\"https://github.com/qmetry/qaf-support-aem\" rel=\"nofollow noreferrer\">qaf-support-aem</a> for same use case. You should try <a href=\"https://github.com/qmetry/qaf-support-aem\" rel=\"nofollow noreferrer\">qaf-support-aem</a> library that provides ready to use components and <a href=\"https://github.com/qmetry/qaf-support-aem/blob/master/src/com/qmetry/qaf/automation/step/AEMAuthoringSteps.java\" rel=\"nofollow noreferrer\">utility methods/steps</a>.</p>\n<p>This library provides two way to create new page:</p>\n<ol>\n<li><a href=\"https://github.com/qmetry/qaf-support-aem/blob/5f5ba417d5510d2ecd323ffc3d90ddd3edf70231/src/com/qmetry/qaf/automation/step/AEMAuthoringSteps.java#L53\" rel=\"nofollow noreferrer\">create new page</a> using ui</li>\n<li><a href=\"https://github.com/qmetry/qaf-support-aem/blob/5f5ba417d5510d2ecd323ffc3d90ddd3edf70231/src/com/qmetry/qaf/automation/step/AEMAuthoringSteps.java#L67\" rel=\"nofollow noreferrer\">create new page</a> using api</li>\n</ol>\n<p>To edit newly created page or an existing page</p>\n<pre><code>AEMEditorPage editorPage = new AEMEditorPage();\n//uncomment below statement if you are not on requested page \n//for example page created through api or opening existing page\n//editorPage.launchPage(pagepath);\n\n</code></pre>\n<p>AEMEditorPage will provide you access to edit menus and editable component placeholder. You can refer <a href=\"https://github.com/qmetry/qaf-support-aem/blob/master/src/com/qmetry/qaf/automation/ui/aem/admin/pages/AEMEditorPage.java\" rel=\"nofollow noreferrer\">AEMEditorPage</a> for more available functionality.</p>\n<p>Library requires following properties:</p>\n<pre><code>env.aem.baseurl=&lt;aem instance base url&gt;\naem.user=&lt;aem user&gt;\n#aem.password=&lt;aem password&gt;\nencrypted.aem.password=&lt;base64 encrypted password&gt;\n</code></pre>\n<p>Further more if you are using cucumber and love to use cucumber, you take benefit of <a href=\"https://github.com/qmetry/qaf-cucumber#qaf-cucumber\" rel=\"nofollow noreferrer\">qaf-cucumber</a></p>\n"}],"owner":{"account_id":23363337,"reputation":1,"user_id":17435230,"display_name":"challa 143"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637209681,"creation_date":1637130500,"question_id":69999800,"body_markdown":"We have requirement to implement automated testing for AEM authoring functionality. We have created automation suite using Selenium and cucumber frameworks and we&#39;re able to automatically login to AEM and able create pages using required template.\r\n\r\nBut once page is created we&#39;re unable to locate container component element to drag and drop the components. Please see the screenshots below DOM for container component. \r\n\r\nIf you implemented similar. Please share your thoughts. \r\n\r\nAnd also, please share your thoughts if you implemented automation for AEM authoring functionality for Touch UI in AEM 6.5.  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NlpZ6.png","title":"AEM Authoring automation-unable to locate the element","body":"<p>We have requirement to implement automated testing for AEM authoring functionality. We have created automation suite using Selenium and cucumber frameworks and we're able to automatically login to AEM and able create pages using required template.</p>\n<p>But once page is created we're unable to locate container component element to drag and drop the components. Please see the screenshots below DOM for container component.</p>\n<p>If you implemented similar. Please share your thoughts.</p>\n<p>And also, please share your thoughts if you implemented automation for AEM authoring functionality for Touch UI in AEM 6.5.</p>\n<p><a href=\"https://i.stack.imgur.com/NlpZ6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NlpZ6.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","hyper-v","haxm"],"comments":[{"owner":{"account_id":7165321,"reputation":6023,"user_id":8244632,"accept_rate":100,"display_name":"Lalit Fauzdar"},"score":2,"creation_date":1637210162,"post_id":70014539,"comment_id":123766755,"body_markdown":"It is required for the Android emulators. If you want to use an emulator or if your emulator is not working, then bother with the settings, else ignore it. Also, enabling Hyper-V is enough, you can toggle it in bios settings.","body":"It is required for the Android emulators. If you want to use an emulator or if your emulator is not working, then bother with the settings, else ignore it. Also, enabling Hyper-V is enough, you can toggle it in bios settings."}],"owner":{"account_id":21781765,"reputation":21,"user_id":16083373,"display_name":"SenaW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1637209360,"creation_date":1637209360,"question_id":70014539,"body_markdown":"Ive installed HAXM , an can also enable Hyper-v and WHPX. The android studio documentation about this is confusing me. What do I need have enabled and disabled.","title":"Do i need hyper-v or HAXM or WHPX for Android Studio?","body":"<p>Ive installed HAXM , an can also enable Hyper-v and WHPX. The android studio documentation about this is confusing me. What do I need have enabled and disabled.</p>\n"},{"tags":["java","rest","jax-rs","web.xml","http-response-codes"],"comments":[{"owner":{"account_id":8811065,"reputation":23,"user_id":9264641,"display_name":"Narayan Ghimire"},"score":0,"creation_date":1544810054,"post_id":53784547,"comment_id":94420799,"body_markdown":"@NicholasK. Will you please check my Post. you can see my screen and code . I have updated my post. I have not used any framework , In normal way I am trying REST API","body":"@NicholasK. Will you please check my Post. you can see my screen and code . I have updated my post. I have not used any framework , In normal way I am trying REST API"},{"owner":{"account_id":1332105,"reputation":609,"user_id":1275764,"display_name":"cokeby190"},"score":2,"creation_date":1544810524,"post_id":53784547,"comment_id":94421016,"body_markdown":"What does your `web.xml` inside the `WEB-INF` look like?","body":"What does your <code>web.xml</code> inside the <code>WEB-INF</code> look like?"},{"owner":{"account_id":8811065,"reputation":23,"user_id":9264641,"display_name":"Narayan Ghimire"},"score":0,"creation_date":1544811180,"post_id":53784547,"comment_id":94421292,"body_markdown":"@cokeby190. Please check my post . I have added my xml code which was inside WEB-INF","body":"@cokeby190. Please check my post . I have added my xml code which was inside WEB-INF"},{"owner":{"account_id":8811065,"reputation":23,"user_id":9264641,"display_name":"Narayan Ghimire"},"score":0,"creation_date":1544811207,"post_id":53784547,"comment_id":94421309,"body_markdown":"@NicholasK. I tried your way also it not working","body":"@NicholasK. I tried your way also it not working"},{"owner":{"account_id":1332105,"reputation":609,"user_id":1275764,"display_name":"cokeby190"},"score":0,"creation_date":1544811804,"post_id":53784547,"comment_id":94421517,"body_markdown":"Hi @NarayanGhimire, possible to try `http://localhost:8080/restful-java/resources/scores`?","body":"Hi @NarayanGhimire, possible to try <code>http:&#47;&#47;localhost:8080&#47;restful-java&#47;resources&#47;scores</code>?"}],"answers":[{"tags":[],"owner":{"account_id":14925185,"reputation":1,"user_id":10776282,"display_name":"code4mobile"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637207911,"creation_date":1544810158,"answer_id":53784680,"question_id":53784547,"body_markdown":"Ensure that your Tomcat Web Server is property configured to deal with .java MIME type.\r\n\r\nMIME types are used by Web Servers to determine how to serve up specific types of content. .jpg or .png for images, htm or html for web pages, or maybe .aspx or .java for executable scripts. The Web Server needs to know what command processor to use for each file type, and that&#39;s what the MIME types are used for. I&#39;m betting you have no MIME type set up for .java files, which would be an entry in your config files for your web server. Research &quot;Set Up Java MIME type on Tomcat&quot;.","title":"Tomcat 404 – Not Found: when Implementing REST API","body":"<p>Ensure that your Tomcat Web Server is property configured to deal with .java MIME type.</p>\n<p>MIME types are used by Web Servers to determine how to serve up specific types of content. .jpg or .png for images, htm or html for web pages, or maybe .aspx or .java for executable scripts. The Web Server needs to know what command processor to use for each file type, and that's what the MIME types are used for. I'm betting you have no MIME type set up for .java files, which would be an entry in your config files for your web server. Research &quot;Set Up Java MIME type on Tomcat&quot;.</p>\n"},{"tags":[],"owner":{"account_id":442633,"reputation":1586,"user_id":833336,"accept_rate":43,"display_name":"emecas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544812347,"creation_date":1544810204,"answer_id":53784692,"question_id":53784547,"body_markdown":"**Option 1: Class level**\r\n\r\nAs you code suggests if you want to access:\r\n\r\n    http://localhost:8080/restful-java/score?wins=2%losses=3@ties=15\r\n \r\n\r\nThen you are missing `/restful-java` text in the annotation for your `ScoreService` class.\r\n\r\n*Replace:*\r\n    \r\n    @Path(&quot;/&quot;)\r\n\r\n*with:*\r\n    \r\n    @Path(&quot;/restful-java&quot;)\r\n\r\n\r\n**Option 2: Fix the PATH  and the URL you are using**\r\n\r\nRemove `@Path(&quot;/&quot;)` annotation from your original code.\r\n\r\nand try to access :\r\n\r\n    http://localhost:8080/score?wins=2%losses=3@ties=15\r\n\r\n\r\n**Option 3: App configuration level**\r\n\r\nSet `restful-java` as a mapping in the `web.xml` file (or remove it as indicated by @nicholas-k answer). \r\n\r\nNote: you must remove `@Path(&quot;/&quot;)` annotation from your original code in order to make it works correctly.\r\n","title":"Tomcat 404 – Not Found: when Implementing REST API","body":"<p><strong>Option 1: Class level</strong></p>\n\n<p>As you code suggests if you want to access:</p>\n\n<pre><code>http://localhost:8080/restful-java/score?wins=2%losses=3@ties=15\n</code></pre>\n\n<p>Then you are missing <code>/restful-java</code> text in the annotation for your <code>ScoreService</code> class.</p>\n\n<p><em>Replace:</em></p>\n\n<pre><code>@Path(\"/\")\n</code></pre>\n\n<p><em>with:</em></p>\n\n<pre><code>@Path(\"/restful-java\")\n</code></pre>\n\n<p><strong>Option 2: Fix the PATH  and the URL you are using</strong></p>\n\n<p>Remove <code>@Path(\"/\")</code> annotation from your original code.</p>\n\n<p>and try to access :</p>\n\n<pre><code>http://localhost:8080/score?wins=2%losses=3@ties=15\n</code></pre>\n\n<p><strong>Option 3: App configuration level</strong></p>\n\n<p>Set <code>restful-java</code> as a mapping in the <code>web.xml</code> file (or remove it as indicated by @nicholas-k answer). </p>\n\n<p>Note: you must remove <code>@Path(\"/\")</code> annotation from your original code in order to make it works correctly.</p>\n"},{"tags":[],"owner":{"account_id":8153102,"reputation":15213,"user_id":6139527,"display_name":"Nicholas K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544812708,"creation_date":1544811397,"answer_id":53784924,"question_id":53784547,"body_markdown":"You have missed the mapping in your `web.xml`. Add the following lines :\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;My Servlet&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;com.restful.java.example&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;My Servlet&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\nBasically what this configuration is doing is mapping urls with pattern `/api/*` to a servlet which is required.\r\n\r\nAlso looks like you are using jersey for your REST implementation. Now you can try to access your api&#39;s using the following url:\r\n\r\n`http://localhost:8080/restful-java/api/score`","title":"Tomcat 404 – Not Found: when Implementing REST API","body":"<p>You have missed the mapping in your <code>web.xml</code>. Add the following lines :</p>\n\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;My Servlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;com.restful.java.example&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;My Servlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n\n<p>Basically what this configuration is doing is mapping urls with pattern <code>/api/*</code> to a servlet which is required.</p>\n\n<p>Also looks like you are using jersey for your REST implementation. Now you can try to access your api's using the following url:</p>\n\n<p><code>http://localhost:8080/restful-java/api/score</code></p>\n"},{"tags":[],"owner":{"account_id":21157269,"reputation":1,"user_id":15556274,"display_name":"Shukran Sozan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637209140,"creation_date":1636231246,"answer_id":69867743,"question_id":53784547,"body_markdown":"Ensure that the latest versions of **both** Eclipse and Tomcat are installed, which (in 2021) are:\r\n- Eclipse 2021\r\n- Tomcat 10 \r\n\r\n","title":"Tomcat 404 – Not Found: when Implementing REST API","body":"<p>Ensure that the latest versions of <strong>both</strong> Eclipse and Tomcat are installed, which (in 2021) are:</p>\n<ul>\n<li>Eclipse 2021</li>\n<li>Tomcat 10</li>\n</ul>\n"}],"owner":{"account_id":8811065,"reputation":23,"user_id":9264641,"display_name":"Narayan Ghimire"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9009,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53784924,"answer_count":4,"score":1,"last_activity_date":1637209140,"creation_date":1544809447,"question_id":53784547,"body_markdown":"I&#39;m trying to implement simple RESTFUL API service using dynamic web application in Eclipse. Every time I am getting error message `HTTP Status 404 – Not Found`. \r\n\r\nI have attached my screen below\r\n\r\n**Package structure**\r\n\r\n![My RestFul API Code Picture][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GemmZ.png\r\n  [2]: https://i.stack.imgur.com/JFisU.png\r\n  [3]: https://i.stack.imgur.com/zzcXf.png\r\n\r\nI am able to run tomcat server on `localhost:8080` as shown on the above figure but when I trying to access my api path I am getting `404 not found error`\r\n\r\nHere is my whole code\r\n\r\n    package com.restful.java.example;\r\n        \r\n    import javax.ws.rs.*;\r\n        \r\n    @Path(&quot;/&quot;)\r\n    public class ScoreService {\r\n        private static int wins ,losses, ties;\r\n    \t\r\n    \t@GET\r\n    \t@Path(&quot;/score&quot;)\r\n    \t@Produces(&quot;application/json&quot;)\r\n    \tpublic String getScore() {\r\n    \t   String pattern = \r\n    \t      &quot;{ \\&quot;wins\\&quot;:\\&quot;%s\\&quot;, \\&quot;losses\\&quot;:\\&quot;%s\\&quot;, \\&quot;ties\\&quot;: \\&quot;%s\\&quot;}&quot;;\r\n    \t   return String.format(pattern,  wins, losses, ties );   \r\n    \t}\r\n    \t //localhost:8080/restful-java/score?wins=2%losses=3@ties=15\r\n    \t@PUT\r\n    \t@Path(&quot;/score&quot;)\r\n    \t@Produces(&quot;application/json&quot;)\r\n    \tpublic String updateScore( @QueryParam(&quot;wins&quot;)int wins,\r\n    \t\t\t\t\t\t\t\t@QueryParam(&quot;losses&quot;)int losses,\r\n    \t\t\t\t\t\t\t\t@QueryParam(&quot;ties&quot;)int ties) {\r\n    \t\tScoreService.wins = wins;\r\n    \t\tScoreService.losses = losses;\r\n    \t\tScoreService.ties = ties;\r\n    \t\tString pattern = \r\n    \t\t\t      &quot;{ \\&quot;wins\\&quot;:\\&quot;%s\\&quot;, \\&quot;losses\\&quot;:\\&quot;%s\\&quot;, \\&quot;ties\\&quot;: \\&quot;%s\\&quot;}&quot;;\r\n    \t\t\t  return String.format(pattern,  wins, losses, ties );   \r\n    \r\n    \t\t\r\n    \t}\r\n    \t \t\r\n    \t@POST @Path(&quot;/score/wins&quot;) @Produces(&quot;text/plain&quot;)\r\n    \tpublic int increaseWins() {\r\n    \t\treturn ++wins;\r\n    \t}\r\n    \t@POST @Path(&quot;/score/ties&quot;) @Produces(&quot;text/plain&quot;)\r\n    \tpublic int increaseTies() {\r\n    \t\treturn ++ties;\r\n    \t}\r\n    \t@POST @Path(&quot;/score/losses&quot;) @Produces(&quot;text/plain&quot;)\r\n    \tpublic int increaseLosses() {\r\n    \t\treturn ++losses;\r\n    \t}\r\n    \r\n    \t@GET @Path(&quot;/score/wins&quot;) @Produces(&quot;text/plain&quot;)\r\n    \tpublic int getWins() {\r\n    \t\treturn wins;\r\n    \t}\r\n    \r\n    \t@GET @Path(&quot;/score/losses&quot;) @Produces(&quot;text/plain&quot;)\r\n    \tpublic int getLosses() {\r\n    \t\treturn losses;\r\n    \t}\r\n    \r\n    \t@GET @Path(&quot;/score/ties&quot;) @Produces(&quot;text/plain&quot;)\r\n    \tpublic int getTies() {\r\n    \t\treturn ties;\r\n    \t}\r\n    }\r\n\r\n\r\nInside `Webcontent` I have `web.xml` and I have following code here:\r\n   \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;restful-java&lt;/display-name&gt;\r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n","title":"Tomcat 404 – Not Found: when Implementing REST API","body":"<p>I'm trying to implement simple RESTFUL API service using dynamic web application in Eclipse. Every time I am getting error message <code>HTTP Status 404 – Not Found</code>. </p>\n\n<p>I have attached my screen below</p>\n\n<p><strong>Package structure</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/GemmZ.png\" alt=\"My RestFul API Code Picture\"></p>\n\n<p>I am able to run tomcat server on <code>localhost:8080</code> as shown on the above figure but when I trying to access my api path I am getting <code>404 not found error</code></p>\n\n<p>Here is my whole code</p>\n\n<pre><code>package com.restful.java.example;\n\nimport javax.ws.rs.*;\n\n@Path(\"/\")\npublic class ScoreService {\n    private static int wins ,losses, ties;\n\n    @GET\n    @Path(\"/score\")\n    @Produces(\"application/json\")\n    public String getScore() {\n       String pattern = \n          \"{ \\\"wins\\\":\\\"%s\\\", \\\"losses\\\":\\\"%s\\\", \\\"ties\\\": \\\"%s\\\"}\";\n       return String.format(pattern,  wins, losses, ties );   \n    }\n     //localhost:8080/restful-java/score?wins=2%losses=3@ties=15\n    @PUT\n    @Path(\"/score\")\n    @Produces(\"application/json\")\n    public String updateScore( @QueryParam(\"wins\")int wins,\n                                @QueryParam(\"losses\")int losses,\n                                @QueryParam(\"ties\")int ties) {\n        ScoreService.wins = wins;\n        ScoreService.losses = losses;\n        ScoreService.ties = ties;\n        String pattern = \n                  \"{ \\\"wins\\\":\\\"%s\\\", \\\"losses\\\":\\\"%s\\\", \\\"ties\\\": \\\"%s\\\"}\";\n              return String.format(pattern,  wins, losses, ties );   \n\n\n    }\n\n    @POST @Path(\"/score/wins\") @Produces(\"text/plain\")\n    public int increaseWins() {\n        return ++wins;\n    }\n    @POST @Path(\"/score/ties\") @Produces(\"text/plain\")\n    public int increaseTies() {\n        return ++ties;\n    }\n    @POST @Path(\"/score/losses\") @Produces(\"text/plain\")\n    public int increaseLosses() {\n        return ++losses;\n    }\n\n    @GET @Path(\"/score/wins\") @Produces(\"text/plain\")\n    public int getWins() {\n        return wins;\n    }\n\n    @GET @Path(\"/score/losses\") @Produces(\"text/plain\")\n    public int getLosses() {\n        return losses;\n    }\n\n    @GET @Path(\"/score/ties\") @Produces(\"text/plain\")\n    public int getTies() {\n        return ties;\n    }\n}\n</code></pre>\n\n<p>Inside <code>Webcontent</code> I have <code>web.xml</code> and I have following code here:</p>\n\n<pre><code> &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" id=\"WebApp_ID\" version=\"3.1\"&gt;\n  &lt;display-name&gt;restful-java&lt;/display-name&gt;\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563302426,"creation_date":1563301952,"answer_id":57063476,"question_id":57063328,"body_markdown":"You may merge them easily enough and also the `Map` variables are not required, just inline the their value in the parameter passed to `data.put()`:  \r\n\r\n    public void populateMap(Map data){\r\n      String jsonData1 = readJSON(&quot;FILE_1_PATH&quot;);\r\n      String jsonData2 = readJSON(&quot;FILE_2_PATH);\r\n\r\n       try{\r\n            if (StringUtils.isNotBlank(jsonData1)) {\r\n              data.put(&quot;file1&quot;, ObjectMapper.readValue(jsonData1,POJO.class));\r\n            }  \r\n            if (StringUtils.isNotBlank(jsonData2)) {\r\n               data.put(&quot;file2&quot;,ObjectMapper.readValue(jsonData2,POJO.class));\r\n            }  \r\n       }catch(Exception e){\r\n        //Handle exception\r\n       }\r\n    }\r\n\r\n\r\nNote that the `Map` parameter is a raw type. Favor generic type instead of.   \r\n\r\n\r\n","title":"Combining two blocks of Map loading from JSON","body":"<p>You may merge them easily enough and also the <code>Map</code> variables are not required, just inline the their value in the parameter passed to <code>data.put()</code>:  </p>\n\n<pre><code>public void populateMap(Map data){\n  String jsonData1 = readJSON(\"FILE_1_PATH\");\n  String jsonData2 = readJSON(\"FILE_2_PATH);\n\n   try{\n        if (StringUtils.isNotBlank(jsonData1)) {\n          data.put(\"file1\", ObjectMapper.readValue(jsonData1,POJO.class));\n        }  \n        if (StringUtils.isNotBlank(jsonData2)) {\n           data.put(\"file2\",ObjectMapper.readValue(jsonData2,POJO.class));\n        }  \n   }catch(Exception e){\n    //Handle exception\n   }\n}\n</code></pre>\n\n<p>Note that the <code>Map</code> parameter is a raw type. Favor generic type instead of.   </p>\n"},{"tags":[],"owner":{"account_id":1236799,"reputation":1452,"user_id":1200235,"accept_rate":76,"display_name":"LeTex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637208429,"creation_date":1563301990,"answer_id":57063485,"question_id":57063328,"body_markdown":"You can literally move the second body of the try to the first. \r\n\r\n```java\r\n\r\npublic void populateMap(Map data){\r\n\r\n    String jsonData1 = readJSON(&quot;FILE_1_PATH&quot;);\r\n    String jsonData2 = readJSON(&quot;FILE_2_PATH&quot;);\r\n   \r\n    try {\r\n         if (StringUtils.isNotBlank(jsonData1)) {\r\n            data.put(&quot;file1&quot;, ObjectMapper.readValue(jsonData1,POJO.class));\r\n          }\r\n\r\n           if (StringUtils.isNotBlank(jsonData2)) {\r\n            data.put(&quot;file2&quot;,ObjectMapper.readValue(jsonData2,POJO.class));\r\n           }\r\n       } catch(Exception e) {\r\n            //e.g., log exception e\r\n        }\r\n    }\r\n   \r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n**Tip**: From Java 7 and above you can put more than one exception in the catch block\r\n\r\n```java\r\n    try { \r\n      // statement that could raise ExceptionTypeA  and/or ExceptionTypeB \r\n    } catch (ExceptionTypeA | ExceptionTypeB exception) {\r\n      // statement to make use of handled exception\r\n    }\r\n```","title":"Combining two blocks of Map loading from JSON","body":"<p>You can literally move the second body of the try to the first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic void populateMap(Map data){\n\n    String jsonData1 = readJSON(&quot;FILE_1_PATH&quot;);\n    String jsonData2 = readJSON(&quot;FILE_2_PATH&quot;);\n   \n    try {\n         if (StringUtils.isNotBlank(jsonData1)) {\n            data.put(&quot;file1&quot;, ObjectMapper.readValue(jsonData1,POJO.class));\n          }\n\n           if (StringUtils.isNotBlank(jsonData2)) {\n            data.put(&quot;file2&quot;,ObjectMapper.readValue(jsonData2,POJO.class));\n           }\n       } catch(Exception e) {\n            //e.g., log exception e\n        }\n    }\n   \n    }\n}\n\n</code></pre>\n<p><strong>Tip</strong>: From Java 7 and above you can put more than one exception in the catch block</p>\n<pre class=\"lang-java prettyprint-override\"><code>    try { \n      // statement that could raise ExceptionTypeA  and/or ExceptionTypeB \n    } catch (ExceptionTypeA | ExceptionTypeB exception) {\n      // statement to make use of handled exception\n    }\n</code></pre>\n"}],"owner":{"account_id":2590393,"reputation":1553,"user_id":2245234,"accept_rate":51,"display_name":"Jeeppp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637208429,"creation_date":1563301356,"question_id":57063328,"body_markdown":"I have the below code and there is no issue with the code, just that I wanted to know is there a way I could combine both the try block into one.\r\n\r\n```java\r\npublic void populateMap(Map data){\r\n\r\n    String jsonData1 = readJSON(&quot;FILE_1_PATH&quot;);\r\n    String jsonData2 = readJSON(&quot;FILE_2_PATH);\r\n\r\n    if (StringUtils.isNotBlank(jsonData1)) {\r\n        try{\r\n            Map&lt;String,String&gt; dataMap = ObjectMapper.readValue(jsonData1,POJO.class);\r\n            data.put(&quot;file1&quot;,dataMap);\r\n        }catch(Exception e){\r\n            //Handle exception\r\n        }\r\n    }\r\n    \r\n    if (StringUtils.isNotBlank(jsonData2)) {\r\n        try{\r\n            Map&lt;String,String&gt; dataMap = ObjectMapper.readValue(jsonData2,POJO.class);\r\n            data.put(&quot;file2&quot;,dataMap);\r\n        }catch(Exception e){\r\n            //Handle exception\r\n        }\r\n    }\r\n}\r\n```","title":"Combining two blocks of Map loading from JSON","body":"<p>I have the below code and there is no issue with the code, just that I wanted to know is there a way I could combine both the try block into one.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void populateMap(Map data){\n\n    String jsonData1 = readJSON(\"FILE_1_PATH\");\n    String jsonData2 = readJSON(\"FILE_2_PATH);\n\n    if (StringUtils.isNotBlank(jsonData1)) {\n        try{\n            Map&lt;String,String&gt; dataMap = ObjectMapper.readValue(jsonData1,POJO.class);\n            data.put(\"file1\",dataMap);\n        }catch(Exception e){\n            //Handle exception\n        }\n    }\n\n    if (StringUtils.isNotBlank(jsonData2)) {\n        try{\n            Map&lt;String,String&gt; dataMap = ObjectMapper.readValue(jsonData2,POJO.class);\n            data.put(\"file2\",dataMap);\n        }catch(Exception e){\n            //Handle exception\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jhipster","h2","jhipster-registry"],"comments":[{"owner":{"account_id":6717333,"reputation":359,"user_id":10653687,"display_name":"Alexy"},"score":0,"creation_date":1616872509,"post_id":57727084,"comment_id":118141494,"body_markdown":"Same problem, did you find a solution?","body":"Same problem, did you find a solution?"}],"answers":[{"tags":[],"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567179826,"creation_date":1567179826,"answer_id":57729762,"question_id":57727084,"body_markdown":"There are 2 different ports:\r\n\r\n- HTTP port 8088 for h2 web console, it&#39;s served by your web app (same as your REST API)\r\n- TCP port 18088 that can be used by other applications using JDBC, it can&#39;t be used from a browser. This port is opened in `DatabaseConfiguration.java` in your project","title":"Not able to access H2 Console in jhipster","body":"<p>There are 2 different ports:</p>\n\n<ul>\n<li>HTTP port 8088 for h2 web console, it's served by your web app (same as your REST API)</li>\n<li>TCP port 18088 that can be used by other applications using JDBC, it can't be used from a browser. This port is opened in <code>DatabaseConfiguration.java</code> in your project</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2528847,"reputation":1,"user_id":2197572,"display_name":"user2197572"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1601322904,"creation_date":1601322904,"answer_id":64108789,"question_id":57727084,"body_markdown":"Go to root of the app url (Access Url that you see in the application start)\r\nthen type &quot;/h2-console&quot; in the end.\r\n\r\nlocalhost:8081/services/&lt;servicename&gt;/h2-console","title":"Not able to access H2 Console in jhipster","body":"<p>Go to root of the app url (Access Url that you see in the application start)\nthen type &quot;/h2-console&quot; in the end.</p>\n<p>localhost:8081/services//h2-console</p>\n"},{"tags":[],"owner":{"account_id":6717333,"reputation":359,"user_id":10653687,"display_name":"Alexy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1616936906,"creation_date":1616936906,"answer_id":66841771,"question_id":57727084,"body_markdown":"Adding slash solved my problem `http://localhost:8080/h2-console` to `http://localhost:8080/h2-console/`","title":"Not able to access H2 Console in jhipster","body":"<p>Adding slash solved my problem <code>http://localhost:8080/h2-console</code> to <code>http://localhost:8080/h2-console/</code></p>\n"},{"tags":[],"owner":{"account_id":11310403,"reputation":90,"user_id":9379812,"display_name":"gachokaeric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637207121,"creation_date":1637207121,"answer_id":70014320,"question_id":57727084,"body_markdown":"Ensure you are accessing the correct port (8088 in your case), and that you do not change jhipster&#39;s setting for h2.console.enabled.\r\n\r\nhttp://localhost:8088/h2-console should work.","title":"Not able to access H2 Console in jhipster","body":"<p>Ensure you are accessing the correct port (8088 in your case), and that you do not change jhipster's setting for h2.console.enabled.</p>\n<p>http://localhost:8088/h2-console should work.</p>\n"}],"owner":{"account_id":8389931,"reputation":503,"user_id":6298969,"display_name":"Rahul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2484,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1637207121,"creation_date":1567169379,"question_id":57727084,"body_markdown":"I am not able to open H2 console on the web browser.\r\nMy jhipster application is running on 8088 port. In server logs I am getting that H2 database is available on port 18088.\r\n\r\nTried below.\r\nhttp://localhost:18088/h2-console\r\n\r\nGetting Below response.\r\n[![enter image description here][1]][1]\r\n\r\nBelow are the details in application-dev.yml.\r\n\r\n    devtools:\r\n        restart:\r\n          enabled: true\r\n          additional-exclude: .h2.server.properties\r\n        livereload:\r\n          enabled: false # we use Webpack dev server + BrowserSync for livereload\r\n      jackson:\r\n        serialization:\r\n          indent-output: true\r\n      datasource:\r\n        type: com.zaxxer.hikari.HikariDataSource\r\n        url: jdbc:h2:mem:jhipstersampleapplication;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\r\n        username: jhipsterSampleApplication\r\n        password:\r\n        hikari:\r\n          poolName: Hikari\r\n          auto-commit: false\r\n      h2:\r\n        console:\r\n          enabled: true\r\n      jpa:\r\n        database-platform: io.github.jhipster.domain.util.FixedH2Dialect\r\n        database: H2\r\n        show-sql: true\r\n        properties:\r\n          hibernate.id.new_generator_mappings: true\r\n          hibernate.connection.provider_disables_autocommit: true\r\n          hibernate.cache.use_second_level_cache: true\r\n          hibernate.cache.use_query_cache: false\r\n          hibernate.generate_statistics: false\r\n\r\n\r\n\r\nPlease Help me out with this.\r\n  [1]: https://i.stack.imgur.com/ed9tl.jpg","title":"Not able to access H2 Console in jhipster","body":"<p>I am not able to open H2 console on the web browser.\nMy jhipster application is running on 8088 port. In server logs I am getting that H2 database is available on port 18088.</p>\n\n<p>Tried below.\n<a href=\"http://localhost:18088/h2-console\" rel=\"nofollow noreferrer\">http://localhost:18088/h2-console</a></p>\n\n<p>Getting Below response.\n<a href=\"https://i.stack.imgur.com/ed9tl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ed9tl.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Below are the details in application-dev.yml.</p>\n\n<pre><code>devtools:\n    restart:\n      enabled: true\n      additional-exclude: .h2.server.properties\n    livereload:\n      enabled: false # we use Webpack dev server + BrowserSync for livereload\n  jackson:\n    serialization:\n      indent-output: true\n  datasource:\n    type: com.zaxxer.hikari.HikariDataSource\n    url: jdbc:h2:mem:jhipstersampleapplication;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\n    username: jhipsterSampleApplication\n    password:\n    hikari:\n      poolName: Hikari\n      auto-commit: false\n  h2:\n    console:\n      enabled: true\n  jpa:\n    database-platform: io.github.jhipster.domain.util.FixedH2Dialect\n    database: H2\n    show-sql: true\n    properties:\n      hibernate.id.new_generator_mappings: true\n      hibernate.connection.provider_disables_autocommit: true\n      hibernate.cache.use_second_level_cache: true\n      hibernate.cache.use_query_cache: false\n      hibernate.generate_statistics: false\n</code></pre>\n\n<p>Please Help me out with this.</p>\n"},{"tags":["java","android","ssl"],"comments":[{"owner":{"account_id":66064,"reputation":1360,"user_id":194032,"accept_rate":74,"display_name":"Matthew Lowe"},"score":0,"creation_date":1637204530,"post_id":69311726,"comment_id":123765894,"body_markdown":"I&#39;m seeing the same problem. Is yours intermittent? Like, sometimes the build succeeds and sometimes it breaks with an SSL exception? That&#39;s what&#39;s happening on mine.","body":"I&#39;m seeing the same problem. Is yours intermittent? Like, sometimes the build succeeds and sometimes it breaks with an SSL exception? That&#39;s what&#39;s happening on mine."}],"answers":[{"tags":[],"owner":{"account_id":66064,"reputation":1360,"user_id":194032,"accept_rate":74,"display_name":"Matthew Lowe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637206711,"creation_date":1637206711,"answer_id":70014274,"question_id":69311726,"body_markdown":"I dropped the distribution URL into my browser and noticed that it was being redirected to a different host from services.gradle.org, which might be causing a sporadic certificate problem for appcenter. So (regardless of how maintainable it&#39;s going to be) I changed the host in gradle-wrapper.properties, and so far so good ...\r\n\r\nTry making the following change:\r\n\r\n`distributionUrl=https\\://downloads.gradle-dn.com/distributions/gradle-7.0.2-bin.zip`","title":"Exception in thread &quot;main&quot; javax.net.ssl.SSLException: readHandshakeRecord","body":"<p>I dropped the distribution URL into my browser and noticed that it was being redirected to a different host from services.gradle.org, which might be causing a sporadic certificate problem for appcenter. So (regardless of how maintainable it's going to be) I changed the host in gradle-wrapper.properties, and so far so good ...</p>\n<p>Try making the following change:</p>\n<p><code>distributionUrl=https\\://downloads.gradle-dn.com/distributions/gradle-7.0.2-bin.zip</code></p>\n"}],"owner":{"account_id":22539969,"reputation":63,"user_id":16730657,"display_name":"Aayush Apporio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2278,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1637206711,"creation_date":1632471467,"question_id":69311726,"body_markdown":"I am trying to implement CI/CD using AppCenter. I have synced my bitbucket branch with appcenter. When trying to build the code from  appcenter, getting below error:\r\n\r\n    \r\n\r\n    command]/Users/runner/work/1/s/gradlew clean :app:assembleRelease\r\n    \r\n    Downloading https://services.gradle.org/distributions/gradle-7.0.2-bin.zip\r\n    \r\n    Exception in thread &quot;main&quot; javax.net.ssl.SSLException: readHandshakeRecord\r\n    \tat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1309)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:435)\r\n    \tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1570)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:268)\r\n    \tat org.gradle.wrapper.Download.downloadInternal(Download.java:87)\r\n    \tat org.gradle.wrapper.Download.download(Download.java:67)\r\n    \tat org.gradle.wrapper.Install$1.call(Install.java:68)\r\n    \tat org.gradle.wrapper.Install$1.call(Install.java:48)\r\n    \tat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\r\n    \tat org.gradle.wrapper.Install.createDist(Install.java:48)\r\n    \tat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\r\n    \tat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\r\n    \tSuppressed: java.net.SocketException: Broken pipe (Write failed)\r\n    \t\tat java.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \t\tat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)\r\n    \t\tat java.net.SocketOutputStream.write(SocketOutputStream.java:155)\r\n    \t\tat sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\r\n    \t\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:355)\r\n    \t\tat sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\r\n    \t\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:438)\r\n    \t\t... 13 more\r\n    Caused by: java.net.SocketException: Broken pipe (Write failed)\r\n    \tat java.net.SocketOutputStream.socketWrite0(Native Method)\r\n    \tat java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)\r\n    \tat java.net.SocketOutputStream.write(SocketOutputStream.java:155)\r\n    \tat sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:251)\r\n    \tat sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\r\n    \tat sun.security.ssl.Finished$T12FinishedProducer.onProduceFinished(Finished.java:399)\r\n    \tat sun.security.ssl.Finished$T12FinishedProducer.produce(Finished.java:374)\r\n    \tat sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:421)\r\n    \tat sun.security.ssl.ServerHelloDone$ServerHelloDoneConsumer.consume(ServerHelloDone.java:182)\r\n    \tat sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377)\r\n    \tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\r\n    \tat sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\r\n    \tat sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\n    \tat sun.security.ssl.SSLTransport.decode(SSLTransport.java:152)\r\n    \tat sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1392)\r\n    \tat sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1300)\r\n    \t... 14 more\r\n    Error: /Users/runner/work/1/s/gradlew failed with return code: 1\r\n        at ChildProcess.&lt;anonymous&gt; (/Users/runner/work/_tasks/Gradle_8d8eebd8-2b94-4c97-85af-839254cc6da4/1.128.0/node_modules/vsts-task-lib/toolrunner.js:569:30)\r\n        at emitTwo (events.js:106:13)\r\n        at ChildProcess.emit (events.js:191:7)\r\n        at maybeClose (internal/child_process.js:920:16)\r\n        at Socket.&lt;anonymous&gt; (internal/child_process.js:351:11)\r\n        at emitOne (events.js:96:13)\r\n        at Socket.emit (events.js:188:7)\r\n        at Pipe._handle.close [as _onclose] (net.js:509:12)\r\n    ##[error]Error: /Users/runner/work/1/s/gradlew failed with return code: 1\r\n\r\nCode is working fine in Android studio and able to build apk also.\r\n\r\n&gt; Even tried to change from https to http for https://services.gradle.org/distributions/gradle-7.0.2-bin.zip but that also not worked\r\n\r\nPlease help me to solve this.","title":"Exception in thread &quot;main&quot; javax.net.ssl.SSLException: readHandshakeRecord","body":"<p>I am trying to implement CI/CD using AppCenter. I have synced my bitbucket branch with appcenter. When trying to build the code from  appcenter, getting below error:</p>\n<pre><code>command]/Users/runner/work/1/s/gradlew clean :app:assembleRelease\n\nDownloading https://services.gradle.org/distributions/gradle-7.0.2-bin.zip\n\nException in thread &quot;main&quot; javax.net.ssl.SSLException: readHandshakeRecord\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1309)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:435)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1570)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:268)\n    at org.gradle.wrapper.Download.downloadInternal(Download.java:87)\n    at org.gradle.wrapper.Download.download(Download.java:67)\n    at org.gradle.wrapper.Install$1.call(Install.java:68)\n    at org.gradle.wrapper.Install$1.call(Install.java:48)\n    at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\n    at org.gradle.wrapper.Install.createDist(Install.java:48)\n    at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\n    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\n    Suppressed: java.net.SocketException: Broken pipe (Write failed)\n        at java.net.SocketOutputStream.socketWrite0(Native Method)\n        at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)\n        at java.net.SocketOutputStream.write(SocketOutputStream.java:155)\n        at sun.security.ssl.SSLSocketOutputRecord.encodeAlert(SSLSocketOutputRecord.java:81)\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:355)\n        at sun.security.ssl.TransportContext.fatal(TransportContext.java:267)\n        at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:438)\n        ... 13 more\nCaused by: java.net.SocketException: Broken pipe (Write failed)\n    at java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:111)\n    at java.net.SocketOutputStream.write(SocketOutputStream.java:155)\n    at sun.security.ssl.SSLSocketOutputRecord.flush(SSLSocketOutputRecord.java:251)\n    at sun.security.ssl.HandshakeOutStream.flush(HandshakeOutStream.java:89)\n    at sun.security.ssl.Finished$T12FinishedProducer.onProduceFinished(Finished.java:399)\n    at sun.security.ssl.Finished$T12FinishedProducer.produce(Finished.java:374)\n    at sun.security.ssl.SSLHandshake.produce(SSLHandshake.java:421)\n    at sun.security.ssl.ServerHelloDone$ServerHelloDoneConsumer.consume(ServerHelloDone.java:182)\n    at sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:377)\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:444)\n    at sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:422)\n    at sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\n    at sun.security.ssl.SSLTransport.decode(SSLTransport.java:152)\n    at sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1392)\n    at sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1300)\n    ... 14 more\nError: /Users/runner/work/1/s/gradlew failed with return code: 1\n    at ChildProcess.&lt;anonymous&gt; (/Users/runner/work/_tasks/Gradle_8d8eebd8-2b94-4c97-85af-839254cc6da4/1.128.0/node_modules/vsts-task-lib/toolrunner.js:569:30)\n    at emitTwo (events.js:106:13)\n    at ChildProcess.emit (events.js:191:7)\n    at maybeClose (internal/child_process.js:920:16)\n    at Socket.&lt;anonymous&gt; (internal/child_process.js:351:11)\n    at emitOne (events.js:96:13)\n    at Socket.emit (events.js:188:7)\n    at Pipe._handle.close [as _onclose] (net.js:509:12)\n##[error]Error: /Users/runner/work/1/s/gradlew failed with return code: 1\n</code></pre>\n<p>Code is working fine in Android studio and able to build apk also.</p>\n<blockquote>\n<p>Even tried to change from https to http for <a href=\"https://services.gradle.org/distributions/gradle-7.0.2-bin.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-7.0.2-bin.zip</a> but that also not worked</p>\n</blockquote>\n<p>Please help me to solve this.</p>\n"},{"tags":["java","string","model-view-controller","crud","localdate"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1637202384,"post_id":70013745,"comment_id":123765590,"body_markdown":"Start with the [Date Time Trail](https://docs.oracle.com/javase/tutorial/datetime/TOC.html), in particular [Parsing and Formatting](https://docs.oracle.com/javase/tutorial/datetime/iso/format.html)","body":"Start with the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Date Time Trail</a>, in particular <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/format.html\" rel=\"nofollow noreferrer\">Parsing and Formatting</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637202601,"creation_date":1637202601,"answer_id":70013872,"question_id":70013745,"body_markdown":"Start with the [Date Time Trail](https://docs.oracle.com/javase/tutorial/datetime/TOC.html), in particular [Parsing and Formatting](https://docs.oracle.com/javase/tutorial/datetime/iso/format.html)\r\n\r\nSomething like...\r\n\r\n    LocalDate ld = LocalDate.now();\r\n    System.out.println(ld.format(DateTimeFormatter.ISO_LOCAL_DATE));\r\n\r\nprints out...\r\n\r\n    2021-11-18 ","title":"how do I convert LocalDate to String form so it prints out the date inputed","body":"<p>Start with the <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Date Time Trail</a>, in particular <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/format.html\" rel=\"nofollow noreferrer\">Parsing and Formatting</a></p>\n<p>Something like...</p>\n<pre><code>LocalDate ld = LocalDate.now();\nSystem.out.println(ld.format(DateTimeFormatter.ISO_LOCAL_DATE));\n</code></pre>\n<p>prints out...</p>\n<pre><code>2021-11-18 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23366081,"reputation":129,"user_id":17437705,"display_name":"rongfeiyue"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637203721,"creation_date":1637203721,"answer_id":70013980,"question_id":70013745,"body_markdown":"You can overloading io.print or convert dvd.getReleaseDate() to a string.\r\nlike this\r\n```\r\nprivate void print(LocalDate localDate) {\r\n    System.out.println(localDate.toString());\r\n    // use toString() or format\r\n    System.out.println(format(localDate));\r\n}\r\n\r\nprivate String format(LocalDate localDate) {\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    return formatter.format(localDate);\r\n}\r\n\r\npublic void displayDVD(DVD dvd) {\r\n    if (dvd != null) {\r\n        io.print(dvd.getTitle());\r\n        // format\r\n        io.print(format(dvd.getReleaseDate()));\r\n        io.print(dvd.getMpaaRating());\r\n        io.print(dvd.getDirectorsName());\r\n        io.print(dvd.getStudio());\r\n        io.print(dvd.getUserRating());\r\n    }\r\n}\r\n```","title":"how do I convert LocalDate to String form so it prints out the date inputed","body":"<p>You can overloading io.print or convert dvd.getReleaseDate() to a string.\nlike this</p>\n<pre><code>private void print(LocalDate localDate) {\n    System.out.println(localDate.toString());\n    // use toString() or format\n    System.out.println(format(localDate));\n}\n\nprivate String format(LocalDate localDate) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n    return formatter.format(localDate);\n}\n\npublic void displayDVD(DVD dvd) {\n    if (dvd != null) {\n        io.print(dvd.getTitle());\n        // format\n        io.print(format(dvd.getReleaseDate()));\n        io.print(dvd.getMpaaRating());\n        io.print(dvd.getDirectorsName());\n        io.print(dvd.getStudio());\n        io.print(dvd.getUserRating());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637205494,"creation_date":1637205494,"answer_id":70014149,"question_id":70013745,"body_markdown":"Try this.\r\n\r\n    public void displayDVD(DVD dvd) {\r\n        if (dvd != null) {\r\n            io.print(dvd.getTitle());\r\n            io.print(dvd.getReleaseDate().toString());\r\n            io.print(dvd.getMpaaRating());\r\n            io.print(dvd.getDirectorsName());\r\n            io.print(dvd.getStudio());\r\n            io.print(dvd.getUserRating());","title":"how do I convert LocalDate to String form so it prints out the date inputed","body":"<p>Try this.</p>\n<pre><code>public void displayDVD(DVD dvd) {\n    if (dvd != null) {\n        io.print(dvd.getTitle());\n        io.print(dvd.getReleaseDate().toString());\n        io.print(dvd.getMpaaRating());\n        io.print(dvd.getDirectorsName());\n        io.print(dvd.getStudio());\n        io.print(dvd.getUserRating());\n</code></pre>\n"}],"owner":{"account_id":23328492,"reputation":13,"user_id":17405267,"display_name":"Christian F."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2065,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70014149,"answer_count":3,"score":0,"last_activity_date":1637205494,"creation_date":1637201313,"question_id":70013745,"body_markdown":"       public void displayDVD(DVD dvd) {\r\n           if (dvd != null) {\r\n               io.print(dvd.getTitle());\r\n               io.print(dvd.getReleaseDate());\r\n               io.print(dvd.getMpaaRating());\r\n               io.print(dvd.getDirectorsName());\r\n               io.print(dvd.getStudio());\r\n               io.print(dvd.getUserRating());\r\n\r\nI need to display the getReleaseDate, but it&#39;s telling me I can&#39;t because its a LocalDate and can&#39;t be a string. Probably a rookie look, but really can&#39;t find a way around it. Thanks in advance!","title":"how do I convert LocalDate to String form so it prints out the date inputed","body":"<pre><code>   public void displayDVD(DVD dvd) {\n       if (dvd != null) {\n           io.print(dvd.getTitle());\n           io.print(dvd.getReleaseDate());\n           io.print(dvd.getMpaaRating());\n           io.print(dvd.getDirectorsName());\n           io.print(dvd.getStudio());\n           io.print(dvd.getUserRating());\n</code></pre>\n<p>I need to display the getReleaseDate, but it's telling me I can't because its a LocalDate and can't be a string. Probably a rookie look, but really can't find a way around it. Thanks in advance!</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","controller"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637169451,"post_id":70008663,"comment_id":123756162,"body_markdown":"`/static` is for static files and not related to Thymeleaf. Also you don&#39;t need a controller but you are better of registering a view controller through a `WebMvcConfigurer`. Also for `index` this isn&#39;t needed as that is already resolved by Spring Boot by default (if you have an up to date version).","body":"<code>&#47;static</code> is for static files and not related to Thymeleaf. Also you don&#39;t need a controller but you are better of registering a view controller through a <code>WebMvcConfigurer</code>. Also for <code>index</code> this isn&#39;t needed as that is already resolved by Spring Boot by default (if you have an up to date version)."},{"owner":{"account_id":18701718,"reputation":19,"user_id":13633797,"display_name":"d4vid_Bry4n"},"score":0,"creation_date":1637169766,"post_id":70008663,"comment_id":123756309,"body_markdown":"Agreed, It is already handled through Spring boot BUT it is not by default accessible through a controller. If I explicitly type in the html file name in my url header it will of course populate but the goal is to produce the file when &quot;/&quot; was being requested.","body":"Agreed, It is already handled through Spring boot BUT it is not by default accessible through a controller. If I explicitly type in the html file name in my url header it will of course populate but the goal is to produce the file when &quot;/&quot; was being requested."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637169878,"post_id":70008663,"comment_id":123756371,"body_markdown":"For `/` this is already enabled by default (see https://stackoverflow.com/a/70000437/2696260) so you shouldn&#39;t even need it (unless you disabled auto-configuration),","body":"For <code>&#47;</code> this is already enabled by default (see <a href=\"https://stackoverflow.com/a/70000437/2696260\">stackoverflow.com/a/70000437/2696260</a>) so you shouldn&#39;t even need it (unless you disabled auto-configuration),"},{"owner":{"account_id":18701718,"reputation":19,"user_id":13633797,"display_name":"d4vid_Bry4n"},"score":0,"creation_date":1637170270,"post_id":70008663,"comment_id":123756562,"body_markdown":"Agreed. It works by default but only works if you are using index.html....if you wanted to use a controller to route to another static file.....perhaps extra.html you will need a controller to route to the specific file in the static folder","body":"Agreed. It works by default but only works if you are using index.html....if you wanted to use a controller to route to another static file.....perhaps extra.html you will need a controller to route to the specific file in the static folder"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637216115,"post_id":70008663,"comment_id":123767887,"body_markdown":"No you don&#39;t need a controller you can simply use a the `addViewControllers` method of the `WebMvcConfigurer` to add those. No need to write a full fledge controller for that. Next to that your answer/question states that you need this for `/` to resolve an index, which isn&#39;t true as that works by default.","body":"No you don&#39;t need a controller you can simply use a the <code>addViewControllers</code> method of the <code>WebMvcConfigurer</code> to add those. No need to write a full fledge controller for that. Next to that your answer/question states that you need this for <code>&#47;</code> to resolve an index, which isn&#39;t true as that works by default."}],"answers":[{"tags":[],"owner":{"account_id":18701718,"reputation":19,"user_id":13633797,"display_name":"d4vid_Bry4n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637205474,"creation_date":1637168659,"answer_id":70008664,"question_id":70008663,"body_markdown":"**This is a very simplistic answer to a simple issue, this is not meant to scale and does not take into account the entirety of your project**\r\n\r\nPlease keep in mind this is not the norm in a business environment but it was really bothering me how I cannot get a simple HTML to populate from a controller without using a template engine. I got it to work with thymeleaf dependency but I wanted to just get it to work as bare bones as possible. I read a lot of posts with ViewResolver Config classes or things a like but nothing worked. It would conflict with the internal resolvers of Spring boot.  \r\n\r\nSimple answer is once spring boot is initialized...all your static files must be in `resources/static/`\r\n\r\nTemplates folder is specific to use for Thymeleaf, based on my findings and it wont work if you just put it in the resource folders.  \r\n\r\nWith your files in `resources/static/` you can access it by going to **localhost:8080/yourfilename.html**\r\n\r\nBut if you want to access it through a controller you create a controller with the following:\r\n```\r\n@Controller\r\npublic class IndexController {\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n    public String getIndex(){\r\n        return &quot; index.html&quot;;\r\n    }\r\n}\r\n```\r\n\r\nIf you want to remove the `.html` in your return value then you must add the following to your application.properties file\r\n\r\n`spring.mvc.view.suffix=.html`\r\n\r\nThen you can use the following\r\n```\r\n@Controller\r\npublic class IndexController {\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n    public String getIndex(){\r\n        return &quot; index&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\nOnce again this is a simple research I did on my own just to get it to work.","title":"How to access HTML files **through a controller** in Spring boot without a template engine","body":"<p><strong>This is a very simplistic answer to a simple issue, this is not meant to scale and does not take into account the entirety of your project</strong></p>\n<p>Please keep in mind this is not the norm in a business environment but it was really bothering me how I cannot get a simple HTML to populate from a controller without using a template engine. I got it to work with thymeleaf dependency but I wanted to just get it to work as bare bones as possible. I read a lot of posts with ViewResolver Config classes or things a like but nothing worked. It would conflict with the internal resolvers of Spring boot.</p>\n<p>Simple answer is once spring boot is initialized...all your static files must be in <code>resources/static/</code></p>\n<p>Templates folder is specific to use for Thymeleaf, based on my findings and it wont work if you just put it in the resource folders.</p>\n<p>With your files in <code>resources/static/</code> you can access it by going to <strong>localhost:8080/yourfilename.html</strong></p>\n<p>But if you want to access it through a controller you create a controller with the following:</p>\n<pre><code>@Controller\npublic class IndexController {\n\n    @RequestMapping(&quot;/&quot;)\n    public String getIndex(){\n        return &quot; index.html&quot;;\n    }\n}\n</code></pre>\n<p>If you want to remove the <code>.html</code> in your return value then you must add the following to your application.properties file</p>\n<p><code>spring.mvc.view.suffix=.html</code></p>\n<p>Then you can use the following</p>\n<pre><code>@Controller\npublic class IndexController {\n\n    @RequestMapping(&quot;/&quot;)\n    public String getIndex(){\n        return &quot; index&quot;;\n    }\n}\n</code></pre>\n<p>Once again this is a simple research I did on my own just to get it to work.</p>\n"}],"owner":{"account_id":18701718,"reputation":19,"user_id":13633797,"display_name":"d4vid_Bry4n"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637205474,"creation_date":1637168659,"question_id":70008663,"body_markdown":"So I have been trying hard to get a simple app to run with populating an HTML file through a controller without using a template engine. \r\n\r\nI thought I would take some time to post about my findings related to the subject above. See answer below\r\n\r\nSoo the question here is How to access HTML files **through a controller** in Spring boot without a template engine?","title":"How to access HTML files **through a controller** in Spring boot without a template engine","body":"<p>So I have been trying hard to get a simple app to run with populating an HTML file through a controller without using a template engine.</p>\n<p>I thought I would take some time to post about my findings related to the subject above. See answer below</p>\n<p>Soo the question here is How to access HTML files <strong>through a controller</strong> in Spring boot without a template engine?</p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":10324159,"reputation":193,"user_id":8493278,"display_name":"Mister_Jesus"},"score":0,"creation_date":1568027335,"post_id":55991684,"comment_id":102131869,"body_markdown":"Did you find the solution?","body":"Did you find the solution?"},{"owner":{"account_id":8645660,"reputation":530,"user_id":6472929,"accept_rate":46,"display_name":"Wafula Samuel"},"score":0,"creation_date":1568033370,"post_id":55991684,"comment_id":102134971,"body_markdown":"@MrBin Not yet. I ended up using another alternative which was nasty but would love to use this approach","body":"@MrBin Not yet. I ended up using another alternative which was nasty but would love to use this approach"},{"owner":{"account_id":10324159,"reputation":193,"user_id":8493278,"display_name":"Mister_Jesus"},"score":0,"creation_date":1568035822,"post_id":55991684,"comment_id":102136288,"body_markdown":"Why do you call `org.springframework.boot.loader.jarlauncher` instead your static main app function?","body":"Why do you call <code>org.springframework.boot.loader.jarlauncher</code> instead your static main app function?"},{"owner":{"account_id":8645660,"reputation":530,"user_id":6472929,"accept_rate":46,"display_name":"Wafula Samuel"},"score":0,"creation_date":1568037212,"post_id":55991684,"comment_id":102137099,"body_markdown":"@MrBin Coz usually the main class is in `/BOOT-INF/classes/` which can&#39;t be ran. And also `org.springframework.boot.loader.JarLauncher` is usually spring boot&#39;s main class right?","body":"@MrBin Coz usually the main class is in <code>&#47;BOOT-INF&#47;classes&#47;</code> which can&#39;t be ran. And also <code>org.springframework.boot.loader.JarLauncher</code> is usually spring boot&#39;s main class right?"}],"answers":[{"tags":[],"owner":{"account_id":5281928,"reputation":1,"user_id":4216985,"display_name":"Yg Kim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637204327,"creation_date":1637204327,"answer_id":70014042,"question_id":55991684,"body_markdown":"Inspired from @Mister_Jeusu&#39;s comment, I tried this. It worked for me.\r\n\r\n```\r\nint RunSpring(JavaVM * jvm, JNIEnv * env)\r\n{\r\n        /* Run app */\r\n\r\n        jclass class = (*env)-&gt;FindClass(env, &quot;org/springframework/boot/loader/JarLauncher&quot;);\r\n        if (!class)\r\n        {\r\n                PRINT_LINENO;\r\n                return -1;\r\n        }\r\n\r\n        jmethodID mid = (*env)-&gt;GetStaticMethodID(env, class, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;);\r\n        if (!mid)\r\n        {\r\n                PRINT_LINENO;\r\n                return -1;\r\n        }\r\n\r\n        (*env)-&gt;CallStaticVoidMethod(env, class, mid, NULL);\r\n\r\n        return 0;\r\n}\r\n```","title":"How to run a springboot application using C++ jni environment","body":"<p>Inspired from @Mister_Jeusu's comment, I tried this. It worked for me.</p>\n<pre><code>int RunSpring(JavaVM * jvm, JNIEnv * env)\n{\n        /* Run app */\n\n        jclass class = (*env)-&gt;FindClass(env, &quot;org/springframework/boot/loader/JarLauncher&quot;);\n        if (!class)\n        {\n                PRINT_LINENO;\n                return -1;\n        }\n\n        jmethodID mid = (*env)-&gt;GetStaticMethodID(env, class, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;);\n        if (!mid)\n        {\n                PRINT_LINENO;\n                return -1;\n        }\n\n        (*env)-&gt;CallStaticVoidMethod(env, class, mid, NULL);\n\n        return 0;\n}\n</code></pre>\n"}],"owner":{"account_id":8645660,"reputation":530,"user_id":6472929,"accept_rate":46,"display_name":"Wafula Samuel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1083,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637204327,"creation_date":1557057539,"question_id":55991684,"body_markdown":"I&#39;m trying to run a springboot application jar file using C++ jni lib using the following code:\r\n\r\n    void init_jni() {\r\n        const int kNumOptions = 1;\r\n        JavaVMOption options[kNumOptions] = {\r\n                {const_cast&lt;char *&gt;(&quot;-Djava.class.path=app-0.0.1-SNAPSHOT.jar&quot;), nullptr},\r\n        };\r\n    \r\n        JavaVMInitArgs vmArgs = {\r\n                JNI_VERSION_1_8, kNumOptions, options, JNI_TRUE\r\n        };\r\n    \r\n        // Create the JVM\r\n        JavaVM *javaVM;\r\n        JNIEnv *jniEnv;\r\n    \r\n        long flag = JNI_CreateJavaVM(&amp;javaVM, (void **) &amp;jniEnv, &amp;vmArgs);\r\n    \r\n    \r\n        if (flag == JNI_ERR) {\r\n            cout &lt;&lt; &quot;Error creating VM. Exiting...\\n&quot;;\r\n            exit(1);\r\n        }\r\n    \r\n        jclass jcls = jniEnv-&gt;FindClass(&quot;org/springframework/boot/loader/JarLauncher&quot;);\r\n    \r\n        if (jcls == nullptr) {\r\n            jniEnv-&gt;ExceptionDescribe();\r\n            javaVM-&gt;DestroyJavaVM();\r\n            exit(1);\r\n        }\r\n    \r\n        jmethodID methodId = jniEnv-&gt;GetStaticMethodID(jcls, &quot;main&quot;, &quot;([Ljava/lang/String;)V&quot;);\r\n    \r\n        if (methodId == nullptr) {\r\n            jniEnv-&gt;ExceptionDescribe();\r\n            javaVM-&gt;DestroyJavaVM();\r\n            exit(1);\r\n        }\r\n    \r\n    \r\n        jniEnv-&gt;CallStaticVoidMethod(jcls, methodId);\r\n    \r\n        if (jniEnv-&gt;ExceptionCheck()) {\r\n            jniEnv-&gt;ExceptionDescribe();\r\n            jniEnv-&gt;ExceptionClear();\r\n        }\r\n    \r\n    \r\n        javaVM-&gt;DestroyJavaVM();\r\n    }\r\n\r\nI&#39;m getting a java.lang.CloneNotSupportedException when I call the `init_jni` method above.\r\nRunning `java -jar app-0.0.1-SNAPSHOT.jar` works fine via terminal.\r\nIs there anything else I&#39;m supposed to do?\r\n\r\nHere is the exception thrown:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.CloneNotSupportedException: java.lang.Class\r\n    \tat java.lang.Object.clone(Native Method)\r\n    \tat org.springframework.boot.loader.MainMethodRunner.&lt;init&gt;(MainMethodRunner.java:41)\r\n    \tat org.springframework.boot.loader.Launcher.createMainMethodRunner(Launcher.java:99)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\r\n    \tat org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\r\n    \tat org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)","title":"How to run a springboot application using C++ jni environment","body":"<p>I'm trying to run a springboot application jar file using C++ jni lib using the following code:</p>\n\n<pre><code>void init_jni() {\n    const int kNumOptions = 1;\n    JavaVMOption options[kNumOptions] = {\n            {const_cast&lt;char *&gt;(\"-Djava.class.path=app-0.0.1-SNAPSHOT.jar\"), nullptr},\n    };\n\n    JavaVMInitArgs vmArgs = {\n            JNI_VERSION_1_8, kNumOptions, options, JNI_TRUE\n    };\n\n    // Create the JVM\n    JavaVM *javaVM;\n    JNIEnv *jniEnv;\n\n    long flag = JNI_CreateJavaVM(&amp;javaVM, (void **) &amp;jniEnv, &amp;vmArgs);\n\n\n    if (flag == JNI_ERR) {\n        cout &lt;&lt; \"Error creating VM. Exiting...\\n\";\n        exit(1);\n    }\n\n    jclass jcls = jniEnv-&gt;FindClass(\"org/springframework/boot/loader/JarLauncher\");\n\n    if (jcls == nullptr) {\n        jniEnv-&gt;ExceptionDescribe();\n        javaVM-&gt;DestroyJavaVM();\n        exit(1);\n    }\n\n    jmethodID methodId = jniEnv-&gt;GetStaticMethodID(jcls, \"main\", \"([Ljava/lang/String;)V\");\n\n    if (methodId == nullptr) {\n        jniEnv-&gt;ExceptionDescribe();\n        javaVM-&gt;DestroyJavaVM();\n        exit(1);\n    }\n\n\n    jniEnv-&gt;CallStaticVoidMethod(jcls, methodId);\n\n    if (jniEnv-&gt;ExceptionCheck()) {\n        jniEnv-&gt;ExceptionDescribe();\n        jniEnv-&gt;ExceptionClear();\n    }\n\n\n    javaVM-&gt;DestroyJavaVM();\n}\n</code></pre>\n\n<p>I'm getting a java.lang.CloneNotSupportedException when I call the <code>init_jni</code> method above.\nRunning <code>java -jar app-0.0.1-SNAPSHOT.jar</code> works fine via terminal.\nIs there anything else I'm supposed to do?</p>\n\n<p>Here is the exception thrown:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.CloneNotSupportedException: java.lang.Class\n    at java.lang.Object.clone(Native Method)\n    at org.springframework.boot.loader.MainMethodRunner.&lt;init&gt;(MainMethodRunner.java:41)\n    at org.springframework.boot.loader.Launcher.createMainMethodRunner(Launcher.java:99)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:87)\n    at org.springframework.boot.loader.Launcher.launch(Launcher.java:50)\n    at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51)\n</code></pre>\n"},{"tags":["java","eclipse","junit","eclipse-plugin"],"comments":[{"owner":{"account_id":6426024,"reputation":1723,"user_id":4981150,"display_name":"Pieter12345"},"score":0,"creation_date":1637187015,"post_id":70011903,"comment_id":123762531,"body_markdown":"You forgot to include the code/images.","body":"You forgot to include the code/images."},{"owner":{"account_id":16793354,"reputation":1,"user_id":12140374,"display_name":"Jeris"},"score":0,"creation_date":1637189002,"post_id":70011903,"comment_id":123763107,"body_markdown":"oh sorry I thought I included it. I have included it in the comment section. If you could help me it would mean a lot","body":"oh sorry I thought I included it. I have included it in the comment section. If you could help me it would mean a lot"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1637194726,"post_id":70011903,"comment_id":123764265,"body_markdown":"You can [edit] your question and provide the requested data there. Instead, it appears that you provided the information as a link in an _answer_ - so you should also delete that answer.","body":"You can <a href=\"https://stackoverflow.com/posts/70011903/edit\">edit</a> your question and provide the requested data there. Instead, it appears that you provided the information as a link in an <i>answer</i> - so you should also delete that answer."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1637194751,"post_id":70011903,"comment_id":123764271,"body_markdown":"If the information you want to add to your question is text, then please provide it as formatted text - not as an image of text. Why you should not upload [images of code, data, errors](https://meta.stackoverflow.com/a/285557/12567365) when asking a question.","body":"If the information you want to add to your question is text, then please provide it as formatted text - not as an image of text. Why you should not upload <a href=\"https://meta.stackoverflow.com/a/285557/12567365\">images of code, data, errors</a> when asking a question."}],"owner":{"account_id":16793354,"reputation":1,"user_id":12140374,"display_name":"Jeris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637203990,"creation_date":1637185160,"question_id":70011903,"body_markdown":"The jar of this class file belongs to container &#39;Junit4&#39; which does not allow modifications too source attachments of it&#39;s entries. Hello, I get this issue when I try to debug a junit-test and step into the debug line. The code is fully functional on other laptops. Only issue is on my m1 MacBook Air laptop. \r\n\r\n  2 - https://i.stack.imgur.com/sRfIM.jpg\r\n   1- https://i.stack.imgur.com/EIhOy.jpg\r\nThe first image is the actual error I am facing. The second image is the junit code \r\npart and when I try to debug &#39;step into&#39; code line 118 I get the error . AssertEquals(u1, u2) is the not working part. \r\n\r\n","title":"Eclipse Issue - The jar of this class file belongs to container &#39;Junit4&#39; which does not allow modifications too source attachments of it&#39;s entries","body":"<p>The jar of this class file belongs to container 'Junit4' which does not allow modifications too source attachments of it's entries. Hello, I get this issue when I try to debug a junit-test and step into the debug line. The code is fully functional on other laptops. Only issue is on my m1 MacBook Air laptop.</p>\n<p>2 - <a href=\"https://i.stack.imgur.com/sRfIM.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/sRfIM.jpg</a>\n1- <a href=\"https://i.stack.imgur.com/EIhOy.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/EIhOy.jpg</a>\nThe first image is the actual error I am facing. The second image is the junit code\npart and when I try to debug 'step into' code line 118 I get the error . AssertEquals(u1, u2) is the not working part.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1637204078,"post_id":70013997,"comment_id":123765819,"body_markdown":"Change null in `showMessageDialog(null` to its parent Component","body":"Change null in <code>showMessageDialog(null</code> to its parent Component"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1637216445,"post_id":70013997,"comment_id":123767957,"body_markdown":"@ScaryWombat there is no parent component since the code is a console application - which shows that it is not a good idea to use `JOptionPane` in a console application.","body":"@ScaryWombat there is no parent component since the code is a console application - which shows that it is not a good idea to use <code>JOptionPane</code> in a console application."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637216572,"post_id":70013997,"comment_id":123767994,"body_markdown":"@Abra, This is some basic code running in an IDE, Indeed - why not just print out the error message?  If OP wants to make a proper GUI application, then OP should do it properly","body":"@Abra, This is some basic code running in an IDE, Indeed - why not just print out the error message?  If OP wants to make a proper GUI application, then OP should do it properly"},{"owner":{"account_id":23373065,"reputation":1,"user_id":17443574,"display_name":"Uzair Baig"},"score":0,"creation_date":1637241954,"post_id":70013997,"comment_id":123777205,"body_markdown":"im quite new to java, so what changes should i make fr the gui box to appear on top of IDE?","body":"im quite new to java, so what changes should i make fr the gui box to appear on top of IDE?"}],"owner":{"account_id":23373065,"reputation":1,"user_id":17443574,"display_name":"Uzair Baig"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637203914,"creation_date":1637203914,"question_id":70013997,"body_markdown":"when i put JOptionPane.showMessageDialog inside of an else if statement, the box appears outside eclipse window(behind eclipse window, have to minimize to see the ui box) and not on top of the ide, any ideas why this is happening?\r\n\r\nthis is the code:\r\n\r\n    import java.util.Scanner;\r\n    import javax.swing.JOptionPane;\r\n    public class Main \r\n    {\r\n    \tpublic static void main(String args[])\r\n    \t{   Scanner scanner= new Scanner(System.in);\r\n    \t    System.out.print(&quot;Enter measurements:  &quot;);\r\n    \t    Double c = scanner.nextDouble();\r\n    \t    if (c&gt;=300) {\r\n    \t\t    System.out.print(&quot;measurement exceeds available length&quot;);\r\n    \t    }\r\n    \t    else if (c&lt;300 &amp;&amp; c&gt;260) {\r\n    \t\t    JOptionPane.showMessageDialog(null, &quot;value valid, proceed?&quot;);\r\n    \t    }\r\n        \telse if(c&lt;=260){\r\n    \t\t    System.out.println(&quot;measurement too short.&quot;);\r\n         \t}\r\n    \t    else {\r\n    \t     \tSystem.out.println(&quot;enter a number.&quot;);\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wPpkp.png","title":"GUI appears outside eclipse gui","body":"<p>when i put JOptionPane.showMessageDialog inside of an else if statement, the box appears outside eclipse window(behind eclipse window, have to minimize to see the ui box) and not on top of the ide, any ideas why this is happening?</p>\n<p>this is the code:</p>\n<pre><code>import java.util.Scanner;\nimport javax.swing.JOptionPane;\npublic class Main \n{\n    public static void main(String args[])\n    {   Scanner scanner= new Scanner(System.in);\n        System.out.print(&quot;Enter measurements:  &quot;);\n        Double c = scanner.nextDouble();\n        if (c&gt;=300) {\n            System.out.print(&quot;measurement exceeds available length&quot;);\n        }\n        else if (c&lt;300 &amp;&amp; c&gt;260) {\n            JOptionPane.showMessageDialog(null, &quot;value valid, proceed?&quot;);\n        }\n        else if(c&lt;=260){\n            System.out.println(&quot;measurement too short.&quot;);\n        }\n        else {\n            System.out.println(&quot;enter a number.&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","ios","macos","selenium-webdriver","appium"],"comments":[{"owner":{"account_id":12218669,"reputation":2466,"user_id":8918302,"display_name":"Suban Dhyako"},"score":0,"creation_date":1558590196,"post_id":56253735,"comment_id":99152635,"body_markdown":"can you add appium server log? Were you trying it in real app or simulator? If you are trying to test app in real device, you may not have permission to install it in your device.","body":"can you add appium server log? Were you trying it in real app or simulator? If you are trying to test app in real device, you may not have permission to install it in your device."}],"answers":[{"tags":[],"owner":{"account_id":7268394,"reputation":1726,"user_id":5542309,"display_name":"Navneet kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571644278,"creation_date":1571644278,"answer_id":58481958,"question_id":56253735,"body_markdown":"Following could be the cause of this error :\r\n\r\n1. The `.app` is not actually a `.app` file but an `.ipa` instead.\r\n2. make sure that the `//Users//mehul//Desktop//UICatalog.app` is a valid `directory`.","title":"Could not extract Info.plist from application: Plist file doesn&#39;t exist:","body":"<p>Following could be the cause of this error :</p>\n\n<ol>\n<li>The <code>.app</code> is not actually a <code>.app</code> file but an <code>.ipa</code> instead.</li>\n<li>make sure that the <code>//Users//mehul//Desktop//UICatalog.app</code> is a valid <code>directory</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3646989,"reputation":313,"user_id":3039972,"display_name":"real_kappa_guy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637203750,"creation_date":1637203750,"answer_id":70013985,"question_id":56253735,"body_markdown":"ran into the same problem, restart appium server resolved it for me","title":"Could not extract Info.plist from application: Plist file doesn&#39;t exist:","body":"<p>ran into the same problem, restart appium server resolved it for me</p>\n"}],"owner":{"account_id":11512017,"reputation":23,"user_id":8436515,"display_name":"user8436515"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2902,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637203750,"creation_date":1558517834,"question_id":56253735,"body_markdown":"ON Mac Using Appium - Xcode - Selenium - java - downlord UI catlog app for practice \r\nappium error below \r\n\r\n&gt; Encountered internal error running command: Error: Could not extract Info.plist from application: Plist file doesn&#39;t exist: &#39;/Users/mehul/Desktop/UICatalog.app/Info.plist&#39;\r\n\r\n\r\n```\r\npublic class base\r\n{\r\n    public static void main(String[] args) throws MalformedURLException {\r\n\r\n\r\n        DesiredCapabilities d = new DesiredCapabilities();\r\n        d.setCapability(MobileCapabilityType.DEVICE_NAME, &quot;iPhone 6&quot;);\r\n        d.setCapability(MobileCapabilityType.PLATFORM_NAME, &quot;IOS&quot;);\r\n        d.setCapability(MobileCapabilityType.PLATFORM_VERSION, &quot;12.2&quot;);\r\n        d.setCapability(MobileCapabilityType.AUTOMATION_NAME, AutomationName.IOS_XCUI_TEST);\r\n        d.setCapability(MobileCapabilityType.APP, &quot;//Users//mehul//Desktop//UICatalog.app&quot;);\r\n\r\n        IOSDriver&lt;IOSElement&gt; driver = new IOSDriver&lt;&gt;(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;),d);\r\n}}\r\n```","title":"Could not extract Info.plist from application: Plist file doesn&#39;t exist:","body":"<p>ON Mac Using Appium - Xcode - Selenium - java - downlord UI catlog app for practice \nappium error below </p>\n\n<blockquote>\n  <p>Encountered internal error running command: Error: Could not extract Info.plist from application: Plist file doesn't exist: '/Users/mehul/Desktop/UICatalog.app/Info.plist'</p>\n</blockquote>\n\n<pre><code>public class base\n{\n    public static void main(String[] args) throws MalformedURLException {\n\n\n        DesiredCapabilities d = new DesiredCapabilities();\n        d.setCapability(MobileCapabilityType.DEVICE_NAME, \"iPhone 6\");\n        d.setCapability(MobileCapabilityType.PLATFORM_NAME, \"IOS\");\n        d.setCapability(MobileCapabilityType.PLATFORM_VERSION, \"12.2\");\n        d.setCapability(MobileCapabilityType.AUTOMATION_NAME, AutomationName.IOS_XCUI_TEST);\n        d.setCapability(MobileCapabilityType.APP, \"//Users//mehul//Desktop//UICatalog.app\");\n\n        IOSDriver&lt;IOSElement&gt; driver = new IOSDriver&lt;&gt;(new URL(\"http://127.0.0.1:4723/wd/hub\"),d);\n}}\n</code></pre>\n"},{"tags":["java","xml","properties","enums"],"comments":[{"owner":{"account_id":2617274,"reputation":6112,"user_id":2266098,"accept_rate":72,"display_name":"NeplatnyUdaj"},"score":0,"creation_date":1389693387,"post_id":21110323,"comment_id":31760746,"body_markdown":"Enums are a sets of constants. It doesn&#39;t make a lot of sense to create it dynamically. It can be possibly done by some reflection hacking, but I&#39;m 99% sure it would be best to do a redesign.","body":"Enums are a sets of constants. It doesn&#39;t make a lot of sense to create it dynamically. It can be possibly done by some reflection hacking, but I&#39;m 99% sure it would be best to do a redesign."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1389693405,"post_id":21110323,"comment_id":31760760,"body_markdown":"In short: you can&#39;t. Enums are supposed to be static. If you need something dynamice, use e.g. `java.util.Properties`.","body":"In short: you can&#39;t. Enums are supposed to be static. If you need something dynamice, use e.g. <code>java.util.Properties</code>."},{"owner":{"account_id":3216555,"reputation":87,"user_id":2715086,"accept_rate":44,"display_name":"Hoang Nguyen huu"},"score":0,"creation_date":1389694076,"post_id":21110323,"comment_id":31761127,"body_markdown":"Thank for your answers, knowing that it is impossible is enough for me.","body":"Thank for your answers, knowing that it is impossible is enough for me."},{"owner":{"account_id":285620,"reputation":920,"user_id":584388,"display_name":"Sinto"},"score":0,"creation_date":1389696519,"post_id":21110323,"comment_id":31762662,"body_markdown":"@Hoang Nguyen huu just check the answer I posted it may help you..","body":"@Hoang Nguyen huu just check the answer I posted it may help you.."}],"answers":[{"tags":[],"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389694111,"creation_date":1389693761,"answer_id":21110633,"question_id":21110323,"body_markdown":"If I understand your question correctly, you would need to do so in the constructor (which is misnamed in your example). \r\n\r\nThe hard-coded defaults you show would serve as the defaults, but in the constructor you would check/load some properties file and override them.  \r\n\r\nIn general though, this smells of an odd/bad design. You would need to hard-code that properties file / resource in the enum. You&#39;re also dynamically loading what is meant to be something that represents a constant value. \r\n\r\nIt seems like really you should be using your own class to hold these values.\r\n\r\n\r\n","title":"How to Load Values for Java Enum Elements from A File","body":"<p>If I understand your question correctly, you would need to do so in the constructor (which is misnamed in your example). </p>\n\n<p>The hard-coded defaults you show would serve as the defaults, but in the constructor you would check/load some properties file and override them.  </p>\n\n<p>In general though, this smells of an odd/bad design. You would need to hard-code that properties file / resource in the enum. You're also dynamically loading what is meant to be something that represents a constant value. </p>\n\n<p>It seems like really you should be using your own class to hold these values.</p>\n"},{"tags":[],"owner":{"account_id":285620,"reputation":920,"user_id":584388,"display_name":"Sinto"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1389696071,"creation_date":1389696071,"answer_id":21111470,"question_id":21110323,"body_markdown":"Try something like this..\r\n\r\n    public enum EnumTest {\r\n    \r\n    \tBRONZE, SILVER;\r\n    \r\n    \tpublic String getProperty(String keyOrCode) {\r\n    \t\tProperties prop = new Properties();\r\n    \t\ttry {\r\n    \t\t\tprop.load(new FileInputStream(&quot;E:\\\\EnumMapper.properties&quot;));\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn prop.getProperty(this.name() + &quot;.&quot; + keyOrCode);\r\n    \t}\r\n    \r\n    \tpublic String getCode() {\r\n    \t\treturn getProperty(&quot;CODE&quot;);\r\n    \t}\r\n    \r\n    \tpublic String getKey() {\r\n    \t\treturn getProperty(&quot;KEY&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(EnumTest.BRONZE.getCode());\r\n    \t\tSystem.out.println(EnumTest.BRONZE.getKey());\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nwhere the EnumMapper.properties contains\r\n\r\n    BRONZE.CODE=00001BP\r\n    BRONZE.KEY=BAP\r\n    SILVER.CODE=00002SL\r\n    SILVER.KEY=SAP\r\n\r\nJust wanted to share some possibilities..","title":"How to Load Values for Java Enum Elements from A File","body":"<p>Try something like this..</p>\n\n<pre><code>public enum EnumTest {\n\n    BRONZE, SILVER;\n\n    public String getProperty(String keyOrCode) {\n        Properties prop = new Properties();\n        try {\n            prop.load(new FileInputStream(\"E:\\\\EnumMapper.properties\"));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return prop.getProperty(this.name() + \".\" + keyOrCode);\n    }\n\n    public String getCode() {\n        return getProperty(\"CODE\");\n    }\n\n    public String getKey() {\n        return getProperty(\"KEY\");\n    }\n\n    public static void main(String[] args) {\n        System.out.println(EnumTest.BRONZE.getCode());\n        System.out.println(EnumTest.BRONZE.getKey());\n\n    }\n\n}\n</code></pre>\n\n<p>where the EnumMapper.properties contains</p>\n\n<pre><code>BRONZE.CODE=00001BP\nBRONZE.KEY=BAP\nSILVER.CODE=00002SL\nSILVER.KEY=SAP\n</code></pre>\n\n<p>Just wanted to share some possibilities..</p>\n"},{"tags":[],"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637203213,"creation_date":1628099411,"answer_id":68655923,"question_id":21110323,"body_markdown":"One option is to generate a static map based on the resource file within the enum class, mapping from enum values to the data in the file.  The map can then be used for the getter.\r\n\r\nFor instance with a resource file formatted like this:\r\n\r\n    A=red\r\n    B=blue\r\n    C=yellow\r\n\r\n\r\nit can be initialized like this:\r\n\r\n    public enum MyEnum {\r\n        A, B, C;\r\n        \r\n        public String getFoo() {\r\n            return enumFooValuesFromResourceFile.get(this);\r\n        }\r\n\r\n        private static final Map&lt;MyEnum, String&gt; enumFooValuesFromResourceFile;\r\n        static {\r\n            Map&lt;MyEnum, String&gt; temp = Collections.emptyMap();\r\n            try {\r\n                String data = new String(MyEnum.class.getResourceAsStream(&quot;resourcepath&quot;).readAllBytes());\r\n                temp = Arrays.stream(data.split(&quot;\\n&quot;))\r\n                        .map(line -&gt; line.split(&quot;=&quot;))\r\n                        .collect(Collectors.&lt;String[], MyEnum, String&gt;toMap(\r\n                                key_val -&gt; MyEnum.valueOf(key_val[0]),\r\n                                key_val -&gt; key_val[1]));\r\n            } catch (IOException iE) {\r\n                // helpful message.\r\n            } finally { enumFooValuesFromResourceFile = temp; }\r\n        }\r\n    }\r\n\r\n\r\nA nicer option, I think, is to use a static String for the resource file data, and store the values directly on the enum items during initialization.  During enum initialization, you cannot access a static property *of* the enum, so it must either be outside it, or in an inner class using the [Initialization-on-demand holder idiom][1] ([credit to][2]) which is neat, because it&#39;s lazy and not loaded if the enum is never accessed.\r\n\r\n(I found I can set the (non-final) String to null at the end of the enum declaration, freeing that memory.)\r\n\r\n    public enum MyEnum {\r\n        A, B, C;\r\n\r\n        public String getFoo() { return foo; }\r\n\r\n        final String foo;\r\n    \r\n        MyEnum() {\r\n            foo = getFooValue();\r\n        }\r\n\r\n        private String getFooValue() {\r\n            return Arrays.stream(ResourceHolder.resourceFileString.split(&quot;\\n&quot;))\r\n                    .filter(str -&gt; str.startsWith(this.name() + &#39;=&#39;))\r\n                    .findFirst()\r\n                    .map(str -&gt; str.replaceAll(&quot;^&quot; + this.name() + &#39;=&#39;, &quot;&quot;))\r\n                    .orElseThrow(() -&gt;\r\n                            new IllegalArgumentException(this.name() + &quot; not found in resourcefile.&quot;));\r\n        }\r\n        // Release resources (string) from memory after enum initialization.\r\n        static {ResourceHolder.resourceFileString = null;}\r\n\r\n        private static class ResourceHolder {\r\n            // Lazily initialized if/when MyEnum is accessed.\r\n            // Cleared after initialization.\r\n            private static String resourceFileString;\r\n            static {\r\n                try {\r\n                    InputStream lResource =\r\n                            Objects.requireNonNull(MyEnum.class.getResourceAsStream(&quot;resourcepath&quot;));\r\n                    resourceFileString = new String(lResource.readAllBytes());\r\n                } catch (IOException iE) {\r\n                    // helpful message.\r\n                    iE.printStackTrace();\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom\r\n  [2]: https://stackoverflow.com/a/19484181/411282","title":"How to Load Values for Java Enum Elements from A File","body":"<p>One option is to generate a static map based on the resource file within the enum class, mapping from enum values to the data in the file.  The map can then be used for the getter.</p>\n<p>For instance with a resource file formatted like this:</p>\n<pre><code>A=red\nB=blue\nC=yellow\n</code></pre>\n<p>it can be initialized like this:</p>\n<pre><code>public enum MyEnum {\n    A, B, C;\n    \n    public String getFoo() {\n        return enumFooValuesFromResourceFile.get(this);\n    }\n\n    private static final Map&lt;MyEnum, String&gt; enumFooValuesFromResourceFile;\n    static {\n        Map&lt;MyEnum, String&gt; temp = Collections.emptyMap();\n        try {\n            String data = new String(MyEnum.class.getResourceAsStream(&quot;resourcepath&quot;).readAllBytes());\n            temp = Arrays.stream(data.split(&quot;\\n&quot;))\n                    .map(line -&gt; line.split(&quot;=&quot;))\n                    .collect(Collectors.&lt;String[], MyEnum, String&gt;toMap(\n                            key_val -&gt; MyEnum.valueOf(key_val[0]),\n                            key_val -&gt; key_val[1]));\n        } catch (IOException iE) {\n            // helpful message.\n        } finally { enumFooValuesFromResourceFile = temp; }\n    }\n}\n</code></pre>\n<p>A nicer option, I think, is to use a static String for the resource file data, and store the values directly on the enum items during initialization.  During enum initialization, you cannot access a static property <em>of</em> the enum, so it must either be outside it, or in an inner class using the <a href=\"https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom\" rel=\"nofollow noreferrer\">Initialization-on-demand holder idiom</a> (<a href=\"https://stackoverflow.com/a/19484181/411282\">credit to</a>) which is neat, because it's lazy and not loaded if the enum is never accessed.</p>\n<p>(I found I can set the (non-final) String to null at the end of the enum declaration, freeing that memory.)</p>\n<pre><code>public enum MyEnum {\n    A, B, C;\n\n    public String getFoo() { return foo; }\n\n    final String foo;\n\n    MyEnum() {\n        foo = getFooValue();\n    }\n\n    private String getFooValue() {\n        return Arrays.stream(ResourceHolder.resourceFileString.split(&quot;\\n&quot;))\n                .filter(str -&gt; str.startsWith(this.name() + '='))\n                .findFirst()\n                .map(str -&gt; str.replaceAll(&quot;^&quot; + this.name() + '=', &quot;&quot;))\n                .orElseThrow(() -&gt;\n                        new IllegalArgumentException(this.name() + &quot; not found in resourcefile.&quot;));\n    }\n    // Release resources (string) from memory after enum initialization.\n    static {ResourceHolder.resourceFileString = null;}\n\n    private static class ResourceHolder {\n        // Lazily initialized if/when MyEnum is accessed.\n        // Cleared after initialization.\n        private static String resourceFileString;\n        static {\n            try {\n                InputStream lResource =\n                        Objects.requireNonNull(MyEnum.class.getResourceAsStream(&quot;resourcepath&quot;));\n                resourceFileString = new String(lResource.readAllBytes());\n            } catch (IOException iE) {\n                // helpful message.\n                iE.printStackTrace();\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3216555,"reputation":87,"user_id":2715086,"accept_rate":44,"display_name":"Hoang Nguyen huu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9164,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":21111470,"answer_count":3,"score":2,"last_activity_date":1637203213,"creation_date":1389692922,"question_id":21110323,"body_markdown":"I have a Java Enum:\r\n\r\n    public enum CodeType {\r\n      BRONZE(&quot;00001BP&quot;, &quot;BAP&quot;),\r\n      SILVER(&quot;00002SL&quot;, &quot;SAP&quot;),\r\n      GOLD(&quot;00003GL&quot;, &quot;GAP&quot;),\r\n      MOBILE(&quot;00004MB&quot;, &quot;TCM&quot;),\r\n      SOCIAL(&quot;00005SM&quot;, &quot;ASM&quot;),\r\n      WEB_PRESENCE(&quot;00006WP&quot;, &quot;GLO&quot;),\r\n      EMAIL_MARKETING(&quot;00007EM&quot;, &quot;PEM&quot;),\r\n      CUSTOM_DIAMOND(&quot;00008CD&quot;, &quot;PCS&quot;),\r\n      CONSUMER_PORTAL(&quot;00009CP&quot;, &quot;CPS&quot;);\r\n      \r\n      private String code;\r\n      private String key;\r\n    \r\n      CodeType(String code, String key) {\r\n        this.code = code;\r\n        this.key = key;\r\n      }\r\n      \r\n      ...\r\n    }\r\nAs you see, I have nine elements and each has two values. My question is How can I load values for those elements from a file like properties or xml? I mean:\r\n\r\n    BRONZE(isLoadedFromFile, isLoadedFromFile),\r\n    ...\r\n    CONSUMER_PORTAL(isLoadedFromFile, isLoadedFromFile);\r\n\r\n\r\nThanks so much.","title":"How to Load Values for Java Enum Elements from A File","body":"<p>I have a Java Enum:</p>\n\n<pre><code>public enum CodeType {\n  BRONZE(\"00001BP\", \"BAP\"),\n  SILVER(\"00002SL\", \"SAP\"),\n  GOLD(\"00003GL\", \"GAP\"),\n  MOBILE(\"00004MB\", \"TCM\"),\n  SOCIAL(\"00005SM\", \"ASM\"),\n  WEB_PRESENCE(\"00006WP\", \"GLO\"),\n  EMAIL_MARKETING(\"00007EM\", \"PEM\"),\n  CUSTOM_DIAMOND(\"00008CD\", \"PCS\"),\n  CONSUMER_PORTAL(\"00009CP\", \"CPS\");\n\n  private String code;\n  private String key;\n\n  CodeType(String code, String key) {\n    this.code = code;\n    this.key = key;\n  }\n\n  ...\n}\n</code></pre>\n\n<p>As you see, I have nine elements and each has two values. My question is How can I load values for those elements from a file like properties or xml? I mean:</p>\n\n<pre><code>BRONZE(isLoadedFromFile, isLoadedFromFile),\n...\nCONSUMER_PORTAL(isLoadedFromFile, isLoadedFromFile);\n</code></pre>\n\n<p>Thanks so much.</p>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1637202063,"post_id":70013781,"comment_id":123765537,"body_markdown":"It defines the content type, character set, and language. It doesn&#39;t do anything if you remove it because browsers assume an HTML response and a cp1252 or UTF-8 response, and most (all?) JSP pages assume Java. There are other properties available in the page directive as well (e.g., https://www.tutorialspoint.com/jsp/page_directive.htm)","body":"It defines the content type, character set, and language. It doesn&#39;t do anything if you remove it because browsers assume an HTML response and a cp1252 or UTF-8 response, and most (all?) JSP pages assume Java. There are other properties available in the page directive as well (e.g., <a href=\"https://www.tutorialspoint.com/jsp/page_directive.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/jsp/page_directive.htm</a>)"},{"owner":{"account_id":19507141,"reputation":3,"user_id":14271884,"display_name":"Amon"},"score":0,"creation_date":1637202611,"post_id":70013781,"comment_id":123765623,"body_markdown":"Thanks for the good answer. Why can I not upvote your answer?","body":"Thanks for the good answer. Why can I not upvote your answer?"}],"answers":[{"tags":[],"owner":{"account_id":391161,"reputation":319,"user_id":751667,"display_name":"David Gilks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637202079,"creation_date":1637202079,"answer_id":70013819,"question_id":70013781,"body_markdown":"A jsp page should have the contentType set to text/html but the webserver may default files to text/html. Same with the charset.","title":"What is page contentType in jsp?","body":"<p>A jsp page should have the contentType set to text/html but the webserver may default files to text/html. Same with the charset.</p>\n"},{"tags":[],"owner":{"account_id":23022006,"reputation":1,"user_id":17142902,"display_name":"Lisssh"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1637202674,"creation_date":1637202674,"answer_id":70013880,"question_id":70013781,"body_markdown":"The UTF-8 in the middle is to set the encoding format, otherwise there will be garbled code when the browser opens the page, such as garbled code displayed in Chinese","title":"What is page contentType in jsp?","body":"<p>The UTF-8 in the middle is to set the encoding format, otherwise there will be garbled code when the browser opens the page, such as garbled code displayed in Chinese</p>\n"}],"owner":{"account_id":19507141,"reputation":3,"user_id":14271884,"display_name":"Amon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637202674,"creation_date":1637201634,"question_id":70013781,"body_markdown":"What is the point of this part of an autogenerated jsp-page in intellij?\r\n\r\n&quot;&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;&quot;\r\n\r\nBecause I don&#39;t see any loss of functionality if I remove this line. What&#39;s it&#39;s purpose?","title":"What is page contentType in jsp?","body":"<p>What is the point of this part of an autogenerated jsp-page in intellij?</p>\n<p>&quot;&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;&quot;</p>\n<p>Because I don't see any loss of functionality if I remove this line. What's it's purpose?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1595886622,"post_id":63124089,"comment_id":111624537,"body_markdown":"Do you have the input that is used for these test cases and what the required result is?","body":"Do you have the input that is used for these test cases and what the required result is?"},{"owner":{"account_id":17225027,"reputation":1,"user_id":12470889,"display_name":"Mzhu3703"},"score":0,"creation_date":1595887475,"post_id":63124089,"comment_id":111624839,"body_markdown":"The input it fails are for very large test cases of 10,000+ values. For some reason these specific test cases of 10,000+ values are failed while other test cases with 10,000+ values are passed. This is why I am confused as I cant see exactly where it fails and why my output is wrong due to the large sample size.","body":"The input it fails are for very large test cases of 10,000+ values. For some reason these specific test cases of 10,000+ values are failed while other test cases with 10,000+ values are passed. This is why I am confused as I cant see exactly where it fails and why my output is wrong due to the large sample size."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1595890018,"post_id":63124089,"comment_id":111625570,"body_markdown":"You allow the count for a key to go negative. Cases 10 and 11 won&#39;t pass when rule 3 is O(n).","body":"You allow the count for a key to go negative. Cases 10 and 11 won&#39;t pass when rule 3 is O(n)."}],"answers":[{"tags":[],"owner":{"account_id":23372963,"reputation":1,"user_id":17443486,"display_name":"Sanjay Kuriyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637201913,"creation_date":1637201913,"answer_id":70013808,"question_id":63124089,"body_markdown":"\tstatic List&lt;Integer&gt; freqQuery(List&lt;List&lt;Integer&gt;&gt; queries) {\r\n\t\tHashMap&lt;Integer, Integer&gt; frequencies = new HashMap&lt;&gt;();\r\n\t\tint[] quantities = new int[queries.size() + 1];\r\n\t\tList&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n\t\tint frequency, value;\r\n\t\tfor (List&lt;Integer&gt; query : queries) {\r\n\t\t\tvalue = query.get(1);\r\n\t\t\tswitch (query.get(0)) {\r\n\t\t\tcase 1:\r\n\t\t\t\tfrequency = frequencies.getOrDefault(value, 0);\r\n\t\t\t\tfrequencies.put(value, frequency + 1);\r\n\t\t\t\tquantities[frequency]--;\r\n\t\t\t\tquantities[frequency + 1]++;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tfrequency = frequencies.getOrDefault(value, 0);\r\n\t\t\t\tif (frequency == 0)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tif (frequency == 1)\r\n\t\t\t\t\tfrequencies.remove(value);\r\n\t\t\t\telse\r\n\t\t\t\t\tfrequencies.put(value, frequency - 1);\r\n\t\t\t\t// process qt\r\n\t\t\t\tquantities[frequency]--;\r\n\t\t\t\tquantities[frequency - 1]++;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tif (value &gt;= quantities.length)\r\n\t\t\t\t\tresult.add(0);\r\n\t\t\t\telse\r\n\t\t\t\t\tresult.add(quantities[value] &gt; 0 ? 1 : 0);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}","title":"HackerRank frequency Queries(Java)","body":"<pre><code>static List&lt;Integer&gt; freqQuery(List&lt;List&lt;Integer&gt;&gt; queries) {\n    HashMap&lt;Integer, Integer&gt; frequencies = new HashMap&lt;&gt;();\n    int[] quantities = new int[queries.size() + 1];\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\n    int frequency, value;\n    for (List&lt;Integer&gt; query : queries) {\n        value = query.get(1);\n        switch (query.get(0)) {\n        case 1:\n            frequency = frequencies.getOrDefault(value, 0);\n            frequencies.put(value, frequency + 1);\n            quantities[frequency]--;\n            quantities[frequency + 1]++;\n            break;\n        case 2:\n            frequency = frequencies.getOrDefault(value, 0);\n            if (frequency == 0)\n                break;\n            if (frequency == 1)\n                frequencies.remove(value);\n            else\n                frequencies.put(value, frequency - 1);\n            // process qt\n            quantities[frequency]--;\n            quantities[frequency - 1]++;\n            break;\n        case 3:\n            if (value &gt;= quantities.length)\n                result.add(0);\n            else\n                result.add(quantities[value] &gt; 0 ? 1 : 0);\n            break;\n\n        }\n\n    }\n\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":17225027,"reputation":1,"user_id":12470889,"display_name":"Mzhu3703"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":898,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637201913,"creation_date":1595886500,"question_id":63124089,"body_markdown":"This is HackerRanks frequency queries problem and I don&#39;t know why it fails 4 test cases, specifically cases 8,9,11 and 12.  I have provided my code below along with comments for my logic. If someone could explain the flaw in my logic to pass all the test cases that would be greatly appreciated. \r\n\r\nHere is the link to the problem\r\n[Frequency Querie problem][1]\r\n\r\n    static List&lt;Integer&gt; freqQuery(List&lt;List&lt;Integer&gt;&gt; queries) {\r\n        //key stores the inserted data value\r\n        //value stores the occurence/count of each value\r\n        HashMap &lt;Integer,Integer&gt; hm = new HashMap();\r\n        ArrayList&lt;Integer&gt; answer = new ArrayList&lt;Integer&gt;();\r\n        for(int i = 0; i &lt; queries.size(); i++){\r\n            //[(1,1),(2,2),(3,2),(1,1)]\r\n            //rule is idx 0 in each array, value/key is idx 1 in each array\r\n            int key = queries.get(i).get(1);\r\n            int rule = queries.get(i).get(0);\r\n            //rule add to hashmap \r\n            if(rule == 1){\r\n                //[1,x], stores x into the hashmap if exists and increments frequency \r\n                if(hm.containsKey(key)){\r\n                    hm.put(key, hm.get(key) + 1);\r\n                }\r\n                //otherwise add to hashmap with frequency of 1 \r\n                else{\r\n                    hm.put(key, 1 );\r\n                }\r\n            }\r\n            else if(rule == 2){\r\n                //[2,y], remove y from hashmap if exists\r\n                if(hm.containsKey(key)){\r\n                    hm.put(key, hm.get(key) - 1);\r\n                }\r\n            }\r\n            else{\r\n                //[3,z], if z in hashmap add 1 to answer arraylist \r\n                //if hm contains, add 1 to arraylist\r\n                if(hm.containsValue(key)){\r\n                    answer.add(1);\r\n                }\r\n                else{\r\n                    answer.add(0);\r\n                }\r\n            }\r\n           \r\n        }\r\n        return answer;\r\n    }\r\n\r\n\r\n  [1]: https://www.hackerrank.com/challenges/frequency-queries/problem?h_l=interview&amp;playlist_slugs%5B%5D=interview-preparation-kit&amp;playlist_slugs%5B%5D=dictionaries-hashmaps","title":"HackerRank frequency Queries(Java)","body":"<p>This is HackerRanks frequency queries problem and I don't know why it fails 4 test cases, specifically cases 8,9,11 and 12.  I have provided my code below along with comments for my logic. If someone could explain the flaw in my logic to pass all the test cases that would be greatly appreciated.</p>\n<p>Here is the link to the problem\n<a href=\"https://www.hackerrank.com/challenges/frequency-queries/problem?h_l=interview&amp;playlist_slugs%5B%5D=interview-preparation-kit&amp;playlist_slugs%5B%5D=dictionaries-hashmaps\" rel=\"nofollow noreferrer\">Frequency Querie problem</a></p>\n<pre><code>static List&lt;Integer&gt; freqQuery(List&lt;List&lt;Integer&gt;&gt; queries) {\n    //key stores the inserted data value\n    //value stores the occurence/count of each value\n    HashMap &lt;Integer,Integer&gt; hm = new HashMap();\n    ArrayList&lt;Integer&gt; answer = new ArrayList&lt;Integer&gt;();\n    for(int i = 0; i &lt; queries.size(); i++){\n        //[(1,1),(2,2),(3,2),(1,1)]\n        //rule is idx 0 in each array, value/key is idx 1 in each array\n        int key = queries.get(i).get(1);\n        int rule = queries.get(i).get(0);\n        //rule add to hashmap \n        if(rule == 1){\n            //[1,x], stores x into the hashmap if exists and increments frequency \n            if(hm.containsKey(key)){\n                hm.put(key, hm.get(key) + 1);\n            }\n            //otherwise add to hashmap with frequency of 1 \n            else{\n                hm.put(key, 1 );\n            }\n        }\n        else if(rule == 2){\n            //[2,y], remove y from hashmap if exists\n            if(hm.containsKey(key)){\n                hm.put(key, hm.get(key) - 1);\n            }\n        }\n        else{\n            //[3,z], if z in hashmap add 1 to answer arraylist \n            //if hm contains, add 1 to arraylist\n            if(hm.containsValue(key)){\n                answer.add(1);\n            }\n            else{\n                answer.add(0);\n            }\n        }\n       \n    }\n    return answer;\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","jar"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637201273,"creation_date":1637201273,"answer_id":70013736,"question_id":70013693,"body_markdown":"`new File` represents a File. As in, __a file__. An entry in a jar file isn&#39;t a File.\r\n\r\nYour code __cannot work__ for what you want to do.\r\n\r\nFile is the wrong abstraction. You want `InputStream` or possibly URL, both of which can represent files, network streams, on-the-fly generated stuff, and, yes, entries in jar files.\r\n\r\n```java\r\npublic void readFile(String fileName) {\r\n  try (var in = ThisClass.class.getResourceAsStream(fileName)) {\r\n    Scanner scanner = new Scanner(in, StandardCharsets.UTF_8);\r\n    // proceed here.\r\n  } catch (IOException e) {\r\n    throw new RuntimeException(&quot;Uncaught&quot;, e);\r\n  }\r\n}\r\n```\r\n\r\nA few things are going on in that snippet:\r\n\r\n* Use `ThisClass.class`, not `getClass()`. The getClass route breaks when you subclass. You might not do so here, but you might later; it&#39;s better to write code that always works when it&#39;s just as short.\r\n* It&#39;s a resource, you must close it. This code therefore uses try-with-resources.\r\n* We get an InputStream (`getResourceAsStream` returns an inputstream), which is the right level of abstraction that can represent an entry inside a jar (vs `File` which just can&#39;t do that).\r\n* We tell the scanner what the charset encoding is. Otherwise you get platform default, which is wrong and nasty: On your own computer it&#39;ll always work, then you run it on another system and it fails. Always, always specify charset encoding anytime bytes are turned into chars (or vice versa).\r\n* `e.printStackTrace()` is evil. Don&#39;t ever handle exceptions that way. If you have no idea (and that&#39;s fair here; if this throws IOEx, clearly something is badly wrong and it&#39;s a good idea for  your app to just crash with as much detail as is possible) - the above is the right way to deal with it.\r\n\r\n","title":"How to build a Jar file that include external files","body":"<p><code>new File</code> represents a File. As in, <strong>a file</strong>. An entry in a jar file isn't a File.</p>\n<p>Your code <strong>cannot work</strong> for what you want to do.</p>\n<p>File is the wrong abstraction. You want <code>InputStream</code> or possibly URL, both of which can represent files, network streams, on-the-fly generated stuff, and, yes, entries in jar files.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void readFile(String fileName) {\n  try (var in = ThisClass.class.getResourceAsStream(fileName)) {\n    Scanner scanner = new Scanner(in, StandardCharsets.UTF_8);\n    // proceed here.\n  } catch (IOException e) {\n    throw new RuntimeException(&quot;Uncaught&quot;, e);\n  }\n}\n</code></pre>\n<p>A few things are going on in that snippet:</p>\n<ul>\n<li>Use <code>ThisClass.class</code>, not <code>getClass()</code>. The getClass route breaks when you subclass. You might not do so here, but you might later; it's better to write code that always works when it's just as short.</li>\n<li>It's a resource, you must close it. This code therefore uses try-with-resources.</li>\n<li>We get an InputStream (<code>getResourceAsStream</code> returns an inputstream), which is the right level of abstraction that can represent an entry inside a jar (vs <code>File</code> which just can't do that).</li>\n<li>We tell the scanner what the charset encoding is. Otherwise you get platform default, which is wrong and nasty: On your own computer it'll always work, then you run it on another system and it fails. Always, always specify charset encoding anytime bytes are turned into chars (or vice versa).</li>\n<li><code>e.printStackTrace()</code> is evil. Don't ever handle exceptions that way. If you have no idea (and that's fair here; if this throws IOEx, clearly something is badly wrong and it's a good idea for  your app to just crash with as much detail as is possible) - the above is the right way to deal with it.</li>\n</ul>\n"}],"owner":{"account_id":7005363,"reputation":87,"user_id":5369950,"accept_rate":75,"display_name":"Lin Sen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70013736,"answer_count":1,"score":0,"last_activity_date":1637201273,"creation_date":1637200881,"question_id":70013693,"body_markdown":"I want to include the text file in resources folder to the Jar file. Here is the minimal example:\r\n\r\n\r\n\r\n    import java.io.File;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Main main = new Main();\r\n            main.readFile( &quot;test.txt&quot; );\r\n        }\r\n    \r\n        public void readFile(String fileName){\r\n            File file = new File( getClass().getResource( fileName ).getPath() );\r\n    \r\n            try{\r\n                Scanner scanner = new Scanner( file );\r\n                while ( scanner.hasNextLine() ){\r\n                    System.out.println( scanner.nextLine() );\r\n                }\r\n            }catch (Exception e){\r\n                System.out.println( e );\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nHere is what&#39;s in the test.txt file:\r\n\r\n    hello\r\n    world\r\n\r\nThis is how my project looks like:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can run the code successfully. The way I generated Jar is as follows: \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI have already added resources folder by clicking &quot;+&quot; symbol. However, when I call the generated Jar file, it is still complaining FileNotFoundException.\r\n\r\nAny suggestions? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HZHRK.jpg\r\n  [2]: https://i.stack.imgur.com/cXL8l.jpg","title":"How to build a Jar file that include external files","body":"<p>I want to include the text file in resources folder to the Jar file. Here is the minimal example:</p>\n<pre><code>import java.io.File;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Main main = new Main();\n        main.readFile( &quot;test.txt&quot; );\n    }\n\n    public void readFile(String fileName){\n        File file = new File( getClass().getResource( fileName ).getPath() );\n\n        try{\n            Scanner scanner = new Scanner( file );\n            while ( scanner.hasNextLine() ){\n                System.out.println( scanner.nextLine() );\n            }\n        }catch (Exception e){\n            System.out.println( e );\n        }\n    }\n}\n</code></pre>\n<p>Here is what's in the test.txt file:</p>\n<pre><code>hello\nworld\n</code></pre>\n<p>This is how my project looks like:</p>\n<p><a href=\"https://i.stack.imgur.com/HZHRK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HZHRK.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I can run the code successfully. The way I generated Jar is as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/cXL8l.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cXL8l.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have already added resources folder by clicking &quot;+&quot; symbol. However, when I call the generated Jar file, it is still complaining FileNotFoundException.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","amazon-web-services","aws-media-live"],"answers":[{"tags":[],"owner":{"account_id":22876126,"reputation":349,"user_id":17018440,"display_name":"aws-robclem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637200826,"creation_date":1637200826,"answer_id":70013688,"question_id":69824984,"body_markdown":"Implementing live chat requires certain capabilities in the player object/ parent web page to do so.  The MediaLive service is designed to be player-agnostic and presently does not implement any live chat features. There are several live chat service providers that offer integrated chat with a live video element, and MediaLive could provide the video element using the streams you already have working now. \r\n\r\nOn a related note:  a similar service from AWS known as Interactive Video Service (&quot;IVS&quot;) does implement live chat and provides a sample player object for doing so.  You can find more information on IVS here: \r\nhttps://aws.amazon.com/blogs/media/building-interactive-live-video-experiences-with-amazon-ivs-and-videoflow/\r\n\r\nI hope this helps you with your platform workflow.","title":"Aws Elemental Media Live Add chat on live stream","body":"<p>Implementing live chat requires certain capabilities in the player object/ parent web page to do so.  The MediaLive service is designed to be player-agnostic and presently does not implement any live chat features. There are several live chat service providers that offer integrated chat with a live video element, and MediaLive could provide the video element using the streams you already have working now.</p>\n<p>On a related note:  a similar service from AWS known as Interactive Video Service (&quot;IVS&quot;) does implement live chat and provides a sample player object for doing so.  You can find more information on IVS here:\n<a href=\"https://aws.amazon.com/blogs/media/building-interactive-live-video-experiences-with-amazon-ivs-and-videoflow/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/media/building-interactive-live-video-experiences-with-amazon-ivs-and-videoflow/</a></p>\n<p>I hope this helps you with your platform workflow.</p>\n"}],"owner":{"account_id":19950559,"reputation":41,"user_id":14620328,"display_name":"cseprojects 14batch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637200826,"creation_date":1635943086,"question_id":69824984,"body_markdown":"I am live streaming with the help of the AWS elemental media live. now I need to add the chat functionality to  this live streaming. I already have a comment service for the posts. how can I reuse the comment service with this live streaming ?","title":"Aws Elemental Media Live Add chat on live stream","body":"<p>I am live streaming with the help of the AWS elemental media live. now I need to add the chat functionality to  this live streaming. I already have a comment service for the posts. how can I reuse the comment service with this live streaming ?</p>\n"},{"tags":["java","key-value-store","coding-efficiency"],"comments":[{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1637201921,"post_id":70013572,"comment_id":123765516,"body_markdown":"If you want to use `contains`, a `HashSet` will be way faster. I would just create two `HashMap`, one with the club name as key and club instance as value; and one with the level as key then a `HashSet` as values (since there are multiple clubs with the same levels).","body":"If you want to use <code>contains</code>, a <code>HashSet</code> will be way faster. I would just create two <code>HashMap</code>, one with the club name as key and club instance as value; and one with the level as key then a <code>HashSet</code> as values (since there are multiple clubs with the same levels)."},{"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1637205742,"post_id":70013572,"comment_id":123766098,"body_markdown":"Looks like you want those arrays in Club  to be static.","body":"Looks like you want those arrays in Club  to be static."},{"owner":{"account_id":15779800,"reputation":1,"user_id":11386527,"display_name":"gonzoa19"},"score":0,"creation_date":1637306518,"post_id":70013572,"comment_id":123795998,"body_markdown":"@swpalmer yes you&#39;re right. Don&#39;t want to create new arrays on every instance of club.Thanks.","body":"@swpalmer yes you&#39;re right. Don&#39;t want to create new arrays on every instance of club.Thanks."},{"owner":{"account_id":15779800,"reputation":1,"user_id":11386527,"display_name":"gonzoa19"},"score":0,"creation_date":1637308067,"post_id":70013572,"comment_id":123796433,"body_markdown":"@Guillaume Not quite sure how I would use your first hashmap but you did give me an idea. I&#39;ll try creating a Hashmap with club name as the key and the second hashmap as the value. From there I should be able to get the min/max values by level. Thanks","body":"@Guillaume Not quite sure how I would use your first hashmap but you did give me an idea. I&#39;ll try creating a Hashmap with club name as the key and the second hashmap as the value. From there I should be able to get the min/max values by level. Thanks"}],"owner":{"account_id":15779800,"reputation":1,"user_id":11386527,"display_name":"gonzoa19"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637199576,"creation_date":1637199576,"question_id":70013572,"body_markdown":"*What I&#39;m trying to do*: I have a set of golf club objects(~60 clubs). Depending on the club name and club level(1-10 levels), each one will have a different maxmultiplier and minmultiplier value associated with it that I will need to perform calculations.\r\n\r\n*What I&#39;ve thought about*:\r\n Using switch statement for the club levels and a hashmap to pair the club name with an array of the multipliers in order to retrieve the correct values. Issue I have with this would be that I would have to create ~60 separate 2item arrays for the multipliers. Thought about 2d arrays and so forth but I&#39;m at the point where it feels like I&#39;m going in circles. I know I CAN get it to work through brute force but I&#39;m trying to work on efficiency. Is there a way to set this up in a localized way(table-like structure) that would make it easy to retrieve? \r\n\r\n*Things to Note*: Java is my first language,I&#39;m trying to learn, I&#39;m at the skill level where I can MAKE things work but am transitioning into learning best practices. So for answers If we could stick with basic/intermediate java ideas that would be appreciated. But after I get it working next step will be implementing serializable to store data outside the program and learning that, followed by storing information in a SQL database which ultimately seems the easiest in my mind using a table.\r\nHere is some of my code:\r\n\r\n        /*\r\n        * Creates all the clubs to be used in the app\r\n        */\r\n        public ClubSet() {\r\n\r\n        clubMap = new HashMap&lt;String, String[]&gt;(100, (float) 0.8);\r\n        clubMap.put(&quot;DRIVER&quot;, driverArray);//all the club names of driver type\r\n        clubMap.put(&quot;WOOD&quot;, woodArray);\r\n        clubMap.put(&quot;LONG&quot;, longArray);\r\n        clubMap.put(&quot;SHORT&quot;, shortArray);\r\n        clubMap.put(&quot;WEDGE&quot;, wedgeArray);\r\n        clubMap.put(&quot;ROUGH&quot;, roughArray);\r\n        clubMap.put(&quot;SAND&quot;, sandArray);\r\n\r\n        for (HashMap.Entry&lt;String, String[]&gt; entry : clubMap.entrySet()) {\r\n          for (String clubName : entry.getValue()) {\r\n            Club club = new Club(entry.getKey(), clubName);\r\n            this.put(club, club.getClubType());\r\n            }\r\n          }\r\n        }\r\n\r\n        /*\r\n        * Returns a set of all clubs according to clubtypre(e.g. Driver,Wood,Long\r\n        * Iron,etc)\r\n        */\r\n        public HashSet&lt;Club&gt; getClubSet(String clubType) {\r\n        HashSet&lt;Club&gt; clubSet = new HashSet&lt;Club&gt;();\r\n         if (this.containsValue(clubType)) {\r\n          for (HashMap.Entry&lt;Club, String&gt; entry : this.entrySet()) {\r\n            if (entry.getValue().equalsIgnoreCase(clubType)) {\r\n               clubSet.add(entry.getKey());\r\n               }\r\n            }\r\n          }\r\n        return clubSet;\r\n         }\r\n       }\r\n\r\n\r\n\r\n\r\n\r\n    public class Club {\r\n\r\n    private String clubType;\r\n    private String clubName;\r\n    private int level;\r\n    private ImageIcon imageIcon;\r\n    private String rarity;\r\n    private double maxMultiplier;\r\n    private double minMultiplier;\r\n    private HashMap&lt;String, String[]&gt; rarityMap;\r\n\r\n    private final String[] starterArray = new String[] { &quot;BEGINNER DRIVER&quot;, &quot;BEGINNER WOOD&quot;, &quot;BEGINNER LONG&quot;,\r\n            &quot;BEGINNER SHORT&quot;, &quot;BEGINNER WEDGE&quot;, &quot;BEGINNER ROUGH&quot;, &quot;BEGINNER SAND&quot; };\r\n\r\n    private final String[] commonArray = new String[] { &quot;ROCKET&quot;, &quot;QUARTERBACK&quot;, &quot;VIPER&quot;, &quot;SNIPER&quot;, &quot;BACKBONE&quot;,\r\n            &quot;SATURN&quot;, &quot;RUNNER&quot;, &quot;CLAW&quot;, &quot;DART&quot;, &quot;SKEWER&quot;, &quot;MACHETE&quot;, &quot;DESERT STORM&quot;, &quot;SAND LIZARD&quot; };\r\n\r\n    private final String[] rareArray = new String[] { &quot;EXTRA MILE&quot;, &quot;ROCK&quot;, &quot;BIG DAWG&quot;, &quot;GUARDIAN&quot;, &quot;GOLIATH&quot;,\r\n            &quot;GRIZZLY&quot;, &quot;APACHE&quot;, &quot;THORN&quot;, &quot;HORNET&quot;, &quot;DOWN-IN-ONE&quot;, &quot;RAPIER&quot;, &quot;ROUGHCUTTER&quot;, &quot;RAZOR&quot;, &quot;NIRVANA&quot;,\r\n            &quot;MALIBU&quot;, &quot;HOUDINI&quot; };\r\n\r\n    private final String[] epicArray = new String[] { &quot;APOCALYPSE&quot;, &quot;BIG TOPPER&quot;, &quot;THOR&#39;S HAMMER&quot;, &quot;HORIZON&quot;,\r\n            &quot;CATACLYSM&quot;, &quot;HAMMERHEAD&quot;, &quot;GRIM REAPER&quot;, &quot;B52&quot;, &quot;TSUNAMI&quot;, &quot;KINGFISHER&quot;, &quot;FALCON&quot;, &quot;FIREFLY&quot;, &quot;BOOMERANG&quot;,\r\n            &quot;ENDBRINGER&quot;, &quot;JUNGLIST&quot;, &quot;OFF ROADER&quot;, &quot;AMAZON&quot;, &quot;CASTAWAY&quot;, &quot;SAHARA&quot;, &quot;SPITFIRE&quot; };\r\n\r\n    public Club() {\r\n        this.clubType = null;\r\n        this.clubName = null;\r\n        this.level = 1;\r\n        rarity = null;\r\n    //    maxMultiplier = 0;\r\n    //    minMultiplier = 0;\r\n\r\n    }\r\n\r\n    public Club(String clubType, String clubName) {\r\n        this.clubName = clubName;\r\n        this.clubType = clubType;\r\n        this.level = 1;\r\n\r\n        if (Arrays.asList(starterArray).contains(clubName)) {\r\n            this.rarity = &quot;STARTER&quot;;\r\n        } else if (Arrays.asList(commonArray).contains(clubName)) {\r\n            this.rarity = &quot;COMMON&quot;;\r\n        } else if (Arrays.asList(rareArray).contains(clubName)) {\r\n            this.rarity = &quot;RARE&quot;;\r\n        } else if (Arrays.asList(epicArray).contains(clubName)) {\r\n            this.rarity = &quot;EPIC&quot;;\r\n        }\r\n     //       setMultipliers(clubName);\r\n\r\n     }\r\n \r\n","title":"Java most efficient way to assign data values to multiple key dependencies","body":"<p><em>What I'm trying to do</em>: I have a set of golf club objects(~60 clubs). Depending on the club name and club level(1-10 levels), each one will have a different maxmultiplier and minmultiplier value associated with it that I will need to perform calculations.</p>\n<p><em>What I've thought about</em>:\nUsing switch statement for the club levels and a hashmap to pair the club name with an array of the multipliers in order to retrieve the correct values. Issue I have with this would be that I would have to create ~60 separate 2item arrays for the multipliers. Thought about 2d arrays and so forth but I'm at the point where it feels like I'm going in circles. I know I CAN get it to work through brute force but I'm trying to work on efficiency. Is there a way to set this up in a localized way(table-like structure) that would make it easy to retrieve?</p>\n<p><em>Things to Note</em>: Java is my first language,I'm trying to learn, I'm at the skill level where I can MAKE things work but am transitioning into learning best practices. So for answers If we could stick with basic/intermediate java ideas that would be appreciated. But after I get it working next step will be implementing serializable to store data outside the program and learning that, followed by storing information in a SQL database which ultimately seems the easiest in my mind using a table.\nHere is some of my code:</p>\n<pre><code>    /*\n    * Creates all the clubs to be used in the app\n    */\n    public ClubSet() {\n\n    clubMap = new HashMap&lt;String, String[]&gt;(100, (float) 0.8);\n    clubMap.put(&quot;DRIVER&quot;, driverArray);//all the club names of driver type\n    clubMap.put(&quot;WOOD&quot;, woodArray);\n    clubMap.put(&quot;LONG&quot;, longArray);\n    clubMap.put(&quot;SHORT&quot;, shortArray);\n    clubMap.put(&quot;WEDGE&quot;, wedgeArray);\n    clubMap.put(&quot;ROUGH&quot;, roughArray);\n    clubMap.put(&quot;SAND&quot;, sandArray);\n\n    for (HashMap.Entry&lt;String, String[]&gt; entry : clubMap.entrySet()) {\n      for (String clubName : entry.getValue()) {\n        Club club = new Club(entry.getKey(), clubName);\n        this.put(club, club.getClubType());\n        }\n      }\n    }\n\n    /*\n    * Returns a set of all clubs according to clubtypre(e.g. Driver,Wood,Long\n    * Iron,etc)\n    */\n    public HashSet&lt;Club&gt; getClubSet(String clubType) {\n    HashSet&lt;Club&gt; clubSet = new HashSet&lt;Club&gt;();\n     if (this.containsValue(clubType)) {\n      for (HashMap.Entry&lt;Club, String&gt; entry : this.entrySet()) {\n        if (entry.getValue().equalsIgnoreCase(clubType)) {\n           clubSet.add(entry.getKey());\n           }\n        }\n      }\n    return clubSet;\n     }\n   }\n\n\n\n\n\npublic class Club {\n\nprivate String clubType;\nprivate String clubName;\nprivate int level;\nprivate ImageIcon imageIcon;\nprivate String rarity;\nprivate double maxMultiplier;\nprivate double minMultiplier;\nprivate HashMap&lt;String, String[]&gt; rarityMap;\n\nprivate final String[] starterArray = new String[] { &quot;BEGINNER DRIVER&quot;, &quot;BEGINNER WOOD&quot;, &quot;BEGINNER LONG&quot;,\n        &quot;BEGINNER SHORT&quot;, &quot;BEGINNER WEDGE&quot;, &quot;BEGINNER ROUGH&quot;, &quot;BEGINNER SAND&quot; };\n\nprivate final String[] commonArray = new String[] { &quot;ROCKET&quot;, &quot;QUARTERBACK&quot;, &quot;VIPER&quot;, &quot;SNIPER&quot;, &quot;BACKBONE&quot;,\n        &quot;SATURN&quot;, &quot;RUNNER&quot;, &quot;CLAW&quot;, &quot;DART&quot;, &quot;SKEWER&quot;, &quot;MACHETE&quot;, &quot;DESERT STORM&quot;, &quot;SAND LIZARD&quot; };\n\nprivate final String[] rareArray = new String[] { &quot;EXTRA MILE&quot;, &quot;ROCK&quot;, &quot;BIG DAWG&quot;, &quot;GUARDIAN&quot;, &quot;GOLIATH&quot;,\n        &quot;GRIZZLY&quot;, &quot;APACHE&quot;, &quot;THORN&quot;, &quot;HORNET&quot;, &quot;DOWN-IN-ONE&quot;, &quot;RAPIER&quot;, &quot;ROUGHCUTTER&quot;, &quot;RAZOR&quot;, &quot;NIRVANA&quot;,\n        &quot;MALIBU&quot;, &quot;HOUDINI&quot; };\n\nprivate final String[] epicArray = new String[] { &quot;APOCALYPSE&quot;, &quot;BIG TOPPER&quot;, &quot;THOR'S HAMMER&quot;, &quot;HORIZON&quot;,\n        &quot;CATACLYSM&quot;, &quot;HAMMERHEAD&quot;, &quot;GRIM REAPER&quot;, &quot;B52&quot;, &quot;TSUNAMI&quot;, &quot;KINGFISHER&quot;, &quot;FALCON&quot;, &quot;FIREFLY&quot;, &quot;BOOMERANG&quot;,\n        &quot;ENDBRINGER&quot;, &quot;JUNGLIST&quot;, &quot;OFF ROADER&quot;, &quot;AMAZON&quot;, &quot;CASTAWAY&quot;, &quot;SAHARA&quot;, &quot;SPITFIRE&quot; };\n\npublic Club() {\n    this.clubType = null;\n    this.clubName = null;\n    this.level = 1;\n    rarity = null;\n//    maxMultiplier = 0;\n//    minMultiplier = 0;\n\n}\n\npublic Club(String clubType, String clubName) {\n    this.clubName = clubName;\n    this.clubType = clubType;\n    this.level = 1;\n\n    if (Arrays.asList(starterArray).contains(clubName)) {\n        this.rarity = &quot;STARTER&quot;;\n    } else if (Arrays.asList(commonArray).contains(clubName)) {\n        this.rarity = &quot;COMMON&quot;;\n    } else if (Arrays.asList(rareArray).contains(clubName)) {\n        this.rarity = &quot;RARE&quot;;\n    } else if (Arrays.asList(epicArray).contains(clubName)) {\n        this.rarity = &quot;EPIC&quot;;\n    }\n //       setMultipliers(clubName);\n\n }\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":11317635,"reputation":53199,"user_id":8298909,"display_name":"Ben P."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1537722277,"creation_date":1537722277,"answer_id":52468382,"question_id":52467241,"body_markdown":"I believe this is happening due to the combination of these two lines in your code:\r\n\r\n&gt;     TransitionManager.beginDelayedTransition(recyclerView);\r\n    notifyDataSetChanged();\r\n\r\nRecyclerView supports animations by default, as long as you use the more-specific &quot;notify&quot; methods (like `notifyItemChanged()`) instead of `notifyDataSetChanged()`. So, if you can use those instead, you can delete the `TransitionManager` call.\r\n\r\nThe good news is that you know which position was &quot;expanded&quot; before, so you can call `notifyItemChanged()` on only the old position and the new position. This should get you much better animations.\r\n\r\nHere&#39;s an updated listener for you:\r\n\r\n    holder.itemView.setOnClickListener(v -&gt; {\r\n        int previousExpandedPosition = mExpandedPosition;\r\n        mExpandedPosition = isExpanded ? -1 : position;\r\n        \r\n        if (previousExpandedPosition != -1) {\r\n            notifyItemChanged(previousExpandedPosition);\r\n        }\r\n        if (mExpandedPosition != -1) {\r\n            notifyItemChanged(mExpandedPosition);\r\n        }\r\n    });","title":"RecyclerView scrolls down when expanding item","body":"<p>I believe this is happening due to the combination of these two lines in your code:</p>\n\n<blockquote>\n<pre><code>TransitionManager.beginDelayedTransition(recyclerView);\nnotifyDataSetChanged();\n</code></pre>\n</blockquote>\n\n<p>RecyclerView supports animations by default, as long as you use the more-specific \"notify\" methods (like <code>notifyItemChanged()</code>) instead of <code>notifyDataSetChanged()</code>. So, if you can use those instead, you can delete the <code>TransitionManager</code> call.</p>\n\n<p>The good news is that you know which position was \"expanded\" before, so you can call <code>notifyItemChanged()</code> on only the old position and the new position. This should get you much better animations.</p>\n\n<p>Here's an updated listener for you:</p>\n\n<pre><code>holder.itemView.setOnClickListener(v -&gt; {\n    int previousExpandedPosition = mExpandedPosition;\n    mExpandedPosition = isExpanded ? -1 : position;\n\n    if (previousExpandedPosition != -1) {\n        notifyItemChanged(previousExpandedPosition);\n    }\n    if (mExpandedPosition != -1) {\n        notifyItemChanged(mExpandedPosition);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":14037874,"reputation":400,"user_id":10140122,"display_name":"eli2003"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52468382,"answer_count":1,"score":2,"last_activity_date":1637197293,"creation_date":1537713949,"question_id":52467241,"body_markdown":"I have a `RecyclerView` which displays list items. These items expand when the user clicks them. The show animation works fine but every time an item gets clicked, the `RecyclerView` seems to add an item at the very top position but then hides it so that it scrolls down as you can see in the GIF below.\r\n\r\n![RecyclerView scrolls up GIF][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8rQXp.gif\r\n\r\nMy list item layout:\r\n\r\n&lt;LinearLayout xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; android:orientation=&quot;vertical&quot; &gt;\r\n\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingTop=&quot;16dp&quot;\r\n        android:paddingStart=&quot;16dp&quot;\r\n        android:paddingEnd=&quot;16dp&quot;\r\n        android:paddingBottom=&quot;8dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/txv_item_history_bill_type&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txv_item_history_bill_type&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imv_item_history_category&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txv_item_history_bill_type&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:fontFamily=&quot;sans-serif&quot;\r\n            android:letterSpacing=&quot;0.15&quot;\r\n            android:textAllCaps=&quot;true&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/imv_item_history_category&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txv_item_history_description&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:fontFamily=&quot;sans-serif&quot;\r\n            android:letterSpacing=&quot;0&quot;\r\n            android:textAllCaps=&quot;false&quot;\r\n            android:textColor=&quot;@color/colorAccentTextColor&quot;\r\n            android:textSize=&quot;24sp&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/imv_item_history_category&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/txv_item_history_bill_type&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txv_item_history_date_amount&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginStart=&quot;16dp&quot;\r\n            android:fontFamily=&quot;sans-serif-medium&quot;\r\n            android:letterSpacing=&quot;0.1&quot;\r\n            android:textAllCaps=&quot;false&quot;\r\n            android:textSize=&quot;14sp&quot;\r\n            app:layout_constraintStart_toEndOf=&quot;@+id/imv_item_history_category&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/txv_item_history_description&quot; /&gt;\r\n\r\n\r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n    &lt;HorizontalScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;72dp&quot;\r\n        android:scrollbars=&quot;none&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/ll_item_history_bill_action_buttons_container&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:visibility=&quot;gone&quot;&gt;\r\n\r\n            &lt;android.support.design.button.MaterialButton\r\n                android:id=&quot;@+id/btn_item_history_edit&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:text=&quot;@string/btn_edit&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.Button.OutlinedButton&quot; /&gt;\r\n\r\n            &lt;android.support.design.button.MaterialButton\r\n                android:id=&quot;@+id/btn_item_history_delete&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:text=&quot;@string/btn_delete&quot; /&gt;\r\n\r\n            &lt;android.support.design.button.MaterialButton\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:text=&quot;@string/btn_edit_amount&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;/&gt;\r\n\r\n            &lt;android.support.design.button.MaterialButton\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:text=&quot;@string/btn_edit_description&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;/&gt;\r\n\r\n            &lt;android.support.design.button.MaterialButton\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;@string/btn_change_category&quot;\r\n                style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/HorizontalScrollView&gt;\r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/view_item_history_divider&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;1dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginStart=&quot;72dp&quot;\r\n        android:background=&quot;@color/colorDivider&quot; /&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\nCode for expantion:\r\n\r\n        final boolean isExpanded = position == mExpandedPosition;\r\n        holder.mLlBillActionButtonsContainer.setVisibility(isExpanded ? View.VISIBLE : View.GONE);\r\n        holder.itemView.setActivated(isExpanded);\r\n\r\n        holder.itemView.setOnClickListener(v -&gt; {\r\n            mExpandedPosition = isExpanded ? -1 : position;\r\n            TransitionManager.beginDelayedTransition(recyclerView);\r\n            notifyDataSetChanged();\r\n        });","title":"RecyclerView scrolls down when expanding item","body":"<p>I have a <code>RecyclerView</code> which displays list items. These items expand when the user clicks them. The show animation works fine but every time an item gets clicked, the <code>RecyclerView</code> seems to add an item at the very top position but then hides it so that it scrolls down as you can see in the GIF below.</p>\n<p><img src=\"https://i.stack.imgur.com/8rQXp.gif\" alt=\"RecyclerView scrolls up GIF\" /></p>\n<p>My list item layout:</p>\n<p></p>\n<pre><code>&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:paddingTop=&quot;16dp&quot;\n    android:paddingStart=&quot;16dp&quot;\n    android:paddingEnd=&quot;16dp&quot;\n    android:paddingBottom=&quot;8dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;@+id/txv_item_history_bill_type&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/txv_item_history_bill_type&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imv_item_history_category&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txv_item_history_bill_type&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:fontFamily=&quot;sans-serif&quot;\n        android:letterSpacing=&quot;0.15&quot;\n        android:textAllCaps=&quot;true&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/imv_item_history_category&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txv_item_history_description&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:fontFamily=&quot;sans-serif&quot;\n        android:letterSpacing=&quot;0&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:textColor=&quot;@color/colorAccentTextColor&quot;\n        android:textSize=&quot;24sp&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/imv_item_history_category&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txv_item_history_bill_type&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txv_item_history_date_amount&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:fontFamily=&quot;sans-serif-medium&quot;\n        android:letterSpacing=&quot;0.1&quot;\n        android:textAllCaps=&quot;false&quot;\n        android:textSize=&quot;14sp&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/imv_item_history_category&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/txv_item_history_description&quot; /&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;HorizontalScrollView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;72dp&quot;\n    android:scrollbars=&quot;none&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/ll_item_history_bill_action_buttons_container&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:visibility=&quot;gone&quot;&gt;\n\n        &lt;android.support.design.button.MaterialButton\n            android:id=&quot;@+id/btn_item_history_edit&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;8dp&quot;\n            android:text=&quot;@string/btn_edit&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.OutlinedButton&quot; /&gt;\n\n        &lt;android.support.design.button.MaterialButton\n            android:id=&quot;@+id/btn_item_history_delete&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;8dp&quot;\n            android:text=&quot;@string/btn_delete&quot; /&gt;\n\n        &lt;android.support.design.button.MaterialButton\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;8dp&quot;\n            android:text=&quot;@string/btn_edit_amount&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;/&gt;\n\n        &lt;android.support.design.button.MaterialButton\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;8dp&quot;\n            android:text=&quot;@string/btn_edit_description&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;/&gt;\n\n        &lt;android.support.design.button.MaterialButton\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/btn_change_category&quot;\n            style=&quot;@style/Widget.MaterialComponents.Button.TextButton&quot;/&gt;\n    &lt;/LinearLayout&gt;\n&lt;/HorizontalScrollView&gt;\n\n&lt;View\n    android:id=&quot;@+id/view_item_history_divider&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;1dp&quot;\n    android:layout_marginTop=&quot;8dp&quot;\n    android:layout_marginStart=&quot;72dp&quot;\n    android:background=&quot;@color/colorDivider&quot; /&gt;\n</code></pre>\n\n<p>Code for expantion:</p>\n<pre><code>    final boolean isExpanded = position == mExpandedPosition;\n    holder.mLlBillActionButtonsContainer.setVisibility(isExpanded ? View.VISIBLE : View.GONE);\n    holder.itemView.setActivated(isExpanded);\n\n    holder.itemView.setOnClickListener(v -&gt; {\n        mExpandedPosition = isExpanded ? -1 : position;\n        TransitionManager.beginDelayedTransition(recyclerView);\n        notifyDataSetChanged();\n    });\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":1,"creation_date":1635253316,"post_id":69723474,"comment_id":123242830,"body_markdown":"to be able to share a file you have save it in storage first and you can fire share intent with the file URL . What have you tried which didn&#39;t worked ? add it with question .","body":"to be able to share a file you have save it in storage first and you can fire share intent with the file URL . What have you tried which didn&#39;t worked ? add it with question ."},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1635253426,"post_id":69723474,"comment_id":123242879,"body_markdown":"&quot;I&#39;ve tried most of them already&quot; -- then your [mcve] should show what you tried and should explain what specific problems you encountered.","body":"&quot;I&#39;ve tried most of them already&quot; -- then your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should show what you tried and should explain what specific problems you encountered."},{"owner":{"account_id":18066718,"reputation":19,"user_id":15291894,"display_name":"alexandr gladevt"},"score":0,"creation_date":1635257869,"post_id":69723474,"comment_id":123245148,"body_markdown":"ok. done. what else to indicate?","body":"ok. done. what else to indicate?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635258688,"post_id":69723474,"comment_id":123245550,"body_markdown":"Make it a boolean function so you are not calling send() if saving fails.`if ( ! saveImage(bitmap)) return;` Display a Toast to if this happens. The user should know about it.","body":"Make it a boolean function so you are not calling send() if saving fails.<code>if ( ! saveImage(bitmap)) return;</code> Display a Toast to if this happens. The user should know about it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635258789,"post_id":69723474,"comment_id":123245595,"body_markdown":"`Uri.fromFile(myFile)` Dont use Uri.fromFile on Android Q+. Use a FileProvider to serve your file.","body":"<code>Uri.fromFile(myFile)</code> Dont use Uri.fromFile on Android Q+. Use a FileProvider to serve your file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635258949,"post_id":69723474,"comment_id":123245690,"body_markdown":"Also stop if bitmap becomes null. `if ( bitmap==null) return;`","body":"Also stop if bitmap becomes null. <code>if ( bitmap==null) return;</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1635259075,"post_id":69723474,"comment_id":123245762,"body_markdown":"`myDir.mkdirs();` Only call mkdirs() if the directory does not exist yet. And if you do check the return value and stop if it is false. `if ( !myDir.exists()) if ( !myDir.mkdirs()) return;` Dont forget a Toast to inform the user.","body":"<code>myDir.mkdirs();</code> Only call mkdirs() if the directory does not exist yet. And if you do check the return value and stop if it is false. <code>if ( !myDir.exists()) if ( !myDir.mkdirs()) return;</code> Dont forget a Toast to inform the user."},{"owner":{"account_id":18066718,"reputation":19,"user_id":15291894,"display_name":"alexandr gladevt"},"score":0,"creation_date":1635259230,"post_id":69723474,"comment_id":123245839,"body_markdown":"guys, can someone fix my code and post the correct one? (useful not only for me ... and I don&#39;t know about the provider yet ...","body":"guys, can someone fix my code and post the correct one? (useful not only for me ... and I don&#39;t know about the provider yet ..."}],"answers":[{"tags":[],"owner":{"account_id":18066718,"reputation":19,"user_id":15291894,"display_name":"alexandr gladevt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637196024,"creation_date":1637157521,"answer_id":70005741,"question_id":69723474,"body_markdown":"Sending an image from an app turned out to be not a good idea. \r\n1. The image cannot be edited if necessary. \r\n2. Over time, you may want to add more images, etc..\r\n\r\nI did it differently, and it turned out better:\r\n\r\n  1. I put the image on GoogleDisk.(now I can change it at any time without having \r\n  to ask users to reinstall the application every time the picture changes).\r\n\r\n  2. I placed a link to the picture in the FireBase Database. (I also placed a banner with a picture here.).\r\n\r\n  3. I connected the application to the Firebase Database.\r\n\r\n  4. In the activity I made a RecyclingView, where I get a banner(s) and a link(s) to the original image(s). The user can download this link or send it through whatsapp anywhere and download the original picture in good quality (A1, 2.5Mb).\r\n________________________\r\n\r\nthanks, guys..\r\n\r\nI thank the guys for the tips, especially mr.Blackapps. In this case, you really can&#39;t do without a FileProvider.\r\n","title":"how to send a file with a picture from the app to e-mail or whatsapp (25.10.2021)","body":"<p>Sending an image from an app turned out to be not a good idea.</p>\n<ol>\n<li>The image cannot be edited if necessary.</li>\n<li>Over time, you may want to add more images, etc..</li>\n</ol>\n<p>I did it differently, and it turned out better:</p>\n<ol>\n<li><p>I put the image on GoogleDisk.(now I can change it at any time without having\nto ask users to reinstall the application every time the picture changes).</p>\n</li>\n<li><p>I placed a link to the picture in the FireBase Database. (I also placed a banner with a picture here.).</p>\n</li>\n<li><p>I connected the application to the Firebase Database.</p>\n</li>\n<li><p>In the activity I made a RecyclingView, where I get a banner(s) and a link(s) to the original image(s). The user can download this link or send it through whatsapp anywhere and download the original picture in good quality (A1, 2.5Mb).</p>\n</li>\n</ol>\n<hr />\n<p>thanks, guys..</p>\n<p>I thank the guys for the tips, especially mr.Blackapps. In this case, you really can't do without a FileProvider.</p>\n"}],"owner":{"account_id":18066718,"reputation":19,"user_id":15291894,"display_name":"alexandr gladevt"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1637196024,"creation_date":1635252752,"question_id":69723474,"body_markdown":"I have tried about 10 answers to a similar question, but none of them were successful. Something might be out of date. Please give an answer for today.\r\n\r\nSimple task:\r\nI want my app to be able to send a file with an image to e-mail or whatsapp.\r\n\r\nI put the file with the image in the application resources in the folder Drawable.\r\nIts size is 5 MB.\r\n\r\n\r\nHow to do this in Java?\r\n\r\nI&#39;m asking for code, not links to similar answers. I&#39;ve tried most of them already.\r\n\r\n\r\n\r\n\r\n\r\nSome decisions came to null.bin.\r\nSome don&#39;t send anything at all and throw an error.\r\n\r\n\r\nPerhaps I am not specifying any permissions.\r\nSomething else is possible.\r\nI&#39;m new. \r\nI would like an answer with comments (what I am writing and why)\r\n\r\n\r\n\r\n\r\n\r\n    // step 1. I put the picture in the folder Drawable\r\n        \r\n            // clicking on the button sends the picture through the messenger to other users\r\n            \r\n    public void onClick_sendMyImage(View v) {\r\n        \r\n            // Step 2.Convert PICTURE to Bitmap\r\n            Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.image1);\r\n            saveImage(bitmap);   // 3. save the PICTURE in the internal folder\r\n            send();              // 4.sending PICTURE (function code below)\r\n        }\r\n        \r\n        \r\n        // step 3. Saving the image in the internal folder:\r\n        private static void saveImage(Bitmap finalBitmap){\r\n            String root = Environment.getExternalStorageDirectory().getAbsolutePath();\r\n            File myDir = new File(root + &quot;/saved_images&quot;);\r\n            //Log.i(&quot;Directory&quot;, &quot;==&quot; + myDir);\r\n            myDir.mkdirs();\r\n        \r\n            String fname = &quot;image_test&quot; + &quot;.jpg&quot;;\r\n            File file = new File(myDir, fname);\r\n            if(file.exists()) file.delete();\r\n            try{\r\n                FileOutputStream out = new FileOutputStream(file);\r\n                finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out);\r\n                out.flush();\r\n                out.close();\r\n            } catch (FileNotFoundException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        \r\n        // Step 4. Sending the saved PICTURE\r\n        public void send(){\r\n            try{\r\n                File myFile = new File(&quot;/storage/emulated/0/saved_images/image_test.jpg&quot;);\r\n                // for something I create this type (so it is said in one of the answers)\r\n                MimeTypeMap mime = MimeTypeMap.getSingleton();\r\n                String ext = myFile.getName().substring(myFile.getName().lastIndexOf(&quot;.&quot;) + 1);\r\n                String type = mime.getMimeTypeFromExtension(ext);\r\n        \r\n                Intent intent = new Intent(Intent.ACTION_SEND);\r\n                intent.setType(type);\r\n        \r\n                intent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(myFile));\r\n                Intent intent1 = Intent.createChooser(intent, &quot;what do you want to send ?&quot;);\r\n                startActivity(intent1);\r\n        \r\n            }catch (Exception e){\r\n                Toast.makeText(this, &quot;repeat sending&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        \r\n        }\r\n\r\n","title":"how to send a file with a picture from the app to e-mail or whatsapp (25.10.2021)","body":"<p>I have tried about 10 answers to a similar question, but none of them were successful. Something might be out of date. Please give an answer for today.</p>\n<p>Simple task:\nI want my app to be able to send a file with an image to e-mail or whatsapp.</p>\n<p>I put the file with the image in the application resources in the folder Drawable.\nIts size is 5 MB.</p>\n<p>How to do this in Java?</p>\n<p>I'm asking for code, not links to similar answers. I've tried most of them already.</p>\n<p>Some decisions came to null.bin.\nSome don't send anything at all and throw an error.</p>\n<p>Perhaps I am not specifying any permissions.\nSomething else is possible.\nI'm new.\nI would like an answer with comments (what I am writing and why)</p>\n<pre><code>// step 1. I put the picture in the folder Drawable\n    \n        // clicking on the button sends the picture through the messenger to other users\n        \npublic void onClick_sendMyImage(View v) {\n    \n        // Step 2.Convert PICTURE to Bitmap\n        Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.image1);\n        saveImage(bitmap);   // 3. save the PICTURE in the internal folder\n        send();              // 4.sending PICTURE (function code below)\n    }\n    \n    \n    // step 3. Saving the image in the internal folder:\n    private static void saveImage(Bitmap finalBitmap){\n        String root = Environment.getExternalStorageDirectory().getAbsolutePath();\n        File myDir = new File(root + &quot;/saved_images&quot;);\n        //Log.i(&quot;Directory&quot;, &quot;==&quot; + myDir);\n        myDir.mkdirs();\n    \n        String fname = &quot;image_test&quot; + &quot;.jpg&quot;;\n        File file = new File(myDir, fname);\n        if(file.exists()) file.delete();\n        try{\n            FileOutputStream out = new FileOutputStream(file);\n            finalBitmap.compress(Bitmap.CompressFormat.JPEG, 90, out);\n            out.flush();\n            out.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    // Step 4. Sending the saved PICTURE\n    public void send(){\n        try{\n            File myFile = new File(&quot;/storage/emulated/0/saved_images/image_test.jpg&quot;);\n            // for something I create this type (so it is said in one of the answers)\n            MimeTypeMap mime = MimeTypeMap.getSingleton();\n            String ext = myFile.getName().substring(myFile.getName().lastIndexOf(&quot;.&quot;) + 1);\n            String type = mime.getMimeTypeFromExtension(ext);\n    \n            Intent intent = new Intent(Intent.ACTION_SEND);\n            intent.setType(type);\n    \n            intent.putExtra(Intent.EXTRA_STREAM, Uri.fromFile(myFile));\n            Intent intent1 = Intent.createChooser(intent, &quot;what do you want to send ?&quot;);\n            startActivity(intent1);\n    \n        }catch (Exception e){\n            Toast.makeText(this, &quot;repeat sending&quot;, Toast.LENGTH_SHORT).show();\n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1637194537,"post_id":70013070,"comment_id":123764217,"body_markdown":"Recursion is not about optimizing performance. It&#39;s about logical simplification.","body":"Recursion is not about optimizing performance. It&#39;s about logical simplification."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1637195079,"post_id":70013070,"comment_id":123764337,"body_markdown":"Iterating through the first collection, determine if the other collections can provide the remainder.  The answer (at each subsequent collection) can be memoized so the next time that value needs to be checked the answer will already be known.","body":"Iterating through the first collection, determine if the other collections can provide the remainder.  The answer (at each subsequent collection) can be memoized so the next time that value needs to be checked the answer will already be known."},{"owner":{"account_id":13429972,"reputation":1807,"user_id":9690075,"display_name":"zysaaa"},"score":0,"creation_date":1637198444,"post_id":70013070,"comment_id":123764932,"body_markdown":"What kind of results do you want? A Boolean whether there is such a sum or the number of all possible combinations or a list of all possible combinations","body":"What kind of results do you want? A Boolean whether there is such a sum or the number of all possible combinations or a list of all possible combinations"},{"owner":{"account_id":22318704,"reputation":3,"user_id":16541650,"display_name":"Renaut Mestdagh"},"score":0,"creation_date":1637228102,"post_id":70013070,"comment_id":123771578,"body_markdown":"a boolean is just fine","body":"a boolean is just fine"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637195798,"creation_date":1637195798,"answer_id":70013219,"question_id":70013070,"body_markdown":"Try this.\r\n\r\n    static boolean existSum(List&lt;Collection&lt;Integer&gt;&gt; collections, int x) {\r\n        int size = collections.size();\r\n        return new Object() {\r\n            boolean find(int index, int sum) {\r\n                if (index &gt;= size)\r\n                    return sum == x;\r\n                for (int i : collections.get(index)) {\r\n                    int newSum = sum + i;\r\n                    if (newSum &gt; x)\r\n                        break;\r\n                    if (find(index + 1, newSum))\r\n                        return true;\r\n                }\r\n                return false;\r\n            }\r\n        }.find(0, 0);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        System.out.println(existSum(List.of(\r\n            List.of(1, 2, 3, 5, 7, 8),\r\n            List.of(2, 4, 4, 5, 6, 8, 9, 11, 23)), 9));\r\n        System.out.println(existSum(List.of(\r\n            List.of(1, 1, 5, 7, 8, 9),\r\n            List.of(2, 4, 5, 6, 8, 9)), 8));\r\n    }\r\n\r\noutput:\r\n\r\n    true\r\n    false\r\n\r\n","title":"Find number x equal to sum of 1 number from n sets","body":"<p>Try this.</p>\n<pre><code>static boolean existSum(List&lt;Collection&lt;Integer&gt;&gt; collections, int x) {\n    int size = collections.size();\n    return new Object() {\n        boolean find(int index, int sum) {\n            if (index &gt;= size)\n                return sum == x;\n            for (int i : collections.get(index)) {\n                int newSum = sum + i;\n                if (newSum &gt; x)\n                    break;\n                if (find(index + 1, newSum))\n                    return true;\n            }\n            return false;\n        }\n    }.find(0, 0);\n}\n\npublic static void main(String[] args) throws Exception {\n    System.out.println(existSum(List.of(\n        List.of(1, 2, 3, 5, 7, 8),\n        List.of(2, 4, 4, 5, 6, 8, 9, 11, 23)), 9));\n    System.out.println(existSum(List.of(\n        List.of(1, 1, 5, 7, 8, 9),\n        List.of(2, 4, 5, 6, 8, 9)), 8));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>true\nfalse\n</code></pre>\n"}],"owner":{"account_id":22318704,"reputation":3,"user_id":16541650,"display_name":"Renaut Mestdagh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70013219,"answer_count":1,"score":0,"last_activity_date":1637195798,"creation_date":1637194106,"question_id":70013070,"body_markdown":"I&#39;m having the following problem:\r\n\r\nI have n sorted collections of integers (2&lt;n&lt;10).\\\r\nI have a number x.\\\r\nI wanna know if there is a sum (there can be multiple), in which each set needs to contribute exactly 1 number, which is equal to x\r\n\r\n**Example 1:**\\\r\nCollection 1: {1, 2, 3, **5**, 7, 8}\\\r\nCollection 2: {2, **4**, 4, 5, 6, 8, 9, 11 23}\\\r\nx: 9\\\r\nFor this example, a possible sum is 5+4. Another possibility is 1+8.\r\n\r\n**Example2:**\\\r\nCollection 1: {1, 1, 5, 7, 8, 9}\\\r\nCollection 2: {2, 4, 5, 6, 8, 9}\\\r\nx: 8\\\r\nIn this example, there is no possible sum. The number 8 is in both collections but since all collections need to contribute in the summation, this doesn&#39;t matter.\r\n\r\n\\\r\nI don&#39;t wanna brute force this so i&#39;m thinking recursion could make this process a bit faster but i don&#39;t really know where to begin.\r\nI&#39;m looking for some kind of train of thought although pseudo code or working code (java) would be appreciated :)","title":"Find number x equal to sum of 1 number from n sets","body":"<p>I'm having the following problem:</p>\n<p>I have n sorted collections of integers (2&lt;n&lt;10).<br />\nI have a number x.<br />\nI wanna know if there is a sum (there can be multiple), in which each set needs to contribute exactly 1 number, which is equal to x</p>\n<p><strong>Example 1:</strong><br />\nCollection 1: {1, 2, 3, <strong>5</strong>, 7, 8}<br />\nCollection 2: {2, <strong>4</strong>, 4, 5, 6, 8, 9, 11 23}<br />\nx: 9<br />\nFor this example, a possible sum is 5+4. Another possibility is 1+8.</p>\n<p><strong>Example2:</strong><br />\nCollection 1: {1, 1, 5, 7, 8, 9}<br />\nCollection 2: {2, 4, 5, 6, 8, 9}<br />\nx: 8<br />\nIn this example, there is no possible sum. The number 8 is in both collections but since all collections need to contribute in the summation, this doesn't matter.</p>\n<p><br />\nI don't wanna brute force this so i'm thinking recursion could make this process a bit faster but i don't really know where to begin.\nI'm looking for some kind of train of thought although pseudo code or working code (java) would be appreciated :)</p>\n"},{"tags":["java","arrays","hashmap","hashset","multimap"],"comments":[{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":2,"creation_date":1637190272,"post_id":70012625,"comment_id":123763392,"body_markdown":"why not a Map&lt;String, ArrayList&lt;YourObjects&gt;&gt; ? You can then iterate with code and print how many element the array has. (key for the map is your code)","body":"why not a Map&lt;String, ArrayList&lt;YourObjects&gt;&gt; ? You can then iterate with code and print how many element the array has. (key for the map is your code)"}],"answers":[{"tags":[],"owner":{"account_id":22051200,"reputation":290,"user_id":17269314,"display_name":"Florian S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637194646,"creation_date":1637194345,"answer_id":70013096,"question_id":70012625,"body_markdown":"If I understand, you have a `List&lt;YourObject&gt;` where `YourObject` is the class :\r\n\r\n```java\r\npublic class YourObject {\r\n    public String code;\r\n    public String userName;\r\n    \r\n    // getters and constructor(s)\r\n}\r\n```\r\n\r\nWhen you say :\r\n\r\n&gt; I must display only code and list of usernames associated for each code\r\n\r\nIt means that in your `List&lt;YourObject&gt;`, if two objects A and B have the same code value X, you want to display something like &quot;Code X ; usernames = [A.getUserName(), B.getUserName()]&quot; ?\r\n\r\nBut you also want to add a `userCount` attribute which is the size of the usernames list (in my above exemple : 2).\r\n\r\nI think you can create a utility method that takes your `List&lt;YourObject&gt;` as parameter and return a `Map&lt;String,List&lt;String&gt;&gt;` where the key string is the code and the List of strings is the usernames.\r\n\r\nSomething like : (Sorry for the stream version, I was too lazy to write more lines) :\r\n\r\n```java\r\npublic static Map&lt;String,List&lt;String&gt;&gt; process(List&lt;YourObject&gt;  list) {\r\n    return list.stream().collect(Collectors.toMap(YourObject::getCode, x -&gt; list.stream().filter(e -&gt; x.getCode().equals(e.getCode())).map(YourObject::getUserName).collect(Collectors.toList()), (x,y) -&gt; x));\r\n}\r\n```\r\nThe display you wanted :\r\n\r\n```java\r\nprocess(yourList).forEach((k,v) -&gt; {\r\n    System.out.println(&quot;Code : &quot; + k + &quot; | userCount :&quot; + v.size() + &quot; | Usernames =&quot; + v)\r\n});\r\n```\r\n","title":"Java: 1 key with multiple values using data structure","body":"<p>If I understand, you have a <code>List&lt;YourObject&gt;</code> where <code>YourObject</code> is the class :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourObject {\n    public String code;\n    public String userName;\n    \n    // getters and constructor(s)\n}\n</code></pre>\n<p>When you say :</p>\n<blockquote>\n<p>I must display only code and list of usernames associated for each code</p>\n</blockquote>\n<p>It means that in your <code>List&lt;YourObject&gt;</code>, if two objects A and B have the same code value X, you want to display something like &quot;Code X ; usernames = [A.getUserName(), B.getUserName()]&quot; ?</p>\n<p>But you also want to add a <code>userCount</code> attribute which is the size of the usernames list (in my above exemple : 2).</p>\n<p>I think you can create a utility method that takes your <code>List&lt;YourObject&gt;</code> as parameter and return a <code>Map&lt;String,List&lt;String&gt;&gt;</code> where the key string is the code and the List of strings is the usernames.</p>\n<p>Something like : (Sorry for the stream version, I was too lazy to write more lines) :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String,List&lt;String&gt;&gt; process(List&lt;YourObject&gt;  list) {\n    return list.stream().collect(Collectors.toMap(YourObject::getCode, x -&gt; list.stream().filter(e -&gt; x.getCode().equals(e.getCode())).map(YourObject::getUserName).collect(Collectors.toList()), (x,y) -&gt; x));\n}\n</code></pre>\n<p>The display you wanted :</p>\n<pre class=\"lang-java prettyprint-override\"><code>process(yourList).forEach((k,v) -&gt; {\n    System.out.println(&quot;Code : &quot; + k + &quot; | userCount :&quot; + v.size() + &quot; | Usernames =&quot; + v)\n});\n</code></pre>\n"}],"owner":{"account_id":19388513,"reputation":31,"user_id":14177752,"display_name":"Divya Muruganantham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637194646,"creation_date":1637189890,"question_id":70012625,"body_markdown":"I have a list of objects having code and user name. I can get the code and username with ```getCode()``` and ```getUserName()```. I can think of using MultiMap if I must display only code and list of usernames associated for each code. But how to display all three details (code, usercount, usernames) with different data types using Java?\r\n\r\nCode - String (Key)\r\n\r\nUserCount - Integer (Value)\r\n\r\nUserNames - List&lt;String&gt; (Value)\r\n\r\nHow to display in the below format using Java?\r\n\r\nCode\t    UserCount\t   UserNames\r\n\r\nAbc\t\t    2\t\t       Jack, Mary\r\n\r\nDef\t\t    1\t\t       Steven\r\n\r\nGhi\t\t    3\t\t       James, Ray, Jim\r\n\r\n\r\n","title":"Java: 1 key with multiple values using data structure","body":"<p>I have a list of objects having code and user name. I can get the code and username with <code>getCode()</code> and <code>getUserName()</code>. I can think of using MultiMap if I must display only code and list of usernames associated for each code. But how to display all three details (code, usercount, usernames) with different data types using Java?</p>\n<p>Code - String (Key)</p>\n<p>UserCount - Integer (Value)</p>\n<p>UserNames - List (Value)</p>\n<p>How to display in the below format using Java?</p>\n<p>Code        UserCount      UserNames</p>\n<p>Abc         2              Jack, Mary</p>\n<p>Def         1              Steven</p>\n<p>Ghi         3              James, Ray, Jim</p>\n"},{"tags":["java","color-space","hsl"],"comments":[{"owner":{"account_id":245879,"reputation":5305,"user_id":519654,"accept_rate":36,"display_name":"xtempore"},"score":0,"creation_date":1448574859,"post_id":2997656,"comment_id":55653911,"body_markdown":"The &quot;top&quot; answer given below is WRONG. HSB is NOT the same as HSL.  You will end up getting much darker colors than you expect. I have added a sample implementation of HLS (HSL) below.","body":"The &quot;top&quot; answer given below is WRONG. HSB is NOT the same as HSL.  You will end up getting much darker colors than you expect. I have added a sample implementation of HLS (HSL) below."}],"answers":[{"tags":[],"owner":{"account_id":129236,"reputation":7706,"user_id":327679,"accept_rate":80,"display_name":"Andrei Fierbinteanu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1276004354,"creation_date":1276004354,"answer_id":2997762,"question_id":2997656,"body_markdown":"Maybe [this](http://tips4java.wordpress.com/2009/07/05/hsl-color/) will help. The JDK doesn&#39;t seem to be very helpful when wanting to use colors in another color space.\r\n\r\nEdit: In `ColorSpace.getName(idx)` there&#39;s this little snippet:\r\n\r\n     case ColorSpace.TYPE_HLS:\r\n                        compName = new String[] {&quot;Hue&quot;, &quot;Lightness&quot;, \r\n                                                 &quot;Saturation&quot;};\r\n\r\nso it was what you thought, but looking at the type hierarchy of ColorSpace it doesn&#39;t seem to be used or implemented in any way anywhere. ColorSpace is extended by only two other classes BogusColorSpace and ICC_ColorSpace, so I&#39;m guessing they&#39;re expecting developers to create their own implementations for different color spaces.","title":"How can I use the HSL colorspace in Java?","body":"<p>Maybe <a href=\"http://tips4java.wordpress.com/2009/07/05/hsl-color/\" rel=\"nofollow noreferrer\">this</a> will help. The JDK doesn't seem to be very helpful when wanting to use colors in another color space.</p>\n\n<p>Edit: In <code>ColorSpace.getName(idx)</code> there's this little snippet:</p>\n\n<pre><code> case ColorSpace.TYPE_HLS:\n                    compName = new String[] {\"Hue\", \"Lightness\", \n                                             \"Saturation\"};\n</code></pre>\n\n<p>so it was what you thought, but looking at the type hierarchy of ColorSpace it doesn't seem to be used or implemented in any way anywhere. ColorSpace is extended by only two other classes BogusColorSpace and ICC_ColorSpace, so I'm guessing they're expecting developers to create their own implementations for different color spaces.</p>\n"},{"tags":[],"owner":{"account_id":36018,"reputation":95910,"user_id":102441,"accept_rate":76,"display_name":"Eric"},"down_vote_count":5,"up_vote_count":9,"is_accepted":true,"score":4,"last_activity_date":1637193333,"creation_date":1276005018,"answer_id":2997864,"question_id":2997656,"body_markdown":"I found the built-in method for HSB (which is not the same as HSL, but is similar)\r\n\r\n&lt;pre&gt;[Color.getHSBColor(float h, float s, float b)](http://docs.oracle.com/javase/7/docs/api/java/awt/Color.html#getHSBColor(float,%20float,%20float))&lt;/pre&gt;","title":"How can I use the HSL colorspace in Java?","body":"<p>I found the built-in method for HSB (which is not the same as HSL, but is similar)</p>\n<pre>[Color.getHSBColor(float h, float s, float b)](http://docs.oracle.com/javase/7/docs/api/java/awt/Color.html#getHSBColor(float,%20float,%20float))</pre>\n"},{"tags":[],"owner":{"account_id":119546,"reputation":14777,"user_id":311304,"accept_rate":95,"display_name":"Justin Garrick"},"down_vote_count":8,"up_vote_count":20,"is_accepted":false,"score":12,"last_activity_date":1510062464,"creation_date":1276005321,"answer_id":2997911,"question_id":2997656,"body_markdown":"**EDIT: I realize HSB != HSL, the answer below is for HSB.**\r\n\r\nI don&#39;t think there is any need to use ColorSpaces here.  Try something like the following:\r\n\r\n    float hue = 0.9f; //hue\r\n    float saturation = 1.0f; //saturation\r\n    float brightness = 0.8f; //brightness\r\n    \t\r\n    Color myRGBColor = Color.getHSBColor(hue, saturation, brightness);","title":"How can I use the HSL colorspace in Java?","body":"<p><strong>EDIT: I realize HSB != HSL, the answer below is for HSB.</strong></p>\n\n<p>I don't think there is any need to use ColorSpaces here.  Try something like the following:</p>\n\n<pre><code>float hue = 0.9f; //hue\nfloat saturation = 1.0f; //saturation\nfloat brightness = 0.8f; //brightness\n\nColor myRGBColor = Color.getHSBColor(hue, saturation, brightness);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1306229,"reputation":1510,"user_id":1255181,"accept_rate":20,"display_name":"Waldemar Wosiński"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359543433,"creation_date":1359543433,"answer_id":14602327,"question_id":2997656,"body_markdown":"If your input is swing/awt widgets, then with **Java 7 JColorChooser** you can get Color by HSV and HSL spaces. http://java.dzone.com/articles/new-color-chooser-jdk-7","title":"How can I use the HSL colorspace in Java?","body":"<p>If your input is swing/awt widgets, then with <strong>Java 7 JColorChooser</strong> you can get Color by HSV and HSL spaces. <a href=\"http://java.dzone.com/articles/new-color-chooser-jdk-7\" rel=\"nofollow\">http://java.dzone.com/articles/new-color-chooser-jdk-7</a></p>\n"},{"tags":[],"owner":{"account_id":937438,"reputation":8861,"user_id":966104,"accept_rate":70,"display_name":"Yona Appletree"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1637193718,"creation_date":1388428372,"answer_id":20845338,"question_id":2997656,"body_markdown":"Most of the given answers here seem to assume that HSL == HSB, which is false. The HSB colorspace is useful (and used) in many cases, but there is one notable exception: CSS. The non-RGB css color functions, hsl() and hsla() are HSL, not HSB. As such, it is very useful to be able to convert to and from HSL in java.\r\n\r\nThere is a good writeup about the problem here: http://tips4java.wordpress.com/2009/07/05/hsl-color/ TL;DR: the code is here: http://www.camick.com/java/source/HSLColor.java\r\n\r\nI have created a gist backup, should the blog ever go down: https://gist.github.com/Yona-Appletree/0c4b58763f070ae8cdff7db583c82563\r\n\r\nThe methods therein are pretty easy to extract if you don&#39;t want to use the whole class.\r\n\r\n**License**\r\n\r\nThe code appears to be in the public domain, as noted on the &quot;About&quot; page of the blog (https://tips4java.wordpress.com/about/):\r\n\r\n    We assume no responsibility for the code. You are free to use and/or modify and/or distribute any or all code posted on the Java Tips Weblog without restriction. A credit in the code comments would be nice, but not in any way mandatory.\r\n\r\n","title":"How can I use the HSL colorspace in Java?","body":"<p>Most of the given answers here seem to assume that HSL == HSB, which is false. The HSB colorspace is useful (and used) in many cases, but there is one notable exception: CSS. The non-RGB css color functions, hsl() and hsla() are HSL, not HSB. As such, it is very useful to be able to convert to and from HSL in java.</p>\n<p>There is a good writeup about the problem here: <a href=\"http://tips4java.wordpress.com/2009/07/05/hsl-color/\" rel=\"nofollow noreferrer\">http://tips4java.wordpress.com/2009/07/05/hsl-color/</a> TL;DR: the code is here: <a href=\"http://www.camick.com/java/source/HSLColor.java\" rel=\"nofollow noreferrer\">http://www.camick.com/java/source/HSLColor.java</a></p>\n<p>I have created a gist backup, should the blog ever go down: <a href=\"https://gist.github.com/Yona-Appletree/0c4b58763f070ae8cdff7db583c82563\" rel=\"nofollow noreferrer\">https://gist.github.com/Yona-Appletree/0c4b58763f070ae8cdff7db583c82563</a></p>\n<p>The methods therein are pretty easy to extract if you don't want to use the whole class.</p>\n<p><strong>License</strong></p>\n<p>The code appears to be in the public domain, as noted on the &quot;About&quot; page of the blog (<a href=\"https://tips4java.wordpress.com/about/\" rel=\"nofollow noreferrer\">https://tips4java.wordpress.com/about/</a>):</p>\n<pre><code>We assume no responsibility for the code. You are free to use and/or modify and/or distribute any or all code posted on the Java Tips Weblog without restriction. A credit in the code comments would be nice, but not in any way mandatory.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":245879,"reputation":5305,"user_id":519654,"accept_rate":36,"display_name":"xtempore"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1543272173,"creation_date":1448574954,"answer_id":33947547,"question_id":2997656,"body_markdown":"Here is a simple implementation that will return a Color based on hue, saturation, and lightness values from 0.0 to 1.0...\r\n\r\n    static public Color hslColor(float h, float s, float l) {\r\n        float q, p, r, g, b;\r\n    \r\n        if (s == 0) {\r\n            r = g = b = l; // achromatic\r\n        } else {\r\n            q = l &lt; 0.5 ? (l * (1 + s)) : (l + s - l * s);\r\n            p = 2 * l - q;\r\n            r = hue2rgb(p, q, h + 1.0f / 3);\r\n            g = hue2rgb(p, q, h);\r\n            b = hue2rgb(p, q, h - 1.0f / 3);\r\n        }\r\n        return new Color(Math.round(r * 255), Math.round(g * 255), Math.round(b * 255));\r\n    }\r\n\r\nEDIT by Yona-Appletree:\r\n\r\nI found what I think is the correct hue2rgb function and tested it as working:\r\n\r\n\tprivate static float hue2rgb(float p, float q, float h) {\r\n\t\tif (h &lt; 0) {\r\n\t\t\th += 1;\r\n\t\t}\r\n\r\n\t\tif (h &gt; 1) {\r\n\t\t\th -= 1;\r\n\t\t}\r\n\r\n\t\tif (6 * h &lt; 1) {\r\n\t\t\treturn p + ((q - p) * 6 * h);\r\n\t\t}\r\n\r\n\t\tif (2 * h &lt; 1) {\r\n\t\t\treturn q;\r\n\t\t}\r\n\r\n\t\tif (3 * h &lt; 2) {\r\n\t\t\treturn p + ((q - p) * 6 * ((2.0f / 3.0f) - h));\r\n\t\t}\r\n\r\n\t\treturn p;\r\n\t}","title":"How can I use the HSL colorspace in Java?","body":"<p>Here is a simple implementation that will return a Color based on hue, saturation, and lightness values from 0.0 to 1.0...</p>\n\n<pre><code>static public Color hslColor(float h, float s, float l) {\n    float q, p, r, g, b;\n\n    if (s == 0) {\n        r = g = b = l; // achromatic\n    } else {\n        q = l &lt; 0.5 ? (l * (1 + s)) : (l + s - l * s);\n        p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1.0f / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1.0f / 3);\n    }\n    return new Color(Math.round(r * 255), Math.round(g * 255), Math.round(b * 255));\n}\n</code></pre>\n\n<p>EDIT by Yona-Appletree:</p>\n\n<p>I found what I think is the correct hue2rgb function and tested it as working:</p>\n\n<pre><code>private static float hue2rgb(float p, float q, float h) {\n    if (h &lt; 0) {\n        h += 1;\n    }\n\n    if (h &gt; 1) {\n        h -= 1;\n    }\n\n    if (6 * h &lt; 1) {\n        return p + ((q - p) * 6 * h);\n    }\n\n    if (2 * h &lt; 1) {\n        return q;\n    }\n\n    if (3 * h &lt; 2) {\n        return p + ((q - p) * 6 * ((2.0f / 3.0f) - h));\n    }\n\n    return p;\n}\n</code></pre>\n"}],"owner":{"account_id":36018,"reputation":95910,"user_id":102441,"accept_rate":76,"display_name":"Eric"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28167,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":2997864,"answer_count":6,"score":22,"last_activity_date":1637193718,"creation_date":1276003447,"question_id":2997656,"body_markdown":"I&#39;ve had a look at the ColorSpace class, and found the constant `TYPE_HLS` (which _presumably_ is just HSL in a different order).\r\n\r\nCan I use this constant to create a `Color` from hue, saturation, and luminosity?\r\nIf not, are there any Java classes for this, or do I need to write my own?","title":"How can I use the HSL colorspace in Java?","body":"<p>I've had a look at the ColorSpace class, and found the constant <code>TYPE_HLS</code> (which <em>presumably</em> is just HSL in a different order).</p>\n\n<p>Can I use this constant to create a <code>Color</code> from hue, saturation, and luminosity?\nIf not, are there any Java classes for this, or do I need to write my own?</p>\n"},{"tags":["java","proxy","socks","java-http-client"],"answers":[{"tags":[],"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637192958,"creation_date":1637180522,"answer_id":70011047,"question_id":70011046,"body_markdown":"# Problem 1: JDK HttpClient doesn&#39;t support socks proxies #\r\nJDK HttpClient doesn&#39;t support socks proxies, only HTTP(S) proxies, even though types like `java.net.Proxy.Type.SOCKS` do exist. This problem isn&#39;t documented at all in the Java JDK, which causes Java to silently disregard the socks proxy when you try to use it, by using a non-proxy connection.\r\n\r\nThis problem is reported as a bug in 2018 to OpenJDK, but hasn&#39;t been fixed yet: https://bugs.openjdk.java.net/browse/JDK-8214516\r\nThe code that is responsible for this silent disregard is:\r\nhttps://github.com/openjdk/jdk/blob/29e552c03a2825f9526330072668a1d63ac68fd4/src/java.net.http/share/classes/jdk/internal/net/http/HttpRequestImpl.java#L299\r\n```\r\n    private static Proxy retrieveProxy(ProxySelector ps, URI uri) {\r\n        Proxy proxy = null;\r\n        List&lt;Proxy&gt; pl = ps.select(uri);\r\n        if (!pl.isEmpty()) {\r\n            Proxy p = pl.get(0);\r\n            if (p.type() == Proxy.Type.HTTP)\r\n                proxy = p;\r\n        }\r\n        return proxy;\r\n    }\r\n```\r\nSo if the ProxySelector provides a `Proxy` with type `Proxy.Type.SOCKS` as first proxy, then it is ignored, and `null` is returned, which causes HttpRequestImpl to not use a proxy at all.\r\n\r\n# Problem 2: Unclear API #\r\nEven if the missing JDK implementation problem would be solved, then there is also an API problem in unclarity:\r\n\r\nThe unclarity problem is caused by `java.net.ProxySelector.of(InetSocketAddress)`, which doesn&#39;t document what kind of proxy it creates. A proxy can either be a web (http) proxy or a socks proxy. The source code of `ProxySelector.of()` shows that it creates a private StaticProxySelector object, which creates a web proxy (`Proxy.Type.HTTP`) instead of a socks proxy (`Proxy.Type.SOCKS`).\r\n\r\nSo the solution (if the JDK internal code would be fixed) is to create your own ProxySelector. This is shown in the solution below.\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.*;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class ProxyApp {\r\n    public static void main(String[] args) throws Exception {\r\n        run2();\r\n    }\r\n\r\n    public static void run2() throws Exception {\r\n        ProxySelector proxySelector = new ProxySelector() {\r\n            private List&lt;Proxy&gt; proxies;\r\n\r\n            {\r\n                Proxy proxy = new Proxy(Proxy.Type.SOCKS, new InetSocketAddress(&quot;localhost&quot;, 8181));\r\n                proxies = Collections.singletonList(proxy);\r\n            }\r\n\r\n            @Override\r\n            public List&lt;Proxy&gt; select(URI uri) {\r\n                return proxies;\r\n            }\r\n\r\n            @Override\r\n            public void connectFailed(URI uri, SocketAddress sa, IOException ioe) {\r\n                throw new RuntimeException(ioe);\r\n            }\r\n        };\r\n\r\n        HttpClient client = HttpClient.newBuilder()\r\n                .version(HttpClient.Version.HTTP_1_1)\r\n                .proxy(proxySelector)\r\n                .build();\r\n\r\n        HttpRequest request = HttpRequest\r\n                .newBuilder(new URI(&quot;http://example.org/&quot;))\r\n                .build();\r\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\n        String verificationText = &quot;Example Domain&quot;;\r\n        // Should print &quot;true&quot; otherwise the request failed\r\n        System.out.println(response.body().contains(verificationText));\r\n    }\r\n}\r\n```","title":"How to use a socks proxy with Java JDK HttpClient","body":"<h1>Problem 1: JDK HttpClient doesn't support socks proxies</h1>\n<p>JDK HttpClient doesn't support socks proxies, only HTTP(S) proxies, even though types like <code>java.net.Proxy.Type.SOCKS</code> do exist. This problem isn't documented at all in the Java JDK, which causes Java to silently disregard the socks proxy when you try to use it, by using a non-proxy connection.</p>\n<p>This problem is reported as a bug in 2018 to OpenJDK, but hasn't been fixed yet: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8214516\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8214516</a>\nThe code that is responsible for this silent disregard is:\n<a href=\"https://github.com/openjdk/jdk/blob/29e552c03a2825f9526330072668a1d63ac68fd4/src/java.net.http/share/classes/jdk/internal/net/http/HttpRequestImpl.java#L299\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/29e552c03a2825f9526330072668a1d63ac68fd4/src/java.net.http/share/classes/jdk/internal/net/http/HttpRequestImpl.java#L299</a></p>\n<pre><code>    private static Proxy retrieveProxy(ProxySelector ps, URI uri) {\n        Proxy proxy = null;\n        List&lt;Proxy&gt; pl = ps.select(uri);\n        if (!pl.isEmpty()) {\n            Proxy p = pl.get(0);\n            if (p.type() == Proxy.Type.HTTP)\n                proxy = p;\n        }\n        return proxy;\n    }\n</code></pre>\n<p>So if the ProxySelector provides a <code>Proxy</code> with type <code>Proxy.Type.SOCKS</code> as first proxy, then it is ignored, and <code>null</code> is returned, which causes HttpRequestImpl to not use a proxy at all.</p>\n<h1>Problem 2: Unclear API</h1>\n<p>Even if the missing JDK implementation problem would be solved, then there is also an API problem in unclarity:</p>\n<p>The unclarity problem is caused by <code>java.net.ProxySelector.of(InetSocketAddress)</code>, which doesn't document what kind of proxy it creates. A proxy can either be a web (http) proxy or a socks proxy. The source code of <code>ProxySelector.of()</code> shows that it creates a private StaticProxySelector object, which creates a web proxy (<code>Proxy.Type.HTTP</code>) instead of a socks proxy (<code>Proxy.Type.SOCKS</code>).</p>\n<p>So the solution (if the JDK internal code would be fixed) is to create your own ProxySelector. This is shown in the solution below.</p>\n<pre><code>import java.io.IOException;\nimport java.net.*;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class ProxyApp {\n    public static void main(String[] args) throws Exception {\n        run2();\n    }\n\n    public static void run2() throws Exception {\n        ProxySelector proxySelector = new ProxySelector() {\n            private List&lt;Proxy&gt; proxies;\n\n            {\n                Proxy proxy = new Proxy(Proxy.Type.SOCKS, new InetSocketAddress(&quot;localhost&quot;, 8181));\n                proxies = Collections.singletonList(proxy);\n            }\n\n            @Override\n            public List&lt;Proxy&gt; select(URI uri) {\n                return proxies;\n            }\n\n            @Override\n            public void connectFailed(URI uri, SocketAddress sa, IOException ioe) {\n                throw new RuntimeException(ioe);\n            }\n        };\n\n        HttpClient client = HttpClient.newBuilder()\n                .version(HttpClient.Version.HTTP_1_1)\n                .proxy(proxySelector)\n                .build();\n\n        HttpRequest request = HttpRequest\n                .newBuilder(new URI(&quot;http://example.org/&quot;))\n                .build();\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n\n        String verificationText = &quot;Example Domain&quot;;\n        // Should print &quot;true&quot; otherwise the request failed\n        System.out.println(response.body().contains(verificationText));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1031543,"reputation":4922,"user_id":1039774,"accept_rate":25,"display_name":"Devabc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637192958,"creation_date":1637180522,"question_id":70011046,"body_markdown":"&gt; **_NOTE:_** This is not a duplicate of https://stackoverflow.com/questions/63716442/https-proxy-with-jdk11-client, which is about a HTTP proxy. My question is about a socks proxy, which requires a different solution. Neither is it a duplicate of https://stackoverflow.com/questions/43292049/how-can-i-use-httpclient-4-5-against-a-socks-proxy, which is about the Apache HttpClient instead of the JDK HttpClient.\r\n\r\nHow can I use a socks 5 proxy with `java.net.http.HttpClient`?\r\n\r\nI tried the code below, but it results in a following exception:\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: HTTP/1.1 header parser received no bytes\r\n\t    at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:586)\r\n\r\nCode:\r\n```\r\nimport java.io.IOException;\r\nimport java.net.*;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class ProxyApp {\r\n    public static void main(String[] args) throws Exception {\r\n        run1();\r\n    }\r\n\r\n    public static void run1() throws Exception {\r\n        HttpClient client = HttpClient.newBuilder()\r\n                .version(HttpClient.Version.HTTP_1_1)\r\n                .proxy(ProxySelector.of(new InetSocketAddress(&quot;localhost&quot;, 8181)))\r\n                .build();\r\n\r\n        HttpRequest request = HttpRequest\r\n                .newBuilder(new URI(&quot;http://example.org/&quot;))\r\n                .build();\r\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\n        String verificationText = &quot;Example Domain&quot;;\r\n        // Should print &quot;true&quot; otherwise the request failed\r\n        System.out.println(response.body().contains(verificationText));\r\n    }\r\n}\r\n```\r\n","title":"How to use a socks proxy with Java JDK HttpClient","body":"<blockquote>\n<p><strong><em>NOTE:</em></strong> This is not a duplicate of <a href=\"https://stackoverflow.com/questions/63716442/https-proxy-with-jdk11-client\">https proxy with JDK11 client</a>, which is about a HTTP proxy. My question is about a socks proxy, which requires a different solution. Neither is it a duplicate of <a href=\"https://stackoverflow.com/questions/43292049/how-can-i-use-httpclient-4-5-against-a-socks-proxy\">How can I use HttpClient-4.5 against a SOCKS proxy?</a>, which is about the Apache HttpClient instead of the JDK HttpClient.</p>\n</blockquote>\n<p>How can I use a socks 5 proxy with <code>java.net.http.HttpClient</code>?</p>\n<p>I tried the code below, but it results in a following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: HTTP/1.1 header parser received no bytes\n    at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:586)\n</code></pre>\n<p>Code:</p>\n<pre><code>import java.io.IOException;\nimport java.net.*;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class ProxyApp {\n    public static void main(String[] args) throws Exception {\n        run1();\n    }\n\n    public static void run1() throws Exception {\n        HttpClient client = HttpClient.newBuilder()\n                .version(HttpClient.Version.HTTP_1_1)\n                .proxy(ProxySelector.of(new InetSocketAddress(&quot;localhost&quot;, 8181)))\n                .build();\n\n        HttpRequest request = HttpRequest\n                .newBuilder(new URI(&quot;http://example.org/&quot;))\n                .build();\n        HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n\n        String verificationText = &quot;Example Domain&quot;;\n        // Should print &quot;true&quot; otherwise the request failed\n        System.out.println(response.body().contains(verificationText));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","modelmapper"],"comments":[{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1637157476,"post_id":70005424,"comment_id":123750402,"body_markdown":"Just create class/service which will convert your dto to entity or add a function inside entity which can create this entity based on DTO (maybe something like builder class or something)","body":"Just create class/service which will convert your dto to entity or add a function inside entity which can create this entity based on DTO (maybe something like builder class or something)"}],"answers":[{"tags":[],"owner":{"account_id":9978708,"reputation":267,"user_id":7382342,"display_name":"Hardik Uchdadiya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637157529,"creation_date":1637157529,"answer_id":70005742,"question_id":70005424,"body_markdown":"I am not sure whether you have already gone through MapStruct thing, but you can look at it here in detail.\r\n\r\nhttps://medium.com/uphill-engineering-design/deep-dive-into-mapstruct-spring-7ddd8dac3d6d","title":"Spring boot: Custom mapping between DTO and Entity using ModelMapper","body":"<p>I am not sure whether you have already gone through MapStruct thing, but you can look at it here in detail.</p>\n<p><a href=\"https://medium.com/uphill-engineering-design/deep-dive-into-mapstruct-spring-7ddd8dac3d6d\" rel=\"nofollow noreferrer\">https://medium.com/uphill-engineering-design/deep-dive-into-mapstruct-spring-7ddd8dac3d6d</a></p>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637192223,"creation_date":1637192223,"answer_id":70012871,"question_id":70005424,"body_markdown":"This is borderline opinion-based, but still here is my take on this:\r\n 1. I guess that your `PostService` is a Spring-managed Bean (possibly annotated with `@Service`), so I would say the mapping should be done there, using `TagService` to get the `Tag`s.\r\n 2. I am not a big fan of any mapper library, simply because once using Spring you have already enough magic going around in your code. Having said that, I much more prefer to be explicit and map the models on my own. You have full flexibility while doing so.\r\n 3. I would say that `TagDto` should be mapped by the `TagService`.","title":"Spring boot: Custom mapping between DTO and Entity using ModelMapper","body":"<p>This is borderline opinion-based, but still here is my take on this:</p>\n<ol>\n<li>I guess that your <code>PostService</code> is a Spring-managed Bean (possibly annotated with <code>@Service</code>), so I would say the mapping should be done there, using <code>TagService</code> to get the <code>Tag</code>s.</li>\n<li>I am not a big fan of any mapper library, simply because once using Spring you have already enough magic going around in your code. Having said that, I much more prefer to be explicit and map the models on my own. You have full flexibility while doing so.</li>\n<li>I would say that <code>TagDto</code> should be mapped by the <code>TagService</code>.</li>\n</ol>\n"}],"owner":{"account_id":6872186,"reputation":402,"user_id":5282089,"display_name":"Jedupont"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70005742,"answer_count":2,"score":0,"last_activity_date":1637192223,"creation_date":1637156390,"question_id":70005424,"body_markdown":"I would like to map my DTO (`CreateOrUpdatePostRequest`) to my entity `Post`.\r\n\r\nBut I&#39;m not sure how to go about it since my entity has relationships like this:\r\n\r\n    @Entity\r\n    @Table(name = &quot;POSTS&quot;)\r\n    @Data\r\n    public class Post {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;post_id&quot;)\r\n        private int id;\r\n\r\n        private String title;\r\n\r\n        private String description;\r\n\r\n        @Temporal(TemporalType.DATE)\r\n        @Column(name = &quot;expire_at&quot;)\r\n        private Calendar expireAt;\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;CATEGORY_ID&quot;)\r\n        private Category category;\r\n\r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        @JoinTable(name = &quot;TAG_POST&quot;, joinColumns = { \r\n                @JoinColumn(name = &quot;post_id&quot;, nullable = false, updatable = false) }, \r\n                inverseJoinColumns = { @JoinColumn(name = &quot;tag_id&quot;, \r\n                        nullable = false, updatable = false) })\r\n        private Set&lt;Tag&gt; tags = new HashSet&lt;Tag&gt;(0);\r\n    }\r\n\r\nA post can have one category and several tags.\r\n\r\nAnd here is my DTO :\r\n\r\n    @Data\r\n    public class CreateOrUpdatePostRequest {\r\n        @NotNull\r\n        @Size(min = 10, max = 30)\r\n        private Sting title;\r\n\r\n        @NotNull\r\n        @Size(min = 50, max = 600)\r\n        private String description\r\n\r\n        @NotNull\r\n        @ValidDateString\r\n        private String expireAt;\r\n\r\n        @NotNull\r\n        private Category category;\r\n\r\n        @NotNull\r\n        private List&lt;TagDTO&gt; tags;\r\n\r\n        public List&lt;Integer&gt; getTagIds() {\r\n            return this.getTags().stream().map(TagDTO::getId).collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\n**Problem:** My problem is that I have to apply a particular mapping logic for some properties to make sure that the tags are valid for example:\r\n\r\n    post.setTags(tagService.findAllByIds(request.getTagIds()));\r\n\r\n1. So I guess the mapping should be done in my `PostService` knowing that I have to access the `tagService`? What I mean is that I can&#39;t really create a `toEntity` method in my `CreateOrUpdateRequest`.\r\n\r\n2. Is there a way to leave the default ModelMapper behavior for all properties, but specify specific behavior using an external service for certain properties?\r\n\r\n3. How to proceed if for example my DTO has a DTO inside that needs the same behavior described above, for example in a `TagDTO`?","title":"Spring boot: Custom mapping between DTO and Entity using ModelMapper","body":"<p>I would like to map my DTO (<code>CreateOrUpdatePostRequest</code>) to my entity <code>Post</code>.</p>\n<p>But I'm not sure how to go about it since my entity has relationships like this:</p>\n<pre><code>@Entity\n@Table(name = &quot;POSTS&quot;)\n@Data\npublic class Post {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;post_id&quot;)\n    private int id;\n\n    private String title;\n\n    private String description;\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;expire_at&quot;)\n    private Calendar expireAt;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;CATEGORY_ID&quot;)\n    private Category category;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;TAG_POST&quot;, joinColumns = { \n            @JoinColumn(name = &quot;post_id&quot;, nullable = false, updatable = false) }, \n            inverseJoinColumns = { @JoinColumn(name = &quot;tag_id&quot;, \n                    nullable = false, updatable = false) })\n    private Set&lt;Tag&gt; tags = new HashSet&lt;Tag&gt;(0);\n}\n</code></pre>\n<p>A post can have one category and several tags.</p>\n<p>And here is my DTO :</p>\n<pre><code>@Data\npublic class CreateOrUpdatePostRequest {\n    @NotNull\n    @Size(min = 10, max = 30)\n    private Sting title;\n\n    @NotNull\n    @Size(min = 50, max = 600)\n    private String description\n\n    @NotNull\n    @ValidDateString\n    private String expireAt;\n\n    @NotNull\n    private Category category;\n\n    @NotNull\n    private List&lt;TagDTO&gt; tags;\n\n    public List&lt;Integer&gt; getTagIds() {\n        return this.getTags().stream().map(TagDTO::getId).collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p><strong>Problem:</strong> My problem is that I have to apply a particular mapping logic for some properties to make sure that the tags are valid for example:</p>\n<pre><code>post.setTags(tagService.findAllByIds(request.getTagIds()));\n</code></pre>\n<ol>\n<li><p>So I guess the mapping should be done in my <code>PostService</code> knowing that I have to access the <code>tagService</code>? What I mean is that I can't really create a <code>toEntity</code> method in my <code>CreateOrUpdateRequest</code>.</p>\n</li>\n<li><p>Is there a way to leave the default ModelMapper behavior for all properties, but specify specific behavior using an external service for certain properties?</p>\n</li>\n<li><p>How to proceed if for example my DTO has a DTO inside that needs the same behavior described above, for example in a <code>TagDTO</code>?</p>\n</li>\n</ol>\n"},{"tags":["java","quarkus","inject"],"comments":[{"owner":{"account_id":305143,"reputation":1151,"user_id":615104,"display_name":"Jan Martiška"},"score":0,"creation_date":1637218197,"post_id":70012712,"comment_id":123768367,"body_markdown":"Bad news. Quarkus does not support EJBs at all.  The `@Local` and `@Remote` annotations will be ignored.","body":"Bad news. Quarkus does not support EJBs at all.  The <code>@Local</code> and <code>@Remote</code> annotations will be ignored."},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1637224061,"post_id":70012712,"comment_id":123770134,"body_markdown":"Jan is correct in that Quarkus doesn&#39;t support EJBs. That said, the classes here are not EJBs (they are not `@Stateful` or `@Stateless` session beans, and they certainly are not MDBs or entity beans). The classes here are plain old CDI beans (with the useless `@Local` annotation on the interface that is ignored). The `IAdministracionPersonaLocal` interface _should_ be among the bean types of `AdministracionPersonaBean`, so this _should_ work. (Except Quarkus would warn that injecting to `private` fields is discouraged.) Could you provide a complete reproducer somewhere, e.g. on GitHub?","body":"Jan is correct in that Quarkus doesn&#39;t support EJBs. That said, the classes here are not EJBs (they are not <code>@Stateful</code> or <code>@Stateless</code> session beans, and they certainly are not MDBs or entity beans). The classes here are plain old CDI beans (with the useless <code>@Local</code> annotation on the interface that is ignored). The <code>IAdministracionPersonaLocal</code> interface <i>should</i> be among the bean types of <code>AdministracionPersonaBean</code>, so this <i>should</i> work. (Except Quarkus would warn that injecting to <code>private</code> fields is discouraged.) Could you provide a complete reproducer somewhere, e.g. on GitHub?"},{"owner":{"account_id":23371611,"reputation":24,"user_id":17442364,"display_name":"xricoxdrumsx"},"score":0,"creation_date":1637244472,"post_id":70012712,"comment_id":123778407,"body_markdown":"Thaks for the reply, I&#39;m sorry but I cannot show full code here, because it is compay private, but the error is there, on that tree elements, I gonna delete de unnecesary annotation and make de Inject public, if it works I will reply.","body":"Thaks for the reply, I&#39;m sorry but I cannot show full code here, because it is compay private, but the error is there, on that tree elements, I gonna delete de unnecesary annotation and make de Inject public, if it works I will reply."}],"owner":{"account_id":23371611,"reputation":24,"user_id":17442364,"display_name":"xricoxdrumsx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1091,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637190592,"creation_date":1637190592,"question_id":70012712,"body_markdown":"Hello I&#39;m trying to inject an interface implementation of an EJB but I&#39;m getting the error \r\n\r\n    Unsatisfied dependency for type personas.interfaces.IAdministracionPersonaLocal and qualifiers [@Default]\r\n            - java member: personas.ejb.GestionPersonasBean#administracionPersonaBean\r\n            - declared on CLASS bean [types=[personas.ejb.GestionPersonasBean, java.lang.Object], qualifiers=[@Default, @Any], target=personas.ejb.GestionPersonasBean]\r\n\r\nHere is the code...\r\n\r\n    @ApplicationScoped\r\n    public class GestionPersonasBean {\r\n\r\n    \t@Inject\r\n    \tprivate IAdministracionPersonaLocal administracionPersonaBean;\r\n    }\r\n\r\n\r\nMy interface\r\n\r\n    @Local\r\n    public interface IAdministracionPersonaLocal {\r\n    // Some stuff\r\n    }\r\n\r\nThe EJB I&#39;m trying to Inject\r\n\r\n    @ApplicationScoped\r\n    public class AdministracionPersonaBean implements IAdministracionPersonaLocal {\r\n    // Some Stuff\r\n    }\r\n\r\nI&#39;ve used in the interface the @Remote annotation instead of @Local but nothing, same error.","title":"Inject Interface implementation Quarkus","body":"<p>Hello I'm trying to inject an interface implementation of an EJB but I'm getting the error</p>\n<pre><code>Unsatisfied dependency for type personas.interfaces.IAdministracionPersonaLocal and qualifiers [@Default]\n        - java member: personas.ejb.GestionPersonasBean#administracionPersonaBean\n        - declared on CLASS bean [types=[personas.ejb.GestionPersonasBean, java.lang.Object], qualifiers=[@Default, @Any], target=personas.ejb.GestionPersonasBean]\n</code></pre>\n<p>Here is the code...</p>\n<pre><code>@ApplicationScoped\npublic class GestionPersonasBean {\n\n    @Inject\n    private IAdministracionPersonaLocal administracionPersonaBean;\n}\n</code></pre>\n<p>My interface</p>\n<pre><code>@Local\npublic interface IAdministracionPersonaLocal {\n// Some stuff\n}\n</code></pre>\n<p>The EJB I'm trying to Inject</p>\n<pre><code>@ApplicationScoped\npublic class AdministracionPersonaBean implements IAdministracionPersonaLocal {\n// Some Stuff\n}\n</code></pre>\n<p>I've used in the interface the @Remote annotation instead of @Local but nothing, same error.</p>\n"},{"tags":["java","spring","spring-boot","swagger"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637061158,"creation_date":1637061158,"answer_id":69988090,"question_id":69987908,"body_markdown":"You can do that using the following:\r\n```java\r\n@Bean\r\npublic OpenAPI openAPI() {\r\n    return new OpenAPI()\r\n            .components(new Components().addSecuritySchemes(&quot;jwtScheme&quot;,\r\n                new SecurityScheme().type(SecurityScheme.Type.APIKEY).in(SecurityScheme.In.HEADER).name(&quot;Authorization&quot;)));\r\n}\r\n```\r\n\r\nYou can get whatever environment variables you want to parameterize this configuration. You can read more about this at https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api#10-swagger-ui-with-an-oauth-secured-api.","title":"How to programatically ad securitySchema to swagger.yaml","body":"<p>You can do that using the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic OpenAPI openAPI() {\n    return new OpenAPI()\n            .components(new Components().addSecuritySchemes(&quot;jwtScheme&quot;,\n                new SecurityScheme().type(SecurityScheme.Type.APIKEY).in(SecurityScheme.In.HEADER).name(&quot;Authorization&quot;)));\n}\n</code></pre>\n<p>You can get whatever environment variables you want to parameterize this configuration. You can read more about this at <a href=\"https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api#10-swagger-ui-with-an-oauth-secured-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api#10-swagger-ui-with-an-oauth-secured-api</a>.</p>\n"}],"owner":{"account_id":19778121,"reputation":11,"user_id":14483659,"display_name":"karolb11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637190309,"creation_date":1637060316,"question_id":69987908,"body_markdown":"I have a swagger.yaml file containing definition of my API. I&#39;m using the following piece of code to add it as a swagger resource and display it in swagger-ui:\r\n```java\r\n@Primary\r\n@Bean\r\npublic SwaggerResourcesProvider swaggerResourcesProvider(InMemorySwaggerResourcesProvider defaultResourcesProvider) {\r\n    return () -&gt; {\r\n        SwaggerResource wsResource = new SwaggerResource();\r\n        wsResource.setName(&quot;Documentation&quot;);\r\n        wsResource.setSwaggerVersion(&quot;3.0&quot;);\r\n        wsResource.setLocation(&quot;/swagger.yaml&quot;);\r\n\r\n        List&lt;SwaggerResource&gt; resources = new ArrayList&lt;&gt;(defaultResourcesProvider.get());\r\n        resources.add(wsResource);\r\n        return resources;\r\n    };\r\n}\r\n```\r\n\r\nHowever, I need to have a different security schema authorization URL for each instance of my application (dev, test, prod). The question is how to achieve it? Is it possible to programmatically add the security schema, which will be parametrized based on f.e. env variables? ","title":"How to programatically ad securitySchema to swagger.yaml","body":"<p>I have a swagger.yaml file containing definition of my API. I'm using the following piece of code to add it as a swagger resource and display it in swagger-ui:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Primary\n@Bean\npublic SwaggerResourcesProvider swaggerResourcesProvider(InMemorySwaggerResourcesProvider defaultResourcesProvider) {\n    return () -&gt; {\n        SwaggerResource wsResource = new SwaggerResource();\n        wsResource.setName(&quot;Documentation&quot;);\n        wsResource.setSwaggerVersion(&quot;3.0&quot;);\n        wsResource.setLocation(&quot;/swagger.yaml&quot;);\n\n        List&lt;SwaggerResource&gt; resources = new ArrayList&lt;&gt;(defaultResourcesProvider.get());\n        resources.add(wsResource);\n        return resources;\n    };\n}\n</code></pre>\n<p>However, I need to have a different security schema authorization URL for each instance of my application (dev, test, prod). The question is how to achieve it? Is it possible to programmatically add the security schema, which will be parametrized based on f.e. env variables?</p>\n"},{"tags":["java","android","xml","themes"],"comments":[{"owner":{"account_id":6778270,"reputation":6791,"user_id":5288316,"accept_rate":79,"display_name":"Nicolas"},"score":0,"creation_date":1512079172,"post_id":47582976,"comment_id":82124197,"body_markdown":"You have to call `Activity.setTheme(int)` in the activity&#39;s `onCreate`, before `super.onCreate`. if I remember.","body":"You have to call <code>Activity.setTheme(int)</code> in the activity&#39;s <code>onCreate</code>, before <code>super.onCreate</code>. if I remember."},{"owner":{"account_id":7219830,"reputation":114,"user_id":5510826,"accept_rate":60,"display_name":"Shadow Suave"},"score":0,"creation_date":1512080361,"post_id":47582976,"comment_id":82124750,"body_markdown":"@NicolasMaltais I have it functioning to where it changes themes already, the problem I&#39;m having is its applying my toolbar styles to the MainActivity, I want it to be applied to the toolbar","body":"@NicolasMaltais I have it functioning to where it changes themes already, the problem I&#39;m having is its applying my toolbar styles to the MainActivity, I want it to be applied to the toolbar"}],"owner":{"account_id":7219830,"reputation":114,"user_id":5510826,"accept_rate":60,"display_name":"Shadow Suave"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637190280,"creation_date":1512077661,"question_id":47582976,"body_markdown":"I&#39;m trying to create themes for my app and I&#39;m running into some trouble. I have my styles in my values/styles.xml and I&#39;m trying to change programmatically on button click. the problem is that when I change the theme its applying my toolbar styles to the actual activity. I understand its probably because im changing my themes with `Activity.setTheme();`. I was wondering what I would use if I wanted to apply the `setTheme` to a toolbar.\r\n\r\nHere&#39;s my code:\r\n\r\nStyles.xml\r\n\r\n    &lt;resources&gt;\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@color/app_theme&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;!-- Customize your theme here. --&gt;\r\n    &lt;style name=&quot;CustomToolbarStyle&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:toolbarStyle&quot;&gt;@style/CustomToolbarStyleMusic&lt;/item&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/app_theme&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowActionModeOverlay&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:actionModeBackground&quot;&gt;@drawable/toolbar_music_theme&lt;/item&gt;\r\n        &lt;item name=&quot;android:actionModeCloseDrawable&quot;&gt;@drawable/simple_back_white&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:actionModeStyle&quot;&gt;@style/MyTheme&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;toolbar_music&quot;&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/app_theme&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_marginTop&quot;&gt;2dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_marginRight&quot;&gt;-90dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_marginEnd&quot;&gt;-80dp&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;toolbar_notes&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/app_theme&lt;/item&gt;\r\n        &lt;item name=&quot;android:layout_marginTop&quot;&gt;25dp&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;CustomToolbarStyleMusic&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@drawable/toolbar_music_theme&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowActionModeOverlay&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:actionModeBackground&quot;&gt;@drawable/toolbar_music_theme&lt;/item&gt;\r\n        &lt;item name=&quot;android:actionModeCloseDrawable&quot;&gt;@drawable/simple_back_white&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:actionModeStyle&quot;&gt;@style/MyTheme&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;!-- menu item theme --&gt;\r\n    &lt;style name=&quot;CustomPopUpStyle&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:gravity&quot;&gt;right&lt;/item&gt;\r\n        &lt;item name=&quot;overlapAnchor&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;android:dropDownVerticalOffset&quot;&gt;-4dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n        &lt;item name=&quot;android:itemBackground&quot;&gt;@drawable/simple_brown_tile&lt;/item&gt;\r\n        &lt;item name=&quot;android:dividerHeight&quot;&gt;1dp&lt;/item&gt;\r\n        &lt;item name=&quot;android:colorBackground&quot;&gt;@color/black&lt;/item&gt;\r\n\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;MyTheme&quot; parent=&quot;@android:style/Theme.Holo.Light&quot;&gt;\r\n        &lt;item name=&quot;android:actionBarStyle&quot;&gt;@style/MyTheme.ActionBarStyle&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;MyTheme.ActionBarStyle&quot; parent=&quot;@android:style/Widget.Holo.Light.ActionBar&quot;&gt;\r\n        &lt;item name=&quot;android:titleTextStyle&quot;&gt;@style/MyTheme.ActionBar.TitleTextStyle&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;MyTheme.ActionBar.TitleTextStyle&quot; parent=&quot;@android:style/TextAppearance.Holo.Widget.ActionBar.Title&quot;&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n&lt;/resources&gt;\r\n\r\n\r\nUtilities.java\r\n\r\n    private static int sTheme;\r\n    public final static int THEME_MAIN = 0;\r\n    public final static int THEME_NOTEBOOK = 1;\r\n\r\n    public static void changeToTheme(Activity activity, int theme) {\r\n        sTheme = theme;\r\n        activity.finish();\r\n        activity.startActivity(new Intent(activity, activity.getClass()));\r\n    }\r\n\r\n    public static void onActivityCreateSetTheme(Activity activity) {\r\n        switch (sTheme) {\r\n            default:\r\n            case THEME_MAIN:\r\n                activity.setTheme(R.style.CustomToolbarStyleMusic);\r\n                break;\r\n            case THEME_NOTEBOOK:\r\n                activity.setTheme(R.style.CustomToolbarStyle);\r\n                break;\r\n        }\r\n    }\r\n ","title":"Change app theme styles programmatically on button click","body":"<p>I'm trying to create themes for my app and I'm running into some trouble. I have my styles in my values/styles.xml and I'm trying to change programmatically on button click. the problem is that when I change the theme its applying my toolbar styles to the actual activity. I understand its probably because im changing my themes with <code>Activity.setTheme();</code>. I was wondering what I would use if I wanted to apply the <code>setTheme</code> to a toolbar.</p>\n<p>Here's my code:</p>\n<p>Styles.xml</p>\n<pre><code>&lt;resources&gt;\n\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@color/app_theme&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;!-- Customize your theme here. --&gt;\n&lt;style name=&quot;CustomToolbarStyle&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:toolbarStyle&quot;&gt;@style/CustomToolbarStyleMusic&lt;/item&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/app_theme&lt;/item&gt;\n    &lt;item name=&quot;android:windowActionModeOverlay&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:actionModeBackground&quot;&gt;@drawable/toolbar_music_theme&lt;/item&gt;\n    &lt;item name=&quot;android:actionModeCloseDrawable&quot;&gt;@drawable/simple_back_white&lt;/item&gt;\n    &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:actionModeStyle&quot;&gt;@style/MyTheme&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;toolbar_music&quot;&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/app_theme&lt;/item&gt;\n    &lt;item name=&quot;android:layout_marginTop&quot;&gt;2dp&lt;/item&gt;\n    &lt;item name=&quot;android:layout_marginRight&quot;&gt;-90dp&lt;/item&gt;\n    &lt;item name=&quot;android:layout_marginEnd&quot;&gt;-80dp&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;toolbar_notes&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/app_theme&lt;/item&gt;\n    &lt;item name=&quot;android:layout_marginTop&quot;&gt;25dp&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;CustomToolbarStyleMusic&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@drawable/toolbar_music_theme&lt;/item&gt;\n    &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:windowActionModeOverlay&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:actionModeBackground&quot;&gt;@drawable/toolbar_music_theme&lt;/item&gt;\n    &lt;item name=&quot;android:actionModeCloseDrawable&quot;&gt;@drawable/simple_back_white&lt;/item&gt;\n    &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:actionModeStyle&quot;&gt;@style/MyTheme&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;!-- menu item theme --&gt;\n&lt;style name=&quot;CustomPopUpStyle&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;android:gravity&quot;&gt;right&lt;/item&gt;\n    &lt;item name=&quot;overlapAnchor&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:dropDownVerticalOffset&quot;&gt;-4dp&lt;/item&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@android:color/transparent&lt;/item&gt;\n    &lt;item name=&quot;android:itemBackground&quot;&gt;@drawable/simple_brown_tile&lt;/item&gt;\n    &lt;item name=&quot;android:dividerHeight&quot;&gt;1dp&lt;/item&gt;\n    &lt;item name=&quot;android:colorBackground&quot;&gt;@color/black&lt;/item&gt;\n\n&lt;/style&gt;\n\n&lt;style name=&quot;MyTheme&quot; parent=&quot;@android:style/Theme.Holo.Light&quot;&gt;\n    &lt;item name=&quot;android:actionBarStyle&quot;&gt;@style/MyTheme.ActionBarStyle&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;MyTheme.ActionBarStyle&quot; parent=&quot;@android:style/Widget.Holo.Light.ActionBar&quot;&gt;\n    &lt;item name=&quot;android:titleTextStyle&quot;&gt;@style/MyTheme.ActionBar.TitleTextStyle&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;MyTheme.ActionBar.TitleTextStyle&quot; parent=&quot;@android:style/TextAppearance.Holo.Widget.ActionBar.Title&quot;&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Utilities.java</p>\n<pre><code>private static int sTheme;\npublic final static int THEME_MAIN = 0;\npublic final static int THEME_NOTEBOOK = 1;\n\npublic static void changeToTheme(Activity activity, int theme) {\n    sTheme = theme;\n    activity.finish();\n    activity.startActivity(new Intent(activity, activity.getClass()));\n}\n\npublic static void onActivityCreateSetTheme(Activity activity) {\n    switch (sTheme) {\n        default:\n        case THEME_MAIN:\n            activity.setTheme(R.style.CustomToolbarStyleMusic);\n            break;\n        case THEME_NOTEBOOK:\n            activity.setTheme(R.style.CustomToolbarStyle);\n            break;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate-envers"],"comments":[{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1608838073,"post_id":65442518,"comment_id":115699545,"body_markdown":"Put @Autowired on private AuditReader auditReader;","body":"Put @Autowired on private AuditReader auditReader;"},{"owner":{"account_id":19802637,"reputation":1,"user_id":14503270,"display_name":"kmplzz"},"score":0,"creation_date":1608839930,"post_id":65442518,"comment_id":115699933,"body_markdown":"You should create AuditReader bean manually. See example [here](https://stackoverflow.com/a/51858463/14503270)","body":"You should create AuditReader bean manually. See example <a href=\"https://stackoverflow.com/a/51858463/14503270\">here</a>"},{"owner":{"account_id":412458,"reputation":4567,"user_id":785535,"accept_rate":73,"display_name":"masiboo"},"score":0,"creation_date":1608899033,"post_id":65442518,"comment_id":115709062,"body_markdown":"@kmplzz thx for the suggestion. It fixed my problem.","body":"@kmplzz thx for the suggestion. It fixed my problem."}],"answers":[{"tags":[],"owner":{"account_id":412458,"reputation":4567,"user_id":785535,"accept_rate":73,"display_name":"masiboo"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1608899124,"creation_date":1608899124,"answer_id":65448044,"question_id":65442518,"body_markdown":"This fixed my issue. Hopefully, it will be helpful for others:-\r\n\r\n    @Configuration\r\n    public class RevisionConfiguration {\r\n\r\n    @Autowired\r\n    private AuditReader auditReader;\r\n\r\n    private final EntityManagerFactory entityManagerFactory;\r\n\r\n    public RevisionConfiguration(EntityManagerFactory entityManagerFactory) {\r\n        this.entityManagerFactory = entityManagerFactory;\r\n    }\r\n\r\n    @Bean\r\n    AuditReader auditReader() {\r\n        return AuditReaderFactory.get(entityManagerFactory.createEntityManager());\r\n      }\r\n    }\r\n\r\n ","title":"Why AuditReader can&#39;t be Autowired in the Repository","body":"<p>This fixed my issue. Hopefully, it will be helpful for others:-</p>\n<pre><code>@Configuration\npublic class RevisionConfiguration {\n\n@Autowired\nprivate AuditReader auditReader;\n\nprivate final EntityManagerFactory entityManagerFactory;\n\npublic RevisionConfiguration(EntityManagerFactory entityManagerFactory) {\n    this.entityManagerFactory = entityManagerFactory;\n}\n\n@Bean\nAuditReader auditReader() {\n    return AuditReaderFactory.get(entityManagerFactory.createEntityManager());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":266507,"reputation":344,"user_id":554117,"accept_rate":100,"display_name":"Giulio Pulina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637190247,"creation_date":1637186545,"answer_id":70012134,"question_id":65442518,"body_markdown":"Accepted answer didn&#39;t work for me because, after some time the application is running, it starts throwing java.net.SocketException due to connection closed.\r\n\r\nI solved the issue by:\r\n\r\n1) Wiring EntityManager using @PersistenceContext\r\n\r\n2) Getting a new instance of AuditReader each time\r\n\r\n    \r\n\r\n\r\n       public class AuditRepository {\r\n\r\n       @PersistenceContext\r\n       private EntityManager entityManager;\r\n\r\n       private AuditReader getAuditReader() {\r\n           return AuditReaderFactory.get(entityManager);\r\n       }\r\n\r\n       public Optional&lt;T&gt; getRevision() {\r\n           final AuditReader auditReader = getAuditReader();\r\n           ...\r\n       }\r\n     ","title":"Why AuditReader can&#39;t be Autowired in the Repository","body":"<p>Accepted answer didn't work for me because, after some time the application is running, it starts throwing java.net.SocketException due to connection closed.</p>\n<p>I solved the issue by:</p>\n<ol>\n<li><p>Wiring EntityManager using @PersistenceContext</p>\n</li>\n<li><p>Getting a new instance of AuditReader each time</p>\n<pre><code>public class AuditRepository {\n\n@PersistenceContext\nprivate EntityManager entityManager;\n\nprivate AuditReader getAuditReader() {\n    return AuditReaderFactory.get(entityManager);\n}\n\npublic Optional&lt;T&gt; getRevision() {\n    final AuditReader auditReader = getAuditReader();\n    ...\n}\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":412458,"reputation":4567,"user_id":785535,"accept_rate":73,"display_name":"masiboo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65448044,"answer_count":2,"score":1,"last_activity_date":1637190247,"creation_date":1608837806,"question_id":65442518,"body_markdown":"IN my springbootapp I have the following repository:-\r\n\r\n    @Repository\r\n    public class RevisionRepository {\r\n    \r\n    private AuditReader auditReader;\r\n    \r\n    public RevisionRepository(AuditReader auditReader) {\r\n        this.auditReader = auditReader;\r\n      }\r\n    }\r\n\r\nWhen I run this app. I got this error:-\r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2020-12-24 21:09:15 - \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.howtodoinjava.demo.repository.RevisionRepository required a bean of type &#39;org.hibernate.envers.AuditReader&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.hibernate.envers.AuditReader&#39; in your configuration.\r\n\r\nHow can I make this work?  ","title":"Why AuditReader can&#39;t be Autowired in the Repository","body":"<p>IN my springbootapp I have the following repository:-</p>\n<pre><code>@Repository\npublic class RevisionRepository {\n\nprivate AuditReader auditReader;\n\npublic RevisionRepository(AuditReader auditReader) {\n    this.auditReader = auditReader;\n  }\n}\n</code></pre>\n<p>When I run this app. I got this error:-</p>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2020-12-24 21:09:15 -</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Parameter 0 of constructor in com.howtodoinjava.demo.repository.RevisionRepository required a bean of type 'org.hibernate.envers.AuditReader' that could not be found.</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'org.hibernate.envers.AuditReader' in your configuration.</p>\n<p>How can I make this work?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","https"],"answers":[{"tags":[],"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637190113,"creation_date":1637159629,"answer_id":70006293,"question_id":69996909,"body_markdown":"AWS uses HTTPS by default for all communications, and gives you options (such as VPC endpoints) that prevent traffic from leaving the AWS VPC.\r\n\r\nUnfortunately, I couldn&#39;t find a reference in the Java SDK documentation that says it follows this practice. You _can_ find guarantees for individual services (for example, [S3](https://docs.aws.amazon.com/AmazonS3/latest/userguide/network-isolation.html)). And it&#39;s implied that the SDK uses TLS by the [page that describes how to enforce using TLS 1.2](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/security-java-tls.html).\r\n\r\nHowever, if you really want to be sure, you need to [enable logging at the wire level](https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/logging-slf4j.html#sdk-java-logging-verbose).\r\n\r\n----\r\n\r\n*Update in response to comment:*\r\n\r\nI ran the following program with debugging on:\r\n\r\n```\r\n    public static void main(String[] argv)\r\n    throws Exception\r\n    {\r\n        S3Client client = S3Client.builder().build();\r\n        \r\n        for (Bucket bucket : client.listBuckets().buckets())\r\n        {\r\n            System.out.println(bucket.name());\r\n        }\r\n    }\r\n```\r\n\r\nLooking at the logs, it&#39;s definitely making an HTTPS connection:\r\n\r\n```\r\n2021-11-17 17:51:24,802 [main] DEBUG request - Sending Request: DefaultSdkHttpFullRequest(httpMethod=GET, protocol=https, host=s3.amazonaws.com, port=443, encodedPath=/, headers=[amz-sdk-invocation-id, User-Agent], queryParameters=[])\r\n...\r\n2021-11-17 17:51:24,832 [main] DEBUG PoolingHttpClientConnectionManager - Connection request: [route: {s}-&gt;https://s3.amazonaws.com:443][total kept alive: 0; route allocated: 0 of 50; total allocated: 0 of 50]\r\n2021-11-17 17:51:24,839 [main] DEBUG PoolingHttpClientConnectionManager - Connection leased: [id: 0][route: {s}-&gt;https://s3.amazonaws.com:443][total kept alive: 0; route allocated: 1 of 50; total allocated: 1 of 50]\r\n2021-11-17 17:51:24,840 [main] DEBUG MainClientExec - Opening connection {s}-&gt;https://s3.amazonaws.com:443\r\n2021-11-17 17:51:24,871 [main] DEBUG DefaultHttpClientConnectionOperator - Connecting to s3.amazonaws.com/52.216.251.102:443\r\n2021-11-17 17:51:24,871 [main] DEBUG SdkTlsSocketFactory - Connecting socket to s3.amazonaws.com/52.216.251.102:443 with timeout 2000\r\n2021-11-17 17:51:24,902 [main] DEBUG SdkTlsSocketFactory - Enabled protocols: [TLSv1.2]\r\n```\r\n\r\nThat&#39;s followed by the TLS negotiation, and then the actual request. One thing that _may_ be confusing, if you&#39;re not familiar with the HTTP protocol, is this:\r\n\r\n```\r\n2021-11-17 17:51:25,022 [main] DEBUG MainClientExec - Executing request GET / HTTP/1.1\r\n```\r\n\r\nThat&#39;s the HTTP request line, and the &quot;HTTP/1.1&quot; indicates the protocol version. This information is sent over the secure connection.","title":"How to Log/ View AWS Java SDK HTTP(S) Requests","body":"<p>AWS uses HTTPS by default for all communications, and gives you options (such as VPC endpoints) that prevent traffic from leaving the AWS VPC.</p>\n<p>Unfortunately, I couldn't find a reference in the Java SDK documentation that says it follows this practice. You <em>can</em> find guarantees for individual services (for example, <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/network-isolation.html\" rel=\"nofollow noreferrer\">S3</a>). And it's implied that the SDK uses TLS by the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/security-java-tls.html\" rel=\"nofollow noreferrer\">page that describes how to enforce using TLS 1.2</a>.</p>\n<p>However, if you really want to be sure, you need to <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/logging-slf4j.html#sdk-java-logging-verbose\" rel=\"nofollow noreferrer\">enable logging at the wire level</a>.</p>\n<hr />\n<p><em>Update in response to comment:</em></p>\n<p>I ran the following program with debugging on:</p>\n<pre><code>    public static void main(String[] argv)\n    throws Exception\n    {\n        S3Client client = S3Client.builder().build();\n        \n        for (Bucket bucket : client.listBuckets().buckets())\n        {\n            System.out.println(bucket.name());\n        }\n    }\n</code></pre>\n<p>Looking at the logs, it's definitely making an HTTPS connection:</p>\n<pre><code>2021-11-17 17:51:24,802 [main] DEBUG request - Sending Request: DefaultSdkHttpFullRequest(httpMethod=GET, protocol=https, host=s3.amazonaws.com, port=443, encodedPath=/, headers=[amz-sdk-invocation-id, User-Agent], queryParameters=[])\n...\n2021-11-17 17:51:24,832 [main] DEBUG PoolingHttpClientConnectionManager - Connection request: [route: {s}-&gt;https://s3.amazonaws.com:443][total kept alive: 0; route allocated: 0 of 50; total allocated: 0 of 50]\n2021-11-17 17:51:24,839 [main] DEBUG PoolingHttpClientConnectionManager - Connection leased: [id: 0][route: {s}-&gt;https://s3.amazonaws.com:443][total kept alive: 0; route allocated: 1 of 50; total allocated: 1 of 50]\n2021-11-17 17:51:24,840 [main] DEBUG MainClientExec - Opening connection {s}-&gt;https://s3.amazonaws.com:443\n2021-11-17 17:51:24,871 [main] DEBUG DefaultHttpClientConnectionOperator - Connecting to s3.amazonaws.com/52.216.251.102:443\n2021-11-17 17:51:24,871 [main] DEBUG SdkTlsSocketFactory - Connecting socket to s3.amazonaws.com/52.216.251.102:443 with timeout 2000\n2021-11-17 17:51:24,902 [main] DEBUG SdkTlsSocketFactory - Enabled protocols: [TLSv1.2]\n</code></pre>\n<p>That's followed by the TLS negotiation, and then the actual request. One thing that <em>may</em> be confusing, if you're not familiar with the HTTP protocol, is this:</p>\n<pre><code>2021-11-17 17:51:25,022 [main] DEBUG MainClientExec - Executing request GET / HTTP/1.1\n</code></pre>\n<p>That's the HTTP request line, and the &quot;HTTP/1.1&quot; indicates the protocol version. This information is sent over the secure connection.</p>\n"}],"owner":{"account_id":8410954,"reputation":45,"user_id":6312896,"display_name":"Davis Ward"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1000,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70006293,"answer_count":1,"score":0,"last_activity_date":1637190113,"creation_date":1637102601,"question_id":69996909,"body_markdown":"I am developing a Spring Boot Application that uses HTTPS Only. I am using AWS services and the corresponding AWS Java SDK. How can I view the HTTP(S) request that the java sdk methods call on the backend of my application? I want to make sure when doing uploads to S3, etc, that everything is done over HTTPS only as the security of this application is important. A little confused on how to see when the backend of the application is interacting with the AWS services. Thanks in advance. ","title":"How to Log/ View AWS Java SDK HTTP(S) Requests","body":"<p>I am developing a Spring Boot Application that uses HTTPS Only. I am using AWS services and the corresponding AWS Java SDK. How can I view the HTTP(S) request that the java sdk methods call on the backend of my application? I want to make sure when doing uploads to S3, etc, that everything is done over HTTPS only as the security of this application is important. A little confused on how to see when the backend of the application is interacting with the AWS services. Thanks in advance.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3131299,"reputation":37922,"user_id":2649012,"accept_rate":100,"display_name":"Phant&#244;maxx"},"score":0,"creation_date":1512246211,"post_id":47611617,"comment_id":82182560,"body_markdown":"`android.content.ActivityNotFoundException: Unable to find explicit activity class {com.example.xxxx.safetyxxxxxxx/com.example.xxxx.safetyxxxxxxx.ProfileActivity}; have you declared this activity in your AndroidManifest.xml?`","body":"<code>android.content.ActivityNotFoundException: Unable to find explicit activity class {com.example.xxxx.safetyxxxxxxx&#47;com.example.xxxx.safetyxxxxx&zwnj;&#8203;xx.ProfileActivity}; have you declared this activity in your AndroidManifest.xml?</code>"},{"owner":{"account_id":1662904,"reputation":2862,"user_id":1530838,"accept_rate":46,"display_name":"Mahesh"},"score":0,"creation_date":1512626744,"post_id":47611617,"comment_id":82336369,"body_markdown":"Please research your problem before putting it here. lot of resources available to find solution of this question on stack overflow.","body":"Please research your problem before putting it here. lot of resources available to find solution of this question on stack overflow."}],"answers":[{"tags":[],"owner":{"account_id":9771626,"reputation":376,"user_id":7243301,"display_name":"Cadet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512244117,"creation_date":1512244117,"answer_id":47611870,"question_id":47611617,"body_markdown":"It is clearly said in the fatal message:                                                                               android.content.ActivityNotFoundException: Unable to find explicit activity class {com.example.xxxx.safetyxxxxxxx/com.example.xxxx.safetyxxxxxxx.ProfileActivity}; have you declared this activity in your AndroidManifest.xml?\r\n\r\nSo, you have mess in the manifest file: please try to remove package name from the definitions of activities:e.g stings like &quot;activity android:name=&quot;com.example.xxxx.safetyxxxxxxx.LoginPageActivity&quot; should be changed to &quot;activity android:name=&quot;.LoginPageActivity&quot;\r\n\r\nBest regards!","title":"Login Page will not open profile activity","body":"<p>It is clearly said in the fatal message:                                                                               android.content.ActivityNotFoundException: Unable to find explicit activity class {com.example.xxxx.safetyxxxxxxx/com.example.xxxx.safetyxxxxxxx.ProfileActivity}; have you declared this activity in your AndroidManifest.xml?</p>\n\n<p>So, you have mess in the manifest file: please try to remove package name from the definitions of activities:e.g stings like \"activity android:name=\"com.example.xxxx.safetyxxxxxxx.LoginPageActivity\" should be changed to \"activity android:name=\".LoginPageActivity\"</p>\n\n<p>Best regards!</p>\n"},{"tags":[],"owner":{"account_id":9315119,"reputation":380,"user_id":6915690,"accept_rate":50,"display_name":"Vahalaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512625320,"creation_date":1512464973,"answer_id":47649779,"question_id":47611617,"body_markdown":"You might give this a shot. \r\n\r\n   \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.xxxx.safetyxxxxxxx&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:name=&quot;.Database&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.LoginPageActivity&quot;\r\n                android:label=&quot;@string/app_name&quot;&gt;\r\n                &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.Main2Activity&quot;&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity\r\n                android:name=&quot;.SignUpActivity&quot;\r\n                android:label=&quot;@string/app_name&quot;&gt;\r\n        &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.ProfileActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;&gt;\r\n            &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nThis may not help but I would personally give it a shot myself. \r\n","title":"Login Page will not open profile activity","body":"<p>You might give this a shot. </p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.xxxx.safetyxxxxxxx\"&gt;\n\n    &lt;application\n        android:name=\".Database\"\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".LoginPageActivity\"\n            android:label=\"@string/app_name\"&gt;\n            &lt;/activity&gt;\n        &lt;activity android:name=\".Main2Activity\"&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=\".SignUpActivity\"\n            android:label=\"@string/app_name\"&gt;\n    &lt;/activity&gt;\n        &lt;activity android:name=\".ProfileActivity\"\n        android:label=\"@string/app_name\"&gt;\n        &lt;/activity&gt;\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>This may not help but I would personally give it a shot myself. </p>\n"},{"tags":[],"owner":{"account_id":12115138,"reputation":103,"user_id":8849848,"display_name":"wolfgang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1512620938,"creation_date":1512620938,"answer_id":47687599,"question_id":47611617,"body_markdown":"After many tries all I needed to do was press the rebuild project button.  It worked perfectly after that.\r\n\r\nThanks for all that tried to help.","title":"Login Page will not open profile activity","body":"<p>After many tries all I needed to do was press the rebuild project button.  It worked perfectly after that.</p>\n\n<p>Thanks for all that tried to help.</p>\n"}],"owner":{"account_id":12115138,"reputation":103,"user_id":8849848,"display_name":"wolfgang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":47687599,"answer_count":3,"score":0,"last_activity_date":1637189988,"creation_date":1512242514,"question_id":47611617,"body_markdown":"After a user registers in the signup activity page I want them to be able to press the login button in the login page and then for the app to go to a profile activity page.  However, the app crashes after typing in the username and password and pressing the login button in the login page. Here is the sets of codes and this first set is the Login Page code in &quot;LoginPageActivity.java&quot; activity.\r\n\r\n    package com.example.xxxx.safetyxxxxxxx;\r\n    \r\n    import android.content.Intent;\r\n    import android.support.annotation.NonNull;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.util.Patterns;\r\n    import android.view.View;\r\n    import android.widget.EditText;\r\n    import android.widget.ProgressBar;\r\n    import android.widget.Toast;\r\n    \r\n    \r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.auth.AuthResult;\r\n    import com.google.firebase.auth.FirebaseAuth;\r\n    \r\n    \r\n    \r\n    public class LoginPageActivity extends AppCompatActivity implements View.OnClickListener{\r\n    \r\n        FirebaseAuth mAuth;\r\n        EditText editTextEmail, editTextPassword;\r\n        ProgressBar progressBar;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_login_page);\r\n    \r\n            mAuth = FirebaseAuth.getInstance();\r\n    \r\n            editTextEmail = findViewById(R.id.editTextEmail);\r\n            editTextPassword= (EditText) findViewById(R.id.editTextPassword);\r\n            progressBar = (ProgressBar) findViewById(R.id.progressbar);\r\n    \r\n        findViewById(R.id.textViewSignUp).setOnClickListener(this);\r\n        findViewById(R.id.buttonLogin).setOnClickListener(this);\r\n    \r\n    }\r\n    \r\n    private void userLogin(){\r\n    \r\n        String email = editTextEmail.getText().toString().trim();\r\n        String password = editTextPassword.getText().toString().trim();\r\n    \r\n        if(email.isEmpty()){\r\n            editTextEmail.setError(&quot;Email is required&quot;);\r\n            editTextEmail.requestFocus();\r\n            return;\r\n        }\r\n    \r\n        if(!Patterns.EMAIL_ADDRESS.matcher(email).matches()){\r\n            editTextEmail.setError(&quot;Please enter a valid email&quot;);\r\n            editTextEmail.requestFocus();\r\n            return;\r\n        }\r\n    \r\n        if(password.isEmpty()){\r\n            editTextPassword.setError(&quot;Password is required&quot;);\r\n            editTextPassword.requestFocus();\r\n            return;\r\n        }\r\n    \r\n        if(password.length()&lt;6){\r\n            editTextPassword.setError(&quot;Minimum length of password should be 6&quot;);\r\n            editTextPassword.requestFocus();\r\n            return;\r\n        }\r\n    \r\n        progressBar.setVisibility(View.VISIBLE);\r\n            mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                    progressBar.setVisibility(View.GONE);\r\n                    if (task.isSuccessful()) {\r\n                        Intent intent = new Intent(LoginPageActivity.this, ProfileActivity.class);\r\n                        startActivity(intent);\r\n                        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                        finish();\r\n                    } else {\r\n                        Toast.makeText(getApplicationContext(), task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            });\r\n    \r\n    }\r\n    \r\n        @Override\r\n        public void onClick(View view) {\r\n                switch (view.getId()) {\r\n                    case R.id.textViewSignUp:\r\n    \r\n                        startActivity(new Intent(this, SignUpActivity.class));\r\n    \r\n                        break;\r\n    \r\n                    case R.id.buttonLogin:\r\n                        userLogin();\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\nHere is the profile activity called &quot;ProfileActivity.java&quot; \r\n\r\n    package com.example.xxxx.safetyxxxxxxx;\r\n    \r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    \r\n    public class ProfileActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_profile);\r\n        }\r\n    }\r\n\r\nHere is the android manifest code.  I have tried many different variations of declaring the ProfileActivity class in this manifest based on research and previous issues in the past with the same logcat error.  \r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.xxxx.safetyxxxxxxx&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:name=&quot;.Database&quot;\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.LoginPageActivity&quot;\r\n                android:label=&quot;@string/app_name&quot;/&gt;\r\n            &lt;activity android:name=&quot;.Main2Activity&quot; /&gt;\r\n            &lt;activity\r\n                android:name=&quot;.SignUpActivity&quot;\r\n                android:label=&quot;@string/app_name&quot;&gt;\r\n    \r\n        &lt;/activity&gt;\r\n            &lt;activity android:name=&quot;.ProfileActivity&quot;\r\n            android:label=&quot;@string/app_name&quot;/&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nHere is the logcat error\r\n\r\n```none\r\n12-02 12:04:56.008 2644-2644/com.example.xxxx.safetyxxxxxxx E/AndroidRuntime: FATAL EXCEPTION: main\r\nProcess: com.example.xxxx.safetyxxxxxxx, PID: 2644\r\nandroid.content.ActivityNotFoundException: Unable to find explicit activity class {com.example.xxxx.safetyxxxxxxx/com.example.xxxx.safetyxxxxxxx.ProfileActivity}; have you declared this activity in your AndroidManifest.xml?\r\n    at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1933)\r\n    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1616)\r\n    at android.app.Activity.startActivityForResult(Activity.java:4488)\r\n    at android.support.v4.app.BaseFragmentActivityApi16.startActivityForResult(BaseFragmentActivityApi16.java:54)\r\n    at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:67)\r\n    at android.app.Activity.startActivityForResult(Activity.java:4446)\r\n    at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:720)\r\n    at android.app.Activity.startActivity(Activity.java:4807)\r\n    at android.app.Activity.startActivity(Activity.java:4775)\r\n    at com.example.xxxx.safetyxxxxxxx.LoginPageActivity$1.onComplete(LoginPageActivity.java:79)\r\n    at com.google.android.gms.tasks.zzf.run(Unknown Source:23)\r\n    at android.os.Handler.handleCallback(Handler.java:790)\r\n    at android.os.Handler.dispatchMessage(Handler.java:99)\r\n    at android.os.Looper.loop(Looper.java:164)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n```\r\n\r\nFinally in case it is needed here is the loginpage layout code called &quot;activity_login_page.xml&quot;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.LoginPageActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textView2&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;53dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:text=&quot;Hi, Welcome to Safety xxxxxxx Please Login or Signup&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textColor=&quot;@android:color/holo_green_dark&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/buttonLogin&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.66&quot;&gt;&lt;/TextView&gt;\r\n    \r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonLogin&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:text=&quot;Login&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.87&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextEmail&quot;\r\n            android:layout_width=&quot;346dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:hint=&quot;email&quot;\r\n            android:inputType=&quot;textEmailAddress&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/editTextPassword&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/textView2&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.95&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/editTextPassword&quot;\r\n            android:layout_width=&quot;346dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:ems=&quot;10&quot;\r\n            android:inputType=&quot;textPassword&quot;\r\n            android:hint=&quot; Password&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/buttonLogin&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.87&quot; /&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView2&quot;\r\n            android:layout_width=&quot;219dp&quot;\r\n            android:layout_height=&quot;229dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/editTextEmail&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.503&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.233&quot;\r\n            app:srcCompat=&quot;@drawable/safetyxxx&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/textViewSignUp&quot;\r\n            android:layout_width=&quot;345dp&quot;\r\n            android:layout_height=&quot;35dp&quot;\r\n            android:layout_marginBottom=&quot;8dp&quot;\r\n            android:layout_marginEnd=&quot;8dp&quot;\r\n            android:layout_marginStart=&quot;8dp&quot;\r\n            android:layout_marginTop=&quot;8dp&quot;\r\n            android:text=&quot;Do Not Have An Account?  Click Here&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:textColor=&quot;@android:color/holo_green_dark&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/buttonLogin&quot; /&gt;\r\n    \r\n        &lt;android.support.v4.widget.ContentLoadingProgressBar\r\n            android:id=&quot;@+id/progressbar&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            android:visibility=&quot;gone&quot;/&gt;\r\n    \r\n    \r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n","title":"Login Page will not open profile activity","body":"<p>After a user registers in the signup activity page I want them to be able to press the login button in the login page and then for the app to go to a profile activity page.  However, the app crashes after typing in the username and password and pressing the login button in the login page. Here is the sets of codes and this first set is the Login Page code in &quot;LoginPageActivity.java&quot; activity.</p>\n<pre><code>package com.example.xxxx.safetyxxxxxxx;\n\nimport android.content.Intent;\nimport android.support.annotation.NonNull;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Patterns;\nimport android.view.View;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.Toast;\n\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\n\n\n\npublic class LoginPageActivity extends AppCompatActivity implements View.OnClickListener{\n\n    FirebaseAuth mAuth;\n    EditText editTextEmail, editTextPassword;\n    ProgressBar progressBar;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login_page);\n\n        mAuth = FirebaseAuth.getInstance();\n\n        editTextEmail = findViewById(R.id.editTextEmail);\n        editTextPassword= (EditText) findViewById(R.id.editTextPassword);\n        progressBar = (ProgressBar) findViewById(R.id.progressbar);\n\n    findViewById(R.id.textViewSignUp).setOnClickListener(this);\n    findViewById(R.id.buttonLogin).setOnClickListener(this);\n\n}\n\nprivate void userLogin(){\n\n    String email = editTextEmail.getText().toString().trim();\n    String password = editTextPassword.getText().toString().trim();\n\n    if(email.isEmpty()){\n        editTextEmail.setError(&quot;Email is required&quot;);\n        editTextEmail.requestFocus();\n        return;\n    }\n\n    if(!Patterns.EMAIL_ADDRESS.matcher(email).matches()){\n        editTextEmail.setError(&quot;Please enter a valid email&quot;);\n        editTextEmail.requestFocus();\n        return;\n    }\n\n    if(password.isEmpty()){\n        editTextPassword.setError(&quot;Password is required&quot;);\n        editTextPassword.requestFocus();\n        return;\n    }\n\n    if(password.length()&lt;6){\n        editTextPassword.setError(&quot;Minimum length of password should be 6&quot;);\n        editTextPassword.requestFocus();\n        return;\n    }\n\n    progressBar.setVisibility(View.VISIBLE);\n        mAuth.signInWithEmailAndPassword(email, password).addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                progressBar.setVisibility(View.GONE);\n                if (task.isSuccessful()) {\n                    Intent intent = new Intent(LoginPageActivity.this, ProfileActivity.class);\n                    startActivity(intent);\n                    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                    finish();\n                } else {\n                    Toast.makeText(getApplicationContext(), task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n}\n\n    @Override\n    public void onClick(View view) {\n            switch (view.getId()) {\n                case R.id.textViewSignUp:\n\n                    startActivity(new Intent(this, SignUpActivity.class));\n\n                    break;\n\n                case R.id.buttonLogin:\n                    userLogin();\n                    break;\n            }\n        }\n    }\n</code></pre>\n<p>Here is the profile activity called &quot;ProfileActivity.java&quot;</p>\n<pre><code>package com.example.xxxx.safetyxxxxxxx;\n\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\n\npublic class ProfileActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_profile);\n    }\n}\n</code></pre>\n<p>Here is the android manifest code.  I have tried many different variations of declaring the ProfileActivity class in this manifest based on research and previous issues in the past with the same logcat error.</p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.xxxx.safetyxxxxxxx&quot;&gt;\n\n    &lt;application\n        android:name=&quot;.Database&quot;\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.LoginPageActivity&quot;\n            android:label=&quot;@string/app_name&quot;/&gt;\n        &lt;activity android:name=&quot;.Main2Activity&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.SignUpActivity&quot;\n            android:label=&quot;@string/app_name&quot;&gt;\n\n    &lt;/activity&gt;\n        &lt;activity android:name=&quot;.ProfileActivity&quot;\n        android:label=&quot;@string/app_name&quot;/&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Here is the logcat error</p>\n<pre class=\"lang-none prettyprint-override\"><code>12-02 12:04:56.008 2644-2644/com.example.xxxx.safetyxxxxxxx E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.xxxx.safetyxxxxxxx, PID: 2644\nandroid.content.ActivityNotFoundException: Unable to find explicit activity class {com.example.xxxx.safetyxxxxxxx/com.example.xxxx.safetyxxxxxxx.ProfileActivity}; have you declared this activity in your AndroidManifest.xml?\n    at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:1933)\n    at android.app.Instrumentation.execStartActivity(Instrumentation.java:1616)\n    at android.app.Activity.startActivityForResult(Activity.java:4488)\n    at android.support.v4.app.BaseFragmentActivityApi16.startActivityForResult(BaseFragmentActivityApi16.java:54)\n    at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:67)\n    at android.app.Activity.startActivityForResult(Activity.java:4446)\n    at android.support.v4.app.FragmentActivity.startActivityForResult(FragmentActivity.java:720)\n    at android.app.Activity.startActivity(Activity.java:4807)\n    at android.app.Activity.startActivity(Activity.java:4775)\n    at com.example.xxxx.safetyxxxxxxx.LoginPageActivity$1.onComplete(LoginPageActivity.java:79)\n    at com.google.android.gms.tasks.zzf.run(Unknown Source:23)\n    at android.os.Handler.handleCallback(Handler.java:790)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n<p>Finally in case it is needed here is the loginpage layout code called &quot;activity_login_page.xml&quot;</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.LoginPageActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;53dp&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:text=&quot;Hi, Welcome to Safety xxxxxxx Please Login or Signup&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@android:color/holo_green_dark&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/buttonLogin&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.66&quot;&gt;&lt;/TextView&gt;\n\n\n    &lt;Button\n        android:id=&quot;@+id/buttonLogin&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:text=&quot;Login&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.87&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextEmail&quot;\n        android:layout_width=&quot;346dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:hint=&quot;email&quot;\n        android:inputType=&quot;textEmailAddress&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/editTextPassword&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/textView2&quot;\n        app:layout_constraintVertical_bias=&quot;0.95&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/editTextPassword&quot;\n        android:layout_width=&quot;346dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:inputType=&quot;textPassword&quot;\n        android:hint=&quot; Password&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/buttonLogin&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView2&quot;\n        app:layout_constraintVertical_bias=&quot;0.87&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView2&quot;\n        android:layout_width=&quot;219dp&quot;\n        android:layout_height=&quot;229dp&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/editTextEmail&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.503&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.233&quot;\n        app:srcCompat=&quot;@drawable/safetyxxx&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textViewSignUp&quot;\n        android:layout_width=&quot;345dp&quot;\n        android:layout_height=&quot;35dp&quot;\n        android:layout_marginBottom=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:text=&quot;Do Not Have An Account?  Click Here&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textColor=&quot;@android:color/holo_green_dark&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/buttonLogin&quot; /&gt;\n\n    &lt;android.support.v4.widget.ContentLoadingProgressBar\n        android:id=&quot;@+id/progressbar&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        android:visibility=&quot;gone&quot;/&gt;\n\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637189982,"creation_date":1637189982,"answer_id":70012635,"question_id":70009165,"body_markdown":"You can do something as follows:\r\n```java\r\n@Service\r\npublic class JsonStringToObjectConverter {\r\n\r\n    public IncidentModel convertToObject(String json) throws JsonMappingException, JsonProcessingException {\r\n        IncidentModel incidentModel = new ObjectMapper().readValue(json, IncidentModel.class);\r\n        \r\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        Validator validator = factory.getValidator();\r\n        Set&lt;ConstraintViolation&lt;IncidentModel&gt;&gt; errors = validator.validate(incidentModel);\r\n        \r\n        return incidentModel;\r\n    }\r\n}\r\n```\r\n\r\nYou could then optimize this and make `ValidatorFactory factory` and `Validator validator` instance variables of `JsonStringToObjectConverter` so that you don&#39;t recreate them every time you call `convertToObject` method.","title":"javax&#39;s @Valid annotation usage scenario","body":"<p>You can do something as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class JsonStringToObjectConverter {\n\n    public IncidentModel convertToObject(String json) throws JsonMappingException, JsonProcessingException {\n        IncidentModel incidentModel = new ObjectMapper().readValue(json, IncidentModel.class);\n        \n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n        Validator validator = factory.getValidator();\n        Set&lt;ConstraintViolation&lt;IncidentModel&gt;&gt; errors = validator.validate(incidentModel);\n        \n        return incidentModel;\n    }\n}\n</code></pre>\n<p>You could then optimize this and make <code>ValidatorFactory factory</code> and <code>Validator validator</code> instance variables of <code>JsonStringToObjectConverter</code> so that you don't recreate them every time you call <code>convertToObject</code> method.</p>\n"}],"owner":{"account_id":21872404,"reputation":49,"user_id":16161750,"display_name":"sumit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70012635,"answer_count":1,"score":1,"last_activity_date":1637189982,"creation_date":1637171008,"question_id":70009165,"body_markdown":"Is it possible to use `@Valid (javax.validation.Valid)` in below scenario?\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import javax.validation.Valid;\r\n    import com.incident.tool.model.IncidentModel;\r\n\r\n    @Service\r\n    public class JsonStringToObjectConverter {\r\n    \r\n    \tpublic IncidentModel convertToObject(String json) throws JsonMappingException, JsonProcessingException {\r\n    \t\t@Valid\r\n    \t\tIncidentModel incidentModel = new ObjectMapper().readValue(json, IncidentModel.class);\r\n    \t\treturn incidentModel ;\r\n    \t}\r\n    }\r\n\r\nHere `JsonStringToObjectConvertor` is taking in JSON in form of String and mapping it to `IncidentModel` class. I have defined few validations in `IncidentModel` in below manner and I want to validate the fields mapped by `ObjectMapper` in `IncidentModel` before proceeding further:\r\n\r\n    @Component\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class IncidentModel extends IncidentInfo {\r\n    \t@NotEmpty\r\n    \tprivate String empId;\r\n    \r\n    \t@NotEmpty\r\n    \t@Size(min = 2, max = 30)\r\n    \tprivate String empName;\r\n    \r\n    \t@NotEmpty\r\n    \tprivate String title;\r\n    \tprivate String description;\r\n    \tprivate String assignedTo;\r\n    \tprivate String severity;\r\n    \tprivate String incidentNumber;\r\n    \tprivate String dateCreated;\r\n    \tprivate String dateClosed;\r\n    \tprivate String closingNotes;\r\n    }\r\n\r\nIt does not seem to work in the above format, is there any alternative to use the `@Valid` in the `convertToObject` method?\r\n\r\nThanks for your help.","title":"javax&#39;s @Valid annotation usage scenario","body":"<p>Is it possible to use <code>@Valid (javax.validation.Valid)</code> in below scenario?</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport javax.validation.Valid;\nimport com.incident.tool.model.IncidentModel;\n\n@Service\npublic class JsonStringToObjectConverter {\n\n    public IncidentModel convertToObject(String json) throws JsonMappingException, JsonProcessingException {\n        @Valid\n        IncidentModel incidentModel = new ObjectMapper().readValue(json, IncidentModel.class);\n        return incidentModel ;\n    }\n}\n</code></pre>\n<p>Here <code>JsonStringToObjectConvertor</code> is taking in JSON in form of String and mapping it to <code>IncidentModel</code> class. I have defined few validations in <code>IncidentModel</code> in below manner and I want to validate the fields mapped by <code>ObjectMapper</code> in <code>IncidentModel</code> before proceeding further:</p>\n<pre><code>@Component\n@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\npublic class IncidentModel extends IncidentInfo {\n    @NotEmpty\n    private String empId;\n\n    @NotEmpty\n    @Size(min = 2, max = 30)\n    private String empName;\n\n    @NotEmpty\n    private String title;\n    private String description;\n    private String assignedTo;\n    private String severity;\n    private String incidentNumber;\n    private String dateCreated;\n    private String dateClosed;\n    private String closingNotes;\n}\n</code></pre>\n<p>It does not seem to work in the above format, is there any alternative to use the <code>@Valid</code> in the <code>convertToObject</code> method?</p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","pdf","itext","pdfstamper"],"comments":[{"owner":{"account_id":20902743,"reputation":87,"user_id":15355482,"display_name":"Pedro Carvalho"},"score":0,"creation_date":1637191113,"post_id":70012544,"comment_id":123763565,"body_markdown":"Maybe i didn&#39;t explain myself too well, also because i&#39;m new to pdf manipulation but i don&#39;t want the string Data to be visible on the pdf per say but i want to attach it to pdf and i guess the easiest way to do so is by using a textfile. I will check the link you sent, thanks in advance!","body":"Maybe i didn&#39;t explain myself too well, also because i&#39;m new to pdf manipulation but i don&#39;t want the string Data to be visible on the pdf per say but i want to attach it to pdf and i guess the easiest way to do so is by using a textfile. I will check the link you sent, thanks in advance!"},{"owner":{"account_id":20902743,"reputation":87,"user_id":15355482,"display_name":"Pedro Carvalho"},"score":0,"creation_date":1637191540,"post_id":70012544,"comment_id":123763647,"body_markdown":"Exactly. I couldn&#39;t find much about it online, but i was trying to use this but just adding one text file https://stackoverflow.com/questions/27823189/add-multiple-attachments-in-a-pdf-using-itext-pdf-stamper (Bruno Lowagie&#39;s answer).","body":"Exactly. I couldn&#39;t find much about it online, but i was trying to use this but just adding one text file <a href=\"https://stackoverflow.com/questions/27823189/add-multiple-attachments-in-a-pdf-using-itext-pdf-stamper\" title=\"add multiple attachments in a pdf using itext pdf stamper\">stackoverflow.com/questions/27823189/&hellip;</a> (Bruno Lowagie&#39;s answer)."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1637487383,"post_id":70012544,"comment_id":123834767,"body_markdown":"You are aware that by calling `new FileOutputStream(directoryPath+&quot;/Aa.pdf&quot;)` you truncate the existing file at its start? Thus, the following `new PdfReader(directoryPath+&quot;/Aa.pdf&quot;)` won&#39;t find a PDF there at all... or do you by *&quot;but i use it elsewhere&quot;* mean that before constructing the reader you fill and close `document`? Probably you should explain what you mean by *&quot;it does not work&quot;*.","body":"You are aware that by calling <code>new FileOutputStream(directoryPath+&quot;&#47;Aa.pdf&quot;)</code> you truncate the existing file at its start? Thus, the following <code>new PdfReader(directoryPath+&quot;&#47;Aa.pdf&quot;)</code> won&#39;t find a PDF there at all... or do you by <i>&quot;but i use it elsewhere&quot;</i> mean that before constructing the reader you fill and close <code>document</code>? Probably you should explain what you mean by <i>&quot;it does not work&quot;</i>."}],"owner":{"account_id":20902743,"reputation":87,"user_id":15355482,"display_name":"Pedro Carvalho"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637189265,"creation_date":1637189265,"question_id":70012544,"body_markdown":"I have a String that i want to attach either to the pdf raw code somehow or, what i&#39;m trying here is adding the string as a text file to the pdf, this is what i&#39;ve come up with but it does not work.\r\n\r\n\r\n    Document document = new Document();\r\n\r\n    String directoryPath = &quot;/storage/emulated/0/Download&quot;;\r\n\r\n    PdfWriter.getInstance(document, new FileOutputStream(directoryPath+&quot;/Aa.pdf&quot;));\r\n    String data = PaintView.full_string_return();\r\n    System.out.println(data);\r\n    PdfReader reader = new PdfReader(directoryPath+&quot;/Aa.pdf&quot;);\r\n    PdfStamper stamper = new PdfStamper(reader,new FileOutputStream(directoryPath+&quot;/Aa.pdf&quot;) );\r\n    PdfFileSpecification fs = PdfFileSpecification.fileEmbedded(stamper.getWriter(), null, String.format(&quot;data.txt&quot;,data),String.format(&quot;data&quot;,data).getBytes(StandardCharsets.UTF_8));\r\n    stamper.addFileAttachment(String.format(&quot;data&quot;,data),fs);\r\n    stamper.close();\r\n\r\nI know i&#39;m not using the pdfWriter here but i use it elsewhere, just added it in case it is messing up something.","title":"Trying to attach a file to a pdf using PdfStamper","body":"<p>I have a String that i want to attach either to the pdf raw code somehow or, what i'm trying here is adding the string as a text file to the pdf, this is what i've come up with but it does not work.</p>\n<pre><code>Document document = new Document();\n\nString directoryPath = &quot;/storage/emulated/0/Download&quot;;\n\nPdfWriter.getInstance(document, new FileOutputStream(directoryPath+&quot;/Aa.pdf&quot;));\nString data = PaintView.full_string_return();\nSystem.out.println(data);\nPdfReader reader = new PdfReader(directoryPath+&quot;/Aa.pdf&quot;);\nPdfStamper stamper = new PdfStamper(reader,new FileOutputStream(directoryPath+&quot;/Aa.pdf&quot;) );\nPdfFileSpecification fs = PdfFileSpecification.fileEmbedded(stamper.getWriter(), null, String.format(&quot;data.txt&quot;,data),String.format(&quot;data&quot;,data).getBytes(StandardCharsets.UTF_8));\nstamper.addFileAttachment(String.format(&quot;data&quot;,data),fs);\nstamper.close();\n</code></pre>\n<p>I know i'm not using the pdfWriter here but i use it elsewhere, just added it in case it is messing up something.</p>\n"},{"tags":["java","parsing","url","uri"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1637177579,"post_id":70010414,"comment_id":123759279,"body_markdown":"You can use Path.of(urlstring).getFileName();","body":"You can use Path.of(urlstring).getFileName();"},{"owner":{"account_id":16842369,"reputation":635,"user_id":12177456,"display_name":"rmf"},"score":0,"creation_date":1637177710,"post_id":70010414,"comment_id":123759312,"body_markdown":"@MirekPluta Thanks, but that doesn&#39;t work for example b","body":"@MirekPluta Thanks, but that doesn&#39;t work for example b"},{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1637178318,"post_id":70010414,"comment_id":123759500,"body_markdown":"Even URI class fails to parse it. It cannot be proper URI, otherwise you found bug in JDK","body":"Even URI class fails to parse it. It cannot be proper URI, otherwise you found bug in JDK"},{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":1,"creation_date":1637183641,"post_id":70010414,"comment_id":123761373,"body_markdown":"Wouldn&#39;t example b represent a hidden file in the current directory? ie `./.file.txt`   I wouldn&#39;t expect the file name to be `file.txt`","body":"Wouldn&#39;t example b represent a hidden file in the current directory? ie <code>.&#47;.file.txt</code>   I wouldn&#39;t expect the file name to be <code>file.txt</code>"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637189110,"creation_date":1637189110,"answer_id":70012523,"question_id":70010414,"body_markdown":"The [URI](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URI.html) class properly parses the parts of a URI.  For most URLs, you want the [path](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URI.html#getPath()) of the URI.  In the case of a URI with no slashes, there won’t be any parsing of the parts, so you’ll have to rely on the entire [scheme-specific part](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URI.html#getSchemeSpecificPart()):\r\n\r\n    URI uri = new URI(b);\r\n    String path = uri.getPath();\r\n    if (path == null) {\r\n        path = uri.getSchemeSpecificPart();\r\n    }\r\n    String filename = path.substring(path.lastIndexOf(&#39;/&#39;) + 1);\r\n\r\nThe above should work for all of your URLs.\r\n","title":"Extract file name from Java URL (file: and http/https protocol)?","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URI.html\" rel=\"nofollow noreferrer\">URI</a> class properly parses the parts of a URI.  For most URLs, you want the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URI.html#getPath()\" rel=\"nofollow noreferrer\">path</a> of the URI.  In the case of a URI with no slashes, there won’t be any parsing of the parts, so you’ll have to rely on the entire <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URI.html#getSchemeSpecificPart()\" rel=\"nofollow noreferrer\">scheme-specific part</a>:</p>\n<pre><code>URI uri = new URI(b);\nString path = uri.getPath();\nif (path == null) {\n    path = uri.getSchemeSpecificPart();\n}\nString filename = path.substring(path.lastIndexOf('/') + 1);\n</code></pre>\n<p>The above should work for all of your URLs.</p>\n"}],"owner":{"account_id":16842369,"reputation":635,"user_id":12177456,"display_name":"rmf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":764,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70012523,"answer_count":1,"score":2,"last_activity_date":1637189110,"creation_date":1637177234,"question_id":70010414,"body_markdown":"I have various urls like this:\r\n\r\n```\r\nString a = &quot;file:./bla/file.txt&quot;; // Valid, see See [RFC 3986][1], path - rootless definition\r\nString b = &quot;file:.file.txt&quot;;      // Valid, see See [RFC 3986][1], path - rootless definition\r\nString c = &quot;file:./file.txt&quot;;     // Valid, see See [RFC 3986][1], path - rootless definition\r\nString d = &quot;file:///file.txt&quot;;\r\nString e = &quot;file:///folder/file.txt&quot;;\r\nString f = &quot;http://example.com/file.txt&quot;;\r\nString g = &quot;https://example.com/file.txt&quot;;\r\n```\r\n\r\nThese are all valid URLS, and I can convert them to a URL in java without errors:\r\n\r\n```\r\nURL url = new URL(...);\r\n```\r\n\r\nI want to extract the filename from each of the examples above, so I&#39;m left with just:\r\n\r\n```\r\nfile.txt\r\n```\r\n\r\nI have tried the following, but this doesn&#39;t work for example `b` above (which is a valid URL):\r\n\r\n```\r\nb.substring(path.lastIndexOf(&#39;/&#39;) + 1); // Returns file:.file.txt\r\n```\r\n\r\nI can prob write some custom code to check for slashes, just wondering if there a better more robust way to do it?","title":"Extract file name from Java URL (file: and http/https protocol)?","body":"<p>I have various urls like this:</p>\n<pre><code>String a = &quot;file:./bla/file.txt&quot;; // Valid, see See [RFC 3986][1], path - rootless definition\nString b = &quot;file:.file.txt&quot;;      // Valid, see See [RFC 3986][1], path - rootless definition\nString c = &quot;file:./file.txt&quot;;     // Valid, see See [RFC 3986][1], path - rootless definition\nString d = &quot;file:///file.txt&quot;;\nString e = &quot;file:///folder/file.txt&quot;;\nString f = &quot;http://example.com/file.txt&quot;;\nString g = &quot;https://example.com/file.txt&quot;;\n</code></pre>\n<p>These are all valid URLS, and I can convert them to a URL in java without errors:</p>\n<pre><code>URL url = new URL(...);\n</code></pre>\n<p>I want to extract the filename from each of the examples above, so I'm left with just:</p>\n<pre><code>file.txt\n</code></pre>\n<p>I have tried the following, but this doesn't work for example <code>b</code> above (which is a valid URL):</p>\n<pre><code>b.substring(path.lastIndexOf('/') + 1); // Returns file:.file.txt\n</code></pre>\n<p>I can prob write some custom code to check for slashes, just wondering if there a better more robust way to do it?</p>\n"},{"tags":["java","annotation-processing","javassist"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637169037,"creation_date":1637169037,"answer_id":70008734,"question_id":70008047,"body_markdown":"[Project Lombok](https://projectlombok.org) - and note how lombok includes plugins and special tooling for many many dev tools (such as IntelliJ, VSCode, Eclipse, GWT, gradle, maven, many many versions of javac, NetBeans, etc) and is a lot of lines of code.\r\n\r\nThe Annotation Processor API simply does not include options to add/change things in existing files. Hence why you need to write this logic for every platform you care to target, which is slightly easier than it sounds as there is a limited set of actual baseline java parsers/compilers out there (basically, ecj and javac - on top of which most things are built), so e.g. lombok&#39;s VSCode integration is very simple (as VSCode uses an eclipse-based language server, so 95% of the work for VSCode and Eclipse is shared), but I chose the word _slightly_ rather intentionally there.\r\n\r\nIn other words, not possible unless you want to spend a few personyears. Or fork Lombok.\r\n\r\nDISCLAIMER: I&#39;m a core contributor to Project Lombok.\r\n","title":"Generate Methods in annotation processors","body":"<p><a href=\"https://projectlombok.org\" rel=\"nofollow noreferrer\">Project Lombok</a> - and note how lombok includes plugins and special tooling for many many dev tools (such as IntelliJ, VSCode, Eclipse, GWT, gradle, maven, many many versions of javac, NetBeans, etc) and is a lot of lines of code.</p>\n<p>The Annotation Processor API simply does not include options to add/change things in existing files. Hence why you need to write this logic for every platform you care to target, which is slightly easier than it sounds as there is a limited set of actual baseline java parsers/compilers out there (basically, ecj and javac - on top of which most things are built), so e.g. lombok's VSCode integration is very simple (as VSCode uses an eclipse-based language server, so 95% of the work for VSCode and Eclipse is shared), but I chose the word <em>slightly</em> rather intentionally there.</p>\n<p>In other words, not possible unless you want to spend a few personyears. Or fork Lombok.</p>\n<p>DISCLAIMER: I'm a core contributor to Project Lombok.</p>\n"},{"tags":[],"owner":{"account_id":2480204,"reputation":1014,"user_id":2159821,"display_name":"Ahmad Bawaneh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637189018,"creation_date":1637189018,"answer_id":70012507,"question_id":70008047,"body_markdown":"Short answer is no, if you want to keep it clean and stay away from something like lombok, Annotation processors are all about generating new classes not changing existing classes, as for your case you actually should not do something like, but your annotation processor should check if the setter exists then you use the setter if not you just assign the field directly expecting the field to have a proper visibility scope, if it is not then you get a compiler error letting the user to know that he needs to expose those fields.","title":"Generate Methods in annotation processors","body":"<p>Short answer is no, if you want to keep it clean and stay away from something like lombok, Annotation processors are all about generating new classes not changing existing classes, as for your case you actually should not do something like, but your annotation processor should check if the setter exists then you use the setter if not you just assign the field directly expecting the field to have a proper visibility scope, if it is not then you get a compiler error letting the user to know that he needs to expose those fields.</p>\n"}],"owner":{"account_id":23366296,"reputation":21,"user_id":17437896,"display_name":"Ilias Tzortzinis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1637189018,"creation_date":1637166177,"question_id":70008047,"body_markdown":"I have an annotation processor that checks the classes annotated with @Builder\r\nif they have setters for every field (and generates builder class based on those methods).\r\nNow it is possible to generate those setters methods (if they dont exist) before my annotation processor kicks in?\r\n\r\nI know that a annotation processor can only generate new files and not manipulate any existing ones.Also libraries like ASM and Javassist work with .class files that do not exist when the annotation processor is used.\r\nAny suggestions?","title":"Generate Methods in annotation processors","body":"<p>I have an annotation processor that checks the classes annotated with @Builder\nif they have setters for every field (and generates builder class based on those methods).\nNow it is possible to generate those setters methods (if they dont exist) before my annotation processor kicks in?</p>\n<p>I know that a annotation processor can only generate new files and not manipulate any existing ones.Also libraries like ASM and Javassist work with .class files that do not exist when the annotation processor is used.\nAny suggestions?</p>\n"},{"tags":["java","data-structures","tree","binary-tree","nodes"],"comments":[{"owner":{"account_id":3762261,"reputation":1126,"user_id":3126835,"accept_rate":57,"display_name":"kks21199"},"score":1,"creation_date":1637183881,"post_id":70011626,"comment_id":123761446,"body_markdown":"Is there any reason why you&#39;re assigning `resultR.info = this.info;` and same for resultL? If there is no left or right children, shouldn&#39;t you assign null or something default? Unless in missing some context here.","body":"Is there any reason why you&#39;re assigning <code>resultR.info = this.info;</code> and same for resultL? If there is no left or right children, shouldn&#39;t you assign null or something default? Unless in missing some context here."},{"owner":{"account_id":20475292,"reputation":105,"user_id":15024787,"display_name":"JamesR"},"score":0,"creation_date":1637184220,"post_id":70011626,"comment_id":123761540,"body_markdown":"@kks21199 If there is no children I assign the actual node info because the comparision isn&#39;t going to return that the node is bigger than their children so I don&#39;t add 1 to the counter, for example: Node father is 1 left doesn&#39;t exists and right is 3 then resultL would be this.info (1) and in the comparision 3 is greater thant his father 1 so it doesn&#39;t add a counter","body":"@kks21199 If there is no children I assign the actual node info because the comparision isn&#39;t going to return that the node is bigger than their children so I don&#39;t add 1 to the counter, for example: Node father is 1 left doesn&#39;t exists and right is 3 then resultL would be this.info (1) and in the comparision 3 is greater thant his father 1 so it doesn&#39;t add a counter"},{"owner":{"account_id":20475292,"reputation":105,"user_id":15024787,"display_name":"JamesR"},"score":0,"creation_date":1637184294,"post_id":70011626,"comment_id":123761568,"body_markdown":"@kks21199 Basically is to don&#39;t trigger a null pointer if I don&#39;t assign something a then do the comparision","body":"@kks21199 Basically is to don&#39;t trigger a null pointer if I don&#39;t assign something a then do the comparision"},{"owner":{"account_id":3762261,"reputation":1126,"user_id":3126835,"accept_rate":57,"display_name":"kks21199"},"score":0,"creation_date":1637184479,"post_id":70011626,"comment_id":123761628,"body_markdown":"And what about result.n? What does that contain? You can also check if the object is null before comparing.","body":"And what about result.n? What does that contain? You can also check if the object is null before comparing."},{"owner":{"account_id":20475292,"reputation":105,"user_id":15024787,"display_name":"JamesR"},"score":0,"creation_date":1637184766,"post_id":70011626,"comment_id":123761716,"body_markdown":"@kks21199 result.n is as I explained at first is a counter for the nodes bigger than it&#39;s sons it sums 1 every time a node is greater than it&#39;s sons","body":"@kks21199 result.n is as I explained at first is a counter for the nodes bigger than it&#39;s sons it sums 1 every time a node is greater than it&#39;s sons"}],"answers":[{"tags":[],"owner":{"account_id":3762261,"reputation":1126,"user_id":3126835,"accept_rate":57,"display_name":"kks21199"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637188731,"creation_date":1637188731,"answer_id":70012472,"question_id":70011626,"body_markdown":"Assuming info is an int, this could work for you. I haven&#39;t tested the code, so let me know if there are issues.\r\n\r\n\r\n```\r\npublic Result2&lt;T&gt; countBigger() {\r\n  Result2 &lt;T&gt; result = new Result2&lt;T&gt;();\r\n  result.info = this.info;\r\n\r\n  if (this.isLeaf()) {\r\n    result.n = 0;\r\n  } else {\r\n    Result2&lt;T&gt; resultL;\r\n    Result2&lt;T&gt; resultR;\r\n    \r\n    if (this.hasLeft()) {\r\n      resultL = this.left.countBigger();\r\n    }\r\n\r\n    if (this.hasRight()) {\r\n      resultR = this.right.countBigger();\r\n    }\r\n    \r\n    //if resultL/resultR is not set, then there are no children.\r\n    int left = (resultL != null) ? resultL.info ? 0;\r\n    int right = (resultR != null) ? resultR.info ? 0;\r\n\r\n    // if parent.info is bigger than both child&#39;s info combined, add 1\r\n    // if you want to cout it seprately, then use (result.info &gt; left &amp;&amp; result.info &gt; right)\r\n    if (result.info &gt; (left + right)) {\r\n      result.n++;\r\n    }\r\n    \r\n    //Add the counter from child results if they are not null\r\n    result.n += (resultL != null) ? resultL.n : 0;\r\n    result.n += (resultR != null) ? resultR.n : 0;\r\n    \r\n  }\r\n  return result;\r\n}\r\n```\r\n","title":"Count nodes that are bigger than all their sons","body":"<p>Assuming info is an int, this could work for you. I haven't tested the code, so let me know if there are issues.</p>\n<pre><code>public Result2&lt;T&gt; countBigger() {\n  Result2 &lt;T&gt; result = new Result2&lt;T&gt;();\n  result.info = this.info;\n\n  if (this.isLeaf()) {\n    result.n = 0;\n  } else {\n    Result2&lt;T&gt; resultL;\n    Result2&lt;T&gt; resultR;\n    \n    if (this.hasLeft()) {\n      resultL = this.left.countBigger();\n    }\n\n    if (this.hasRight()) {\n      resultR = this.right.countBigger();\n    }\n    \n    //if resultL/resultR is not set, then there are no children.\n    int left = (resultL != null) ? resultL.info ? 0;\n    int right = (resultR != null) ? resultR.info ? 0;\n\n    // if parent.info is bigger than both child's info combined, add 1\n    // if you want to cout it seprately, then use (result.info &gt; left &amp;&amp; result.info &gt; right)\n    if (result.info &gt; (left + right)) {\n      result.n++;\n    }\n    \n    //Add the counter from child results if they are not null\n    result.n += (resultL != null) ? resultL.n : 0;\n    result.n += (resultR != null) ? resultR.n : 0;\n    \n  }\n  return result;\n}\n</code></pre>\n"}],"owner":{"account_id":20475292,"reputation":105,"user_id":15024787,"display_name":"JamesR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70012472,"answer_count":1,"score":0,"last_activity_date":1637188731,"creation_date":1637183649,"question_id":70011626,"body_markdown":"I have to make a programm that counts the nodes bigger than their sons without including the leaf nodes for example:\r\n\r\n    4     For this tree, the solution would be 4 because is greater than its son 3 but\r\n     \\    3 is not counted\r\n      3\r\n\r\nThis is my approach:\r\n\r\n       //Result2 is a class that stores a T value (info of the node) and n (counter) to     \r\n       // count the nodes that are bigger than it&#39;s sons, this is a method into the class of \r\n       //the node that is a generic class of binary nodes for trees (left, right and info \r\n       //parameters)\r\n\r\n    public Result2&lt;T&gt; countBigger() \r\n\t{\r\n\t\tResult2&lt;T&gt; result = new Result2&lt;T&gt;();\r\n\t\tresult.info = this.info;\r\n\t\t\r\n\t\tif(this.isLeaf()) \r\n\t\t{\r\n\t\t\tresult.n = 0;\r\n\t\t}\r\n\t\telse \r\n\t\t{\r\n\t\t\tResult2&lt;T&gt; resultL = new Result2&lt;T&gt;();\r\n\t\t\tResult2&lt;T&gt; resultR = new Result2&lt;T&gt;();\r\n\t\t\tif(this.hasLeft()) \r\n\t\t\t{\r\n\t\t\t\tresultL = this.left.countBigger();\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tresultL.info = this.info;\r\n\t\t\t}\r\n\t\t\tif(this.hasRight()) \r\n\t\t\t{\r\n\t\t\t\tresultR = this.right.countBigger();\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tresultR.info = this.info;\r\n\t\t\t}\r\n\t\t\tif(result.info.compareTo(resultL.info) &gt; 0 &amp; result.info.compareTo(resultR.info) &gt; 0) \r\n\t\t\t{\r\n\t\t\t\tresult.n++;\r\n\t\t\t}\r\n\t\t\tresult.n = result.n + resultL.n + resultR.n;\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nBut I can&#39;t see the error\r\n","title":"Count nodes that are bigger than all their sons","body":"<p>I have to make a programm that counts the nodes bigger than their sons without including the leaf nodes for example:</p>\n<pre><code>4     For this tree, the solution would be 4 because is greater than its son 3 but\n \\    3 is not counted\n  3\n</code></pre>\n<p>This is my approach:</p>\n<pre><code>   //Result2 is a class that stores a T value (info of the node) and n (counter) to     \n   // count the nodes that are bigger than it's sons, this is a method into the class of \n   //the node that is a generic class of binary nodes for trees (left, right and info \n   //parameters)\n\npublic Result2&lt;T&gt; countBigger() \n{\n    Result2&lt;T&gt; result = new Result2&lt;T&gt;();\n    result.info = this.info;\n    \n    if(this.isLeaf()) \n    {\n        result.n = 0;\n    }\n    else \n    {\n        Result2&lt;T&gt; resultL = new Result2&lt;T&gt;();\n        Result2&lt;T&gt; resultR = new Result2&lt;T&gt;();\n        if(this.hasLeft()) \n        {\n            resultL = this.left.countBigger();\n        }\n        else \n        {\n            resultL.info = this.info;\n        }\n        if(this.hasRight()) \n        {\n            resultR = this.right.countBigger();\n        }\n        else \n        {\n            resultR.info = this.info;\n        }\n        if(result.info.compareTo(resultL.info) &gt; 0 &amp; result.info.compareTo(resultR.info) &gt; 0) \n        {\n            result.n++;\n        }\n        result.n = result.n + resultL.n + resultR.n;\n    }\n    return result;\n}\n</code></pre>\n<p>But I can't see the error</p>\n"},{"tags":["java","gwt","webapi","gwt-jsinterop","webgpu"],"answers":[{"tags":[],"owner":{"account_id":941240,"reputation":21,"user_id":4483526,"display_name":"Dmitry Tikhomirov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637018740,"creation_date":1637018740,"answer_id":69982098,"question_id":69954515,"body_markdown":"few month ago i did elemental2 like webgpu wrappers based on my hand-written externs. \r\n\r\n\r\nYou can take a look here :\r\n\r\nhttps://github.com/treblereel/elemental2-experimental/tree/main/java/org/treblereel/gwt/elemental2  \r\n\r\nSimple demo :\r\n &lt;https://github.com/treblereel/j2cl-tests/blob/webgpu/src/main/java/org/treblereel/App.java&gt;\r\n\r\n\r\n It’s j2cl-based, but pretty close to how you can do it with gwt2.\r\n  The main disadvantage of it, webgpu api isn’t stable, so it’s a very difficult to keep it out to date.   Better to generate externs from idl:\r\n\r\n@peter-donald are working on better implementations of Web API’s, but it’s not based on elemental2.\r\n&lt;https://github.com/akasha/akasha&gt;","title":"WebGPU JsInterop wrapper","body":"<p>few month ago i did elemental2 like webgpu wrappers based on my hand-written externs. </p>\n<p>You can take a look here :</p>\n<p><a href=\"https://github.com/treblereel/elemental2-experimental/tree/main/java/org/treblereel/gwt/elemental2%E2%80%A8%E2%80%A8\" rel=\"nofollow noreferrer\">https://github.com/treblereel/elemental2-experimental/tree/main/java/org/treblereel/gwt/elemental2  </a></p>\n<p>Simple demo :\n<a href=\"https://github.com/treblereel/j2cl-tests/blob/webgpu/src/main/java/org/treblereel/App.java\" rel=\"nofollow noreferrer\">https://github.com/treblereel/j2cl-tests/blob/webgpu/src/main/java/org/treblereel/App.java</a></p>\n<p> It’s j2cl-based, but pretty close to how you can do it with gwt2.\n  The main disadvantage of it, webgpu api isn’t stable, so it’s a very difficult to keep it out to date.   Better to generate externs from idl:</p>\n<p>@peter-donald are working on better implementations of Web API’s, but it’s not based on elemental2.\n<a href=\"https://github.com/akasha/akasha\" rel=\"nofollow noreferrer\">https://github.com/akasha/akasha</a></p>\n"},{"tags":[],"owner":{"account_id":1509492,"reputation":461,"user_id":1411967,"display_name":"Peter Donald"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637188677,"creation_date":1637045980,"answer_id":69984942,"question_id":69954515,"body_markdown":"Firstly - If you want a ready-made jsinterop binding for WebGPU (and all the other browser APIs) that is built by processing the webidl from the specs and building the binding from the webidl then [Akasha][1] provides that in both GWT2.9 and J2CL compatible variants (The Java API is the same but the annotations and innerts differ slightly between the two variants). The coordinate for the latest version of akasha variant for GWT is [`org.realityforge.akasha:akasha-gwt:jar:0.29`][4] and an example of a simple textured spinning cube is available at [Main.java][2]\r\n\r\nThe specific questions:\r\n\r\n* **How do you represent a &quot;unsigned long long&quot;?** This is either a `double` or an `int` ... or a `Double` if the value is optional. None of these representations match exactly what the API expects but as long as the values are mapped consistently and sourced from external sources (i.e. gltf or other formats) then there is no significant penalty. I map it to `int` when the type is not optional and `Double` when optional. A bit ugly but the best that works in GWT-land (although J2CL will soon have a way to represent native longs IIRC)\r\n* **How do I wrap a dictionary?** As the underlying representation is just a javascript object there are many, many many different representations possible. This differs whether you are targeting j2cl or GWT but for GWT you generally you need something like below. In my generator I go a step further and define a builder as in [GPUExtent3DDict][3] (but note that this source is an example of the J2CL variant and has some slight differences from the code described below) and this makes construction of dictionary data much easier. i.e. `GPUExtent3DDict.width( 10 ).height( 10 ).depthOrArrayLayers( 1 )`\r\n\r\n```java\r\n@JsType(isNative = true, namespace = JsPackage.GLOBAL, name = &quot;?&quot;)\r\npublic interface GPUExtent3DDict {\r\n @JsProperty(name = &quot;width&quot;)\r\n  int width();\r\n\r\n  @JsProperty\r\n  void setWidth(int width);\r\n\r\n  @JsProperty(name = &quot;depthOrArrayLayers&quot;)\r\n  int depthOrArrayLayers();\r\n\r\n  @JsProperty\r\n  void setDepthOrArrayLayers(int depthOrArrayLayers);\r\n\r\n  @JsProperty(name = &quot;height&quot;)\r\n  int height();\r\n\r\n  @JsProperty\r\n  void setHeight(int height);\r\n}\r\n```\r\n* **How to map an enum?** As enums are really just bags of string values, a class with string constants is adequate. However if you want better usability (i.e. tab completion in IDEs such as IntelliJ IDEA) then I typically model them as below. And then annotate the parameters/return values that are typed as the enum with `@GPUPowerPreference`\r\n\r\n```java\r\n@MagicConstant(valuesFromClass = GPUPowerPreference.class)\r\npublic @interface GPUPowerPreference {\r\n  @Nonnull\r\n  String high_performance = &quot;high-performance&quot;;\r\n\r\n  @Nonnull\r\n  String low_power = &quot;low-power&quot;;\r\n\r\n  final class Util {\r\n    private Util() {\r\n    }\r\n\r\n    @GPUPowerPreference\r\n    public static String requireValid(final String value) {\r\n      assertValid( value );\r\n      return value;\r\n    }\r\n\r\n    public static void assertValid(@Nonnull final String value) {\r\n      assert isValid( value );\r\n    }\r\n\r\n    public static boolean isValid(@Nonnull final String value) {\r\n      return GPUPowerPreference.high_performance.equals( value ) || GPUPowerPreference.low_power.equals( value );\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nFor what it is worth. Working with WebGPU in java has proven to be a life saver, particularly as it is evolving rapidly at the moment and when the spec changes, compilation errors help you locate the problems ;) Good luck!\r\n\r\n\r\n  [1]: https://github.com/akasha/akasha\r\n  [2]: https://github.com/realityforge/course-webgl/blob/master/src/main/java/org/realityforge/webgl/webgpu/textured_cube/Main.java\r\n  [3]: https://github.com/akasha/akasha-java/blob/master/akasha/gpu/GPUExtent3DDict.java\r\n  [4]: https://search.maven.org/artifact/org.realityforge.akasha/akasha-gwt/0.29/jar","title":"WebGPU JsInterop wrapper","body":"<p>Firstly - If you want a ready-made jsinterop binding for WebGPU (and all the other browser APIs) that is built by processing the webidl from the specs and building the binding from the webidl then <a href=\"https://github.com/akasha/akasha\" rel=\"nofollow noreferrer\">Akasha</a> provides that in both GWT2.9 and J2CL compatible variants (The Java API is the same but the annotations and innerts differ slightly between the two variants). The coordinate for the latest version of akasha variant for GWT is <a href=\"https://search.maven.org/artifact/org.realityforge.akasha/akasha-gwt/0.29/jar\" rel=\"nofollow noreferrer\"><code>org.realityforge.akasha:akasha-gwt:jar:0.29</code></a> and an example of a simple textured spinning cube is available at <a href=\"https://github.com/realityforge/course-webgl/blob/master/src/main/java/org/realityforge/webgl/webgpu/textured_cube/Main.java\" rel=\"nofollow noreferrer\">Main.java</a></p>\n<p>The specific questions:</p>\n<ul>\n<li><strong>How do you represent a &quot;unsigned long long&quot;?</strong> This is either a <code>double</code> or an <code>int</code> ... or a <code>Double</code> if the value is optional. None of these representations match exactly what the API expects but as long as the values are mapped consistently and sourced from external sources (i.e. gltf or other formats) then there is no significant penalty. I map it to <code>int</code> when the type is not optional and <code>Double</code> when optional. A bit ugly but the best that works in GWT-land (although J2CL will soon have a way to represent native longs IIRC)</li>\n<li><strong>How do I wrap a dictionary?</strong> As the underlying representation is just a javascript object there are many, many many different representations possible. This differs whether you are targeting j2cl or GWT but for GWT you generally you need something like below. In my generator I go a step further and define a builder as in <a href=\"https://github.com/akasha/akasha-java/blob/master/akasha/gpu/GPUExtent3DDict.java\" rel=\"nofollow noreferrer\">GPUExtent3DDict</a> (but note that this source is an example of the J2CL variant and has some slight differences from the code described below) and this makes construction of dictionary data much easier. i.e. <code>GPUExtent3DDict.width( 10 ).height( 10 ).depthOrArrayLayers( 1 )</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@JsType(isNative = true, namespace = JsPackage.GLOBAL, name = &quot;?&quot;)\npublic interface GPUExtent3DDict {\n @JsProperty(name = &quot;width&quot;)\n  int width();\n\n  @JsProperty\n  void setWidth(int width);\n\n  @JsProperty(name = &quot;depthOrArrayLayers&quot;)\n  int depthOrArrayLayers();\n\n  @JsProperty\n  void setDepthOrArrayLayers(int depthOrArrayLayers);\n\n  @JsProperty(name = &quot;height&quot;)\n  int height();\n\n  @JsProperty\n  void setHeight(int height);\n}\n</code></pre>\n<ul>\n<li><strong>How to map an enum?</strong> As enums are really just bags of string values, a class with string constants is adequate. However if you want better usability (i.e. tab completion in IDEs such as IntelliJ IDEA) then I typically model them as below. And then annotate the parameters/return values that are typed as the enum with <code>@GPUPowerPreference</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@MagicConstant(valuesFromClass = GPUPowerPreference.class)\npublic @interface GPUPowerPreference {\n  @Nonnull\n  String high_performance = &quot;high-performance&quot;;\n\n  @Nonnull\n  String low_power = &quot;low-power&quot;;\n\n  final class Util {\n    private Util() {\n    }\n\n    @GPUPowerPreference\n    public static String requireValid(final String value) {\n      assertValid( value );\n      return value;\n    }\n\n    public static void assertValid(@Nonnull final String value) {\n      assert isValid( value );\n    }\n\n    public static boolean isValid(@Nonnull final String value) {\n      return GPUPowerPreference.high_performance.equals( value ) || GPUPowerPreference.low_power.equals( value );\n    }\n  }\n}\n</code></pre>\n<p>For what it is worth. Working with WebGPU in java has proven to be a life saver, particularly as it is evolving rapidly at the moment and when the spec changes, compilation errors help you locate the problems ;) Good luck!</p>\n"},{"tags":[],"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637161095,"creation_date":1637161095,"answer_id":70006716,"question_id":69954515,"body_markdown":"Adding on to the other answers, since they are missing one piece that I think may be important in at least some specific cases.\r\n\r\n\r\n&gt; 1) How do I map an unsigned long long?\r\n\r\nFirst, please note that a Java `long` is _not_ equivalent, since while Java longs are 64bits wide, they are signed.\r\n\r\nFrom my read of the spec, it is complicated, but flexible. https://webidl.spec.whatwg.org/#es-unsigned-long-long:\r\n\r\n&gt; An ECMAScript value V is converted to an IDL unsigned long long value by running the following algorithm:\r\n&gt; 1.    Let x be ? ConvertToInt(V, 64, &quot;unsigned&quot;).\r\n&gt; 2.    Return the IDL unsigned long long value that represents the same numeric value as x.\r\n&gt; \r\n&gt; The result of converting an IDL unsigned long long value to an ECMAScript value is a Number value that represents the closest numeric value to the unsigned long long, choosing the numeric value with an even significand if there are two equally close values. If the unsigned long long is less than or equal to 253 − 1, then the Number will be able to represent exactly the same value as the unsigned long long. \r\n\r\nOk, so next what is `ConvertToInt`? See https://webidl.spec.whatwg.org/#abstract-opdef-converttoint, but it establishes some bounds (based on the `64` and `&quot;unsigned&quot;`), and then uses `ToNumber`, a more standard part of the ecmascript spec https://tc39.es/ecma262/#sec-tonumber. Among other inputs, this can handle a String, via `StringToNumber` https://tc39.es/ecma262/#sec-stringtonumber.\r\n\r\nThe end effect of this is that you can pass a String with your unsigned 64 bit integer value to these APIs, and it will be interpreted internally. So, as long as your value fits in a Java `long`, you can use `Long.toString(value)` to generate the string value. I suggest offering native `double`, `int`, and `String` overloads, and also a `long` method annotated with `@JsOverlay`, which would then delegate to the String overload.","title":"WebGPU JsInterop wrapper","body":"<p>Adding on to the other answers, since they are missing one piece that I think may be important in at least some specific cases.</p>\n<blockquote>\n<ol>\n<li>How do I map an unsigned long long?</li>\n</ol>\n</blockquote>\n<p>First, please note that a Java <code>long</code> is <em>not</em> equivalent, since while Java longs are 64bits wide, they are signed.</p>\n<p>From my read of the spec, it is complicated, but flexible. <a href=\"https://webidl.spec.whatwg.org/#es-unsigned-long-long\" rel=\"nofollow noreferrer\">https://webidl.spec.whatwg.org/#es-unsigned-long-long</a>:</p>\n<blockquote>\n<p>An ECMAScript value V is converted to an IDL unsigned long long value by running the following algorithm:</p>\n<ol>\n<li>Let x be ? ConvertToInt(V, 64, &quot;unsigned&quot;).</li>\n<li>Return the IDL unsigned long long value that represents the same numeric value as x.</li>\n</ol>\n<p>The result of converting an IDL unsigned long long value to an ECMAScript value is a Number value that represents the closest numeric value to the unsigned long long, choosing the numeric value with an even significand if there are two equally close values. If the unsigned long long is less than or equal to 253 − 1, then the Number will be able to represent exactly the same value as the unsigned long long.</p>\n</blockquote>\n<p>Ok, so next what is <code>ConvertToInt</code>? See <a href=\"https://webidl.spec.whatwg.org/#abstract-opdef-converttoint\" rel=\"nofollow noreferrer\">https://webidl.spec.whatwg.org/#abstract-opdef-converttoint</a>, but it establishes some bounds (based on the <code>64</code> and <code>&quot;unsigned&quot;</code>), and then uses <code>ToNumber</code>, a more standard part of the ecmascript spec <a href=\"https://tc39.es/ecma262/#sec-tonumber\" rel=\"nofollow noreferrer\">https://tc39.es/ecma262/#sec-tonumber</a>. Among other inputs, this can handle a String, via <code>StringToNumber</code> <a href=\"https://tc39.es/ecma262/#sec-stringtonumber\" rel=\"nofollow noreferrer\">https://tc39.es/ecma262/#sec-stringtonumber</a>.</p>\n<p>The end effect of this is that you can pass a String with your unsigned 64 bit integer value to these APIs, and it will be interpreted internally. So, as long as your value fits in a Java <code>long</code>, you can use <code>Long.toString(value)</code> to generate the string value. I suggest offering native <code>double</code>, <code>int</code>, and <code>String</code> overloads, and also a <code>long</code> method annotated with <code>@JsOverlay</code>, which would then delegate to the String overload.</p>\n"}],"owner":{"account_id":13960474,"reputation":96,"user_id":10772971,"display_name":"Samwise"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69984942,"answer_count":3,"score":1,"last_activity_date":1637188677,"creation_date":1636808640,"question_id":69954515,"body_markdown":"I am trying to play around with WebGPU in GWT 2.9.0 using JsInterop and I face some problems trying to map all the WebGPU interfaces to Java. The definitions I refer to are located at https://www.w3.org/TR/webgpu/#idl-index\r\n\r\n**1) How do I map an unsigned long long?**\r\n\r\nThere is a typedef: ```typedef [EnforceRange] unsigned long long GPUSize64;```\r\nthat is used for example here: \r\n```\r\ninterface mixin GPURenderEncoderBase { \r\n    //...other declarations left out...\r\n    undefined drawIndirect(GPUBuffer indirectBuffer, GPUSize64 indirectOffset);\r\n};\r\n\r\n```\r\nif I wrap it like\r\n```\r\n@JsType(isNative = true, namespace = JsPackage.GLOBAL)\r\npublic class GPURenderEncoderBase {\r\n    //...other declarations left out...\r\n    @JsMethod\r\n    public final native void drawIndirect(GPUBuffer indirectBuffer, long indirectOffset);\r\n}\r\n```\r\nI get an error saying: \r\n```\r\nParameter &#39;sourceOffset&#39;: type &#39;long&#39; is not safe to access in JSNI code\r\n```\r\ngiven that my higher level API only exposes an int here for compatibility with other APIs i could probably just use an int, but what is the correct solution to map the GPUSize64?\r\n\r\n\r\n**2) How do I wrap a dictonary?**\r\n\r\nWhen I try to translate the following definition\r\n```\r\ndictionary GPUExtent3DDict {\r\n    required GPUIntegerCoordinate width;\r\n    GPUIntegerCoordinate height = 1;\r\n    GPUIntegerCoordinate depthOrArrayLayers = 1;\r\n};\r\ntypedef (sequence&lt;GPUIntegerCoordinate&gt; or GPUExtent3DDict) GPUExtent3D;\r\n```\r\nlike so:\r\n```\r\n@JsType(isNative = false, namespace = JsPackage.GLOBAL)\r\npublic class GPUExtent3D {\r\n    public int width;\r\n    public int height = 1;\r\n    public int depthOrArrayLayers = 1;\r\n}\r\n```\r\nand then use it in the following way:\r\n```\r\n    ...\r\n    GPUExtent3D size = new GPUExtent3D();\r\n    size.width = canvasWidth;\r\n    size.height = canvasHeight;\r\n    GPUCanvasConfiguration config = new GPUCanvasConfiguration();\r\n    config.size = size;\r\n    gpuCanvasContext.configure(config);\r\n```\r\nI can compile fine but get an error at runtime saying \r\n```\r\nUncaught (in promise) TypeError: Failed to execute &#39;configure&#39; on &#39;GPUCanvasContext&#39;: Failed to read the &#39;size&#39; property from &#39;GPUCanvasConfiguration&#39;: Failed to read the &#39;width&#39; property from &#39;GPUExtent3DDict&#39;: Failed to read the &#39;width&#39; property from &#39;GPUExtent3DDict&#39;: Required member is undefined.\r\n```\r\nWhat confuses me is that it says &quot;Failed to read the &#39;width&#39; property from &#39;GPUExtent3DDict&#39;&quot; twice which hints that it expects something nested and probably has to do with the last line in the typedef about the &quot;sequence&lt;GPUIntegerCoordinate&gt; or GPUExtent3DDict&quot; which I dont understand.\r\nWhen I instead define GPUExtent3D that way:\r\n```\r\npublic final class GPUExtent3D extends JavaScriptObject {\r\n    public static final native GPUExtent3D createNew() /*-{\r\n        return {height: 1, depthOrArrayLayers: 1};\r\n    }-*/;\r\n\r\n    protected GPUExtent3D() {}\r\n\r\n    public final native void width(int width) /*-{\r\n        this[&quot;width&quot;] = width;\r\n    }-*/;\r\n\r\n    //...same for height and depthOrArrayLayers\r\n}\r\n```\r\nand then use it like:\r\n```\r\n    ...\r\n    GPUExtent3D size = GPUExtent3D.createNew();\r\n    size.width(canvasWidth);\r\n    size.height(canvasHeight);\r\n    size.depthOrArrayLayers(1);\r\n    GPUCanvasConfiguration config = new GPUCanvasConfiguration();\r\n    config.size = size;\r\n    gpuCanvasContext.configure(config);\r\n```\r\nIt works just fine, but I would like to do it the JsInterop way instead of extent JavaScriptObject. How would I go about that?\r\n\r\n**3) How to map an enum?**\r\n\r\nI also found a working solution here and I would like to hear if this is recommended or maybe deprecated / old way of doing it\r\nGiven an enum declaration:\r\n```\r\nenum GPUPowerPreference {\r\n    &quot;low-power&quot;,\r\n    &quot;high-performance&quot;\r\n};\r\n```\r\nCan I just map it like\r\n```\r\npublic final class GPUPowerPreference {\r\n    public static final String LOW_POWER = &quot;low-power&quot;;\r\n    public static final String HIGH_POWER = &quot;high-power&quot;;\r\n    private GPUPowerPreference() {}\r\n}\r\n```\r\nOr is there a way to use a java enum with @JsEnum for this (I tried but had problems with the dash that is used in the value)\r\n\r\nThanks a lot and have a nice day!","title":"WebGPU JsInterop wrapper","body":"<p>I am trying to play around with WebGPU in GWT 2.9.0 using JsInterop and I face some problems trying to map all the WebGPU interfaces to Java. The definitions I refer to are located at <a href=\"https://www.w3.org/TR/webgpu/#idl-index\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/webgpu/#idl-index</a></p>\n<p><strong>1) How do I map an unsigned long long?</strong></p>\n<p>There is a typedef: <code>typedef [EnforceRange] unsigned long long GPUSize64;</code>\nthat is used for example here:</p>\n<pre><code>interface mixin GPURenderEncoderBase { \n    //...other declarations left out...\n    undefined drawIndirect(GPUBuffer indirectBuffer, GPUSize64 indirectOffset);\n};\n\n</code></pre>\n<p>if I wrap it like</p>\n<pre><code>@JsType(isNative = true, namespace = JsPackage.GLOBAL)\npublic class GPURenderEncoderBase {\n    //...other declarations left out...\n    @JsMethod\n    public final native void drawIndirect(GPUBuffer indirectBuffer, long indirectOffset);\n}\n</code></pre>\n<p>I get an error saying:</p>\n<pre><code>Parameter 'sourceOffset': type 'long' is not safe to access in JSNI code\n</code></pre>\n<p>given that my higher level API only exposes an int here for compatibility with other APIs i could probably just use an int, but what is the correct solution to map the GPUSize64?</p>\n<p><strong>2) How do I wrap a dictonary?</strong></p>\n<p>When I try to translate the following definition</p>\n<pre><code>dictionary GPUExtent3DDict {\n    required GPUIntegerCoordinate width;\n    GPUIntegerCoordinate height = 1;\n    GPUIntegerCoordinate depthOrArrayLayers = 1;\n};\ntypedef (sequence&lt;GPUIntegerCoordinate&gt; or GPUExtent3DDict) GPUExtent3D;\n</code></pre>\n<p>like so:</p>\n<pre><code>@JsType(isNative = false, namespace = JsPackage.GLOBAL)\npublic class GPUExtent3D {\n    public int width;\n    public int height = 1;\n    public int depthOrArrayLayers = 1;\n}\n</code></pre>\n<p>and then use it in the following way:</p>\n<pre><code>    ...\n    GPUExtent3D size = new GPUExtent3D();\n    size.width = canvasWidth;\n    size.height = canvasHeight;\n    GPUCanvasConfiguration config = new GPUCanvasConfiguration();\n    config.size = size;\n    gpuCanvasContext.configure(config);\n</code></pre>\n<p>I can compile fine but get an error at runtime saying</p>\n<pre><code>Uncaught (in promise) TypeError: Failed to execute 'configure' on 'GPUCanvasContext': Failed to read the 'size' property from 'GPUCanvasConfiguration': Failed to read the 'width' property from 'GPUExtent3DDict': Failed to read the 'width' property from 'GPUExtent3DDict': Required member is undefined.\n</code></pre>\n<p>What confuses me is that it says &quot;Failed to read the 'width' property from 'GPUExtent3DDict'&quot; twice which hints that it expects something nested and probably has to do with the last line in the typedef about the &quot;sequence or GPUExtent3DDict&quot; which I dont understand.\nWhen I instead define GPUExtent3D that way:</p>\n<pre><code>public final class GPUExtent3D extends JavaScriptObject {\n    public static final native GPUExtent3D createNew() /*-{\n        return {height: 1, depthOrArrayLayers: 1};\n    }-*/;\n\n    protected GPUExtent3D() {}\n\n    public final native void width(int width) /*-{\n        this[&quot;width&quot;] = width;\n    }-*/;\n\n    //...same for height and depthOrArrayLayers\n}\n</code></pre>\n<p>and then use it like:</p>\n<pre><code>    ...\n    GPUExtent3D size = GPUExtent3D.createNew();\n    size.width(canvasWidth);\n    size.height(canvasHeight);\n    size.depthOrArrayLayers(1);\n    GPUCanvasConfiguration config = new GPUCanvasConfiguration();\n    config.size = size;\n    gpuCanvasContext.configure(config);\n</code></pre>\n<p>It works just fine, but I would like to do it the JsInterop way instead of extent JavaScriptObject. How would I go about that?</p>\n<p><strong>3) How to map an enum?</strong></p>\n<p>I also found a working solution here and I would like to hear if this is recommended or maybe deprecated / old way of doing it\nGiven an enum declaration:</p>\n<pre><code>enum GPUPowerPreference {\n    &quot;low-power&quot;,\n    &quot;high-performance&quot;\n};\n</code></pre>\n<p>Can I just map it like</p>\n<pre><code>public final class GPUPowerPreference {\n    public static final String LOW_POWER = &quot;low-power&quot;;\n    public static final String HIGH_POWER = &quot;high-power&quot;;\n    private GPUPowerPreference() {}\n}\n</code></pre>\n<p>Or is there a way to use a java enum with @JsEnum for this (I tried but had problems with the dash that is used in the value)</p>\n<p>Thanks a lot and have a nice day!</p>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637188569,"creation_date":1637187259,"answer_id":70012236,"question_id":70011851,"body_markdown":"Try this.\r\n\r\n    static void floodFill(int screen[][], int x, int y, int newC) {\r\n        int rows = screen.length, cols = screen[0].length;\r\n        int prevC = screen[x][y];\r\n        if (prevC == newC) return;\r\n        new Object() {\r\n            Set&lt;Point&gt; visited = new HashSet&lt;&gt;();\r\n            void fill(int x, int y) {\r\n                if (x &lt; 0 || x &gt;= rows || y &lt; 0 || y &gt;= cols) return;\r\n                Point visit = new Point(x, y);\r\n                if (visited.contains(visit)) return;\r\n                visited.add(visit);\r\n                if (screen[x][y] == prevC) {\r\n                    for (int i = -1; i &lt;= 1; ++i)\r\n                        for (int j = -1; j &lt;= 1; ++j)\r\n                            fill(x + i, y + j);\r\n                } else\r\n                    screen[x][y] = newC;\r\n            }\r\n        }.fill(x, y);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int screen[][] = {\r\n            {1, 1, 1, 1, 1, 1, 1, 1},\r\n            {1, 1, 1, 1, 1, 1, 0, 0},\r\n            {1, 0, 0, 1, 1, 0, 1, 1},\r\n            {1, 2, 2, 2, 2, 0, 1, 0},\r\n            {1, 1, 2, 2, 2, 0, 1, 0},\r\n            {1, 1, 1, 2, 2, 2, 2, 0},\r\n            {1, 1, 1, 1, 1, 2, 1, 1},\r\n            {1, 1, 1, 1, 1, 2, 2, 1},\r\n        };\r\n\r\n        int x = 4, y = 4, newC = 3;\r\n        floodFill(screen, x, y, newC);\r\n\r\n        System.out.println(&quot;Updated screen after call to floodFill: &quot;);\r\n        for (int[] row : screen)\r\n            System.out.println(Arrays.toString(row));\r\n    }\r\n\r\n\r\noutput:\r\n\r\n    Updated screen after call to floodFill: \r\n    [1, 1, 1, 1, 1, 1, 1, 1]\r\n    [1, 1, 1, 1, 1, 1, 0, 0]\r\n    [3, 3, 3, 3, 3, 3, 1, 1]\r\n    [3, 2, 2, 2, 2, 3, 1, 0]\r\n    [3, 3, 2, 2, 2, 3, 3, 3]\r\n    [1, 3, 3, 2, 2, 2, 2, 3]\r\n    [1, 1, 3, 3, 3, 2, 3, 3]\r\n    [1, 1, 1, 1, 3, 2, 2, 3]\r\n\r\n\r\n","title":"Flood fill adjacent values of boundary","body":"<p>Try this.</p>\n<pre><code>static void floodFill(int screen[][], int x, int y, int newC) {\n    int rows = screen.length, cols = screen[0].length;\n    int prevC = screen[x][y];\n    if (prevC == newC) return;\n    new Object() {\n        Set&lt;Point&gt; visited = new HashSet&lt;&gt;();\n        void fill(int x, int y) {\n            if (x &lt; 0 || x &gt;= rows || y &lt; 0 || y &gt;= cols) return;\n            Point visit = new Point(x, y);\n            if (visited.contains(visit)) return;\n            visited.add(visit);\n            if (screen[x][y] == prevC) {\n                for (int i = -1; i &lt;= 1; ++i)\n                    for (int j = -1; j &lt;= 1; ++j)\n                        fill(x + i, y + j);\n            } else\n                screen[x][y] = newC;\n        }\n    }.fill(x, y);\n}\n\npublic static void main(String[] args) {\n    int screen[][] = {\n        {1, 1, 1, 1, 1, 1, 1, 1},\n        {1, 1, 1, 1, 1, 1, 0, 0},\n        {1, 0, 0, 1, 1, 0, 1, 1},\n        {1, 2, 2, 2, 2, 0, 1, 0},\n        {1, 1, 2, 2, 2, 0, 1, 0},\n        {1, 1, 1, 2, 2, 2, 2, 0},\n        {1, 1, 1, 1, 1, 2, 1, 1},\n        {1, 1, 1, 1, 1, 2, 2, 1},\n    };\n\n    int x = 4, y = 4, newC = 3;\n    floodFill(screen, x, y, newC);\n\n    System.out.println(&quot;Updated screen after call to floodFill: &quot;);\n    for (int[] row : screen)\n        System.out.println(Arrays.toString(row));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Updated screen after call to floodFill: \n[1, 1, 1, 1, 1, 1, 1, 1]\n[1, 1, 1, 1, 1, 1, 0, 0]\n[3, 3, 3, 3, 3, 3, 1, 1]\n[3, 2, 2, 2, 2, 3, 1, 0]\n[3, 3, 2, 2, 2, 3, 3, 3]\n[1, 3, 3, 2, 2, 2, 2, 3]\n[1, 1, 3, 3, 3, 2, 3, 3]\n[1, 1, 1, 1, 3, 2, 2, 3]\n</code></pre>\n"}],"owner":{"account_id":17292330,"reputation":81,"user_id":12523670,"display_name":"Katia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637188569,"creation_date":1637184840,"question_id":70011851,"body_markdown":"I am trying to create an algorithm where I can get the adjacent values of flood fill. Assuming I have the following 2d array:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AMxqP.png\r\n\r\nI need to be able to add the values in yellow, which are the boundary of the flood fill. So far I managed to do a flood fill, which is not really the scope of my exercise, but a starting point. Any ideas how I can get the boundary values. Here is the code I have so far?\r\n\r\n        // Java program to implement flood fill algorithm\r\n    class GFG\r\n    {\r\n    \r\n    // Dimensions of paint screen\r\n    static int M = 8;\r\n    static int N = 8;\r\n    \r\n    // A recursive function to replace previous color &#39;prevC&#39; at &#39;(x, y)&#39;\r\n    // and all surrounding pixels of (x, y) with new color &#39;newC&#39; and\r\n    static void floodFillUtil(int screen[][], int x, int y,\r\n                                        int prevC, int newC)\r\n    {\r\n        // Base cases\r\n        if (x &lt; 0 || x &gt;= M || y &lt; 0 || y &gt;= N)\r\n            return;\r\n                if (screen[x][y] != prevC){\r\n            return;\r\n        }\r\n        // Replace the color at (x, y)\r\n        screen[x][y] = newC;\r\n    \r\n        // Recur for north, east, south and west\r\n        floodFillUtil(screen, x+1, y, prevC, newC);\r\n        floodFillUtil(screen, x-1, y, prevC, newC);\r\n        floodFillUtil(screen, x, y+1, prevC, newC);\r\n        floodFillUtil(screen, x, y-1, prevC, newC);\r\n        \r\n    }\r\n    \r\n    // It mainly finds the previous color on (x, y) and\r\n    // calls floodFillUtil()\r\n    static void floodFill(int screen[][], int x, int y, int newC)\r\n    {\r\n        int prevC = screen[x][y];\r\n        if(prevC==newC) return;\r\n        floodFillUtil(screen, x, y, prevC, newC);\r\n    }\r\n    \r\n    // Driver code\r\n    public static void main(String[] args)\r\n    {\r\n        int screen[][] = {{1, 1, 1, 1, 1, 1, 1, 1},\r\n                        {1, 1, 1, 1, 1, 1, 0, 0},\r\n                        {1, 0, 0, 1, 1, 0, 1, 1},\r\n                        {1, 2, 2, 2, 2, 0, 1, 0},\r\n                        {1, 1, 2, 2, 2, 0, 1, 0},\r\n                        {1, 1, 1, 2, 2, 2, 2, 0},\r\n                        {1, 1, 1, 1, 1, 2, 1, 1},\r\n                        {1, 1, 1, 1, 1, 2, 2, 1},\r\n                        };\r\n        int x = 4, y = 4, newC = 3;\r\n        floodFill(screen, x, y, newC);\r\n    \r\n        System.out.println(&quot;Updated screen after call to floodFill: &quot;);\r\n        for (int i = 0; i &lt; M; i++)\r\n        {\r\n            for (int j = 0; j &lt; N; j++)\r\n            System.out.print(screen[i][j] + &quot; &quot;);\r\n            System.out.println();\r\n        }\r\n        }\r\n    }\r\n\r\n","title":"Flood fill adjacent values of boundary","body":"<p>I am trying to create an algorithm where I can get the adjacent values of flood fill. Assuming I have the following 2d array:</p>\n<p><a href=\"https://i.stack.imgur.com/AMxqP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AMxqP.png\" alt=\"enter image description here\" /></a></p>\n<p>I need to be able to add the values in yellow, which are the boundary of the flood fill. So far I managed to do a flood fill, which is not really the scope of my exercise, but a starting point. Any ideas how I can get the boundary values. Here is the code I have so far?</p>\n<pre><code>    // Java program to implement flood fill algorithm\nclass GFG\n{\n\n// Dimensions of paint screen\nstatic int M = 8;\nstatic int N = 8;\n\n// A recursive function to replace previous color 'prevC' at '(x, y)'\n// and all surrounding pixels of (x, y) with new color 'newC' and\nstatic void floodFillUtil(int screen[][], int x, int y,\n                                    int prevC, int newC)\n{\n    // Base cases\n    if (x &lt; 0 || x &gt;= M || y &lt; 0 || y &gt;= N)\n        return;\n            if (screen[x][y] != prevC){\n        return;\n    }\n    // Replace the color at (x, y)\n    screen[x][y] = newC;\n\n    // Recur for north, east, south and west\n    floodFillUtil(screen, x+1, y, prevC, newC);\n    floodFillUtil(screen, x-1, y, prevC, newC);\n    floodFillUtil(screen, x, y+1, prevC, newC);\n    floodFillUtil(screen, x, y-1, prevC, newC);\n    \n}\n\n// It mainly finds the previous color on (x, y) and\n// calls floodFillUtil()\nstatic void floodFill(int screen[][], int x, int y, int newC)\n{\n    int prevC = screen[x][y];\n    if(prevC==newC) return;\n    floodFillUtil(screen, x, y, prevC, newC);\n}\n\n// Driver code\npublic static void main(String[] args)\n{\n    int screen[][] = {{1, 1, 1, 1, 1, 1, 1, 1},\n                    {1, 1, 1, 1, 1, 1, 0, 0},\n                    {1, 0, 0, 1, 1, 0, 1, 1},\n                    {1, 2, 2, 2, 2, 0, 1, 0},\n                    {1, 1, 2, 2, 2, 0, 1, 0},\n                    {1, 1, 1, 2, 2, 2, 2, 0},\n                    {1, 1, 1, 1, 1, 2, 1, 1},\n                    {1, 1, 1, 1, 1, 2, 2, 1},\n                    };\n    int x = 4, y = 4, newC = 3;\n    floodFill(screen, x, y, newC);\n\n    System.out.println(&quot;Updated screen after call to floodFill: &quot;);\n    for (int i = 0; i &lt; M; i++)\n    {\n        for (int j = 0; j &lt; N; j++)\n        System.out.print(screen[i][j] + &quot; &quot;);\n        System.out.println();\n    }\n    }\n}\n</code></pre>\n"},{"tags":["java","jackson","xml-serialization"],"comments":[{"owner":{"account_id":6426024,"reputation":1723,"user_id":4981150,"display_name":"Pieter12345"},"score":1,"creation_date":1637186922,"post_id":70012081,"comment_id":123762488,"body_markdown":"Your example code is incomplete. This is likely the difference between using the enum name, its `toString()` value or some other getter. It is not possible to tell what the issue is without seeing the code.","body":"Your example code is incomplete. This is likely the difference between using the enum name, its <code>toString()</code> value or some other getter. It is not possible to tell what the issue is without seeing the code."},{"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"score":0,"creation_date":1637187472,"post_id":70012081,"comment_id":123762684,"body_markdown":"@Pieter12345 Jo&#227;o Dias I added the full implementation. Sorry about that!","body":"@Pieter12345 Jo&#227;o Dias I added the full implementation. Sorry about that!"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637188391,"creation_date":1637187589,"answer_id":70012287,"question_id":70012081,"body_markdown":"You need to add `@JsonValue` to the `getValue()` method so that this method is used by Jackson to serialize the instance:\r\n```java\r\npublic enum OutputFormatEnum {\r\n    PDF(&quot;pdf&quot;),\r\n\r\n    DOCX(&quot;docx&quot;),\r\n\r\n    XLSX(&quot;xlsx&quot;),\r\n\r\n    PPTX(&quot;pptx&quot;),\r\n\r\n    HTML(&quot;html&quot;),\r\n\r\n    PRN(&quot;prn&quot;),\r\n\r\n    CSV(&quot;csv&quot;),\r\n\r\n    RTF(&quot;rtf&quot;),\r\n\r\n    JPG(&quot;jpg&quot;),\r\n\r\n    PNG(&quot;png&quot;),\r\n\r\n    SVG(&quot;svg&quot;),\r\n\r\n    EPS(&quot;eps&quot;),\r\n\r\n    BMP(&quot;bmp&quot;),\r\n\r\n    GIF(&quot;gif&quot;),\r\n\r\n    TXT(&quot;txt&quot;);\r\n\r\n    private String value;\r\n\r\n    OutputFormatEnum(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @JsonValue\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.valueOf(value);\r\n    }\r\n\r\n    public static OutputFormatEnum fromValue(String value) {\r\n        for (OutputFormatEnum b : OutputFormatEnum.values())\r\n            if (b.value.equals(value))\r\n                return b;\r\n        throw new IllegalArgumentException(&quot;Unexpected value &#39;&quot; + value + &quot;&#39;&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n----------\r\n\r\nGiven that you are serializing this to XML, you might need to use `@XmlValue` instead:\r\n```java\r\npublic enum OutputFormatEnum {\r\n    PDF(&quot;pdf&quot;),\r\n\r\n    DOCX(&quot;docx&quot;),\r\n\r\n    XLSX(&quot;xlsx&quot;),\r\n\r\n    PPTX(&quot;pptx&quot;),\r\n\r\n    HTML(&quot;html&quot;),\r\n\r\n    PRN(&quot;prn&quot;),\r\n\r\n    CSV(&quot;csv&quot;),\r\n\r\n    RTF(&quot;rtf&quot;),\r\n\r\n    JPG(&quot;jpg&quot;),\r\n\r\n    PNG(&quot;png&quot;),\r\n\r\n    SVG(&quot;svg&quot;),\r\n\r\n    EPS(&quot;eps&quot;),\r\n\r\n    BMP(&quot;bmp&quot;),\r\n\r\n    GIF(&quot;gif&quot;),\r\n\r\n    TXT(&quot;txt&quot;);\r\n\r\n    private String value;\r\n\r\n    OutputFormatEnum(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @XmlValue\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.valueOf(value);\r\n    }\r\n\r\n    public static OutputFormatEnum fromValue(String value) {\r\n        for (OutputFormatEnum b : OutputFormatEnum.values())\r\n            if (b.value.equals(value))\r\n                return b;\r\n        throw new IllegalArgumentException(&quot;Unexpected value &#39;&quot; + value + &quot;&#39;&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIn addition to this, you need to enable the support for the standard JAXB annotations as follows:\r\n```java\r\nxmlMapper.registerModule(new JaxbAnnotationModule());\r\n```","title":"Jackson serializes Enum to NAME not value (XML) Java","body":"<p>You need to add <code>@JsonValue</code> to the <code>getValue()</code> method so that this method is used by Jackson to serialize the instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum OutputFormatEnum {\n    PDF(&quot;pdf&quot;),\n\n    DOCX(&quot;docx&quot;),\n\n    XLSX(&quot;xlsx&quot;),\n\n    PPTX(&quot;pptx&quot;),\n\n    HTML(&quot;html&quot;),\n\n    PRN(&quot;prn&quot;),\n\n    CSV(&quot;csv&quot;),\n\n    RTF(&quot;rtf&quot;),\n\n    JPG(&quot;jpg&quot;),\n\n    PNG(&quot;png&quot;),\n\n    SVG(&quot;svg&quot;),\n\n    EPS(&quot;eps&quot;),\n\n    BMP(&quot;bmp&quot;),\n\n    GIF(&quot;gif&quot;),\n\n    TXT(&quot;txt&quot;);\n\n    private String value;\n\n    OutputFormatEnum(String value) {\n        this.value = value;\n    }\n\n    @JsonValue\n    public String getValue() {\n        return value;\n    }\n\n    @Override\n    public String toString() {\n        return String.valueOf(value);\n    }\n\n    public static OutputFormatEnum fromValue(String value) {\n        for (OutputFormatEnum b : OutputFormatEnum.values())\n            if (b.value.equals(value))\n                return b;\n        throw new IllegalArgumentException(&quot;Unexpected value '&quot; + value + &quot;'&quot;);\n    }\n}\n</code></pre>\n<hr />\n<p>Given that you are serializing this to XML, you might need to use <code>@XmlValue</code> instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum OutputFormatEnum {\n    PDF(&quot;pdf&quot;),\n\n    DOCX(&quot;docx&quot;),\n\n    XLSX(&quot;xlsx&quot;),\n\n    PPTX(&quot;pptx&quot;),\n\n    HTML(&quot;html&quot;),\n\n    PRN(&quot;prn&quot;),\n\n    CSV(&quot;csv&quot;),\n\n    RTF(&quot;rtf&quot;),\n\n    JPG(&quot;jpg&quot;),\n\n    PNG(&quot;png&quot;),\n\n    SVG(&quot;svg&quot;),\n\n    EPS(&quot;eps&quot;),\n\n    BMP(&quot;bmp&quot;),\n\n    GIF(&quot;gif&quot;),\n\n    TXT(&quot;txt&quot;);\n\n    private String value;\n\n    OutputFormatEnum(String value) {\n        this.value = value;\n    }\n\n    @XmlValue\n    public String getValue() {\n        return value;\n    }\n\n    @Override\n    public String toString() {\n        return String.valueOf(value);\n    }\n\n    public static OutputFormatEnum fromValue(String value) {\n        for (OutputFormatEnum b : OutputFormatEnum.values())\n            if (b.value.equals(value))\n                return b;\n        throw new IllegalArgumentException(&quot;Unexpected value '&quot; + value + &quot;'&quot;);\n    }\n}\n</code></pre>\n<p>In addition to this, you need to enable the support for the standard JAXB annotations as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>xmlMapper.registerModule(new JaxbAnnotationModule());\n</code></pre>\n"}],"owner":{"account_id":19179579,"reputation":197,"user_id":14011616,"display_name":"zaidabuhijleh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70012287,"answer_count":1,"score":0,"last_activity_date":1637188391,"creation_date":1637186247,"question_id":70012081,"body_markdown":"I have this Enum defined:\r\n\r\n    public enum OutputFormatEnum {\r\n\t\tPDF(&quot;pdf&quot;),\r\n\r\n\t\tDOCX(&quot;docx&quot;),\r\n\r\n\t\tXLSX(&quot;xlsx&quot;),\r\n\r\n\t\tPPTX(&quot;pptx&quot;),\r\n\r\n\t\tHTML(&quot;html&quot;),\r\n\r\n\t\tPRN(&quot;prn&quot;),\r\n\r\n\t\tCSV(&quot;csv&quot;),\r\n\r\n\t\tRTF(&quot;rtf&quot;),\r\n\r\n\t\tJPG(&quot;jpg&quot;),\r\n\r\n\t\tPNG(&quot;png&quot;),\r\n\r\n\t\tSVG(&quot;svg&quot;),\r\n\r\n\t\tEPS(&quot;eps&quot;),\r\n\r\n\t\tBMP(&quot;bmp&quot;),\r\n\r\n\t\tGIF(&quot;gif&quot;),\r\n\r\n\t\tTXT(&quot;txt&quot;);\r\n\r\n\t\tprivate String value;\r\n\r\n\t\tOutputFormatEnum(String value) {\r\n\t\t\tthis.value = value;\r\n\t\t}\r\n\r\n\t\tpublic String getValue() {\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\treturn String.valueOf(value);\r\n\t\t}\r\n\r\n\t\tpublic static OutputFormatEnum fromValue(String value) {\r\n\t\t\tfor (OutputFormatEnum b : OutputFormatEnum.values())\r\n\t\t\t\tif (b.value.equals(value))\r\n\t\t\t\t\treturn b;\r\n\t\t\tthrow new IllegalArgumentException(&quot;Unexpected value &#39;&quot; + value + &quot;&#39;&quot;);\r\n\t\t}\r\n\t}\r\n\r\nI have a model object that has a OutputFormatEnum variable called OutputFormat. When I set this variable to OutputFormatEnum.PDF, it is initially registered as &quot;pdf&quot; which is what it should be. When I then execute the following code:\r\n\r\n    ByteArrayOutputStream streamTemplate = new ByteArrayOutputStream();\r\n    xmlMapper.writeValue(streamTemplate, {model_object_with_enum_variable});\r\n\r\nIt sets the value of OutputFormat in streamTemplate to &quot;PDF&quot;, where it should be &quot;pdf&quot; (the value of OutputFormatEnum.PDF). Any idea as to why this is happening?\r\n\r\n","title":"Jackson serializes Enum to NAME not value (XML) Java","body":"<p>I have this Enum defined:</p>\n<pre><code>public enum OutputFormatEnum {\n    PDF(&quot;pdf&quot;),\n\n    DOCX(&quot;docx&quot;),\n\n    XLSX(&quot;xlsx&quot;),\n\n    PPTX(&quot;pptx&quot;),\n\n    HTML(&quot;html&quot;),\n\n    PRN(&quot;prn&quot;),\n\n    CSV(&quot;csv&quot;),\n\n    RTF(&quot;rtf&quot;),\n\n    JPG(&quot;jpg&quot;),\n\n    PNG(&quot;png&quot;),\n\n    SVG(&quot;svg&quot;),\n\n    EPS(&quot;eps&quot;),\n\n    BMP(&quot;bmp&quot;),\n\n    GIF(&quot;gif&quot;),\n\n    TXT(&quot;txt&quot;);\n\n    private String value;\n\n    OutputFormatEnum(String value) {\n        this.value = value;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    @Override\n    public String toString() {\n        return String.valueOf(value);\n    }\n\n    public static OutputFormatEnum fromValue(String value) {\n        for (OutputFormatEnum b : OutputFormatEnum.values())\n            if (b.value.equals(value))\n                return b;\n        throw new IllegalArgumentException(&quot;Unexpected value '&quot; + value + &quot;'&quot;);\n    }\n}\n</code></pre>\n<p>I have a model object that has a OutputFormatEnum variable called OutputFormat. When I set this variable to OutputFormatEnum.PDF, it is initially registered as &quot;pdf&quot; which is what it should be. When I then execute the following code:</p>\n<pre><code>ByteArrayOutputStream streamTemplate = new ByteArrayOutputStream();\nxmlMapper.writeValue(streamTemplate, {model_object_with_enum_variable});\n</code></pre>\n<p>It sets the value of OutputFormat in streamTemplate to &quot;PDF&quot;, where it should be &quot;pdf&quot; (the value of OutputFormatEnum.PDF). Any idea as to why this is happening?</p>\n"},{"tags":["java","scala","intellij-idea","javafx","fxml"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1609541760,"post_id":65534317,"comment_id":115864028,"body_markdown":"Where did you learn `@FXML private val actiontarget: Text = null`?","body":"Where did you learn <code>@FXML private val actiontarget: Text = null</code>?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1609541774,"post_id":65534317,"comment_id":115864031,"body_markdown":"Have you tried `@FXML private val actiontarget;`?","body":"Have you tried <code>@FXML private val actiontarget;</code>?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1609542363,"post_id":65534317,"comment_id":115864138,"body_markdown":"Post the complete stack trace (format it as code), as well as the FXML file","body":"Post the complete stack trace (format it as code), as well as the FXML file"},{"owner":{"account_id":17322261,"reputation":27,"user_id":12547382,"display_name":"LarryK"},"score":0,"creation_date":1609542614,"post_id":65534317,"comment_id":115864188,"body_markdown":"The &quot;= null&quot; was from what Intellij generated when I used the menu item Code/Convert Java to Scala (which I believe is from the Scalagen, Java to Scala Converter plugin.","body":"The &quot;= null&quot; was from what Intellij generated when I used the menu item Code/Convert Java to Scala (which I believe is from the Scalagen, Java to Scala Converter plugin."},{"owner":{"account_id":17322261,"reputation":27,"user_id":12547382,"display_name":"LarryK"},"score":0,"creation_date":1609542784,"post_id":65534317,"comment_id":115864223,"body_markdown":"When I &quot;...actiontarget;&quot; I get the compile error:  &#39;=&#39; expected but &#39;;&#39; found.","body":"When I &quot;...actiontarget;&quot; I get the compile error:  &#39;=&#39; expected but &#39;;&#39; found."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1609556895,"post_id":65534317,"comment_id":115866217,"body_markdown":"You should be using this format: `private val fx:id: NodeType`. See [here](https://vigoo.github.io/posts/2014-01-12-scalafx-with-fxml.html) for an example. Your `Controller` class looks very different than the linked example.","body":"You should be using this format: <code>private val fx:id: NodeType</code>. See <a href=\"https://vigoo.github.io/posts/2014-01-12-scalafx-with-fxml.html\" rel=\"nofollow noreferrer\">here</a> for an example. Your <code>Controller</code> class looks very different than the linked example."},{"owner":{"account_id":17322261,"reputation":27,"user_id":12547382,"display_name":"LarryK"},"score":2,"creation_date":1609566181,"post_id":65534317,"comment_id":115867285,"body_markdown":"Sedrick,  Thanks for the link to the example.  Unfortunately it uses ScalaFX and a small library that the author wrote called ScalaFXML.  I just want to use JavaFX SceneBuilder for the GUI, and no ScalaFX.  I believe this is the most modern/mature GUI framework for the JVM, aside from pure JavaFX.  So, since other approaches do not look straight-forward, clean, and mature, I guess I will go with:  SceneBuilder to generate FXML for the GUI, java for the Controller, and scala for everything else.","body":"Sedrick,  Thanks for the link to the example.  Unfortunately it uses ScalaFX and a small library that the author wrote called ScalaFXML.  I just want to use JavaFX SceneBuilder for the GUI, and no ScalaFX.  I believe this is the most modern/mature GUI framework for the JVM, aside from pure JavaFX.  So, since other approaches do not look straight-forward, clean, and mature, I guess I will go with:  SceneBuilder to generate FXML for the GUI, java for the Controller, and scala for everything else."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1609629084,"post_id":65534317,"comment_id":115883251,"body_markdown":"Sorry @LarryK. I did not notice that.","body":"Sorry @LarryK. I did not notice that."}],"answers":[{"tags":[],"owner":{"account_id":12006292,"reputation":61,"user_id":8784544,"display_name":"vinjana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637187307,"creation_date":1637187307,"answer_id":70012245,"question_id":65534317,"body_markdown":"I managed to get this running as follows:\r\n\r\n```scala\r\nimport javafx.event.ActionEvent\r\nimport javafx.fxml.FXML\r\nimport javafx.scene.text._\r\n\r\nclass sController {\r\n  @FXML private var actiontarget: Text = _\r\n\r\n  @FXML protected def handleSubmitButtonAction(event: ActionEvent): Unit = {\r\n    actiontarget.setText(&quot;Sign in button pressed&quot;)\r\n  }\r\n}\r\n```\r\n\r\ni.e. use a `var` field. \r\n\r\nI left the field `private` and still initialized it to `_` or `null`. This is basically as described in [programmersdigest.de](https://programmersdigest.de/en/javafx_with_scala). But, note that I am not very far with my own application, yet. It could be that the field additionally has to be made public because otherwise the compiler is forced to do name mangling and messes things up. See [here](https://stackoverflow.com/questions/31754053/scala-name-mangling-of-private-fields-and-javafx-fxml-injection) for more details. ","title":"How do I make a FXML controller with scala?","body":"<p>I managed to get this running as follows:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import javafx.event.ActionEvent\nimport javafx.fxml.FXML\nimport javafx.scene.text._\n\nclass sController {\n  @FXML private var actiontarget: Text = _\n\n  @FXML protected def handleSubmitButtonAction(event: ActionEvent): Unit = {\n    actiontarget.setText(&quot;Sign in button pressed&quot;)\n  }\n}\n</code></pre>\n<p>i.e. use a <code>var</code> field.</p>\n<p>I left the field <code>private</code> and still initialized it to <code>_</code> or <code>null</code>. This is basically as described in <a href=\"https://programmersdigest.de/en/javafx_with_scala\" rel=\"nofollow noreferrer\">programmersdigest.de</a>. But, note that I am not very far with my own application, yet. It could be that the field additionally has to be made public because otherwise the compiler is forced to do name mangling and messes things up. See <a href=\"https://stackoverflow.com/questions/31754053/scala-name-mangling-of-private-fields-and-javafx-fxml-injection\">here</a> for more details.</p>\n"}],"owner":{"account_id":17322261,"reputation":27,"user_id":12547382,"display_name":"LarryK"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1637187307,"creation_date":1609540695,"question_id":65534317,"body_markdown":"I am trying to use create a scala program that uses the FXML file generated from JavaFX SceneBuilder for the GUI.  Although &lt;https://docs.oracle.com/javafx/2/get_started/fxml_tutorial.htm&gt; is java, I am using it as my example starting point.  (Couldn&#39;t find anything better.)\r\n\r\nI am able to get this example to run if I use the java version of the controller class, as shown in the example.  (Works with either the java version or a scala version of the class that extends Application and has the overridden start method in it.)  But if I replace this java version controller class with a scala version, I get the error below:\r\n\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1774)\r\n\r\nHere is what Intellij converted the java version controller (which I call jController) to a scala version (which I call sController) when I used the menu item Code/Convert Java to Scala:\r\n\r\n```\r\nimport javafx.event.ActionEvent\r\nimport javafx.fxml.FXML\r\nimport javafx.scene.text._\r\n\r\nclass sController {\r\n  @FXML private val actiontarget: Text = null\r\n\r\n  @FXML protected def handleSubmitButtonAction(event: ActionEvent): Unit = {\r\n    actiontarget.setText(&quot;Sign in button pressed&quot;)\r\n  }\r\n}\r\n```\r\nOf course I also changed &lt;GridPane fx:controller=&quot;jController&quot; to\r\n&lt;GridPane fx:controller=&quot;sController&quot;  in the generated FXML file.\r\n\r\nI&#39;ve also tried modifications to the scala version of the controller, starting from the code above that Intellij generated, but nothing worked.\r\n\r\nIf I replace\r\n```\r\n@FXML private val actiontarget: Text = null\r\n```\r\nwith\r\n\r\n```\r\n@FXML private val actiontarget: Text = new Text()\r\n```\r\nthen it runs without the exception but does not respond to the button being pressed.\r\n\r\nI also tried the javascript version, shown in the example, in place of the controller version, but I don&#39;t know anything about javascript and Intellij does not seem to have the &quot;JavaScript and TypeScript bundled plugin&quot; available anymore as referred to here: &lt;https://www.jetbrains.com/help/idea/2020.3/javascript-specific-guidelines.html#ws_JavaScript_before_you_start&gt;  I tried different javascript and typescript plugins, but didn&#39;t help.\r\n\r\nAny ideas, or is this article correct?  &lt;https://bugs.openjdk.java.net/browse/JDK-8116127&gt;\r\n","title":"How do I make a FXML controller with scala?","body":"<p>I am trying to use create a scala program that uses the FXML file generated from JavaFX SceneBuilder for the GUI.  Although <a href=\"https://docs.oracle.com/javafx/2/get_started/fxml_tutorial.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javafx/2/get_started/fxml_tutorial.htm</a> is java, I am using it as my example starting point.  (Couldn't find anything better.)</p>\n<p>I am able to get this example to run if I use the java version of the controller class, as shown in the example.  (Works with either the java version or a scala version of the class that extends Application and has the overridden start method in it.)  But if I replace this java version controller class with a scala version, I get the error below:</p>\n<p>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\nat javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1774)</p>\n<p>Here is what Intellij converted the java version controller (which I call jController) to a scala version (which I call sController) when I used the menu item Code/Convert Java to Scala:</p>\n<pre><code>import javafx.event.ActionEvent\nimport javafx.fxml.FXML\nimport javafx.scene.text._\n\nclass sController {\n  @FXML private val actiontarget: Text = null\n\n  @FXML protected def handleSubmitButtonAction(event: ActionEvent): Unit = {\n    actiontarget.setText(&quot;Sign in button pressed&quot;)\n  }\n}\n</code></pre>\n<p>Of course I also changed &lt;GridPane fx:controller=&quot;jController&quot; to\n&lt;GridPane fx:controller=&quot;sController&quot;  in the generated FXML file.</p>\n<p>I've also tried modifications to the scala version of the controller, starting from the code above that Intellij generated, but nothing worked.</p>\n<p>If I replace</p>\n<pre><code>@FXML private val actiontarget: Text = null\n</code></pre>\n<p>with</p>\n<pre><code>@FXML private val actiontarget: Text = new Text()\n</code></pre>\n<p>then it runs without the exception but does not respond to the button being pressed.</p>\n<p>I also tried the javascript version, shown in the example, in place of the controller version, but I don't know anything about javascript and Intellij does not seem to have the &quot;JavaScript and TypeScript bundled plugin&quot; available anymore as referred to here: <a href=\"https://www.jetbrains.com/help/idea/2020.3/javascript-specific-guidelines.html#ws_JavaScript_before_you_start\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/2020.3/javascript-specific-guidelines.html#ws_JavaScript_before_you_start</a>  I tried different javascript and typescript plugins, but didn't help.</p>\n<p>Any ideas, or is this article correct?  <a href=\"https://bugs.openjdk.java.net/browse/JDK-8116127\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8116127</a></p>\n"},{"tags":["java","java-12"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1563646898,"post_id":57127432,"comment_id":100771592,"body_markdown":"@JBNizet https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/constant/Constable.html","body":"@JBNizet <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/constant/Constable.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/12/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1637185926,"creation_date":1563647123,"answer_id":57127501,"question_id":57127432,"body_markdown":"The method [`Optional&lt;? extends ConstantDesc&gt; describeConstable()`][Constable#describeConstable] stems from the interface [`Constable`][Constable], not from [`Enum`][Enum]. From [`Constable`][Constable]&#39;s documentation:\r\n\r\n&gt; ...\r\n&gt;\r\n&gt; The nominal form of an instance of a constable type is obtained via [`describeConstable()`][Constable#describeConstable]. **A [`Constable`][Constable] need not be able to (or may choose not to) describe all its instances in the form of a [`ConstantDesc`][ConstantDesc]**; this method returns an [`Optional`][Optional] that can be empty to indicate that a nominal descriptor could not be created for an instance. (For example, [`MethodHandle`][MethodHandle] will produce nominal descriptors for direct method handles, but not necessarily those produced by method handle combinators.)\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; See The Java™ Virtual Machine Specification:\r\n&gt;\r\n&gt; 4.4 The Constant Pool, 4.4.10 The CONSTANT_InvokeDynamic_info Structure\r\n&gt;\r\n&gt; ...\r\n\r\n[Constable#describeConstable]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/constant/Constable.html#describeConstable()\r\n\r\n[Constable]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/constant/Constable.html\r\n\r\n[Enum]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html\r\n\r\n[ConstantDesc]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/constant/ConstantDesc.html\r\n\r\n[Optional]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\r\n\r\n[MethodHandle]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandle.html","title":"Why is describeConstable an optional?","body":"<p>The method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/constant/Constable.html#describeConstable()\" rel=\"nofollow noreferrer\"><code>Optional&lt;? extends ConstantDesc&gt; describeConstable()</code></a> stems from the interface <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/constant/Constable.html\" rel=\"nofollow noreferrer\"><code>Constable</code></a>, not from <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html\" rel=\"nofollow noreferrer\"><code>Enum</code></a>. From <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/constant/Constable.html\" rel=\"nofollow noreferrer\"><code>Constable</code></a>'s documentation:</p>\n<blockquote>\n<p>...</p>\n<p>The nominal form of an instance of a constable type is obtained via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/constant/Constable.html#describeConstable()\" rel=\"nofollow noreferrer\"><code>describeConstable()</code></a>. <strong>A <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/constant/Constable.html\" rel=\"nofollow noreferrer\"><code>Constable</code></a> need not be able to (or may choose not to) describe all its instances in the form of a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/constant/ConstantDesc.html\" rel=\"nofollow noreferrer\"><code>ConstantDesc</code></a></strong>; this method returns an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a> that can be empty to indicate that a nominal descriptor could not be created for an instance. (For example, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandle.html\" rel=\"nofollow noreferrer\"><code>MethodHandle</code></a> will produce nominal descriptors for direct method handles, but not necessarily those produced by method handle combinators.)</p>\n<p>...</p>\n<p>See The Java™ Virtual Machine Specification:</p>\n<p>4.4 The Constant Pool, 4.4.10 The CONSTANT_InvokeDynamic_info Structure</p>\n<p>...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1563647456,"creation_date":1563647152,"answer_id":57127503,"question_id":57127432,"body_markdown":"`describeConstable()` is a method inherited from interface [`Constable`][1], where the description is:\r\n\r\n &gt; Returns an `Optional` containing the nominal descriptor for this instance, if one can be constructed, or **an empty `Optional` if one cannot be constructed**.\r\n\r\nSure, in some classes, e.g. [`Integer`][2], it can never be *empty*:\r\n\r\n &gt; Returns an `Optional` containing the nominal descriptor for this instance, which is **the instance itself**.\r\n\r\nBut the return value is an `Optional` because that is not true for all implementations of the interface.\r\n\r\nThe javadoc of [`Constable`][1] has this to say:\r\n\r\n &gt; A Constable need not be able to (or may choose not to) describe all its instances in the form of a `ConstantDesc`; this method returns an `Optional` that can be empty to indicate that a nominal descriptor could not be created for an instance. (**For example, `MethodHandle` will produce nominal descriptors for direct method handles, but not necessarily those produced by method handle combinators.**)\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/constant/Constable.html\r\n  [2]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Integer.html#describeConstable()","title":"Why is describeConstable an optional?","body":"<p><code>describeConstable()</code> is a method inherited from interface <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/constant/Constable.html\" rel=\"noreferrer\"><code>Constable</code></a>, where the description is:</p>\n\n<blockquote>\n  <p>Returns an <code>Optional</code> containing the nominal descriptor for this instance, if one can be constructed, or <strong>an empty <code>Optional</code> if one cannot be constructed</strong>.</p>\n</blockquote>\n\n<p>Sure, in some classes, e.g. <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/Integer.html#describeConstable()\" rel=\"noreferrer\"><code>Integer</code></a>, it can never be <em>empty</em>:</p>\n\n<blockquote>\n  <p>Returns an <code>Optional</code> containing the nominal descriptor for this instance, which is <strong>the instance itself</strong>.</p>\n</blockquote>\n\n<p>But the return value is an <code>Optional</code> because that is not true for all implementations of the interface.</p>\n\n<p>The javadoc of <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/constant/Constable.html\" rel=\"noreferrer\"><code>Constable</code></a> has this to say:</p>\n\n<blockquote>\n  <p>A Constable need not be able to (or may choose not to) describe all its instances in the form of a <code>ConstantDesc</code>; this method returns an <code>Optional</code> that can be empty to indicate that a nominal descriptor could not be created for an instance. (<strong>For example, <code>MethodHandle</code> will produce nominal descriptors for direct method handles, but not necessarily those produced by method handle combinators.</strong>)</p>\n</blockquote>\n"}],"owner":{"account_id":114116,"reputation":37500,"user_id":300224,"accept_rate":68,"display_name":"William Entriken"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2163,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1637185926,"creation_date":1563646658,"question_id":57127432,"body_markdown":"Under what circumstance would `someEnum.describeConstable()` fail to return an `EnumDesc`?\r\n\r\ni.e. it would return an empty `Optional`.","title":"Why is describeConstable an optional?","body":"<p>Under what circumstance would <code>someEnum.describeConstable()</code> fail to return an <code>EnumDesc</code>?</p>\n\n<p>i.e. it would return an empty <code>Optional</code>.</p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","focus"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637182188,"creation_date":1637182188,"answer_id":70011372,"question_id":70011309,"body_markdown":"You can not do that. These are 2 different, totally separated web driver instances (processes) and you can not switch from one to another or pass windows handles between them during their run.","title":"How to switch between chrome windows opened by different webdriver in Java?","body":"<p>You can not do that. These are 2 different, totally separated web driver instances (processes) and you can not switch from one to another or pass windows handles between them during their run.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637183615,"creation_date":1637183615,"answer_id":70011621,"question_id":70011309,"body_markdown":"To switch between two _Browsing Contexts_ e.g. two[tag:google-chrome] windows opened by two different [WebDriver](https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871) you can [switch the focus](https://stackoverflow.com/questions/49216418/how-to-switch-between-different-chrome-browser-window-opened-by-different-webdri/49220645#49220645) using the following lines of code:\r\n\r\n\t((JavascriptExecutor) driverA).executeScript(&quot;window.focus();&quot;);\r\n\t((JavascriptExecutor) driverB).executeScript(&quot;window.focus();&quot;);","title":"How to switch between chrome windows opened by different webdriver in Java?","body":"<p>To switch between two <em>Browsing Contexts</em> e.g. two<a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\">google-chrome</a> windows opened by two different <a href=\"https://stackoverflow.com/questions/48079120/what-is-the-difference-between-chromedriver-and-webdriver-in-selenium/48080871#48080871\">WebDriver</a> you can <a href=\"https://stackoverflow.com/questions/49216418/how-to-switch-between-different-chrome-browser-window-opened-by-different-webdri/49220645#49220645\">switch the focus</a> using the following lines of code:</p>\n<pre><code>((JavascriptExecutor) driverA).executeScript(&quot;window.focus();&quot;);\n((JavascriptExecutor) driverB).executeScript(&quot;window.focus();&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10336690,"reputation":3527,"user_id":7624566,"display_name":"K. B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637185898,"creation_date":1637185898,"answer_id":70012021,"question_id":70011309,"body_markdown":"You can use WinAppDriver if you do not have another option, it deals with window handles. It is used mainly for desktop applications. It works for web applications, but is more time-consuming.\r\n\r\nI am not aware of such option in Selenium. You can attach to already running Chrome driver, but as far as I know, there is no such functionality for the other drivers.\r\n\r\nReferences:   \r\nhttps://stackoverflow.com/questions/68912075/how-to-switch-focus-between-windows-using-winappdriver-java/68913376#68913376   \r\nhttps://harith-sankalpa.medium.com/connect-selenium-driver-to-an-existing-chrome-browser-instance-41435b67affd","title":"How to switch between chrome windows opened by different webdriver in Java?","body":"<p>You can use WinAppDriver if you do not have another option, it deals with window handles. It is used mainly for desktop applications. It works for web applications, but is more time-consuming.</p>\n<p>I am not aware of such option in Selenium. You can attach to already running Chrome driver, but as far as I know, there is no such functionality for the other drivers.</p>\n<p>References:<br />\n<a href=\"https://stackoverflow.com/questions/68912075/how-to-switch-focus-between-windows-using-winappdriver-java/68913376#68913376\">How to switch focus between windows using WinAppDriver Java</a><br />\n<a href=\"https://harith-sankalpa.medium.com/connect-selenium-driver-to-an-existing-chrome-browser-instance-41435b67affd\" rel=\"nofollow noreferrer\">https://harith-sankalpa.medium.com/connect-selenium-driver-to-an-existing-chrome-browser-instance-41435b67affd</a></p>\n"}],"owner":{"account_id":4497380,"reputation":37,"user_id":3656866,"display_name":"awkward"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1637185898,"creation_date":1637181902,"question_id":70011309,"body_markdown":"When opening browsers using the same driver instance the switch works (followed https://www.browserstack.com/guide/handle-multiple-windows-in-selenium)but when I try to open two different windows with two different instance of web driver how to make it work?\r\nI want to switch control to the first opened chrome window.\r\nPlease help.","title":"How to switch between chrome windows opened by different webdriver in Java?","body":"<p>When opening browsers using the same driver instance the switch works (followed <a href=\"https://www.browserstack.com/guide/handle-multiple-windows-in-selenium\" rel=\"nofollow noreferrer\">https://www.browserstack.com/guide/handle-multiple-windows-in-selenium</a>)but when I try to open two different windows with two different instance of web driver how to make it work?\nI want to switch control to the first opened chrome window.\nPlease help.</p>\n"},{"tags":["java","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":13095640,"reputation":264,"user_id":9461648,"display_name":"kokodyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637181713,"creation_date":1637180749,"answer_id":70011092,"question_id":69975211,"body_markdown":"Please consider using such a method:\r\n\r\n    Flux.fromStream(s.chars().mapToObj(str-&gt;(char)str).map(String::valueOf));\r\n\r\ninstead of begining of your code:\r\n\r\n    Mono.just(s)\r\n                .log()\r\n                .flatMapIterable ...\r\n\r\nAnswer is based on documentation to Flux:\r\n\r\nhttps://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#fromStream-java.util.stream.Stream-\r\nI am not sure is a best answer which we could write :) \r\nI assume it&#39;s more eficient to create a Flux then converting Mono to Flux via flatMapIterable.","title":"Avoiding time consuming logic when using flatmapIterable","body":"<p>Please consider using such a method:</p>\n<pre><code>Flux.fromStream(s.chars().mapToObj(str-&gt;(char)str).map(String::valueOf));\n</code></pre>\n<p>instead of begining of your code:</p>\n<pre><code>Mono.just(s)\n            .log()\n            .flatMapIterable ...\n</code></pre>\n<p>Answer is based on documentation to Flux:</p>\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#fromStream-java.util.stream.Stream-\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#fromStream-java.util.stream.Stream-</a>\nI am not sure is a best answer which we could write :)\nI assume it's more eficient to create a Flux then converting Mono to Flux via flatMapIterable.</p>\n"}],"owner":{"account_id":16040505,"reputation":63,"user_id":11577026,"display_name":"richardstone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70011092,"answer_count":1,"score":1,"last_activity_date":1637185886,"creation_date":1636983223,"question_id":69975211,"body_markdown":"I have a task to split a word into characters and then transfer each to another word.\r\n\r\nI write some test code, use **toCharArray** to get char array in the **flatMapIterable** section, but if the target string is a bigger one, I think this method is time-consuming and sync.\r\n\r\nMy question is there is have better way or alternative to do this in reactor style and avoid time-consuming?\r\n\r\n       final String s = &quot;acebo&quot;;\r\n            Mono.just(s)\r\n                    .log()\r\n                    .flatMapIterable(str -&gt; {\r\n                        char[] chars = str.toCharArray();\r\n                        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n                        for (char aChar : chars) {\r\n                            result.add(String.valueOf(aChar));\r\n                        }\r\n                        return result;\r\n                    })\r\n                    .flatMap(this::retrieveSymbolLetter)\r\n                    .subscribe(System.out::println);\r\n    \r\n        private Mono&lt;String&gt; retrieveSymbolLetter(Object symbol) {\r\n            return Mono.defer(() -&gt; {\r\n                String result;\r\n                switch (symbol.toString()) {\r\n                    case &quot;a&quot;:\r\n                        result = &quot;aspect&quot;;\r\n                        break;\r\n                    case &quot;b&quot;:\r\n                        result = &quot;bad&quot;;\r\n                        break;\r\n                    case &quot;c&quot;:\r\n                        result = &quot;context&quot;;\r\n                        break;\r\n                    case &quot;d&quot;:\r\n                        result = &quot;dad&quot;;\r\n                        break;\r\n                    default:\r\n                        result = &quot;default&quot;;\r\n                        break;\r\n                }\r\n                return Mono.just(result);\r\n            });\r\n        }\r\n\r\n","title":"Avoiding time consuming logic when using flatmapIterable","body":"<p>I have a task to split a word into characters and then transfer each to another word.</p>\n<p>I write some test code, use <strong>toCharArray</strong> to get char array in the <strong>flatMapIterable</strong> section, but if the target string is a bigger one, I think this method is time-consuming and sync.</p>\n<p>My question is there is have better way or alternative to do this in reactor style and avoid time-consuming?</p>\n<pre><code>   final String s = &quot;acebo&quot;;\n        Mono.just(s)\n                .log()\n                .flatMapIterable(str -&gt; {\n                    char[] chars = str.toCharArray();\n                    List&lt;String&gt; result = new ArrayList&lt;&gt;();\n                    for (char aChar : chars) {\n                        result.add(String.valueOf(aChar));\n                    }\n                    return result;\n                })\n                .flatMap(this::retrieveSymbolLetter)\n                .subscribe(System.out::println);\n\n    private Mono&lt;String&gt; retrieveSymbolLetter(Object symbol) {\n        return Mono.defer(() -&gt; {\n            String result;\n            switch (symbol.toString()) {\n                case &quot;a&quot;:\n                    result = &quot;aspect&quot;;\n                    break;\n                case &quot;b&quot;:\n                    result = &quot;bad&quot;;\n                    break;\n                case &quot;c&quot;:\n                    result = &quot;context&quot;;\n                    break;\n                case &quot;d&quot;:\n                    result = &quot;dad&quot;;\n                    break;\n                default:\n                    result = &quot;default&quot;;\n                    break;\n            }\n            return Mono.just(result);\n        });\n    }\n</code></pre>\n"},{"tags":["java","android","retrofit2"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1637177929,"post_id":70010523,"comment_id":123759376,"body_markdown":"So yes, the list&#39;s size is 0, it has 0 items within it, and you&#39;re trying to get the item at index -1, which obviously won&#39;t work. I&#39;ve not seen the term &quot;length&quot; in this error message context before and am not sure what it means, but it doesn&#39;t change the salient facts about what caused your error.","body":"So yes, the list&#39;s size is 0, it has 0 items within it, and you&#39;re trying to get the item at index -1, which obviously won&#39;t work. I&#39;ve not seen the term &quot;length&quot; in this error message context before and am not sure what it means, but it doesn&#39;t change the salient facts about what caused your error."},{"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"score":0,"creation_date":1637178140,"post_id":70010523,"comment_id":123759434,"body_markdown":"@HovercraftFullOfEels, Ah. So &quot;length&quot; in this context doesn&#39;t mean size, I see. I assumed it did mean size and somehow the size was changing between the .size() call and the .get() call.","body":"@HovercraftFullOfEels, Ah. So &quot;length&quot; in this context doesn&#39;t mean size, I see. I assumed it did mean size and somehow the size was changing between the .size() call and the .get() call."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1637178216,"post_id":70010523,"comment_id":123759463,"body_markdown":"An ArrayList doesn&#39;t really have a &quot;length&quot; (that I know of). It has a *capacity*, which is the length of its backing array, the items of which some may be null, and a size, how many actual objects it holds. The size is all that really matters here.","body":"An ArrayList doesn&#39;t really have a &quot;length&quot; (that I know of). It has a <i>capacity</i>, which is the length of its backing array, the items of which some may be null, and a size, how many actual objects it holds. The size is all that really matters here."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637178244,"post_id":70010523,"comment_id":123759472,"body_markdown":"I mean, it pretty clearly means, in the context of this error message, the length of the internal array the `ArrayList` is using as storage.","body":"I mean, it pretty clearly means, in the context of this error message, the length of the internal array the <code>ArrayList</code> is using as storage."},{"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"score":0,"creation_date":1637178370,"post_id":70010523,"comment_id":123759514,"body_markdown":"@LouisWasserman, so how is the internal array length 22 while the .size is reported as 0 on the same line?","body":"@LouisWasserman, so how is the internal array length 22 while the .size is reported as 0 on the same line?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1637178432,"post_id":70010523,"comment_id":123759535,"body_markdown":"Please check out: [Initial size for the ArrayList](https://stackoverflow.com/questions/8896758/initial-size-for-the-arraylist)","body":"Please check out: <a href=\"https://stackoverflow.com/questions/8896758/initial-size-for-the-arraylist\">Initial size for the ArrayList</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1637178449,"post_id":70010523,"comment_id":123759541,"body_markdown":"That&#39;s perfectly normal.  `size` is the number of elements actually there, the amount of the array actually being used.  The array is _normally_ oversized.","body":"That&#39;s perfectly normal.  <code>size</code> is the number of elements actually there, the amount of the array actually being used.  The array is <i>normally</i> oversized."},{"owner":{"account_id":8289127,"reputation":6118,"user_id":6231376,"display_name":"TeWu"},"score":0,"creation_date":1637180264,"post_id":70010523,"comment_id":123760273,"body_markdown":"You can always check `ArrayList.java` to see how the error message is generated. Is the `22` in the error message refers to the same variable as would `size` method?","body":"You can always check <code>ArrayList.java</code> to see how the error message is generated. Is the <code>22</code> in the error message refers to the same variable as would <code>size</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":17347431,"reputation":89,"user_id":12566715,"display_name":"Janardhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637179417,"creation_date":1637179417,"answer_id":70010851,"question_id":70010523,"body_markdown":"ArrayList is backed by an array internally and it dynamically adjusts internal array as needed and **size** variable is maintained as you add elements ( increments as you add elements and decrements as you delete elements).\r\n\r\nsay at some point underlying array of ArrayList is with the length 22 (could be empty array, i.e. no elements stored), when you try to access it with -1 index, it will throw the java.lang.ArrayIndexOutOfBoundsException\r\n\r\n*try printing list size before accessing the list as well to see if the size is coming as 0 or not\r\n\r\n\r\n\r\n","title":"java.util.ArrayList length and size different?","body":"<p>ArrayList is backed by an array internally and it dynamically adjusts internal array as needed and <strong>size</strong> variable is maintained as you add elements ( increments as you add elements and decrements as you delete elements).</p>\n<p>say at some point underlying array of ArrayList is with the length 22 (could be empty array, i.e. no elements stored), when you try to access it with -1 index, it will throw the java.lang.ArrayIndexOutOfBoundsException</p>\n<p>*try printing list size before accessing the list as well to see if the size is coming as 0 or not</p>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637185866,"creation_date":1637180062,"answer_id":70010961,"question_id":70010523,"body_markdown":"The `ArrayList` in Java 8 only checks if the index is greater than its size, throwing an `IndexOutOfBoundsException` if so. Otherwise `array[index]` is used to access the desired element of the array used to store the list elements. This will throw an `ArrayIndexOutOfBoundsException` if the index is out of range, using the length of the array in the message. The array will be substituted by larger one if needed, but it will never be changed to a smaller one - so it is normal that the array is larger than required. \r\n\r\nIn Java 9, the index check was changed: it uses `Objects.checkIndex()`, which checks both limits and uses the size of the list for the Exception message. ","title":"java.util.ArrayList length and size different?","body":"<p>The <code>ArrayList</code> in Java 8 only checks if the index is greater than its size, throwing an <code>IndexOutOfBoundsException</code> if so. Otherwise <code>array[index]</code> is used to access the desired element of the array used to store the list elements. This will throw an <code>ArrayIndexOutOfBoundsException</code> if the index is out of range, using the length of the array in the message. The array will be substituted by larger one if needed, but it will never be changed to a smaller one - so it is normal that the array is larger than required.</p>\n<p>In Java 9, the index check was changed: it uses <code>Objects.checkIndex()</code>, which checks both limits and uses the size of the list for the Exception message.</p>\n"}],"owner":{"account_id":1544480,"reputation":35685,"user_id":1438339,"accept_rate":75,"display_name":"Adam Johns"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":70010961,"answer_count":2,"score":-1,"last_activity_date":1637185866,"creation_date":1637177846,"question_id":70010523,"body_markdown":"I&#39;m getting periodic crash reports on the following line of code:\r\n\r\n    myList.get(myList.size() - 1)\r\n\r\nWhich wouldn&#39;t be that interesting if not for the stack trace:\r\n\r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: length=22; index=-1\r\njava.util.ArrayList.get ArrayList.java:439\r\ncom.myapp.ope.api.ApiManager$2.onResponse ApiManager.java:215\r\nretrofit2.DefaultCallAdapterFactory$ExecutorCallbackCall$1.lambda$onResponse$0$DefaultCallAdapterFactory$ExecutorCallbackCall$1 DefaultCallAdapterFactory.java:89\r\nretrofit2.-$$Lambda$DefaultCallAdapterFactory$ExecutorCallbackCall$1$hVGjmafRi6VitDIrPNdoFizVAdk.run Unknown Source:6\r\n```\r\n\r\nWhich seems to imply `myList` has a length of 22. So how is the index calculated at -1 (which means `.size()` would have reported 0)?","title":"java.util.ArrayList length and size different?","body":"<p>I'm getting periodic crash reports on the following line of code:</p>\n<pre><code>myList.get(myList.size() - 1)\n</code></pre>\n<p>Which wouldn't be that interesting if not for the stack trace:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: length=22; index=-1\njava.util.ArrayList.get ArrayList.java:439\ncom.myapp.ope.api.ApiManager$2.onResponse ApiManager.java:215\nretrofit2.DefaultCallAdapterFactory$ExecutorCallbackCall$1.lambda$onResponse$0$DefaultCallAdapterFactory$ExecutorCallbackCall$1 DefaultCallAdapterFactory.java:89\nretrofit2.-$$Lambda$DefaultCallAdapterFactory$ExecutorCallbackCall$1$hVGjmafRi6VitDIrPNdoFizVAdk.run Unknown Source:6\n</code></pre>\n<p>Which seems to imply <code>myList</code> has a length of 22. So how is the index calculated at -1 (which means <code>.size()</code> would have reported 0)?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1637187229,"post_id":70011840,"comment_id":123762602,"body_markdown":"Because `T extends AnimalProperty` means a *specific* type of `AnimalProperty`, defined by the instantiator of `Test`, which might be `Cat` for all we know. If you want the field to hold any `AnimalProperty`, just declare it as `AnimalProperty`; no need for `T`.","body":"Because <code>T extends AnimalProperty</code> means a <i>specific</i> type of <code>AnimalProperty</code>, defined by the instantiator of <code>Test</code>, which might be <code>Cat</code> for all we know. If you want the field to hold any <code>AnimalProperty</code>, just declare it as <code>AnimalProperty</code>; no need for <code>T</code>."}],"answers":[{"tags":[],"owner":{"account_id":13414497,"reputation":29015,"user_id":10147399,"display_name":"Aykhan Hagverdili"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637185749,"creation_date":1637185749,"answer_id":70012002,"question_id":70011840,"body_markdown":"In your example, `T` is a _sibling_ of `Dog` in the inheritance tree. For example, it could be `Cat`. Would it make sense to do `Cat c = new Dog()`? Of course it wouldn&#39;t. Here&#39;s what you want:\r\n\r\n```Java\r\nclass Test {\r\n    AnimalProperty animalWithProp;\r\n\r\n    public Test() {\r\n        this.animalWithProp = new Dog();\r\n        System.out.println(animalWithProp.sound());\r\n    }\r\n}\r\n```","title":"How to use a type bounded parameter interface using generics","body":"<p>In your example, <code>T</code> is a <em>sibling</em> of <code>Dog</code> in the inheritance tree. For example, it could be <code>Cat</code>. Would it make sense to do <code>Cat c = new Dog()</code>? Of course it wouldn't. Here's what you want:</p>\n<pre><code>class Test {\n    AnimalProperty animalWithProp;\n\n    public Test() {\n        this.animalWithProp = new Dog();\n        System.out.println(animalWithProp.sound());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9499825,"reputation":1322,"user_id":7061393,"accept_rate":95,"display_name":"Pablo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70012002,"answer_count":1,"score":0,"last_activity_date":1637185749,"creation_date":1637184785,"question_id":70011840,"body_markdown":"I have the class Test, which has an instance variable animalWithProps of type T (this variable should be of a type that implements AnimalProperty). However, when I try this with a class that implements this interface (Dog), I get an error for invalid types: `Dog cannot be converted to T`\r\n\r\n    interface AnimalProperty {\r\n        String sound();\r\n    }\r\n    \r\n    class Dog implements AnimalProperty {\r\n        public String sound() {\r\n            return &quot;bark&quot;;\r\n        }\r\n    }\r\n    \r\n    class Test&lt;T extends AnimalProperty&gt; {\r\n        T animalWithProp;\r\n    \r\n        public Test() {\r\n            this.animalWithProp = new Dog();\r\n            System.out.println(animalWithProp.sound());\r\n        }\r\n    }\r\n\r\nWhen I try doing `AnimalProperty prop = new Dog()`, it works. Why can&#39;t I have this type bounded parameter?","title":"How to use a type bounded parameter interface using generics","body":"<p>I have the class Test, which has an instance variable animalWithProps of type T (this variable should be of a type that implements AnimalProperty). However, when I try this with a class that implements this interface (Dog), I get an error for invalid types: <code>Dog cannot be converted to T</code></p>\n<pre><code>interface AnimalProperty {\n    String sound();\n}\n\nclass Dog implements AnimalProperty {\n    public String sound() {\n        return &quot;bark&quot;;\n    }\n}\n\nclass Test&lt;T extends AnimalProperty&gt; {\n    T animalWithProp;\n\n    public Test() {\n        this.animalWithProp = new Dog();\n        System.out.println(animalWithProp.sound());\n    }\n}\n</code></pre>\n<p>When I try doing <code>AnimalProperty prop = new Dog()</code>, it works. Why can't I have this type bounded parameter?</p>\n"},{"tags":["java","authentication","encryption","tags","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1637174673,"post_id":70008987,"comment_id":123758244,"body_markdown":"The line `byte[] cipherText = chunks[2].getBytes()` uses an inappropriate encoding. Check the encoding used in the encryption code and decode accordingly (or share the encryption code). You should also not post dummy values like `aKey`, but valid test data (key, plaintext and concatenation of IV, tag and ciphertext).","body":"The line <code>byte[] cipherText = chunks[2].getBytes()</code> uses an inappropriate encoding. Check the encoding used in the encryption code and decode accordingly (or share the encryption code). You should also not post dummy values like <code>aKey</code>, but valid test data (key, plaintext and concatenation of IV, tag and ciphertext)."},{"owner":{"account_id":9897096,"reputation":33,"user_id":7328230,"display_name":"Simon Kuo"},"score":0,"creation_date":1637180069,"post_id":70008987,"comment_id":123760203,"body_markdown":"I added a piece of php code and replace the key which is used in both code. Basically, php is working fine to encrypt and decrypt with the provided iv, tag and cipherText. Java is returning Tag mismatch","body":"I added a piece of php code and replace the key which is used in both code. Basically, php is working fine to encrypt and decrypt with the provided iv, tag and cipherText. Java is returning Tag mismatch"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1637182535,"post_id":70008987,"comment_id":123761022,"body_markdown":"The tag in the test data is wrong. It is returned by `openssl_encrypt()` and must of course first be retrieved after the call of `openssl_encrypt()`. Furthermore, algorithm specification (AES-128) and key size (32 bytes) are inconsistent. These issues lead to an incorrect tag and key in the Java code. In addition, the Java code lacks the Base64 decoding of the ciphertext. In the PHP code the concatenation of IV, tag and ciphertext is missing.","body":"The tag in the test data is wrong. It is returned by <code>openssl_encrypt()</code> and must of course first be retrieved after the call of <code>openssl_encrypt()</code>. Furthermore, algorithm specification (AES-128) and key size (32 bytes) are inconsistent. These issues lead to an incorrect tag and key in the Java code. In addition, the Java code lacks the Base64 decoding of the ciphertext. In the PHP code the concatenation of IV, tag and ciphertext is missing."},{"owner":{"account_id":9897096,"reputation":33,"user_id":7328230,"display_name":"Simon Kuo"},"score":0,"creation_date":1637184291,"post_id":70008987,"comment_id":123761565,"body_markdown":"so I updated my code except the key and the problem still persist. The php code is working fine with such key. What I need is to have Java code be able to decode under same condition. Is that possible?","body":"so I updated my code except the key and the problem still persist. The php code is working fine with such key. What I need is to have Java code be able to decode under same condition. Is that possible?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1637185074,"post_id":70008987,"comment_id":123761835,"body_markdown":"AES-128 with a 32 bytes key? There is no such thing. PHP shortens the key implicitly to 16 bytes by truncating the end. Therefore you should take the correct key _directly_, which probably would have prevented the problem in the Java code. The Java code does not truncate implicitly, that must be done explicitly. Besides, the Java code still uses a wrong tag, i.e. you will still get a tag mismatch.","body":"AES-128 with a 32 bytes key? There is no such thing. PHP shortens the key implicitly to 16 bytes by truncating the end. Therefore you should take the correct key <i>directly</i>, which probably would have prevented the problem in the Java code. The Java code does not truncate implicitly, that must be done explicitly. Besides, the Java code still uses a wrong tag, i.e. you will still get a tag mismatch."},{"owner":{"account_id":9897096,"reputation":33,"user_id":7328230,"display_name":"Simon Kuo"},"score":0,"creation_date":1637185605,"post_id":70008987,"comment_id":123762029,"body_markdown":"Thank you, that key truncation is exactly what I was looking for. I am able to decrypt the code now.","body":"Thank you, that key truncation is exactly what I was looking for. I am able to decrypt the code now."}],"owner":{"account_id":9897096,"reputation":33,"user_id":7328230,"display_name":"Simon Kuo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637185736,"creation_date":1637170156,"question_id":70008987,"body_markdown":"I am trying to implement a decryption method for php openssl_encrypted text. I got the Base64 encoded iv, Base64 encoded tag and cyphertext. However, my code below always prompt `Exception in thread &quot;main&quot; javax.crypto.AEADBadTagException: Tag mismatch!` Any idea what I did wrong in the code below?\r\n\r\nPHP code\r\n```\r\n&lt;?php\r\n//$key should have been previously generated in a cryptographically safe way, like openssl_random_pseudo_bytes\r\n\r\n$key=&quot;jKtbuVSQlhfbxF0zVjZh1839DLTNSvS5&quot;;\r\n\r\n$plaintext = &quot;121&quot;;\r\n$cipher = &quot;aes-128-gcm&quot;;\r\nif (in_array($cipher, openssl_get_cipher_methods()))\r\n{\r\n    $ivlen = openssl_cipher_iv_length($cipher);\r\n    $iv = openssl_random_pseudo_bytes($ivlen);\r\n    echo &quot;iv &quot; . base64_encode($iv) . &quot;\\n&quot;;\r\n\r\n    $ciphertext = openssl_encrypt($plaintext, $cipher, $key, $options=0, $iv, $tag);\r\n    echo &quot;ciphertext &quot; . $ciphertext . &quot;\\n&quot;;\r\n    echo &quot;tag &quot; . base64_encode($tag) . &quot;\\n&quot;;\r\n    echo &quot;final message: &quot; .  base64_encode($iv) . &quot;:&quot; . base64_encode($tag) . &quot;:&quot; . $ciphertext . &quot;\\n&quot;;\r\n\r\n    //store $cipher, $iv, and $tag for decryption later\r\n    $original_plaintext = openssl_decrypt($ciphertext, $cipher, $key, $options=0, $iv, $tag);\r\n    echo $original_plaintext.&quot;\\n&quot;;\r\n}\r\n?&gt;\r\n```\r\nJava code\r\n\r\n```\r\n    String ENCRYPT_ALGO = &quot;AES/GCM/NoPadding&quot;;\r\n    SecretKeySpec secretKeySpec = new SecretKeySpec(&quot;jKtbuVSQlhfbxF0zVjZh1839DLTNSvS5&quot;.substring(0,16).getBytes(), &quot;AES&quot;);\r\n\r\n    //&quot;Base64 encoded iv:Base64 encoded tag:cipherText&quot;\r\n\r\n    String[] chunks = &quot;Axb5mI6ULfBrYjRC:A2Uxa8sFa8j1gK2YNZ6UTw==:PmAR&quot;.split(&quot;\\\\:&quot;);\r\n\r\n    Cipher cipher = Cipher.getInstance(ENCRYPT_ALGO);\r\n    byte[] iv =   Base64.getDecoder().decode(chunks[0]);\r\n    byte[] tag = Base64.getDecoder().decode(chunks[1]);\r\n    byte[] cipherText = Base64.getDecoder().decode(chunks[2]);\r\n\r\n    cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, new GCMParameterSpec(tag.length * 8, iv));\r\n\r\n    byte[] destination = new byte[cipherText.length + tag.length];\r\n    System.arraycopy(cipherText, 0, destination, 0, cipherText.length);\r\n    System.arraycopy(tag, 0, destination, cipherText.length, tag.length);\r\n\r\n    byte[] plainText = cipher.doFinal(destination);\r\n    System.out.println(&quot;Decrypted Text : &quot; +  new String(plainText));\r\n\r\n```","title":"Java decrypt PHP oppenssl_encrypt message. Alway get tag mismatch","body":"<p>I am trying to implement a decryption method for php openssl_encrypted text. I got the Base64 encoded iv, Base64 encoded tag and cyphertext. However, my code below always prompt <code>Exception in thread &quot;main&quot; javax.crypto.AEADBadTagException: Tag mismatch!</code> Any idea what I did wrong in the code below?</p>\n<p>PHP code</p>\n<pre><code>&lt;?php\n//$key should have been previously generated in a cryptographically safe way, like openssl_random_pseudo_bytes\n\n$key=&quot;jKtbuVSQlhfbxF0zVjZh1839DLTNSvS5&quot;;\n\n$plaintext = &quot;121&quot;;\n$cipher = &quot;aes-128-gcm&quot;;\nif (in_array($cipher, openssl_get_cipher_methods()))\n{\n    $ivlen = openssl_cipher_iv_length($cipher);\n    $iv = openssl_random_pseudo_bytes($ivlen);\n    echo &quot;iv &quot; . base64_encode($iv) . &quot;\\n&quot;;\n\n    $ciphertext = openssl_encrypt($plaintext, $cipher, $key, $options=0, $iv, $tag);\n    echo &quot;ciphertext &quot; . $ciphertext . &quot;\\n&quot;;\n    echo &quot;tag &quot; . base64_encode($tag) . &quot;\\n&quot;;\n    echo &quot;final message: &quot; .  base64_encode($iv) . &quot;:&quot; . base64_encode($tag) . &quot;:&quot; . $ciphertext . &quot;\\n&quot;;\n\n    //store $cipher, $iv, and $tag for decryption later\n    $original_plaintext = openssl_decrypt($ciphertext, $cipher, $key, $options=0, $iv, $tag);\n    echo $original_plaintext.&quot;\\n&quot;;\n}\n?&gt;\n</code></pre>\n<p>Java code</p>\n<pre><code>    String ENCRYPT_ALGO = &quot;AES/GCM/NoPadding&quot;;\n    SecretKeySpec secretKeySpec = new SecretKeySpec(&quot;jKtbuVSQlhfbxF0zVjZh1839DLTNSvS5&quot;.substring(0,16).getBytes(), &quot;AES&quot;);\n\n    //&quot;Base64 encoded iv:Base64 encoded tag:cipherText&quot;\n\n    String[] chunks = &quot;Axb5mI6ULfBrYjRC:A2Uxa8sFa8j1gK2YNZ6UTw==:PmAR&quot;.split(&quot;\\\\:&quot;);\n\n    Cipher cipher = Cipher.getInstance(ENCRYPT_ALGO);\n    byte[] iv =   Base64.getDecoder().decode(chunks[0]);\n    byte[] tag = Base64.getDecoder().decode(chunks[1]);\n    byte[] cipherText = Base64.getDecoder().decode(chunks[2]);\n\n    cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, new GCMParameterSpec(tag.length * 8, iv));\n\n    byte[] destination = new byte[cipherText.length + tag.length];\n    System.arraycopy(cipherText, 0, destination, 0, cipherText.length);\n    System.arraycopy(tag, 0, destination, cipherText.length, tag.length);\n\n    byte[] plainText = cipher.doFinal(destination);\n    System.out.println(&quot;Decrypted Text : &quot; +  new String(plainText));\n\n</code></pre>\n"},{"tags":["java","android","gradle","resources","android-productflavors"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1637184649,"post_id":70011653,"comment_id":123761675,"body_markdown":"Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637185718,"creation_date":1637185718,"answer_id":70011998,"question_id":70011653,"body_markdown":"consider adding custom `resources` folders per flavor and in paid one keep only one file `strings.xml` with these two values which you want to change (under same id)\r\n\r\n    sourceSets{\r\n\r\n        main {\r\n            res.srcDirs = [&#39;res&#39;]\r\n        }\r\n        orthodoxCalendarpaid {\r\n           res.srcDirs = [&#39;res-paid&#39;]\r\n        }\r\n\r\n    }\r\n\r\nmore info how to configure this in [HERE](https://stackoverflow.com/questions/19461145/gradle-flavors-for-android-with-custom-source-sets-what-should-the-gradle-file)","title":"Not change string resource value for flavor","body":"<p>consider adding custom <code>resources</code> folders per flavor and in paid one keep only one file <code>strings.xml</code> with these two values which you want to change (under same id)</p>\n<pre><code>sourceSets{\n\n    main {\n        res.srcDirs = ['res']\n    }\n    orthodoxCalendarpaid {\n       res.srcDirs = ['res-paid']\n    }\n\n}\n</code></pre>\n<p>more info how to configure this in <a href=\"https://stackoverflow.com/questions/19461145/gradle-flavors-for-android-with-custom-source-sets-what-should-the-gradle-file\">HERE</a></p>\n"}],"owner":{"account_id":15446812,"reputation":61,"user_id":11506579,"display_name":"Aleksandr Kozlovskiy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637185718,"creation_date":1637183774,"question_id":70011653,"body_markdown":"I want to change value of app_name string and other string for paid version of our app,to change app name and widget name for paid version of our app. But it not works for me. Help me please,how i can correct modify string resource value of @string/app_name and other string for paid version of our app. Thanks everybody very much for any help.\r\n\r\n```\r\n    flavorDimensions &#39;orthodoxCalendar&#39;\r\n    productFlavors {\r\n        orthodoxcalendarfree {\r\n            dimension &#39;orthodoxCalendar&#39;\r\n            applicationId &quot;oleksandr.kotyuk.orthodoxcalendarfree&quot;\r\n            versionCode defaultConfig.versionCode\r\n            versionName defaultConfig.versionName\r\n                    }\r\n        orthodoxCalendarpaid {\r\n            dimension &#39;orthodoxCalendar&#39;\r\n            applicationId &quot;oleksandr.kotyuk.orthodoxcalendarpaid&quot;\r\n            versionCode defaultConfig.versionCode\r\n            versionName defaultConfig.versionName\r\n//we want write in app_name string value of app_name_paid string. All strings defined in strings.xml file in values folder. The same we do for other string\r\n            resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_paid&quot;\r\n            resValue &quot;string&quot;, &quot;app_name_fz&quot;, &quot;@string/app_name_paid_fz&quot;\r\n        }\r\n    }\r\n}\r\n```","title":"Not change string resource value for flavor","body":"<p>I want to change value of app_name string and other string for paid version of our app,to change app name and widget name for paid version of our app. But it not works for me. Help me please,how i can correct modify string resource value of @string/app_name and other string for paid version of our app. Thanks everybody very much for any help.</p>\n<pre><code>    flavorDimensions 'orthodoxCalendar'\n    productFlavors {\n        orthodoxcalendarfree {\n            dimension 'orthodoxCalendar'\n            applicationId &quot;oleksandr.kotyuk.orthodoxcalendarfree&quot;\n            versionCode defaultConfig.versionCode\n            versionName defaultConfig.versionName\n                    }\n        orthodoxCalendarpaid {\n            dimension 'orthodoxCalendar'\n            applicationId &quot;oleksandr.kotyuk.orthodoxcalendarpaid&quot;\n            versionCode defaultConfig.versionCode\n            versionName defaultConfig.versionName\n//we want write in app_name string value of app_name_paid string. All strings defined in strings.xml file in values folder. The same we do for other string\n            resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_paid&quot;\n            resValue &quot;string&quot;, &quot;app_name_fz&quot;, &quot;@string/app_name_paid_fz&quot;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","hsqldb"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637177677,"creation_date":1637171940,"answer_id":70009370,"question_id":70006118,"body_markdown":"These are quite &quot;unconditional goals&quot; and I would *not* call that &quot;correctly integrated&quot;, but there you go:\r\n\r\npom.xml:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n\t\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t\t&lt;/parent&gt;\r\n\t\t&lt;groupId&gt;com.stackoverflow&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;hsqldb-runner&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;&lt;!-- as compile(!) dependency --&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;!-- for the endpoints --&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;!-- for simple jdbc access --&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;!-- just for fun --&gt;\r\n\t\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;!-- TODO! --&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\r\n\t&lt;/project&gt;\r\n\r\nWith friendly help of [link][1], an additional `@Component` annotation and some [Properties loading][2], we do that:\r\n    \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    package com.stackoverflow.hsqldbrunner;\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.io.StringWriter;\r\n    import java.util.Properties;\r\n\r\n    import org.hsqldb.Server;\r\n    import org.hsqldb.persist.HsqlProperties;\r\n    import org.hsqldb.server.ServerAcl.AclFormatException;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.SmartLifecycle;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.support.PropertiesLoaderUtils;\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class HyperSqlDbServer implements SmartLifecycle {\r\n        private final Logger logger = LoggerFactory.getLogger(HyperSqlDbServer.class);\r\n        private HsqlProperties properties;\r\n        private Server server;\r\n        private boolean running = false;\r\n\r\n        public HyperSqlDbServer(@Value(&quot;classpath:/hsqldb.properties&quot;) Resource serverProps) throws IOException {\r\n            Properties props = PropertiesLoaderUtils.loadProperties(serverProps);\r\n            if (props.elements().hasMoreElements() &amp;&amp; logger.isDebugEnabled()) {\r\n                StringWriter writer = new StringWriter();\r\n                props.list(new PrintWriter(writer));\r\n                logger.debug(writer.toString());\r\n            }\r\n            properties = new HsqlProperties(props);\r\n        }\r\n\r\n        @Override\r\n        public boolean isRunning() {\r\n            if (server != null)\r\n                server.checkRunning(running);\r\n            return running;\r\n        }\r\n\r\n        @Override\r\n        public void start() {\r\n            if (server == null) {\r\n                logger.info(&quot;Starting HSQL server...&quot;);\r\n                server = new Server();\r\n                try {\r\n                    server.setProperties(properties);\r\n                    server.start();\r\n                    running = true;\r\n                } catch (AclFormatException afe) {\r\n                    logger.error(&quot;Error starting HSQL server.&quot;, afe);\r\n                } catch (IOException e) {\r\n                    logger.error(&quot;Error starting HSQL server.&quot;, e);\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void stop() {\r\n            logger.info(&quot;Stopping HSQL server...&quot;);\r\n            if (server != null) {\r\n                server.stop();\r\n                running = false;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public int getPhase() {\r\n            return 0;\r\n        }\r\n\r\n        @Override\r\n        public boolean isAutoStartup() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void stop(Runnable runnable) {\r\n            stop();\r\n            runnable.run();\r\n        }\r\n    }\r\n\r\nMain class/Config/Controller:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tpackage com.stackoverflow.hsqldbrunner;\r\n\r\n\timport java.util.List;\r\n\timport java.util.Map;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.boot.SpringApplication;\r\n\timport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\timport org.springframework.jdbc.core.JdbcTemplate;\r\n\timport org.springframework.web.bind.annotation.GetMapping;\r\n\timport org.springframework.web.bind.annotation.RequestMapping;\r\n\timport org.springframework.web.bind.annotation.RequestParam;\r\n\timport org.springframework.web.bind.annotation.RestController;\r\n\r\n\t@SpringBootApplication\r\n\t@RestController\r\n\tpublic class HsqldbRunnerApplication {\r\n\r\n\t\t@Autowired\r\n\t\tJdbcTemplate jdbcTemplate;\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(HsqldbRunnerApplication.class, args);\r\n\t\t}\r\n\r\n\t\t@GetMapping(&quot;/query&quot;)\r\n\t\tpublic List&lt;Map&lt;String, Object&gt;&gt; query(@RequestParam String sql) {\r\n\t\t\treturn jdbcTemplate.queryForList(sql);\r\n\t\t}\r\n\r\n\t\t@RequestMapping(&quot;/execute&quot;)\r\n\t\tpublic void execute(@RequestParam String sql) {\r\n\t\t\tjdbcTemplate.execute(sql);\r\n\t\t}\r\n\t}\r\n\r\n\r\nthen with this src/main/resources/hsqldb.properties (for the server):\r\n\r\n&lt;!-- language: lang-properties --&gt;\r\n\r\n\tserver.database.0=file:C:/hsqldb/demobase \r\n\tserver.dbname.0=demobase\r\n\t#server.database.n\r\n\t#server.dbname.n\t\r\n\tserver.silent=false \r\n\tserver.trace=false\r\n\tserver.daemon=false\r\n\tserver.remote_open=true\t\r\n\r\nand this src/main/resources/application.properties (for the client):\r\n\r\n&lt;!-- language: lang-properties --&gt;\r\n\r\n\tspring.datasource.url=jdbc:hsqldb:hsql://localhost/demobase\r\n\tspring.datasource.user=SA\r\n\tspring.datasource.password=\r\n\r\n..when we run:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    mvn spring-boot:run\r\n\r\nWe get:\r\n\r\n&gt;- Start HSQLDB in server mode, with file persistence (to get it back when I restart my app)\r\n\r\nsee here:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    2021-11-17 17:35:58.652  INFO 3352 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2021-11-17 17:35:58.652  INFO 3352 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 313 ms\r\n    2021-11-17 17:35:58.780  INFO 3352 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n    2021-11-17 17:35:58.787  INFO 3352 --- [  restartedMain] c.s.hsqldbrunner.HyperSqlDbServer        : Starting HSQL server...\r\n    [Server@71142d78]: [Thread[restartedMain,5,main]]: start() entered\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: run() entered\r\n    [Server@71142d78]: Initiating startup sequence...\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.maxdatabases=10\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.remote_open=true\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.tls=false\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.daemon=false  \r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.trace=false\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.database.0=file:C:/hsqldb/demobase \r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.restart_on_shutdown=false\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.no_system_exit=true\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.silent=false \r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.default_page=index.html\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.dbname.0=demobase\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.address=0.0.0.0\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.root=.\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openServerSocket() entered\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: Got server socket: ServerSocket[addr=0.0.0.0/0.0.0.0,localport=9001]\r\n    [Server@71142d78]: Server socket opened successfully in 0 ms.\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openServerSocket() exiting\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openDatabases() entered\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: Opening database: [file:C:/hsqldb/demobase ]\r\n    [Server@71142d78]: Database [index=0, id=0, db=file:C:/hsqldb/demobase , alias=demobase] opened successfully in 0 ms.\r\n    [Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openDatabases() exiting\r\n    [Server@71142d78]: Startup sequence completed in 0 ms.\r\n    [Server@71142d78]: 2021-11-17 16:35:58.789 HSQLDB server 2.6.0 is online on port 9001\r\n    [Server@71142d78]: To close normally, connect and execute SHUTDOWN SQL\r\n    [Server@71142d78]: From command line, use [Ctrl]+[C] to abort abruptly\r\n    [Server@71142d78]: [Thread[restartedMain,5,main]]: start() exiting\r\n    2021-11-17 17:35:58.896  INFO 3352 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2021-11-17 17:35:58.900  INFO 3352 --- [  restartedMain] c.s.h.HsqldbRunnerApplication            : Started HsqldbRunnerApplication in 0.603 seconds (JVM running for 1330.867)\r\n\r\n\r\n&gt;- Expose a public API that communicates with this hsqldb instance:\r\n\r\n\r\n- `/execute`: executes (arbitrary) sql without expected result (jdbcTemplate.execute():void)\r\n- `/query`: to query (for a `List&lt;Map&lt;String, Object&gt;&gt;`)\r\n\r\ne.g. let&#39;s take this sql snippet:   \r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    CREATE TABLE demo(id INT NOT NULL,title VARCHAR(50),submission_date DATE,PRIMARY KEY (id));\r\n\r\nand issue it to our browser like:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    http://localhost:8080/execute?sql=CREATE%20TABLE%20demo(id%20INT%20NOT%20NULL,title%20VARCHAR(50),submission_date%20DATE,PRIMARY%20KEY%20(id))%3B\r\n\r\nthen\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    INSERT INTO demo VALUES (1,&#39;foo&#39;,now()),(2,&#39;bar&#39;,now());\r\n\r\nto:\r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    http://localhost:8080/execute?sql=INSERT%20INTO%20demo%20VALUES%20(1%2C%27foo%27%2Cnow())%2C(2%2C%27bar%27%2Cnow())%3B\r\n\r\nA query:      \r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    SELECT * FROM demo;\r\n\r\nlooks like:  \r\n\r\n&lt;!-- language: lang-bash --&gt;\r\n\r\n    http://localhost:8080/query?sql=SELECT%20*%20FROM%20demo%3B\r\n\r\n   and returns:\r\n\r\n&lt;!-- language: lang-json --&gt;  \r\n        \r\n    [{&quot;ID&quot;:1,&quot;TITLE&quot;:&quot;foo&quot;,&quot;SUBMISSION_DATE&quot;:&quot;2021-11-17&quot;},{&quot;ID&quot;:2,&quot;TITLE&quot;:&quot;bar&quot;,&quot;SUBMISSION_DATE&quot;:&quot;2021-11-17&quot;}]\r\n        \r\n&gt;- Let me the possibility to connect to this hsqldb server remotely, for instance using the embedded Swing app contained into hsqldb.jar.\r\n\r\n(Remote it has to be tested, but) looks from localhost like this:\r\n\r\n   [![HSQLDB Swing Client screenshot][3]][3]\r\n\r\n.. AND we get (all) hsqldb server logging to our spring application.\r\n\r\nAll combined in [github repo][4].\r\nHave fun, enjoy &amp; DON&#39;T USE THAT in production! ;)\r\n\r\n\r\n----------\r\nmore links:\r\n\r\n- [Spring JdbcTemplate](https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#jdbc-JdbcTemplate)\r\n- [Hsqldb Server.properties](http://www.hsqldb.org/doc/guide/listeners-chapt.html)\r\n- [SmartLifecycle javadoc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/SmartLifecycle.html)\r\n\r\n\r\n  [1]: https://ykchee.blogspot.com/2012/09/embedding-hsqldb-server-instance-in.html\r\n  [2]: https://stackoverflow.com/q/1771166/592355\r\n  [3]: https://i.stack.imgur.com/Zu5Ml.png\r\n  [4]: https://github.com/xerx593/soq70006118","title":"How to correctly integrate HSQLDB with Spring Boot?","body":"<p>These are quite &quot;unconditional goals&quot; and I would <em>not</em> call that &quot;correctly integrated&quot;, but there you go:</p>\n<p>pom.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.stackoverflow&lt;/groupId&gt;\n    &lt;artifactId&gt;hsqldb-runner&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;&lt;!-- as compile(!) dependency --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;!-- for the endpoints --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;&lt;!-- for simple jdbc access --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;&lt;!-- just for fun --&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&lt;!-- TODO! --&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>With friendly help of <a href=\"https://ykchee.blogspot.com/2012/09/embedding-hsqldb-server-instance-in.html\" rel=\"nofollow noreferrer\">link</a>, an additional <code>@Component</code> annotation and some <a href=\"https://stackoverflow.com/q/1771166/592355\">Properties loading</a>, we do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.hsqldbrunner;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.io.StringWriter;\nimport java.util.Properties;\n\nimport org.hsqldb.Server;\nimport org.hsqldb.persist.HsqlProperties;\nimport org.hsqldb.server.ServerAcl.AclFormatException;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.SmartLifecycle;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PropertiesLoaderUtils;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class HyperSqlDbServer implements SmartLifecycle {\n    private final Logger logger = LoggerFactory.getLogger(HyperSqlDbServer.class);\n    private HsqlProperties properties;\n    private Server server;\n    private boolean running = false;\n\n    public HyperSqlDbServer(@Value(&quot;classpath:/hsqldb.properties&quot;) Resource serverProps) throws IOException {\n        Properties props = PropertiesLoaderUtils.loadProperties(serverProps);\n        if (props.elements().hasMoreElements() &amp;&amp; logger.isDebugEnabled()) {\n            StringWriter writer = new StringWriter();\n            props.list(new PrintWriter(writer));\n            logger.debug(writer.toString());\n        }\n        properties = new HsqlProperties(props);\n    }\n\n    @Override\n    public boolean isRunning() {\n        if (server != null)\n            server.checkRunning(running);\n        return running;\n    }\n\n    @Override\n    public void start() {\n        if (server == null) {\n            logger.info(&quot;Starting HSQL server...&quot;);\n            server = new Server();\n            try {\n                server.setProperties(properties);\n                server.start();\n                running = true;\n            } catch (AclFormatException afe) {\n                logger.error(&quot;Error starting HSQL server.&quot;, afe);\n            } catch (IOException e) {\n                logger.error(&quot;Error starting HSQL server.&quot;, e);\n            }\n        }\n    }\n\n    @Override\n    public void stop() {\n        logger.info(&quot;Stopping HSQL server...&quot;);\n        if (server != null) {\n            server.stop();\n            running = false;\n        }\n    }\n\n    @Override\n    public int getPhase() {\n        return 0;\n    }\n\n    @Override\n    public boolean isAutoStartup() {\n        return true;\n    }\n\n    @Override\n    public void stop(Runnable runnable) {\n        stop();\n        runnable.run();\n    }\n}\n</code></pre>\n<p>Main class/Config/Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverflow.hsqldbrunner;\n\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class HsqldbRunnerApplication {\n\n    @Autowired\n    JdbcTemplate jdbcTemplate;\n\n    public static void main(String[] args) {\n        SpringApplication.run(HsqldbRunnerApplication.class, args);\n    }\n\n    @GetMapping(&quot;/query&quot;)\n    public List&lt;Map&lt;String, Object&gt;&gt; query(@RequestParam String sql) {\n        return jdbcTemplate.queryForList(sql);\n    }\n\n    @RequestMapping(&quot;/execute&quot;)\n    public void execute(@RequestParam String sql) {\n        jdbcTemplate.execute(sql);\n    }\n}\n</code></pre>\n<p>then with this src/main/resources/hsqldb.properties (for the server):</p>\n<pre class=\"lang-properties prettyprint-override\"><code>server.database.0=file:C:/hsqldb/demobase \nserver.dbname.0=demobase\n#server.database.n\n#server.dbname.n    \nserver.silent=false \nserver.trace=false\nserver.daemon=false\nserver.remote_open=true \n</code></pre>\n<p>and this src/main/resources/application.properties (for the client):</p>\n<pre class=\"lang-properties prettyprint-override\"><code>spring.datasource.url=jdbc:hsqldb:hsql://localhost/demobase\nspring.datasource.user=SA\nspring.datasource.password=\n</code></pre>\n<p>..when we run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn spring-boot:run\n</code></pre>\n<p>We get:</p>\n<blockquote>\n<ul>\n<li>Start HSQLDB in server mode, with file persistence (to get it back when I restart my app)</li>\n</ul>\n</blockquote>\n<p>see here:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2021-11-17 17:35:58.652  INFO 3352 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2021-11-17 17:35:58.652  INFO 3352 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 313 ms\n2021-11-17 17:35:58.780  INFO 3352 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2021-11-17 17:35:58.787  INFO 3352 --- [  restartedMain] c.s.hsqldbrunner.HyperSqlDbServer        : Starting HSQL server...\n[Server@71142d78]: [Thread[restartedMain,5,main]]: start() entered\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: run() entered\n[Server@71142d78]: Initiating startup sequence...\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.maxdatabases=10\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.remote_open=true\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.tls=false\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.daemon=false  \n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.trace=false\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.database.0=file:C:/hsqldb/demobase \n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.restart_on_shutdown=false\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.no_system_exit=true\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.silent=false \n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.default_page=index.html\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.dbname.0=demobase\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.address=0.0.0.0\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: server.root=.\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openServerSocket() entered\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: Got server socket: ServerSocket[addr=0.0.0.0/0.0.0.0,localport=9001]\n[Server@71142d78]: Server socket opened successfully in 0 ms.\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openServerSocket() exiting\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openDatabases() entered\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: Opening database: [file:C:/hsqldb/demobase ]\n[Server@71142d78]: Database [index=0, id=0, db=file:C:/hsqldb/demobase , alias=demobase] opened successfully in 0 ms.\n[Server@71142d78]: [Thread[HSQLDB Server @71142d78,5,main]]: openDatabases() exiting\n[Server@71142d78]: Startup sequence completed in 0 ms.\n[Server@71142d78]: 2021-11-17 16:35:58.789 HSQLDB server 2.6.0 is online on port 9001\n[Server@71142d78]: To close normally, connect and execute SHUTDOWN SQL\n[Server@71142d78]: From command line, use [Ctrl]+[C] to abort abruptly\n[Server@71142d78]: [Thread[restartedMain,5,main]]: start() exiting\n2021-11-17 17:35:58.896  INFO 3352 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2021-11-17 17:35:58.900  INFO 3352 --- [  restartedMain] c.s.h.HsqldbRunnerApplication            : Started HsqldbRunnerApplication in 0.603 seconds (JVM running for 1330.867)\n</code></pre>\n<blockquote>\n<ul>\n<li>Expose a public API that communicates with this hsqldb instance:</li>\n</ul>\n</blockquote>\n<ul>\n<li><code>/execute</code>: executes (arbitrary) sql without expected result (jdbcTemplate.execute():void)</li>\n<li><code>/query</code>: to query (for a <code>List&lt;Map&lt;String, Object&gt;&gt;</code>)</li>\n</ul>\n<p>e.g. let's take this sql snippet:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE demo(id INT NOT NULL,title VARCHAR(50),submission_date DATE,PRIMARY KEY (id));\n</code></pre>\n<p>and issue it to our browser like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>http://localhost:8080/execute?sql=CREATE%20TABLE%20demo(id%20INT%20NOT%20NULL,title%20VARCHAR(50),submission_date%20DATE,PRIMARY%20KEY%20(id))%3B\n</code></pre>\n<p>then</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO demo VALUES (1,'foo',now()),(2,'bar',now());\n</code></pre>\n<p>to:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>http://localhost:8080/execute?sql=INSERT%20INTO%20demo%20VALUES%20(1%2C%27foo%27%2Cnow())%2C(2%2C%27bar%27%2Cnow())%3B\n</code></pre>\n<p>A query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM demo;\n</code></pre>\n<p>looks like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>http://localhost:8080/query?sql=SELECT%20*%20FROM%20demo%3B\n</code></pre>\n<p>and returns:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;ID&quot;:1,&quot;TITLE&quot;:&quot;foo&quot;,&quot;SUBMISSION_DATE&quot;:&quot;2021-11-17&quot;},{&quot;ID&quot;:2,&quot;TITLE&quot;:&quot;bar&quot;,&quot;SUBMISSION_DATE&quot;:&quot;2021-11-17&quot;}]\n    \n</code></pre>\n<blockquote>\n<ul>\n<li>Let me the possibility to connect to this hsqldb server remotely, for instance using the embedded Swing app contained into hsqldb.jar.</li>\n</ul>\n</blockquote>\n<p>(Remote it has to be tested, but) looks from localhost like this:</p>\n<p><a href=\"https://i.stack.imgur.com/Zu5Ml.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Zu5Ml.png\" alt=\"HSQLDB Swing Client screenshot\" /></a></p>\n<p>.. AND we get (all) hsqldb server logging to our spring application.</p>\n<p>All combined in <a href=\"https://github.com/xerx593/soq70006118\" rel=\"nofollow noreferrer\">github repo</a>.\nHave fun, enjoy &amp; DON'T USE THAT in production! ;)</p>\n<hr />\n<p>more links:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#jdbc-JdbcTemplate\" rel=\"nofollow noreferrer\">Spring JdbcTemplate</a></li>\n<li><a href=\"http://www.hsqldb.org/doc/guide/listeners-chapt.html\" rel=\"nofollow noreferrer\">Hsqldb Server.properties</a></li>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/SmartLifecycle.html\" rel=\"nofollow noreferrer\">SmartLifecycle javadoc</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637185684,"creation_date":1637185210,"answer_id":70011910,"question_id":70006118,"body_markdown":"Even replacing the [above][1] server component with this:\r\n    \r\n\t@Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\r\n\tpublic Server hsqlServer(@Value(&quot;classpath:/hsqldb.properties&quot;) Resource props) throws IOException, AclFormatException {\r\n\t\tServer bean = new org.hsqldb.server.Server();\r\n\t\tbean.setProperties(PropertiesLoaderUtils.loadProperties(props));\r\n\t\treturn bean;\r\n\t}\r\n\r\n,which is analogous to [this xml configuration](https://stackoverflow.com/a/40190090/592355), shows NO ISSUES (works like charm).\r\n\r\nBUT, adding this dependency:\r\n  \r\n    &lt;dependency&gt;\r\n\t  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n**breaks everything**! (Context doesn&#39;t load with:)\r\n\r\n    Access to DialectResolutionInfo cannot be null when &#39;hibernate.dialect&#39; not set\r\n\r\nAs soon &quot;fixing&quot; this:\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.HSQLDialect\r\n\r\n\r\nWe get Exception:\r\n\r\n    ...Caused by: java.net.ConnectException: Connection refused: connect\r\n\r\n..somewhere in HikariPool....\r\n\r\n\r\n----------\r\n\r\n\r\nSolution/Workaround:\r\n\r\n\r\n\timport java.io.IOException;\r\n\timport javax.sql.DataSource;\r\n\timport org.hsqldb.server.Server;\r\n\timport org.hsqldb.server.ServerAcl.AclFormatException;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.beans.factory.annotation.Value;\r\n\timport org.springframework.boot.SpringApplication;\r\n\timport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\timport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\n\timport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n\timport org.springframework.boot.jdbc.DataSourceBuilder;\r\n\timport org.springframework.context.annotation.Bean;\r\n\timport org.springframework.context.annotation.DependsOn;\r\n\timport org.springframework.core.io.Resource;\r\n\timport org.springframework.core.io.support.PropertiesLoaderUtils;\r\n\r\n\t@SpringBootApplication\r\n\t@EnableConfigurationProperties\r\n\tpublic class HsqldbRunnerApplication {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSpringApplication.run(HsqldbRunnerApplication.class, args);\r\n\t\t}\r\n\r\n\t\t@Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\r\n\t\tpublic Server hsqlServer(@Value(&quot;classpath:/hsqldb.properties&quot;) Resource props) throws IOException, AclFormatException {\r\n\t\t\tServer bean = new Server();\r\n\t\t\tbean.setProperties(PropertiesLoaderUtils.loadProperties(props));\r\n\t\t\treturn bean;\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\t@DependsOn(&quot;hsqlServer&quot;) // This is important!!\r\n\t\tpublic DataSource getDataSource(\r\n\t\t\t\t@Autowired DataSourceProperties dsProps) {\r\n\t\t\tDataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\r\n\t\t\tdataSourceBuilder.driverClassName(dsProps.getDriverClassName());\r\n\t\t\tdataSourceBuilder.url(dsProps.getUrl());\r\n\t\t\tdataSourceBuilder.username(dsProps.getUsername());\r\n\t\t\tdataSourceBuilder.password(dsProps.getPassword());\r\n\t\t\treturn dataSourceBuilder.build();\r\n\t\t}\r\n\r\n\t}\r\n\r\nSo, we need to:\r\n\r\n- define our own data source bean, and depend that (make it wait) on our &quot;hsqlServer&quot;.\r\n\r\n- move Controller to new class(es) (which is not bad, and was only in place for &quot;brevity&quot;), otherwise we get circular dependencies/unset datasources.\r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70009370/592355","title":"How to correctly integrate HSQLDB with Spring Boot?","body":"<p>Even replacing the <a href=\"https://stackoverflow.com/a/70009370/592355\">above</a> server component with this:</p>\n<pre><code>@Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\npublic Server hsqlServer(@Value(&quot;classpath:/hsqldb.properties&quot;) Resource props) throws IOException, AclFormatException {\n    Server bean = new org.hsqldb.server.Server();\n    bean.setProperties(PropertiesLoaderUtils.loadProperties(props));\n    return bean;\n}\n</code></pre>\n<p>,which is analogous to <a href=\"https://stackoverflow.com/a/40190090/592355\">this xml configuration</a>, shows NO ISSUES (works like charm).</p>\n<p>BUT, adding this dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>breaks everything</strong>! (Context doesn't load with:)</p>\n<pre><code>Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set\n</code></pre>\n<p>As soon &quot;fixing&quot; this:</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.HSQLDialect\n</code></pre>\n<p>We get Exception:</p>\n<pre><code>...Caused by: java.net.ConnectException: Connection refused: connect\n</code></pre>\n<p>..somewhere in HikariPool....</p>\n<hr />\n<p>Solution/Workaround:</p>\n<pre><code>import java.io.IOException;\nimport javax.sql.DataSource;\nimport org.hsqldb.server.Server;\nimport org.hsqldb.server.ServerAcl.AclFormatException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.boot.jdbc.DataSourceBuilder;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.DependsOn;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PropertiesLoaderUtils;\n\n@SpringBootApplication\n@EnableConfigurationProperties\npublic class HsqldbRunnerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HsqldbRunnerApplication.class, args);\n    }\n\n    @Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\n    public Server hsqlServer(@Value(&quot;classpath:/hsqldb.properties&quot;) Resource props) throws IOException, AclFormatException {\n        Server bean = new Server();\n        bean.setProperties(PropertiesLoaderUtils.loadProperties(props));\n        return bean;\n    }\n\n    @Bean\n    @DependsOn(&quot;hsqlServer&quot;) // This is important!!\n    public DataSource getDataSource(\n            @Autowired DataSourceProperties dsProps) {\n        DataSourceBuilder dataSourceBuilder = DataSourceBuilder.create();\n        dataSourceBuilder.driverClassName(dsProps.getDriverClassName());\n        dataSourceBuilder.url(dsProps.getUrl());\n        dataSourceBuilder.username(dsProps.getUsername());\n        dataSourceBuilder.password(dsProps.getPassword());\n        return dataSourceBuilder.build();\n    }\n\n}\n</code></pre>\n<p>So, we need to:</p>\n<ul>\n<li><p>define our own data source bean, and depend that (make it wait) on our &quot;hsqlServer&quot;.</p>\n</li>\n<li><p>move Controller to new class(es) (which is not bad, and was only in place for &quot;brevity&quot;), otherwise we get circular dependencies/unset datasources.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":3441926,"reputation":833,"user_id":2883674,"accept_rate":76,"display_name":"Cheloute"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6324,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70011910,"answer_count":2,"score":3,"last_activity_date":1637185684,"creation_date":1637159053,"question_id":70006118,"body_markdown":"I saw this post : https://stackoverflow.com/questions/40114231/how-to-start-hsqldb-in-server-mode-from-spring-boot-application but can&#39;t manage to get it working.\r\n\r\nMy goal is to build a Spring boot app that\r\n\r\n - Start HSQLDB in server mode, with file persistance (to get it back when I restart my app)\r\n - Expose a public API that communicates with this hsqldb instance\r\n - Let me the possibility to connect to this hsqldb server remotely, for instance using the embedded Swing app contained into hsqldb.jar.\r\n\r\nSo I tried to reproduce the marked answer of the quoted post:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    &lt;bean id=&quot;hqlServer&quot; class=&quot;org.hsqldb.server.Server&quot; init-method=&quot;start&quot; destroy-method=&quot;stop&quot;&gt;\r\n        &lt;property name=&quot;properties&quot;&gt;&lt;bean class=&quot;org.hsqldb.persist.HsqlProperties&quot;&gt;\r\n            &lt;constructor-arg&gt;&lt;props&gt;\r\n            &lt;prop key=&quot;server.database.0&quot;&gt;file:/tmp/mydb.db&lt;/prop&gt;\r\n            &lt;prop key=&quot;server.dbname.0&quot;&gt;mydb&lt;/prop&gt;&lt;!--DB name for network connection--&gt;\r\n            &lt;prop key=&quot;server.no_system_exit&quot;&gt;true&lt;/prop&gt;\r\n            &lt;prop key=&quot;server.port&quot;&gt;9001&lt;/prop&gt;&lt;!--default port is 9001 --&gt;\r\n            &lt;prop key=&quot;server.remote_open&quot;&gt;true&lt;/prop&gt;\r\n            &lt;/props&gt;&lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nI understand I next could be able to connect to `jdbc:hsqldb:hsql://localhost:9001/mydb`, right?\r\n\r\nWell, I specified all the parameters into my application.yml\r\n\r\n    spring:\r\n      profiles:\r\n        active: dev\r\n      datasource:\r\n        driver-class-name: org.hsqldb.jdbc.JDBCDriver \r\n        url: jdbc:hsqldb:hsql://localhost:9001/mydb\r\n        username: sa\r\n        password: \r\n      jpa:\r\n        database-platform: org.hibernate.dialect.HSQLDialect\r\n        show-sql: true\r\n        hibernate:\r\n          ddl-auto: update \r\n\r\nand finally, developed the App part (Controller, Services and JPA layer).\r\n\r\nI also included the xml part into the App\r\n\r\n    @SpringBootApplication\r\n    @ImportResource(value=&quot;classpath:/hsql_cfg.xml&quot;)\r\n    public class MyApp {\r\n    ...\r\n    }\r\n\r\nBut, obviously, it doesn&#39;t work and gives me the following error:\r\n\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n    [32m :: Spring Boot :: [39m      [2m (v2.2.2.RELEASE)[0;39m\r\n    \r\n    [2m2021-11-17 15:19:56.295[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mtest.MyApp                              [0;39m [2m:[0;39m Starting MyApp on iMac.local with PID 47627 (/Users/ludovic/workspace/test-hsqldb/target/classes started by ludovic in /Users/ludovic/workspace/test-hsqldb)\r\n    [2m2021-11-17 15:19:56.298[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mtest.MyApp                              [0;39m [2m:[0;39m The following profiles are active: dev\r\n    [2m2021-11-17 15:19:56.709[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    [2m2021-11-17 15:19:56.724[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Finished Spring Data repository scanning in 8ms. Found 0 JPA repository interfaces.\r\n    [2m2021-11-17 15:19:57.009[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.hibernate.jpa.internal.util.LogHelper [0;39m [2m:[0;39m HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    [2m2021-11-17 15:19:57.057[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.hibernate.Version                   [0;39m [2m:[0;39m HHH000412: Hibernate Core {5.4.9.Final}\r\n    [2m2021-11-17 15:19:57.166[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.hibernate.annotations.common.Version  [0;39m [2m:[0;39m HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\r\n    [2m2021-11-17 15:19:57.241[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\r\n    [2m2021-11-17 15:19:57.285[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-1 - Exception during pool initialization.\r\n    \r\n    java.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCDriver$1.run(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    Caused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.hsqldb.ClientConnection.openConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.ClientConnection.initConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \t... 2 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_241]\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Socket.java:555) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:451) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:228) ~[na:1.8.0_241]\r\n    \tat org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \t... 5 common frames omitted\r\n    \r\n    [2m2021-11-17 15:19:57.286[0;39m [33m WARN[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.e.j.e.i.JdbcEnvironmentInitiator    [0;39m [2m:[0;39m HHH000342: Could not obtain connection to query metadata : java.net.ConnectException: Connection refused (Connection refused)\r\n    [2m2021-11-17 15:19:57.296[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.hibernate.dialect.Dialect           [0;39m [2m:[0;39m HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect\r\n    [2m2021-11-17 15:19:57.439[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\r\n    [2m2021-11-17 15:19:57.441[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-1 - Exception during pool initialization.\r\n    \r\n    java.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCDriver$1.run(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    Caused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.hsqldb.ClientConnection.openConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.ClientConnection.initConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \t... 2 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_241]\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Socket.java:555) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:451) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:228) ~[na:1.8.0_241]\r\n    \tat org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \t... 5 common frames omitted\r\n    \r\n    [2m2021-11-17 15:19:57.442[0;39m [33m WARN[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m SQL Error: -1301, SQLState: 08001\r\n    [2m2021-11-17 15:19:57.442[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m java.net.ConnectException: Connection refused (Connection refused)\r\n    [2m2021-11-17 15:19:57.445[0;39m [33m WARN[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36ms.c.a.AnnotationConfigApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n    [2m2021-11-17 15:19:57.450[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    [2m2021-11-17 15:19:57.452[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\r\n    \tat test.MyApp.main(MyApp.java:11) [classes/:na]\r\n    Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:403) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \t... 15 common frames omitted\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:40) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:65) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.&lt;init&gt;(DatabaseInformationImpl.java:59) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:155) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:96) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:320) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\r\n    \t... 19 common frames omitted\r\n    Caused by: java.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.jdbc.JDBCDriver$1.run(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    Caused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat org.hsqldb.ClientConnection.openConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.ClientConnection.initConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \tat org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \t... 2 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    \tat java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_241]\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Socket.java:555) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:451) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.&lt;init&gt;(Socket.java:228) ~[na:1.8.0_241]\r\n    \tat org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\r\n    \t... 5 common frames omitted\r\n\r\nI&#39;m starting thinking that my app is trying to connect before server is started, is it possible? \r\nis there a way to tell to Spring to firstly start the server and then, make its magic?\r\n\r\nThanks\r\n\r\n","title":"How to correctly integrate HSQLDB with Spring Boot?","body":"<p>I saw this post : <a href=\"https://stackoverflow.com/questions/40114231/how-to-start-hsqldb-in-server-mode-from-spring-boot-application\">How to start HSQLDB in server mode from Spring boot application</a> but can't manage to get it working.</p>\n<p>My goal is to build a Spring boot app that</p>\n<ul>\n<li>Start HSQLDB in server mode, with file persistance (to get it back when I restart my app)</li>\n<li>Expose a public API that communicates with this hsqldb instance</li>\n<li>Let me the possibility to connect to this hsqldb server remotely, for instance using the embedded Swing app contained into hsqldb.jar.</li>\n</ul>\n<p>So I tried to reproduce the marked answer of the quoted post:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n&lt;bean id=&quot;hqlServer&quot; class=&quot;org.hsqldb.server.Server&quot; init-method=&quot;start&quot; destroy-method=&quot;stop&quot;&gt;\n    &lt;property name=&quot;properties&quot;&gt;&lt;bean class=&quot;org.hsqldb.persist.HsqlProperties&quot;&gt;\n        &lt;constructor-arg&gt;&lt;props&gt;\n        &lt;prop key=&quot;server.database.0&quot;&gt;file:/tmp/mydb.db&lt;/prop&gt;\n        &lt;prop key=&quot;server.dbname.0&quot;&gt;mydb&lt;/prop&gt;&lt;!--DB name for network connection--&gt;\n        &lt;prop key=&quot;server.no_system_exit&quot;&gt;true&lt;/prop&gt;\n        &lt;prop key=&quot;server.port&quot;&gt;9001&lt;/prop&gt;&lt;!--default port is 9001 --&gt;\n        &lt;prop key=&quot;server.remote_open&quot;&gt;true&lt;/prop&gt;\n        &lt;/props&gt;&lt;/constructor-arg&gt;\n    &lt;/bean&gt;&lt;/property&gt;\n&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I understand I next could be able to connect to <code>jdbc:hsqldb:hsql://localhost:9001/mydb</code>, right?</p>\n<p>Well, I specified all the parameters into my application.yml</p>\n<pre><code>spring:\n  profiles:\n    active: dev\n  datasource:\n    driver-class-name: org.hsqldb.jdbc.JDBCDriver \n    url: jdbc:hsqldb:hsql://localhost:9001/mydb\n    username: sa\n    password: \n  jpa:\n    database-platform: org.hibernate.dialect.HSQLDialect\n    show-sql: true\n    hibernate:\n      ddl-auto: update \n</code></pre>\n<p>and finally, developed the App part (Controller, Services and JPA layer).</p>\n<p>I also included the xml part into the App</p>\n<pre><code>@SpringBootApplication\n@ImportResource(value=&quot;classpath:/hsql_cfg.xml&quot;)\npublic class MyApp {\n...\n}\n</code></pre>\n<p>But, obviously, it doesn't work and gives me the following error:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n[32m :: Spring Boot :: [39m      [2m (v2.2.2.RELEASE)[0;39m\n\n[2m2021-11-17 15:19:56.295[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mtest.MyApp                              [0;39m [2m:[0;39m Starting MyApp on iMac.local with PID 47627 (/Users/ludovic/workspace/test-hsqldb/target/classes started by ludovic in /Users/ludovic/workspace/test-hsqldb)\n[2m2021-11-17 15:19:56.298[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mtest.MyApp                              [0;39m [2m:[0;39m The following profiles are active: dev\n[2m2021-11-17 15:19:56.709[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n[2m2021-11-17 15:19:56.724[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36m.s.d.r.c.RepositoryConfigurationDelegate[0;39m [2m:[0;39m Finished Spring Data repository scanning in 8ms. Found 0 JPA repository interfaces.\n[2m2021-11-17 15:19:57.009[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.hibernate.jpa.internal.util.LogHelper [0;39m [2m:[0;39m HHH000204: Processing PersistenceUnitInfo [name: default]\n[2m2021-11-17 15:19:57.057[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.hibernate.Version                   [0;39m [2m:[0;39m HHH000412: Hibernate Core {5.4.9.Final}\n[2m2021-11-17 15:19:57.166[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.hibernate.annotations.common.Version  [0;39m [2m:[0;39m HCANN000001: Hibernate Commons Annotations {5.1.0.Final}\n[2m2021-11-17 15:19:57.241[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\n[2m2021-11-17 15:19:57.285[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-1 - Exception during pool initialization.\n\njava.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused (Connection refused)\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCDriver$1.run(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\nCaused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused (Connection refused)\n    at org.hsqldb.ClientConnection.openConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.ClientConnection.initConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    ... 2 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_241]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Socket.java:555) ~[na:1.8.0_241]\n    at java.net.Socket.&lt;init&gt;(Socket.java:451) ~[na:1.8.0_241]\n    at java.net.Socket.&lt;init&gt;(Socket.java:228) ~[na:1.8.0_241]\n    at org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    ... 5 common frames omitted\n\n[2m2021-11-17 15:19:57.286[0;39m [33m WARN[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.e.j.e.i.JdbcEnvironmentInitiator    [0;39m [2m:[0;39m HHH000342: Could not obtain connection to query metadata : java.net.ConnectException: Connection refused (Connection refused)\n[2m2021-11-17 15:19:57.296[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36morg.hibernate.dialect.Dialect           [0;39m [2m:[0;39m HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect\n[2m2021-11-17 15:19:57.439[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.HikariDataSource      [0;39m [2m:[0;39m HikariPool-1 - Starting...\n[2m2021-11-17 15:19:57.441[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.zaxxer.hikari.pool.HikariPool       [0;39m [2m:[0;39m HikariPool-1 - Exception during pool initialization.\n\njava.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused (Connection refused)\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCDriver$1.run(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\nCaused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused (Connection refused)\n    at org.hsqldb.ClientConnection.openConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.ClientConnection.initConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    ... 2 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_241]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Socket.java:555) ~[na:1.8.0_241]\n    at java.net.Socket.&lt;init&gt;(Socket.java:451) ~[na:1.8.0_241]\n    at java.net.Socket.&lt;init&gt;(Socket.java:228) ~[na:1.8.0_241]\n    at org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    ... 5 common frames omitted\n\n[2m2021-11-17 15:19:57.442[0;39m [33m WARN[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m SQL Error: -1301, SQLState: 08001\n[2m2021-11-17 15:19:57.442[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m java.net.ConnectException: Connection refused (Connection refused)\n[2m2021-11-17 15:19:57.445[0;39m [33m WARN[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36ms.c.a.AnnotationConfigApplicationContext[0;39m [2m:[0;39m Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n[2m2021-11-17 15:19:57.450[0;39m [32m INFO[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n[2m2021-11-17 15:19:57.452[0;39m [31mERROR[0;39m [35m47627[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1108) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:868) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.2.RELEASE.jar:2.2.2.RELEASE]\n    at test.MyApp.main(MyApp.java:11) [classes/:na]\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:403) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:378) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792) ~[spring-beans-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    ... 15 common frames omitted\nCaused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:48) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:69) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:60) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:40) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:65) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.&lt;init&gt;(DatabaseInformationImpl.java:59) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:155) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:96) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:184) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:320) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237) ~[hibernate-core-5.4.9.Final.jar:5.4.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:391) ~[spring-orm-5.2.2.RELEASE.jar:5.2.2.RELEASE]\n    ... 19 common frames omitted\nCaused by: java.sql.SQLTransientConnectionException: java.net.ConnectException: Connection refused (Connection refused)\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.jdbc.JDBCDriver$1.run(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\nCaused by: org.hsqldb.HsqlException: java.net.ConnectException: Connection refused (Connection refused)\n    at org.hsqldb.ClientConnection.openConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.ClientConnection.initConnection(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    at org.hsqldb.ClientConnection.&lt;init&gt;(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    ... 2 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_241]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Socket.java:606) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Socket.java:555) ~[na:1.8.0_241]\n    at java.net.Socket.&lt;init&gt;(Socket.java:451) ~[na:1.8.0_241]\n    at java.net.Socket.&lt;init&gt;(Socket.java:228) ~[na:1.8.0_241]\n    at org.hsqldb.server.HsqlSocketFactory.createSocket(Unknown Source) ~[hsqldb-2.4.0.jar:2.4.0]\n    ... 5 common frames omitted\n</code></pre>\n<p>I'm starting thinking that my app is trying to connect before server is started, is it possible?\nis there a way to tell to Spring to firstly start the server and then, make its magic?</p>\n<p>Thanks</p>\n"},{"tags":["java","jquery","ajax","spring-boot","rest"],"comments":[{"owner":{"account_id":2162278,"reputation":717,"user_id":1916171,"accept_rate":48,"display_name":"Sami"},"score":0,"creation_date":1637232107,"post_id":69992778,"comment_id":123773282,"body_markdown":"Is there any JS error in your browser console ?","body":"Is there any JS error in your browser console ?"}],"answers":[{"tags":[],"owner":{"account_id":18625690,"reputation":5,"user_id":17376628,"display_name":"1i10"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637150967,"creation_date":1637150967,"answer_id":70004147,"question_id":69992778,"body_markdown":"Eh, the problem was painfully commonplace. Incorrect project structure.\r\nThe application file was in another package, and it should be above all as shown here.\r\n[omg][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mvLJy.png","title":"How to display a table with content from a database on a page? rest ajax spring boot application","body":"<p>Eh, the problem was painfully commonplace. Incorrect project structure.\nThe application file was in another package, and it should be above all as shown here.\n<a href=\"https://i.stack.imgur.com/mvLJy.png\" rel=\"nofollow noreferrer\">omg</a></p>\n"}],"owner":{"account_id":18625690,"reputation":5,"user_id":17376628,"display_name":"1i10"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70004147,"answer_count":1,"score":0,"last_activity_date":1637185589,"creation_date":1637079979,"question_id":69992778,"body_markdown":"\r\nindex.html\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;Cars Selling&lt;/title&gt;\r\n\r\n&lt;script\r\n\tsrc=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;listCarsSelling.js&quot;&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;h2&gt;Cars Selling List&lt;/h2&gt;\r\n\r\n\t&lt;table id=&quot;table-content&quot;&gt;\r\n\t\t&lt;thead&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;code&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;manufacturer&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;model&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;color&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;transmission&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;body_type&lt;/td&gt;\r\n\t\t\t\t&lt;td&gt;price&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t&lt;/thead&gt;\r\n\t&lt;/table&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\nlistCarsSelling.js\r\n```javascript\r\n$(document).ready(function(){\r\n\t$.ajax(\r\n\t\t{\r\n\t\t\ttype: &quot;GET&quot;,\r\n\t\t\turl: &quot;http://localhost:8080/ListCarsSelling&quot;,\r\n\t\t\tcontentType: &quot;application/json; charset=utf-8&quot;,\r\n\t\t\tdataType: &quot;json&quot;,\r\n\t\t\tcache: false,\r\n\t\t\tsuccess: function(data){\r\n\t\t\t\t\r\n\t\t\t\tfor (var i=0; i&lt;data.length; i++) {\r\n           \t\t\t var row = $(&#39;&lt;tr&gt;&lt;td&gt;&#39; + data[i].code + &#39;&lt;/td&gt;&lt;td&gt;&#39; + data[i].manufacturer\r\n\t\t\t\t\t + &#39;&lt;/td&gt;&lt;td&gt;&#39; + data[i].model + &#39;&lt;/td&gt;&lt;td&gt;&#39; + data[i].color + &#39;&lt;/td&gt;&lt;td&gt;&#39;\r\n\t\t\t\t+ data[i].transmission + &#39;&lt;/td&gt;&lt;td&gt;&#39; + data[i].body_type + &#39;&lt;/td&gt;&lt;td&gt;&#39; \r\n\t\t\t\t+ data[i].price + &#39;&lt;/td&gt;&lt;/tr&gt;&#39;);\r\n\t\t\t\t\r\n\t\t\t\t\t$(&#39;#table-content&#39;).append(row);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\terror: function(msg){\r\n\t\t\t\tallert(msg.responseText);\r\n\t\t\t}\r\n\t\t});\r\n})\r\n```\r\nphoto with error &#39;404&#39; for reference on the link &#39;http://localhost:8080/&#39;:\r\n[enter image description here][1]\r\n\r\n--------------------\r\nI want the data from my database to be displayed immediately when I go to the main page. How can i do this?\r\nI also want to point out that I have no problems connecting to the database, since while developing rest i was able to extract json data. I just now need to display them somehow..\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FVBVd.png","title":"How to display a table with content from a database on a page? rest ajax spring boot application","body":"<p>index.html</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Cars Selling&lt;/title&gt;\n\n&lt;script\n    src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;listCarsSelling.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h2&gt;Cars Selling List&lt;/h2&gt;\n\n    &lt;table id=&quot;table-content&quot;&gt;\n        &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;td&gt;code&lt;/td&gt;\n                &lt;td&gt;manufacturer&lt;/td&gt;\n                &lt;td&gt;model&lt;/td&gt;\n                &lt;td&gt;color&lt;/td&gt;\n                &lt;td&gt;transmission&lt;/td&gt;\n                &lt;td&gt;body_type&lt;/td&gt;\n                &lt;td&gt;price&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/thead&gt;\n    &lt;/table&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>listCarsSelling.js</p>\n<pre class=\"lang-js prettyprint-override\"><code>$(document).ready(function(){\n    $.ajax(\n        {\n            type: &quot;GET&quot;,\n            url: &quot;http://localhost:8080/ListCarsSelling&quot;,\n            contentType: &quot;application/json; charset=utf-8&quot;,\n            dataType: &quot;json&quot;,\n            cache: false,\n            success: function(data){\n                \n                for (var i=0; i&lt;data.length; i++) {\n                     var row = $('&lt;tr&gt;&lt;td&gt;' + data[i].code + '&lt;/td&gt;&lt;td&gt;' + data[i].manufacturer\n                     + '&lt;/td&gt;&lt;td&gt;' + data[i].model + '&lt;/td&gt;&lt;td&gt;' + data[i].color + '&lt;/td&gt;&lt;td&gt;'\n                + data[i].transmission + '&lt;/td&gt;&lt;td&gt;' + data[i].body_type + '&lt;/td&gt;&lt;td&gt;' \n                + data[i].price + '&lt;/td&gt;&lt;/tr&gt;');\n                \n                    $('#table-content').append(row);\n                }\n            },\n            \n            error: function(msg){\n                allert(msg.responseText);\n            }\n        });\n})\n</code></pre>\n<p>photo with error '404' for reference on the link 'http://localhost:8080/':\n<a href=\"https://i.stack.imgur.com/FVBVd.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<hr />\n<p>I want the data from my database to be displayed immediately when I go to the main page. How can i do this?\nI also want to point out that I have no problems connecting to the database, since while developing rest i was able to extract json data. I just now need to display them somehow..</p>\n"},{"tags":["java","spring-boot","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1637181840,"post_id":70011162,"comment_id":123760817,"body_markdown":"Spring doesn&#39;t &quot;look&quot; for any Kafka or serializer properties; it just supplies them to the Kafka clients from the properties. You don&#39;t show a `KafkaTemplate` anywhere in the above configuration, so it&#39;s not clear what you are talking about.","body":"Spring doesn&#39;t &quot;look&quot; for any Kafka or serializer properties; it just supplies them to the Kafka clients from the properties. You don&#39;t show a <code>KafkaTemplate</code> anywhere in the above configuration, so it&#39;s not clear what you are talking about."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1637182002,"post_id":70011162,"comment_id":123760868,"body_markdown":"Please, show the whole stack trace. I fully might be related to your `CustomKafkaAvroDeserializer`, not `spring-kafka`...","body":"Please, show the whole stack trace. I fully might be related to your <code>CustomKafkaAvroDeserializer</code>, not <code>spring-kafka</code>..."},{"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"score":0,"creation_date":1637182588,"post_id":70011162,"comment_id":123761036,"body_markdown":"@GaryRussell I add producer to topic","body":"@GaryRussell I add producer to topic"},{"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"score":0,"creation_date":1637182691,"post_id":70011162,"comment_id":123761071,"body_markdown":"@ArtemBilan add stack trace","body":"@ArtemBilan add stack trace"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1637183821,"post_id":70011162,"comment_id":123761428,"body_markdown":"I guess your `PointProducer` is used when `/orders/7000000/sendToKafka` is done. Please, show your YAML for `spring.kafka` configuration.","body":"I guess your <code>PointProducer</code> is used when <code>&#47;orders&#47;7000000&#47;sendToKafka</code> is done. Please, show your YAML for <code>spring.kafka</code> configuration."},{"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"score":0,"creation_date":1637185183,"post_id":70011162,"comment_id":123761869,"body_markdown":"@ArtemBilan add config","body":"@ArtemBilan add config"},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1637185567,"post_id":70011162,"comment_id":123762015,"body_markdown":"See my answer...","body":"See my answer..."}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637185491,"creation_date":1637185491,"answer_id":70011954,"question_id":70011162,"body_markdown":"The problem is here:\r\n\r\nspring:\r\n  kafka:\r\n    schema-registry-url: http://localhost:8081\r\n\r\nThere is no such a property managed by Spring Boot.\r\nMore over this `schema-registry-url` doesn&#39;t fit to that `schema.registry.url`.\r\n\r\nYou have to consider to change it into this:\r\n\r\n    spring:\r\n      kafka:\r\n        producer:\r\n          properties:\r\n            &quot;schema.registry.url&quot;: http://localhost:8081\r\n\r\nSee docs for more info: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.messaging.kafka.additional-properties","title":"How to test EmbeddedKafka with SpringBoot","body":"<p>The problem is here:</p>\n<p>spring:\nkafka:\nschema-registry-url: http://localhost:8081</p>\n<p>There is no such a property managed by Spring Boot.\nMore over this <code>schema-registry-url</code> doesn't fit to that <code>schema.registry.url</code>.</p>\n<p>You have to consider to change it into this:</p>\n<pre><code>spring:\n  kafka:\n    producer:\n      properties:\n        &quot;schema.registry.url&quot;: http://localhost:8081\n</code></pre>\n<p>See docs for more info: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.messaging.kafka.additional-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.messaging.kafka.additional-properties</a></p>\n"}],"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1739,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70011954,"answer_count":1,"score":0,"last_activity_date":1637185491,"creation_date":1637181139,"question_id":70011162,"body_markdown":"I met problem with testing Kafka Producer after change custom Producer to KafkaTemplate.\r\n\r\nFor tests reason I wrote next class:\r\n\r\n    public class KafkaTestingTools {\r\n    \r\n        static private Map&lt;String, Consumer&lt;Long, GenericData.Record&gt;&gt; consumers = new HashMap&lt;&gt;();\r\n    \r\n        static public void sendMessage (String topic, String key, Object message, Schema schema) throws InterruptedException{\r\n    \t\tProperties properties = new Properties();\r\n            properties.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n            properties.put(&quot;bootstrap.servers&quot;, &quot;http://localhost:9092&quot;);\r\n            properties.put(&quot;acks&quot;, &quot;all&quot;);\r\n            properties.put(&quot;retries&quot;, 0);\r\n            properties.put(&quot;linger.ms&quot;, 1);\r\n            properties.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\n            properties.put(&quot;value.serializer&quot;, &quot;com.logistics.mock.CustomKafkaAvroSerializer&quot;);\r\n            KafkaProducer&lt;String, Object&gt; producer = new KafkaProducer&lt;&gt;(properties);\r\n    \r\n    \t\tCustomKafkaAvroDeserializer.setTopicScheme(topic, schema);\r\n    \r\n            ProducerRecord&lt;String, Object&gt; record = new ProducerRecord&lt;&gt;(topic, key, message);\r\n            producer.send(record);\r\n            producer.close();\r\n    \t}\r\n    \r\n        static public void registerConsumerContainer(EmbeddedKafkaBroker embeddedKafka, String topic, Schema schema) throws InterruptedException{\r\n            Map&lt;String, Object&gt; consumerProps = KafkaTestUtils.consumerProps(&quot;testGroup&quot; + UUID.randomUUID().toString(), &quot;true&quot;, embeddedKafka);\r\n            consumerProps.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\r\n            consumerProps.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n            consumerProps.put(&quot;value.deserializer&quot;, &quot;com.logistics.mock.CustomKafkaAvroDeserializer&quot;);\r\n            consumerProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n            ConsumerFactory&lt;Long, GenericData.Record&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps);\r\n            Consumer&lt;Long, GenericData.Record&gt; consumer = cf.createConsumer();\r\n            consumers.put(topic, consumer);\r\n    \r\n            embeddedKafka.consumeFromAnEmbeddedTopic(consumer, topic);\r\n    \r\n            CustomKafkaAvroDeserializer.setTopicScheme(topic, schema);\r\n        }\r\n    \r\n        static public Object getSingleRecordFromRegisteredContainer(EmbeddedKafkaBroker embeddedKafka, String topic){\r\n            return SpecificData.get().deepCopy(\r\n                CustomKafkaAvroDeserializer.getTopicScheme(topic),\r\n                KafkaTestUtils.getSingleRecord(consumers.get(topic), topic).value()\r\n            );\r\n        }\r\n        \r\n    }\r\nProducer example:\r\n\r\n    @Service\r\n    @CommonsLog\r\n    public class PointProducer {\r\n    \r\n        private final KafkaTemplate&lt;String, ExportMessage&gt; kafkaTemplate;\r\n        private final String topic;\r\n    \r\n        @Autowired\r\n        public PointProducer(@Value(&quot;${kafka.producer.points}&quot;) String topic,\r\n                KafkaTemplate&lt;String, ExportMessage&gt; kafkaTemplate) {\r\n            this.topic = topic;\r\n            this.kafkaTemplate = kafkaTemplate;\r\n        }\r\n    \r\n        public void produce(Point point) {\r\n            var message = new ExportMessage();\r\n            message.setId(point.getId());\r\n            log.warn(&quot;produce point: &quot; + message.toString());\r\n            kafkaTemplate.send(topic, point.getId().toString(), message);\r\n            kafkaTemplate.flush();\r\n        }\r\n\r\nkafka config\r\n\r\n    spring:\r\n      kafka:\r\n        bootstrap-servers: ${spring.embedded.kafka.brokers}\r\n        consumer:\r\n          key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n          point-deserializer: com.logistics.mock.CustomKafkaAvroDeserializer\r\n          auto-offset-reset: latest\r\n          group-id: credit_file_test\r\n        producer:\r\n          key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n          value-serializer: com.logistics.mock.CustomKafkaAvroSerializer\r\n        schema-registry-url: http://localhost:8081\r\n    \r\n    kafka.consumer.points: points_export\r\n    kafka.producer.files: common.file\r\n    kafka.producer.orders: common.order\r\n    kafka.producer.points: common.point\r\n\r\nAnd tests looks like:\r\n\r\n    @SpringBootTest\r\n    @TestMethodOrder(OrderAnnotation.class)\r\n    @EmbeddedKafka(partitions = 1, topics = { &quot;topic1&quot;, &quot;topic2&quot; }, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\r\n    class ApplicationLogisticOrderTest {\r\n    @Test\r\n        @Order(1)\r\n        @WithMockUser(roles = &quot;ADMIN&quot;)\r\n        void checkSendToKafka() throws Exception {\r\n            KafkaTestingTools.registerConsumerContainer(this.embeddedKafka, TOPIC1, Message.SCHEMA$);\r\n            Thread.sleep(3000);\r\n            prepareCustomizedLogisticOrder(t -&gt; {\r\n            });\r\n            var mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\r\n            mockMvc.perform(MockMvcRequestBuilders.put(&quot;/orders/7000000/sendToKafka&quot;));\r\n    \r\n    }\r\n\r\nAnd on line with perform I caught: \r\n\r\n    Caused by: org.apache.kafka.common.config.ConfigException: Missing required configuration &quot;schema.registry.url&quot; which has no default value.\r\n    at org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:478)\r\n    \tat org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:468)\r\n    \tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:108)\r\n    \tat org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:129)\r\n    \tat io.confluent.kafka.serializers.AbstractKafkaSchemaSerDeConfig.&lt;init&gt;(AbstractKafkaSchemaSerDeConfig.java:177)\r\n    \tat io.confluent.kafka.serializers.KafkaAvroSerializerConfig.&lt;init&gt;(KafkaAvroSerializerConfig.java:32)\r\n    \tat io.confluent.kafka.serializers.KafkaAvroSerializer.configure(KafkaAvroSerializer.java:50)\r\n    at org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:376)\r\n\r\nI tried to put it in application.yml, in KafkaTestingTools properties, but nothing changed, it looks like Spring looks for this property in another place.\r\n\r\nMaybe someone met this situation and know solution?\r\n\r\nThanks in advance.  ","title":"How to test EmbeddedKafka with SpringBoot","body":"<p>I met problem with testing Kafka Producer after change custom Producer to KafkaTemplate.</p>\n<p>For tests reason I wrote next class:</p>\n<pre><code>public class KafkaTestingTools {\n\n    static private Map&lt;String, Consumer&lt;Long, GenericData.Record&gt;&gt; consumers = new HashMap&lt;&gt;();\n\n    static public void sendMessage (String topic, String key, Object message, Schema schema) throws InterruptedException{\n        Properties properties = new Properties();\n        properties.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\n        properties.put(&quot;bootstrap.servers&quot;, &quot;http://localhost:9092&quot;);\n        properties.put(&quot;acks&quot;, &quot;all&quot;);\n        properties.put(&quot;retries&quot;, 0);\n        properties.put(&quot;linger.ms&quot;, 1);\n        properties.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\n        properties.put(&quot;value.serializer&quot;, &quot;com.logistics.mock.CustomKafkaAvroSerializer&quot;);\n        KafkaProducer&lt;String, Object&gt; producer = new KafkaProducer&lt;&gt;(properties);\n\n        CustomKafkaAvroDeserializer.setTopicScheme(topic, schema);\n\n        ProducerRecord&lt;String, Object&gt; record = new ProducerRecord&lt;&gt;(topic, key, message);\n        producer.send(record);\n        producer.close();\n    }\n\n    static public void registerConsumerContainer(EmbeddedKafkaBroker embeddedKafka, String topic, Schema schema) throws InterruptedException{\n        Map&lt;String, Object&gt; consumerProps = KafkaTestUtils.consumerProps(&quot;testGroup&quot; + UUID.randomUUID().toString(), &quot;true&quot;, embeddedKafka);\n        consumerProps.put(&quot;schema.registry.url&quot;, &quot;http://localhost:8081&quot;);\n        consumerProps.put(&quot;key.deserializer&quot;, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n        consumerProps.put(&quot;value.deserializer&quot;, &quot;com.logistics.mock.CustomKafkaAvroDeserializer&quot;);\n        consumerProps.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n        ConsumerFactory&lt;Long, GenericData.Record&gt; cf = new DefaultKafkaConsumerFactory&lt;&gt;(consumerProps);\n        Consumer&lt;Long, GenericData.Record&gt; consumer = cf.createConsumer();\n        consumers.put(topic, consumer);\n\n        embeddedKafka.consumeFromAnEmbeddedTopic(consumer, topic);\n\n        CustomKafkaAvroDeserializer.setTopicScheme(topic, schema);\n    }\n\n    static public Object getSingleRecordFromRegisteredContainer(EmbeddedKafkaBroker embeddedKafka, String topic){\n        return SpecificData.get().deepCopy(\n            CustomKafkaAvroDeserializer.getTopicScheme(topic),\n            KafkaTestUtils.getSingleRecord(consumers.get(topic), topic).value()\n        );\n    }\n    \n}\n</code></pre>\n<p>Producer example:</p>\n<pre><code>@Service\n@CommonsLog\npublic class PointProducer {\n\n    private final KafkaTemplate&lt;String, ExportMessage&gt; kafkaTemplate;\n    private final String topic;\n\n    @Autowired\n    public PointProducer(@Value(&quot;${kafka.producer.points}&quot;) String topic,\n            KafkaTemplate&lt;String, ExportMessage&gt; kafkaTemplate) {\n        this.topic = topic;\n        this.kafkaTemplate = kafkaTemplate;\n    }\n\n    public void produce(Point point) {\n        var message = new ExportMessage();\n        message.setId(point.getId());\n        log.warn(&quot;produce point: &quot; + message.toString());\n        kafkaTemplate.send(topic, point.getId().toString(), message);\n        kafkaTemplate.flush();\n    }\n</code></pre>\n<p>kafka config</p>\n<pre><code>spring:\n  kafka:\n    bootstrap-servers: ${spring.embedded.kafka.brokers}\n    consumer:\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      point-deserializer: com.logistics.mock.CustomKafkaAvroDeserializer\n      auto-offset-reset: latest\n      group-id: credit_file_test\n    producer:\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: com.logistics.mock.CustomKafkaAvroSerializer\n    schema-registry-url: http://localhost:8081\n\nkafka.consumer.points: points_export\nkafka.producer.files: common.file\nkafka.producer.orders: common.order\nkafka.producer.points: common.point\n</code></pre>\n<p>And tests looks like:</p>\n<pre><code>@SpringBootTest\n@TestMethodOrder(OrderAnnotation.class)\n@EmbeddedKafka(partitions = 1, topics = { &quot;topic1&quot;, &quot;topic2&quot; }, brokerProperties = { &quot;listeners=PLAINTEXT://localhost:9092&quot;, &quot;port=9092&quot; })\nclass ApplicationLogisticOrderTest {\n@Test\n    @Order(1)\n    @WithMockUser(roles = &quot;ADMIN&quot;)\n    void checkSendToKafka() throws Exception {\n        KafkaTestingTools.registerConsumerContainer(this.embeddedKafka, TOPIC1, Message.SCHEMA$);\n        Thread.sleep(3000);\n        prepareCustomizedLogisticOrder(t -&gt; {\n        });\n        var mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\n        mockMvc.perform(MockMvcRequestBuilders.put(&quot;/orders/7000000/sendToKafka&quot;));\n\n}\n</code></pre>\n<p>And on line with perform I caught:</p>\n<pre><code>Caused by: org.apache.kafka.common.config.ConfigException: Missing required configuration &quot;schema.registry.url&quot; which has no default value.\nat org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:478)\n    at org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:468)\n    at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:108)\n    at org.apache.kafka.common.config.AbstractConfig.&lt;init&gt;(AbstractConfig.java:129)\n    at io.confluent.kafka.serializers.AbstractKafkaSchemaSerDeConfig.&lt;init&gt;(AbstractKafkaSchemaSerDeConfig.java:177)\n    at io.confluent.kafka.serializers.KafkaAvroSerializerConfig.&lt;init&gt;(KafkaAvroSerializerConfig.java:32)\n    at io.confluent.kafka.serializers.KafkaAvroSerializer.configure(KafkaAvroSerializer.java:50)\nat org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:376)\n</code></pre>\n<p>I tried to put it in application.yml, in KafkaTestingTools properties, but nothing changed, it looks like Spring looks for this property in another place.</p>\n<p>Maybe someone met this situation and know solution?</p>\n<p>Thanks in advance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8153,"page":1839,"page_size":100}
