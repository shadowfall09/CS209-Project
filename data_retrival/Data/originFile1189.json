{"items":[{"tags":["java","firebase-cloud-messaging","apple-push-notifications","aws-sdk","amazon-sns"],"answers":[{"tags":[],"owner":{"account_id":114308,"reputation":2652,"user_id":300664,"accept_rate":96,"display_name":"bjrnt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657731548,"creation_date":1657731548,"answer_id":72970001,"question_id":72961665,"body_markdown":"The recommendation is indeed that you store the ARN in your database for retrieval when you want to send a notification to that user. Most applications have an internal mapping, e.g. from user ID -&gt; device ARN that SNS does not know about. This makes it difficult to target specific users unless you have this stored somewhere.\r\n\r\nThere is pseudo code available [here](https://docs.aws.amazon.com/sns/latest/dg/mobile-platform-endpoint.html#mobile-platform-endpoint-pseudo-code) which goes over best practices for creating and managing platform application endpoints. Keep in mind that this would all be running on your server.","title":"Is storing ARNs the correct way to register and send to AWS SNS?","body":"<p>The recommendation is indeed that you store the ARN in your database for retrieval when you want to send a notification to that user. Most applications have an internal mapping, e.g. from user ID -&gt; device ARN that SNS does not know about. This makes it difficult to target specific users unless you have this stored somewhere.</p>\n<p>There is pseudo code available <a href=\"https://docs.aws.amazon.com/sns/latest/dg/mobile-platform-endpoint.html#mobile-platform-endpoint-pseudo-code\" rel=\"nofollow noreferrer\">here</a> which goes over best practices for creating and managing platform application endpoints. Keep in mind that this would all be running on your server.</p>\n"}],"owner":{"account_id":1639312,"reputation":151,"user_id":1512076,"accept_rate":60,"display_name":"Jordin Vell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72970001,"answer_count":1,"score":0,"last_activity_date":1657754599,"creation_date":1657692754,"question_id":72961665,"body_markdown":"I&#39;m trying to implement push notifications via AWS SNS using FCM/APNS. I&#39;ve successfully done it manually via the SNS console and now I&#39;m trying to implement the whole process via Java.\r\n\r\nThe tutorials are short-stopped at demoing the manual method and the AWS SDKs are not that explicit. The things I want to implement via SDK are\r\n\r\n 1. Create Platform Application ARNs (FCM/APN)\r\n 2. Create Endpoint ARN (Device Token)\r\n 3. Send Message to Endpoint ARN\r\n\r\nNow each step is dependent on the previous step ARN, is it correct that the way to get these ARNs is storing and retrieving them on our database?\r\n\r\nFor example, to register an Endpoint ARN, I get Platform Application ARN from the DB (with the user&#39;s device token), register it on SNS and then save the endpoint ARN response to the DB? \r\nNow if I want to send a message to that user then I just get his endpoint ARN from the DB and publish a message?\r\n\r\nIf you know of any guide that is useful for using SNS in code, either JS or Java you can put it in as an answer as well.","title":"Is storing ARNs the correct way to register and send to AWS SNS?","body":"<p>I'm trying to implement push notifications via AWS SNS using FCM/APNS. I've successfully done it manually via the SNS console and now I'm trying to implement the whole process via Java.</p>\n<p>The tutorials are short-stopped at demoing the manual method and the AWS SDKs are not that explicit. The things I want to implement via SDK are</p>\n<ol>\n<li>Create Platform Application ARNs (FCM/APN)</li>\n<li>Create Endpoint ARN (Device Token)</li>\n<li>Send Message to Endpoint ARN</li>\n</ol>\n<p>Now each step is dependent on the previous step ARN, is it correct that the way to get these ARNs is storing and retrieving them on our database?</p>\n<p>For example, to register an Endpoint ARN, I get Platform Application ARN from the DB (with the user's device token), register it on SNS and then save the endpoint ARN response to the DB?\nNow if I want to send a message to that user then I just get his endpoint ARN from the DB and publish a message?</p>\n<p>If you know of any guide that is useful for using SNS in code, either JS or Java you can put it in as an answer as well.</p>\n"},{"tags":["java","gradle","java-module"],"answers":[{"tags":[],"owner":{"account_id":25782136,"reputation":1,"user_id":19527601,"display_name":"jlbabilino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657753963,"creation_date":1657753963,"answer_id":72973592,"question_id":72940997,"body_markdown":"This error is a result of an invalid module configuration in the [indriya](https://search.maven.org/artifact/tech.units/indriya/2.1.3/bundle) dependency. It requires the module called `javax.inject`, which is an automatic module generated from this [artifact](https://search.maven.org/artifact/javax.inject/javax.inject/1/jar). It assumes the automatic module will be available, but the manifest in the jar doesn&#39;t have the `Automatic-Module-Name` entry. Some build systems might not care and still generate an automatic module based on the jar filename. In the [Gradle documentation](https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_modular):\r\n\r\n&gt; A third case are traditional libraries that provide no module information at all — for example commons-cli:commons-cli:1.4. Gradle puts such libraries on the classpath instead of the module path. The classpath is then treated as one module (the so called unnamed module) by Java.\r\n\r\nSo Gradle doesn&#39;t support using legacy libraries with modular projects. We need to make sure there is a `javax.inject` module available on the module path. To achieve this, we can do one of several things:\r\n1. Use artifact transformation to add automatic module entry to the manifest,\r\n2. Find another artifact that creates the `javax.inject` module, and add that as a dependency to the project,\r\n3. Find another artifact that creates a module and create an alias to it with the correct module name, or\r\n4. Make a new Maven artifact with the correct module name and upload it to a repository.\r\n\r\nArtifact transformation is difficult to do with Gradle since you need plugins and extra code to unzip the jar and edit it. It definitely could be done, but I don&#39;t want to try it. I was unable to find any artifacts online that used the `javax.inject` module name. Most of them used `java.inject` or something else. Since I also don&#39;t want to go through the hassle of creating a new project and uploading it to a repository, I&#39;ll use the third option.\r\n\r\n[This repo](https://github.com/pustike/javax.inject) by GitHub user [pustike](https://github.com/pustike) is a fork of the same dependency injection library that adds a module called `java.inject` that we can use to make an alias. Here are the steps to making this work with the project at hand:\r\n\r\n### Step 1: Multi-Project\r\n\r\nSince we need multiple modules in the project, Gradle requires that we use a multi-project build. Your directory structure should look like this:\r\n```\r\n.\r\n├── app/\r\n│   ├── src/\r\n│   │   └── main/\r\n│   │       └── java/\r\n│   │           ├── unitsuser/\r\n│   │           │   └── Main.java\r\n│   │           └── module-info.java\r\n│   └── build.gradle.kts\r\n├── injectwrapper/\r\n│   ├── src/\r\n│   │   └── main/\r\n│   │       └── java/\r\n│   │           └── module-info.java\r\n│   └── build.gradle.kts\r\n└── settings.gradle.kts\r\n```\r\nContents of `settings.gradle.kts`:\r\n```\r\nrootProject.name = &quot;unitsuser&quot;\r\ninclude(&quot;app&quot;)\r\ninclude(&quot;injectwrapper&quot;)\r\n```\r\n### Step 2: Configure inject wrapper\r\nThe inject wrapper project is the alias to the `java.inject` module. This must be added as a transitive dependency so the `app` project has access to the artifacts. The contents of `injectwrapper/build.gradle.kts` should be:\r\n```\r\nplugins {\r\n    `java-library`\r\n}\r\nrepositories {\r\n    mavenCentral()\r\n}\r\ndependencies {\r\n    api(&quot;io.github.pustike:javax.inject:1.1.0&quot;)\r\n}\r\n```\r\nAdd the transitive dependency `injectwrapper/src/main/java/module-info.java`:\r\n```\r\nmodule javax.inject {\r\n    requires transitive java.inject;\r\n}\r\n```\r\n### Step 3: Use the alias and uom dependencies in the main project `app`:\r\nAdd the dependencies to uom-systems and `injectwrapper` and main module and main class with `app/build.gradle.kts`:\r\n```\r\nplugins {\r\n    `application`\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(project(&quot;:injectwrapper&quot;))\r\n    implementation(&quot;systems.uom:systems-common:2.1&quot;)\r\n    implementation(&quot;systems.uom:systems-quantity:2.1&quot;)\r\n    implementation(&quot;systems.uom:systems-unicode:2.1&quot;)\r\n}\r\n\r\napplication {\r\n    mainModule.set(&quot;unitsuser&quot;)\r\n    mainClass.set(&quot;unitsuser.Main&quot;)\r\n}\r\n```\r\n`app/src/main/java/module-info.java` must require uom-systems:\r\n```\r\nmodule unitsuser {\r\n    requires si.uom.units;\r\n}\r\n```\r\nNow that the module path is satisfied, running `./gradlew :app:run` now ouptuts `10 m`.","title":"Using uom-systems in a modular Java project with Gradle","body":"<p>This error is a result of an invalid module configuration in the <a href=\"https://search.maven.org/artifact/tech.units/indriya/2.1.3/bundle\" rel=\"nofollow noreferrer\">indriya</a> dependency. It requires the module called <code>javax.inject</code>, which is an automatic module generated from this <a href=\"https://search.maven.org/artifact/javax.inject/javax.inject/1/jar\" rel=\"nofollow noreferrer\">artifact</a>. It assumes the automatic module will be available, but the manifest in the jar doesn't have the <code>Automatic-Module-Name</code> entry. Some build systems might not care and still generate an automatic module based on the jar filename. In the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_modular\" rel=\"nofollow noreferrer\">Gradle documentation</a>:</p>\n<blockquote>\n<p>A third case are traditional libraries that provide no module information at all — for example commons-cli:commons-cli:1.4. Gradle puts such libraries on the classpath instead of the module path. The classpath is then treated as one module (the so called unnamed module) by Java.</p>\n</blockquote>\n<p>So Gradle doesn't support using legacy libraries with modular projects. We need to make sure there is a <code>javax.inject</code> module available on the module path. To achieve this, we can do one of several things:</p>\n<ol>\n<li>Use artifact transformation to add automatic module entry to the manifest,</li>\n<li>Find another artifact that creates the <code>javax.inject</code> module, and add that as a dependency to the project,</li>\n<li>Find another artifact that creates a module and create an alias to it with the correct module name, or</li>\n<li>Make a new Maven artifact with the correct module name and upload it to a repository.</li>\n</ol>\n<p>Artifact transformation is difficult to do with Gradle since you need plugins and extra code to unzip the jar and edit it. It definitely could be done, but I don't want to try it. I was unable to find any artifacts online that used the <code>javax.inject</code> module name. Most of them used <code>java.inject</code> or something else. Since I also don't want to go through the hassle of creating a new project and uploading it to a repository, I'll use the third option.</p>\n<p><a href=\"https://github.com/pustike/javax.inject\" rel=\"nofollow noreferrer\">This repo</a> by GitHub user <a href=\"https://github.com/pustike\" rel=\"nofollow noreferrer\">pustike</a> is a fork of the same dependency injection library that adds a module called <code>java.inject</code> that we can use to make an alias. Here are the steps to making this work with the project at hand:</p>\n<h3>Step 1: Multi-Project</h3>\n<p>Since we need multiple modules in the project, Gradle requires that we use a multi-project build. Your directory structure should look like this:</p>\n<pre><code>.\n├── app/\n│   ├── src/\n│   │   └── main/\n│   │       └── java/\n│   │           ├── unitsuser/\n│   │           │   └── Main.java\n│   │           └── module-info.java\n│   └── build.gradle.kts\n├── injectwrapper/\n│   ├── src/\n│   │   └── main/\n│   │       └── java/\n│   │           └── module-info.java\n│   └── build.gradle.kts\n└── settings.gradle.kts\n</code></pre>\n<p>Contents of <code>settings.gradle.kts</code>:</p>\n<pre><code>rootProject.name = &quot;unitsuser&quot;\ninclude(&quot;app&quot;)\ninclude(&quot;injectwrapper&quot;)\n</code></pre>\n<h3>Step 2: Configure inject wrapper</h3>\n<p>The inject wrapper project is the alias to the <code>java.inject</code> module. This must be added as a transitive dependency so the <code>app</code> project has access to the artifacts. The contents of <code>injectwrapper/build.gradle.kts</code> should be:</p>\n<pre><code>plugins {\n    `java-library`\n}\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    api(&quot;io.github.pustike:javax.inject:1.1.0&quot;)\n}\n</code></pre>\n<p>Add the transitive dependency <code>injectwrapper/src/main/java/module-info.java</code>:</p>\n<pre><code>module javax.inject {\n    requires transitive java.inject;\n}\n</code></pre>\n<h3>Step 3: Use the alias and uom dependencies in the main project <code>app</code>:</h3>\n<p>Add the dependencies to uom-systems and <code>injectwrapper</code> and main module and main class with <code>app/build.gradle.kts</code>:</p>\n<pre><code>plugins {\n    `application`\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(project(&quot;:injectwrapper&quot;))\n    implementation(&quot;systems.uom:systems-common:2.1&quot;)\n    implementation(&quot;systems.uom:systems-quantity:2.1&quot;)\n    implementation(&quot;systems.uom:systems-unicode:2.1&quot;)\n}\n\napplication {\n    mainModule.set(&quot;unitsuser&quot;)\n    mainClass.set(&quot;unitsuser.Main&quot;)\n}\n</code></pre>\n<p><code>app/src/main/java/module-info.java</code> must require uom-systems:</p>\n<pre><code>module unitsuser {\n    requires si.uom.units;\n}\n</code></pre>\n<p>Now that the module path is satisfied, running <code>./gradlew :app:run</code> now ouptuts <code>10 m</code>.</p>\n"}],"owner":{"account_id":25782136,"reputation":1,"user_id":19527601,"display_name":"jlbabilino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72973592,"answer_count":1,"score":0,"last_activity_date":1657754165,"creation_date":1657553314,"question_id":72940997,"body_markdown":"I am working on a modular Java project that needs physical unit support. I am currently using &lt;http://www.uom.systems&gt;, but it only works in when I remove my `module-info.java` file.\r\n\r\nHere is my `build.gradle.kts`:\r\n```\r\nplugins {\r\n    application\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;systems.uom:systems-common:2.1&quot;)\r\n    implementation(&quot;systems.uom:systems-quantity:2.1&quot;)\r\n}\r\n\r\napplication {\r\n    mainClass.set(&quot;unitsuser.Main&quot;)\r\n}\r\n```\r\n\r\nMy `module-info.java`:\r\n```\r\nmodule unitsuser {\r\n    requires si.uom.units;\r\n}\r\n```\r\n\r\nAnd my main class (`Main.java`):\r\n```\r\npackage unitsuser;\r\n\r\nimport javax.measure.Quantity;\r\nimport javax.measure.quantity.Length;\r\n\r\nimport tech.units.indriya.quantity.Quantities;\r\nimport tech.units.indriya.unit.Units;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Quantity&lt;Length&gt; len = Quantities.getQuantity(10.0, Units.METRE);\r\n        System.out.println(len);\r\n    }\r\n}\r\n```\r\nMy folder structure:\r\n```\r\n.\r\n├── src/\r\n│   └── main/\r\n│       └── java/\r\n│           ├── unitsuser/\r\n│           │   └── Main.java\r\n│           └── module-info.java\r\n└── build.gradle.kts\r\n```\r\n\r\nWhen I run `./gradlew run`, I get this error:\r\n```\r\nerror: module not found: javax.inject\r\n```\r\nI assumed this meant I had to add `javax.inject` as a dependency, so I tried adding `implementation(&quot;javax.inject:javax.inject:1&quot;)`. This caused the same error.\r\n\r\nEdit:\r\nThe `tech.units.indriya` dependency requires the module `javax.inject`, but the artifact it&#39;s downloading to fulfill that dependency doesn&#39;t have a `module-info` file. So it&#39;s relying on an automatic module being created with the name `javax.inject`. My project is placing the `javax.inject` package in the unnamed module, when it should be an automatic module. As described on this [Grade doc page](https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_modular), Gradle puts all artifacts that don&#39;t specify to use automatic modules on the unnamed module. To work around this, they recommend using artifact transformations. Does this make sense, or is there a better approach?\r\n","title":"Using uom-systems in a modular Java project with Gradle","body":"<p>I am working on a modular Java project that needs physical unit support. I am currently using <a href=\"http://www.uom.systems\" rel=\"nofollow noreferrer\">http://www.uom.systems</a>, but it only works in when I remove my <code>module-info.java</code> file.</p>\n<p>Here is my <code>build.gradle.kts</code>:</p>\n<pre><code>plugins {\n    application\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;systems.uom:systems-common:2.1&quot;)\n    implementation(&quot;systems.uom:systems-quantity:2.1&quot;)\n}\n\napplication {\n    mainClass.set(&quot;unitsuser.Main&quot;)\n}\n</code></pre>\n<p>My <code>module-info.java</code>:</p>\n<pre><code>module unitsuser {\n    requires si.uom.units;\n}\n</code></pre>\n<p>And my main class (<code>Main.java</code>):</p>\n<pre><code>package unitsuser;\n\nimport javax.measure.Quantity;\nimport javax.measure.quantity.Length;\n\nimport tech.units.indriya.quantity.Quantities;\nimport tech.units.indriya.unit.Units;\n\npublic class Main {\n    public static void main(String[] args) {\n        Quantity&lt;Length&gt; len = Quantities.getQuantity(10.0, Units.METRE);\n        System.out.println(len);\n    }\n}\n</code></pre>\n<p>My folder structure:</p>\n<pre><code>.\n├── src/\n│   └── main/\n│       └── java/\n│           ├── unitsuser/\n│           │   └── Main.java\n│           └── module-info.java\n└── build.gradle.kts\n</code></pre>\n<p>When I run <code>./gradlew run</code>, I get this error:</p>\n<pre><code>error: module not found: javax.inject\n</code></pre>\n<p>I assumed this meant I had to add <code>javax.inject</code> as a dependency, so I tried adding <code>implementation(&quot;javax.inject:javax.inject:1&quot;)</code>. This caused the same error.</p>\n<p>Edit:\nThe <code>tech.units.indriya</code> dependency requires the module <code>javax.inject</code>, but the artifact it's downloading to fulfill that dependency doesn't have a <code>module-info</code> file. So it's relying on an automatic module being created with the name <code>javax.inject</code>. My project is placing the <code>javax.inject</code> package in the unnamed module, when it should be an automatic module. As described on this <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_modular\" rel=\"nofollow noreferrer\">Grade doc page</a>, Gradle puts all artifacts that don't specify to use automatic modules on the unnamed module. To work around this, they recommend using artifact transformations. Does this make sense, or is there a better approach?</p>\n"},{"tags":["java","regex","pattern-matching"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1657735349,"post_id":72970308,"comment_id":128883492,"body_markdown":"For each sample input, please show clearly what parts are to be captured as groups. For example, is `0003fj22` to be group 1 in the first sample input?","body":"For each sample input, please show clearly what parts are to be captured as groups. For example, is <code>0003fj22</code> to be group 1 in the first sample input?"},{"owner":{"account_id":10674766,"reputation":35,"user_id":7858680,"display_name":"heythere"},"score":0,"creation_date":1657735774,"post_id":72970308,"comment_id":128883639,"body_markdown":"Thank you, i have hopefully now clarified everything.","body":"Thank you, i have hopefully now clarified everything."},{"owner":{"account_id":10674766,"reputation":35,"user_id":7858680,"display_name":"heythere"},"score":0,"creation_date":1657735915,"post_id":72970308,"comment_id":128883683,"body_markdown":"I get a lot of these strings, the only thing they have in common is the structure unless they start with some random string like &quot;# abcdef adase bsw &quot; up until the 0043jj22 for example.","body":"I get a lot of these strings, the only thing they have in common is the structure unless they start with some random string like &quot;# abcdef adase bsw &quot; up until the 0043jj22 for example."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1657754056,"post_id":72970308,"comment_id":128888649,"body_markdown":"@heythere Please check my edit, I hope I didn&#39;t mess it up. Regarding your question, how about [`(\\d\\w*)\\((\\d+\\.\\d+)\\s+\\((\\w*)\\)+[\\s-]+(/\\S+)`](https://regex101.com/r/tZ2REo/1) (regex101 demo).","body":"@heythere Please check my edit, I hope I didn&#39;t mess it up. Regarding your question, how about <a href=\"https://regex101.com/r/tZ2REo/1\" rel=\"nofollow noreferrer\"><code>(\\d\\w*)\\((\\d+\\.\\d+)\\s+\\((\\w*)\\)+[\\s-]+(&#47;\\S+)</code></a> (regex101 demo)."},{"owner":{"account_id":10674766,"reputation":35,"user_id":7858680,"display_name":"heythere"},"score":0,"creation_date":1657757289,"post_id":72970308,"comment_id":128889161,"body_markdown":"Thank you! It&#39;s way more readable now. Your proposed regex unfortunately does not match the path completely. There is a &quot;-&quot; in the folder name which is why it only matches until &quot;/path/to/some/random_dir/random&quot;","body":"Thank you! It&#39;s way more readable now. Your proposed regex unfortunately does not match the path completely. There is a &quot;-&quot; in the folder name which is why it only matches until &quot;/path/to/some/random_dir/random&quot;"},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":0,"creation_date":1657762322,"post_id":72970308,"comment_id":128889810,"body_markdown":"Yw:) you meant the full `/path... - file/` [like this one](https://regex101.com/r/tZ2REo/2) not so clear. In the right side at the demo there is explanation. Just experiment a bit with it. Regex101 is a good playground to adjust pattern.","body":"Yw:) you meant the full <code>&#47;path... - file&#47;</code> <a href=\"https://regex101.com/r/tZ2REo/2\" rel=\"nofollow noreferrer\">like this one</a> not so clear. In the right side at the demo there is explanation. Just experiment a bit with it. Regex101 is a good playground to adjust pattern."}],"owner":{"account_id":10674766,"reputation":35,"user_id":7858680,"display_name":"heythere"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657753922,"creation_date":1657733044,"question_id":72970308,"body_markdown":"I have the following strings:\r\n\r\n`&quot;# abcdef adase aff\r\n0003fj22(1.20 (_rqa299302002_abcAbc_ABC)) - /path/to/some/random_dir/random - file/another_file/yet_another_file\r\n4849jj22(4.1 (ABX_CDE)) - /path/to/some/random_dir/random - file/another_file/yet_another_file&quot;`\r\n\r\n`&quot;0043jj22(1.20 (_rqa299333002_abcAbc_ABC)) - /path/to/some/random_dir/random - file/another_file/yet_another_file\r\n48000dd21(4.1 (ABX_CDDE)) - /path/to/some/random_dir/random - file/another_file/yet_another_file\r\n00632aa22(1.20 (_rqa299333002_abcAbc_ABC)) - /path/to/some/random_dir/random - file/another_file/yet_another_file\r\n48003cd21(4.1 (ABX_CDDE)) - /path/to/some/random_dir/random - file/another_file/yet_another_file&quot;`\r\n\r\nMy pattern that I have until now is the following:\r\n\r\n    (0{3}\\\\w*)(\\\\d+\\\\.\\\\d+)(\\\\(\\\\w*\\\\))(\\\\/.*)\r\n\r\nWhat I want to match:\r\n\r\n1. The first group I want to capture is for example `0043jj22` \r\n2. the second group `1.20`\r\n3. the third group is everything within the second bracket, e.g.  \r\n `_rqa299333002_abcAbc_ABC` or `ABX_CDDE`\r\n4. the fourth group is the path without `-` \r\n\r\nBut my pattern somehow doesn&#39;t match all groups.\r\n\r\n1. The first cg: `0003fj22`\r\n2. Second cg: `1.20`\r\n3. Third cg: `_rqa299302002_abcAbc_ABC`\r\n4. Fourth cg: `/path/to/some/random_dir/random - file/another_file/yet_another_file`\r\n","title":"Matching regex groups in Java ignoring everything up until group is matched","body":"<p>I have the following strings:</p>\n<p><code>&quot;# abcdef adase aff 0003fj22(1.20 (_rqa299302002_abcAbc_ABC)) - /path/to/some/random_dir/random - file/another_file/yet_another_file 4849jj22(4.1 (ABX_CDE)) - /path/to/some/random_dir/random - file/another_file/yet_another_file&quot;</code></p>\n<p><code>&quot;0043jj22(1.20 (_rqa299333002_abcAbc_ABC)) - /path/to/some/random_dir/random - file/another_file/yet_another_file 48000dd21(4.1 (ABX_CDDE)) - /path/to/some/random_dir/random - file/another_file/yet_another_file 00632aa22(1.20 (_rqa299333002_abcAbc_ABC)) - /path/to/some/random_dir/random - file/another_file/yet_another_file 48003cd21(4.1 (ABX_CDDE)) - /path/to/some/random_dir/random - file/another_file/yet_another_file&quot;</code></p>\n<p>My pattern that I have until now is the following:</p>\n<pre><code>(0{3}\\\\w*)(\\\\d+\\\\.\\\\d+)(\\\\(\\\\w*\\\\))(\\\\/.*)\n</code></pre>\n<p>What I want to match:</p>\n<ol>\n<li>The first group I want to capture is for example <code>0043jj22</code></li>\n<li>the second group <code>1.20</code></li>\n<li>the third group is everything within the second bracket, e.g.<br />\n<code>_rqa299333002_abcAbc_ABC</code> or <code>ABX_CDDE</code></li>\n<li>the fourth group is the path without <code>-</code></li>\n</ol>\n<p>But my pattern somehow doesn't match all groups.</p>\n<ol>\n<li>The first cg: <code>0003fj22</code></li>\n<li>Second cg: <code>1.20</code></li>\n<li>Third cg: <code>_rqa299302002_abcAbc_ABC</code></li>\n<li>Fourth cg: <code>/path/to/some/random_dir/random - file/another_file/yet_another_file</code></li>\n</ol>\n"},{"tags":["java","sqlite","android-studio","android-sqlite"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":2,"creation_date":1657727962,"post_id":72966990,"comment_id":128881043,"body_markdown":"Make an attempt first and return with the code you tried so that people can help with issues.","body":"Make an attempt first and return with the code you tried so that people can help with issues."}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657753634,"creation_date":1657753634,"answer_id":72973560,"question_id":72966990,"body_markdown":"Names of elements, such as table names, column names, trigger names, index names etc cannot be passed as variables within SQL to SQLite for SQLite to resolve. You would have to resolve the variable name when building the SQL statement.\r\n\r\ne.g. \r\n\r\n    database.execSQL(&quot;CREATE TABLE IF NOT EXISTS &quot; + variable_name + &quot; (...)&quot;);\r\n","title":"Android studio how to get sqlite table name from user in java","body":"<p>Names of elements, such as table names, column names, trigger names, index names etc cannot be passed as variables within SQL to SQLite for SQLite to resolve. You would have to resolve the variable name when building the SQL statement.</p>\n<p>e.g.</p>\n<pre><code>database.execSQL(&quot;CREATE TABLE IF NOT EXISTS &quot; + variable_name + &quot; (...)&quot;);\n</code></pre>\n"}],"owner":{"account_id":22029319,"reputation":31,"user_id":16296836,"display_name":"aslan aslanli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":72973560,"answer_count":1,"score":-5,"last_activity_date":1657753634,"creation_date":1657718179,"question_id":72966990,"body_markdown":"I want to get a name with edittext from user, and set this name as new table name in SQLite.\r\nLike\r\n\r\n```database.execSQL(&quot;CREATE TABLE IF NOT EXISTS variable_name (...)&quot;)```","title":"Android studio how to get sqlite table name from user in java","body":"<p>I want to get a name with edittext from user, and set this name as new table name in SQLite.\nLike</p>\n<p><code>database.execSQL(&quot;CREATE TABLE IF NOT EXISTS variable_name (...)&quot;)</code></p>\n"},{"tags":["java","types","char","utf"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":8,"creation_date":1657740410,"post_id":72971592,"comment_id":128885130,"body_markdown":"No, char is still UTF-16. That isn&#39;t what is meant by making UTF-8 the default, at all. It means that UTF-8 will be the default instead of Windows-1252 (or whatever). The char data type has not changed in any way whatsoever.","body":"No, char is still UTF-16. That isn&#39;t what is meant by making UTF-8 the default, at all. It means that UTF-8 will be the default instead of Windows-1252 (or whatever). The char data type has not changed in any way whatsoever."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":3,"creation_date":1657740786,"post_id":72971592,"comment_id":128885251,"body_markdown":"For reference: [JEP 400: UTF-8 by Default](https://openjdk.org/jeps/400).","body":"For reference: <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\">JEP 400: UTF-8 by Default</a>."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1657741071,"post_id":72971592,"comment_id":128885340,"body_markdown":"A charset is a rule for converting between Strings and bytes.  That&#39;s it.","body":"A charset is a rule for converting between Strings and bytes.  That&#39;s it."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1657751802,"creation_date":1657750409,"answer_id":72973189,"question_id":72971592,"body_markdown":"No, the change in default character encoding does *not* affect the internals of `char`/`Character`, nor does it affect the intervals of `String`. \r\n\r\n\r\n\r\nI suggest you read the official documentation, [*JEP 400: UTF-8 by Default*][2]. The motivation and the details are explained *thoroughly*. \r\n\r\nThe change made in Java 18 affects mainly input/output. So this includes the older APIs and classes for **reading and writing files**. Some of the newer APIs and classes were already defaulting to UTF-8. JEP 400 seeks to make this default consistent throughout the bundled libraries. \r\n\r\nOne particular issue called out in the JEP regards Java source code files that were saved with a non-UTF-8 encoding and compiled with an earlier JDK. Recompiling on JDK 18 or later may cause problems. \r\n\r\n\r\n----------\r\n\r\nBy the way, let me remind you that `char`/`Character` has been legacy since Java 5, essentially broken since Java 2. As a 16-bit type, `char` is physically incapable of representing most characters.  \r\n\r\nTo work with individual characters, use [code point](https://en.wikipedia.org/wiki/Code_point) integer numbers. Look for  `codePoint` methods added to classes including `String`, `StringBuilder`, `Character`, etc. \r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Code_point\r\n  [2]: https://openjdk.org/jeps/400","title":"With the release of Java 18, UTF-8 is the default charset now. Does it imply that char data type is no more UTF-16?","body":"<p>No, the change in default character encoding does <em>not</em> affect the internals of <code>char</code>/<code>Character</code>, nor does it affect the intervals of <code>String</code>.</p>\n<p>I suggest you read the official documentation, <a href=\"https://openjdk.org/jeps/400\" rel=\"nofollow noreferrer\"><em>JEP 400: UTF-8 by Default</em></a>. The motivation and the details are explained <em>thoroughly</em>.</p>\n<p>The change made in Java 18 affects mainly input/output. So this includes the older APIs and classes for <strong>reading and writing files</strong>. Some of the newer APIs and classes were already defaulting to UTF-8. JEP 400 seeks to make this default consistent throughout the bundled libraries.</p>\n<p>One particular issue called out in the JEP regards Java source code files that were saved with a non-UTF-8 encoding and compiled with an earlier JDK. Recompiling on JDK 18 or later may cause problems.</p>\n<hr />\n<p>By the way, let me remind you that <code>char</code>/<code>Character</code> has been legacy since Java 5, essentially broken since Java 2. As a 16-bit type, <code>char</code> is physically incapable of representing most characters.</p>\n<p>To work with individual characters, use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers. Look for  <code>codePoint</code> methods added to classes including <code>String</code>, <code>StringBuilder</code>, <code>Character</code>, etc.</p>\n"}],"owner":{"account_id":10657472,"reputation":81,"user_id":7846548,"display_name":"Syed Zabi Ulla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72973189,"answer_count":1,"score":0,"last_activity_date":1657751802,"creation_date":1657740231,"question_id":72971592,"body_markdown":"I understand that Java follows UTF-16 for the char data type. But the new update in Java 18 - Default charset for the standard Java APIs is UTF-8.\r\nDoes this update have any impact on the char data type encoding format? I also understand that UTF-8 is a variable-width encoding that can accommodate characters up to 4 bytes. What is the size of the char data type after Java 18? And does it still adhere to UTF-16 or moved to UTF-8?","title":"With the release of Java 18, UTF-8 is the default charset now. Does it imply that char data type is no more UTF-16?","body":"<p>I understand that Java follows UTF-16 for the char data type. But the new update in Java 18 - Default charset for the standard Java APIs is UTF-8.\nDoes this update have any impact on the char data type encoding format? I also understand that UTF-8 is a variable-width encoding that can accommodate characters up to 4 bytes. What is the size of the char data type after Java 18? And does it still adhere to UTF-16 or moved to UTF-8?</p>\n"},{"tags":["java","url","uri"],"comments":[{"owner":{"account_id":4979856,"reputation":5679,"user_id":4005175,"accept_rate":79,"display_name":"Martin Heraleck&#253;"},"score":1,"creation_date":1546855480,"post_id":54072127,"comment_id":94977134,"body_markdown":"Look at documentation for `java.net.URL` and `java.net.URI`.","body":"Look at documentation for <code>java.net.URL</code> and <code>java.net.URI</code>."},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1546856054,"post_id":54072127,"comment_id":94977443,"body_markdown":"yeah, good to see it. Knowledge :)","body":"yeah, good to see it. Knowledge :)"}],"answers":[{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546856479,"creation_date":1546856023,"answer_id":54072340,"question_id":54072127,"body_markdown":"&gt; Why URL constructors throws java.net.MalformedURLException: no\r\n&gt; protocol in these very common cases?\r\n\r\nAccording to [documentation][1]: \r\n\r\n&gt; Thrown to indicate that a malformed URL has occurred. Either no legal\r\n&gt; protocol could be found in a specification string or the string could\r\n&gt; not be parsed.\r\n\r\n**Example 1:** &quot;https://stackoverflow.com/something/java/something&quot; -&gt; It will throw error\r\n\r\n**Example 1.1:** https://stackoverflow.com/something/java/something -&gt; It will not throw error.\r\n\r\n***In Simple sense it means-&gt; Example 1: is not parsed inside the string.***, so remove &quot;&quot;.\r\n\r\nURIs **identify** and URLs **locate**; however, locators are also identifiers, so every URL is also a URI, but there are URIs which are not URLs.\r\n\r\nA exposed Venn diagram: `( URIs ( URLs ) )` \r\n\r\nabove Venn Diagram Implies: URL is more ***specific*** than URI.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/MalformedURLException.html","title":"Why URL constructor does not allow relative URL?","body":"<blockquote>\n  <p>Why URL constructors throws java.net.MalformedURLException: no\n  protocol in these very common cases?</p>\n</blockquote>\n\n<p>According to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/MalformedURLException.html\" rel=\"nofollow noreferrer\">documentation</a>: </p>\n\n<blockquote>\n  <p>Thrown to indicate that a malformed URL has occurred. Either no legal\n  protocol could be found in a specification string or the string could\n  not be parsed.</p>\n</blockquote>\n\n<p><strong>Example 1:</strong> \"<a href=\"https://stackoverflow.com/something/java/something\">https://stackoverflow.com/something/java/something</a>\" -> It will throw error</p>\n\n<p><strong>Example 1.1:</strong> <a href=\"https://stackoverflow.com/something/java/something\">https://stackoverflow.com/something/java/something</a> -> It will not throw error.</p>\n\n<p><strong><em>In Simple sense it means-> Example 1: is not parsed inside the string.</em></strong>, so remove \"\".</p>\n\n<p>URIs <strong>identify</strong> and URLs <strong>locate</strong>; however, locators are also identifiers, so every URL is also a URI, but there are URIs which are not URLs.</p>\n\n<p>A exposed Venn diagram: <code>( URIs ( URLs ) )</code> </p>\n\n<p>above Venn Diagram Implies: URL is more <strong><em>specific</em></strong> than URI.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546857827,"creation_date":1546856542,"answer_id":54072464,"question_id":54072127,"body_markdown":"&gt; Why `URL` constructors throws `java.net.MalformedURLException`: no protocol in these very common cases?\r\n\r\nBecause these are not valid URLs.\r\n\r\n&gt; URI constructor supports such relative URLs. \r\n\r\nIncorrect.  It allows relative **URI**s.\r\n\r\n&gt; By the way, is it correct to say &quot;relative URI&quot; instead of &quot;relative URL&quot;? Because 99% all links in the Internet is &quot;relative URL&quot;, not &quot;relative URI&quot;.\r\n\r\nNo.  It is not correct&lt;sup&gt;1&lt;/sup&gt;.  \r\n\r\nThe specifications for URI and URL make it clear that &quot;relative URL&quot; is not valid terminology.   See https://www.rfc-editor.org/rfc/rfc3986\r\n\r\nThe designers of the Java APIs for `URI` and `URL` chose (wisely IMO) to use the terminology correctly; i.e. according to the respective specifications.  That is why the `URL` constructor will not accept a relative **URI** string as an argument.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - It is no more correct than it is correct to refer to ants as &quot;bugs&quot;.  The true bugs are the Hemiptera which is an order of Insecta (the insects) that is distinguished by having sucking mouth parts.  The ants are members of the Hymenoptera order.  As Wikipedia states: *&quot;Many insects commonly known as &quot;bugs&quot; belong to other orders; for example, the lovebug is a fly, while the May bug and ladybug are beetles.&quot;*  (see [Wikipedia][1])  My point?  If the Java designers abused the URL / URI distinction, they would be just as bad as a biologist who referred to ants as &quot;bugs&quot; in a scientific paper.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Hemiptera","title":"Why URL constructor does not allow relative URL?","body":"<blockquote>\n<p>Why <code>URL</code> constructors throws <code>java.net.MalformedURLException</code>: no protocol in these very common cases?</p>\n</blockquote>\n<p>Because these are not valid URLs.</p>\n<blockquote>\n<p>URI constructor supports such relative URLs.</p>\n</blockquote>\n<p>Incorrect.  It allows relative <strong>URI</strong>s.</p>\n<blockquote>\n<p>By the way, is it correct to say &quot;relative URI&quot; instead of &quot;relative URL&quot;? Because 99% all links in the Internet is &quot;relative URL&quot;, not &quot;relative URI&quot;.</p>\n</blockquote>\n<p>No.  It is not correct<sup>1</sup>.</p>\n<p>The specifications for URI and URL make it clear that &quot;relative URL&quot; is not valid terminology.   See <a href=\"https://www.rfc-editor.org/rfc/rfc3986\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc3986</a></p>\n<p>The designers of the Java APIs for <code>URI</code> and <code>URL</code> chose (wisely IMO) to use the terminology correctly; i.e. according to the respective specifications.  That is why the <code>URL</code> constructor will not accept a relative <strong>URI</strong> string as an argument.</p>\n<hr />\n<p><sup>1 - It is no more correct than it is correct to refer to ants as &quot;bugs&quot;.  The true bugs are the Hemiptera which is an order of Insecta (the insects) that is distinguished by having sucking mouth parts.  The ants are members of the Hymenoptera order.  As Wikipedia states: <em>&quot;Many insects commonly known as &quot;bugs&quot; belong to other orders; for example, the lovebug is a fly, while the May bug and ladybug are beetles.&quot;</em>  (see <a href=\"https://en.wikipedia.org/wiki/Hemiptera\" rel=\"nofollow noreferrer\">Wikipedia</a>)  My point?  If the Java designers abused the URL / URI distinction, they would be just as bad as a biologist who referred to ants as &quot;bugs&quot; in a scientific paper.</sup></p>\n"},{"tags":[],"owner":{"account_id":7590482,"reputation":64,"user_id":5758294,"display_name":"VKR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546857218,"creation_date":1546857218,"answer_id":54072655,"question_id":54072127,"body_markdown":"A URL is composed of different parts like protocol , host and resource present on that host.\r\n\r\nA relative URI does not contains all the information for creating a URL so it throws java.net.MalformedURLException.","title":"Why URL constructor does not allow relative URL?","body":"<p>A URL is composed of different parts like protocol , host and resource present on that host.</p>\n\n<p>A relative URI does not contains all the information for creating a URL so it throws java.net.MalformedURLException.</p>\n"},{"tags":[],"owner":{"account_id":1533347,"reputation":6932,"user_id":1429980,"accept_rate":64,"display_name":"user1429980"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657751290,"creation_date":1657751290,"answer_id":72973305,"question_id":54072127,"body_markdown":"You can pass in `window.location.href` to the [`URL` `constructor`](https://developer.mozilla.org/en-US/docs/Web/API/URL_API) as the second argument if you want to build a `URL` with a relative link:\r\n\r\n```javascript\r\nconst relativeURL = &quot;/relative/url&quot;;\r\nconst url = new URL(relativeURL, window.location.href);\r\n```","title":"Why URL constructor does not allow relative URL?","body":"<p>You can pass in <code>window.location.href</code> to the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URL_API\" rel=\"nofollow noreferrer\"><code>URL</code> <code>constructor</code></a> as the second argument if you want to build a <code>URL</code> with a relative link:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const relativeURL = &quot;/relative/url&quot;;\nconst url = new URL(relativeURL, window.location.href);\n</code></pre>\n"}],"owner":{"account_id":14927248,"reputation":733,"user_id":10777718,"display_name":"user10777718"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1618,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1657751290,"creation_date":1546855239,"question_id":54072127,"body_markdown":"URL constructor does not allow missing or unknown protocol.\r\n\r\nBut this does not support widely-used relative URLs like \r\n\r\n 1. Root-relative URL `&lt;img src=&quot;/images/pic.png&gt;`\r\n 2. Page/Base-relative URL `&lt;img src=&quot;images/pic.png&gt;`\r\n\r\nWhy URL constructors throws `java.net.MalformedURLException: no protocol` in these very common cases?\r\n\r\nURI constructor supports such relative URLs. \r\n\r\nBy the way, *is it correct to say &quot;relative URI&quot; instead of &quot;relative URL&quot;? Because 99% all links in the Internet is &quot;relative URL&quot;, not &quot;relative URI&quot;*","title":"Why URL constructor does not allow relative URL?","body":"<p>URL constructor does not allow missing or unknown protocol.</p>\n\n<p>But this does not support widely-used relative URLs like </p>\n\n<ol>\n<li>Root-relative URL <code>&lt;img src=\"/images/pic.png&gt;</code></li>\n<li>Page/Base-relative URL <code>&lt;img src=\"images/pic.png&gt;</code></li>\n</ol>\n\n<p>Why URL constructors throws <code>java.net.MalformedURLException: no protocol</code> in these very common cases?</p>\n\n<p>URI constructor supports such relative URLs. </p>\n\n<p>By the way, <em>is it correct to say \"relative URI\" instead of \"relative URL\"? Because 99% all links in the Internet is \"relative URL\", not \"relative URI\"</em></p>\n"},{"tags":["java","spring","spring-boot","hibernate","rest"],"comments":[{"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"score":0,"creation_date":1657667470,"post_id":72959192,"comment_id":128864120,"body_markdown":"Not sure I understand the question, you mind posting the current response and what you expect it to be? Is it the case you need to wrap the response object inside a ResponseEntity&lt;&gt;?","body":"Not sure I understand the question, you mind posting the current response and what you expect it to be? Is it the case you need to wrap the response object inside a ResponseEntity&lt;&gt;?"},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1657668082,"post_id":72959192,"comment_id":128864214,"body_markdown":"Sure! So if you look at the current code, if I go to localhost:8081/test, I should get &quot;Test Successful&quot; on my browser/postman, and &quot;running&quot; on my springboot program console. Right now, the only thing I get is a &quot;running&quot; on my springboot console, but nothing appears on my browser/postman. Ill attach a picture to my question shortly to illustrate that.","body":"Sure! So if you look at the current code, if I go to localhost:8081/test, I should get &quot;Test Successful&quot; on my browser/postman, and &quot;running&quot; on my springboot program console. Right now, the only thing I get is a &quot;running&quot; on my springboot console, but nothing appears on my browser/postman. Ill attach a picture to my question shortly to illustrate that."},{"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"score":0,"creation_date":1657670429,"post_id":72959192,"comment_id":128864547,"body_markdown":"I see your point, did it only start when you fired up the management endpoints/actuator? I mean, removing the dependencies (or disabling via configuration) makes it work back again?\n\nanother check: have you tried using curl instead of POSTMAN ? \n\ncurl --location --request GET &#39;localhost:8081/test&#39;","body":"I see your point, did it only start when you fired up the management endpoints/actuator? I mean, removing the dependencies (or disabling via configuration) makes it work back again?  another check: have you tried using curl instead of POSTMAN ?   curl --location --request GET &#39;localhost:8081/test&#39;"},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1657670650,"post_id":72959192,"comment_id":128864583,"body_markdown":"To be completely honest, not sure, because all changes were made in 1 commit (bad practice, I know :() I also know I changed my package structure, and had to change from CRUDRepository to JPARepository, although I am not quite sure if that has to do with anything.","body":"To be completely honest, not sure, because all changes were made in 1 commit (bad practice, I know :() I also know I changed my package structure, and had to change from CRUDRepository to JPARepository, although I am not quite sure if that has to do with anything."},{"owner":{"account_id":3481319,"reputation":876,"user_id":2913290,"accept_rate":50,"display_name":"Daniel Vilas-Boas"},"score":0,"creation_date":1657670787,"post_id":72959192,"comment_id":128864602,"body_markdown":"oh..you mentioned packages. Can you share the location of your main class (the runner)? IT should be in the root package one level above other components.","body":"oh..you mentioned packages. Can you share the location of your main class (the runner)? IT should be in the root package one level above other components."},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1657672307,"post_id":72959192,"comment_id":128864847,"body_markdown":"Sure! Just added it :)","body":"Sure! Just added it :)"},{"owner":{"account_id":25778890,"reputation":44,"user_id":19524775,"display_name":"Lakshman Kumar"},"score":0,"creation_date":1657694584,"post_id":72959192,"comment_id":128868416,"body_markdown":"@JasonChan I see you are using @RepositoryRestResource(exported = false)\nAccording to resource below\n  https://www.baeldung.com/spring-data-rest-customize-http-endpoints\nthis @RepositoryRestResource(exported = false) stops the Rest methods being exposed to API. I think the problem is there","body":"@JasonChan I see you are using @RepositoryRestResource(exported = false) According to resource below   <a href=\"https://www.baeldung.com/spring-data-rest-customize-http-endpoints\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-rest-customize-http-endpoints</a> this @RepositoryRestResource(exported = false) stops the Rest methods being exposed to API. I think the problem is there"},{"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"score":0,"creation_date":1657696968,"post_id":72959192,"comment_id":128869127,"body_markdown":"I always have used @RepositoryRestResource(exported = false) to prevent users from seeing that this is a repository externally, but it has always worked before. I have also replaced it with @Repository, and I still get the same issues :(","body":"I always have used @RepositoryRestResource(exported = false) to prevent users from seeing that this is a repository externally, but it has always worked before. I have also replaced it with @Repository, and I still get the same issues :("},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657697688,"post_id":72959192,"comment_id":128869354,"body_markdown":"There is too little information. Not sure why you changed to `JpaRepository` as that shouldn&#39;t be needed, please don&#39;t use `@Repository` on Spring Data repository interfaces as that only hurts the eyes and adds nothing. Please provide a sample that reproduces this (or link to your project).","body":"There is too little information. Not sure why you changed to <code>JpaRepository</code> as that shouldn&#39;t be needed, please don&#39;t use <code>@Repository</code> on Spring Data repository interfaces as that only hurts the eyes and adds nothing. Please provide a sample that reproduces this (or link to your project)."}],"answers":[{"tags":[],"owner":{"account_id":15446818,"reputation":126,"user_id":11143525,"display_name":"SARATHI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657697307,"creation_date":1657696944,"answer_id":72962370,"question_id":72959192,"body_markdown":"I have cloned your controller and it&#39;s working fine in my application, it prints both the console and the output on the screen. Try removing the (exported=false) from your repository as @Lakshman Kumar suggests may be that works.\r\nI&#39;m attaching the screen shots of your code and its output in my server for your reference,\r\n\r\n[![Output in browser][1]][1]\r\n[![Code snippet and output in console][2]][2]\r\n[![API response in postman][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZuO54.png\r\n  [2]: https://i.stack.imgur.com/LrvUU.png\r\n  [3]: https://i.stack.imgur.com/EbJXe.png","title":"Spring Endpoints Returning Blank (not error 404)","body":"<p>I have cloned your controller and it's working fine in my application, it prints both the console and the output on the screen. Try removing the (exported=false) from your repository as @Lakshman Kumar suggests may be that works.\nI'm attaching the screen shots of your code and its output in my server for your reference,</p>\n<p><a href=\"https://i.stack.imgur.com/ZuO54.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZuO54.png\" alt=\"Output in browser\" /></a>\n<a href=\"https://i.stack.imgur.com/LrvUU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LrvUU.png\" alt=\"Code snippet and output in console\" /></a>\n<a href=\"https://i.stack.imgur.com/EbJXe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EbJXe.png\" alt=\"API response in postman\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657750760,"creation_date":1657750760,"answer_id":72973222,"question_id":72959192,"body_markdown":"I got it figured out! thank you guys for your help so much! It turns out I had a logging service that was intercepting and causing my response to never finish returning. It looked like this\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n    throws ServletException, IOException {\r\n    //code to log\r\n    }\r\n\r\nI will need to find another way to log inputs but I think we should be set otherwise! Thank you so much guys! Sending upvotes your way!","title":"Spring Endpoints Returning Blank (not error 404)","body":"<p>I got it figured out! thank you guys for your help so much! It turns out I had a logging service that was intercepting and causing my response to never finish returning. It looked like this</p>\n<pre><code>@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\nthrows ServletException, IOException {\n//code to log\n}\n</code></pre>\n<p>I will need to find another way to log inputs but I think we should be set otherwise! Thank you so much guys! Sending upvotes your way!</p>\n"}],"owner":{"account_id":16221044,"reputation":331,"user_id":11712575,"display_name":"Jason Chan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657750760,"creation_date":1657666753,"question_id":72959192,"body_markdown":"Recently, I updated my spring to extend JPARepository and added an actuator and logging, and now my REST endpoints take 10 seconds to load, and return a blank page. Please note, the methods associated with the endpoints run successfully, so when I put in a system.out.print and other DB queries, they execute successfully, but none of the method return to the api endoint. Here are some examples of how my project looks for the entity, repository, service, controller, and application.properties:\r\n\r\nEntity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Example&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class ExampleEntity {\r\n    \r\n    //specific code removed for security\r\n    \r\n    }\r\n\r\nRepository:\r\n\r\n    @RepositoryRestResource(exported = false)\r\n    public interface ExapleRepository extends JPARepository&lt;ExampleEntity, String&gt; {\r\n    \r\n    }\r\n\r\nService:\r\n\r\n       @Service\r\n    public class ExampleService {\r\n        @Autowired\r\n        ExampleRepository exampleRepository;\r\n    //methods in here\r\n    }\r\n\r\nController:\r\n\r\n    @RestController\r\n    public class ExampleController {\r\n    \r\n    \t@GetMapping(&quot;/test&quot;)\r\n    \tpublic String test() {\r\n    \t\tSystem.out.println(&quot;running&quot;);\r\n    return &quot;Test Successful&quot;;\r\n    //when going to localhost:8081/test, this method will system.out.println running, but postman will run for like 10 seconds, and return nothing\r\n    \t}\r\n    \r\n    }\r\n\r\nApplication.properties:\r\n\r\n    spring.data.jdbc.repositories.enabled=false\r\n    #Basic Server IP Settings\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/{dbname}\r\n    spring.datasource.username={hidden}\r\n    spring.datasource.password={hidden}\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    #server.address=10.0.0.78\r\n    #insert ifconfig inet ip\r\n    server.port=8081\r\n    \r\n    #Flyway Settings\r\n    spring.flyway.baseline-on-migrate=true\r\n    \r\n    #Actuator Settings\r\n    management.endpoints.web.base-path=/{hidden}\r\n    management.endpoint.health.show-details=always\r\n    management.endpoints.web.exposure.include=*\r\n\r\nHere are some images for reference...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAs you can see, when I go to the endpoint, the method runs successfully, but the string is never successfully returned to the rest endpoint.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BrDXx.png\r\n  [2]: https://i.stack.imgur.com/ZpxEk.png\r\n  [3]: https://i.stack.imgur.com/WpY50.png","title":"Spring Endpoints Returning Blank (not error 404)","body":"<p>Recently, I updated my spring to extend JPARepository and added an actuator and logging, and now my REST endpoints take 10 seconds to load, and return a blank page. Please note, the methods associated with the endpoints run successfully, so when I put in a system.out.print and other DB queries, they execute successfully, but none of the method return to the api endoint. Here are some examples of how my project looks for the entity, repository, service, controller, and application.properties:</p>\n<p>Entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;Example&quot;)\n@Getter\n@Setter\npublic class ExampleEntity {\n\n//specific code removed for security\n\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@RepositoryRestResource(exported = false)\npublic interface ExapleRepository extends JPARepository&lt;ExampleEntity, String&gt; {\n\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>   @Service\npublic class ExampleService {\n    @Autowired\n    ExampleRepository exampleRepository;\n//methods in here\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class ExampleController {\n\n    @GetMapping(&quot;/test&quot;)\n    public String test() {\n        System.out.println(&quot;running&quot;);\nreturn &quot;Test Successful&quot;;\n//when going to localhost:8081/test, this method will system.out.println running, but postman will run for like 10 seconds, and return nothing\n    }\n\n}\n</code></pre>\n<p>Application.properties:</p>\n<pre><code>spring.data.jdbc.repositories.enabled=false\n#Basic Server IP Settings\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url=jdbc:mysql://localhost:3306/{dbname}\nspring.datasource.username={hidden}\nspring.datasource.password={hidden}\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n#server.address=10.0.0.78\n#insert ifconfig inet ip\nserver.port=8081\n\n#Flyway Settings\nspring.flyway.baseline-on-migrate=true\n\n#Actuator Settings\nmanagement.endpoints.web.base-path=/{hidden}\nmanagement.endpoint.health.show-details=always\nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n<p>Here are some images for reference...</p>\n<p><a href=\"https://i.stack.imgur.com/BrDXx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BrDXx.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ZpxEk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZpxEk.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, when I go to the endpoint, the method runs successfully, but the string is never successfully returned to the rest endpoint.</p>\n<p><a href=\"https://i.stack.imgur.com/WpY50.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WpY50.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","react-native","kotlin"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657788625,"post_id":72973175,"comment_id":128895379,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":5917566,"reputation":138,"user_id":4655897,"display_name":"Tom Kulaga"},"score":0,"creation_date":1660471002,"post_id":72973175,"comment_id":129536647,"body_markdown":"Did you manage to solve this? I&#39;ve got this problem as well.","body":"Did you manage to solve this? I&#39;ve got this problem as well."},{"owner":{"account_id":20519903,"reputation":21,"user_id":15059768,"display_name":"Luciano Flores"},"score":0,"creation_date":1660661454,"post_id":72973175,"comment_id":129581823,"body_markdown":"@TomKulaga I didn&#39;t solve it directly, mainly because I didn&#39;t have more time to invest on this. So what I&#39;m doing right now is manage the frame processor as a npm package, which you can create with react-native-builder-bob or create-react-native-module, anyway none of those worked for me so I made a fork of vision-camera-ocr and worked from that. Also here are the links of related questions in [https://github.com/mrousavy/react-native-vision-camera/issues/1124 ](github) and [https://www.reddit.com/r/reactnative/comments/vyf8nq/comment/iggjfi1/?context=3 ](reddit), the last one should help you","body":"@TomKulaga I didn&#39;t solve it directly, mainly because I didn&#39;t have more time to invest on this. So what I&#39;m doing right now is manage the frame processor as a npm package, which you can create with react-native-builder-bob or create-react-native-module, anyway none of those worked for me so I made a fork of vision-camera-ocr and worked from that. Also here are the links of related questions in [<a href=\"https://github.com/mrousavy/react-native-vision-camera/issues/1124\" rel=\"nofollow noreferrer\">github.com/mrousavy/react-native-vision-camera/issues/1124</a> ](github) and [<a href=\"https://www.reddit.com/r/reactnative/comments/vyf8nq/comment/iggjfi1/?context=3\" rel=\"nofollow noreferrer\">reddit.com/r/reactnative/comments/vyf8nq/comment/iggjfi1/&hellip;</a> ](reddit), the last one should help you"},{"owner":{"account_id":5917566,"reputation":138,"user_id":4655897,"display_name":"Tom Kulaga"},"score":1,"creation_date":1660783540,"post_id":72973175,"comment_id":129616809,"body_markdown":"apply plugin: &#39;kotlin-android&#39; // add kotlin-android plugin\n adding that fixed it. I had removed it after some confusion with reanimated.","body":"apply plugin: &#39;kotlin-android&#39; // add kotlin-android plugin  adding that fixed it. I had removed it after some confusion with reanimated."},{"owner":{"account_id":1081896,"reputation":622,"user_id":1078641,"display_name":"electroid"},"score":0,"creation_date":1675014428,"post_id":72973175,"comment_id":132832601,"body_markdown":"@TomKulaga You should post that as an answer. If you get error **error: cannot find symbol** when importing kotlin package into MainApplication.java you need to make sure that Kotlin included in your project gradle.","body":"@TomKulaga You should post that as an answer. If you get error <b>error: cannot find symbol</b> when importing kotlin package into MainApplication.java you need to make sure that Kotlin included in your project gradle."}],"owner":{"account_id":20519903,"reputation":21,"user_id":15059768,"display_name":"Luciano Flores"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1030,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657750556,"creation_date":1657750299,"question_id":72973175,"body_markdown":"I&#39;m building a react native app that uses the react-native-vision-camera by  Mrousavy (&lt;https://github.com/mrousavy/react-native-vision-camera&gt;) and I&#39;m trying to create a frame processor plugin, following this guide &lt;https://mrousavy.com/react-native-vision-camera/docs/guides/frame-processors-plugins-android&gt;, which is basically a piece of native code, in this case Kotlin, that process the camera stream, frame by frame. \r\n\r\nHowever, I&#39;ve tried it several times and I keep getting this error related to Kotlin/Java code:\r\n\r\n```\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\r\nWarning: unexpected element (uri:&quot;&quot;, local:&quot;base-extension&quot;). Expected elements are &lt;{}codename&gt;,&lt;{}layoutlib&gt;,&lt;{}api-level&gt;\r\n/home/luciano/wildsense/nam-vital-signs/rn/RNCamera0/android/app/src/main/java/com/rncamera0/MainApplication.java:16: error: cannot find symbol\r\nimport com.rncamera0.BasicFrameProcessorPluginPackage;\r\n                    ^\r\n  symbol:   class BasicFrameProcessorPluginPackage\r\n  location: package com.rncamera0\r\n/home/luciano/wildsense/nam-vital-signs/rn/RNCamera0/android/app/src/main/java/com/rncamera0/MainApplication.java:33: error: cannot find symbol\r\n          packages.add(new BasicFrameProcessorPluginPackage());\r\n                           ^\r\n  symbol: class BasicFrameProcessorPluginPackage\r\nNote: /home/luciano/wildsense/nam-vital-signs/rn/RNCamera0/android/app/src/debug/java/com/rncamera0/ReactNativeFlipper.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n2 errors\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n```\r\n\r\nAs far as I understand, there&#39;s a problem with how I&#39;m importing and using the class `BasicFrameProcessorPluginPackage` but nothing of what I&#39;ve tried fix it.\r\n\r\nThe file that contains the error (MainApplication.java), and the two files for the code I want to add (BasicFrameProcessorPlugin.kt and BasicFrameProcessorPluginPackage.kt) are in the same directory(`.../android/app/src/main/java/com/rncamera0`), and all of them have `package com.rncamera0` as the first line.\r\n\r\nBeing that said, I will appreciate any help to find the solution to the error.","title":"How to fix **error: cannot find symbol** when importing kotlin package into MainApplication.java for Android in React Native app?","body":"<p>I'm building a react native app that uses the react-native-vision-camera by  Mrousavy (<a href=\"https://github.com/mrousavy/react-native-vision-camera\" rel=\"nofollow noreferrer\">https://github.com/mrousavy/react-native-vision-camera</a>) and I'm trying to create a frame processor plugin, following this guide <a href=\"https://mrousavy.com/react-native-vision-camera/docs/guides/frame-processors-plugins-android\" rel=\"nofollow noreferrer\">https://mrousavy.com/react-native-vision-camera/docs/guides/frame-processors-plugins-android</a>, which is basically a piece of native code, in this case Kotlin, that process the camera stream, frame by frame.</p>\n<p>However, I've tried it several times and I keep getting this error related to Kotlin/Java code:</p>\n<pre><code>error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\nWarning: unexpected element (uri:&quot;&quot;, local:&quot;base-extension&quot;). Expected elements are &lt;{}codename&gt;,&lt;{}layoutlib&gt;,&lt;{}api-level&gt;\n/home/luciano/wildsense/nam-vital-signs/rn/RNCamera0/android/app/src/main/java/com/rncamera0/MainApplication.java:16: error: cannot find symbol\nimport com.rncamera0.BasicFrameProcessorPluginPackage;\n                    ^\n  symbol:   class BasicFrameProcessorPluginPackage\n  location: package com.rncamera0\n/home/luciano/wildsense/nam-vital-signs/rn/RNCamera0/android/app/src/main/java/com/rncamera0/MainApplication.java:33: error: cannot find symbol\n          packages.add(new BasicFrameProcessorPluginPackage());\n                           ^\n  symbol: class BasicFrameProcessorPluginPackage\nNote: /home/luciano/wildsense/nam-vital-signs/rn/RNCamera0/android/app/src/debug/java/com/rncamera0/ReactNativeFlipper.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n2 errors\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n</code></pre>\n<p>As far as I understand, there's a problem with how I'm importing and using the class <code>BasicFrameProcessorPluginPackage</code> but nothing of what I've tried fix it.</p>\n<p>The file that contains the error (MainApplication.java), and the two files for the code I want to add (BasicFrameProcessorPlugin.kt and BasicFrameProcessorPluginPackage.kt) are in the same directory(<code>.../android/app/src/main/java/com/rncamera0</code>), and all of them have <code>package com.rncamera0</code> as the first line.</p>\n<p>Being that said, I will appreciate any help to find the solution to the error.</p>\n"},{"tags":["java","spring","rest","jackson","lombok"],"answers":[{"tags":[],"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657750016,"creation_date":1657750016,"answer_id":72973131,"question_id":72973014,"body_markdown":"From https://stackoverflow.com/questions/57778322/jackson-is-there-a-way-to-ignore-0-1-on-boolean-deserialization\r\n\r\nYou need to disable [ALLOW_COERCION_OF_SCALARS feature][1]\r\n\r\n\r\n  [1]: https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/MapperFeature.html#ALLOW_COERCION_OF_SCALARS","title":"REST API allow only true and false in request body","body":"<p>From <a href=\"https://stackoverflow.com/questions/57778322/jackson-is-there-a-way-to-ignore-0-1-on-boolean-deserialization\">Jackson: Is there a way to ignore 0/1 on Boolean deserialization?</a></p>\n<p>You need to disable <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.9/com/fasterxml/jackson/databind/MapperFeature.html#ALLOW_COERCION_OF_SCALARS\" rel=\"nofollow noreferrer\">ALLOW_COERCION_OF_SCALARS feature</a></p>\n"}],"owner":{"account_id":2073254,"reputation":17,"user_id":1847253,"display_name":"iondevx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657750016,"creation_date":1657749134,"question_id":72973014,"body_markdown":"I have an endpoint that has request body and inside the request body contains an object like this \r\n\r\n    &quot;settlementDiscountInfo&quot;: {\r\n    &quot;discountScheme&quot;: &quot;beforeTax&quot;,\r\n    &quot;taxAmount&quot;: 0,\r\n    &quot;showDiscountInfo&quot;: false,\r\n    &quot;settlementDiscounts&quot;: [\r\n      {\r\n        &quot;discountPercentage&quot;: &quot;&quot;,\r\n        &quot;discountValue&quot;: &quot;11110&quot;,\r\n        &quot;untilDateTime&quot;: &quot;2023-11-30T15:51:51.008Z&quot;\r\n      }\r\n    ]\r\n  }\r\n\r\nshowDiscountInfo is boolean and I would like to receive only true and false values and throw and error message with the rest of the possibilities.\r\n\r\n**And my java code is like below and I am not sure if there&#39;s any annotation in jackkson or lombok that restricts this variable to accept only true and false?** By default I have set it to true. \r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    public static class SettlementDiscountInfoJson {\r\n\r\n        private SettlementDiscountRequestInfo.DISCOUNT_SCHEME_TYPE discountScheme;\r\n        private Integer taxAmount;\r\n\r\n        @JsonProperty(&quot;settlementDiscounts&quot;)\r\n        private List&lt;SettlementDiscountJson&gt; settlementDiscountJson;\r\n\r\n        @Setter(AccessLevel.NONE)\r\n        private Boolean showDiscountInfo = Boolean.TRUE;\r\n\r\n    }\r\n\r\nRight now it accepts any number, true, &quot;true&quot; as true \r\n\r\nand \r\n\r\n0, false, &quot;false&quot; as false \r\n\r\n","title":"REST API allow only true and false in request body","body":"<p>I have an endpoint that has request body and inside the request body contains an object like this</p>\n<pre><code>&quot;settlementDiscountInfo&quot;: {\n&quot;discountScheme&quot;: &quot;beforeTax&quot;,\n&quot;taxAmount&quot;: 0,\n&quot;showDiscountInfo&quot;: false,\n&quot;settlementDiscounts&quot;: [\n  {\n    &quot;discountPercentage&quot;: &quot;&quot;,\n    &quot;discountValue&quot;: &quot;11110&quot;,\n    &quot;untilDateTime&quot;: &quot;2023-11-30T15:51:51.008Z&quot;\n  }\n]\n</code></pre>\n<p>}</p>\n<p>showDiscountInfo is boolean and I would like to receive only true and false values and throw and error message with the rest of the possibilities.</p>\n<p><strong>And my java code is like below and I am not sure if there's any annotation in jackkson or lombok that restricts this variable to accept only true and false?</strong> By default I have set it to true.</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic static class SettlementDiscountInfoJson {\n\n    private SettlementDiscountRequestInfo.DISCOUNT_SCHEME_TYPE discountScheme;\n    private Integer taxAmount;\n\n    @JsonProperty(&quot;settlementDiscounts&quot;)\n    private List&lt;SettlementDiscountJson&gt; settlementDiscountJson;\n\n    @Setter(AccessLevel.NONE)\n    private Boolean showDiscountInfo = Boolean.TRUE;\n\n}\n</code></pre>\n<p>Right now it accepts any number, true, &quot;true&quot; as true</p>\n<p>and</p>\n<p>0, false, &quot;false&quot; as false</p>\n"},{"tags":["java","spring","servlets","servlet-filters"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1657750274,"post_id":72973113,"comment_id":128887843,"body_markdown":"Where is the relation between `MockHttpServletResponse` and `MockHttpServletRequest`?  Right now the way code is, it seems `servletResponse` has no information or `servletRequest`?","body":"Where is the relation between <code>MockHttpServletResponse</code> and <code>MockHttpServletRequest</code>?  Right now the way code is, it seems <code>servletResponse</code> has no information or <code>servletRequest</code>?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1657759096,"post_id":72973113,"comment_id":128889419,"body_markdown":"I don&#39;t understand the question.  Both the request and response are passed to the &quot;doFilter&quot; method.  I don&#39;t know what &quot;servletResponse has no information or servletRequest&quot; means.","body":"I don&#39;t understand the question.  Both the request and response are passed to the &quot;doFilter&quot; method.  I don&#39;t know what &quot;servletResponse has no information or servletRequest&quot; means."}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657749873,"creation_date":1657749873,"question_id":72973113,"body_markdown":"I work on a set of SpringBoot services.  We have a ServletFilter that uses ESAPI to HTML-encode the request, to prevent cross-site scripting.  I realized there was a change I needed to make in how it encodes the data.  I think I made the correct change, but I&#39;m having trouble writing a unit test to verify this.  I may be confused about what I should expect to happen.  I wrote a simple test that uses the Spring MockHttpServlet{Request,Response} classes.\r\n\r\nAll I want to verify is that the content from the servlet response has the expected value.\r\n\r\nThe test method currently looks like this:\r\n\r\n\t@Test\r\n\tpublic void protectAgainstDoubleEncoding() throws Exception {\r\n\t    String input   = &quot;{\\&quot;foo\\&quot;: \\&quot;bar AT&amp;amp;T foo\\&quot;}&quot;;\r\n\t    \r\n        MockHttpServletRequest  servletRequest  = new MockHttpServletRequest();\r\n        servletRequest.setContentType(MediaType.APPLICATION_JSON);\r\n        servletRequest.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        servletRequest.setContent(input.getBytes());\r\n        MockHttpServletResponse servletResponse = new MockHttpServletResponse();\r\n        servletResponse.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        servletResponse.setContentType(MediaType.APPLICATION_JSON);\r\n        \r\n        MockFilterConfig config = new MockFilterConfig(); \r\n        MockFilterChain filterChain = new MockFilterChain();\r\n        xssFilter.init(config);\r\n        \r\n        xssFilter.doFilter(servletRequest, servletResponse, filterChain);\r\n\r\n        assertThat(servletResponse.getContentAsString()).isEqualTo(input);\r\n\t}\r\n\r\nI&#39;m not showing the code of &quot;xssFilter&quot; at this point.\r\n\r\nWhen I run this test, the &quot;getContentAsString()&quot; call returns an empty string.","title":"Writing unit test for ServletFilter is not getting servlet response content","body":"<p>I work on a set of SpringBoot services.  We have a ServletFilter that uses ESAPI to HTML-encode the request, to prevent cross-site scripting.  I realized there was a change I needed to make in how it encodes the data.  I think I made the correct change, but I'm having trouble writing a unit test to verify this.  I may be confused about what I should expect to happen.  I wrote a simple test that uses the Spring MockHttpServlet{Request,Response} classes.</p>\n<p>All I want to verify is that the content from the servlet response has the expected value.</p>\n<p>The test method currently looks like this:</p>\n<pre><code>@Test\npublic void protectAgainstDoubleEncoding() throws Exception {\n    String input   = &quot;{\\&quot;foo\\&quot;: \\&quot;bar AT&amp;amp;T foo\\&quot;}&quot;;\n    \n    MockHttpServletRequest  servletRequest  = new MockHttpServletRequest();\n    servletRequest.setContentType(MediaType.APPLICATION_JSON);\n    servletRequest.setCharacterEncoding(&quot;UTF-8&quot;);\n    servletRequest.setContent(input.getBytes());\n    MockHttpServletResponse servletResponse = new MockHttpServletResponse();\n    servletResponse.setCharacterEncoding(&quot;UTF-8&quot;);\n    servletResponse.setContentType(MediaType.APPLICATION_JSON);\n    \n    MockFilterConfig config = new MockFilterConfig(); \n    MockFilterChain filterChain = new MockFilterChain();\n    xssFilter.init(config);\n    \n    xssFilter.doFilter(servletRequest, servletResponse, filterChain);\n\n    assertThat(servletResponse.getContentAsString()).isEqualTo(input);\n}\n</code></pre>\n<p>I'm not showing the code of &quot;xssFilter&quot; at this point.</p>\n<p>When I run this test, the &quot;getContentAsString()&quot; call returns an empty string.</p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":23840651,"reputation":84,"user_id":17845736,"display_name":"Piotr73"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657749811,"creation_date":1657749811,"answer_id":72973103,"question_id":72964359,"body_markdown":"PdfBox is very low level Pdf library and if you want to use it to display aligned lines you will have to write whitespace offsetting logic by yourself.\r\n\r\nIf I were to do it I would use a library like Gson and pretty printing (https://stackoverflow.com/questions/4105795/pretty-print-json-in-java) to first parse it line-by-line with whitespaces at front and then print line-by-line.\r\n\r\nAnother approach is to use a higher level library such as freemarker templates and it&#39;s export to PDF. I was using PDFBox and wish I have switched to freemarker much earlier.","title":"How to use pdfbox to generate formatted json files","body":"<p>PdfBox is very low level Pdf library and if you want to use it to display aligned lines you will have to write whitespace offsetting logic by yourself.</p>\n<p>If I were to do it I would use a library like Gson and pretty printing (<a href=\"https://stackoverflow.com/questions/4105795/pretty-print-json-in-java\">Pretty-Print JSON in Java</a>) to first parse it line-by-line with whitespaces at front and then print line-by-line.</p>\n<p>Another approach is to use a higher level library such as freemarker templates and it's export to PDF. I was using PDFBox and wish I have switched to freemarker much earlier.</p>\n"}],"owner":{"account_id":12572457,"reputation":11,"user_id":9146116,"display_name":"鳗鱼不是鱼"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657749811,"creation_date":1657706293,"question_id":72964359,"body_markdown":"For example，\r\n```json\r\n{\r\n  &quot;appId&quot;: &quot;wxa033f083bd79132d&quot;,\r\n  &quot;timestamp&quot;: 1657699905,\r\n  &quot;nonceStr&quot;: &quot;SKIe2Ce352&quot;,\r\n  &quot;signature&quot;: &quot;20fbc391ed6ed78a3a267c31526239110926a8d1&quot;,\r\n  &quot;jsApiList&quot;: [\r\n    &quot;updateAppMessageShareData&quot;,\r\n    &quot;updateTimelineShareData&quot;\r\n  ]\r\n}\r\n```\r\nI want to generate pdf file with formatted json，like this：\r\n\r\n[![json pdf][1]][1]\r\n\r\nBut I can only generate something like this：\r\n\r\n[![my pdf][2]][2]\r\n\r\nI&#39;ve tried making it rich text and displaying it inside the pdf, but that doesn&#39;t seem to work.\r\nAnd my code\r\n\r\n```Java\r\npublic void testPDF() throws IOException {\r\n\r\n        String json = &quot;{\\&quot;appId\\&quot;:\\&quot;wxa033f083bd79132d\\&quot;,\\&quot;timestamp\\&quot;:1657699905,\\&quot;nonceStr\\&quot;:\\&quot;SKIe2Ce352\\&quot;,\\&quot;signature\\&quot;:\\&quot;20fbc391ed6ed78a3a267c31526239110926a8d1\\&quot;,\\&quot;jsApiList\\&quot;:[\\&quot;updateAppMessageShareData\\&quot;,\\&quot;updateTimelineShareData\\&quot;]}&quot;;\r\n        JSONObject jsonObject = JSON.parseObject(json);\r\n        PDDocument document = new PDDocument();\r\n        PDPage pdPage = new PDPage();\r\n        document.addPage(pdPage);\r\n        PDPageContentStream contentStream = new PDPageContentStream(document, pdPage);\r\n\r\n        contentStream.beginText();\r\n\r\n        contentStream.setFont(PDType1Font.HELVETICA_BOLD, 14);\r\n\r\n        contentStream.newLineAtOffset(25, 500);\r\n        contentStream.setLeading(14.5f);\r\n        contentStream.showText(&quot;{&quot;);\r\n        contentStream.newLine();\r\n        jsonObject.forEach((key, value) -&gt; {\r\n            try {\r\n                contentStream.showText(String.format(&quot;\\&quot;%s\\&quot;: %s &quot;, key, value));\r\n                contentStream.newLine();\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        });\r\n        contentStream.showText(&quot;}&quot;);\r\n        contentStream.newLine();\r\n\r\n        contentStream.endText();\r\n        contentStream.close();\r\n\r\n        document.save(new File(&quot;D:\\\\new-doc-text.pdf&quot;));\r\n\r\n        document.close();\r\n\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0aFII.png\r\n  [2]: https://i.stack.imgur.com/3SaKG.png","title":"How to use pdfbox to generate formatted json files","body":"<p>For example，</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;appId&quot;: &quot;wxa033f083bd79132d&quot;,\n  &quot;timestamp&quot;: 1657699905,\n  &quot;nonceStr&quot;: &quot;SKIe2Ce352&quot;,\n  &quot;signature&quot;: &quot;20fbc391ed6ed78a3a267c31526239110926a8d1&quot;,\n  &quot;jsApiList&quot;: [\n    &quot;updateAppMessageShareData&quot;,\n    &quot;updateTimelineShareData&quot;\n  ]\n}\n</code></pre>\n<p>I want to generate pdf file with formatted json，like this：</p>\n<p><a href=\"https://i.stack.imgur.com/0aFII.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0aFII.png\" alt=\"json pdf\" /></a></p>\n<p>But I can only generate something like this：</p>\n<p><a href=\"https://i.stack.imgur.com/3SaKG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3SaKG.png\" alt=\"my pdf\" /></a></p>\n<p>I've tried making it rich text and displaying it inside the pdf, but that doesn't seem to work.\nAnd my code</p>\n<pre><code>public void testPDF() throws IOException {\n\n        String json = &quot;{\\&quot;appId\\&quot;:\\&quot;wxa033f083bd79132d\\&quot;,\\&quot;timestamp\\&quot;:1657699905,\\&quot;nonceStr\\&quot;:\\&quot;SKIe2Ce352\\&quot;,\\&quot;signature\\&quot;:\\&quot;20fbc391ed6ed78a3a267c31526239110926a8d1\\&quot;,\\&quot;jsApiList\\&quot;:[\\&quot;updateAppMessageShareData\\&quot;,\\&quot;updateTimelineShareData\\&quot;]}&quot;;\n        JSONObject jsonObject = JSON.parseObject(json);\n        PDDocument document = new PDDocument();\n        PDPage pdPage = new PDPage();\n        document.addPage(pdPage);\n        PDPageContentStream contentStream = new PDPageContentStream(document, pdPage);\n\n        contentStream.beginText();\n\n        contentStream.setFont(PDType1Font.HELVETICA_BOLD, 14);\n\n        contentStream.newLineAtOffset(25, 500);\n        contentStream.setLeading(14.5f);\n        contentStream.showText(&quot;{&quot;);\n        contentStream.newLine();\n        jsonObject.forEach((key, value) -&gt; {\n            try {\n                contentStream.showText(String.format(&quot;\\&quot;%s\\&quot;: %s &quot;, key, value));\n                contentStream.newLine();\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        });\n        contentStream.showText(&quot;}&quot;);\n        contentStream.newLine();\n\n        contentStream.endText();\n        contentStream.close();\n\n        document.save(new File(&quot;D:\\\\new-doc-text.pdf&quot;));\n\n        document.close();\n\n    }\n</code></pre>\n"},{"tags":["java","maven","bdd","cucumber-java","automation-testing"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1657748883,"post_id":72972743,"comment_id":128887552,"body_markdown":"How are you reading the properties now? Are you using any other facilities of Cucumber - specifically dependency injection?","body":"How are you reading the properties now? Are you using any other facilities of Cucumber - specifically dependency injection?"},{"owner":{"account_id":25802921,"reputation":11,"user_id":19545006,"display_name":"ZackSalom"},"score":0,"creation_date":1657920851,"post_id":72972743,"comment_id":128932939,"body_markdown":"@NikosParaskevopoulos, reading them by using Property class by just passing InputStream","body":"@NikosParaskevopoulos, reading them by using Property class by just passing InputStream"}],"owner":{"account_id":25802921,"reputation":11,"user_id":19545006,"display_name":"ZackSalom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657749746,"creation_date":1657747147,"question_id":72972743,"body_markdown":"I&#39;m trying to implement Maven profile in my cucumber bdd automation framework, I want my each execution environments to be maven profile and based on active profile my PropertyReader should read that environments property file, how to achieve that? Thanks for the help in advance!\r\nFor example: below are maven profiles in my pom.xml and I have 3 properties files in my project, so in this case I need to write generic code that should get all properties from dev.properties file and how to run it from command line?\r\n\r\n   \r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;dev&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;env&lt;/name&gt;\r\n                    &lt;value&gt;dev&lt;/value&gt;\r\n                &lt;/property&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;stage&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;env&lt;/name&gt;\r\n                    &lt;value&gt;stage&lt;/value&gt;\r\n                &lt;/property&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;prod&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;env&lt;/name&gt;\r\n                    &lt;value&gt;prod&lt;/value&gt;\r\n                &lt;/property&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n ","title":"how to implement maven profiles to the Cucumber BDD automation framework?","body":"<p>I'm trying to implement Maven profile in my cucumber bdd automation framework, I want my each execution environments to be maven profile and based on active profile my PropertyReader should read that environments property file, how to achieve that? Thanks for the help in advance!\nFor example: below are maven profiles in my pom.xml and I have 3 properties files in my project, so in this case I need to write generic code that should get all properties from dev.properties file and how to run it from command line?</p>\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;property&gt;\n                &lt;name&gt;env&lt;/name&gt;\n                &lt;value&gt;dev&lt;/value&gt;\n            &lt;/property&gt;\n        &lt;/activation&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;stage&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;property&gt;\n                &lt;name&gt;env&lt;/name&gt;\n                &lt;value&gt;stage&lt;/value&gt;\n            &lt;/property&gt;\n        &lt;/activation&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;prod&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;property&gt;\n                &lt;name&gt;env&lt;/name&gt;\n                &lt;value&gt;prod&lt;/value&gt;\n            &lt;/property&gt;\n        &lt;/activation&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n"},{"tags":["java","string","string-comparison"],"comments":[{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":0,"creation_date":1287652036,"post_id":3985328,"comment_id":4265697,"body_markdown":"possible duplicate of [Checking if two strings are permutations of each other](http://stackoverflow.com/questions/2131997/checking-if-two-strings-are-permutations-of-each-other)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2131997/checking-if-two-strings-are-permutations-of-each-other\">Checking if two strings are permutations of each other</a>"}],"answers":[{"tags":[],"owner":{"account_id":793,"reputation":24042,"user_id":1035,"accept_rate":92,"display_name":"GaryF"},"down_vote_count":2,"up_vote_count":31,"is_accepted":false,"score":29,"last_activity_date":1567701394,"creation_date":1287647649,"answer_id":3985347,"question_id":3985328,"body_markdown":"Turn each string into a char[], sort that array, then compare the two.\r\n\r\n    private boolean sameChars(String firstStr, String secondStr) {\r\n      char[] first = firstStr.toCharArray();\r\n      char[] second = secondStr.toCharArray();\r\n      Arrays.sort(first);\r\n      Arrays.sort(second);\r\n      return Arrays.equals(first, second);\r\n    }","title":"Checking if 2 strings contain the same characters?","body":"<p>Turn each string into a char[], sort that array, then compare the two.</p>\n\n<pre><code>private boolean sameChars(String firstStr, String secondStr) {\n  char[] first = firstStr.toCharArray();\n  char[] second = secondStr.toCharArray();\n  Arrays.sort(first);\n  Arrays.sort(second);\n  return Arrays.equals(first, second);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80529,"reputation":448248,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1287648124,"creation_date":1287647685,"answer_id":3985350,"question_id":3985328,"body_markdown":"You can convert the string into char array, sort the arrays and them compare the arrays:\r\n\r\n    String str1 = &quot;abc&quot;;                 \r\n    String str2 = &quot;acb&quot;;\r\n    char[] chars1 = str1.toCharArray();\r\n    char[] chars2 = str2.toCharArray();\r\n    Arrays.sort(chars1);\r\n    Arrays.sort(chars2);\r\n    \r\n    if(Arrays.equals(chars1,chars2)) {\r\n            System.out.println(str1 + &quot; and &quot; + str2 + &quot; are anagrams&quot;);\r\n    } else {\r\n            System.out.println(str1 + &quot; and &quot; + str2 + &quot; are not anagrams&quot;);\r\n    }\r\n","title":"Checking if 2 strings contain the same characters?","body":"<p>You can convert the string into char array, sort the arrays and them compare the arrays:</p>\n\n<pre><code>String str1 = \"abc\";                 \nString str2 = \"acb\";\nchar[] chars1 = str1.toCharArray();\nchar[] chars2 = str2.toCharArray();\nArrays.sort(chars1);\nArrays.sort(chars2);\n\nif(Arrays.equals(chars1,chars2)) {\n        System.out.println(str1 + \" and \" + str2 + \" are anagrams\");\n} else {\n        System.out.println(str1 + \" and \" + str2 + \" are not anagrams\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":222951,"reputation":5271,"user_id":481863,"accept_rate":90,"display_name":"Erhan Bagdemir"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1287648441,"creation_date":1287647946,"answer_id":3985380,"question_id":3985328,"body_markdown":"here:\r\n\r\n        String str1 = &quot;abc&quot;;\r\n        String str2 = &quot;cba&quot;;\r\n        /* create sorted strings */\r\n        \r\n    /*  old buggy code\r\n        String sorted_str1 = new String( java.utils.Arrays.sort(str1.toCharArray()) );\r\n        String sorted_str2 = new String( java.utils.Arrays.sort(str2.toCharArray()) );\r\n    */    \r\n    /* the new one */\r\n    char [] arr1 = str1.toCharArray();\r\n    char [] arr2 = str2.toCharArray();\r\n    java.utils.Arrays.sort(arr1);\r\n    java.utils.Arrays.sort(arr2);\r\n    String sorted_str1 = new String(arr1);\r\n    String sorted_str2 = new String(arr2);\r\n        \r\n    if (sorted_str1.equals( sorted_str2 ) ) {\r\n            /* true */\r\n        } else {\r\n            /* false */\r\n        }","title":"Checking if 2 strings contain the same characters?","body":"<p>here:</p>\n\n<pre><code>    String str1 = \"abc\";\n    String str2 = \"cba\";\n    /* create sorted strings */\n\n/*  old buggy code\n    String sorted_str1 = new String( java.utils.Arrays.sort(str1.toCharArray()) );\n    String sorted_str2 = new String( java.utils.Arrays.sort(str2.toCharArray()) );\n*/    \n/* the new one */\nchar [] arr1 = str1.toCharArray();\nchar [] arr2 = str2.toCharArray();\njava.utils.Arrays.sort(arr1);\njava.utils.Arrays.sort(arr2);\nString sorted_str1 = new String(arr1);\nString sorted_str2 = new String(arr2);\n\nif (sorted_str1.equals( sorted_str2 ) ) {\n        /* true */\n    } else {\n        /* false */\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":196747,"reputation":10555,"user_id":440355,"accept_rate":67,"display_name":"Jean"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1287648106,"creation_date":1287648106,"answer_id":3985396,"question_id":3985328,"body_markdown":"A very easy - but not very efficient - way to do that is, convert your `String`s to char arrays and use java.util.Arrays.sort on them, get `String`s back and compare for equality.\r\nIf your strings are under a few thousand characters, that should be very okay.\r\n\r\nIf you have several megabytes strings, you may want to create an array with a count for each character (using its code as an index), have one pass on one string adding one on the count of each char, and one pass on the second string removing one. If you fall under 0 at any point during the second pass, they don&#39;t have the same characters. When you&#39;re done with the second string without error, you are sure they have the same characters if they have the same length (which you should have checked first anyway).  \r\nThis second method is much more complicated than sorting the strings, and it requires a big array if you want to work with unicode strings, but it&#39;s perfectly good if you&#39;re okay with only the 128 chars of the ascii set, and much faster.  \r\nDo NOT bother with that if you don&#39;t have several million characters in your strings. Sorting the strings is much easier, and not significantly slower on strings with only a couple dozen chars.\r\n","title":"Checking if 2 strings contain the same characters?","body":"<p>A very easy - but not very efficient - way to do that is, convert your <code>String</code>s to char arrays and use java.util.Arrays.sort on them, get <code>String</code>s back and compare for equality.\nIf your strings are under a few thousand characters, that should be very okay.</p>\n\n<p>If you have several megabytes strings, you may want to create an array with a count for each character (using its code as an index), have one pass on one string adding one on the count of each char, and one pass on the second string removing one. If you fall under 0 at any point during the second pass, they don't have the same characters. When you're done with the second string without error, you are sure they have the same characters if they have the same length (which you should have checked first anyway).<br>\nThis second method is much more complicated than sorting the strings, and it requires a big array if you want to work with unicode strings, but it's perfectly good if you're okay with only the 128 chars of the ascii set, and much faster.<br>\nDo NOT bother with that if you don't have several million characters in your strings. Sorting the strings is much easier, and not significantly slower on strings with only a couple dozen chars.</p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287648217,"creation_date":1287648217,"answer_id":3985411,"question_id":3985328,"body_markdown":"As a (nitpicking ;-) ) side note:\r\n\r\nBe aware that the solutions proposed here only work for strings composed of characters from the [Basic Multilingual Plane][1] (BMP) of Unicode.\r\n\r\nCharacters outside the BMP are represented as a *pair* of `char` in a `String`, so you need to pay extra attention, so you keep the pairs together. See the Javadocs of `java.lang.Character` for the gory details.\r\n\r\nFortunately, most characters outside the BMP are rather exotic. Even most of Japanese and Chinese is in the BMP...\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Basic_Multilingual_Plane#Basic_Multilingual_Plane","title":"Checking if 2 strings contain the same characters?","body":"<p>As a (nitpicking ;-) ) side note:</p>\n\n<p>Be aware that the solutions proposed here only work for strings composed of characters from the <a href=\"http://en.wikipedia.org/wiki/Basic_Multilingual_Plane#Basic_Multilingual_Plane\" rel=\"nofollow\">Basic Multilingual Plane</a> (BMP) of Unicode.</p>\n\n<p>Characters outside the BMP are represented as a <em>pair</em> of <code>char</code> in a <code>String</code>, so you need to pay extra attention, so you keep the pairs together. See the Javadocs of <code>java.lang.Character</code> for the gory details.</p>\n\n<p>Fortunately, most characters outside the BMP are rather exotic. Even most of Japanese and Chinese is in the BMP...</p>\n"},{"tags":[],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1287650993,"creation_date":1287650993,"answer_id":3985707,"question_id":3985328,"body_markdown":"Consider creating a signature for a given String.  Using count and character.\r\n\r\n`a-count:b-count:c-count:.....:z-count:` (extend for upper case if you want ).\r\n\r\nThen compare the signature.  This should scale better for very large Strings.\r\n\r\nAs a shortcut, check the length. If they are not matching, return false anyway.","title":"Checking if 2 strings contain the same characters?","body":"<p>Consider creating a signature for a given String.  Using count and character.</p>\n\n<p><code>a-count:b-count:c-count:.....:z-count:</code> (extend for upper case if you want ).</p>\n\n<p>Then compare the signature.  This should scale better for very large Strings.</p>\n\n<p>As a shortcut, check the length. If they are not matching, return false anyway.</p>\n"},{"tags":[],"owner":{"account_id":198975,"reputation":17150,"user_id":443966,"accept_rate":56,"display_name":"guilin 桂林"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532717109,"creation_date":1287651490,"answer_id":3985771,"question_id":3985328,"body_markdown":"Maybe it&#39;s not the fastest answer, but it must be shortest answer.\r\n\r\n    boolean hasSameChar(String str1, String str2){\r\n      for(char c : str1.toCharArray()){\r\n        if(str2.indexOf(c) &lt; 0 ) return false;\r\n      }\r\n      for(char c : str2.toCharArray()){\r\n        if(str1.indexOf(c) &lt; 0 ) return false;\r\n      }\r\n      return true;\r\n    }","title":"Checking if 2 strings contain the same characters?","body":"<p>Maybe it's not the fastest answer, but it must be shortest answer.</p>\n\n<pre><code>boolean hasSameChar(String str1, String str2){\n  for(char c : str1.toCharArray()){\n    if(str2.indexOf(c) &lt; 0 ) return false;\n  }\n  for(char c : str2.toCharArray()){\n    if(str1.indexOf(c) &lt; 0 ) return false;\n  }\n  return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053763,"reputation":7,"user_id":1832109,"display_name":"Siba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376503545,"creation_date":1376426723,"answer_id":18218896,"question_id":3985328,"body_markdown":"Here:\r\n\r\n    import java.util.Arrays;\r\n\r\npublic class CompareString {\r\n\r\n\tString str = &quot;Result&quot;;\r\n\tString str1 = &quot;Struel&quot;;\r\n\r\n\tpublic void compare() {\r\n\t\tchar[] firstString = str.toLowerCase().toCharArray();\r\n\t\tchar[] secondString = str1.toLowerCase().toCharArray();\r\n\r\n\t\tArrays.sort(firstString);\r\n\t\tArrays.sort(secondString);\r\n\r\n\t\tif (Arrays.equals(firstString, secondString) == true) {\r\n\t\t\tSystem.out.println(&quot;Both the string contain same charecter&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Both the string contains different charecter&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tCompareString compareString = new CompareString();\r\n\t\tcompareString.compare();\r\n\t}\r\n}\r\n","title":"Checking if 2 strings contain the same characters?","body":"<p>Here:</p>\n\n<pre><code>import java.util.Arrays;\n</code></pre>\n\n<p>public class CompareString {</p>\n\n<pre><code>String str = \"Result\";\nString str1 = \"Struel\";\n\npublic void compare() {\n    char[] firstString = str.toLowerCase().toCharArray();\n    char[] secondString = str1.toLowerCase().toCharArray();\n\n    Arrays.sort(firstString);\n    Arrays.sort(secondString);\n\n    if (Arrays.equals(firstString, secondString) == true) {\n        System.out.println(\"Both the string contain same charecter\");\n    } else {\n        System.out.println(\"Both the string contains different charecter\");\n    }\n}\n\npublic static void main(String[] args) {\n    CompareString compareString = new CompareString();\n    compareString.compare();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":19351481,"reputation":1,"user_id":14148801,"display_name":"Ankit Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598131187,"creation_date":1598113842,"answer_id":63538542,"question_id":3985328,"body_markdown":"This problem can be simply solved in O(n) time and O(1) space. The idea is to use a temp array of size 26 as we have only 26 characters in the alphabet.\r\n\r\nFirst, if length of both strings are different we immediately return false.\r\nWe iterate over length of the given string and in temp array, increase frequency of every character in string one and decrease count of character occured in other string. At the end temp array should have 0 count for every character if strings have equal characters.\r\n\r\n","title":"Checking if 2 strings contain the same characters?","body":"<p>This problem can be simply solved in O(n) time and O(1) space. The idea is to use a temp array of size 26 as we have only 26 characters in the alphabet.</p>\n<p>First, if length of both strings are different we immediately return false.\nWe iterate over length of the given string and in temp array, increase frequency of every character in string one and decrease count of character occured in other string. At the end temp array should have 0 count for every character if strings have equal characters.</p>\n"},{"tags":[],"owner":{"account_id":4152468,"reputation":63,"user_id":3404499,"display_name":"Ravi Allishe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600716444,"creation_date":1600716444,"answer_id":63998772,"question_id":3985328,"body_markdown":"Agree to what @Jean says above for an efficient solution using HashMap.\r\nThis problem is also called Anagram.\r\nBelow is the solution in Scala.\r\n\r\nNote: cleanString is where whitespaces are removed and all characters are lowercase\r\n    \r\n    def isAnagram(cleanString1, cleanString2) = {\r\n      createHashMap(cleanString1) == createHashMap(cleanString2)\r\n    }\r\n\r\n    def createHashMap(str: String): immutable.HashMap[Char, Int] = {\r\n      str.foldLeft(immutable.HashMap.empty[Char, Int]) { (acc, next)\r\n      =&gt; if (acc.contains(next)) acc + (next -&gt; (acc(next) + 1)) \r\n         else acc + (next -&gt; 1)\r\n         }\r\n    }","title":"Checking if 2 strings contain the same characters?","body":"<p>Agree to what @Jean says above for an efficient solution using HashMap.\nThis problem is also called Anagram.\nBelow is the solution in Scala.</p>\n<p>Note: cleanString is where whitespaces are removed and all characters are lowercase</p>\n<pre><code>def isAnagram(cleanString1, cleanString2) = {\n  createHashMap(cleanString1) == createHashMap(cleanString2)\n}\n\ndef createHashMap(str: String): immutable.HashMap[Char, Int] = {\n  str.foldLeft(immutable.HashMap.empty[Char, Int]) { (acc, next)\n  =&gt; if (acc.contains(next)) acc + (next -&gt; (acc(next) + 1)) \n     else acc + (next -&gt; 1)\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20398931,"reputation":81,"user_id":14965133,"display_name":"Edward Abattam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641741854,"creation_date":1641741854,"answer_id":70642712,"question_id":3985328,"body_markdown":"\r\n    public static boolean isSameLetters(String word1, String word2){\r\n        String s1 = Arrays.stream(word1.trim().strip().replaceAll(&quot;\\\\s&quot;,&quot;&quot;).split(&quot;&quot;)).sorted().collect(Collectors.joining());\r\n        String s2 = Arrays.stream(word2.trim().strip().replaceAll(&quot;\\\\s&quot;,&quot;&quot;).split(&quot;&quot;)).sorted().collect(Collectors.joining());\r\n        System.out.printf(&quot;word 1: %s\\nword 2: %s\\n&quot;,s1,s2);\r\n        return s1.equals(s2);\r\n    }","title":"Checking if 2 strings contain the same characters?","body":"<pre><code>public static boolean isSameLetters(String word1, String word2){\n    String s1 = Arrays.stream(word1.trim().strip().replaceAll(&quot;\\\\s&quot;,&quot;&quot;).split(&quot;&quot;)).sorted().collect(Collectors.joining());\n    String s2 = Arrays.stream(word2.trim().strip().replaceAll(&quot;\\\\s&quot;,&quot;&quot;).split(&quot;&quot;)).sorted().collect(Collectors.joining());\n    System.out.printf(&quot;word 1: %s\\nword 2: %s\\n&quot;,s1,s2);\n    return s1.equals(s2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16097332,"reputation":11,"user_id":11619145,"display_name":"prashant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643551827,"creation_date":1643551827,"answer_id":70915433,"question_id":3985328,"body_markdown":"//C++\r\n\r\n    \r\n    #include&lt;bits/stdc++.h&gt;\r\n    using namespace std;\r\n    \r\n    string cmpstr(string &amp;s1,string &amp;s2){\r\n    \r\n    map&lt;int,int&gt;m1;\r\n    map&lt;int,int&gt;m2;\r\n    \r\n    for(auto &amp;c:s1)m1[c]++;\r\n    for(auto &amp;c:s2)m2[c]++;\r\n    \r\n    return m1==m2?&quot;true&quot;:&quot;false&quot;;\r\n    \r\n    \r\n    }\r\n    int main(){\r\n        string s1,s2;\r\n        cin&gt;&gt;s1&gt;&gt;s2;\r\n        cout&lt;&lt;cmpstr(s1,s2);\r\n        return 0;\r\n    }\r\n\r\n","title":"Checking if 2 strings contain the same characters?","body":"<p>//C++</p>\n<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n\nstring cmpstr(string &amp;s1,string &amp;s2){\n\nmap&lt;int,int&gt;m1;\nmap&lt;int,int&gt;m2;\n\nfor(auto &amp;c:s1)m1[c]++;\nfor(auto &amp;c:s2)m2[c]++;\n\nreturn m1==m2?&quot;true&quot;:&quot;false&quot;;\n\n\n}\nint main(){\n    string s1,s2;\n    cin&gt;&gt;s1&gt;&gt;s2;\n    cout&lt;&lt;cmpstr(s1,s2);\n    return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18785448,"reputation":91,"user_id":13699145,"display_name":"Shivi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657749566,"creation_date":1657749408,"answer_id":72973049,"question_id":3985328,"body_markdown":"    public static void main(String[] a) {\r\n    \t\tString s1 = &quot;bore&quot;, s2 = &quot;robe&quot;;\r\n    \t\tchar[] ch1 = s1.toCharArray();\r\n    \t\tArrays.sort(ch1);\r\n    \r\n    \t\tchar[] ch2 = s2.toCharArray();\r\n    \t\tArrays.sort(ch2);\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;Using array comparision method,Both strings contains same chars :&quot; + Arrays.equals(ch1, ch2));\r\n    \r\n    \t\tString s11 = new String(ch1);\r\n    \t\tString s22 = new String(ch2);\r\n    \t\tSystem.out\r\n    \t\t\t\t.println(&quot;Using String equals method,Both strings contains same chars : :&quot; + s11.equalsIgnoreCase(s22));\r\n    \t}\r\n\r\nHere I have used Arrays &amp; String class methods. Whatever comes at first in you mind you can use that. If comparison is the only purpose then use Arrays method and avoid creating string.\r\n\r\nIf you want o/p in string then anyway you will have to create strings.\r\n","title":"Checking if 2 strings contain the same characters?","body":"<pre><code>public static void main(String[] a) {\n        String s1 = &quot;bore&quot;, s2 = &quot;robe&quot;;\n        char[] ch1 = s1.toCharArray();\n        Arrays.sort(ch1);\n\n        char[] ch2 = s2.toCharArray();\n        Arrays.sort(ch2);\n        System.out\n                .println(&quot;Using array comparision method,Both strings contains same chars :&quot; + Arrays.equals(ch1, ch2));\n\n        String s11 = new String(ch1);\n        String s22 = new String(ch2);\n        System.out\n                .println(&quot;Using String equals method,Both strings contains same chars : :&quot; + s11.equalsIgnoreCase(s22));\n    }\n</code></pre>\n<p>Here I have used Arrays &amp; String class methods. Whatever comes at first in you mind you can use that. If comparison is the only purpose then use Arrays method and avoid creating string.</p>\n<p>If you want o/p in string then anyway you will have to create strings.</p>\n"}],"owner":{"account_id":657774,"reputation":181,"user_id":471953,"display_name":"Brent"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91606,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":13,"score":17,"last_activity_date":1657749566,"creation_date":1287647480,"question_id":3985328,"body_markdown":"Is there a way to check if two strings contain the same characters. For example,\r\n\r\n    abc, bca -&gt; true\r\n    aaa, aaa -&gt; true\r\n    aab, bba -&gt; false\r\n    abc, def -&gt; false\r\n\r\n","title":"Checking if 2 strings contain the same characters?","body":"<p>Is there a way to check if two strings contain the same characters. For example,</p>\n\n<pre><code>abc, bca -&gt; true\naaa, aaa -&gt; true\naab, bba -&gt; false\nabc, def -&gt; false\n</code></pre>\n"},{"tags":["java","asynchronous","guava","java.util.concurrent","completable-future"],"comments":[{"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"score":0,"creation_date":1657750651,"post_id":72973005,"comment_id":128887926,"body_markdown":"I am not sure if I understand it completely.  If the input for one update _depends_ on the output of previous one, how could you do the updates in parallel..? Shouldn&#39;t you be doing the updates (*for any one given document*) in a blocking loop?","body":"I am not sure if I understand it completely.  If the input for one update <i>depends</i> on the output of previous one, how could you do the updates in parallel..? Shouldn&#39;t you be doing the updates (<i>for any one given document</i>) in a blocking loop?"},{"owner":{"account_id":1954753,"reputation":2098,"user_id":1758023,"accept_rate":94,"display_name":"Mark"},"score":1,"creation_date":1657751278,"post_id":72973005,"comment_id":128888055,"body_markdown":"@Tintin, Perhaps a good analogy would be processing emails. I do not want to process a reply to an email before I process the original email. What is in the original email is not import to processing the reply (although it would be for the reader!), but I don&#39;t want the original to appear as if it is a reply to the actual apply. Does that help?","body":"@Tintin, Perhaps a good analogy would be processing emails. I do not want to process a reply to an email before I process the original email. What is in the original email is not import to processing the reply (although it would be for the reader!), but I don&#39;t want the original to appear as if it is a reply to the actual apply. Does that help?"},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":1,"creation_date":1657767094,"post_id":72973005,"comment_id":128890423,"body_markdown":"This sounds similar to this [issue](https://stackoverflow.com/questions/29889885/java-divide-incoming-work-uniformly-via-hashing-in-multithreaded-evnironments/29893297#29893297). In that scheme, you can easily remove the mapping via weak references. You might be able to adapt Guava&#39;s `ExecutionSequencer` or `MoreExecutors.newSequentialExecutor` for similar behavior. But I find the `CompletableFuture` approach simplest and evicting when the last in work item completes is straightforward.","body":"This sounds similar to this <a href=\"https://stackoverflow.com/questions/29889885/java-divide-incoming-work-uniformly-via-hashing-in-multithreaded-evnironments/29893297#29893297\">issue</a>. In that scheme, you can easily remove the mapping via weak references. You might be able to adapt Guava&#39;s <code>ExecutionSequencer</code> or <code>MoreExecutors.newSequentialExecutor</code> for similar behavior. But I find the <code>CompletableFuture</code> approach simplest and evicting when the last in work item completes is straightforward."},{"owner":{"account_id":1954753,"reputation":2098,"user_id":1758023,"accept_rate":94,"display_name":"Mark"},"score":0,"creation_date":1657785858,"post_id":72973005,"comment_id":128894450,"body_markdown":"@BenManes Want to make that an answer? I really appreciate your help here.","body":"@BenManes Want to make that an answer? I really appreciate your help here."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1658484683,"post_id":72973005,"comment_id":129068297,"body_markdown":"You obviously have a use case for a [*semaphore* with a single permit](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html#release():~:text=A%20semaphore%20initialized%20to%20one,no%20notion%20of%20ownership%29.), rather than a lock: “*When used in this way, the binary semaphore has the property (unlike many Lock implementations), that the &quot;lock&quot; can be released by a thread other than the owner (as semaphores have no notion of ownership).*”","body":"You obviously have a use case for a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html#release():~:text=A%20semaphore%20initialized%20to%20one,no%20notion%20of%20ownership%29.\" rel=\"nofollow noreferrer\"><i>semaphore</i> with a single permit</a>, rather than a lock: “<i>When used in this way, the binary semaphore has the property (unlike many Lock implementations), that the &quot;lock&quot; can be released by a thread other than the owner (as semaphores have no notion of ownership).</i>”"}],"owner":{"account_id":1954753,"reputation":2098,"user_id":1758023,"accept_rate":94,"display_name":"Mark"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657749020,"creation_date":1657749020,"question_id":72973005,"body_markdown":"I have a program where I need to process documents in a strict order. For different documents, the order isn&#39;t important, but for multiple updates to the **same document**, the order is vital.\r\n\r\nI use a ConcurrentHashMap&lt;documentId, ReentrantLock&gt; to lock documents. Each document has a unique id, when we get updates to the same document they will be for the same id.\r\n\r\nOur tps is quite high, so we need to be able to process these documents quickly.\r\n\r\nOne approach that we have thought about is the following:\r\n\r\n```\r\nvoid process(doc) {\r\n    String id = doc.getId();\r\n    CompletableFuture.runAsync(() -&gt; {getLock();}, executor)\r\n    .thenRunAsync(() -&gt; { doSomeWork();}, executor)\r\n    .whenComplete((ignored, err) -&gt; {\r\n        removeFromLockMap(id);\r\n        handleErrors(err);\r\n    }, executor).join()\r\n```\r\n\r\nThe issue with this approach, is that the thread (from the executor) which gets the lock is not always the same thread which attempts to unlock the lock.\r\n\r\nOne approach is to use an array of SingleThreadPool executors and use guava&#39;s Iterators.cycle() to create a ring-like iterator to get a new executor for each call to process. That way all the async calls in a single process call will run on the same thread.\r\n\r\nHowever, this seems rather hacky to me, and will not scale. We might need 1000 executors in order to process our data, and sometimes it might spike to 1500 executors. \r\n\r\nI do know that if a SingleThreaded executor is already executing a job, the next job will go to a queue and wait for the previous job. However, this will violate our latency SLA.\r\n\r\nAny suggestion on how we can achieve our SLA while still maintaining our ordering requirements?","title":"Process data in a strict order using completable futures","body":"<p>I have a program where I need to process documents in a strict order. For different documents, the order isn't important, but for multiple updates to the <strong>same document</strong>, the order is vital.</p>\n<p>I use a ConcurrentHashMap&lt;documentId, ReentrantLock&gt; to lock documents. Each document has a unique id, when we get updates to the same document they will be for the same id.</p>\n<p>Our tps is quite high, so we need to be able to process these documents quickly.</p>\n<p>One approach that we have thought about is the following:</p>\n<pre><code>void process(doc) {\n    String id = doc.getId();\n    CompletableFuture.runAsync(() -&gt; {getLock();}, executor)\n    .thenRunAsync(() -&gt; { doSomeWork();}, executor)\n    .whenComplete((ignored, err) -&gt; {\n        removeFromLockMap(id);\n        handleErrors(err);\n    }, executor).join()\n</code></pre>\n<p>The issue with this approach, is that the thread (from the executor) which gets the lock is not always the same thread which attempts to unlock the lock.</p>\n<p>One approach is to use an array of SingleThreadPool executors and use guava's Iterators.cycle() to create a ring-like iterator to get a new executor for each call to process. That way all the async calls in a single process call will run on the same thread.</p>\n<p>However, this seems rather hacky to me, and will not scale. We might need 1000 executors in order to process our data, and sometimes it might spike to 1500 executors.</p>\n<p>I do know that if a SingleThreaded executor is already executing a job, the next job will go to a queue and wait for the previous job. However, this will violate our latency SLA.</p>\n<p>Any suggestion on how we can achieve our SLA while still maintaining our ordering requirements?</p>\n"},{"tags":["java","oop","data-structures","finance"],"answers":[{"tags":[],"owner":{"account_id":23840651,"reputation":84,"user_id":17845736,"display_name":"Piotr73"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657748624,"creation_date":1657748624,"answer_id":72972954,"question_id":72971898,"body_markdown":"This looks like a version of a multi-dimensional Knapsack problem, where you want to optimize allocation of assets to specific buckets/requirements.\r\n\r\nYou have a list of requirements (Asset Class Requirement &amp; Ratings requirements) that you need to satisfy. They basically tell you if given bond can be allocated to a &#39;bucket&#39; that you need to fill.\r\n\r\nYou can solve this problem in a non-optimal way with a greedy algorithm where you just allocate first asset that meets criteria. So you go through the requirements and look up the first bond that meets the criteria there. You continue till you run out of requirements or bonds to satisfy them. It&#39;s called heuristic. It will quickly produce solution, but most probably it won&#39;t be the best. \r\n\r\nThis will produce some solution. How good it is you can measure by having a cost-function. Cost function will be how much bonds you still need to obtain from the market to satisfy remaining requirements.\r\n\r\nIf you want better or possibly best solution this becomes a hard problem. There are linear-programming algorithms that can help. Google OR-tools is one of established libraries that runs this kind of optimizations.\r\n\r\nYou wouldn&#39;t believe how much banks and finance companies use &#39;dumb&#39; algorithms and how much they lose by not employing smarter tactics.","title":"Java Finance scenario Coding Solution","body":"<p>This looks like a version of a multi-dimensional Knapsack problem, where you want to optimize allocation of assets to specific buckets/requirements.</p>\n<p>You have a list of requirements (Asset Class Requirement &amp; Ratings requirements) that you need to satisfy. They basically tell you if given bond can be allocated to a 'bucket' that you need to fill.</p>\n<p>You can solve this problem in a non-optimal way with a greedy algorithm where you just allocate first asset that meets criteria. So you go through the requirements and look up the first bond that meets the criteria there. You continue till you run out of requirements or bonds to satisfy them. It's called heuristic. It will quickly produce solution, but most probably it won't be the best.</p>\n<p>This will produce some solution. How good it is you can measure by having a cost-function. Cost function will be how much bonds you still need to obtain from the market to satisfy remaining requirements.</p>\n<p>If you want better or possibly best solution this becomes a hard problem. There are linear-programming algorithms that can help. Google OR-tools is one of established libraries that runs this kind of optimizations.</p>\n<p>You wouldn't believe how much banks and finance companies use 'dumb' algorithms and how much they lose by not employing smarter tactics.</p>\n"}],"owner":{"account_id":25802561,"reputation":11,"user_id":19544700,"display_name":"Kev Jenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72972954,"answer_count":1,"score":-1,"last_activity_date":1657748624,"creation_date":1657741976,"question_id":72971898,"body_markdown":"Given a set of bonds for inventory with the following attributes:\r\n\r\n```\r\nprice, asset class, credit rating, quantity\r\nsuch as $60.46, Corporate, AA, 20\r\nAsset class: corporate, sovereign, municipal\r\nCredit Rating: AAA, AA, A, BBB, BB, B\r\n```\r\n\r\nGiven dealId and its total price:\r\n```\r\nDealId, Price\r\nsuch as: D1, $4000\r\n```\r\n\r\nGiven dealId and its min Asset Class Requirement:\r\n```\r\nDealId, min Asset Requirement\r\nsuch as D1, 20% Sovereign\r\nD1, 60% Corporate\r\nD2, 50% Municipal\r\n```\r\nGiven dealId and its min Credit Rating Requirement:\r\n```\r\nDealId, min Credit Requirement\r\nsuch as D1 80% AAA\r\nD1 20% AA\r\n```\r\n\r\nAllocate the bonds from inventory to satisfy the deals as much as possible so that you can minimize the bonds you borrowed.\r\n\r\nCan anyone please explain how can we go about the solution for the above problem","title":"Java Finance scenario Coding Solution","body":"<p>Given a set of bonds for inventory with the following attributes:</p>\n<pre><code>price, asset class, credit rating, quantity\nsuch as $60.46, Corporate, AA, 20\nAsset class: corporate, sovereign, municipal\nCredit Rating: AAA, AA, A, BBB, BB, B\n</code></pre>\n<p>Given dealId and its total price:</p>\n<pre><code>DealId, Price\nsuch as: D1, $4000\n</code></pre>\n<p>Given dealId and its min Asset Class Requirement:</p>\n<pre><code>DealId, min Asset Requirement\nsuch as D1, 20% Sovereign\nD1, 60% Corporate\nD2, 50% Municipal\n</code></pre>\n<p>Given dealId and its min Credit Rating Requirement:</p>\n<pre><code>DealId, min Credit Requirement\nsuch as D1 80% AAA\nD1 20% AA\n</code></pre>\n<p>Allocate the bonds from inventory to satisfy the deals as much as possible so that you can minimize the bonds you borrowed.</p>\n<p>Can anyone please explain how can we go about the solution for the above problem</p>\n"},{"tags":["java","postgresql","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1657713044,"post_id":72963229,"comment_id":128874619,"body_markdown":"Please enable DEBUG level [logging](https://mybatis.org/mybatis-3/logging.html) and add the output (SQL and parameters) to the question.","body":"Please enable DEBUG level <a href=\"https://mybatis.org/mybatis-3/logging.html\" rel=\"nofollow noreferrer\">logging</a> and add the output (SQL and parameters) to the question."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1657749696,"post_id":72963229,"comment_id":128887731,"body_markdown":"The driver does not support it, it seems. See this [answer](https://stackoverflow.com/a/37721091/1261766).","body":"The driver does not support it, it seems. See this <a href=\"https://stackoverflow.com/a/37721091/1261766\">answer</a>."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1657750324,"post_id":72963229,"comment_id":128887853,"body_markdown":"BTW, it is possible to call a FUNCTION/PROCEDURE. Here is an executable [demo](https://github.com/harawata/mybatis-issues/tree/master/so-63701701).","body":"BTW, it is possible to call a FUNCTION/PROCEDURE. Here is an executable <a href=\"https://github.com/harawata/mybatis-issues/tree/master/so-63701701\" rel=\"nofollow noreferrer\">demo</a>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1658071683,"post_id":72963229,"comment_id":128955017,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":21586326,"reputation":1,"user_id":15916714,"display_name":"Arman Matevosyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657748482,"creation_date":1657701421,"question_id":72963229,"body_markdown":"    &lt;update id=&quot;export_orders_far_region&quot;&gt;\r\n        DO $$\r\n        DECLARE\r\n            ids varchar(15)[];\r\n            export_in_progress boolean;\r\n        BEGIN\r\n        export_in_progress := (select case when EXISTS (select 1 from clt$task_far_export\r\n        &lt;if test=&quot;REGION != null&quot;&gt; where REGION = #{REGION}&lt;/if&gt;\r\n        ) then true else false end);\r\n\r\n        IF export_in_progress = false THEN\r\n        select ACT_ID into ids from clt$task_far\r\n        &lt;if test=&quot;REGION != null&quot;&gt; where REGION = #{REGION}&lt;/if&gt;\r\n        ;\r\n\r\n                insert into clt$task_far_export (REGION, COLLECTION_CENTER, ACT_ID, FAZ_SZ)\r\n                (select REGION, COLLECTION_CENTER, ACT_ID, FAZ_SZ from clt$task_far where ACT_ID like ANY(ids));\r\n\r\n                delete from clt$task_far where ACT_ID like ANY(ids);\r\n            END IF;\r\n        END;\r\n        $$\r\n    &lt;/update&gt;\r\n\r\n&quot;text&quot;:&quot;Cannot process region&quot;,&quot;envType&quot;:&quot;K8S&quot;,&quot;podName&quot;:&quot;mc-app-5df74b88f-6gm4v&quot;,&quot;localTime&quot;:&quot;2022-07-13T21:35:00.075Z&quot;,&quot;threadName&quot;:&quot;Thread-10 (ActiveMQ-client-global-threads)&quot;,&quot;projectCode&quot;:&quot;CLTM&quot;,&quot;stack&quot;:&quot; org.apache.ibatis.exceptions.PersistenceException: \\n### Error updating database.  Cause: org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property=&#39;REGION&#39;, mode=IN, javaType=class java.lang.Object, jdbcType=null, numericScale=null, resultMapId=&#39;null&#39;, jdbcTypeName=&#39;null&#39;, expression=&#39;null&#39;}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.postgresql.util.PSQLException: The column index is out of range: 1, number of columns: 0.\\n### The error may involve defaultParameterMap\\n### The error occurred while setting parameters\\n### SQL: DO $$         DECLARE             ids varchar(15)[];             export_in_progress boolean;         BEGIN         export_in_progress := (select case when EXISTS (select 1 from clt$task_far_export           where REGION = ?          ) then true else false end);          IF export_in_progress = false THEN         select ACT_ID into ids from clt$task_far           where REGION = ?          ;                  insert into clt$task_far_export (REGION, COLLECTION_CENTER, ACT_ID, FAZ_SZ)                 (select REGION, COLLECTION_CENTER, ACT_ID, FAZ_SZ from clt$task_far where ACT_ID like ANY(ids));                  delete from clt$task_far where ACT_ID like ANY(ids);             END IF;         END;         $$\\n### Cause: org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property=&#39;REGION&#39;, mode=IN, javaType=class java.lang.Object, jdbcType=null, numericScale=null, resultMapId=&#39;null&#39;, jdbcTypeName=&#39;null&#39;, expression=&#39;null&#39;}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.postgresql.util.PSQLException: The column index is out of range: 1, number of columns: 0.\\n\\tat org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:172)\\n\\tat com.business.integration.flows.out.ExportActivitiesFar.processRegion(ExportActivitiesFar.java:73)\\n\\tat com.business.integration.flows.AbstractOutFlow.executeForRegion(AbstractOutFlow.java:71)\\n\\tat com.business.integration.flows.AbstractOutFlow.execute(AbstractOutFlow.java:47)\\n\\tat com.integration.consumer.ExportTaskConsumer.onMessage(ExportTaskConsumer.java:44)\\n\\tat sun.reflect.GeneratedMethodAccessor197.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\\n\\tat org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:90)\\n\\tat org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:101)\\n\\tat org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\\n\\tat org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:253)\\n\\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:332)\\n\\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:238)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\\n\\tat org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)\\n\\tat org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponentDescription$5$1.processInvocation(MessageDrivenComponentDescription.java:243)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)\\n\\tat org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:619)\\n\\tat org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\\n\\tat org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)\\n\\tat org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)\\n\\tat org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)\\n\\tat com.integration.consumer.ExportTaskConsumer$$$view52.onMessage(Unknown Source)\\n\\tat sun.reflect.GeneratedMethodAccessor197.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.jboss.as.ejb3.inflow.MessageEndpointInvocationHandler.doInvoke(MessageEndpointInvocationHandler.java:139)\\n\\tat org.jboss.as.ejb3.inflow.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:73)\\n\\tat com.integration.consumer.ExportTaskConsumer$$$endpoint2.onMessage(Unknown Source)\\n\\tat org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.onMessage(ActiveMQMessageHandler.java:303)\\n\\tat org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.callOnMessage(ClientConsumerImpl.java:1001)\\n\\tat org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.access$400(ClientConsumerImpl.java:49)\\n\\tat org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl$Runner.run(ClientConsumerImpl.java:1124)\\n\\tat org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$ExecutorTask.run(OrderedExecutorFactory.java:122)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:750)\\nCaused by: org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property=&#39;REGION&#39;, mode=IN, javaType=class java.lang.Object, jdbcType=null, numericScale=null, resultMapId=&#39;null&#39;, jdbcTypeName=&#39;null&#39;, expression=&#39;null&#39;}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.postgresql.util.PSQLException: The column index is out of range: 1, number of columns: 0.\\n\\tat org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:89)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.parameterize(PreparedStatementHandler.java:85)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.parameterize(RoutingStatementHandler.java:63)\\n\\tat org.apache.ibatis.executor.BatchExecutor.doUpdate(BatchExecutor.java:69)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\t... 78 more\\nCaused by: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.postgresql.util.PSQLException: The column index is out of range: 1, number of columns: 0.\\n\\tat org.apache.ibatis.type.BaseTypeHandler.setParameter(BaseTypeHandler.java:55)\\n\\tat org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:87)\\n\\t... 84 more\\nCaused by: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.postgresql.util.PSQLException: The column index is out of range: 1, number of columns: 0.\\n\\tat org.apache.ibatis.type.BaseTypeHandler.setParameter(BaseTypeHandler.java:55)\\n\\tat org.apache.ibatis.type.UnknownTypeHandler.setNonNullParameter(UnknownTypeHandler.java:45)\\n\\tat org.apache.ibatis.type.BaseTypeHandler.setParameter(BaseTypeHandler.java:53)\\n\\t... 85 more\\nCaused by: org.postgresql.util.PSQLException: The column index is out of range: 1, number of columns: 0.\\n\\tat org.postgresql.core.v3.SimpleParameterList.bind(SimpleParameterList.java:70)\\n\\tat org.postgresql.core.v3.SimpleParameterList.setStringParameter(SimpleParameterList.java:133)\\n\\tat org.postgresql.jdbc.PgPreparedStatement.bindString(PgPreparedStatement.java:1058)\\n\\tat org.postgresql.jdbc.PgPreparedStatement.setString(PgPreparedStatement.java:364)\\n\\tat org.postgresql.jdbc.PgPreparedStatement.setString(PgPreparedStatement.java:350)\\n\\tat org.jboss.jca.adapters.jdbc.CachedPreparedStatement.setString(CachedPreparedStatement.java:201)\\n\\tat org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.setString(WrappedPreparedStatement.java:691)\\n\\tat sun.reflect.GeneratedMethodAccessor196.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:67)\\n\\tat com.sun.proxy.$Proxy320.setString(Unknown Source)\\n\\tat org.apache.ibatis.type.StringTypeHandler.setNonNullParameter(StringTypeHandler.java:31)\\n\\tat org.apache.ibatis.type.StringTypeHandler.setNonNullParameter(StringTypeHandler.java:26)\\n\\tat org.apache.ibatis.type.BaseTypeHandler.setParameter(BaseTypeHandler.java:53)\\n\\t... 87 more\\n&quot;,&quot;eventId&quot;:&quot;458f4465-b70f-43f5-87aa-0cc963b829e7&quot;,&quot;risCode&quot;:&quot;839&quot;\r\n\r\nWhy?Can you give me some advice to solve this problem?Thanks.","title":"Mybatis Error setting non null for parameter #1 with JdbcType null","body":"<pre><code>&lt;update id=&quot;export_orders_far_region&quot;&gt;\n    DO $$\n    DECLARE\n        ids varchar(15)[];\n        export_in_progress boolean;\n    BEGIN\n    export_in_progress := (select case when EXISTS (select 1 from clt$task_far_export\n    &lt;if test=&quot;REGION != null&quot;&gt; where REGION = #{REGION}&lt;/if&gt;\n    ) then true else false end);\n\n    IF export_in_progress = false THEN\n    select ACT_ID into ids from clt$task_far\n    &lt;if test=&quot;REGION != null&quot;&gt; where REGION = #{REGION}&lt;/if&gt;\n    ;\n\n            insert into clt$task_far_export (REGION, COLLECTION_CENTER, ACT_ID, FAZ_SZ)\n            (select REGION, COLLECTION_CENTER, ACT_ID, FAZ_SZ from clt$task_far where ACT_ID like ANY(ids));\n\n            delete from clt$task_far where ACT_ID like ANY(ids);\n        END IF;\n    END;\n    $$\n&lt;/update&gt;\n</code></pre>\n<p>&quot;text&quot;:&quot;Cannot process region&quot;,&quot;envType&quot;:&quot;K8S&quot;,&quot;podName&quot;:&quot;mc-app-5df74b88f-6gm4v&quot;,&quot;localTime&quot;:&quot;2022-07-13T21:35:00.075Z&quot;,&quot;threadName&quot;:&quot;Thread-10 (ActiveMQ-client-global-threads)&quot;,&quot;projectCode&quot;:&quot;CLTM&quot;,&quot;stack&quot;:&quot; org.apache.ibatis.exceptions.PersistenceException: \\n### Error updating database.  Cause: org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property='REGION', mode=IN, javaType=class java.lang.Object, jdbcType=null, numericScale=null, resultMapId='null', jdbcTypeName='null', expression='null'}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.postgresql.util.PSQLException: The column index is out of range: 1, number of columns: 0.\\n### The error may involve defaultParameterMap\\n### The error occurred while setting parameters\\n### SQL: DO $$         DECLARE             ids varchar(15)[];             export_in_progress boolean;         BEGIN         export_in_progress := (select case when EXISTS (select 1 from clt$task_far_export           where REGION = ?          ) then true else false end);          IF export_in_progress = false THEN         select ACT_ID into ids from clt$task_far           where REGION = ?          ;                  insert into clt$task_far_export (REGION, COLLECTION_CENTER, ACT_ID, FAZ_SZ)                 (select REGION, COLLECTION_CENTER, ACT_ID, FAZ_SZ from clt$task_far where ACT_ID like ANY(ids));                  delete from clt$task_far where ACT_ID like ANY(ids);             END IF;         END;         $$\\n### Cause: org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property='REGION', mode=IN, javaType=class java.lang.Object, jdbcType=null, numericScale=null, resultMapId='null', jdbcTypeName='null', expression='null'}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.postgresql.util.PSQLException: The column index is out of range: 1, number of columns: 0.\\n\\tat org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:172)\\n\\tat com.business.integration.flows.out.ExportActivitiesFar.processRegion(ExportActivitiesFar.java:73)\\n\\tat com.business.integration.flows.AbstractOutFlow.executeForRegion(AbstractOutFlow.java:71)\\n\\tat com.business.integration.flows.AbstractOutFlow.execute(AbstractOutFlow.java:47)\\n\\tat com.integration.consumer.ExportTaskConsumer.onMessage(ExportTaskConsumer.java:44)\\n\\tat sun.reflect.GeneratedMethodAccessor197.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\\n\\tat org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:90)\\n\\tat org.jboss.as.weld.interceptors.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:101)\\n\\tat org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:40)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\\n\\tat org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:253)\\n\\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:332)\\n\\tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:238)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:509)\\n\\tat org.jboss.weld.module.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:81)\\n\\tat org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:89)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:57)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponentDescription$5$1.processInvocation(MessageDrivenComponentDescription.java:243)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:60)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:438)\\n\\tat org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:619)\\n\\tat org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:57)\\n\\tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:422)\\n\\tat org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:53)\\n\\tat org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)\\n\\tat org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)\\n\\tat org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:81)\\n\\tat com.integration.consumer.ExportTaskConsumer$$$view52.onMessage(Unknown Source)\\n\\tat sun.reflect.GeneratedMethodAccessor197.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.jboss.as.ejb3.inflow.MessageEndpointInvocationHandler.doInvoke(MessageEndpointInvocationHandler.java:139)\\n\\tat org.jboss.as.ejb3.inflow.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:73)\\n\\tat com.integration.consumer.ExportTaskConsumer$$$endpoint2.onMessage(Unknown Source)\\n\\tat org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.onMessage(ActiveMQMessageHandler.java:303)\\n\\tat org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.callOnMessage(ClientConsumerImpl.java:1001)\\n\\tat org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.access$400(ClientConsumerImpl.java:49)\\n\\tat org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl$Runner.run(ClientConsumerImpl.java:1124)\\n\\tat org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$ExecutorTask.run(OrderedExecutorFactory.java:122)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:750)\\nCaused by: org.apache.ibatis.type.TypeException: Could not set parameters for mapping: ParameterMapping{property='REGION', mode=IN, javaType=class java.lang.Object, jdbcType=null, numericScale=null, resultMapId='null', jdbcTypeName='null', expression='null'}. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.postgresql.util.PSQLException: The column index is out of range: 1, number of columns: 0.\\n\\tat org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:89)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.parameterize(PreparedStatementHandler.java:85)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.parameterize(RoutingStatementHandler.java:63)\\n\\tat org.apache.ibatis.executor.BatchExecutor.doUpdate(BatchExecutor.java:69)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\t... 78 more\\nCaused by: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.postgresql.util.PSQLException: The column index is out of range: 1, number of columns: 0.\\n\\tat org.apache.ibatis.type.BaseTypeHandler.setParameter(BaseTypeHandler.java:55)\\n\\tat org.apache.ibatis.scripting.defaults.DefaultParameterHandler.setParameters(DefaultParameterHandler.java:87)\\n\\t... 84 more\\nCaused by: org.apache.ibatis.type.TypeException: Error setting non null for parameter #1 with JdbcType null . Try setting a different JdbcType for this parameter or a different configuration property. Cause: org.postgresql.util.PSQLException: The column index is out of range: 1, number of columns: 0.\\n\\tat org.apache.ibatis.type.BaseTypeHandler.setParameter(BaseTypeHandler.java:55)\\n\\tat org.apache.ibatis.type.UnknownTypeHandler.setNonNullParameter(UnknownTypeHandler.java:45)\\n\\tat org.apache.ibatis.type.BaseTypeHandler.setParameter(BaseTypeHandler.java:53)\\n\\t... 85 more\\nCaused by: org.postgresql.util.PSQLException: The column index is out of range: 1, number of columns: 0.\\n\\tat org.postgresql.core.v3.SimpleParameterList.bind(SimpleParameterList.java:70)\\n\\tat org.postgresql.core.v3.SimpleParameterList.setStringParameter(SimpleParameterList.java:133)\\n\\tat org.postgresql.jdbc.PgPreparedStatement.bindString(PgPreparedStatement.java:1058)\\n\\tat org.postgresql.jdbc.PgPreparedStatement.setString(PgPreparedStatement.java:364)\\n\\tat org.postgresql.jdbc.PgPreparedStatement.setString(PgPreparedStatement.java:350)\\n\\tat org.jboss.jca.adapters.jdbc.CachedPreparedStatement.setString(CachedPreparedStatement.java:201)\\n\\tat org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.setString(WrappedPreparedStatement.java:691)\\n\\tat sun.reflect.GeneratedMethodAccessor196.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:67)\\n\\tat com.sun.proxy.$Proxy320.setString(Unknown Source)\\n\\tat org.apache.ibatis.type.StringTypeHandler.setNonNullParameter(StringTypeHandler.java:31)\\n\\tat org.apache.ibatis.type.StringTypeHandler.setNonNullParameter(StringTypeHandler.java:26)\\n\\tat org.apache.ibatis.type.BaseTypeHandler.setParameter(BaseTypeHandler.java:53)\\n\\t... 87 more\\n&quot;,&quot;eventId&quot;:&quot;458f4465-b70f-43f5-87aa-0cc963b829e7&quot;,&quot;risCode&quot;:&quot;839&quot;</p>\n<p>Why?Can you give me some advice to solve this problem?Thanks.</p>\n"},{"tags":["java","arraylist","contains"],"answers":[{"tags":[],"owner":{"account_id":67313,"reputation":18312,"user_id":197011,"accept_rate":100,"display_name":"GreenMatt"},"down_vote_count":0,"up_vote_count":376,"is_accepted":true,"score":376,"last_activity_date":1291944826,"creation_date":1291936791,"answer_id":4404149,"question_id":4404084,"body_markdown":"Just use [ArrayList.contains(desiredElement)][1].  For example, if you&#39;re looking for the conta1 account from your example, you could use something like:\r\n\r\n    if (lista.contains(conta1)) {\r\n        System.out.println(&quot;Account found&quot;);\r\n    } else {\r\n        System.out.println(&quot;Account not found&quot;);\r\n    }\r\n\r\n**Edit:**\r\nNote that in order for this to work, you will need to properly override the [equals()][2] and [hashCode()][3] methods. If you are using Eclipse IDE, then you can have these methods generated by first opening the source file for your `CurrentAccount` object and the selecting `Source &gt; Generate hashCode() and equals()...`\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html#contains%28java.lang.Object%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#equals(java.lang.Object)\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()","title":"Check if a value exists in ArrayList","body":"<p>Just use <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html#contains%28java.lang.Object%29\" rel=\"noreferrer\">ArrayList.contains(desiredElement)</a>.  For example, if you're looking for the conta1 account from your example, you could use something like:</p>\n\n<pre><code>if (lista.contains(conta1)) {\n    System.out.println(\"Account found\");\n} else {\n    System.out.println(\"Account not found\");\n}\n</code></pre>\n\n<p><strong>Edit:</strong>\nNote that in order for this to work, you will need to properly override the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#equals(java.lang.Object)\" rel=\"noreferrer\">equals()</a> and <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Object.html#hashCode()\" rel=\"noreferrer\">hashCode()</a> methods. If you are using Eclipse IDE, then you can have these methods generated by first opening the source file for your <code>CurrentAccount</code> object and the selecting <code>Source &gt; Generate hashCode() and equals()...</code></p>\n"},{"tags":[],"owner":{"account_id":682929,"reputation":559,"user_id":537375,"display_name":"SBA"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1657747630,"creation_date":1291955012,"answer_id":4405639,"question_id":4404084,"body_markdown":"Better to use a `HashSet` than an `ArrayList` when you are checking for existence of a value.\r\n\r\nJava docs for `HashSet` says\r\n&gt; This class offers constant time performance for the basic operations (add, remove, contains and size)\r\n\r\n`ArrayList.contains()` might have to iterate the whole list to find the instance you are looking for.","title":"Check if a value exists in ArrayList","body":"<p>Better to use a <code>HashSet</code> than an <code>ArrayList</code> when you are checking for existence of a value.</p>\n<p>Java docs for <code>HashSet</code> says</p>\n<blockquote>\n<p>This class offers constant time performance for the basic operations (add, remove, contains and size)</p>\n</blockquote>\n<p><code>ArrayList.contains()</code> might have to iterate the whole list to find the instance you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":2137644,"reputation":17159,"user_id":1897010,"display_name":"Sameer Kazi"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1657747908,"creation_date":1395318775,"answer_id":22533157,"question_id":4404084,"body_markdown":"Please refer to my answer on [this post][1].\r\n\r\nThere is no need to iterate over the `List`; just override the `equals` method and use `.contains`.\r\n  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12909871/how-to-check-in-java-if-set-contains-object-with-some-string-value/22532909#22532909\r\n\r\n\r\n    @Override\r\n    public boolean equals (Object object) {\r\n        boolean result = false;\r\n        if (object == null || object.getClass() != getClass()) {\r\n            result = false;\r\n        } else {\r\n            EmployeeModel employee = (EmployeeModel) object;\r\n            if (this.name.equals(employee.getName()) &amp;&amp; this.designation.equals(employee.getDesignation())   &amp;&amp; this.age == employee.getAge()) {\r\n                result = true;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\nCall it like this:\r\n\r\n    public static void main(String args[]) {\r\n\r\n        EmployeeModel first = new EmployeeModel(&quot;Sameer&quot;, &quot;Developer&quot;, 25);\r\n        EmployeeModel second = new EmployeeModel(&quot;Jon&quot;, &quot;Manager&quot;, 30);\r\n        EmployeeModel third = new EmployeeModel(&quot;Priyanka&quot;, &quot;Tester&quot;, 24);\r\n\r\n        List&lt;EmployeeModel&gt; employeeList = new ArrayList&lt;EmployeeModel&gt;();\r\n        employeeList.add(first);\r\n        employeeList.add(second);\r\n        employeeList.add(third);\r\n\r\n        EmployeeModel checkUserOne = new EmployeeModel(&quot;Sameer&quot;, &quot;Developer&quot;, 25);\r\n        System.out.println(&quot;Check checkUserOne is in list or not&quot;);\r\n        System.out.println(&quot;Is checkUserOne Preasent = ? &quot; + employeeList.contains(checkUserOne));\r\n\r\n        EmployeeModel checkUserTwo = new EmployeeModel(&quot;Tim&quot;, &quot;Tester&quot;, 24);\r\n        System.out.println(&quot;Check checkUserTwo is in list or not&quot;);\r\n        System.out.println(&quot;Is checkUserTwo Preasent = ? &quot; + employeeList.contains(checkUserTwo));\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Check if a value exists in ArrayList","body":"<p>Please refer to my answer on <a href=\"https://stackoverflow.com/questions/12909871/how-to-check-in-java-if-set-contains-object-with-some-string-value/22532909#22532909\">this post</a>.</p>\n<p>There is no need to iterate over the <code>List</code>; just override the <code>equals</code> method and use <code>.contains</code>.</p>\n<pre><code>@Override\npublic boolean equals (Object object) {\n    boolean result = false;\n    if (object == null || object.getClass() != getClass()) {\n        result = false;\n    } else {\n        EmployeeModel employee = (EmployeeModel) object;\n        if (this.name.equals(employee.getName()) &amp;&amp; this.designation.equals(employee.getDesignation())   &amp;&amp; this.age == employee.getAge()) {\n            result = true;\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>Call it like this:</p>\n<pre><code>public static void main(String args[]) {\n\n    EmployeeModel first = new EmployeeModel(&quot;Sameer&quot;, &quot;Developer&quot;, 25);\n    EmployeeModel second = new EmployeeModel(&quot;Jon&quot;, &quot;Manager&quot;, 30);\n    EmployeeModel third = new EmployeeModel(&quot;Priyanka&quot;, &quot;Tester&quot;, 24);\n\n    List&lt;EmployeeModel&gt; employeeList = new ArrayList&lt;EmployeeModel&gt;();\n    employeeList.add(first);\n    employeeList.add(second);\n    employeeList.add(third);\n\n    EmployeeModel checkUserOne = new EmployeeModel(&quot;Sameer&quot;, &quot;Developer&quot;, 25);\n    System.out.println(&quot;Check checkUserOne is in list or not&quot;);\n    System.out.println(&quot;Is checkUserOne Preasent = ? &quot; + employeeList.contains(checkUserOne));\n\n    EmployeeModel checkUserTwo = new EmployeeModel(&quot;Tim&quot;, &quot;Tester&quot;, 24);\n    System.out.println(&quot;Check checkUserTwo is in list or not&quot;);\n    System.out.println(&quot;Is checkUserTwo Preasent = ? &quot; + employeeList.contains(checkUserTwo));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1534237940,"creation_date":1534237940,"answer_id":51837794,"question_id":4404084,"body_markdown":"We can use `contains` method to check if an item exists if we have provided the implementation of `equals` and `hashCode` else object reference will be used for equality comparison. Also in case of a list `contains` is `O(n)` operation where as it is `O(1)` for `HashSet` so better to use later. In Java 8 we can use streams also to check item based on its equality or based on a specific property.\r\n\r\nJava 8\r\n------\r\n\r\n    CurrentAccount conta5 = new CurrentAccount(&quot;Jo&#227;o Lopes&quot;, 3135);\r\n    boolean itemExists = lista.stream().anyMatch(c -&gt; c.equals(conta5)); //provided equals and hashcode overridden\r\n    System.out.println(itemExists); // true\r\n\r\n    String nameToMatch = &quot;Ricardo Vitor&quot;;\r\n    boolean itemExistsBasedOnProp = lista.stream().map(CurrentAccount::getName).anyMatch(nameToMatch::equals);\r\n    System.out.println(itemExistsBasedOnProp); //true\r\n\r\n","title":"Check if a value exists in ArrayList","body":"<p>We can use <code>contains</code> method to check if an item exists if we have provided the implementation of <code>equals</code> and <code>hashCode</code> else object reference will be used for equality comparison. Also in case of a list <code>contains</code> is <code>O(n)</code> operation where as it is <code>O(1)</code> for <code>HashSet</code> so better to use later. In Java 8 we can use streams also to check item based on its equality or based on a specific property.</p>\n\n<h2>Java 8</h2>\n\n<pre><code>CurrentAccount conta5 = new CurrentAccount(\"João Lopes\", 3135);\nboolean itemExists = lista.stream().anyMatch(c -&gt; c.equals(conta5)); //provided equals and hashcode overridden\nSystem.out.println(itemExists); // true\n\nString nameToMatch = \"Ricardo Vitor\";\nboolean itemExistsBasedOnProp = lista.stream().map(CurrentAccount::getName).anyMatch(nameToMatch::equals);\nSystem.out.println(itemExistsBasedOnProp); //true\n</code></pre>\n"}],"owner":{"account_id":256448,"reputation":11703,"user_id":537173,"accept_rate":92,"display_name":"daniel__"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":905877,"favorite_count":0,"down_vote_count":2,"up_vote_count":220,"accepted_answer_id":4404149,"answer_count":4,"score":218,"last_activity_date":1657748004,"creation_date":1291936312,"question_id":4404084,"body_markdown":"How can I check if a value exists in an `ArrayList`?\r\n\r\n    List&lt;CurrentAccount&gt; lista = new ArrayList&lt;CurrentAccount&gt;();\r\n\r\n    CurrentAccount conta1 = new CurrentAccount(&quot;Alberto Carlos&quot;, 1052);\r\n    CurrentAccount conta2 = new CurrentAccount(&quot;Pedro Fonseca&quot;, 30);\r\n    CurrentAccount conta3 = new CurrentAccount(&quot;Ricardo Vitor&quot;, 1534);\r\n    CurrentAccount conta4 = new CurrentAccount(&quot;Jo&#227;o Lopes&quot;, 3135);\r\n    \r\n    lista.add(conta1);\r\n    lista.add(conta2);\r\n    lista.add(conta3);\r\n    lista.add(conta4);\r\n    \r\n    Collections.sort(lista);\r\n    \r\n    System.out.printf(&quot;Bank Accounts:&quot; + &quot;%n&quot;);\r\n    Iterator&lt;CurrentAccount&gt; itr = lista.iterator();\r\n    while (itr.hasNext()) {\r\n        CurrentAccount element = itr.next();\r\n        System.out.printf(element + &quot; &quot; + &quot;%n&quot;);\r\n    }\r\n    System.out.println();\r\n\r\n","title":"Check if a value exists in ArrayList","body":"<p>How can I check if a value exists in an <code>ArrayList</code>?</p>\n<pre><code>List&lt;CurrentAccount&gt; lista = new ArrayList&lt;CurrentAccount&gt;();\n\nCurrentAccount conta1 = new CurrentAccount(&quot;Alberto Carlos&quot;, 1052);\nCurrentAccount conta2 = new CurrentAccount(&quot;Pedro Fonseca&quot;, 30);\nCurrentAccount conta3 = new CurrentAccount(&quot;Ricardo Vitor&quot;, 1534);\nCurrentAccount conta4 = new CurrentAccount(&quot;João Lopes&quot;, 3135);\n\nlista.add(conta1);\nlista.add(conta2);\nlista.add(conta3);\nlista.add(conta4);\n\nCollections.sort(lista);\n\nSystem.out.printf(&quot;Bank Accounts:&quot; + &quot;%n&quot;);\nIterator&lt;CurrentAccount&gt; itr = lista.iterator();\nwhile (itr.hasNext()) {\n    CurrentAccount element = itr.next();\n    System.out.printf(element + &quot; &quot; + &quot;%n&quot;);\n}\nSystem.out.println();\n</code></pre>\n"},{"tags":["java","android","keyevent"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657747842,"creation_date":1657747842,"answer_id":72972853,"question_id":72971988,"body_markdown":"You&#39;re making your life harder on yourself.  Forget key events.  That&#39;s not the correct way to do anything on Android.  And especially not to do anything across Activites.  Instead, use something like an RxJava Observable to send events (NOT key events, specific events for things you want to do) and have each activity subscribe to that observable when in the foreground and translate incoming events to commands on that view.\r\n\r\nHonestly, even if you could send key events you wouldn&#39;t want to.  You would then have your API to external apps dependent on a specific implementation of a screen in some random activity that you don&#39;t know what its doing.  That a massive snarl of bad code and mistakes waiting to happen.  Instead, dispatch high level events and let the view itself turn those into view function calls so that all the translation is tightly coupled to the UI implementation, and not to the external API.","title":"Dispatch key event to a generic context inside the own app","body":"<p>You're making your life harder on yourself.  Forget key events.  That's not the correct way to do anything on Android.  And especially not to do anything across Activites.  Instead, use something like an RxJava Observable to send events (NOT key events, specific events for things you want to do) and have each activity subscribe to that observable when in the foreground and translate incoming events to commands on that view.</p>\n<p>Honestly, even if you could send key events you wouldn't want to.  You would then have your API to external apps dependent on a specific implementation of a screen in some random activity that you don't know what its doing.  That a massive snarl of bad code and mistakes waiting to happen.  Instead, dispatch high level events and let the view itself turn those into view function calls so that all the translation is tightly coupled to the UI implementation, and not to the external API.</p>\n"}],"owner":{"account_id":25184281,"reputation":51,"user_id":19025384,"display_name":"Felipe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657747842,"creation_date":1657742509,"question_id":72971988,"body_markdown":"I am developing and Android app (in Java) that needs to receive a broadcast from another application and, according to the data received, dispatch some key events inside my own app. \r\nBasically, from inside my app, I need to control multiple Views and Activities to navigate through my interface using the key events. \r\n\r\nI am trying the dispatchKeyEvent method that exists in both Activity and View. Below are the documentations:\r\n\r\nhttps://developer.android.com/reference/android/view/View#dispatchKeyEvent(android.view.KeyEvent)\r\n\r\nhttps://developer.android.com/reference/android/app/Activity#dispatchKeyEvent(android.view.KeyEvent)\r\n\r\nThe problem is: this function only dispatches events to be listened by objects inside the same View or Activity that generated the dispatch. Considering that my app has multiple Activities and Views, I cannot properly navigate because not all contexts are able to listen to these events. For example, I am able to control my homescreen, but as soon as I go to another screen, it stops controlling. \r\n\r\nIs there a way of sending key events from my app to itself in a generic way, so that all context inside the app is able to receive these events? \r\n\r\nImportant: I cannot have root privileges. \r\n\r\nThanks for your time!\r\n\r\n","title":"Dispatch key event to a generic context inside the own app","body":"<p>I am developing and Android app (in Java) that needs to receive a broadcast from another application and, according to the data received, dispatch some key events inside my own app.\nBasically, from inside my app, I need to control multiple Views and Activities to navigate through my interface using the key events.</p>\n<p>I am trying the dispatchKeyEvent method that exists in both Activity and View. Below are the documentations:</p>\n<p><a href=\"https://developer.android.com/reference/android/view/View#dispatchKeyEvent(android.view.KeyEvent)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/View#dispatchKeyEvent(android.view.KeyEvent)</a></p>\n<p><a href=\"https://developer.android.com/reference/android/app/Activity#dispatchKeyEvent(android.view.KeyEvent)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/Activity#dispatchKeyEvent(android.view.KeyEvent)</a></p>\n<p>The problem is: this function only dispatches events to be listened by objects inside the same View or Activity that generated the dispatch. Considering that my app has multiple Activities and Views, I cannot properly navigate because not all contexts are able to listen to these events. For example, I am able to control my homescreen, but as soon as I go to another screen, it stops controlling.</p>\n<p>Is there a way of sending key events from my app to itself in a generic way, so that all context inside the app is able to receive these events?</p>\n<p>Important: I cannot have root privileges.</p>\n<p>Thanks for your time!</p>\n"},{"tags":["java","testing","junit","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":102809,"reputation":27813,"user_id":275737,"display_name":"David Gelhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657659530,"creation_date":1657659530,"answer_id":72958315,"question_id":72956049,"body_markdown":"You could use @BeforeAll to create some test data (once) and then have individual tests operate on it. \r\n\r\nOr, for a test that’s doing something destructive like “delete”, you could create the user within the test itself. \r\n\r\n(Purists might complain that this means the “delete” test will fail if the problem is actually with the “create” operation, but I don’t consider that a big problem — if something is sufficiently messed up with my testing  environment that it can’t even create some test data, the exact number of tests that fail is not very interesting to me)","title":"Integration testing a CRUD application - how can I create maintainable tests","body":"<p>You could use @BeforeAll to create some test data (once) and then have individual tests operate on it.</p>\n<p>Or, for a test that’s doing something destructive like “delete”, you could create the user within the test itself.</p>\n<p>(Purists might complain that this means the “delete” test will fail if the problem is actually with the “create” operation, but I don’t consider that a big problem — if something is sufficiently messed up with my testing  environment that it can’t even create some test data, the exact number of tests that fail is not very interesting to me)</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657747553,"creation_date":1657747553,"answer_id":72972813,"question_id":72956049,"body_markdown":"One way to do that is to do whatever setup you need using files containing database inserts. There&#39;s a Sql annotation in Spring-Boot  you can put on the test method to tell what file to run before a test. \r\n\r\nThat way each test has its own dedicated setup and there is no dependence on another test working, it also means the test isn&#39;t dependent on java setup code working. ","title":"Integration testing a CRUD application - how can I create maintainable tests","body":"<p>One way to do that is to do whatever setup you need using files containing database inserts. There's a Sql annotation in Spring-Boot  you can put on the test method to tell what file to run before a test.</p>\n<p>That way each test has its own dedicated setup and there is no dependence on another test working, it also means the test isn't dependent on java setup code working.</p>\n"}],"owner":{"account_id":21192391,"reputation":105,"user_id":15584627,"display_name":"Kinder9211"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657747553,"creation_date":1657645890,"question_id":72956049,"body_markdown":"I have small CRUD application that I would like to create integration tests for. I&#39;ve seen the recommendation that &quot;tests depending on other tests&quot; is a no go. But how can I keep the code maintainable while at the same time not using the data from other tests?\r\n\r\nSo what I mean is easier to show by example with some pseudo code\r\n\r\n```java\r\nTestCreateUser {\r\n  make POST to API creating a user\r\n  verify the a 200 is received back\r\n}\r\n```\r\n\r\n```java\r\nTestReadUser {\r\n  GET the user from the previous test.\r\n  verify its the same user\r\n}\r\n```\r\n\r\n```java\r\nTestUpdateUser {\r\n  PATCH the user from the previous test.\r\n  verify the user have the new data.\r\n}\r\n```\r\n\r\nSo this would be bad since all tests depend on the first one. So what are the alternatives? I guess I could use a beforeEach\r\n\r\n```java\r\n@BeforeEach\r\npublic void initEach(){\r\n  make POST to API creating a user\r\n  verify the a 200 is received back\r\n}\r\n````\r\n\r\nAnd then just skip the create user test. But this might create unnecessary calls if i for example have a test like this\r\n\r\n```java\r\nTestCreateUserWithSpecialData {\r\n  make POST to API creating a user with additional data\r\n  verify the a 200 is received back\r\n  verify the additional data is correctl\r\n}\r\n```\r\nThen the beforEach would just create a user that the test does not need. Whats a good solution to solving this? Should I split them up into smaller classes and more files? Or are there a better solution? I suppose i could create if statements in the beforEach but that feels like a hack.","title":"Integration testing a CRUD application - how can I create maintainable tests","body":"<p>I have small CRUD application that I would like to create integration tests for. I've seen the recommendation that &quot;tests depending on other tests&quot; is a no go. But how can I keep the code maintainable while at the same time not using the data from other tests?</p>\n<p>So what I mean is easier to show by example with some pseudo code</p>\n<pre class=\"lang-java prettyprint-override\"><code>TestCreateUser {\n  make POST to API creating a user\n  verify the a 200 is received back\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>TestReadUser {\n  GET the user from the previous test.\n  verify its the same user\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>TestUpdateUser {\n  PATCH the user from the previous test.\n  verify the user have the new data.\n}\n</code></pre>\n<p>So this would be bad since all tests depend on the first one. So what are the alternatives? I guess I could use a beforeEach</p>\n<pre class=\"lang-java prettyprint-override\"><code>@BeforeEach\npublic void initEach(){\n  make POST to API creating a user\n  verify the a 200 is received back\n}\n</code></pre>\n<p>And then just skip the create user test. But this might create unnecessary calls if i for example have a test like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>TestCreateUserWithSpecialData {\n  make POST to API creating a user with additional data\n  verify the a 200 is received back\n  verify the additional data is correctl\n}\n</code></pre>\n<p>Then the beforEach would just create a user that the test does not need. Whats a good solution to solving this? Should I split them up into smaller classes and more files? Or are there a better solution? I suppose i could create if statements in the beforEach but that feels like a hack.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657775631,"post_id":72972749,"comment_id":128891598,"body_markdown":"What is SSM? How are you using this in the first place?","body":"What is SSM? How are you using this in the first place?"},{"owner":{"account_id":1113754,"reputation":410,"user_id":1103655,"accept_rate":58,"display_name":"Jerry Skidmore"},"score":0,"creation_date":1657819364,"post_id":72972749,"comment_id":128906741,"body_markdown":"@M.Deinum it&#39;s this https://source.coveo.com/2018/08/03/spring-boot-and-aws-parameter-store/ Spring Boot comes with native integration and it allows you to put secrets in there vs the properties file","body":"@M.Deinum it&#39;s this <a href=\"https://source.coveo.com/2018/08/03/spring-boot-and-aws-parameter-store/\" rel=\"nofollow noreferrer\">source.coveo.com/2018/08/03/spring-boot-and-aws-parameter-st&zwnj;&#8203;ore</a> Spring Boot comes with native integration and it allows you to put secrets in there vs the properties file"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1658817756,"post_id":72972749,"comment_id":129138860,"body_markdown":"Shouldn&#39;t you be using Spring Cloud Config with AWS instead of rolling your own?","body":"Shouldn&#39;t you be using Spring Cloud Config with AWS instead of rolling your own?"}],"owner":{"account_id":1113754,"reputation":410,"user_id":1103655,"accept_rate":58,"display_name":"Jerry Skidmore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657747160,"creation_date":1657747160,"question_id":72972749,"body_markdown":"I&#39;d like to be able to use both SSM and application profiles, i.e., *application-dev.yml*, *application-qa.yml*, *application-prod.yml*. The problem is, if I set *spring.profiles.active=dev* in the *application.yml*, it will use the correct version - *application-dev.yml* in this example, but it no longer looks at SSM.\r\n\r\nIs there a way I can use both and have the hierarchy be:\r\n\r\n 1. SSM\r\n 2. application-dev.yml\r\n 3. applicaion.yml\r\n\r\nor is it one or the other?\r\n\r\n**Some of the specs**\r\n\r\n - Spring boot: 2.6.6\r\n - Java: Open JDK 11\r\n - SSM: standard AWS SSM","title":"Spring boot use both SSM and application profiles","body":"<p>I'd like to be able to use both SSM and application profiles, i.e., <em>application-dev.yml</em>, <em>application-qa.yml</em>, <em>application-prod.yml</em>. The problem is, if I set <em>spring.profiles.active=dev</em> in the <em>application.yml</em>, it will use the correct version - <em>application-dev.yml</em> in this example, but it no longer looks at SSM.</p>\n<p>Is there a way I can use both and have the hierarchy be:</p>\n<ol>\n<li>SSM</li>\n<li>application-dev.yml</li>\n<li>applicaion.yml</li>\n</ol>\n<p>or is it one or the other?</p>\n<p><strong>Some of the specs</strong></p>\n<ul>\n<li>Spring boot: 2.6.6</li>\n<li>Java: Open JDK 11</li>\n<li>SSM: standard AWS SSM</li>\n</ul>\n"},{"tags":["java","json","jackson","jsonschema"],"answers":[{"tags":[],"owner":{"account_id":17881,"reputation":53306,"user_id":40468,"accept_rate":60,"display_name":"Ether"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657746781,"creation_date":1657746781,"answer_id":72972698,"question_id":72962579,"body_markdown":"The schema you have there should work. You can also simplify it by removing the `not` clauses, so just:\r\n\r\n```json\r\n  &quot;oneOf&quot;: [\r\n     {&quot;required&quot;: [&quot;a&quot;] },    \r\n     {&quot;required&quot;: [&quot;b&quot;] }  \r\n   ],\r\n   ...\r\n```","title":"Jackson: Generate a schema with mutually exclusive properties","body":"<p>The schema you have there should work. You can also simplify it by removing the <code>not</code> clauses, so just:</p>\n<pre class=\"lang-json prettyprint-override\"><code>  &quot;oneOf&quot;: [\n     {&quot;required&quot;: [&quot;a&quot;] },    \n     {&quot;required&quot;: [&quot;b&quot;] }  \n   ],\n   ...\n</code></pre>\n"}],"owner":{"account_id":1214314,"reputation":4355,"user_id":1182207,"accept_rate":74,"display_name":"Moha the almighty camel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657746781,"creation_date":1657698045,"question_id":72962579,"body_markdown":"I would like to generate a JSON schema for my POJO, and enforcing the constraint that only one attribute could be set.\r\n\r\n    class MyClass\r\n    {\r\n       int a;\r\n       \r\n       int b;\r\n    }\r\n\r\nand I need to generate the following schema (or equivalent).\r\n\r\n    {\r\n      &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\r\n      &quot;type&quot;: &quot;object&quot;,\r\n       &quot;oneOf&quot;: [\r\n    \t {&quot;required&quot;: [&quot;a&quot;],  &quot;not&quot;:  {&quot;required&quot;: [&quot;b&quot;]}},    \r\n         {&quot;required&quot;: [&quot;b&quot;],  &quot;not&quot;:  {&quot;required&quot;: [&quot;a&quot;]}}   \r\n    \r\n         ],\r\n      &quot;properties&quot;: {\r\n        &quot;a&quot;: {\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        },\r\n        &quot;b&quot;: {\r\n          &quot;type&quot;: &quot;integer&quot;\r\n        }\r\n      },\r\n      \r\n    }\r\n\r\n\r\nIdeally through Jackson annotation, but open to any other suggestions.","title":"Jackson: Generate a schema with mutually exclusive properties","body":"<p>I would like to generate a JSON schema for my POJO, and enforcing the constraint that only one attribute could be set.</p>\n<pre><code>class MyClass\n{\n   int a;\n   \n   int b;\n}\n</code></pre>\n<p>and I need to generate the following schema (or equivalent).</p>\n<pre><code>{\n  &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n   &quot;oneOf&quot;: [\n     {&quot;required&quot;: [&quot;a&quot;],  &quot;not&quot;:  {&quot;required&quot;: [&quot;b&quot;]}},    \n     {&quot;required&quot;: [&quot;b&quot;],  &quot;not&quot;:  {&quot;required&quot;: [&quot;a&quot;]}}   \n\n     ],\n  &quot;properties&quot;: {\n    &quot;a&quot;: {\n      &quot;type&quot;: &quot;integer&quot;\n    },\n    &quot;b&quot;: {\n      &quot;type&quot;: &quot;integer&quot;\n    }\n  },\n  \n}\n</code></pre>\n<p>Ideally through Jackson annotation, but open to any other suggestions.</p>\n"},{"tags":["java","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657714102,"creation_date":1657714102,"answer_id":72966039,"question_id":72952569,"body_markdown":"Constructors are special in the way that they do not allow the super constructor to be invoked from the outside. If you redefine the method, you can however use MethodCall to define such a constructor. \r\n\r\nyou&#39;d need to define a method call to the super constructor which accepts a method call to the toString method on the only argument.","title":"ByteBuddy invoke constructor in same class with argument transformation","body":"<p>Constructors are special in the way that they do not allow the super constructor to be invoked from the outside. If you redefine the method, you can however use MethodCall to define such a constructor.</p>\n<p>you'd need to define a method call to the super constructor which accepts a method call to the toString method on the only argument.</p>\n"},{"tags":[],"owner":{"account_id":1653300,"reputation":968,"user_id":1523450,"display_name":"cdr89"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657746201,"creation_date":1657746201,"answer_id":72972624,"question_id":72952569,"body_markdown":"Thanks for the suggested approach Rafael Winterhalter, I achieved what I wanted with the following:\r\n\r\n    new ByteBuddy().redefine(A.class)\r\n                        .constructor(isConstructor().and(takesArgument(0, int.class)))\r\n                        .intercept(invoke(isConstructor().and(takesArguments(String.class)))\r\n                                .withMethodCall(invoke(Integer.class.getMethod(&quot;toString&quot;, int.class)).withArgument(0))\r\n                        );","title":"ByteBuddy invoke constructor in same class with argument transformation","body":"<p>Thanks for the suggested approach Rafael Winterhalter, I achieved what I wanted with the following:</p>\n<pre><code>new ByteBuddy().redefine(A.class)\n                    .constructor(isConstructor().and(takesArgument(0, int.class)))\n                    .intercept(invoke(isConstructor().and(takesArguments(String.class)))\n                            .withMethodCall(invoke(Integer.class.getMethod(&quot;toString&quot;, int.class)).withArgument(0))\n                    );\n</code></pre>\n"}],"owner":{"account_id":1653300,"reputation":968,"user_id":1523450,"display_name":"cdr89"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72972624,"answer_count":2,"score":1,"last_activity_date":1657746201,"creation_date":1657629963,"question_id":72952569,"body_markdown":"I have a Java class similar to this:\r\n\r\n    public class A {\r\n    \r\n        public A(int a) {\r\n            // ...\r\n        }\r\n    \r\n        public A(String a) {\r\n            // ...\r\n        }\r\n    \r\n    }\r\n\r\nGiven that I cannot edit the class or create a sub-class of it, I would like to achieve with byte-buddy the following:\r\n\r\n    public A(int a) {\r\n        this(Integer.toString(a));\r\n    }\r\n\r\nI have tried with Advice and MethodDelegation but without success. What is the right way to achieve this with byte-buddy?\r\n","title":"ByteBuddy invoke constructor in same class with argument transformation","body":"<p>I have a Java class similar to this:</p>\n<pre><code>public class A {\n\n    public A(int a) {\n        // ...\n    }\n\n    public A(String a) {\n        // ...\n    }\n\n}\n</code></pre>\n<p>Given that I cannot edit the class or create a sub-class of it, I would like to achieve with byte-buddy the following:</p>\n<pre><code>public A(int a) {\n    this(Integer.toString(a));\n}\n</code></pre>\n<p>I have tried with Advice and MethodDelegation but without success. What is the right way to achieve this with byte-buddy?</p>\n"},{"tags":["java","graphics","plot","drawing","pixel"],"comments":[{"owner":{"account_id":2055869,"reputation":3471,"user_id":1833653,"accept_rate":85,"display_name":"Extreme Coders"},"score":0,"creation_date":1360777276,"post_id":14859593,"comment_id":20829185,"body_markdown":"Unfortunately java does not have any method for drawing a single point, instead you have to use `drawLine` with a same point for both start &amp; end.","body":"Unfortunately java does not have any method for drawing a single point, instead you have to use <code>drawLine</code> with a same point for both start &amp; end."},{"owner":{"account_id":32131,"reputation":8847,"user_id":88814,"accept_rate":75,"display_name":"Dmitry Avtonomov"},"score":1,"creation_date":1360777384,"post_id":14859593,"comment_id":20829237,"body_markdown":"@ExtremeCoders: that is a pitty, and doesn&#39;t this add a horrible overhead? I just want to be able to display large datasets..","body":"@ExtremeCoders: that is a pitty, and doesn&#39;t this add a horrible overhead? I just want to be able to display large datasets.."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1360777883,"creation_date":1360777883,"answer_id":14859810,"question_id":14859593,"body_markdown":"&gt; represented by Bufferedimage .. \r\n\r\nI suggest a `BufferedImage` for that, displayed.. \r\n\r\n&gt; ..or something like that where you set colors of single pixels and then render it to the screen.\r\n\r\n..in a `JLabel` - as seen in [this answer](https://stackoverflow.com/a/10055306/418556).  \r\n\r\n&lt;img src=&quot;http://i.stack.imgur.com/8Biec.png&quot; &gt;\r\n\r\nOf course, once we have an instance of `BufferedImage`, we can [`setRGB(..)`](http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#setRGB%28int,%20int,%20int%29).\r\n\r\n","title":"Java: basic plotting, drawing a point/dot/pixel","body":"<blockquote>\n  <p>represented by Bufferedimage .. </p>\n</blockquote>\n\n<p>I suggest a <code>BufferedImage</code> for that, displayed.. </p>\n\n<blockquote>\n  <p>..or something like that where you set colors of single pixels and then render it to the screen.</p>\n</blockquote>\n\n<p>..in a <code>JLabel</code> - as seen in <a href=\"https://stackoverflow.com/a/10055306/418556\">this answer</a>.  </p>\n\n<p><img src=\"https://i.stack.imgur.com/8Biec.png\" ></p>\n\n<p>Of course, once we have an instance of <code>BufferedImage</code>, we can <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#setRGB%28int,%20int,%20int%29\" rel=\"nofollow noreferrer\"><code>setRGB(..)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":266126,"reputation":10632,"user_id":553524,"accept_rate":82,"display_name":"Riyad Kalla"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360778291,"creation_date":1360778291,"answer_id":14859921,"question_id":14859593,"body_markdown":"If you honestly need to render pixel-by-pixel, I have done this at-length for hotspot visualization piece of software I wrote for a research lab.\r\n\r\nWhat you want is [BufferedImage.setRGB(..)][1] -- if you are drawing pixel-by-pixel, I assume you have implemented an algorithm that will render the RGB values for each pixel (much like we did with the heat-maps). This is what we used in an old IE-compatible Applet back in the day. Worked like a charm and was relatively fast given what it was doing.\r\n\r\nUnfortunately any time you manipulate the RGB values directly in a BufferedImage, it will become uncached by the backing video memory.\r\n\r\nSince Java 7 though, I heard that the underlying J2D implementation will make an attempt at re-caching the image into video memory once the manipulations stop and rendering is done over-and-over again -- for example, while you are rendering the heat map it is not accelerated, but once it is rendered, as you drag the window around and work with the app, the backing image data _can_ become re-accelerated.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/awt/image/BufferedImage.html#setRGB%28int,%20int,%20int%29","title":"Java: basic plotting, drawing a point/dot/pixel","body":"<p>If you honestly need to render pixel-by-pixel, I have done this at-length for hotspot visualization piece of software I wrote for a research lab.</p>\n\n<p>What you want is <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/image/BufferedImage.html#setRGB%28int,%20int,%20int%29\" rel=\"nofollow\">BufferedImage.setRGB(..)</a> -- if you are drawing pixel-by-pixel, I assume you have implemented an algorithm that will render the RGB values for each pixel (much like we did with the heat-maps). This is what we used in an old IE-compatible Applet back in the day. Worked like a charm and was relatively fast given what it was doing.</p>\n\n<p>Unfortunately any time you manipulate the RGB values directly in a BufferedImage, it will become uncached by the backing video memory.</p>\n\n<p>Since Java 7 though, I heard that the underlying J2D implementation will make an attempt at re-caching the image into video memory once the manipulations stop and rendering is done over-and-over again -- for example, while you are rendering the heat map it is not accelerated, but once it is rendered, as you drag the window around and work with the app, the backing image data <em>can</em> become re-accelerated.</p>\n"},{"tags":[],"owner":{"account_id":1400553,"reputation":1715,"user_id":1329426,"display_name":"Jool"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1360781124,"creation_date":1360780749,"answer_id":14860629,"question_id":14859593,"body_markdown":"An example of one way to do it:\r\n\r\n    // Create the new image needed\r\n    img = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB );\r\n\r\n    for ( int rc = 0; rc &lt; height; rc++ ) {\r\n      for ( int cc = 0; cc &lt; width; cc++ ) {\r\n        // Set the pixel colour of the image n.b. x = cc, y = rc\r\n        img.setRGB(cc, rc, Color.BLACK.getRGB() );\r\n      }//for cols\r\n    }//for rows\r\n\r\n&lt;br&gt;\r\nand then from within overridden paintComponent(Graphics g)\r\n\r\n    ((Graphics2D)g).drawImage(img, &lt;args&gt;)","title":"Java: basic plotting, drawing a point/dot/pixel","body":"<p>An example of one way to do it:</p>\n\n<pre><code>// Create the new image needed\nimg = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB );\n\nfor ( int rc = 0; rc &lt; height; rc++ ) {\n  for ( int cc = 0; cc &lt; width; cc++ ) {\n    // Set the pixel colour of the image n.b. x = cc, y = rc\n    img.setRGB(cc, rc, Color.BLACK.getRGB() );\n  }//for cols\n}//for rows\n</code></pre>\n\n<p><br>\nand then from within overridden paintComponent(Graphics g)</p>\n\n<pre><code>((Graphics2D)g).drawImage(img, &lt;args&gt;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":379195,"reputation":186,"user_id":732394,"display_name":"rbncrthms"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1396484982,"creation_date":1396484982,"answer_id":22825625,"question_id":14859593,"body_markdown":"If you want to do something quickly, you can just use the Graphics methods setColor and drawLine. For example:\r\n\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);       \r\n\r\n        // Set the colour of pixel (x=1, y=2) to black\r\n        g.setColor(Color.BLACK);\r\n        g.drawLine(1, 2, 1, 2);\r\n    }\r\n\r\nI have used this technique and it wasn&#39;t terribly slow. I haven&#39;t compared it to using BufferedImage objects.","title":"Java: basic plotting, drawing a point/dot/pixel","body":"<p>If you want to do something quickly, you can just use the Graphics methods setColor and drawLine. For example:</p>\n\n<pre><code>public void paintComponent(Graphics g) {\n    super.paintComponent(g);       \n\n    // Set the colour of pixel (x=1, y=2) to black\n    g.setColor(Color.BLACK);\n    g.drawLine(1, 2, 1, 2);\n}\n</code></pre>\n\n<p>I have used this technique and it wasn't terribly slow. I haven't compared it to using BufferedImage objects.</p>\n"},{"tags":[],"owner":{"account_id":1784297,"reputation":362,"user_id":1626141,"accept_rate":89,"display_name":"JimmyM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403865667,"creation_date":1403865667,"answer_id":24449867,"question_id":14859593,"body_markdown":"A little late here, but you could always do it the way Java game programmers do, with a `Screen` class:\r\n\r\n    public class Screen {\r\n\r\n    \tprivate int width, height;\t\r\n\t\r\n        public int[] pixels;\r\n\r\n\t    public Screen(int width, int height) {\r\n     \t\tthis.width = width;\r\n    \t\tthis.height = height;\r\n \r\n    \t\tpixels = new int[width * height];\r\n    \t}\r\n\r\n    \tpublic void render() {\r\n\t    \tfor(int y = 0; y &lt; height; y++) {\r\n\t    \t\tfor(int x = 0; x &lt; width; x++) {\r\n     \t\t\t\tpixels[x + y * width] = 0xFFFFFF; //make every pixel white\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n    public void clear() {\r\n                for(int i = 0; i &lt; pixels.length; i++) {\r\n                        pixels[i] = 0; //make every pixel black\r\n                }\r\n        }\r\n    \r\n    }\r\n\r\nAnd then in your main class:\r\n\r\n    \tprivate Screen screen;\r\n\r\n    \tprivate BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\r\n    \tprivate int[] pixels = ((DataBufferInt) image.getRaster().getDataBuffer()).getData();\r\n\r\n        public void render() {\r\n\t         BufferStrategy bs = getBufferStrategy();\r\n    \t    if (bs == null) {\r\n    \t        createBufferStrategy(3);\r\n    \t        return;\r\n    \t    }\r\n\r\n            screen.clear();\r\n     \t    screen.render();\r\n\r\n\t         for(int i = 0; i &lt; pixels.length; i++) {\r\n\t        \tpixels[i] = screen.pixels[i];\r\n\t         }\r\n\r\n\t        Graphics g = bs.getDrawGraphics();\r\n    \t    g.drawImage(image, 0, 0, getWidth(), getHeight(), null);\r\n    \t    g.dispose();\r\n     \t    bs.show();\r\n\t}\r\n\r\nThat should work, I think.","title":"Java: basic plotting, drawing a point/dot/pixel","body":"<p>A little late here, but you could always do it the way Java game programmers do, with a <code>Screen</code> class:</p>\n\n<pre><code>public class Screen {\n\n    private int width, height;  \n\n    public int[] pixels;\n\n    public Screen(int width, int height) {\n        this.width = width;\n        this.height = height;\n\n        pixels = new int[width * height];\n    }\n\n    public void render() {\n        for(int y = 0; y &lt; height; y++) {\n            for(int x = 0; x &lt; width; x++) {\n                pixels[x + y * width] = 0xFFFFFF; //make every pixel white\n            }\n        }\n    }\n\npublic void clear() {\n            for(int i = 0; i &lt; pixels.length; i++) {\n                    pixels[i] = 0; //make every pixel black\n            }\n    }\n\n}\n</code></pre>\n\n<p>And then in your main class:</p>\n\n<pre><code>    private Screen screen;\n\n    private BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_RGB);\n    private int[] pixels = ((DataBufferInt) image.getRaster().getDataBuffer()).getData();\n\n    public void render() {\n         BufferStrategy bs = getBufferStrategy();\n        if (bs == null) {\n            createBufferStrategy(3);\n            return;\n        }\n\n        screen.clear();\n        screen.render();\n\n         for(int i = 0; i &lt; pixels.length; i++) {\n            pixels[i] = screen.pixels[i];\n         }\n\n        Graphics g = bs.getDrawGraphics();\n        g.drawImage(image, 0, 0, getWidth(), getHeight(), null);\n        g.dispose();\n        bs.show();\n}\n</code></pre>\n\n<p>That should work, I think.</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657746063,"creation_date":1657746063,"answer_id":72972599,"question_id":14859593,"body_markdown":"I&#39;m coming with a solution which is fast and yet compatible with Graphics2D, in the sense that it doesn&#39;t draw from a detached pixel array.\r\n\r\n    fun drawLand(area: Rectangle): BufferedImage {\r\n        val height = area.height\r\n\r\n        val image = BufferedImage(area.width, height, BufferedImage.TYPE_INT_ARGB)\r\n        val g2 = image.createGraphics()\r\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON)\r\n        g2.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY)\r\n        g2.background = Color.PINK\r\n        g2.clearRect(area.x, area.y, area.width, area.height)\r\n\r\n        val squares: Sequence&lt;Square&gt; = repo.getSquares(area)\r\n\r\n        val pixels: IntArray = (image.raster.dataBuffer as DataBufferInt).data\r\n\r\n        for (square in squares) {\r\n            val color = square.color or OPAQUE // 0xFF000000.toInt()\r\n            val base = square.location.y * height + square.location.x\r\n            pixels[base] = color\r\n        }\r\n\r\n        g2.dispose()\r\n\r\n        return image\r\n    }\r\n\r\nLegend:\r\n\r\nIn the background, the image is backed by an Array of some Java primitives, depending on `BufferedImage.TYPE_`.\r\n\r\nHere I opted for `TYPE_INT_ARGB`, so each pixel is conveniently an `Int`. Then you can go row by row and tamper with the underlying pixels.","title":"Java: basic plotting, drawing a point/dot/pixel","body":"<p>I'm coming with a solution which is fast and yet compatible with Graphics2D, in the sense that it doesn't draw from a detached pixel array.</p>\n<pre><code>fun drawLand(area: Rectangle): BufferedImage {\n    val height = area.height\n\n    val image = BufferedImage(area.width, height, BufferedImage.TYPE_INT_ARGB)\n    val g2 = image.createGraphics()\n    g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON)\n    g2.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY)\n    g2.background = Color.PINK\n    g2.clearRect(area.x, area.y, area.width, area.height)\n\n    val squares: Sequence&lt;Square&gt; = repo.getSquares(area)\n\n    val pixels: IntArray = (image.raster.dataBuffer as DataBufferInt).data\n\n    for (square in squares) {\n        val color = square.color or OPAQUE // 0xFF000000.toInt()\n        val base = square.location.y * height + square.location.x\n        pixels[base] = color\n    }\n\n    g2.dispose()\n\n    return image\n}\n</code></pre>\n<p>Legend:</p>\n<p>In the background, the image is backed by an Array of some Java primitives, depending on <code>BufferedImage.TYPE_</code>.</p>\n<p>Here I opted for <code>TYPE_INT_ARGB</code>, so each pixel is conveniently an <code>Int</code>. Then you can go row by row and tamper with the underlying pixels.</p>\n"}],"owner":{"account_id":32131,"reputation":8847,"user_id":88814,"accept_rate":75,"display_name":"Dmitry Avtonomov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28265,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":14859810,"answer_count":6,"score":6,"last_activity_date":1657746063,"creation_date":1360777182,"question_id":14859593,"body_markdown":"I need to just have **a panel** inside of which i&#39;d be able to draw. I want to be able **to draw pixel by pixel**.\r\n\r\nps: I don&#39;t need lines/circles other primitives.\r\npps: the graphics library does not really matter, it can be awt, swing, qt.. anything. I just want to have something that is usually represented by Bufferedimage or somethign like that where you set colors of single pixels and then render it to the screen.","title":"Java: basic plotting, drawing a point/dot/pixel","body":"<p>I need to just have <strong>a panel</strong> inside of which i'd be able to draw. I want to be able <strong>to draw pixel by pixel</strong>.</p>\n\n<p>ps: I don't need lines/circles other primitives.\npps: the graphics library does not really matter, it can be awt, swing, qt.. anything. I just want to have something that is usually represented by Bufferedimage or somethign like that where you set colors of single pixels and then render it to the screen.</p>\n"},{"tags":["java","search","solr","solr8"],"comments":[{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":0,"creation_date":1655408328,"post_id":72650879,"comment_id":128331722,"body_markdown":"The log will have the actual stack trace that tells you what the underlying issue is. Start by looking at that (either under Logging in the web interface, by looking in the log directory under Solr, or start Solr in the foreground with `-f` and get the logs directly. If you&#39;re running Solr in Docker or k8s, the log will be available as the default output.","body":"The log will have the actual stack trace that tells you what the underlying issue is. Start by looking at that (either under Logging in the web interface, by looking in the log directory under Solr, or start Solr in the foreground with <code>-f</code> and get the logs directly. If you&#39;re running Solr in Docker or k8s, the log will be available as the default output."},{"owner":{"account_id":21973985,"reputation":1,"user_id":16250079,"display_name":"joby"},"score":0,"creation_date":1657723381,"post_id":72650879,"comment_id":128879089,"body_markdown":"I updated the question with the error from the Log.","body":"I updated the question with the error from the Log."}],"answers":[{"tags":[],"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657745596,"creation_date":1657745596,"answer_id":72972528,"question_id":72650879,"body_markdown":"Your zookeeper has configuration details for a set of collections, but your Solr installation does not have those collections (since you did a clean install). \r\n\r\nIf you never removed the configuration data from zookeeper, there is already an expected state of the cluster present in zookeeper - which is no longer a correct representation of how the actual cluster is.\r\n\r\nYou can refer to [Delete/remove Solr configuration from ZooKeeper using zkcli?](https://stackoverflow.com/questions/28589942/delete-remove-solr-configuration-from-zookeeper-using-zkcli) for how to remove the stored configuration.\r\n\r\n&gt; `./server/scripts/cloud-scripts/zkcli.sh -cmd clear -z &quot;localhost:2181&quot; /configs/AAA`\r\n\r\n","title":"SolrCore Initialization Failures - mail, solr, atom, tika, db","body":"<p>Your zookeeper has configuration details for a set of collections, but your Solr installation does not have those collections (since you did a clean install).</p>\n<p>If you never removed the configuration data from zookeeper, there is already an expected state of the cluster present in zookeeper - which is no longer a correct representation of how the actual cluster is.</p>\n<p>You can refer to <a href=\"https://stackoverflow.com/questions/28589942/delete-remove-solr-configuration-from-zookeeper-using-zkcli\">Delete/remove Solr configuration from ZooKeeper using zkcli?</a> for how to remove the stored configuration.</p>\n<blockquote>\n<p><code>./server/scripts/cloud-scripts/zkcli.sh -cmd clear -z &quot;localhost:2181&quot; /configs/AAA</code></p>\n</blockquote>\n"}],"owner":{"account_id":21973985,"reputation":1,"user_id":16250079,"display_name":"joby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657745596,"creation_date":1655407062,"question_id":72650879,"body_markdown":"[SolrCore Initialization Failures][1]\r\nI have a 3 node solr 8.11.1 setup (port 8983) with 3 node external zookeeper 3.7.1 (p 2181). After I did a clean setup, I see Solr Core Initialization error in the admin console. The error is below. I have no idea how to avoid this error? Any help will be appreciated.\r\n[solr error image][2]\r\n```   mail: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException\r\n   solr: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException\r\n   atom: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException\r\n   tika: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException\r\n   db: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException\r\n```\r\nThanks\r\nJoby\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9R0xy.png\r\n  [2]: https://i.stack.imgur.com/L4ysZ.png\r\nHere is the error from the log.\r\n\r\n2022-07-13 02:57:58.734 ERROR (coreLoadExecutor-21-thread-2-processing-n:192.168.1.1:3001_solr) [c:db   x:db] o.a.s.c.ZkController  =&gt; org.apache.solr.common.SolrException: Could not find collection : db\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123)\r\norg.apache.solr.common.SolrException: Could not find collection : db\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\r\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\r\n2022-07-13 02:57:58.740 ERROR (coreLoadExecutor-21-thread-2-processing-n:192.168.1.1:3001_solr) [c:solr   x:solr] o.a.s.c.ZkController  =&gt; org.apache.solr.common.SolrException: Could not find collection : solr\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123)\r\norg.apache.solr.common.SolrException: Could not find collection : solr\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\r\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\r\n2022-07-13 02:57:58.741 ERROR (coreLoadExecutor-21-thread-2-processing-n:192.168.1.1:3001_solr) [c:tika   x:tika] o.a.s.c.ZkController  =&gt; org.apache.solr.common.SolrException: Could not find collection : tika\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123)\r\norg.apache.solr.common.SolrException: Could not find collection : tika\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\r\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\r\n2022-07-13 02:57:58.743 ERROR (coreLoadExecutor-21-thread-3-processing-n:192.168.1.1:3001_solr) [c:mail   x:mail] o.a.s.c.ZkController  =&gt; org.apache.solr.common.SolrException: Could not find collection : mail\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123)\r\norg.apache.solr.common.SolrException: Could not find collection : mail\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\r\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\r\n2022-07-13 02:57:58.745 ERROR (coreLoadExecutor-21-thread-1-processing-n:192.168.1.1:3001_solr) [c:atom   x:atom] o.a.s.c.ZkController  =&gt; org.apache.solr.common.SolrException: Could not find collection : atom\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123)\r\norg.apache.solr.common.SolrException: Could not find collection : atom\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\r\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\r\n2022-07-13 02:57:58.747 ERROR (coreContainerWorkExecutor-4-thread-1-processing-n:192.168.1.1:3001_solr) [   ] o.a.s.c.CoreContainer Error waiting for SolrCore to be loaded on startup =&gt; java.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [atom]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\njava.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [atom]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_331]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$12(CoreContainer.java:902) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:180) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\r\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\r\nCaused by: org.apache.solr.common.SolrException: Unable to create core [atom]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1473) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\nCaused by: org.apache.solr.common.SolrException: \r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1876) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\nCaused by: org.apache.solr.common.SolrException: Could not find collection : atom\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\n2022-07-13 02:57:58.747 ERROR (coreContainerWorkExecutor-4-thread-1-processing-n:192.168.1.1:3001_solr) [   ] o.a.s.c.CoreContainer Error waiting for SolrCore to be loaded on startup =&gt; java.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [db]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\njava.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [db]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_331]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$12(CoreContainer.java:902) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:180) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\r\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\r\nCaused by: org.apache.solr.common.SolrException: Unable to create core [db]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1473) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\nCaused by: org.apache.solr.common.SolrException: \r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1876) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\nCaused by: org.apache.solr.common.SolrException: Could not find collection : db\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\n2022-07-13 02:57:58.747 ERROR (coreContainerWorkExecutor-4-thread-1-processing-n:192.168.1.1:3001_solr) [   ] o.a.s.c.CoreContainer Error waiting for SolrCore to be loaded on startup =&gt; java.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [mail]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\njava.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [mail]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_331]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$12(CoreContainer.java:902) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:180) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\r\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\r\nCaused by: org.apache.solr.common.SolrException: Unable to create core [mail]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1473) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\nCaused by: org.apache.solr.common.SolrException: \r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1876) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\nCaused by: org.apache.solr.common.SolrException: Could not find collection : mail\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\n2022-07-13 02:57:58.747 ERROR (coreContainerWorkExecutor-4-thread-1-processing-n:192.168.1.1:3001_solr) [   ] o.a.s.c.CoreContainer Error waiting for SolrCore to be loaded on startup =&gt; java.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [solr]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\njava.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [solr]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_331]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$12(CoreContainer.java:902) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:180) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\r\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\r\nCaused by: org.apache.solr.common.SolrException: Unable to create core [solr]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1473) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\nCaused by: org.apache.solr.common.SolrException: \r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1876) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\nCaused by: org.apache.solr.common.SolrException: Could not find collection : solr\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\n2022-07-13 02:57:58.747 ERROR (coreContainerWorkExecutor-4-thread-1-processing-n:192.168.1.1:3001_solr) [   ] o.a.s.c.CoreContainer Error waiting for SolrCore to be loaded on startup =&gt; java.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [tika]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\njava.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [tika]\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_331]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$12(CoreContainer.java:902) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:180) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\r\n\tat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\r\nCaused by: org.apache.solr.common.SolrException: Unable to create core [tika]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1473) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\nCaused by: org.apache.solr.common.SolrException: \r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1876) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more\r\nCaused by: org.apache.solr.common.SolrException: Could not find collection : tika\r\n\tat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\r\n\tat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\r\n\tat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\r\n\tat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\r\n\t... 5 more","title":"SolrCore Initialization Failures - mail, solr, atom, tika, db","body":"<p><a href=\"https://i.stack.imgur.com/9R0xy.png\" rel=\"nofollow noreferrer\">SolrCore Initialization Failures</a>\nI have a 3 node solr 8.11.1 setup (port 8983) with 3 node external zookeeper 3.7.1 (p 2181). After I did a clean setup, I see Solr Core Initialization error in the admin console. The error is below. I have no idea how to avoid this error? Any help will be appreciated.\n<a href=\"https://i.stack.imgur.com/L4ysZ.png\" rel=\"nofollow noreferrer\">solr error image</a></p>\n<pre><code>   solr: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException\n   atom: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException\n   tika: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException\n   db: org.apache.solr.common.SolrException:org.apache.solr.common.SolrException\n</code></pre>\n<p>Thanks\nJoby</p>\n<p>Here is the error from the log.</p>\n<p>2022-07-13 02:57:58.734 ERROR (coreLoadExecutor-21-thread-2-processing-n:192.168.1.1:3001_solr) [c:db   x:db] o.a.s.c.ZkController  =&gt; org.apache.solr.common.SolrException: Could not find collection : db\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123)\norg.apache.solr.common.SolrException: Could not find collection : db\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\nat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\nat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\nat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\nat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\n2022-07-13 02:57:58.740 ERROR (coreLoadExecutor-21-thread-2-processing-n:192.168.1.1:3001_solr) [c:solr   x:solr] o.a.s.c.ZkController  =&gt; org.apache.solr.common.SolrException: Could not find collection : solr\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123)\norg.apache.solr.common.SolrException: Could not find collection : solr\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\nat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\nat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\nat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\nat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\n2022-07-13 02:57:58.741 ERROR (coreLoadExecutor-21-thread-2-processing-n:192.168.1.1:3001_solr) [c:tika   x:tika] o.a.s.c.ZkController  =&gt; org.apache.solr.common.SolrException: Could not find collection : tika\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123)\norg.apache.solr.common.SolrException: Could not find collection : tika\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\nat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\nat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\nat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\nat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\n2022-07-13 02:57:58.743 ERROR (coreLoadExecutor-21-thread-3-processing-n:192.168.1.1:3001_solr) [c:mail   x:mail] o.a.s.c.ZkController  =&gt; org.apache.solr.common.SolrException: Could not find collection : mail\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123)\norg.apache.solr.common.SolrException: Could not find collection : mail\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\nat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\nat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\nat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\nat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\n2022-07-13 02:57:58.745 ERROR (coreLoadExecutor-21-thread-1-processing-n:192.168.1.1:3001_solr) [c:atom   x:atom] o.a.s.c.ZkController  =&gt; org.apache.solr.common.SolrException: Could not find collection : atom\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123)\norg.apache.solr.common.SolrException: Could not find collection : atom\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\nat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\nat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\nat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\nat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\n2022-07-13 02:57:58.747 ERROR (coreContainerWorkExecutor-4-thread-1-processing-n:192.168.1.1:3001_solr) [   ] o.a.s.c.CoreContainer Error waiting for SolrCore to be loaded on startup =&gt; java.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [atom]\nat java.util.concurrent.FutureTask.report(FutureTask.java:122)\njava.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [atom]\nat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_331]\nat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_331]\nat org.apache.solr.core.CoreContainer.lambda$load$12(CoreContainer.java:902) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:180) ~[metrics-core-4.1.5.jar:4.1.5]\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_331]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\nat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\nat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\nCaused by: org.apache.solr.common.SolrException: Unable to create core [atom]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1473) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\nCaused by: org.apache.solr.common.SolrException:\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1876) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\nCaused by: org.apache.solr.common.SolrException: Could not find collection : atom\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\nat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\nat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\n2022-07-13 02:57:58.747 ERROR (coreContainerWorkExecutor-4-thread-1-processing-n:192.168.1.1:3001_solr) [   ] o.a.s.c.CoreContainer Error waiting for SolrCore to be loaded on startup =&gt; java.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [db]\nat java.util.concurrent.FutureTask.report(FutureTask.java:122)\njava.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [db]\nat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_331]\nat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_331]\nat org.apache.solr.core.CoreContainer.lambda$load$12(CoreContainer.java:902) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:180) ~[metrics-core-4.1.5.jar:4.1.5]\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_331]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\nat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\nat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\nCaused by: org.apache.solr.common.SolrException: Unable to create core [db]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1473) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\nCaused by: org.apache.solr.common.SolrException:\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1876) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\nCaused by: org.apache.solr.common.SolrException: Could not find collection : db\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\nat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\nat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\n2022-07-13 02:57:58.747 ERROR (coreContainerWorkExecutor-4-thread-1-processing-n:192.168.1.1:3001_solr) [   ] o.a.s.c.CoreContainer Error waiting for SolrCore to be loaded on startup =&gt; java.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [mail]\nat java.util.concurrent.FutureTask.report(FutureTask.java:122)\njava.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [mail]\nat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_331]\nat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_331]\nat org.apache.solr.core.CoreContainer.lambda$load$12(CoreContainer.java:902) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:180) ~[metrics-core-4.1.5.jar:4.1.5]\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_331]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\nat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\nat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\nCaused by: org.apache.solr.common.SolrException: Unable to create core [mail]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1473) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\nCaused by: org.apache.solr.common.SolrException:\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1876) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\nCaused by: org.apache.solr.common.SolrException: Could not find collection : mail\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\nat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\nat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\n2022-07-13 02:57:58.747 ERROR (coreContainerWorkExecutor-4-thread-1-processing-n:192.168.1.1:3001_solr) [   ] o.a.s.c.CoreContainer Error waiting for SolrCore to be loaded on startup =&gt; java.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [solr]\nat java.util.concurrent.FutureTask.report(FutureTask.java:122)\njava.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [solr]\nat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_331]\nat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_331]\nat org.apache.solr.core.CoreContainer.lambda$load$12(CoreContainer.java:902) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:180) ~[metrics-core-4.1.5.jar:4.1.5]\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_331]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\nat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\nat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\nCaused by: org.apache.solr.common.SolrException: Unable to create core [solr]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1473) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\nCaused by: org.apache.solr.common.SolrException:\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1876) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\nCaused by: org.apache.solr.common.SolrException: Could not find collection : solr\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\nat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\nat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\n2022-07-13 02:57:58.747 ERROR (coreContainerWorkExecutor-4-thread-1-processing-n:192.168.1.1:3001_solr) [   ] o.a.s.c.CoreContainer Error waiting for SolrCore to be loaded on startup =&gt; java.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [tika]\nat java.util.concurrent.FutureTask.report(FutureTask.java:122)\njava.util.concurrent.ExecutionException: org.apache.solr.common.SolrException: Unable to create core [tika]\nat java.util.concurrent.FutureTask.report(FutureTask.java:122) ~[?:1.8.0_331]\nat java.util.concurrent.FutureTask.get(FutureTask.java:192) ~[?:1.8.0_331]\nat org.apache.solr.core.CoreContainer.lambda$load$12(CoreContainer.java:902) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedRunnable.run(InstrumentedExecutorService.java:180) ~[metrics-core-4.1.5.jar:4.1.5]\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_331]\nat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_331]\nat org.apache.solr.common.util.ExecutorUtil$MDCAwareThreadPoolExecutor.lambda$execute$0(ExecutorUtil.java:218) ~[?:?]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_331]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_331]\nat java.lang.Thread.run(Thread.java:750) ~[?:1.8.0_331]\nCaused by: org.apache.solr.common.SolrException: Unable to create core [tika]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1473) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\nCaused by: org.apache.solr.common.SolrException:\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1876) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more\nCaused by: org.apache.solr.common.SolrException: Could not find collection : tika\nat org.apache.solr.common.cloud.ClusterState.getCollection(ClusterState.java:123) ~[?:?]\nat org.apache.solr.core.CoreContainer.repairCoreProperty(CoreContainer.java:2194) ~[?:?]\nat org.apache.solr.cloud.ZkController.checkStateInZk(ZkController.java:1906) ~[?:?]\nat org.apache.solr.cloud.ZkController.preRegister(ZkController.java:1843) ~[?:?]\nat org.apache.solr.core.CoreContainer.createFromDescriptor(CoreContainer.java:1443) ~[?:?]\nat org.apache.solr.core.CoreContainer.lambda$load$11(CoreContainer.java:873) ~[?:?]\nat com.codahale.metrics.InstrumentedExecutorService$InstrumentedCallable.call(InstrumentedExecutorService.java:202) ~[metrics-core-4.1.5.jar:4.1.5]\n... 5 more</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657745445,"creation_date":1657745445,"answer_id":72972506,"question_id":72972456,"body_markdown":"Maybe you can try change:\r\n\r\n    @Query(&quot;update CCPSEDCD.RECFFTAPSE set id=1, tarmoda=&#39;c&#39; where id=1&quot;)\r\n\r\nfor:\r\n\r\n    @Query(&quot;update MyEntity m set m.id = 1, m.tarmoda = &#39;c&#39; where m.id = 1&quot;)\r\n\r\n","title":"Binding parameters is not supported for the statement Java","body":"<p>Maybe you can try change:</p>\n<pre><code>@Query(&quot;update CCPSEDCD.RECFFTAPSE set id=1, tarmoda='c' where id=1&quot;)\n</code></pre>\n<p>for:</p>\n<pre><code>@Query(&quot;update MyEntity m set m.id = 1, m.tarmoda = 'c' where m.id = 1&quot;)\n</code></pre>\n"}],"owner":{"account_id":25703714,"reputation":3,"user_id":19463386,"display_name":"kevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72972506,"answer_count":1,"score":0,"last_activity_date":1657745445,"creation_date":1657745159,"question_id":72972456,"body_markdown":"hello I am sending a query with this data to my postgres database but I am getting this error and I have not been able to solve it\r\n\r\nmy query\r\n\r\n    public interface MyReactiveRepository extends ReactiveCrudRepository&lt;MyEntity, String&gt; {\r\n     @Modifying\r\n    @Query(&quot;update CCPSEDCD.RECFFTAPSE set id=1, tarmoda=&#39;c&#39; where id=1&quot;)\r\n    }\r\n\r\nerror\r\n&quot;Binding parameters is not supported for the statement &#39;update CCPSEDCD.RECFFTAPSE set id=1, tarmoda=&#39;c&#39; where id=1&#39;&quot;","title":"Binding parameters is not supported for the statement Java","body":"<p>hello I am sending a query with this data to my postgres database but I am getting this error and I have not been able to solve it</p>\n<p>my query</p>\n<pre><code>public interface MyReactiveRepository extends ReactiveCrudRepository&lt;MyEntity, String&gt; {\n @Modifying\n@Query(&quot;update CCPSEDCD.RECFFTAPSE set id=1, tarmoda='c' where id=1&quot;)\n}\n</code></pre>\n<p>error\n&quot;Binding parameters is not supported for the statement 'update CCPSEDCD.RECFFTAPSE set id=1, tarmoda='c' where id=1'&quot;</p>\n"},{"tags":["java","mysql","sql","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657735553,"creation_date":1657735553,"answer_id":72970759,"question_id":72966914,"body_markdown":"For the first part of how to get the combined result. I will do something like this.\r\n\r\n- Create repository interface as you wrote but using spring data jpa intead of raw query\r\n- user CompletableFuture with each method call\r\n- combine the result into a dto\r\n- return this combined result\r\n\r\n```java\r\n@Repository\r\npublic interface SampleDocumentRepository extends JpaRepository&lt;SampleDocument, Integer&gt; {\r\n\r\n    Page&lt;SampleDocument&gt; findByNameContains(String name, Pageable pageable);\r\n\r\n    Page&lt;SampleDocument&gt; findByNumberContains(String number, Pageable pageable);\r\n\r\n    Page&lt;SampleDocument&gt; findByProjectContains(String project, Pageable pageable);\r\n}\r\n```\r\nService class where result are combined together\r\n\r\n```java8\r\n@Service\r\n@AllArgsConstructor\r\npublic class SampleDocumentService {\r\n    private final SampleDocumentRepository repository;\r\n\r\n\r\n    @Transactional(readOnly = true)\r\n    public CompletableFuture&lt;ResultDto&gt; search(String query) {\r\n        PageRequest page = PageRequest.of(0, 20);\r\n        CompletableFuture&lt;Page&lt;SampleDocument&gt;&gt; nameSearch = CompletableFuture.supplyAsync(() -&gt; repository.findByNameContains(query, page));\r\n        CompletableFuture&lt;Page&lt;SampleDocument&gt;&gt; numberSearch = CompletableFuture.supplyAsync(() -&gt; repository.findByNumberContains(query, page));\r\n        CompletableFuture&lt;Page&lt;SampleDocument&gt;&gt; projectSearch = CompletableFuture.supplyAsync(() -&gt; repository.findByProjectContains(query, page));\r\n        return CompletableFuture.allOf(nameSearch, numberSearch, projectSearch)\r\n                .thenApply(unused -&gt; new ResultDto(nameSearch.join(), numberSearch.join(), projectSearch.join()));\r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\nThen the call from the service\r\n```java8\r\n@GetMapping(&quot;/search&quot;)\r\n    public CompletableFuture&lt;ResultDto&gt; search(@RequestParam(&quot;query&quot;) String query) {\r\n        return service.search(query);\r\n    }\r\n```\r\n\r\ncall using your query argument\r\n```http\r\nhttp://localhost:8080/sample/search?query=hello\r\n```\r\n\r\nTo answer the second part, if you want to check if the query is present in any of the columns you can write JPA query combining the `Or` operator like this.\r\n```java\r\nPage&lt;SampleDocument&gt; findByNameContainsOrNumberContainsOrProjectContains(String name, String number, String project, Pageable pageable);\r\n```\r\n\r\nCaller would be something like this\r\n```java\r\n@Transactional(readOnly = true)\r\n    public CompletableFuture&lt;ResultDto&gt; searchAll(String query) {\r\n        PageRequest page = PageRequest.of(0, 20);\r\n        CompletableFuture&lt;Page&lt;SampleDocument&gt;&gt; nameSearch = CompletableFuture.supplyAsync(() -&gt;\r\n                repository.findByNameContainsOrNumberContainsOrProjectContains(query, query, query, page));\r\n        return CompletableFuture.supplyAsync(() -&gt; new ResultDto(nameSearch.join(), null, null));\r\n    }\r\n```\r\n\r\nIf you want to use Async with spring data and completable please follow this [link][1]\r\n\r\n\r\n  [1]: https://www.humansreadcode.com/spring-data-completablefuture/","title":"How to query same table with same parameter but with different where conditions and get combined result at last","body":"<p>For the first part of how to get the combined result. I will do something like this.</p>\n<ul>\n<li>Create repository interface as you wrote but using spring data jpa intead of raw query</li>\n<li>user CompletableFuture with each method call</li>\n<li>combine the result into a dto</li>\n<li>return this combined result</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface SampleDocumentRepository extends JpaRepository&lt;SampleDocument, Integer&gt; {\n\n    Page&lt;SampleDocument&gt; findByNameContains(String name, Pageable pageable);\n\n    Page&lt;SampleDocument&gt; findByNumberContains(String number, Pageable pageable);\n\n    Page&lt;SampleDocument&gt; findByProjectContains(String project, Pageable pageable);\n}\n</code></pre>\n<p>Service class where result are combined together</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class SampleDocumentService {\n    private final SampleDocumentRepository repository;\n\n\n    @Transactional(readOnly = true)\n    public CompletableFuture&lt;ResultDto&gt; search(String query) {\n        PageRequest page = PageRequest.of(0, 20);\n        CompletableFuture&lt;Page&lt;SampleDocument&gt;&gt; nameSearch = CompletableFuture.supplyAsync(() -&gt; repository.findByNameContains(query, page));\n        CompletableFuture&lt;Page&lt;SampleDocument&gt;&gt; numberSearch = CompletableFuture.supplyAsync(() -&gt; repository.findByNumberContains(query, page));\n        CompletableFuture&lt;Page&lt;SampleDocument&gt;&gt; projectSearch = CompletableFuture.supplyAsync(() -&gt; repository.findByProjectContains(query, page));\n        return CompletableFuture.allOf(nameSearch, numberSearch, projectSearch)\n                .thenApply(unused -&gt; new ResultDto(nameSearch.join(), numberSearch.join(), projectSearch.join()));\n    }\n    \n}\n</code></pre>\n<p>Then the call from the service</p>\n<pre><code>@GetMapping(&quot;/search&quot;)\n    public CompletableFuture&lt;ResultDto&gt; search(@RequestParam(&quot;query&quot;) String query) {\n        return service.search(query);\n    }\n</code></pre>\n<p>call using your query argument</p>\n<pre class=\"lang-http prettyprint-override\"><code>http://localhost:8080/sample/search?query=hello\n</code></pre>\n<p>To answer the second part, if you want to check if the query is present in any of the columns you can write JPA query combining the <code>Or</code> operator like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Page&lt;SampleDocument&gt; findByNameContainsOrNumberContainsOrProjectContains(String name, String number, String project, Pageable pageable);\n</code></pre>\n<p>Caller would be something like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(readOnly = true)\n    public CompletableFuture&lt;ResultDto&gt; searchAll(String query) {\n        PageRequest page = PageRequest.of(0, 20);\n        CompletableFuture&lt;Page&lt;SampleDocument&gt;&gt; nameSearch = CompletableFuture.supplyAsync(() -&gt;\n                repository.findByNameContainsOrNumberContainsOrProjectContains(query, query, query, page));\n        return CompletableFuture.supplyAsync(() -&gt; new ResultDto(nameSearch.join(), null, null));\n    }\n</code></pre>\n<p>If you want to use Async with spring data and completable please follow this <a href=\"https://www.humansreadcode.com/spring-data-completablefuture/\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":21975330,"reputation":13,"user_id":16251248,"display_name":"ari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72970759,"answer_count":1,"score":0,"last_activity_date":1657744394,"creation_date":1657717829,"question_id":72966914,"body_markdown":"I have a global search I will search with one keyword but need to get results with all the matching columns of a table. \r\n\r\n    Page&lt;A&gt; a = null;\r\n    a = zRepo.getResultByNameSearch(searchText)\r\n    a = zRepo.getResultByNumberSeach(searchText)\r\n    a = zRepo.getRsultByProjectSearch(searchText)\r\n    \r\n    @Query(&quot;select * from a_table x where x.name like :searchText&quot;)\r\n    Page&lt;A&gt; getResultByNameSearch(@Param(&quot;searchText&quot;) String searchText, Pageable pageable);\r\n    \r\n    @Query(&quot;select * from a_table where x.number like :searchText&quot;)\r\n    Page&lt;A&gt; getResultByNumberSearch(@Param(&quot;searchText&quot;) String searchText, Pageable pageable);\r\n    \r\n    @Query(&quot;select * from a_table where x.project like :searchText&quot;)\r\n    Page&lt;A&gt; getResultByProjectSearch(@Param(&quot;searchText&quot;) String searchText, Pageable pageable);\r\n\r\nSo each repository call queries and fetches the same table but according to the `searchText`.\r\n\r\nLet&#39;s assume `name = &quot;Company910&quot;`, `number = &quot;XX910&quot;`, `project = &quot;910&quot;`.\r\n\r\nNow I&#39;m searching for `&quot;910&quot;` and want to get results with all the 3 values. `Page&lt;a&gt;` will be having all the columns of `a_table` with the list of results as per `&quot;Company910&quot;`, `&quot;XX910&quot;`, `&quot;910&quot;`.\r\n\r\nHow to implement this or is there any other way where I can maintain a single query instead of three different for name, number and project?\r\n","title":"How to query same table with same parameter but with different where conditions and get combined result at last","body":"<p>I have a global search I will search with one keyword but need to get results with all the matching columns of a table.</p>\n<pre><code>Page&lt;A&gt; a = null;\na = zRepo.getResultByNameSearch(searchText)\na = zRepo.getResultByNumberSeach(searchText)\na = zRepo.getRsultByProjectSearch(searchText)\n\n@Query(&quot;select * from a_table x where x.name like :searchText&quot;)\nPage&lt;A&gt; getResultByNameSearch(@Param(&quot;searchText&quot;) String searchText, Pageable pageable);\n\n@Query(&quot;select * from a_table where x.number like :searchText&quot;)\nPage&lt;A&gt; getResultByNumberSearch(@Param(&quot;searchText&quot;) String searchText, Pageable pageable);\n\n@Query(&quot;select * from a_table where x.project like :searchText&quot;)\nPage&lt;A&gt; getResultByProjectSearch(@Param(&quot;searchText&quot;) String searchText, Pageable pageable);\n</code></pre>\n<p>So each repository call queries and fetches the same table but according to the <code>searchText</code>.</p>\n<p>Let's assume <code>name = &quot;Company910&quot;</code>, <code>number = &quot;XX910&quot;</code>, <code>project = &quot;910&quot;</code>.</p>\n<p>Now I'm searching for <code>&quot;910&quot;</code> and want to get results with all the 3 values. <code>Page&lt;a&gt;</code> will be having all the columns of <code>a_table</code> with the list of results as per <code>&quot;Company910&quot;</code>, <code>&quot;XX910&quot;</code>, <code>&quot;910&quot;</code>.</p>\n<p>How to implement this or is there any other way where I can maintain a single query instead of three different for name, number and project?</p>\n"},{"tags":["java","hibernate","exception","annotations","mapping"],"comments":[{"owner":{"account_id":5660305,"reputation":590,"user_id":4478147,"display_name":"Lilac"},"score":0,"creation_date":1565985429,"post_id":57529828,"comment_id":101526887,"body_markdown":"I tried to use buildSessionFactory with ServiceRegistry, and still its not working.","body":"I tried to use buildSessionFactory with ServiceRegistry, and still its not working."},{"owner":{"account_id":5660305,"reputation":590,"user_id":4478147,"display_name":"Lilac"},"score":0,"creation_date":1566474581,"post_id":57529828,"comment_id":101672720,"body_markdown":"This exception doesn&#39;t have anything to deal with buildsessionfactory However the culprit was a table data.","body":"This exception doesn&#39;t have anything to deal with buildsessionfactory However the culprit was a table data."}],"answers":[{"tags":[],"owner":{"account_id":5660305,"reputation":590,"user_id":4478147,"display_name":"Lilac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1566488482,"creation_date":1566488482,"answer_id":57612939,"question_id":57529828,"body_markdown":"I googled for a solution and unfortunately most of the answers that solved for others dint help me.A couple of the most voted answers is mentioning below:\r\n\r\n 1. Use of javaassist.jar and make sure when you use its compatible with your hibernate version. For hibernate 4.3.11 javaassist 3.18 is okay.\r\n 2. Make sure you define matching getters/setters for all your properties.\r\n\r\nMy case was similar to case 2 so if anyone stuck with these errors and if case 1 dint help you, only thing you can do is a full check-up and comparison of your entity class with the table and column name. For me my task was to move the mapping from XML to annotation, and anyone facing issue due to this migration needs to cross-check their entity class with corresponding .hbm.xml files.","title":"Unable to instantiate default tuplizer Exception","body":"<p>I googled for a solution and unfortunately most of the answers that solved for others dint help me.A couple of the most voted answers is mentioning below:</p>\n\n<ol>\n<li>Use of javaassist.jar and make sure when you use its compatible with your hibernate version. For hibernate 4.3.11 javaassist 3.18 is okay.</li>\n<li>Make sure you define matching getters/setters for all your properties.</li>\n</ol>\n\n<p>My case was similar to case 2 so if anyone stuck with these errors and if case 1 dint help you, only thing you can do is a full check-up and comparison of your entity class with the table and column name. For me my task was to move the mapping from XML to annotation, and anyone facing issue due to this migration needs to cross-check their entity class with corresponding .hbm.xml files.</p>\n"}],"owner":{"account_id":5660305,"reputation":590,"user_id":4478147,"display_name":"Lilac"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57612939,"answer_count":1,"score":2,"last_activity_date":1657744078,"creation_date":1565981895,"question_id":57529828,"body_markdown":"Recently I updated my hibernate from 3.1 to 4.3 and I am trying to use annotations instead of xml.With Xml everything is working fine and annotation throw up a bunch of exceptions. And the final one I am stuck with is the below stack trace please shed some light on it. I terribly need a help because the stack trace is not giving me any specific area to work on.\r\n\r\nI am using:  \r\nHibernate 4.3  \r\njavaassist 3.18\r\n\r\nI tried to use javaassist jar which everyone suggested but that didn&#39;t help me. However I have my doubts, buildSessionFactory is deprecated for hibernate 4.5 and is this a culprit by any chance?\r\nJust including my HibernateUtils if it of any help\r\n\r\n\r\n```\r\nProperties connProperties = new Properties();\r\n\t\t\t\tconnProperties.setProperty( &quot;hibernate.connection.datasource&quot;, &quot;java:comp/env/&quot; + MASTER_JDBC_RESOURCE_NAME );\r\n\t\t\t\tconfiguration = new Configuration();\r\n\t\t\t\tconfiguration.addProperties(connProperties);\r\n\t\t\t\tsessionFactory = configuration.configure().buildSessionFactory();\r\n\t\t\t\tProperties hibernateProperties = configuration.getProperties();\r\n\t\t\t\tfor (Object k : hibernateProperties.keySet()) {\r\n\t\t\t\t\tSystem.out.println(&quot;Hibernate Key &quot;+k.toString());\r\n\t\t\t\t}\r\n\t\t\t\tString testCon = hibernateProperties.getProperty(&quot;hibernate.test_connections&quot;);\r\n\t\t\t\ttestConnections = StringUtils.stringToBool(testCon);\r\n\r\n```\r\n\r\nMy Stacktrace\r\n\r\n&gt; org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.component.PojoComponentTuplizer]\r\n\tat org.hibernate.tuple.component.ComponentTuplizerFactory.constructTuplizer(ComponentTuplizerFactory.java:101)\r\n\tat org.hibernate.tuple.component.ComponentTuplizerFactory.constructDefaultTuplizer(ComponentTuplizerFactory.java:122)\r\n\tat org.hibernate.tuple.component.ComponentMetamodel.&lt;init&gt;(ComponentMetamodel.java:81)\r\n\tat org.hibernate.mapping.Component.getType(Component.java:180)\r\n\tat org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:322)\r\n\tat org.hibernate.mapping.RootClass.validate(RootClass.java:271)\r\n\tat org.hibernate.cfg.Configuration.validate(Configuration.java:1360)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1851)\r\n\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1930)\r\n\tat wadetech.DB.base.HibernateUtils.&lt;clinit&gt;(HibernateUtils.java:111)\r\n\tat wadetech.DB.base.BaseDAO.&lt;init&gt;(BaseDAO.java:43)\r\n\tat wadetech.DB.DAOS.__MaintenanceDAO.&lt;init&gt;(__MaintenanceDAO.java:10)\r\n\tat com.at.project.utils.runtime.RuntimeModifier.HasExecuted(RuntimeModifier.java:127)\r\n\tat wadetech.listeners.ModificationScriptStartupListener.contextInitialized(ModificationScriptStartupListener.java:47)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5016)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5528)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n\tat org.hibernate.tuple.component.ComponentTuplizerFactory.constructTuplizer(ComponentTuplizerFactory.java:98)\r\n\t... 22 more\r\nCaused by: org.hibernate.PropertyNotFoundException: Could not find a setter for property bytes in class java.lang.String\r\n\tat org.hibernate.property.BasicPropertyAccessor.createSetter(BasicPropertyAccessor.java:246)\r\n\tat org.hibernate.property.BasicPropertyAccessor.getSetter(BasicPropertyAccessor.java:240)\r\n\tat org.hibernate.mapping.Property.getSetter(Property.java:328)\r\n\tat org.hibernate.tuple.component.PojoComponentTuplizer.buildSetter(PojoComponentTuplizer.java:159)\r\n\tat org.hibernate.tuple.component.AbstractComponentTuplizer.&lt;init&gt;(AbstractComponentTuplizer.java:65)\r\n\tat org.hibernate.tuple.component.PojoComponentTuplizer.&lt;init&gt;(PojoComponentTuplizer.java:59)\r\n\t... 27 more\r\n\r\n\r\nThanks for any help","title":"Unable to instantiate default tuplizer Exception","body":"<p>Recently I updated my hibernate from 3.1 to 4.3 and I am trying to use annotations instead of xml.With Xml everything is working fine and annotation throw up a bunch of exceptions. And the final one I am stuck with is the below stack trace please shed some light on it. I terribly need a help because the stack trace is not giving me any specific area to work on.</p>\n<p>I am using:<br />\nHibernate 4.3<br />\njavaassist 3.18</p>\n<p>I tried to use javaassist jar which everyone suggested but that didn't help me. However I have my doubts, buildSessionFactory is deprecated for hibernate 4.5 and is this a culprit by any chance?\nJust including my HibernateUtils if it of any help</p>\n<pre><code>Properties connProperties = new Properties();\n                connProperties.setProperty( &quot;hibernate.connection.datasource&quot;, &quot;java:comp/env/&quot; + MASTER_JDBC_RESOURCE_NAME );\n                configuration = new Configuration();\n                configuration.addProperties(connProperties);\n                sessionFactory = configuration.configure().buildSessionFactory();\n                Properties hibernateProperties = configuration.getProperties();\n                for (Object k : hibernateProperties.keySet()) {\n                    System.out.println(&quot;Hibernate Key &quot;+k.toString());\n                }\n                String testCon = hibernateProperties.getProperty(&quot;hibernate.test_connections&quot;);\n                testConnections = StringUtils.stringToBool(testCon);\n\n</code></pre>\n<p>My Stacktrace</p>\n<blockquote>\n<p>org.hibernate.HibernateException: Unable to instantiate default tuplizer [org.hibernate.tuple.component.PojoComponentTuplizer]\nat org.hibernate.tuple.component.ComponentTuplizerFactory.constructTuplizer(ComponentTuplizerFactory.java:101)\nat org.hibernate.tuple.component.ComponentTuplizerFactory.constructDefaultTuplizer(ComponentTuplizerFactory.java:122)\nat org.hibernate.tuple.component.ComponentMetamodel.(ComponentMetamodel.java:81)\nat org.hibernate.mapping.Component.getType(Component.java:180)\nat org.hibernate.mapping.SimpleValue.isValid(SimpleValue.java:322)\nat org.hibernate.mapping.RootClass.validate(RootClass.java:271)\nat org.hibernate.cfg.Configuration.validate(Configuration.java:1360)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1851)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1930)\nat wadetech.DB.base.HibernateUtils.(HibernateUtils.java:111)\nat wadetech.DB.base.BaseDAO.(BaseDAO.java:43)\nat wadetech.DB.DAOS.__MaintenanceDAO.(__MaintenanceDAO.java:10)\nat com.at.project.utils.runtime.RuntimeModifier.HasExecuted(RuntimeModifier.java:127)\nat wadetech.listeners.ModificationScriptStartupListener.contextInitialized(ModificationScriptStartupListener.java:47)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:5016)\nat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5528)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\nat java.util.concurrent.FutureTask.run(FutureTask.java:262)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.reflect.InvocationTargetException\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:526)\nat org.hibernate.tuple.component.ComponentTuplizerFactory.constructTuplizer(ComponentTuplizerFactory.java:98)\n... 22 more\nCaused by: org.hibernate.PropertyNotFoundException: Could not find a setter for property bytes in class java.lang.String\nat org.hibernate.property.BasicPropertyAccessor.createSetter(BasicPropertyAccessor.java:246)\nat org.hibernate.property.BasicPropertyAccessor.getSetter(BasicPropertyAccessor.java:240)\nat org.hibernate.mapping.Property.getSetter(Property.java:328)\nat org.hibernate.tuple.component.PojoComponentTuplizer.buildSetter(PojoComponentTuplizer.java:159)\nat org.hibernate.tuple.component.AbstractComponentTuplizer.(AbstractComponentTuplizer.java:65)\nat org.hibernate.tuple.component.PojoComponentTuplizer.(PojoComponentTuplizer.java:59)\n... 27 more</p>\n</blockquote>\n<p>Thanks for any help</p>\n"},{"tags":["java","spring","postgresql","spring-data-jpa","foreign-keys"],"answers":[{"tags":[],"owner":{"account_id":10851618,"reputation":552,"user_id":7979194,"display_name":"Nam Nguyễn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657696607,"creation_date":1657696607,"answer_id":72962299,"question_id":72956873,"body_markdown":"As I see that you already using \r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n\r\nSo you knew that every update on Department with list Employee can do &quot;many&quot; things.\r\n\r\nSo Employee do the same to Roles (your list) but the magic auto save/update won&#39;t help.\r\n\r\nCondition now:\r\n- Save action in repo\r\n- List of Employee\r\n- List of Role in employee (each object don&#39;t have Department Id)\r\n\r\nAs I understand: \r\n\r\nYou have Department that 1-n to Employee (Employee can only have 1 Department)\r\n\r\nEmployee can have many Role\r\n\r\nAs normal logic: Deparment 1-n Employee 1-n Roles\r\n\r\n&gt; But some how you want Role have object of Department also.\r\n\r\nSo my first suggestion is change of logic code.\r\n\r\nAnd second: a way to solve your problem!\r\n\r\n### Create Department\r\nwhen add Role to Employee, please access and add deparment_id also.\r\n(Department save List Employee, when save Employee - list Roles also save with same logic, just make sure to add it)","title":"Spring Data JPA: How to set 2 foreign keys on the child entity during insert","body":"<p>As I see that you already using</p>\n<pre><code>@OneToMany(cascade = CascadeType.ALL)\n</code></pre>\n<p>So you knew that every update on Department with list Employee can do &quot;many&quot; things.</p>\n<p>So Employee do the same to Roles (your list) but the magic auto save/update won't help.</p>\n<p>Condition now:</p>\n<ul>\n<li>Save action in repo</li>\n<li>List of Employee</li>\n<li>List of Role in employee (each object don't have Department Id)</li>\n</ul>\n<p>As I understand:</p>\n<p>You have Department that 1-n to Employee (Employee can only have 1 Department)</p>\n<p>Employee can have many Role</p>\n<p>As normal logic: Deparment 1-n Employee 1-n Roles</p>\n<blockquote>\n<p>But some how you want Role have object of Department also.</p>\n</blockquote>\n<p>So my first suggestion is change of logic code.</p>\n<p>And second: a way to solve your problem!</p>\n<h3>Create Department</h3>\n<p>when add Role to Employee, please access and add deparment_id also.\n(Department save List Employee, when save Employee - list Roles also save with same logic, just make sure to add it)</p>\n"}],"owner":{"account_id":18283785,"reputation":11,"user_id":13312140,"display_name":"Coder305"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":687,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657743571,"creation_date":1657650578,"question_id":72956873,"body_markdown":"I am new to Spring JPA and I am having some trouble with setting foreign keys on an entity when inserting a row.\r\n\r\nI have the following entities\r\n\r\n```java\r\n@Entity\r\npublic class Department {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n    private String departmentName;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;department_id&quot;)\r\n    List&lt;Employee&gt; employees;\r\n}\r\n```\r\n```java\r\n@Entity\r\npublic class Employee {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n    private String employeeName;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;employee_id&quot;)\r\n    List&lt;Role&gt; roles;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;department_id&quot;, insertable = false, updatable = false)\r\n    private Department department;\r\n}\r\n```\r\n```java\r\n@Entity\r\npublic class Role {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n    private String roleName;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;employee_id&quot;, insertable = false, updatable = false)\r\n    private Employee employee;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;department_id&quot;, insertable = false, updatable = false)\r\n    private Department department;\r\n}\r\n```\r\n\r\n\r\nAnd here is the Department Repository:\r\n```java\r\n@Repository\r\npublic interface DepartmentRepository extends JpaRepository&lt;Department, Integer&gt; {\r\n\r\n    Department findById(long id);\r\n\r\n}\r\n```\r\n\r\nWith this approach, the ```department_id``` in the ```employee``` table and the ```employee_id``` in the ```role``` table is set correctly when I save a ```Department``` object using ```departmentRepository.save(department)```. \r\n\r\nBut I also want it to set the ```department_id``` in the ```role``` table. How can this be achieved? Currently the relationship Department and Role is indirect (i.e it is through Employee) but would I have to create a direct relationship between the 2 entities? I am not sure how to achieve this though. Any input will be appreciated.\r\n\r\nEdit:\r\n\r\nI want to model the relationship in this [Entity Relationship diagram][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ooDoy.png","title":"Spring Data JPA: How to set 2 foreign keys on the child entity during insert","body":"<p>I am new to Spring JPA and I am having some trouble with setting foreign keys on an entity when inserting a row.</p>\n<p>I have the following entities</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Department {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    private String departmentName;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;department_id&quot;)\n    List&lt;Employee&gt; employees;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    private String employeeName;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;employee_id&quot;)\n    List&lt;Role&gt; roles;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;department_id&quot;, insertable = false, updatable = false)\n    private Department department;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Role {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    private String roleName;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;employee_id&quot;, insertable = false, updatable = false)\n    private Employee employee;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;department_id&quot;, insertable = false, updatable = false)\n    private Department department;\n}\n</code></pre>\n<p>And here is the Department Repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface DepartmentRepository extends JpaRepository&lt;Department, Integer&gt; {\n\n    Department findById(long id);\n\n}\n</code></pre>\n<p>With this approach, the <code>department_id</code> in the <code>employee</code> table and the <code>employee_id</code> in the <code>role</code> table is set correctly when I save a <code>Department</code> object using <code>departmentRepository.save(department)</code>.</p>\n<p>But I also want it to set the <code>department_id</code> in the <code>role</code> table. How can this be achieved? Currently the relationship Department and Role is indirect (i.e it is through Employee) but would I have to create a direct relationship between the 2 entities? I am not sure how to achieve this though. Any input will be appreciated.</p>\n<p>Edit:</p>\n<p>I want to model the relationship in this <a href=\"https://i.stack.imgur.com/ooDoy.png\" rel=\"nofollow noreferrer\">Entity Relationship diagram</a></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657743497,"creation_date":1657712967,"answer_id":72965776,"question_id":72965617,"body_markdown":"You are trying to override the bean, but that it is not enabled by default.\r\n\r\nSet `spring.main.allow-bean-definition-overriding=true`\r\n\r\n\r\nor if you use *yml* configuration,\r\n\r\n```\r\nspring:\r\n   main:\r\n     allow-bean-definition-overriding: true\r\n```\r\n\r\nto enable overriding again.\r\n\r\n&gt;**NOTE** : Bean overriding has to be enabled since Spring Boot 2.1,\r\n\r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes","title":"Error Invalid bean definition with name &#39;springSecurityFilterChain&#39; defined in class path resource in addin OAuth2","body":"<p>You are trying to override the bean, but that it is not enabled by default.</p>\n<p>Set <code>spring.main.allow-bean-definition-overriding=true</code></p>\n<p>or if you use <em>yml</em> configuration,</p>\n<pre><code>spring:\n   main:\n     allow-bean-definition-overriding: true\n</code></pre>\n<p>to enable overriding again.</p>\n<blockquote>\n<p><strong>NOTE</strong> : Bean overriding has to be enabled since Spring Boot 2.1,</p>\n</blockquote>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1-Release-Notes</a></p>\n"}],"owner":{"account_id":20222092,"reputation":109,"user_id":14831240,"display_name":"kiki keke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3635,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657743497,"creation_date":1657712276,"question_id":72965617,"body_markdown":"I have application `Java11` spring boot with CRUD api work find, and I try to add `OpenId` connect plug  for consume, I have error on my bean.\r\n\r\n\r\n&gt;org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name &#39;springSecurityFilterChain&#39; defined in class path resource [com/mypackage/hexa/application/OAuth2SecurityConfig.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2SecurityConfig; factoryMethodName=springSecurityFilterChain; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/mypackage/hexa/application/OAuth2SecurityConfig.class]] for bean &#39;springSecurityFilterChain&#39;: There is already [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration; factoryMethodName=springSecurityFilterChain; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]] bound.\r\n\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class OAuth2SecurityConfig {\r\n    @Bean\r\n    SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\r\n        http\r\n                .authorizeExchange(exchanges -&gt;\r\n                        exchanges\r\n                                .pathMatchers(&quot;/&quot;, &quot;/error&quot;).permitAll()\r\n                                .anyExchange().authenticated()\r\n                )\r\n                .oauth2Login((Customizer&lt;ServerHttpSecurity.OAuth2LoginSpec&gt;) withDefaults());\r\n        return http.build();\r\n    }\r\n}\r\n@Controller\r\npublic class UserController {\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index(){\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    public String user(Model model,\r\n                       @AuthenticationPrincipal OidcUser oidcUser) {\r\n        model.addAttribute(&quot;userName&quot;, oidcUser.getName());\r\n        model.addAttribute(&quot;audience&quot;, oidcUser.getAudience());\r\n        return &quot;user&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n&gt;org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;oauth2SecurityFilterChain&#39; defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2WebSecurityConfiguration$OAuth2SecurityFilterChainConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;oauth2SecurityFilterChain&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientRegistrationRepository&#39; defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2ClientRegistrationRepositoryConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository]: Factory method &#39;clientRegistrationRepository&#39; threw exception; nested exception is java.lang.IllegalArgumentException: Unable to resolve Configuration with the provided Issuer of &quot;https://idsvr.example.com/oauth/v2/oauth-anonymous&quot;","title":"Error Invalid bean definition with name &#39;springSecurityFilterChain&#39; defined in class path resource in addin OAuth2","body":"<p>I have application <code>Java11</code> spring boot with CRUD api work find, and I try to add <code>OpenId</code> connect plug  for consume, I have error on my bean.</p>\n<blockquote>\n<p>org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'springSecurityFilterChain' defined in class path resource [com/mypackage/hexa/application/OAuth2SecurityConfig.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=OAuth2SecurityConfig; factoryMethodName=springSecurityFilterChain; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/mypackage/hexa/application/OAuth2SecurityConfig.class]] for bean 'springSecurityFilterChain': There is already [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration; factoryMethodName=springSecurityFilterChain; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]] bound.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class OAuth2SecurityConfig {\n    @Bean\n    SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n        http\n                .authorizeExchange(exchanges -&gt;\n                        exchanges\n                                .pathMatchers(&quot;/&quot;, &quot;/error&quot;).permitAll()\n                                .anyExchange().authenticated()\n                )\n                .oauth2Login((Customizer&lt;ServerHttpSecurity.OAuth2LoginSpec&gt;) withDefaults());\n        return http.build();\n    }\n}\n@Controller\npublic class UserController {\n    @GetMapping(&quot;/&quot;)\n    public String index(){\n        return &quot;index&quot;;\n    }\n\n    @GetMapping(&quot;/user&quot;)\n    public String user(Model model,\n                       @AuthenticationPrincipal OidcUser oidcUser) {\n        model.addAttribute(&quot;userName&quot;, oidcUser.getName());\n        model.addAttribute(&quot;audience&quot;, oidcUser.getAudience());\n        return &quot;user&quot;;\n    }\n}\n</code></pre>\n<blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'oauth2SecurityFilterChain' defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2WebSecurityConfiguration$OAuth2SecurityFilterChainConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'oauth2SecurityFilterChain' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientRegistrationRepository' defined in class path resource [org/springframework/boot/autoconfigure/security/oauth2/client/servlet/OAuth2ClientRegistrationRepositoryConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.oauth2.client.registration.InMemoryClientRegistrationRepository]: Factory method 'clientRegistrationRepository' threw exception; nested exception is java.lang.IllegalArgumentException: Unable to resolve Configuration with the provided Issuer of &quot;https://idsvr.example.com/oauth/v2/oauth-anonymous&quot;</p>\n</blockquote>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1657739862,"post_id":72971509,"comment_id":128884963,"body_markdown":"What do you mean by &quot;Respond end when done&quot;?","body":"What do you mean by &quot;Respond end when done&quot;?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1657741140,"post_id":72971509,"comment_id":128885350,"body_markdown":"Hello and welcome. What you&#39;re trying to do is unclear. Please [edit] your question to include an example run (inputs and outputs) that you expect and what you&#39;re getting instead.","body":"Hello and welcome. What you&#39;re trying to do is unclear. Please <a href=\"https://stackoverflow.com/posts/72971509/edit\">edit</a> your question to include an example run (inputs and outputs) that you expect and what you&#39;re getting instead."},{"owner":{"account_id":25801927,"reputation":1,"user_id":19544195,"display_name":"Adam"},"score":0,"creation_date":1657742633,"post_id":72971509,"comment_id":128885819,"body_markdown":"@ScottHunter This is just display text. The end goal is to issue &quot;end&quot; and it stops adding to the arraylist and moves onto the randomizer.","body":"@ScottHunter This is just display text. The end goal is to issue &quot;end&quot; and it stops adding to the arraylist and moves onto the randomizer."},{"owner":{"account_id":25801927,"reputation":1,"user_id":19544195,"display_name":"Adam"},"score":0,"creation_date":1657742655,"post_id":72971509,"comment_id":128885826,"body_markdown":"@FedericoklezCulloca Just edited the post. Let me know if that still isn&#39;t clear.","body":"@FedericoklezCulloca Just edited the post. Let me know if that still isn&#39;t clear."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1657742833,"post_id":72971509,"comment_id":128885882,"body_markdown":"So something like `if(answer.equals(&quot;end&quot;)) break;` before adding `answer` to the `ArrayList` should do the trick.","body":"So something like <code>if(answer.equals(&quot;end&quot;)) break;</code> before adding <code>answer</code> to the <code>ArrayList</code> should do the trick."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657802894,"post_id":72971509,"comment_id":128900416,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657743258,"creation_date":1657743258,"answer_id":72972118,"question_id":72971509,"body_markdown":"You could use the while loop with different condition. Pseudo code example:\r\n```\r\nScanner scanner = //init;\r\nString answer = scanner.nextLine();\r\nwhile(!answer.equals(&quot;end&quot;)) {\r\n  //add to list\r\n  answer = //read next input;\r\n}\r\n//do randomizing stuff\r\n\r\n```","title":"Stop Infinite Arraylist With Custom Command","body":"<p>You could use the while loop with different condition. Pseudo code example:</p>\n<pre><code>Scanner scanner = //init;\nString answer = scanner.nextLine();\nwhile(!answer.equals(&quot;end&quot;)) {\n  //add to list\n  answer = //read next input;\n}\n//do randomizing stuff\n\n</code></pre>\n"}],"owner":{"account_id":25801927,"reputation":1,"user_id":19544195,"display_name":"Adam"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657743258,"creation_date":1657739662,"question_id":72971509,"body_markdown":"I&#39;m a complete beginner doing some made up projects to teach myself Java. The goal for my script is to allow input into the arraylist until a given exit command is provided. the sc.next() is just left over form my last attempt but my Google-Fu hasn&#39;t led me to the answer on how to setup a custom exit command for the arraylist.\r\n\r\nLooking for ideas to complete this mission.\r\n```\r\nint i = 0;\r\nwhile (sc.Next()) {\r\n    System.out.println(&quot;Respond end when done. Please enter dinner option #&quot; + (i + 1));\r\n    String answer = sc.nextLine();\r\n    Dinner.add(answer);\r\n    i++;\r\n}\r\n\r\n//Randomizing the arraylist to print output\r\nRandom r = new Random();\r\n{\r\n    int randomitem = r.nextInt(Dinner.size());\r\n    String randomElement = Dinner.get(randomitem);\r\n    System.out.println(&quot;Random Element = &quot; + randomElement);\r\n}\r\n```\r\n\r\nExample of output would be...\r\n\r\n    Respond end when done. Please enter dinner option #1\r\n    American\r\n    Respond end when done. Please enter dinner option #2\r\n    Chinese\r\n    Respond end when done. Please enter dinner option #3\r\n    Pizza\r\n    Respond end when done. Please enter dinner option #4\r\n    Thai\r\n    Respond end when done. Please enter dinner option #5\r\n    end\r\n\r\nGoal is to enter &quot;end&quot; then it would move onto the randomizer that would output 1 of the arraylist items.","title":"Stop Infinite Arraylist With Custom Command","body":"<p>I'm a complete beginner doing some made up projects to teach myself Java. The goal for my script is to allow input into the arraylist until a given exit command is provided. the sc.next() is just left over form my last attempt but my Google-Fu hasn't led me to the answer on how to setup a custom exit command for the arraylist.</p>\n<p>Looking for ideas to complete this mission.</p>\n<pre><code>int i = 0;\nwhile (sc.Next()) {\n    System.out.println(&quot;Respond end when done. Please enter dinner option #&quot; + (i + 1));\n    String answer = sc.nextLine();\n    Dinner.add(answer);\n    i++;\n}\n\n//Randomizing the arraylist to print output\nRandom r = new Random();\n{\n    int randomitem = r.nextInt(Dinner.size());\n    String randomElement = Dinner.get(randomitem);\n    System.out.println(&quot;Random Element = &quot; + randomElement);\n}\n</code></pre>\n<p>Example of output would be...</p>\n<pre><code>Respond end when done. Please enter dinner option #1\nAmerican\nRespond end when done. Please enter dinner option #2\nChinese\nRespond end when done. Please enter dinner option #3\nPizza\nRespond end when done. Please enter dinner option #4\nThai\nRespond end when done. Please enter dinner option #5\nend\n</code></pre>\n<p>Goal is to enter &quot;end&quot; then it would move onto the randomizer that would output 1 of the arraylist items.</p>\n"},{"tags":["java","thermal-printer","pos","escpos"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1657743871,"post_id":72971502,"comment_id":128886246,"body_markdown":"Do what Hiran Chaudhuri said - you absolutely need to find the manual!  ADDITIONAL NOTES: 1) you apparently have a &quot;Terow XP-58 Thermal Receipt Printer&quot;.  2) Per a .pdf I found from a Google search: &quot;ESC/POS compatible; setting DIP switch to choose characters and fonts&quot;, and &quot;Support international languages&quot;.  Good luck!","body":"Do what Hiran Chaudhuri said - you absolutely need to find the manual!  ADDITIONAL NOTES: 1) you apparently have a &quot;Terow XP-58 Thermal Receipt Printer&quot;.  2) Per a .pdf I found from a Google search: &quot;ESC/POS compatible; setting DIP switch to choose characters and fonts&quot;, and &quot;Support international languages&quot;.  Good luck!"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657743169,"creation_date":1657743169,"answer_id":72972104,"question_id":72971502,"body_markdown":"It&#39;s been a long time, but...\r\n\r\nYou can run the printer in `graphics mode` where you control each and every dot. And you can run it in `text mode` where you send characters and the printer needs to know how to print them. I guess you are using text mode currently.\r\n\r\nVery likely you just need to configure the charset/codepage for your printer to match your Java program&#39;s output. From what you state the printer may be set to some Japanese charset. Grab the vendor&#39;s manual to see how it is configured.","title":"Is it possible to force a thermal printer to print a specific character? (Dollar sign is printing as Yen)","body":"<p>It's been a long time, but...</p>\n<p>You can run the printer in <code>graphics mode</code> where you control each and every dot. And you can run it in <code>text mode</code> where you send characters and the printer needs to know how to print them. I guess you are using text mode currently.</p>\n<p>Very likely you just need to configure the charset/codepage for your printer to match your Java program's output. From what you state the printer may be set to some Japanese charset. Grab the vendor's manual to see how it is configured.</p>\n"}],"owner":{"account_id":6259816,"reputation":823,"user_id":4867303,"accept_rate":75,"display_name":"CeePlusPlus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":809,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657743169,"creation_date":1657739630,"question_id":72971502,"body_markdown":"I bought a cheap thermal receipt printer for some practice (Amazon B07848ZBXT).  It seems to try to adhere to the ESC/POS standard.\r\n\r\nAs best I can tell it has 2 fonts controlled by bytes {27, 77, 0} and {27, 77, 1}, the latter being a smaller font. However when I&#39;m using the smaller font, `$` prints as `&#165;` (see demo print).  Their own Amazon image has this also.  Would there be a way to say stop replacing character codes or is this a &#39;low level&#39; replacement that probably can&#39;t be overridden?\r\n\r\nFor my code I&#39;m using Java.  I store everything in String and get a byte array at the end and print it via `javax.print`.  A sample is below.\r\n\r\n\r\n[![Picture of receipt where $ is shown in bigger font but &#165; appears in the smaller font][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bZHyY.jpg\r\n\r\n\r\n```Java\r\nfinal byte[] Init = {27, 64};\r\nString stringToPrint= new String(Init);\r\n\r\nbyte[] feedStart = {27,101,(byte)2};  //(Side note, is there someway to combine the byte[] initialization and the String() usage?)\r\nstringToPrint += new String(feedStart);\r\nstringToPrint += &quot;My text&quot;;\r\n\r\nbyte[] feed = {27,101,(byte)1};\r\nstringToPrint += new String(feed );\r\n\r\nbyte[] feedAndCut = {29, &#39;V&#39;, 66, 0};\r\nstringToPrint += new String(feedAndCut );\r\n\r\nbyte[] byteArray = stringToPrint.getBytes();\r\n\r\nAttributeSet attrSet = new HashPrintServiceAttributeSet(new PrinterName(PRINTER_NAME, null));\r\nDocPrintJob job = PrintServiceLookup.lookupPrintServices(null, attrSet)[0].createPrintJob();\r\n\r\nDocFlavor flavor = DocFlavor.BYTE_ARRAY.AUTOSENSE;\r\nDoc doc = new SimpleDoc(byteArray, flavor, null);\r\nPrintJobWatcher pjDone = new PrintJobWatcher(job);\r\n\r\njob.print(doc, null);\r\n```","title":"Is it possible to force a thermal printer to print a specific character? (Dollar sign is printing as Yen)","body":"<p>I bought a cheap thermal receipt printer for some practice (Amazon B07848ZBXT).  It seems to try to adhere to the ESC/POS standard.</p>\n<p>As best I can tell it has 2 fonts controlled by bytes {27, 77, 0} and {27, 77, 1}, the latter being a smaller font. However when I'm using the smaller font, <code>$</code> prints as <code>¥</code> (see demo print).  Their own Amazon image has this also.  Would there be a way to say stop replacing character codes or is this a 'low level' replacement that probably can't be overridden?</p>\n<p>For my code I'm using Java.  I store everything in String and get a byte array at the end and print it via <code>javax.print</code>.  A sample is below.</p>\n<p><a href=\"https://i.stack.imgur.com/bZHyY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bZHyY.jpg\" alt=\"Picture of receipt where $ is shown in bigger font but ¥ appears in the smaller font\" /></a></p>\n<pre><code>final byte[] Init = {27, 64};\nString stringToPrint= new String(Init);\n\nbyte[] feedStart = {27,101,(byte)2};  //(Side note, is there someway to combine the byte[] initialization and the String() usage?)\nstringToPrint += new String(feedStart);\nstringToPrint += &quot;My text&quot;;\n\nbyte[] feed = {27,101,(byte)1};\nstringToPrint += new String(feed );\n\nbyte[] feedAndCut = {29, 'V', 66, 0};\nstringToPrint += new String(feedAndCut );\n\nbyte[] byteArray = stringToPrint.getBytes();\n\nAttributeSet attrSet = new HashPrintServiceAttributeSet(new PrinterName(PRINTER_NAME, null));\nDocPrintJob job = PrintServiceLookup.lookupPrintServices(null, attrSet)[0].createPrintJob();\n\nDocFlavor flavor = DocFlavor.BYTE_ARRAY.AUTOSENSE;\nDoc doc = new SimpleDoc(byteArray, flavor, null);\nPrintJobWatcher pjDone = new PrintJobWatcher(job);\n\njob.print(doc, null);\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":380613,"reputation":1356,"user_id":734744,"accept_rate":72,"display_name":"Sameer Naik"},"score":0,"creation_date":1657737619,"post_id":72970761,"comment_id":128884243,"body_markdown":"You need to find why profilePicUrl is null. What part of your code is supposed to set its value?","body":"You need to find why profilePicUrl is null. What part of your code is supposed to set its value?"},{"owner":{"account_id":22510311,"reputation":21,"user_id":16705339,"display_name":"user16705339"},"score":0,"creation_date":1657782218,"post_id":72970761,"comment_id":128893231,"body_markdown":"@SameerNaik Actually, I am new in Android Studio and I am trying to find the why this is null. I am making this app with the help of a YouTube Tutorial. Thanks though...","body":"@SameerNaik Actually, I am new in Android Studio and I am trying to find the why this is null. I am making this app with the help of a YouTube Tutorial. Thanks though..."},{"owner":{"account_id":380613,"reputation":1356,"user_id":734744,"accept_rate":72,"display_name":"Sameer Naik"},"score":0,"creation_date":1657828741,"post_id":72970761,"comment_id":128909734,"body_markdown":"Please check your source code and see where profilePicUrl is getting assigned a value. or share you code here.","body":"Please check your source code and see where profilePicUrl is getting assigned a value. or share you code here."},{"owner":{"account_id":22510311,"reputation":21,"user_id":16705339,"display_name":"user16705339"},"score":1,"creation_date":1657862346,"post_id":72970761,"comment_id":128915208,"body_markdown":"@SameerNaik I actually solved it by clicking Alt + Enter. Thanks BTW.","body":"@SameerNaik I actually solved it by clicking Alt + Enter. Thanks BTW."}],"owner":{"account_id":22510311,"reputation":21,"user_id":16705339,"display_name":"user16705339"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657743096,"creation_date":1657735586,"question_id":72970761,"body_markdown":"**Code:**\r\n```java\r\nassert profilePicUrl !=null;\r\nif(!profilePicUrl.isEmpty()){\r\n    // set profile pic to circle image view\r\n    Picasso.get().load(profilePicUrl).into(userProfilePic);\r\n}\r\n```\r\n**Error:**\r\n```\r\njava.lang.AssertionError\r\n        at com.nsstudio.monkeychat.MainActivity$1.onDataChange(MainActivity.java:58)\r\n        at com.google.firebase.database.Query$1.onDataChange(Query.java:191)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:873)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n```\r\n\r\nThe code `assert profilePicUrl !=null;` is the 58th line of the whole code.\r\n Now I need solution how I can Solve it.","title":"Getting the problem java.lang.AssertionError while trying to add assert profilePicUrl != null;","body":"<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>assert profilePicUrl !=null;\nif(!profilePicUrl.isEmpty()){\n    // set profile pic to circle image view\n    Picasso.get().load(profilePicUrl).into(userProfilePic);\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>java.lang.AssertionError\n        at com.nsstudio.monkeychat.MainActivity$1.onDataChange(MainActivity.java:58)\n        at com.google.firebase.database.Query$1.onDataChange(Query.java:191)\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n<p>The code <code>assert profilePicUrl !=null;</code> is the 58th line of the whole code.\nNow I need solution how I can Solve it.</p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1657738140,"post_id":72971192,"comment_id":128884415,"body_markdown":"JFrame is the swing framework, and Frame is the awt framework. You&#39;re essentially using two different UI implementations at that point (swing was an extension of awt). You definitely want `JFrame` if you are using swing in other components (e.g. `JPanel`)","body":"JFrame is the swing framework, and Frame is the awt framework. You&#39;re essentially using two different UI implementations at that point (swing was an extension of awt). You definitely want <code>JFrame</code> if you are using swing in other components (e.g. <code>JPanel</code>)"},{"owner":{"account_id":24305279,"reputation":7,"user_id":18248135,"display_name":"Kevin Adams"},"score":0,"creation_date":1657738249,"post_id":72971192,"comment_id":128884444,"body_markdown":"What would be the best way to fix it? Is leaving it as Frame and using Panel instead of JPanel a good solution?","body":"What would be the best way to fix it? Is leaving it as Frame and using Panel instead of JPanel a good solution?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1657738472,"post_id":72971192,"comment_id":128884509,"body_markdown":"For one, you should still be calling `super.paint(g);` in your `#paint` method if it was overridden. Secondly, I wouldn&#39;t override the `#paint` of `JFrame`, but rather I would add a `TextComponent` to the `JPanel`, updating the position of it accordingly when a click is triggered.","body":"For one, you should still be calling <code>super.paint(g);</code> in your <code>#paint</code> method if it was overridden. Secondly, I wouldn&#39;t override the <code>#paint</code> of <code>JFrame</code>, but rather I would add a <code>TextComponent</code> to the <code>JPanel</code>, updating the position of it accordingly when a click is triggered."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657742298,"creation_date":1657739363,"answer_id":72971448,"question_id":72971192,"body_markdown":"The coordinates look awkward because the MouseListener is on the Frame, not the Panel. The coordinates will always be in the component&#39;s coordinate system that the listener is attached to.\r\nSo if you do the rendering in the JPanel, why not attach the MouseListener to that JPanel?\r\n\r\nWhile AWT is a heavy weight UI framework (every AWT component has some native UI representation such as X Widget or a Windows &#39;window&#39;), Swing is a lightweight framework. Only the root component JWindow, JFrame or JDialog have native representations, the rest is within the JVM. When mixing components you need to know about this difference. \r\n\r\nSee also https://en.wikipedia.org/wiki/Abstract_Window_Toolkit#Mixing_AWT_and_Swing_components\r\nUmmmm, I just learned that the problem I was referring to may have been fixed since Java 6...\r\n\r\nSomehow I felt like creating a small demo using Swing only:\r\n\r\n    package com.mycompany.test;\r\n    \r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.Point;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class TestPanel extends JPanel {\r\n        \r\n        private Point clickPosition;\r\n    \r\n        public TestPanel() {\r\n            addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mousePressed(MouseEvent e) {\r\n                    clickPosition = e.getPoint();\r\n                    repaint();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            if (clickPosition != null) {\r\n                g.setColor(Color.BLACK);\r\n                g.drawLine(clickPosition.x-5, clickPosition.y, clickPosition.x+5, clickPosition.y);\r\n                g.drawLine(clickPosition.x, clickPosition.y-5, clickPosition.x, clickPosition.y+5);\r\n                g.drawString(String.format(&quot;(%d, %d)&quot;, clickPosition.x, clickPosition.y), clickPosition.x+5, clickPosition.y-5);\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    JFrame f = new JFrame();\r\n                    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    f.add(new TestPanel());\r\n                    f.pack();\r\n                    f.setLocationRelativeTo(null);\r\n                    f.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    }\r\n","title":"why does simply switching from Frame to JFrame cause such a big difference?","body":"<p>The coordinates look awkward because the MouseListener is on the Frame, not the Panel. The coordinates will always be in the component's coordinate system that the listener is attached to.\nSo if you do the rendering in the JPanel, why not attach the MouseListener to that JPanel?</p>\n<p>While AWT is a heavy weight UI framework (every AWT component has some native UI representation such as X Widget or a Windows 'window'), Swing is a lightweight framework. Only the root component JWindow, JFrame or JDialog have native representations, the rest is within the JVM. When mixing components you need to know about this difference.</p>\n<p>See also <a href=\"https://en.wikipedia.org/wiki/Abstract_Window_Toolkit#Mixing_AWT_and_Swing_components\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Abstract_Window_Toolkit#Mixing_AWT_and_Swing_components</a>\nUmmmm, I just learned that the problem I was referring to may have been fixed since Java 6...</p>\n<p>Somehow I felt like creating a small demo using Swing only:</p>\n<pre><code>package com.mycompany.test;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Point;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class TestPanel extends JPanel {\n    \n    private Point clickPosition;\n\n    public TestPanel() {\n        addMouseListener(new MouseAdapter() {\n            @Override\n            public void mousePressed(MouseEvent e) {\n                clickPosition = e.getPoint();\n                repaint();\n            }\n        });\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        if (clickPosition != null) {\n            g.setColor(Color.BLACK);\n            g.drawLine(clickPosition.x-5, clickPosition.y, clickPosition.x+5, clickPosition.y);\n            g.drawLine(clickPosition.x, clickPosition.y-5, clickPosition.x, clickPosition.y+5);\n            g.drawString(String.format(&quot;(%d, %d)&quot;, clickPosition.x, clickPosition.y), clickPosition.x+5, clickPosition.y-5);\n        }\n    }\n    \n    public static void main(String[] args) {\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                JFrame f = new JFrame();\n                f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                f.add(new TestPanel());\n                f.pack();\n                f.setLocationRelativeTo(null);\n                f.setVisible(true);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24305279,"reputation":7,"user_id":18248135,"display_name":"Kevin Adams"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657743083,"creation_date":1657737933,"question_id":72971192,"body_markdown":"This code displays x and y points based on where you click. I want to add a JPanel so that the frame does not start measuring from the title bar which is unreachable to the user.\r\n\r\nEvery time I switch from Frame to JFrame I get this:\r\n\r\n[example][1]\r\n\r\nThe previous click does not disappear... What is the easiest way to fix this or am i able to add a JPanel on a Frame?\r\n\r\nBelow is my code:\r\n\r\n```/*File Proj07Runner.java\r\n************************************************************/\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\nimport java.awt.Color;\r\n\r\npublic class Proj07Runner {\r\n  Proj07Runner(){\r\n    System.out.println(\r\n    &quot;Terminal text&quot;);\r\n    GUI gui = new GUI(); //instantiate a GUI\r\n  }//end main\r\n}\r\n\r\n**Here is where switching from Frame to JFrame causes the change**\r\nclass MyFrame extends JFrame{\r\n  int clickX;\r\n  int clickY;\r\n\r\n  public void paint(Graphics g){\r\n    g.setColor(Color.BLACK);\r\n    g.drawString(\r\n             &quot;&quot; + clickX + &quot;, &quot; + clickY, clickX, clickY);\r\n  }//end paint()\r\n}\r\n\r\n\r\nclass GUI {\r\n  public GUI(){//constructor\r\n    //Create a new JFrame object, set size, title, etc.\r\n    MyFrame displayWindow = new MyFrame();\r\n    JPanel myPanel = new JPanel();\r\n    displayWindow.setSize(300,100);\r\n    displayWindow.setTitle(&quot;Title&quot;);\r\n    myPanel.setLayout(new FlowLayout(FlowLayout.CENTER, 0, 0));\r\n\r\n\r\n    displayWindow.setVisible(true);\r\n    //Instantiate and register an anonymous Listener;\r\n    // object which will terminate the program when the;\r\n    // user closes the JFrame.\r\n    displayWindow.addWindowListener(new WProc1());\r\n\r\n    myPanel.addMouseListener(\r\n                             new MouseProc(displayWindow));\r\n    displayWindow.addMouseListener(\r\n                             new MouseProc(displayWindow));\r\n                             \r\n          \r\n  }\r\n}\r\n\r\n//This listener class monitors for mouse presses and;\r\n// displays the coordinates of the mouse pointer when the\r\n// mouse is pressed on the source object. Note that this\r\n// class extends is an adapter class.\r\nclass MouseProc extends MouseAdapter{\r\n  MyFrame refToWin; //save a reference to the source here\r\n  MouseProc(MyFrame inWin){//constructor\r\n    refToWin = inWin;//save ref to window\r\n  }//end constructor\r\n\r\n  //Override the mousePressed method to determine and;\r\n  // display the coordinates when the mouse is pressed.\r\n  public void mousePressed(MouseEvent e){\r\n    //Get X and Y coordinates of mouse pointer and store\r\n    // in an instance variable of the JFrame object\r\n    refToWin.clickX = e.getX();\r\n    refToWin.clickY = e.getY();\r\n    //refToWin.clearRect(0,0,300,100);\r\n\r\n    // Force the JFrame object to be repainted in order to\r\n    // display the coordinate information.\r\n    refToWin.repaint();\r\n  }//end mousePressed()\r\n}\r\n\r\n//The following listener is used to terminate the program\r\n// when the user closes the frame.  Note that this class\r\n// extends an adapter class.\r\nclass WProc1 extends WindowAdapter{\r\n  public void windowClosing(WindowEvent e){\r\n    System.exit(0);\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ckq9a.png","title":"why does simply switching from Frame to JFrame cause such a big difference?","body":"<p>This code displays x and y points based on where you click. I want to add a JPanel so that the frame does not start measuring from the title bar which is unreachable to the user.</p>\n<p>Every time I switch from Frame to JFrame I get this:</p>\n<p><a href=\"https://i.stack.imgur.com/Ckq9a.png\" rel=\"nofollow noreferrer\">example</a></p>\n<p>The previous click does not disappear... What is the easiest way to fix this or am i able to add a JPanel on a Frame?</p>\n<p>Below is my code:</p>\n<pre><code>************************************************************/\n\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.awt.Color;\n\npublic class Proj07Runner {\n  Proj07Runner(){\n    System.out.println(\n    &quot;Terminal text&quot;);\n    GUI gui = new GUI(); //instantiate a GUI\n  }//end main\n}\n\n**Here is where switching from Frame to JFrame causes the change**\nclass MyFrame extends JFrame{\n  int clickX;\n  int clickY;\n\n  public void paint(Graphics g){\n    g.setColor(Color.BLACK);\n    g.drawString(\n             &quot;&quot; + clickX + &quot;, &quot; + clickY, clickX, clickY);\n  }//end paint()\n}\n\n\nclass GUI {\n  public GUI(){//constructor\n    //Create a new JFrame object, set size, title, etc.\n    MyFrame displayWindow = new MyFrame();\n    JPanel myPanel = new JPanel();\n    displayWindow.setSize(300,100);\n    displayWindow.setTitle(&quot;Title&quot;);\n    myPanel.setLayout(new FlowLayout(FlowLayout.CENTER, 0, 0));\n\n\n    displayWindow.setVisible(true);\n    //Instantiate and register an anonymous Listener;\n    // object which will terminate the program when the;\n    // user closes the JFrame.\n    displayWindow.addWindowListener(new WProc1());\n\n    myPanel.addMouseListener(\n                             new MouseProc(displayWindow));\n    displayWindow.addMouseListener(\n                             new MouseProc(displayWindow));\n                             \n          \n  }\n}\n\n//This listener class monitors for mouse presses and;\n// displays the coordinates of the mouse pointer when the\n// mouse is pressed on the source object. Note that this\n// class extends is an adapter class.\nclass MouseProc extends MouseAdapter{\n  MyFrame refToWin; //save a reference to the source here\n  MouseProc(MyFrame inWin){//constructor\n    refToWin = inWin;//save ref to window\n  }//end constructor\n\n  //Override the mousePressed method to determine and;\n  // display the coordinates when the mouse is pressed.\n  public void mousePressed(MouseEvent e){\n    //Get X and Y coordinates of mouse pointer and store\n    // in an instance variable of the JFrame object\n    refToWin.clickX = e.getX();\n    refToWin.clickY = e.getY();\n    //refToWin.clearRect(0,0,300,100);\n\n    // Force the JFrame object to be repainted in order to\n    // display the coordinate information.\n    refToWin.repaint();\n  }//end mousePressed()\n}\n\n//The following listener is used to terminate the program\n// when the user closes the frame.  Note that this class\n// extends an adapter class.\nclass WProc1 extends WindowAdapter{\n  public void windowClosing(WindowEvent e){\n    System.exit(0);\n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15338340,"reputation":1012,"user_id":11066033,"display_name":"Willem"},"score":0,"creation_date":1657742313,"post_id":72971892,"comment_id":128885711,"body_markdown":"The inner statements are evaluated first, as you pointed out you use the value returned from the inner statements later in Double.valueOf().\nIt will be the same if you rewrite your code and put the value of plusOne(2) and sum(1, plusOne(2)) in a variable before calling Doubel.valueOf();","body":"The inner statements are evaluated first, as you pointed out you use the value returned from the inner statements later in Double.valueOf(). It will be the same if you rewrite your code and put the value of plusOne(2) and sum(1, plusOne(2)) in a variable before calling Doubel.valueOf();"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1657742613,"post_id":72971892,"comment_id":128885810,"body_markdown":"Try to use a debugger to better understand such things. Any IDE has debugging features builtin.","body":"Try to use a debugger to better understand such things. Any IDE has debugging features builtin."},{"owner":{"account_id":21998319,"reputation":73,"user_id":16270411,"display_name":"d881m"},"score":0,"creation_date":1657832369,"post_id":72971892,"comment_id":128910648,"body_markdown":"@user16320675 Thank you very much for the JLS 15.12.4 reference. Reading it gave me a lot of insight on this question.","body":"@user16320675 Thank you very much for the JLS 15.12.4 reference. Reading it gave me a lot of insight on this question."}],"answers":[{"tags":[],"owner":{"account_id":69201,"reputation":7158,"user_id":201506,"accept_rate":92,"display_name":"geert3"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657742978,"creation_date":1657742399,"answer_id":72971970,"question_id":72971892,"body_markdown":"In order to be able to invoke `Double.valueOf`, we need the value of its argument, i.e. `sum(1, plusOne(2))`. So we try to invoke `sum`. But we need the arguments, i.e. `1` (no problem there) and `plusOne(2)`. \r\n\r\nSo what is actually invoked first is `plusOne(2)`, with result `3`, then we invoke `sum(1, 3)` with result `4`, and finally `Double.valueOf(4)`.\r\n\r\nSo while expressions in general are evaluated left-to-right, arguments to any single expression need to be evaluated before the expression itself can be evaluated. So it would be more complete to call it &quot;left-to-right-innermost-to-outermost&quot; evaluation order.\r\n\r\nAs a more complete example:\r\n\r\n`foo(bar()) + baz(boo())`\r\n\r\nThe execution order would be:\r\n1) bar  -- left innermost\r\n2) foo  -- left outermost\r\n3) boo  -- right innermost\r\n4) baz  -- right outermost","title":"What is the order of execution of method calls in a statement","body":"<p>In order to be able to invoke <code>Double.valueOf</code>, we need the value of its argument, i.e. <code>sum(1, plusOne(2))</code>. So we try to invoke <code>sum</code>. But we need the arguments, i.e. <code>1</code> (no problem there) and <code>plusOne(2)</code>.</p>\n<p>So what is actually invoked first is <code>plusOne(2)</code>, with result <code>3</code>, then we invoke <code>sum(1, 3)</code> with result <code>4</code>, and finally <code>Double.valueOf(4)</code>.</p>\n<p>So while expressions in general are evaluated left-to-right, arguments to any single expression need to be evaluated before the expression itself can be evaluated. So it would be more complete to call it &quot;left-to-right-innermost-to-outermost&quot; evaluation order.</p>\n<p>As a more complete example:</p>\n<p><code>foo(bar()) + baz(boo())</code></p>\n<p>The execution order would be:</p>\n<ol>\n<li>bar  -- left innermost</li>\n<li>foo  -- left outermost</li>\n<li>boo  -- right innermost</li>\n<li>baz  -- right outermost</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15123194,"reputation":126,"user_id":10913399,"display_name":"Arsegg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657742710,"creation_date":1657742710,"answer_id":72972026,"question_id":72971892,"body_markdown":"Like in maths:\r\n\r\n 1. plusOne(2) =&gt; 3\r\n 2. sum(1, 3) =&gt; 4\r\n 3. Double.valueOf(4) =&gt; 4.0\r\n 4. double d = 4.0","title":"What is the order of execution of method calls in a statement","body":"<p>Like in maths:</p>\n<ol>\n<li>plusOne(2) =&gt; 3</li>\n<li>sum(1, 3) =&gt; 4</li>\n<li>Double.valueOf(4) =&gt; 4.0</li>\n<li>double d = 4.0</li>\n</ol>\n"}],"owner":{"account_id":21998319,"reputation":73,"user_id":16270411,"display_name":"d881m"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72971970,"answer_count":2,"score":0,"last_activity_date":1657742978,"creation_date":1657741950,"question_id":72971892,"body_markdown":"Just something I&#39;ve been wondering about, and I wanted to understand how the compiler achieves this task.\r\n\r\n```lang-java\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        double d = Double.valueOf(sum(1, plusOne(2)));\r\n    }\r\n    \r\n   static int sum(int a, int b) {\r\n       return a+b;\r\n   }\r\n   \r\n   static int plusOne(int a) {\r\n       return ++a;\r\n   }\r\n}\r\n```\r\n\r\nDraw your attention to the 3rd line:\r\n```lang-java\r\ndouble d = Double.valueOf(sum(1, plusOne(2)));\r\n```\r\n\r\nMy question here is how is this statement executed? Since I&#39;m pretty sure this qualifies as an expression, it should be evaluated left to right I belive.\r\n\r\nSo my assumption would be that the Double.valueOf() is called first. However, now I&#39;m passing in the method call sum() as the argument to the valueOf() method, and it&#39;s output will serve as the input to valueOf().\r\n\r\nAs this is happening would we assume that the execution of valueOf() is paused as the sum() method is evaluated? Similarly when sum() is executed and plusOne() is used as the second argument of sum(), is it also paused as plusOne() is evaluated?\r\n\r\nI hope my question makes sense. It&#39;s just basically what is the order of evaluation here, and what is  happening in-between? Are the execution of methods being &quot;paused&quot; whilst an argument for a method is being evaluated? Or is something different going on? Perhaps even the inner statements are being evaluated first? Is plusOne() evaluated first, then sum() then valueOf()? I doubt it but I&#39;m here trying to find out\r\n\r\nAny help to answer this question + any links to some further reading material would be very appreciated. ","title":"What is the order of execution of method calls in a statement","body":"<p>Just something I've been wondering about, and I wanted to understand how the compiler achieves this task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class HelloWorld {\n    public static void main(String[] args) {\n        double d = Double.valueOf(sum(1, plusOne(2)));\n    }\n    \n   static int sum(int a, int b) {\n       return a+b;\n   }\n   \n   static int plusOne(int a) {\n       return ++a;\n   }\n}\n</code></pre>\n<p>Draw your attention to the 3rd line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double d = Double.valueOf(sum(1, plusOne(2)));\n</code></pre>\n<p>My question here is how is this statement executed? Since I'm pretty sure this qualifies as an expression, it should be evaluated left to right I belive.</p>\n<p>So my assumption would be that the Double.valueOf() is called first. However, now I'm passing in the method call sum() as the argument to the valueOf() method, and it's output will serve as the input to valueOf().</p>\n<p>As this is happening would we assume that the execution of valueOf() is paused as the sum() method is evaluated? Similarly when sum() is executed and plusOne() is used as the second argument of sum(), is it also paused as plusOne() is evaluated?</p>\n<p>I hope my question makes sense. It's just basically what is the order of evaluation here, and what is  happening in-between? Are the execution of methods being &quot;paused&quot; whilst an argument for a method is being evaluated? Or is something different going on? Perhaps even the inner statements are being evaluated first? Is plusOne() evaluated first, then sum() then valueOf()? I doubt it but I'm here trying to find out</p>\n<p>Any help to answer this question + any links to some further reading material would be very appreciated.</p>\n"},{"tags":["java","maven","jaxb","wsdl"],"owner":{"account_id":6070104,"reputation":1839,"user_id":4739210,"accept_rate":0,"display_name":"Aymen Kanzari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657742960,"creation_date":1657721986,"question_id":72967886,"body_markdown":"I have a `wsdl` file that I get from the client, in my application I generate the `java` classes from the `wsdl` file using the plugin `jaxb2-maven-plugin`, then I build my object and send it to the client\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate-sri-autorizacion-comprobantes&lt;/id&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;xjc&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.basedir}/target/generated-sources/wsdl&lt;/outputDirectory&gt;\r\n                            &lt;packageName&gt;autorizacion&lt;/packageName&gt;\r\n                            &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\r\n                            &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n                            &lt;sources&gt;\r\n                                &lt;source&gt;${project.basedir}/src/main/resources/PayerWebService.wsdl&lt;/source&gt;\r\n                            &lt;/sources&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt; \r\n```\r\n            \r\nThe problem when I send the generated object I get this error:\r\n\r\n```\r\n\r\n&gt; unable to marshal type &quot;autorizacion.ConfirmPayer10&quot; as an element\r\n&gt; because it is missing an @XmlRootElement annotation\r\n\r\n```","title":"@XmlRootElement missing in generated classes","body":"<p>I have a <code>wsdl</code> file that I get from the client, in my application I generate the <code>java</code> classes from the <code>wsdl</code> file using the plugin <code>jaxb2-maven-plugin</code>, then I build my object and send it to the client</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-sri-autorizacion-comprobantes&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xjc&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.basedir}/target/generated-sources/wsdl&lt;/outputDirectory&gt;\n                            &lt;packageName&gt;autorizacion&lt;/packageName&gt;\n                            &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\n                            &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                            &lt;sources&gt;\n                                &lt;source&gt;${project.basedir}/src/main/resources/PayerWebService.wsdl&lt;/source&gt;\n                            &lt;/sources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt; \n</code></pre>\n<p>The problem when I send the generated object I get this error:</p>\n<pre><code>\n&gt; unable to marshal type &quot;autorizacion.ConfirmPayer10&quot; as an element\n&gt; because it is missing an @XmlRootElement annotation\n\n</code></pre>\n"},{"tags":["java","decimalformat"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657717714,"post_id":72965209,"comment_id":128876514,"body_markdown":"In your second example you reset the minimum fraction digits back to zero by applying the pattern.","body":"In your second example you reset the minimum fraction digits back to zero by applying the pattern."}],"answers":[{"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657710425,"creation_date":1657710425,"answer_id":72965254,"question_id":72965209,"body_markdown":"&gt; A DecimalFormat comprises a pattern and a set of symbols. The pattern\r\n&gt; may be set directly using `applyPattern()`, or indirectly using the API\r\n&gt; methods. The symbols are stored in a DecimalFormatSymbols object. When\r\n&gt; using the NumberFormat factory methods, the pattern and symbols are\r\n&gt; read from localized ResourceBundles.\r\n\r\nIf you take a look at the source code of DecimalFormat.java, you&#39;ll see that `applyPattern()` calls `this.setMaximumFractionDigits()` \r\n","title":"DecimalFormat strange behaviour","body":"<blockquote>\n<p>A DecimalFormat comprises a pattern and a set of symbols. The pattern\nmay be set directly using <code>applyPattern()</code>, or indirectly using the API\nmethods. The symbols are stored in a DecimalFormatSymbols object. When\nusing the NumberFormat factory methods, the pattern and symbols are\nread from localized ResourceBundles.</p>\n</blockquote>\n<p>If you take a look at the source code of DecimalFormat.java, you'll see that <code>applyPattern()</code> calls <code>this.setMaximumFractionDigits()</code></p>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657742780,"creation_date":1657742780,"answer_id":72972038,"question_id":72965209,"body_markdown":"You are doing far more work than you need to do.\r\n\r\nJust pass a Locale to the NumberFormat.getInstance method.  It will take care of the symbols based on that Locale.  The default behavior is already to hide the decimal point if the value being formatted with no decimal digits.\r\n\r\n    NumberFormat numberFormat = NumberFormat.getInstance(Locale.ENGLISH);\r\n    numberFormat.setGroupingUsed(false);\r\n    String valueStr = numberFormat.format(value);\r\n","title":"DecimalFormat strange behaviour","body":"<p>You are doing far more work than you need to do.</p>\n<p>Just pass a Locale to the NumberFormat.getInstance method.  It will take care of the symbols based on that Locale.  The default behavior is already to hide the decimal point if the value being formatted with no decimal digits.</p>\n<pre><code>NumberFormat numberFormat = NumberFormat.getInstance(Locale.ENGLISH);\nnumberFormat.setGroupingUsed(false);\nString valueStr = numberFormat.format(value);\n</code></pre>\n"}],"owner":{"account_id":12985589,"reputation":25,"user_id":9389928,"display_name":"Marco Antonio V&#233;lez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72965254,"answer_count":2,"score":0,"last_activity_date":1657742780,"creation_date":1657710174,"question_id":72965209,"body_markdown":"I am having some trouble trying to figure it out what is happening to me with the DecimalFormat.\r\n\r\nI have the following code:\r\n\r\n```\r\nDecimalFormatSymbols decimalFormatSymbols = new DecimalFormatSymbols();\r\ndecimalFormatSymbols.setDecimalSeparator(decimalSeparator); \r\ndecimalFormatSymbols.setGroupingSeparator(thousandSeparator);\r\n\r\nDecimalFormat decimalFormat = new DecimalFormat(&quot;###0.######&quot;, decimalFormatSymbols);\r\ndecimalFormat.setDecimalSeparatorAlwaysShown(numberDecimal &gt; 0);\r\ndecimalFormat.setMinimumFractionDigits(numberDecimal);\r\ndecimalFormat.format(Double.valueOf(value));\r\n```  \r\n\t  \r\nWhere decimalSeparator is &#39;.&#39;, thousandSeparator is &#39;,&#39; and value is an String an is equals to 100.000000\r\n\r\nRunning the above code the result is equals to: 100.000000\r\n\r\nWhereas if I run the following code:\r\n\r\n```\r\nDecimalFormat decimalFormat = new DecimalFormat();\r\ndecimalFormat.setDecimalSeparatorAlwaysShown(numberDecimal &gt; 0);\r\ndecimalFormat.setMinimumFractionDigits(numberDecimal);\r\ndecimalFormat.applyPattern(&quot;###0.######&quot;);\r\ndecimalFormat.setDecimalFormatSymbols(decimalFormatSymbols);\r\n```\r\n\r\nThe result is: 100\r\n\r\nWhich is the result I want to, because I need to get rid of the zeros at the end. \r\n\r\nWhat it is the difference between using the constructor or the setter methods?\r\n\r\nAm I dealing with the DecimalFormat in the right why? Or will I be in trouble if a execute this code in another machine with for example another Locale?\r\n\r\nNote: The requirement is to have a number with  &#39;.&#39; as decimalSeparator, but without zeros at the end, and without thousandSeparator character.\r\nFor example: \r\n\t3,000,000.000 -&gt; 3000000\r\n\t99.939.000 -&gt; 99.939\r\n\t","title":"DecimalFormat strange behaviour","body":"<p>I am having some trouble trying to figure it out what is happening to me with the DecimalFormat.</p>\n<p>I have the following code:</p>\n<pre><code>DecimalFormatSymbols decimalFormatSymbols = new DecimalFormatSymbols();\ndecimalFormatSymbols.setDecimalSeparator(decimalSeparator); \ndecimalFormatSymbols.setGroupingSeparator(thousandSeparator);\n\nDecimalFormat decimalFormat = new DecimalFormat(&quot;###0.######&quot;, decimalFormatSymbols);\ndecimalFormat.setDecimalSeparatorAlwaysShown(numberDecimal &gt; 0);\ndecimalFormat.setMinimumFractionDigits(numberDecimal);\ndecimalFormat.format(Double.valueOf(value));\n</code></pre>\n<p>Where decimalSeparator is '.', thousandSeparator is ',' and value is an String an is equals to 100.000000</p>\n<p>Running the above code the result is equals to: 100.000000</p>\n<p>Whereas if I run the following code:</p>\n<pre><code>DecimalFormat decimalFormat = new DecimalFormat();\ndecimalFormat.setDecimalSeparatorAlwaysShown(numberDecimal &gt; 0);\ndecimalFormat.setMinimumFractionDigits(numberDecimal);\ndecimalFormat.applyPattern(&quot;###0.######&quot;);\ndecimalFormat.setDecimalFormatSymbols(decimalFormatSymbols);\n</code></pre>\n<p>The result is: 100</p>\n<p>Which is the result I want to, because I need to get rid of the zeros at the end.</p>\n<p>What it is the difference between using the constructor or the setter methods?</p>\n<p>Am I dealing with the DecimalFormat in the right why? Or will I be in trouble if a execute this code in another machine with for example another Locale?</p>\n<p>Note: The requirement is to have a number with  '.' as decimalSeparator, but without zeros at the end, and without thousandSeparator character.\nFor example:\n3,000,000.000 -&gt; 3000000\n99.939.000 -&gt; 99.939</p>\n"},{"tags":["java","kotlin","redis","spring-data"],"answers":[{"tags":[],"owner":{"account_id":7662840,"reputation":96,"user_id":5807561,"display_name":"Zuum Dj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657742661,"creation_date":1657742661,"answer_id":72972018,"question_id":72939353,"body_markdown":"In order to use pipeline you will need all pipeline operations involve keys hashing into same slot. If you do so than yes, you will receive answer with same order of operations responses.\r\n\r\n1. You will have keys to hash to same slot in all operations you perform in pipeline\r\n2. Yes order is guaranteed\r\n\r\n\r\nMy original answer to related topic: https://stackoverflow.com/a/72971327/5807561\r\n\r\nCopy below:\r\n\r\nYes you can use pipeline in cluster mode as long as key hashes to same keyslot (not node).\r\n\r\nTo achieve keys hashing to same slot you can use hash tags. TLDR - if you have curly brackets in your key {} hash function will only be applied to that part https://redis.io/docs/reference/cluster-spec/#hash-tags\r\n\r\nIn my particular case I needed to put countries and cities by id into the redis which totaled 150k records. This is how I did it (nodejs + ioredis):\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    if (countries.length &amp;&amp; cities.length) {\r\n      const pipelines = []\r\n      for (let i = 0; i &lt; 21; i++) {\r\n        pipelines.push(redis.pipeline())\r\n      }\r\n      await Promise.all([\r\n        Promise.map(countries, (country) =&gt; {\r\n          const randomPipeline = pipelines[country.id % 21]\r\n          randomPipeline.set(`country_${country.id}_{${country.id % 21}}`, JSON.stringify(country))\r\n        }),\r\n        Promise.map(cities, (city) =&gt; {\r\n          const randomPipeline = pipelines[city.id % 21]\r\n          randomPipeline.set(`city_${city.id}_{${city.id % 21}}`, JSON.stringify(city))\r\n        })\r\n        \r\n    ])\r\n      for (let i = 0; i &lt; 21; i++) {\r\n        await pipelines[i].exec()\r\n      }\r\n      console.log(&#39;Countries and cities in cache&#39;)\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Does redis pipelining guarantee repsonse order in cluster mode?","body":"<p>In order to use pipeline you will need all pipeline operations involve keys hashing into same slot. If you do so than yes, you will receive answer with same order of operations responses.</p>\n<ol>\n<li>You will have keys to hash to same slot in all operations you perform in pipeline</li>\n<li>Yes order is guaranteed</li>\n</ol>\n<p>My original answer to related topic: <a href=\"https://stackoverflow.com/a/72971327/5807561\">https://stackoverflow.com/a/72971327/5807561</a></p>\n<p>Copy below:</p>\n<p>Yes you can use pipeline in cluster mode as long as key hashes to same keyslot (not node).</p>\n<p>To achieve keys hashing to same slot you can use hash tags. TLDR - if you have curly brackets in your key {} hash function will only be applied to that part <a href=\"https://redis.io/docs/reference/cluster-spec/#hash-tags\" rel=\"nofollow noreferrer\">https://redis.io/docs/reference/cluster-spec/#hash-tags</a></p>\n<p>In my particular case I needed to put countries and cities by id into the redis which totaled 150k records. This is how I did it (nodejs + ioredis):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>if (countries.length &amp;&amp; cities.length) {\n  const pipelines = []\n  for (let i = 0; i &lt; 21; i++) {\n    pipelines.push(redis.pipeline())\n  }\n  await Promise.all([\n    Promise.map(countries, (country) =&gt; {\n      const randomPipeline = pipelines[country.id % 21]\n      randomPipeline.set(`country_${country.id}_{${country.id % 21}}`, JSON.stringify(country))\n    }),\n    Promise.map(cities, (city) =&gt; {\n      const randomPipeline = pipelines[city.id % 21]\n      randomPipeline.set(`city_${city.id}_{${city.id % 21}}`, JSON.stringify(city))\n    })\n    \n])\n  for (let i = 0; i &lt; 21; i++) {\n    await pipelines[i].exec()\n  }\n  console.log('Countries and cities in cache')\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":2035235,"reputation":105,"user_id":1817735,"display_name":"ricoshet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72972018,"answer_count":1,"score":2,"last_activity_date":1657742661,"creation_date":1657546089,"question_id":72939353,"body_markdown":"I use Spring Data Redis and Redis in cluster-mode. I want to check some parameters for existing.\r\n\r\n            val results = redisTemplate.executePipelined { connection -&gt;\r\n\r\n            keyParams.forEach { params-&gt;\r\n                val key = generateKey(params)\r\n                connection.setCommands().sIsMember(key, valueToCheck(params))\r\n            }\r\n            null\r\n        }\r\n\r\n        return results\r\n            .map { it as Boolean }\r\n\r\nSo, several questions:\r\n1. Is is correct for cluster mode if keys store in different nodes?\r\n2. Is redis guarantees repsonse order in cluster mode?\r\n\r\nI searched a documentation but did&#39;nt find the exactly answer","title":"Does redis pipelining guarantee repsonse order in cluster mode?","body":"<p>I use Spring Data Redis and Redis in cluster-mode. I want to check some parameters for existing.</p>\n<pre><code>        val results = redisTemplate.executePipelined { connection -&gt;\n\n        keyParams.forEach { params-&gt;\n            val key = generateKey(params)\n            connection.setCommands().sIsMember(key, valueToCheck(params))\n        }\n        null\n    }\n\n    return results\n        .map { it as Boolean }\n</code></pre>\n<p>So, several questions:</p>\n<ol>\n<li>Is is correct for cluster mode if keys store in different nodes?</li>\n<li>Is redis guarantees repsonse order in cluster mode?</li>\n</ol>\n<p>I searched a documentation but did'nt find the exactly answer</p>\n"},{"tags":["java","java-8","hashmap","java-stream"],"answers":[{"tags":[],"owner":{"account_id":14887938,"reputation":166,"user_id":10750553,"display_name":"Stanislau Kozel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657742513,"creation_date":1655808437,"answer_id":72699435,"question_id":72699245,"body_markdown":"Let&#39;s know the general concepts. You want to transform one object to another one. It can be 1 to 1 relationship or 1 to many. In case of 1 to 1 you need to use .map. 1 to many - .flatMap. So in other words map convert Object A to Object B. flatMap convert Object A to Stream of Object B. You was near you missed &#39;)&#39;.\r\n\r\nYour case should be like this:\r\n\r\n    issueTypes.stream()\r\n    .flatMap(issueType -&gt; issueType.getCustomFields().stream())\r\n    .collect(Collectors.toMap(CustomFieldDto::getId CustomFieldDto::getType));\r\n\r\nAlso please be sure that there are no duplicates on keys of different objects, otherwise Collectors.toMap() will throw exception due to key duplication.\r\n\r\n","title":"Iterating over a List of nested objects and storing them into a HashMap using Stream API","body":"<p>Let's know the general concepts. You want to transform one object to another one. It can be 1 to 1 relationship or 1 to many. In case of 1 to 1 you need to use .map. 1 to many - .flatMap. So in other words map convert Object A to Object B. flatMap convert Object A to Stream of Object B. You was near you missed ')'.</p>\n<p>Your case should be like this:</p>\n<pre><code>issueTypes.stream()\n.flatMap(issueType -&gt; issueType.getCustomFields().stream())\n.collect(Collectors.toMap(CustomFieldDto::getId CustomFieldDto::getType));\n</code></pre>\n<p>Also please be sure that there are no duplicates on keys of different objects, otherwise Collectors.toMap() will throw exception due to key duplication.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655819069,"creation_date":1655818540,"answer_id":72701787,"question_id":72699245,"body_markdown":"The code you&#39;ve provided does not compile for two reasons:\r\n\r\n* [`flatMap()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)) is an *intermediate* operation which expects a function that returns a **stream** as an argument. Instead, you&#39;ve created a nested stream that generates a *map*. Therefore, your function doesn&#39;t match what `flatMap()` expects.\r\n\r\n* Your stream pipeline lacks the *terminal* operation, therefore this assignment is incorrect\r\n```\r\nMap&lt;String, TypeDto&gt; map = issueTypes.stream().flatMap();\r\n```\r\n\r\nThere&#39;s a map on the left side and a stream on the right side (because `flatMap()` is an *intermediate* operation, returns you stream).\r\n\r\nTo fix it, you need to make the function passed into the `flatMap()` return a stream, and add a *terminal* operation to the pipeline, i.e. produce the result from the main stream by moving `collect()` out from the `flatMap()`.\r\n\r\nThat&#39;s how it can be done by using `Collectors.toMap()` *(in the comments you&#39;ve mentioned that there could be duplicated* `id`s ):\r\n\r\n```\r\nMap&lt;String, TypeDto&gt; map = issueTypes.stream()\r\n    .flatMap(issueType -&gt; issueType.getCustomFields().stream())\r\n    .collect(Collectors.toMap(\r\n        CustomFieldDto::getId,   // mapping a key\r\n        CustomFieldDto::getType, // mapping a value\r\n        (left, right) -&gt; left    // resolving duplicates - preserve the first encountered value\r\n    ));\r\n```\r\n\r\nAnother way of handling duplicates is preserve all of them by storing values mapped to the same key into a list, which can be done with `Collectors.groupingBy()`:\r\n\r\n```\r\n Map&lt;String, List&lt;TypeDto&gt;&gt; map = issueTypes.stream()\r\n    .flatMap(issueType -&gt; issueType.getCustomFields().stream())\r\n    .collect(Collectors.groupingBy(CustomFieldDto::getId));\r\n```","title":"Iterating over a List of nested objects and storing them into a HashMap using Stream API","body":"<p>The code you've provided does not compile for two reasons:</p>\n<ul>\n<li><p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>flatMap()</code></a> is an <em>intermediate</em> operation which expects a function that returns a <strong>stream</strong> as an argument. Instead, you've created a nested stream that generates a <em>map</em>. Therefore, your function doesn't match what <code>flatMap()</code> expects.</p>\n</li>\n<li><p>Your stream pipeline lacks the <em>terminal</em> operation, therefore this assignment is incorrect</p>\n</li>\n</ul>\n<pre><code>Map&lt;String, TypeDto&gt; map = issueTypes.stream().flatMap();\n</code></pre>\n<p>There's a map on the left side and a stream on the right side (because <code>flatMap()</code> is an <em>intermediate</em> operation, returns you stream).</p>\n<p>To fix it, you need to make the function passed into the <code>flatMap()</code> return a stream, and add a <em>terminal</em> operation to the pipeline, i.e. produce the result from the main stream by moving <code>collect()</code> out from the <code>flatMap()</code>.</p>\n<p>That's how it can be done by using <code>Collectors.toMap()</code> <em>(in the comments you've mentioned that there could be duplicated</em> <code>id</code>s ):</p>\n<pre><code>Map&lt;String, TypeDto&gt; map = issueTypes.stream()\n    .flatMap(issueType -&gt; issueType.getCustomFields().stream())\n    .collect(Collectors.toMap(\n        CustomFieldDto::getId,   // mapping a key\n        CustomFieldDto::getType, // mapping a value\n        (left, right) -&gt; left    // resolving duplicates - preserve the first encountered value\n    ));\n</code></pre>\n<p>Another way of handling duplicates is preserve all of them by storing values mapped to the same key into a list, which can be done with <code>Collectors.groupingBy()</code>:</p>\n<pre><code> Map&lt;String, List&lt;TypeDto&gt;&gt; map = issueTypes.stream()\n    .flatMap(issueType -&gt; issueType.getCustomFields().stream())\n    .collect(Collectors.groupingBy(CustomFieldDto::getId));\n</code></pre>\n"}],"owner":{"account_id":9755602,"reputation":450,"user_id":7232472,"accept_rate":56,"display_name":"Sachin HR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":797,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72699435,"answer_count":2,"score":1,"last_activity_date":1657742513,"creation_date":1655807553,"question_id":72699245,"body_markdown":"I am trying to iterate over nested java object and from nested object I&#39;m trying to populate a *map* using Java 8.\r\n\r\nHere is the list and structure of objects\r\n\r\n`IssueTypeDto.java`\r\n```\r\npublic class IssueTypeDto {\r\n    private String id;\r\n    private String name;\r\n    private List&lt;CustomFieldDto&gt; customFields;\r\n}\r\n```\r\n`CustomFieldDto.java`\r\n```\r\n    private String id;\r\n    private TypeDto type;\r\n```\r\nI am getting `List` of `IssueTypeDto` as response. Each `IssueTypeDto` object can have a list of `CustomFieldDto` objects. My requirement is I need to iterate over a list of `IssueTypeDto` objects and for each `CustomFieldDto` object I need to get `id` and the corresponding `TypeDto` object and insert it into a map as key and value. Here is what I am trying to do currently\r\n```\r\nMap&lt;String, TypeDto&gt; map = issueTypes.stream()\r\n    .flatMap(issueType-&gt;issueType.getCustomFields().stream()\r\n                .collect(Collectors.toMap(\r\n                            CustomFieldDto::getId,\r\n                            CustomFieldDto::getType)));\r\n```\r\nBut i am getting compile time error as Type mismatch: \r\n```\r\ncannot convert from Stream&lt;Object&gt; to Map&lt;String,TypeDto&gt;&quot;\r\n```\r\nI am new to Java 8 streams. So I am not able to figure out the issue. Any help would be appreciated.","title":"Iterating over a List of nested objects and storing them into a HashMap using Stream API","body":"<p>I am trying to iterate over nested java object and from nested object I'm trying to populate a <em>map</em> using Java 8.</p>\n<p>Here is the list and structure of objects</p>\n<p><code>IssueTypeDto.java</code></p>\n<pre><code>public class IssueTypeDto {\n    private String id;\n    private String name;\n    private List&lt;CustomFieldDto&gt; customFields;\n}\n</code></pre>\n<p><code>CustomFieldDto.java</code></p>\n<pre><code>    private String id;\n    private TypeDto type;\n</code></pre>\n<p>I am getting <code>List</code> of <code>IssueTypeDto</code> as response. Each <code>IssueTypeDto</code> object can have a list of <code>CustomFieldDto</code> objects. My requirement is I need to iterate over a list of <code>IssueTypeDto</code> objects and for each <code>CustomFieldDto</code> object I need to get <code>id</code> and the corresponding <code>TypeDto</code> object and insert it into a map as key and value. Here is what I am trying to do currently</p>\n<pre><code>Map&lt;String, TypeDto&gt; map = issueTypes.stream()\n    .flatMap(issueType-&gt;issueType.getCustomFields().stream()\n                .collect(Collectors.toMap(\n                            CustomFieldDto::getId,\n                            CustomFieldDto::getType)));\n</code></pre>\n<p>But i am getting compile time error as Type mismatch:</p>\n<pre><code>cannot convert from Stream&lt;Object&gt; to Map&lt;String,TypeDto&gt;&quot;\n</code></pre>\n<p>I am new to Java 8 streams. So I am not able to figure out the issue. Any help would be appreciated.</p>\n"},{"tags":["java","android","android-studio","listview"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1656312015,"post_id":71369292,"comment_id":128531324,"body_markdown":"Use TinyDB to store unlimited userData to sharedPrefrence and show anywhere and anytime Offline mode. See complete doc file https://github.com/kcochibili/TinyDB--Android-Shared-Preferences-Turbo","body":"Use TinyDB to store unlimited userData to sharedPrefrence and show anywhere and anytime Offline mode. See complete doc file <a href=\"https://github.com/kcochibili/TinyDB--Android-Shared-Preferences-Turbo\" rel=\"nofollow noreferrer\">github.com/kcochibili/TinyDB--Android-Shared-Preferences-Tur&zwnj;&#8203;bo</a>"}],"answers":[{"tags":[],"owner":{"account_id":25323693,"reputation":250,"user_id":19144656,"display_name":"Smit Gabani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657742431,"creation_date":1656271016,"answer_id":72764493,"question_id":71369292,"body_markdown":"You should look into the Singleton pattern. It is very simple as there is no external DB. What it essentially is a class that manages the data and lets other classes and activities use the data while not allowing duplication. \r\n\r\nYou have a model Person \r\n```\r\npublic class Person {\r\n    private String name;\r\n    public String address;\r\n    ...\r\n    constructors and getters and setters\r\n```\r\n\r\nCreate a class PersonsSingelton something like this.\r\n```\r\npublic class PersonManagerSingleton {\r\n    private PersonManagerSingleton() {\r\n        loadPersonsDataSet();\r\n    }\r\n\r\n    private static PersonManagerSingleton instance = null;\r\n\r\n    public static PersonManagerSingleton getInstance() { \r\n        // if there is a instance already created use that instance of create new instance\r\n        // instance created in MainActivity and you try to create a new instance in Details \r\n        // should not happen as that will cause data duplication.\r\n        if (instance == null) {\r\n            instance = new PersonManagerSingleton();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    private ArrayList&lt;Person&gt; personList = new ArrayList&lt;Person&gt;();\r\n\r\n    private void loadPersonsDataSet() {\r\n        this.personList.add(new Person(...));\r\n        this.personList.add(new Person(...));\r\n        this.personList.add(new Person(...));\r\n        this.personList.add(new Person(...));\r\n    }\r\n\r\n    public ArrayList&lt;Person&gt; getpersonList() {\r\n        return personList;\r\n    }\r\n\r\n    public Person getPersonByID(int PersonNumber) {\r\n        for (int i = 0; i &lt; this.personList.size(); i++) {\r\n            Person curPerson = this.personList.get(i);\r\n            if (curPerson.getNumber() == PersonNumber) {\r\n                return curPerson;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    // methods for adding a new person used in Activity with the form.\r\n    // other methods ...\r\n}\r\n```\r\nThis would be like a state in React. of the State Manager.\r\nYour person adapter constructor has to accept an `ArrayList&lt;Person&gt; listPerson`. So modify the activity passing the data to pass only the position of the ListView clicked. You need to modify your Adapter for that.\r\n\r\nUse the Singleton created to access the data. \r\n```\r\nPersonManagerSingleton personSingelton = PersonManagerSingleton.getInstance();\r\nArrayList&lt;Person&gt; listPerson = personSingelton.getPersonList();\r\nPersonAdapter Person = new PersonAdapter(listPerson);\r\n```\r\nSo now only things left is to modify the Persons adapter to pass position using Intent and nothing else. and then you can use the instance of Singleton in other files to access the data using the `listPerson.get(position)` and using getters and setters.\r\n\r\nLink to a project like this.\r\nhttps://github.com/smitgabani/anroid_apps_using_java/tree/main/pokemon_app \r\n\r\n","title":"Save data from Main activity to a ListView activity","body":"<p>You should look into the Singleton pattern. It is very simple as there is no external DB. What it essentially is a class that manages the data and lets other classes and activities use the data while not allowing duplication.</p>\n<p>You have a model Person</p>\n<pre><code>public class Person {\n    private String name;\n    public String address;\n    ...\n    constructors and getters and setters\n</code></pre>\n<p>Create a class PersonsSingelton something like this.</p>\n<pre><code>public class PersonManagerSingleton {\n    private PersonManagerSingleton() {\n        loadPersonsDataSet();\n    }\n\n    private static PersonManagerSingleton instance = null;\n\n    public static PersonManagerSingleton getInstance() { \n        // if there is a instance already created use that instance of create new instance\n        // instance created in MainActivity and you try to create a new instance in Details \n        // should not happen as that will cause data duplication.\n        if (instance == null) {\n            instance = new PersonManagerSingleton();\n        }\n        return instance;\n    }\n\n    private ArrayList&lt;Person&gt; personList = new ArrayList&lt;Person&gt;();\n\n    private void loadPersonsDataSet() {\n        this.personList.add(new Person(...));\n        this.personList.add(new Person(...));\n        this.personList.add(new Person(...));\n        this.personList.add(new Person(...));\n    }\n\n    public ArrayList&lt;Person&gt; getpersonList() {\n        return personList;\n    }\n\n    public Person getPersonByID(int PersonNumber) {\n        for (int i = 0; i &lt; this.personList.size(); i++) {\n            Person curPerson = this.personList.get(i);\n            if (curPerson.getNumber() == PersonNumber) {\n                return curPerson;\n            }\n        }\n        return null;\n    }\n    // methods for adding a new person used in Activity with the form.\n    // other methods ...\n}\n</code></pre>\n<p>This would be like a state in React. of the State Manager.\nYour person adapter constructor has to accept an <code>ArrayList&lt;Person&gt; listPerson</code>. So modify the activity passing the data to pass only the position of the ListView clicked. You need to modify your Adapter for that.</p>\n<p>Use the Singleton created to access the data.</p>\n<pre><code>PersonManagerSingleton personSingelton = PersonManagerSingleton.getInstance();\nArrayList&lt;Person&gt; listPerson = personSingelton.getPersonList();\nPersonAdapter Person = new PersonAdapter(listPerson);\n</code></pre>\n<p>So now only things left is to modify the Persons adapter to pass position using Intent and nothing else. and then you can use the instance of Singleton in other files to access the data using the <code>listPerson.get(position)</code> and using getters and setters.</p>\n<p>Link to a project like this.\n<a href=\"https://github.com/smitgabani/anroid_apps_using_java/tree/main/pokemon_app\" rel=\"nofollow noreferrer\">https://github.com/smitgabani/anroid_apps_using_java/tree/main/pokemon_app</a></p>\n"}],"owner":{"account_id":24468309,"reputation":17,"user_id":18388377,"display_name":"Lieu Phuc Mai B1809371"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657742431,"creation_date":1646560963,"question_id":71369292,"body_markdown":"I have a MainAtivity which has some EditText and 2 button. Save button will save user input to ListView and List button to show ListView (which I display in second activity).\r\nIs there anyway to collect data from multiple inputs then pass it to other activity. And after get that data how to combine it to a List item.\r\nPlease show me some code and explain cause I&#39;m a beginner.\r\n\r\nI have read some post and they suggest use startActivityForResult, intent, bundles but I still don&#39;t understand.\r\n\r\nThis is my Main class:\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    String str, gender, vaccine, date;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Button okay = (Button) findViewById(R.id.btnOk);\r\n        Button list = (Button) findViewById(R.id.btnList);\r\n\r\n        EditText name = (EditText) findViewById(R.id.inputName);\r\n        EditText address = (EditText) findViewById(R.id.inputAdd);\r\n        EditText phone = (EditText) findViewById(R.id.inputPhone);\r\n\r\n        RadioGroup radioGroup = (RadioGroup) findViewById(R.id.radioGroup);\r\n        RadioButton female = (RadioButton) findViewById(R.id.inputFemale);\r\n        RadioButton male = (RadioButton) findViewById(R.id.inputMale);\r\n\r\n        CheckBox first = (CheckBox)findViewById(R.id.inputFirst);\r\n        CheckBox second = (CheckBox)findViewById(R.id.inputSecond);\r\n        CheckBox third = (CheckBox)findViewById(R.id.inputThird);\r\n\r\n        EditText datefirst = (EditText) findViewById(R.id.dateFirst);\r\n        EditText datesecond = (EditText) findViewById(R.id.dateSecond);\r\n        EditText datethird = (EditText) findViewById(R.id.dateThird);\r\n\r\n        TextView result = (TextView)findViewById(R.id.textResult);\r\n\r\n\r\n        okay.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if(female.isChecked()) gender = female.getText().toString();\r\n                if(male.isChecked()) gender = male.getText().toString();\r\n                if(first.isChecked()) {\r\n                    vaccine = first.getText().toString();\r\n                    date = datefirst.getText().toString();\r\n                }\r\n                if(second.isChecked()) {\r\n                    vaccine = second.getText().toString();\r\n                    date = datesecond.getText().toString();\r\n                }\r\n                if(third.isChecked()) {\r\n                    vaccine = third.getText().toString();\r\n                    date = datethird.getText().toString();\r\n                }\r\n\r\n                str = name.getText().toString() + &quot;\\n&quot; + address.getText().toString() + &quot;\\n&quot; + phone.getText().toString() + &quot;\\n&quot; +\r\n                        gender + &quot;\\n&quot; + vaccine + &quot;\\n&quot; + date;\r\n\r\n\r\n                result.setText(str);\r\n                Toast.makeText(getApplicationContext(),result.getText().toString(),Toast.LENGTH_SHORT).show();\r\n\r\n                Intent intent = new Intent(MainActivity.this, PersonView.class);\r\n                intent.putExtra(&quot;NAME&quot;,name.getText().toString());\r\n                startActivity(intent);\r\n\r\n            }\r\n        });\r\n\r\n        list.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(MainActivity.this, PersonView.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n\r\nThis is my ListView class:\r\npublic class PersonView extends AppCompatActivity {\r\n\r\n    ArrayList&lt;Person&gt; listPerson;\r\n    PersonListViewAdapter personListViewAdapter;\r\n    ListView listViewPerson;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_list);\r\n\r\n        Intent intent = getIntent();\r\n        String message = intent.getStringExtra(&quot;NAME&quot;);\r\n\r\n\r\n        Button back = (Button) findViewById(R.id.btnBack);\r\n\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(PersonView.this, MainActivity.class);\r\n                //startActivityForResult(intent,2);\r\n            }\r\n        });\r\n\r\n        listPerson = new ArrayList&lt;&gt;();\r\n        listPerson.add(new Person(&quot;Lieu Mai&quot;,&quot;25 Mac Dinh Chi&quot;, &quot;0786867073&quot;, &quot;female&quot;,&quot;3 injection&quot;, &quot;24/07/2000&quot;));\r\n\r\n        personListViewAdapter = new PersonListViewAdapter(listPerson);\r\n\r\n        listViewPerson = findViewById(R.id.listPerson);\r\n        listViewPerson.setAdapter(personListViewAdapter);\r\n    }\r\n\r\n\r\n    class Person {\r\n        String name, address, phone, gender, vaccine, date;\r\n\r\n        public Person( String name, String address, String phone, String gender, String vaccine, String date) {\r\n            this.name = name;\r\n            this.address = address;\r\n            this.phone = phone;\r\n            this.gender = gender;\r\n            this.vaccine = vaccine;\r\n            this.date = date;\r\n        }\r\n    }\r\n\r\n    class PersonListViewAdapter extends BaseAdapter {\r\n\r\n        final ArrayList&lt;Person&gt; listPerson;\r\n\r\n        PersonListViewAdapter(ArrayList&lt;Person&gt; listPerson) {\r\n            this.listPerson = listPerson;\r\n        }\r\n\r\n        @Override\r\n        public int getCount() {\r\n\r\n            return listPerson.size();\r\n        }\r\n\r\n        @Override\r\n        public Object getItem(int position) {\r\n\r\n            return listPerson.get(position);\r\n        }\r\n\r\n        @Override\r\n        public long getItemId(int position) {\r\n\r\n            return position;\r\n        }\r\n\r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n\r\n            View viewPerson;\r\n            if (convertView == null) {\r\n                viewPerson = View.inflate(parent.getContext(), R.layout.person_view, null);\r\n            } else viewPerson = convertView;\r\n\r\n\r\n            Person person = (Person) getItem(position);\r\n            ((TextView) viewPerson.findViewById(R.id.txtName)).setText(String.format(&quot;Name: %s&quot;, person.name));\r\n            ((TextView) viewPerson.findViewById(R.id.txtAddress)).setText(String.format(&quot;Address : %s&quot;, person.address));\r\n            ((TextView) viewPerson.findViewById(R.id.txtPhone)).setText(String.format(&quot;Phone number: %s&quot;, person.phone));\r\n            ((TextView) viewPerson.findViewById(R.id.txtGender)).setText(String.format(&quot;Gender: %s&quot;, person.gender));\r\n            ((TextView) viewPerson.findViewById(R.id.txtVaccine)).setText(String.format(&quot;Vaccine: %s&quot;, person.vaccine));\r\n            ((TextView) viewPerson.findViewById(R.id.txtDate)).setText(String.format(&quot;Date: %s&quot;, person.date));\r\n\r\n            return viewPerson;\r\n        }\r\n    }\r\n}\r\n","title":"Save data from Main activity to a ListView activity","body":"<p>I have a MainAtivity which has some EditText and 2 button. Save button will save user input to ListView and List button to show ListView (which I display in second activity).\nIs there anyway to collect data from multiple inputs then pass it to other activity. And after get that data how to combine it to a List item.\nPlease show me some code and explain cause I'm a beginner.</p>\n<p>I have read some post and they suggest use startActivityForResult, intent, bundles but I still don't understand.</p>\n<p>This is my Main class:</p>\n<p>public class MainActivity extends AppCompatActivity {</p>\n<pre><code>String str, gender, vaccine, date;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Button okay = (Button) findViewById(R.id.btnOk);\n    Button list = (Button) findViewById(R.id.btnList);\n\n    EditText name = (EditText) findViewById(R.id.inputName);\n    EditText address = (EditText) findViewById(R.id.inputAdd);\n    EditText phone = (EditText) findViewById(R.id.inputPhone);\n\n    RadioGroup radioGroup = (RadioGroup) findViewById(R.id.radioGroup);\n    RadioButton female = (RadioButton) findViewById(R.id.inputFemale);\n    RadioButton male = (RadioButton) findViewById(R.id.inputMale);\n\n    CheckBox first = (CheckBox)findViewById(R.id.inputFirst);\n    CheckBox second = (CheckBox)findViewById(R.id.inputSecond);\n    CheckBox third = (CheckBox)findViewById(R.id.inputThird);\n\n    EditText datefirst = (EditText) findViewById(R.id.dateFirst);\n    EditText datesecond = (EditText) findViewById(R.id.dateSecond);\n    EditText datethird = (EditText) findViewById(R.id.dateThird);\n\n    TextView result = (TextView)findViewById(R.id.textResult);\n\n\n    okay.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            if(female.isChecked()) gender = female.getText().toString();\n            if(male.isChecked()) gender = male.getText().toString();\n            if(first.isChecked()) {\n                vaccine = first.getText().toString();\n                date = datefirst.getText().toString();\n            }\n            if(second.isChecked()) {\n                vaccine = second.getText().toString();\n                date = datesecond.getText().toString();\n            }\n            if(third.isChecked()) {\n                vaccine = third.getText().toString();\n                date = datethird.getText().toString();\n            }\n\n            str = name.getText().toString() + &quot;\\n&quot; + address.getText().toString() + &quot;\\n&quot; + phone.getText().toString() + &quot;\\n&quot; +\n                    gender + &quot;\\n&quot; + vaccine + &quot;\\n&quot; + date;\n\n\n            result.setText(str);\n            Toast.makeText(getApplicationContext(),result.getText().toString(),Toast.LENGTH_SHORT).show();\n\n            Intent intent = new Intent(MainActivity.this, PersonView.class);\n            intent.putExtra(&quot;NAME&quot;,name.getText().toString());\n            startActivity(intent);\n\n        }\n    });\n\n    list.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(MainActivity.this, PersonView.class);\n            startActivity(intent);\n        }\n    });\n\n}\n</code></pre>\n<p>}</p>\n<p>This is my ListView class:\npublic class PersonView extends AppCompatActivity {</p>\n<pre><code>ArrayList&lt;Person&gt; listPerson;\nPersonListViewAdapter personListViewAdapter;\nListView listViewPerson;\n\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_list);\n\n    Intent intent = getIntent();\n    String message = intent.getStringExtra(&quot;NAME&quot;);\n\n\n    Button back = (Button) findViewById(R.id.btnBack);\n\n    back.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(PersonView.this, MainActivity.class);\n            //startActivityForResult(intent,2);\n        }\n    });\n\n    listPerson = new ArrayList&lt;&gt;();\n    listPerson.add(new Person(&quot;Lieu Mai&quot;,&quot;25 Mac Dinh Chi&quot;, &quot;0786867073&quot;, &quot;female&quot;,&quot;3 injection&quot;, &quot;24/07/2000&quot;));\n\n    personListViewAdapter = new PersonListViewAdapter(listPerson);\n\n    listViewPerson = findViewById(R.id.listPerson);\n    listViewPerson.setAdapter(personListViewAdapter);\n}\n\n\nclass Person {\n    String name, address, phone, gender, vaccine, date;\n\n    public Person( String name, String address, String phone, String gender, String vaccine, String date) {\n        this.name = name;\n        this.address = address;\n        this.phone = phone;\n        this.gender = gender;\n        this.vaccine = vaccine;\n        this.date = date;\n    }\n}\n\nclass PersonListViewAdapter extends BaseAdapter {\n\n    final ArrayList&lt;Person&gt; listPerson;\n\n    PersonListViewAdapter(ArrayList&lt;Person&gt; listPerson) {\n        this.listPerson = listPerson;\n    }\n\n    @Override\n    public int getCount() {\n\n        return listPerson.size();\n    }\n\n    @Override\n    public Object getItem(int position) {\n\n        return listPerson.get(position);\n    }\n\n    @Override\n    public long getItemId(int position) {\n\n        return position;\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n\n        View viewPerson;\n        if (convertView == null) {\n            viewPerson = View.inflate(parent.getContext(), R.layout.person_view, null);\n        } else viewPerson = convertView;\n\n\n        Person person = (Person) getItem(position);\n        ((TextView) viewPerson.findViewById(R.id.txtName)).setText(String.format(&quot;Name: %s&quot;, person.name));\n        ((TextView) viewPerson.findViewById(R.id.txtAddress)).setText(String.format(&quot;Address : %s&quot;, person.address));\n        ((TextView) viewPerson.findViewById(R.id.txtPhone)).setText(String.format(&quot;Phone number: %s&quot;, person.phone));\n        ((TextView) viewPerson.findViewById(R.id.txtGender)).setText(String.format(&quot;Gender: %s&quot;, person.gender));\n        ((TextView) viewPerson.findViewById(R.id.txtVaccine)).setText(String.format(&quot;Vaccine: %s&quot;, person.vaccine));\n        ((TextView) viewPerson.findViewById(R.id.txtDate)).setText(String.format(&quot;Date: %s&quot;, person.date));\n\n        return viewPerson;\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":6244483,"reputation":13767,"user_id":4856939,"accept_rate":82,"display_name":"David Griffin"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1541092879,"creation_date":1458649866,"answer_id":36154459,"question_id":36153783,"body_markdown":"You can hook into Zookeeper. Check out [**the sample code**][1]. In essence, you will create a watcher on the Zookeeper node `/brokers/topics`. When new children are added here, it&#39;s a new Topic being added, and your watcher will get triggered.\r\n\r\nNote that the difference between this and the other answer is that this one is a trigger where the other is a polling -- this one will be as close to real-time as possible, the other will be within whatever your polling interval is at best.\r\n\r\n\r\n  [1]: https://zookeeper.apache.org/doc/current/javaExample.html","title":"kafka consumer to dynamically detect topics added","body":"<p>You can hook into Zookeeper. Check out <a href=\"https://zookeeper.apache.org/doc/current/javaExample.html\" rel=\"nofollow noreferrer\"><strong>the sample code</strong></a>. In essence, you will create a watcher on the Zookeeper node <code>/brokers/topics</code>. When new children are added here, it's a new Topic being added, and your watcher will get triggered.</p>\n\n<p>Note that the difference between this and the other answer is that this one is a trigger where the other is a polling -- this one will be as close to real-time as possible, the other will be within whatever your polling interval is at best.</p>\n"},{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1479923995,"creation_date":1472144876,"answer_id":39151058,"question_id":36153783,"body_markdown":"There was an answer to this in the apache kafka mail archives. I am copying it below:\r\n\r\n&gt; The consumer supports a configuration option &quot;metadata.max.age.ms&quot;\r\n&gt; which basically controls how often topic metadata is fetched. By\r\n&gt; default, this is set fairly high (5 minutes), which means it will take\r\n&gt; up to 5 minutes to discover new topics matching your regular\r\n&gt; expression. You can set this lower to discover topics quicker. \r\n\r\nSo in your props you can:\r\n\r\n    props.put(&quot;metadata.max.age.ms&quot;, 5000);\r\n\r\nThis will cause your consumer to find out about new topics every 5 seconds.","title":"kafka consumer to dynamically detect topics added","body":"<p>There was an answer to this in the apache kafka mail archives. I am copying it below:</p>\n\n<blockquote>\n  <p>The consumer supports a configuration option \"metadata.max.age.ms\"\n  which basically controls how often topic metadata is fetched. By\n  default, this is set fairly high (5 minutes), which means it will take\n  up to 5 minutes to discover new topics matching your regular\n  expression. You can set this lower to discover topics quicker. </p>\n</blockquote>\n\n<p>So in your props you can:</p>\n\n<pre><code>props.put(\"metadata.max.age.ms\", 5000);\n</code></pre>\n\n<p>This will cause your consumer to find out about new topics every 5 seconds.</p>\n"},{"tags":[],"owner":{"account_id":12036466,"reputation":443,"user_id":8804766,"display_name":"Aakash aggarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561036221,"creation_date":1561036221,"answer_id":56686728,"question_id":36153783,"body_markdown":"Here is the solution it worked for me by using KafkaConsumer api. Here is the Java code for it.\r\n\r\n    private static Consumer&lt;Long, String&gt; createConsumer(String topic) {\r\n        final Properties props = new Properties();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n                BOOTSTRAP_SERVERS);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG,\r\n                &quot;KafkaExampleConsumer&quot;);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\r\n                StringDeserializer.class.getName());\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\r\n                StringDeserializer.class.getName());\r\n        // Create the consumer using props.\r\n        final Consumer&lt;Long, String&gt; consumer =\r\n                new KafkaConsumer&lt;&gt;(props);\r\n        // Subscribe to the topic.\r\n        consumer.subscribe(Collections.singletonList(topic));\r\n        return consumer;\r\n    }\r\n\r\n    public static void runConsumer(String topic) throws InterruptedException {\r\n        final Consumer&lt;Long, String&gt; consumer = createConsumer(topic);\r\n\r\n        ConsumerRecords&lt;Long, String&gt; records = consumer.poll(100);\r\n        for (ConsumerRecord&lt;Long, String&gt; record : records)\r\n            System.out.printf(&quot;hiiiii offset = %d, key = %s, value = %s%n&quot;, record.offset(), record.key(), record.value());\r\n        consumer.commitAsync();\r\n        consumer.close();\r\n        //System.out.println(&quot;DONE&quot;);\r\n    }\r\n\r\n\r\n\r\nusing this we can consume the message from dynamically created topics.","title":"kafka consumer to dynamically detect topics added","body":"<p>Here is the solution it worked for me by using KafkaConsumer api. Here is the Java code for it.</p>\n\n<pre><code>private static Consumer&lt;Long, String&gt; createConsumer(String topic) {\n    final Properties props = new Properties();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\n            BOOTSTRAP_SERVERS);\n    props.put(ConsumerConfig.GROUP_ID_CONFIG,\n            \"KafkaExampleConsumer\");\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n            StringDeserializer.class.getName());\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\n            StringDeserializer.class.getName());\n    // Create the consumer using props.\n    final Consumer&lt;Long, String&gt; consumer =\n            new KafkaConsumer&lt;&gt;(props);\n    // Subscribe to the topic.\n    consumer.subscribe(Collections.singletonList(topic));\n    return consumer;\n}\n\npublic static void runConsumer(String topic) throws InterruptedException {\n    final Consumer&lt;Long, String&gt; consumer = createConsumer(topic);\n\n    ConsumerRecords&lt;Long, String&gt; records = consumer.poll(100);\n    for (ConsumerRecord&lt;Long, String&gt; record : records)\n        System.out.printf(\"hiiiii offset = %d, key = %s, value = %s%n\", record.offset(), record.key(), record.value());\n    consumer.commitAsync();\n    consumer.close();\n    //System.out.println(\"DONE\");\n}\n</code></pre>\n\n<p>using this we can consume the message from dynamically created topics.</p>\n"},{"tags":[],"owner":{"account_id":1200821,"reputation":1039,"user_id":1171533,"accept_rate":52,"display_name":"Pushparaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657742362,"creation_date":1657742362,"answer_id":72971962,"question_id":36153783,"body_markdown":"use the subscribe method in KafkaConsumer class which takes a pattern as argument for the list of topics to get data from\r\n\r\n&gt; /**\r\n&gt;  * Subscribe to all topics matching specified pattern to get dynamically assigned partitions.  * The pattern matching will be done\r\n&gt; periodically against all topics existing at the time of check.  * This\r\n&gt; can be controlled through the {@code metadata.max.age.ms}\r\n&gt; configuration: by lowering  * the max metadata age, the consumer will\r\n&gt; refresh metadata more often and check for matching topics.  * &lt;p&gt;  *\r\n&gt; See {@link #subscribe(Collection, ConsumerRebalanceListener)} for\r\n&gt; details on the  * use of the {@link ConsumerRebalanceListener}.\r\n&gt; Generally rebalances are triggered when there  * is a change to the\r\n&gt; topics matching the provided pattern and when consumer group\r\n&gt; membership changes.  * Group rebalances only take place during an\r\n&gt; active call to {@link #poll(Duration)}.  *  * @param pattern Pattern\r\n&gt; to subscribe to  * @param listener Non-null listener instance to get\r\n&gt; notifications on partition assignment/revocation for the  *           \r\n&gt; subscribed topics  * @throws IllegalArgumentException If pattern or\r\n&gt; listener is null  * @throws IllegalStateException If {@code\r\n&gt; subscribe()} is called previously with topics, or assign is called  * \r\n&gt; previously (without a subsequent call to {@link #unsubscribe()}), or\r\n&gt; if not  *                               configured at-least one\r\n&gt; partition assignment strategy  */ @Override public void\r\n\r\n    subscribe(Pattern pattern, ConsumerRebalanceListener listener) {","title":"kafka consumer to dynamically detect topics added","body":"<p>use the subscribe method in KafkaConsumer class which takes a pattern as argument for the list of topics to get data from</p>\n<blockquote>\n<p>/**</p>\n<ul>\n<li>Subscribe to all topics matching specified pattern to get dynamically assigned partitions.  * The pattern matching will be done\nperiodically against all topics existing at the time of check.  * This\ncan be controlled through the {@code metadata.max.age.ms}\nconfiguration: by lowering  * the max metadata age, the consumer will\nrefresh metadata more often and check for matching topics.  * <p>  *\nSee {@link #subscribe(Collection, ConsumerRebalanceListener)} for\ndetails on the  * use of the {@link ConsumerRebalanceListener}.\nGenerally rebalances are triggered when there  * is a change to the\ntopics matching the provided pattern and when consumer group\nmembership changes.  * Group rebalances only take place during an\nactive call to {@link #poll(Duration)}.  *  * @param pattern Pattern\nto subscribe to  * @param listener Non-null listener instance to get\nnotifications on partition assignment/revocation for the  *<br />\nsubscribed topics  * @throws IllegalArgumentException If pattern or\nlistener is null  * @throws IllegalStateException If {@code\nsubscribe()} is called previously with topics, or assign is called  *\npreviously (without a subsequent call to {@link #unsubscribe()}), or\nif not  *                               configured at-least one\npartition assignment strategy  */ @Override public void</li>\n</ul>\n</blockquote>\n<pre><code>subscribe(Pattern pattern, ConsumerRebalanceListener listener) {\n</code></pre>\n"}],"owner":{"account_id":1015357,"reputation":99,"user_id":1027018,"accept_rate":0,"display_name":"siddu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10501,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1657742362,"creation_date":1458647801,"question_id":36153783,"body_markdown":"I&#39;m using KafkaConsumer&lt;K,V&gt; to consume messages from Kafka server (topics).. \r\n\r\n- It works fine for topics created before starting Consumer code...\r\n\r\nBut the problem is, it will not work if the topics created dynamically(i mean to say after consumer code started), but the API says it will support dynamic topic creation.. Here is the link for your reference..\r\n\r\nKafka version used : 0.9.0.1\r\n\r\n\r\nhttps://kafka.apache.org/090/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html\r\n\r\nHere is the JAVA code... \r\n\r\n\t\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n\t\tprops.put(&quot;group.id&quot;, &quot;test&quot;);\r\n\t\tprops.put(&quot;enable.auto.commit&quot;, &quot;false&quot;);\r\n\t\tprops.put(&quot;auto.commit.interval.ms&quot;, &quot;1000&quot;);\r\n\t\tprops.put(&quot;session.timeout.ms&quot;, &quot;30000&quot;);\r\n\t\tprops.put(&quot;key.deserializer&quot;,&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n\t\tprops.put(&quot;value.deserializer&quot;,&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n\t\t\r\n\t\tKafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\r\n\t\tPattern r = Pattern.compile(&quot;siddu(\\\\d)*&quot;);\r\n\r\n\t\tconsumer.subscribe(r, new HandleRebalance());\r\n\t\ttry {\r\n\t         while(true) {\r\n\t             ConsumerRecords&lt;String, String&gt; records = consumer.poll(Long.MAX_VALUE);\r\n\t             for (TopicPartition partition : records.partitions()) {\r\n\t                 List&lt;ConsumerRecord&lt;String, String&gt;&gt; partitionRecords = records.records(partition);\r\n\t                 for (ConsumerRecord&lt;String, String&gt; record : partitionRecords) {\r\n\t                     System.out.println(partition.partition()  + &quot;: &quot;  +record.offset() + &quot;: &quot; + record.value());\r\n\t                 }\r\n\t                 long lastOffset = partitionRecords.get(partitionRecords.size() - 1).offset();\r\n\t                 \r\n                 \t consumer.commitSync(Collections.singletonMap(partition, new OffsetAndMetadata(lastOffset + 1)));\r\n\t             }\r\n\t         }\r\n\t     } finally {\r\n\t       consumer.close();\r\n\t     }\r\n\t\r\n\r\nNOTE: My topic names are matching the Regular Expression.. \r\nAnd if i restart the consumer then it will start reading messages pushed to topic...\r\n\r\nAny help is really appreciated...\r\n","title":"kafka consumer to dynamically detect topics added","body":"<p>I'm using KafkaConsumer to consume messages from Kafka server (topics).. </p>\n\n<ul>\n<li>It works fine for topics created before starting Consumer code...</li>\n</ul>\n\n<p>But the problem is, it will not work if the topics created dynamically(i mean to say after consumer code started), but the API says it will support dynamic topic creation.. Here is the link for your reference..</p>\n\n<p>Kafka version used : 0.9.0.1</p>\n\n<p><a href=\"https://kafka.apache.org/090/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"noreferrer\">https://kafka.apache.org/090/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html</a></p>\n\n<p>Here is the JAVA code... </p>\n\n<pre><code>    Properties props = new Properties();\n    props.put(\"bootstrap.servers\", \"localhost:9092\");\n    props.put(\"group.id\", \"test\");\n    props.put(\"enable.auto.commit\", \"false\");\n    props.put(\"auto.commit.interval.ms\", \"1000\");\n    props.put(\"session.timeout.ms\", \"30000\");\n    props.put(\"key.deserializer\",\"org.apache.kafka.common.serialization.StringDeserializer\");\n    props.put(\"value.deserializer\",\"org.apache.kafka.common.serialization.StringDeserializer\");\n\n    KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(props);\n    Pattern r = Pattern.compile(\"siddu(\\\\d)*\");\n\n    consumer.subscribe(r, new HandleRebalance());\n    try {\n         while(true) {\n             ConsumerRecords&lt;String, String&gt; records = consumer.poll(Long.MAX_VALUE);\n             for (TopicPartition partition : records.partitions()) {\n                 List&lt;ConsumerRecord&lt;String, String&gt;&gt; partitionRecords = records.records(partition);\n                 for (ConsumerRecord&lt;String, String&gt; record : partitionRecords) {\n                     System.out.println(partition.partition()  + \": \"  +record.offset() + \": \" + record.value());\n                 }\n                 long lastOffset = partitionRecords.get(partitionRecords.size() - 1).offset();\n\n                 consumer.commitSync(Collections.singletonMap(partition, new OffsetAndMetadata(lastOffset + 1)));\n             }\n         }\n     } finally {\n       consumer.close();\n     }\n</code></pre>\n\n<p>NOTE: My topic names are matching the Regular Expression.. \nAnd if i restart the consumer then it will start reading messages pushed to topic...</p>\n\n<p>Any help is really appreciated...</p>\n"},{"tags":["java","gradle","intellij-idea","build.gradle","java-home"],"comments":[{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1657725634,"post_id":72968643,"comment_id":128880130,"body_markdown":"That project uses a very old version of Gradle which is not compatible with Java 18. I can see in the file [`gradle-wrapper.properties`](https://github.com/udacity/ud282/blob/master/Project%201%20-%20TicTacToe/gradle/wrapper/gradle-wrapper.properties) in the project that it downloads Gradle 4.4.1.","body":"That project uses a very old version of Gradle which is not compatible with Java 18. I can see in the file <a href=\"https://github.com/udacity/ud282/blob/master/Project%201%20-%20TicTacToe/gradle/wrapper/gradle-wrapper.properties\" rel=\"nofollow noreferrer\"><code>gradle-wrapper.properties</code></a> in the project that it downloads Gradle 4.4.1."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1657725699,"post_id":72968643,"comment_id":128880154,"body_markdown":"The `gradle -v` output is your locally installed gradle. Most projects use a gradle wrapepr to use their own defined gradle version. The project you link to explicitly references Gradle 4.4.1. So no matter what else you have installed locally, if you run `./gradlew` (or your IDE does the equivalent) then that version will be used (and downloaded, if necessary).","body":"The <code>gradle -v</code> output is your locally installed gradle. Most projects use a gradle wrapepr to use their own defined gradle version. The project you link to explicitly references Gradle 4.4.1. So no matter what else you have installed locally, if you run <code>.&#47;gradlew</code> (or your IDE does the equivalent) then that version will be used (and downloaded, if necessary)."}],"answers":[{"tags":[],"owner":{"account_id":39155,"reputation":6542,"user_id":112818,"accept_rate":100,"display_name":"Chris Sears"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657742160,"creation_date":1657742160,"answer_id":72971931,"question_id":72968643,"body_markdown":"The compatibility matrix you mentioned (https://docs.gradle.org/current/userguide/compatibility.html) specifically says no version of Gradle (currently at version 7.4.2) is compatible with Java 18 yet.\r\n\r\nYour best bet is to try installing/switching to an older version of Java (like 8 perhaps) and running the `./gradlew` wrapper as @Joachim Sauer suggested. That should automatically download and install Gradle 4.4.1.\r\n","title":"The JDK 18.0.1 isn&#39;t compatible with Gradle 4.4.1","body":"<p>The compatibility matrix you mentioned (<a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a>) specifically says no version of Gradle (currently at version 7.4.2) is compatible with Java 18 yet.</p>\n<p>Your best bet is to try installing/switching to an older version of Java (like 8 perhaps) and running the <code>./gradlew</code> wrapper as @Joachim Sauer suggested. That should automatically download and install Gradle 4.4.1.</p>\n"}],"owner":{"account_id":18023257,"reputation":13,"user_id":13099912,"display_name":"Lama Alsharyan "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5502,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72971931,"answer_count":1,"score":1,"last_activity_date":1657742160,"creation_date":1657725239,"question_id":72968643,"body_markdown":"I used Mac Machine and IntelliJ Idea. I found this Compatibility Matrix of `Gradel` and `Java`.\r\n[https://docs.gradle.org/current/userguide/compatibility.html][1]\r\n\r\nI try to import this project [https://github.com/udacity/ud282][2]\r\nfrom Github and when I try to run build.Gradle it shows me error Message:\r\n\r\n    JDK 18.0.1 isn&#39;t compatible with Gradle 4.4.1. Please fix JAVA_HOME environment variable.\r\n\r\nwhen I ask the `shell` to show me `JAVA_HOME` using `echo $JAVA_HOME` command it shows the path \r\n\r\n    /Users/lama/Library/Java/JavaVirtualMachines/openjdk-18.0.1.1/Contents/Home\r\n\r\nAnd another error Message: \r\n\r\n    Unsupported Java. \r\n    Your build is currently configured to use Java 16.0.2. It&#39;s recommended to use Gradle 7.0 or newer.\r\n    \r\n    Possible solution:\r\n     - Use Java 1.8 as Gradle JVM: Open Gradle settings \r\n     - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\r\n\r\nWhen I ask the `shell` about the `Gradle` version `gradle -v` it shows:\r\n\r\n    ------------------------------------------------------------\r\n    Gradle 7.4.2\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2022-03-31 15:25:29 UTC\r\n    Revision:     540473b8118064efcc264694cbcaa4b677f61041\r\n    \r\n    Kotlin:       1.5.31\r\n    Groovy:       3.0.9\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          18.0.1.1 (Oracle Corporation 18.0.1.1+2-6)\r\n    OS:           Mac OS X 11.6 x86_64\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html\r\n  [2]: https://github.com/udacity/ud282","title":"The JDK 18.0.1 isn&#39;t compatible with Gradle 4.4.1","body":"<p>I used Mac Machine and IntelliJ Idea. I found this Compatibility Matrix of <code>Gradel</code> and <code>Java</code>.\n<a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html</a></p>\n<p>I try to import this project <a href=\"https://github.com/udacity/ud282\" rel=\"nofollow noreferrer\">https://github.com/udacity/ud282</a>\nfrom Github and when I try to run build.Gradle it shows me error Message:</p>\n<pre><code>JDK 18.0.1 isn't compatible with Gradle 4.4.1. Please fix JAVA_HOME environment variable.\n</code></pre>\n<p>when I ask the <code>shell</code> to show me <code>JAVA_HOME</code> using <code>echo $JAVA_HOME</code> command it shows the path</p>\n<pre><code>/Users/lama/Library/Java/JavaVirtualMachines/openjdk-18.0.1.1/Contents/Home\n</code></pre>\n<p>And another error Message:</p>\n<pre><code>Unsupported Java. \nYour build is currently configured to use Java 16.0.2. It's recommended to use Gradle 7.0 or newer.\n\nPossible solution:\n - Use Java 1.8 as Gradle JVM: Open Gradle settings \n - Open Gradle wrapper settings, change `distributionUrl` property to use compatible Gradle version and reload the project\n</code></pre>\n<p>When I ask the <code>shell</code> about the <code>Gradle</code> version <code>gradle -v</code> it shows:</p>\n<pre><code>------------------------------------------------------------\nGradle 7.4.2\n------------------------------------------------------------\n\nBuild time:   2022-03-31 15:25:29 UTC\nRevision:     540473b8118064efcc264694cbcaa4b677f61041\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          18.0.1.1 (Oracle Corporation 18.0.1.1+2-6)\nOS:           Mac OS X 11.6 x86_64\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1657742030,"post_id":72971677,"comment_id":128885641,"body_markdown":"You never assign a value to your lists: `private List&lt;Player&gt; players;` is initialized with `null` and you never set it to a different value.","body":"You never assign a value to your lists: <code>private List&lt;Player&gt; players;</code> is initialized with <code>null</code> and you never set it to a different value."},{"owner":{"account_id":14653977,"reputation":11,"user_id":10583111,"display_name":"James Cervantes"},"score":0,"creation_date":1657826415,"post_id":72971677,"comment_id":128909022,"body_markdown":"Yes this makes sense actually, from both answers. So I need to set the list when I set the relationship as such                                                                                                   \n`@OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL, orphanRemoval = true)`\n`private List&lt;Player&gt; players = new ArrayList&lt;&gt;();`","body":"Yes this makes sense actually, from both answers. So I need to set the list when I set the relationship as such                                                                                                    <code>@OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL, orphanRemoval = true)</code> <code>private List&lt;Player&gt; players = new ArrayList&lt;&gt;();</code>"},{"owner":{"account_id":14653977,"reputation":11,"user_id":10583111,"display_name":"James Cervantes"},"score":0,"creation_date":1657827839,"post_id":72971677,"comment_id":128909467,"body_markdown":"***UPDATE***, I understand lol, power of contructors lol, I set my contructors to init entity lists","body":"<b><i>UPDATE</i></b>, I understand lol, power of contructors lol, I set my contructors to init entity lists"}],"answers":[{"tags":[],"owner":{"account_id":3175510,"reputation":2055,"user_id":2683501,"accept_rate":82,"display_name":"pL4Gu33"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657742102,"creation_date":1657742102,"answer_id":72971918,"question_id":72971677,"body_markdown":"In `loadPlayerTeamData()` you create a new Team `Team team = new Team();` and than you try to add a player on a not initialized `players` list","title":"NullPointerException after implementing an tournaments entity","body":"<p>In <code>loadPlayerTeamData()</code> you create a new Team <code>Team team = new Team();</code> and than you try to add a player on a not initialized <code>players</code> list</p>\n"}],"owner":{"account_id":14653977,"reputation":11,"user_id":10583111,"display_name":"James Cervantes"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657826326,"answer_count":1,"score":0,"last_activity_date":1657742102,"creation_date":1657740778,"question_id":72971677,"body_markdown":"NullPointerException after implementing an tournaments entity\r\n=======\r\n\r\nI am trying to create seed data for use on client side testing w/ angular\r\n\r\nThis the relationship between the entities,\r\n \r\nGames Entity\r\n - Games can only have 1 away team but team can have many away games\r\n - Games can only have 1 home team but team can have many home games\r\n - Games can only have 1 tournamnet but tournament can have many games\r\n\r\nGames properties below, Games is not owning any of these relationships\r\n```\r\n    private Date date;\r\n\t\r\n\tprivate String location;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;home_team_id&quot;)\r\n\tprivate Team home;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;away_team_id&quot;)\r\n\tprivate Team away;\r\n\t\r\n\t@ManyToOne(optional = true)\r\n\t@JoinColumn(name=&quot;tournament_id&quot;)\r\n\tprivate Tournaments tournament;\r\n```\r\nNow Player,\r\n\r\n - player can only have 1 stats and stats can only be assigned 1 player, player owns this relationship\r\n - Player can only be part of 1 team and a team can have many, Team owns this relationship\r\n\r\nPlayer entity below,\r\n```\r\n    @OneToOne(mappedBy = &quot;player&quot;, cascade = CascadeType.ALL)\r\n\t@PrimaryKeyJoinColumn\r\n\tprivate PlayerStats stats;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name= &quot;team_id&quot;)\r\n\tprivate Team team;\r\n\t\r\n\tprivate String name;\r\n\t\r\n\t@Enumerated(EnumType.STRING)\r\n\tprivate TeamRole position;\r\n```\r\nNow Team, \r\n\r\n - Team is asigned 1 team stats and teamstats can only be assigned with 1 team, teams owns this relationship\r\n - Team can have many players and players can only have 1 team, teams owns this relationship\r\n - Team can have many homeGames but Games can only have one home team, same for teams awayGames, teams owns this relationship\r\n - Team can have many tournaments and tournaments can have many teams, tournaments own this relationship\r\nTeam entity below, *Note console references this entity, commented the line in which the console is referencing*\r\n```\r\n    private String name;\r\n\t\r\n\t@OneToOne(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL)\r\n\t@PrimaryKeyJoinColumn\r\n\tprivate TeamStats stats;\r\n\t\r\n\t@OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n\tprivate List&lt;Player&gt; players;\r\n\t\r\n\t@OneToMany( mappedBy = &quot;home&quot;, cascade = CascadeType.ALL )\r\n\tprivate List&lt;Games&gt; homeGames;\r\n\r\n\t@OneToMany( mappedBy= &quot;away&quot;, cascade = CascadeType.ALL )\r\n\tprivate List&lt;Games&gt; awayGames;\r\n\t\r\n\t//MANY TEAMS TO MANY \r\n\t@ManyToMany(mappedBy=&quot;numOfParticpants&quot;)\r\n\tprivate List&lt;Tournaments&gt; upcommingTournaments;\r\n    \r\n    public void addPlayer(Player player) {\r\n\t\tplayers.add(player);//console reference this line\r\n\t\tplayer.setTeam(this);\r\n\t}\r\n\t\r\n\tpublic void removePlayer(Player player) {\r\n\t\tplayers.remove(player);\r\n\t\tplayer.setTeam(null);\r\n\t}\r\n\t\r\n\tpublic void addHomeGame(Games game) {\r\n\t\thomeGames.add(game);\r\n\t\tgame.setHome(this);\r\n\t}\r\n\tpublic void removeHomeGame(Games game) {\r\n\t\thomeGames.remove(game);\r\n\t\tgame.setHome(null);\r\n\t}\r\n\tpublic void addAwayGame(Games game) {\r\n\t\tawayGames.add(game);\r\n\t\tgame.setAway(this);\r\n\t}\r\n\tpublic void removeAwayGame(Games game) {\r\n\t\tawayGames.remove(game);\r\n\t\tgame.setAway(null);\r\n\t}\r\n```\r\nNow all my implementations worked perfectly fine before implementing the tournaments entity and its relationships with the other entities so my, `loadPlayerTeamData()` &amp; `loadGamesData()` worked perfectly fine until I implemented `loadTournamentsData()` and the tournaments entity and its relationships\r\n\r\n - Tournament can have many participants(Team) and a Team can participate in many tournaments\r\n - Tournament can have many games but a game can only be assigned to one tournament, IF a game is for a tournament otherwise the game will null value if game is just exhibition\r\n\r\nTournament owns all these relationships\r\n\r\nTournament entity\r\n```\r\n    private String name;\r\n\t\r\n\tprivate Date scheduledDate;\r\n\t\r\n\t//MANY TOURNAMENTS TO MANY TEAMS\r\n\t@ManyToMany(cascade = {CascadeType.PERSIST,CascadeType.MERGE})\r\n\t@JoinTable(\r\n\t\t\tname= &quot;tournament_participants&quot;,\r\n\t\t\tjoinColumns= @JoinColumn(name = &quot;team_id&quot;),\r\n\t\t\tinverseJoinColumns= @JoinColumn(name=&quot;tournament_id&quot;)\r\n\t\t)\r\n\tprivate List &lt;Team&gt; numOfParticpants;\r\n\t\r\n\t@OneToMany(mappedBy=&quot;tournament&quot;, cascade = CascadeType.ALL)\r\n\tprivate List &lt;Games&gt; totalGames;\r\n\t\r\n\tprivate String location;\r\n\t\r\n\tprivate TournamentSize tournamentSize;\r\n\r\n    public void addParticipant(Team team) {\r\n\t\tthis.numOfParticpants.add(team);\r\n\t\tteam.getUpcommingTournaments().add(this);\r\n\t}\r\n\t\r\n\tpublic void removeParticipant(Team team) {\t\r\n\t\tthis.numOfParticpants.remove(team);\r\n\t\tteam.getUpcommingTournaments().remove(this);\r\n\t}\r\n\tpublic void addGame(Games game) {\r\n\t\tthis.totalGames.add(game);\r\n\t\tgame.setTournament(this);\r\n\t}\r\n\tpublic void removeGame(Games game) {\r\n\t\tthis.totalGames.remove(game);\r\n\t\tgame.setTournament(null);\r\n\t}\r\n```\r\nAgain, everything was working fine before implementing tournaments and its relationships, no null pointer exception, no errors at all, my databases were being populated\r\n\r\nMy question is, **WHAT WENT WRONG LOL**, i get a nullPointException within my `loadPlayerTeamDataSeed()` when before implementing tournaments this wasnt a issue.\r\n\r\nConsole,\r\n\r\n```\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.List.add(Object)&quot; because &quot;this.players&quot; is null\r\n\tat com.unknown.server.model.Team.addPlayer(Team.java:105) ~[classes/:na]\r\n\tat com.unknown.server.dataseed.DataSeed.loadPlayerTeamData(DataSeed.java:88) ~[classes/:na]\r\n\tat com.unknown.server.dataseed.DataSeed.run(DataSeed.java:55) ~[classes/:na]\r\n```\r\n\r\nSeeding implementation below,\r\n```\r\n\tprivate void loadPlayerTeamData() {\r\n\t\tList&lt;Team&gt; teamList = teamService.getAllTeams().get();\r\n\t\t\r\n\t\tTeam team = new Team();\r\n\t\t\r\n\t\twhile(teamList.size() &lt; 50) {\r\n\t\t\t//set player name and position\r\n\t\t\tPlayer player = new Player();\r\n\t\t\tplayer.setName(faker.name().fullName());\r\n\t\t\tplayer.setPosition(TeamRole.randomRole());\r\n\t\t\t\r\n\t\t\t//set playerStats\r\n\t\t\tPlayerStats playerStats = new PlayerStats(\r\n\t\t\t\t\tplayer, \r\n\t\t\t\t\tfaker.number().numberBetween(1, 20),\r\n\t\t\t\t\tfaker.number().numberBetween(1, 20),\r\n\t\t\t\t\tfaker.number().numberBetween(1, 20),\r\n\t\t\t\t\tfaker.number().numberBetween(2, 40),\r\n\t\t\t\t\tfaker.number().numberBetween(1, 20),\r\n\t\t\t\t\tfaker.number().numberBetween(1, 20));\r\n\t\t\t\r\n\t\t\tplayer.setStats(playerStats);\r\n\t\t\t\r\n\t\t\t//add player to team\r\n\t\t\tteam.addPlayer(player); //This what the console is refering to\r\n\t\t\tif(team.getPlayers().size() &gt;= 10) {\r\n\t\t\t\t//Set team and teamStats data\r\n\t\t\t\tint assists = 0, blocks = 0, \r\n\t\t\t\t\tpoints = 0, rebounds = 0, \r\n\t\t\t\t\tsteals = 0, turnovers = 0;\r\n\t\t\t\tfor(Player p: team.getPlayers()) {\r\n\t\t\t\t\tassists =assists+p.getStats().getAssist();\r\n\t\t\t\t\tblocks= blocks+p.getStats().getBlocks();\r\n\t\t\t\t\tpoints= points+p.getStats().getPoints();\r\n\t\t\t\t\trebounds= rebounds+p.getStats().getRebounds();\r\n\t\t\t\t\tsteals= steals+p.getStats().getRebounds();\r\n\t\t\t\t\tturnovers= turnovers+p.getStats().getTurnovers();\r\n\t\t\t\t}\r\n\t\t\t\tTeamStats teamStats = new TeamStats(\r\n\t\t\t\t\t\trebounds/team.getPlayers().size(), \r\n\t\t\t\t\t\tassists/team.getPlayers().size(), \r\n\t\t\t\t\t\tblocks/team.getPlayers().size(), \r\n\t\t\t\t\t\tpoints/team.getPlayers().size(), \r\n\t\t\t\t\t\tsteals/team.getPlayers().size(), \r\n\t\t\t\t\t\tturnovers/team.getPlayers().size());\r\n\t\t\t\tteam.setName(faker.pokemon().name());\r\n\t\t\t\tteam.setStats(teamStats);\r\n\t\t\t\t\r\n\t\t\t\tteamService.addTeam(team);\r\n\t\t\t\t\r\n\t\t\t\tteam = new Team();\r\n\t\t\t\tteamList = teamService.getAllTeams().get();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t//3 away games and 3 home games per team \r\n\tprivate void loadGamesData() {\r\n\t\tList&lt;Games&gt; games = new ArrayList&lt;Games&gt;();\r\n\t\t\t\r\n\t\tList&lt;Team&gt; teams = teamService.getAllTeams().get();\r\n\t\t\t\r\n\t\twhile(teams.size() &gt; 1) {\r\n\t\t\tTeam t = teams.get(0);\r\n\t\t\tteams.remove(0);\r\n\t\t\twhile(t.getHomeGames().size() &lt; 2) {\r\n\t\t\t\tint a = teams.size() == 2 ? faker.number().numberBetween(teams.size()/2, teams.size()-1) : faker.number().numberBetween(0, teams.size()-1);\r\n\t\t\t\t\r\n\t\t\t\tDate d = faker.date().future(1, TimeUnit.DAYS);\r\n\t\t\t\tString location = faker.address().fullAddress();\r\n\t\t\t\t\r\n\t\t\t\tTeam opp = teams.get(a);\r\n\t\t\t\t\r\n\t\t\t\tGames game = new Games(d, location, t, opp, null);\r\n\t\t\t\tt.addHomeGame(game);\r\n\t\t\t\topp.addAwayGame(game);\r\n\t\t\t\tgames.add(game);\r\n\t\t\t}\r\n\t\t\twhile(t.getAwayGames().size() &lt; 2) {\r\n\t\t\t\tint a = teams.size() == 2 ? faker.number().numberBetween(0, teams.size()/2) : faker.number().numberBetween(0, teams.size()-1);\r\n\t\t\t\t\r\n\t\t\t\tDate d = faker.date().future(1, TimeUnit.DAYS);\r\n\t\t\t\tString location = faker.address().fullAddress();\r\n\t\t\t\t\r\n\t\t\t\tTeam opp = teams.get(a);\r\n\t\t\t\t\r\n\t\t\t\tGames game = new Games(d, location, opp, t, null);\r\n\t\t\t\tt.addAwayGame(game);\r\n\t\t\t\topp.addHomeGame(game);\r\n\t\t\t\tgames.add(game);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\t\r\n\t\tfor(Games g: games) {\r\n\t\t\tgamesService.addGame(g);\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void loadTournamentsData() {\r\n\t\tList&lt;Tournaments&gt; tournies = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tList&lt;Team&gt; teams = teamService.getAllTeams().get();\r\n\t\t\r\n\t\tList&lt;Team&gt; scheduled = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\twhile(tournies.size() &lt; 10){\r\n\t\t\tTournaments tournie = new Tournaments();\r\n\t\t\tString location = faker.address().fullAddress();\r\n\t\t\ttournie.setName(faker.pokemon().name());\r\n\t\t\ttournie.setLocation(location);\r\n\t\t\ttournie.setScheduledDate(faker.date().future(50, TimeUnit.DAYS));\r\n\t\t\t\r\n\t\t\t//populate list of participants and add to tournament\r\n\t\t\tfor(int i = 0; i &lt; TournamentSize.fixedSize(TournamentSize.EIGHT); i++) {\r\n\t\t\t\tTeam team = teams.get(faker.number().numberBetween(0, teams.size()-1));\r\n\t\t\t\tscheduled.add(team);\r\n\t\t\t\tteams.remove(team);\r\n\t\t\t\ttournie.addParticipant(team);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//create games\r\n\t\t\tint opp1 = 0, opp2 = scheduled.size()-1;\r\n\t\t\twhile(opp1 &lt; opp2) {\r\n\t\t\t\tTeam home = scheduled.get(opp1);\r\n\t\t\t\tTeam away = scheduled.get(opp2);\r\n\t\t\t\t\r\n\t\t\t\tGames game = new Games(\r\n\t\t\t\t\t\tfaker.date().future(52, TimeUnit.DAYS),\r\n\t\t\t\t\t\tlocation,\r\n\t\t\t\t\t\thome,\r\n\t\t\t\t\t\taway,\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t\t);\r\n\t\t\t\ttournie.addGame(game);\r\n\t\t\t\topp1++;\r\n\t\t\t\topp2--;\r\n\t\t\t}\r\n\t\t\ttournies.add(tournie);\r\n\t\t\tscheduled.clear();\r\n\t\t}\r\n\t\tfor(Tournaments t: tournies) {\r\n\t\t\ttournamentsService.addTournament(t);\r\n\t\t}\r\n\t\t\r\n\t}\r\n```\r\n\r\n**It&#39;s important to remember before implementing the tournaments entity and its classes this was not a issue**, should I use NoSQL instead of SQL, I know that would probably be best but SQL works for alot of my data except for tournaments it seems.\r\n\r\nTHank you to anyone who tries to help","title":"NullPointerException after implementing an tournaments entity","body":"<h1>NullPointerException after implementing an tournaments entity</h1>\n<p>I am trying to create seed data for use on client side testing w/ angular</p>\n<p>This the relationship between the entities,</p>\n<p>Games Entity</p>\n<ul>\n<li>Games can only have 1 away team but team can have many away games</li>\n<li>Games can only have 1 home team but team can have many home games</li>\n<li>Games can only have 1 tournamnet but tournament can have many games</li>\n</ul>\n<p>Games properties below, Games is not owning any of these relationships</p>\n<pre><code>    private Date date;\n    \n    private String location;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;home_team_id&quot;)\n    private Team home;\n    \n    @ManyToOne\n    @JoinColumn(name=&quot;away_team_id&quot;)\n    private Team away;\n    \n    @ManyToOne(optional = true)\n    @JoinColumn(name=&quot;tournament_id&quot;)\n    private Tournaments tournament;\n</code></pre>\n<p>Now Player,</p>\n<ul>\n<li>player can only have 1 stats and stats can only be assigned 1 player, player owns this relationship</li>\n<li>Player can only be part of 1 team and a team can have many, Team owns this relationship</li>\n</ul>\n<p>Player entity below,</p>\n<pre><code>    @OneToOne(mappedBy = &quot;player&quot;, cascade = CascadeType.ALL)\n    @PrimaryKeyJoinColumn\n    private PlayerStats stats;\n    \n    @ManyToOne\n    @JoinColumn(name= &quot;team_id&quot;)\n    private Team team;\n    \n    private String name;\n    \n    @Enumerated(EnumType.STRING)\n    private TeamRole position;\n</code></pre>\n<p>Now Team,</p>\n<ul>\n<li>Team is asigned 1 team stats and teamstats can only be assigned with 1 team, teams owns this relationship</li>\n<li>Team can have many players and players can only have 1 team, teams owns this relationship</li>\n<li>Team can have many homeGames but Games can only have one home team, same for teams awayGames, teams owns this relationship</li>\n<li>Team can have many tournaments and tournaments can have many teams, tournaments own this relationship\nTeam entity below, <em>Note console references this entity, commented the line in which the console is referencing</em></li>\n</ul>\n<pre><code>    private String name;\n    \n    @OneToOne(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL)\n    @PrimaryKeyJoinColumn\n    private TeamStats stats;\n    \n    @OneToMany(mappedBy = &quot;team&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n    private List&lt;Player&gt; players;\n    \n    @OneToMany( mappedBy = &quot;home&quot;, cascade = CascadeType.ALL )\n    private List&lt;Games&gt; homeGames;\n\n    @OneToMany( mappedBy= &quot;away&quot;, cascade = CascadeType.ALL )\n    private List&lt;Games&gt; awayGames;\n    \n    //MANY TEAMS TO MANY \n    @ManyToMany(mappedBy=&quot;numOfParticpants&quot;)\n    private List&lt;Tournaments&gt; upcommingTournaments;\n    \n    public void addPlayer(Player player) {\n        players.add(player);//console reference this line\n        player.setTeam(this);\n    }\n    \n    public void removePlayer(Player player) {\n        players.remove(player);\n        player.setTeam(null);\n    }\n    \n    public void addHomeGame(Games game) {\n        homeGames.add(game);\n        game.setHome(this);\n    }\n    public void removeHomeGame(Games game) {\n        homeGames.remove(game);\n        game.setHome(null);\n    }\n    public void addAwayGame(Games game) {\n        awayGames.add(game);\n        game.setAway(this);\n    }\n    public void removeAwayGame(Games game) {\n        awayGames.remove(game);\n        game.setAway(null);\n    }\n</code></pre>\n<p>Now all my implementations worked perfectly fine before implementing the tournaments entity and its relationships with the other entities so my, <code>loadPlayerTeamData()</code> &amp; <code>loadGamesData()</code> worked perfectly fine until I implemented <code>loadTournamentsData()</code> and the tournaments entity and its relationships</p>\n<ul>\n<li>Tournament can have many participants(Team) and a Team can participate in many tournaments</li>\n<li>Tournament can have many games but a game can only be assigned to one tournament, IF a game is for a tournament otherwise the game will null value if game is just exhibition</li>\n</ul>\n<p>Tournament owns all these relationships</p>\n<p>Tournament entity</p>\n<pre><code>    private String name;\n    \n    private Date scheduledDate;\n    \n    //MANY TOURNAMENTS TO MANY TEAMS\n    @ManyToMany(cascade = {CascadeType.PERSIST,CascadeType.MERGE})\n    @JoinTable(\n            name= &quot;tournament_participants&quot;,\n            joinColumns= @JoinColumn(name = &quot;team_id&quot;),\n            inverseJoinColumns= @JoinColumn(name=&quot;tournament_id&quot;)\n        )\n    private List &lt;Team&gt; numOfParticpants;\n    \n    @OneToMany(mappedBy=&quot;tournament&quot;, cascade = CascadeType.ALL)\n    private List &lt;Games&gt; totalGames;\n    \n    private String location;\n    \n    private TournamentSize tournamentSize;\n\n    public void addParticipant(Team team) {\n        this.numOfParticpants.add(team);\n        team.getUpcommingTournaments().add(this);\n    }\n    \n    public void removeParticipant(Team team) {  \n        this.numOfParticpants.remove(team);\n        team.getUpcommingTournaments().remove(this);\n    }\n    public void addGame(Games game) {\n        this.totalGames.add(game);\n        game.setTournament(this);\n    }\n    public void removeGame(Games game) {\n        this.totalGames.remove(game);\n        game.setTournament(null);\n    }\n</code></pre>\n<p>Again, everything was working fine before implementing tournaments and its relationships, no null pointer exception, no errors at all, my databases were being populated</p>\n<p>My question is, <strong>WHAT WENT WRONG LOL</strong>, i get a nullPointException within my <code>loadPlayerTeamDataSeed()</code> when before implementing tournaments this wasnt a issue.</p>\n<p>Console,</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;java.util.List.add(Object)&quot; because &quot;this.players&quot; is null\n    at com.unknown.server.model.Team.addPlayer(Team.java:105) ~[classes/:na]\n    at com.unknown.server.dataseed.DataSeed.loadPlayerTeamData(DataSeed.java:88) ~[classes/:na]\n    at com.unknown.server.dataseed.DataSeed.run(DataSeed.java:55) ~[classes/:na]\n</code></pre>\n<p>Seeding implementation below,</p>\n<pre><code>    private void loadPlayerTeamData() {\n        List&lt;Team&gt; teamList = teamService.getAllTeams().get();\n        \n        Team team = new Team();\n        \n        while(teamList.size() &lt; 50) {\n            //set player name and position\n            Player player = new Player();\n            player.setName(faker.name().fullName());\n            player.setPosition(TeamRole.randomRole());\n            \n            //set playerStats\n            PlayerStats playerStats = new PlayerStats(\n                    player, \n                    faker.number().numberBetween(1, 20),\n                    faker.number().numberBetween(1, 20),\n                    faker.number().numberBetween(1, 20),\n                    faker.number().numberBetween(2, 40),\n                    faker.number().numberBetween(1, 20),\n                    faker.number().numberBetween(1, 20));\n            \n            player.setStats(playerStats);\n            \n            //add player to team\n            team.addPlayer(player); //This what the console is refering to\n            if(team.getPlayers().size() &gt;= 10) {\n                //Set team and teamStats data\n                int assists = 0, blocks = 0, \n                    points = 0, rebounds = 0, \n                    steals = 0, turnovers = 0;\n                for(Player p: team.getPlayers()) {\n                    assists =assists+p.getStats().getAssist();\n                    blocks= blocks+p.getStats().getBlocks();\n                    points= points+p.getStats().getPoints();\n                    rebounds= rebounds+p.getStats().getRebounds();\n                    steals= steals+p.getStats().getRebounds();\n                    turnovers= turnovers+p.getStats().getTurnovers();\n                }\n                TeamStats teamStats = new TeamStats(\n                        rebounds/team.getPlayers().size(), \n                        assists/team.getPlayers().size(), \n                        blocks/team.getPlayers().size(), \n                        points/team.getPlayers().size(), \n                        steals/team.getPlayers().size(), \n                        turnovers/team.getPlayers().size());\n                team.setName(faker.pokemon().name());\n                team.setStats(teamStats);\n                \n                teamService.addTeam(team);\n                \n                team = new Team();\n                teamList = teamService.getAllTeams().get();\n            }\n        }\n        \n    }\n    \n    //3 away games and 3 home games per team \n    private void loadGamesData() {\n        List&lt;Games&gt; games = new ArrayList&lt;Games&gt;();\n            \n        List&lt;Team&gt; teams = teamService.getAllTeams().get();\n            \n        while(teams.size() &gt; 1) {\n            Team t = teams.get(0);\n            teams.remove(0);\n            while(t.getHomeGames().size() &lt; 2) {\n                int a = teams.size() == 2 ? faker.number().numberBetween(teams.size()/2, teams.size()-1) : faker.number().numberBetween(0, teams.size()-1);\n                \n                Date d = faker.date().future(1, TimeUnit.DAYS);\n                String location = faker.address().fullAddress();\n                \n                Team opp = teams.get(a);\n                \n                Games game = new Games(d, location, t, opp, null);\n                t.addHomeGame(game);\n                opp.addAwayGame(game);\n                games.add(game);\n            }\n            while(t.getAwayGames().size() &lt; 2) {\n                int a = teams.size() == 2 ? faker.number().numberBetween(0, teams.size()/2) : faker.number().numberBetween(0, teams.size()-1);\n                \n                Date d = faker.date().future(1, TimeUnit.DAYS);\n                String location = faker.address().fullAddress();\n                \n                Team opp = teams.get(a);\n                \n                Games game = new Games(d, location, opp, t, null);\n                t.addAwayGame(game);\n                opp.addHomeGame(game);\n                games.add(game);\n            }\n        }\n            \n        for(Games g: games) {\n            gamesService.addGame(g);\n        }\n    }\n    \n    private void loadTournamentsData() {\n        List&lt;Tournaments&gt; tournies = new ArrayList&lt;&gt;();\n        \n        List&lt;Team&gt; teams = teamService.getAllTeams().get();\n        \n        List&lt;Team&gt; scheduled = new ArrayList&lt;&gt;();\n        \n        while(tournies.size() &lt; 10){\n            Tournaments tournie = new Tournaments();\n            String location = faker.address().fullAddress();\n            tournie.setName(faker.pokemon().name());\n            tournie.setLocation(location);\n            tournie.setScheduledDate(faker.date().future(50, TimeUnit.DAYS));\n            \n            //populate list of participants and add to tournament\n            for(int i = 0; i &lt; TournamentSize.fixedSize(TournamentSize.EIGHT); i++) {\n                Team team = teams.get(faker.number().numberBetween(0, teams.size()-1));\n                scheduled.add(team);\n                teams.remove(team);\n                tournie.addParticipant(team);\n            }\n            \n            //create games\n            int opp1 = 0, opp2 = scheduled.size()-1;\n            while(opp1 &lt; opp2) {\n                Team home = scheduled.get(opp1);\n                Team away = scheduled.get(opp2);\n                \n                Games game = new Games(\n                        faker.date().future(52, TimeUnit.DAYS),\n                        location,\n                        home,\n                        away,\n                        null\n                        );\n                tournie.addGame(game);\n                opp1++;\n                opp2--;\n            }\n            tournies.add(tournie);\n            scheduled.clear();\n        }\n        for(Tournaments t: tournies) {\n            tournamentsService.addTournament(t);\n        }\n        \n    }\n</code></pre>\n<p><strong>It's important to remember before implementing the tournaments entity and its classes this was not a issue</strong>, should I use NoSQL instead of SQL, I know that would probably be best but SQL works for alot of my data except for tournaments it seems.</p>\n<p>THank you to anyone who tries to help</p>\n"},{"tags":["java","apache-spark","amazon-s3","avro","parquet"],"comments":[{"owner":{"account_id":5803269,"reputation":1008,"user_id":4576795,"display_name":"Sanchit Grover"},"score":0,"creation_date":1573212581,"post_id":58763899,"comment_id":103817207,"body_markdown":"Can you post your code here ?","body":"Can you post your code here ?"},{"owner":{"account_id":10420863,"reputation":1,"user_id":7683577,"display_name":"Mohan"},"score":0,"creation_date":1573452584,"post_id":58763899,"comment_id":103873561,"body_markdown":"I&#39;ve added the code above","body":"I&#39;ve added the code above"}],"answers":[{"tags":[],"owner":{"account_id":4919943,"reputation":1,"user_id":3962771,"display_name":"Alain Zapanta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657741515,"creation_date":1657741515,"answer_id":72971819,"question_id":58763899,"body_markdown":"I was able to fix the `java.io.IOException: File already exists:...` error by adding \r\n```\r\nwriter = AvroParquetWriter\r\n        .withWriteMode(Mode.OVERWRITE)...\r\n```\r\n","title":"How to generate parquet file with large amount of data using Java and upload to aws s3 bucket","body":"<p>I was able to fix the <code>java.io.IOException: File already exists:...</code> error by adding</p>\n<pre><code>writer = AvroParquetWriter\n        .withWriteMode(Mode.OVERWRITE)...\n</code></pre>\n"}],"owner":{"account_id":10420863,"reputation":1,"user_id":7683577,"display_name":"Mohan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657741515,"creation_date":1573205650,"question_id":58763899,"body_markdown":"I&#39;m using setup as described on page : https://stackoverflow.com/questions/47355038/how-to-generate-parquet-file-using-pure-java-including-date-decimal-types-an/58750588#58750588\r\n\r\n    \tpublic void writeToParquet(List&lt;GenericData.Record&gt; recordsToWrite, String fileToWrite) throws IOException {\r\n       \t Configuration conf = new Configuration();\r\n       \t   conf.set(&quot;fs.s3.awsAccessKeyId&quot;, &quot;&lt;access_key&gt;&quot;);\r\n       \t   conf.set(&quot;fs.s3.awsSecretAccessKey&quot;, &quot;&lt;secret_key&gt;&quot;);\r\n       \t   \r\n       \tPath path = new Path(filePath);//filePath = &quot;s3://bucket/folder/data.parquet&quot;\r\n           try (ParquetWriter&lt;GenericData.Record&gt; writer = AvroParquetWriter\r\n                   .&lt;GenericData.Record&gt;builder(path)\r\n                   .withSchema(avroSchema)\r\n                   .withConf(conf).withRowGroupSize(16 * 1024 * 1024).withPageSize(4 * 1024 * 1024) \r\n                   .build()) {\r\n               for (GenericData.Record record : recordsToWrite) {\r\n                   writer.write(record);\r\n               }\r\n    \r\n               writer.close();\r\n           }\r\n           catch(Exception ex) {\r\n           \tex.printStackTrace();\r\n           \tLOGGER.info(&quot;ParquetWriter Exception &quot; + ex);\r\n           }\r\n       }\r\n\r\nwith same version of libs as mentioned by @Sal above. When I use small file having around 5 records all of them get converted fine, but I&#39;ve a big chunk of records around 800k (source file size 5GB+). I need to convert them to parquet.\r\n\r\nIssue 1 : When I try to store it on local drive and upload explicitly it hardly comes with 10 records with output file size roughly 5MB.\r\n\r\nIssue 2 : when I try to upload it directly to S3 as mentioned above I&#39;m facing wired issue I always get an exception after first run\r\n\r\n    java.io.IOException: File already exists: s3://mybucket/output/folder/path/myfile.parquet\r\n\r\nBut interestingly file is not present/visible at that path, still this error.\r\n\r\nIssue 3: Facing below exception\r\n\r\n    java.lang.NoSuchFieldError: workaroundNonThreadSafePasswdCalls\r\n        at org.apache.hadoop.io.nativeio.NativeIO.initNative(Native Method)\r\n        at org.apache.hadoop.io.nativeio.NativeIO.&lt;clinit&gt;(NativeIO.java:89)\r\n        at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:655)\r\n        at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:514)\r\n        at org.apache.hadoop.fs.FilterFileSystem.setPermission(FilterFileSystem.java:290)\r\n        at org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:385)\r\n        at org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:364)\r\n        at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:555)\r\n        at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:536)\r\n        at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:443)\r\n        at org.apache.parquet.hadoop.ParquetFileWriter.&lt;init&gt;(ParquetFileWriter.java:244)\r\n        at org.apache.parquet.hadoop.ParquetWriter.&lt;init&gt;(ParquetWriter.java:273)\r\n        at org.apache.parquet.hadoop.ParquetWriter$Builder.build(ParquetWriter.java:494)\r\n\r\nKindly help Thanks in Advance\r\n\r\n\r\n","title":"How to generate parquet file with large amount of data using Java and upload to aws s3 bucket","body":"<p>I'm using setup as described on page : <a href=\"https://stackoverflow.com/questions/47355038/how-to-generate-parquet-file-using-pure-java-including-date-decimal-types-an/58750588#58750588\">How to Generate Parquet File Using Pure Java (Including Date &amp; Decimal Types) And Upload to S3 [Windows] (No HDFS)</a></p>\n\n<pre><code>    public void writeToParquet(List&lt;GenericData.Record&gt; recordsToWrite, String fileToWrite) throws IOException {\n     Configuration conf = new Configuration();\n       conf.set(\"fs.s3.awsAccessKeyId\", \"&lt;access_key&gt;\");\n       conf.set(\"fs.s3.awsSecretAccessKey\", \"&lt;secret_key&gt;\");\n\n    Path path = new Path(filePath);//filePath = \"s3://bucket/folder/data.parquet\"\n       try (ParquetWriter&lt;GenericData.Record&gt; writer = AvroParquetWriter\n               .&lt;GenericData.Record&gt;builder(path)\n               .withSchema(avroSchema)\n               .withConf(conf).withRowGroupSize(16 * 1024 * 1024).withPageSize(4 * 1024 * 1024) \n               .build()) {\n           for (GenericData.Record record : recordsToWrite) {\n               writer.write(record);\n           }\n\n           writer.close();\n       }\n       catch(Exception ex) {\n        ex.printStackTrace();\n        LOGGER.info(\"ParquetWriter Exception \" + ex);\n       }\n   }\n</code></pre>\n\n<p>with same version of libs as mentioned by @Sal above. When I use small file having around 5 records all of them get converted fine, but I've a big chunk of records around 800k (source file size 5GB+). I need to convert them to parquet.</p>\n\n<p>Issue 1 : When I try to store it on local drive and upload explicitly it hardly comes with 10 records with output file size roughly 5MB.</p>\n\n<p>Issue 2 : when I try to upload it directly to S3 as mentioned above I'm facing wired issue I always get an exception after first run</p>\n\n<pre><code>java.io.IOException: File already exists: s3://mybucket/output/folder/path/myfile.parquet\n</code></pre>\n\n<p>But interestingly file is not present/visible at that path, still this error.</p>\n\n<p>Issue 3: Facing below exception</p>\n\n<pre><code>java.lang.NoSuchFieldError: workaroundNonThreadSafePasswdCalls\n    at org.apache.hadoop.io.nativeio.NativeIO.initNative(Native Method)\n    at org.apache.hadoop.io.nativeio.NativeIO.&lt;clinit&gt;(NativeIO.java:89)\n    at org.apache.hadoop.fs.FileUtil.setPermission(FileUtil.java:655)\n    at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:514)\n    at org.apache.hadoop.fs.FilterFileSystem.setPermission(FilterFileSystem.java:290)\n    at org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:385)\n    at org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:364)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:555)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:536)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:443)\n    at org.apache.parquet.hadoop.ParquetFileWriter.&lt;init&gt;(ParquetFileWriter.java:244)\n    at org.apache.parquet.hadoop.ParquetWriter.&lt;init&gt;(ParquetWriter.java:273)\n    at org.apache.parquet.hadoop.ParquetWriter$Builder.build(ParquetWriter.java:494)\n</code></pre>\n\n<p>Kindly help Thanks in Advance</p>\n"},{"tags":["java","android","android-layout","admob","ads"],"answers":[{"tags":[],"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657741496,"creation_date":1657741496,"answer_id":72971814,"question_id":72958696,"body_markdown":"You should call `MobileAds.initialize()` before ad requests to prepare GMA SDK. Just call it once in the main activity or your first screen.\r\n\r\nBut even if you do not initialize it, Google Mobile Ads will be initialized at the first ad request.\r\n\r\nAnother point is that you are initializing mobile ads with an empty `OnInitializationCompleteListener`. It does nothing. You can also use **`MobileAds.initialize(this);`**","title":"Initialize the Google Mobile Ads SDK - mainactivity","body":"<p>You should call <code>MobileAds.initialize()</code> before ad requests to prepare GMA SDK. Just call it once in the main activity or your first screen.</p>\n<p>But even if you do not initialize it, Google Mobile Ads will be initialized at the first ad request.</p>\n<p>Another point is that you are initializing mobile ads with an empty <code>OnInitializationCompleteListener</code>. It does nothing. You can also use <strong><code>MobileAds.initialize(this);</code></strong></p>\n"}],"owner":{"account_id":25425539,"reputation":9,"user_id":19230785,"display_name":"lina0i0-29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657741496,"creation_date":1657662187,"question_id":72958696,"body_markdown":"I have some doubts.\r\nI am using admob banners in 3 different activities.\r\nMainActivity | Activity1 | Activity2\r\n\r\nI only initialize google mobile ads sdk in the main page (MainActivity). (advertising works well in all activities)\r\n\r\nWould it be correct or would I have to initialize the google mobile ads sdk in each of the activity pages? -&gt;  MobileAds.initialize(...){...}\r\n\r\n**Code MainActivity:**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n                @Override\r\n                public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThank you very much for your answers","title":"Initialize the Google Mobile Ads SDK - mainactivity","body":"<p>I have some doubts.\nI am using admob banners in 3 different activities.\nMainActivity | Activity1 | Activity2</p>\n<p>I only initialize google mobile ads sdk in the main page (MainActivity). (advertising works well in all activities)</p>\n<p>Would it be correct or would I have to initialize the google mobile ads sdk in each of the activity pages? -&gt;  MobileAds.initialize(...){...}</p>\n<p><strong>Code MainActivity:</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\n            }\n        });\n    }\n}\n</code></pre>\n<p>Thank you very much for your answers</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1657736769,"post_id":72970974,"comment_id":128883947,"body_markdown":"Would you like to share what you have tried so far and what issues you&#39;re having? And should the answer be 2? Only A and C are duplicated. Also, code doesn&#39;t returns zero for `{A, B, C, D, A, C, D, C}`","body":"Would you like to share what you have tried so far and what issues you&#39;re having? And should the answer be 2? Only A and C are duplicated. Also, code doesn&#39;t returns zero for <code>{A, B, C, D, A, C, D, C}</code>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1657736881,"post_id":72970974,"comment_id":128883994,"body_markdown":"I don&#39;t think there is a &quot;good&quot; way to write this recursively.  Some problems are inherently linear and iterative.  So I assume this is an assignment.  For a hint, don&#39;t assume there&#39;s a &quot;good&quot; or elegant way to make this recursive.  You&#39;re going to have to do some ugly things to make it work that way.  The simple brute force method is probably all that&#39;s required here.","body":"I don&#39;t think there is a &quot;good&quot; way to write this recursively.  Some problems are inherently linear and iterative.  So I assume this is an assignment.  For a hint, don&#39;t assume there&#39;s a &quot;good&quot; or elegant way to make this recursive.  You&#39;re going to have to do some ugly things to make it work that way.  The simple brute force method is probably all that&#39;s required here."},{"owner":{"account_id":20830641,"reputation":21,"user_id":15300017,"display_name":"chhscs"},"score":0,"creation_date":1657737519,"post_id":72970974,"comment_id":128884212,"body_markdown":"@OneCricketeer The input is assumed to be in lexicographic order and the method should count the number of elements that are duplicates not have duplicates.","body":"@OneCricketeer The input is assumed to be in lexicographic order and the method should count the number of elements that are duplicates not have duplicates."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1657737917,"post_id":72970974,"comment_id":128884348,"body_markdown":"Again, the &quot;number of elements that have duplicates&quot; is only 2 - A and C","body":"Again, the &quot;number of elements that have duplicates&quot; is only 2 - A and C"},{"owner":{"account_id":20830641,"reputation":21,"user_id":15300017,"display_name":"chhscs"},"score":0,"creation_date":1657738754,"post_id":72970974,"comment_id":128884584,"body_markdown":"@OneCricketeer It counts the number of elements that ARE duplicates. The second &quot;A&quot;, second &quot;C&quot;, and third &quot;C&quot; are all duplicate elements.","body":"@OneCricketeer It counts the number of elements that ARE duplicates. The second &quot;A&quot;, second &quot;C&quot;, and third &quot;C&quot; are all duplicate elements."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657738964,"creation_date":1657737967,"answer_id":72971201,"question_id":72970974,"body_markdown":"I believe someone have missed to call `Arrays.sort(input);` and comparison `input[i] == input[i + 1]` is not correct in case of `java.lang.String`.\r\n\r\ncorrect iterative:\r\n\r\n```java\r\n    public static int countDuplicatesIterative(String[] input) {\r\n        if (input == null) {\r\n            return 0;\r\n        }\r\n        Arrays.sort(input);\r\n        int count = 0;\r\n        for (int i = 0; i &lt; input.length - 1; i++) {\r\n            if (input[i].equals(input[i + 1])) {\r\n                count++;\r\n            }\r\n        }\r\n        return count;\r\n    }\r\n```\r\n\r\nrecursive (assuming that request to turn `loop` into `recursion` actually assumes `tail recursion`):\r\n\r\n```java\r\n    public static int countDuplicatesRecursive(String[] input) {\r\n        if (input == null) {\r\n            return 0;\r\n        }\r\n        Arrays.sort(input);\r\n        return doCountDuplicatesRecursive(input, 0, 0);\r\n    }\r\n\r\n    public static int doCountDuplicatesRecursive(String[] input, int position, int cnt) {\r\n        if (position == input.length - 1) {\r\n            return cnt;\r\n        }\r\n        if (input[position].equals(input[position + 1])) {\r\n            cnt++;\r\n        }\r\n        return doCountDuplicatesRecursive(input, position + 1, cnt);\r\n    }\r\n\r\n```","title":"How to create a countDuplicates method recursively in Java","body":"<p>I believe someone have missed to call <code>Arrays.sort(input);</code> and comparison <code>input[i] == input[i + 1]</code> is not correct in case of <code>java.lang.String</code>.</p>\n<p>correct iterative:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int countDuplicatesIterative(String[] input) {\n        if (input == null) {\n            return 0;\n        }\n        Arrays.sort(input);\n        int count = 0;\n        for (int i = 0; i &lt; input.length - 1; i++) {\n            if (input[i].equals(input[i + 1])) {\n                count++;\n            }\n        }\n        return count;\n    }\n</code></pre>\n<p>recursive (assuming that request to turn <code>loop</code> into <code>recursion</code> actually assumes <code>tail recursion</code>):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int countDuplicatesRecursive(String[] input) {\n        if (input == null) {\n            return 0;\n        }\n        Arrays.sort(input);\n        return doCountDuplicatesRecursive(input, 0, 0);\n    }\n\n    public static int doCountDuplicatesRecursive(String[] input, int position, int cnt) {\n        if (position == input.length - 1) {\n            return cnt;\n        }\n        if (input[position].equals(input[position + 1])) {\n            cnt++;\n        }\n        return doCountDuplicatesRecursive(input, position + 1, cnt);\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25753849,"reputation":1,"user_id":19505907,"display_name":"Mladen Covic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657739999,"creation_date":1657739999,"answer_id":72971552,"question_id":72970974,"body_markdown":"As the question states the assumption that the input is already in the lexicographical order, the sorting is not necessary. However, the question does not provide the precise definition of the lexicographical order itself, so my assumption is that it is cease insensitive and that it does not take Unicode variants into account, so the equalsIgnoreCase() String method would be more appropriate then plain equals(). Also, the assumptions are that input is nicely defined in the sense that nulls are not allowed anywhere:\r\n\r\n    public static void main(String[] args)\r\n      {\r\n        String[] inputs = { &quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;D&quot; };\r\n\r\n        System.out.println(countDuplicates(inputs, 0));\r\n      }\r\n\r\n    private static int countDuplicates(String[] inputs, int start)\r\n      {\r\n        /*  Assumption #1 : input list is well defined\r\n         if(inputs==null)\r\n           return 0;\r\n         */\r\n        if(start&lt;inputs.length-1)\r\n          {\r\n            /* Assumption #2 : elements of the list are well defined \r\n            if(inputs[start]==null)\r\n              return 0;\r\n            */\r\n            /* Assumption #3 : Upper vs Lower Case as well as Unicode versions do not matter \r\n            if(inputs[start].equals(inputs[start+1]))\r\n            */\r\n            if(inputs[start].equalsIgnoreCase(inputs[start+1]))\r\n              return 1+countDuplicates(inputs, start+1);\r\n            else\r\n              return countDuplicates(inputs, start+1);\r\n          }\r\n        else\r\n          return 0;\r\n      }\r\n\r\np.s. countDuplicates(String[], int) can be wrapped inside the countDuplicates(String[]) method if user should not be exposed/overtaxed in providing a 0 as a starting point ;-) \r\n","title":"How to create a countDuplicates method recursively in Java","body":"<p>As the question states the assumption that the input is already in the lexicographical order, the sorting is not necessary. However, the question does not provide the precise definition of the lexicographical order itself, so my assumption is that it is cease insensitive and that it does not take Unicode variants into account, so the equalsIgnoreCase() String method would be more appropriate then plain equals(). Also, the assumptions are that input is nicely defined in the sense that nulls are not allowed anywhere:</p>\n<pre><code>public static void main(String[] args)\n  {\n    String[] inputs = { &quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;D&quot; };\n\n    System.out.println(countDuplicates(inputs, 0));\n  }\n\nprivate static int countDuplicates(String[] inputs, int start)\n  {\n    /*  Assumption #1 : input list is well defined\n     if(inputs==null)\n       return 0;\n     */\n    if(start&lt;inputs.length-1)\n      {\n        /* Assumption #2 : elements of the list are well defined \n        if(inputs[start]==null)\n          return 0;\n        */\n        /* Assumption #3 : Upper vs Lower Case as well as Unicode versions do not matter \n        if(inputs[start].equals(inputs[start+1]))\n        */\n        if(inputs[start].equalsIgnoreCase(inputs[start+1]))\n          return 1+countDuplicates(inputs, start+1);\n        else\n          return countDuplicates(inputs, start+1);\n      }\n    else\n      return 0;\n  }\n</code></pre>\n<p>p.s. countDuplicates(String[], int) can be wrapped inside the countDuplicates(String[]) method if user should not be exposed/overtaxed in providing a 0 as a starting point ;-)</p>\n"}],"owner":{"account_id":20830641,"reputation":21,"user_id":15300017,"display_name":"chhscs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1657811744,"accepted_answer_id":72971201,"answer_count":2,"score":-3,"last_activity_date":1657739999,"creation_date":1657736691,"question_id":72970974,"body_markdown":"I am writing a method that counts the number of duplicates in an array. I understand how to write it using a for loop, but I need to write it recursively.\r\n\r\n    public static int countDuplicates(String[] input) {\r\n        //needs to be recursive\r\n        int count = 0;\r\n        if (input == null) {\r\n            return 0;\r\n        } \r\n        for (int i = 0; i &lt; input.length - 1; i++) {\r\n            if (input[i] == input[i + 1]) {\r\n                count++;\r\n            } else {\r\n                count +=0;\r\n            }\r\n        }\r\n        \r\n        return count; \r\n    } \r\n\r\nThe input is assumed to be in lexicographic order.\r\n\r\ninput : {&quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;D&quot;}\r\n\r\noutput : 3\r\n\r\nHow do I convert this for loop to a recursion? ","title":"How to create a countDuplicates method recursively in Java","body":"<p>I am writing a method that counts the number of duplicates in an array. I understand how to write it using a for loop, but I need to write it recursively.</p>\n<pre><code>public static int countDuplicates(String[] input) {\n    //needs to be recursive\n    int count = 0;\n    if (input == null) {\n        return 0;\n    } \n    for (int i = 0; i &lt; input.length - 1; i++) {\n        if (input[i] == input[i + 1]) {\n            count++;\n        } else {\n            count +=0;\n        }\n    }\n    \n    return count; \n} \n</code></pre>\n<p>The input is assumed to be in lexicographic order.</p>\n<p>input : {&quot;A&quot;, &quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;C&quot;, &quot;C&quot;, &quot;D&quot;}</p>\n<p>output : 3</p>\n<p>How do I convert this for loop to a recursion?</p>\n"},{"tags":["java","algorithm","geometry","computational-geometry"],"comments":[{"owner":{"account_id":168762,"reputation":766,"user_id":394427,"display_name":"John C Earls"},"score":0,"creation_date":1288928459,"post_id":4103405,"comment_id":4416826,"body_markdown":"http://mathforum.org/library/drmath/view/55233.html","body":"<a href=\"http://mathforum.org/library/drmath/view/55233.html\" rel=\"nofollow noreferrer\">mathforum.org/library/drmath/view/55233.html</a>"},{"owner":{"account_id":4924,"reputation":10565,"user_id":7644,"accept_rate":75,"display_name":"SpoiledTechie.com"},"score":2,"creation_date":1302813981,"post_id":4103405,"comment_id":6470409,"body_markdown":"thanks a ton for posting the answer to your question.","body":"thanks a ton for posting the answer to your question."},{"owner":{"account_id":1505025,"reputation":38875,"user_id":1408611,"accept_rate":73,"display_name":"gexicide"},"score":3,"creation_date":1434312012,"post_id":4103405,"comment_id":49712344,"body_markdown":"Your solution produces weird results if `B.x - A.x` or `C.x - B.x` is zero, because you then divide by zero.","body":"Your solution produces weird results if <code>B.x - A.x</code> or <code>C.x - B.x</code> is zero, because you then divide by zero."}],"answers":[{"tags":[],"owner":{"account_id":159889,"reputation":6717,"user_id":379572,"accept_rate":85,"display_name":"Azmisov"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1386734297,"creation_date":1288928338,"answer_id":4103414,"question_id":4103405,"body_markdown":"It can be a rather in depth calculation. There is a simple step-by-step here: http://paulbourke.net/geometry/circlesphere/. Once you have the equation of the circle, you can simply put it in a form involving H and K. The point (h,k) will be the center.\r\n\r\n(scroll down a little ways at the link to get to the equations)","title":"What is the algorithm for finding the center of a circle from three points?","body":"<p>It can be a rather in depth calculation. There is a simple step-by-step here: <a href=\"http://paulbourke.net/geometry/circlesphere/\" rel=\"noreferrer\">http://paulbourke.net/geometry/circlesphere/</a>. Once you have the equation of the circle, you can simply put it in a form involving H and K. The point (h,k) will be the center.</p>\n\n<p>(scroll down a little ways at the link to get to the equations)</p>\n"},{"tags":[],"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1657739297,"creation_date":1288928414,"answer_id":4103418,"question_id":4103405,"body_markdown":"Here&#39;s my Java port, dodging the error condition when the determinant disappears with a very elegant `IllegalArgumentException`, my approach to coping with the &quot;points are two far apart&quot; or &quot;points lie on a line&quot; conditions.  Also, this computes the radius (and copes with exceptional conditions) which your intersecting-slopes approach will not do.\r\n\r\n    public class CircleThree\r\n    { \r\n      static final double TOL = 0.0000001;\r\n      \r\n      public static Circle circleFromPoints(final Point p1, final Point p2, final Point p3)\r\n      {\r\n        final double offset = Math.pow(p2.x,2) + Math.pow(p2.y,2);\r\n        final double bc =   ( Math.pow(p1.x,2) + Math.pow(p1.y,2) - offset )/2.0;\r\n        final double cd =   (offset - Math.pow(p3.x, 2) - Math.pow(p3.y, 2))/2.0;\r\n        final double det =  (p1.x - p2.x) * (p2.y - p3.y) - (p2.x - p3.x)* (p1.y - p2.y); \r\n        \r\n        if (Math.abs(det) &lt; TOL) { throw new IllegalArgumentException(&quot;Yeah, lazy.&quot;); }\r\n    \r\n        final double idet = 1/det;\r\n         \r\n        final double centerx =  (bc * (p2.y - p3.y) - cd * (p1.y - p2.y)) * idet;\r\n        final double centery =  (cd * (p1.x - p2.x) - bc * (p2.x - p3.x)) * idet;\r\n        final double radius = \r\n           Math.sqrt( Math.pow(p2.x - centerx,2) + Math.pow(p2.y-centery,2));\r\n        \r\n        return new Circle(new Point(centerx,centery),radius);\r\n      }\r\n      \r\n      static class Circle\r\n      {\r\n        final Point center;\r\n        final double radius;\r\n        public Circle(Point center, double radius)\r\n        {\r\n          this.center = center; this.radius = radius;\r\n        }\r\n        @Override \r\n        public String toString()\r\n        {\r\n          return new StringBuilder().append(&quot;Center= &quot;).append(center).append(&quot;, r=&quot;).append(radius).toString();\r\n        }\r\n      }\r\n      \r\n      static class Point\r\n      {\r\n        final double x,y;\r\n    \r\n        public Point(double x, double y)\r\n        {\r\n          this.x = x; this.y = y;\r\n        }\r\n        @Override\r\n        public String toString()\r\n        {\r\n          return &quot;(&quot;+x+&quot;,&quot;+y+&quot;)&quot;;\r\n        }\r\n        \r\n      }\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        Point p1 = new Point(0.0,1.0);\r\n        Point p2 = new Point(1.0,0.0);\r\n        Point p3 = new Point(2.0,1.0);\r\n        Circle c = circleFromPoints(p1, p2, p3);\r\n        System.out.println(c);\r\n      }\r\n      \r\n    }\r\n\r\n\r\nSee [algorithm from The Math Forum][1]:\r\n\r\n    void circle_vvv(circle *c)\r\n    {\r\n        c-&gt;center.w = 1.0;\r\n        vertex *v1 = (vertex *)c-&gt;c.p1;\r\n        vertex *v2 = (vertex *)c-&gt;c.p2;\r\n        vertex *v3 = (vertex *)c-&gt;c.p3;\r\n        float bx = v1-&gt;xw; float by = v1-&gt;yw;\r\n        float cx = v2-&gt;xw; float cy = v2-&gt;yw;\r\n        float dx = v3-&gt;xw; float dy = v3-&gt;yw;\r\n        float temp = cx*cx+cy*cy;\r\n        float bc = (bx*bx + by*by - temp)/2.0;\r\n        float cd = (temp - dx*dx - dy*dy)/2.0;\r\n        float det = (bx-cx)*(cy-dy)-(cx-dx)*(by-cy);\r\n        if (fabs(det) &lt; 1.0e-6) {\r\n            c-&gt;center.xw = c-&gt;center.yw = 1.0;\r\n            c-&gt;center.w = 0.0;\r\n            c-&gt;v1 = *v1;\r\n            c-&gt;v2 = *v2;\r\n            c-&gt;v3 = *v3;\r\n            return;\r\n            }\r\n        det = 1/det;\r\n        c-&gt;center.xw = (bc*(cy-dy)-cd*(by-cy))*det;\r\n        c-&gt;center.yw = ((bx-cx)*cd-(cx-dx)*bc)*det;\r\n        cx = c-&gt;center.xw; cy = c-&gt;center.yw;\r\n        c-&gt;radius = sqrt((cx-bx)*(cx-bx)+(cy-by)*(cy-by));\r\n    }\r\n\r\n\r\n  [1]: https://web.archive.org/web/20100826075659/http://mathforum.org/library/drmath/view/54323.html\r\n","title":"What is the algorithm for finding the center of a circle from three points?","body":"<p>Here's my Java port, dodging the error condition when the determinant disappears with a very elegant <code>IllegalArgumentException</code>, my approach to coping with the &quot;points are two far apart&quot; or &quot;points lie on a line&quot; conditions.  Also, this computes the radius (and copes with exceptional conditions) which your intersecting-slopes approach will not do.</p>\n<pre><code>public class CircleThree\n{ \n  static final double TOL = 0.0000001;\n  \n  public static Circle circleFromPoints(final Point p1, final Point p2, final Point p3)\n  {\n    final double offset = Math.pow(p2.x,2) + Math.pow(p2.y,2);\n    final double bc =   ( Math.pow(p1.x,2) + Math.pow(p1.y,2) - offset )/2.0;\n    final double cd =   (offset - Math.pow(p3.x, 2) - Math.pow(p3.y, 2))/2.0;\n    final double det =  (p1.x - p2.x) * (p2.y - p3.y) - (p2.x - p3.x)* (p1.y - p2.y); \n    \n    if (Math.abs(det) &lt; TOL) { throw new IllegalArgumentException(&quot;Yeah, lazy.&quot;); }\n\n    final double idet = 1/det;\n     \n    final double centerx =  (bc * (p2.y - p3.y) - cd * (p1.y - p2.y)) * idet;\n    final double centery =  (cd * (p1.x - p2.x) - bc * (p2.x - p3.x)) * idet;\n    final double radius = \n       Math.sqrt( Math.pow(p2.x - centerx,2) + Math.pow(p2.y-centery,2));\n    \n    return new Circle(new Point(centerx,centery),radius);\n  }\n  \n  static class Circle\n  {\n    final Point center;\n    final double radius;\n    public Circle(Point center, double radius)\n    {\n      this.center = center; this.radius = radius;\n    }\n    @Override \n    public String toString()\n    {\n      return new StringBuilder().append(&quot;Center= &quot;).append(center).append(&quot;, r=&quot;).append(radius).toString();\n    }\n  }\n  \n  static class Point\n  {\n    final double x,y;\n\n    public Point(double x, double y)\n    {\n      this.x = x; this.y = y;\n    }\n    @Override\n    public String toString()\n    {\n      return &quot;(&quot;+x+&quot;,&quot;+y+&quot;)&quot;;\n    }\n    \n  }\n\n  public static void main(String[] args)\n  {\n    Point p1 = new Point(0.0,1.0);\n    Point p2 = new Point(1.0,0.0);\n    Point p3 = new Point(2.0,1.0);\n    Circle c = circleFromPoints(p1, p2, p3);\n    System.out.println(c);\n  }\n  \n}\n</code></pre>\n<p>See <a href=\"https://web.archive.org/web/20100826075659/http://mathforum.org/library/drmath/view/54323.html\" rel=\"nofollow noreferrer\">algorithm from The Math Forum</a>:</p>\n<pre><code>void circle_vvv(circle *c)\n{\n    c-&gt;center.w = 1.0;\n    vertex *v1 = (vertex *)c-&gt;c.p1;\n    vertex *v2 = (vertex *)c-&gt;c.p2;\n    vertex *v3 = (vertex *)c-&gt;c.p3;\n    float bx = v1-&gt;xw; float by = v1-&gt;yw;\n    float cx = v2-&gt;xw; float cy = v2-&gt;yw;\n    float dx = v3-&gt;xw; float dy = v3-&gt;yw;\n    float temp = cx*cx+cy*cy;\n    float bc = (bx*bx + by*by - temp)/2.0;\n    float cd = (temp - dx*dx - dy*dy)/2.0;\n    float det = (bx-cx)*(cy-dy)-(cx-dx)*(by-cy);\n    if (fabs(det) &lt; 1.0e-6) {\n        c-&gt;center.xw = c-&gt;center.yw = 1.0;\n        c-&gt;center.w = 0.0;\n        c-&gt;v1 = *v1;\n        c-&gt;v2 = *v2;\n        c-&gt;v3 = *v3;\n        return;\n        }\n    det = 1/det;\n    c-&gt;center.xw = (bc*(cy-dy)-cd*(by-cy))*det;\n    c-&gt;center.yw = ((bx-cx)*cd-(cx-dx)*bc)*det;\n    cx = c-&gt;center.xw; cy = c-&gt;center.yw;\n    c-&gt;radius = sqrt((cx-bx)*(cx-bx)+(cy-by)*(cy-by));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2913329,"reputation":228,"user_id":2497096,"accept_rate":17,"display_name":"IamRKhanna"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1381402644,"creation_date":1381402644,"answer_id":19293910,"question_id":4103405,"body_markdown":"I was looking for a similar algorithm when I hovered over this question.\r\nTook your code but found that this will not work in cases when where either of the slope is 0 or infinity (can be true when xDelta_a or xDelta_b is 0).\r\n\r\nI corrected the algorithm and here is my code.\r\nNote: I used objective-c programming language and am just changing the code for point value initialization, so if that is wrong, I am sure programmer working in java can correct it. The logic, however, is the same for all (God bless algorithms!! :))\r\n\r\nWorks perfectly fine as far as my own functional testing is concerned.\r\nPlease let me know if logic is wrong at any point.\r\n\r\n    pt circleCenter(pt A, pt B, pt C) {\r\n    \r\n    float yDelta_a = B.y - A.y;\r\n    float xDelta_a = B.x - A.x;\r\n    float yDelta_b = C.y - B.y;\r\n    float xDelta_b = C.x - B.x;\r\n    pt center = P(0,0);\r\n    \r\n    float aSlope = yDelta_a/xDelta_a;\r\n    float bSlope = yDelta_b/xDelta_b;\r\n    \r\n    pt AB_Mid = P((A.x+B.x)/2, (A.y+B.y)/2);\r\n    pt BC_Mid = P((B.x+C.x)/2, (B.y+C.y)/2);\r\n    \r\n    if(yDelta_a == 0)         //aSlope == 0\r\n    {\r\n        center.x = AB_Mid.x;\r\n        if (xDelta_b == 0)         //bSlope == INFINITY\r\n        {\r\n            center.y = BC_Mid.y;\r\n        }\r\n        else\r\n        {\r\n            center.y = BC_Mid.y + (BC_Mid.x-center.x)/bSlope;\r\n        }\r\n    }\r\n    else if (yDelta_b == 0)               //bSlope == 0\r\n    {\r\n        center.x = BC_Mid.x;\r\n        if (xDelta_a == 0)             //aSlope == INFINITY\r\n        {\r\n            center.y = AB_Mid.y;\r\n        }\r\n        else\r\n        {\r\n            center.y = AB_Mid.y + (AB_Mid.x-center.x)/aSlope;\r\n        }\r\n    }\r\n    else if (xDelta_a == 0)        //aSlope == INFINITY\r\n    {\r\n        center.y = AB_Mid.y;\r\n        center.x = bSlope*(BC_Mid.y-center.y) + BC_Mid.x;\r\n    }\r\n    else if (xDelta_b == 0)        //bSlope == INFINITY\r\n    {\r\n        center.y = BC_Mid.y;\r\n        center.x = aSlope*(AB_Mid.y-center.y) + AB_Mid.x;\r\n    }\r\n    else\r\n    {\r\n        center.x = (aSlope*bSlope*(AB_Mid.y-BC_Mid.y) - aSlope*BC_Mid.x + bSlope*AB_Mid.x)/(bSlope-aSlope);\r\n        center.y = AB_Mid.y - (center.x - AB_Mid.x)/aSlope;\r\n    }\r\n    \r\n    return center;\r\n    }","title":"What is the algorithm for finding the center of a circle from three points?","body":"<p>I was looking for a similar algorithm when I hovered over this question.\nTook your code but found that this will not work in cases when where either of the slope is 0 or infinity (can be true when xDelta_a or xDelta_b is 0).</p>\n\n<p>I corrected the algorithm and here is my code.\nNote: I used objective-c programming language and am just changing the code for point value initialization, so if that is wrong, I am sure programmer working in java can correct it. The logic, however, is the same for all (God bless algorithms!! :))</p>\n\n<p>Works perfectly fine as far as my own functional testing is concerned.\nPlease let me know if logic is wrong at any point.</p>\n\n<pre><code>pt circleCenter(pt A, pt B, pt C) {\n\nfloat yDelta_a = B.y - A.y;\nfloat xDelta_a = B.x - A.x;\nfloat yDelta_b = C.y - B.y;\nfloat xDelta_b = C.x - B.x;\npt center = P(0,0);\n\nfloat aSlope = yDelta_a/xDelta_a;\nfloat bSlope = yDelta_b/xDelta_b;\n\npt AB_Mid = P((A.x+B.x)/2, (A.y+B.y)/2);\npt BC_Mid = P((B.x+C.x)/2, (B.y+C.y)/2);\n\nif(yDelta_a == 0)         //aSlope == 0\n{\n    center.x = AB_Mid.x;\n    if (xDelta_b == 0)         //bSlope == INFINITY\n    {\n        center.y = BC_Mid.y;\n    }\n    else\n    {\n        center.y = BC_Mid.y + (BC_Mid.x-center.x)/bSlope;\n    }\n}\nelse if (yDelta_b == 0)               //bSlope == 0\n{\n    center.x = BC_Mid.x;\n    if (xDelta_a == 0)             //aSlope == INFINITY\n    {\n        center.y = AB_Mid.y;\n    }\n    else\n    {\n        center.y = AB_Mid.y + (AB_Mid.x-center.x)/aSlope;\n    }\n}\nelse if (xDelta_a == 0)        //aSlope == INFINITY\n{\n    center.y = AB_Mid.y;\n    center.x = bSlope*(BC_Mid.y-center.y) + BC_Mid.x;\n}\nelse if (xDelta_b == 0)        //bSlope == INFINITY\n{\n    center.y = BC_Mid.y;\n    center.x = aSlope*(AB_Mid.y-center.y) + AB_Mid.x;\n}\nelse\n{\n    center.x = (aSlope*bSlope*(AB_Mid.y-BC_Mid.y) - aSlope*BC_Mid.x + bSlope*AB_Mid.x)/(bSlope-aSlope);\n    center.y = AB_Mid.y - (center.x - AB_Mid.x)/aSlope;\n}\n\nreturn center;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5112567,"reputation":650,"user_id":4098749,"display_name":"Ernesto Alfonso"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1565254695,"creation_date":1431015151,"answer_id":30106470,"question_id":4103405,"body_markdown":"    public Vector2 CarculateCircleCenter(Vector2 p1, Vector2 p2, Vector2 p3)\r\n    {\r\n        if (\r\n            p2.x - p1.x == 0 ||\r\n            p3.x - p2.x == 0 ||\r\n            p2.y - p1.y == 0 ||\r\n            p3.y - p2.y == 0\r\n        ) return null;\r\n\r\n        Vector2 center = new Vector2();\r\n        float ma = (p2.y - p1.y) / (p2.x - p1.x);\r\n        float mb = (p3.y - p2.y) / (p3.x - p2.x);\r\n        center.x = (ma * mb * (p1.y - p3.y) + mb * (p1.x - p2.x) - ma * (p2.x + p3.x)) / (2 * (mb - ma));\r\n        center.y = (-1 / ma) * (center.x - (p1.x + p2.x) * 0.5) + (p1.y + p2.y) * 0.5;\r\n        return center;\r\n    }","title":"What is the algorithm for finding the center of a circle from three points?","body":"<pre><code>public Vector2 CarculateCircleCenter(Vector2 p1, Vector2 p2, Vector2 p3)\n{\n    if (\n        p2.x - p1.x == 0 ||\n        p3.x - p2.x == 0 ||\n        p2.y - p1.y == 0 ||\n        p3.y - p2.y == 0\n    ) return null;\n\n    Vector2 center = new Vector2();\n    float ma = (p2.y - p1.y) / (p2.x - p1.x);\n    float mb = (p3.y - p2.y) / (p3.x - p2.x);\n    center.x = (ma * mb * (p1.y - p3.y) + mb * (p1.x - p2.x) - ma * (p2.x + p3.x)) / (2 * (mb - ma));\n    center.y = (-1 / ma) * (center.x - (p1.x + p2.x) * 0.5) + (p1.y + p2.y) * 0.5;\n    return center;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1536969,"reputation":1409,"user_id":1432734,"display_name":"Adam Gawne-Cain"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1565245704,"creation_date":1565244084,"answer_id":57406014,"question_id":4103405,"body_markdown":"I am sorry my answer is late.  Any solution using &quot;slope&quot; will fail when two of the points form a vertical line, because the slope will be infinite.\r\n\r\nHere is a simple robust solution for 2019 that always works correctly:\r\n\r\n    public static boolean circleCenter(double[] p1, double[] p2, double[] p3, double[] center) {\r\n        double ax = (p1[0] + p2[0]) / 2;\r\n        double ay = (p1[1] + p2[1]) / 2;\r\n        double ux = (p1[1] - p2[1]);\r\n        double uy = (p2[0] - p1[0]);\r\n        double bx = (p2[0] + p3[0]) / 2;\r\n        double by = (p2[1] + p3[1]) / 2;\r\n        double vx = (p2[1] - p3[1]);\r\n        double vy = (p3[0] - p2[0]);\r\n        double dx = ax - bx;\r\n        double dy = ay - by;\r\n        double vu = vx * uy - vy * ux;\r\n        if (vu == 0)\r\n            return false; // Points are collinear, so no unique solution\r\n        double g = (dx * uy - dy * ux) / vu;\r\n        center[0] = bx + g * vx;\r\n        center[1] = by + g * vy;\r\n        return true;\r\n    }\r\n\r\nThe above code will return &quot;false&quot; if and only if the 3 points are collinear.","title":"What is the algorithm for finding the center of a circle from three points?","body":"<p>I am sorry my answer is late.  Any solution using \"slope\" will fail when two of the points form a vertical line, because the slope will be infinite.</p>\n\n<p>Here is a simple robust solution for 2019 that always works correctly:</p>\n\n<pre><code>public static boolean circleCenter(double[] p1, double[] p2, double[] p3, double[] center) {\n    double ax = (p1[0] + p2[0]) / 2;\n    double ay = (p1[1] + p2[1]) / 2;\n    double ux = (p1[1] - p2[1]);\n    double uy = (p2[0] - p1[0]);\n    double bx = (p2[0] + p3[0]) / 2;\n    double by = (p2[1] + p3[1]) / 2;\n    double vx = (p2[1] - p3[1]);\n    double vy = (p3[0] - p2[0]);\n    double dx = ax - bx;\n    double dy = ay - by;\n    double vu = vx * uy - vy * ux;\n    if (vu == 0)\n        return false; // Points are collinear, so no unique solution\n    double g = (dx * uy - dy * ux) / vu;\n    center[0] = bx + g * vx;\n    center[1] = by + g * vy;\n    return true;\n}\n</code></pre>\n\n<p>The above code will return \"false\" if and only if the 3 points are collinear.</p>\n"},{"tags":[],"owner":{"account_id":18681419,"reputation":1,"user_id":13617853,"display_name":"Nitin Jindal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590473610,"creation_date":1590472334,"answer_id":62015507,"question_id":4103405,"body_markdown":"    def circle_mid_point(list_b):\r\n    list_k = []\r\n    for i in range(3):\r\n        for j in range(1,4):\r\n            if i+j &lt;=3:\r\n                midpoint_x1 =  (list_b[i][0] + list_b[i+j][0])/2\r\n                midpoint_y1 = (list_b[i][1] + list_b[i + j][1]) / 2\r\n                list_k.append([midpoint_x1,midpoint_y1]) # list of all the midpoints of the lines\r\n\r\n    for k in range(len(list_k)):\r\n        for j in range(1,len(list_k)-1):\r\n            if list_k[k] == list_k[k+j]: #at centre only two midpoints will have the same value\r\n                return list_k[k]\r\n\r\n    k = circle_mid_point([[0,1],[1,0],[-1,0],[0,-1]])\r\n    print(k)","title":"What is the algorithm for finding the center of a circle from three points?","body":"<pre><code>def circle_mid_point(list_b):\nlist_k = []\nfor i in range(3):\n    for j in range(1,4):\n        if i+j &lt;=3:\n            midpoint_x1 =  (list_b[i][0] + list_b[i+j][0])/2\n            midpoint_y1 = (list_b[i][1] + list_b[i + j][1]) / 2\n            list_k.append([midpoint_x1,midpoint_y1]) # list of all the midpoints of the lines\n\nfor k in range(len(list_k)):\n    for j in range(1,len(list_k)-1):\n        if list_k[k] == list_k[k+j]: #at centre only two midpoints will have the same value\n            return list_k[k]\n\nk = circle_mid_point([[0,1],[1,0],[-1,0],[0,-1]])\nprint(k)\n</code></pre>\n"}],"owner":{"account_id":232679,"reputation":1170,"user_id":497681,"accept_rate":64,"display_name":"Russell Strauss"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43100,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":4103414,"answer_count":6,"score":37,"last_activity_date":1657739297,"creation_date":1288928159,"question_id":4103405,"body_markdown":"I have three points on the circumference of a circle:\r\n\r\n    pt A = (A.x, A.y);\r\n    pt B = (B.x, B.y);\r\n    pt C = (C.x, C.y);\r\n\r\nHow do I calculate the center of the circle?\r\n\r\nImplementing it in Processing (Java).\r\n\r\n\r\nI found the answer and implemented a working solution:\r\n\r\n     pt circleCenter(pt A, pt B, pt C) {\r\n       \r\n        float yDelta_a = B.y - A.y;\r\n        float xDelta_a = B.x - A.x;\r\n        float yDelta_b = C.y - B.y;\r\n        float xDelta_b = C.x - B.x;\r\n        pt center = P(0,0);\r\n      \r\n    \tfloat aSlope = yDelta_a/xDelta_a;\r\n    \tfloat bSlope = yDelta_b/xDelta_b;  \r\n    \tcenter.x = (aSlope*bSlope*(A.y - C.y) + bSlope*(A.x + B.x)\r\n      \t\t- aSlope*(B.x+C.x) )/(2* (bSlope-aSlope) );\r\n    \tcenter.y = -1*(center.x - (A.x+B.x)/2)/aSlope +  (A.y+B.y)/2;\r\n    \r\n        return center;\r\n      }","title":"What is the algorithm for finding the center of a circle from three points?","body":"<p>I have three points on the circumference of a circle:</p>\n\n<pre><code>pt A = (A.x, A.y);\npt B = (B.x, B.y);\npt C = (C.x, C.y);\n</code></pre>\n\n<p>How do I calculate the center of the circle?</p>\n\n<p>Implementing it in Processing (Java).</p>\n\n<p>I found the answer and implemented a working solution:</p>\n\n<pre><code> pt circleCenter(pt A, pt B, pt C) {\n\n    float yDelta_a = B.y - A.y;\n    float xDelta_a = B.x - A.x;\n    float yDelta_b = C.y - B.y;\n    float xDelta_b = C.x - B.x;\n    pt center = P(0,0);\n\n    float aSlope = yDelta_a/xDelta_a;\n    float bSlope = yDelta_b/xDelta_b;  \n    center.x = (aSlope*bSlope*(A.y - C.y) + bSlope*(A.x + B.x)\n        - aSlope*(B.x+C.x) )/(2* (bSlope-aSlope) );\n    center.y = -1*(center.x - (A.x+B.x)/2)/aSlope +  (A.y+B.y)/2;\n\n    return center;\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":20145461,"reputation":61,"user_id":14774086,"display_name":"AwesomeDude091"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657475444,"creation_date":1657475444,"answer_id":72930661,"question_id":72930272,"body_markdown":"I think the issue could be resolved by making a third module, and naming it &quot;Core&quot;, this module would contain all code that both extending modules (search and user management) would share. \r\n\r\nThis &quot;Core&quot; module\r\n1. DOES NOT have the capability to build independently\r\n2. DOES NOT contain a Spring Boot application.run command of any sort \r\n3. DOES NOT have a application.properties file\r\n\r\nThe &quot;Core&quot; Module is then imported into both subprojects where any linked component and/or services can be loaded through the\r\n\r\n    @SpringBootApplication(scanBasePackages = &quot;*insert package name here*&quot;)\r\n\r\nannotation. Both extending modules would have their own application.properties file, have their own independent app starters and compile &quot;core&quot; and themselves.\r\n\r\nIt is important to note that all modules should have a similar package structure for the easiest implementation.\r\n\r\nExample:\r\n\r\nCore = &quot;com.epicapp.core&quot;\r\n\r\nSearch = &quot;com.epicapp.search&quot;\r\n\r\nUser Management = &quot;com.epicapp.usermanagement&quot;\r\n\r\nBase Package = &quot;com.epicapp&quot;\r\n","title":"Spring Boot ignores resources in multi module project","body":"<p>I think the issue could be resolved by making a third module, and naming it &quot;Core&quot;, this module would contain all code that both extending modules (search and user management) would share.</p>\n<p>This &quot;Core&quot; module</p>\n<ol>\n<li>DOES NOT have the capability to build independently</li>\n<li>DOES NOT contain a Spring Boot application.run command of any sort</li>\n<li>DOES NOT have a application.properties file</li>\n</ol>\n<p>The &quot;Core&quot; Module is then imported into both subprojects where any linked component and/or services can be loaded through the</p>\n<pre><code>@SpringBootApplication(scanBasePackages = &quot;*insert package name here*&quot;)\n</code></pre>\n<p>annotation. Both extending modules would have their own application.properties file, have their own independent app starters and compile &quot;core&quot; and themselves.</p>\n<p>It is important to note that all modules should have a similar package structure for the easiest implementation.</p>\n<p>Example:</p>\n<p>Core = &quot;com.epicapp.core&quot;</p>\n<p>Search = &quot;com.epicapp.search&quot;</p>\n<p>User Management = &quot;com.epicapp.usermanagement&quot;</p>\n<p>Base Package = &quot;com.epicapp&quot;</p>\n"},{"tags":[],"owner":{"account_id":16234564,"reputation":134,"user_id":11722310,"display_name":"RatzzFatzz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657739251,"creation_date":1657739251,"answer_id":72971425,"question_id":72930272,"body_markdown":"I was able to resolve my problem by adding this to the parent pom\r\n```xml\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n```","title":"Spring Boot ignores resources in multi module project","body":"<p>I was able to resolve my problem by adding this to the parent pom</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n"}],"owner":{"account_id":16234564,"reputation":134,"user_id":11722310,"display_name":"RatzzFatzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1847,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72971425,"answer_count":2,"score":1,"last_activity_date":1657739251,"creation_date":1657471932,"question_id":72930272,"body_markdown":"I have a repository with two modules (search and usermanagement). I want both modules to have their own `application.properties`.\r\nCurrently I am just trying to activate a profile, but it is not applied.\r\nProject structure:\r\n```\r\n├───pom.xml\r\n├───search\r\n│   ├───src\r\n│   │   ├───main\r\n│   │   │   ├───java\r\n│   │   │   │   └───com\r\n│   │   │   │       └───example\r\n│   │   │   │           └───projectname\r\n│   │   │   │               └───search\r\n│   │   │   │                   ├───controller\r\n│   │   │   │                   ├───model\r\n│   │   │   │                   ├───query\r\n│   │   │   │                   └───Main.class\r\n│   │   │   └───resources\r\n│   │   └───test\r\n│   │       └───src\r\n│   ├───pom.xml\r\n│   └───target\r\n├───target\r\n└───usermanagement\r\n    ├───src\r\n    │   └───com\r\n    │       └───example\r\n    │           └───projectname\r\n    │               └───usermanagement\r\n    ├───test\r\n    │   └───src\r\n    └───pom.xml\r\n\r\n```\r\n\r\nThe `resources` directory of search has an application.properties with following content:\r\n```properties\r\nspring.profiles.active=dev\r\n```\r\nThis is not used. I have to manually update my run profile and pass `spring.config.additional-location` with the absolute path to application.properties.\r\n\r\npom of parent\r\n```xml\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;!-- Springboot --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.1&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n\t\t&lt;testSourceDirectory&gt;src/test&lt;/testSourceDirectory&gt;\r\n\t\t&lt;defaultGoal&gt;clean test install&lt;/defaultGoal&gt;\r\n\t&lt;/build&gt;\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;search&lt;/module&gt;\r\n\t\t&lt;module&gt;usermanagement&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n```\r\npom of search child\r\n```xml\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- Springboot --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- Build jar with dependencies --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n\t\t\t\t\t\t\t&lt;mainClass&gt;main.java.com.example.projectname.search.Main&lt;/mainClass&gt;\r\n\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n```\r\n\r\nI&#39;ve tried adding `src/main/resources` to parent and @PropertyScan.","title":"Spring Boot ignores resources in multi module project","body":"<p>I have a repository with two modules (search and usermanagement). I want both modules to have their own <code>application.properties</code>.\nCurrently I am just trying to activate a profile, but it is not applied.\nProject structure:</p>\n<pre><code>├───pom.xml\n├───search\n│   ├───src\n│   │   ├───main\n│   │   │   ├───java\n│   │   │   │   └───com\n│   │   │   │       └───example\n│   │   │   │           └───projectname\n│   │   │   │               └───search\n│   │   │   │                   ├───controller\n│   │   │   │                   ├───model\n│   │   │   │                   ├───query\n│   │   │   │                   └───Main.class\n│   │   │   └───resources\n│   │   └───test\n│   │       └───src\n│   ├───pom.xml\n│   └───target\n├───target\n└───usermanagement\n    ├───src\n    │   └───com\n    │       └───example\n    │           └───projectname\n    │               └───usermanagement\n    ├───test\n    │   └───src\n    └───pom.xml\n\n</code></pre>\n<p>The <code>resources</code> directory of search has an application.properties with following content:</p>\n<pre><code>spring.profiles.active=dev\n</code></pre>\n<p>This is not used. I have to manually update my run profile and pass <code>spring.config.additional-location</code> with the absolute path to application.properties.</p>\n<p>pom of parent</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- Springboot --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n                &lt;version&gt;2.7.1&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                &lt;version&gt;2.7.1&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.7.1&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src/test&lt;/testSourceDirectory&gt;\n        &lt;defaultGoal&gt;clean test install&lt;/defaultGoal&gt;\n    &lt;/build&gt;\n    &lt;modules&gt;\n        &lt;module&gt;search&lt;/module&gt;\n        &lt;module&gt;usermanagement&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>pom of search child</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;!-- Springboot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- Build jar with dependencies --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;main.java.com.example.projectname.search.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>I've tried adding <code>src/main/resources</code> to parent and @PropertyScan.</p>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":11085945,"reputation":3,"user_id":8139674,"display_name":"Luis "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657738756,"creation_date":1511623912,"answer_id":47487607,"question_id":47487446,"body_markdown":"I add this to my code and it worked It&#39;s only missing the push notification outside the activity\r\n```\r\nif (detail.getUidrequest().equals(item.getUidrequest())) {\r\n   String mess = detail.getMessage();\r\n   message.setText(mess);\r\n   NotificationManager notif=(NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);\r\n   Notification notify=new Notification.Builder\r\n   (getApplicationContext()).setContentTitle(mess).setContentText(mess).\r\n   setContentTitle(mess).setSmallIcon(R.drawable.ic_person).build();\r\n   notify.flags |= Notification.FLAG_AUTO_CANCEL;\r\n   notif.notify(0, notify);\r\n}","title":"Activity TextView Doesn&#39;t shows what is in Firebase and Push notification only works inside activity?","body":"<p>I add this to my code and it worked It's only missing the push notification outside the activity</p>\n<pre><code>if (detail.getUidrequest().equals(item.getUidrequest())) {\n   String mess = detail.getMessage();\n   message.setText(mess);\n   NotificationManager notif=(NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);\n   Notification notify=new Notification.Builder\n   (getApplicationContext()).setContentTitle(mess).setContentText(mess).\n   setContentTitle(mess).setSmallIcon(R.drawable.ic_person).build();\n   notify.flags |= Notification.FLAG_AUTO_CANCEL;\n   notif.notify(0, notify);\n}\n</code></pre>\n"}],"owner":{"account_id":11085945,"reputation":3,"user_id":8139674,"display_name":"Luis "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657738756,"creation_date":1511622806,"question_id":47487446,"body_markdown":"I&#39;m having a big or little problem, I want to show the specific message por each of my orders put it takes one and print it for the three of them and the push notification appears when I open the activity here is my code from java and xml\r\n\r\n    public class MessageActivity extends AppCompatActivity {\r\n    \r\n        public TextView message;\r\n        private DatabaseReference mDatabase;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_message);\r\n    \r\n            mDatabase = FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;).child(&quot;paid&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid());\r\n    \r\n            message = findViewById(R.id.message);\r\n            mDatabase.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    for (DataSnapshot areaSnapshot : dataSnapshot.getChildren()) {\r\n                        DetailCart detail = areaSnapshot.getValue(DetailCart.class);\r\n                        String mess = detail.getMessage();\r\n                        message.setText(mess);\r\n                        NotificationManager notif=(NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);\r\n                        Notification notify=new Notification.Builder\r\n                                (getApplicationContext()).setContentTitle(mess).setContentText(mess).\r\n                                setContentTitle(mess).setSmallIcon(R.drawable.ic_person).build();\r\n                        notify.flags |= Notification.FLAG_AUTO_CANCEL;\r\n                        notif.notify(0, notify);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {    \r\n                    // [START_EXCLUDE]\r\n                    System.out.println(&quot;The read failed: &quot; + databaseError.getMessage());\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThis is the layout code:\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/message&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:layout_marginBottom=&quot;5dp&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Message&quot;\r\n        android:textColor=&quot;@android:color/holo_blue_dark&quot;\r\n        android:textColorHighlight=&quot;@android:color/primary_text_dark&quot; /&gt;","title":"Activity TextView Doesn&#39;t shows what is in Firebase and Push notification only works inside activity?","body":"<p>I'm having a big or little problem, I want to show the specific message por each of my orders put it takes one and print it for the three of them and the push notification appears when I open the activity here is my code from java and xml</p>\n\n<pre><code>public class MessageActivity extends AppCompatActivity {\n\n    public TextView message;\n    private DatabaseReference mDatabase;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_message);\n\n        mDatabase = FirebaseDatabase.getInstance().getReference().child(\"users\").child(\"paid\").child(FirebaseAuth.getInstance().getCurrentUser().getUid());\n\n        message = findViewById(R.id.message);\n        mDatabase.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                for (DataSnapshot areaSnapshot : dataSnapshot.getChildren()) {\n                    DetailCart detail = areaSnapshot.getValue(DetailCart.class);\n                    String mess = detail.getMessage();\n                    message.setText(mess);\n                    NotificationManager notif=(NotificationManager)getSystemService(Context.NOTIFICATION_SERVICE);\n                    Notification notify=new Notification.Builder\n                            (getApplicationContext()).setContentTitle(mess).setContentText(mess).\n                            setContentTitle(mess).setSmallIcon(R.drawable.ic_person).build();\n                    notify.flags |= Notification.FLAG_AUTO_CANCEL;\n                    notif.notify(0, notify);\n                }\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {    \n                // [START_EXCLUDE]\n                System.out.println(\"The read failed: \" + databaseError.getMessage());\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>This is the layout code:</p>\n\n<pre><code>&lt;TextView\n    android:id=\"@+id/message\"\n    android:textSize=\"20dp\"\n    android:layout_marginBottom=\"5dp\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Message\"\n    android:textColor=\"@android:color/holo_blue_dark\"\n    android:textColorHighlight=\"@android:color/primary_text_dark\" /&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database","integer"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":3,"creation_date":1657734914,"post_id":72970450,"comment_id":128883336,"body_markdown":"That all sounds like a reasonable use-case. Which specific line in the code you shared doesn&#39;t do what you expect it to do though?","body":"That all sounds like a reasonable use-case. Which specific line in the code you shared doesn&#39;t do what you expect it to do though?"},{"owner":{"account_id":24552559,"reputation":79,"user_id":18461575,"display_name":"Biron1gg"},"score":0,"creation_date":1657735278,"post_id":72970450,"comment_id":128883460,"body_markdown":"@FrankvanPuffelen all work, but I made variable int win_int = 0; , that is, its number is naturally Zero, when I enter this activity, then in the database my victories and defeats are reset to zero, since the variable = 0, I want to make Integer Based on the number from the database","body":"@FrankvanPuffelen all work, but I made variable int win_int = 0; , that is, its number is naturally Zero, when I enter this activity, then in the database my victories and defeats are reset to zero, since the variable = 0, I want to make Integer Based on the number from the database"},{"owner":{"account_id":380613,"reputation":1356,"user_id":734744,"accept_rate":72,"display_name":"Sameer Naik"},"score":1,"creation_date":1657737066,"post_id":72970450,"comment_id":128884056,"body_markdown":"You need to initialize your variable by reading its current value from database. Something like `loseInt = dataSnapshot.getRef().getValue()` I am not sure of the syntax or API.","body":"You need to initialize your variable by reading its current value from database. Something like <code>loseInt = dataSnapshot.getRef().getValue()</code> I am not sure of the syntax or API."},{"owner":{"account_id":24552559,"reputation":79,"user_id":18461575,"display_name":"Biron1gg"},"score":0,"creation_date":1657737669,"post_id":72970450,"comment_id":128884270,"body_markdown":"@SameerNaik I don&#39;t quite understand what you mean","body":"@SameerNaik I don&#39;t quite understand what you mean"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657738480,"creation_date":1657738480,"answer_id":72971298,"question_id":72970450,"body_markdown":"If you want to increment a value in the database, you can use the [atomic increment operation](https://firebase.google.com/docs/database/android/read-and-write#atomic_server-side_increments):\r\n```\r\nMap updates = new HashMap();\r\nupdates.put(&quot;wins&quot;, ServerValue.increment(1));\r\n\r\ndatabase.getReference().child(&quot;players/&quot;).child(playerName).updateChildren(updates);\r\n```\r\n\r\n","title":"How to make &quot;int&quot; based on number from database? - Java","body":"<p>If you want to increment a value in the database, you can use the <a href=\"https://firebase.google.com/docs/database/android/read-and-write#atomic_server-side_increments\" rel=\"nofollow noreferrer\">atomic increment operation</a>:</p>\n<pre><code>Map updates = new HashMap();\nupdates.put(&quot;wins&quot;, ServerValue.increment(1));\n\ndatabase.getReference().child(&quot;players/&quot;).child(playerName).updateChildren(updates);\n</code></pre>\n"}],"owner":{"account_id":24552559,"reputation":79,"user_id":18461575,"display_name":"Biron1gg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72971298,"answer_count":1,"score":0,"last_activity_date":1657738480,"creation_date":1657733891,"question_id":72970450,"body_markdown":"I&#39;m making a game, so far I&#39;ve made two buttons for the test. The first button makes a win, and the second one loses, all this is added to the database.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HehHv.png\r\n```\r\nint win_int = 0;\r\nint lose_int = 0;\r\n```\r\nThe fact is that every time you enter this activity, the number is reset to zero, since I set the number 0 in the variable. I want to understand how to make &quot;integer&quot; take a number not just one, but the number that is in the database.\r\n\r\n\r\nHere are the codes for the two buttons:\r\n```\r\nButton win = (Button)findViewById(R.id.Poke);\r\nwin.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        winsRef = database.getReference();\r\n        winsRef.child(&quot;players/&quot;).child(playerName).child(&quot;/wins&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n                dataSnapshot.getRef().setValue(win_int = win_int + 1);\r\n                Toast.makeText(DuelGame.this, &quot;+1 win!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                Toast.makeText(DuelGame.this, &quot;Data error!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\nButton lose = (Button)findViewById(R.id.lose_POKE);\r\nlose.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        losesRef = database.getReference();\r\n        losesRef.child(&quot;players/&quot;).child(playerName).child(&quot;/loses&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n                dataSnapshot.getRef().setValue(lose_int = lose_int + 1);\r\n                Toast.makeText(DuelGame.this, &quot;+1 Lose!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                Toast.makeText(DuelGame.this, &quot;Data error!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n    }\r\n});\r\n```\r\n\r\nIn general, I want that every time I enter the activity, the number is not reset to zero, and Integer takes the number from the database and is based on them, and not on zero in the variable.","title":"How to make &quot;int&quot; based on number from database? - Java","body":"<p>I'm making a game, so far I've made two buttons for the test. The first button makes a win, and the second one loses, all this is added to the database.</p>\n<p><a href=\"https://i.stack.imgur.com/HehHv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HehHv.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>int win_int = 0;\nint lose_int = 0;\n</code></pre>\n<p>The fact is that every time you enter this activity, the number is reset to zero, since I set the number 0 in the variable. I want to understand how to make &quot;integer&quot; take a number not just one, but the number that is in the database.</p>\n<p>Here are the codes for the two buttons:</p>\n<pre><code>Button win = (Button)findViewById(R.id.Poke);\nwin.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        winsRef = database.getReference();\n        winsRef.child(&quot;players/&quot;).child(playerName).child(&quot;/wins&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n\n                dataSnapshot.getRef().setValue(win_int = win_int + 1);\n                Toast.makeText(DuelGame.this, &quot;+1 win!&quot;, Toast.LENGTH_SHORT).show();\n            }\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                Toast.makeText(DuelGame.this, &quot;Data error!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n});\n\nButton lose = (Button)findViewById(R.id.lose_POKE);\nlose.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        losesRef = database.getReference();\n        losesRef.child(&quot;players/&quot;).child(playerName).child(&quot;/loses&quot;).addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n\n                dataSnapshot.getRef().setValue(lose_int = lose_int + 1);\n                Toast.makeText(DuelGame.this, &quot;+1 Lose!&quot;, Toast.LENGTH_SHORT).show();\n            }\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n                Toast.makeText(DuelGame.this, &quot;Data error!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n});\n</code></pre>\n<p>In general, I want that every time I enter the activity, the number is not reset to zero, and Integer takes the number from the database and is based on them, and not on zero in the variable.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7881594,"reputation":737,"user_id":5955362,"display_name":"Jaydeep Devda"},"score":2,"creation_date":1657727123,"post_id":72969066,"comment_id":128880723,"body_markdown":"what param you need in method `A()` ?","body":"what param you need in method <code>A()</code> ?"},{"owner":{"account_id":20797378,"reputation":13,"user_id":15274155,"display_name":"Palash Chatterjee"},"score":0,"creation_date":1657727324,"post_id":72969066,"comment_id":128880780,"body_markdown":"My issue is in mehod B(), I donot want to pass any parameter for A(), but i cant keep it blank, it will throw error.","body":"My issue is in mehod B(), I donot want to pass any parameter for A(), but i cant keep it blank, it will throw error."},{"owner":{"account_id":7881594,"reputation":737,"user_id":5955362,"display_name":"Jaydeep Devda"},"score":0,"creation_date":1657727416,"post_id":72969066,"comment_id":128880827,"body_markdown":"then please put `&quot;&quot;` empty string  or `null` whichever you think is best, FYI is not a good practice","body":"then please put <code>&quot;&quot;</code> empty string  or <code>null</code> whichever you think is best, FYI is not a good practice"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1657727454,"post_id":72969066,"comment_id":128880840,"body_markdown":"@PalashChatterjee your example is too abstract to give you an answer that makes sense for a general case.","body":"@PalashChatterjee your example is too abstract to give you an answer that makes sense for a general case."},{"owner":{"account_id":20797378,"reputation":13,"user_id":15274155,"display_name":"Palash Chatterjee"},"score":0,"creation_date":1657727492,"post_id":72969066,"comment_id":128880855,"body_markdown":"I know it is not a good practise, still what would you suggest as a good parctise.","body":"I know it is not a good practise, still what would you suggest as a good parctise."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1657727562,"post_id":72969066,"comment_id":128880876,"body_markdown":"By the way if method `A` needs to be called from `B` then `B` simply needs to be provided all the things it needs to call `A`. That means either passing something as a parameter to `B` itself or letting `B` take that parameter from... somewhere. That &quot;somewhere&quot; depends on specific cases.","body":"By the way if method <code>A</code> needs to be called from <code>B</code> then <code>B</code> simply needs to be provided all the things it needs to call <code>A</code>. That means either passing something as a parameter to <code>B</code> itself or letting <code>B</code> take that parameter from... somewhere. That &quot;somewhere&quot; depends on specific cases."}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657727828,"creation_date":1657727506,"answer_id":72969181,"question_id":72969066,"body_markdown":"In method `A` you expect one parameter of type `String` therefore you have to provide a parameter for `String` can be just an empty String `&quot;&quot;` or `null`.\r\n\r\n\r\n----------\r\n\r\n\r\nAnother option depending on your use case; you could use varargs:\r\n```java\r\npublic void a(String... varargs) {...}\r\n```\r\n\r\nIn this case it&#39;s possible to give zero or multiple parameters of type `String`.\r\nSo this works:\r\n```java\r\na(&quot;Hello World&quot;);\r\n```\r\n\r\nthis:\r\n```java\r\na();\r\n```\r\n\r\nBut also this:\r\n```java\r\na(&quot;Hello&quot;, &quot;World&quot;);\r\n```\r\n\r\n----------\r\n\r\nOr you could just pass all parameters necessary for `A` through `B`:\r\n\r\n```java\r\npublic class MethodCall {\r\n    public void A(String c) {\r\n        System.out.println(c);\r\n    }\r\n    \r\n    public void B(String c) {\r\n        A(c);\r\n    }\r\n    @Test\r\n    public void D() {\r\n        MethodCall mc = new MethodCall();\r\n        mc.B(&quot;Hello World&quot;);\r\n        mc.A(&quot;Hello&quot;);\r\n    }\r\n\r\n}","title":"How to pass variable from one parameterized method to another?","body":"<p>In method <code>A</code> you expect one parameter of type <code>String</code> therefore you have to provide a parameter for <code>String</code> can be just an empty String <code>&quot;&quot;</code> or <code>null</code>.</p>\n<hr />\n<p>Another option depending on your use case; you could use varargs:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void a(String... varargs) {...}\n</code></pre>\n<p>In this case it's possible to give zero or multiple parameters of type <code>String</code>.\nSo this works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>a(&quot;Hello World&quot;);\n</code></pre>\n<p>this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>a();\n</code></pre>\n<p>But also this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>a(&quot;Hello&quot;, &quot;World&quot;);\n</code></pre>\n<hr />\n<p>Or you could just pass all parameters necessary for <code>A</code> through <code>B</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MethodCall {\n    public void A(String c) {\n        System.out.println(c);\n    }\n    \n    public void B(String c) {\n        A(c);\n    }\n    @Test\n    public void D() {\n        MethodCall mc = new MethodCall();\n        mc.B(&quot;Hello World&quot;);\n        mc.A(&quot;Hello&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18761569,"reputation":1,"user_id":13680427,"display_name":"Nandini Jain"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1657727849,"creation_date":1657727849,"answer_id":72969260,"question_id":72969066,"body_markdown":"I am not so sure about your question but here is my take:\r\n\r\n        public class MethodCall {\r\n\r\n        public void A(String c) {\r\n    \r\n        System.out.println(c);\r\n        }\r\n\r\n        public void B(String s) {\r\n        A(s); //If you want to call A() here, then you would have to pass a variable in the parameters of A(), as A() is a parameterized method by definition.\r\n    \r\n        }\r\n\r\n        public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n        MethodCall mc = new MethodCall();\r\n        mc.A(&quot;Hello&quot;); //This part is right, that is how you pass value of a non static function through main method.\r\n        }","title":"How to pass variable from one parameterized method to another?","body":"<p>I am not so sure about your question but here is my take:</p>\n<pre><code>    public class MethodCall {\n\n    public void A(String c) {\n\n    System.out.println(c);\n    }\n\n    public void B(String s) {\n    A(s); //If you want to call A() here, then you would have to pass a variable in the parameters of A(), as A() is a parameterized method by definition.\n\n    }\n\n    public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    MethodCall mc = new MethodCall();\n    mc.A(&quot;Hello&quot;); //This part is right, that is how you pass value of a non static function through main method.\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25783273,"reputation":97,"user_id":19528572,"display_name":"Tharindu Lakshan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657728119,"creation_date":1657728119,"answer_id":72969315,"question_id":72969066,"body_markdown":"You should pass the String parameter for within A(), in method B.\r\n    \r\n    public class MethodCall {\r\n\r\n\t\tpublic void A(String c) {\r\n\t\t\r\n\t\t\tSystem.out.println(c);\r\n\t\t}\r\n\r\n\t\tpublic void B() {\r\n\t\t\tA(&quot;Pass the String parameter&quot;); \r\n\t\t\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tMethodCall mc = new MethodCall();\r\n\t\t\tmc.A(&quot;Hello&quot;);\r\n\t\t\tmc.B();\r\n\t\t}\r\n    }\r\n","title":"How to pass variable from one parameterized method to another?","body":"<p>You should pass the String parameter for within A(), in method B.</p>\n<pre><code>public class MethodCall {\n\n    public void A(String c) {\n    \n        System.out.println(c);\n    }\n\n    public void B() {\n        A(&quot;Pass the String parameter&quot;); \n    \n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        MethodCall mc = new MethodCall();\n        mc.A(&quot;Hello&quot;);\n        mc.B();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25693839,"reputation":34,"user_id":19454844,"display_name":"Sachithra Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657738305,"creation_date":1657738305,"answer_id":72971264,"question_id":72969066,"body_markdown":"when you passing the String type as a parameter its mean you should use to same data type when you giving the value to the parameter. you cant use any other types like Integer, float etc. you just need to pass the String value to the given parameter.\r\n\r\n&gt; When you are using non-static method it cannot call directly. so use\r\n&gt; static keyword to call the method in directly.\r\n\r\n***ANSWER-***\r\n\r\n    public class MethodCall {\r\n        \r\n        public static void A(String c) {\r\n            \r\n            System.out.println(c);\r\n        }\r\n        \r\n        public static void B() {\r\n            A(&quot;HI &quot;); //you can put `null` or `empty`\r\n            \r\n        }\r\n    \r\n        public static  void main(String[] args) {\r\n            B();\r\n            MethodCall mc = new MethodCall();\r\n            mc.A(&quot;Hello&quot;);\r\n        }\r\n    \r\n    }","title":"How to pass variable from one parameterized method to another?","body":"<p>when you passing the String type as a parameter its mean you should use to same data type when you giving the value to the parameter. you cant use any other types like Integer, float etc. you just need to pass the String value to the given parameter.</p>\n<blockquote>\n<p>When you are using non-static method it cannot call directly. so use\nstatic keyword to call the method in directly.</p>\n</blockquote>\n<p><em><strong>ANSWER-</strong></em></p>\n<pre><code>public class MethodCall {\n    \n    public static void A(String c) {\n        \n        System.out.println(c);\n    }\n    \n    public static void B() {\n        A(&quot;HI &quot;); //you can put `null` or `empty`\n        \n    }\n\n    public static  void main(String[] args) {\n        B();\n        MethodCall mc = new MethodCall();\n        mc.A(&quot;Hello&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20797378,"reputation":13,"user_id":15274155,"display_name":"Palash Chatterjee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":4,"score":-3,"last_activity_date":1657738305,"creation_date":1657726996,"question_id":72969066,"body_markdown":"How do I send the variable from main method to the Method `A`, and what Parameter should I pass within `A()`, in method `B`.\r\n\r\n**Code:**\r\n```java    \r\npublic class MethodCall {\r\n\t\r\n\tpublic void A(String c) {\r\n\t\t\r\n\t\tSystem.out.println(c);\r\n\t}\r\n\t\r\n\tpublic void B() {\r\n\t\tA(); // What parameter do I pass here. method B is dependent on A\r\n\t\t\r\n\t}\r\n    @Test\r\n\tpublic void D() {\r\n\t\tB();\r\n\t\tMethodCall mc = new MethodCall();\r\n\t\tmc.A(&quot;Hello&quot;);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n","title":"How to pass variable from one parameterized method to another?","body":"<p>How do I send the variable from main method to the Method <code>A</code>, and what Parameter should I pass within <code>A()</code>, in method <code>B</code>.</p>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MethodCall {\n    \n    public void A(String c) {\n        \n        System.out.println(c);\n    }\n    \n    public void B() {\n        A(); // What parameter do I pass here. method B is dependent on A\n        \n    }\n    @Test\n    public void D() {\n        B();\n        MethodCall mc = new MethodCall();\n        mc.A(&quot;Hello&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","nginx","java-http-client"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1657738637,"post_id":72971213,"comment_id":128884557,"body_markdown":"Does it really hang? Does it wait forever? Or does a worker thread die and the client thread is waiting for the result forever? Depending on the root cause your mitigation could vary.","body":"Does it really hang? Does it wait forever? Or does a worker thread die and the client thread is waiting for the result forever? Depending on the root cause your mitigation could vary."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1657738797,"post_id":72971213,"comment_id":128884598,"body_markdown":"Where is the method `post(String, List&lt;Long&gt;)`?","body":"Where is the method <code>post(String, List&lt;Long&gt;)</code>?"},{"owner":{"account_id":14666883,"reputation":1411,"user_id":10628833,"display_name":"Gustavo Ces&#225;rio"},"score":0,"creation_date":1657740615,"post_id":72971213,"comment_id":128885202,"body_markdown":"@HiranChaudhuri The post method is the one below startProcess.\nI&#39;m not sure, I just believe it hangs because it stayed in that same state for almost an entire day. How could I verify if the worker thread died?","body":"@HiranChaudhuri The post method is the one below startProcess. I&#39;m not sure, I just believe it hangs because it stayed in that same state for almost an entire day. How could I verify if the worker thread died?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1657740944,"post_id":72971213,"comment_id":128885307,"body_markdown":"The method you posted has the signature `post(String, S, Class&lt;?&gt;...)` so it is different from what is called in startProcess().","body":"The method you posted has the signature <code>post(String, S, Class&lt;?&gt;...)</code> so it is different from what is called in startProcess()."},{"owner":{"account_id":14666883,"reputation":1411,"user_id":10628833,"display_name":"Gustavo Ces&#225;rio"},"score":0,"creation_date":1657744377,"post_id":72971213,"comment_id":128886406,"body_markdown":"@HiranChaudhuri Actually it&#39;s the right method. The first param is the endpoint, so it&#39;s just a string. The second param is generic, so I can pass any object and it will be serialized. For the third parameter I used varargs, so as I didn&#39;t pass anything to it, it will just be resolved to an empty array. I added a check for it in the doRequest method ```if (clazz.length == 0) ...```","body":"@HiranChaudhuri Actually it&#39;s the right method. The first param is the endpoint, so it&#39;s just a string. The second param is generic, so I can pass any object and it will be serialized. For the third parameter I used varargs, so as I didn&#39;t pass anything to it, it will just be resolved to an empty array. I added a check for it in the doRequest method <code>if (clazz.length == 0) ...</code>"},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1659620870,"post_id":72971213,"comment_id":129341960,"body_markdown":"Which version of the JDK are you using? If 11 you might want to try the same with a more recent version. Also I&#39;d suggest to enable logging.\n`-Djdk.httpclient.HttpClient.log=errors,requests,headers,channel`","body":"Which version of the JDK are you using? If 11 you might want to try the same with a more recent version. Also I&#39;d suggest to enable logging. <code>-Djdk.httpclient.HttpClient.log=errors,requests,headers,chan&zwnj;&#8203;nel</code>"}],"owner":{"account_id":14666883,"reputation":1411,"user_id":10628833,"display_name":"Gustavo Ces&#225;rio"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657738009,"creation_date":1657738009,"question_id":72971213,"body_markdown":"I have an API that process a lot of information by calling another API. So for example, when the process starts in the API A, it makes a lot of http requests do the API B. It works fine for most requests, but some of them sometimes takes a lot of time to proccess on API B (more than 20 minutes). When it happens, the API B responds to the request successfully, but API A appears to not be aware of this response. So it just hangs infinitely waiting for a response.\r\n\r\nBoth API&#39;s are using kubernetes and nginx as a proxy. I was having some timeout problems, so I changed my timeout to 2000 seconds in my config file and for a while I didn&#39;t have any problems.\r\n```\r\n    kubernetes.io/ingress.class: nginx\r\n    nginx.ingress.kubernetes.io/proxy-connect-timeout: &quot;2000&quot;\r\n    nginx.ingress.kubernetes.io/proxy-send-timeout: &quot;2000&quot;\r\n    nginx.ingress.kubernetes.io/proxy-read-timeout: &quot;2000&quot;\r\n    nginx.ingress.kubernetes.io/send-timeout: &quot;2000&quot;\r\n```\r\n\r\nThis is how I&#39;m calling the API B from API A:\r\n```java\r\n    @Override\r\n    public void startProcess(List&lt;Long&gt; ids) {\r\n        logger.info(&quot;Starting process...&quot;);\r\n        post(&quot;/start&quot;, ids);\r\n        logger.info(&quot;Process finished!&quot;);\r\n    }\r\n\r\n    public &lt;T, S&gt; T post(String endpoint, S body, Class&lt;?&gt;... clazz) {\r\n        var uri = generateURI(endpoint);\r\n        var requestBuilder = HttpRequest.newBuilder(uri).timeout()\r\n                .POST(HttpRequest.BodyPublishers.ofString(Serializer.serialize(body)));\r\n        addCustomHeaders(requestBuilder, HttpMethod.POST);\r\n        var request = requestBuilder.build();\r\n        return doRequest(request, clazz);\r\n    }\r\n\r\n    @SneakyThrows\r\n    private &lt;T&gt; T doRequest(HttpRequest request, Class&lt;?&gt;... clazz) {\r\n\r\n        SSLContext context = obterContextoSsl();\r\n\r\n        HttpClient client = HttpClient.newBuilder()\r\n                .sslContext(context)\r\n                .version(HttpClient.Version.HTTP_1_1)\r\n                .build();\r\n\r\n        try {\r\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n            if (!HttpStatus.valueOf(response.statusCode()).is2xxSuccessful()) {\r\n                logger.error(String.format(&quot;Request error! %d: %s&quot;, response.statusCode(), response.body()));\r\n                throw new HttpException(String.format(&quot;%d: %s&quot;, response.statusCode(), response.body()));\r\n            }\r\n            if (clazz.length == 0 || response.statusCode() == HttpStatus.NO_CONTENT.value())\r\n                return null;\r\n            return Serializer.deserialize(response.body(), clazz);\r\n        } catch (InterruptedException ex) {\r\n            Thread.currentThread().interrupt();\r\n            logger.error(ex);\r\n            throw new HttpException(ex.getMessage());\r\n        } catch (IOException | HttpException ex) {\r\n            logger.error(ex);\r\n            throw new HttpException(ex.getMessage());\r\n        }\r\n    }\r\n```\r\n\r\nThis is the log from API A:\r\n```\r\n2022-07-13 17:33:35.323  INFO 1 --- [pool-5-thread-1] c.v.f.m.r.Repository: Starting process...\r\n```\r\n\r\nThat&#39;s the only log from API A. Even after API B respond successfully to the request, API A just hangs there forever. Maybe somehow the connection is being closed but API A is not aware of it? Does anyone knows a way to fix this?","title":"Java HttpClient hangs after request takes too long to respond","body":"<p>I have an API that process a lot of information by calling another API. So for example, when the process starts in the API A, it makes a lot of http requests do the API B. It works fine for most requests, but some of them sometimes takes a lot of time to proccess on API B (more than 20 minutes). When it happens, the API B responds to the request successfully, but API A appears to not be aware of this response. So it just hangs infinitely waiting for a response.</p>\n<p>Both API's are using kubernetes and nginx as a proxy. I was having some timeout problems, so I changed my timeout to 2000 seconds in my config file and for a while I didn't have any problems.</p>\n<pre><code>    kubernetes.io/ingress.class: nginx\n    nginx.ingress.kubernetes.io/proxy-connect-timeout: &quot;2000&quot;\n    nginx.ingress.kubernetes.io/proxy-send-timeout: &quot;2000&quot;\n    nginx.ingress.kubernetes.io/proxy-read-timeout: &quot;2000&quot;\n    nginx.ingress.kubernetes.io/send-timeout: &quot;2000&quot;\n</code></pre>\n<p>This is how I'm calling the API B from API A:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void startProcess(List&lt;Long&gt; ids) {\n        logger.info(&quot;Starting process...&quot;);\n        post(&quot;/start&quot;, ids);\n        logger.info(&quot;Process finished!&quot;);\n    }\n\n    public &lt;T, S&gt; T post(String endpoint, S body, Class&lt;?&gt;... clazz) {\n        var uri = generateURI(endpoint);\n        var requestBuilder = HttpRequest.newBuilder(uri).timeout()\n                .POST(HttpRequest.BodyPublishers.ofString(Serializer.serialize(body)));\n        addCustomHeaders(requestBuilder, HttpMethod.POST);\n        var request = requestBuilder.build();\n        return doRequest(request, clazz);\n    }\n\n    @SneakyThrows\n    private &lt;T&gt; T doRequest(HttpRequest request, Class&lt;?&gt;... clazz) {\n\n        SSLContext context = obterContextoSsl();\n\n        HttpClient client = HttpClient.newBuilder()\n                .sslContext(context)\n                .version(HttpClient.Version.HTTP_1_1)\n                .build();\n\n        try {\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n            if (!HttpStatus.valueOf(response.statusCode()).is2xxSuccessful()) {\n                logger.error(String.format(&quot;Request error! %d: %s&quot;, response.statusCode(), response.body()));\n                throw new HttpException(String.format(&quot;%d: %s&quot;, response.statusCode(), response.body()));\n            }\n            if (clazz.length == 0 || response.statusCode() == HttpStatus.NO_CONTENT.value())\n                return null;\n            return Serializer.deserialize(response.body(), clazz);\n        } catch (InterruptedException ex) {\n            Thread.currentThread().interrupt();\n            logger.error(ex);\n            throw new HttpException(ex.getMessage());\n        } catch (IOException | HttpException ex) {\n            logger.error(ex);\n            throw new HttpException(ex.getMessage());\n        }\n    }\n</code></pre>\n<p>This is the log from API A:</p>\n<pre><code>2022-07-13 17:33:35.323  INFO 1 --- [pool-5-thread-1] c.v.f.m.r.Repository: Starting process...\n</code></pre>\n<p>That's the only log from API A. Even after API B respond successfully to the request, API A just hangs there forever. Maybe somehow the connection is being closed but API A is not aware of it? Does anyone knows a way to fix this?</p>\n"},{"tags":["java","project-reactor","spring-data-r2dbc","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":3459421,"reputation":15080,"user_id":2897008,"accept_rate":73,"display_name":"vins"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1657737995,"creation_date":1585923037,"answer_id":61013768,"question_id":61004958,"body_markdown":"It will be more or less like this for your requirement.\r\n\r\n    @Transactional\r\n    Mono&lt;Book&gt; save(Book book){\r\n    \treturn repository.findByIsbn(book.getIsbn())\r\n    \t                .flatMap(found -&gt; repository.save(found.copyMutableValuesFrom(book)))\r\n    \t                .switchIfEmpty(repository.save(book));\t\r\n    }\r\n\r\n1. ReactiveCrudRepository returns `Mono&lt;Book&gt;` when you call findById(something like `Optional&lt;Book&gt;` - if it is your custom method, make it return `Mono&lt;Book&gt;`)\r\n2. If the book is present second statement is executed where we update the existing book\r\n3. if the book is not found, 3rd statement is executed where we save the new book.\r\n\r\nIt returns a `Mono&lt;Book&gt;`","title":"Find/Modify/Save or Upsert with Spring Data R2DBC","body":"<p>It will be more or less like this for your requirement.</p>\n<pre><code>@Transactional\nMono&lt;Book&gt; save(Book book){\n    return repository.findByIsbn(book.getIsbn())\n                    .flatMap(found -&gt; repository.save(found.copyMutableValuesFrom(book)))\n                    .switchIfEmpty(repository.save(book));  \n}\n</code></pre>\n<ol>\n<li>ReactiveCrudRepository returns <code>Mono&lt;Book&gt;</code> when you call findById(something like <code>Optional&lt;Book&gt;</code> - if it is your custom method, make it return <code>Mono&lt;Book&gt;</code>)</li>\n<li>If the book is present second statement is executed where we update the existing book</li>\n<li>if the book is not found, 3rd statement is executed where we save the new book.</li>\n</ol>\n<p>It returns a <code>Mono&lt;Book&gt;</code></p>\n"}],"owner":{"account_id":56162,"reputation":18871,"user_id":168212,"accept_rate":79,"display_name":"SingleShot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61013768,"answer_count":1,"score":2,"last_activity_date":1657737995,"creation_date":1585887004,"question_id":61004958,"body_markdown":"I&#39;m trying to wrap my head around reactive programming, specifically with Spring and Spring Data R2DBC. One thing that would help me understand it better is to do a find/modify/save or \r\n&quot;upsert&quot; of an object. A traditional interaction might look like this:\r\n```\r\nBook save(Book book) {\r\n\r\n   Book existing = repository.findByIsbn(book.getIsbn())\r\n\r\n   if (existing != null) {\r\n     return repository.save(found.copyMutableValuesFrom(book));\r\n   }\r\n\r\n   return repository.save(book);\r\n}\r\n```\r\n\r\nHow might this look with Monos? I understand how to do a straight find, or a straight save, but a more complicated find/update/save or upsert is eluding me.\r\n\r\nThanks.","title":"Find/Modify/Save or Upsert with Spring Data R2DBC","body":"<p>I'm trying to wrap my head around reactive programming, specifically with Spring and Spring Data R2DBC. One thing that would help me understand it better is to do a find/modify/save or \n\"upsert\" of an object. A traditional interaction might look like this:</p>\n\n<pre><code>Book save(Book book) {\n\n   Book existing = repository.findByIsbn(book.getIsbn())\n\n   if (existing != null) {\n     return repository.save(found.copyMutableValuesFrom(book));\n   }\n\n   return repository.save(book);\n}\n</code></pre>\n\n<p>How might this look with Monos? I understand how to do a straight find, or a straight save, but a more complicated find/update/save or upsert is eluding me.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","discord","protected","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657737462,"creation_date":1657737462,"answer_id":72971122,"question_id":72969212,"body_markdown":"Use the factory method [SelectOption.of](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/components/selections/SelectOption.html#of%28java.lang.String%2Cjava.lang.String%29):\r\n\r\n```java\r\nSelectOption.of(&quot;What the user sees&quot;, &quot;id used in event&quot;)\r\n  .withDescription(&quot;Some description to show below the label&quot;)\r\n```","title":"JDA List/Collection of SelectOption","body":"<p>Use the factory method <a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/interactions/components/selections/SelectOption.html#of%28java.lang.String%2Cjava.lang.String%29\" rel=\"nofollow noreferrer\">SelectOption.of</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SelectOption.of(&quot;What the user sees&quot;, &quot;id used in event&quot;)\n  .withDescription(&quot;Some description to show below the label&quot;)\n</code></pre>\n"}],"owner":{"account_id":22083149,"reputation":45,"user_id":16342425,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72971122,"answer_count":1,"score":0,"last_activity_date":1657737462,"creation_date":1657727668,"question_id":72969212,"body_markdown":"I cant create a List or a Collection of SelectOptions in JDA.\r\nI tried it like that:\r\n\r\n    List&lt;SelectOption&gt; li = new ArrayList&lt;&gt;();\r\n        li.add(new SelectOption(&quot;&quot;, &quot;&quot;));\r\n\r\nThe error message tells me this:\r\n\r\n&gt; &#39;SelectOption(java.lang.String, java.lang.String)&#39; has protected access in &#39;net.dv8tion.jda.api.interactions.components.selections.SelectOption&#39;\r\n\r\nI dont know what does this mean and how i fix that.\r\n","title":"JDA List/Collection of SelectOption","body":"<p>I cant create a List or a Collection of SelectOptions in JDA.\nI tried it like that:</p>\n<pre><code>List&lt;SelectOption&gt; li = new ArrayList&lt;&gt;();\n    li.add(new SelectOption(&quot;&quot;, &quot;&quot;));\n</code></pre>\n<p>The error message tells me this:</p>\n<blockquote>\n<p>'SelectOption(java.lang.String, java.lang.String)' has protected access in 'net.dv8tion.jda.api.interactions.components.selections.SelectOption'</p>\n</blockquote>\n<p>I dont know what does this mean and how i fix that.</p>\n"},{"tags":["java","null","long-integer"],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1414608245,"creation_date":1414607478,"answer_id":26638058,"question_id":26638047,"body_markdown":"If the `longValue` variable is of type `Long` (the wrapper class, not the primitive `long`), then yes you can check for null values.\r\n\r\nA primitive variable needs to be initialized to some value explicitly (e.g. to `0`) so its value will never be null.","title":"How to check a Long for null in java","body":"<p>If the <code>longValue</code> variable is of type <code>Long</code> (the wrapper class, not the primitive <code>long</code>), then yes you can check for null values.</p>\n\n<p>A primitive variable needs to be initialized to some value explicitly (e.g. to <code>0</code>) so its value will never be null.</p>\n"},{"tags":[],"owner":{"account_id":5012123,"reputation":13192,"user_id":4028085,"display_name":"brso05"},"down_vote_count":2,"up_vote_count":116,"is_accepted":true,"score":114,"last_activity_date":1657737400,"creation_date":1414607486,"answer_id":26638064,"question_id":26638047,"body_markdown":"Primitive data types cannot be `null`.  Only `Object` data types can be `null`.\r\n\r\nThere are 8 primitive types in Java:\r\n\r\n| Data Type\t| Size\t  | Description |\r\n|-----------|---------|-------------|\r\n| byte\t    | 1 byte  | Int8        |\r\n| short\t    | 2 bytes | Int16       |\r\n| int\t    | 4 bytes | Int32       |\r\n| long\t    | 8 bytes | Int64       |\r\n| float\t    | 4 bytes | Single      |\r\n| double\t| 8 bytes | Double      |\r\n| boolean\t| 1 bit\t  | Boolean     |\r\n\r\nIf you use `Long` (wrapper class for `long`) then you can check for `null`&#39;s:\r\n\r\n    Long longValue = null;\r\n\r\n    if(longValue == null)","title":"How to check a Long for null in java","body":"<p>Primitive data types cannot be <code>null</code>.  Only <code>Object</code> data types can be <code>null</code>.</p>\n<p>There are 8 primitive types in Java:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Data Type</th>\n<th>Size</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>byte</td>\n<td>1 byte</td>\n<td>Int8</td>\n</tr>\n<tr>\n<td>short</td>\n<td>2 bytes</td>\n<td>Int16</td>\n</tr>\n<tr>\n<td>int</td>\n<td>4 bytes</td>\n<td>Int32</td>\n</tr>\n<tr>\n<td>long</td>\n<td>8 bytes</td>\n<td>Int64</td>\n</tr>\n<tr>\n<td>float</td>\n<td>4 bytes</td>\n<td>Single</td>\n</tr>\n<tr>\n<td>double</td>\n<td>8 bytes</td>\n<td>Double</td>\n</tr>\n<tr>\n<td>boolean</td>\n<td>1 bit</td>\n<td>Boolean</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>If you use <code>Long</code> (wrapper class for <code>long</code>) then you can check for <code>null</code>'s:</p>\n<pre><code>Long longValue = null;\n\nif(longValue == null)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5177880,"reputation":244,"user_id":4144381,"display_name":"Arif Ulusoy"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1414608608,"creation_date":1414608608,"answer_id":26638363,"question_id":26638047,"body_markdown":"You can check Long object for null value with `longValue == null` ,\r\nyou can use  `longValue == 0L` for long (primitive), because default value of long is 0L, but it&#39;s result will be true if longValue is zero too","title":"How to check a Long for null in java","body":"<p>You can check Long object for null value with <code>longValue == null</code> ,\nyou can use  <code>longValue == 0L</code> for long (primitive), because default value of long is 0L, but it's result will be true if longValue is zero too</p>\n"},{"tags":[],"owner":{"account_id":1765312,"reputation":463,"user_id":2335486,"accept_rate":29,"display_name":"Diablo"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1632305823,"creation_date":1457620740,"answer_id":35919483,"question_id":26638047,"body_markdown":"If it is `Long` object then You can use `longValue == null` or you can use  `Objects.isNull(longValue)` method in Java 7+ projects .\r\n\r\nPlease check [Objects][1] for more info.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/","title":"How to check a Long for null in java","body":"<p>If it is <code>Long</code> object then You can use <code>longValue == null</code> or you can use  <code>Objects.isNull(longValue)</code> method in Java 7+ projects .</p>\n<p>Please check <a href=\"https://docs.oracle.com/javase/8/docs/api/\" rel=\"noreferrer\">Objects</a> for more info.</p>\n"},{"tags":[],"owner":{"account_id":10104044,"reputation":29,"user_id":7467195,"accept_rate":100,"display_name":"Pavithra"},"down_vote_count":9,"up_vote_count":2,"is_accepted":false,"score":-7,"last_activity_date":1532931033,"creation_date":1498113539,"answer_id":44691924,"question_id":26638047,"body_markdown":"As primitives(long) can&#39;t be null,It can be converted to wrapper class of that primitive type(ie.Long) and null check can be performed.\r\n\r\nIf you want to check whether long variable is null,you can convert that into Long and check,\r\n\r\n    long longValue=null;\r\n    \r\n    if(Long.valueOf(longValue)==null)\r\n\r\n","title":"How to check a Long for null in java","body":"<p>As primitives(long) can't be null,It can be converted to wrapper class of that primitive type(ie.Long) and null check can be performed.</p>\n\n<p>If you want to check whether long variable is null,you can convert that into Long and check,</p>\n\n<pre><code>long longValue=null;\n\nif(Long.valueOf(longValue)==null)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3738526,"reputation":928,"user_id":3108856,"display_name":"tammoj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538396833,"creation_date":1538396833,"answer_id":52591123,"question_id":26638047,"body_markdown":"As mentioned already primitives can not be set to the Object type null.\r\n\r\nWhat I do in such cases is just to use `-1` or `Long.MIN_VALUE`.","title":"How to check a Long for null in java","body":"<p>As mentioned already primitives can not be set to the Object type null.</p>\n\n<p>What I do in such cases is just to use <code>-1</code> or <code>Long.MIN_VALUE</code>.</p>\n"},{"tags":[],"owner":{"account_id":3097603,"reputation":31,"user_id":2622491,"display_name":"Srinath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1548383952,"creation_date":1548383952,"answer_id":54358257,"question_id":26638047,"body_markdown":"Of course Primitive types cannot be null. But in Java 8 you can use Objects.isNull(longValue) to check. \r\nEx. If(Objects.isNull(longValue))","title":"How to check a Long for null in java","body":"<p>Of course Primitive types cannot be null. But in Java 8 you can use Objects.isNull(longValue) to check. \nEx. If(Objects.isNull(longValue))</p>\n"},{"tags":[],"owner":{"account_id":4392902,"reputation":537,"user_id":3580786,"display_name":"Niraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589262856,"creation_date":1589262856,"answer_id":61744732,"question_id":26638047,"body_markdown":"If it is Long you can check if it&#39;s null unless you go for long (as primitive data types cant be null while Long instance is a object)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    Long num; \r\n\r\n    if(num == null) return;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nFor some context, you can also prefer using Optional with it to make it somehow beautiful for some use cases.\r\nRefer https://stackoverflow.com/questions/22373696/requestparam-in-spring-mvc-handling-optional-parameters","title":"How to check a Long for null in java","body":"<p>If it is Long you can check if it's null unless you go for long (as primitive data types cant be null while Long instance is a object)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Long num; \r\n\r\nif(num == null) return;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For some context, you can also prefer using Optional with it to make it somehow beautiful for some use cases.\nRefer <a href=\"https://stackoverflow.com/questions/22373696/requestparam-in-spring-mvc-handling-optional-parameters\">@RequestParam in Spring MVC handling optional parameters</a></p>\n"}],"owner":{"account_id":4132740,"reputation":1332,"user_id":3390154,"accept_rate":38,"display_name":"BrownTownCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327222,"favorite_count":0,"down_vote_count":2,"up_vote_count":61,"accepted_answer_id":26638064,"answer_count":8,"score":59,"last_activity_date":1657737400,"creation_date":1414607421,"question_id":26638047,"body_markdown":"How do I check a Long value for null in Java?\r\n\r\nWill this work? \r\n\r\n\r\n    if ( longValue == null) { return blah; }","title":"How to check a Long for null in java","body":"<p>How do I check a Long value for null in Java?</p>\n\n<p>Will this work? </p>\n\n<pre><code>if ( longValue == null) { return blah; }\n</code></pre>\n"},{"tags":["java","go","bouncycastle","asn.1"],"comments":[{"owner":{"account_id":6405624,"reputation":19762,"user_id":4966953,"display_name":"Marc"},"score":0,"creation_date":1598736147,"post_id":63650318,"comment_id":112557899,"body_markdown":"It depends on what the extension contains, can you show it&#39;s details, and the official oid? But in general, you just need to call https://golang.org/pkg/encoding/asn1/#Unmarshal with the right type.","body":"It depends on what the extension contains, can you show it&#39;s details, and the official oid? But in general, you just need to call <a href=\"https://golang.org/pkg/encoding/asn1/#Unmarshal\" rel=\"nofollow noreferrer\">golang.org/pkg/encoding/asn1/#Unmarshal</a> with the right type."},{"owner":{"account_id":19348677,"reputation":111,"user_id":14146593,"display_name":"Prems"},"score":0,"creation_date":1598760366,"post_id":63650318,"comment_id":112561091,"body_markdown":"the first extension contains a key, the second extension contains the key signature.","body":"the first extension contains a key, the second extension contains the key signature."},{"owner":{"account_id":19348677,"reputation":111,"user_id":14146593,"display_name":"Prems"},"score":0,"creation_date":1598761976,"post_id":63650318,"comment_id":112561295,"body_markdown":"Just updated my question with more details.","body":"Just updated my question with more details."},{"owner":{"account_id":6405624,"reputation":19762,"user_id":4966953,"display_name":"Marc"},"score":0,"creation_date":1598765043,"post_id":63650318,"comment_id":112561640,"body_markdown":"What does the error returned by `Unmarshal` say?","body":"What does the error returned by <code>Unmarshal</code> say?"},{"owner":{"account_id":19348677,"reputation":111,"user_id":14146593,"display_name":"Prems"},"score":0,"creation_date":1598765950,"post_id":63650318,"comment_id":112561789,"body_markdown":"asn1: structure error: tags don&#39;t match (4 vs {class:3 tag:84 length:67 isCompound:true}) {optional:false explicit:false application:false private:false defaultValue:&lt;nil&gt; tag:&lt;nil&gt; stringType:0 timeType:0 set:false omitEmpty:false}  @3 - This is the error i am getting.","body":"asn1: structure error: tags don&#39;t match (4 vs {class:3 tag:84 length:67 isCompound:true}) {optional:false explicit:false application:false private:false defaultValue:&lt;nil&gt; tag:&lt;nil&gt; stringType:0 timeType:0 set:false omitEmpty:false}  @3 - This is the error i am getting."},{"owner":{"account_id":6405624,"reputation":19762,"user_id":4966953,"display_name":"Marc"},"score":0,"creation_date":1598766502,"post_id":63650318,"comment_id":112561870,"body_markdown":"Then this is a bit string, use https://golang.org/pkg/encoding/asn1/#BitString. If you lookup the OID, it will tell you what data types to expect so you don&#39;t have to guess.","body":"Then this is a bit string, use <a href=\"https://golang.org/pkg/encoding/asn1/#BitString\" rel=\"nofollow noreferrer\">golang.org/pkg/encoding/asn1/#BitString</a>. If you lookup the OID, it will tell you what data types to expect so you don&#39;t have to guess."},{"owner":{"account_id":19348677,"reputation":111,"user_id":14146593,"display_name":"Prems"},"score":0,"creation_date":1598771421,"post_id":63650318,"comment_id":112562675,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/220689/discussion-between-prems-and-marc).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/220689/discussion-between-prems-and-marc\">continue this discussion in chat</a>."},{"owner":{"account_id":6405624,"reputation":19762,"user_id":4966953,"display_name":"Marc"},"score":0,"creation_date":1598807896,"post_id":63650318,"comment_id":112571611,"body_markdown":"If you&#39;re still having trouble, I recommend pasting your certificate and existing code.","body":"If you&#39;re still having trouble, I recommend pasting your certificate and existing code."}],"owner":{"account_id":19348677,"reputation":111,"user_id":14146593,"display_name":"Prems"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1657737184,"creation_date":1598724833,"question_id":63650318,"body_markdown":"I have a piece of code to extract extension value using OID. After extracting the value, the following is done in Java using Bouncy Castle:\r\n\r\n    private DEROctetString bytes;\r\n    \r\n    public KeyInfo(byte[] bytes) {\r\n        this.bytes = new DEROctetString(bytes);\r\n    }\r\n    \r\n    public static KeyInfo valueOf(byte[] asn1) throws IOException {\r\n        ASN1Object object = ASN1Primitive.fromByteArray(asn1);\r\n        DEROctetString der = (DEROctetString)object.toASN1Primitive();\r\n        return new KeyInfo(der.getOctets());\r\n    }\r\n    \r\n    public byte[] getBytes() {\r\n        return bytes.getOctets();\r\n    }\r\n\r\nFinally, I use the `getBytes()` method to use the value for further manipulation.\r\n\r\nCan someone explain, what is happening in the above piece of code?\r\n\r\nI have added the piece of code, to extract extension for a particular OID from certificate in Golang.\r\nI am not sure how to implement the above part in Golang. Can anyone share any sample code?\r\n\r\nThis is what I have so far:\r\n\r\n    extensions = cert.Extensions\r\n    \tID := asn1.ObjectIdentifier{2,6,7,8}\r\n    \tfor _, ext := range extensions {\r\n    \t\tif reflect.DeepEqual(ext.Id, ID) {\r\n    \t\t\ttestextValue = ext.Value\r\n    \t\t}\r\n\r\nThank in advance.\r\n\r\n\r\n# Update\r\nSo, I tried this ,\r\n\t\r\n\r\n    var n []byte\r\n    \tasn1.Unmarshal(value, &amp;n)\r\n    \tfmt.Println(&quot;After marshal/unmarshal: &quot;, n)\r\n\r\nwhere value, is the extension.value of that particular extension.OID. \r\nBut the print statement prints []. \r\n\r\nI need to do the equivaluent of \r\n \r\n\r\n     ASN1Object object = ASN1Primitive.fromByteArray(asn1);\r\n        DEROctetString der = (DEROctetString)object.toASN1Primitive();\r\n        return new KeyInfo(der.getOctets());\r\n\r\nin golang.\r\n\r\nI am trying to verify the key and signature using VerifyPKCS1v15. If i pass ext.Value directly, it gives me verification error. I guess i need to do the above conversion first.\r\n\r\n# Update (30/8)\r\n\r\n    type BitString struct {\r\n    \t\tBytes     []byte // bits packed into bytes.\r\n    \t\tBitLength int    // length in bits.\r\n    \t}\r\n    \r\n    \tvar bitstring BitString\r\n    \t_, err = asn1.Unmarshal(value, &amp;bitstring)\r\n    \tfmt.Println(&quot;error&quot;, err)\r\n    \tfmt.Println(&quot;After marshal/unmarshal: &quot;, bitstring.Bytes)\r\n\r\nThis shows error as structure error: \r\n\r\n&gt; tags don&#39;t match (16 vs {class:3 tag:84 length:67 isCompound:true}) {optional:false explicit:false application:false private:false defaultValue:&lt;nil&gt; tag:&lt;nil&gt; stringType:0 timeType:0 set:false omitEmpty:false} BitString @3\r\n\r\n\r\nIt will be helpful if anyone can share a sample code.","title":"How to get the correct extension value in golang?","body":"<p>I have a piece of code to extract extension value using OID. After extracting the value, the following is done in Java using Bouncy Castle:</p>\n<pre><code>private DEROctetString bytes;\n\npublic KeyInfo(byte[] bytes) {\n    this.bytes = new DEROctetString(bytes);\n}\n\npublic static KeyInfo valueOf(byte[] asn1) throws IOException {\n    ASN1Object object = ASN1Primitive.fromByteArray(asn1);\n    DEROctetString der = (DEROctetString)object.toASN1Primitive();\n    return new KeyInfo(der.getOctets());\n}\n\npublic byte[] getBytes() {\n    return bytes.getOctets();\n}\n</code></pre>\n<p>Finally, I use the <code>getBytes()</code> method to use the value for further manipulation.</p>\n<p>Can someone explain, what is happening in the above piece of code?</p>\n<p>I have added the piece of code, to extract extension for a particular OID from certificate in Golang.\nI am not sure how to implement the above part in Golang. Can anyone share any sample code?</p>\n<p>This is what I have so far:</p>\n<pre><code>extensions = cert.Extensions\n    ID := asn1.ObjectIdentifier{2,6,7,8}\n    for _, ext := range extensions {\n        if reflect.DeepEqual(ext.Id, ID) {\n            testextValue = ext.Value\n        }\n</code></pre>\n<p>Thank in advance.</p>\n<h1>Update</h1>\n<p>So, I tried this ,</p>\n<pre><code>var n []byte\n    asn1.Unmarshal(value, &amp;n)\n    fmt.Println(&quot;After marshal/unmarshal: &quot;, n)\n</code></pre>\n<p>where value, is the extension.value of that particular extension.OID.\nBut the print statement prints [].</p>\n<p>I need to do the equivaluent of</p>\n<pre><code> ASN1Object object = ASN1Primitive.fromByteArray(asn1);\n    DEROctetString der = (DEROctetString)object.toASN1Primitive();\n    return new KeyInfo(der.getOctets());\n</code></pre>\n<p>in golang.</p>\n<p>I am trying to verify the key and signature using VerifyPKCS1v15. If i pass ext.Value directly, it gives me verification error. I guess i need to do the above conversion first.</p>\n<h1>Update (30/8)</h1>\n<pre><code>type BitString struct {\n        Bytes     []byte // bits packed into bytes.\n        BitLength int    // length in bits.\n    }\n\n    var bitstring BitString\n    _, err = asn1.Unmarshal(value, &amp;bitstring)\n    fmt.Println(&quot;error&quot;, err)\n    fmt.Println(&quot;After marshal/unmarshal: &quot;, bitstring.Bytes)\n</code></pre>\n<p>This shows error as structure error:</p>\n<blockquote>\n<p>tags don't match (16 vs {class:3 tag:84 length:67 isCompound:true}) {optional:false explicit:false application:false private:false defaultValue: tag: stringType:0 timeType:0 set:false omitEmpty:false} BitString @3</p>\n</blockquote>\n<p>It will be helpful if anyone can share a sample code.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1657711910,"post_id":72965260,"comment_id":128874170,"body_markdown":"I&#39;m just guessing, but this could mean that `lifecycle-compiler` is for Java 7, while `lifecycle-common-java8` adds support for Java 8 and higher, which means it is also for Java 11 (but, I don&#39;t do Android, so I&#39;m just guessing).","body":"I&#39;m just guessing, but this could mean that <code>lifecycle-compiler</code> is for Java 7, while <code>lifecycle-common-java8</code> adds support for Java 8 and higher, which means it is also for Java 11 (but, I don&#39;t do Android, so I&#39;m just guessing)."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657737177,"creation_date":1657735465,"answer_id":72970748,"question_id":72965260,"body_markdown":"That Jetpack library is for Java 8 **and up**. It uses an interface with default method implementations instead of an annotation processor (which slows down compile time) for subscribing to Lifecycles. Java 7 didn&#39;t support default implementations for abstract methods. When a Jetpack library has a Java version in the name, that&#39;s a minimum version required, not a maximum version recommended.\r\n\r\nSince you are using a Java version **higher** than 7, it is recommending that you use that more performant library.","title":"Getting suggestion to use Java 8 library for Java 11 project inside Android Studio. Why?","body":"<p>That Jetpack library is for Java 8 <strong>and up</strong>. It uses an interface with default method implementations instead of an annotation processor (which slows down compile time) for subscribing to Lifecycles. Java 7 didn't support default implementations for abstract methods. When a Jetpack library has a Java version in the name, that's a minimum version required, not a maximum version recommended.</p>\n<p>Since you are using a Java version <strong>higher</strong> than 7, it is recommending that you use that more performant library.</p>\n"}],"owner":{"account_id":25663182,"reputation":73,"user_id":19428652,"display_name":"Ishika Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657737177,"creation_date":1657710472,"question_id":72965260,"body_markdown":"Inside build.gradle:\r\n\r\n    compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_11\r\n            targetCompatibility JavaVersion.VERSION_11\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;11&#39;\r\n        }\r\n\r\nCode:\r\n\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycleVersion&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycleVersion&quot;\r\n    kapt &quot;androidx.lifecycle:lifecycle-compiler:$lifecycleVersion&quot;\r\n\r\nWhich line suggestion is coming:\r\n\r\n    kapt &quot;androidx.lifecycle:lifecycle-compiler:$lifecycleVersion&quot;\r\n\r\n\r\nWhat suggestion is coming in yellow color:\r\n\r\n&gt; Use the lifecycle Java 8 API provided by the &#39;lifecycle-common-java8&#39;\r\n&gt; library instead of Lifecycle anotations for faster incremental build.\r\n\r\nTroubleshooting:\r\n1. Inside AS preference - Build tools - Gradle version is 11\r\n2. In build.gradle file also manually set from Java 1.8 to 11\r\n3. To check whether it is happening in my actual project only or not, I created demo project, but there also same suggestion getting\r\n4. Tried with Invalidate caches and restart\r\n5. Using latest stable version of Android Studio\r\n\r\nI&#39;m not getting suggestion if I use below, but the question is why should I use Java 8 thing in Java 11 project?\r\n\r\n    kapt &quot;androidx.lifecycle:lifecycle-common-java8:$lifecycleVersion&quot;\r\n\r\n","title":"Getting suggestion to use Java 8 library for Java 11 project inside Android Studio. Why?","body":"<p>Inside build.gradle:</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    kotlinOptions {\n        jvmTarget = '11'\n    }\n</code></pre>\n<p>Code:</p>\n<pre><code>implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:$lifecycleVersion&quot;\nimplementation &quot;androidx.lifecycle:lifecycle-livedata-ktx:$lifecycleVersion&quot;\nkapt &quot;androidx.lifecycle:lifecycle-compiler:$lifecycleVersion&quot;\n</code></pre>\n<p>Which line suggestion is coming:</p>\n<pre><code>kapt &quot;androidx.lifecycle:lifecycle-compiler:$lifecycleVersion&quot;\n</code></pre>\n<p>What suggestion is coming in yellow color:</p>\n<blockquote>\n<p>Use the lifecycle Java 8 API provided by the 'lifecycle-common-java8'\nlibrary instead of Lifecycle anotations for faster incremental build.</p>\n</blockquote>\n<p>Troubleshooting:</p>\n<ol>\n<li>Inside AS preference - Build tools - Gradle version is 11</li>\n<li>In build.gradle file also manually set from Java 1.8 to 11</li>\n<li>To check whether it is happening in my actual project only or not, I created demo project, but there also same suggestion getting</li>\n<li>Tried with Invalidate caches and restart</li>\n<li>Using latest stable version of Android Studio</li>\n</ol>\n<p>I'm not getting suggestion if I use below, but the question is why should I use Java 8 thing in Java 11 project?</p>\n<pre><code>kapt &quot;androidx.lifecycle:lifecycle-common-java8:$lifecycleVersion&quot;\n</code></pre>\n"},{"tags":["java","javafx","javafx-8"],"comments":[{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":2,"creation_date":1657672953,"post_id":72959703,"comment_id":128864950,"body_markdown":"Does this answer your question? [JavaFX Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javafx/application/Application](https://stackoverflow.com/questions/16868446/javafx-exception-in-thread-main-java-lang-noclassdeffounderror-javafx-applica)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16868446/javafx-exception-in-thread-main-java-lang-noclassdeffounderror-javafx-applica\">JavaFX Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javafx/application/Application</a>"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657737143,"creation_date":1657737143,"answer_id":72971062,"question_id":72959703,"body_markdown":"You are using at least one 3rd party library (log4j), you may also be using others.  You need to also have those libraries on the classpath.  Currently, you only have the application jar on the classpath and not the dependent libraries.  \r\n\r\nYou could [modify the manifest of your jar](https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html) to provide the reference to the dependent jars.\r\n\r\nAdd the following line to the manifest of your jar file.\r\n\r\n    Class-Path: log4j-core.jar log4j-api.jar\r\n\r\nThis can probably be done using the `manifest` element in the ant script (though I have not tried that).\r\n\r\n    &lt;manifest&gt;\r\n        &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main-class}&quot;/&gt;\r\n        &lt;attribute name=&quot;Class-Path&quot; value=&quot;log4j-core.jar log4j-api.jar&quot;/&gt;\r\n    &lt;/manifest&gt;\r\n\r\nThen ensure that the libraries are in the same directory as your jar file with the matching names you specified.\r\n\r\nThen you can likely run the app as you were trying to do before (again I didn&#39;t try it).\r\n\r\n    java -jar TheApp.jar\r\n\r\nOr, you could run using the -cp option and place all jars (including your jar) on the path, and run the app as:\r\n\r\n    java -cp TheApp.jar:log4j-core.jar:log4j-api.jar com.th.app.ui.Login\r\n\r\nIf you have other dependent libraries than just log4j, you will need to ensure they are on the classpath similarly.\r\n\r\nThere is a process called shading which unpacks all of the jar files used by your application and then repacks them into a single jar which you can execute. I do not recommend shading, but that is an alternate option which I won&#39;t detail here.\r\n\r\nSuch execution will likely only be possible on systems running obsolete versions of the JDK such as Oracle JDK 8.  Recent versions of JDKs usually do not ship with the JavaFX framework, which is instead provided through a set of separate modules.  The packaging and execution of applications built using recent JavaFX versions are quite different than what you are doing for a JDK 8-based JavaFX application. \r\n\r\n**Advice for future applications**\r\n\r\nUse up-to-date libraries, frameworks, and development tools.  Follow the official documentation for those software versions.  For instance, JDK 18+, JavaFX 18+, information at [openjfx.io](https://openjfx.io), Maven or Gradle instead of Ant and `jlink` or `jpackage` (usually via a Maven or Gradle plugin) for application packaging.\r\n","title":"JavaFx Exception in thread &quot;JavaFX Application Thread&quot; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/log4j/Logger","body":"<p>You are using at least one 3rd party library (log4j), you may also be using others.  You need to also have those libraries on the classpath.  Currently, you only have the application jar on the classpath and not the dependent libraries.</p>\n<p>You could <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\" rel=\"nofollow noreferrer\">modify the manifest of your jar</a> to provide the reference to the dependent jars.</p>\n<p>Add the following line to the manifest of your jar file.</p>\n<pre><code>Class-Path: log4j-core.jar log4j-api.jar\n</code></pre>\n<p>This can probably be done using the <code>manifest</code> element in the ant script (though I have not tried that).</p>\n<pre><code>&lt;manifest&gt;\n    &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main-class}&quot;/&gt;\n    &lt;attribute name=&quot;Class-Path&quot; value=&quot;log4j-core.jar log4j-api.jar&quot;/&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>Then ensure that the libraries are in the same directory as your jar file with the matching names you specified.</p>\n<p>Then you can likely run the app as you were trying to do before (again I didn't try it).</p>\n<pre><code>java -jar TheApp.jar\n</code></pre>\n<p>Or, you could run using the -cp option and place all jars (including your jar) on the path, and run the app as:</p>\n<pre><code>java -cp TheApp.jar:log4j-core.jar:log4j-api.jar com.th.app.ui.Login\n</code></pre>\n<p>If you have other dependent libraries than just log4j, you will need to ensure they are on the classpath similarly.</p>\n<p>There is a process called shading which unpacks all of the jar files used by your application and then repacks them into a single jar which you can execute. I do not recommend shading, but that is an alternate option which I won't detail here.</p>\n<p>Such execution will likely only be possible on systems running obsolete versions of the JDK such as Oracle JDK 8.  Recent versions of JDKs usually do not ship with the JavaFX framework, which is instead provided through a set of separate modules.  The packaging and execution of applications built using recent JavaFX versions are quite different than what you are doing for a JDK 8-based JavaFX application.</p>\n<p><strong>Advice for future applications</strong></p>\n<p>Use up-to-date libraries, frameworks, and development tools.  Follow the official documentation for those software versions.  For instance, JDK 18+, JavaFX 18+, information at <a href=\"https://openjfx.io\" rel=\"nofollow noreferrer\">openjfx.io</a>, Maven or Gradle instead of Ant and <code>jlink</code> or <code>jpackage</code> (usually via a Maven or Gradle plugin) for application packaging.</p>\n"}],"owner":{"account_id":11205046,"reputation":11,"user_id":8220916,"display_name":"Wai.Chan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657737143,"creation_date":1657672583,"question_id":72959703,"body_markdown":"The app runs perfectly fine in Eclipse and IntelliJ, and also in &#39;ant run&#39;.  Only when I  run as Windows cmd to get the following errors:\r\n\r\njava -jar TheApp.jar\r\n\r\n        Exception in thread &quot;JavaFX Application Thread&quot; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/log4j/Logger\r\n            at com.th.app.ui.Login.&lt;clinit&gt;(Unknown Source)\r\n            at java.lang.Class.forName0(Native Method)\r\n            at java.lang.Class.forName(Unknown Source)\r\n            at com.sun.javafx.application.LauncherImpl.lambda$launchApplicationWithArgs$2(LauncherImpl.java:352)\r\n            at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$7(PlatformImpl.java:326)\r\n            at com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294)\r\n            at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\r\n            at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n            at com.sun.glass.ui.win.WinApplication.lambda$null$4(WinApplication.java:185)\r\n            at java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.log4j.Logger\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            ... 12 more\r\n    java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n            at java.lang.reflect.Method.invoke(Unknown Source)\r\n            at sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\r\n    Caused by: java.lang.NullPointerException\r\n            at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:383)\r\n            at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\r\n            ... 5 more\r\n\r\n\r\nThis appears to be a -classpath problem, but I have spent more than one day but still getting the same error.\r\n\r\nI&#39;m attaching the build.xml, which works perfectly also:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project name=&quot;App&quot; default=&quot;all&quot; basedir=&quot;.&quot;&gt;\r\n    &lt;property name=&quot;src&quot;   value=&quot;./src&quot;/&gt;\r\n    &lt;property name=&quot;build&quot; value=&quot;./build&quot;/&gt;\r\n    &lt;property name=&quot;lib&quot;   value=&quot;./lib&quot;/&gt;\r\n    &lt;property name=&quot;dest&quot;   value=&quot;./dest&quot;/&gt;\r\n    &lt;property name=&quot;main-class&quot;  value=&quot;com.th.app.ui.Login&quot;/&gt;\r\n\r\n    &lt;path id=&quot;classpath&quot;&gt;\r\n        &lt;fileset dir=&quot;${lib}&quot; includes=&quot;**/*.jar&quot;/&gt;\r\n    &lt;/path&gt;\r\n\r\n    &lt;target name=&quot;all&quot; depends=&quot;clean, compile, jar, copy-file&quot; description=&quot;Builds the whole project&quot;&gt;\r\n        &lt;echo&gt;Doing all&lt;/echo&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;clean&quot; description=&quot;Removes previous build&quot;&gt;\r\n        &lt;delete verbose=&quot;true&quot;&gt;\r\n            &lt;fileset dir=&quot;${build}&quot;/&gt;\r\n        &lt;/delete&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;compile&quot; depends=&quot;clean&quot; description=&quot;compile whole project&quot;&gt;\r\n        &lt;echo&gt;compile ${ant.project.name} &lt;/echo&gt;\r\n        &lt;mkdir dir=&quot;${build}/classes&quot;/&gt;\r\n        &lt;copy file=&quot;./config.properties&quot; tofile=&quot;${build}/classes/config.properties&quot;/&gt;\r\n        &lt;copy file=&quot;./src/log4j.properties&quot; tofile=&quot;${build}/classes/log4j.properties&quot;/&gt;\r\n        &lt;copy todir=&quot;${build}/classes/com/th/app/ui&quot;&gt;\r\n           &lt;fileset dir=&quot;${src}/com/th/app/ui&quot;&gt;\r\n                   &lt;include name=&quot;**/*.fxml&quot;/&gt;\r\n                   &lt;include name=&quot;**/*.css&quot;/&gt;\r\n           &lt;/fileset&gt;\r\n        &lt;/copy&gt;\r\n\r\n        &lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${build}/classes&quot; classpathref=&quot;classpath&quot; includeantruntime=&quot;false&quot; /&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;jar&quot; depends=&quot;compile&quot;&gt;\r\n        &lt;mkdir dir=&quot;${build}/jar&quot;/&gt;\r\n        &lt;jar destfile=&quot;${build}/jar/${ant.project.name}.jar&quot; basedir=&quot;${build}/classes&quot;&gt;\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main-class}&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/jar&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;property name=&quot;args&quot; value=&quot;READWRITE&quot;/&gt;\r\n    &lt;target name=&quot;run&quot; depends=&quot;copy-file, input-runargs&quot;&gt;\r\n        &lt;java fork=&quot;true&quot; classname=&quot;${main-class}&quot;&gt;\r\n            &lt;classpath&gt;\r\n                &lt;path refid=&quot;classpath&quot;/&gt;\r\n                &lt;path location=&quot;${dest}/jar/${ant.project.name}.jar&quot;/&gt;\r\n            &lt;/classpath&gt;\r\n            &lt;arg line=&quot;${args}&quot;/&gt;\r\n        &lt;/java&gt;\r\n    &lt;/target&gt;\r\n    &lt;target name=&quot;input-runargs&quot; unless=&quot;args&quot; description=&quot;prompts for command line arguments if necessary&quot;&gt;\r\n       &lt;input addProperty=&quot;args&quot; message=&quot;Type the desired command line arguments:&quot;/&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;copy-file&quot;&gt;\r\n        &lt;copy todir=&quot;${dest}&quot;&gt;&lt;fileset dir=&quot;${build}&quot;/&gt;&lt;/copy&gt;\r\n    &lt;/target&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is my first JavaFx project and I&#39;m trying hard to get it done.\r\n\r\nPlease help and any insight is greatly appreciated.\r\n","title":"JavaFx Exception in thread &quot;JavaFX Application Thread&quot; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/log4j/Logger","body":"<p>The app runs perfectly fine in Eclipse and IntelliJ, and also in 'ant run'.  Only when I  run as Windows cmd to get the following errors:</p>\n<p>java -jar TheApp.jar</p>\n<pre><code>    Exception in thread &quot;JavaFX Application Thread&quot; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/log4j/Logger\n        at com.th.app.ui.Login.&lt;clinit&gt;(Unknown Source)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Unknown Source)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplicationWithArgs$2(LauncherImpl.java:352)\n        at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$7(PlatformImpl.java:326)\n        at com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294)\n        at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n        at com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n        at com.sun.glass.ui.win.WinApplication.lambda$null$4(WinApplication.java:185)\n        at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: org.apache.log4j.Logger\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 12 more\njava.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at sun.launcher.LauncherHelper$FXHelper.main(Unknown Source)\nCaused by: java.lang.NullPointerException\n        at com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:383)\n        at com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n        ... 5 more\n</code></pre>\n<p>This appears to be a -classpath problem, but I have spent more than one day but still getting the same error.</p>\n<p>I'm attaching the build.xml, which works perfectly also:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project name=&quot;App&quot; default=&quot;all&quot; basedir=&quot;.&quot;&gt;\n    &lt;property name=&quot;src&quot;   value=&quot;./src&quot;/&gt;\n    &lt;property name=&quot;build&quot; value=&quot;./build&quot;/&gt;\n    &lt;property name=&quot;lib&quot;   value=&quot;./lib&quot;/&gt;\n    &lt;property name=&quot;dest&quot;   value=&quot;./dest&quot;/&gt;\n    &lt;property name=&quot;main-class&quot;  value=&quot;com.th.app.ui.Login&quot;/&gt;\n\n    &lt;path id=&quot;classpath&quot;&gt;\n        &lt;fileset dir=&quot;${lib}&quot; includes=&quot;**/*.jar&quot;/&gt;\n    &lt;/path&gt;\n\n    &lt;target name=&quot;all&quot; depends=&quot;clean, compile, jar, copy-file&quot; description=&quot;Builds the whole project&quot;&gt;\n        &lt;echo&gt;Doing all&lt;/echo&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;clean&quot; description=&quot;Removes previous build&quot;&gt;\n        &lt;delete verbose=&quot;true&quot;&gt;\n            &lt;fileset dir=&quot;${build}&quot;/&gt;\n        &lt;/delete&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;compile&quot; depends=&quot;clean&quot; description=&quot;compile whole project&quot;&gt;\n        &lt;echo&gt;compile ${ant.project.name} &lt;/echo&gt;\n        &lt;mkdir dir=&quot;${build}/classes&quot;/&gt;\n        &lt;copy file=&quot;./config.properties&quot; tofile=&quot;${build}/classes/config.properties&quot;/&gt;\n        &lt;copy file=&quot;./src/log4j.properties&quot; tofile=&quot;${build}/classes/log4j.properties&quot;/&gt;\n        &lt;copy todir=&quot;${build}/classes/com/th/app/ui&quot;&gt;\n           &lt;fileset dir=&quot;${src}/com/th/app/ui&quot;&gt;\n                   &lt;include name=&quot;**/*.fxml&quot;/&gt;\n                   &lt;include name=&quot;**/*.css&quot;/&gt;\n           &lt;/fileset&gt;\n        &lt;/copy&gt;\n\n        &lt;javac srcdir=&quot;${src}&quot; destdir=&quot;${build}/classes&quot; classpathref=&quot;classpath&quot; includeantruntime=&quot;false&quot; /&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;jar&quot; depends=&quot;compile&quot;&gt;\n        &lt;mkdir dir=&quot;${build}/jar&quot;/&gt;\n        &lt;jar destfile=&quot;${build}/jar/${ant.project.name}.jar&quot; basedir=&quot;${build}/classes&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main-class}&quot;/&gt;\n            &lt;/manifest&gt;\n        &lt;/jar&gt;\n    &lt;/target&gt;\n\n    &lt;property name=&quot;args&quot; value=&quot;READWRITE&quot;/&gt;\n    &lt;target name=&quot;run&quot; depends=&quot;copy-file, input-runargs&quot;&gt;\n        &lt;java fork=&quot;true&quot; classname=&quot;${main-class}&quot;&gt;\n            &lt;classpath&gt;\n                &lt;path refid=&quot;classpath&quot;/&gt;\n                &lt;path location=&quot;${dest}/jar/${ant.project.name}.jar&quot;/&gt;\n            &lt;/classpath&gt;\n            &lt;arg line=&quot;${args}&quot;/&gt;\n        &lt;/java&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;input-runargs&quot; unless=&quot;args&quot; description=&quot;prompts for command line arguments if necessary&quot;&gt;\n       &lt;input addProperty=&quot;args&quot; message=&quot;Type the desired command line arguments:&quot;/&gt;\n    &lt;/target&gt;\n\n    &lt;target name=&quot;copy-file&quot;&gt;\n        &lt;copy todir=&quot;${dest}&quot;&gt;&lt;fileset dir=&quot;${build}&quot;/&gt;&lt;/copy&gt;\n    &lt;/target&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is my first JavaFx project and I'm trying hard to get it done.</p>\n<p>Please help and any insight is greatly appreciated.</p>\n"},{"tags":["java","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"score":0,"creation_date":1599138411,"post_id":63719631,"comment_id":112685412,"body_markdown":"which version of client are you using?","body":"which version of client are you using?"},{"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"score":0,"creation_date":1599138982,"post_id":63719631,"comment_id":112685712,"body_markdown":"we recently had a regression in 4.11.0 due to which updates were getting ignored: https://github.com/fabric8io/kubernetes-client/issues/2445","body":"we recently had a regression in 4.11.0 due to which updates were getting ignored: <a href=\"https://github.com/fabric8io/kubernetes-client/issues/2445\" rel=\"nofollow noreferrer\">github.com/fabric8io/kubernetes-client/issues/2445</a>"},{"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"score":0,"creation_date":1599139013,"post_id":63719631,"comment_id":112685733,"body_markdown":"But this is fixed in v4.11.1","body":"But this is fixed in v4.11.1"},{"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"score":0,"creation_date":1599142899,"post_id":63719631,"comment_id":112687832,"body_markdown":"yes you are right now it is working. I am curious when this version will be used by  spring-cloud-kubernetes-dependencies","body":"yes you are right now it is working. I am curious when this version will be used by  spring-cloud-kubernetes-dependencies"},{"owner":{"account_id":3370885,"reputation":5502,"user_id":2830116,"accept_rate":88,"display_name":"Rohan Kumar"},"score":0,"creation_date":1599148252,"post_id":63719631,"comment_id":112690775,"body_markdown":"oh, okay. Sorry for inconvenience. I can&#39;t say much about spring cloud. Maybe you can create a PR for bumping version linking the regression there...","body":"oh, okay. Sorry for inconvenience. I can&#39;t say much about spring cloud. Maybe you can create a PR for bumping version linking the regression there..."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657737141,"creation_date":1657737141,"answer_id":72971060,"question_id":63719631,"body_markdown":"spring-cloud-kubernetes contributor here. This was fixed as part of [this PR](https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1036). It is on `3.0.x` branch, and as such not yet released. But it will fairly soon. ","title":"How to watch ConfigMap with sharedInformer","body":"<p>spring-cloud-kubernetes contributor here. This was fixed as part of <a href=\"https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1036\" rel=\"nofollow noreferrer\">this PR</a>. It is on <code>3.0.x</code> branch, and as such not yet released. But it will fairly soon.</p>\n"}],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657737141,"creation_date":1599121313,"question_id":63719631,"body_markdown":"How to watch changes in configMaps using sharedInformer ? I tried something and I see in log that configMaps is watched but when I change some property in configMap I still see old value:\r\n\r\n    @PostConstruct\r\n    public void watch() {\r\n        SharedInformerFactory sharedInformerFactory = client.informers();\r\n        SharedIndexInformer&lt;ConfigMap&gt; configMapInformer = sharedInformerFactory.sharedIndexInformerFor(ConfigMap.class,\r\n                ConfigMapList.class, 10 * 1000L);\r\n        configMapInformer.addEventHandler(new ResourceEventHandler&lt;ConfigMap&gt;() {\r\n            @Override\r\n            public void onAdd(ConfigMap configMap) {\r\n                System.out.println(&quot;ConfigMap &quot; + configMap.getMetadata().getName() + &quot; got added&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onUpdate(ConfigMap oldConfigMap, ConfigMap newConfigMap) {\r\n                System.out.println(&quot;ConfigMap &quot; + oldConfigMap.getMetadata().getName() + &quot; got updated&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onDelete(ConfigMap configMap, boolean deletedFinalStateUnknown) {\r\n                System.out.println(&quot;ConfigMap &quot; + configMap.getMetadata().getName() + &quot; got deleted&quot;);\r\n            }\r\n        });\r\n\r\n        sharedInformerFactory.startAllRegisteredInformers();\r\n    }\r\n\r\nI was following [this][1] example\r\n\r\n\r\n  [1]: https://github.com/fabric8io/kubernetes-client/blob/master/doc/CHEATSHEET.md#sharedinformers","title":"How to watch ConfigMap with sharedInformer","body":"<p>How to watch changes in configMaps using sharedInformer ? I tried something and I see in log that configMaps is watched but when I change some property in configMap I still see old value:</p>\n<pre><code>@PostConstruct\npublic void watch() {\n    SharedInformerFactory sharedInformerFactory = client.informers();\n    SharedIndexInformer&lt;ConfigMap&gt; configMapInformer = sharedInformerFactory.sharedIndexInformerFor(ConfigMap.class,\n            ConfigMapList.class, 10 * 1000L);\n    configMapInformer.addEventHandler(new ResourceEventHandler&lt;ConfigMap&gt;() {\n        @Override\n        public void onAdd(ConfigMap configMap) {\n            System.out.println(&quot;ConfigMap &quot; + configMap.getMetadata().getName() + &quot; got added&quot;);\n        }\n\n        @Override\n        public void onUpdate(ConfigMap oldConfigMap, ConfigMap newConfigMap) {\n            System.out.println(&quot;ConfigMap &quot; + oldConfigMap.getMetadata().getName() + &quot; got updated&quot;);\n        }\n\n        @Override\n        public void onDelete(ConfigMap configMap, boolean deletedFinalStateUnknown) {\n            System.out.println(&quot;ConfigMap &quot; + configMap.getMetadata().getName() + &quot; got deleted&quot;);\n        }\n    });\n\n    sharedInformerFactory.startAllRegisteredInformers();\n}\n</code></pre>\n<p>I was following <a href=\"https://github.com/fabric8io/kubernetes-client/blob/master/doc/CHEATSHEET.md#sharedinformers\" rel=\"nofollow noreferrer\">this</a> example</p>\n"},{"tags":["java","android","linux","android-ndk"],"owner":{"account_id":25800787,"reputation":21,"user_id":19543265,"display_name":"Amaar Ebrahim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657736964,"creation_date":1657736773,"question_id":72970986,"body_markdown":"I am extremely new the Android app development and Stack Overflow. I am trying to recreate traceroute in an Android app since Android devices do not come with traceroute by default. I&#39;ve encountered a couple stack overflow posts talking about solutions to this, but I have still run into challenges.\r\n\r\nhttps://stackoverflow.com/questions/4203374/traceroute-on-android - the top post on this thread links an Android Studio project that implements traceroute using ping. If I understand the algorithm correctly, it continually pings the destination IP, incrementing the time-to-live field to obtain information about intermediary routers. I&#39;ve tried to recreate this behavior, but for certain values of TTL, the ping stalls and doesn&#39;t retrieve any router information. I&#39;m not really sure why this happens. Here&#39;s a quick demo function I spun up... at some point in the loop the pings stall.\r\n```java\r\n    public static void smallTracerouteDemoShowingThatTheProgramStallsAtCertainTTLs() {\r\n        try {\r\n            String host = &quot;google.com&quot;;\r\n            int maxTTL = 20;\r\n\r\n            for (int i = 1; i &lt; maxTTL; i++) {\r\n                // Create a process that executes the ping command\r\n                Process p = Runtime.getRuntime().exec(&quot;ping -c 1 -t &quot; + i + &quot; &quot; + host);\r\n\r\n                // Get a buffered reader with the information returned by the ping\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n\r\n                // Convert the BufferedReader to a string\r\n                String dataReturnedByPing = &quot;&quot;;\r\n                for (String line; (line = br.readLine()) != null; dataReturnedByPing += &quot;\\n&quot;+line);\r\n\r\n                // Print out information about each TTL\r\n                System.out.println(&quot;TTL = &quot; + i + &quot; out of &quot; + maxTTL);\r\n                System.out.println(dataReturnedByPing);\r\n                System.out.println(&quot;========================================&quot;);\r\n\r\n\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n```\r\n\r\nhttps://stackoverflow.com/questions/13154902/how-to-run-traceroute-command-through-your-application - The solution on this thread suggests using BusyBox. I&#39;ve not used BusyBox as yet, but it seems like I would have to embed BusyBox into my app to get things to work. After doing some research it looks like BusyBox provides numerous Linux commands through one executable. I&#39;m a bit hesitant to explore this option because I really only need the traceroute command. In addition, I know that Android targets a few different CPU architectures, and I&#39;m not sure if one executable will support them all.\r\n\r\n\r\nI&#39;ve also run into a github repository that takes another approach to running traceroute: \r\n\r\nhttps://github.com/wangjing53406/traceroute-for-android - In this repository the author embeds the traceroute source code into the project and uses the NDK to build the source code along with the rest of his app. I really like this approach because it feels the most &quot;correct.&quot; It uses a built traceroute instead of a Java-based implementation, so you can&#39;t find yourself in a situation where the Java implementation gives you one thing and the actual traceroute gives you another. When I open this project to experiment with it, my build fails. The top line says:\r\n`org.gradle.initialization.ReportedException: org.gradle.internal.exceptions.LocationAwareException: A problem occurred configuring root project &#39;traceroute-for-android-master&#39;.`\r\n\r\nAny help on why this happens or ways to troubleshoot it would be fantastic.\r\n\r\nFor reference, the minimum SDK I am targeting is API 21 and I am running on Android Studio 3.3.0.\r\n\r\nSo, at this point I&#39;m stumped. If you were trying to make an app that would let you execute traceroute commands, how would you do it? I really like the NDK approach because it guarantees you&#39;re getting true traceroute behavior. If you have any guides to getting that set up for my Android version/SDK, I would appreciate if you would post them. If you&#39;d take another approach I&#39;d to hear about it as well.\r\n\r\nThank you in advance.\r\n","title":"Recreating Linux traceroute for an Android app","body":"<p>I am extremely new the Android app development and Stack Overflow. I am trying to recreate traceroute in an Android app since Android devices do not come with traceroute by default. I've encountered a couple stack overflow posts talking about solutions to this, but I have still run into challenges.</p>\n<p><a href=\"https://stackoverflow.com/questions/4203374/traceroute-on-android\">Traceroute on android</a> - the top post on this thread links an Android Studio project that implements traceroute using ping. If I understand the algorithm correctly, it continually pings the destination IP, incrementing the time-to-live field to obtain information about intermediary routers. I've tried to recreate this behavior, but for certain values of TTL, the ping stalls and doesn't retrieve any router information. I'm not really sure why this happens. Here's a quick demo function I spun up... at some point in the loop the pings stall.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void smallTracerouteDemoShowingThatTheProgramStallsAtCertainTTLs() {\n        try {\n            String host = &quot;google.com&quot;;\n            int maxTTL = 20;\n\n            for (int i = 1; i &lt; maxTTL; i++) {\n                // Create a process that executes the ping command\n                Process p = Runtime.getRuntime().exec(&quot;ping -c 1 -t &quot; + i + &quot; &quot; + host);\n\n                // Get a buffered reader with the information returned by the ping\n                BufferedReader br = new BufferedReader(new InputStreamReader(p.getInputStream()));\n\n                // Convert the BufferedReader to a string\n                String dataReturnedByPing = &quot;&quot;;\n                for (String line; (line = br.readLine()) != null; dataReturnedByPing += &quot;\\n&quot;+line);\n\n                // Print out information about each TTL\n                System.out.println(&quot;TTL = &quot; + i + &quot; out of &quot; + maxTTL);\n                System.out.println(dataReturnedByPing);\n                System.out.println(&quot;========================================&quot;);\n\n\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/13154902/how-to-run-traceroute-command-through-your-application\">how to run traceroute command through your application?</a> - The solution on this thread suggests using BusyBox. I've not used BusyBox as yet, but it seems like I would have to embed BusyBox into my app to get things to work. After doing some research it looks like BusyBox provides numerous Linux commands through one executable. I'm a bit hesitant to explore this option because I really only need the traceroute command. In addition, I know that Android targets a few different CPU architectures, and I'm not sure if one executable will support them all.</p>\n<p>I've also run into a github repository that takes another approach to running traceroute:</p>\n<p><a href=\"https://github.com/wangjing53406/traceroute-for-android\" rel=\"nofollow noreferrer\">https://github.com/wangjing53406/traceroute-for-android</a> - In this repository the author embeds the traceroute source code into the project and uses the NDK to build the source code along with the rest of his app. I really like this approach because it feels the most &quot;correct.&quot; It uses a built traceroute instead of a Java-based implementation, so you can't find yourself in a situation where the Java implementation gives you one thing and the actual traceroute gives you another. When I open this project to experiment with it, my build fails. The top line says:\n<code>org.gradle.initialization.ReportedException: org.gradle.internal.exceptions.LocationAwareException: A problem occurred configuring root project 'traceroute-for-android-master'.</code></p>\n<p>Any help on why this happens or ways to troubleshoot it would be fantastic.</p>\n<p>For reference, the minimum SDK I am targeting is API 21 and I am running on Android Studio 3.3.0.</p>\n<p>So, at this point I'm stumped. If you were trying to make an app that would let you execute traceroute commands, how would you do it? I really like the NDK approach because it guarantees you're getting true traceroute behavior. If you have any guides to getting that set up for my Android version/SDK, I would appreciate if you would post them. If you'd take another approach I'd to hear about it as well.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","reactive-programming"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1657644819,"post_id":72953304,"comment_id":128857834,"body_markdown":"Please [edit] your question to include a [mcve] and a marble diagram which shows all the events that are created and the subscription value you want to get from these.","body":"Please <a href=\"https://stackoverflow.com/posts/72953304/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and a marble diagram which shows all the events that are created and the subscription value you want to get from these."}],"answers":[{"tags":[],"owner":{"account_id":8964938,"reputation":749,"user_id":6686007,"display_name":"Roberto Petrilli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657736876,"creation_date":1657736521,"answer_id":72970937,"question_id":72953304,"body_markdown":"Eventually in order avoid to process the same file multiple times I used a different approach. Each file can be processed after 2000 ms. The class tries to process all file in a map (mFiles) every 500ms.\r\nHope the some may take advantage of this solution.\r\nThe file is placed in the map by filewatcher and remove after processing.  \r\n\r\n\t@Component\r\n\tpublic class FileWatcherComponent{\r\n\t\tpublic static final long DELAY = 2000L;\r\n\t\t@Value(&quot;${app.ecommerce.dirOrdini}&quot;)\r\n\t\tString orderDir;\r\n\t\tWatchService watchService;\r\n\t\tPath path;\r\n\t\tMap&lt;String, Long&gt; mFiles = new HashMap&lt;&gt;();\r\n\r\n\t\t@PostConstruct\r\n\t\tpublic void init(){\r\n\t\t\tnew Thread(()-&gt;{\r\n\t\t\t\tif (StringUtils.isNotEmpty(orderDir)){\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\twatchService = FileSystems.getDefault().newWatchService();\r\n\t\t\t\t\t\tpath = Paths.get(orderDir);\r\n\t\t\t\t\t\tpath.register(watchService,ENTRY_MODIFY);\r\n\t\t\t\t\t\tWatchKey key;\r\n\t\t\t\t\t\twhile ((key = watchService.take()) != null) {\r\n\t\t\t\t\t\t\tfor (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n\t\t\t\t\t\t\t\tmFiles.put(event.context()+&quot;&quot;, (new Date()).getTime());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tkey.reset();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} catch (Exception e) {}\r\n\t\t\t\t}\r\n\t\t\t}).start();\r\n\r\n\t\t}\r\n\r\n\t\t@Scheduled(fixedRate = 500)\r\n\t\tpublic void processFiles(){\r\n\t\t\tlong startfrom = (new Date()).getTime() - DELAY;\r\n\t\t\tfor (String fname : mFiles.keySet()) {\r\n\t\t\t\tif (mFiles.get(fname) &lt; startfrom){\r\n\t\t\t\t\tnew Thread(()-&gt;{\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tprocessFile(fname);\r\n\t\t\t\t\t\t} catch (Exception e){\r\n\t\t\t\t\t\t\tlogger.config(e.getMessage());\r\n\t\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmFiles.remove(fname);\r\n\t\t\t\t\t}).start();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void processFile(String fileName) throws Exception{\r\n\t\t\t//TODO process file\r\n\t\t}\r\n\r\n\t}\r\n\r\nThis solution is based on Spingboot for class init and scheduling.","title":"Prevent Java FileWatcher to process the same file multiple times","body":"<p>Eventually in order avoid to process the same file multiple times I used a different approach. Each file can be processed after 2000 ms. The class tries to process all file in a map (mFiles) every 500ms.\nHope the some may take advantage of this solution.\nThe file is placed in the map by filewatcher and remove after processing.</p>\n<pre><code>@Component\npublic class FileWatcherComponent{\n    public static final long DELAY = 2000L;\n    @Value(&quot;${app.ecommerce.dirOrdini}&quot;)\n    String orderDir;\n    WatchService watchService;\n    Path path;\n    Map&lt;String, Long&gt; mFiles = new HashMap&lt;&gt;();\n\n    @PostConstruct\n    public void init(){\n        new Thread(()-&gt;{\n            if (StringUtils.isNotEmpty(orderDir)){\n                try {\n                    watchService = FileSystems.getDefault().newWatchService();\n                    path = Paths.get(orderDir);\n                    path.register(watchService,ENTRY_MODIFY);\n                    WatchKey key;\n                    while ((key = watchService.take()) != null) {\n                        for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                            mFiles.put(event.context()+&quot;&quot;, (new Date()).getTime());\n                        }\n                        key.reset();\n                    }\n\n                } catch (Exception e) {}\n            }\n        }).start();\n\n    }\n\n    @Scheduled(fixedRate = 500)\n    public void processFiles(){\n        long startfrom = (new Date()).getTime() - DELAY;\n        for (String fname : mFiles.keySet()) {\n            if (mFiles.get(fname) &lt; startfrom){\n                new Thread(()-&gt;{\n                    try {\n                        processFile(fname);\n                    } catch (Exception e){\n                        logger.config(e.getMessage());\n                        e.printStackTrace();\n                    }\n                    mFiles.remove(fname);\n                }).start();\n            }\n        }\n    }\n\n    public void processFile(String fileName) throws Exception{\n        //TODO process file\n    }\n\n}\n</code></pre>\n<p>This solution is based on Spingboot for class init and scheduling.</p>\n"}],"owner":{"account_id":8964938,"reputation":749,"user_id":6686007,"display_name":"Roberto Petrilli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657736876,"creation_date":1657633294,"question_id":72953304,"body_markdown":"I&#39;m using Java WatchEvent to monitor an external process that creates an external file.\r\n\r\nJava create multiple events until the file is eventually completed while the external process is creating the file:\r\n\r\n\tEvent kind:ENTRY_CREATE. File affected: fileArticoli (16).zip.\r\n\tEvent kind:ENTRY_MODIFY. File affected: fileArticoli (16).zip.\r\n\tEvent kind:ENTRY_MODIFY. File affected: fileArticoli (16).zip.\r\n\tEvent kind:ENTRY_MODIFY. File affected: fileArticoli (16).zip.\r\n\r\nI need to be awaken at the end of the process when the file creation is done.\r\n\r\nI&#39;m exploring Java RX\r\n\r\n        PublishSubject&lt;WatchEvent&gt; fsEvents = PublishSubject.create();\r\n        fsEvents.subscribe(this);\r\n\r\n        ...\r\n        fsEvents.onNext(event);\r\n\r\nI&#39;m searching for a JavaRx function similar to debounce that triggers when no new events have been triggered  for a period of time es. 2000ms.\r\nIs there such a function in java RX?\r\n\r\nHere is a minimal example\r\n\r\n\t@Component\r\n\tpublic class FileWatcherComponent implements Action1&lt;WatchEvent&gt; {\r\n\t\tLogger logger  = Logger.getLogger(&quot;Upload Ordini&quot;);\r\n\t\t@Value(&quot;${app.ecommerce.dirOrdini}&quot;)\r\n\t\tString orderDir;\r\n\r\n\t\tWatchService watchService;\r\n\t\tPath path;\r\n\r\n\t\t@PostConstruct\r\n\t\tpublic void init(){\r\n\t\t\tnew Thread(()-&gt;{\r\n\r\n\t\t\t\tPublishSubject&lt;WatchEvent&gt; fsEvents = PublishSubject.create();\r\n\t\t\t\tfsEvents.throttleWithTimeout(2, TimeUnit.SECONDS).subscribe(this);\r\n\r\n\t\t\t\tif (StringUtils.isNotEmpty(orderDir)){\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\twatchService = FileSystems.getDefault().newWatchService();\r\n\t\t\t\t\t\tpath = Paths.get(orderDir);\r\n\t\t\t\t\t\tpath.register(watchService,ENTRY_MODIFY);\r\n\t\t\t\t\t\tWatchKey key;\r\n\t\t\t\t\t\twhile ((key = watchService.take()) != null) {\r\n\t\t\t\t\t\t\tfor (WatchEvent&lt;?&gt; event : key.pollEvents()) {\r\n\t\t\t\t\t\t\t\tfsEvents.onNext(event);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tkey.reset();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\tlogger.config(e.getMessage());\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}).start();\r\n\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void call(WatchEvent event) {\r\n\t\t\tlogger.config( &quot;File affected: &quot; + event.context() + &quot;.&quot;);\r\n\t\t\t//Process the file\r\n\r\n\t\t}\r\n\t}\r\n","title":"Prevent Java FileWatcher to process the same file multiple times","body":"<p>I'm using Java WatchEvent to monitor an external process that creates an external file.</p>\n<p>Java create multiple events until the file is eventually completed while the external process is creating the file:</p>\n<pre><code>Event kind:ENTRY_CREATE. File affected: fileArticoli (16).zip.\nEvent kind:ENTRY_MODIFY. File affected: fileArticoli (16).zip.\nEvent kind:ENTRY_MODIFY. File affected: fileArticoli (16).zip.\nEvent kind:ENTRY_MODIFY. File affected: fileArticoli (16).zip.\n</code></pre>\n<p>I need to be awaken at the end of the process when the file creation is done.</p>\n<p>I'm exploring Java RX</p>\n<pre><code>    PublishSubject&lt;WatchEvent&gt; fsEvents = PublishSubject.create();\n    fsEvents.subscribe(this);\n\n    ...\n    fsEvents.onNext(event);\n</code></pre>\n<p>I'm searching for a JavaRx function similar to debounce that triggers when no new events have been triggered  for a period of time es. 2000ms.\nIs there such a function in java RX?</p>\n<p>Here is a minimal example</p>\n<pre><code>@Component\npublic class FileWatcherComponent implements Action1&lt;WatchEvent&gt; {\n    Logger logger  = Logger.getLogger(&quot;Upload Ordini&quot;);\n    @Value(&quot;${app.ecommerce.dirOrdini}&quot;)\n    String orderDir;\n\n    WatchService watchService;\n    Path path;\n\n    @PostConstruct\n    public void init(){\n        new Thread(()-&gt;{\n\n            PublishSubject&lt;WatchEvent&gt; fsEvents = PublishSubject.create();\n            fsEvents.throttleWithTimeout(2, TimeUnit.SECONDS).subscribe(this);\n\n            if (StringUtils.isNotEmpty(orderDir)){\n                try {\n                    watchService = FileSystems.getDefault().newWatchService();\n                    path = Paths.get(orderDir);\n                    path.register(watchService,ENTRY_MODIFY);\n                    WatchKey key;\n                    while ((key = watchService.take()) != null) {\n                        for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n                            fsEvents.onNext(event);\n                        }\n                        key.reset();\n                    }\n\n                } catch (Exception e) {\n                    logger.config(e.getMessage());\n                    e.printStackTrace();\n                }\n            }\n        }).start();\n\n    }\n\n    @Override\n    public void call(WatchEvent event) {\n        logger.config( &quot;File affected: &quot; + event.context() + &quot;.&quot;);\n        //Process the file\n\n    }\n}\n</code></pre>\n"},{"tags":["java","math","normal-distribution","apache-commons-math"],"comments":[{"owner":{"account_id":3925568,"reputation":2254,"user_id":3246191,"accept_rate":75,"display_name":"vib"},"score":0,"creation_date":1430309965,"post_id":29942652,"comment_id":48007753,"body_markdown":"How did you select the points you sum on (in your arraylist) ? What kind of geometric structure are you considering ? And do you expect the result to be always close to 1 ?","body":"How did you select the points you sum on (in your arraylist) ? What kind of geometric structure are you considering ? And do you expect the result to be always close to 1 ?"},{"owner":{"account_id":2689847,"reputation":11,"user_id":4845777,"display_name":"horge"},"score":0,"creation_date":1430313111,"post_id":29942652,"comment_id":48010311,"body_markdown":"The points are grabbed from a canvas where a polygon can be drawn. The ArrayList is then filled up by simply overlaying a grid with int precision over the whole polygon and checking whether a grid point is contained in the polygon or not. The geometric structure is any kind of polygon except nonsimple polygons. The result is not expected to be always close to 1.","body":"The points are grabbed from a canvas where a polygon can be drawn. The ArrayList is then filled up by simply overlaying a grid with int precision over the whole polygon and checking whether a grid point is contained in the polygon or not. The geometric structure is any kind of polygon except nonsimple polygons. The result is not expected to be always close to 1."},{"owner":{"account_id":511240,"reputation":3296,"user_id":2363540,"display_name":"Douglas Zare"},"score":0,"creation_date":1430313194,"post_id":29942652,"comment_id":48010384,"body_markdown":"I&#39;m surprised that you are getting problems only with large standard deviations. Usually, smaller standard deviations cause greater problems. I suspect that you are confusing the standard deviation with its inverse, since you do divide by the standard deviation in some formulas. What you are doing is essentially numerical integration by a very coarse method, using 1x1 squares, and if that&#39;s not good enough, you should use one of the more accurate methods of numerical integration.","body":"I&#39;m surprised that you are getting problems only with large standard deviations. Usually, smaller standard deviations cause greater problems. I suspect that you are confusing the standard deviation with its inverse, since you do divide by the standard deviation in some formulas. What you are doing is essentially numerical integration by a very coarse method, using 1x1 squares, and if that&#39;s not good enough, you should use one of the more accurate methods of numerical integration."},{"owner":{"account_id":3925568,"reputation":2254,"user_id":3246191,"accept_rate":75,"display_name":"vib"},"score":0,"creation_date":1430313567,"post_id":29942652,"comment_id":48010725,"body_markdown":"Have you tried, instead of grabbing points, to grab rectangles contained in your polygon, to exactly evaluate the contribution of the gaussian within this rectangle, and then to sum it up ?","body":"Have you tried, instead of grabbing points, to grab rectangles contained in your polygon, to exactly evaluate the contribution of the gaussian within this rectangle, and then to sum it up ?"},{"owner":{"account_id":2689847,"reputation":11,"user_id":4845777,"display_name":"horge"},"score":0,"creation_date":1430314223,"post_id":29942652,"comment_id":48011258,"body_markdown":"@DouglasZare: I&#39;m getting problems with small standard deviations, as I wrote &quot;when setting the standard deviations to really low values [...]&quot; which is causing problems like a probability greater than 1.","body":"@DouglasZare: I&#39;m getting problems with small standard deviations, as I wrote &quot;when setting the standard deviations to really low values [...]&quot; which is causing problems like a probability greater than 1."},{"owner":{"account_id":511240,"reputation":3296,"user_id":2363540,"display_name":"Douglas Zare"},"score":0,"creation_date":1430314635,"post_id":29942652,"comment_id":48011600,"body_markdown":"Oh, so when you say, &quot;If the standard deviations are small enough and the defined region is large enough, the probability will approach to a number of 1.0 (0.99999999999)&quot; you mean that is the theoretical result, not what you observe in your calculations? It is strange that you remind us that 1.0 is close to 0.99999999999; you should not expect people who don&#39;t know or remember this to be able to help you integrate. When you mention 0.99999999999 I expect you to say that this is the output your algorithm produces under favorable circumstances, which would not be with small standard deviations.","body":"Oh, so when you say, &quot;If the standard deviations are small enough and the defined region is large enough, the probability will approach to a number of 1.0 (0.99999999999)&quot; you mean that is the theoretical result, not what you observe in your calculations? It is strange that you remind us that 1.0 is close to 0.99999999999; you should not expect people who don&#39;t know or remember this to be able to help you integrate. When you mention 0.99999999999 I expect you to say that this is the output your algorithm produces under favorable circumstances, which would not be with small standard deviations."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1430314972,"post_id":29942652,"comment_id":48011894,"body_markdown":"I&#39;d wonder if another integration scheme (e.g. Gauss quadrature) would be a better idea here.  I&#39;d do a quick study to see what order quadrature would be sufficient.  I&#39;d also wonder if symmetry can be exploited.","body":"I&#39;d wonder if another integration scheme (e.g. Gauss quadrature) would be a better idea here.  I&#39;d do a quick study to see what order quadrature would be sufficient.  I&#39;d also wonder if symmetry can be exploited."},{"owner":{"account_id":2689847,"reputation":11,"user_id":4845777,"display_name":"horge"},"score":0,"creation_date":1430315719,"post_id":29942652,"comment_id":48012526,"body_markdown":"@DouglasZare: thanks for pointing that out. I was testing my calculations by setting up a bnd with very small standard deviations and a huge area so that the normal distribution was completely included in the area. The output was 0.999... and I justified it with the theoretical result.","body":"@DouglasZare: thanks for pointing that out. I was testing my calculations by setting up a bnd with very small standard deviations and a huge area so that the normal distribution was completely included in the area. The output was 0.999... and I justified it with the theoretical result."},{"owner":{"account_id":3925568,"reputation":2254,"user_id":3246191,"accept_rate":75,"display_name":"vib"},"score":0,"creation_date":1430316441,"post_id":29942652,"comment_id":48013200,"body_markdown":"You could also generate number from the Gaussian distribution and check whether they belong to your polygon or not ... probably not the fastest but easy to code. See for instance http://mathfaculty.fullerton.edu/mathews/n2003/montecarlopimod.html","body":"You could also generate number from the Gaussian distribution and check whether they belong to your polygon or not ... probably not the fastest but easy to code. See for instance <a href=\"http://mathfaculty.fullerton.edu/mathews/n2003/montecarlopimod.html\" rel=\"nofollow noreferrer\">mathfaculty.fullerton.edu/mathews/n2003/montecarlopimod.html</a>"},{"owner":{"account_id":2707424,"reputation":4360,"user_id":2336725,"display_name":"Teepeemm"},"score":0,"creation_date":1430317532,"post_id":29942652,"comment_id":48014112,"body_markdown":"When you say you encounter problems with “really low” standard deviations, how low is that?  A multivariate normal only has one peak, and it is allowed to be greater than 1.  My initial thought is that you are forgetting to multiply by `dx dy` (assuming you’re points come from a rectangular grid).","body":"When you say you encounter problems with “really low” standard deviations, how low is that?  A multivariate normal only has one peak, and it is allowed to be greater than 1.  My initial thought is that you are forgetting to multiply by <code>dx dy</code> (assuming you’re points come from a rectangular grid)."},{"owner":{"account_id":511240,"reputation":3296,"user_id":2363540,"display_name":"Douglas Zare"},"score":0,"creation_date":1430318313,"post_id":29942652,"comment_id":48014836,"body_markdown":"@Teepeemm: It&#39;s not stated directly in the problem but the OP is sampling only at points with integer coordinates. So, dx dy = 1. And it&#39;s a very coarse numerical integration technique that could be improved in many ways.","body":"@Teepeemm: It&#39;s not stated directly in the problem but the OP is sampling only at points with integer coordinates. So, dx dy = 1. And it&#39;s a very coarse numerical integration technique that could be improved in many ways."}],"answers":[{"tags":[],"owner":{"account_id":511240,"reputation":3296,"user_id":2363540,"display_name":"Douglas Zare"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1430320115,"creation_date":1430320115,"answer_id":29947724,"question_id":29942652,"body_markdown":"Your current approach is to perform a numerical integral by sampling at points with integer coordinates, assigning the value at each point to the whole square. This has two main sources of error. One is that the function may vary a lot within the square. Another is the boundary, where you integrate over squares not completely contained in the region. A third source of error is roundoff, but this will rarely be significant since the other sources of errors are huge.\r\n\r\nOne simple way to reduce the error is to use a finer grid. If you sample at points with coordinates that are integers divided by n (and multiply by the area n^-2 of the 1/n by 1/n squares), this will reduce both sources of errors. A problem is that you sample at about n^2 as many points.\r\n\r\nI suggest writing your double integral over the region as an integral of integrals. \r\n\r\nThe inner integral (say, with respect to x) will be an integral of a one-dimensional Gaussian over an interval, if the region is convex, or at worst over a finite list of integrals. You integrate the pdf restricted to a particular y coordinate y0 along the intersection of the polygon with the horizontal line y=y0. You can evaluate the inner integrals using functions such as [erf, which is numerically approximated in libraries][1], or you can do it yourself using a one-dimensional numerical integral. \r\n\r\nThe outer integral (say, with respect to y) naturally breaks up into pieces. Where there is a point of the polygon, the function inside the outer integral might not be smooth. So, break up the outer integral by the y-coordinates of the vertices of the polygon, and do a numerical integral such as the trapezoid rule or [Simpson&#39;s Rule][2] on each of the intervals. These require you to evaluate the inner integral at a few points in each interval and weight them appropriately.\r\n\r\nThis should produce much more accurate results for a given amount of time than simply refining the grid.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/special/Erf.html#erf%28double%29\r\n  [2]: http://en.wikipedia.org/wiki/Simpson%27s_rule","title":"Calculate probability of bivariate normal distribution over area / polygon","body":"<p>Your current approach is to perform a numerical integral by sampling at points with integer coordinates, assigning the value at each point to the whole square. This has two main sources of error. One is that the function may vary a lot within the square. Another is the boundary, where you integrate over squares not completely contained in the region. A third source of error is roundoff, but this will rarely be significant since the other sources of errors are huge.</p>\n\n<p>One simple way to reduce the error is to use a finer grid. If you sample at points with coordinates that are integers divided by n (and multiply by the area n^-2 of the 1/n by 1/n squares), this will reduce both sources of errors. A problem is that you sample at about n^2 as many points.</p>\n\n<p>I suggest writing your double integral over the region as an integral of integrals. </p>\n\n<p>The inner integral (say, with respect to x) will be an integral of a one-dimensional Gaussian over an interval, if the region is convex, or at worst over a finite list of integrals. You integrate the pdf restricted to a particular y coordinate y0 along the intersection of the polygon with the horizontal line y=y0. You can evaluate the inner integrals using functions such as <a href=\"http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/special/Erf.html#erf%28double%29\" rel=\"nofollow\">erf, which is numerically approximated in libraries</a>, or you can do it yourself using a one-dimensional numerical integral. </p>\n\n<p>The outer integral (say, with respect to y) naturally breaks up into pieces. Where there is a point of the polygon, the function inside the outer integral might not be smooth. So, break up the outer integral by the y-coordinates of the vertices of the polygon, and do a numerical integral such as the trapezoid rule or <a href=\"http://en.wikipedia.org/wiki/Simpson%27s_rule\" rel=\"nofollow\">Simpson's Rule</a> on each of the intervals. These require you to evaluate the inner integral at a few points in each interval and weight them appropriately.</p>\n\n<p>This should produce much more accurate results for a given amount of time than simply refining the grid.</p>\n"},{"tags":[],"owner":{"account_id":1081952,"reputation":1462,"user_id":1136450,"display_name":"nth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657736287,"creation_date":1657736287,"answer_id":72970883,"question_id":29942652,"body_markdown":"See:\r\n\r\nDidonato, A. R., Jarnagin, Jr., M. P., &amp; Hageman, R. K. (1980). Computation of the Integral of the Bivariate Normal Distribution Over Convex Polygons. SIAM Journal on Scientific and Statistical Computing, 1(2), 179–186. doi:10.1137/0901010\r\n\r\n(If your polygon is not convex, there is another paper in the same issue that handles the general case.)","title":"Calculate probability of bivariate normal distribution over area / polygon","body":"<p>See:</p>\n<p>Didonato, A. R., Jarnagin, Jr., M. P., &amp; Hageman, R. K. (1980). Computation of the Integral of the Bivariate Normal Distribution Over Convex Polygons. SIAM Journal on Scientific and Statistical Computing, 1(2), 179–186. doi:10.1137/0901010</p>\n<p>(If your polygon is not convex, there is another paper in the same issue that handles the general case.)</p>\n"}],"owner":{"account_id":2689847,"reputation":11,"user_id":4845777,"display_name":"horge"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657736287,"creation_date":1430307677,"question_id":29942652,"body_markdown":"I&#39;m trying to calculate the probability of a bivariate normal distribution over a specific area respectively a specific polygon in java.\r\n\r\nThe mathematical description would be to integrate the probability density function (**pdf**) of the bivariate normal distribution over a specific complex area.\r\n\r\nMy first approach was to use two `NormalDistribution` objects with the aid of the `apache-commons-math` library. Given dataset x for dimension 1 and dataset y for dimension 2 I&#39;ve computed mean and standard deviation for each `NormalDistribution`.\r\n\r\nWith the method \r\n`public double probability(double x0, double x1)` from `org.​apache.​commons.​math3.​distribution.​NormalDistribution` I&#39;m able to set an individual interval for each dimension, which means I can define a rectangular area and get the probability by \r\n\r\n    NormalDistribution normalX = new NormalDistribution(means[0], stdDeviation_x);\r\n    NormalDistribution normalY = new NormalDistribution(means[1], stdDeviation_y);\r\n                                 \r\n    double probabilityOfRect = normalX.probability(x1, x2) * normalY.probability(y1, y2);\r\n\r\nIf the standard deviations are small enough and the defined region is large enough, the probability will approach to a number of 1.0 (0.99999999999), which is expected.\r\n\r\nAs I&#39;ve said I need to compute a specific area, my first approach won&#39;t work this way because I&#39;m only able to define rectangular areas.\r\n\r\nSo my second approach was to use the class `MultivariateNormalDistribution`, which is also implemented in `apache-commons-math`.\r\n\r\nBy using the `MultivariateNormalDistribution` with the vector means and the covariance matrix, I&#39;m able to get the pdf of a specific point x with `public double density(double[] vals)`, like the description is saying \r\n\r\n&gt; Returns the probability density function (PDF) of this distribution\r\n&gt; evaluated at the specified point x.\r\n\r\n[http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/distribution/MultivariateNormalDistribution.html#density(double\\[\\])][1]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/distribution/MultivariateNormalDistribution.html#density(double[])\r\n\r\nIn this approach I&#39;m converting my complex area in an ArrayList of Points and subsequently summing up all the densities by iterating over the ArrayList like this:\r\n\r\n    MultivariateNormalDistribution mnd = new MultivariateNormalDistribution(means, covariances);\r\n    double sum = 0.0;\r\n        for(Point p : complexArea) {\r\n        double[] pos = {p.x, p.y};\r\n        sum += mnd.density(pos);\r\n    }\r\n    return sum;\r\n\r\n\r\nBut I&#39;ve encountered a problem with lacking precision when setting the standard deviations to really low values so that the pdf is containing peaks &gt; 1 at the position I&#39;m calling `mnd.density(pos)`. So the sum is adding up to values &gt; 1. \r\n\r\nTo avoid these peaks I&#39;m trying to sum up the average of a summed up value which are the surrounding points in double precision of the current point by\r\n\r\n    MultivariateNormalDistribution mnd = new MultivariateNormalDistribution(means, covariances);\r\n    double sum = 0.0;\r\n    for(Point p : surfacePoints) {\r\n    \tdouble tmpRes = 0.0;\r\n    \t\r\n    \tfor(double x = p.x - 0.5; x &lt; p.x + 0.5; x+=0.1) {\r\n    \t\tfor(double y = p.y - 0.5; y &lt; p.y + 0.5; y+=0.1) {\r\n    \t\t\tdouble[] pos = {x, y};\r\n    \t\t\ttmpRes += mnd.density(pos);\r\n    \t\t}\r\n    \t}\r\n    \tsum += tmpRes / 100.0;\r\n    }\r\n    \r\n    return sum;\r\n\r\nwhich obviously works.\r\n\r\nAll in all I&#39;m not quite sure if my approaches are fundamentally correct. Another approach would be to compute the probability with numerical integration but I&#39;m clueless how to achieve this in java.\r\n\r\nAre there any other possibilities to achieve this?\r\n\r\nEDIT:\r\nBeside the fact of lacking accuracy, the main question is: Is the second approach &quot;summing up the densities&quot; a valid method to obtain a probability in an area of a bivariate normal distribution? Thinking about 1-dimensional normal distributions, the probability of one specific point is always 0. How does the `public double density(double[] vals)` method in the apache math library obtain a valid value?","title":"Calculate probability of bivariate normal distribution over area / polygon","body":"<p>I'm trying to calculate the probability of a bivariate normal distribution over a specific area respectively a specific polygon in java.</p>\n\n<p>The mathematical description would be to integrate the probability density function (<strong>pdf</strong>) of the bivariate normal distribution over a specific complex area.</p>\n\n<p>My first approach was to use two <code>NormalDistribution</code> objects with the aid of the <code>apache-commons-math</code> library. Given dataset x for dimension 1 and dataset y for dimension 2 I've computed mean and standard deviation for each <code>NormalDistribution</code>.</p>\n\n<p>With the method \n<code>public double probability(double x0, double x1)</code> from <code>org.​apache.​commons.​math3.​distribution.​NormalDistribution</code> I'm able to set an individual interval for each dimension, which means I can define a rectangular area and get the probability by </p>\n\n<pre><code>NormalDistribution normalX = new NormalDistribution(means[0], stdDeviation_x);\nNormalDistribution normalY = new NormalDistribution(means[1], stdDeviation_y);\n\ndouble probabilityOfRect = normalX.probability(x1, x2) * normalY.probability(y1, y2);\n</code></pre>\n\n<p>If the standard deviations are small enough and the defined region is large enough, the probability will approach to a number of 1.0 (0.99999999999), which is expected.</p>\n\n<p>As I've said I need to compute a specific area, my first approach won't work this way because I'm only able to define rectangular areas.</p>\n\n<p>So my second approach was to use the class <code>MultivariateNormalDistribution</code>, which is also implemented in <code>apache-commons-math</code>.</p>\n\n<p>By using the <code>MultivariateNormalDistribution</code> with the vector means and the covariance matrix, I'm able to get the pdf of a specific point x with <code>public double density(double[] vals)</code>, like the description is saying </p>\n\n<blockquote>\n  <p>Returns the probability density function (PDF) of this distribution\n  evaluated at the specified point x.</p>\n</blockquote>\n\n<p><a href=\"http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/distribution/MultivariateNormalDistribution.html#density(double[])\" rel=\"nofollow\">http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/distribution/MultivariateNormalDistribution.html#density(double[])</a></p>\n\n<p>In this approach I'm converting my complex area in an ArrayList of Points and subsequently summing up all the densities by iterating over the ArrayList like this:</p>\n\n<pre><code>MultivariateNormalDistribution mnd = new MultivariateNormalDistribution(means, covariances);\ndouble sum = 0.0;\n    for(Point p : complexArea) {\n    double[] pos = {p.x, p.y};\n    sum += mnd.density(pos);\n}\nreturn sum;\n</code></pre>\n\n<p>But I've encountered a problem with lacking precision when setting the standard deviations to really low values so that the pdf is containing peaks > 1 at the position I'm calling <code>mnd.density(pos)</code>. So the sum is adding up to values > 1. </p>\n\n<p>To avoid these peaks I'm trying to sum up the average of a summed up value which are the surrounding points in double precision of the current point by</p>\n\n<pre><code>MultivariateNormalDistribution mnd = new MultivariateNormalDistribution(means, covariances);\ndouble sum = 0.0;\nfor(Point p : surfacePoints) {\n    double tmpRes = 0.0;\n\n    for(double x = p.x - 0.5; x &lt; p.x + 0.5; x+=0.1) {\n        for(double y = p.y - 0.5; y &lt; p.y + 0.5; y+=0.1) {\n            double[] pos = {x, y};\n            tmpRes += mnd.density(pos);\n        }\n    }\n    sum += tmpRes / 100.0;\n}\n\nreturn sum;\n</code></pre>\n\n<p>which obviously works.</p>\n\n<p>All in all I'm not quite sure if my approaches are fundamentally correct. Another approach would be to compute the probability with numerical integration but I'm clueless how to achieve this in java.</p>\n\n<p>Are there any other possibilities to achieve this?</p>\n\n<p>EDIT:\nBeside the fact of lacking accuracy, the main question is: Is the second approach \"summing up the densities\" a valid method to obtain a probability in an area of a bivariate normal distribution? Thinking about 1-dimensional normal distributions, the probability of one specific point is always 0. How does the <code>public double density(double[] vals)</code> method in the apache math library obtain a valid value?</p>\n"},{"tags":["java","selenium","webdriver"],"comments":[{"owner":{"account_id":138477,"reputation":1180,"user_id":343439,"accept_rate":82,"display_name":"AndyPerfect"},"score":0,"creation_date":1337380551,"post_id":10660291,"comment_id":13827112,"body_markdown":"Not a problem at all. When you say highlight an element, do you want to mimic the user holding down the mouse and actually highlighting that element?","body":"Not a problem at all. When you say highlight an element, do you want to mimic the user holding down the mouse and actually highlighting that element?"},{"owner":{"account_id":890975,"reputation":405,"user_id":929258,"accept_rate":80,"display_name":"user929258"},"score":0,"creation_date":1337380906,"post_id":10660291,"comment_id":13827198,"body_markdown":"Basically when the tests are running i want to be able to see elements being verified, asserted etc. In simple words I am looking for webdriver equivalent for this:\n\nselenium.getEval(&quot;selenium.browserbot.setShouldHighlightElement(true)&quot;);\n\nThis is from selenium RC but i am migrating my test scripts to webdriver.","body":"Basically when the tests are running i want to be able to see elements being verified, asserted etc. In simple words I am looking for webdriver equivalent for this:  selenium.getEval(&quot;selenium.browserbot.setShouldHighlightElem&zwnj;&#8203;ent(true)&quot;);  This is from selenium RC but i am migrating my test scripts to webdriver."}],"answers":[{"tags":[],"owner":{"account_id":138477,"reputation":1180,"user_id":343439,"accept_rate":82,"display_name":"AndyPerfect"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337381974,"creation_date":1337381611,"answer_id":10660700,"question_id":10660291,"body_markdown":"I am unaware of any way to do this in WebDriver, but it looks like there exists a class in Selenium WebDriver that should give you access to most if not all of the RC API. I&#39;m not aware of how to actually do this using WebDriver.\r\n\r\nThe class [WebDriverBackedSelenium][1] looks like it contains much of the RC api you&#39;re used to including [getEval][2]\r\n\r\nTo create an object of type `WebDriverBackedSelenium`, just pass in the driver you&#39;ve already been using in addition to your testing site&#39;s base URL\r\n\r\n    WebDriverBackedSelenium wdbs = new WebDriverBackedSelenium(driver, &quot;http://www.google.com&quot;);\r\n\r\n\r\n  [1]: http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriverBackedSelenium.html\r\n  [2]: http://selenium.googlecode.com/svn/trunk/docs/api/java/com/thoughtworks/selenium/DefaultSelenium.html#getEval%28java.lang.String%29","title":"Highlight elements in WebDriver during runtime","body":"<p>I am unaware of any way to do this in WebDriver, but it looks like there exists a class in Selenium WebDriver that should give you access to most if not all of the RC API. I'm not aware of how to actually do this using WebDriver.</p>\n\n<p>The class <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriverBackedSelenium.html\" rel=\"nofollow\">WebDriverBackedSelenium</a> looks like it contains much of the RC api you're used to including <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/com/thoughtworks/selenium/DefaultSelenium.html#getEval%28java.lang.String%29\" rel=\"nofollow\">getEval</a></p>\n\n<p>To create an object of type <code>WebDriverBackedSelenium</code>, just pass in the driver you've already been using in addition to your testing site's base URL</p>\n\n<pre><code>WebDriverBackedSelenium wdbs = new WebDriverBackedSelenium(driver, \"http://www.google.com\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1339062353,"creation_date":1337381911,"answer_id":10660734,"question_id":10660291,"body_markdown":"There is no way to do this in [`WebDriver`](http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.html) (as of v2.21.0). You can try replacing the usual [`findElement(By)`](http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.html#findElement%28org.openqa.selenium.By%29) method with an adjusted one that uses JavaScript to highlight the found element:\r\n\r\n    // Draws a red border around the found element. Does not set it back anyhow.\r\n    public WebElement findElement(By by) {\r\n        WebElement elem = driver.findElement(by);\r\n        // draw a border around the found element\r\n        if (driver instanceof JavascriptExecutor) {\r\n            ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].style.border=&#39;3px solid red&#39;&quot;, elem);\r\n        }\r\n        return elem;\r\n    }\r\n\r\nNow that you got the idea, there&#39;s an improved version that restores the original `border` of the last element when a new one is found and highlighted:\r\n\r\n\t// assuming JS is enabled\r\n\tprivate JavascriptExecutor js = (JavascriptExecutor)driver;\r\n\tprivate WebElement lastElem = null;\r\n\tprivate String lastBorder = null;\r\n\t\r\n\tprivate static final String SCRIPT_GET_ELEMENT_BORDER;\r\n\tprivate static final String SCRIPT_UNHIGHLIGHT_ELEMENT;\r\n\t\r\n\tvoid highlightElement(WebElement elem) {\r\n\t\tunhighlightLast();\r\n\t\t\r\n\t\t// remember the new element\r\n\t\tlastElem = elem;\r\n\t\tlastBorder = (String)(js.executeScript(SCRIPT_GET_ELEMENT_BORDER, elem));\r\n\t}\r\n\t\r\n\tvoid unhighlightLast() {\r\n\t\tif (lastElem != null) {\r\n\t\t    try {\r\n\t\t    \t// if there already is a highlighted element, unhighlight it\r\n\t\t        js.executeScript(SCRIPT_UNHIGHLIGHT_ELEMENT, lastElem, lastBorder);\r\n\t\t    } catch (StaleElementReferenceException ignored) {\r\n\t\t        // the page got reloaded, the element isn&#39;t there\r\n\t\t    } finally {\r\n\t\t    \t// element either restored or wasn&#39;t valid, nullify in both cases\r\n\t\t    \tlastElem = null;\r\n\t\t    }\r\n\t\t}\r\n\t}\r\n\r\nAnd the scripts! I load them from a file using [`FileUtils.readFileToString()`](http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#readFileToString%28java.io.File%29).\r\n\r\nSCRIPT_GET_ELEMENT_BORDER ([IE friendly version taken from this site](http://www.quirksmode.org/dom/getstyles.html)), it would be way shorter if it used highlighting via changing the background color, say, only the bottom border. But this is the nicest one :).\r\n\r\n    /*\r\n     * Returns all border properties of the specified element as String,\r\n     * in order of &quot;width style color&quot; delimited by &#39;;&#39; (semicolon) in the form of:\r\n     * \r\n     * &quot;2px inset #000000;2px inset #000000;2px inset #000000;2px inset #000000&quot;\r\n     * &quot;medium none #ccc;medium none #ccc;1px solid #e5e5e5;medium none #ccc&quot;\r\n     * etc.\r\n     */\r\n    var elem = arguments[0]; \r\n    if (elem.currentStyle) {\r\n    \t// Branch for IE 6,7,8. No idea how this works on IE9, but the script\r\n    \t// should take care of it.\r\n    \tvar style = elem.currentStyle;\r\n    \tvar border = style[&#39;borderTopWidth&#39;]\r\n    \t\t\t+ &#39; &#39; + style[&#39;borderTopStyle&#39;]\r\n    \t\t\t+ &#39; &#39; + style[&#39;borderTopColor&#39;]\r\n    \t\t\t+ &#39;;&#39; + style[&#39;borderRightWidth&#39;]\r\n    \t\t\t+ &#39; &#39; + style[&#39;borderRightStyle&#39;]\r\n    \t\t\t+ &#39; &#39; + style[&#39;borderRightColor&#39;]\r\n    \t\t\t+ &#39;;&#39; + style[&#39;borderBottomWidth&#39;]\r\n    \t\t\t+ &#39; &#39; + style[&#39;borderBottomStyle&#39;]\r\n    \t\t\t+ &#39; &#39; + style[&#39;borderBottomColor&#39;]\r\n    \t\t\t+ &#39;;&#39; + style[&#39;borderLeftWidth&#39;]\r\n    \t\t\t+ &#39; &#39; + style[&#39;borderLeftStyle&#39;]\r\n    \t\t\t+ &#39; &#39; + style[&#39;borderLeftColor&#39;];\r\n    } else if (window.getComputedStyle) {\r\n    \t// Branch for FF, Chrome, Opera\r\n    \tvar style = document.defaultView.getComputedStyle(elem);\r\n    \tvar border = style.getPropertyValue(&#39;border-top-width&#39;)\r\n    \t\t\t+ &#39; &#39; + style.getPropertyValue(&#39;border-top-style&#39;)\r\n    \t\t\t+ &#39; &#39; + style.getPropertyValue(&#39;border-top-color&#39;)\r\n    \t\t\t+ &#39;;&#39; + style.getPropertyValue(&#39;border-right-width&#39;)\r\n    \t\t\t+ &#39; &#39; + style.getPropertyValue(&#39;border-right-style&#39;)\r\n    \t\t\t+ &#39; &#39; + style.getPropertyValue(&#39;border-right-color&#39;)\r\n    \t\t\t+ &#39;;&#39; + style.getPropertyValue(&#39;border-bottom-width&#39;)\r\n    \t\t\t+ &#39; &#39; + style.getPropertyValue(&#39;border-bottom-style&#39;)\r\n    \t\t\t+ &#39; &#39; + style.getPropertyValue(&#39;border-bottom-color&#39;)\r\n    \t\t\t+ &#39;;&#39; + style.getPropertyValue(&#39;border-left-width&#39;)\r\n    \t\t\t+ &#39; &#39; + style.getPropertyValue(&#39;border-left-style&#39;)\r\n    \t\t\t+ &#39; &#39; + style.getPropertyValue(&#39;border-left-color&#39;);\r\n    }\r\n    // highlight the element\r\n    elem.style.border = &#39;2px solid red&#39;;\r\n    return border;\r\n\r\nSCRIPT_UNHIGHLIGHT_ELEMENT\r\n\r\n    var elem = arguments[0];\r\n    var borders = arguments[1].split(&#39;;&#39;);\r\n    elem.style.borderTop = borders[0];\r\n    elem.style.borderRight = borders[1];\r\n    elem.style.borderBottom = borders[2];\r\n    elem.style.borderLeft = borders[3];\r\n\r\n\r\nAny questions, notes, requests and improvements are welcome!","title":"Highlight elements in WebDriver during runtime","body":"<p>There is no way to do this in <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.html\"><code>WebDriver</code></a> (as of v2.21.0). You can try replacing the usual <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/java/org/openqa/selenium/WebDriver.html#findElement%28org.openqa.selenium.By%29\"><code>findElement(By)</code></a> method with an adjusted one that uses JavaScript to highlight the found element:</p>\n\n<pre><code>// Draws a red border around the found element. Does not set it back anyhow.\npublic WebElement findElement(By by) {\n    WebElement elem = driver.findElement(by);\n    // draw a border around the found element\n    if (driver instanceof JavascriptExecutor) {\n        ((JavascriptExecutor)driver).executeScript(\"arguments[0].style.border='3px solid red'\", elem);\n    }\n    return elem;\n}\n</code></pre>\n\n<p>Now that you got the idea, there's an improved version that restores the original <code>border</code> of the last element when a new one is found and highlighted:</p>\n\n<pre><code>// assuming JS is enabled\nprivate JavascriptExecutor js = (JavascriptExecutor)driver;\nprivate WebElement lastElem = null;\nprivate String lastBorder = null;\n\nprivate static final String SCRIPT_GET_ELEMENT_BORDER;\nprivate static final String SCRIPT_UNHIGHLIGHT_ELEMENT;\n\nvoid highlightElement(WebElement elem) {\n    unhighlightLast();\n\n    // remember the new element\n    lastElem = elem;\n    lastBorder = (String)(js.executeScript(SCRIPT_GET_ELEMENT_BORDER, elem));\n}\n\nvoid unhighlightLast() {\n    if (lastElem != null) {\n        try {\n            // if there already is a highlighted element, unhighlight it\n            js.executeScript(SCRIPT_UNHIGHLIGHT_ELEMENT, lastElem, lastBorder);\n        } catch (StaleElementReferenceException ignored) {\n            // the page got reloaded, the element isn't there\n        } finally {\n            // element either restored or wasn't valid, nullify in both cases\n            lastElem = null;\n        }\n    }\n}\n</code></pre>\n\n<p>And the scripts! I load them from a file using <a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/FileUtils.html#readFileToString%28java.io.File%29\"><code>FileUtils.readFileToString()</code></a>.</p>\n\n<p>SCRIPT_GET_ELEMENT_BORDER (<a href=\"http://www.quirksmode.org/dom/getstyles.html\">IE friendly version taken from this site</a>), it would be way shorter if it used highlighting via changing the background color, say, only the bottom border. But this is the nicest one :).</p>\n\n<pre><code>/*\n * Returns all border properties of the specified element as String,\n * in order of \"width style color\" delimited by ';' (semicolon) in the form of:\n * \n * \"2px inset #000000;2px inset #000000;2px inset #000000;2px inset #000000\"\n * \"medium none #ccc;medium none #ccc;1px solid #e5e5e5;medium none #ccc\"\n * etc.\n */\nvar elem = arguments[0]; \nif (elem.currentStyle) {\n    // Branch for IE 6,7,8. No idea how this works on IE9, but the script\n    // should take care of it.\n    var style = elem.currentStyle;\n    var border = style['borderTopWidth']\n            + ' ' + style['borderTopStyle']\n            + ' ' + style['borderTopColor']\n            + ';' + style['borderRightWidth']\n            + ' ' + style['borderRightStyle']\n            + ' ' + style['borderRightColor']\n            + ';' + style['borderBottomWidth']\n            + ' ' + style['borderBottomStyle']\n            + ' ' + style['borderBottomColor']\n            + ';' + style['borderLeftWidth']\n            + ' ' + style['borderLeftStyle']\n            + ' ' + style['borderLeftColor'];\n} else if (window.getComputedStyle) {\n    // Branch for FF, Chrome, Opera\n    var style = document.defaultView.getComputedStyle(elem);\n    var border = style.getPropertyValue('border-top-width')\n            + ' ' + style.getPropertyValue('border-top-style')\n            + ' ' + style.getPropertyValue('border-top-color')\n            + ';' + style.getPropertyValue('border-right-width')\n            + ' ' + style.getPropertyValue('border-right-style')\n            + ' ' + style.getPropertyValue('border-right-color')\n            + ';' + style.getPropertyValue('border-bottom-width')\n            + ' ' + style.getPropertyValue('border-bottom-style')\n            + ' ' + style.getPropertyValue('border-bottom-color')\n            + ';' + style.getPropertyValue('border-left-width')\n            + ' ' + style.getPropertyValue('border-left-style')\n            + ' ' + style.getPropertyValue('border-left-color');\n}\n// highlight the element\nelem.style.border = '2px solid red';\nreturn border;\n</code></pre>\n\n<p>SCRIPT_UNHIGHLIGHT_ELEMENT</p>\n\n<pre><code>var elem = arguments[0];\nvar borders = arguments[1].split(';');\nelem.style.borderTop = borders[0];\nelem.style.borderRight = borders[1];\nelem.style.borderBottom = borders[2];\nelem.style.borderLeft = borders[3];\n</code></pre>\n\n<p>Any questions, notes, requests and improvements are welcome!</p>\n"},{"tags":[],"owner":{"account_id":1495636,"reputation":21,"user_id":1401647,"display_name":"Naveen Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338529297,"creation_date":1338529297,"answer_id":10844981,"question_id":10660291,"body_markdown":"I use below code for highlighting in my webdriver java code using javascript executer:\r\n\r\n//I make a call below function &quot;flash&quot;\r\n\r\n\t\tpublic static void flash(WebElement element, WebDriver driver) {\r\n\t\t    JavascriptExecutor js = ((JavascriptExecutor) driver);\r\n\t\t    String bgcolor  = element.getCssValue(&quot;backgroundColor&quot;);\r\n\t\t    for (int i = 0; i &lt;  3; i++) {\r\n\t\t        changeColor(&quot;rgb(0,200,0)&quot;, element, js);\r\n\t\t        changeColor(bgcolor, element, js);\r\n\t\t    }\r\n\t\t}\r\n\t\tpublic static void changeColor(String color, WebElement element,  JavascriptExecutor js) {\r\n\t\t    js.executeScript(&quot;arguments[0].style.backgroundColor = &#39;&quot;+color+&quot;&#39;&quot;,  element);\r\n\t\r\n\t\t    try {\r\n\t\t        Thread.sleep(20);\r\n\t\t    }  catch (InterruptedException e) {\r\n\t\t    }\r\n\t\t }\r\n\r\nHope that helped :)","title":"Highlight elements in WebDriver during runtime","body":"<p>I use below code for highlighting in my webdriver java code using javascript executer:</p>\n\n<p>//I make a call below function \"flash\"</p>\n\n<pre><code>    public static void flash(WebElement element, WebDriver driver) {\n        JavascriptExecutor js = ((JavascriptExecutor) driver);\n        String bgcolor  = element.getCssValue(\"backgroundColor\");\n        for (int i = 0; i &lt;  3; i++) {\n            changeColor(\"rgb(0,200,0)\", element, js);\n            changeColor(bgcolor, element, js);\n        }\n    }\n    public static void changeColor(String color, WebElement element,  JavascriptExecutor js) {\n        js.executeScript(\"arguments[0].style.backgroundColor = '\"+color+\"'\",  element);\n\n        try {\n            Thread.sleep(20);\n        }  catch (InterruptedException e) {\n        }\n     }\n</code></pre>\n\n<p>Hope that helped :)</p>\n"},{"tags":[],"owner":{"account_id":3034488,"reputation":111,"user_id":2572898,"display_name":"VS Achuthanandan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1394103188,"creation_date":1394103188,"answer_id":22222277,"question_id":10660291,"body_markdown":"In webdriver&lt;br&gt;\r\nCreate a class for highligh element &lt;b&gt;HighlightElement&lt;/b&gt;&lt;br&gt;\r\n\r\n`HighlightElement.java`\r\n\r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    import com.project.setup.WebDriverManager;\r\n    \r\n    public class HighlightElement {\r\n    \t\r\n    \tpublic static void highlightElement(WebElement element) {\r\n    \t\tfor (int i = 0; i &lt;2; i++) {\r\n    \t\t\tJavascriptExecutor js = (JavascriptExecutor) WebDriverManager.driver;\r\n    \t\t\tjs.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;, arguments[1]);&quot;, element, &quot;color: yellow; border: 2px solid yellow;&quot;);\r\n    \t\t\tjs.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;, arguments[1]);&quot;, element, &quot;&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    }\r\n\r\n---------------------------------------------------------------\r\nYou can use &lt;p&gt;\r\n`HighlightElement.highlightElement(driver.findElement(By.xpath(&quot;blaah blaah&quot;));)`&lt;/p&gt;\r\nto highlight the WebElement with xpath &quot;&lt;b&gt;blaah blaah&lt;/b&gt;&quot; in your test.","title":"Highlight elements in WebDriver during runtime","body":"<p>In webdriver<br>\nCreate a class for highligh element <b>HighlightElement</b><br></p>\n\n<p><code>HighlightElement.java</code></p>\n\n<pre><code>import org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebElement;\n\nimport com.project.setup.WebDriverManager;\n\npublic class HighlightElement {\n\n    public static void highlightElement(WebElement element) {\n        for (int i = 0; i &lt;2; i++) {\n            JavascriptExecutor js = (JavascriptExecutor) WebDriverManager.driver;\n            js.executeScript(\"arguments[0].setAttribute('style', arguments[1]);\", element, \"color: yellow; border: 2px solid yellow;\");\n            js.executeScript(\"arguments[0].setAttribute('style', arguments[1]);\", element, \"\");\n            }\n        }\n}\n</code></pre>\n\n<hr>\n\n<p>You can use <p>\n<code>HighlightElement.highlightElement(driver.findElement(By.xpath(\"blaah blaah\"));)</code></p>\nto highlight the WebElement with xpath \"<b>blaah blaah</b>\" in your test.</p>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1442312916,"creation_date":1440504223,"answer_id":32203535,"question_id":10660291,"body_markdown":"**JavaScript :**\r\n*Find [Xpath][1] of an [element][2] and Draw Border around it,* \r\n\r\n*using styleObj.[setProperty][3](CSS propertyName, CSS propertyValue, priority) method.*\r\n`element_node.style.setProperty (&quot;background-color&quot;, &quot;green&quot;, null);`\r\n\r\n*test js-code on this site : https://developer.chrome.com/devtools/docs/console*\r\n\r\n    var xpath = &#39;//html/body/div/main/article/nav&#39;;\r\n    if (document.evaluate){\r\n    var element_node = document.evaluate(xpath, window.document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null ).singleNodeValue;\r\n    element_node.style.setProperty (&#39;border&#39;, &#39;3px solid green&#39;, &#39;important&#39;);\r\n    \r\n    alert(&#39;Working Fine in this browser version&#39;);\r\n    }else{\r\n    alert(&#39;document.evaluate is Not supported by Internet Explorer&#39;);\r\n    }\r\n\r\n**Selenium**\r\n\r\n    public static void drawBorder(WebDriver driver, String xpath){\r\n    \t\tWebElement element_node = driver.findElement(By.xpath(xpath));\r\n    \t\tJavascriptExecutor jse = (JavascriptExecutor) driver;\r\n    \t\tjse.executeScript(&quot;arguments[0].style.border=&#39;3px solid red&#39;&quot;, element_node);\r\n    \t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18510576/find-an-element-by-text-and-get-xpath-selenium-webdriver-junit/32201731#32201731\r\n  [2]: https://developer.mozilla.org/en/docs/Introduction_to_using_XPath_in_JavaScript\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration","title":"Highlight elements in WebDriver during runtime","body":"<p><strong>JavaScript :</strong>\n<em>Find <a href=\"https://stackoverflow.com/questions/18510576/find-an-element-by-text-and-get-xpath-selenium-webdriver-junit/32201731#32201731\">Xpath</a> of an <a href=\"https://developer.mozilla.org/en/docs/Introduction_to_using_XPath_in_JavaScript\" rel=\"nofollow noreferrer\">element</a> and Draw Border around it,</em> </p>\n\n<p><em>using styleObj.<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration\" rel=\"nofollow noreferrer\">setProperty</a>(CSS propertyName, CSS propertyValue, priority) method.</em>\n<code>element_node.style.setProperty (\"background-color\", \"green\", null);</code></p>\n\n<p><em>test js-code on this site : <a href=\"https://developer.chrome.com/devtools/docs/console\" rel=\"nofollow noreferrer\">https://developer.chrome.com/devtools/docs/console</a></em></p>\n\n<pre><code>var xpath = '//html/body/div/main/article/nav';\nif (document.evaluate){\nvar element_node = document.evaluate(xpath, window.document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null ).singleNodeValue;\nelement_node.style.setProperty ('border', '3px solid green', 'important');\n\nalert('Working Fine in this browser version');\n}else{\nalert('document.evaluate is Not supported by Internet Explorer');\n}\n</code></pre>\n\n<p><strong>Selenium</strong></p>\n\n<pre><code>public static void drawBorder(WebDriver driver, String xpath){\n        WebElement element_node = driver.findElement(By.xpath(xpath));\n        JavascriptExecutor jse = (JavascriptExecutor) driver;\n        jse.executeScript(\"arguments[0].style.border='3px solid red'\", element_node);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7227773,"reputation":177,"user_id":5515751,"accept_rate":0,"display_name":"Amit Pal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1501764560,"creation_date":1501764560,"answer_id":45484690,"question_id":10660291,"body_markdown":"    public class JavaExecutor {\r\n\r\n    public static void highlighElement(WebDriver driver,WebElement element)\r\n    {\r\n\t\tJavascriptExecutor js=(JavascriptExecutor)driver; \r\n        js.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;, &#39;background: yellow; border: 2px solid red;&#39;);&quot;, element);\r\n\r\n\t\ttry \r\n\t\t{\r\n\t\tThread.sleep(1000);\r\n\t\t} \r\n\t\tcatch (InterruptedException e) {\r\n\r\n\t\tSystem.out.println(e.getMessage());\r\n\t\t} \r\n\r\n\t\tjs.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;,&#39;border: solid 2px white&#39;);&quot;, element); \r\n\r\n\t\t}\r\n\t}","title":"Highlight elements in WebDriver during runtime","body":"<pre><code>public class JavaExecutor {\n\npublic static void highlighElement(WebDriver driver,WebElement element)\n{\n    JavascriptExecutor js=(JavascriptExecutor)driver; \n    js.executeScript(\"arguments[0].setAttribute('style', 'background: yellow; border: 2px solid red;');\", element);\n\n    try \n    {\n    Thread.sleep(1000);\n    } \n    catch (InterruptedException e) {\n\n    System.out.println(e.getMessage());\n    } \n\n    js.executeScript(\"arguments[0].setAttribute('style','border: solid 2px white');\", element); \n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5397853,"reputation":11,"user_id":4298486,"display_name":"Kumar Ankit"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510319138,"creation_date":1510319138,"answer_id":47223456,"question_id":10660291,"body_markdown":"Here the code for higlighting the element in selenium:\r\nFirst create a class:\r\n\r\n    package com.demo.misc.function;\r\n    \r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    \r\n    public class Miscellaneous \r\n    {\r\n    \tpublic static void highLight(WebElement element, WebDriver driver)\r\n    \t{\r\n    \t\tfor (int i = 0; i &lt;2; i++) \r\n            {\r\n                try {\r\n    \t\t\t\tJavascriptExecutor js = (JavascriptExecutor) driver;\r\n    \t\t\t\tjs.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;, arguments[1]);&quot;, element, &quot;color: black; border: 4px solid red;&quot;);\r\n    \t\t\t\tThread.sleep(500);\r\n    \t\t\t\tjs.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;, arguments[1]);&quot;, element, &quot;&quot;);\r\n    \t\t\t\tThread.sleep(500);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n                \r\n            }\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nAnd then you can call this by :\r\n\r\n    driver.get(baseUrl);\r\n    \t\t\tThread.sleep(2000);\r\n    \t\t\tWebElement lnkREGISTER = driver.findElement(By.linkText(&quot;REGISTER&quot;));\r\n    \t\t\tMiscellaneous.highLight(lnkREGISTER, driver);\r\n    \t\t\tlnkREGISTER.click();\r\n\r\n","title":"Highlight elements in WebDriver during runtime","body":"<p>Here the code for higlighting the element in selenium:\nFirst create a class:</p>\n\n<pre><code>package com.demo.misc.function;\n\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\n\npublic class Miscellaneous \n{\n    public static void highLight(WebElement element, WebDriver driver)\n    {\n        for (int i = 0; i &lt;2; i++) \n        {\n            try {\n                JavascriptExecutor js = (JavascriptExecutor) driver;\n                js.executeScript(\"arguments[0].setAttribute('style', arguments[1]);\", element, \"color: black; border: 4px solid red;\");\n                Thread.sleep(500);\n                js.executeScript(\"arguments[0].setAttribute('style', arguments[1]);\", element, \"\");\n                Thread.sleep(500);\n            } catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>And then you can call this by :</p>\n\n<pre><code>driver.get(baseUrl);\n            Thread.sleep(2000);\n            WebElement lnkREGISTER = driver.findElement(By.linkText(\"REGISTER\"));\n            Miscellaneous.highLight(lnkREGISTER, driver);\n            lnkREGISTER.click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13073918,"reputation":1,"user_id":9446684,"display_name":"debanga medhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520266936,"creation_date":1520265396,"answer_id":49114455,"question_id":10660291,"body_markdown":"This worked for me. Have improved upon the code submitted earlier on this thread.\r\n\t\r\n    public static WebDriver HighlightElement(WebDriver driver, WebElement element){\t\r\n\t\tif (driver instanceof JavascriptExecutor) {\r\n\t        ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].style.border=&#39;3px solid red&#39;&quot;, element);\r\n\t    }\r\n\t\treturn driver;\r\n\t}\r\n    public static WebDriver UnhighlightElement(WebDriver driver, WebElement element){\t\r\n\t    if (driver instanceof JavascriptExecutor) {    \r\n\t        ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].style.border=&#39;&#39;&quot;, element);\r\n        }\r\n\t\treturn driver;\t\r\n\t}\r\n\t\r\nCall these two functions once to highlight and once to unhighlight","title":"Highlight elements in WebDriver during runtime","body":"<p>This worked for me. Have improved upon the code submitted earlier on this thread.</p>\n\n<pre><code>public static WebDriver HighlightElement(WebDriver driver, WebElement element){ \n    if (driver instanceof JavascriptExecutor) {\n        ((JavascriptExecutor)driver).executeScript(\"arguments[0].style.border='3px solid red'\", element);\n    }\n    return driver;\n}\npublic static WebDriver UnhighlightElement(WebDriver driver, WebElement element){   \n    if (driver instanceof JavascriptExecutor) {    \n        ((JavascriptExecutor)driver).executeScript(\"arguments[0].style.border=''\", element);\n    }\n    return driver;  \n}\n</code></pre>\n\n<p>Call these two functions once to highlight and once to unhighlight</p>\n"},{"tags":[],"owner":{"account_id":6784553,"reputation":21,"user_id":5223777,"display_name":"Lubomir Gospodinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583408054,"creation_date":1583408054,"answer_id":60544473,"question_id":10660291,"body_markdown":"I am using ExtentReport as a report tool and I am adding images in the failed test steps as a base64 format, which allows me to display them right after the text in the output report. When I am taking screenshots and want to highlight element(s) in order to be more visible in the screenshot I am using the following method to highlight -&gt; screenshot -&gt; un-highlight.\r\n\r\n    private void highlightElement(WebElement elemToHighlight) {\r\n        if (_driver instanceof JavascriptExecutor) {\r\n            ((JavascriptExecutor) _driver).executeScript(&quot;arguments[0].style.border=&#39;3px solid red&#39;&quot;, elem);\r\n        }\r\n    }\r\n\r\n\r\n    public String addScreenshotToHTML(WebElement... elmsToHighlight) {\r\n        String result;\r\n        List&lt;String&gt; initStyle = new ArrayList&lt;&gt;();\r\n        if (elmsToHighlight.length &gt; 0) {\r\n            for (WebElement elem : elmsToHighlight) {\r\n                initStyle.add(elem.getCssValue(&quot;border&quot;));\r\n                highlightElement(elem);\r\n            }\r\n        }\r\n        String screenshot = ((TakesScreenshot) _driver).getScreenshotAs(OutputType.BASE64);\r\n        // NOTE: add the &lt;img&gt; tag content between the &lt;a&gt; tags with the Base64 image\r\n        // &lt;a href=&#39;&quot; + filePath + &quot;&#39; target=&#39;_blank&#39;&gt;&lt;/a&gt;\r\n        result = &quot;&lt;img onclick=&#39;(function(){var image=new Image();image.src=\\&quot;data:image/png;base64,&quot; + screenshot\r\n                + &quot;\\&quot;;var w=window.open(\\&quot;\\&quot;);w.document.write(image.outerHTML);})()&#39; style=&#39;width:400px; cursor:pointer;&#39; src=&#39;data:image/png;base64,&quot;\r\n                + screenshot + &quot;&#39;&gt;&quot;;\r\n        if (elmsToHighlight.length &gt; 0) {\r\n            for (WebElement elem : elmsToHighlight) {\r\n                jsExec().executeScript(&quot;arguments[0].style.border=&#39;&quot; + initStyle.get(0) + &quot;&#39;&quot;, elem);\r\n                initStyle.remove(0);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n\r\nHope that helps","title":"Highlight elements in WebDriver during runtime","body":"<p>I am using ExtentReport as a report tool and I am adding images in the failed test steps as a base64 format, which allows me to display them right after the text in the output report. When I am taking screenshots and want to highlight element(s) in order to be more visible in the screenshot I am using the following method to highlight -> screenshot -> un-highlight.</p>\n\n<pre><code>private void highlightElement(WebElement elemToHighlight) {\n    if (_driver instanceof JavascriptExecutor) {\n        ((JavascriptExecutor) _driver).executeScript(\"arguments[0].style.border='3px solid red'\", elem);\n    }\n}\n\n\npublic String addScreenshotToHTML(WebElement... elmsToHighlight) {\n    String result;\n    List&lt;String&gt; initStyle = new ArrayList&lt;&gt;();\n    if (elmsToHighlight.length &gt; 0) {\n        for (WebElement elem : elmsToHighlight) {\n            initStyle.add(elem.getCssValue(\"border\"));\n            highlightElement(elem);\n        }\n    }\n    String screenshot = ((TakesScreenshot) _driver).getScreenshotAs(OutputType.BASE64);\n    // NOTE: add the &lt;img&gt; tag content between the &lt;a&gt; tags with the Base64 image\n    // &lt;a href='\" + filePath + \"' target='_blank'&gt;&lt;/a&gt;\n    result = \"&lt;img onclick='(function(){var image=new Image();image.src=\\\"data:image/png;base64,\" + screenshot\n            + \"\\\";var w=window.open(\\\"\\\");w.document.write(image.outerHTML);})()' style='width:400px; cursor:pointer;' src='data:image/png;base64,\"\n            + screenshot + \"'&gt;\";\n    if (elmsToHighlight.length &gt; 0) {\n        for (WebElement elem : elmsToHighlight) {\n            jsExec().executeScript(\"arguments[0].style.border='\" + initStyle.get(0) + \"'\", elem);\n            initStyle.remove(0);\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>Hope that helps</p>\n"},{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593670194,"creation_date":1593615454,"answer_id":62679672,"question_id":10660291,"body_markdown":"For highlighting the element you can just use this:\r\n\r\n    JavascriptExecutor js =(JavascriptExecutor)driver;\r\n    js.executeScript(&quot;arguments[0].style.border=&#39;5px dotted yellow&#39;&quot;, element);\r\n\r\n","title":"Highlight elements in WebDriver during runtime","body":"<p>For highlighting the element you can just use this:</p>\n<pre><code>JavascriptExecutor js =(JavascriptExecutor)driver;\njs.executeScript(&quot;arguments[0].style.border='5px dotted yellow'&quot;, element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11474264,"reputation":375,"user_id":8410182,"display_name":"Ahtisham Ilyas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657736182,"creation_date":1657736182,"answer_id":72970864,"question_id":10660291,"body_markdown":"I have Created this method for my testProject in java, First it get the WebElement and then it will check if the element is displayed and if element is displayed, it will highlight that element and then take screenshot and save it.\r\n\r\nFor source code : [How to Highlight element in ScreenShot][1]\r\n\r\n    public void getValidationMessage(){\r\n        private By errorMessage = By.id(&quot;slfErrorAlert&quot;);\r\n        WebElement validationMessage = driver.findElement(errorMessage);\r\n        Boolean isElementDisplayed = validationMessage.isDisplayed();\r\n        if (isElementDisplayed){\r\n            JavascriptExecutor javascriptExecutor = (JavascriptExecutor) driver;\r\n            javascriptExecutor.executeScript(&quot;arguments[0].style.border=&#39;2px solid red&#39;&quot;, validationMessage);\r\n            var getScreenShot = (TakesScreenshot) driver;\r\n            File screenShot = getScreenShot.getScreenshotAs(OutputType.FILE);\r\n            try {\r\n                Files.move(screenShot, new File(&quot;src/test/resources/screenShots/validationError.png&quot;));\r\n            } catch (IOException e) {\r\n                e.getStackTrace();\r\n                e.getMessage();\r\n            }\r\n        }\r\n        else{\r\n            System.out.println(&quot;Element Not Displayed&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/0kakarot0/HighLightElementInScreenShot.git","title":"Highlight elements in WebDriver during runtime","body":"<p>I have Created this method for my testProject in java, First it get the WebElement and then it will check if the element is displayed and if element is displayed, it will highlight that element and then take screenshot and save it.</p>\n<p>For source code : <a href=\"https://github.com/0kakarot0/HighLightElementInScreenShot.git\" rel=\"nofollow noreferrer\">How to Highlight element in ScreenShot</a></p>\n<pre><code>public void getValidationMessage(){\n    private By errorMessage = By.id(&quot;slfErrorAlert&quot;);\n    WebElement validationMessage = driver.findElement(errorMessage);\n    Boolean isElementDisplayed = validationMessage.isDisplayed();\n    if (isElementDisplayed){\n        JavascriptExecutor javascriptExecutor = (JavascriptExecutor) driver;\n        javascriptExecutor.executeScript(&quot;arguments[0].style.border='2px solid red'&quot;, validationMessage);\n        var getScreenShot = (TakesScreenshot) driver;\n        File screenShot = getScreenShot.getScreenshotAs(OutputType.FILE);\n        try {\n            Files.move(screenShot, new File(&quot;src/test/resources/screenShots/validationError.png&quot;));\n        } catch (IOException e) {\n            e.getStackTrace();\n            e.getMessage();\n        }\n    }\n    else{\n        System.out.println(&quot;Element Not Displayed&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":890975,"reputation":405,"user_id":929258,"accept_rate":80,"display_name":"user929258"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83976,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":10660734,"answer_count":11,"score":25,"last_activity_date":1657736182,"creation_date":1337378700,"question_id":10660291,"body_markdown":"Can someone please help!\r\n\r\nHow can I highlight all web elements in following class during test execution in WebDriver?\r\nWith Selenium RC, it was quite straight forward but with WebDriver I am struggling.\r\n\r\nI would be grateful if someone can please provide me with some code that I can try, also where would that code fit into the class below — sorry my Java skills aren&#39;t all that great.\r\n    \r\n\r\n\r\n    package hisScripts;\r\n    import java.util.concurrent.TimeUnit;\r\n    import org.testng.annotations.*;\r\n    import org.testng.Assert;\r\n    import static org.testng.Assert.fail;\r\n    import org.openqa.selenium.*;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.ie.InternetExplorerDriver;\r\n    import org.openqa.selenium.interactions.Actions;\r\n    \r\n    \r\n    public class R_LHAS_Only_Account_Verification extends HIS_Login_Logout{\r\n        public WebDriver driver;\r\n        public String baseUrl;\r\n        public int exeMonth;\r\n        private StringBuffer verificationErrors = new StringBuffer();\r\n        \r\n        @BeforeClass\r\n        @Parameters ({&quot;browser1&quot;, &quot;url&quot;, &quot;executionMonth&quot;})\r\n        public void setUp(String browser1, String url, int executionMonth) throws Exception {\r\n            exeMonth = executionMonth;\r\n            baseUrl = url;\r\n            \r\n            if (browser1.equals(&quot;FF&quot;)) {\r\n                driver = new FirefoxDriver();\r\n            } else if (browser1.equals(&quot;IE&quot;)){\r\n                driver = new InternetExplorerDriver();\r\n            }       \r\n            driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);    \r\n        }       \r\n    \r\n        @Test\r\n        public void R_LHAS_Reports() throws Exception {\r\n            R_LHAS_Only_Login(baseUrl, driver);\r\n            Assert.assertEquals(&quot;Kingston upon Thames (RB)&quot;, driver.findElement(By.xpath(&quot;//html/body/div[9]/div/div[3]/div/div/div&quot;)).getText());\r\n            Assert.assertEquals(&quot;Average price&quot;, driver.findElement(By.xpath(&quot;//table[@id=&#39;tableId&#39;]/tbody/tr/td&quot;)).getText());\r\n            Assert.assertEquals(&quot;% price change&quot;, driver.findElement(By.xpath(&quot;//table[@id=&#39;tableId&#39;]/tbody/tr[2]/td&quot;)).getText());\r\n            Assert.assertEquals(&quot;Lower quartile price&quot;, driver.findElement(By.xpath(&quot;//table[@id=&#39;tableId&#39;]/tbody/tr[3]/td&quot;)).getText());\r\n            Assert.assertEquals(&quot;Time to sell (weeks)&quot;, driver.findElement(By.xpath(&quot;//table[@id=&#39;tableId&#39;]/tbody/tr[4]/td&quot;)).getText());\r\n            Assert.assertEquals(&quot;% asking price achieved&quot;, driver.findElement(By.xpath(&quot;//table[@id=&#39;tableId&#39;]/tbody/tr[5]/td&quot;)).getText());\r\n            Assert.assertEquals(&quot;House price to earnings ratio&quot;, driver.findElement(By.xpath(&quot;//table[@id=&#39;tableId&#39;]/tbody/tr[6]/td&quot;)).getText());\r\n            Assert.assertEquals(&quot;Cost of buying outright - LQ 2 bed &#163;pw&quot;, driver.findElement(By.xpath(&quot;//table[@id=&#39;tableId&#39;]/tbody/tr[7]/td&quot;)).getText());\r\n            Assert.assertEquals(&quot;Private rent 2 bed &#163;pw&quot;, driver.findElement(By.xpath(&quot;//table[@id=&#39;tableId&#39;]/tbody/tr[8]/td&quot;)).getText());\r\n            Assert.assertEquals(&quot;80% private rent 2 bed &#163;pw&quot;, driver.findElement(By.xpath(&quot;//table[@id=&#39;tableId&#39;]/tbody/tr[9]/td&quot;)).getText());\r\n            Assert.assertEquals(&quot;Social rent 2 bed &#163;pw&quot;, driver.findElement(By.xpath(&quot;//table[@id=&#39;tableId&#39;]/tbody/tr[10]/td&quot;)).getText());                 \r\n            R_LHAS_Only_Logout(baseUrl,driver);\r\n        }\r\n            \r\n        @AfterClass(alwaysRun=true)\r\n        public void tearDown() throws Exception {\r\n            driver.quit();\r\n            String verificationErrorString = verificationErrors.toString();\r\n            if (! &quot;&quot;.equals(verificationErrorString)) {\r\n                fail(verificationErrorString);\r\n            }\r\n        }   \r\n    }","title":"Highlight elements in WebDriver during runtime","body":"<p>Can someone please help!</p>\n\n<p>How can I highlight all web elements in following class during test execution in WebDriver?\nWith Selenium RC, it was quite straight forward but with WebDriver I am struggling.</p>\n\n<p>I would be grateful if someone can please provide me with some code that I can try, also where would that code fit into the class below — sorry my Java skills aren't all that great.</p>\n\n<pre><code>package hisScripts;\nimport java.util.concurrent.TimeUnit;\nimport org.testng.annotations.*;\nimport org.testng.Assert;\nimport static org.testng.Assert.fail;\nimport org.openqa.selenium.*;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.ie.InternetExplorerDriver;\nimport org.openqa.selenium.interactions.Actions;\n\n\npublic class R_LHAS_Only_Account_Verification extends HIS_Login_Logout{\n    public WebDriver driver;\n    public String baseUrl;\n    public int exeMonth;\n    private StringBuffer verificationErrors = new StringBuffer();\n\n    @BeforeClass\n    @Parameters ({\"browser1\", \"url\", \"executionMonth\"})\n    public void setUp(String browser1, String url, int executionMonth) throws Exception {\n        exeMonth = executionMonth;\n        baseUrl = url;\n\n        if (browser1.equals(\"FF\")) {\n            driver = new FirefoxDriver();\n        } else if (browser1.equals(\"IE\")){\n            driver = new InternetExplorerDriver();\n        }       \n        driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS);    \n    }       \n\n    @Test\n    public void R_LHAS_Reports() throws Exception {\n        R_LHAS_Only_Login(baseUrl, driver);\n        Assert.assertEquals(\"Kingston upon Thames (RB)\", driver.findElement(By.xpath(\"//html/body/div[9]/div/div[3]/div/div/div\")).getText());\n        Assert.assertEquals(\"Average price\", driver.findElement(By.xpath(\"//table[@id='tableId']/tbody/tr/td\")).getText());\n        Assert.assertEquals(\"% price change\", driver.findElement(By.xpath(\"//table[@id='tableId']/tbody/tr[2]/td\")).getText());\n        Assert.assertEquals(\"Lower quartile price\", driver.findElement(By.xpath(\"//table[@id='tableId']/tbody/tr[3]/td\")).getText());\n        Assert.assertEquals(\"Time to sell (weeks)\", driver.findElement(By.xpath(\"//table[@id='tableId']/tbody/tr[4]/td\")).getText());\n        Assert.assertEquals(\"% asking price achieved\", driver.findElement(By.xpath(\"//table[@id='tableId']/tbody/tr[5]/td\")).getText());\n        Assert.assertEquals(\"House price to earnings ratio\", driver.findElement(By.xpath(\"//table[@id='tableId']/tbody/tr[6]/td\")).getText());\n        Assert.assertEquals(\"Cost of buying outright - LQ 2 bed £pw\", driver.findElement(By.xpath(\"//table[@id='tableId']/tbody/tr[7]/td\")).getText());\n        Assert.assertEquals(\"Private rent 2 bed £pw\", driver.findElement(By.xpath(\"//table[@id='tableId']/tbody/tr[8]/td\")).getText());\n        Assert.assertEquals(\"80% private rent 2 bed £pw\", driver.findElement(By.xpath(\"//table[@id='tableId']/tbody/tr[9]/td\")).getText());\n        Assert.assertEquals(\"Social rent 2 bed £pw\", driver.findElement(By.xpath(\"//table[@id='tableId']/tbody/tr[10]/td\")).getText());                 \n        R_LHAS_Only_Logout(baseUrl,driver);\n    }\n\n    @AfterClass(alwaysRun=true)\n    public void tearDown() throws Exception {\n        driver.quit();\n        String verificationErrorString = verificationErrors.toString();\n        if (! \"\".equals(verificationErrorString)) {\n            fail(verificationErrorString);\n        }\n    }   \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","java-annotations"],"answers":[{"tags":[],"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657736090,"creation_date":1657736090,"answer_id":72970844,"question_id":72970394,"body_markdown":"There is no need to annotate your `@EnableWebSecurity` class with `@Configuration` since [this][1] commit.\r\n\r\nAs [GitHub issue][2] says,\r\n&gt; This removes the need to state @Configuration when using @Enable* annotations.\r\n\r\nSo, seems like developers had removed the requirement to use both `@Configuration` and `@EnableWebSecurity`, but forgot to reflect this in JavaDoc. \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/commit/3171cc4364d953d880e4f5ca0f696e0af383d7b8#diff-80d0bdc1f06d2c405ab60d14c26a7c9039c1f8c760246e3b23594dada42c3ee8\r\n  [2]: https://github.com/spring-projects/spring-security/issues/3014","title":"why annotating with @Configuration and @EnableWebSecurity at the same time","body":"<p>There is no need to annotate your <code>@EnableWebSecurity</code> class with <code>@Configuration</code> since <a href=\"https://github.com/spring-projects/spring-security/commit/3171cc4364d953d880e4f5ca0f696e0af383d7b8#diff-80d0bdc1f06d2c405ab60d14c26a7c9039c1f8c760246e3b23594dada42c3ee8\" rel=\"nofollow noreferrer\">this</a> commit.</p>\n<p>As <a href=\"https://github.com/spring-projects/spring-security/issues/3014\" rel=\"nofollow noreferrer\">GitHub issue</a> says,</p>\n<blockquote>\n<p>This removes the need to state @Configuration when using @Enable* annotations.</p>\n</blockquote>\n<p>So, seems like developers had removed the requirement to use both <code>@Configuration</code> and <code>@EnableWebSecurity</code>, but forgot to reflect this in JavaDoc.</p>\n"}],"owner":{"account_id":16363184,"reputation":326,"user_id":11818269,"display_name":"mouad36"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72970844,"answer_count":1,"score":0,"last_activity_date":1657736090,"creation_date":1657733519,"question_id":72970394,"body_markdown":"I&#39;m reading Spring in Action 5th Edition. in part 4 (securing spring), he wanted to overide the security autoconfigured by spring boot... so he created a config class called it SecurityConfig as follow:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n}\r\n```\r\n\r\nalso, in the [Javadoc of @EnableWebSecurity][1] , they do the same thing\r\n\r\nand they also say:\r\n\r\n&gt; Add this annotation to an @Configuration class to have the Spring Security configuration defined in any WebSecurityConfigurer or more likely by extending the WebSecurityConfigurerAdapter base class and overriding individual methods\r\n\r\n\r\nbut @EnableWebSecurity is already a @Configuration. here is the code that confirms this:\r\n\r\n```\r\n@Retention(RUNTIME)\r\n@Target(TYPE)\r\n@Documented\r\n@Import({WebSecurityConfiguration.class,org.springframework.security.config.annotation.web.configuration.SpringWebMvcImportSelector.class,org.springframework.security.config.annotation.web.configuration.OAuth2ImportSelector.class,org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.class})\r\n@EnableGlobalAuthentication\r\n@Configuration\r\npublic @interface EnableWebSecurity\r\n```\r\n\r\nmy question is why we should annotate a class with both @Configuration and @EnableWebSecurity instead of just @EnableWebSecurity?\r\n\r\nthank you :)\r\n\r\n  [1]: https://javadoc.io/static/org.springframework.security/spring-security-config/5.7.2/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html","title":"why annotating with @Configuration and @EnableWebSecurity at the same time","body":"<p>I'm reading Spring in Action 5th Edition. in part 4 (securing spring), he wanted to overide the security autoconfigured by spring boot... so he created a config class called it SecurityConfig as follow:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n}\n</code></pre>\n<p>also, in the <a href=\"https://javadoc.io/static/org.springframework.security/spring-security-config/5.7.2/org/springframework/security/config/annotation/web/configuration/EnableWebSecurity.html\" rel=\"nofollow noreferrer\">Javadoc of @EnableWebSecurity</a> , they do the same thing</p>\n<p>and they also say:</p>\n<blockquote>\n<p>Add this annotation to an @Configuration class to have the Spring Security configuration defined in any WebSecurityConfigurer or more likely by extending the WebSecurityConfigurerAdapter base class and overriding individual methods</p>\n</blockquote>\n<p>but @EnableWebSecurity is already a @Configuration. here is the code that confirms this:</p>\n<pre><code>@Retention(RUNTIME)\n@Target(TYPE)\n@Documented\n@Import({WebSecurityConfiguration.class,org.springframework.security.config.annotation.web.configuration.SpringWebMvcImportSelector.class,org.springframework.security.config.annotation.web.configuration.OAuth2ImportSelector.class,org.springframework.security.config.annotation.web.configuration.HttpSecurityConfiguration.class})\n@EnableGlobalAuthentication\n@Configuration\npublic @interface EnableWebSecurity\n</code></pre>\n<p>my question is why we should annotate a class with both @Configuration and @EnableWebSecurity instead of just @EnableWebSecurity?</p>\n<p>thank you :)</p>\n"},{"tags":["java","testing","mocking","quarkus"],"answers":[{"tags":[],"owner":{"account_id":14578223,"reputation":1,"user_id":19544079,"display_name":"danilosilvap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657736015,"creation_date":1657736015,"answer_id":72970828,"question_id":72937641,"body_markdown":"Beans annotated with the scope `@Singleton` or `@Dependent` cannot be mocked with QuarkusMock, as per the [documentation][1] itself, as they are &quot;pseudo-scoped&quot;.\r\n\r\nA `@RequestScoped` should be useful for your need, right?\r\n\r\n\r\n  [1]: https://quarkus.io/blog/mocking/","title":"Mocking a dependent bean with QuarkusMock?","body":"<p>Beans annotated with the scope <code>@Singleton</code> or <code>@Dependent</code> cannot be mocked with QuarkusMock, as per the <a href=\"https://quarkus.io/blog/mocking/\" rel=\"nofollow noreferrer\">documentation</a> itself, as they are &quot;pseudo-scoped&quot;.</p>\n<p>A <code>@RequestScoped</code> should be useful for your need, right?</p>\n"}],"owner":{"account_id":3580881,"reputation":5050,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657736015,"creation_date":1657537952,"question_id":72937641,"body_markdown":"I have a `@QuarkusTest` in which I want to test a service (lets call it `ServiceA`) that I inject.\r\nThis service has dependency (lets call it `EventX` which is annotated with `@Dependent` (javax.enterprise.event.Event)\r\nAs experienced and also stated in the documentation, this is not supported by `@QuarkusMock`. (Bonus question: Why is that exactly?)\r\n\r\nSo I tried the following, despite this is not a fine way to go, as I alter the actual state of a bean:\r\n\r\n    @QuarkusTest\r\n    class Test{\r\n      @Inject\r\n      ServiceA serviceA;\r\n\r\n      @Inject\r\n      Event&lt;X&gt; eventX;\r\n\r\n      @BeforeEach\r\n      void setup(){\r\n        serviceA.eventX = spy(eventX);\r\n        doReturn(true).when(eventX).doSomething();\r\n      }\r\n    }\r\n\r\nWhen I now run a test on `serviceA` eventX seems to get overriden by the original bean. I assume this is because of the lazy cdi.\r\n\r\nIs there a way, I can mock or spy a `@Dependent` bean in a clean way, without messing with the context to much?","title":"Mocking a dependent bean with QuarkusMock?","body":"<p>I have a <code>@QuarkusTest</code> in which I want to test a service (lets call it <code>ServiceA</code>) that I inject.\nThis service has dependency (lets call it <code>EventX</code> which is annotated with <code>@Dependent</code> (javax.enterprise.event.Event)\nAs experienced and also stated in the documentation, this is not supported by <code>@QuarkusMock</code>. (Bonus question: Why is that exactly?)</p>\n<p>So I tried the following, despite this is not a fine way to go, as I alter the actual state of a bean:</p>\n<pre><code>@QuarkusTest\nclass Test{\n  @Inject\n  ServiceA serviceA;\n\n  @Inject\n  Event&lt;X&gt; eventX;\n\n  @BeforeEach\n  void setup(){\n    serviceA.eventX = spy(eventX);\n    doReturn(true).when(eventX).doSomething();\n  }\n}\n</code></pre>\n<p>When I now run a test on <code>serviceA</code> eventX seems to get overriden by the original bean. I assume this is because of the lazy cdi.</p>\n<p>Is there a way, I can mock or spy a <code>@Dependent</code> bean in a clean way, without messing with the context to much?</p>\n"},{"tags":["java","class","jar","project-structure","text-search"],"comments":[{"owner":{"account_id":1750515,"reputation":6073,"user_id":1599699,"accept_rate":80,"display_name":"Andrew"},"score":1,"creation_date":1486560436,"post_id":1342894,"comment_id":71397318,"body_markdown":"I don&#39;t know about any of these answers, but what works for me if you see the class used in a working project with numerous JAR files is to put your cursor on the class name, right click on it, and click Open Declaration (F3); then it should list the JAR file at the top of the new tab.","body":"I don&#39;t know about any of these answers, but what works for me if you see the class used in a working project with numerous JAR files is to put your cursor on the class name, right click on it, and click Open Declaration (F3); then it should list the JAR file at the top of the new tab."}],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":3,"up_vote_count":72,"is_accepted":true,"score":69,"last_activity_date":1251397920,"creation_date":1251397920,"answer_id":1342959,"question_id":1342894,"body_markdown":"Eclipse can do it, just create a (temporary) project and put your libraries on the projects classpath. Then you can easily find the classes.\r\n\r\nAnother tool, that comes to my mind, is Java Decompiler. It can open a lot of jars at once and helps to find classes as well. ","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>Eclipse can do it, just create a (temporary) project and put your libraries on the projects classpath. Then you can easily find the classes.</p>\n\n<p>Another tool, that comes to my mind, is Java Decompiler. It can open a lot of jars at once and helps to find classes as well. </p>\n"},{"tags":[],"owner":{"account_id":48192,"reputation":10791,"user_id":143069,"display_name":"ILMTitan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1251398075,"creation_date":1251398075,"answer_id":1342987,"question_id":1342894,"body_markdown":"I didn&#39;t know of a utility to do it when I came across this problem, so I wrote the following:\r\n\r\n        \r\n    public class Main {\r\n    \t\r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \tprivate static String CLASS_FILE_TO_FIND =\r\n    \t\t\t&quot;class.to.find.Here&quot;;\r\n    \tprivate static List&lt;String&gt; foundIn = new LinkedList&lt;String&gt;();\r\n    \t\r\n    \t/**\r\n    \t * @param args the first argument is the path of the file to search in. The second may be the\r\n    \t *        class file to find.\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tif (!CLASS_FILE_TO_FIND.endsWith(&quot;.class&quot;)) {\r\n    \t\t\tCLASS_FILE_TO_FIND = CLASS_FILE_TO_FIND.replace(&#39;.&#39;, &#39;/&#39;) + &quot;.class&quot;;\r\n    \t\t}\r\n    \t\tFile start = new File(args[0]);\r\n    \t\tif (args.length &gt; 1) {\r\n    \t\t\tCLASS_FILE_TO_FIND = args[1];\r\n    \t\t}\r\n    \t\tsearch(start);\r\n    \t\tSystem.out.println(&quot;------RESULTS------&quot;);\r\n    \t\tfor (String s : foundIn) {\r\n    \t\t\tSystem.out.println(s);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static void search(File start) {\r\n    \t\ttry {\r\n    \t\t\tfinal FileFilter filter = new FileFilter() {\r\n    \t\t\t\t\r\n    \t\t\t\tpublic boolean accept(File pathname) {\r\n    \t\t\t\t\treturn pathname.getName().endsWith(&quot;.jar&quot;) || pathname.isDirectory();\r\n    \t\t\t\t}\r\n    \t\t\t};\r\n    \t\t\tfor (File f : start.listFiles(filter)) {\r\n    \t\t\t\tif (f.isDirectory()) {\r\n    \t\t\t\t\tsearch(f);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tsearchJar(f);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.err.println(&quot;Error at: &quot; + start.getPath() + &quot; &quot; + e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static void searchJar(File f) {\r\n    \t\ttry {\r\n    \t\t\tSystem.out.println(&quot;Searching: &quot; + f.getPath());\r\n    \t\t\tJarFile jar = new JarFile(f);\r\n    \t\t\tZipEntry e = jar.getEntry(CLASS_FILE_TO_FIND);\r\n    \t\t\tif (e == null) {\r\n    \t\t\t\te = jar.getJarEntry(CLASS_FILE_TO_FIND);\r\n    \t\t\t\tif (e != null) {\r\n    \t\t\t\t\tfoundIn.add(f.getPath());\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tfoundIn.add(f.getPath());\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>I didn't know of a utility to do it when I came across this problem, so I wrote the following:</p>\n\n<pre><code>public class Main {\n\n    /**\n     * \n     */\n    private static String CLASS_FILE_TO_FIND =\n            \"class.to.find.Here\";\n    private static List&lt;String&gt; foundIn = new LinkedList&lt;String&gt;();\n\n    /**\n     * @param args the first argument is the path of the file to search in. The second may be the\n     *        class file to find.\n     */\n    public static void main(String[] args) {\n        if (!CLASS_FILE_TO_FIND.endsWith(\".class\")) {\n            CLASS_FILE_TO_FIND = CLASS_FILE_TO_FIND.replace('.', '/') + \".class\";\n        }\n        File start = new File(args[0]);\n        if (args.length &gt; 1) {\n            CLASS_FILE_TO_FIND = args[1];\n        }\n        search(start);\n        System.out.println(\"------RESULTS------\");\n        for (String s : foundIn) {\n            System.out.println(s);\n        }\n    }\n\n    private static void search(File start) {\n        try {\n            final FileFilter filter = new FileFilter() {\n\n                public boolean accept(File pathname) {\n                    return pathname.getName().endsWith(\".jar\") || pathname.isDirectory();\n                }\n            };\n            for (File f : start.listFiles(filter)) {\n                if (f.isDirectory()) {\n                    search(f);\n                } else {\n                    searchJar(f);\n                }\n            }\n        } catch (Exception e) {\n            System.err.println(\"Error at: \" + start.getPath() + \" \" + e.getMessage());\n        }\n    }\n\n    private static void searchJar(File f) {\n        try {\n            System.out.println(\"Searching: \" + f.getPath());\n            JarFile jar = new JarFile(f);\n            ZipEntry e = jar.getEntry(CLASS_FILE_TO_FIND);\n            if (e == null) {\n                e = jar.getJarEntry(CLASS_FILE_TO_FIND);\n                if (e != null) {\n                    foundIn.add(f.getPath());\n                }\n            } else {\n                foundIn.add(f.getPath());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"down_vote_count":1,"up_vote_count":510,"is_accepted":false,"score":509,"last_activity_date":1657735379,"creation_date":1251398397,"answer_id":1343026,"question_id":1342894,"body_markdown":"# Unix\r\n\r\nOn Linux, other Unix variants, Git Bash on Windows, or Cygwin, use the `jar` (or `unzip -v`), `grep`, and `find` commands.\r\n\r\nThe following lists all class files that match a given name:\r\n\r\n&lt;!-- language: bash --&gt;\r\n\r\n    for i in *.jar; do jar -tvf &quot;$i&quot; | grep -Hsi ClassName &amp;&amp; echo &quot;$i&quot;; done\r\n\r\nIf you know the entire list of Java archives you want to search, you could place them all in the same directory using (symbolic) links.\r\n\r\nOr use `find` (case sensitively) to find the JAR file that contains a given class name:\r\n\r\n&lt;!-- language: bash --&gt;\r\n\r\n    find path/to/libs -name &#39;*.jar&#39; -exec grep -Hls ClassName {} \\;\r\n\r\nFor example, to find the name of the archive containing `IdentityHashingStrategy`:\r\n\r\n&lt;!-- language: bash --&gt;\r\n\r\n    $ find . -name &#39;*.jar&#39; -exec grep -Hsli IdentityHashingStrategy {} \\;\r\n    ./trove-3.0.3.jar\r\n\r\nIf the JAR could be *anywhere* in the system and the [`locate`][1] command is available:\r\n\r\n&lt;!-- language: bash --&gt;\r\n\r\n    for i in $(locate &quot;*.jar&quot;);\r\n      do echo &quot;$i&quot;; jar -tvf &quot;$i&quot; | grep -Hsi ClassName;\r\n    done\r\n\r\nA syntax variation:\r\n\r\n&lt;!-- language: bash --&gt;\r\n\r\n    find path/to/libs -name &#39;*.jar&#39; -print | \\\r\n      while read i; do jar -tvf &quot;$i&quot; | grep -Hsi ClassName &amp;&amp; echo &quot;$i&quot;; done \r\n\r\n# Windows\r\n\r\nOpen a [command prompt][2], change to the directory (or ancestor directory) containing the JAR files, then:\r\n\r\n    for /R %G in (*.jar) do @jar -tvf &quot;%G&quot; | find &quot;ClassName&quot; &gt; NUL &amp;&amp; echo %G\r\n\r\nHere&#39;s how it works:\r\n\r\n1. `for /R %G in (*.jar) do` - loop over all JAR files, recursively traversing directories; store the file name in `%G`.\r\n1. `@jar -tvf &quot;%G&quot; |` - run the Java Archive command to list all file names within the given archive, and write the results to standard output; the `@` symbol suppresses printing the command&#39;s invocation.\r\n1. `find &quot;ClassName&quot; &gt; NUL` - search standard input, piped from the output of the jar command, for the given class name; this will set `ERRORLEVEL` to 1 iff there&#39;s a match (otherwise 0).\r\n1. `&amp;&amp; echo %G` - iff `ERRORLEVEL` is non-zero, write the Java archive file name to standard output (the console).\r\n\r\n# Web\r\n\r\nUse a [search engine][3] that scans JAR files.\r\n\r\n\r\n  [1]: http://www.linfo.org/locate.html\r\n  [2]: https://conemu.github.io/\r\n  [3]: https://www.google.ca/search?q=JAR+search+engine\r\n","title":"Find a class somewhere inside dozens of JAR files?","body":"<h1>Unix</h1>\n<p>On Linux, other Unix variants, Git Bash on Windows, or Cygwin, use the <code>jar</code> (or <code>unzip -v</code>), <code>grep</code>, and <code>find</code> commands.</p>\n<p>The following lists all class files that match a given name:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>for i in *.jar; do jar -tvf &quot;$i&quot; | grep -Hsi ClassName &amp;&amp; echo &quot;$i&quot;; done\n</code></pre>\n<p>If you know the entire list of Java archives you want to search, you could place them all in the same directory using (symbolic) links.</p>\n<p>Or use <code>find</code> (case sensitively) to find the JAR file that contains a given class name:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>find path/to/libs -name '*.jar' -exec grep -Hls ClassName {} \\;\n</code></pre>\n<p>For example, to find the name of the archive containing <code>IdentityHashingStrategy</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ find . -name '*.jar' -exec grep -Hsli IdentityHashingStrategy {} \\;\n./trove-3.0.3.jar\n</code></pre>\n<p>If the JAR could be <em>anywhere</em> in the system and the <a href=\"http://www.linfo.org/locate.html\" rel=\"noreferrer\"><code>locate</code></a> command is available:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>for i in $(locate &quot;*.jar&quot;);\n  do echo &quot;$i&quot;; jar -tvf &quot;$i&quot; | grep -Hsi ClassName;\ndone\n</code></pre>\n<p>A syntax variation:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>find path/to/libs -name '*.jar' -print | \\\n  while read i; do jar -tvf &quot;$i&quot; | grep -Hsi ClassName &amp;&amp; echo &quot;$i&quot;; done \n</code></pre>\n<h1>Windows</h1>\n<p>Open a <a href=\"https://conemu.github.io/\" rel=\"noreferrer\">command prompt</a>, change to the directory (or ancestor directory) containing the JAR files, then:</p>\n<pre><code>for /R %G in (*.jar) do @jar -tvf &quot;%G&quot; | find &quot;ClassName&quot; &gt; NUL &amp;&amp; echo %G\n</code></pre>\n<p>Here's how it works:</p>\n<ol>\n<li><code>for /R %G in (*.jar) do</code> - loop over all JAR files, recursively traversing directories; store the file name in <code>%G</code>.</li>\n<li><code>@jar -tvf &quot;%G&quot; |</code> - run the Java Archive command to list all file names within the given archive, and write the results to standard output; the <code>@</code> symbol suppresses printing the command's invocation.</li>\n<li><code>find &quot;ClassName&quot; &gt; NUL</code> - search standard input, piped from the output of the jar command, for the given class name; this will set <code>ERRORLEVEL</code> to 1 iff there's a match (otherwise 0).</li>\n<li><code>&amp;&amp; echo %G</code> - iff <code>ERRORLEVEL</code> is non-zero, write the Java archive file name to standard output (the console).</li>\n</ol>\n<h1>Web</h1>\n<p>Use a <a href=\"https://www.google.ca/search?q=JAR+search+engine\" rel=\"noreferrer\">search engine</a> that scans JAR files.</p>\n"},{"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251398481,"creation_date":1251398481,"answer_id":1343039,"question_id":1342894,"body_markdown":"You can find a class in a directory full of jars with a bit of shell:\r\n\r\nLooking for class &quot;FooBar&quot;:\r\n\r\n    LIB_DIR=/some/dir/full/of/jarfiles\r\n    for jarfile in $(find $LIBDIR -name &quot;*.jar&quot;); do\r\n       echo &quot;--------$jarfile---------------&quot;\r\n       jar -tvf $jarfile | grep FooBar\r\n    done\r\n\r\n","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>You can find a class in a directory full of jars with a bit of shell:</p>\n\n<p>Looking for class \"FooBar\":</p>\n\n<pre><code>LIB_DIR=/some/dir/full/of/jarfiles\nfor jarfile in $(find $LIBDIR -name \"*.jar\"); do\n   echo \"--------$jarfile---------------\"\n   jar -tvf $jarfile | grep FooBar\ndone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":46225,"reputation":10889,"user_id":136476,"accept_rate":66,"display_name":"Wilfred Springer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251398572,"creation_date":1251398572,"answer_id":1343049,"question_id":1342894,"body_markdown":"Check JBoss [Tattletale][1]; although I&#39;ve never used it personally, this seems to be the tool you need.\r\n\r\n\r\n  [1]: http://www.jboss.org/tattletale","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>Check JBoss <a href=\"http://www.jboss.org/tattletale\" rel=\"nofollow noreferrer\">Tattletale</a>; although I've never used it personally, this seems to be the tool you need.</p>\n"},{"tags":[],"owner":{"account_id":7108,"reputation":2456,"user_id":12204,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1252947190,"creation_date":1252947190,"answer_id":1422721,"question_id":1342894,"body_markdown":"One thing to add to all of the above: if you don&#39;t have the jar executable available (it comes with the JDK but not with the JRE), you can use unzip (or WinZip, or whatever) to accomplish the same thing.","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>One thing to add to all of the above: if you don't have the jar executable available (it comes with the JDK but not with the JRE), you can use unzip (or WinZip, or whatever) to accomplish the same thing.</p>\n"},{"tags":[],"owner":{"account_id":274352,"reputation":143,"user_id":566532,"display_name":"Pascal Lambert"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1297441894,"creation_date":1294383526,"answer_id":4623213,"question_id":1342894,"body_markdown":"    #!/bin/bash\r\n    \r\n    pattern=$1\r\n    shift\r\n    \r\n    for jar in $(find $* -type f -name &quot;*.jar&quot;)\r\n    do\r\n      match=`jar -tvf $jar | grep $pattern`\r\n      if [ ! -z &quot;$match&quot; ]\r\n      then\r\n        echo &quot;Found in: $jar&quot;\r\n        echo &quot;$match&quot;\r\n      fi\r\n    done\r\n\r\n","title":"Find a class somewhere inside dozens of JAR files?","body":"<pre><code>#!/bin/bash\n\npattern=$1\nshift\n\nfor jar in $(find $* -type f -name \"*.jar\")\ndo\n  match=`jar -tvf $jar | grep $pattern`\n  if [ ! -z \"$match\" ]\n  then\n    echo \"Found in: $jar\"\n    echo \"$match\"\n  fi\ndone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":119467,"reputation":1746,"user_id":311174,"accept_rate":69,"display_name":"user311174"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1300805004,"creation_date":1300805004,"answer_id":5393004,"question_id":1342894,"body_markdown":"    grep -l &quot;classname&quot; *.jar\r\ngives you the name of the jar\r\n\r\n    find . -name &quot;*.jar&quot; -exec jar -t -f {} \\; | grep  &quot;classname&quot;\r\ngives you the package of the class\r\n\r\n","title":"Find a class somewhere inside dozens of JAR files?","body":"<pre><code>grep -l \"classname\" *.jar\n</code></pre>\n\n<p>gives you the name of the jar</p>\n\n<pre><code>find . -name \"*.jar\" -exec jar -t -f {} \\; | grep  \"classname\"\n</code></pre>\n\n<p>gives you the package of the class</p>\n"},{"tags":[],"owner":{"account_id":350125,"reputation":51,"user_id":685820,"display_name":"Liubing"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1301578570,"creation_date":1301578570,"answer_id":5500737,"question_id":1342894,"body_markdown":"Just use FindClassInJars util, it&#39;s a simple swing program, but useful. You can check source code or download jar file at http://code.google.com/p/find-class-in-jars/","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>Just use FindClassInJars util, it's a simple swing program, but useful. You can check source code or download jar file at <a href=\"http://code.google.com/p/find-class-in-jars/\" rel=\"nofollow\">http://code.google.com/p/find-class-in-jars/</a></p>\n"},{"tags":[],"owner":{"account_id":152350,"reputation":5455,"user_id":366816,"accept_rate":18,"display_name":"ipolevoy"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1426742868,"creation_date":1309490392,"answer_id":6543245,"question_id":1342894,"body_markdown":"some time ago, I wrote a program just for that: https://github.com/javalite/jar-explorer","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>some time ago, I wrote a program just for that: <a href=\"https://github.com/javalite/jar-explorer\" rel=\"noreferrer\">https://github.com/javalite/jar-explorer</a></p>\n"},{"tags":[],"owner":{"account_id":33553,"reputation":30834,"user_id":93995,"accept_rate":81,"display_name":"George Armhold"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1333417614,"creation_date":1333417614,"answer_id":9986110,"question_id":1342894,"body_markdown":"To locate jars that match a given string:\r\n\r\n`find . -name \\*.jar -exec grep -l YOUR_CLASSNAME {} \\;`\r\n","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>To locate jars that match a given string:</p>\n\n<p><code>find . -name \\*.jar -exec grep -l YOUR_CLASSNAME {} \\;</code></p>\n"},{"tags":[],"owner":{"account_id":1510076,"reputation":81,"user_id":1412428,"display_name":"Dipankar Datta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337771374,"creation_date":1337771374,"answer_id":10718725,"question_id":1342894,"body_markdown":"shameless self promotion, but you can try a utility I wrote : http://sourceforge.net/projects/zfind\r\n\r\nIt supports most common archive/compressed files (jar, zip, tar, tar.gz etc) and unlike many other jar/zip finders, supports nested zip files (zip within zip, jar within jar etc) till unlimited depth.","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>shameless self promotion, but you can try a utility I wrote : <a href=\"http://sourceforge.net/projects/zfind\" rel=\"nofollow\">http://sourceforge.net/projects/zfind</a></p>\n\n<p>It supports most common archive/compressed files (jar, zip, tar, tar.gz etc) and unlike many other jar/zip finders, supports nested zip files (zip within zip, jar within jar etc) till unlimited depth.</p>\n"},{"tags":[],"owner":{"account_id":1089157,"reputation":135,"user_id":1084192,"display_name":"salzo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1344394673,"creation_date":1344394673,"answer_id":11857046,"question_id":1342894,"body_markdown":"There are also two different utilities called both &quot;JarScan&quot; that do exactly what you are asking for:\r\n[JarScan (inetfeedback.com)][1] and [JarScan (java.net)][2]\r\n\r\n  [1]: http://www.inetfeedback.com/jarscan/\r\n  [2]: http://java.net/projects/jarscan\r\n","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>There are also two different utilities called both \"JarScan\" that do exactly what you are asking for:\n<a href=\"http://www.inetfeedback.com/jarscan/\">JarScan (inetfeedback.com)</a> and <a href=\"http://java.net/projects/jarscan\">JarScan (java.net)</a></p>\n"},{"tags":[],"owner":{"account_id":467079,"reputation":817,"user_id":872206,"accept_rate":75,"display_name":"maccaroo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360888880,"creation_date":1360888880,"answer_id":14886651,"question_id":1342894,"body_markdown":"A bit late to the party, but nevertheless...\r\n\r\nI&#39;ve been using [JarBrowser](http://jarbrowser.sourceforge.net/) to find in which jar a particular class is present.  It&#39;s got an easy to use GUI which allows you to browse through the contents of all the jars in the selected path.","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>A bit late to the party, but nevertheless...</p>\n\n<p>I've been using <a href=\"http://jarbrowser.sourceforge.net/\" rel=\"nofollow\">JarBrowser</a> to find in which jar a particular class is present.  It's got an easy to use GUI which allows you to browse through the contents of all the jars in the selected path.</p>\n"},{"tags":[],"owner":{"account_id":501376,"reputation":2152,"user_id":1207523,"accept_rate":75,"display_name":"Lindlof"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362400710,"creation_date":1362400710,"answer_id":15201803,"question_id":1342894,"body_markdown":"Not sure why scripts here have never really worked for me. This works:\r\n\r\n    #!/bin/bash\r\n    for i in *.jar; do jar -tf &quot;$i&quot; | grep $1 | xargs -I{} echo -e &quot;$i : {}&quot; ; done","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>Not sure why scripts here have never really worked for me. This works:</p>\n\n<pre><code>#!/bin/bash\nfor i in *.jar; do jar -tf \"$i\" | grep $1 | xargs -I{} echo -e \"$i : {}\" ; done\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2740026,"reputation":752,"user_id":2361780,"accept_rate":71,"display_name":"Kartik Jajal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368007553,"creation_date":1368006674,"answer_id":16437555,"question_id":1342894,"body_markdown":"Following script will help you out\r\n\r\n&lt;!-- language: lang-sh --&gt;\r\n\r\n    for file in *.jar\r\n    do\r\n      # do something on &quot;$file&quot;\r\n      echo &quot;$file&quot;\r\n      /usr/local/jdk/bin/jar -tvf &quot;$file&quot; | grep &#39;$CLASSNAME&#39;\r\n    done\r\n\r\n","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>Following script will help you out</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>for file in *.jar\ndo\n  # do something on \"$file\"\n  echo \"$file\"\n  /usr/local/jdk/bin/jar -tvf \"$file\" | grep '$CLASSNAME'\ndone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":222159,"reputation":396,"user_id":480579,"display_name":"Jeff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374256859,"creation_date":1370622171,"answer_id":16988771,"question_id":1342894,"body_markdown":"To search all jar files in a given directory for a particular class, you can do this:\r\n\r\n    ls *.jar | xargs grep -F MyClass\r\n\r\nor, even simpler,\r\n    \r\n    grep -F MyClass *.jar\r\n\r\n\r\nOutput looks like this:\r\n\r\n    Binary file foo.jar matches\r\n\r\nIt&#39;s very fast because the -F option means search for Fixed string, so it doesn&#39;t load the the regex engine for each grep invocation.  If you need to, you can always omit the -F option and use regexes.","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>To search all jar files in a given directory for a particular class, you can do this:</p>\n\n<pre><code>ls *.jar | xargs grep -F MyClass\n</code></pre>\n\n<p>or, even simpler,</p>\n\n<pre><code>grep -F MyClass *.jar\n</code></pre>\n\n<p>Output looks like this:</p>\n\n<pre><code>Binary file foo.jar matches\n</code></pre>\n\n<p>It's very fast because the -F option means search for Fixed string, so it doesn't load the the regex engine for each grep invocation.  If you need to, you can always omit the -F option and use regexes.</p>\n"},{"tags":[],"owner":{"account_id":2659374,"reputation":1984,"user_id":2299414,"accept_rate":90,"display_name":"Filippo Lauria"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1374400452,"creation_date":1372341693,"answer_id":17345301,"question_id":1342894,"body_markdown":"A `bash script` solution using `unzip (zipinfo)`. Tested on `Ubuntu 12`.\r\n\r\n    #!/bin/bash\r\n    \r\n    # ./jarwalker.sh &quot;/a/Starting/Path&quot; &quot;aClassName&quot;\r\n    \r\n    IFS=$&#39;\\n&#39;\r\n    jars=( $( find -P &quot;$1&quot; -type f -name &quot;*.jar&quot; ) )\r\n    \r\n    for jar in ${jars[*]}\r\n    \tdo\r\n    \t\tclasses=( $( zipinfo -1 ${jar} | awk -F &#39;/&#39; &#39;{print $NF}&#39; | grep .class | awk -F &#39;.&#39; &#39;{print $1}&#39; ) )\r\n    \t\tif [ ${#classes[*]} -ge 0 ]; then\r\n    \t\t\tfor class in ${classes[*]}\r\n    \t\t\t\tdo\r\n    \t\t\t\t\tif [ ${class} == &quot;$2&quot; ]; then\r\n    \t\t\t\t\t\techo &quot;Found in ${jar}&quot;\r\n    \t\t\t\t\tfi\r\n    \t\t\t\tdone\r\n    \t\tfi\r\n    \tdone","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>A <code>bash script</code> solution using <code>unzip (zipinfo)</code>. Tested on <code>Ubuntu 12</code>.</p>\n\n<pre><code>#!/bin/bash\n\n# ./jarwalker.sh \"/a/Starting/Path\" \"aClassName\"\n\nIFS=$'\\n'\njars=( $( find -P \"$1\" -type f -name \"*.jar\" ) )\n\nfor jar in ${jars[*]}\n    do\n        classes=( $( zipinfo -1 ${jar} | awk -F '/' '{print $NF}' | grep .class | awk -F '.' '{print $1}' ) )\n        if [ ${#classes[*]} -ge 0 ]; then\n            for class in ${classes[*]}\n                do\n                    if [ ${class} == \"$2\" ]; then\n                        echo \"Found in ${jar}\"\n                    fi\n                done\n        fi\n    done\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1464960,"reputation":1934,"user_id":1378106,"display_name":"Kurtcebe Eroglu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1374232942,"creation_date":1374232942,"answer_id":17744879,"question_id":1342894,"body_markdown":"user1207523&#39;s script works fine for me. Here is a variant that searches for jar files recusively using find instead of simple expansion;\r\n\r\n    #!/bin/bash\r\n    for i in `find . -name &#39;*.jar&#39;`; do jar -tf &quot;$i&quot; | grep $1 | xargs -I{} echo -e &quot;$i : {}&quot; ; done","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>user1207523's script works fine for me. Here is a variant that searches for jar files recusively using find instead of simple expansion;</p>\n\n<pre><code>#!/bin/bash\nfor i in `find . -name '*.jar'`; do jar -tf \"$i\" | grep $1 | xargs -I{} echo -e \"$i : {}\" ; done\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8986,"reputation":2791,"user_id":16424,"accept_rate":92,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1523203558,"creation_date":1374235026,"answer_id":17745531,"question_id":1342894,"body_markdown":"To add yet another tool... this is a very simple and useful tool for windows. A simple exe file you click on, give it a directory to search in, a class name and it will find the jar file that contains that class. Yes, it&#39;s recursive.\r\n\r\nhttp://sourceforge.net/projects/jarfinder/\r\n\r\n","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>To add yet another tool... this is a very simple and useful tool for windows. A simple exe file you click on, give it a directory to search in, a class name and it will find the jar file that contains that class. Yes, it's recursive.</p>\n\n<p><a href=\"http://sourceforge.net/projects/jarfinder/\" rel=\"nofollow noreferrer\">http://sourceforge.net/projects/jarfinder/</a></p>\n"},{"tags":[],"owner":{"account_id":183774,"reputation":6442,"user_id":419371,"display_name":"kisp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375955319,"creation_date":1375955319,"answer_id":18122859,"question_id":1342894,"body_markdown":"This one works well in MinGW ( windows bash environment ) ~ gitbash\r\n\r\nPut this function into your .bashrc file in your HOME directory:\r\n\r\n    # this function helps you to find a jar file for the class\r\n    function find_jar_of_class() {\r\n      OLD_IFS=$IFS\r\n      IFS=$&#39;\\n&#39;\r\n      jars=( $( find -type f -name &quot;*.jar&quot; ) )\r\n      for i in ${jars[*]} ; do \r\n        if [ ! -z &quot;$(jar -tvf &quot;$i&quot; | grep -Hsi $1)&quot; ] ; then\r\n          echo &quot;$i&quot;\r\n        fi\r\n       done \r\n      IFS=$OLD_IFS\r\n    }\r\n\r\n","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>This one works well in MinGW ( windows bash environment ) ~ gitbash</p>\n\n<p>Put this function into your .bashrc file in your HOME directory:</p>\n\n<pre><code># this function helps you to find a jar file for the class\nfunction find_jar_of_class() {\n  OLD_IFS=$IFS\n  IFS=$'\\n'\n  jars=( $( find -type f -name \"*.jar\" ) )\n  for i in ${jars[*]} ; do \n    if [ ! -z \"$(jar -tvf \"$i\" | grep -Hsi $1)\" ] ; then\n      echo \"$i\"\n    fi\n   done \n  IFS=$OLD_IFS\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":556752,"reputation":1657,"user_id":918944,"accept_rate":62,"display_name":"rrevo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376885569,"creation_date":1376885190,"answer_id":18306244,"question_id":1342894,"body_markdown":"[Grepj](https://github.com/rrevo/grepj) is a command line utility to search for classes within jar files. I am the author of the utility.\r\n\r\nYou can run the utility like `grepj package.Class my1.jar my2.war my3.ear`\r\n\r\nMultiple jar, ear, war files can be provided. For advanced usage use find to provide a list of jars to be searched.","title":"Find a class somewhere inside dozens of JAR files?","body":"<p><a href=\"https://github.com/rrevo/grepj\" rel=\"nofollow\">Grepj</a> is a command line utility to search for classes within jar files. I am the author of the utility.</p>\n\n<p>You can run the utility like <code>grepj package.Class my1.jar my2.war my3.ear</code></p>\n\n<p>Multiple jar, ear, war files can be provided. For advanced usage use find to provide a list of jars to be searched.</p>\n"},{"tags":[],"owner":{"account_id":1214835,"reputation":449,"user_id":1182645,"display_name":"Joydip Datta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422689674,"creation_date":1379413915,"answer_id":18847454,"question_id":1342894,"body_markdown":"Script to find jar file: find_jar.sh\r\n\r\n    IFS=$(echo -en &quot;\\n\\b&quot;) # Set the field separator newline\r\n\r\n    for f in `find ${1} -iname *.jar`; do\r\n      jar -tf ${f}| grep --color $2\r\n      if [ $? == 0 ]; then\r\n        echo -n &quot;Match found: &quot;\r\n        echo -e &quot;${f}\\n&quot;\r\n      fi\r\n    done\r\n    unset IFS\r\n\r\nUsage: ./find_jar.sh &lt; top-level directory containing jar files &gt; &lt; Class name to find&gt;\r\n\r\nThis is similar to most answers given here. But it only outputs the file name, if grep finds something. If you want to suppress grep output you may redirect that to /dev/null but I prefer seeing the output of grep as well so that I can use partial class names and figure out the correct one from a list of output shown.\r\n\r\nThe class name can be both simple class name Like &quot;String&quot; or fully qualified name like &quot;java.lang.String&quot;","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>Script to find jar file: find_jar.sh</p>\n\n<pre><code>IFS=$(echo -en \"\\n\\b\") # Set the field separator newline\n\nfor f in `find ${1} -iname *.jar`; do\n  jar -tf ${f}| grep --color $2\n  if [ $? == 0 ]; then\n    echo -n \"Match found: \"\n    echo -e \"${f}\\n\"\n  fi\ndone\nunset IFS\n</code></pre>\n\n<p>Usage: ./find_jar.sh &lt; top-level directory containing jar files > &lt; Class name to find></p>\n\n<p>This is similar to most answers given here. But it only outputs the file name, if grep finds something. If you want to suppress grep output you may redirect that to /dev/null but I prefer seeing the output of grep as well so that I can use partial class names and figure out the correct one from a list of output shown.</p>\n\n<p>The class name can be both simple class name Like \"String\" or fully qualified name like \"java.lang.String\"</p>\n"},{"tags":[],"owner":{"account_id":4576562,"reputation":1,"user_id":3714855,"display_name":"kutty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402053974,"creation_date":1402053974,"answer_id":24080716,"question_id":1342894,"body_markdown":"Check this Plugin for eclipse which can do the job you are looking for.\r\n\r\nhttps://marketplace.eclipse.org/content/jarchiveexplorer","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>Check this Plugin for eclipse which can do the job you are looking for.</p>\n\n<p><a href=\"https://marketplace.eclipse.org/content/jarchiveexplorer\" rel=\"nofollow\">https://marketplace.eclipse.org/content/jarchiveexplorer</a></p>\n"},{"tags":[],"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429287523,"creation_date":1429287523,"answer_id":29704527,"question_id":1342894,"body_markdown":"Under a Linux environment you could do the following :\r\n\r\n    $ find &lt;base_dir&gt; -name *.jar -print0 | xargs -0 -l jar tf | grep &lt;name&gt;\r\n\r\nWhere ***name*** is the name of the class file that you are looking inside the jars distributed across the hierarchy of directories rooted at the ***base_dir***.","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>Under a Linux environment you could do the following :</p>\n\n<pre><code>$ find &lt;base_dir&gt; -name *.jar -print0 | xargs -0 -l jar tf | grep &lt;name&gt;\n</code></pre>\n\n<p>Where <strong><em>name</em></strong> is the name of the class file that you are looking inside the jars distributed across the hierarchy of directories rooted at the <strong><em>base_dir</em></strong>.</p>\n"},{"tags":[],"owner":{"account_id":8138341,"reputation":1,"user_id":6129325,"display_name":"mulugu mahesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460380976,"creation_date":1460379206,"answer_id":36549268,"question_id":1342894,"body_markdown":"You can use `locate` and `grep`:\r\n\r\n    locate jar | xargs grep &#39;my.class&#39;\r\n\r\nMake sure you run `updatedb` before using `locate`.","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>You can use <code>locate</code> and <code>grep</code>:</p>\n\n<pre><code>locate jar | xargs grep 'my.class'\n</code></pre>\n\n<p>Make sure you run <code>updatedb</code> before using <code>locate</code>.</p>\n"},{"tags":[],"owner":{"account_id":4262789,"reputation":4632,"user_id":3486720,"accept_rate":36,"display_name":"Apurva Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1461863590,"creation_date":1461863590,"answer_id":36921295,"question_id":1342894,"body_markdown":"Use this.. you can find any file in classpath.. guaranteed.. \r\n\r\n    import java.net.URL;\r\n    import java.net.URLClassLoader;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipInputStream;\r\n    \r\n    public class FileFinder {\r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t\r\n    \t\tString file = &lt;your file name&gt;;\r\n    \t\t\r\n            ClassLoader cl = ClassLoader.getSystemClassLoader();\r\n    \r\n            URL[] urls = ((URLClassLoader)cl).getURLs();\r\n            \r\n            for(URL url: urls){\r\n            \tlistFiles(file, url);\r\n            }\r\n    \t}\r\n    \r\n    \tprivate static void listFiles(String file, URL url) throws Exception{\r\n    \t\tZipInputStream zip = new ZipInputStream(url.openStream());\r\n    \t\t  while(true) {\r\n    \t\t    ZipEntry e = zip.getNextEntry();\r\n    \t\t    if (e == null)\r\n    \t\t      break;\r\n    \t\t    String name = e.getName();\r\n    \t\t    if (name.endsWith(file)) {\r\n    \t\t    \tSystem.out.println(url.toString() + &quot; -&gt; &quot; + name);\r\n    \t\t    }\r\n    \t\t  }\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>Use this.. you can find any file in classpath.. guaranteed.. </p>\n\n<pre><code>import java.net.URL;\nimport java.net.URLClassLoader;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipInputStream;\n\npublic class FileFinder {\n\n    public static void main(String[] args) throws Exception {\n\n        String file = &lt;your file name&gt;;\n\n        ClassLoader cl = ClassLoader.getSystemClassLoader();\n\n        URL[] urls = ((URLClassLoader)cl).getURLs();\n\n        for(URL url: urls){\n            listFiles(file, url);\n        }\n    }\n\n    private static void listFiles(String file, URL url) throws Exception{\n        ZipInputStream zip = new ZipInputStream(url.openStream());\n          while(true) {\n            ZipEntry e = zip.getNextEntry();\n            if (e == null)\n              break;\n            String name = e.getName();\n            if (name.endsWith(file)) {\n                System.out.println(url.toString() + \" -&gt; \" + name);\n            }\n          }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":465099,"reputation":504,"user_id":868981,"accept_rate":0,"display_name":"Cleonjoys"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467635071,"creation_date":1467635071,"answer_id":38184711,"question_id":1342894,"body_markdown":"I found this new way\r\n\r\n    bash $ ls -1  | xargs -i -t jar -tvf &#39;{}&#39;| grep Abstract\r\n    jar -tvf activation-1.1.jar\r\n    jar -tvf antisamy-1.4.3.jar\r\n      2263 Thu Jan 13 21:38:10 IST 2011 org/owasp/validator/html/scan/AbstractAntiSamyScanner.class\r\n    ...\r\n\r\nSo this lists the jar and the class if found, if you want you can give ls -1 *.jar or input to xargs with find command HTH Someone.\r\n","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>I found this new way</p>\n\n<pre><code>bash $ ls -1  | xargs -i -t jar -tvf '{}'| grep Abstract\njar -tvf activation-1.1.jar\njar -tvf antisamy-1.4.3.jar\n  2263 Thu Jan 13 21:38:10 IST 2011 org/owasp/validator/html/scan/AbstractAntiSamyScanner.class\n...\n</code></pre>\n\n<p>So this lists the jar and the class if found, if you want you can give ls -1 *.jar or input to xargs with find command HTH Someone.</p>\n"},{"tags":[],"owner":{"account_id":328571,"reputation":3309,"user_id":651601,"accept_rate":94,"display_name":"keiki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471872450,"creation_date":1471872450,"answer_id":39080877,"question_id":1342894,"body_markdown":"In eclipse you can use the old but still usable plugin [jarsearch][1] \r\n\r\n\r\n  [1]: https://sourceforge.net/projects/jarsearch/","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>In eclipse you can use the old but still usable plugin <a href=\"https://sourceforge.net/projects/jarsearch/\" rel=\"nofollow\">jarsearch</a> </p>\n"},{"tags":[],"owner":{"account_id":7606837,"reputation":41,"user_id":5769221,"display_name":"Ramesh Rooplahl"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1477060948,"creation_date":1477060948,"answer_id":40179556,"question_id":1342894,"body_markdown":"I&#39;ve always used this on Windows and its worked exceptionally well.\r\n\r\n    findstr /s /m /c:&quot;package/classname&quot; *.jar, where\r\n\r\nfindstr.exe comes standard with Windows and the params:\r\n\r\n - /s = recursively\r\n - /m = print only the filename if there is a match\r\n - /c = literal string (in this case your package name + class names\r\n   separated by &#39;/&#39;)\r\n\r\nHope this helps someone.","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>I've always used this on Windows and its worked exceptionally well.</p>\n\n<pre><code>findstr /s /m /c:\"package/classname\" *.jar, where\n</code></pre>\n\n<p>findstr.exe comes standard with Windows and the params:</p>\n\n<ul>\n<li>/s = recursively</li>\n<li>/m = print only the filename if there is a match</li>\n<li>/c = literal string (in this case your package name + class names\nseparated by '/')</li>\n</ul>\n\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":2191185,"reputation":6226,"user_id":1938185,"accept_rate":73,"display_name":"AlainD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480537020,"creation_date":1480537020,"answer_id":40897384,"question_id":1342894,"body_markdown":"If you have an instance of the class, or can get one, you have a pure java solution:\r\n\r\n    try{\r\n        Class clazz = Class.forName(&quot;        try{\r\n            Class clazz = Class.forName(&quot;class-name&quot;);\r\n            String name = &quot;/&quot;+clazz.getName().replace(&#39;.&#39;, &#39;/&#39;)+&quot;.class&quot;;\r\n            URL url = clazz.getResource(name);\r\n            String jar = url.toString().substring(10).replaceAll(&quot;!.*&quot;, &quot;&quot;);\r\n            System.out.println( jar );\r\n        }catch(Exception err){\r\n            err.printStackTrace();\r\n        }\r\n \r\nOf course, the first two line have to adapted according to where you have an instance of the class or the class name.","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>If you have an instance of the class, or can get one, you have a pure java solution:</p>\n\n<pre><code>try{\n    Class clazz = Class.forName(\"        try{\n        Class clazz = Class.forName(\"class-name\");\n        String name = \"/\"+clazz.getName().replace('.', '/')+\".class\";\n        URL url = clazz.getResource(name);\n        String jar = url.toString().substring(10).replaceAll(\"!.*\", \"\");\n        System.out.println( jar );\n    }catch(Exception err){\n        err.printStackTrace();\n    }\n</code></pre>\n\n<p>Of course, the first two line have to adapted according to where you have an instance of the class or the class name.</p>\n"},{"tags":[],"owner":{"account_id":90378,"reputation":2824,"user_id":248847,"accept_rate":85,"display_name":"KrishPrabakar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556622484,"creation_date":1556622484,"answer_id":55919627,"question_id":1342894,"body_markdown":"To find a class in a folder (and subfolders) bunch of JARs:\r\nhttps://jarscan.com/\r\n\r\n    Usage: java -jar jarscan.jar [-help | /?]\r\n                        [-dir directory name]\r\n                        [-zip]\r\n                        [-showProgress]\r\n                        &lt;-files | -class | -package&gt;\r\n                        &lt;search string 1&gt; [search string 2]\r\n                        [search string n]\r\n    \r\n    Help:\r\n      -help or /?           Displays this message.\r\n    \r\n      -dir                  The directory to start searching\r\n                            from default is &quot;.&quot;\r\n    \r\n      -zip                  Also search Zip files\r\n    \r\n      -showProgress         Show a running count of files read in\r\n    \r\n      -files or -class      Search for a file or Java class\r\n                            contained in some library.\r\n                            i.e. HttpServlet\r\n    \r\n      -package              Search for a Java package\r\n                            contained in some library.\r\n                            i.e. javax.servlet.http\r\n    \r\n      search string         The file or package to\r\n                            search for.\r\n                            i.e. see examples above\r\n\r\n**Example:**\r\n\r\n    java -jar jarscan.jar -dir C:\\Folder\\To\\Search -showProgress -class GenericServlet","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>To find a class in a folder (and subfolders) bunch of JARs:\n<a href=\"https://jarscan.com/\" rel=\"nofollow noreferrer\">https://jarscan.com/</a></p>\n\n<pre><code>Usage: java -jar jarscan.jar [-help | /?]\n                    [-dir directory name]\n                    [-zip]\n                    [-showProgress]\n                    &lt;-files | -class | -package&gt;\n                    &lt;search string 1&gt; [search string 2]\n                    [search string n]\n\nHelp:\n  -help or /?           Displays this message.\n\n  -dir                  The directory to start searching\n                        from default is \".\"\n\n  -zip                  Also search Zip files\n\n  -showProgress         Show a running count of files read in\n\n  -files or -class      Search for a file or Java class\n                        contained in some library.\n                        i.e. HttpServlet\n\n  -package              Search for a Java package\n                        contained in some library.\n                        i.e. javax.servlet.http\n\n  search string         The file or package to\n                        search for.\n                        i.e. see examples above\n</code></pre>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>java -jar jarscan.jar -dir C:\\Folder\\To\\Search -showProgress -class GenericServlet\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13210522,"reputation":414,"user_id":9540910,"display_name":"Collin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559154853,"creation_date":1559154081,"answer_id":56366476,"question_id":1342894,"body_markdown":"Filename: searchForFiles.py\r\n\r\n    import os, zipfile, glob, sys\r\n\r\n    def main():\r\n\t    searchFile = sys.argv[1] #class file to search for, sent from batch file below (optional, see second block of code below)\r\n\t    listOfFilesInJar = []\r\n\t    for file in glob.glob(&quot;*.jar&quot;):\r\n\t\t\tarchive = zipfile.ZipFile(file, &#39;r&#39;)\r\n\t\t\tfor x in archive.namelist():\r\n\t\t\t\tif str(searchFile) in str(x):\r\n\t\t\t\t\tlistOfFilesInJar.append(file)\r\n\r\n\t    for something in listOfFilesInJar:\r\n\t\t    print(&quot;location of &quot;+str(searchFile)+&quot;: &quot;,something)\r\n\t\t\t\r\n    if __name__ == &quot;__main__&quot;:\r\n        sys.exit(main())\r\n\r\n\r\nYou can easily run this by making a .bat file with the following text (replace &quot;AddWorkflows.class&quot; with the file you are searching for):\r\n\r\n(File: CallSearchForFiles.bat)\r\n\r\n    @echo off\r\n    python -B -c &quot;import searchForFiles;x=searchForFiles.main();&quot; AddWorkflows.class\r\n    pause\r\n\r\n\r\nYou can double-click CallSearchForFiles.bat to run it, or call it from the command line &quot;CallSearchForFiles.bat SearchFile.class&quot;\r\n\r\n[Click to See Example Output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p0KUd.png","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>Filename: searchForFiles.py</p>\n\n<pre><code>import os, zipfile, glob, sys\n\ndef main():\n    searchFile = sys.argv[1] #class file to search for, sent from batch file below (optional, see second block of code below)\n    listOfFilesInJar = []\n    for file in glob.glob(\"*.jar\"):\n        archive = zipfile.ZipFile(file, 'r')\n        for x in archive.namelist():\n            if str(searchFile) in str(x):\n                listOfFilesInJar.append(file)\n\n    for something in listOfFilesInJar:\n        print(\"location of \"+str(searchFile)+\": \",something)\n\nif __name__ == \"__main__\":\n    sys.exit(main())\n</code></pre>\n\n<p>You can easily run this by making a .bat file with the following text (replace \"AddWorkflows.class\" with the file you are searching for):</p>\n\n<p>(File: CallSearchForFiles.bat)</p>\n\n<pre><code>@echo off\npython -B -c \"import searchForFiles;x=searchForFiles.main();\" AddWorkflows.class\npause\n</code></pre>\n\n<p>You can double-click CallSearchForFiles.bat to run it, or call it from the command line \"CallSearchForFiles.bat SearchFile.class\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/p0KUd.png\" rel=\"nofollow noreferrer\">Click to See Example Output</a></p>\n"},{"tags":[],"owner":{"account_id":393848,"reputation":119,"user_id":755920,"display_name":"Gungwald"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1570729812,"creation_date":1570729481,"answer_id":58328450,"question_id":1342894,"body_markdown":"ClassFinder is a program that&#39;s designed to solve this problem. It allows you to search recursively through directories and jar files to find all instances of a class matching a pattern. It is written in Java, not python. It has a nice GUI which makes it easy to use. And it runs fast. This release is precompiled in a runnable jar so you don&#39;t have to build it from source.\r\n\r\nDownload it here: [ClassFinder 1.0][1]\r\n\r\n\r\n  [1]: https://github.com/gungwald/classfinder/releases","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>ClassFinder is a program that's designed to solve this problem. It allows you to search recursively through directories and jar files to find all instances of a class matching a pattern. It is written in Java, not python. It has a nice GUI which makes it easy to use. And it runs fast. This release is precompiled in a runnable jar so you don't have to build it from source.</p>\n\n<p>Download it here: <a href=\"https://github.com/gungwald/classfinder/releases\" rel=\"noreferrer\">ClassFinder 1.0</a></p>\n"},{"tags":[],"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602782929,"creation_date":1602782929,"answer_id":64376842,"question_id":1342894,"body_markdown":"I know this is an old question but...    \r\nI had the same issue, so If someone is looking for a very simple solution for windows - there is a software named Locate32\r\nJust put jar as file extension   \r\nAnd containing the class name  \r\nIt finds the file within seconds.\r\n\r\n[![Locate32 in action][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wkbG9.png","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>I know this is an old question but...<br />\nI had the same issue, so If someone is looking for a very simple solution for windows - there is a software named Locate32\nJust put jar as file extension<br />\nAnd containing the class name<br />\nIt finds the file within seconds.</p>\n<p><a href=\"https://i.stack.imgur.com/wkbG9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wkbG9.png\" alt=\"Locate32 in action\" /></a></p>\n"}],"owner":{"account_id":19488,"reputation":20991,"user_id":45730,"accept_rate":53,"display_name":"Kapsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283026,"favorite_count":0,"down_vote_count":1,"up_vote_count":305,"accepted_answer_id":1342959,"answer_count":35,"score":304,"last_activity_date":1657735379,"creation_date":1251397426,"question_id":1342894,"body_markdown":"How would you find a particular class name inside lots of jar files?\r\n\r\n(Looking for the actual class name, not the classes that reference it.)","title":"Find a class somewhere inside dozens of JAR files?","body":"<p>How would you find a particular class name inside lots of jar files?</p>\n\n<p>(Looking for the actual class name, not the classes that reference it.)</p>\n"},{"tags":["java","rcp"],"comments":[{"owner":{"account_id":10916283,"reputation":346,"user_id":8023993,"display_name":"Sakthi Velan"},"score":0,"creation_date":1657731809,"post_id":72969085,"comment_id":128882401,"body_markdown":"@greg-449 This is java Rich Client Platform","body":"@greg-449 This is java Rich Client Platform"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1657735225,"post_id":72969085,"comment_id":128883446,"body_markdown":"Which is nothing to do with Eclipse RCP (even if you happen to be using Eclipse to develop it)","body":"Which is nothing to do with Eclipse RCP (even if you happen to be using Eclipse to develop it)"}],"owner":{"account_id":10916283,"reputation":346,"user_id":8023993,"display_name":"Sakthi Velan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657735203,"creation_date":1657727123,"question_id":72969085,"body_markdown":"In Java RCP,\r\nI am using following code snippet.\r\n```&lt;GridLayout&gt;\r\n&lt;Table&gt;\r\n&lt;Column id=&quot;fname&quot;/&gt;\r\n&lt;/Table&gt;\r\n&lt;/GridLayout&gt;\r\n```\r\nSetting the values in java using following attributes\r\n\r\n```PropertyChangeSupport support = new PropertyChangeSupport();\r\nsupport.firePropertyChange(&quot;fname&quot;,&quot;oldValue&quot;, &quot;newValue&quot;);\r\n```\r\n\r\n\r\nThe thing is if i am trying to refresh the value, it is not getting refreshed with new values if i  click or move the cell, the value is not getting displayed with updated value. kindly help.","title":"GridData column value not updating when i update values (Java)","body":"<p>In Java RCP,\nI am using following code snippet.</p>\n<pre><code>&lt;Table&gt;\n&lt;Column id=&quot;fname&quot;/&gt;\n&lt;/Table&gt;\n&lt;/GridLayout&gt;\n</code></pre>\n<p>Setting the values in java using following attributes</p>\n<pre><code>support.firePropertyChange(&quot;fname&quot;,&quot;oldValue&quot;, &quot;newValue&quot;);\n</code></pre>\n<p>The thing is if i am trying to refresh the value, it is not getting refreshed with new values if i  click or move the cell, the value is not getting displayed with updated value. kindly help.</p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1657734785,"post_id":72970539,"comment_id":128883295,"body_markdown":"Define &quot;not working&quot;.","body":"Define &quot;not working&quot;."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1657735214,"post_id":72970539,"comment_id":128883441,"body_markdown":"There&#39;s no real way to help w/ the information provided. It&#39;s also possible the QR code is generated after the initial page load. IIRC JSoup isn&#39;t a browser emulator, meaning elements added/modified via JS would be inaccessible. (JSoup may have changed since I used it last, though.) Since I can&#39;t access the website (perhaps others can) there&#39;s not much else I can offer.","body":"There&#39;s no real way to help w/ the information provided. It&#39;s also possible the QR code is generated after the initial page load. IIRC JSoup isn&#39;t a browser emulator, meaning elements added/modified via JS would be inaccessible. (JSoup may have changed since I used it last, though.) Since I can&#39;t access the website (perhaps others can) there&#39;s not much else I can offer."},{"owner":{"account_id":23602127,"reputation":91,"user_id":17638453,"display_name":"JOWMIND"},"score":0,"creation_date":1657735291,"post_id":72970539,"comment_id":128883463,"body_markdown":"@DaveNewton what do you mean I cant access the website?","body":"@DaveNewton what do you mean I cant access the website?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1657735410,"post_id":72970539,"comment_id":128883520,"body_markdown":"the provided link is not reachable","body":"the provided link is not reachable"},{"owner":{"account_id":23602127,"reputation":91,"user_id":17638453,"display_name":"JOWMIND"},"score":0,"creation_date":1657735420,"post_id":72970539,"comment_id":128883528,"body_markdown":"@DaveNewton is there any other workaround that you would use? or any other library that could do what I&#39;m trying to achieve? or do you know any api that scrapes data from a webpage and returns it?","body":"@DaveNewton is there any other workaround that you would use? or any other library that could do what I&#39;m trying to achieve? or do you know any api that scrapes data from a webpage and returns it?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1657735492,"post_id":72970539,"comment_id":128883548,"body_markdown":"Requests for libraries, APIs, frameworks, etc. are off-topic on SO, but searching the web should be sufficient. It&#39;s impossible to know why it doesn&#39;t work with the information provided (although I *suspect* the QR code is generated after the initial DOM rendering).","body":"Requests for libraries, APIs, frameworks, etc. are off-topic on SO, but searching the web should be sufficient. It&#39;s impossible to know why it doesn&#39;t work with the information provided (although I <i>suspect</i> the QR code is generated after the initial DOM rendering)."},{"owner":{"account_id":23602127,"reputation":91,"user_id":17638453,"display_name":"JOWMIND"},"score":0,"creation_date":1657736503,"post_id":72970539,"comment_id":128883873,"body_markdown":"@Eritrean hey brother I&#39;m Ethiopian, nice to see my people around. Is the link not opening?","body":"@Eritrean hey brother I&#39;m Ethiopian, nice to see my people around. Is the link not opening?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1657736857,"post_id":72970539,"comment_id":128883978,"body_markdown":"Selam wendm&#233;, endemen amesheh. Link dosen&#39;t work. At least for me. But if the site uses JavaScript, which is very likey, Jsoup is not going to work anyway. Try using [htmlunit](https://htmlunit.sourceforge.io/gettingStarted.html)","body":"Selam wendm&#233;, endemen amesheh. Link dosen&#39;t work. At least for me. But if the site uses JavaScript, which is very likey, Jsoup is not going to work anyway. Try using <a href=\"https://htmlunit.sourceforge.io/gettingStarted.html\" rel=\"nofollow noreferrer\">htmlunit</a>"}],"owner":{"account_id":23602127,"reputation":91,"user_id":17638453,"display_name":"JOWMIND"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657735000,"creation_date":1657734346,"question_id":72970539,"body_markdown":"So im trying to scrape the QRcode image src from a webpage using `jsoup` but its not working. Whenever i try to `println(elements.attr(&quot;src&quot;))` it just prints `&quot;&quot;` a blank string.\r\n\r\n&gt;This is the webpage: https://app.ethiomobilemoney.et:2121/ammwebpay/#/?transactionNo=202207131604471547205398120337410\r\n\r\n**Code:**\r\n```java\r\nprivate class description_webscrape extends AsyncTask&lt;Void,Void,Void&gt; {\r\n\t@Override\r\n\tpublic Void doInBackground(Void... voids) {\r\n\t\tDocument document = null;\r\n\t\ttry {\r\n\t\t\tdocument = Jsoup.connect(&quot;https://app.ethiomobilemoney.et:2121/ammwebpay/#/?transactionNo=202207131604471547205398120337410&quot;).get();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tElements elements = document.selectXpath(&quot;/html/body/div/div/div[2]/div/div[1]/div/div/div[2]/div/div/div[1]/div/img&quot;);\r\n\t\tSystem.out.println(elements.attr(&quot;src&quot;));\r\n    }\r\n}\r\n```","title":"how scrape image using jsoup?","body":"<p>So im trying to scrape the QRcode image src from a webpage using <code>jsoup</code> but its not working. Whenever i try to <code>println(elements.attr(&quot;src&quot;))</code> it just prints <code>&quot;&quot;</code> a blank string.</p>\n<blockquote>\n<p>This is the webpage: <a href=\"https://app.ethiomobilemoney.et:2121/ammwebpay/#/?transactionNo=202207131604471547205398120337410\" rel=\"nofollow noreferrer\">https://app.ethiomobilemoney.et:2121/ammwebpay/#/?transactionNo=202207131604471547205398120337410</a></p>\n</blockquote>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>private class description_webscrape extends AsyncTask&lt;Void,Void,Void&gt; {\n    @Override\n    public Void doInBackground(Void... voids) {\n        Document document = null;\n        try {\n            document = Jsoup.connect(&quot;https://app.ethiomobilemoney.et:2121/ammwebpay/#/?transactionNo=202207131604471547205398120337410&quot;).get();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        Elements elements = document.selectXpath(&quot;/html/body/div/div/div[2]/div/div[1]/div/div/div[2]/div/div/div[1]/div/img&quot;);\n        System.out.println(elements.attr(&quot;src&quot;));\n    }\n}\n</code></pre>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":19547356,"reputation":1,"user_id":14303768,"display_name":"Y2020-09"},"score":0,"creation_date":1601910145,"post_id":64210839,"comment_id":113545588,"body_markdown":"Here is one of my answers about this topic.  [UTF-8 Meta Tag](https://stackoverflow.com/questions/64034234/retaining-special-character-while-reading-from-html-java/64035247#64035247).  Before going off the rails about what **Java** or **JSoup** is doing incorrectly, I would ask of you what editor or browser you are using to View the File that you have downloaded from your web-site using **JSoup**.  Java can handle 16-bit **UNICODE** easily - _by automatic_.","body":"Here is one of my answers about this topic.  <a href=\"https://stackoverflow.com/questions/64034234/retaining-special-character-while-reading-from-html-java/64035247#64035247\">UTF-8 Meta Tag</a>.  Before going off the rails about what <b>Java</b> or <b>JSoup</b> is doing incorrectly, I would ask of you what editor or browser you are using to View the File that you have downloaded from your web-site using <b>JSoup</b>.  Java can handle 16-bit <b>UNICODE</b> easily - <i>by automatic</i>."},{"owner":{"account_id":19547356,"reputation":1,"user_id":14303768,"display_name":"Y2020-09"},"score":0,"creation_date":1601910153,"post_id":64210839,"comment_id":113545593,"body_markdown":"However, if you save the downloaded `String` to an **`&#39;.html&#39; File`**, and open that **`&#39;.html&#39; File`** in a browser, (usually) ***then and only then*** will you see the dreaded �.","body":"However, if you save the downloaded <code>String</code> to an <b><code>&#39;.html&#39; File</code></b>, and open that <b><code>&#39;.html&#39; File</code></b> in a browser, (usually) <b><i>then and only then</i></b> will you see the dreaded �."},{"owner":{"account_id":8460744,"reputation":576,"user_id":6346585,"display_name":"Banns"},"score":0,"creation_date":1601911356,"post_id":64210839,"comment_id":113546150,"body_markdown":"Regarding the first question, I tried all browsers, iexplore, firefox and chrome, all had the text displayed correctly in the source code. Another attempt that I did was with another site with the same special accents, in there I didn&#39;t have the issue. I edited the post with this attempt.","body":"Regarding the first question, I tried all browsers, iexplore, firefox and chrome, all had the text displayed correctly in the source code. Another attempt that I did was with another site with the same special accents, in there I didn&#39;t have the issue. I edited the post with this attempt."},{"owner":{"account_id":19547356,"reputation":1,"user_id":14303768,"display_name":"Y2020-09"},"score":0,"creation_date":1601915600,"post_id":64210839,"comment_id":113548146,"body_markdown":"***Well, that&#39;s always the issue.***  I have been dealing with **UTF-8** foreign language characters going on 4 years now (in **Java**).  Java does **UTF-8** (again) &quot;by automatic&quot;.  Two Points... **POINT 1:**  If you view your page in a browser - and the &#39;�&#39; is displayed - ***NEXT TIME*** try loading your file into a simple `Notepad`, and view whether or not the appropriiate characters are rendering.  **POINT 2:**  Include this in your `.html File` headers (the `&lt;HEAD&gt;...&lt;/HEAD&gt;` part of your page) ... **`&lt;META CHARSET=&#39;&#39;UTF-8&#39;&gt;`**","body":"<b><i>Well, that&#39;s always the issue.</i></b>  I have been dealing with <b>UTF-8</b> foreign language characters going on 4 years now (in <b>Java</b>).  Java does <b>UTF-8</b> (again) &quot;by automatic&quot;.  Two Points... <b>POINT 1:</b>  If you view your page in a browser - and the &#39;�&#39; is displayed - <b><i>NEXT TIME</i></b> try loading your file into a simple <code>Notepad</code>, and view whether or not the appropriiate characters are rendering.  <b>POINT 2:</b>  Include this in your <code>.html File</code> headers (the <code>&lt;HEAD&gt;...&lt;&#47;HEAD&gt;</code> part of your page) ... <b><code>&lt;META CHARSET=&#39;&#39;UTF-8&#39;&gt;</code></b>"}],"owner":{"account_id":8460744,"reputation":576,"user_id":6346585,"display_name":"Banns"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657734963,"creation_date":1601908844,"question_id":64210839,"body_markdown":"I&#39;m having some issues when connecting to a URL with Jsoup, I am unable to set the encoding of HTML, the text in the tags are only displayed as &quot;?&quot;. I&#39;ve searched exhaustedly here in the forum and in the documentation but I can&#39;t make any solution that is proposed to work.\r\n\r\nThis is one of the HTML parts that gives me the issue when running the Jsoup connect\r\n\r\n![Accent issue](https://i.ibb.co/mvX7VC3/Capture.jpg)\r\n\r\nThe result when running the connection is this:\r\n\r\n[![Printed HTML][1]][1]  \n&lt;sub&gt;(source: [i.ibb.co](https://i.ibb.co/kKkw53w/Capture2.jpg))&lt;/sub&gt;  \n\r\n\r\nIf I try to use the parser, I have the following message: &quot;Please enable JavaScript to view the page content&quot;\r\n\r\nAs described in some threads here in stackoverflow, I&#39;ve changed the output encoding to check if the problem was that, but the result was the same. I tried saving the content to a file in the correct iso and it didn&#39;t work as well, same output with the question marks.\r\n\r\nThe snippet that I am using is yet very simple since I am just trying to get the HTML:\r\n\r\n```\r\nDocument doc = Jsoup.connect(a)\r\n        .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n        .postDataCharset(&quot;ISO-8859-1&quot;) // tried other encodings but no success as well, same output\r\n        .get();\r\n\r\nSystem.out.println(doc);\r\n```\r\n\r\nHave anyone had this problem before using the **connect().get()** from Jsoup?\r\n\r\n## Update ##\r\n\r\nUsing another site the issue is not presented:\r\n\r\n```\r\nString a = &quot;https://flatschart.com/html5/descricao.html&quot;;\r\n        \r\nDocument doc = Jsoup.connect(a)\r\n        .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n        .postDataCharset(&quot;ISO-8859-1&quot;)\r\n        .get();\r\n        \r\nSystem.out.println(doc);\r\n```\r\n\r\n![Output](https://i.ibb.co/tMw77WM/Capture.jpg)\r\n\n [1]: https://i.stack.imgur.com/WjeqS.jpg","title":"Jsoup connect(url) get encoding","body":"<p>I'm having some issues when connecting to a URL with Jsoup, I am unable to set the encoding of HTML, the text in the tags are only displayed as &quot;?&quot;. I've searched exhaustedly here in the forum and in the documentation but I can't make any solution that is proposed to work.</p>\n<p>This is one of the HTML parts that gives me the issue when running the Jsoup connect</p>\n<p><img src=\"https://i.ibb.co/mvX7VC3/Capture.jpg\" alt=\"Accent issue\" /></p>\n<p>The result when running the connection is this:</p>\n<p><a href=\"https://i.stack.imgur.com/WjeqS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WjeqS.jpg\" alt=\"Printed HTML\" /></a><br />\n<sub>(source: <a href=\"https://i.ibb.co/kKkw53w/Capture2.jpg\" rel=\"nofollow noreferrer\">i.ibb.co</a>)</sub></p>\n<p>If I try to use the parser, I have the following message: &quot;Please enable JavaScript to view the page content&quot;</p>\n<p>As described in some threads here in stackoverflow, I've changed the output encoding to check if the problem was that, but the result was the same. I tried saving the content to a file in the correct iso and it didn't work as well, same output with the question marks.</p>\n<p>The snippet that I am using is yet very simple since I am just trying to get the HTML:</p>\n<pre><code>Document doc = Jsoup.connect(a)\n        .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n        .postDataCharset(&quot;ISO-8859-1&quot;) // tried other encodings but no success as well, same output\n        .get();\n\nSystem.out.println(doc);\n</code></pre>\n<p>Have anyone had this problem before using the <strong>connect().get()</strong> from Jsoup?</p>\n<h2>Update</h2>\n<p>Using another site the issue is not presented:</p>\n<pre><code>String a = &quot;https://flatschart.com/html5/descricao.html&quot;;\n        \nDocument doc = Jsoup.connect(a)\n        .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n        .postDataCharset(&quot;ISO-8859-1&quot;)\n        .get();\n        \nSystem.out.println(doc);\n</code></pre>\n<p><img src=\"https://i.ibb.co/tMw77WM/Capture.jpg\" alt=\"Output\" /></p>\n"},{"tags":["java","azure","azure-cosmosdb","azure-cosmosdb-sqlapi"],"answers":[{"tags":[],"owner":{"account_id":17250869,"reputation":114,"user_id":12491066,"display_name":"Theo van Kraay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657734922,"creation_date":1657734922,"answer_id":72970648,"question_id":72262096,"body_markdown":"You can only pass a single value because the ARRAY_CONTAINS function in Cosmos DB backend itself only supports searching for a single value in the json array (see documentation [here][1]). I realise this is misleading in the context of Spring and Criteria.getInstance(), since this is expecting `List&lt;Object&gt;` values, so the natural assumption you made is that it will search for all the values in the list... but you can only pass one value. \r\n\r\nTo accomplish this, you will need to run the query each time for each value in the list. Something like the below snippet, which assumes there are multiple documents of this shape in your container, and collects all the docs that meet the filtering criteria into a HashMap. \r\n\r\n    Iterable&lt;User&gt; results = null;\r\n    String[] lettersArray = { &quot;A&quot;, &quot;B&quot; };\r\n    HashMap&lt;String, User&gt; docMap = new HashMap&lt;String, User&gt;();\r\n    List&lt;String&gt; letters = Arrays.asList(lettersArray);\r\n    for (String object : letters) {\r\n        Criteria statusFilterCriteria = Criteria.getInstance(\r\n                CriteriaType.ARRAY_CONTAINS, &quot;status.active&quot;, Collections.singletonList(object),\r\n                Part.IgnoreCaseType.NEVER);\r\n        CosmosQuery cosmosQuery = new CosmosQuery(statusFilterCriteria);\r\n        results = cosmosTemplate.find(cosmosQuery, User.class, &quot;myContainer5&quot;);\r\n        for (User user : results)\r\n            docMap.put(user.getId(), user);\r\n    }\r\n    List&lt;String&gt; docIds = new ArrayList&lt;String&gt;();\r\n    for (String id : docMap.keySet())\r\n        docIds.add(id);\r\n    System.out.println(&quot;ids of docs that contain any of the letters: &quot; + String.join(&quot;, &quot;, docIds));\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/cosmos-db/sql/sql-query-array-contains\r\n","title":"Filter the document if any value of the provided list is present in the document&#39;s array","body":"<p>You can only pass a single value because the ARRAY_CONTAINS function in Cosmos DB backend itself only supports searching for a single value in the json array (see documentation <a href=\"https://learn.microsoft.com/en-us/azure/cosmos-db/sql/sql-query-array-contains\" rel=\"nofollow noreferrer\">here</a>). I realise this is misleading in the context of Spring and Criteria.getInstance(), since this is expecting <code>List&lt;Object&gt;</code> values, so the natural assumption you made is that it will search for all the values in the list... but you can only pass one value.</p>\n<p>To accomplish this, you will need to run the query each time for each value in the list. Something like the below snippet, which assumes there are multiple documents of this shape in your container, and collects all the docs that meet the filtering criteria into a HashMap.</p>\n<pre><code>Iterable&lt;User&gt; results = null;\nString[] lettersArray = { &quot;A&quot;, &quot;B&quot; };\nHashMap&lt;String, User&gt; docMap = new HashMap&lt;String, User&gt;();\nList&lt;String&gt; letters = Arrays.asList(lettersArray);\nfor (String object : letters) {\n    Criteria statusFilterCriteria = Criteria.getInstance(\n            CriteriaType.ARRAY_CONTAINS, &quot;status.active&quot;, Collections.singletonList(object),\n            Part.IgnoreCaseType.NEVER);\n    CosmosQuery cosmosQuery = new CosmosQuery(statusFilterCriteria);\n    results = cosmosTemplate.find(cosmosQuery, User.class, &quot;myContainer5&quot;);\n    for (User user : results)\n        docMap.put(user.getId(), user);\n}\nList&lt;String&gt; docIds = new ArrayList&lt;String&gt;();\nfor (String id : docMap.keySet())\n    docIds.add(id);\nSystem.out.println(&quot;ids of docs that contain any of the letters: &quot; + String.join(&quot;, &quot;, docIds));\n</code></pre>\n"}],"owner":{"account_id":22930962,"reputation":88,"user_id":17065258,"display_name":"ANKIT PRASAD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657734922,"creation_date":1652716587,"question_id":72262096,"body_markdown":"\r\n**Document**\r\n\r\n```json\r\n    {\r\n    &quot;status&quot;: {\r\n            &quot;active&quot;: [\r\n                &quot;A&quot;,\r\n                &quot;B&quot;\r\n            ],\r\n            &quot;inactive&quot;: [\r\n                &quot;C&quot;,\r\n                &quot;D&quot;\r\n            ]\r\n        }\r\n    }\r\n```\r\n\r\n**Code**\r\n\r\n```\r\nCriteria statusFilterCriteria = Criteria.getInstance(\r\n   CriteriaType.ARRAY_CONTAINS,\r\n   &quot;status.active&quot;,   \r\n   Collections.singletonList(&quot;A&quot;), \r\n   Part.IgnoreCaseType.NEVER);\r\nCosmosQuery cosmosQuery = new CosmosQuery(statusFilterCriteria);\r\n```\r\n\r\n\r\nThe filtering criteria is that if any value of the **list** is present in the **active** array, then the Document should be returned.\r\nSince **A** is present in active array I get A in response.\r\nBut when I pass **A** and **B** both in the list, I don&#39;t get the Document in my response.\r\n\r\n","title":"Filter the document if any value of the provided list is present in the document&#39;s array","body":"<p><strong>Document</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>    {\n    &quot;status&quot;: {\n            &quot;active&quot;: [\n                &quot;A&quot;,\n                &quot;B&quot;\n            ],\n            &quot;inactive&quot;: [\n                &quot;C&quot;,\n                &quot;D&quot;\n            ]\n        }\n    }\n</code></pre>\n<p><strong>Code</strong></p>\n<pre><code>Criteria statusFilterCriteria = Criteria.getInstance(\n   CriteriaType.ARRAY_CONTAINS,\n   &quot;status.active&quot;,   \n   Collections.singletonList(&quot;A&quot;), \n   Part.IgnoreCaseType.NEVER);\nCosmosQuery cosmosQuery = new CosmosQuery(statusFilterCriteria);\n</code></pre>\n<p>The filtering criteria is that if any value of the <strong>list</strong> is present in the <strong>active</strong> array, then the Document should be returned.\nSince <strong>A</strong> is present in active array I get A in response.\nBut when I pass <strong>A</strong> and <strong>B</strong> both in the list, I don't get the Document in my response.</p>\n"},{"tags":["java","selenium","maven","testng","bamboo"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1657746275,"post_id":72970545,"comment_id":128886935,"body_markdown":"You can&#39;t rely on the index-order of the window handles.  Use getWindowHandle() to get the current handle.  Then open the new tab... find the handle in getWindowHandles() that is not the current handle to switch to the new tab.  (This may not be the problem here, but worth noting...)","body":"You can&#39;t rely on the index-order of the window handles.  Use getWindowHandle() to get the current handle.  Then open the new tab... find the handle in getWindowHandles() that is not the current handle to switch to the new tab.  (This may not be the problem here, but worth noting...)"},{"owner":{"account_id":17375833,"reputation":496,"user_id":12588979,"display_name":"GHULAM NABI"},"score":0,"creation_date":1657794515,"post_id":72970545,"comment_id":128897380,"body_markdown":"@pcalkins I am already using it","body":"@pcalkins I am already using it"}],"owner":{"account_id":17375833,"reputation":496,"user_id":12588979,"display_name":"GHULAM NABI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657734809,"creation_date":1657734389,"question_id":72970545,"body_markdown":"**Scenario:**\r\n\r\nMy `baseUrl/Login` is something like this https://example.com/#/ and its opening in the `1st tab`. After entering the credentials, it is https://example.com/#/verification. I am navigating from here to another url which is opened in `2nd tab`. But when it backs to `1st tab`, It&#39;s changing to the `baseUrl` again.\r\n\r\n**Code:**\r\n```java\r\npublic void visitMailinator() throws InterruptedException {\r\n\t((JavascriptExecutor) driver).executeScript(&quot;window.open()&quot;);\r\n\tArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\n\tdriver.switchTo().window(tabs.get(1));\r\n\tThread.sleep(10000);\r\n\tdriver.get(url);\r\n\tThread.sleep(4000);\r\n\tfirst_mail.click();\r\n\tReporter.log(&quot;First mail is clicked &quot;, true);\r\n\tdriver.switchTo().frame(&quot;html_msg_body&quot;);\r\n\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n\tString verificationToken = token.getText();\r\n\tReporter.log(&quot;The Verification Token is: &quot; + verificationToken, true);\r\n\tReporter.log(&quot;Browser is Navigating back&quot;, true);\r\n\tThread.sleep(6000);\r\n\r\n\tdriver.switchTo().window(tabs.get(0));\r\n\tReporter.log(&quot;Browser is Navigated back&quot;, true);\r\n\tThread.sleep(5000);\r\n\tString link = driver.getCurrentUrl();\r\n\r\n\tReporter.log(&quot;current Link is: &quot; + link, true);\r\n\t\r\n\tdriver.navigate().to(&quot;https://example/#/verification&quot;); // Its not working\r\n\t\r\n\tcode_field.isDisplayed();\r\n\tcode_field.sendKeys(verificationToken);\r\n\tReporter.log(&quot;Verification Key is Entered&quot;, true);\r\n\r\n}\r\n```\r\n","title":"Navigating to the base url in bamboo&#39;s build but working fine on Local","body":"<p><strong>Scenario:</strong></p>\n<p>My <code>baseUrl/Login</code> is something like this <a href=\"https://example.com/#/\" rel=\"nofollow noreferrer\">https://example.com/#/</a> and its opening in the <code>1st tab</code>. After entering the credentials, it is <a href=\"https://example.com/#/verification\" rel=\"nofollow noreferrer\">https://example.com/#/verification</a>. I am navigating from here to another url which is opened in <code>2nd tab</code>. But when it backs to <code>1st tab</code>, It's changing to the <code>baseUrl</code> again.</p>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void visitMailinator() throws InterruptedException {\n    ((JavascriptExecutor) driver).executeScript(&quot;window.open()&quot;);\n    ArrayList&lt;String&gt; tabs = new ArrayList&lt;String&gt;(driver.getWindowHandles());\n    driver.switchTo().window(tabs.get(1));\n    Thread.sleep(10000);\n    driver.get(url);\n    Thread.sleep(4000);\n    first_mail.click();\n    Reporter.log(&quot;First mail is clicked &quot;, true);\n    driver.switchTo().frame(&quot;html_msg_body&quot;);\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n    String verificationToken = token.getText();\n    Reporter.log(&quot;The Verification Token is: &quot; + verificationToken, true);\n    Reporter.log(&quot;Browser is Navigating back&quot;, true);\n    Thread.sleep(6000);\n\n    driver.switchTo().window(tabs.get(0));\n    Reporter.log(&quot;Browser is Navigated back&quot;, true);\n    Thread.sleep(5000);\n    String link = driver.getCurrentUrl();\n\n    Reporter.log(&quot;current Link is: &quot; + link, true);\n    \n    driver.navigate().to(&quot;https://example/#/verification&quot;); // Its not working\n    \n    code_field.isDisplayed();\n    code_field.sendKeys(verificationToken);\n    Reporter.log(&quot;Verification Key is Entered&quot;, true);\n\n}\n</code></pre>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":1,"creation_date":1497723221,"post_id":44607457,"comment_id":76202602,"body_markdown":"Have you tried with @Conditional?","body":"Have you tried with @Conditional?"},{"owner":{"account_id":4143931,"reputation":1652,"user_id":3398271,"accept_rate":50,"display_name":"Attilio"},"score":0,"creation_date":1497809868,"post_id":44607457,"comment_id":76222070,"body_markdown":"@RossiRobinsion: no, I did not know about it :)","body":"@RossiRobinsion: no, I did not know about it :)"}],"answers":[{"tags":[],"owner":{"account_id":8186124,"reputation":4869,"user_id":6161898,"display_name":"fg78nc"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1497725674,"creation_date":1497724277,"answer_id":44608053,"question_id":44607457,"body_markdown":"You can introduce you own annotation with meta annotations `@Conditional` and `@Qualifier`\r\n\r\n    @Target({ElementType.FIELD, ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Qualifier\r\n    @Conditional(MyCondition.class)\r\n    public @interface ExcludeBean {\r\n\r\nand then introduce class where you can do your conditional logic\r\n\r\n    public class MyCondition implements Condition {\r\n    \r\n    \t@Override\r\n    \tpublic boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n    \t\treturn !metadata.equals(ExcludeBean.class);\r\n    \t}\r\n    \r\n    }\r\n\r\nIn your Configuration class\r\n\r\n      @Bean\r\n\t  @ExcludeBean\r\n\t  public BeanA beanA() {\r\n\t\t  return new BeanA();\r\n\t  }\r\n\r\nYou can also exclude bean from being candidate for autowiring by setting `autowire-candidate` on particular bean or by specifying `default-autowire-candidates=&quot;list of candidates here&quot;`  ","title":"Spring: Autowire bean that does not have qualifier","body":"<p>You can introduce you own annotation with meta annotations <code>@Conditional</code> and <code>@Qualifier</code></p>\n\n<pre><code>@Target({ElementType.FIELD, ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Qualifier\n@Conditional(MyCondition.class)\npublic @interface ExcludeBean {\n</code></pre>\n\n<p>and then introduce class where you can do your conditional logic</p>\n\n<pre><code>public class MyCondition implements Condition {\n\n    @Override\n    public boolean matches(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        return !metadata.equals(ExcludeBean.class);\n    }\n\n}\n</code></pre>\n\n<p>In your Configuration class</p>\n\n<pre><code>  @Bean\n  @ExcludeBean\n  public BeanA beanA() {\n      return new BeanA();\n  }\n</code></pre>\n\n<p>You can also exclude bean from being candidate for autowiring by setting <code>autowire-candidate</code> on particular bean or by specifying <code>default-autowire-candidates=\"list of candidates here\"</code>  </p>\n"},{"tags":[],"owner":{"account_id":2914806,"reputation":5288,"user_id":2596915,"accept_rate":14,"display_name":"xyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497795192,"creation_date":1497727886,"answer_id":44608636,"question_id":44607457,"body_markdown":"There might be two cases :\r\n\r\n   case 1 : Bean3 in not in spring context;\r\n\r\n   case 2 :  Bean3 is in spring context but not injected in some cases with  @Autowired  , \r\n\r\n 1. if you need to exclude bean with Qualifier from context at all ,use\r\n    - Condition. This bean is not registered in application conxtet if matches returns false. as result :\r\n    \r\n    &gt; @Autowired List&lt;SomeBean&gt; someBeanList; -- here injected all beans instanceof SomeBean and registered in application context.\r\n    \r\n    from [spring api][1]\r\n    \r\n    &gt; Condition A single condition that must be matched in order for a\r\n    &gt; component to be registered. Conditions are checked immediately before\r\n    &gt; the bean-definition is due to be registered and are free to veto\r\n    &gt; registration based on any criteria that can be determined at that\r\n    &gt; point.\r\n \r\n 2. autowired with qualifier : \r\n\r\n 2.1 if you want to exclude bean with the some qualifier from autowired\r\n    value in some bean/beans and in xml configuration you can use\r\n    autowire-candidate \r\n    \r\n 2.2 also you can get\r\n    all autowired values by Setter Injection and filter only\r\n    beans that you need.\r\n\r\n\r\n        //no Autowired. Autowired in method\r\n         private List&lt;ParentBean&gt; someBeen = new ArrayList&lt;&gt;();\r\n     \r\n         @Autowired\r\n         public void setSomeBeen(List&lt;ParentBean&gt; beens){\r\n             // if you use java 8 use stream api\r\n             for (ParentBean bean:beens) {                 \r\n                 Qualifier qualifier = bean.getClass().getAnnotation(Qualifier.class);\r\n                 if(qualifier == null ||!qualifier.value().equals(&quot;excludedBean&quot;)){\r\n                     someBeen.add(bean);\r\n                 }\r\n             }\r\n         }\r\n\r\n  2.3 you can use custome [AutowiredAnnotationBeanPostProcessor ][2]:) and customise @Autowired for you requirements if you need something realy custom.\r\n\r\nfrom spring api AutowiredAnnotationBeanPostProcessor :\r\n&gt; Note: A default AutowiredAnnotationBeanPostProcessor will be\r\n&gt; registered by the &quot;context:annotation-config&quot; and\r\n&gt; &quot;context:component-scan&quot; XML tags. Remove or turn off the default\r\n&gt; annotation configuration there if you intend to specify a custom\r\n&gt; AutowiredAnnotationBeanPostProcessor bean definition.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/index.html?org/springframework/context/annotation/Condition.html\r\n  [2]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/AutowiredAnnotationBeanPostProcessor.html","title":"Spring: Autowire bean that does not have qualifier","body":"<p>There might be two cases :</p>\n\n<p>case 1 : Bean3 in not in spring context;</p>\n\n<p>case 2 :  Bean3 is in spring context but not injected in some cases with  @Autowired  , </p>\n\n<ol>\n<li><p>if you need to exclude bean with Qualifier from context at all ,use</p>\n\n<ul>\n<li>Condition. This bean is not registered in application conxtet if matches returns false. as result :</li>\n</ul>\n\n<blockquote>\n  <p>@Autowired List someBeanList; -- here injected all beans instanceof SomeBean and registered in application context.</p>\n</blockquote>\n\n<p>from <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/index.html?org/springframework/context/annotation/Condition.html\" rel=\"nofollow noreferrer\">spring api</a></p>\n\n<blockquote>\n  <p>Condition A single condition that must be matched in order for a\n  component to be registered. Conditions are checked immediately before\n  the bean-definition is due to be registered and are free to veto\n  registration based on any criteria that can be determined at that\n  point.</p>\n</blockquote></li>\n<li><p>autowired with qualifier : </p>\n\n<p>2.1 if you want to exclude bean with the some qualifier from autowired\nvalue in some bean/beans and in xml configuration you can use\nautowire-candidate </p>\n\n<p>2.2 also you can get\nall autowired values by Setter Injection and filter only\nbeans that you need.</p>\n\n<pre><code>//no Autowired. Autowired in method\n private List&lt;ParentBean&gt; someBeen = new ArrayList&lt;&gt;();\n\n @Autowired\n public void setSomeBeen(List&lt;ParentBean&gt; beens){\n     // if you use java 8 use stream api\n     for (ParentBean bean:beens) {                 \n         Qualifier qualifier = bean.getClass().getAnnotation(Qualifier.class);\n         if(qualifier == null ||!qualifier.value().equals(\"excludedBean\")){\n             someBeen.add(bean);\n         }\n     }\n }\n</code></pre>\n\n<p>2.3 you can use custome <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/annotation/AutowiredAnnotationBeanPostProcessor.html\" rel=\"nofollow noreferrer\">AutowiredAnnotationBeanPostProcessor </a>:) and customise @Autowired for you requirements if you need something realy custom.</p></li>\n</ol>\n\n<p>from spring api AutowiredAnnotationBeanPostProcessor :</p>\n\n<blockquote>\n  <p>Note: A default AutowiredAnnotationBeanPostProcessor will be\n  registered by the \"context:annotation-config\" and\n  \"context:component-scan\" XML tags. Remove or turn off the default\n  annotation configuration there if you intend to specify a custom\n  AutowiredAnnotationBeanPostProcessor bean definition.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2914806,"reputation":5288,"user_id":2596915,"accept_rate":14,"display_name":"xyz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1571698600,"creation_date":1498074609,"answer_id":44685101,"question_id":44607457,"body_markdown":"main point **it&#39;s bean for exclude is in context but not injected into some cases with exclude condition** .\r\n \r\n\r\nyou can do exclude bean with qualifier with custom annotaion and BeanPostProcessor. (I did as example for simple case , for collection of bean type , but you can extend it)\r\n\r\nannotaion for exclude : \r\n\r\n    @Component\r\n    @Target(ElementType.FIELD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface ExcludeBeanByQualifierForCollectionAutowired {\r\n    \r\n        String qualifierToExcludeValue();\r\n    \r\n        Class&lt;?&gt; aClass();\r\n    }\r\n\r\nbean post processor with injection\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.beans.factory.config.BeanPostProcessor;\r\n    import org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    \r\n    @Component\r\n    public class ExcludeAutowiredBeanPostProcessor implements BeanPostProcessor {\r\n    \r\n        @Autowired\r\n        private ConfigurableListableBeanFactory configurableBeanFactory;\r\n    \r\n        @Override\r\n        public Object postProcessBeforeInitialization(Object bean, String beanName) {\r\n            Field[] fields = bean.getClass().getDeclaredFields();\r\n            for (Field field : fields) {\r\n                field.setAccessible(true);\r\n                ExcludeBeanByQualifierForCollectionAutowired myAutowiredExcludeAnnotation = field.getAnnotation(ExcludeBeanByQualifierForCollectionAutowired.class);\r\n                if (myAutowiredExcludeAnnotation != null) {\r\n    \r\n                    Collection&lt;Object&gt; beanForInjection = new ArrayList&lt;&gt;();\r\n    \r\n                    String[] beanNamesOfType = configurableBeanFactory.getBeanNamesForType(myAutowiredExcludeAnnotation.aClass());\r\n                    for (String injectedCandidateBeanName : beanNamesOfType) {\r\n    \r\n                        Object beanCandidate = configurableBeanFactory.getBean(injectedCandidateBeanName);\r\n    \r\n                        Qualifier qualifierForBeanCandidate = beanCandidate.getClass().getDeclaredAnnotation(Qualifier.class);\r\n    \r\n                        if (qualifierForBeanCandidate == null || !qualifierForBeanCandidate.value().equals(myAutowiredExcludeAnnotation.qualifierToExcludeValue())) {\r\n                            beanForInjection.add(beanCandidate);\r\n                        }\r\n                    }\r\n                    try {\r\n                        field.set(bean, beanForInjection);\r\n                    } catch (IllegalAccessException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return bean;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public Object postProcessAfterInitialization(Object bean, String beanName) {\r\n            return bean;\r\n        }\r\n    }\r\n\r\n\r\nand example:\r\n\r\n    public class ParentBean {}\r\n    \r\n    public class Bean1Included extends ParentBean {}\r\n    \r\n    public class Bean2Included extends ParentBean {}\r\n    \r\n    public class Bean3Included extends ParentBean {}\r\n    \r\n    @Qualifier(&quot;excludedBean&quot;)\r\n    public class BeanExcluded extends ParentBean {}\r\n\r\n\r\nconfiguration\r\n\r\n    @Configuration\r\n    public class BeanConfiguration {\r\n    \r\n        @Bean\r\n        public Bean1Included getBean1(){\r\n            return new Bean1Included();\r\n        }\r\n    \r\n        @Bean\r\n        public Bean2Included getBean2(){\r\n            return new Bean2Included();\r\n        }\r\n    \r\n        @Bean\r\n        public Bean3Included getBean3(){\r\n            return new Bean3Included();\r\n        }\r\n    \r\n        @Bean\r\n        public BeanExcluded getExcludedBean(){\r\n            return new BeanExcluded();\r\n        }\r\n    \r\n        @Bean\r\n        public ExcludeAutowiredBeanPostProcessor excludeAutowiredBeanPostProcessor(){\r\n            return new ExcludeAutowiredBeanPostProcessor();\r\n        }\r\n    }\r\n\r\nand result:\r\n\r\n    @ExtendWith(SpringExtension.class) // assumes Junit 5\r\n    @ContextConfiguration(classes = BeanConfiguration.class)\r\n    public class ExcludeConditionTest {\r\n    \r\n        @Autowired\r\n        private ApplicationContext context;\r\n        @Autowired\r\n        private BeanExcluded beanExcluded;\r\n        @ExcludeBeanByQualifierForCollectionAutowired(qualifierToExcludeValue = &quot;excludedBean&quot; , aClass = ParentBean.class)\r\n        private List&lt;ParentBean&gt; beensWithoutExclude;\r\n    \r\n        @Test\r\n        void should_not_inject_excluded_bean() {\r\n            assertThat(context.getBeansOfType(ParentBean.class).values())\r\n                    .hasOnlyElementsOfTypes(Bean1Included.class,\r\n                                            Bean2Included.class,\r\n                                            Bean3Included.class,\r\n                                            BeanExcluded.class);\r\n    \r\n            assertThat(beansWithoutExclude)\r\n                    .hasOnlyElementsOfTypes(Bean1Included.class,\r\n                                            Bean2Included.class,\r\n                                            Bean3Included.class)\r\n                    .doesNotHaveAnyElementsOfTypes(BeanExcluded.class);\r\n    \r\n            assertThat(beanExcluded).isNotNull();\r\n        }\r\n    }\r\n\r\n","title":"Spring: Autowire bean that does not have qualifier","body":"<p>main point <strong>it's bean for exclude is in context but not injected into some cases with exclude condition</strong> .</p>\n\n<p>you can do exclude bean with qualifier with custom annotaion and BeanPostProcessor. (I did as example for simple case , for collection of bean type , but you can extend it)</p>\n\n<p>annotaion for exclude : </p>\n\n<pre><code>@Component\n@Target(ElementType.FIELD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ExcludeBeanByQualifierForCollectionAutowired {\n\n    String qualifierToExcludeValue();\n\n    Class&lt;?&gt; aClass();\n}\n</code></pre>\n\n<p>bean post processor with injection</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.beans.factory.config.BeanPostProcessor;\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\nimport org.springframework.stereotype.Component;\n\nimport java.lang.reflect.Field;\nimport java.util.ArrayList;\nimport java.util.Collection;\n\n@Component\npublic class ExcludeAutowiredBeanPostProcessor implements BeanPostProcessor {\n\n    @Autowired\n    private ConfigurableListableBeanFactory configurableBeanFactory;\n\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String beanName) {\n        Field[] fields = bean.getClass().getDeclaredFields();\n        for (Field field : fields) {\n            field.setAccessible(true);\n            ExcludeBeanByQualifierForCollectionAutowired myAutowiredExcludeAnnotation = field.getAnnotation(ExcludeBeanByQualifierForCollectionAutowired.class);\n            if (myAutowiredExcludeAnnotation != null) {\n\n                Collection&lt;Object&gt; beanForInjection = new ArrayList&lt;&gt;();\n\n                String[] beanNamesOfType = configurableBeanFactory.getBeanNamesForType(myAutowiredExcludeAnnotation.aClass());\n                for (String injectedCandidateBeanName : beanNamesOfType) {\n\n                    Object beanCandidate = configurableBeanFactory.getBean(injectedCandidateBeanName);\n\n                    Qualifier qualifierForBeanCandidate = beanCandidate.getClass().getDeclaredAnnotation(Qualifier.class);\n\n                    if (qualifierForBeanCandidate == null || !qualifierForBeanCandidate.value().equals(myAutowiredExcludeAnnotation.qualifierToExcludeValue())) {\n                        beanForInjection.add(beanCandidate);\n                    }\n                }\n                try {\n                    field.set(bean, beanForInjection);\n                } catch (IllegalAccessException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n\n        return bean;\n    }\n\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) {\n        return bean;\n    }\n}\n</code></pre>\n\n<p>and example:</p>\n\n<pre><code>public class ParentBean {}\n\npublic class Bean1Included extends ParentBean {}\n\npublic class Bean2Included extends ParentBean {}\n\npublic class Bean3Included extends ParentBean {}\n\n@Qualifier(\"excludedBean\")\npublic class BeanExcluded extends ParentBean {}\n</code></pre>\n\n<p>configuration</p>\n\n<pre><code>@Configuration\npublic class BeanConfiguration {\n\n    @Bean\n    public Bean1Included getBean1(){\n        return new Bean1Included();\n    }\n\n    @Bean\n    public Bean2Included getBean2(){\n        return new Bean2Included();\n    }\n\n    @Bean\n    public Bean3Included getBean3(){\n        return new Bean3Included();\n    }\n\n    @Bean\n    public BeanExcluded getExcludedBean(){\n        return new BeanExcluded();\n    }\n\n    @Bean\n    public ExcludeAutowiredBeanPostProcessor excludeAutowiredBeanPostProcessor(){\n        return new ExcludeAutowiredBeanPostProcessor();\n    }\n}\n</code></pre>\n\n<p>and result:</p>\n\n<pre><code>@ExtendWith(SpringExtension.class) // assumes Junit 5\n@ContextConfiguration(classes = BeanConfiguration.class)\npublic class ExcludeConditionTest {\n\n    @Autowired\n    private ApplicationContext context;\n    @Autowired\n    private BeanExcluded beanExcluded;\n    @ExcludeBeanByQualifierForCollectionAutowired(qualifierToExcludeValue = \"excludedBean\" , aClass = ParentBean.class)\n    private List&lt;ParentBean&gt; beensWithoutExclude;\n\n    @Test\n    void should_not_inject_excluded_bean() {\n        assertThat(context.getBeansOfType(ParentBean.class).values())\n                .hasOnlyElementsOfTypes(Bean1Included.class,\n                                        Bean2Included.class,\n                                        Bean3Included.class,\n                                        BeanExcluded.class);\n\n        assertThat(beansWithoutExclude)\n                .hasOnlyElementsOfTypes(Bean1Included.class,\n                                        Bean2Included.class,\n                                        Bean3Included.class)\n                .doesNotHaveAnyElementsOfTypes(BeanExcluded.class);\n\n        assertThat(beanExcluded).isNotNull();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8975302,"reputation":111,"user_id":6692390,"display_name":"Felipe Nathan Campigoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657734495,"creation_date":1657734495,"answer_id":72970566,"question_id":44607457,"body_markdown":"Another way to do this, is creating a custom component with `@Qualifier`\r\n```java\r\n\r\n@Component\r\n@Qualifier\r\npublic @interface MyComponent {\r\n    public boolean isMock() default false;\r\n}\r\n\r\n@Autowired\r\n@MyComponent(true)\r\nList&lt;SomeBean&gt; mockList; // will inject just component with &quot;isMock = true&quot;\r\n\r\n@Autowired\r\n@MyComponent(false)\r\nList&lt;SomeBean&gt; notMockList; // will inject just component with &quot;isMock = false&quot;\r\n\r\n\r\n@MyComponent\r\npublic class Bean1 implements SomeBean {}\r\n\r\n@MyComponent\r\npublic class Bean2 implements SomeBean {}\r\n\r\n@MyComponent(isMock = true)\r\npublic class Bean3 implements SomeBean {}\r\n```\r\n\r\nObs: this code is not tested, just giving an idea","title":"Spring: Autowire bean that does not have qualifier","body":"<p>Another way to do this, is creating a custom component with <code>@Qualifier</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component\n@Qualifier\npublic @interface MyComponent {\n    public boolean isMock() default false;\n}\n\n@Autowired\n@MyComponent(true)\nList&lt;SomeBean&gt; mockList; // will inject just component with &quot;isMock = true&quot;\n\n@Autowired\n@MyComponent(false)\nList&lt;SomeBean&gt; notMockList; // will inject just component with &quot;isMock = false&quot;\n\n\n@MyComponent\npublic class Bean1 implements SomeBean {}\n\n@MyComponent\npublic class Bean2 implements SomeBean {}\n\n@MyComponent(isMock = true)\npublic class Bean3 implements SomeBean {}\n</code></pre>\n<p>Obs: this code is not tested, just giving an idea</p>\n"}],"owner":{"account_id":4143931,"reputation":1652,"user_id":3398271,"accept_rate":50,"display_name":"Attilio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5037,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":44685101,"answer_count":4,"score":8,"last_activity_date":1657734495,"creation_date":1497720689,"question_id":44607457,"body_markdown":"Is it possible to autowire a bean that does NOT have the given qualifier in spring? The use case would be to have a list of all beans, but exclude one:\r\n\r\n    @Autowired\r\n    @NotQualifier(&quot;excludedBean&quot;)    // &lt;-- can we do something like this?\r\n    List&lt;SomeBean&gt; someBeanList;\r\n    \r\n    \r\n    public class Bean1 implements SomeBean {}\r\n    \r\n    public class Bean2 implements SomeBean {}\r\n    \r\n    @Qualifier(&quot;excludedBean&quot;)\r\n    public class Bean3 implements SomeBean {}\r\n\r\nIn the example above `someList` should contain an instance of `Bean1` and `Bean2` but not `Bean3`.\r\n\r\n(Remark: I&#39;m aware that the opposite would work, i.e. add some qualifier to `Bean1` and `Bean2` and then autowire with that qualifier.)\r\n\r\n**EDIT**: Some further clarifications:\r\n\r\n- All beans are in the spring context (also the one being excluded).\r\n- Configuration needs to be annotation-based, not xml-based. Therefore, e.g. turning off autowired-candidate [does not work](https://stackoverflow.com/a/40011075/3398271).\r\n- Autowire capability of the bean must remain in general. In other words, I want to exclude the bean from the injection point `List&lt;SomeBean&gt; someBeanList;`, but I want to autowire it somewhere else.","title":"Spring: Autowire bean that does not have qualifier","body":"<p>Is it possible to autowire a bean that does NOT have the given qualifier in spring? The use case would be to have a list of all beans, but exclude one:</p>\n\n<pre><code>@Autowired\n@NotQualifier(\"excludedBean\")    // &lt;-- can we do something like this?\nList&lt;SomeBean&gt; someBeanList;\n\n\npublic class Bean1 implements SomeBean {}\n\npublic class Bean2 implements SomeBean {}\n\n@Qualifier(\"excludedBean\")\npublic class Bean3 implements SomeBean {}\n</code></pre>\n\n<p>In the example above <code>someList</code> should contain an instance of <code>Bean1</code> and <code>Bean2</code> but not <code>Bean3</code>.</p>\n\n<p>(Remark: I'm aware that the opposite would work, i.e. add some qualifier to <code>Bean1</code> and <code>Bean2</code> and then autowire with that qualifier.)</p>\n\n<p><strong>EDIT</strong>: Some further clarifications:</p>\n\n<ul>\n<li>All beans are in the spring context (also the one being excluded).</li>\n<li>Configuration needs to be annotation-based, not xml-based. Therefore, e.g. turning off autowired-candidate <a href=\"https://stackoverflow.com/a/40011075/3398271\">does not work</a>.</li>\n<li>Autowire capability of the bean must remain in general. In other words, I want to exclude the bean from the injection point <code>List&lt;SomeBean&gt; someBeanList;</code>, but I want to autowire it somewhere else.</li>\n</ul>\n"},{"tags":["java","database","connection-pooling","tomcat-jdbc"],"comments":[{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1656608452,"post_id":72817499,"comment_id":128620417,"body_markdown":"If performance is significatn to you, I would consider switching to Hikari connection pool that is 2x-10x faster than Tomcat&#39;s default one. See https://www.baeldung.com/hikaricp","body":"If performance is significatn to you, I would consider switching to Hikari connection pool that is 2x-10x faster than Tomcat&#39;s default one. See <a href=\"https://www.baeldung.com/hikaricp\" rel=\"nofollow noreferrer\">baeldung.com/hikaricp</a>"}],"answers":[{"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656600034,"creation_date":1656600034,"answer_id":72817731,"question_id":72817499,"body_markdown":"Jdbc Connection goes through the network and usually works over TCP/IP and optionally with SSL. You can read [this][1] post to find out why it is expensive.\r\n\r\nYou can use a single connection across multiple methods for different db operations because for each DB operations you would need to create a Statement to execute. \r\n\r\nConnection pooling avoids the overhead of creating Connections during a request and should be used whenever possible. Hikari is one of the fastest.\r\n\r\n\r\n  [1]: https://serverfault.com/questions/418393/why-is-creating-a-new-tcp-connection-regarded-as-expensive","title":"How costly is opening and closing of a DB connection in Connection Pool?","body":"<p>Jdbc Connection goes through the network and usually works over TCP/IP and optionally with SSL. You can read <a href=\"https://serverfault.com/questions/418393/why-is-creating-a-new-tcp-connection-regarded-as-expensive\">this</a> post to find out why it is expensive.</p>\n<p>You can use a single connection across multiple methods for different db operations because for each DB operations you would need to create a Statement to execute.</p>\n<p>Connection pooling avoids the overhead of creating Connections during a request and should be used whenever possible. Hikari is one of the fastest.</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657468425,"creation_date":1657468425,"answer_id":72929838,"question_id":72817499,"body_markdown":"Whether the maintenance (opening, closing, testing) of the database connections in a DBConnection Pool affects the working performance of the application depends on the implementation of the pool and to some extent on the underlying hardware.\r\n\r\nA pool can be implemented to run in its own thread, or to initialise all connections during startup (of the container), or both. If the hardware provides enough cores, the working thread (the &quot;business payload&quot;) will not be affected by the activities of the pool at all.\r\n\r\nOther connection pools are implemented to create a new connection only on demand (a connection is requested, but currently there is none available in the pool) and within the thread of the caller. In this case, the creation of that connection reduces the performance of the working thread – this time! It should not happen too often, otherwise your application needs too many connections and/or does not return them fast enough.\r\n\r\nBut whether you really need a Database Connection Pool at all depends from the kind of your application!\r\n\r\nIf we talk about a typical server application that is intended to run forever and to serve a permanently changing crowd of multiple clients at the same time, it will definitely benefit from a connection pool.\r\n\r\nIf we talk about a tool type application that starts, performs a more or less linear task in a defined amount of time, and terminates when done, then using a connection pool for the database connection(s) *may* cause more overhead than it provides advantages. For such an application it *might* be better to keep the connection open for the whole runtime.\r\n\r\nTaking the RDBMS view, both does not make a difference: in both cases the connections are seen as open.\r\n","title":"How costly is opening and closing of a DB connection in Connection Pool?","body":"<p>Whether the maintenance (opening, closing, testing) of the database connections in a DBConnection Pool affects the working performance of the application depends on the implementation of the pool and to some extent on the underlying hardware.</p>\n<p>A pool can be implemented to run in its own thread, or to initialise all connections during startup (of the container), or both. If the hardware provides enough cores, the working thread (the &quot;business payload&quot;) will not be affected by the activities of the pool at all.</p>\n<p>Other connection pools are implemented to create a new connection only on demand (a connection is requested, but currently there is none available in the pool) and within the thread of the caller. In this case, the creation of that connection reduces the performance of the working thread – this time! It should not happen too often, otherwise your application needs too many connections and/or does not return them fast enough.</p>\n<p>But whether you really need a Database Connection Pool at all depends from the kind of your application!</p>\n<p>If we talk about a typical server application that is intended to run forever and to serve a permanently changing crowd of multiple clients at the same time, it will definitely benefit from a connection pool.</p>\n<p>If we talk about a tool type application that starts, performs a more or less linear task in a defined amount of time, and terminates when done, then using a connection pool for the database connection(s) <em>may</em> cause more overhead than it provides advantages. For such an application it <em>might</em> be better to keep the connection open for the whole runtime.</p>\n<p>Taking the RDBMS view, both does not make a difference: in both cases the connections are seen as open.</p>\n"},{"tags":[],"owner":{"account_id":236189,"reputation":2903,"user_id":503510,"accept_rate":81,"display_name":"Tintin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657695556,"creation_date":1657662929,"answer_id":72958800,"question_id":72817499,"body_markdown":"The answer is - its almost always recommended to re-use DB Connections.  Thats the whole reason why Connection Pools exist.  Not only for the performance, but also for the DB stability.  For instance, if you don&#39;t limit the number of connections and mistakenly open 100s of DB connections, the DB might go down.  Also lets say if DB connections don&#39;t get closed due to some reason (Out of Memory error / shut down / unhandled exception etc), you would have a bigger issue.  Not only would this affect your application but it could also drag down other services using the common DB. Connection pool would contain such catastrophes.\r\n\r\nWhat people don&#39;t realize that behind the simple ORM API there are often 100s of raw SQLs.  Imagine running these sqls independent of connection pools - we are talking about a very large overhead.\r\n\r\nI couldn&#39;t fathom running a commercial DB application without using Connection Pools.\r\n\r\nSome good resources on this topic:  \r\nhttps://www.cockroachlabs.com/blog/what-is-connection-pooling/\r\nhttps://stackoverflow.blog/2020/10/14/improve-database-performance-with-connection-pooling/\r\n","title":"How costly is opening and closing of a DB connection in Connection Pool?","body":"<p>The answer is - its almost always recommended to re-use DB Connections.  Thats the whole reason why Connection Pools exist.  Not only for the performance, but also for the DB stability.  For instance, if you don't limit the number of connections and mistakenly open 100s of DB connections, the DB might go down.  Also lets say if DB connections don't get closed due to some reason (Out of Memory error / shut down / unhandled exception etc), you would have a bigger issue.  Not only would this affect your application but it could also drag down other services using the common DB. Connection pool would contain such catastrophes.</p>\n<p>What people don't realize that behind the simple ORM API there are often 100s of raw SQLs.  Imagine running these sqls independent of connection pools - we are talking about a very large overhead.</p>\n<p>I couldn't fathom running a commercial DB application without using Connection Pools.</p>\n<p>Some good resources on this topic:<br />\n<a href=\"https://www.cockroachlabs.com/blog/what-is-connection-pooling/\" rel=\"nofollow noreferrer\">https://www.cockroachlabs.com/blog/what-is-connection-pooling/</a>\n<a href=\"https://stackoverflow.blog/2020/10/14/improve-database-performance-with-connection-pooling/\">https://stackoverflow.blog/2020/10/14/improve-database-performance-with-connection-pooling/</a></p>\n"},{"tags":[],"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657706418,"creation_date":1657706418,"answer_id":72964385,"question_id":72817499,"body_markdown":"If you have performance as a key parameter then better to switch to the Hikari connection pool. If you are using spring-boot then by default Hikari connection pool is used and you do not need to add any dependency. The beautiful thing about the Hikari connection pool is its entire lifecycle is managed and you do not have to do anything. \r\nAlso, it is always recommended to close the connection and let it return to the connection pool so that other threads can use it, especially in multi-tenant environments. The best way to do this is using &quot;try with resources&quot; and that connection is always closed. \r\n\r\n\r\n\r\n\t\ttry(Connection con = datasource.getConnection()){\r\n\t\t\t // your code here.\r\n\r\n\t\t    } \r\n\r\nTo create your data source you can pass the credentials and create your data source for example:\r\n\r\n\t\tDataSource dataSource =  DataSourceBuilder.create()\r\n\t\t\t\t.driverClassName(JDBC_DRIVER)\r\n\t\t\t\t.url(url)\r\n\t\t\t\t.username(username)\r\n\t\t\t\t.password(password)\r\n\t\t\t\t.build();\r\n\r\nLink: https://github.com/brettwooldridge/HikariCP","title":"How costly is opening and closing of a DB connection in Connection Pool?","body":"<p>If you have performance as a key parameter then better to switch to the Hikari connection pool. If you are using spring-boot then by default Hikari connection pool is used and you do not need to add any dependency. The beautiful thing about the Hikari connection pool is its entire lifecycle is managed and you do not have to do anything.\nAlso, it is always recommended to close the connection and let it return to the connection pool so that other threads can use it, especially in multi-tenant environments. The best way to do this is using &quot;try with resources&quot; and that connection is always closed.</p>\n<pre><code>    try(Connection con = datasource.getConnection()){\n         // your code here.\n\n        } \n</code></pre>\n<p>To create your data source you can pass the credentials and create your data source for example:</p>\n<pre><code>    DataSource dataSource =  DataSourceBuilder.create()\n            .driverClassName(JDBC_DRIVER)\n            .url(url)\n            .username(username)\n            .password(password)\n            .build();\n</code></pre>\n<p>Link: <a href=\"https://github.com/brettwooldridge/HikariCP\" rel=\"nofollow noreferrer\">https://github.com/brettwooldridge/HikariCP</a></p>\n"},{"tags":[],"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657726075,"creation_date":1657726075,"answer_id":72968841,"question_id":72817499,"body_markdown":"If you want to know the answer in your case, just write two implementations (one with a pool, one without) and benchmark the difference. \r\n\r\nExactly *how costly* it is, depends on so many factors that it is hard to tell without *measuring*\r\n\r\nBut in general, a pool will be more efficient.","title":"How costly is opening and closing of a DB connection in Connection Pool?","body":"<p>If you want to know the answer in your case, just write two implementations (one with a pool, one without) and benchmark the difference.</p>\n<p>Exactly <em>how costly</em> it is, depends on so many factors that it is hard to tell without <em>measuring</em></p>\n<p>But in general, a pool will be more efficient.</p>\n"},{"tags":[],"owner":{"account_id":4804733,"reputation":2215,"user_id":3880225,"accept_rate":21,"display_name":"cilap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657733487,"creation_date":1657731652,"answer_id":72970022,"question_id":72817499,"body_markdown":"The costly is always a definition of impact.\r\n\r\nConsider, you have following environment.\r\n\r\nA web application with assuming a UI-transaction (user click) and causes a thread on the webserver. This thread is coupled to one connection/thread on the database\r\n\r\n - 10 connections per 60000ms / 1min or better to say 0.167 connections/s\r\n - 10 connections per 1000ms / 1sec =&gt; 10 connections/s\r\n - 10 connections per 100ms / 0.1sec =&gt; 100 connections/s\r\n - 10 connections per 10ms / 0.01sec =&gt; 1000 connections/s\r\n\r\nI have worked in even bigger environments.\r\nAnd believe me the more you exceed the 100 conn/s by 10^x factors the more pain you will feel without having a clean connection pool.\r\nThe more connections you generate in 1 second the higher latency you generate and the higher impact is it for the database. And the more bandwidth you will eat for recreating over and over a new &quot;water pipeline&quot; for dropping a few drops of water from one side to the other side.\r\n\r\nNow getting back, if you have to access a existing connection from a connection pool it is a matter of micros or few ms to access the database connection. So considering one, it is no real impact at all.\r\nIf you have a network in between, it will grow to probably x*10&#185; to x*10&#178; ms to create a new connection.\r\nConsidering now the impact on your webserver, that each user blocks a thread, memory and network connection it will impact also your webserver load. Typically you run into webserver (e.g. revProxy apache + tomcat, or tomcat alone) thread pools issues on high load environments, if the connections get exhausted or they need too long time (10&#185;, 10&#178; millis) to create\r\n\r\nNow considering also the database.\r\n\r\nIf you have open connection, each connection is typically mapped to a thread on a DB. So the DB can use thread based caches to make prepared statements and to reuse pre-calculated access plan to make the accesses to data on database very fast.\r\nYou may loose this option if you have to recreate the connection over and over again.\r\n\r\nBut as said, if you are in up to 10 connections per second you shall not face any bigger issue without a connection pool, except the first additional delay to access the DB. \r\nIf you get into higher levels, you will have to manage the resources better and to avoid any useless IO-delay like recreating the connection.\r\n\r\nExperience hints:\r\n\r\nit does not cost you anything to use a connection pool. If you have issues with the connection pool, in all my previous performance tuning projects it was a matter of bad configuration.\r\n\r\nYou can configure \r\n\r\n - a connection check to check the connection (use a real SQL to access a real db field). so on every new access the connection gets checked and if defective it gets kicked from the connection pool\r\n - you can define a lifetime of a connections, so that you get new connection after a defined time\r\n\r\n=&gt; all this together ensure that even if your admins are doing crap and do not inform you (killing connection / threads on DB) the pool gets quickly rebuilt and the impact stays very low. Read the docs of the connection pool.\r\n\r\nIs one connection pool better as the other?\r\n\r\nA clear no, it is only getting a matter if you get into high end, or into distributed environments/clusters or into cloud based environments. If you have one connection pool already and it is still maintained, stick to it and become a pro on your connection pool settings.","title":"How costly is opening and closing of a DB connection in Connection Pool?","body":"<p>The costly is always a definition of impact.</p>\n<p>Consider, you have following environment.</p>\n<p>A web application with assuming a UI-transaction (user click) and causes a thread on the webserver. This thread is coupled to one connection/thread on the database</p>\n<ul>\n<li>10 connections per 60000ms / 1min or better to say 0.167 connections/s</li>\n<li>10 connections per 1000ms / 1sec =&gt; 10 connections/s</li>\n<li>10 connections per 100ms / 0.1sec =&gt; 100 connections/s</li>\n<li>10 connections per 10ms / 0.01sec =&gt; 1000 connections/s</li>\n</ul>\n<p>I have worked in even bigger environments.\nAnd believe me the more you exceed the 100 conn/s by 10^x factors the more pain you will feel without having a clean connection pool.\nThe more connections you generate in 1 second the higher latency you generate and the higher impact is it for the database. And the more bandwidth you will eat for recreating over and over a new &quot;water pipeline&quot; for dropping a few drops of water from one side to the other side.</p>\n<p>Now getting back, if you have to access a existing connection from a connection pool it is a matter of micros or few ms to access the database connection. So considering one, it is no real impact at all.\nIf you have a network in between, it will grow to probably x<em>10¹ to x</em>10² ms to create a new connection.\nConsidering now the impact on your webserver, that each user blocks a thread, memory and network connection it will impact also your webserver load. Typically you run into webserver (e.g. revProxy apache + tomcat, or tomcat alone) thread pools issues on high load environments, if the connections get exhausted or they need too long time (10¹, 10² millis) to create</p>\n<p>Now considering also the database.</p>\n<p>If you have open connection, each connection is typically mapped to a thread on a DB. So the DB can use thread based caches to make prepared statements and to reuse pre-calculated access plan to make the accesses to data on database very fast.\nYou may loose this option if you have to recreate the connection over and over again.</p>\n<p>But as said, if you are in up to 10 connections per second you shall not face any bigger issue without a connection pool, except the first additional delay to access the DB.\nIf you get into higher levels, you will have to manage the resources better and to avoid any useless IO-delay like recreating the connection.</p>\n<p>Experience hints:</p>\n<p>it does not cost you anything to use a connection pool. If you have issues with the connection pool, in all my previous performance tuning projects it was a matter of bad configuration.</p>\n<p>You can configure</p>\n<ul>\n<li>a connection check to check the connection (use a real SQL to access a real db field). so on every new access the connection gets checked and if defective it gets kicked from the connection pool</li>\n<li>you can define a lifetime of a connections, so that you get new connection after a defined time</li>\n</ul>\n<p>=&gt; all this together ensure that even if your admins are doing crap and do not inform you (killing connection / threads on DB) the pool gets quickly rebuilt and the impact stays very low. Read the docs of the connection pool.</p>\n<p>Is one connection pool better as the other?</p>\n<p>A clear no, it is only getting a matter if you get into high end, or into distributed environments/clusters or into cloud based environments. If you have one connection pool already and it is still maintained, stick to it and become a pro on your connection pool settings.</p>\n"}],"owner":{"account_id":2918128,"reputation":1303,"user_id":2500927,"accept_rate":30,"display_name":"Avyaan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1031,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1657733487,"creation_date":1656598951,"question_id":72817499,"body_markdown":"If we use any connection pooling framework or Tomcat JDBC pool then how much it is costly to open and close the DB connection?\r\n\r\nIs it a good practice to frequently open and close the DB connection whenever DB operations are required?\r\n   \r\nOr same connection can be carried across different methods for DB operations?","title":"How costly is opening and closing of a DB connection in Connection Pool?","body":"<p>If we use any connection pooling framework or Tomcat JDBC pool then how much it is costly to open and close the DB connection?</p>\n<p>Is it a good practice to frequently open and close the DB connection whenever DB operations are required?</p>\n<p>Or same connection can be carried across different methods for DB operations?</p>\n"},{"tags":["java","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657732742,"creation_date":1657732742,"answer_id":72970252,"question_id":72970251,"body_markdown":"I have found a workaround, but it doesn&#39;t feel &quot;webFlux-y&quot; at all, and I still don&#39;t understand why the `Only one connection receive subscriber allowed` was happening :\r\n\r\n    try {   \r\n     ResponseEntity&lt;String&gt; responseEntity =\r\n          webClient.get()\r\n              .uri(targetServiceUri)\r\n              .retrieve()\r\n              .toEntity(String.class)\r\n              .block();\r\n    }\r\n\tcatch (WebClientException e) {\r\n\r\n      if(e instanceof InternalServerError){\r\n        var internalServerError=(InternalServerError) e;\r\n\r\n        if(internalServerError.getStatusCode().is5xxServerError()){\r\n\r\n          var respBody=internalServerError.getResponseBodyAsString();\r\n\r\n          if(StringUtils.isEmpty(respBody)){\r\n            respBody=MY_STANDARD_MESSAGE +internalServerError.getRawStatusCode() ;\r\n          }\r\n\r\n          throw new MyCustomServiceException(respBody);\r\n\r\n        }\r\n\r\n      }\r\n\t}","title":"&quot;IllegalStateException: Only one connection receive subscriber allowed&quot; when response body is empty","body":"<p>I have found a workaround, but it doesn't feel &quot;webFlux-y&quot; at all, and I still don't understand why the <code>Only one connection receive subscriber allowed</code> was happening :</p>\n<pre><code>try {   \n ResponseEntity&lt;String&gt; responseEntity =\n      webClient.get()\n          .uri(targetServiceUri)\n          .retrieve()\n          .toEntity(String.class)\n          .block();\n}\ncatch (WebClientException e) {\n\n  if(e instanceof InternalServerError){\n    var internalServerError=(InternalServerError) e;\n\n    if(internalServerError.getStatusCode().is5xxServerError()){\n\n      var respBody=internalServerError.getResponseBodyAsString();\n\n      if(StringUtils.isEmpty(respBody)){\n        respBody=MY_STANDARD_MESSAGE +internalServerError.getRawStatusCode() ;\n      }\n\n      throw new MyCustomServiceException(respBody);\n\n    }\n\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":3683051,"reputation":6733,"user_id":3067542,"accept_rate":85,"display_name":"Vincent F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657732742,"creation_date":1657732742,"question_id":72970251,"body_markdown":"I have a Spring Boot 2.3.1 project, in which I use WebClient to call a remote service. \r\n\r\nThe remote service is not very reliable and tends to return 500 errors, with and without response bodies. My goal is throw a custom exception that contains the response body (or a default message) so that I can log it, and here&#39;s my code : \r\n\r\n          webClient.get()\r\n              .uri(targetServiceUri)\r\n              .retrieve()\r\n              .onStatus(HttpStatus::is5xxServerError, clientResponse -&gt;\r\n                  clientResponse.bodyToMono(String.class)\r\n                      .flatMap(error -&gt;\r\n                          Mono.error(new MyCustomServiceException(error))\r\n                      )\r\n              )\r\n              .toEntity(String.class)\r\n              .block();\r\n\r\nI have 2 tests using wiremock, the first one works : \r\n    \r\n      @Test\r\n      void shouldThrowCustomExceptionWhenServiceReturns500ServerErrorWithNoBody() {\r\n        setStubForInValidCheckCall(HttpStatus.INTERNAL_SERVER_ERROR,&quot;{&#39;Error&#39;:&#39;invalid request&#39;}&quot;);\r\n    \r\n        Throwable thrown =\r\n            catchThrowable(() -&gt; myClient.performComplianceCheck(getCompany()));\r\n    \r\n        assertThat(thrown)\r\n            .isInstanceOf(MyCustomServiceException.class)\r\n            .hasMessageContaining(&quot;{&#39;Error&#39;:&#39;invalid request&#39;}&quot;);\r\n      }\r\n      \r\n       private void setStubForInValidCheckCall(HttpStatus httpStatus, String body) {\r\n    \r\n        var response= aResponse().withStatus(httpStatus.value());\r\n    \r\n        if(body!=null){\r\n          response=response.withBody(body);\r\n        }\r\n    \r\n        stubFor(\r\n            get(urlPathMatching(&quot;/targetCompliance&quot;))\r\n                .willReturn(response));\r\n      }\r\n\r\n\r\nHowever, the second test in which the response is 500 but there&#39;s no body (or if it&#39;s an empty string), fails with `&quot;java.lang.IllegalStateException: Only one connection receive subscriber allowed.`\r\n\r\n      @Test\r\n      void shouldThrowCustomExceptionWhenServiceReturns500ServerErrorWithNoBody() {\r\n        setStubForInValidCheckCall(HttpStatus.INTERNAL_SERVER_ERROR,null);\r\n    \r\n        Throwable thrown =\r\n            catchThrowable(() -&gt; myClient.performComplianceCheck(getCompany()));\r\n    \r\n        assertThat(thrown)\r\n            .isInstanceOf(MyCustomServiceException.class)\r\n            .hasMessageContaining(&quot;service returned status 500&quot;);\r\n      }\r\n\r\nI am struggling to understand why this happens, and how to fix it..  \r\n\r\nis it &quot;normal&quot; ? or am I missing something obvious (is it a problem with my test ?) ? \r\n\r\n\r\n\r\n  \r\n\r\n","title":"&quot;IllegalStateException: Only one connection receive subscriber allowed&quot; when response body is empty","body":"<p>I have a Spring Boot 2.3.1 project, in which I use WebClient to call a remote service.</p>\n<p>The remote service is not very reliable and tends to return 500 errors, with and without response bodies. My goal is throw a custom exception that contains the response body (or a default message) so that I can log it, and here's my code :</p>\n<pre><code>      webClient.get()\n          .uri(targetServiceUri)\n          .retrieve()\n          .onStatus(HttpStatus::is5xxServerError, clientResponse -&gt;\n              clientResponse.bodyToMono(String.class)\n                  .flatMap(error -&gt;\n                      Mono.error(new MyCustomServiceException(error))\n                  )\n          )\n          .toEntity(String.class)\n          .block();\n</code></pre>\n<p>I have 2 tests using wiremock, the first one works :</p>\n<pre><code>  @Test\n  void shouldThrowCustomExceptionWhenServiceReturns500ServerErrorWithNoBody() {\n    setStubForInValidCheckCall(HttpStatus.INTERNAL_SERVER_ERROR,&quot;{'Error':'invalid request'}&quot;);\n\n    Throwable thrown =\n        catchThrowable(() -&gt; myClient.performComplianceCheck(getCompany()));\n\n    assertThat(thrown)\n        .isInstanceOf(MyCustomServiceException.class)\n        .hasMessageContaining(&quot;{'Error':'invalid request'}&quot;);\n  }\n  \n   private void setStubForInValidCheckCall(HttpStatus httpStatus, String body) {\n\n    var response= aResponse().withStatus(httpStatus.value());\n\n    if(body!=null){\n      response=response.withBody(body);\n    }\n\n    stubFor(\n        get(urlPathMatching(&quot;/targetCompliance&quot;))\n            .willReturn(response));\n  }\n</code></pre>\n<p>However, the second test in which the response is 500 but there's no body (or if it's an empty string), fails with <code>&quot;java.lang.IllegalStateException: Only one connection receive subscriber allowed.</code></p>\n<pre><code>  @Test\n  void shouldThrowCustomExceptionWhenServiceReturns500ServerErrorWithNoBody() {\n    setStubForInValidCheckCall(HttpStatus.INTERNAL_SERVER_ERROR,null);\n\n    Throwable thrown =\n        catchThrowable(() -&gt; myClient.performComplianceCheck(getCompany()));\n\n    assertThat(thrown)\n        .isInstanceOf(MyCustomServiceException.class)\n        .hasMessageContaining(&quot;service returned status 500&quot;);\n  }\n</code></pre>\n<p>I am struggling to understand why this happens, and how to fix it..</p>\n<p>is it &quot;normal&quot; ? or am I missing something obvious (is it a problem with my test ?) ?</p>\n"},{"tags":["java","arrays","2d","reverse","reversing"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627006551,"creation_date":1627006007,"answer_id":68493242,"question_id":68493039,"body_markdown":"The problem with your code is that you are looping through the 3. The outer loop goes from 0 to 1, and the inner loop goes from 0 to 2, so you only swap these elements with their corresponding element &quot;on the other side&quot;:\r\n\r\n```\r\n1 2\r\n4 5\r\n7 8\r\n```\r\n\r\nYou actually want to swap these with the elements on the other side instead:\r\n\r\n```\r\n1 2 3\r\n4 \r\n```\r\n\r\nBasically, you need to find the half way point using the number of elements, not the number of rows and columns if you are going to swap elements.\r\n\r\n    int rows = reverse.length;\r\n    int cols = reverse[0].length;\r\n    int total = rows * cols;\r\n    int half = total / 2; // calculate halfway point\r\n\r\n    for(int n = 0; n &lt; half; n++) {\r\n      // convert the nth element to a coordinate\r\n      int i = n / cols;\r\n      int j = n % cols;\r\n\r\n      int temp = reverse[rows - 1 - i][cols - 1 - j];\r\n      reverse[rows- 1 - i][cols - 1 - j] = reverse[i][j];\r\n      reverse[i][j] = temp;\r\n    }\r\n\r\nIf you _are_ going to find the halfway point of rows and columns, then you should reverse the rows, and reverse the elements inside each row. I actually think this is a more intuitive approach.\r\n\r\n    int rows = reverse.length;\r\n    int cols = reverse[0].length;\r\n\r\n    // reverse the rows\r\n    for (int i = 0 ; i &lt; rows / 2; i ++) {\r\n      int[] temp = reverse[i];\r\n      reverse[i] = reverse[rows - 1 - i];\r\n      reverse[rows - 1 - i] = temp;\r\n    }\r\n\r\n    // for each row, reverse the elements inside the rows\r\n    for (int i = 0 ; i &lt; rows; i ++) {\r\n      for (int j = 0 ; j &lt; cols / 2 ; j++) {\r\n        int temp = reverse[i][j];\r\n        reverse[i][j] = reverse[i][cols - 1 - j];\r\n        reverse[i][cols - 1 - j] = temp;\r\n      }\r\n    }","title":"How to reverse a 2D array in java?","body":"<p>The problem with your code is that you are looping through the 3. The outer loop goes from 0 to 1, and the inner loop goes from 0 to 2, so you only swap these elements with their corresponding element &quot;on the other side&quot;:</p>\n<pre><code>1 2\n4 5\n7 8\n</code></pre>\n<p>You actually want to swap these with the elements on the other side instead:</p>\n<pre><code>1 2 3\n4 \n</code></pre>\n<p>Basically, you need to find the half way point using the number of elements, not the number of rows and columns if you are going to swap elements.</p>\n<pre><code>int rows = reverse.length;\nint cols = reverse[0].length;\nint total = rows * cols;\nint half = total / 2; // calculate halfway point\n\nfor(int n = 0; n &lt; half; n++) {\n  // convert the nth element to a coordinate\n  int i = n / cols;\n  int j = n % cols;\n\n  int temp = reverse[rows - 1 - i][cols - 1 - j];\n  reverse[rows- 1 - i][cols - 1 - j] = reverse[i][j];\n  reverse[i][j] = temp;\n}\n</code></pre>\n<p>If you <em>are</em> going to find the halfway point of rows and columns, then you should reverse the rows, and reverse the elements inside each row. I actually think this is a more intuitive approach.</p>\n<pre><code>int rows = reverse.length;\nint cols = reverse[0].length;\n\n// reverse the rows\nfor (int i = 0 ; i &lt; rows / 2; i ++) {\n  int[] temp = reverse[i];\n  reverse[i] = reverse[rows - 1 - i];\n  reverse[rows - 1 - i] = temp;\n}\n\n// for each row, reverse the elements inside the rows\nfor (int i = 0 ; i &lt; rows; i ++) {\n  for (int j = 0 ; j &lt; cols / 2 ; j++) {\n    int temp = reverse[i][j];\n    reverse[i][j] = reverse[i][cols - 1 - j];\n    reverse[i][cols - 1 - j] = temp;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627064719,"creation_date":1627006010,"answer_id":68493244,"question_id":68493039,"body_markdown":"You should write it to keep an x/y coordinate of the first cell and another x/y coordinate of the last cell, then swap the cell values. Advance the coordinates right/down and left/up, respectively until they meet.\r\n\r\nThe advantage is that the resulting code can handle jagged arrays too.\r\n\r\n```java\r\nstatic void test(int[][] arr) {\r\n\tfor (int y1 = 0, x1 = 0, y2 = arr.length - 1, x2 = arr[y2].length - 1; y1 &lt; y2 || (y1 == y2 &amp;&amp; x1 &lt; x2); ) {\r\n\t\tint temp = arr[y1][x1];\r\n\t\tarr[y1][x1] = arr[y2][x2];\r\n\t\tarr[y2][x2] = temp;\r\n\t\tif (++x1 == arr[y1].length) {\r\n\t\t\ty1++;   x1 = 0;\r\n\t\t}\r\n\t\tif (x2-- == 0) {\r\n\t\t\ty2--;   x2 = arr[y2].length - 1;\r\n\t\t}\r\n\t}\r\n\tfor (int y = 0; y &lt; arr.length; y++) {\r\n\t\tfor (int x = 0; x &lt; arr[y].length; x++) {\r\n\t\t\tif (x != 0)\r\n\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\tSystem.out.print(arr[y][x]);\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t}\r\n}\r\n```\r\n\r\n*Tests*\r\n\r\n```java\r\ntest(new int[][] {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}});\r\ntest(new int[][] {{1, 2}, {3, 4, 5}, {6, 7, 8, 9}});\r\n```\r\n\r\n*Output*\r\n\r\n```none\r\n9 8 7\r\n6 5 4\r\n3 2 1\r\n```\r\n```none\r\n9 8\r\n7 6 5\r\n4 3 2 1\r\n```","title":"How to reverse a 2D array in java?","body":"<p>You should write it to keep an x/y coordinate of the first cell and another x/y coordinate of the last cell, then swap the cell values. Advance the coordinates right/down and left/up, respectively until they meet.</p>\n<p>The advantage is that the resulting code can handle jagged arrays too.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void test(int[][] arr) {\n    for (int y1 = 0, x1 = 0, y2 = arr.length - 1, x2 = arr[y2].length - 1; y1 &lt; y2 || (y1 == y2 &amp;&amp; x1 &lt; x2); ) {\n        int temp = arr[y1][x1];\n        arr[y1][x1] = arr[y2][x2];\n        arr[y2][x2] = temp;\n        if (++x1 == arr[y1].length) {\n            y1++;   x1 = 0;\n        }\n        if (x2-- == 0) {\n            y2--;   x2 = arr[y2].length - 1;\n        }\n    }\n    for (int y = 0; y &lt; arr.length; y++) {\n        for (int x = 0; x &lt; arr[y].length; x++) {\n            if (x != 0)\n                System.out.print(&quot; &quot;);\n            System.out.print(arr[y][x]);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p><em>Tests</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>test(new int[][] {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}});\ntest(new int[][] {{1, 2}, {3, 4, 5}, {6, 7, 8, 9}});\n</code></pre>\n<p><em>Output</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>9 8 7\n6 5 4\n3 2 1\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>9 8\n7 6 5\n4 3 2 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8595751,"reputation":5395,"user_id":6438819,"display_name":"RaffleBuffle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1627051388,"creation_date":1627012386,"answer_id":68493843,"question_id":68493039,"body_markdown":"Your inner loop needs to iterate to the end of each row, rather than to the middle, and you need to handle the middle row of arrays with an odd number of rows separately:\r\n\r\n    static void reverse(int[][] arr)\r\n    {\r\n    \tint m = arr.length;\r\n    \tint n = arr[0].length;\r\n    \r\n    \tfor(int i=0; i&lt;m/2; i++)\r\n    \t\tfor(int j=0; j&lt;n; j++)\r\n    \t\t\tswap(arr[i], j, arr[m-1-i], n-1-j);\r\n    \t\r\n    \tif(m % 2 == 1) \r\n    \t{\r\n    \t\tint[] mid = arr[m/2];\r\n    \t\tfor(int j=0; j&lt;n/2; j++)\r\n    \t\t\tswap(mid, j, mid, n-1-j);\r\n    \t}\r\n    }\r\n     \r\n\r\n   \r\n    static void swap(int[] a, int i, int[] b, int j)\r\n    {\r\n    \tint tmp = a[i];\r\n    \ta[i] = b[j];\r\n    \tb[j] = tmp;\r\n    }\r\n\r\nTest:\r\n\r\n\tint[][] arr = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\n\treverse(arr);\t\t\r\n\tfor(int[] row : arr) System.out.println(Arrays.toString(row));\r\n\r\nOutput:\r\n\r\n    [9, 8, 7]\r\n    [6, 5, 4]\r\n    [3, 2, 1]\r\n\r\n","title":"How to reverse a 2D array in java?","body":"<p>Your inner loop needs to iterate to the end of each row, rather than to the middle, and you need to handle the middle row of arrays with an odd number of rows separately:</p>\n<pre><code>static void reverse(int[][] arr)\n{\n    int m = arr.length;\n    int n = arr[0].length;\n\n    for(int i=0; i&lt;m/2; i++)\n        for(int j=0; j&lt;n; j++)\n            swap(arr[i], j, arr[m-1-i], n-1-j);\n    \n    if(m % 2 == 1) \n    {\n        int[] mid = arr[m/2];\n        for(int j=0; j&lt;n/2; j++)\n            swap(mid, j, mid, n-1-j);\n    }\n}\n \n\n\nstatic void swap(int[] a, int i, int[] b, int j)\n{\n    int tmp = a[i];\n    a[i] = b[j];\n    b[j] = tmp;\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>int[][] arr = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\nreverse(arr);       \nfor(int[] row : arr) System.out.println(Arrays.toString(row));\n</code></pre>\n<p>Output:</p>\n<pre><code>[9, 8, 7]\n[6, 5, 4]\n[3, 2, 1]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15497705,"reputation":322,"user_id":13907780,"display_name":"Dubey Ravi vinod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657732377,"creation_date":1657732377,"answer_id":72970183,"question_id":68493039,"body_markdown":"package algorithm_in_java_practice;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class _2DArray {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in); \r\n\t\tint m = sc.nextInt(); // row \r\n\t\tint n = sc.nextInt(); // col\r\n\t\t\r\n\t\tint[][] arr = new int[m][n]; // array building with m*n\r\n\t\t\r\n        // builing an array\r\n\t\tfor(int i = 0; i &lt; m; i++) {\r\n\t\t\tfor(int j = 0; j &lt; n; j++) {\r\n\t\t\t\tarr[i][j] = sc.nextInt();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n       // Reverse an array\r\n\t\tfor(int i = arr.length-1; i &gt;= 0; i--) {\r\n\t\t\tfor(int j = arr.length-1; j &gt;= 0; j--) {\r\n\t\t\t\tSystem.out.print(arr[i][j] + &quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","title":"How to reverse a 2D array in java?","body":"<p>package algorithm_in_java_practice;</p>\n<p>import java.util.Arrays;\nimport java.util.Scanner;</p>\n<p>public class _2DArray {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in); \n    int m = sc.nextInt(); // row \n    int n = sc.nextInt(); // col\n    \n    int[][] arr = new int[m][n]; // array building with m*n\n    \n    // builing an array\n    for(int i = 0; i &lt; m; i++) {\n        for(int j = 0; j &lt; n; j++) {\n            arr[i][j] = sc.nextInt();\n        }\n    }\n    \n   // Reverse an array\n    for(int i = arr.length-1; i &gt;= 0; i--) {\n        for(int j = arr.length-1; j &gt;= 0; j--) {\n            System.out.print(arr[i][j] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":18962311,"reputation":17,"user_id":13837520,"display_name":"SanaK5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68493843,"answer_count":4,"score":1,"last_activity_date":1657732377,"creation_date":1627003754,"question_id":68493039,"body_markdown":"I am trying to reverse all of the content in a 2D array. The last value should be the first, and the first value should be the last.\r\n\r\nFor example, an input of \r\n```\r\n[1,2,3],\r\n[4,5,6],\r\n[7,8,9] \r\n```\r\nwould return:\r\n```\r\n[9,8,7]\r\n[6,5,4]\r\n[3,2,1]\r\n```\r\n\r\nThis is some code I have so far, but it is returning this:\r\n```\r\n9 8 3 \r\n6 5 4 \r\n7 2 1 \r\n```\r\n\r\n```\r\nint[][] reverse = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\nfor(int i = 0; i &lt;= (reverse.length / 2); i++) {\r\n    for(int j = 0; j &lt; (reverse[0].length / 2) + 1; j++) {\r\n        System.out.println(i + &quot; &quot; + j);\r\n        System.out.println((reverse.length-1-i) + &quot; &quot; + (reverse[0].length -1 -j));\r\n        int temp = reverse[reverse.length-1-i][reverse[0].length -1 -j];\r\n        reverse[reverse.length-1-i][reverse[0].length - 1 - j] = reverse[i][j];\r\n        reverse[i][j] = temp;\r\n     }\r\n}\r\nfor(int i = 0; i &lt; reverse.length; i++) {\r\n  for(int j = 0; j &lt; reverse[0].length; j++) {\r\n       System.out.print(reverse[i][j]+&quot; &quot;);\r\n  }\r\n  System.out.println(&quot;&quot;);\r\n}\r\n```\r\nHow can fix this so that the 3 and the 7 are switched?","title":"How to reverse a 2D array in java?","body":"<p>I am trying to reverse all of the content in a 2D array. The last value should be the first, and the first value should be the last.</p>\n<p>For example, an input of</p>\n<pre><code>[1,2,3],\n[4,5,6],\n[7,8,9] \n</code></pre>\n<p>would return:</p>\n<pre><code>[9,8,7]\n[6,5,4]\n[3,2,1]\n</code></pre>\n<p>This is some code I have so far, but it is returning this:</p>\n<pre><code>9 8 3 \n6 5 4 \n7 2 1 \n</code></pre>\n<pre><code>int[][] reverse = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\nfor(int i = 0; i &lt;= (reverse.length / 2); i++) {\n    for(int j = 0; j &lt; (reverse[0].length / 2) + 1; j++) {\n        System.out.println(i + &quot; &quot; + j);\n        System.out.println((reverse.length-1-i) + &quot; &quot; + (reverse[0].length -1 -j));\n        int temp = reverse[reverse.length-1-i][reverse[0].length -1 -j];\n        reverse[reverse.length-1-i][reverse[0].length - 1 - j] = reverse[i][j];\n        reverse[i][j] = temp;\n     }\n}\nfor(int i = 0; i &lt; reverse.length; i++) {\n  for(int j = 0; j &lt; reverse[0].length; j++) {\n       System.out.print(reverse[i][j]+&quot; &quot;);\n  }\n  System.out.println(&quot;&quot;);\n}\n</code></pre>\n<p>How can fix this so that the 3 and the 7 are switched?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1657620939,"post_id":72949214,"comment_id":128848768,"body_markdown":"You can probably achieve the effect you want via CSS using a [`Region` with a background image](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html#region) plus -fx-shape or -fx-background-radius, rather than an ImageView.","body":"You can probably achieve the effect you want via CSS using a <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/doc-files/cssref.html#region\" rel=\"nofollow noreferrer\"><code>Region</code> with a background image</a> plus -fx-shape or -fx-background-radius, rather than an ImageView."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1657621096,"post_id":72949214,"comment_id":128848826,"body_markdown":"I don&#39;t quite understand why the linked question doesn&#39;t answer your question.  Also even trying to do this &quot;clip imageViews with a VBox&quot; doesn&#39;t make sense, VBox is a layout plane.  And I don&#39;t undertand why clipping with a rectangle would not allow different corner radii, just adjust the arcWidth and arcHeight or the rectangle for different radii.  Perhaps I am misundertanding though and you want to have different values for the radius in the corners simultaneously.  Adding an image of what you are trying to achieve may help.","body":"I don&#39;t quite understand why the linked question doesn&#39;t answer your question.  Also even trying to do this &quot;clip imageViews with a VBox&quot; doesn&#39;t make sense, VBox is a layout plane.  And I don&#39;t undertand why clipping with a rectangle would not allow different corner radii, just adjust the arcWidth and arcHeight or the rectangle for different radii.  Perhaps I am misundertanding though and you want to have different values for the radius in the corners simultaneously.  Adding an image of what you are trying to achieve may help."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1657621458,"post_id":72949214,"comment_id":128848948,"body_markdown":"Note that a node-based clip can take any arbitrary shape, and you can use shape addition and subtraction to modify it, as well as using SVGPaths and graded opacity, so it is pretty flexible.","body":"Note that a node-based clip can take any arbitrary shape, and you can use shape addition and subtraction to modify it, as well as using SVGPaths and graded opacity, so it is pretty flexible."},{"owner":{"account_id":24593665,"reputation":262,"user_id":18497177,"display_name":"Trizion"},"score":1,"creation_date":1657621892,"post_id":72949214,"comment_id":128849109,"body_markdown":"Yes, I do want different corner radii simultaneously. Im aware that clipping with a VBox does not make sense, what I was trying to bring across was that a VBox can have different corner radii simultaneously, and I want to achieve a clipping as if such a VBox was used.","body":"Yes, I do want different corner radii simultaneously. Im aware that clipping with a VBox does not make sense, what I was trying to bring across was that a VBox can have different corner radii simultaneously, and I want to achieve a clipping as if such a VBox was used."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1657622129,"post_id":72949214,"comment_id":128849191,"body_markdown":"&quot;VBox can have different corner radii simultaneously&quot; -&gt; how do you do that?  VBox is just a node, so if you can modify the corner radii, you can do that with any node.  Do you set the [shape](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/layout/Region.html#shapeProperty)?  That is possible but might be a little trickier than using CSS settings for backgrounds and background images.","body":"&quot;VBox can have different corner radii simultaneously&quot; -&gt; how do you do that?  VBox is just a node, so if you can modify the corner radii, you can do that with any node.  Do you set the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/layout/Region.html#shapeProperty\" rel=\"nofollow noreferrer\">shape</a>?  That is possible but might be a little trickier than using CSS settings for backgrounds and background images."},{"owner":{"account_id":24593665,"reputation":262,"user_id":18497177,"display_name":"Trizion"},"score":0,"creation_date":1657622516,"post_id":72949214,"comment_id":128849306,"body_markdown":"&quot;how do you do that?&quot; For instance, with CSS, such as that in the question above. Now, using that CSS on an imageView does not have an effect, which is pretty much the problem I am facing. Also, i cannot put the imageView into a VBox with such CSS, the imageView still does not have the cornerRadii of the VBox.","body":"&quot;how do you do that?&quot; For instance, with CSS, such as that in the question above. Now, using that CSS on an imageView does not have an effect, which is pretty much the problem I am facing. Also, i cannot put the imageView into a VBox with such CSS, the imageView still does not have the cornerRadii of the VBox."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1657622784,"post_id":72949214,"comment_id":128849390,"body_markdown":"Yes, I understand now.  Your issue is that ImageView is not a Region, so none of the Region CSS will apply to it.  Also, when placed in a Region, it is not a background, so none of the background CSS applied to the Region will apply to the ImageView.  There are a few different ways to solve this, one being the method in the first comment, another being setting a shape on the region and a third using a shaped clip.  I can&#39;t write up an answer now, but will write one up later if there is not already one.","body":"Yes, I understand now.  Your issue is that ImageView is not a Region, so none of the Region CSS will apply to it.  Also, when placed in a Region, it is not a background, so none of the background CSS applied to the Region will apply to the ImageView.  There are a few different ways to solve this, one being the method in the first comment, another being setting a shape on the region and a third using a shaped clip.  I can&#39;t write up an answer now, but will write one up later if there is not already one."},{"owner":{"account_id":24593665,"reputation":262,"user_id":18497177,"display_name":"Trizion"},"score":1,"creation_date":1657623062,"post_id":72949214,"comment_id":128849457,"body_markdown":"Okay, I will try the &quot;shape-addition-clip&quot; - way, if it works, I will post it as an answer if there is none by then. Also, thanks for your efforts and your suggestion to add an example graphic, i will do that now.","body":"Okay, I will try the &quot;shape-addition-clip&quot; - way, if it works, I will post it as an answer if there is none by then. Also, thanks for your efforts and your suggestion to add an example graphic, i will do that now."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1657625920,"post_id":72949214,"comment_id":128850407,"body_markdown":"See also [_JavaFX css border-radius issue_](https://stackoverflow.com/q/38004410/230513).","body":"See also <a href=\"https://stackoverflow.com/q/38004410/230513\"><i>JavaFX css border-radius issue</i></a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1657648029,"post_id":72949214,"comment_id":128858938,"body_markdown":"If you&#39;re good at SVG paths, then you could probably do this via CSS and `-fx-shape`.","body":"If you&#39;re good at SVG paths, then you could probably do this via CSS and <code>-fx-shape</code>."},{"owner":{"account_id":24593665,"reputation":262,"user_id":18497177,"display_name":"Trizion"},"score":2,"creation_date":1657648159,"post_id":72949214,"comment_id":128858980,"body_markdown":"Yeah, I&#39;m not... :( Also, I wanted a flexible solution thats reusable for several images with different radii each. And the Util class I wrote does that just fine.","body":"Yeah, I&#39;m not... :( Also, I wanted a flexible solution thats reusable for several images with different radii each. And the Util class I wrote does that just fine."}],"answers":[{"tags":[],"owner":{"account_id":24593665,"reputation":262,"user_id":18497177,"display_name":"Trizion"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657627085,"creation_date":1657627085,"answer_id":72951931,"question_id":72949214,"body_markdown":"One possible solution is to add several shapes and clip the imageView with these added shapes. The below Util class does exactly that.\r\nTo achieve the effect the CSS code `-fx-background-radius: 64 0 16 0` would have (if it worked for imageViews), you would call: \r\n\r\n`ImageView rounded = ImageUtils.round(image, 64, 0, 16, 0);`\r\n\r\nThe way the Util class works is that it generates four different rectangles for each corner with the corresponding radius, and makes these four rectangles overlap in the center like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt then puts these in a group and clips an ImageView with that group:\r\n\r\n    public class ImageUtils {\r\n    \r\n        public static ImageView round(Image image,\r\n                                  double topLeft,\r\n                                  double topRight,\r\n                                  double bottomRight,\r\n                                  double bottomLeft) {\r\n            topLeft *= 2;\r\n            topRight *= 2;\r\n            bottomRight *= 2;\r\n            bottomLeft *= 2;\r\n    \r\n            double width = image.getWidth();\r\n            double height = image.getHeight();\r\n    \r\n            double topEdgeHalf = (width - topLeft - topRight) / 2;\r\n            double rightEdgeHalf = (height - topRight - bottomRight) / 2;\r\n            double bottomEdgeHalf = (width - bottomLeft - bottomRight) / 2;\r\n            double leftEdgeHalf = (height - topLeft - bottomLeft) / 2;\r\n    \r\n            double topLeftWidth = topEdgeHalf + 2 * topLeft;\r\n            double topLeftHeight = leftEdgeHalf + 2 * topLeft;\r\n            double topLeftX = 0;\r\n            double topLeftY = 0;\r\n    \r\n            double topRightWidth = topEdgeHalf + 2 * topRight;\r\n            double topRightHeight = rightEdgeHalf + 2 * topRight;\r\n            double topRightX = width - topRightWidth;\r\n            double topRightY = 0;\r\n    \r\n            double bottomRightWidth = bottomEdgeHalf + 2 * bottomRight;\r\n            double bottomRightHeight = rightEdgeHalf + 2 * bottomRight;\r\n            double bottomRightX = width - bottomRightWidth;\r\n            double bottomRightY = height - bottomRightHeight;\r\n    \r\n            double bottomLeftWidth = bottomEdgeHalf + 2 * bottomLeft;\r\n            double bottomLeftHeight = leftEdgeHalf + 2 * bottomLeft;\r\n            double bottomLeftX = 0;\r\n            double bottomLeftY = height - bottomLeftHeight;\r\n    \r\n            Rectangle topLeftRect = new Rectangle(topLeftX, topLeftY, topLeftWidth, topLeftHeight);\r\n            Rectangle topRightRect = new Rectangle(topRightX, topRightY, topRightWidth, topRightHeight);\r\n            Rectangle bottomRightRect = new Rectangle(bottomRightX, bottomRightY, bottomRightWidth, bottomRightHeight);\r\n            Rectangle bottomLeftRect = new Rectangle(bottomLeftX, bottomLeftY, bottomLeftWidth, bottomLeftHeight);\r\n    \r\n            topLeftRect.setArcWidth(topLeft);\r\n            topLeftRect.setArcHeight(topLeft);\r\n            topRightRect.setArcWidth(topRight);\r\n            topRightRect.setArcHeight(topRight);\r\n            bottomRightRect.setArcWidth(bottomRight);\r\n            bottomRightRect.setArcHeight(bottomRight);\r\n            bottomLeftRect.setArcWidth(bottomLeft);\r\n            bottomLeftRect.setArcHeight(bottomLeft);\r\n    \r\n            Group clipGroup = new Group(\r\n                    topLeftRect,\r\n                    topRightRect,\r\n                    bottomRightRect,\r\n                    bottomLeftRect\r\n            );\r\n    \r\n            ImageView clipped = new ImageView(image);\r\n            clipped.setClip(clipGroup);\r\n            return clipped;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aFDTU.png","title":"JavaFX Image with different corners","body":"<p>One possible solution is to add several shapes and clip the imageView with these added shapes. The below Util class does exactly that.\nTo achieve the effect the CSS code <code>-fx-background-radius: 64 0 16 0</code> would have (if it worked for imageViews), you would call:</p>\n<p><code>ImageView rounded = ImageUtils.round(image, 64, 0, 16, 0);</code></p>\n<p>The way the Util class works is that it generates four different rectangles for each corner with the corresponding radius, and makes these four rectangles overlap in the center like this:</p>\n<p><a href=\"https://i.stack.imgur.com/aFDTU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aFDTU.png\" alt=\"enter image description here\" /></a></p>\n<p>It then puts these in a group and clips an ImageView with that group:</p>\n<pre><code>public class ImageUtils {\n\n    public static ImageView round(Image image,\n                              double topLeft,\n                              double topRight,\n                              double bottomRight,\n                              double bottomLeft) {\n        topLeft *= 2;\n        topRight *= 2;\n        bottomRight *= 2;\n        bottomLeft *= 2;\n\n        double width = image.getWidth();\n        double height = image.getHeight();\n\n        double topEdgeHalf = (width - topLeft - topRight) / 2;\n        double rightEdgeHalf = (height - topRight - bottomRight) / 2;\n        double bottomEdgeHalf = (width - bottomLeft - bottomRight) / 2;\n        double leftEdgeHalf = (height - topLeft - bottomLeft) / 2;\n\n        double topLeftWidth = topEdgeHalf + 2 * topLeft;\n        double topLeftHeight = leftEdgeHalf + 2 * topLeft;\n        double topLeftX = 0;\n        double topLeftY = 0;\n\n        double topRightWidth = topEdgeHalf + 2 * topRight;\n        double topRightHeight = rightEdgeHalf + 2 * topRight;\n        double topRightX = width - topRightWidth;\n        double topRightY = 0;\n\n        double bottomRightWidth = bottomEdgeHalf + 2 * bottomRight;\n        double bottomRightHeight = rightEdgeHalf + 2 * bottomRight;\n        double bottomRightX = width - bottomRightWidth;\n        double bottomRightY = height - bottomRightHeight;\n\n        double bottomLeftWidth = bottomEdgeHalf + 2 * bottomLeft;\n        double bottomLeftHeight = leftEdgeHalf + 2 * bottomLeft;\n        double bottomLeftX = 0;\n        double bottomLeftY = height - bottomLeftHeight;\n\n        Rectangle topLeftRect = new Rectangle(topLeftX, topLeftY, topLeftWidth, topLeftHeight);\n        Rectangle topRightRect = new Rectangle(topRightX, topRightY, topRightWidth, topRightHeight);\n        Rectangle bottomRightRect = new Rectangle(bottomRightX, bottomRightY, bottomRightWidth, bottomRightHeight);\n        Rectangle bottomLeftRect = new Rectangle(bottomLeftX, bottomLeftY, bottomLeftWidth, bottomLeftHeight);\n\n        topLeftRect.setArcWidth(topLeft);\n        topLeftRect.setArcHeight(topLeft);\n        topRightRect.setArcWidth(topRight);\n        topRightRect.setArcHeight(topRight);\n        bottomRightRect.setArcWidth(bottomRight);\n        bottomRightRect.setArcHeight(bottomRight);\n        bottomLeftRect.setArcWidth(bottomLeft);\n        bottomLeftRect.setArcHeight(bottomLeft);\n\n        Group clipGroup = new Group(\n                topLeftRect,\n                topRightRect,\n                bottomRightRect,\n                bottomLeftRect\n        );\n\n        ImageView clipped = new ImageView(image);\n        clipped.setClip(clipGroup);\n        return clipped;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657732261,"creation_date":1657666525,"answer_id":72959171,"question_id":72949214,"body_markdown":"**Clip ImageView with Path**\r\n\r\n[![clip imageview javafx][1]][1]\r\n\r\nIn this approach an `ImageView`  is clipped with a `Path` . That path will adapt at FitWidth and FitHeight values of each imageView  passed to `getClip` method . The second and third  arguments passed are  values to calculate  radius of top and bottom  round corner  based on Fitheight .\r\n\r\n`getClip` method will draw a path like so : \r\n\r\n[![path ][2]][2]\r\n\r\nThis is a single class javafx app you can try \r\n\r\n**App.java**\r\n\r\n   \r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            ImageView imageView = new ImageView(&quot;https://ioppublishing.org/wp-content/uploads/2017/03/cat-web-cc0.jpg&quot;);\r\n            imageView.setFitHeight(300);\r\n            imageView.setFitWidth(300);\r\n            imageView.setClip(getClip(imageView, 0.1,0.3));\r\n    \r\n            ImageView imageView1 = new ImageView(&quot;https://ioppublishing.org/wp-content/uploads/2017/03/cat-web-cc0.jpg&quot;);\r\n            imageView1.setFitHeight(400);\r\n            imageView1.setFitWidth(400);\r\n            imageView1.setClip(getClip(imageView1, 0.2,0.3));\r\n    \r\n            VBox vBox = new VBox(imageView, imageView1);\r\n            vBox.setSpacing(20);\r\n            vBox.setPadding(new Insets(20));\r\n            vBox.setAlignment(Pos.CENTER);\r\n            vBox.setFillWidth(true);\r\n            var scene = new Scene(new StackPane(vBox), 1024, 800);\r\n    \r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;clipping with path&quot;);\r\n            stage.show();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        private Node getClip(ImageView imageView, double radiusTop,double radiusBot) {\r\n            Path clip;\r\n    \r\n            double height = imageView.getFitHeight();\r\n            double width = imageView.getFitWidth();\r\n            double radius1 = height * radiusTop;\r\n            double radius2 = height * radiusBot;\r\n            clip = new Path(new MoveTo(0, radius1), new ArcTo(radius1, radius1, 0, radius1, 0, false, true),\r\n                    new HLineTo(width),\r\n                    new VLineTo(height - radius2),\r\n                    new ArcTo(radius2, radius2, 0, width - radius2, height, false, true),\r\n                    new HLineTo(0));\r\n    \r\n            clip.setFill(Color.ALICEBLUE);\r\n    \r\n            return clip;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n----------\r\n**Update for all corners**\r\n[![clip all corners javafx][3]][3]\r\n\r\n**App.java**\r\n\r\n    public class App extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            ImageView imageView = new ImageView(&quot;https://ioppublishing.org/wp-content/uploads/2017/03/cat-web-cc0.jpg&quot;);\r\n            imageView.setFitHeight(300);\r\n            imageView.setFitWidth(300);\r\n            imageView.setClip(getClip(imageView, 0.3, 0.1, 0.2, 0.1));\r\n    \r\n            ImageView imageView1 = new ImageView(&quot;https://ioppublishing.org/wp-content/uploads/2017/03/cat-web-cc0.jpg&quot;);\r\n            imageView1.setFitHeight(400);\r\n            imageView1.setFitWidth(400);\r\n            imageView1.setClip(getClip(imageView1, 0.3, 0.2, 0.1, 0.2));\r\n    \r\n            VBox vBox = new VBox(imageView, imageView1);\r\n            vBox.setSpacing(20);\r\n            vBox.setPadding(new Insets(20));\r\n            vBox.setAlignment(Pos.CENTER);\r\n            vBox.setFillWidth(true);\r\n            var scene = new Scene(new StackPane(vBox), 1024, 800);\r\n    \r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;clipping with path&quot;);\r\n            stage.show();\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        private Node getClip(ImageView imageView, double topLeft, double topRight, double bottomLeft, double bottomRight) {\r\n            Path clip;\r\n    \r\n            double height = imageView.getFitHeight();\r\n            double width = imageView.getFitWidth();\r\n            double radius1 = height * topLeft;\r\n            double radius2 = height * topRight;\r\n            double radius3 = height * bottomLeft;\r\n            double radius4 = height * bottomRight;\r\n    \r\n            clip = new Path(new MoveTo(0, radius1),\r\n                    new ArcTo(radius1, radius1, 0, radius1, 0, false, true),\r\n                    new HLineTo(width - radius2),\r\n                    new ArcTo(radius2, radius2, 0, width, radius2, false, true),\r\n                    new VLineTo(height - radius4),\r\n                    new ArcTo(radius4, radius4, 0, width - radius4, height, false, true),\r\n                    new HLineTo(radius3),\r\n                    new ArcTo(radius3, radius3, 0, 0, height - radius3, false, true));\r\n    \r\n            clip.setFill(Color.ALICEBLUE);\r\n    \r\n            return clip;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n \r\n\r\n\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sBTAQ.png\r\n  [2]: https://i.stack.imgur.com/icw5b.jpg\r\n  [3]: https://i.stack.imgur.com/VVjER.png\r\n","title":"JavaFX Image with different corners","body":"<p><strong>Clip ImageView with Path</strong></p>\n<p><a href=\"https://i.stack.imgur.com/sBTAQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sBTAQ.png\" alt=\"clip imageview javafx\" /></a></p>\n<p>In this approach an <code>ImageView</code>  is clipped with a <code>Path</code> . That path will adapt at FitWidth and FitHeight values of each imageView  passed to <code>getClip</code> method . The second and third  arguments passed are  values to calculate  radius of top and bottom  round corner  based on Fitheight .</p>\n<p><code>getClip</code> method will draw a path like so :</p>\n<p><a href=\"https://i.stack.imgur.com/icw5b.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/icw5b.jpg\" alt=\"path \" /></a></p>\n<p>This is a single class javafx app you can try</p>\n<p><strong>App.java</strong></p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        ImageView imageView = new ImageView(&quot;https://ioppublishing.org/wp-content/uploads/2017/03/cat-web-cc0.jpg&quot;);\n        imageView.setFitHeight(300);\n        imageView.setFitWidth(300);\n        imageView.setClip(getClip(imageView, 0.1,0.3));\n\n        ImageView imageView1 = new ImageView(&quot;https://ioppublishing.org/wp-content/uploads/2017/03/cat-web-cc0.jpg&quot;);\n        imageView1.setFitHeight(400);\n        imageView1.setFitWidth(400);\n        imageView1.setClip(getClip(imageView1, 0.2,0.3));\n\n        VBox vBox = new VBox(imageView, imageView1);\n        vBox.setSpacing(20);\n        vBox.setPadding(new Insets(20));\n        vBox.setAlignment(Pos.CENTER);\n        vBox.setFillWidth(true);\n        var scene = new Scene(new StackPane(vBox), 1024, 800);\n\n        stage.setScene(scene);\n        stage.setTitle(&quot;clipping with path&quot;);\n        stage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    private Node getClip(ImageView imageView, double radiusTop,double radiusBot) {\n        Path clip;\n\n        double height = imageView.getFitHeight();\n        double width = imageView.getFitWidth();\n        double radius1 = height * radiusTop;\n        double radius2 = height * radiusBot;\n        clip = new Path(new MoveTo(0, radius1), new ArcTo(radius1, radius1, 0, radius1, 0, false, true),\n                new HLineTo(width),\n                new VLineTo(height - radius2),\n                new ArcTo(radius2, radius2, 0, width - radius2, height, false, true),\n                new HLineTo(0));\n\n        clip.setFill(Color.ALICEBLUE);\n\n        return clip;\n\n    }\n\n}\n</code></pre>\n<hr />\n<p><strong>Update for all corners</strong>\n<a href=\"https://i.stack.imgur.com/VVjER.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VVjER.png\" alt=\"clip all corners javafx\" /></a></p>\n<p><strong>App.java</strong></p>\n<pre><code>public class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n\n        ImageView imageView = new ImageView(&quot;https://ioppublishing.org/wp-content/uploads/2017/03/cat-web-cc0.jpg&quot;);\n        imageView.setFitHeight(300);\n        imageView.setFitWidth(300);\n        imageView.setClip(getClip(imageView, 0.3, 0.1, 0.2, 0.1));\n\n        ImageView imageView1 = new ImageView(&quot;https://ioppublishing.org/wp-content/uploads/2017/03/cat-web-cc0.jpg&quot;);\n        imageView1.setFitHeight(400);\n        imageView1.setFitWidth(400);\n        imageView1.setClip(getClip(imageView1, 0.3, 0.2, 0.1, 0.2));\n\n        VBox vBox = new VBox(imageView, imageView1);\n        vBox.setSpacing(20);\n        vBox.setPadding(new Insets(20));\n        vBox.setAlignment(Pos.CENTER);\n        vBox.setFillWidth(true);\n        var scene = new Scene(new StackPane(vBox), 1024, 800);\n\n        stage.setScene(scene);\n        stage.setTitle(&quot;clipping with path&quot;);\n        stage.show();\n\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    private Node getClip(ImageView imageView, double topLeft, double topRight, double bottomLeft, double bottomRight) {\n        Path clip;\n\n        double height = imageView.getFitHeight();\n        double width = imageView.getFitWidth();\n        double radius1 = height * topLeft;\n        double radius2 = height * topRight;\n        double radius3 = height * bottomLeft;\n        double radius4 = height * bottomRight;\n\n        clip = new Path(new MoveTo(0, radius1),\n                new ArcTo(radius1, radius1, 0, radius1, 0, false, true),\n                new HLineTo(width - radius2),\n                new ArcTo(radius2, radius2, 0, width, radius2, false, true),\n                new VLineTo(height - radius4),\n                new ArcTo(radius4, radius4, 0, width - radius4, height, false, true),\n                new HLineTo(radius3),\n                new ArcTo(radius3, radius3, 0, 0, height - radius3, false, true));\n\n        clip.setFill(Color.ALICEBLUE);\n\n        return clip;\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24593665,"reputation":262,"user_id":18497177,"display_name":"Trizion"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72959171,"answer_count":2,"score":4,"last_activity_date":1657732261,"creation_date":1657614403,"question_id":72949214,"body_markdown":"As answered in [this thread][1], ImageViews can be clipped to achieve corner rounding (Corner rounding of imageViews cannot be achieved with CSS). \r\nHowever, I am trying to have different corner radii, very much like described by this bit of CSS:\r\n\r\n    .background {\r\n        -fx-background-radius: 64 0 16 0;\r\n    }\r\n\r\nWhat i want the image to look like (Image = black area) is pretty much:\r\n[![enter image description here][2]][2]\r\n\r\nThe problem I am currently facing is that it is not possible to clip `imageViews` with a `VBox`, for instance. I could clip, however, the `imageView` with a `Rectangle`, but this again, does not give me the possibility to have different corner radii.\r\n\r\nHow could I achieve the same effect as the above CSS code (which of course does not work with an imageView) and have an image have different corners?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20489908/border-radius-and-shadow-on-imageview\r\n  [2]: https://i.stack.imgur.com/ItzNJ.png","title":"JavaFX Image with different corners","body":"<p>As answered in <a href=\"https://stackoverflow.com/questions/20489908/border-radius-and-shadow-on-imageview\">this thread</a>, ImageViews can be clipped to achieve corner rounding (Corner rounding of imageViews cannot be achieved with CSS).\nHowever, I am trying to have different corner radii, very much like described by this bit of CSS:</p>\n<pre><code>.background {\n    -fx-background-radius: 64 0 16 0;\n}\n</code></pre>\n<p>What i want the image to look like (Image = black area) is pretty much:\n<a href=\"https://i.stack.imgur.com/ItzNJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ItzNJ.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem I am currently facing is that it is not possible to clip <code>imageViews</code> with a <code>VBox</code>, for instance. I could clip, however, the <code>imageView</code> with a <code>Rectangle</code>, but this again, does not give me the possibility to have different corner radii.</p>\n<p>How could I achieve the same effect as the above CSS code (which of course does not work with an imageView) and have an image have different corners?</p>\n"},{"tags":["java","macos","swing","imageicon"],"comments":[{"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"score":0,"creation_date":1340922591,"post_id":11253772,"comment_id":14791069,"body_markdown":"Where is the image located? Use `getResource()` to load the image, ie: `getClass().getClassLoader().getResource(&quot;logo.png&quot;)`","body":"Where is the image located? Use <code>getResource()</code> to load the image, ie: <code>getClass().getClassLoader().getResource(&quot;logo.png&quot;)</code>"},{"owner":{"account_id":145274,"reputation":7763,"user_id":354979,"accept_rate":66,"display_name":"rhombidodecahedron"},"score":0,"creation_date":1340923973,"post_id":11253772,"comment_id":14791428,"body_markdown":"The same error appears when I do this.","body":"The same error appears when I do this."},{"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"score":0,"creation_date":1340925268,"post_id":11253772,"comment_id":14791694,"body_markdown":"Make sure the `URL` returned by `getResource()` is not null.","body":"Make sure the <code>URL</code> returned by <code>getResource()</code> is not null."},{"owner":{"account_id":392377,"reputation":11332,"user_id":753603,"accept_rate":96,"display_name":"TeaCupApp"},"score":0,"creation_date":1340925971,"post_id":11253772,"comment_id":14791856,"body_markdown":"It seems like it has been broken since java se 6.","body":"It seems like it has been broken since java se 6."},{"owner":{"account_id":145274,"reputation":7763,"user_id":354979,"accept_rate":66,"display_name":"rhombidodecahedron"},"score":0,"creation_date":1340926741,"post_id":11253772,"comment_id":14792028,"body_markdown":"If that functionality is broken, then how can I set the icon image?","body":"If that functionality is broken, then how can I set the icon image?"},{"owner":{"account_id":392377,"reputation":11332,"user_id":753603,"accept_rate":96,"display_name":"TeaCupApp"},"score":1,"creation_date":1340926875,"post_id":11253772,"comment_id":14792064,"body_markdown":"you are trying to set the Dock icon? or the Application menubar Icon?","body":"you are trying to set the Dock icon? or the Application menubar Icon?"},{"owner":{"account_id":145274,"reputation":7763,"user_id":354979,"accept_rate":66,"display_name":"rhombidodecahedron"},"score":0,"creation_date":1340928074,"post_id":11253772,"comment_id":14792300,"body_markdown":"The dock icon, which should be the same icon as the file you double click to open the program, and also the same as the icon that appears when you cmd+tab.","body":"The dock icon, which should be the same icon as the file you double click to open the program, and also the same as the icon that appears when you cmd+tab."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1340929559,"post_id":11253772,"comment_id":14792561,"body_markdown":"Please edit your question to include these requirements.","body":"Please edit your question to include these requirements."},{"owner":{"account_id":30810,"reputation":23008,"user_id":84237,"accept_rate":100,"display_name":"Arjan"},"score":0,"creation_date":1436034945,"post_id":11253772,"comment_id":50447815,"body_markdown":"See also Apple&#39;s [Java Development Guide for Mac](https://developer.apple.com/library/mac/documentation/Java/Conceptual/Java14Development/00-Intro/JavaDevelopment.html).","body":"See also Apple&#39;s <a href=\"https://developer.apple.com/library/mac/documentation/Java/Conceptual/Java14Development/00-Intro/JavaDevelopment.html\" rel=\"nofollow noreferrer\">Java Development Guide for Mac</a>."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1641218501,"post_id":11253772,"comment_id":124742800,"body_markdown":"Does this answer your question? [How do you change the Dock Icon of a Java program?](https://stackoverflow.com/questions/6006173/how-do-you-change-the-dock-icon-of-a-java-program)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6006173/how-do-you-change-the-dock-icon-of-a-java-program\">How do you change the Dock Icon of a Java program?</a>"},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1641218557,"post_id":11253772,"comment_id":124742816,"body_markdown":"A better answer that works on JDK 9+  is provided here https://stackoverflow.com/a/56924202/48136","body":"A better answer that works on JDK 9+  is provided here <a href=\"https://stackoverflow.com/a/56924202/48136\">stackoverflow.com/a/56924202/48136</a>"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1340940912,"creation_date":1340929966,"answer_id":11254727,"question_id":11253772,"body_markdown":"You can place your [`.icns`][1] file in the application bundle&#39;s `Contents/Resources` directory and reference it in your `Info.plist` file. For example, a file named `ApplicationName.icns` would be referenced by a `&lt;dict&gt;` entry of this form:\r\n\r\n    &lt;key&gt;CFBundleIconFile&lt;/key&gt;\r\n    &lt;string&gt;ApplicationName.icns&lt;/string&gt;\r\n\r\nSome related details are mentioned [here][2].\r\n\r\n\r\n  [1]: https://apple.stackexchange.com/q/40652\r\n  [2]: https://stackoverflow.com/a/8956715/230513","title":"Setting the default application icon image in Java swing on OS X","body":"<p>You can place your <a href=\"https://apple.stackexchange.com/q/40652\"><code>.icns</code></a> file in the application bundle's <code>Contents/Resources</code> directory and reference it in your <code>Info.plist</code> file. For example, a file named <code>ApplicationName.icns</code> would be referenced by a <code>&lt;dict&gt;</code> entry of this form:</p>\n\n<pre><code>&lt;key&gt;CFBundleIconFile&lt;/key&gt;\n&lt;string&gt;ApplicationName.icns&lt;/string&gt;\n</code></pre>\n\n<p>Some related details are mentioned <a href=\"https://stackoverflow.com/a/8956715/230513\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":60264,"reputation":23015,"user_id":180090,"accept_rate":75,"display_name":"Keith Randall"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1341170936,"creation_date":1341116536,"answer_id":11279556,"question_id":11253772,"body_markdown":"[`setIconImage`][1] does not set the jar icon.  It will set the icon for what the minimized window for that `JFrame` will look like.  The jar icon (which controls the finder icon and the dock application icon) cannot be set in the jar file itself.  You just get the default icon provided by the OS.  You will need to wrap it using something like [JarBundler][2] for OS X or Launch4J for Windows.\r\n\r\nYou can set the application dock icon while your application is running, see [`com.apple.eawt.Application.setDockIconImage`][3].  It isn&#39;t perfect though, because when you double-click on your jar, it starts up in the dock using the generic java icon and only switches to your custom icon after a bounce or two when the java code starts running.  Also, I don&#39;t think it would set the dock icon for an jar which isn&#39;t running (not that you can drag a jar file into the dock anyway - doesn&#39;t seem to work for me).\r\n\r\nHere&#39;s some code that demonstrates the different images you can set:\r\n\r\n    import com.apple.eawt.Application;\r\n    import javax.swing.*;\r\n    \r\n    class SetIcon extends JFrame {\r\n    \r\n        SetIcon() {\r\n            setIconImage(new ImageIcon(&quot;doc.png&quot;).getImage());\r\n            Application.getApplication().setDockIconImage(\r\n                new ImageIcon(&quot;app.png&quot;).getImage());\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n            SetIcon s = new SetIcon();\r\n            s.setVisible(true);\r\n        }\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/javax/swing/JFrame.html#setIconImage%28java.awt.Image%29\r\n  [2]: https://developer.apple.com/library/mac/#documentation/Java/Conceptual/Jar_Bundler/About/About.html\r\n  [3]: https://developer.apple.com/library/mac/documentation/Java/Reference/JavaSE6_AppleExtensionsRef/api/com/apple/eawt/Application.html#setDockIconImage%28java.awt.Image%29\r\n","title":"Setting the default application icon image in Java swing on OS X","body":"<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/javax/swing/JFrame.html#setIconImage%28java.awt.Image%29\"><code>setIconImage</code></a> does not set the jar icon.  It will set the icon for what the minimized window for that <code>JFrame</code> will look like.  The jar icon (which controls the finder icon and the dock application icon) cannot be set in the jar file itself.  You just get the default icon provided by the OS.  You will need to wrap it using something like <a href=\"https://developer.apple.com/library/mac/#documentation/Java/Conceptual/Jar_Bundler/About/About.html\">JarBundler</a> for OS X or Launch4J for Windows.</p>\n\n<p>You can set the application dock icon while your application is running, see <a href=\"https://developer.apple.com/library/mac/documentation/Java/Reference/JavaSE6_AppleExtensionsRef/api/com/apple/eawt/Application.html#setDockIconImage%28java.awt.Image%29\"><code>com.apple.eawt.Application.setDockIconImage</code></a>.  It isn't perfect though, because when you double-click on your jar, it starts up in the dock using the generic java icon and only switches to your custom icon after a bounce or two when the java code starts running.  Also, I don't think it would set the dock icon for an jar which isn't running (not that you can drag a jar file into the dock anyway - doesn't seem to work for me).</p>\n\n<p>Here's some code that demonstrates the different images you can set:</p>\n\n<pre><code>import com.apple.eawt.Application;\nimport javax.swing.*;\n\nclass SetIcon extends JFrame {\n\n    SetIcon() {\n        setIconImage(new ImageIcon(\"doc.png\").getImage());\n        Application.getApplication().setDockIconImage(\n            new ImageIcon(\"app.png\").getImage());\n    }\n\n    public static void main(String args[]) {\n        SetIcon s = new SetIcon();\n        s.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543112,"reputation":2555,"user_id":912104,"display_name":"Harmeet Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341164847,"creation_date":1341164847,"answer_id":11284308,"question_id":11253772,"body_markdown":"as i have gone through your error its related to MacOS jdk which has started appearing after upgrade to 10.7.4\r\n\r\ngo through [this][1] if this helps you :\r\n\r\n\r\n  [1]: https://discussions.apple.com/message/18394472#18394472","title":"Setting the default application icon image in Java swing on OS X","body":"<p>as i have gone through your error its related to MacOS jdk which has started appearing after upgrade to 10.7.4</p>\n\n<p>go through <a href=\"https://discussions.apple.com/message/18394472#18394472\" rel=\"nofollow\">this</a> if this helps you :</p>\n"},{"tags":[],"owner":{"account_id":1418416,"reputation":2838,"user_id":1343553,"accept_rate":80,"display_name":"mvreijn"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1429107216,"creation_date":1429107216,"answer_id":29652666,"question_id":11253772,"body_markdown":"Just to add my final solution for adding a MacOSX Dock icon in a pure-java application: \r\n\r\n   \tpublic boolean exists(String className)\r\n\t{\r\n\t\ttry {\r\n\t\t\tClass.forName( className, false, null );\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tcatch (ClassNotFoundException exception) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n    public void setIcon( BufferedImage icn )\r\n    {\r\n\t\tif ( exists( &quot;com.apple.eawt.Application&quot; ) )\r\n\t\t{\r\n\t\t\tcom.apple.eawt.Application.getApplication().setDockIconImage( icn );\r\n\t\t}\r\n    }\r\n\r\nThis silently ensures the class is available and the executes the `setDockIconImage()` method. Works very well for me and it does not interfere with other platforms. \r\n\r\n\r\n","title":"Setting the default application icon image in Java swing on OS X","body":"<p>Just to add my final solution for adding a MacOSX Dock icon in a pure-java application: </p>\n\n<pre><code>public boolean exists(String className)\n{\n    try {\n        Class.forName( className, false, null );\n        return true;\n    }\n    catch (ClassNotFoundException exception) {\n        return false;\n    }\n}\n\npublic void setIcon( BufferedImage icn )\n{\n    if ( exists( \"com.apple.eawt.Application\" ) )\n    {\n        com.apple.eawt.Application.getApplication().setDockIconImage( icn );\n    }\n}\n</code></pre>\n\n<p>This silently ensures the class is available and the executes the <code>setDockIconImage()</code> method. Works very well for me and it does not interfere with other platforms. </p>\n"},{"tags":[],"owner":{"account_id":236429,"reputation":168,"user_id":503915,"display_name":"Alex Teixeira"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1470189926,"creation_date":1470189926,"answer_id":38733201,"question_id":11253772,"body_markdown":"&gt;java -Xdock:icon=/path/myIcon.png myApp","title":"Setting the default application icon image in Java swing on OS X","body":"<blockquote>\n  <p>java -Xdock:icon=/path/myIcon.png myApp</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3858478,"reputation":7458,"user_id":3196753,"display_name":"tresf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657732200,"creation_date":1657732200,"answer_id":72970139,"question_id":11253772,"body_markdown":"A Java 9+ solution:\r\n\r\n```java\r\nTaskbar.getTaskbar().setIconImage(myImage);\r\n```\r\n\r\n... or for projects that still need to compile against Java 8... \r\n\r\n    /**\r\n     * Use reflection to attempt to set the taskbar icon using Java 9+\r\n     */\r\n    public void setTaskbarIcon(Image image) {\r\n        try {\r\n            Class taskbar = Class.forName(&quot;java.awt.Taskbar&quot;);\r\n            Method getTaskbar = taskbar.getDeclaredMethod(&quot;getTaskbar&quot;);\r\n            Object instance = getTaskbar.invoke(taskbar);\r\n            Method setIconImage = instance.getClass().getDeclaredMethod(&quot;setIconImage&quot;, Image.class);\r\n            setIconImage.invoke(instance, image);\r\n        } catch (Throwable t) {\r\n            t.printStackTrace();\r\n        }\r\n    }\r\n\r\nThis still suffers the limitations explained in other posts (e.g. startup icon is incorrect) as well as the limitation of the icon resolution not using an multidimensional `.icns` file, but for many cases, this will be better than the generic Java icon. :)","title":"Setting the default application icon image in Java swing on OS X","body":"<p>A Java 9+ solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Taskbar.getTaskbar().setIconImage(myImage);\n</code></pre>\n<p>... or for projects that still need to compile against Java 8...</p>\n<pre><code>/**\n * Use reflection to attempt to set the taskbar icon using Java 9+\n */\npublic void setTaskbarIcon(Image image) {\n    try {\n        Class taskbar = Class.forName(&quot;java.awt.Taskbar&quot;);\n        Method getTaskbar = taskbar.getDeclaredMethod(&quot;getTaskbar&quot;);\n        Object instance = getTaskbar.invoke(taskbar);\n        Method setIconImage = instance.getClass().getDeclaredMethod(&quot;setIconImage&quot;, Image.class);\n        setIconImage.invoke(instance, image);\n    } catch (Throwable t) {\n        t.printStackTrace();\n    }\n}\n</code></pre>\n<p>This still suffers the limitations explained in other posts (e.g. startup icon is incorrect) as well as the limitation of the icon resolution not using an multidimensional <code>.icns</code> file, but for many cases, this will be better than the generic Java icon. :)</p>\n"}],"owner":{"account_id":145274,"reputation":7763,"user_id":354979,"accept_rate":66,"display_name":"rhombidodecahedron"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15619,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":11279556,"answer_count":6,"score":14,"last_activity_date":1657732200,"creation_date":1340922260,"question_id":11253772,"body_markdown":"I&#39;m trying to set the icon image for a Jar file:\r\n\r\n    setIconImage(new ImageIcon(getClass().getResource(&quot;logo.png&quot;)).getImage());\r\n\r\nWhen running in Mac OS X 10.7.4 I get the following error:\r\n\r\n    Jun 28 15:21:40 (my dhcp) java[73383] &lt;Error&gt;: CGContextGetCTM: invalid context 0x0\r\n    Jun 28 15:21:40 (my dhcp) java[73383] &lt;Error&gt;: CGContextSetBaseCTM: invalid context 0x0\r\n    Jun 28 15:21:40 (my dhcp) java[73383] &lt;Error&gt;: CGContextGetCTM: invalid context 0x0\r\n    Jun 28 15:21:40 (my dhcp) java[73383] &lt;Error&gt;: CGContextSetBaseCTM: invalid context 0x0\r\n    Jun 28 15:21:40 (my dhcp) java[73383] &lt;Error&gt;: CGContextGetCTM: invalid context 0x0\r\n    Jun 28 15:21:40 (my dhcp) java[73383] &lt;Error&gt;: CGContextSetBaseCTM: invalid context 0x0","title":"Setting the default application icon image in Java swing on OS X","body":"<p>I'm trying to set the icon image for a Jar file:</p>\n\n<pre><code>setIconImage(new ImageIcon(getClass().getResource(\"logo.png\")).getImage());\n</code></pre>\n\n<p>When running in Mac OS X 10.7.4 I get the following error:</p>\n\n<pre><code>Jun 28 15:21:40 (my dhcp) java[73383] &lt;Error&gt;: CGContextGetCTM: invalid context 0x0\nJun 28 15:21:40 (my dhcp) java[73383] &lt;Error&gt;: CGContextSetBaseCTM: invalid context 0x0\nJun 28 15:21:40 (my dhcp) java[73383] &lt;Error&gt;: CGContextGetCTM: invalid context 0x0\nJun 28 15:21:40 (my dhcp) java[73383] &lt;Error&gt;: CGContextSetBaseCTM: invalid context 0x0\nJun 28 15:21:40 (my dhcp) java[73383] &lt;Error&gt;: CGContextGetCTM: invalid context 0x0\nJun 28 15:21:40 (my dhcp) java[73383] &lt;Error&gt;: CGContextSetBaseCTM: invalid context 0x0\n</code></pre>\n"},{"tags":["java","maven","console","output","maven-surefire-plugin"],"comments":[{"owner":{"account_id":13463440,"reputation":1896,"user_id":9714611,"display_name":"Stefano Cordio"},"score":0,"creation_date":1663426330,"post_id":71956490,"comment_id":130239508,"body_markdown":"In 3.0.0-M6, the only properties that can be set for `SurefireConsoleOutputReporter` are `disable` and `encoding`. Could you add the POM snippet you are trying to compose to the question?","body":"In 3.0.0-M6, the only properties that can be set for <code>SurefireConsoleOutputReporter</code> are <code>disable</code> and <code>encoding</code>. Could you add the POM snippet you are trying to compose to the question?"}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657731947,"creation_date":1650552484,"question_id":71956490,"body_markdown":"I&#39;m looking for solution to customize console test results output and found out that it is possible with implementation of `org.apache.maven.plugin.surefire.extensions.SurefireConsoleOutputReporter` through plugin configuration parameter `&lt;consoleOutputReporter&gt;`.\r\n\r\nI&#39;ve created an implementation, however when I run `mvn clean test` I receive an error:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M6:test (default-test) on project navi-transfer-testing: Unable to parse configuration of mojo org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M6:test for parameter consoleOutputReporter: Cannot find default setter in class org.apache.maven.plugin.surefire.extensions.SurefireConsoleOutputReporter -&gt; [Help 1]\r\n\r\nI checked the source code of plugin and I really cannot find setter for this property - `org.apache.maven.plugin.surefire.SurefireExecutionParameters` doesn&#39;t have appropriate setter and getter method.\r\n\r\nI use plugin of **version 3.0.0-M6**\r\n\r\nDoesn&#39;t it mean that property is defined but still not implemented in plugin so cannot be resolved?\r\n\r\n","title":"maven-surefire-plugin consoleOutputReporter parameter doesn&#39;t work","body":"<p>I'm looking for solution to customize console test results output and found out that it is possible with implementation of <code>org.apache.maven.plugin.surefire.extensions.SurefireConsoleOutputReporter</code> through plugin configuration parameter <code>&lt;consoleOutputReporter&gt;</code>.</p>\n<p>I've created an implementation, however when I run <code>mvn clean test</code> I receive an error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M6:test (default-test) on project navi-transfer-testing: Unable to parse configuration of mojo org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M6:test for parameter consoleOutputReporter: Cannot find default setter in class org.apache.maven.plugin.surefire.extensions.SurefireConsoleOutputReporter -&gt; [Help 1]\n</code></pre>\n<p>I checked the source code of plugin and I really cannot find setter for this property - <code>org.apache.maven.plugin.surefire.SurefireExecutionParameters</code> doesn't have appropriate setter and getter method.</p>\n<p>I use plugin of <strong>version 3.0.0-M6</strong></p>\n<p>Doesn't it mean that property is defined but still not implemented in plugin so cannot be resolved?</p>\n"},{"tags":["java","regex","sonarqube"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1657731429,"post_id":72969952,"comment_id":128882273,"body_markdown":"What is your regex supposed to be doing?","body":"What is your regex supposed to be doing?"},{"owner":{"account_id":16729279,"reputation":5099,"user_id":12755187,"display_name":"Artyom Vancyan"},"score":1,"creation_date":1657731971,"post_id":72969952,"comment_id":128882456,"body_markdown":"Sonarqube have links on issues &quot;Why is this an issue?&quot; and when you click on that, it opens a drawer from the bottom of the window where are described all possible reasons.","body":"Sonarqube have links on issues &quot;Why is this an issue?&quot; and when you click on that, it opens a drawer from the bottom of the window where are described all possible reasons."},{"owner":{"account_id":8190555,"reputation":105,"user_id":6164912,"accept_rate":60,"display_name":"tushar sharma"},"score":0,"creation_date":1657733053,"post_id":72969952,"comment_id":128882784,"body_markdown":"@TimBiegeleisen it is used for splitting the value we are getting of latitude. example: lat is &quot;15&#176;24&#39;15&quot; output is 15 24 15.0","body":"@TimBiegeleisen it is used for splitting the value we are getting of latitude. example: lat is &quot;15&#176;24&#39;15&quot; output is 15 24 15.0"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1657733136,"post_id":72969952,"comment_id":128882808,"body_markdown":"https://rules.sonarsource.com/java/RSPEC-5852: `One example of this would be to replace str.split(&quot;\\\\s*,\\\\s*&quot;) with str.split(&quot;,&quot;) and then trimming the spaces from the strings as a second step`","body":"<a href=\"https://rules.sonarsource.com/java/RSPEC-5852\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/RSPEC-5852</a>: <code>One example of this would be to replace str.split(&quot;\\\\s*,\\\\s*&quot;) with str.split(&quot;,&quot;) and then trimming the spaces from the strings as a second step</code>"}],"owner":{"account_id":8190555,"reputation":105,"user_id":6164912,"accept_rate":60,"display_name":"tushar sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657731323,"creation_date":1657731323,"question_id":72969952,"body_markdown":"The issue is:\r\n\r\nMake sure the regex used here, which is vulnerable to polynomial runtime due to backtracking, cannot lead to denial of service.\r\nUsing slow regular expressions is security-sensitivejava:S5852\r\n\r\n            String splitRegex = &quot;(\\\\s*&#176;\\\\s*)|(\\\\s*&#39;{1,2}\\\\s*)&quot;;\r\n\t\t\tString[] latData = expPoint.getLatDegree().split(splitRegex);\r\n\t\t\tif (latData.length == 4) {\r\n\t\t\t\tpoint.setLatitudeDegree(Integer.valueOf(latData[0]));\r\n\t\t\t\tpoint.setLatitudeMinute(Integer.valueOf(latData[1]));\r\n\t\t\t\tpoint.setLatitudeSecond(Double.valueOf(latData[2]));\r\n\t\t\t\tpoint.setLatitudeQuad(&quot;N&quot;.equals(latData[3]));\r\n\t\t\t}\r\n\r\nThe hotspot issue is on split function. How to avoid the hotspot issue? Any alternative?\r\n\r\n\r\n","title":"Security hotspot issue with regex in sonar qube","body":"<p>The issue is:</p>\n<p>Make sure the regex used here, which is vulnerable to polynomial runtime due to backtracking, cannot lead to denial of service.\nUsing slow regular expressions is security-sensitivejava:S5852</p>\n<pre><code>        String splitRegex = &quot;(\\\\s*°\\\\s*)|(\\\\s*'{1,2}\\\\s*)&quot;;\n        String[] latData = expPoint.getLatDegree().split(splitRegex);\n        if (latData.length == 4) {\n            point.setLatitudeDegree(Integer.valueOf(latData[0]));\n            point.setLatitudeMinute(Integer.valueOf(latData[1]));\n            point.setLatitudeSecond(Double.valueOf(latData[2]));\n            point.setLatitudeQuad(&quot;N&quot;.equals(latData[3]));\n        }\n</code></pre>\n<p>The hotspot issue is on split function. How to avoid the hotspot issue? Any alternative?</p>\n"},{"tags":["java","spring","ignite"],"comments":[{"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"score":0,"creation_date":1545047272,"post_id":53814078,"comment_id":94477348,"body_markdown":"Can you show how `SampleTypeRepository` type is defined?","body":"Can you show how <code>SampleTypeRepository</code> type is defined?"}],"answers":[{"tags":[],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545047171,"creation_date":1545047171,"answer_id":53814595,"question_id":53814078,"body_markdown":"Have you tried importing `Cache.Entry` instead of `Map.Entry`? Unfortunately I can&#39;t see your import lists but I suspect you can replace latter with former, get your code to function.","title":"Ignite Spring + Ignite SQL ClassCastException","body":"<p>Have you tried importing <code>Cache.Entry</code> instead of <code>Map.Entry</code>? Unfortunately I can't see your import lists but I suspect you can replace latter with former, get your code to function.</p>\n"},{"tags":[],"owner":{"account_id":9218224,"reputation":305,"user_id":6848638,"display_name":"Carlos Costa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1545060254,"creation_date":1545060254,"answer_id":53818189,"question_id":53814078,"body_markdown":"Okay, I solved my problem. Thanks everyone for your help. In an attempt to further clarify my rather complex doubt, I will write the following guidelines that should be taken into consideration if one is trying to use Ignite SQL and Ignite Spring interchangeably:\r\n\r\n**Option 1) Create caches via Ignite Spring:**\r\n\r\na) Clearly define the cache name in the repository class:\r\n\r\n    ...\r\n    @RepositoryConfig(cacheName = &quot;My Cache Name&quot;)\r\n    public interface SampleTypeRepository extends IgniteRepository&lt;SampleType, Integer&gt;  {\r\n    \t\r\n    \tpublic SampleType getSampleTypeBySampleTypeId(Integer id);\r\n    \r\n    }\r\n\r\nb) Define the cache and indexed when configuring your Ignite instance in the Spring app:\r\n\r\n    ...\r\n    CacheConfiguration ccfg = new CacheConfiguration(&quot;My Chache Name&quot;);\r\n    \r\n    // Setting SQL schema for the cache.\r\n    ccfg.setIndexedTypes(Integer.class, SampleType.class);\r\n    \r\n    config.setCacheConfiguration(ccfg);\r\n    \r\n    Ignite ignite = Ignition.start(config);\r\n    ...\r\n\r\nc) Query it, but be aware that for some reason the SQL table name is &quot;SampleType&quot; not &quot;My Cache Name&quot;. I don&#39;t know ehy, but it seems to be some default behavior that I did not find explicitly in the Ignite Spring documentation. Otherwise you may get &quot;no SQL table found for &lt;My Cache Name&gt;&quot;:\r\n\r\n    ...\r\n    IgniteCache cache = ignite.cache(&quot;My Chache Name&quot;);\r\n    \t\t\t\t\r\n    \t\tSqlFieldsQuery  sql = new SqlFieldsQuery(&quot;select * from SampleType&quot;);\r\n    \t\ttry (QueryCursor&lt;List&lt;?&gt;&gt; cursor = cache.query(sql)) {\r\n    \t\t\t  for (List&lt;?&gt; e : cursor)\r\n    \t\t\t    System.out.println(e.get(1));\r\n    \t\t\t}\r\n\r\n**Option 2) Create caches via SQL DDL:**\r\n\r\na) Create your SQL table/cache by clearly defining the cache_name, key_type and value_type, using fully qualified package names for the classes corresponding to the key and value types:\r\n\r\n    CREATE TABLE IF NOT EXISTS SampleType(SampleTypeID int, SampleTypeName varchar, PRIMARY KEY (SampleTypeID)) WITH &quot;cache_name=mycachename, key_type=java.lang.Integer, value_type=local.teste.is.api.entities.SampleType&quot;;\r\n\r\nb) To insert data, via ignite Spring works like a charm using the API methods shown in the documentation. However, inserting via DDL or JDBC you need to clearly identify the _KEY attribute (an hidden attribute apparently :P):\r\n\r\n    INSERT INTO SampleType(_KEY, SAMPLETYPEID, SAMPLETYPENAME) VALUES(?,?,?)\r\n\r\nThen, I think you can use these APIs interchangeably.\r\n\r\nBest regards,\r\nCarlos Costa","title":"Ignite Spring + Ignite SQL ClassCastException","body":"<p>Okay, I solved my problem. Thanks everyone for your help. In an attempt to further clarify my rather complex doubt, I will write the following guidelines that should be taken into consideration if one is trying to use Ignite SQL and Ignite Spring interchangeably:</p>\n\n<p><strong>Option 1) Create caches via Ignite Spring:</strong></p>\n\n<p>a) Clearly define the cache name in the repository class:</p>\n\n<pre><code>...\n@RepositoryConfig(cacheName = \"My Cache Name\")\npublic interface SampleTypeRepository extends IgniteRepository&lt;SampleType, Integer&gt;  {\n\n    public SampleType getSampleTypeBySampleTypeId(Integer id);\n\n}\n</code></pre>\n\n<p>b) Define the cache and indexed when configuring your Ignite instance in the Spring app:</p>\n\n<pre><code>...\nCacheConfiguration ccfg = new CacheConfiguration(\"My Chache Name\");\n\n// Setting SQL schema for the cache.\nccfg.setIndexedTypes(Integer.class, SampleType.class);\n\nconfig.setCacheConfiguration(ccfg);\n\nIgnite ignite = Ignition.start(config);\n...\n</code></pre>\n\n<p>c) Query it, but be aware that for some reason the SQL table name is \"SampleType\" not \"My Cache Name\". I don't know ehy, but it seems to be some default behavior that I did not find explicitly in the Ignite Spring documentation. Otherwise you may get \"no SQL table found for \":</p>\n\n<pre><code>...\nIgniteCache cache = ignite.cache(\"My Chache Name\");\n\n        SqlFieldsQuery  sql = new SqlFieldsQuery(\"select * from SampleType\");\n        try (QueryCursor&lt;List&lt;?&gt;&gt; cursor = cache.query(sql)) {\n              for (List&lt;?&gt; e : cursor)\n                System.out.println(e.get(1));\n            }\n</code></pre>\n\n<p><strong>Option 2) Create caches via SQL DDL:</strong></p>\n\n<p>a) Create your SQL table/cache by clearly defining the cache_name, key_type and value_type, using fully qualified package names for the classes corresponding to the key and value types:</p>\n\n<pre><code>CREATE TABLE IF NOT EXISTS SampleType(SampleTypeID int, SampleTypeName varchar, PRIMARY KEY (SampleTypeID)) WITH \"cache_name=mycachename, key_type=java.lang.Integer, value_type=local.teste.is.api.entities.SampleType\";\n</code></pre>\n\n<p>b) To insert data, via ignite Spring works like a charm using the API methods shown in the documentation. However, inserting via DDL or JDBC you need to clearly identify the _KEY attribute (an hidden attribute apparently :P):</p>\n\n<pre><code>INSERT INTO SampleType(_KEY, SAMPLETYPEID, SAMPLETYPENAME) VALUES(?,?,?)\n</code></pre>\n\n<p>Then, I think you can use these APIs interchangeably.</p>\n\n<p>Best regards,\nCarlos Costa</p>\n"},{"tags":[],"owner":{"account_id":25782542,"reputation":11,"user_id":19527946,"display_name":"JTM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657730970,"creation_date":1657730970,"answer_id":72969881,"question_id":53814078,"body_markdown":"It may help to review the Apache Ignite SQL API documentation. The given example on the OP is missing some details that others would need in order to follow along and understand your situation (Spring config excerpts).\r\n\r\nhttps://ignite.apache.org/docs/latest/SQL/sql-api#configuring-queryable-fields\r\n\r\nTo expose data created in a cache API call to SQL API queries, Ignite needs to know which data should be exposed as fields. Either annotations or Spring configuration are available as documented, to create the necessary QueryEntity objects, and map cache fields to SQL columns.","title":"Ignite Spring + Ignite SQL ClassCastException","body":"<p>It may help to review the Apache Ignite SQL API documentation. The given example on the OP is missing some details that others would need in order to follow along and understand your situation (Spring config excerpts).</p>\n<p><a href=\"https://ignite.apache.org/docs/latest/SQL/sql-api#configuring-queryable-fields\" rel=\"nofollow noreferrer\">https://ignite.apache.org/docs/latest/SQL/sql-api#configuring-queryable-fields</a></p>\n<p>To expose data created in a cache API call to SQL API queries, Ignite needs to know which data should be exposed as fields. Either annotations or Spring configuration are available as documented, to create the necessary QueryEntity objects, and map cache fields to SQL columns.</p>\n"}],"owner":{"account_id":9218224,"reputation":305,"user_id":6848638,"display_name":"Carlos Costa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1657730970,"creation_date":1545045301,"question_id":53814078,"body_markdown":"Every time I try to use the Ignite Spring API and Ignite SQL API interchangeably, I get class cast exceptions or &quot;no sql table found for xxxx&quot;\r\n\r\nThis happened because I created a cache using ignite spring and tried to consume the data using Ignite SQL API, or vice-versa:\r\n\r\n&lt;!-- language-all: java --&gt;\r\n\r\n    @Configuration\r\n    @EnableIgniteRepositories(&quot;local.teste.is.api.repositories&quot;)\r\n    public class SpringAppCfg {\r\n    \r\n    \t@Bean\r\n    \tpublic Ignite igniteInstance() {\r\n    \t\tIgniteConfiguration cfg = new IgniteConfiguration();\r\n    \r\n    \t\tcfg.setIgniteInstanceName(&quot;springDataNode&quot;);\r\n    \t\tcfg.setPeerClassLoadingEnabled(true);\r\n    \t\tcfg.setClientMode(true);\r\n    \r\n    \t\t...\r\n    \t\t\r\n    \t\t// Defining and creating a new cache to be used by Ignite Spring Data\r\n            // repository.\r\n            CacheConfiguration ccfg = new CacheConfiguration(&quot;SQL_PUBLIC_SAMPLETYPE3&quot;);\r\n    \r\n            // Setting SQL schema for the cache.\r\n            ccfg.setIndexedTypes(Integer.class, SampleType.class);\r\n    \r\n            cfg.setCacheConfiguration(ccfg);\r\n    \r\n    \t\tIgnite ignite = Ignition.start(cfg);\r\n    \t\t\r\n    \t\tIgniteCache cache = ignite.getOrCreateCache(ccfg);\r\n    \t\t\r\n    \t\tSqlQuery sql = new SqlQuery(SampleType.class, &quot;true&quot;);\r\n    \t\t\r\n    \t\ttry (QueryCursor&lt;Entry&lt;Integer, SampleType&gt;&gt; cursor = cache.query(sql)) {\r\n    \t\t\t  for (Entry&lt;Integer, SampleType&gt; e : cursor)\r\n    \t\t\t    System.out.println(e.getValue().toString());\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\treturn ignite;\r\n    \t}\r\n\r\n**SampleTypeRepository:**\r\n\r\n    package local.teste.is.api.repositories;\r\n    \r\n    import org.apache.ignite.springdata.repository.IgniteRepository;\r\n    import org.apache.ignite.springdata.repository.config.RepositoryConfig;\r\n    \r\n    import local.al40.is.api.entities.SampleType;\r\n    \r\n    @RepositoryConfig(cacheName = &quot;SQL_PUBLIC_SAMPLETYPE&quot;)\r\n    public interface SampleTypeRepository extends IgniteRepository&lt;SampleType, Integer&gt;  {\r\n    \t\r\n    \tpublic SampleType getSampleTypeBySampleTypeId(Integer id);\r\n    \r\n    }\r\n\r\n**Everything using ignite Spring works, including saving and reading data:**\r\n\r\n    public class Application {\r\n\r\n\tprivate static AnnotationConfigApplicationContext dataCtx;\r\n\tprivate static SampleTypeRepository repo;\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\tdataCtx = new AnnotationConfigApplicationContext();\r\n\r\n\t\t// Explicitly registering Spring configuration.\r\n\t\tdataCtx.register(SpringAppCfg.class);\r\n\t\tdataCtx.refresh();\r\n\r\n\t\trepo = dataCtx.getBean(SampleTypeRepository.class);\r\n\t\t\r\n\t\tSystem.out.println(repo);\r\n\t\t\r\n\t\tSampleType s = new SampleType(1, &quot;teste&quot;);\r\n\t\t\r\n\t\trepo.save(s.getSampleTypeId(), s);\r\n\r\n\t\tSystem.out.println(repo.getSampleTypeBySampleTypeId(1).getSampleTypeName());\r\n\r\nThis happens if I create an Ignite SQL table via DDL and try to consume it via Ignite Spring, giving me a ClassCastException like &quot;...ignite.IgniteRepositoryImpl#123456 cannot be casted to SampleType.class&quot;. This leads me to believe that this is a problem related to serialization. It also gives me &quot;no sql table found for xxxx&quot; if I create the table via Ignite Spring and tried to query it. Has someone tried to integrate these two perspectives? The examples I found online assume only caches created using Ignite Spring, and Ignite&#39;s documentation makes it seem that it this interchange is possible and transparent. However, apparently, it is not, unless I&#39;m forgetting something.\r\n\r\nBest regards,\r\n\r\nCarlos Costa","title":"Ignite Spring + Ignite SQL ClassCastException","body":"<p>Every time I try to use the Ignite Spring API and Ignite SQL API interchangeably, I get class cast exceptions or \"no sql table found for xxxx\"</p>\n\n<p>This happened because I created a cache using ignite spring and tried to consume the data using Ignite SQL API, or vice-versa:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableIgniteRepositories(\"local.teste.is.api.repositories\")\npublic class SpringAppCfg {\n\n    @Bean\n    public Ignite igniteInstance() {\n        IgniteConfiguration cfg = new IgniteConfiguration();\n\n        cfg.setIgniteInstanceName(\"springDataNode\");\n        cfg.setPeerClassLoadingEnabled(true);\n        cfg.setClientMode(true);\n\n        ...\n\n        // Defining and creating a new cache to be used by Ignite Spring Data\n        // repository.\n        CacheConfiguration ccfg = new CacheConfiguration(\"SQL_PUBLIC_SAMPLETYPE3\");\n\n        // Setting SQL schema for the cache.\n        ccfg.setIndexedTypes(Integer.class, SampleType.class);\n\n        cfg.setCacheConfiguration(ccfg);\n\n        Ignite ignite = Ignition.start(cfg);\n\n        IgniteCache cache = ignite.getOrCreateCache(ccfg);\n\n        SqlQuery sql = new SqlQuery(SampleType.class, \"true\");\n\n        try (QueryCursor&lt;Entry&lt;Integer, SampleType&gt;&gt; cursor = cache.query(sql)) {\n              for (Entry&lt;Integer, SampleType&gt; e : cursor)\n                System.out.println(e.getValue().toString());\n            }\n\n\n        return ignite;\n    }\n</code></pre>\n\n<p><strong>SampleTypeRepository:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package local.teste.is.api.repositories;\n\nimport org.apache.ignite.springdata.repository.IgniteRepository;\nimport org.apache.ignite.springdata.repository.config.RepositoryConfig;\n\nimport local.al40.is.api.entities.SampleType;\n\n@RepositoryConfig(cacheName = \"SQL_PUBLIC_SAMPLETYPE\")\npublic interface SampleTypeRepository extends IgniteRepository&lt;SampleType, Integer&gt;  {\n\n    public SampleType getSampleTypeBySampleTypeId(Integer id);\n\n}\n</code></pre>\n\n<p><strong>Everything using ignite Spring works, including saving and reading data:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n\nprivate static AnnotationConfigApplicationContext dataCtx;\nprivate static SampleTypeRepository repo;\n\npublic static void main(String[] args) throws Exception {\n\n    dataCtx = new AnnotationConfigApplicationContext();\n\n    // Explicitly registering Spring configuration.\n    dataCtx.register(SpringAppCfg.class);\n    dataCtx.refresh();\n\n    repo = dataCtx.getBean(SampleTypeRepository.class);\n\n    System.out.println(repo);\n\n    SampleType s = new SampleType(1, \"teste\");\n\n    repo.save(s.getSampleTypeId(), s);\n\n    System.out.println(repo.getSampleTypeBySampleTypeId(1).getSampleTypeName());\n</code></pre>\n\n<p>This happens if I create an Ignite SQL table via DDL and try to consume it via Ignite Spring, giving me a ClassCastException like \"...ignite.IgniteRepositoryImpl#123456 cannot be casted to SampleType.class\". This leads me to believe that this is a problem related to serialization. It also gives me \"no sql table found for xxxx\" if I create the table via Ignite Spring and tried to query it. Has someone tried to integrate these two perspectives? The examples I found online assume only caches created using Ignite Spring, and Ignite's documentation makes it seem that it this interchange is possible and transparent. However, apparently, it is not, unless I'm forgetting something.</p>\n\n<p>Best regards,</p>\n\n<p>Carlos Costa</p>\n"},{"tags":["java","spring-boot","spring-integration","spring-integration-dsl","spring-integration-http"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657730941,"creation_date":1657728303,"answer_id":72969358,"question_id":72966177,"body_markdown":"You have that `flow.split()`. So, to validate whatever is an input, you just need to insert one more endpoint before. Something like this:\r\n\r\n    flow\r\n       .&lt;LionRequest&gt;handle((p, h) -&gt; validate(p))\r\n       .split()\r\n\r\nfor example.\r\n\r\nThen you go to the Spring Validation API: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#validator. Inject a `Validator` into your `@Configuration` and call it something like this:\r\n\r\n\tLionRequest validate(LionRequest value) {\r\n\t\tBeanPropertyBindingResult errors = new BeanPropertyBindingResult(value, &quot;request&quot;);\r\n\t\tValidationUtils.invokeValidator(this.validator, value, errors);\r\n\t\tif (errors.hasErrors()) {\r\n\t\t\tthrow new BindException(errors);\r\n\t\t}\r\n        return value;\r\n\t}\r\n\r\nOr you do something similar in the dedicated component, and use its method call in that `handle()` lambda.\r\n\r\nWe definitely need to revise an out-of-the-box validation support: https://jira.spring.io/browse/INT-4068 ...\r\n\r\n**UPDATE**\r\n\r\nIf you have some `void validate(LionRequest)` method, you can delegate into it like this:\r\n\r\n     .&lt;LionRequest&gt;handle((p, h) -&gt; {\r\n               validate(p);\r\n               return p;\r\n            })\r\n\r\nThe point is that you need to continue the flow somehow, but `void` return is a signal to stop the flow. So, to validate and go on when no errors, you need to delegate and return the request payload since it is valid.","title":"How do I call a validator method to validate the input that&#39;s coming through gateway before passing to the parallel flows in scatterer?","body":"<p>You have that <code>flow.split()</code>. So, to validate whatever is an input, you just need to insert one more endpoint before. Something like this:</p>\n<pre><code>flow\n   .&lt;LionRequest&gt;handle((p, h) -&gt; validate(p))\n   .split()\n</code></pre>\n<p>for example.</p>\n<p>Then you go to the Spring Validation API: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#validator\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#validator</a>. Inject a <code>Validator</code> into your <code>@Configuration</code> and call it something like this:</p>\n<pre><code>LionRequest validate(LionRequest value) {\n    BeanPropertyBindingResult errors = new BeanPropertyBindingResult(value, &quot;request&quot;);\n    ValidationUtils.invokeValidator(this.validator, value, errors);\n    if (errors.hasErrors()) {\n        throw new BindException(errors);\n    }\n    return value;\n}\n</code></pre>\n<p>Or you do something similar in the dedicated component, and use its method call in that <code>handle()</code> lambda.</p>\n<p>We definitely need to revise an out-of-the-box validation support: <a href=\"https://jira.spring.io/browse/INT-4068\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/INT-4068</a> ...</p>\n<p><strong>UPDATE</strong></p>\n<p>If you have some <code>void validate(LionRequest)</code> method, you can delegate into it like this:</p>\n<pre><code> .&lt;LionRequest&gt;handle((p, h) -&gt; {\n           validate(p);\n           return p;\n        })\n</code></pre>\n<p>The point is that you need to continue the flow somehow, but <code>void</code> return is a signal to stop the flow. So, to validate and go on when no errors, you need to delegate and return the request payload since it is valid.</p>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657730941,"creation_date":1657714706,"question_id":72966177,"body_markdown":"I&#39;m using Spring-integration in my project and the pattern used is scatter-gather. Here three parallel processes are being carried out. Before any of the parallel process starts I want to call a method which returns nothing but that will validate the Request body that is being sent via gateway to the main flow.\r\n\r\nBelow is the code - -\r\n\r\n//Config file\r\n\r\n    @Configuration\r\n        public class IntegrationConfiguration {\r\n          @Autowired LionsServiceImpl lionsService;\r\n        \r\n          long dbId = new SequenceGenerator().nextId();\r\n      //   Main flow\r\n      @Bean\r\n      public IntegrationFlow flow() {\r\n        return flow -&gt;\r\n            flow.split()\r\n                .log()\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .convert(LoanProvisionRequest.class)\r\n                .scatterGather(\r\n                    scatterer -&gt;\r\n                        scatterer\r\n                            .applySequence(true)\r\n                            .recipientFlow(flow1())\r\n                            .recipientFlow(flow2())\r\n                            .recipientFlow(flow3()),\r\n                    gatherer -&gt; gatherer.releaseLockBeforeSend(true))\r\n                .log()\r\n                .aggregate(a -&gt; a.outputProcessor(MessageGroup::getMessages))\r\n                .channel(&quot;output-flow&quot;);\r\n      }\r\n      //   flow1\r\n      @Bean\r\n      public IntegrationFlow flow1() {\r\n        return integrationFlowDefination -&gt;\r\n            integrationFlowDefination\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .handle(\r\n                    message -&gt; {\r\n                      try {\r\n                        lionService.saveLionRequest(\r\n                            (LionRequest) message.getPayload(), String.valueOf(dbId));\r\n                      } catch (JsonProcessingException e) {\r\n                        throw new RuntimeException(e);\r\n                      }\r\n                    });\r\n      }\r\n    \r\n      //   flow2\r\n      @Bean\r\n      public IntegrationFlow flow2() {\r\n        return integrationFlowDefination -&gt;\r\n            integrationFlowDefination\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .handle(\r\n                    message -&gt;\r\n                        lionService.getData(\r\n                            (LionRequest) message.getPayload(), SourceSystem.PROVISION))\r\n                .log();\r\n      }\r\n    \r\n      //  flow3\r\n      @Bean\r\n      public IntegrationFlow flow3() {\r\n        return integrationFlowDefination -&gt;\r\n            integrationFlowDefination\r\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                .handle(\r\n                    message -&gt;\r\n                        lionService.prepareCDRequest(\r\n                            (LionRequest) message));\r\n      }\r\n    \r\n      @Bean\r\n      public MessageChannel replyChannel() {\r\n        return MessageChannels.executor(&quot;output-flow&quot;, outputExecutor()).get();\r\n      }\r\n    \r\n      @Bean\r\n      public ThreadPoolTaskExecutor outputExecutor() {\r\n        ThreadPoolTaskExecutor pool = new ThreadPoolTaskExecutor();\r\n        pool.setCorePoolSize(4);\r\n        pool.setMaxPoolSize(4);\r\n        return pool;\r\n      }\r\n    }  \r\n\r\nHere before passing LionRequest to the parallel flows in the scatter block I want to call a method probably just before/after calling split() to validate that request and if the request is not as per my standard then my method will throw exception and the main flow also should stop there. Where and How should I call that method. That method returns nothing and accept LionRequest as input parameter. \r\n\r\nGateway\r\n\r\n     @MessagingGateway\r\n        public interface LionGateway {\r\n        \r\n          @Gateway(requestChannel = &quot;flow.input&quot;, replyChannel = &quot;output-flow&quot;)\r\n          List&lt;?&gt; echo(LionRequest lionRequest);\r\n        }","title":"How do I call a validator method to validate the input that&#39;s coming through gateway before passing to the parallel flows in scatterer?","body":"<p>I'm using Spring-integration in my project and the pattern used is scatter-gather. Here three parallel processes are being carried out. Before any of the parallel process starts I want to call a method which returns nothing but that will validate the Request body that is being sent via gateway to the main flow.</p>\n<p>Below is the code - -</p>\n<p>//Config file</p>\n<pre><code>@Configuration\n    public class IntegrationConfiguration {\n      @Autowired LionsServiceImpl lionsService;\n    \n      long dbId = new SequenceGenerator().nextId();\n  //   Main flow\n  @Bean\n  public IntegrationFlow flow() {\n    return flow -&gt;\n        flow.split()\n            .log()\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .convert(LoanProvisionRequest.class)\n            .scatterGather(\n                scatterer -&gt;\n                    scatterer\n                        .applySequence(true)\n                        .recipientFlow(flow1())\n                        .recipientFlow(flow2())\n                        .recipientFlow(flow3()),\n                gatherer -&gt; gatherer.releaseLockBeforeSend(true))\n            .log()\n            .aggregate(a -&gt; a.outputProcessor(MessageGroup::getMessages))\n            .channel(&quot;output-flow&quot;);\n  }\n  //   flow1\n  @Bean\n  public IntegrationFlow flow1() {\n    return integrationFlowDefination -&gt;\n        integrationFlowDefination\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .handle(\n                message -&gt; {\n                  try {\n                    lionService.saveLionRequest(\n                        (LionRequest) message.getPayload(), String.valueOf(dbId));\n                  } catch (JsonProcessingException e) {\n                    throw new RuntimeException(e);\n                  }\n                });\n  }\n\n  //   flow2\n  @Bean\n  public IntegrationFlow flow2() {\n    return integrationFlowDefination -&gt;\n        integrationFlowDefination\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .handle(\n                message -&gt;\n                    lionService.getData(\n                        (LionRequest) message.getPayload(), SourceSystem.PROVISION))\n            .log();\n  }\n\n  //  flow3\n  @Bean\n  public IntegrationFlow flow3() {\n    return integrationFlowDefination -&gt;\n        integrationFlowDefination\n            .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n            .handle(\n                message -&gt;\n                    lionService.prepareCDRequest(\n                        (LionRequest) message));\n  }\n\n  @Bean\n  public MessageChannel replyChannel() {\n    return MessageChannels.executor(&quot;output-flow&quot;, outputExecutor()).get();\n  }\n\n  @Bean\n  public ThreadPoolTaskExecutor outputExecutor() {\n    ThreadPoolTaskExecutor pool = new ThreadPoolTaskExecutor();\n    pool.setCorePoolSize(4);\n    pool.setMaxPoolSize(4);\n    return pool;\n  }\n}  \n</code></pre>\n<p>Here before passing LionRequest to the parallel flows in the scatter block I want to call a method probably just before/after calling split() to validate that request and if the request is not as per my standard then my method will throw exception and the main flow also should stop there. Where and How should I call that method. That method returns nothing and accept LionRequest as input parameter.</p>\n<p>Gateway</p>\n<pre><code> @MessagingGateway\n    public interface LionGateway {\n    \n      @Gateway(requestChannel = &quot;flow.input&quot;, replyChannel = &quot;output-flow&quot;)\n      List&lt;?&gt; echo(LionRequest lionRequest);\n    }\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1657729550,"post_id":72969521,"comment_id":128881624,"body_markdown":"Define concise. Your example is concise enough for a JVM to reach the intended result.","body":"Define concise. Your example is concise enough for a JVM to reach the intended result."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1657729643,"post_id":72969521,"comment_id":128881657,"body_markdown":"Your error suggests you are attempting to pass a `double[]` to `Arrays#deepToString`, but that should be passed to `Arrays#toString`. A `double[][]` will be correctly handled by `Arrays#deepToString` (tested against Java 8 and 17), where it will pass the nested arrays to `Array#toString`. Can you show an example array you are attempting this with?","body":"Your error suggests you are attempting to pass a <code>double[]</code> to <code>Arrays#deepToString</code>, but that should be passed to <code>Arrays#toString</code>. A <code>double[][]</code> will be correctly handled by <code>Arrays#deepToString</code> (tested against Java 8 and 17), where it will pass the nested arrays to <code>Array#toString</code>. Can you show an example array you are attempting this with?"}],"answers":[{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657729897,"creation_date":1657729897,"answer_id":72969681,"question_id":72969521,"body_markdown":"Note that `Arrays#deepToString` should only be used for multi-dimensional arrays when dealing with primitives. The error you got was because you attempted to pass a single-dimensional array of primitives, which should instead be sent to `Arrays#toString`.\r\n\r\n    double[] one = new double[]{4};\r\n    double[][] two = new double[][]{new double[]{1}, new double[]{2}, new double[]{3}};\r\n    String res;\r\n    res = Arrays.deepToString(two); //Good: #deepToString takes double[][]\r\n    res = Arrays.toString(one); //Good: #toString takes double[]\r\n    res = Arrays.deepToString(one); //compilation error: #deepToString cannot use double[]\r\n\r\n(Above tested on Java 8 and 17).\r\n\r\nPer the [javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#deepToString(java.lang.Object%5B%5D)) of `Arrays#deepToString`:\r\n\r\n&gt; If an element `e` is an array of a primitive type, it is converted to a string as by invoking the appropriate overloading of `Arrays.toString(e)`. If an element `e` is an array of a reference type, it is converted to a string as by invoking this method recursively.","title":"Convert two dimensional array of double to string in Java","body":"<p>Note that <code>Arrays#deepToString</code> should only be used for multi-dimensional arrays when dealing with primitives. The error you got was because you attempted to pass a single-dimensional array of primitives, which should instead be sent to <code>Arrays#toString</code>.</p>\n<pre><code>double[] one = new double[]{4};\ndouble[][] two = new double[][]{new double[]{1}, new double[]{2}, new double[]{3}};\nString res;\nres = Arrays.deepToString(two); //Good: #deepToString takes double[][]\nres = Arrays.toString(one); //Good: #toString takes double[]\nres = Arrays.deepToString(one); //compilation error: #deepToString cannot use double[]\n</code></pre>\n<p>(Above tested on Java 8 and 17).</p>\n<p>Per the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Arrays.html#deepToString(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">javadoc</a> of <code>Arrays#deepToString</code>:</p>\n<blockquote>\n<p>If an element <code>e</code> is an array of a primitive type, it is converted to a string as by invoking the appropriate overloading of <code>Arrays.toString(e)</code>. If an element <code>e</code> is an array of a reference type, it is converted to a string as by invoking this method recursively.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657730938,"creation_date":1657729949,"answer_id":72969691,"question_id":72969521,"body_markdown":"Use streams...\r\n\r\n\tDouble[][] test = {{1.0,1.2},{2.0,2.1}};\r\n    String s = Arrays.stream(test)       // Stream&lt;Double[]&gt;\r\n\t\t\t  .flatMap(Arrays::stream)   // Stream&lt;Double&gt;\r\n\t\t\t  .map(Object::toString)     // Stream&lt;String&gt;\r\n\t\t      .collect(Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;));\r\n    System.out.println(s);\r\n\r\n`flatMap` will convert inner array to streams and catenate the streams into a single one.\r\n\r\nIf you want the same with `double` then convcert to the appropriate stream:\r\n\r\n    double[][] test2 = {{1.0,1.2},{2.0,2.1}};\r\n    System.out.println(test2);\r\n\tString s = Arrays.stream(test2)            // Stream&lt;double[]&gt;\r\n\t\t      .flatMapToDouble(Arrays::stream) // DoubleStream\r\n\t\t\t  .map(Object::toString)           // Stream&lt;String&gt;\r\n\t\t      .collect(Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;));\r\n    System.out.println(s);\r\n","title":"Convert two dimensional array of double to string in Java","body":"<p>Use streams...</p>\n<pre><code>Double[][] test = {{1.0,1.2},{2.0,2.1}};\nString s = Arrays.stream(test)       // Stream&lt;Double[]&gt;\n          .flatMap(Arrays::stream)   // Stream&lt;Double&gt;\n          .map(Object::toString)     // Stream&lt;String&gt;\n          .collect(Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;));\nSystem.out.println(s);\n</code></pre>\n<p><code>flatMap</code> will convert inner array to streams and catenate the streams into a single one.</p>\n<p>If you want the same with <code>double</code> then convcert to the appropriate stream:</p>\n<pre><code>double[][] test2 = {{1.0,1.2},{2.0,2.1}};\nSystem.out.println(test2);\nString s = Arrays.stream(test2)            // Stream&lt;double[]&gt;\n          .flatMapToDouble(Arrays::stream) // DoubleStream\n          .map(Object::toString)           // Stream&lt;String&gt;\n          .collect(Collectors.joining(&quot;,&quot;, &quot;[&quot;, &quot;]&quot;));\nSystem.out.println(s);\n</code></pre>\n"}],"owner":{"account_id":487587,"reputation":3346,"user_id":1375292,"accept_rate":67,"display_name":"Troy Daniels"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657730938,"creation_date":1657729173,"question_id":72969521,"body_markdown":"Is there a simple way to convert `double[][]` to a String, showing all the values?\r\n\r\n`Arrays.deepToString` does not work, because the inner values are `double[]`, which creates a compilation error:\r\n\r\n```\r\n incompatible types: double[] cannot be converted to java.lang.Object[]\r\n```\r\n\r\n`Arrays.toString` will compile, but the resulting string is something like `[[D@64c25a62, [D@43e8f1c]`, which is not very useful.\r\n\r\nI think the most concise solution is something like\r\n\r\n```\r\nArrays.stream(a).\r\n   map(Arrays::toString).\r\n   collect(Collectors.joining(&quot;[&quot;, &quot;,&quot; &quot;]&quot;))\r\n```\r\n\r\nwhich isn&#39;t exactly concise.\r\n\r\nIs there something better?\r\n\r\n\r\n*EDIT*\r\n\r\nActually, `Arrays.deepToString` does do what I want.  The error I was seeing that I thought mean it didn&#39;t work was from trying to pass a `double[]` to `deepToString`","title":"Convert two dimensional array of double to string in Java","body":"<p>Is there a simple way to convert <code>double[][]</code> to a String, showing all the values?</p>\n<p><code>Arrays.deepToString</code> does not work, because the inner values are <code>double[]</code>, which creates a compilation error:</p>\n<pre><code> incompatible types: double[] cannot be converted to java.lang.Object[]\n</code></pre>\n<p><code>Arrays.toString</code> will compile, but the resulting string is something like <code>[[D@64c25a62, [D@43e8f1c]</code>, which is not very useful.</p>\n<p>I think the most concise solution is something like</p>\n<pre><code>Arrays.stream(a).\n   map(Arrays::toString).\n   collect(Collectors.joining(&quot;[&quot;, &quot;,&quot; &quot;]&quot;))\n</code></pre>\n<p>which isn't exactly concise.</p>\n<p>Is there something better?</p>\n<p><em>EDIT</em></p>\n<p>Actually, <code>Arrays.deepToString</code> does do what I want.  The error I was seeing that I thought mean it didn't work was from trying to pass a <code>double[]</code> to <code>deepToString</code></p>\n"},{"tags":["java","android","reactjs","react-native","mobile"],"comments":[{"owner":{"account_id":7126462,"reputation":2406,"user_id":5449238,"display_name":"anthony willis mu&#241;oz"},"score":0,"creation_date":1603799353,"post_id":64553714,"comment_id":114145075,"body_markdown":"that errors is because you double link the native sdk. Did u link manually right ? you need to rid that changes because if you using rn &gt;0.60 it does it for you","body":"that errors is because you double link the native sdk. Did u link manually right ? you need to rid that changes because if you using rn &gt;0.60 it does it for you"},{"owner":{"account_id":17726740,"reputation":313,"user_id":12870279,"display_name":"ikmo"},"score":0,"creation_date":1603799449,"post_id":64553714,"comment_id":114145128,"body_markdown":"which one u are saying native sdk means","body":"which one u are saying native sdk means"},{"owner":{"account_id":7126462,"reputation":2406,"user_id":5449238,"display_name":"anthony willis mu&#241;oz"},"score":0,"creation_date":1603807359,"post_id":64553714,"comment_id":114149403,"body_markdown":"https://payumobile.gitbook.io/sdk-integration/react-native/checkoutpro-wrapper did you react-native link payu-non-seam-less-react? if you did and ur version is &gt;60 it will retrieve you that exception","body":"<a href=\"https://payumobile.gitbook.io/sdk-integration/react-native/checkoutpro-wrapper\" rel=\"nofollow noreferrer\">payumobile.gitbook.io/sdk-integration/react-native/&hellip;</a> did you react-native link payu-non-seam-less-react? if you did and ur version is &gt;60 it will retrieve you that exception"},{"owner":{"account_id":17726740,"reputation":313,"user_id":12870279,"display_name":"ikmo"},"score":0,"creation_date":1603813081,"post_id":64553714,"comment_id":114152390,"body_markdown":"@anthonywillismu&#241;oz i didnt run this command react-native link payu-non-seam-less-react","body":"@anthonywillismu&#241;oz i didnt run this command react-native link payu-non-seam-less-react"},{"owner":{"account_id":7126462,"reputation":2406,"user_id":5449238,"display_name":"anthony willis mu&#241;oz"},"score":0,"creation_date":1603882973,"post_id":64553714,"comment_id":114175107,"body_markdown":"implementation (&#39;com.android.installreferrer:installreferrer:2.1&#39;, {\n        exclude group: &#39;google&#39;, module: &#39;android.a.b&#39;,\n    })","body":"implementation (&#39;com.android.installreferrer:installreferrer:2.1&#39;, {         exclude group: &#39;google&#39;, module: &#39;android.a.b&#39;,     })"},{"owner":{"account_id":17726740,"reputation":313,"user_id":12870279,"display_name":"ikmo"},"score":0,"creation_date":1603885087,"post_id":64553714,"comment_id":114176030,"body_markdown":"hello bro i have added its not working throwing same error","body":"hello bro i have added its not working throwing same error"}],"answers":[{"tags":[],"owner":{"account_id":7126462,"reputation":2406,"user_id":5449238,"display_name":"anthony willis mu&#241;oz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603885707,"creation_date":1603885707,"answer_id":64572220,"question_id":64553714,"body_markdown":"Use exclude\r\n\r\n```\r\nimplementation (&#39;com.android.installreferrer:installreferrer:2.1&#39;{\r\n   exclude group: &quot;com.google.android.a.b&quot;\r\n})\r\n\r\nimplementation (&#39;com.payu.india:payu-checkout-pro:1.1.1&#39;{\r\n   exclude group: &quot;com.google.android.a.c&quot;\r\n})\r\n```","title":"React native build failed Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;","body":"<p>Use exclude</p>\n<pre><code>implementation ('com.android.installreferrer:installreferrer:2.1'{\n   exclude group: &quot;com.google.android.a.b&quot;\n})\n\nimplementation ('com.payu.india:payu-checkout-pro:1.1.1'{\n   exclude group: &quot;com.google.android.a.c&quot;\n})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657730226,"creation_date":1657730226,"answer_id":72969732,"question_id":64553714,"body_markdown":"Ensure that the `androidX` and `Jetifier` support is enabled and mentioned in the `gradle.properties` file. If not, add the following entries to the `gradle.properties` file.\r\n\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n\r\nIf you are still getting the same error after adding the above lines then it might be because of your package conflicts in `node_modules`. \r\n\r\nSo, **try to delete the `node_modules` folder entirely and install it again** using `npm install`","title":"React native build failed Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;","body":"<p>Ensure that the <code>androidX</code> and <code>Jetifier</code> support is enabled and mentioned in the <code>gradle.properties</code> file. If not, add the following entries to the <code>gradle.properties</code> file.</p>\n<pre><code>android.useAndroidX=true\nandroid.enableJetifier=true\n</code></pre>\n<p>If you are still getting the same error after adding the above lines then it might be because of your package conflicts in <code>node_modules</code>.</p>\n<p>So, <strong>try to delete the <code>node_modules</code> folder entirely and install it again</strong> using <code>npm install</code></p>\n"}],"owner":{"account_id":17726740,"reputation":313,"user_id":12870279,"display_name":"ikmo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5691,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1657730226,"creation_date":1603798999,"question_id":64553714,"body_markdown":"working with **installreferrer** and **[payu][1]** sdk.iam new to react native tried to integrate payumobile for payment integradtion recieves error Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n\r\n\r\n  [1]: https://payumobile.gitbook.io/sdk-integration/react-native/checkoutpro-wrapper\r\n    ```\r\n    FAILURE: Build failed with an exception.\r\n    \r\n    *  What went wrong:\r\n    Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n    &gt; 1 exception was raised by workers:\r\n      java.lang.RuntimeException: Duplicate class com.google.android.a.a found in modules jetified-installreferrer-2.1-runtime.jar (com.android.installreferrer:installreferrer:2.1) and jetified-payu-gpay-1.3.3-runtime.jar (com.payu.gpay:payu-gpay:1.3.3)\r\n      Duplicate class com.google.android.a.b found in modules jetified-installreferrer-2.1-runtime.jar (com.android.installreferrer:installreferrer:2.1) and jetified-payu-gpay-1.3.3-runtime.jar (com.payu.gpay:payu-gpay:1.3.3)\r\n      Duplicate class com.google.android.a.c found in modules jetified-installreferrer-2.1-runtime.jar (com.android.installreferrer:installreferrer:2.1) and jetified-payu-gpay-1.3.3-runtime.jar (com.payu.gpay:payu-gpay:1.3.3)```\r\n\r\nandroid/build.gradle\r\n\r\n```\r\n    buildscript {\r\n        ext {\r\n            buildToolsVersion = &quot;29.0.2&quot;\r\n            minSdkVersion = 21\r\n            compileSdkVersion = 29\r\n            targetSdkVersion = 29\r\n            kotlinVersion = &quot;1.3.72&quot;\r\n            androidXCore = &quot;1.0.2&quot;\r\n        }\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:4.0.2&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;\r\n    //        classpath &#39;com.google.firebase:perf-plugin:1.3.1&#39;\r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            mavenLocal()\r\n            maven {\r\n                // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\r\n                url(&quot;$rootDir/../node_modules/react-native/android&quot;)\r\n            }\r\n            maven {\r\n                // Android JSC is installed from npm\r\n                url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\r\n            }\r\n            // ADD THIS\r\n            maven { url &#39;https://maven.google.com&#39; }\r\n    \r\n            // ADD THIS\r\n            maven { url &quot;https://www.jitpack.io&quot; }\r\n            maven { url &#39;https://maven.fabric.io/public&#39; }\r\n            maven {\r\n                url &quot;https://sdk.smartlook.com/android/release&quot;\r\n            }\r\n            maven { url &quot;https://phonepe.bintray.com/PhonePeIntentSDK&quot; }\r\n            google()\r\n            jcenter()\r\n        }\r\n    } \r\n\r\n```\r\n\r\ni have added dependency in app build.gradle it throws error\r\nandroid/app/build.gradle\r\n\r\n```\r\n\r\n    android {\r\n        compileSdkVersion rootProject.ext.compileSdkVersion\r\n    \r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        dexOptions {\r\n            preDexLibraries false\r\n            javaMaxHeapSize &quot;4g&quot;\r\n        }\r\n    \r\n        defaultConfig {\r\n    \r\n            missingDimensionStrategy &#39;react-native-camera&#39;, &#39;general&#39;\r\n    \r\n            applicationId &quot;com.vakilsearch.crm&quot;\r\n            minSdkVersion rootProject.ext.minSdkVersion\r\n            targetSdkVersion rootProject.ext.targetSdkVersion\r\n            vectorDrawables.useSupportLibrary = true   \r\n    \r\n        }\r\n        lintOptions {\r\n            abortOnError false\r\n            checkReleaseBuilds false\r\n        }\r\n        splits {\r\n            abi {\r\n                reset()\r\n                enable enableSeparateBuildPerCPUArchitecture\r\n                universalApk true  // If true, also generate a universal APK\r\n    //            include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\r\n            }\r\n        }\r\n        signingConfigs {\r\n            release {\r\n                storeFile file(MYAPP_RELEASE_STORE_FILE)\r\n                storePassword MYAPP_RELEASE_STORE_PASSWORD\r\n                keyAlias MYAPP_RELEASE_KEY_ALIAS\r\n                keyPassword MYAPP_RELEASE_KEY_PASSWORD\r\n            }\r\n        }\r\n        buildTypes {\r\n            release {\r\n                signingConfig signingConfigs.release\r\n    //            minifyEnabled enableProguardInReleaseBuilds\r\n    //            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\r\n            }\r\n            // dev is my added buildType\r\n            dev {\r\n                initWith release\r\n                applicationIdSuffix &quot;.dev&quot;\r\n                matchingFallbacks = [&#39;release&#39;]\r\n            }\r\n    \r\n        }\r\n    \r\n        // applicationVariants are e.g. debug, release\r\n        applicationVariants.all { variant -&gt;\r\n            variant.outputs.each { output -&gt;\r\n                // For each separate APK per architecture, set a unique version code as described here:\r\n                // http://tools.android.com/tech-docs/new-build-system/user-guide/apk-splits\r\n                def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\r\n                def abi = output.getFilter(OutputFile.ABI)\r\n                if (abi != null) {  // null for the universal-debug, universal-release variants\r\n                    output.versionCodeOverride =\r\n                            versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\r\n                }\r\n            }\r\n        }\r\n    \r\n        packagingOptions {\r\n            exclude &#39;META-INF/services/javax.annotation.processing.Processor&#39;\r\n    \r\n            pickFirst &quot;lib/armeabi-v7a/libc++_shared.so&quot;\r\n            pickFirst &quot;lib/arm64-v8a/libc++_shared.so&quot;\r\n            pickFirst &quot;lib/x86/libc++_shared.so&quot;\r\n            pickFirst &quot;lib/x86_64/libc++_shared.so&quot;\r\n        }\r\n        // configurations {\r\n        //     all { // You should exclude one of them for dublicate error\r\n        //         exclude group: &quot;com.google.android.a.a&quot;, module: &quot;com.payu.gpay:payu-gpay:1.3.3&quot;\r\n        //     }\r\n        // }\r\n    } \r\n        dependencies {\r\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        //noinspection GradleDynamicVersion\r\n        implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\r\n        implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;\r\n    \r\n        debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\r\n            exclude group: &#39;com.facebook.fbjni&#39;\r\n        }\r\n    \r\n        debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\r\n            exclude group: &#39;com.facebook.flipper&#39;\r\n            exclude group:&#39;com.squareup.okhttp3&#39;, module:&#39;okhttp&#39;\r\n        }\r\n    \r\n        debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\r\n            exclude group: &#39;com.facebook.flipper&#39;\r\n        }\r\n        implementation &#39;com.google.firebase:firebase-appindexing:19.1.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:17.5.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging:20.3.0&#39;\r\n        implementation &#39;me.leolin:ShortcutBadger:1.1.22@aar&#39;\r\n        implementation &#39;com.google.android.gms:play-services-gcm:17.0.0&#39;\r\n        implementation &#39;com.google.android.gms:play-services-analytics:17.0.0&#39;\r\n    //    implementation &#39;com.google.android.gms:play-services-tagmanager:17.0.0&#39;\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:support-v4:28.0.0&#39;\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlinVersion&quot;\r\n        implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n        implementation &#39;androidx.annotation:annotation:1.1.0&#39;\r\n        implementation &#39;com.facebook.fresco:fresco:2.2.0&#39;\r\n        implementation &#39;com.facebook.fresco:animated-gif:2.0.0&#39;\r\n        // Firebase dependencies (INSERT THIS)\r\n        //this overrides the sdk play services dependency, without the app crashes, because there can only be one version of google play services\r\n        // implementation &#39;com.google.android.gms:play-services-base:17.1.0&#39;\r\n        //webengage\r\n        implementation &#39;com.webengage:android-sdk:3.+&#39;\r\n    //    implementation &#39;com.google.android.gms:play-services-ads:19.1.0&#39;\r\n        implementation &#39;com.android.installreferrer:installreferrer:2.1&#39;\r\n        implementation &#39;com.payu.india:payu-checkout-pro:1.1.1&#39; \r\n        if (enableHermes) {\r\n            def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\r\n            debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\r\n            releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\r\n        } else {\r\n            implementation jscFlavor\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n```\r\n\r\n\r\n","title":"React native build failed Execution failed for task &#39;:app:checkDebugDuplicateClasses&#39;","body":"<p>working with <strong>installreferrer</strong> and <strong><a href=\"https://payumobile.gitbook.io/sdk-integration/react-native/checkoutpro-wrapper\" rel=\"nofollow noreferrer\">payu</a></strong> sdk.iam new to react native tried to integrate payumobile for payment integradtion recieves error Execution failed for task ':app:checkDebugDuplicateClasses'.</p>\n<p>```\nFAILURE: Build failed with an exception.</p>\n<pre><code>*  What went wrong:\nExecution failed for task ':app:checkDebugDuplicateClasses'.\n&gt; 1 exception was raised by workers:\n  java.lang.RuntimeException: Duplicate class com.google.android.a.a found in modules jetified-installreferrer-2.1-runtime.jar (com.android.installreferrer:installreferrer:2.1) and jetified-payu-gpay-1.3.3-runtime.jar (com.payu.gpay:payu-gpay:1.3.3)\n  Duplicate class com.google.android.a.b found in modules jetified-installreferrer-2.1-runtime.jar (com.android.installreferrer:installreferrer:2.1) and jetified-payu-gpay-1.3.3-runtime.jar (com.payu.gpay:payu-gpay:1.3.3)\n  Duplicate class com.google.android.a.c found in modules jetified-installreferrer-2.1-runtime.jar (com.android.installreferrer:installreferrer:2.1) and jetified-payu-gpay-1.3.3-runtime.jar (com.payu.gpay:payu-gpay:1.3.3)```\n</code></pre>\n<p>android/build.gradle</p>\n<pre><code>    buildscript {\n        ext {\n            buildToolsVersion = &quot;29.0.2&quot;\n            minSdkVersion = 21\n            compileSdkVersion = 29\n            targetSdkVersion = 29\n            kotlinVersion = &quot;1.3.72&quot;\n            androidXCore = &quot;1.0.2&quot;\n        }\n        repositories {\n            google()\n            jcenter()\n        }\n        dependencies {\n            classpath 'com.android.tools.build:gradle:4.0.2'\n            classpath 'com.google.gms:google-services:4.3.3'\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;\n    //        classpath 'com.google.firebase:perf-plugin:1.3.1'\n            // NOTE: Do not place your application dependencies here; they belong\n            // in the individual module build.gradle files\n        }\n    }\n    \n    allprojects {\n        repositories {\n            mavenLocal()\n            maven {\n                // All of React Native (JS, Obj-C sources, Android binaries) is installed from npm\n                url(&quot;$rootDir/../node_modules/react-native/android&quot;)\n            }\n            maven {\n                // Android JSC is installed from npm\n                url(&quot;$rootDir/../node_modules/jsc-android/dist&quot;)\n            }\n            // ADD THIS\n            maven { url 'https://maven.google.com' }\n    \n            // ADD THIS\n            maven { url &quot;https://www.jitpack.io&quot; }\n            maven { url 'https://maven.fabric.io/public' }\n            maven {\n                url &quot;https://sdk.smartlook.com/android/release&quot;\n            }\n            maven { url &quot;https://phonepe.bintray.com/PhonePeIntentSDK&quot; }\n            google()\n            jcenter()\n        }\n    } \n\n</code></pre>\n<p>i have added dependency in app build.gradle it throws error\nandroid/app/build.gradle</p>\n<pre><code>\n    android {\n        compileSdkVersion rootProject.ext.compileSdkVersion\n    \n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_1_8\n            targetCompatibility JavaVersion.VERSION_1_8\n        }\n        dexOptions {\n            preDexLibraries false\n            javaMaxHeapSize &quot;4g&quot;\n        }\n    \n        defaultConfig {\n    \n            missingDimensionStrategy 'react-native-camera', 'general'\n    \n            applicationId &quot;com.vakilsearch.crm&quot;\n            minSdkVersion rootProject.ext.minSdkVersion\n            targetSdkVersion rootProject.ext.targetSdkVersion\n            vectorDrawables.useSupportLibrary = true   \n    \n        }\n        lintOptions {\n            abortOnError false\n            checkReleaseBuilds false\n        }\n        splits {\n            abi {\n                reset()\n                enable enableSeparateBuildPerCPUArchitecture\n                universalApk true  // If true, also generate a universal APK\n    //            include &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;arm64-v8a&quot;, &quot;x86_64&quot;\n            }\n        }\n        signingConfigs {\n            release {\n                storeFile file(MYAPP_RELEASE_STORE_FILE)\n                storePassword MYAPP_RELEASE_STORE_PASSWORD\n                keyAlias MYAPP_RELEASE_KEY_ALIAS\n                keyPassword MYAPP_RELEASE_KEY_PASSWORD\n            }\n        }\n        buildTypes {\n            release {\n                signingConfig signingConfigs.release\n    //            minifyEnabled enableProguardInReleaseBuilds\n    //            proguardFiles getDefaultProguardFile(&quot;proguard-android.txt&quot;), &quot;proguard-rules.pro&quot;\n            }\n            // dev is my added buildType\n            dev {\n                initWith release\n                applicationIdSuffix &quot;.dev&quot;\n                matchingFallbacks = ['release']\n            }\n    \n        }\n    \n        // applicationVariants are e.g. debug, release\n        applicationVariants.all { variant -&gt;\n            variant.outputs.each { output -&gt;\n                // For each separate APK per architecture, set a unique version code as described here:\n                // http://tools.android.com/tech-docs/new-build-system/user-guide/apk-splits\n                def versionCodes = [&quot;armeabi-v7a&quot;: 1, &quot;x86&quot;: 2, &quot;arm64-v8a&quot;: 3, &quot;x86_64&quot;: 4]\n                def abi = output.getFilter(OutputFile.ABI)\n                if (abi != null) {  // null for the universal-debug, universal-release variants\n                    output.versionCodeOverride =\n                            versionCodes.get(abi) * 1048576 + defaultConfig.versionCode\n                }\n            }\n        }\n    \n        packagingOptions {\n            exclude 'META-INF/services/javax.annotation.processing.Processor'\n    \n            pickFirst &quot;lib/armeabi-v7a/libc++_shared.so&quot;\n            pickFirst &quot;lib/arm64-v8a/libc++_shared.so&quot;\n            pickFirst &quot;lib/x86/libc++_shared.so&quot;\n            pickFirst &quot;lib/x86_64/libc++_shared.so&quot;\n        }\n        // configurations {\n        //     all { // You should exclude one of them for dublicate error\n        //         exclude group: &quot;com.google.android.a.a&quot;, module: &quot;com.payu.gpay:payu-gpay:1.3.3&quot;\n        //     }\n        // }\n    } \n        dependencies {\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n        //noinspection GradleDynamicVersion\n        implementation &quot;com.facebook.react:react-native:+&quot;  // From node_modules\n        implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;\n    \n        debugImplementation(&quot;com.facebook.flipper:flipper:${FLIPPER_VERSION}&quot;) {\n            exclude group: 'com.facebook.fbjni'\n        }\n    \n        debugImplementation(&quot;com.facebook.flipper:flipper-network-plugin:${FLIPPER_VERSION}&quot;) {\n            exclude group: 'com.facebook.flipper'\n            exclude group:'com.squareup.okhttp3', module:'okhttp'\n        }\n    \n        debugImplementation(&quot;com.facebook.flipper:flipper-fresco-plugin:${FLIPPER_VERSION}&quot;) {\n            exclude group: 'com.facebook.flipper'\n        }\n        implementation 'com.google.firebase:firebase-appindexing:19.1.0'\n        implementation 'com.google.firebase:firebase-core:17.5.1'\n        implementation 'com.google.firebase:firebase-messaging:20.3.0'\n        implementation 'me.leolin:ShortcutBadger:1.1.22@aar'\n        implementation 'com.google.android.gms:play-services-gcm:17.0.0'\n        implementation 'com.google.android.gms:play-services-analytics:17.0.0'\n    //    implementation 'com.google.android.gms:play-services-tagmanager:17.0.0'\n        implementation 'com.android.support:appcompat-v7:28.0.0'\n        implementation 'com.android.support:support-v4:28.0.0'\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlinVersion&quot;\n        implementation 'androidx.appcompat:appcompat:1.2.0'\n        implementation 'androidx.annotation:annotation:1.1.0'\n        implementation 'com.facebook.fresco:fresco:2.2.0'\n        implementation 'com.facebook.fresco:animated-gif:2.0.0'\n        // Firebase dependencies (INSERT THIS)\n        //this overrides the sdk play services dependency, without the app crashes, because there can only be one version of google play services\n        // implementation 'com.google.android.gms:play-services-base:17.1.0'\n        //webengage\n        implementation 'com.webengage:android-sdk:3.+'\n    //    implementation 'com.google.android.gms:play-services-ads:19.1.0'\n        implementation 'com.android.installreferrer:installreferrer:2.1'\n        implementation 'com.payu.india:payu-checkout-pro:1.1.1' \n        if (enableHermes) {\n            def hermesPath = &quot;../../node_modules/hermes-engine/android/&quot;;\n            debugImplementation files(hermesPath + &quot;hermes-debug.aar&quot;)\n            releaseImplementation files(hermesPath + &quot;hermes-release.aar&quot;)\n        } else {\n            implementation jscFlavor\n        }\n    \n    \n    }\n\n</code></pre>\n"},{"tags":["java","jakarta-ee","mms","mms-gateway","mm7"],"answers":[{"tags":[],"owner":{"account_id":489935,"reputation":71,"user_id":1225651,"display_name":"Mwangi Gikonyo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1657729845,"creation_date":1329928782,"answer_id":9399040,"question_id":6880735,"body_markdown":"The MMS Soap should look like this: [3GPP MM7 SOAP Spesicifation][1].\r\n\r\nHere is how I&#39;m doing it:\r\n\r\nYou will need activation.jar, saaj-api.jar, activation.jar, and saaj-impl.jar (and any other dependent jar files).\r\n\r\nHere is how you can start out.\r\n\r\n    package com.pixelandtag.mms.soap;\r\n\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    import java.sql.Timestamp;\r\n    import javax.activation.DataHandler;\r\n    import javax.xml.soap.AttachmentPart;\r\n    import javax.xml.soap.MessageFactory;\r\n    import javax.xml.soap.Name;\r\n    import javax.xml.soap.SOAPBody;\r\n    import javax.xml.soap.SOAPBodyElement;\r\n    import javax.xml.soap.SOAPConnection;\r\n    import javax.xml.soap.SOAPConnectionFactory;\r\n    import javax.xml.soap.SOAPElement;\r\n    import javax.xml.soap.SOAPEnvelope;\r\n    import javax.xml.soap.SOAPException;\r\n    import javax.xml.soap.SOAPFactory;\r\n    import javax.xml.soap.SOAPHeader;\r\n    import javax.xml.soap.SOAPHeaderElement;\r\n    import javax.xml.soap.SOAPMessage;\r\n    import javax.xml.soap.SOAPPart;\r\n\r\n\r\n\r\n    public class MMSGen {\r\n\r\n\tprivate static final String TxId = &quot;&quot;;\r\n\tprivate static final String MM7_VERSION = &quot;&quot;;\r\n\tprivate static final String VASPID = &quot;&quot;;\r\n\tprivate static final String VASID = &quot;&quot;;\r\n\tprivate static final String SHORTCODE = &quot;&quot;;\r\n\tprivate static final String SERVICE_CODE = &quot;&quot;;\r\n\tprivate static final String LINKED_ID = &quot;&quot;;\r\n\tprivate static final String MMSCMPMMS0000 = &quot;&quot;;\r\n\tprivate static final String EARLIEST_DELIVERY_TIME = &quot;2006-11-09T13:01:04+03:00&quot;;\r\n\tprivate static final String EXPIRY_DATE = &quot;2007-11-10T13:01:04+03:00&quot;;\r\n\tprivate static final String DELIVERY_REPORT = &quot;false&quot;;\r\n\tprivate static final String READ_REPLY = &quot;false&quot;;\r\n\tprivate static final String SUBJECT = &quot;&quot;;\r\n\tprivate static final String DISTRIBUTION_INDICATION = &quot;false&quot;;\r\n\t\r\n\t\r\n\t/**\r\n\t * @param args\r\n\t * @throws IOException \r\n\t */\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\t//SOAP Message created\r\n\t\t\tMessageFactory factory = MessageFactory.newInstance();\r\n\t\t\tSOAPMessage message = factory.createMessage(); \r\n\t\t\t\r\n\t\t\t//Now accessing the elements of the soap message\r\n\t\t\tSOAPPart soapPart = message.getSOAPPart(); \r\n\t\t\t\r\n\t\t\t//Get the envelope\r\n\t\t\tSOAPEnvelope envelope = soapPart.getEnvelope(); \r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//You can now use the getHeader and getBody methods \r\n\t\t\t//of envelope to retrieve its empty SOAPHeader and SOAPBody objects.\r\n\t\t\tSOAPHeader header = envelope.getHeader();\r\n\t\t\tSOAPBody body = envelope.getBody();\r\n\t\t\t\r\n\t\t\t//Other ways of getting the body and header\r\n\t\t\t//header = message.getSOAPHeader();\r\n\t\t\t//body = message.getSOAPBody();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//Deleting a node.\r\n\t\t\t//header.detachNode(); \r\n\t\t\tSOAPFactory soapFactory = SOAPFactory.newInstance();\r\n\t\t\t \r\n\t\t\t//================CONSTRUCTING HEADER\r\n\t\t\tName headerName = soapFactory.createName(&quot;TransactionID&quot;,\r\n\t        \t\t  &quot;mm7&quot;, &quot;http://www.3gpp.org/ftp/Specs/archive/23_series/23.140/schema/REL-5-MM7-1-2&quot;);\r\n\t\t\t \r\n\t\t\tSOAPHeaderElement headerElement = header.addHeaderElement(headerName); \r\n\t        headerElement.setTextContent(&quot;TID.&quot;+TxId);\r\n\t        headerElement.setMustUnderstand(true);\r\n\t        //===============HEADER DONE======================\r\n\t        \r\n\t        \r\n\t        \r\n\t        \r\n\t        //===============CONSTRUCTING BODY==============\r\n\t        Name bodyName = soapFactory.createName(&quot;SubmitReq&quot;);\r\n\t        SOAPBodyElement bodyElement = body.addBodyElement(bodyName);\r\n\t        Name attributeName = envelope.createName(&quot;xmlsn&quot;);//change name to proper to xmls, though it does not print out\r\n\t        bodyElement.addAttribute(attributeName, &quot;http://www.3gpp.org/ftp/Specs/archive/23_series/23.140/schema/REL-5-MM7-1-2&quot;);\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;MM7Version&quot;);\r\n\t        SOAPElement MM7Version =  bodyElement.addChildElement(bodyName);\r\n\t        MM7Version.setTextContent(MM7_VERSION);\r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;SenderIdentification&quot;);\r\n\t        SOAPElement SenderIdentification =  bodyElement.addChildElement(bodyName);\r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;SenderAddress&quot;);\r\n\t        SOAPElement senderAddress =  SenderIdentification.addChildElement(bodyName);\r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;ShortCode&quot;);\r\n\t        SOAPElement shortCode =  senderAddress.addChildElement(bodyName);\r\n\t        shortCode.setTextContent(SHORTCODE);\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;Recipients&quot;);\r\n\t        SOAPElement recipients =  bodyElement.addChildElement(bodyName);\r\n\t       \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;To&quot;);\r\n\t        SOAPElement to =  recipients.addChildElement(bodyName);\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;Number&quot;);\r\n\t        SOAPElement number =  to.addChildElement(bodyName);\r\n\t        number.setTextContent(MMSCMPMMS0000);\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;VASPID&quot;);\r\n\t        SOAPElement vaspID =  SenderIdentification.addChildElement(bodyName);\r\n\t        vaspID.setTextContent(VASPID);\r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;VASID&quot;);\r\n\t        SOAPElement vasID =  SenderIdentification.addChildElement(bodyName);\r\n\t        vasID.setTextContent(VASID);\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;ServiceCode&quot;);\r\n\t        SOAPElement serviceCode =  bodyElement.addChildElement(bodyName);\r\n\t        serviceCode.setTextContent(SERVICE_CODE);\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;LinkedID&quot;);\r\n\t        SOAPElement linkedID =  bodyElement.addChildElement(bodyName);\r\n\t        linkedID.setTextContent(LINKED_ID);\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;MessageClass&quot;);\r\n\t        SOAPElement messageClass =  bodyElement.addChildElement(bodyName);\r\n\t        messageClass.setTextContent(MessageClass.Personal.toString());\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;EarliestDeliveryTime&quot;);\r\n\t        SOAPElement earliestDeliveryTime =  bodyElement.addChildElement(bodyName);\r\n\t        earliestDeliveryTime.setTextContent(EARLIEST_DELIVERY_TIME);\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;ExpiryDate&quot;);\r\n\t        SOAPElement expiryDate =  bodyElement.addChildElement(bodyName);\r\n\t        expiryDate.setTextContent(EXPIRY_DATE);\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;DeliveryReport&quot;);\r\n\t        SOAPElement deliveryReport =  bodyElement.addChildElement(bodyName);\r\n\t        deliveryReport.setTextContent(DELIVERY_REPORT);\r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;ReadReply&quot;);\r\n\t        SOAPElement readReply =  bodyElement.addChildElement(bodyName);\r\n\t        readReply.setTextContent(READ_REPLY);\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;Priority&quot;);\r\n\t        SOAPElement priority =  bodyElement.addChildElement(bodyName);\r\n\t        priority.setTextContent(Priority.Normal.toString());\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;Subject&quot;);\r\n\t        SOAPElement subject =  bodyElement.addChildElement(bodyName);\r\n\t        subject.setTextContent(SUBJECT);\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;ChargedParty&quot;);\r\n\t        SOAPElement chargedParty =  bodyElement.addChildElement(bodyName);\r\n\t        chargedParty.setTextContent(ChargedParty.Recipient.toString());\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;DistributionIndicator&quot;);\r\n\t        SOAPElement distributionIndicator =  bodyElement.addChildElement(bodyName);\r\n\t        distributionIndicator.setTextContent(DISTRIBUTION_INDICATION);\r\n\t        \r\n\t        \r\n\t        bodyName = soapFactory.createName(&quot;Content&quot;);\r\n\t        SOAPElement content =  bodyElement.addChildElement(bodyName);\r\n\t        \r\n\t        attributeName = envelope.createName(&quot;href&quot;);//change name to proper to xmls, though it does not print out\r\n\t        SOAPElement attr = content.addAttribute(attributeName, &quot;cid:A0&quot;);\r\n\t        \r\n\t        attributeName = envelope.createName(&quot;allowAdaptations&quot;);//change name to proper to xmls, though it does not print out\r\n\t        attr = content.addAttribute(attributeName, &quot;false&quot;);\r\n\t        //=====================BODY DONE================\r\n\t        \r\n\t        \r\n\t        \r\n\t        //=================create attachment===========\r\n\t        \r\n\t       // AttachmentPart attachment = message.createAttachmentPart(); \r\n\t        \r\n\t        \r\n\t        //Simple attach\r\n\t       /* String stringContent = &quot;Update address for Sunny Skies &quot; + \r\n\t        &quot;Inc., to 10 Upbeat Street, Pleasant Grove, CA 95439&quot;;\r\n\r\n\t      attachment.setContent(stringContent, &quot;application/smil&quot;);\r\n\t      attachment.setContentId(&quot;update_address&quot;);\r\n\r\n\t      message.addAttachmentPart(attachment); */\r\n\t        \r\n\t        \r\n\t        URL url = new URL(&quot;http://www.petermak.nl/webalbum_peter_mak_aannemersbedrijf011002.jpg&quot;);\r\n\t        DataHandler dataHandler = new DataHandler(url);\r\n\t        AttachmentPart attachment1 = \r\n\t          message.createAttachmentPart(dataHandler);\r\n\t       // attachment.setContent(stringContent, &quot;application/smil&quot;);\r\n\t        attachment1.setContentId(&quot;attached_image&quot;);\r\n\r\n\t        message.addAttachmentPart(attachment1); \r\n\t        \r\n\t        \r\n\t        URL url2 = new URL(&quot;file:///C:\\\\Users\\\\Timo\\\\Desktop\\\\MMS Pis\\\\pic_test.jpg&quot;);\r\n            dataHandler = new DataHandler(url2);\r\n            AttachmentPart attachment2 = message.createAttachmentPart(\r\n                        dataHandler);\r\n            attachment2.setContentId(&quot;attached_image2&quot;);\r\n\r\n            message.addAttachmentPart(attachment2);\r\n\t        \r\n\t        \r\n\t        \r\n\t        \r\n\t        \r\n\t        \r\n\t        \r\n\t       \r\n\t        \r\n\t       java.net.URL endpoint = new URL(&quot;http://theendpoint.&quot;);\r\n\t\t  \r\n\t\t  \r\n\t\t  \r\n\t        \r\n\t       \r\n\t\t     \r\n\t\t   SOAPConnectionFactory soapConnectionFactory = \r\n\t        \t  SOAPConnectionFactory.newInstance(); \r\n\t        \r\n\t        SOAPConnection connection = \r\n\t        \t  soapConnectionFactory.createConnection(); \r\n\t        SOAPMessage response = connection.call(message, endpoint); \r\n\t         \r\n\t         \r\n\t\t\t System.out.println(&quot;\\nRESPONSE:\\n&quot;);\r\n\t\t\t response.writeTo(System.out);\r\n\t\t     System.out.println();\r\n\t\t     \r\n\t\t     connection.close();\r\n\t\t    \r\n\t\t\t\r\n\t\t\r\n\t\t} catch (SOAPException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n    }\r\n\r\n\r\n  [1]: http://www.3gpp.org/ftp/Specs/archive/23_series/23.140/schema/REL-5-MM7-1-2 &quot;3ggp Specification for MM7 - Submitting MMS as a VASP/VAS vendor&quot;","title":"How to send MMS with MM7 using Java?","body":"<p>The MMS Soap should look like this: <a href=\"http://www.3gpp.org/ftp/Specs/archive/23_series/23.140/schema/REL-5-MM7-1-2\" rel=\"nofollow noreferrer\" title=\"3ggp Specification for MM7 - Submitting MMS as a VASP/VAS vendor\">3GPP MM7 SOAP Spesicifation</a>.</p>\n<p>Here is how I'm doing it:</p>\n<p>You will need activation.jar, saaj-api.jar, activation.jar, and saaj-impl.jar (and any other dependent jar files).</p>\n<p>Here is how you can start out.</p>\n<pre><code>package com.pixelandtag.mms.soap;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.sql.Timestamp;\nimport javax.activation.DataHandler;\nimport javax.xml.soap.AttachmentPart;\nimport javax.xml.soap.MessageFactory;\nimport javax.xml.soap.Name;\nimport javax.xml.soap.SOAPBody;\nimport javax.xml.soap.SOAPBodyElement;\nimport javax.xml.soap.SOAPConnection;\nimport javax.xml.soap.SOAPConnectionFactory;\nimport javax.xml.soap.SOAPElement;\nimport javax.xml.soap.SOAPEnvelope;\nimport javax.xml.soap.SOAPException;\nimport javax.xml.soap.SOAPFactory;\nimport javax.xml.soap.SOAPHeader;\nimport javax.xml.soap.SOAPHeaderElement;\nimport javax.xml.soap.SOAPMessage;\nimport javax.xml.soap.SOAPPart;\n\n\n\npublic class MMSGen {\n\nprivate static final String TxId = &quot;&quot;;\nprivate static final String MM7_VERSION = &quot;&quot;;\nprivate static final String VASPID = &quot;&quot;;\nprivate static final String VASID = &quot;&quot;;\nprivate static final String SHORTCODE = &quot;&quot;;\nprivate static final String SERVICE_CODE = &quot;&quot;;\nprivate static final String LINKED_ID = &quot;&quot;;\nprivate static final String MMSCMPMMS0000 = &quot;&quot;;\nprivate static final String EARLIEST_DELIVERY_TIME = &quot;2006-11-09T13:01:04+03:00&quot;;\nprivate static final String EXPIRY_DATE = &quot;2007-11-10T13:01:04+03:00&quot;;\nprivate static final String DELIVERY_REPORT = &quot;false&quot;;\nprivate static final String READ_REPLY = &quot;false&quot;;\nprivate static final String SUBJECT = &quot;&quot;;\nprivate static final String DISTRIBUTION_INDICATION = &quot;false&quot;;\n\n\n/**\n * @param args\n * @throws IOException \n */\npublic static void main(String[] args) throws IOException {\n    \n    \n    try {\n        \n        //SOAP Message created\n        MessageFactory factory = MessageFactory.newInstance();\n        SOAPMessage message = factory.createMessage(); \n        \n        //Now accessing the elements of the soap message\n        SOAPPart soapPart = message.getSOAPPart(); \n        \n        //Get the envelope\n        SOAPEnvelope envelope = soapPart.getEnvelope(); \n        \n        \n        //You can now use the getHeader and getBody methods \n        //of envelope to retrieve its empty SOAPHeader and SOAPBody objects.\n        SOAPHeader header = envelope.getHeader();\n        SOAPBody body = envelope.getBody();\n        \n        //Other ways of getting the body and header\n        //header = message.getSOAPHeader();\n        //body = message.getSOAPBody();\n        \n        \n        //Deleting a node.\n        //header.detachNode(); \n        SOAPFactory soapFactory = SOAPFactory.newInstance();\n         \n        //================CONSTRUCTING HEADER\n        Name headerName = soapFactory.createName(&quot;TransactionID&quot;,\n                  &quot;mm7&quot;, &quot;http://www.3gpp.org/ftp/Specs/archive/23_series/23.140/schema/REL-5-MM7-1-2&quot;);\n         \n        SOAPHeaderElement headerElement = header.addHeaderElement(headerName); \n        headerElement.setTextContent(&quot;TID.&quot;+TxId);\n        headerElement.setMustUnderstand(true);\n        //===============HEADER DONE======================\n        \n        \n        \n        \n        //===============CONSTRUCTING BODY==============\n        Name bodyName = soapFactory.createName(&quot;SubmitReq&quot;);\n        SOAPBodyElement bodyElement = body.addBodyElement(bodyName);\n        Name attributeName = envelope.createName(&quot;xmlsn&quot;);//change name to proper to xmls, though it does not print out\n        bodyElement.addAttribute(attributeName, &quot;http://www.3gpp.org/ftp/Specs/archive/23_series/23.140/schema/REL-5-MM7-1-2&quot;);\n        \n        \n        bodyName = soapFactory.createName(&quot;MM7Version&quot;);\n        SOAPElement MM7Version =  bodyElement.addChildElement(bodyName);\n        MM7Version.setTextContent(MM7_VERSION);\n        \n        bodyName = soapFactory.createName(&quot;SenderIdentification&quot;);\n        SOAPElement SenderIdentification =  bodyElement.addChildElement(bodyName);\n        \n        bodyName = soapFactory.createName(&quot;SenderAddress&quot;);\n        SOAPElement senderAddress =  SenderIdentification.addChildElement(bodyName);\n        \n        bodyName = soapFactory.createName(&quot;ShortCode&quot;);\n        SOAPElement shortCode =  senderAddress.addChildElement(bodyName);\n        shortCode.setTextContent(SHORTCODE);\n        \n        \n        bodyName = soapFactory.createName(&quot;Recipients&quot;);\n        SOAPElement recipients =  bodyElement.addChildElement(bodyName);\n       \n        \n        bodyName = soapFactory.createName(&quot;To&quot;);\n        SOAPElement to =  recipients.addChildElement(bodyName);\n        \n        \n        bodyName = soapFactory.createName(&quot;Number&quot;);\n        SOAPElement number =  to.addChildElement(bodyName);\n        number.setTextContent(MMSCMPMMS0000);\n        \n        \n        bodyName = soapFactory.createName(&quot;VASPID&quot;);\n        SOAPElement vaspID =  SenderIdentification.addChildElement(bodyName);\n        vaspID.setTextContent(VASPID);\n        \n        bodyName = soapFactory.createName(&quot;VASID&quot;);\n        SOAPElement vasID =  SenderIdentification.addChildElement(bodyName);\n        vasID.setTextContent(VASID);\n        \n        \n        bodyName = soapFactory.createName(&quot;ServiceCode&quot;);\n        SOAPElement serviceCode =  bodyElement.addChildElement(bodyName);\n        serviceCode.setTextContent(SERVICE_CODE);\n        \n        \n        bodyName = soapFactory.createName(&quot;LinkedID&quot;);\n        SOAPElement linkedID =  bodyElement.addChildElement(bodyName);\n        linkedID.setTextContent(LINKED_ID);\n        \n        \n        bodyName = soapFactory.createName(&quot;MessageClass&quot;);\n        SOAPElement messageClass =  bodyElement.addChildElement(bodyName);\n        messageClass.setTextContent(MessageClass.Personal.toString());\n        \n        \n        bodyName = soapFactory.createName(&quot;EarliestDeliveryTime&quot;);\n        SOAPElement earliestDeliveryTime =  bodyElement.addChildElement(bodyName);\n        earliestDeliveryTime.setTextContent(EARLIEST_DELIVERY_TIME);\n        \n        \n        bodyName = soapFactory.createName(&quot;ExpiryDate&quot;);\n        SOAPElement expiryDate =  bodyElement.addChildElement(bodyName);\n        expiryDate.setTextContent(EXPIRY_DATE);\n        \n        \n        bodyName = soapFactory.createName(&quot;DeliveryReport&quot;);\n        SOAPElement deliveryReport =  bodyElement.addChildElement(bodyName);\n        deliveryReport.setTextContent(DELIVERY_REPORT);\n        \n        bodyName = soapFactory.createName(&quot;ReadReply&quot;);\n        SOAPElement readReply =  bodyElement.addChildElement(bodyName);\n        readReply.setTextContent(READ_REPLY);\n        \n        \n        bodyName = soapFactory.createName(&quot;Priority&quot;);\n        SOAPElement priority =  bodyElement.addChildElement(bodyName);\n        priority.setTextContent(Priority.Normal.toString());\n        \n        \n        bodyName = soapFactory.createName(&quot;Subject&quot;);\n        SOAPElement subject =  bodyElement.addChildElement(bodyName);\n        subject.setTextContent(SUBJECT);\n        \n        \n        bodyName = soapFactory.createName(&quot;ChargedParty&quot;);\n        SOAPElement chargedParty =  bodyElement.addChildElement(bodyName);\n        chargedParty.setTextContent(ChargedParty.Recipient.toString());\n        \n        \n        bodyName = soapFactory.createName(&quot;DistributionIndicator&quot;);\n        SOAPElement distributionIndicator =  bodyElement.addChildElement(bodyName);\n        distributionIndicator.setTextContent(DISTRIBUTION_INDICATION);\n        \n        \n        bodyName = soapFactory.createName(&quot;Content&quot;);\n        SOAPElement content =  bodyElement.addChildElement(bodyName);\n        \n        attributeName = envelope.createName(&quot;href&quot;);//change name to proper to xmls, though it does not print out\n        SOAPElement attr = content.addAttribute(attributeName, &quot;cid:A0&quot;);\n        \n        attributeName = envelope.createName(&quot;allowAdaptations&quot;);//change name to proper to xmls, though it does not print out\n        attr = content.addAttribute(attributeName, &quot;false&quot;);\n        //=====================BODY DONE================\n        \n        \n        \n        //=================create attachment===========\n        \n       // AttachmentPart attachment = message.createAttachmentPart(); \n        \n        \n        //Simple attach\n       /* String stringContent = &quot;Update address for Sunny Skies &quot; + \n        &quot;Inc., to 10 Upbeat Street, Pleasant Grove, CA 95439&quot;;\n\n      attachment.setContent(stringContent, &quot;application/smil&quot;);\n      attachment.setContentId(&quot;update_address&quot;);\n\n      message.addAttachmentPart(attachment); */\n        \n        \n        URL url = new URL(&quot;http://www.petermak.nl/webalbum_peter_mak_aannemersbedrijf011002.jpg&quot;);\n        DataHandler dataHandler = new DataHandler(url);\n        AttachmentPart attachment1 = \n          message.createAttachmentPart(dataHandler);\n       // attachment.setContent(stringContent, &quot;application/smil&quot;);\n        attachment1.setContentId(&quot;attached_image&quot;);\n\n        message.addAttachmentPart(attachment1); \n        \n        \n        URL url2 = new URL(&quot;file:///C:\\\\Users\\\\Timo\\\\Desktop\\\\MMS Pis\\\\pic_test.jpg&quot;);\n        dataHandler = new DataHandler(url2);\n        AttachmentPart attachment2 = message.createAttachmentPart(\n                    dataHandler);\n        attachment2.setContentId(&quot;attached_image2&quot;);\n\n        message.addAttachmentPart(attachment2);\n        \n        \n        \n        \n        \n        \n        \n       \n        \n       java.net.URL endpoint = new URL(&quot;http://theendpoint.&quot;);\n      \n      \n      \n        \n       \n         \n       SOAPConnectionFactory soapConnectionFactory = \n              SOAPConnectionFactory.newInstance(); \n        \n        SOAPConnection connection = \n              soapConnectionFactory.createConnection(); \n        SOAPMessage response = connection.call(message, endpoint); \n         \n         \n         System.out.println(&quot;\\nRESPONSE:\\n&quot;);\n         response.writeTo(System.out);\n         System.out.println();\n         \n         connection.close();\n        \n        \n    \n    } catch (SOAPException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    \n}\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3991546,"reputation":171,"user_id":3290316,"display_name":"Vjeko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1391972015,"creation_date":1391972015,"answer_id":21663398,"question_id":6880735,"body_markdown":"Over the years I had to connect to various MMSCs using MM7 protocol. SAAJ approach is a valid one, but from time to time you have to manually craft MM7 messages as MMSCs tend to be picky about exact MIME formatting, SOAP, even binary vs. base64 encoding.\r\n\r\nAt my company we&#39;ve developed a library that manages MM7 SOAP and attachments at a low level depending only on JDOM. It works regardless of actual MM7 protocol version/schema. Recently we&#39;ve decided to open source it, you can get it here https://github.com/vnesek/instantcom-mm7 \r\n\r\nExample:\r\n\r\n        SubmitReq sr = new SubmitReq();\r\n        sr.setVaspId(&quot;xxx_vaspid&quot;);\r\n        sr.setVasId(&quot;xxx_vasid&quot;);\r\n        sr.setSubject(&quot;Nice weather&quot;);\r\n        sr.setMessageClass(MessageClass.INFORMATIONAL);\r\n        sr.setServiceCode(&quot;7007&quot;);\r\n        sr.addRecipient(new Address(&quot;+385910000001&quot;, RecipientType.TO));\r\n\r\n        // Add text content\r\n        TextContent text = new TextContent(&quot;We got a real nice weather today.&quot;);\r\n        text.setContentId(&quot;text&quot;);\r\n        sr.setContent(text);\r\n\r\n        // Initialize MM7 client to MMSC\r\n        MMSC mmsc = new BasicMMSC(url);\r\n\r\n        // Send a message\r\n        SubmitRsp submitRsp = mmsc.submit(sr);\r\n        System.out.println(submitRsp);","title":"How to send MMS with MM7 using Java?","body":"<p>Over the years I had to connect to various MMSCs using MM7 protocol. SAAJ approach is a valid one, but from time to time you have to manually craft MM7 messages as MMSCs tend to be picky about exact MIME formatting, SOAP, even binary vs. base64 encoding.</p>\n\n<p>At my company we've developed a library that manages MM7 SOAP and attachments at a low level depending only on JDOM. It works regardless of actual MM7 protocol version/schema. Recently we've decided to open source it, you can get it here <a href=\"https://github.com/vnesek/instantcom-mm7\" rel=\"noreferrer\">https://github.com/vnesek/instantcom-mm7</a> </p>\n\n<p>Example:</p>\n\n<pre><code>    SubmitReq sr = new SubmitReq();\n    sr.setVaspId(\"xxx_vaspid\");\n    sr.setVasId(\"xxx_vasid\");\n    sr.setSubject(\"Nice weather\");\n    sr.setMessageClass(MessageClass.INFORMATIONAL);\n    sr.setServiceCode(\"7007\");\n    sr.addRecipient(new Address(\"+385910000001\", RecipientType.TO));\n\n    // Add text content\n    TextContent text = new TextContent(\"We got a real nice weather today.\");\n    text.setContentId(\"text\");\n    sr.setContent(text);\n\n    // Initialize MM7 client to MMSC\n    MMSC mmsc = new BasicMMSC(url);\n\n    // Send a message\n    SubmitRsp submitRsp = mmsc.submit(sr);\n    System.out.println(submitRsp);\n</code></pre>\n"}],"owner":{"account_id":445990,"reputation":285,"user_id":838766,"accept_rate":60,"display_name":"Maxi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4822,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1657729845,"creation_date":1311993249,"question_id":6880735,"body_markdown":"Please let me know is there any way to send MMS using MM7 protocol in Java?\r\n\r\nIf there is a free API to generate the appropriate SOAP message please let me know it too. I&#39;m in a dead end situation and I really need a way to do this. Your wise suggestions are also welcome.\r\n\r\nThank in advance.  ","title":"How to send MMS with MM7 using Java?","body":"<p>Please let me know is there any way to send MMS using MM7 protocol in Java?</p>\n\n<p>If there is a free API to generate the appropriate SOAP message please let me know it too. I'm in a dead end situation and I really need a way to do this. Your wise suggestions are also welcome.</p>\n\n<p>Thank in advance.  </p>\n"},{"tags":["java","rest","api","amazon-web-services","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":11791725,"reputation":31,"user_id":8627652,"display_name":"Atul Sudhalkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531433033,"creation_date":1531433033,"answer_id":51315112,"question_id":51313147,"body_markdown":"Ok, I found one answer which is working well for me for now. I found aws-es-proxy[1] on github, which lets me run a proxy server on my machine. I connect to it via 127.0.0.1:9200 (configurable), and it signs my requests and forwards it to my aws es server. Works!\r\n\r\nIt does add an external dependency to my app, though, so on the whole I think it&#39;s a workaround, not a solution.\r\n\r\n\r\n  [1]: https://github.com/abutaha/aws-es-proxy","title":"Elasticsearch on AWS user authentication","body":"<p>Ok, I found one answer which is working well for me for now. I found aws-es-proxy<a href=\"https://github.com/abutaha/aws-es-proxy\" rel=\"nofollow noreferrer\">1</a> on github, which lets me run a proxy server on my machine. I connect to it via 127.0.0.1:9200 (configurable), and it signs my requests and forwards it to my aws es server. Works!</p>\n\n<p>It does add an external dependency to my app, though, so on the whole I think it's a workaround, not a solution.</p>\n"},{"tags":[],"owner":{"account_id":42263,"reputation":4720,"user_id":123094,"accept_rate":33,"display_name":"dB."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657729764,"creation_date":1657729764,"answer_id":72969653,"question_id":51313147,"body_markdown":"There&#39;s [a new maintained fork][1] of the archived aws-request-signing-apache-interceptor. It was upgraded to AWS SDK 2, and has a number of bug fixes, such as supporting retries. What you&#39;re asking should &quot;just work&quot;. Otherwise open an issue and we&#39;ll sort it out? \r\n\r\n\r\n  [1]: https://github.com/acm19/aws-request-signing-apache-interceptor","title":"Elasticsearch on AWS user authentication","body":"<p>There's <a href=\"https://github.com/acm19/aws-request-signing-apache-interceptor\" rel=\"nofollow noreferrer\">a new maintained fork</a> of the archived aws-request-signing-apache-interceptor. It was upgraded to AWS SDK 2, and has a number of bug fixes, such as supporting retries. What you're asking should &quot;just work&quot;. Otherwise open an issue and we'll sort it out?</p>\n"}],"owner":{"account_id":11791725,"reputation":31,"user_id":8627652,"display_name":"Atul Sudhalkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2074,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1657729764,"creation_date":1531423770,"question_id":51313147,"body_markdown":"I&#39;m using the ES service on AWS. I&#39;ve made good progress learning how to use it, particularly with the ES HighLevelRestClient. So now I wanted to secure the ES server, adding user authentication security. Amazon provides the &quot;access key&quot; and &quot;secret key&quot; values to use, analogous to &quot;user/password&quot; credentials. Unfortunately, they also provide their own AWSCredentials and AWS4Signer classes to create credentials &amp; sign the request!\r\n\r\nTheir code examples are simple enough, and work fine with Elastic Co&#39;s Java &quot;Low Level&quot; RestClient. Here&#39;s a snippet analogous to what amazon recommends at https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/es-indexing-programmatic.html:\r\n\r\n        credentialsProvider = new AWSStaticCredentialsProvider (new BasicAWSCredentials (&quot;access key&quot;, &quot;secret key&quot;)); // while debugging\r\n        HttpRequestInterceptor interceptor =\r\n                new AWSRequestSigningApacheInterceptor (serviceName, signer, credentialsProvider);\r\n        RestClient lowLevelClient = RestClient.builder (HttpHost.create (esURL))\r\n                .setHttpClientConfigCallback (hacb -&gt; hacb.addInterceptorLast (interceptor)).build ();\r\n\r\nThe good news is, this works fine! Unfortunately, the obvious extension to a signed version of the ES High Level Rest Client (as suggested in [https://stackoverflow.com/questions/48185570/add-authentication-in-elasticsearch-high-level-client-for-java][1]) doesn&#39;t work! That is:\r\n\r\n            RestClientBuilder builder = RestClient.builder (HttpHost.create (esURL))\r\n                    .setHttpClientConfigCallback (hacb -&gt; hacb.addInterceptorLast (interceptor));\r\n\r\n            highLevelClient = new RestHighLevelClient (builder);\r\n\r\nalways leads to the following error message from AWS:\r\n\r\n    {&quot;message&quot;:&quot;The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.&quot;}\r\n\r\nI speculate that the ES high-level rest client constructs JSON queries which the AWS interceptor does not see when creating the signature. Since the equivalent method works fine for the Elastic Co cloud instance (see SO thread mentioned above), I&#39;m guessing this is where AWS folks and ES folks are not talking to each other.\r\n\r\nIs there some way I can use the AWS CredentialsProvider and Signer, but with the Apache HttpAsyncClientBuilder::setDefaultCredentialProvider method? Or is there a version of the ES Rest API in which the Java High Level Rest Client constructs the request fully before the AWS interceptor signs it?\r\n\r\nOtherwise, I&#39;ll be forced to use IP address signing (ugh), start using the Low Level Rest Client (double ugh), or use some combination of ssh tunneling and AWS VPC security (many ughs).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48185570/add-authentication-in-elasticsearch-high-level-client-for-java","title":"Elasticsearch on AWS user authentication","body":"<p>I'm using the ES service on AWS. I've made good progress learning how to use it, particularly with the ES HighLevelRestClient. So now I wanted to secure the ES server, adding user authentication security. Amazon provides the \"access key\" and \"secret key\" values to use, analogous to \"user/password\" credentials. Unfortunately, they also provide their own AWSCredentials and AWS4Signer classes to create credentials &amp; sign the request!</p>\n\n<p>Their code examples are simple enough, and work fine with Elastic Co's Java \"Low Level\" RestClient. Here's a snippet analogous to what amazon recommends at <a href=\"https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/es-indexing-programmatic.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/es-indexing-programmatic.html</a>:</p>\n\n<pre><code>    credentialsProvider = new AWSStaticCredentialsProvider (new BasicAWSCredentials (\"access key\", \"secret key\")); // while debugging\n    HttpRequestInterceptor interceptor =\n            new AWSRequestSigningApacheInterceptor (serviceName, signer, credentialsProvider);\n    RestClient lowLevelClient = RestClient.builder (HttpHost.create (esURL))\n            .setHttpClientConfigCallback (hacb -&gt; hacb.addInterceptorLast (interceptor)).build ();\n</code></pre>\n\n<p>The good news is, this works fine! Unfortunately, the obvious extension to a signed version of the ES High Level Rest Client (as suggested in <a href=\"https://stackoverflow.com/questions/48185570/add-authentication-in-elasticsearch-high-level-client-for-java\">Add authentication in elasticsearch high level client for JAVA</a>) doesn't work! That is:</p>\n\n<pre><code>        RestClientBuilder builder = RestClient.builder (HttpHost.create (esURL))\n                .setHttpClientConfigCallback (hacb -&gt; hacb.addInterceptorLast (interceptor));\n\n        highLevelClient = new RestHighLevelClient (builder);\n</code></pre>\n\n<p>always leads to the following error message from AWS:</p>\n\n<pre><code>{\"message\":\"The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\"}\n</code></pre>\n\n<p>I speculate that the ES high-level rest client constructs JSON queries which the AWS interceptor does not see when creating the signature. Since the equivalent method works fine for the Elastic Co cloud instance (see SO thread mentioned above), I'm guessing this is where AWS folks and ES folks are not talking to each other.</p>\n\n<p>Is there some way I can use the AWS CredentialsProvider and Signer, but with the Apache HttpAsyncClientBuilder::setDefaultCredentialProvider method? Or is there a version of the ES Rest API in which the Java High Level Rest Client constructs the request fully before the AWS interceptor signs it?</p>\n\n<p>Otherwise, I'll be forced to use IP address signing (ugh), start using the Low Level Rest Client (double ugh), or use some combination of ssh tunneling and AWS VPC security (many ughs).</p>\n"},{"tags":["java","algorithm","recursion"],"comments":[{"owner":{"account_id":1706785,"reputation":48162,"user_id":1565698,"accept_rate":38,"display_name":"Sylwester"},"score":2,"creation_date":1657531671,"post_id":72935347,"comment_id":128823658,"body_markdown":"It only looks like that because the time complexity of your algorithm is `O(n^2)`. If you double the number of elements the time it takes will quadruple. This is a common problem and you need to get it linaer by applying dynamic programming.","body":"It only looks like that because the time complexity of your algorithm is <code>O(n^2)</code>. If you double the number of elements the time it takes will quadruple. This is a common problem and you need to get it linaer by applying dynamic programming."},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":1,"creation_date":1657576228,"post_id":72935347,"comment_id":128839329,"body_markdown":"@Sylwester You mean, of course, `O(2^n)`.  If it was polynomial, it would still run quickly for any input we type by hand.","body":"@Sylwester You mean, of course, <code>O(2^n)</code>.  If it was polynomial, it would still run quickly for any input we type by hand."}],"answers":[{"tags":[],"owner":{"account_id":1507181,"reputation":13906,"user_id":1410303,"accept_rate":40,"display_name":"SomeDude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657729629,"creation_date":1657729629,"answer_id":72969629,"question_id":72935347,"body_markdown":"Assuming cost is going to be positive i.e. &gt; 0 you can initiate an array of integers of length equal to input&#39;s length and use it to memoize the intermediate solutions like below:\r\n\r\nSee if memo[index] is not zero i.e. not populated then recurse otherwise use it.\r\n\r\n    private static int minimumCost(int index, int cost[], int memo[]) {\r\n        System.out.println(&quot;== &quot;+ index);\r\n        if (index == cost.length - 1) return cost[cost.length - 1];\r\n        if (index == cost.length - 2) return cost[cost.length - 2];\r\n        if (memo[index] != 0) return memo[index];\r\n        int cost1 = minimumCost(index + 1, cost, memo) + cost[index];\r\n        int cost2 = minimumCost(index + 2, cost, memo) + cost[index];\r\n        memo[index] = Math.min(cost1, cost2);\r\n        return memo[index];\r\n    }","title":"recursive function is running indefinitely","body":"<p>Assuming cost is going to be positive i.e. &gt; 0 you can initiate an array of integers of length equal to input's length and use it to memoize the intermediate solutions like below:</p>\n<p>See if memo[index] is not zero i.e. not populated then recurse otherwise use it.</p>\n<pre><code>private static int minimumCost(int index, int cost[], int memo[]) {\n    System.out.println(&quot;== &quot;+ index);\n    if (index == cost.length - 1) return cost[cost.length - 1];\n    if (index == cost.length - 2) return cost[cost.length - 2];\n    if (memo[index] != 0) return memo[index];\n    int cost1 = minimumCost(index + 1, cost, memo) + cost[index];\n    int cost2 = minimumCost(index + 2, cost, memo) + cost[index];\n    memo[index] = Math.min(cost1, cost2);\n    return memo[index];\n}\n</code></pre>\n"}],"owner":{"account_id":5359085,"reputation":21,"user_id":4270959,"display_name":"Irfan Ali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657729629,"creation_date":1657526209,"question_id":72935347,"body_markdown":"here is my recursive function - \r\n\r\n    private static int minCostClimbingStairs(int[] cost) {\r\n        int cost1 = minimumCost(0, cost);\r\n        int cost2 = minimumCost(1, cost);\r\n        return Math.min(cost1, cost2);\r\n    }\r\n    private static int minimumCost(int index, int cost[]) {\r\n         System.out.println(&quot;== &quot;+ index);\r\n        if (index == cost.length - 1) return cost[cost.length - 1];\r\n        if (index == cost.length - 2) return cost[cost.length - 2];\r\n        int cost1 = minimumCost(index + 1, cost) + cost[index];\r\n        int cost2 = minimumCost(index + 2, cost) + cost[index];\r\n        return Math.min(cost1, cost2);\r\n    }\r\n\r\nIt is running indefinitely for the following inputs -\r\n\r\n    int arr[] = {841, 462, 566, 398, 243, 248, 238, 650, 989, 576, 361, 126, 334, 729, 446, 897, 953, 38, 195, 679, 65, 707, 196, 705, 569, 275, 259, 872, 630, 965, 978, 109, 56, 523, 851, 887, 91, 544, 598, 963, 305, 481, 959, 560, 454, 883, 50, 216, 732, 572, 511, 156, 177, 831, 122, 667, 548, 978, 771, 880, 922, 777, 990, 498, 525, 317, 469, 151, 874, 202, 519, 139, 670, 341, 514, 469, 858, 913, 94, 849, 839, 813, 664, 163, 3, 802, 21, 634, 944, 901, 446, 186, 843, 742, 330, 610, 932, 614, 625, 169, 833, 4, 81, 55, 124, 294, 71, 24, 929, 534, 621, 543, 417, 534, 427, 327, 179, 90, 341, 949, 368, 692, 646, 290, 488, 145, 273, 617, 596, 82, 538, 751, 80, 616, 763, 826, 932, 184, 630, 478, 163, 925, 259, 237, 839, 602, 60, 786, 603, 413, 816, 278, 4, 35, 243, 64, 631, 405, 23, 638, 618, 829, 481, 877, 756, 482, 999, 973, 718, 157, 262, 752, 931, 882, 741, 40, 77, 535, 542, 879, 607, 879, 321, 46, 210, 116, 244, 830, 591, 285, 382, 925, 48, 497, 913, 203, 239, 696, 162, 623, 291, 525, 950, 27, 546, 293, 108, 577, 672, 354, 256, 3, 671, 998, 22, 989, 557, 424, 251, 923, 542, 243, 46, 488, 80, 374, 372, 334, 190, 817, 150, 742, 362, 196, 75, 193, 162, 645, 859, 758, 433, 903, 199, 289, 175, 303, 475, 818, 213, 576, 181, 668, 243, 297, 572, 549, 840, 161, 292, 719, 226, 338, 981, 345, 203, 655, 210, 65, 111, 746, 76, 935, 406, 646, 976, 567, 32, 726, 638, 674, 727, 861, 426, 297, 349, 464, 973, 341, 452, 826, 223, 805, 940, 458, 468, 967, 107, 345, 987, 553, 407, 916, 103, 324, 367, 864, 74, 946, 712, 596, 105, 194, 79, 634, 855, 703, 70, 170, 543, 208, 739, 632, 663, 880, 857, 824, 258, 743, 488, 659, 647, 470, 958, 492, 211, 927, 356, 488, 744, 570, 143, 674, 502, 589, 270, 80, 6, 463, 506, 556, 495, 713, 407, 229, 689, 280, 162, 454, 757, 565, 267, 575, 417, 948, 607, 269, 852, 938, 560, 24, 222, 580, 604, 800, 628, 487, 485, 615, 796, 384, 555, 226, 412, 445, 503, 810, 949, 966, 28, 768, 83, 213, 883, 963, 831, 390, 951, 378, 497, 440, 780, 209, 734, 290, 96, 398, 146, 56, 445, 880, 910, 858, 671, 164, 552, 686, 748, 738, 837, 556, 710, 787, 343, 137, 298, 685, 909, 828, 499, 816, 538, 604, 652, 7, 272, 729, 529, 343, 443, 593, 992, 434, 588, 936, 261, 873, 64, 177, 827, 172, 712, 628, 609, 328, 672, 376, 628, 441, 9, 92, 525, 222, 654, 699, 134, 506, 934, 178, 270, 770, 994, 158, 653, 199, 833, 802, 553, 399, 366, 818, 523, 447, 420, 957, 669, 267, 118, 535, 971, 180, 469, 768, 184, 321, 712, 167, 867, 12, 660, 283, 813, 498, 192, 740, 696, 421, 504, 795, 894, 724, 562, 234, 110, 88, 100, 408, 104, 864, 473, 59, 474, 922, 759, 720, 69, 490, 540, 962, 461, 324, 453, 91, 173, 870, 470, 292, 394, 771, 161, 777, 287, 560, 532, 339, 301, 90, 411, 387, 59, 67, 828, 775, 882, 677, 9, 393, 128, 910, 630, 396, 77, 321, 642, 568, 817, 222, 902, 680, 596, 359, 639, 189, 436, 648, 825, 46, 699, 967, 202, 954, 680, 251, 455, 420, 599, 20, 894, 224, 47, 266, 644, 943, 808, 653, 563, 351, 709, 116, 849, 38, 870, 852, 333, 829, 306, 881, 203, 660, 266, 540, 510, 748, 840, 821, 199, 250, 253, 279, 672, 472, 707, 921, 582, 713, 900, 137, 70, 912, 51, 250, 188, 967, 14, 608, 30, 541, 424, 813, 343, 297, 346, 27, 774, 549, 931, 141, 81, 120, 342, 288, 332, 967, 768, 178, 230, 378, 800, 408, 272, 596, 560, 942, 612, 910, 743, 461, 425, 878, 254, 929, 780, 641, 657, 279, 160, 184, 585, 651, 204, 353, 454, 536, 185, 550, 428, 125, 889, 436, 906, 99, 942, 355, 666, 746, 964, 936, 661, 515, 978, 492, 836, 468, 867, 422, 879, 92, 438, 802, 276, 805, 832, 649, 572, 638, 43, 971, 974, 804, 66, 100, 792, 878, 469, 585, 254, 630, 309, 172, 361, 906, 628, 219, 534, 617, 95, 190, 541, 93, 477, 933, 328, 984, 117, 678, 746, 296, 232, 240, 532, 643, 901, 982, 342, 918, 884, 62, 68, 835, 173, 493, 252, 382, 862, 672, 803, 803, 873, 24, 431, 580, 257, 457, 519, 388, 218, 970, 691, 287, 486, 274, 942, 184, 817, 405, 575, 369, 591, 713, 158, 264, 826, 870, 561, 450, 419, 606, 925, 710, 758, 151, 533, 405, 946, 285, 86, 346, 685, 153, 834, 625, 745, 925, 281, 805, 99, 891, 122, 102, 874, 491, 64, 277, 277, 840, 657, 443, 492, 880, 925, 65, 880, 393, 504, 736, 340, 64, 330, 318, 703, 949, 950, 887, 956, 39, 595, 764, 176, 371, 215, 601, 435, 249, 86, 761, 793, 201, 54, 189, 451, 179, 849, 760, 689, 539, 453, 450, 404, 852, 709, 313, 529, 666, 545, 399, 808, 290, 848, 129, 352, 846, 2, 266, 777, 286, 22, 898, 81, 299, 786, 949, 435, 434, 695, 298, 402, 532, 177, 399, 458, 528, 672, 882, 90, 547, 690, 935, 424, 516, 390, 346, 702, 781, 644, 794, 420, 116, 24, 919, 467, 543, 58, 938, 217, 502, 169, 457, 723, 122, 158, 188, 109, 868, 311, 708, 8, 893, 853, 376, 359, 223, 654, 895, 877, 709, 940, 195, 323, 64, 51, 807, 510, 170, 508, 155, 724, 784, 603, 67, 316, 217, 148, 972, 19, 658, 5, 762, 618, 744, 534, 956, 703, 434, 302, 541, 997, 214, 429, 961, 648, 774, 244, 684, 218, 49, 729, 990, 521, 948, 317, 847, 76, 566, 415, 874, 399, 613, 816, 613, 467, 191};\r\n\r\nHowever, it seems to exit properly for small inputs. such as - \r\n\r\n        int arr[] = {1, 100, 1, 1, 1, 100, 1, 1, 100};\r\n        int arr[] = {1, 100, 1, 1, 1, 100, 1, 1, 100, 1};\r\n        int arr[] = {0,0,0,1};\r\n        int arr[] = {10,15,20};","title":"recursive function is running indefinitely","body":"<p>here is my recursive function -</p>\n<pre><code>private static int minCostClimbingStairs(int[] cost) {\n    int cost1 = minimumCost(0, cost);\n    int cost2 = minimumCost(1, cost);\n    return Math.min(cost1, cost2);\n}\nprivate static int minimumCost(int index, int cost[]) {\n     System.out.println(&quot;== &quot;+ index);\n    if (index == cost.length - 1) return cost[cost.length - 1];\n    if (index == cost.length - 2) return cost[cost.length - 2];\n    int cost1 = minimumCost(index + 1, cost) + cost[index];\n    int cost2 = minimumCost(index + 2, cost) + cost[index];\n    return Math.min(cost1, cost2);\n}\n</code></pre>\n<p>It is running indefinitely for the following inputs -</p>\n<pre><code>int arr[] = {841, 462, 566, 398, 243, 248, 238, 650, 989, 576, 361, 126, 334, 729, 446, 897, 953, 38, 195, 679, 65, 707, 196, 705, 569, 275, 259, 872, 630, 965, 978, 109, 56, 523, 851, 887, 91, 544, 598, 963, 305, 481, 959, 560, 454, 883, 50, 216, 732, 572, 511, 156, 177, 831, 122, 667, 548, 978, 771, 880, 922, 777, 990, 498, 525, 317, 469, 151, 874, 202, 519, 139, 670, 341, 514, 469, 858, 913, 94, 849, 839, 813, 664, 163, 3, 802, 21, 634, 944, 901, 446, 186, 843, 742, 330, 610, 932, 614, 625, 169, 833, 4, 81, 55, 124, 294, 71, 24, 929, 534, 621, 543, 417, 534, 427, 327, 179, 90, 341, 949, 368, 692, 646, 290, 488, 145, 273, 617, 596, 82, 538, 751, 80, 616, 763, 826, 932, 184, 630, 478, 163, 925, 259, 237, 839, 602, 60, 786, 603, 413, 816, 278, 4, 35, 243, 64, 631, 405, 23, 638, 618, 829, 481, 877, 756, 482, 999, 973, 718, 157, 262, 752, 931, 882, 741, 40, 77, 535, 542, 879, 607, 879, 321, 46, 210, 116, 244, 830, 591, 285, 382, 925, 48, 497, 913, 203, 239, 696, 162, 623, 291, 525, 950, 27, 546, 293, 108, 577, 672, 354, 256, 3, 671, 998, 22, 989, 557, 424, 251, 923, 542, 243, 46, 488, 80, 374, 372, 334, 190, 817, 150, 742, 362, 196, 75, 193, 162, 645, 859, 758, 433, 903, 199, 289, 175, 303, 475, 818, 213, 576, 181, 668, 243, 297, 572, 549, 840, 161, 292, 719, 226, 338, 981, 345, 203, 655, 210, 65, 111, 746, 76, 935, 406, 646, 976, 567, 32, 726, 638, 674, 727, 861, 426, 297, 349, 464, 973, 341, 452, 826, 223, 805, 940, 458, 468, 967, 107, 345, 987, 553, 407, 916, 103, 324, 367, 864, 74, 946, 712, 596, 105, 194, 79, 634, 855, 703, 70, 170, 543, 208, 739, 632, 663, 880, 857, 824, 258, 743, 488, 659, 647, 470, 958, 492, 211, 927, 356, 488, 744, 570, 143, 674, 502, 589, 270, 80, 6, 463, 506, 556, 495, 713, 407, 229, 689, 280, 162, 454, 757, 565, 267, 575, 417, 948, 607, 269, 852, 938, 560, 24, 222, 580, 604, 800, 628, 487, 485, 615, 796, 384, 555, 226, 412, 445, 503, 810, 949, 966, 28, 768, 83, 213, 883, 963, 831, 390, 951, 378, 497, 440, 780, 209, 734, 290, 96, 398, 146, 56, 445, 880, 910, 858, 671, 164, 552, 686, 748, 738, 837, 556, 710, 787, 343, 137, 298, 685, 909, 828, 499, 816, 538, 604, 652, 7, 272, 729, 529, 343, 443, 593, 992, 434, 588, 936, 261, 873, 64, 177, 827, 172, 712, 628, 609, 328, 672, 376, 628, 441, 9, 92, 525, 222, 654, 699, 134, 506, 934, 178, 270, 770, 994, 158, 653, 199, 833, 802, 553, 399, 366, 818, 523, 447, 420, 957, 669, 267, 118, 535, 971, 180, 469, 768, 184, 321, 712, 167, 867, 12, 660, 283, 813, 498, 192, 740, 696, 421, 504, 795, 894, 724, 562, 234, 110, 88, 100, 408, 104, 864, 473, 59, 474, 922, 759, 720, 69, 490, 540, 962, 461, 324, 453, 91, 173, 870, 470, 292, 394, 771, 161, 777, 287, 560, 532, 339, 301, 90, 411, 387, 59, 67, 828, 775, 882, 677, 9, 393, 128, 910, 630, 396, 77, 321, 642, 568, 817, 222, 902, 680, 596, 359, 639, 189, 436, 648, 825, 46, 699, 967, 202, 954, 680, 251, 455, 420, 599, 20, 894, 224, 47, 266, 644, 943, 808, 653, 563, 351, 709, 116, 849, 38, 870, 852, 333, 829, 306, 881, 203, 660, 266, 540, 510, 748, 840, 821, 199, 250, 253, 279, 672, 472, 707, 921, 582, 713, 900, 137, 70, 912, 51, 250, 188, 967, 14, 608, 30, 541, 424, 813, 343, 297, 346, 27, 774, 549, 931, 141, 81, 120, 342, 288, 332, 967, 768, 178, 230, 378, 800, 408, 272, 596, 560, 942, 612, 910, 743, 461, 425, 878, 254, 929, 780, 641, 657, 279, 160, 184, 585, 651, 204, 353, 454, 536, 185, 550, 428, 125, 889, 436, 906, 99, 942, 355, 666, 746, 964, 936, 661, 515, 978, 492, 836, 468, 867, 422, 879, 92, 438, 802, 276, 805, 832, 649, 572, 638, 43, 971, 974, 804, 66, 100, 792, 878, 469, 585, 254, 630, 309, 172, 361, 906, 628, 219, 534, 617, 95, 190, 541, 93, 477, 933, 328, 984, 117, 678, 746, 296, 232, 240, 532, 643, 901, 982, 342, 918, 884, 62, 68, 835, 173, 493, 252, 382, 862, 672, 803, 803, 873, 24, 431, 580, 257, 457, 519, 388, 218, 970, 691, 287, 486, 274, 942, 184, 817, 405, 575, 369, 591, 713, 158, 264, 826, 870, 561, 450, 419, 606, 925, 710, 758, 151, 533, 405, 946, 285, 86, 346, 685, 153, 834, 625, 745, 925, 281, 805, 99, 891, 122, 102, 874, 491, 64, 277, 277, 840, 657, 443, 492, 880, 925, 65, 880, 393, 504, 736, 340, 64, 330, 318, 703, 949, 950, 887, 956, 39, 595, 764, 176, 371, 215, 601, 435, 249, 86, 761, 793, 201, 54, 189, 451, 179, 849, 760, 689, 539, 453, 450, 404, 852, 709, 313, 529, 666, 545, 399, 808, 290, 848, 129, 352, 846, 2, 266, 777, 286, 22, 898, 81, 299, 786, 949, 435, 434, 695, 298, 402, 532, 177, 399, 458, 528, 672, 882, 90, 547, 690, 935, 424, 516, 390, 346, 702, 781, 644, 794, 420, 116, 24, 919, 467, 543, 58, 938, 217, 502, 169, 457, 723, 122, 158, 188, 109, 868, 311, 708, 8, 893, 853, 376, 359, 223, 654, 895, 877, 709, 940, 195, 323, 64, 51, 807, 510, 170, 508, 155, 724, 784, 603, 67, 316, 217, 148, 972, 19, 658, 5, 762, 618, 744, 534, 956, 703, 434, 302, 541, 997, 214, 429, 961, 648, 774, 244, 684, 218, 49, 729, 990, 521, 948, 317, 847, 76, 566, 415, 874, 399, 613, 816, 613, 467, 191};\n</code></pre>\n<p>However, it seems to exit properly for small inputs. such as -</p>\n<pre><code>    int arr[] = {1, 100, 1, 1, 1, 100, 1, 1, 100};\n    int arr[] = {1, 100, 1, 1, 1, 100, 1, 1, 100, 1};\n    int arr[] = {0,0,0,1};\n    int arr[] = {10,15,20};\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","relationship"],"comments":[{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":1,"creation_date":1657740943,"post_id":72969457,"comment_id":128885305,"body_markdown":"Probably will be useful https://stackoverflow.com/questions/71991102/spring-data-jpa-findall-does-not-return-relations-data/71993222#71993222","body":"Probably will be useful <a href=\"https://stackoverflow.com/questions/71991102/spring-data-jpa-findall-does-not-return-relations-data/71993222#71993222\" title=\"spring data jpa findall does not return relations data\">stackoverflow.com/questions/71991102/&hellip;</a>"},{"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"score":1,"creation_date":1657779218,"post_id":72969457,"comment_id":128892381,"body_markdown":"@Eugene thanks , removing `@JsonBackReference`  `@JsonManagedReference` and added `@JsonIdentityInfo` works","body":"@Eugene thanks , removing <code>@JsonBackReference</code>  <code>@JsonManagedReference</code> and added <code>@JsonIdentityInfo</code> works"}],"owner":{"account_id":25234421,"reputation":49,"user_id":19069159,"display_name":"SpicySandwich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657729622,"creation_date":1657728836,"question_id":72969457,"body_markdown":"Im practicing Relationship Mapping.\r\n\r\nImplementaion: Im trying to get info of User is in infinite recursion with location and post.\r\n Solution for infinite recursion is adding `@JsonBackReference` but the location wont show in Users. Any idea for this? so i can get also the location data.\r\n\r\n\r\n\r\n\r\n`User class`\r\n```\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.OneToMany;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonBackReference;\r\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class Users {\r\n\t\r\n\t@Id\r\n\tprivate Integer id;\r\n\tprivate String firstname;\r\n\tprivate String lastname;\r\n\t\r\n\t@JsonBackReference\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;location_id&quot;,insertable  =false, updatable  =false)\r\n\tprivate Location location;\r\n\t\r\n\t@JsonManagedReference\r\n\t@OneToMany(mappedBy = &quot;users&quot;, cascade = CascadeType.ALL)\r\n\tprivate List&lt;Posts&gt; posts;\r\n\tprivate String email;\r\n\tprivate Integer location_id;\r\n\t\r\n\r\n\t\r\n\t\r\n\t\r\n\r\n}\r\n```\r\n`Location class`\r\n\r\n```\r\nimport java.util.List;\r\n\r\nimport javax.persistence.CascadeType;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.OneToMany;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n\r\npublic class Location {\r\n\t\r\n\t@Id\r\n\tprivate Integer id;\r\n\tprivate String name;\r\n\t\r\n\t@JsonManagedReference\r\n\t@OneToMany(mappedBy = &quot;location&quot;, cascade = CascadeType.ALL)\r\n\tprivate List&lt;Users&gt; users;\r\n\t\r\n\t\r\n\r\n\r\n}\r\n\r\n```\r\n`Post class`\r\n```\r\n\r\nimport java.time.LocalDateTime;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonBackReference;\r\n\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\npublic class Posts {\r\n\t\r\n\t@Id\r\n\tprivate Integer id;\r\n\tprivate LocalDateTime postDate;\r\n\t\r\n\t@JsonBackReference\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;users_id&quot;,insertable  =false, updatable  =false)\r\n\tprivate Users users;\r\n\tprivate String details;\r\n\tprivate Integer users_id;\r\n\t\r\n\t\r\n\r\n}\r\n\r\n\r\n```\r\nUSer and post only show and i need also location data for this.\r\n```\r\n\t@GetMapping(&quot;/{id}&quot;)\r\n\tpublic Optional&lt;Users&gt; getbyId(@PathVariable Integer id) {\r\n\t\t\r\n\t\treturn userService.getbyId(id);\r\n\t}\r\n```\r\nThis will work but not this implementation i want direct from user\r\n```\r\n\t@GetMapping(&quot;/{id}/location&quot;)\r\n\tpublic Location getLocationByUsers(@PathVariable Integer id){\r\n\t\t\r\n\t\tOptional&lt;Users&gt; user = userService.getbyId(id);\r\n\t\t\r\n\t\tif (user.isPresent()) {\r\n\t\t\treturn  user.get().getLocation();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\n\r\n","title":"@JsonBackReference wont allow to get the value","body":"<p>Im practicing Relationship Mapping.</p>\n<p>Implementaion: Im trying to get info of User is in infinite recursion with location and post.\nSolution for infinite recursion is adding <code>@JsonBackReference</code> but the location wont show in Users. Any idea for this? so i can get also the location data.</p>\n<p><code>User class</code></p>\n<pre><code>import javax.persistence.CascadeType;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\n\nimport com.fasterxml.jackson.annotation.JsonBackReference;\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Users {\n    \n    @Id\n    private Integer id;\n    private String firstname;\n    private String lastname;\n    \n    @JsonBackReference\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;location_id&quot;,insertable  =false, updatable  =false)\n    private Location location;\n    \n    @JsonManagedReference\n    @OneToMany(mappedBy = &quot;users&quot;, cascade = CascadeType.ALL)\n    private List&lt;Posts&gt; posts;\n    private String email;\n    private Integer location_id;\n    \n\n    \n    \n    \n\n}\n</code></pre>\n<p><code>Location class</code></p>\n<pre><code>import java.util.List;\n\nimport javax.persistence.CascadeType;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\n\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n\npublic class Location {\n    \n    @Id\n    private Integer id;\n    private String name;\n    \n    @JsonManagedReference\n    @OneToMany(mappedBy = &quot;location&quot;, cascade = CascadeType.ALL)\n    private List&lt;Users&gt; users;\n    \n    \n\n\n}\n\n</code></pre>\n<p><code>Post class</code></p>\n<pre><code>\nimport java.time.LocalDateTime;\n\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\n\nimport com.fasterxml.jackson.annotation.JsonBackReference;\n\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\npublic class Posts {\n    \n    @Id\n    private Integer id;\n    private LocalDateTime postDate;\n    \n    @JsonBackReference\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;users_id&quot;,insertable  =false, updatable  =false)\n    private Users users;\n    private String details;\n    private Integer users_id;\n    \n    \n\n}\n\n\n</code></pre>\n<p>USer and post only show and i need also location data for this.</p>\n<pre><code>    @GetMapping(&quot;/{id}&quot;)\n    public Optional&lt;Users&gt; getbyId(@PathVariable Integer id) {\n        \n        return userService.getbyId(id);\n    }\n</code></pre>\n<p>This will work but not this implementation i want direct from user</p>\n<pre><code>    @GetMapping(&quot;/{id}/location&quot;)\n    public Location getLocationByUsers(@PathVariable Integer id){\n        \n        Optional&lt;Users&gt; user = userService.getbyId(id);\n        \n        if (user.isPresent()) {\n            return  user.get().getLocation();\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","xml","docker","quarkus"],"answers":[{"tags":[],"owner":{"account_id":15636292,"reputation":125,"user_id":11281053,"display_name":"damlit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657729224,"creation_date":1657729224,"answer_id":72969535,"question_id":72953084,"body_markdown":"Except **resources-config.json** file, it needed **reflection-config.json** with lacked classes (to force *quarkus* load them). It&#39;s probably a workaround, but I coulnd&#39;t find better solution.\r\n\r\n**reflection-config.json** :\r\n\r\n```\r\n[\r\n  {\r\n    &quot;name&quot; : &quot;com.ctc.wstx.stax.WstxInputFactory&quot;,\r\n    &quot;allDeclaredConstructors&quot; : true,\r\n    &quot;allPublicConstructors&quot; : true,\r\n    &quot;allDeclaredMethods&quot; : true,\r\n    &quot;allPublicMethods&quot; : true,\r\n    &quot;allDeclaredFields&quot; : true,\r\n    &quot;allPublicFields&quot; : true\r\n  },\r\n  {\r\n    &quot;name&quot; : &quot;com.ctc.wstx.stax.WstxOutputFactory&quot;,\r\n    &quot;allDeclaredConstructors&quot; : true,\r\n    &quot;allPublicConstructors&quot; : true,\r\n    &quot;allDeclaredMethods&quot; : true,\r\n    &quot;allPublicMethods&quot; : true,\r\n    &quot;allDeclaredFields&quot; : true,\r\n    &quot;allPublicFields&quot; : true\r\n  }\r\n]\r\n```","title":"Quarkus native mode - Provider for javax.xml.stream.XMLInputFactory cannot be found","body":"<p>Except <strong>resources-config.json</strong> file, it needed <strong>reflection-config.json</strong> with lacked classes (to force <em>quarkus</em> load them). It's probably a workaround, but I coulnd't find better solution.</p>\n<p><strong>reflection-config.json</strong> :</p>\n<pre><code>[\n  {\n    &quot;name&quot; : &quot;com.ctc.wstx.stax.WstxInputFactory&quot;,\n    &quot;allDeclaredConstructors&quot; : true,\n    &quot;allPublicConstructors&quot; : true,\n    &quot;allDeclaredMethods&quot; : true,\n    &quot;allPublicMethods&quot; : true,\n    &quot;allDeclaredFields&quot; : true,\n    &quot;allPublicFields&quot; : true\n  },\n  {\n    &quot;name&quot; : &quot;com.ctc.wstx.stax.WstxOutputFactory&quot;,\n    &quot;allDeclaredConstructors&quot; : true,\n    &quot;allPublicConstructors&quot; : true,\n    &quot;allDeclaredMethods&quot; : true,\n    &quot;allPublicMethods&quot; : true,\n    &quot;allDeclaredFields&quot; : true,\n    &quot;allPublicFields&quot; : true\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":15636292,"reputation":125,"user_id":11281053,"display_name":"damlit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72969535,"answer_count":1,"score":0,"last_activity_date":1657729224,"creation_date":1657632356,"question_id":72953084,"body_markdown":"I have problem with quarkus in native mode (on docker image), because everything is working fine locally.\r\n\r\nRequest should return XML body, and it&#39;s working when I run it not in container. Here is my resource class:\r\n```\r\n    @POST\r\n    @Path(&quot;/generate&quot;)\r\n    @Produces(MediaType.APPLICATION_XML)\r\n    public ExampleClass generate() {\r\n        return service.generate();\r\n    }\r\n```\r\n\r\nMy entity has annotations from `javax.xml.bind.annotation` and for parser `com.fasterxml.jackson.dataformat.xml.annotation` :\r\n```\r\n@XmlRootElement(name = &quot;test&quot;)\r\n@JacksonXmlRootElement(localName = &quot;test&quot;)\r\n@XmlType(propOrder = {&quot;header&quot;, &quot;body&quot;})\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n```\r\n\r\nWhen I tried use this in container, there is error:\r\n\r\n&gt; ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-0) HTTP Request to /generate failed, error id: 7ac5346a-d72b-4ff3-9948-4ea6b8a026ce-2: org.jboss.resteasy.spi.UnhandledException: javax.xml.stream.FactoryConfigurationError: Provider for javax.xml.stream.XMLInputFactory cannot be found\r\n\r\n&gt; Caused by: javax.xml.stream.FactoryConfigurationError: Provider for javax.xml.stream.XMLInputFactory cannot be found\r\n\r\nI&#39;ve tried add XMLInputFactory to reflection, but it didn&#39;t change anything.\r\n\r\nDependencies which I&#39;ve used:\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-jaxb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-resteasy-jaxb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n      &lt;version&gt;2.13.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nReally thank You for any hint.\r\n\r\nEDIT:\r\nThis problem has needed create **resources-config.json** with *xml* libraries.\r\nAfter add: JAXBContextFactory, XMLInputFactory, XMLOutputFactory exception&#39;s changed for:\r\n\r\n```\r\norg.jboss.resteasy.spi.UnhandledException: javax.xml.stream.FactoryConfigurationError: Provider for class javax.xml.stream.XMLInputFactory cannot be created\r\n(...)\r\nCaused by: javax.xml.stream.FactoryConfigurationError: Provider for class javax.xml.stream.XMLInputFactory cannot be created\r\n(...)\r\nCaused by: java.lang.RuntimeException: Provider for class javax.xml.stream.XMLInputFactory cannot be created\r\n(...)\r\nCaused by: java.util.ServiceConfigurationError: javax.xml.stream.XMLInputFactory: Provider com.ctc.wstx.stax.WstxInputFactory not found\r\n```\r\n\r\nAny ideas? \r\nAdding WstxInputFactory to resource files didn&#39;t change anything.","title":"Quarkus native mode - Provider for javax.xml.stream.XMLInputFactory cannot be found","body":"<p>I have problem with quarkus in native mode (on docker image), because everything is working fine locally.</p>\n<p>Request should return XML body, and it's working when I run it not in container. Here is my resource class:</p>\n<pre><code>    @POST\n    @Path(&quot;/generate&quot;)\n    @Produces(MediaType.APPLICATION_XML)\n    public ExampleClass generate() {\n        return service.generate();\n    }\n</code></pre>\n<p>My entity has annotations from <code>javax.xml.bind.annotation</code> and for parser <code>com.fasterxml.jackson.dataformat.xml.annotation</code> :</p>\n<pre><code>@XmlRootElement(name = &quot;test&quot;)\n@JacksonXmlRootElement(localName = &quot;test&quot;)\n@XmlType(propOrder = {&quot;header&quot;, &quot;body&quot;})\n@XmlAccessorType(XmlAccessType.FIELD)\n</code></pre>\n<p>When I tried use this in container, there is error:</p>\n<blockquote>\n<p>ERROR [io.qua.ver.htt.run.QuarkusErrorHandler] (executor-thread-0) HTTP Request to /generate failed, error id: 7ac5346a-d72b-4ff3-9948-4ea6b8a026ce-2: org.jboss.resteasy.spi.UnhandledException: javax.xml.stream.FactoryConfigurationError: Provider for javax.xml.stream.XMLInputFactory cannot be found</p>\n</blockquote>\n<blockquote>\n<p>Caused by: javax.xml.stream.FactoryConfigurationError: Provider for javax.xml.stream.XMLInputFactory cannot be found</p>\n</blockquote>\n<p>I've tried add XMLInputFactory to reflection, but it didn't change anything.</p>\n<p>Dependencies which I've used:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-jaxb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-jaxb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n      &lt;version&gt;2.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Really thank You for any hint.</p>\n<p>EDIT:\nThis problem has needed create <strong>resources-config.json</strong> with <em>xml</em> libraries.\nAfter add: JAXBContextFactory, XMLInputFactory, XMLOutputFactory exception's changed for:</p>\n<pre><code>org.jboss.resteasy.spi.UnhandledException: javax.xml.stream.FactoryConfigurationError: Provider for class javax.xml.stream.XMLInputFactory cannot be created\n(...)\nCaused by: javax.xml.stream.FactoryConfigurationError: Provider for class javax.xml.stream.XMLInputFactory cannot be created\n(...)\nCaused by: java.lang.RuntimeException: Provider for class javax.xml.stream.XMLInputFactory cannot be created\n(...)\nCaused by: java.util.ServiceConfigurationError: javax.xml.stream.XMLInputFactory: Provider com.ctc.wstx.stax.WstxInputFactory not found\n</code></pre>\n<p>Any ideas?\nAdding WstxInputFactory to resource files didn't change anything.</p>\n"},{"tags":["java","unit-testing","mockito","stubbing"],"comments":[{"owner":{"account_id":1854272,"reputation":2117,"user_id":1680196,"display_name":"kasoban"},"score":1,"creation_date":1657719742,"post_id":72967319,"comment_id":128877443,"body_markdown":"Does [this answer](https://stackoverflow.com/a/70095971/1680196) work for you? Should work fine with an ordered list.","body":"Does <a href=\"https://stackoverflow.com/a/70095971/1680196\">this answer</a> work for you? Should work fine with an ordered list."},{"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"score":0,"creation_date":1657720604,"post_id":72967319,"comment_id":128877852,"body_markdown":"That works great. If you want post it as answer and I&#39;ll accept it.","body":"That works great. If you want post it as answer and I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":1854272,"reputation":2117,"user_id":1680196,"display_name":"kasoban"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657729195,"creation_date":1657729195,"answer_id":72969525,"question_id":72967319,"body_markdown":"Mockito offers the [AdditionalAnswers][1]\r\nclass for doing something along those lines, to quote the javadocs:\r\n\r\n&gt; Additional answers provides factory methods for answers\r\n\r\nThis allows for more dynamic configuration of Mock response behaviour.\r\nAs [this answer][2] to a similar question suggests, `AdditionalAnswers.returnsElementsOf​(Collection&lt;?&gt; elements)` could be used to supply the mock with a List of answers that will be used in order.\r\nCaveat from the documentation should be noted there, it **will automatically re-use the last element** for all calls after iterating to the end, so if you want to simulate not returning answers after a certain point this will not work.\r\n\r\nIf I understand the documentation correctly, you could also customize the behaviour even further by utilizing the [delegatesTo()][3] method to relay the call to a (possibly stateful) object of your choice, or utilize the `answer()` methods accepting functional interfaces for supplying a function that responds in a stateful manner.\r\n\r\n\r\n  [1]: https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/AdditionalAnswers.html\r\n  [2]: https://stackoverflow.com/a/70095971/1680196\r\n  [3]: https://javadoc.io/static/org.mockito/mockito-core/4.6.1/org/mockito/AdditionalAnswers.html#delegatesTo(java.lang.Object)","title":"Have Mockito Return Varying Number of Different Values for Invocations","body":"<p>Mockito offers the <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/AdditionalAnswers.html\" rel=\"nofollow noreferrer\">AdditionalAnswers</a>\nclass for doing something along those lines, to quote the javadocs:</p>\n<blockquote>\n<p>Additional answers provides factory methods for answers</p>\n</blockquote>\n<p>This allows for more dynamic configuration of Mock response behaviour.\nAs <a href=\"https://stackoverflow.com/a/70095971/1680196\">this answer</a> to a similar question suggests, <code>AdditionalAnswers.returnsElementsOf​(Collection&lt;?&gt; elements)</code> could be used to supply the mock with a List of answers that will be used in order.\nCaveat from the documentation should be noted there, it <strong>will automatically re-use the last element</strong> for all calls after iterating to the end, so if you want to simulate not returning answers after a certain point this will not work.</p>\n<p>If I understand the documentation correctly, you could also customize the behaviour even further by utilizing the <a href=\"https://javadoc.io/static/org.mockito/mockito-core/4.6.1/org/mockito/AdditionalAnswers.html#delegatesTo(java.lang.Object)\" rel=\"nofollow noreferrer\">delegatesTo()</a> method to relay the call to a (possibly stateful) object of your choice, or utilize the <code>answer()</code> methods accepting functional interfaces for supplying a function that responds in a stateful manner.</p>\n"}],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72969525,"answer_count":1,"score":0,"last_activity_date":1657729195,"creation_date":1657719565,"question_id":72967319,"body_markdown":"I want a Mockito mock to return several values one after another when the same function is called on the mock, and have those values come from a list, instead of by writing them out as `mock.thenReturn(1).thenReturn(2)`\r\n\r\nOne way to do it is to roll my own function:\r\n\r\n    class  A{\r\n    \tpublic\tint getVal() {return 0;}\r\n    }\r\n    \r\n    class OneTest {\r\n    \r\n    \tstatic void makeMockReturnSomeObjects(A mock, List&lt;Integer&gt; returnValues ) {\r\n    \t\tOngoingStubbing&lt;Integer&gt; stubbing = Mockito.when(mock.getVal());\r\n    \t\tfor (Integer integer : returnValues) {\r\n    \t\t\tstubbing = stubbing.thenReturn(integer);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t@Test\r\n    \tvoid test() {\r\n    \t\tA mock = Mockito.mock(A.class);\r\n    \t\tmakeMockReturnSomeObjects(mock, List.of(1,2,3));\r\n    \t\tSystem.out.println(mock.getVal()); // prints 1\r\n    \t\tSystem.out.println(mock.getVal()); // prints 2\r\n    \t\tSystem.out.println(mock.getVal()); // prints 3\r\n    \t}\r\n\r\n}\r\n\r\nIs there a built in api or better way to accomplish this?\r\n\r\n","title":"Have Mockito Return Varying Number of Different Values for Invocations","body":"<p>I want a Mockito mock to return several values one after another when the same function is called on the mock, and have those values come from a list, instead of by writing them out as <code>mock.thenReturn(1).thenReturn(2)</code></p>\n<p>One way to do it is to roll my own function:</p>\n<pre><code>class  A{\n    public  int getVal() {return 0;}\n}\n\nclass OneTest {\n\n    static void makeMockReturnSomeObjects(A mock, List&lt;Integer&gt; returnValues ) {\n        OngoingStubbing&lt;Integer&gt; stubbing = Mockito.when(mock.getVal());\n        for (Integer integer : returnValues) {\n            stubbing = stubbing.thenReturn(integer);\n        }\n        \n    }\n    @Test\n    void test() {\n        A mock = Mockito.mock(A.class);\n        makeMockReturnSomeObjects(mock, List.of(1,2,3));\n        System.out.println(mock.getVal()); // prints 1\n        System.out.println(mock.getVal()); // prints 2\n        System.out.println(mock.getVal()); // prints 3\n    }\n</code></pre>\n<p>}</p>\n<p>Is there a built in api or better way to accomplish this?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":18085262,"reputation":96,"user_id":13146364,"display_name":"Elek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657729170,"creation_date":1657729170,"answer_id":72969519,"question_id":72969150,"body_markdown":"`Webview` inside a `NestedScrollView` is generell bad idea and causes a lot of trouble. You cannot just use `layout_height=match_parent` inside of the ScrollView. \r\n\r\nEither restrict the Webview directly, by `layout_height=200px` (and not the `NestedScrollView`) or let the Webview handle scrolling and remove the `NestedScrollView`. \r\n\r\nWhen you remove the ScrollView, you can use `layout_height=match_parent` for the Webview (assuming it is in a suitable container layout, e.g. `LinearLayout`)","title":"video disappears when setting match_parent in webview","body":"<p><code>Webview</code> inside a <code>NestedScrollView</code> is generell bad idea and causes a lot of trouble. You cannot just use <code>layout_height=match_parent</code> inside of the ScrollView.</p>\n<p>Either restrict the Webview directly, by <code>layout_height=200px</code> (and not the <code>NestedScrollView</code>) or let the Webview handle scrolling and remove the <code>NestedScrollView</code>.</p>\n<p>When you remove the ScrollView, you can use <code>layout_height=match_parent</code> for the Webview (assuming it is in a suitable container layout, e.g. <code>LinearLayout</code>)</p>\n"}],"owner":{"account_id":23958830,"reputation":59,"user_id":17949254,"display_name":"Viacheslav Kolisnichenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657729170,"creation_date":1657727394,"question_id":72969150,"body_markdown":"I have a webview in which video is played, if you set the size of the webview, for example, 200 to 200, then everything is ok, but when installed programmatically\r\n\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n\r\nthen the video disappears from the screen, the screen becomes black. While the stream from the video continues to play as the music from the video continues to play. How I can fix it ? \r\n\r\n                &lt;androidx.core.widget.NestedScrollView\r\n                android:id=&quot;@+id/webScrollContainer&quot;\r\n                android:layout_width=&quot;200sp&quot;\r\n                android:layout_height=&quot;200sp&quot;\r\n                android:fillViewport=&quot;true&quot;\r\n                android:visibility=&quot;@{playerType == PlayerViewType.WEB ? View.VISIBLE : View.GONE}&quot;\r\n                tools:visibility=&quot;visible&quot;&gt;\r\n\r\n                &lt;com.onixcamera.ui.view.custom.SizableWebView\r\n                    android:id=&quot;@+id/testWebView&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:background=&quot;@color/black&quot;\r\n                    android:fillViewport=&quot;true&quot;\r\n                    android:focusable=&quot;true&quot;\r\n                    android:isScrollContainer=&quot;false&quot;\r\n                    android:visibility=&quot;visible&quot;\r\n                    app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\r\n                    app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot; /&gt;\r\n\r\n            &lt;/androidx.core.widget.NestedScrollView&gt;\r\n...\r\n\r\n            binding.testWebView.loadUrl(url)\r\n","title":"video disappears when setting match_parent in webview","body":"<p>I have a webview in which video is played, if you set the size of the webview, for example, 200 to 200, then everything is ok, but when installed programmatically</p>\n<pre><code>                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n</code></pre>\n<p>then the video disappears from the screen, the screen becomes black. While the stream from the video continues to play as the music from the video continues to play. How I can fix it ?</p>\n<pre><code>            &lt;androidx.core.widget.NestedScrollView\n            android:id=&quot;@+id/webScrollContainer&quot;\n            android:layout_width=&quot;200sp&quot;\n            android:layout_height=&quot;200sp&quot;\n            android:fillViewport=&quot;true&quot;\n            android:visibility=&quot;@{playerType == PlayerViewType.WEB ? View.VISIBLE : View.GONE}&quot;\n            tools:visibility=&quot;visible&quot;&gt;\n\n            &lt;com.onixcamera.ui.view.custom.SizableWebView\n                android:id=&quot;@+id/testWebView&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@color/black&quot;\n                android:fillViewport=&quot;true&quot;\n                android:focusable=&quot;true&quot;\n                android:isScrollContainer=&quot;false&quot;\n                android:visibility=&quot;visible&quot;\n                app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot;\n                app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot; /&gt;\n\n        &lt;/androidx.core.widget.NestedScrollView&gt;\n</code></pre>\n<p>...</p>\n<pre><code>        binding.testWebView.loadUrl(url)\n</code></pre>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1657726687,"post_id":72968933,"comment_id":128880553,"body_markdown":"`Player` ought to be a plain Java getter/setter class that maintains the location of the player.  Your `JPanel` is responsible for all drawings.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"<code>Player</code> ought to be a plain Java getter/setter class that maintains the location of the player.  Your <code>JPanel</code> is responsible for all drawings.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657727992,"creation_date":1657727992,"answer_id":72969282,"question_id":72968933,"body_markdown":"Coordinates that you are using to draw a component are defined in the space of that component.\r\n\r\nIf you do this:\r\n\r\n```java\r\npublic void paint(Graphics g)\r\n{\r\n    g.setColor(Color.green);\r\n    System.out.println(getSize());\r\n    g.fillRect(40,40,150,150);\r\n}\r\n```\r\n\r\nYou will see that at the moment it is attempted to get drawn its size is `1x1`. So drawing it from `40,40` obviously takes it out of the visible area of the component.\r\n\r\nNow change the method to:\r\n\r\n```java\r\npublic void paint(Graphics g)\r\n{\r\n    g.setColor(Color.green);\r\n    System.out.println(getSize());\r\n    setSize(45, 45);\r\n    g.fillRect(40,40,150,150);\r\n}\r\n```\r\n\r\nNow you can see small filled rectangle. This is because you forced the size to be `45x45` and now there are 5 pixels to show in the space of the component while the remaining part is still out of the area.\r\n","title":"JComponent not appearing","body":"<p>Coordinates that you are using to draw a component are defined in the space of that component.</p>\n<p>If you do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void paint(Graphics g)\n{\n    g.setColor(Color.green);\n    System.out.println(getSize());\n    g.fillRect(40,40,150,150);\n}\n</code></pre>\n<p>You will see that at the moment it is attempted to get drawn its size is <code>1x1</code>. So drawing it from <code>40,40</code> obviously takes it out of the visible area of the component.</p>\n<p>Now change the method to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void paint(Graphics g)\n{\n    g.setColor(Color.green);\n    System.out.println(getSize());\n    setSize(45, 45);\n    g.fillRect(40,40,150,150);\n}\n</code></pre>\n<p>Now you can see small filled rectangle. This is because you forced the size to be <code>45x45</code> and now there are 5 pixels to show in the space of the component while the remaining part is still out of the area.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657729137,"creation_date":1657729137,"answer_id":72969510,"question_id":72968933,"body_markdown":"Do not assume the Player panel to have a fixed size.\r\nFor a first test your paint method could look like this:\r\n\r\n    public void paint(Graphics g) {  \r\n        g.setColor(Color.green);  \r\n        g.fillRect(0,0,getWidth(),getHeight());  \r\n    }  \r\n\r\nThe next problem is that the component probably has no size or position. Add a LayoutManager to your panel and add the component:\r\n\r\n    public Game() {\r\n        this.setBackground(Color.yellow);\r\n        this.setPreferredSize(new Dimension(500,500));\r\n        this.setLayout(new BorderLayout());\r\n\r\n        Player p = new Player();\r\n        this.add(p, BorderLayout.CENTER);\r\n    }\r\n\r\nWith that, your player might take the full space and you see green instead of yellow. Play around with the LayoutManager and the player&#39;s preferredSize.","title":"JComponent not appearing","body":"<p>Do not assume the Player panel to have a fixed size.\nFor a first test your paint method could look like this:</p>\n<pre><code>public void paint(Graphics g) {  \n    g.setColor(Color.green);  \n    g.fillRect(0,0,getWidth(),getHeight());  \n}  \n</code></pre>\n<p>The next problem is that the component probably has no size or position. Add a LayoutManager to your panel and add the component:</p>\n<pre><code>public Game() {\n    this.setBackground(Color.yellow);\n    this.setPreferredSize(new Dimension(500,500));\n    this.setLayout(new BorderLayout());\n\n    Player p = new Player();\n    this.add(p, BorderLayout.CENTER);\n}\n</code></pre>\n<p>With that, your player might take the full space and you see green instead of yellow. Play around with the LayoutManager and the player's preferredSize.</p>\n"}],"owner":{"account_id":23841070,"reputation":11,"user_id":17846108,"display_name":"AshDaddy377"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657729137,"creation_date":1657726446,"question_id":72968933,"body_markdown":"I&#39;m trying to create a super simple component, and it&#39;s not appearing.\r\n\r\nComponent class:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    \r\n    import javax.swing.JComponent;\r\n    \r\n    public class Player extends JComponent{\r\n    \t\r\n    \tpublic Player() \r\n    \t{\r\n    \t\r\n    \t}\r\n       \r\n    \tpublic void paint(Graphics g)\r\n    \t{  \r\n            g.setColor(Color.green);  \r\n            g.fillRect(40,40,150,150);  \r\n        }  \r\n    \r\n       \r\n    }\r\n\r\nPanel Class im adding it to:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Rectangle;\r\n    \r\n    import javax.swing.JPanel;\r\n    \r\n    public class Game extends JPanel{\r\n    \r\n    \tpublic Game() \r\n    \t{\r\n    \t\tthis.setBackground(Color.yellow);\r\n    \t\tthis.setPreferredSize(new Dimension(500,500));\r\n    \t\tPlayer p = new Player();\r\n    \t\t\r\n    \t\tthis.add(p);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAnd the JFrame:\r\n\r\n    import javax.swing.JFrame;\r\n\r\n    public class Launcher {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tJFrame frame = new JFrame(&quot;Key Collector Demo&quot;);\r\n    \t\t\r\n    \t\tframe.add(new Game());\r\n    \t\tframe.pack();\r\n    \t\t\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t\tframe.setDefaultCloseOperation(frame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nThe only thing showing up is the yellow background.\r\nJFrame and JPanel are working fine; this problem consistently happens to me when building jcomponents. What am I missing?\r\n\r\nAny help would be greatly appreciated!\r\n","title":"JComponent not appearing","body":"<p>I'm trying to create a super simple component, and it's not appearing.</p>\n<p>Component class:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\n\nimport javax.swing.JComponent;\n\npublic class Player extends JComponent{\n    \n    public Player() \n    {\n    \n    }\n   \n    public void paint(Graphics g)\n    {  \n        g.setColor(Color.green);  \n        g.fillRect(40,40,150,150);  \n    }  \n\n   \n}\n</code></pre>\n<p>Panel Class im adding it to:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Rectangle;\n\nimport javax.swing.JPanel;\n\npublic class Game extends JPanel{\n\n    public Game() \n    {\n        this.setBackground(Color.yellow);\n        this.setPreferredSize(new Dimension(500,500));\n        Player p = new Player();\n        \n        this.add(p);\n        \n    }\n    \n}\n</code></pre>\n<p>And the JFrame:</p>\n<pre><code>import javax.swing.JFrame;\n\npublic class Launcher {\n\n    public static void main(String[] args) {\n        \n        JFrame frame = new JFrame(&quot;Key Collector Demo&quot;);\n        \n        frame.add(new Game());\n        frame.pack();\n        \n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(frame.EXIT_ON_CLOSE);\n        \n    }\n\n}\n</code></pre>\n<p>The only thing showing up is the yellow background.\nJFrame and JPanel are working fine; this problem consistently happens to me when building jcomponents. What am I missing?</p>\n<p>Any help would be greatly appreciated!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1657728724,"post_id":72969225,"comment_id":128881318,"body_markdown":"Please post the error including stacktrace or at least mark the line in your posted code where the error occurs.","body":"Please post the error including stacktrace or at least mark the line in your posted code where the error occurs."},{"owner":{"display_name":"user18974397"},"score":0,"creation_date":1657728772,"post_id":72969225,"comment_id":128881335,"body_markdown":"@Robert i got now the error and is `java.lang.SecurityException: Permission denied (missing INTERNET permission?)`","body":"@Robert i got now the error and is <code>java.lang.SecurityException: Permission denied (missing INTERNET permission?)</code>"},{"owner":{"display_name":"user18974397"},"score":0,"creation_date":1657728836,"post_id":72969225,"comment_id":128881356,"body_markdown":"@Robert also made a comment on which line of the code happens the error","body":"@Robert also made a comment on which line of the code happens the error"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1657729335,"post_id":72969225,"comment_id":128881542,"body_markdown":"Please first search for the error message before making a new post, then you will quickly end up for example here: https://stackoverflow.com/questions/17360924/securityexception-permission-denied-missing-internet-permission and this answer: https://stackoverflow.com/a/35161388/150978","body":"Please first search for the error message before making a new post, then you will quickly end up for example here: <a href=\"https://stackoverflow.com/questions/17360924/securityexception-permission-denied-missing-internet-permission\" title=\"securityexception permission denied missing internet permission\">stackoverflow.com/questions/17360924/&hellip;</a> and this answer: <a href=\"https://stackoverflow.com/a/35161388/150978\">stackoverflow.com/a/35161388/150978</a>"}],"owner":{"display_name":"user18974397"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657728792,"creation_date":1657727728,"question_id":72969225,"body_markdown":"Hello i have this code that its supposed to update values in mysql, but the  **OutputStream** ops is making my app crash. I have it run in AsyncTask but still makes error.\r\n\r\n    try {\r\n                URL url = new URL(connstring);\r\n                HttpURLConnection http = (HttpURLConnection) url.openConnection();\r\n    \r\n                http.setRequestMethod(&quot;POST&quot;);\r\n                http.setDoInput(true);\r\n                http.setDoOutput(true);\r\n    \r\n                OutputStream ops = http.getOutputStream(); //error occurs here\r\n    \r\n                BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(http.getOutputStream(), &quot;UTF-8&quot;));\r\n                data = URLEncoder.encode(&quot;visible&quot;, &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(visible, &quot;UTF-8&quot;)\r\n                        + &quot;&amp;&amp;&quot; + URLEncoder.encode(&quot;visible&quot;, &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(option, &quot;UTF-8&quot;);\r\n                writer.write(data);\r\n                writer.flush();\r\n                writer.close();\r\n                ops.close();\r\n               \r\n            } catch (MalformedURLException ex) {\r\n                result = ex.getMessage();\r\n                \r\n            } catch (IOException e) {\r\n                result = e.getMessage();\r\n                \r\n            }\r\n\r\n\r\nThis is the error i get:\r\n\r\n    java.lang.SecurityException: Permission denied (missing INTERNET permission?)","title":"OutputStream ops makes error in android studio java","body":"<p>Hello i have this code that its supposed to update values in mysql, but the  <strong>OutputStream</strong> ops is making my app crash. I have it run in AsyncTask but still makes error.</p>\n<pre><code>try {\n            URL url = new URL(connstring);\n            HttpURLConnection http = (HttpURLConnection) url.openConnection();\n\n            http.setRequestMethod(&quot;POST&quot;);\n            http.setDoInput(true);\n            http.setDoOutput(true);\n\n            OutputStream ops = http.getOutputStream(); //error occurs here\n\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(http.getOutputStream(), &quot;UTF-8&quot;));\n            data = URLEncoder.encode(&quot;visible&quot;, &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(visible, &quot;UTF-8&quot;)\n                    + &quot;&amp;&amp;&quot; + URLEncoder.encode(&quot;visible&quot;, &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(option, &quot;UTF-8&quot;);\n            writer.write(data);\n            writer.flush();\n            writer.close();\n            ops.close();\n           \n        } catch (MalformedURLException ex) {\n            result = ex.getMessage();\n            \n        } catch (IOException e) {\n            result = e.getMessage();\n            \n        }\n</code></pre>\n<p>This is the error i get:</p>\n<pre><code>java.lang.SecurityException: Permission denied (missing INTERNET permission?)\n</code></pre>\n"},{"tags":["java","linux","process"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1657707214,"post_id":72964141,"comment_id":128872584,"body_markdown":"Try redirecting the process input explicitly: `pb.redirectInput(Redirect.PIPE)`.","body":"Try redirecting the process input explicitly: <code>pb.redirectInput(Redirect.PIPE)</code>."},{"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"score":0,"creation_date":1657708001,"post_id":72964141,"comment_id":128872823,"body_markdown":"I added `pb.redirectInput(Redirect.PIPE)` after `final ProcessBuilder pb = new ProcessBuilder(command)`, but still continues to throw the same error.","body":"I added <code>pb.redirectInput(Redirect.PIPE)</code> after <code>final ProcessBuilder pb = new ProcessBuilder(command)</code>, but still continues to throw the same error."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657719132,"creation_date":1657716165,"answer_id":72966522,"question_id":72964141,"body_markdown":"Your sub-process is likely to be reporting an error and exits while you are writing to the stdin of the sub-process `getOutputStream()` - hence stream closed. As you are not consuming stdout and stderr streams correctly you haven&#39;t had a chance to read any error message.\r\n\r\nAn easy way to check is to redirect stdout and stderr to a file to inspect afterwards:\r\n\r\n    pb.redirectOutput(new File(&quot;std.out&quot;));          \r\n    pb.redirectError(new File(&quot;std.err&quot;));\r\n    Process process = pb.start();\r\n    ...\r\n    int rc = p.waitFor();\r\n\r\nThose files may help you spot the actual problem. The most rebust way to deal with `ProcessBuilder` is to use consumer tasks in background threads to deal with sub-process stdin, stdout and stderr and wait for these consumers to finish after `waitFor()`. That will prevent sub-process stall / freeze if I/O is pending on any one of the streams: `getOutputStream()`, `getInputStream()` and `getErrorStream()`.\r\n\r\n\r\n\r\n\r\n","title":"Java Process Builder builds the process successfully but when flushing information returns Stream closed (java.ioException)","body":"<p>Your sub-process is likely to be reporting an error and exits while you are writing to the stdin of the sub-process <code>getOutputStream()</code> - hence stream closed. As you are not consuming stdout and stderr streams correctly you haven't had a chance to read any error message.</p>\n<p>An easy way to check is to redirect stdout and stderr to a file to inspect afterwards:</p>\n<pre><code>pb.redirectOutput(new File(&quot;std.out&quot;));          \npb.redirectError(new File(&quot;std.err&quot;));\nProcess process = pb.start();\n...\nint rc = p.waitFor();\n</code></pre>\n<p>Those files may help you spot the actual problem. The most rebust way to deal with <code>ProcessBuilder</code> is to use consumer tasks in background threads to deal with sub-process stdin, stdout and stderr and wait for these consumers to finish after <code>waitFor()</code>. That will prevent sub-process stall / freeze if I/O is pending on any one of the streams: <code>getOutputStream()</code>, <code>getInputStream()</code> and <code>getErrorStream()</code>.</p>\n"},{"tags":[],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657728669,"creation_date":1657728669,"answer_id":72969425,"question_id":72964141,"body_markdown":"The command `/node/app/bin/app.js` when executed on my environment directly in linux container was not working.\r\nSince `pb.start()` was not throwing any exception I thought this was not a problem of the command itself because it will have caused the start method to throw an exception. \r\n\r\nAfter fixing the error `/node/app/bin/app.js`(it was a formatting issue and shebangs was not working properly) then the error caused by `out.flush()` disappeared.","title":"Java Process Builder builds the process successfully but when flushing information returns Stream closed (java.ioException)","body":"<p>The command <code>/node/app/bin/app.js</code> when executed on my environment directly in linux container was not working.\nSince <code>pb.start()</code> was not throwing any exception I thought this was not a problem of the command itself because it will have caused the start method to throw an exception.</p>\n<p>After fixing the error <code>/node/app/bin/app.js</code>(it was a formatting issue and shebangs was not working properly) then the error caused by <code>out.flush()</code> disappeared.</p>\n"}],"owner":{"account_id":2934651,"reputation":1282,"user_id":2513916,"display_name":"Rando Shtishi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72966522,"answer_count":2,"score":0,"last_activity_date":1657728669,"creation_date":1657705459,"question_id":72964141,"body_markdown":"Environment Information\r\n\r\nOS: Linux( java program running in a docker container)\r\n\r\nJava version: 1.8\r\n\r\nNode version: 10.22.1\r\n\r\n\r\nI am trying to create a process from an executable js file with the java ProcessBuilder class like below:\r\n\r\n```\r\nString command = &quot;/node/app/bin/app.js&quot;\r\nfinal ProcessBuilder pb = new ProcessBuilder(command);\r\nProcess process = pb.start();\r\nOutputStream out = process.getOutputStream();\r\n out.write(&quot;\\n[:--:]&quot;.getBytes());\r\nout.flush();// this line throws the error java.io.IOException: Stream closed\r\n```\r\n\r\nAfter running the `pb.start()` the process is created successfully, below is the debug information:\r\n[![enter image description here][1]][1]\r\n\r\nThe problem is when the `out.flush()` command which throws an exception when executed. Below is the execution error:\r\n\r\n```\r\nCaused by: java.io.IOException: Stream closed\r\n\r\nat java.lang.ProcessBuilder$NullOutputStream.write(ProcessBuilder.java:433) ~[?:1.8.0_292]\r\n\r\nat java.io.OutputStream.write(OutputStream.java:116) ~[?:1.8.0_292]\r\n\r\nat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[?:1.8.0_292]\r\n\r\nat java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[?:1.8.0_292]\r\n```\r\n\r\nThe `/node/app/bin/app.js` content is like below:\r\n\r\n```\r\n#!/usr/bin/env node\r\nvar path = require(&#39;path&#39;);\r\n\r\nvar apJsFile = path.resolve(__dirname, &#39;../app.js&#39;); //app.js is working correctly\r\n\r\nrequire(appJsFile);\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/6jEAP.png","title":"Java Process Builder builds the process successfully but when flushing information returns Stream closed (java.ioException)","body":"<p>Environment Information</p>\n<p>OS: Linux( java program running in a docker container)</p>\n<p>Java version: 1.8</p>\n<p>Node version: 10.22.1</p>\n<p>I am trying to create a process from an executable js file with the java ProcessBuilder class like below:</p>\n<pre><code>String command = &quot;/node/app/bin/app.js&quot;\nfinal ProcessBuilder pb = new ProcessBuilder(command);\nProcess process = pb.start();\nOutputStream out = process.getOutputStream();\n out.write(&quot;\\n[:--:]&quot;.getBytes());\nout.flush();// this line throws the error java.io.IOException: Stream closed\n</code></pre>\n<p>After running the <code>pb.start()</code> the process is created successfully, below is the debug information:\n<a href=\"https://i.stack.imgur.com/6jEAP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6jEAP.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is when the <code>out.flush()</code> command which throws an exception when executed. Below is the execution error:</p>\n<pre><code>Caused by: java.io.IOException: Stream closed\n\nat java.lang.ProcessBuilder$NullOutputStream.write(ProcessBuilder.java:433) ~[?:1.8.0_292]\n\nat java.io.OutputStream.write(OutputStream.java:116) ~[?:1.8.0_292]\n\nat java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:82) ~[?:1.8.0_292]\n\nat java.io.BufferedOutputStream.flush(BufferedOutputStream.java:140) ~[?:1.8.0_292]\n</code></pre>\n<p>The <code>/node/app/bin/app.js</code> content is like below:</p>\n<pre><code>#!/usr/bin/env node\nvar path = require('path');\n\nvar apJsFile = path.resolve(__dirname, '../app.js'); //app.js is working correctly\n\nrequire(appJsFile);\n</code></pre>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1657728371,"post_id":72969319,"comment_id":128881188,"body_markdown":"I don&#39;t think Gradle will download JDKs. Can you set the source level in `buildSrc/build.gradle` to 8?","body":"I don&#39;t think Gradle will download JDKs. Can you set the source level in <code>buildSrc&#47;build.gradle</code> to 8?"},{"owner":{"account_id":11394190,"reputation":331,"user_id":8353152,"display_name":"DBear"},"score":0,"creation_date":1657728952,"post_id":72969319,"comment_id":128881416,"body_markdown":"I have tried changing the Java version with Gradle toolchains with `java.toolchain.languageVersion = JavaLanguageVersion.of(11)`, and I&#39;ve also tried changing it with `sourceCompatibility = &#39;11&#39;`, but neither seem to apply to buildSrc.","body":"I have tried changing the Java version with Gradle toolchains with <code>java.toolchain.languageVersion = JavaLanguageVersion.of(11)</code>, and I&#39;ve also tried changing it with <code>sourceCompatibility = &#39;11&#39;</code>, but neither seem to apply to buildSrc."},{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":0,"creation_date":1657728990,"post_id":72969319,"comment_id":128881430,"body_markdown":"Gradle can be wrapped to download itself but you can&#39;t tell gradle to be java fluent. Your project has a fixed target and you can build it on 11 and then on 8 if everything is compatible. That&#39;s your job as developer to be compatible of set up fixed versions/environments","body":"Gradle can be wrapped to download itself but you can&#39;t tell gradle to be java fluent. Your project has a fixed target and you can build it on 11 and then on 8 if everything is compatible. That&#39;s your job as developer to be compatible of set up fixed versions/environments"},{"owner":{"account_id":11394190,"reputation":331,"user_id":8353152,"display_name":"DBear"},"score":0,"creation_date":1657731508,"post_id":72969319,"comment_id":128882299,"body_markdown":"Too bad, it sounds like the answer is &quot;no&quot;. I was able to compile buildSrc with Java 11, but then I get this error: `CustomTask has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0`.","body":"Too bad, it sounds like the answer is &quot;no&quot;. I was able to compile buildSrc with Java 11, but then I get this error: <code>CustomTask has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</code>."}],"owner":{"account_id":11394190,"reputation":331,"user_id":8353152,"display_name":"DBear"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657728456,"creation_date":1657728137,"question_id":72969319,"body_markdown":"My build.gradle uses a custom task, which I defined in the buildSrc/src/main/java directory using Java 11. Now, I need to build on a different machine which only has Java 8 installed, so the Gradle build cannot even configure because it complains of errors in my custom task. Of course, I could install Java 11 in my home directory (since I don&#39;t have root privileges on this machine) and run Gradle with a custom JAVA_HOME, but is there a way that Gradle could automate this process. That is, could I somehow declare the Java version required for buildSrc so that Gradle will download and use that version?\r\n\r\n[Gradle toolchains][1] looks somewhat promising, but it is not obvious how this should be applied to buildSrc.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/toolchains.html","title":"How to specify Java version for Gradle buildSrc?","body":"<p>My build.gradle uses a custom task, which I defined in the buildSrc/src/main/java directory using Java 11. Now, I need to build on a different machine which only has Java 8 installed, so the Gradle build cannot even configure because it complains of errors in my custom task. Of course, I could install Java 11 in my home directory (since I don't have root privileges on this machine) and run Gradle with a custom JAVA_HOME, but is there a way that Gradle could automate this process. That is, could I somehow declare the Java version required for buildSrc so that Gradle will download and use that version?</p>\n<p><a href=\"https://docs.gradle.org/current/userguide/toolchains.html\" rel=\"nofollow noreferrer\">Gradle toolchains</a> looks somewhat promising, but it is not obvious how this should be applied to buildSrc.</p>\n"},{"tags":["java","reflection","reference","field"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1657669542,"post_id":72959431,"comment_id":128864428,"body_markdown":"It&#39;s not entirely clear what you&#39;re trying to do. The method reference syntax only works for methods, but anything you can do with a method reference, you can (more or less) do with the lambda syntax.","body":"It&#39;s not entirely clear what you&#39;re trying to do. The method reference syntax only works for methods, but anything you can do with a method reference, you can (more or less) do with the lambda syntax."},{"owner":{"account_id":8455101,"reputation":319,"user_id":6342701,"accept_rate":20,"display_name":"dac1n"},"score":0,"creation_date":1657670054,"post_id":72959431,"comment_id":128864500,"body_markdown":"@shmosel i am trying to get a compile-time safe **field** reference the same way a method reference works","body":"@shmosel i am trying to get a compile-time safe <b>field</b> reference the same way a method reference works"},{"owner":{"account_id":5091817,"reputation":360,"user_id":4084636,"accept_rate":100,"display_name":"Adrian M."},"score":0,"creation_date":1657670302,"post_id":72959431,"comment_id":128864533,"body_markdown":"Not sure that’s going to be feasible without naming your getter accordingly.","body":"Not sure that’s going to be feasible without naming your getter accordingly."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657672291,"post_id":72959431,"comment_id":128864844,"body_markdown":"What do you want to achieve? That is, how would you like to use the reference?","body":"What do you want to achieve? That is, how would you like to use the reference?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657673848,"post_id":72959431,"comment_id":128865067,"body_markdown":"Java doesn&#39;t have a corresponding feature for [field references](https://stackoverflow.com/a/27472025/636009) as it does for method references. There was a thread on the [Amber Spec Observers](https://mail.openjdk.org/pipermail/amber-spec-observers/) mailing list in June of 2019 on [Revisiting field references](https://mail.openjdk.org/pipermail/amber-spec-observers/2019-June/001504.html) but it didn&#39;t go anywhere.","body":"Java doesn&#39;t have a corresponding feature for <a href=\"https://stackoverflow.com/a/27472025/636009\">field references</a> as it does for method references. There was a thread on the <a href=\"https://mail.openjdk.org/pipermail/amber-spec-observers/\" rel=\"nofollow noreferrer\">Amber Spec Observers</a> mailing list in June of 2019 on <a href=\"https://mail.openjdk.org/pipermail/amber-spec-observers/2019-June/001504.html\" rel=\"nofollow noreferrer\">Revisiting field references</a> but it didn&#39;t go anywhere."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1657674044,"post_id":72959431,"comment_id":128865092,"body_markdown":"Depending on what you&#39;re trying to do with it, it might be enough to take method references to the getter (and, if there is one, setter) for the field.","body":"Depending on what you&#39;re trying to do with it, it might be enough to take method references to the getter (and, if there is one, setter) for the field."},{"owner":{"account_id":8455101,"reputation":319,"user_id":6342701,"accept_rate":20,"display_name":"dac1n"},"score":0,"creation_date":1657704620,"post_id":72959431,"comment_id":128871717,"body_markdown":"@tgdavies Basically im creating queries which need the JPA entity property name as string, and every time i want to change a property i need to also change every string reference. I was hoping there was a way to do MyClass::myField so that if i change it, all these referenced will not compile","body":"@tgdavies Basically im creating queries which need the JPA entity property name as string, and every time i want to change a property i need to also change every string reference. I was hoping there was a way to do MyClass::myField so that if i change it, all these referenced will not compile"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657711197,"post_id":72959431,"comment_id":128873916,"body_markdown":"Please give more details of what you were hoping to do. Do you mean something like `entityManger.createQuery(&quot;select x from MyEntity x where x.&quot; + MyEntity::name + &quot; = :entityName&quot;)`?","body":"Please give more details of what you were hoping to do. Do you mean something like <code>entityManger.createQuery(&quot;select x from MyEntity x where x.&quot; + MyEntity::name + &quot; = :entityName&quot;)</code>?"},{"owner":{"account_id":8455101,"reputation":319,"user_id":6342701,"accept_rate":20,"display_name":"dac1n"},"score":0,"creation_date":1657711837,"post_id":72959431,"comment_id":128874137,"body_markdown":"@tgdavies exactly. Currently i do &quot;where x.name&quot;, but every time i change any field i have to find tens of those references","body":"@tgdavies exactly. Currently i do &quot;where x.name&quot;, but every time i change any field i have to find tens of those references"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657712308,"post_id":72959431,"comment_id":128874316,"body_markdown":"For what it&#39;s worth, Intellij IDEA has good support for refactoring field names of entities, if the entity and the query are in the same project.","body":"For what it&#39;s worth, Intellij IDEA has good support for refactoring field names of entities, if the entity and the query are in the same project."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657712870,"post_id":72959431,"comment_id":128874565,"body_markdown":"Or look at generating metamodel classes: https://docs.oracle.com/javaee/6/tutorial/doc/gjiup.html","body":"Or look at generating metamodel classes: <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/gjiup.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/tutorial/doc/gjiup.html</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1657714314,"post_id":72959431,"comment_id":128875111,"body_markdown":"Why does the query depend on the field name? And why do you change field names so often that it matters?","body":"Why does the query depend on the field name? And why do you change field names so often that it matters?"},{"owner":{"account_id":8455101,"reputation":319,"user_id":6342701,"accept_rate":20,"display_name":"dac1n"},"score":0,"creation_date":1657727496,"post_id":72959431,"comment_id":128880857,"body_markdown":"How could it possibly not depend in the field name?","body":"How could it possibly not depend in the field name?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1657793783,"post_id":72959431,"comment_id":128897138,"body_markdown":"A good framework would use the public methods that make up the API of a class rather than accessing private fields but what is the entity manager processing anyway? Your field or a database column? Maybe you’re just using the wrong framework?","body":"A good framework would use the public methods that make up the API of a class rather than accessing private fields but what is the entity manager processing anyway? Your field or a database column? Maybe you’re just using the wrong framework?"},{"owner":{"account_id":8455101,"reputation":319,"user_id":6342701,"accept_rate":20,"display_name":"dac1n"},"score":0,"creation_date":1657812243,"post_id":72959431,"comment_id":128904217,"body_markdown":"It&#39;s common in almost all ORM to do queries with the object field, the name of which is mapped to the column","body":"It&#39;s common in almost all ORM to do queries with the object field, the name of which is mapped to the column"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1657684920,"creation_date":1657684920,"answer_id":72960803,"question_id":72959431,"body_markdown":"Unfortunately, you might as well want to wish for a unicorn. The notion of &#39;a field reference&#39;, in the sense that you are asking for, simply isn&#39;t part of java-the-language.\r\n\r\nThat `MyClass::myThing` syntax works _only_ for methods. There&#39;s simply no such thing for fields. It&#39;s unfortunate.\r\n\r\nIt&#39;s very difficult to give objective reasons for the design decisions of any language; it either requires spelunking through the designer&#39;s collective heads which requires magic or science fiction, or asking them to spill the beans, which they&#39;re probably not going to do in a stack overflow question. Sometimes (and more recent java features, such as this one), design is debated in public. Specifically, you can search for the openjdk `lamba-dev` mailing list where no doubt this question was covered. You&#39;ll need to go through, and I&#39;m not exaggerating, tens of thousands of posts, but, the good news is, [it&#39;s searchable](https://mail.openjdk.org/pipermail/lambda-dev/).\r\n\r\nBut, I can guess / dig through my own memory as I spent some time discussing Project Lambda as it was designed:\r\n\r\nDirect field access isn&#39;t common in the java ecosystem. The language _allows_ direct field access but few java programs are written that way, so why make a language feature that would only be immediately useful and familiar to an exotic bunch.\r\n\r\nThe infrastructure required is also rather significant - a method lambda isn&#39;t allowed to be written in java __unless__ you use it in a context that makes it possible for the compiler to &#39;treat&#39; the lambda as a type - specifically, a `@FunctionalInterface` - any interface that contains exactly 1 method (other than methods that already exist in j.l.Object itself). In other words, this is fine:\r\n\r\n```\r\nFunction&lt;String, String&gt; f = String::toLowerCase;\r\n```\r\n\r\nBut this is not:\r\n\r\n```\r\nObject o = String::toLowerCase;\r\n```\r\n\r\nSo, let&#39;s imagine for a moment that field refs did exist. What does that mean? What is the &#39;type&#39; of the expression `MyClass::myField`? Perhaps a new concept: An interface with __2__ methods; one of them takes no arguments and returns a T, the other wants a T and returns nothing (to match the act of reading the field, and writing it), but where it&#39;s also acceptable if it&#39;s a FunctionalInterface that is either one of those, perhaps? That sounds complicated.\r\n\r\nThe general mindset of the java design team right now (and has been for a while) is not to overcomplicate matters: Do not add features unless you have a good reason. After all, if it turns out that the community really clamours for field refs, they can be added. But, if on the other hand, they were added but nobody uses them, they can&#39;t be removed (and thus you&#39;ve now permanently made the language more complicated and reduced room for future language features for a thing nobody uses and which most style guides tell you to actively avoid).\r\n\r\nThat&#39;s, I&#39;m pretty sure, why they don&#39;t exist.\r\n","title":"How to get a field reference in java?","body":"<p>Unfortunately, you might as well want to wish for a unicorn. The notion of 'a field reference', in the sense that you are asking for, simply isn't part of java-the-language.</p>\n<p>That <code>MyClass::myThing</code> syntax works <em>only</em> for methods. There's simply no such thing for fields. It's unfortunate.</p>\n<p>It's very difficult to give objective reasons for the design decisions of any language; it either requires spelunking through the designer's collective heads which requires magic or science fiction, or asking them to spill the beans, which they're probably not going to do in a stack overflow question. Sometimes (and more recent java features, such as this one), design is debated in public. Specifically, you can search for the openjdk <code>lamba-dev</code> mailing list where no doubt this question was covered. You'll need to go through, and I'm not exaggerating, tens of thousands of posts, but, the good news is, <a href=\"https://mail.openjdk.org/pipermail/lambda-dev/\" rel=\"noreferrer\">it's searchable</a>.</p>\n<p>But, I can guess / dig through my own memory as I spent some time discussing Project Lambda as it was designed:</p>\n<p>Direct field access isn't common in the java ecosystem. The language <em>allows</em> direct field access but few java programs are written that way, so why make a language feature that would only be immediately useful and familiar to an exotic bunch.</p>\n<p>The infrastructure required is also rather significant - a method lambda isn't allowed to be written in java <strong>unless</strong> you use it in a context that makes it possible for the compiler to 'treat' the lambda as a type - specifically, a <code>@FunctionalInterface</code> - any interface that contains exactly 1 method (other than methods that already exist in j.l.Object itself). In other words, this is fine:</p>\n<pre><code>Function&lt;String, String&gt; f = String::toLowerCase;\n</code></pre>\n<p>But this is not:</p>\n<pre><code>Object o = String::toLowerCase;\n</code></pre>\n<p>So, let's imagine for a moment that field refs did exist. What does that mean? What is the 'type' of the expression <code>MyClass::myField</code>? Perhaps a new concept: An interface with <strong>2</strong> methods; one of them takes no arguments and returns a T, the other wants a T and returns nothing (to match the act of reading the field, and writing it), but where it's also acceptable if it's a FunctionalInterface that is either one of those, perhaps? That sounds complicated.</p>\n<p>The general mindset of the java design team right now (and has been for a while) is not to overcomplicate matters: Do not add features unless you have a good reason. After all, if it turns out that the community really clamours for field refs, they can be added. But, if on the other hand, they were added but nobody uses them, they can't be removed (and thus you've now permanently made the language more complicated and reduced room for future language features for a thing nobody uses and which most style guides tell you to actively avoid).</p>\n<p>That's, I'm pretty sure, why they don't exist.</p>\n"}],"owner":{"account_id":8455101,"reputation":319,"user_id":6342701,"accept_rate":20,"display_name":"dac1n"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657728178,"creation_date":1657669302,"question_id":72959431,"body_markdown":"i am trying to get a compile time safe field reference in java, done not with reflection and Strings, but directly referencing the field. Something like \r\n\r\n`MyClass::myField`\r\n\r\nI have tried the usual reflection way, but you need to reference the fields as strings, and this is error prone in case of a rename, and will not throw a compile time error\r\n\r\nEDIT: just want to clarify that my end goal is to get the field NAME for entity purposes, such as reference the entity field in a query, and not the value","title":"How to get a field reference in java?","body":"<p>i am trying to get a compile time safe field reference in java, done not with reflection and Strings, but directly referencing the field. Something like</p>\n<p><code>MyClass::myField</code></p>\n<p>I have tried the usual reflection way, but you need to reference the fields as strings, and this is error prone in case of a rename, and will not throw a compile time error</p>\n<p>EDIT: just want to clarify that my end goal is to get the field NAME for entity purposes, such as reference the entity field in a query, and not the value</p>\n"},{"tags":["java","c#","encryption","aes"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1657729533,"post_id":72969325,"comment_id":128881618,"body_markdown":"Have you checked the documentation? You can&#39;t have null for the IV, so that probably tells it to use a random IV. You should probably specify an IV of all zeroes if you don&#39;t care about the value. You also need to make sure both are using the same encryption mode i.e., ECB, CBC, OBC, etc. What does the documentation say it means when the cipher.getParameters() is null?","body":"Have you checked the documentation? You can&#39;t have null for the IV, so that probably tells it to use a random IV. You should probably specify an IV of all zeroes if you don&#39;t care about the value. You also need to make sure both are using the same encryption mode i.e., ECB, CBC, OBC, etc. What does the documentation say it means when the cipher.getParameters() is null?"},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1657729652,"post_id":72969325,"comment_id":128881661,"body_markdown":"In the C# code the key must be hex decoded and as mode ECB must be applied to correspond functionally to the Java code.","body":"In the C# code the key must be hex decoded and as mode ECB must be applied to correspond functionally to the Java code."},{"owner":{"account_id":225790,"reputation":849,"user_id":486468,"accept_rate":83,"display_name":"JerseyMike"},"score":0,"creation_date":1657731137,"post_id":72969325,"comment_id":128882170,"body_markdown":"@DavidConrad Thank you.  The suggestion to make the IV all zeroes has, at least, produced consistency.  The java docs as oracle.com don&#39;t say anything about what it means if the getParameters is null, only that it will use defaults if it can.  That&#39;s why I checked getIV().  Which also returned null.","body":"@DavidConrad Thank you.  The suggestion to make the IV all zeroes has, at least, produced consistency.  The java docs as oracle.com don&#39;t say anything about what it means if the getParameters is null, only that it will use defaults if it can.  That&#39;s why I checked getIV().  Which also returned null."},{"owner":{"account_id":225790,"reputation":849,"user_id":486468,"accept_rate":83,"display_name":"JerseyMike"},"score":0,"creation_date":1657731359,"post_id":72969325,"comment_id":128882247,"body_markdown":"@Topaco Thank you!  That was the other thing I was missing.  I now have consistent, matching data.","body":"@Topaco Thank you!  That was the other thing I was missing.  I now have consistent, matching data."},{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1657733419,"post_id":72969325,"comment_id":128882905,"body_markdown":"CBC + zero vector and ECB are equivalent only for a single block (= 16 bytes for AES) ciphertext (compare both [flowcharts](https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_block_chaining_(CBC))), not for larger ciphertexts. The robust way is to use ECB in the C# code for compatibility with the Java code.","body":"CBC + zero vector and ECB are equivalent only for a single block (= 16 bytes for AES) ciphertext (compare both <a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_block_chaining_(CBC)\" rel=\"nofollow noreferrer\">flowcharts</a>), not for larger ciphertexts. The robust way is to use ECB in the C# code for compatibility with the Java code."},{"owner":{"account_id":225790,"reputation":849,"user_id":486468,"accept_rate":83,"display_name":"JerseyMike"},"score":0,"creation_date":1657740229,"post_id":72969325,"comment_id":128885073,"body_markdown":"@Topaco That&#39;s good info.  I wondered why it didn&#39;t seem to matter which I chose.  My text isn&#39;t long enough to cause issues.  I don&#39;t think it will cause problems in my situation, but to be safe I will switch to ECB.","body":"@Topaco That&#39;s good info.  I wondered why it didn&#39;t seem to matter which I chose.  My text isn&#39;t long enough to cause issues.  I don&#39;t think it will cause problems in my situation, but to be safe I will switch to ECB."}],"owner":{"account_id":225790,"reputation":849,"user_id":486468,"accept_rate":83,"display_name":"JerseyMike"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657728171,"creation_date":1657728171,"question_id":72969325,"body_markdown":"I was given following java code:\r\n\r\n    private static String key = &quot;0123456789ABCDEF0123456789ABCDEF&quot;; // Not real key\r\n\r\n    public static String Encrypt(String text)\r\n    {\r\n        byte[] encrypted, bytekey = hexStringToByteArray(key);\r\n        SecretKeySpec sks = new SecretKeySpec(bytekey, &quot;AES&quot;);\r\n\r\n        try\r\n        {\r\n\t\t\tCipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n\t\t\tcipher.init(1, sks, cipher.getParameters());\r\n\t\t\tencrypted = cipher.doFinal(text.getBytes());\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            System.out.println(&quot;Error using AES encryption with this Java instance&quot;);\r\n            e.printStackTrace();\r\n            System.exit(1);\r\n            return null;\r\n        }\r\n        String encryptedText = byteArrayToHexString(encrypted);\r\n        return encryptedText;\r\n    }\r\n\r\nPassing ```Password123``` into this returns ```6836A38816248A0C7DD89400A997251A```.  I&#39;m not looking for comments on the security of this.  I&#39;m aware.  I didn&#39;t write it, I just need to duplicate it.\r\n\r\nI have to create C# code that has the same functionality.  I have tried many code snippets from all over SO and other web sites.  None of them produce the same output when given a specific input.\r\n\r\nI added some debug statements to the java code to get the following information about the algorithm:\r\n\r\n    sks.getAlgorithm(): AES (duh)\r\n    sks.getFormat(): RAW\r\n    cipher.getAlgorithm(): AES (again, duh)\r\n    cipher.getBlockSize(): 16\r\n    cipher.getParameters(): null\r\n    cipher.getIV(): null (I think this might be my primary issue)\r\n\r\nHere is one of the C# methods I found that looked promising:\r\n\r\n    private const string key = &quot;0123456789ABCDEF0123456789ABCDEF&quot;; // Not real key\r\n    private static byte[] encryptionKey= new byte[16];\r\n\r\n    static void SetupKey()\r\n    {\r\n        var secretKeyBytes = Encoding.UTF8.GetBytes(key);\r\n        Array.Copy(secretKeyBytes, encryptionKey, Math.Min(encryptionKey.Length, secretKeyBytes.Length));\r\n    }\r\n\r\n    public static String Encrypt3(String secret)\r\n    {\r\n        SetupKey();\r\n\r\n        byte[] inputBytes = UTF8Encoding.UTF8.GetBytes(secret);\r\n        using (MemoryStream ms = new MemoryStream())\r\n        {\r\n            using (AesManaged cryptor = new AesManaged())\r\n            {\r\n                cryptor.Mode = CipherMode.CBC;\r\n                cryptor.Padding = PaddingMode.PKCS7;\r\n                cryptor.KeySize = 128;\r\n                cryptor.BlockSize = 128;\r\n\r\n                using (CryptoStream cs = new CryptoStream(ms, cryptor.CreateEncryptor(encryptionKey, null), CryptoStreamMode.Write))\r\n                {\r\n                    cs.Write(inputBytes, 0, inputBytes.Length);\r\n                }\r\n                byte[] encryptedContent = ms.ToArray();\r\n                byte[] result = new byte[encryptedContent.Length];\r\n                System.Buffer.BlockCopy(encryptedContent, 0, result, 0, encryptedContent.Length);\r\n\r\n                return ByteArrayToHexString(result);\r\n            }\r\n        }\r\n    }\r\n\r\nEvery time I run this code, I get a different result, even though I&#39;m passing null into the Initialization Vector(IV) parameter of ```cryptor.CreateEncryptor()```.  Is the ```AesManaged``` object using an internal IV even though I told it to use null?  If I try to set the IV to null, I get an error.\r\n\r\nWhat do I need to do to get the C# code to consistently return the same result as the java code?\r\n\r\nNOTE: *Both methods use HexStringToByteArray and ByteArrayToHexString. The original author of the java code, for some reason, wrote his own byte/hex converters.  I recreated them in C#, but they work just like the build in functions.*\r\n","title":"How can I get C# AES encryption method to return the same results as a given java method?","body":"<p>I was given following java code:</p>\n<pre><code>private static String key = &quot;0123456789ABCDEF0123456789ABCDEF&quot;; // Not real key\n\npublic static String Encrypt(String text)\n{\n    byte[] encrypted, bytekey = hexStringToByteArray(key);\n    SecretKeySpec sks = new SecretKeySpec(bytekey, &quot;AES&quot;);\n\n    try\n    {\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n        cipher.init(1, sks, cipher.getParameters());\n        encrypted = cipher.doFinal(text.getBytes());\n    }\n    catch (Exception e)\n    {\n        System.out.println(&quot;Error using AES encryption with this Java instance&quot;);\n        e.printStackTrace();\n        System.exit(1);\n        return null;\n    }\n    String encryptedText = byteArrayToHexString(encrypted);\n    return encryptedText;\n}\n</code></pre>\n<p>Passing <code>Password123</code> into this returns <code>6836A38816248A0C7DD89400A997251A</code>.  I'm not looking for comments on the security of this.  I'm aware.  I didn't write it, I just need to duplicate it.</p>\n<p>I have to create C# code that has the same functionality.  I have tried many code snippets from all over SO and other web sites.  None of them produce the same output when given a specific input.</p>\n<p>I added some debug statements to the java code to get the following information about the algorithm:</p>\n<pre><code>sks.getAlgorithm(): AES (duh)\nsks.getFormat(): RAW\ncipher.getAlgorithm(): AES (again, duh)\ncipher.getBlockSize(): 16\ncipher.getParameters(): null\ncipher.getIV(): null (I think this might be my primary issue)\n</code></pre>\n<p>Here is one of the C# methods I found that looked promising:</p>\n<pre><code>private const string key = &quot;0123456789ABCDEF0123456789ABCDEF&quot;; // Not real key\nprivate static byte[] encryptionKey= new byte[16];\n\nstatic void SetupKey()\n{\n    var secretKeyBytes = Encoding.UTF8.GetBytes(key);\n    Array.Copy(secretKeyBytes, encryptionKey, Math.Min(encryptionKey.Length, secretKeyBytes.Length));\n}\n\npublic static String Encrypt3(String secret)\n{\n    SetupKey();\n\n    byte[] inputBytes = UTF8Encoding.UTF8.GetBytes(secret);\n    using (MemoryStream ms = new MemoryStream())\n    {\n        using (AesManaged cryptor = new AesManaged())\n        {\n            cryptor.Mode = CipherMode.CBC;\n            cryptor.Padding = PaddingMode.PKCS7;\n            cryptor.KeySize = 128;\n            cryptor.BlockSize = 128;\n\n            using (CryptoStream cs = new CryptoStream(ms, cryptor.CreateEncryptor(encryptionKey, null), CryptoStreamMode.Write))\n            {\n                cs.Write(inputBytes, 0, inputBytes.Length);\n            }\n            byte[] encryptedContent = ms.ToArray();\n            byte[] result = new byte[encryptedContent.Length];\n            System.Buffer.BlockCopy(encryptedContent, 0, result, 0, encryptedContent.Length);\n\n            return ByteArrayToHexString(result);\n        }\n    }\n}\n</code></pre>\n<p>Every time I run this code, I get a different result, even though I'm passing null into the Initialization Vector(IV) parameter of <code>cryptor.CreateEncryptor()</code>.  Is the <code>AesManaged</code> object using an internal IV even though I told it to use null?  If I try to set the IV to null, I get an error.</p>\n<p>What do I need to do to get the C# code to consistently return the same result as the java code?</p>\n<p>NOTE: <em>Both methods use HexStringToByteArray and ByteArrayToHexString. The original author of the java code, for some reason, wrote his own byte/hex converters.  I recreated them in C#, but they work just like the build in functions.</em></p>\n"},{"tags":["java","security","exception","encryption","cryptography"],"comments":[{"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"score":0,"creation_date":1364587824,"post_id":15709421,"comment_id":22313185,"body_markdown":"A try with six catch clauses might be a code smell, but it may not be incorrect either. What six exceptions can be thrown from this block of code? Would each one indicate that a different issue occurred?","body":"A try with six catch clauses might be a code smell, but it may not be incorrect either. What six exceptions can be thrown from this block of code? Would each one indicate that a different issue occurred?"},{"owner":{"account_id":143563,"reputation":26774,"user_id":351984,"accept_rate":86,"display_name":"Paul Rubel"},"score":0,"creation_date":1364589130,"post_id":15709421,"comment_id":22313637,"body_markdown":"One un-differentiated catch is absolutely a smell. Good question +1","body":"One un-differentiated catch is absolutely a smell. Good question +1"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1579043736,"post_id":15709421,"comment_id":105634552,"body_markdown":"Four or five of these six are programming errors and for that reason should be caught separately. Now that we can | exceptions together the question is obsolete.","body":"Four or five of these six are programming errors and for that reason should be caught separately. Now that we can | exceptions together the question is obsolete."}],"answers":[{"tags":[],"owner":{"account_id":15908,"reputation":22122,"user_id":34102,"accept_rate":86,"display_name":"Piotr Kochański"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1364582914,"creation_date":1364582607,"answer_id":15709461,"question_id":15709421,"body_markdown":"The best way to handle that is to create a bussines exception (MyModuleException or something) and then rethrow that exception adding Crypto exceptions to cause part. In that way your method would throw only one exception, not six, what would be much easier to manage in other layers of your application.\r\n\r\n    public void myMethod(...) throws MyModuleException {\r\n      try {\r\n        final Cipher cipher = Cipher.getInstance(&quot;AES/CBC/NoPadding&quot;);\r\n        cipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n        cipher.doFinal(*something*);\r\n      } catch(Crypto1Ex ex){\r\n        throw new MyModuleException(&quot;something is wrong&quot;, ex); //ex added, so it is not lost and visible in stacktraceses\r\n      } catch(Crypto1Ex ex){\r\n        throw new MyModuleException(&quot;something is wrong&quot;, ex);\r\n      } //etc.\r\n    }\r\n\r\nIn Java 7 you might handle it even easier (see: http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html)","title":"Handling Java crypto exceptions","body":"<p>The best way to handle that is to create a bussines exception (MyModuleException or something) and then rethrow that exception adding Crypto exceptions to cause part. In that way your method would throw only one exception, not six, what would be much easier to manage in other layers of your application.</p>\n\n<pre><code>public void myMethod(...) throws MyModuleException {\n  try {\n    final Cipher cipher = Cipher.getInstance(\"AES/CBC/NoPadding\");\n    cipher.init(Cipher.ENCRYPT_MODE, key, iv);\n    cipher.doFinal(*something*);\n  } catch(Crypto1Ex ex){\n    throw new MyModuleException(\"something is wrong\", ex); //ex added, so it is not lost and visible in stacktraceses\n  } catch(Crypto1Ex ex){\n    throw new MyModuleException(\"something is wrong\", ex);\n  } //etc.\n}\n</code></pre>\n\n<p>In Java 7 you might handle it even easier (see: <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html</a>)</p>\n"},{"tags":[],"owner":{"account_id":2147715,"reputation":3303,"user_id":1904979,"display_name":"Peter Elliott"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1364587710,"creation_date":1364587710,"answer_id":15710683,"question_id":15709421,"body_markdown":"If you are willing to lose some specificty, all of the Crypto exceptions extend [GeneralSecurityException][1], you can just catch that instead.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/security/GeneralSecurityException.html","title":"Handling Java crypto exceptions","body":"<p>If you are willing to lose some specificty, all of the Crypto exceptions extend <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/security/GeneralSecurityException.html\" rel=\"nofollow\">GeneralSecurityException</a>, you can just catch that instead.</p>\n"},{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1657728167,"creation_date":1364596251,"answer_id":15712409,"question_id":15709421,"body_markdown":"You indicated the following exceptions:\r\n\r\n    NoSuchPaddingException, NoSuchAlgorithmException\r\n    InvalidAlgorithmParameterException, InvalidKeyException,\r\n    BadPaddingException, IllegalBlockSizeException\r\n\r\nNow all of these are [`GeneralSecurityException`][1]&#39;s, so it would be easy to catch them all. But looking at the use case, you probably don&#39;t want to do that.\r\n\r\n---\r\n\r\nIf you look at the cause of the exceptions then you will find that any of these exceptions - except for the last two - are only thrown when generating an implementation of an algorithm or a key. I think it is reasonable that once you have tested your application that these values remain more or less static. Hence it would be logical to throw - for instance - an [`IllegalStateException`][2]. `IllegalStateException` is a runtime exception which you are not required to throw (in the method signature) or catch. Of course, you should include the security exception as being the *cause* of the exception.\r\n\r\n---\r\n\r\nNow the last two exceptions, [`BadPaddingException`][3] and [`IllegalBlockSizeException`][4] are different. They depend on the actual ciphertext, so they are dependent on the input of the algorithm. Now normally you should always verify the integrity of the input before you feed it into your [`Cipher`][5] instance, initiated for decryption, for instance by first validating a HMAC checksum). So in that sense you could still get away with a runtime exception. If you don&#39;t perform a separate check for integrity then you should do should not convert to a `RuntimeException`. Instead you could either let the user handle the exception, or re-throw it as a use case specific exception.\r\n\r\nIf you handle the `BadPaddingException` by (re-)throwing it then should understand about plaintext oracle attacks such as padding oracle attacks. For padding oracle attacks in CBC mode: if an adversary can try and let you decrypt ciphertext multiple times and receive an indication that decryption failed (or not) then they can *retrieve the plaintext of the message without breaking the cipher*. For this reason an authenticated mode such as GCM mode should be preferred in situations that can handle the 16 additional bytes for the authentication tag.\r\n\r\n---\r\n\r\nIt is probably best to use separate `try`/`catch` blocks for the construction and initialization of the `Cipher` and the decryption itself. You could also catch the exceptions `BadPaddingException` and `IllegalBlockSizeException` before handling the [`GeneralSecurityException`][6]. Starting with Java 7 you may use multi-catch statements as well (e.g. `catch(final BadPaddingException | IllegalBlockSizeException e)`).\r\n\r\n---\r\n\r\nFinally some notes:\r\n\r\n - [`BadPaddingException`][8] and [`IllegalBlockSizeException`][9] may be thrown by `Cipher` because the data was not completely received, but it may also be because of an attacker messing with the data;\r\n - [`BadPaddingException`][8] may also be thrown if the key is incorrect.\r\n - Beware that an exception may be thrown for AES key sizes 192 bit and 256 bit if the unlimited crypto files are not being installed (check the [Oracle JavaSE site][7] for more info); you should check if the key size is permitted when the application is started (this is mainly true for old / deprecated versions of Java). Newer versions of Java do not require these unlimited crypto files.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/security/GeneralSecurityException.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/javax/crypto/BadPaddingException.html\r\n  [4]: http://docs.oracle.com/javase/6/docs/api/javax/crypto/IllegalBlockSizeException.html\r\n  [5]: http://docs.oracle.com/javase/6/docs/api/javax/crypto/Cipher.html\r\n  [6]: http://docs.oracle.com/javase/6/docs/api/java/security/GeneralSecurityException.html\r\n  [7]: http://www.oracle.com/technetwork/java/javase/downloads/index.html\r\n  [8]: http://docs.oracle.com/javase/6/docs/api/javax/crypto/BadPaddingException.html\r\n  [9]: http://docs.oracle.com/javase/6/docs/api/javax/crypto/IllegalBlockSizeException.html","title":"Handling Java crypto exceptions","body":"<p>You indicated the following exceptions:</p>\n<pre><code>NoSuchPaddingException, NoSuchAlgorithmException\nInvalidAlgorithmParameterException, InvalidKeyException,\nBadPaddingException, IllegalBlockSizeException\n</code></pre>\n<p>Now all of these are <a href=\"http://docs.oracle.com/javase/6/docs/api/java/security/GeneralSecurityException.html\" rel=\"nofollow noreferrer\"><code>GeneralSecurityException</code></a>'s, so it would be easy to catch them all. But looking at the use case, you probably don't want to do that.</p>\n<hr />\n<p>If you look at the cause of the exceptions then you will find that any of these exceptions - except for the last two - are only thrown when generating an implementation of an algorithm or a key. I think it is reasonable that once you have tested your application that these values remain more or less static. Hence it would be logical to throw - for instance - an <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html\" rel=\"nofollow noreferrer\"><code>IllegalStateException</code></a>. <code>IllegalStateException</code> is a runtime exception which you are not required to throw (in the method signature) or catch. Of course, you should include the security exception as being the <em>cause</em> of the exception.</p>\n<hr />\n<p>Now the last two exceptions, <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/crypto/BadPaddingException.html\" rel=\"nofollow noreferrer\"><code>BadPaddingException</code></a> and <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/crypto/IllegalBlockSizeException.html\" rel=\"nofollow noreferrer\"><code>IllegalBlockSizeException</code></a> are different. They depend on the actual ciphertext, so they are dependent on the input of the algorithm. Now normally you should always verify the integrity of the input before you feed it into your <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/crypto/Cipher.html\" rel=\"nofollow noreferrer\"><code>Cipher</code></a> instance, initiated for decryption, for instance by first validating a HMAC checksum). So in that sense you could still get away with a runtime exception. If you don't perform a separate check for integrity then you should do should not convert to a <code>RuntimeException</code>. Instead you could either let the user handle the exception, or re-throw it as a use case specific exception.</p>\n<p>If you handle the <code>BadPaddingException</code> by (re-)throwing it then should understand about plaintext oracle attacks such as padding oracle attacks. For padding oracle attacks in CBC mode: if an adversary can try and let you decrypt ciphertext multiple times and receive an indication that decryption failed (or not) then they can <em>retrieve the plaintext of the message without breaking the cipher</em>. For this reason an authenticated mode such as GCM mode should be preferred in situations that can handle the 16 additional bytes for the authentication tag.</p>\n<hr />\n<p>It is probably best to use separate <code>try</code>/<code>catch</code> blocks for the construction and initialization of the <code>Cipher</code> and the decryption itself. You could also catch the exceptions <code>BadPaddingException</code> and <code>IllegalBlockSizeException</code> before handling the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/security/GeneralSecurityException.html\" rel=\"nofollow noreferrer\"><code>GeneralSecurityException</code></a>. Starting with Java 7 you may use multi-catch statements as well (e.g. <code>catch(final BadPaddingException | IllegalBlockSizeException e)</code>).</p>\n<hr />\n<p>Finally some notes:</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/api/javax/crypto/BadPaddingException.html\" rel=\"nofollow noreferrer\"><code>BadPaddingException</code></a> and <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/crypto/IllegalBlockSizeException.html\" rel=\"nofollow noreferrer\"><code>IllegalBlockSizeException</code></a> may be thrown by <code>Cipher</code> because the data was not completely received, but it may also be because of an attacker messing with the data;</li>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/api/javax/crypto/BadPaddingException.html\" rel=\"nofollow noreferrer\"><code>BadPaddingException</code></a> may also be thrown if the key is incorrect.</li>\n<li>Beware that an exception may be thrown for AES key sizes 192 bit and 256 bit if the unlimited crypto files are not being installed (check the <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">Oracle JavaSE site</a> for more info); you should check if the key size is permitted when the application is started (this is mainly true for old / deprecated versions of Java). Newer versions of Java do not require these unlimited crypto files.</li>\n</ul>\n"}],"owner":{"account_id":2306504,"reputation":303,"user_id":2025832,"display_name":"Matt Mils"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7307,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":15712409,"answer_count":3,"score":20,"last_activity_date":1657728167,"creation_date":1364582419,"question_id":15709421,"body_markdown":"This, pretty basic, piece of code is quite common when handling encryption / decryption in Java.\r\n\r\n    final Cipher cipher = Cipher.getInstance(&quot;AES/CBC/NoPadding&quot;);\r\n    cipher.init(Cipher.ENCRYPT_MODE, key, iv);\r\n    cipher.doFinal(*something*);\r\n\r\nThese three lines alone, potentially throw six exceptions and I&#39;m not sure what&#39;s the cleanest (in terms of code readability) way to handle them.\r\nA try with six catch clauses really looks like a smell to me.\r\n\r\nAre there micropatterns or best practices, I am obviously missing, when working with such objects?\r\n\r\n**EDIT**\r\n\r\nSorry, I think I didn&#39;t explain myself very well. My question is not really about avoiding a try\\catch clause, but if there is a common way to handle similar situations.\r\n\r\nThe cryptographic exceptions are\r\n\r\n    NoSuchPaddingException, NoSuchAlgorithmException\r\n    InvalidAlgorithmParameterException, InvalidKeyException,\r\n    BadPaddingException, IllegalBlockSizeException","title":"Handling Java crypto exceptions","body":"<p>This, pretty basic, piece of code is quite common when handling encryption / decryption in Java.</p>\n\n<pre><code>final Cipher cipher = Cipher.getInstance(\"AES/CBC/NoPadding\");\ncipher.init(Cipher.ENCRYPT_MODE, key, iv);\ncipher.doFinal(*something*);\n</code></pre>\n\n<p>These three lines alone, potentially throw six exceptions and I'm not sure what's the cleanest (in terms of code readability) way to handle them.\nA try with six catch clauses really looks like a smell to me.</p>\n\n<p>Are there micropatterns or best practices, I am obviously missing, when working with such objects?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Sorry, I think I didn't explain myself very well. My question is not really about avoiding a try\\catch clause, but if there is a common way to handle similar situations.</p>\n\n<p>The cryptographic exceptions are</p>\n\n<pre><code>NoSuchPaddingException, NoSuchAlgorithmException\nInvalidAlgorithmParameterException, InvalidKeyException,\nBadPaddingException, IllegalBlockSizeException\n</code></pre>\n"},{"tags":["java","tomcat","catalina.out"],"answers":[{"tags":[],"owner":{"account_id":351709,"reputation":10880,"user_id":688355,"accept_rate":87,"display_name":"Bob Kuhar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1325237119,"creation_date":1325237119,"answer_id":8677995,"question_id":8677008,"body_markdown":"This is probably no big deal (just kill -9 or something) and easy enough to fix.  Just figure out which webapp in running on a context of /LoggingMonitor then grep its codebase for...\r\n\r\n    new Timer();\r\n\r\n\r\n...and replace them all with...\r\n\r\n    new Timer( true );\r\n\r\njava.util.Timer by default does not run in daemon threads.  You need any Timers in your webapps to run on daemon threads (otherwise the container is unable to shutdown properly as it is waiting for the Timer thread to end, which it never does).  Find all the &quot;new Timer()&quot; calls and replace them with &quot;new Timer( true )&quot; and the logging complaint should stop.\r\n\r\nSpend some time in the JavaDocs learn something about daemon vs non daemon Threads:  http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Timer.html\r\n\r\nWhen I&#39;m working in webapps, I always use daemon threads if I end up doing any of my own multithreading.  With the facilities in java.util.concurrent, this is becoming very rare (having to do my own Threading stuff).\r\n\r\nFinally, and for the record, I hate java.util.Timer and always recommend using something like ScheduledExecutor to do periodic, repetitive tasks.  Its too easy to screw up in Timer and take out the Tread it executes on, daemon or otherwise.","title":"Catalina.out Memory leak error ","body":"<p>This is probably no big deal (just kill -9 or something) and easy enough to fix.  Just figure out which webapp in running on a context of /LoggingMonitor then grep its codebase for...</p>\n\n<pre><code>new Timer();\n</code></pre>\n\n<p>...and replace them all with...</p>\n\n<pre><code>new Timer( true );\n</code></pre>\n\n<p>java.util.Timer by default does not run in daemon threads.  You need any Timers in your webapps to run on daemon threads (otherwise the container is unable to shutdown properly as it is waiting for the Timer thread to end, which it never does).  Find all the \"new Timer()\" calls and replace them with \"new Timer( true )\" and the logging complaint should stop.</p>\n\n<p>Spend some time in the JavaDocs learn something about daemon vs non daemon Threads:  <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Timer.html\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/api/java/util/Timer.html</a></p>\n\n<p>When I'm working in webapps, I always use daemon threads if I end up doing any of my own multithreading.  With the facilities in java.util.concurrent, this is becoming very rare (having to do my own Threading stuff).</p>\n\n<p>Finally, and for the record, I hate java.util.Timer and always recommend using something like ScheduledExecutor to do periodic, repetitive tasks.  Its too easy to screw up in Timer and take out the Tread it executes on, daemon or otherwise.</p>\n"},{"tags":[],"owner":{"account_id":350117,"reputation":8653,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657728125,"creation_date":1398673662,"answer_id":23336094,"question_id":8677008,"body_markdown":"That message is not a big deal *if* you always stop Tomcat when you undeploy/redeploy your app otherwise these operations cause a memory leak that *is* a big deal, expecially in production.\r\n\r\nThreads named &quot;Timer-#&quot; are created by java.util.Timer (and maybe by other classes) as suggested by [Bob Kuhar][1] but grepping your own codebase could be not enough and ensuring that you use daemon threads doesn&#39;t eliminate that message (the comment by Tom Hawtin is correct).\r\n\r\nWhen I got that message it was produced by a transitive dependency of my code, precisely by class `GenericObjectPool` of Apache Commons Pool v1.3 that uses a *daemon* thread (see [source code][2]).  To find the class that instantiates the Timer I had to put a breakpoint in each Timer class&#39; constructor and then I examined the call stack.  To solve the issue I had to upgrade the library (newer versions of Commons Pool don&#39;t use that Timer).\r\n\r\nWhen you have control over the code that instantiates the thread you can solve the issue by ensuring that you stop the thread when the application stops.  Using daemon threads is a good practice but is not enough because daemon threads die automatically only when you shutdown Tomcat but not when you undeploy the application.\r\n\r\nIn a more general case, when you have no idea about who created the nasty thread, check https://stackoverflow.com/questions/10556066/finding-source-of-thread-creation-in-a-java-application and https://stackoverflow.com/questions/1227275/detect-who-created-a-thread-w-eclipse.\r\n\r\n**UPDATE**\r\n\r\nA completely different approach is to use the very interesting [Leak Prevention Listener][3].  Also read the other posts about classloader leaks by that author.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8677995/685806\r\n  [2]: https://github.com/apache/commons-pool/blob/POOL_1_3/src/java/org/apache/commons/pool/impl/GenericObjectPool.java#L268\r\n  [3]: http://java.jiderhamn.se/2012/03/04/classloader-leaks-vi-this-means-war-leak-prevention-library/","title":"Catalina.out Memory leak error ","body":"<p>That message is not a big deal <em>if</em> you always stop Tomcat when you undeploy/redeploy your app otherwise these operations cause a memory leak that <em>is</em> a big deal, expecially in production.</p>\n<p>Threads named &quot;Timer-#&quot; are created by java.util.Timer (and maybe by other classes) as suggested by <a href=\"https://stackoverflow.com/a/8677995/685806\">Bob Kuhar</a> but grepping your own codebase could be not enough and ensuring that you use daemon threads doesn't eliminate that message (the comment by Tom Hawtin is correct).</p>\n<p>When I got that message it was produced by a transitive dependency of my code, precisely by class <code>GenericObjectPool</code> of Apache Commons Pool v1.3 that uses a <em>daemon</em> thread (see <a href=\"https://github.com/apache/commons-pool/blob/POOL_1_3/src/java/org/apache/commons/pool/impl/GenericObjectPool.java#L268\" rel=\"nofollow noreferrer\">source code</a>).  To find the class that instantiates the Timer I had to put a breakpoint in each Timer class' constructor and then I examined the call stack.  To solve the issue I had to upgrade the library (newer versions of Commons Pool don't use that Timer).</p>\n<p>When you have control over the code that instantiates the thread you can solve the issue by ensuring that you stop the thread when the application stops.  Using daemon threads is a good practice but is not enough because daemon threads die automatically only when you shutdown Tomcat but not when you undeploy the application.</p>\n<p>In a more general case, when you have no idea about who created the nasty thread, check <a href=\"https://stackoverflow.com/questions/10556066/finding-source-of-thread-creation-in-a-java-application\">Finding Source of Thread Creation in a Java application</a> and <a href=\"https://stackoverflow.com/questions/1227275/detect-who-created-a-thread-w-eclipse\">Detect Who Created a Thread (w. Eclipse)</a>.</p>\n<p><strong>UPDATE</strong></p>\n<p>A completely different approach is to use the very interesting <a href=\"http://java.jiderhamn.se/2012/03/04/classloader-leaks-vi-this-means-war-leak-prevention-library/\" rel=\"nofollow noreferrer\">Leak Prevention Listener</a>.  Also read the other posts about classloader leaks by that author.</p>\n"}],"owner":{"account_id":910482,"reputation":8680,"user_id":944457,"accept_rate":76,"display_name":"Rookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12304,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8677995,"answer_count":2,"score":4,"last_activity_date":1657728125,"creation_date":1325228302,"question_id":8677008,"body_markdown":"I still see this error in `tomcat/logs/catalina.out`.\r\n\r\n    Dec 29, 2011 4:04:36 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\r\n    SEVERE: The web application [/LoggingMonitor] appears to have started a thread named [Timer-1] but has failed to stop it. This is very likely to create a memory leak.\r\n    Dec 29, 2011 4:04:36 PM org.apache.coyote.http11.Http11Protocol destroy\r\n    INFO: Stopping Coyote HTTP/1.1 on http-8180\r\n\r\nIs it worth considering and if it is, how can I correct this?","title":"Catalina.out Memory leak error ","body":"<p>I still see this error in <code>tomcat/logs/catalina.out</code>.</p>\n\n<pre><code>Dec 29, 2011 4:04:36 PM org.apache.catalina.loader.WebappClassLoader clearReferencesThreads\nSEVERE: The web application [/LoggingMonitor] appears to have started a thread named [Timer-1] but has failed to stop it. This is very likely to create a memory leak.\nDec 29, 2011 4:04:36 PM org.apache.coyote.http11.Http11Protocol destroy\nINFO: Stopping Coyote HTTP/1.1 on http-8180\n</code></pre>\n\n<p>Is it worth considering and if it is, how can I correct this?</p>\n"},{"tags":["java","hibernate","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":12528527,"reputation":213,"user_id":9117507,"display_name":"NightLight"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657727380,"creation_date":1657727380,"answer_id":72969148,"question_id":72957291,"body_markdown":"I solved it. The direct query given below worked. But we need to add `@JsonIgnore` to the getters and setters of the parent(upper level) references in the child classes so as to not go in a recursive loop.\r\n\r\n    var query =\r\n            em.createQuery(\r\n                &quot;select parent from Parent parent left join fetch parent.children &quot;\r\n                    + &quot;as children   where  parent.name=:name&quot;,\r\n                Parent.class);\r\n\r\nHope it helps.","title":"Fetching child, grandchild using a parent attribute in hibernate","body":"<p>I solved it. The direct query given below worked. But we need to add <code>@JsonIgnore</code> to the getters and setters of the parent(upper level) references in the child classes so as to not go in a recursive loop.</p>\n<pre><code>var query =\n        em.createQuery(\n            &quot;select parent from Parent parent left join fetch parent.children &quot;\n                + &quot;as children   where  parent.name=:name&quot;,\n            Parent.class);\n</code></pre>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":12528527,"reputation":213,"user_id":9117507,"display_name":"NightLight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72969148,"answer_count":1,"score":0,"last_activity_date":1657727380,"creation_date":1657653099,"question_id":72957291,"body_markdown":"I have a hibernate query.\r\n\r\n    Parent -&gt; Child -&gt; GrandChild\r\n\r\nI have a `Parent` class which has a `one to many` relation to `Child` class and a `GrandChild` class which has one to many. I need to fetch all the corresponding child and grand child entities in an optimised way.\r\n\r\n      public class Parent  {\r\n    @OneToMany(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n      private List&lt;Child&gt; children = new ArrayList&lt;&gt;(); \r\n}\r\n\r\n    public class Child {\r\n     @ManyToOne(fetch = FetchType.LAZY)\r\n      private Parent parent;\r\n    \r\n      @OneToMany(\r\n          mappedBy = &quot;child&quot;,\r\n          cascade = {CascadeType.ALL},\r\n          orphanRemoval = true)\r\n      private List&lt;GrandChild&gt; grandChild = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public class GrandChild {\r\n      @ManyToOne\r\n      private Child child;\r\n       \r\n    }\r\n\r\nI already tried using join and then left join fetch but it doesn&#39;t work on all three levels. If the Grandchild has no values it works, otherwise not.\r\nI don&#39;t want to make fetch type eager as it will have performance impact.\r\n\r\n","title":"Fetching child, grandchild using a parent attribute in hibernate","body":"<p>I have a hibernate query.</p>\n<pre><code>Parent -&gt; Child -&gt; GrandChild\n</code></pre>\n<p>I have a <code>Parent</code> class which has a <code>one to many</code> relation to <code>Child</code> class and a <code>GrandChild</code> class which has one to many. I need to fetch all the corresponding child and grand child entities in an optimised way.</p>\n<pre><code>  public class Parent  {\n@OneToMany(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n  private List&lt;Child&gt; children = new ArrayList&lt;&gt;(); \n</code></pre>\n<p>}</p>\n<pre><code>public class Child {\n @ManyToOne(fetch = FetchType.LAZY)\n  private Parent parent;\n\n  @OneToMany(\n      mappedBy = &quot;child&quot;,\n      cascade = {CascadeType.ALL},\n      orphanRemoval = true)\n  private List&lt;GrandChild&gt; grandChild = new ArrayList&lt;&gt;();\n}\n\npublic class GrandChild {\n  @ManyToOne\n  private Child child;\n   \n}\n</code></pre>\n<p>I already tried using join and then left join fetch but it doesn't work on all three levels. If the Grandchild has no values it works, otherwise not.\nI don't want to make fetch type eager as it will have performance impact.</p>\n"},{"tags":["java","spring-boot","build.gradle","wsdl2java"],"owner":{"account_id":16221410,"reputation":303,"user_id":11712874,"display_name":"Shrutika Dorugade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657727378,"creation_date":1657727378,"question_id":72969146,"body_markdown":"I need to use wsdl2 plugin for gradle 7.0.2 and my JDK version is 8.0.332.9\r\n\r\nBelow is the lines of code in build.gradle I wrote but I am getting an error Failed to apply plugin no.nils.wsdl2java &gt; Configuration with name &#39;compile&#39; not found.\r\n\r\nCan anyone please help me with this?\r\n\r\n    buildscript {\r\n        ext {\r\n            springBootVersion = &#39;2.7.0&#39;\r\n            sys_user = System.env.SYS_USER\r\n            sys_pass = System.env.SYS_PASSWORD\r\n        }\r\n    \r\n        repositories {\r\n            maven {\r\n                // url\r\n            }\r\n        }\r\n    \r\n        dependencies {\r\n            classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n            classpath(&#39;org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:3.1.1&#39;)\r\n            classpath(&#39;org.jfrog.buildinfo:build-info-extractor-gradle:4.21.0&#39;)\r\n            classpath(&quot;org.openapitools:openapi-generator-gradle-plugin:5.1.1&quot;)\r\n            classpath(&quot;no.nils:wsdl2java:0.12&quot;)\r\n        }\r\n    }\r\n    \r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;org.sonarqube&#39;\r\n    apply plugin: &#39;jacoco&#39;\r\n    apply plugin: &#39;maven-publish&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    apply plugin: &#39;com.jfrog.artifactory&#39;\r\n    apply plugin: &#39;org.openapi.generator&#39;\r\n    apply plugin: &#39;no.nils.wsdl2java&#39;","title":"Need to use no.nils.wsdl2java for gradle 7.0.2 and JDK 8.0.332.9","body":"<p>I need to use wsdl2 plugin for gradle 7.0.2 and my JDK version is 8.0.332.9</p>\n<p>Below is the lines of code in build.gradle I wrote but I am getting an error Failed to apply plugin no.nils.wsdl2java &gt; Configuration with name 'compile' not found.</p>\n<p>Can anyone please help me with this?</p>\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '2.7.0'\n        sys_user = System.env.SYS_USER\n        sys_pass = System.env.SYS_PASSWORD\n    }\n\n    repositories {\n        maven {\n            // url\n        }\n    }\n\n    dependencies {\n        classpath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\n        classpath('org.sonarsource.scanner.gradle:sonarqube-gradle-plugin:3.1.1')\n        classpath('org.jfrog.buildinfo:build-info-extractor-gradle:4.21.0')\n        classpath(&quot;org.openapitools:openapi-generator-gradle-plugin:5.1.1&quot;)\n        classpath(&quot;no.nils:wsdl2java:0.12&quot;)\n    }\n}\n\napply plugin: 'java'\napply plugin: 'org.sonarqube'\napply plugin: 'jacoco'\napply plugin: 'maven-publish'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\napply plugin: 'com.jfrog.artifactory'\napply plugin: 'org.openapi.generator'\napply plugin: 'no.nils.wsdl2java'\n</code></pre>\n"},{"tags":["java","apache-kafka","integration-testing"],"comments":[{"owner":{"account_id":4032849,"reputation":6492,"user_id":3318335,"display_name":"Svend"},"score":1,"creation_date":1657707649,"post_id":72963845,"comment_id":128872715,"body_markdown":"I think than when `subscribe()` returns, your consumer is not yet listening, the hand-shake to squeeze it in the consumer group still needs to happen. When it does, every consumer in the group is notified of a _rebalance_, at which moment starting offsets are assigned to each. I guess what happens in your case is that this rebalance happens after you&#39;ve produced some records. Try to `subscribe(Pattern pattern,                    ConsumerRebalanceListener listener)` and from this one somehow notify your producer thread that it can start.","body":"I think than when <code>subscribe()</code> returns, your consumer is not yet listening, the hand-shake to squeeze it in the consumer group still needs to happen. When it does, every consumer in the group is notified of a <i>rebalance</i>, at which moment starting offsets are assigned to each. I guess what happens in your case is that this rebalance happens after you&#39;ve produced some records. Try to <code>subscribe(Pattern pattern,                    ConsumerRebalanceListener listener)</code> and from this one somehow notify your producer thread that it can start."},{"owner":{"account_id":4032849,"reputation":6492,"user_id":3318335,"display_name":"Svend"},"score":1,"creation_date":1657707741,"post_id":72963845,"comment_id":128872737,"body_markdown":"You can also use the java admin client to create one specific topic per test, in my experience it tends to make the tests more debuggable, and allows parallel execution if that&#39;s desired","body":"You can also use the java admin client to create one specific topic per test, in my experience it tends to make the tests more debuggable, and allows parallel execution if that&#39;s desired"}],"owner":{"account_id":148549,"reputation":869,"user_id":360411,"accept_rate":69,"display_name":"Chris Cooper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657727341,"creation_date":1657704132,"question_id":72963845,"body_markdown":"I&#39;m struggling to understand my Kafka consumer behaviours in some integration tests.\r\n\r\nI have a Spring boot service which uses a default, autowired `KafkaTemplate&lt;String, String&gt;` to produce messages to a topic. In my integration tests, I create a KafkaConsumer in each test:\r\n\r\n```\r\n        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(\r\n            Map.of( ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, KAFKA_CONTAINER.getBootstrapServers(),\r\n                ConsumerConfig.GROUP_ID_CONFIG, &quot;test-consumer-group-&quot; + UUID.randomUUID(),\r\n                ConsumerConfig.GROUP_INSTANCE_ID_CONFIG, UUID.randomUUID().toString() ),\r\n            new StringDeserializer(), new StringDeserializer() );\r\n        consumer.subscribe( topics );\r\n        return consumer;\r\n```\r\n\r\nwith the intent of having a test flow that looks something like:\r\n\r\n1. Create a new consumer for the topics we&#39;re testing\r\n2. Perform action under test which sends messages to some topics\r\n3. Poll the topics of interest and verify the messages are there\r\n4. Close consumer\r\n\r\nMy expectation was that since the default behaviour of a new consumer is to have `auto.offset.reset` set to `latest` I would only get messages sent after I create the consumer, which looks fine in this case. However my consumer never receives any messages! I have to set the consumer to `earliest` - but this is problematic since I don&#39;t want messages created by other tests interfering.\r\n\r\nThe messages don&#39;t have any kind of unique identifier on them, which makes consuming the entire topic each time a tricky proposition in terms of test verifications.\r\n\r\nI&#39;ve tried various permutations of auto committing, polling before running the test but after subscribing, manual syncs but nothing seems to work - how can manage my test lifecycle as described above (or is it not possible)?\r\n\r\nThe kafka instance is managed using TestContainers in case that&#39;s relevant.","title":"Kafka consumer in test only works with &quot;auto.offset.reset&quot;=&quot;earliest&quot;","body":"<p>I'm struggling to understand my Kafka consumer behaviours in some integration tests.</p>\n<p>I have a Spring boot service which uses a default, autowired <code>KafkaTemplate&lt;String, String&gt;</code> to produce messages to a topic. In my integration tests, I create a KafkaConsumer in each test:</p>\n<pre><code>        KafkaConsumer&lt;String, String&gt; consumer = new KafkaConsumer&lt;&gt;(\n            Map.of( ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, KAFKA_CONTAINER.getBootstrapServers(),\n                ConsumerConfig.GROUP_ID_CONFIG, &quot;test-consumer-group-&quot; + UUID.randomUUID(),\n                ConsumerConfig.GROUP_INSTANCE_ID_CONFIG, UUID.randomUUID().toString() ),\n            new StringDeserializer(), new StringDeserializer() );\n        consumer.subscribe( topics );\n        return consumer;\n</code></pre>\n<p>with the intent of having a test flow that looks something like:</p>\n<ol>\n<li>Create a new consumer for the topics we're testing</li>\n<li>Perform action under test which sends messages to some topics</li>\n<li>Poll the topics of interest and verify the messages are there</li>\n<li>Close consumer</li>\n</ol>\n<p>My expectation was that since the default behaviour of a new consumer is to have <code>auto.offset.reset</code> set to <code>latest</code> I would only get messages sent after I create the consumer, which looks fine in this case. However my consumer never receives any messages! I have to set the consumer to <code>earliest</code> - but this is problematic since I don't want messages created by other tests interfering.</p>\n<p>The messages don't have any kind of unique identifier on them, which makes consuming the entire topic each time a tricky proposition in terms of test verifications.</p>\n<p>I've tried various permutations of auto committing, polling before running the test but after subscribing, manual syncs but nothing seems to work - how can manage my test lifecycle as described above (or is it not possible)?</p>\n<p>The kafka instance is managed using TestContainers in case that's relevant.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8803,"page":1189,"page_size":100}
